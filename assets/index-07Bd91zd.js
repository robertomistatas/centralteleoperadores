var Mfe=Object.defineProperty;var Ffe=(e,t,r)=>t in e?Mfe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var hn=(e,t,r)=>Ffe(e,typeof t!="symbol"?t+"":t,r);function Bfe(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cG={exports:{}},xA={},uG={exports:{}},$r={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw=Symbol.for("react.element"),$fe=Symbol.for("react.portal"),Ufe=Symbol.for("react.fragment"),Vfe=Symbol.for("react.strict_mode"),zfe=Symbol.for("react.profiler"),Wfe=Symbol.for("react.provider"),Hfe=Symbol.for("react.context"),qfe=Symbol.for("react.forward_ref"),Gfe=Symbol.for("react.suspense"),Kfe=Symbol.for("react.memo"),Yfe=Symbol.for("react.lazy"),M8=Symbol.iterator;function Xfe(e){return e===null||typeof e!="object"?null:(e=M8&&e[M8]||e["@@iterator"],typeof e=="function"?e:null)}var fG={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dG=Object.assign,hG={};function o1(e,t,r){this.props=e,this.context=t,this.refs=hG,this.updater=r||fG}o1.prototype.isReactComponent={};o1.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};o1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pG(){}pG.prototype=o1.prototype;function PO(e,t,r){this.props=e,this.context=t,this.refs=hG,this.updater=r||fG}var IO=PO.prototype=new pG;IO.constructor=PO;dG(IO,o1.prototype);IO.isPureReactComponent=!0;var F8=Array.isArray,mG=Object.prototype.hasOwnProperty,OO={current:null},gG={key:!0,ref:!0,__self:!0,__source:!0};function vG(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)mG.call(t,n)&&!gG.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:xw,type:e,key:i,ref:s,props:a,_owner:OO.current}}function Qfe(e,t){return{$$typeof:xw,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function DO(e){return typeof e=="object"&&e!==null&&e.$$typeof===xw}function Jfe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var B8=/\/+/g;function gN(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jfe(""+e.key):t.toString(36)}function pS(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case xw:case $fe:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+gN(s,0):n,F8(a)?(r="",e!=null&&(r=e.replace(B8,"$&/")+"/"),pS(a,t,r,"",function(c){return c})):a!=null&&(DO(a)&&(a=Qfe(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(B8,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",F8(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+gN(i,o);s+=pS(i,t,r,l,a)}else if(l=Xfe(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+gN(i,o++),s+=pS(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Xb(e,t,r){if(e==null)return e;var n=[],a=0;return pS(e,n,"","",function(i){return t.call(r,i,a++)}),n}function Zfe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ao={current:null},mS={transition:null},ede={ReactCurrentDispatcher:Ao,ReactCurrentBatchConfig:mS,ReactCurrentOwner:OO};function yG(){throw Error("act(...) is not supported in production builds of React.")}$r.Children={map:Xb,forEach:function(e,t,r){Xb(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Xb(e,function(){t++}),t},toArray:function(e){return Xb(e,function(t){return t})||[]},only:function(e){if(!DO(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};$r.Component=o1;$r.Fragment=Ufe;$r.Profiler=zfe;$r.PureComponent=PO;$r.StrictMode=Vfe;$r.Suspense=Gfe;$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ede;$r.act=yG;$r.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=dG({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=OO.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)mG.call(t,l)&&!gG.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:xw,type:e.type,key:a,ref:i,props:n,_owner:s}};$r.createContext=function(e){return e={$$typeof:Hfe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Wfe,_context:e},e.Consumer=e};$r.createElement=vG;$r.createFactory=function(e){var t=vG.bind(null,e);return t.type=e,t};$r.createRef=function(){return{current:null}};$r.forwardRef=function(e){return{$$typeof:qfe,render:e}};$r.isValidElement=DO;$r.lazy=function(e){return{$$typeof:Yfe,_payload:{_status:-1,_result:e},_init:Zfe}};$r.memo=function(e,t){return{$$typeof:Kfe,type:e,compare:t===void 0?null:t}};$r.startTransition=function(e){var t=mS.transition;mS.transition={};try{e()}finally{mS.transition=t}};$r.unstable_act=yG;$r.useCallback=function(e,t){return Ao.current.useCallback(e,t)};$r.useContext=function(e){return Ao.current.useContext(e)};$r.useDebugValue=function(){};$r.useDeferredValue=function(e){return Ao.current.useDeferredValue(e)};$r.useEffect=function(e,t){return Ao.current.useEffect(e,t)};$r.useId=function(){return Ao.current.useId()};$r.useImperativeHandle=function(e,t,r){return Ao.current.useImperativeHandle(e,t,r)};$r.useInsertionEffect=function(e,t){return Ao.current.useInsertionEffect(e,t)};$r.useLayoutEffect=function(e,t){return Ao.current.useLayoutEffect(e,t)};$r.useMemo=function(e,t){return Ao.current.useMemo(e,t)};$r.useReducer=function(e,t,r){return Ao.current.useReducer(e,t,r)};$r.useRef=function(e){return Ao.current.useRef(e)};$r.useState=function(e){return Ao.current.useState(e)};$r.useSyncExternalStore=function(e,t,r){return Ao.current.useSyncExternalStore(e,t,r)};$r.useTransition=function(){return Ao.current.useTransition()};$r.version="18.3.1";uG.exports=$r;var j=uG.exports;const Pe=Xa(j),tde=Bfe({__proto__:null,default:Pe},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rde=j,nde=Symbol.for("react.element"),ade=Symbol.for("react.fragment"),ide=Object.prototype.hasOwnProperty,sde=rde.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ode={key:!0,ref:!0,__self:!0,__source:!0};function xG(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)ide.call(t,n)&&!ode.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:nde,type:e,key:i,ref:s,props:a,_owner:sde.current}}xA.Fragment=ade;xA.jsx=xG;xA.jsxs=xG;cG.exports=xA;var d=cG.exports,YC={},wG={exports:{}},Fl={},bG={exports:{}},_G={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(G,q){var be=G.length;G.push(q);e:for(;0<be;){var _e=be-1>>>1,R=G[_e];if(0<a(R,q))G[_e]=q,G[be]=R,be=_e;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var q=G[0],be=G.pop();if(be!==q){G[0]=be;e:for(var _e=0,R=G.length,U=R>>>1;_e<U;){var z=2*(_e+1)-1,W=G[z],Z=z+1,le=G[Z];if(0>a(W,be))Z<R&&0>a(le,W)?(G[_e]=le,G[Z]=be,_e=Z):(G[_e]=W,G[z]=be,_e=z);else if(Z<R&&0>a(le,be))G[_e]=le,G[Z]=be,_e=Z;else break e}}return q}function a(G,q){var be=G.sortIndex-q.sortIndex;return be!==0?be:G.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(G){for(var q=r(c);q!==null;){if(q.callback===null)n(c);else if(q.startTime<=G)n(c),q.sortIndex=q.expirationTime,t(l,q);else break;q=r(c)}}function E(G){if(g=!1,w(G),!m)if(r(l)!==null)m=!0,ee(I);else{var q=r(c);q!==null&&re(E,q.startTime-G)}}function I(G,q){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var be=h;try{for(w(q),f=r(l);f!==null&&(!(f.expirationTime>q)||G&&!T());){var _e=f.callback;if(typeof _e=="function"){f.callback=null,h=f.priorityLevel;var R=_e(f.expirationTime<=q);q=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(l)&&n(l),w(q)}else n(l);f=r(l)}if(f!==null)var U=!0;else{var z=r(c);z!==null&&re(E,z.startTime-q),U=!1}return U}finally{f=null,h=be,p=!1}}var P=!1,A=null,S=-1,k=5,O=-1;function T(){return!(e.unstable_now()-O<k)}function C(){if(A!==null){var G=e.unstable_now();O=G;var q=!0;try{q=A(!0,G)}finally{q?D():(P=!1,A=null)}}else P=!1}var D;if(typeof x=="function")D=function(){x(C)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Y=B.port2;B.port1.onmessage=C,D=function(){Y.postMessage(null)}}else D=function(){v(C,0)};function ee(G){A=G,P||(P=!0,D())}function re(G,q){S=v(function(){G(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,ee(I))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(G){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var be=h;h=q;try{return G()}finally{h=be}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var be=h;h=G;try{return q()}finally{h=be}},e.unstable_scheduleCallback=function(G,q,be){var _e=e.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?_e+be:_e):be=_e,G){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=be+R,G={id:u++,callback:q,priorityLevel:G,startTime:be,expirationTime:R,sortIndex:-1},be>_e?(G.sortIndex=be,t(c,G),r(l)===null&&G===r(c)&&(g?(y(S),S=-1):g=!0,re(E,be-_e))):(G.sortIndex=R,t(l,G),m||p||(m=!0,ee(I))),G},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(G){var q=h;return function(){var be=h;h=q;try{return G.apply(this,arguments)}finally{h=be}}}})(_G);bG.exports=_G;var lde=bG.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cde=j,Dl=lde;function ft(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SG=new Set,qx={};function Lm(e,t){Sv(e,t),Sv(e+"Capture",t)}function Sv(e,t){for(qx[e]=t,e=0;e<t.length;e++)SG.add(t[e])}var md=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),XC=Object.prototype.hasOwnProperty,ude=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$8={},U8={};function fde(e){return XC.call(U8,e)?!0:XC.call($8,e)?!1:ude.test(e)?U8[e]=!0:($8[e]=!0,!1)}function dde(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hde(e,t,r,n){if(t===null||typeof t>"u"||dde(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function To(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var _s={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_s[e]=new To(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_s[t]=new To(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_s[e]=new To(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_s[e]=new To(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_s[e]=new To(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_s[e]=new To(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_s[e]=new To(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_s[e]=new To(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_s[e]=new To(e,5,!1,e.toLowerCase(),null,!1,!1)});var jO=/[\-:]([a-z])/g;function RO(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(jO,RO);_s[t]=new To(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(jO,RO);_s[t]=new To(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(jO,RO);_s[t]=new To(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_s[e]=new To(e,1,!1,e.toLowerCase(),null,!1,!1)});_s.xlinkHref=new To("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_s[e]=new To(e,1,!1,e.toLowerCase(),null,!0,!0)});function LO(e,t,r,n){var a=_s.hasOwnProperty(t)?_s[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hde(t,r,a,n)&&(r=null),n||a===null?fde(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ld=cde.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qb=Symbol.for("react.element"),kg=Symbol.for("react.portal"),Ng=Symbol.for("react.fragment"),MO=Symbol.for("react.strict_mode"),QC=Symbol.for("react.profiler"),EG=Symbol.for("react.provider"),AG=Symbol.for("react.context"),FO=Symbol.for("react.forward_ref"),JC=Symbol.for("react.suspense"),ZC=Symbol.for("react.suspense_list"),BO=Symbol.for("react.memo"),Eh=Symbol.for("react.lazy"),TG=Symbol.for("react.offscreen"),V8=Symbol.iterator;function wy(e){return e===null||typeof e!="object"?null:(e=V8&&e[V8]||e["@@iterator"],typeof e=="function"?e:null)}var Oa=Object.assign,vN;function Hy(e){if(vN===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);vN=t&&t[1]||""}return`
`+vN+e}var yN=!1;function xN(e,t){if(!e||yN)return"";yN=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{yN=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hy(e):""}function pde(e){switch(e.tag){case 5:return Hy(e.type);case 16:return Hy("Lazy");case 13:return Hy("Suspense");case 19:return Hy("SuspenseList");case 0:case 2:case 15:return e=xN(e.type,!1),e;case 11:return e=xN(e.type.render,!1),e;case 1:return e=xN(e.type,!0),e;default:return""}}function e3(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ng:return"Fragment";case kg:return"Portal";case QC:return"Profiler";case MO:return"StrictMode";case JC:return"Suspense";case ZC:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case AG:return(e.displayName||"Context")+".Consumer";case EG:return(e._context.displayName||"Context")+".Provider";case FO:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case BO:return t=e.displayName||null,t!==null?t:e3(e.type)||"Memo";case Eh:t=e._payload,e=e._init;try{return e3(e(t))}catch{}}return null}function mde(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return e3(t);case 8:return t===MO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function o0(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kG(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gde(e){var t=kG(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jb(e){e._valueTracker||(e._valueTracker=gde(e))}function NG(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=kG(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ZS(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function t3(e,t){var r=t.checked;return Oa({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function z8(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=o0(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function CG(e,t){t=t.checked,t!=null&&LO(e,"checked",t,!1)}function r3(e,t){CG(e,t);var r=o0(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?n3(e,t.type,r):t.hasOwnProperty("defaultValue")&&n3(e,t.type,o0(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function W8(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function n3(e,t,r){(t!=="number"||ZS(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var qy=Array.isArray;function Qg(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+o0(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function a3(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ft(91));return Oa({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function H8(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ft(92));if(qy(r)){if(1<r.length)throw Error(ft(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:o0(r)}}function PG(e,t){var r=o0(t.value),n=o0(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function q8(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function IG(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i3(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?IG(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zb,OG=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zb=Zb||document.createElement("div"),Zb.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gx(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var lx={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vde=["Webkit","ms","Moz","O"];Object.keys(lx).forEach(function(e){vde.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lx[t]=lx[e]})});function DG(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||lx.hasOwnProperty(e)&&lx[e]?(""+t).trim():t+"px"}function jG(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=DG(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var yde=Oa({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function s3(e,t){if(t){if(yde[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ft(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ft(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ft(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ft(62))}}function o3(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var l3=null;function $O(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var c3=null,Jg=null,Zg=null;function G8(e){if(e=_w(e)){if(typeof c3!="function")throw Error(ft(280));var t=e.stateNode;t&&(t=EA(t),c3(e.stateNode,e.type,t))}}function RG(e){Jg?Zg?Zg.push(e):Zg=[e]:Jg=e}function LG(){if(Jg){var e=Jg,t=Zg;if(Zg=Jg=null,G8(e),t)for(e=0;e<t.length;e++)G8(t[e])}}function MG(e,t){return e(t)}function FG(){}var wN=!1;function BG(e,t,r){if(wN)return e(t,r);wN=!0;try{return MG(e,t,r)}finally{wN=!1,(Jg!==null||Zg!==null)&&(FG(),LG())}}function Kx(e,t){var r=e.stateNode;if(r===null)return null;var n=EA(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ft(231,t,typeof r));return r}var u3=!1;if(md)try{var by={};Object.defineProperty(by,"passive",{get:function(){u3=!0}}),window.addEventListener("test",by,by),window.removeEventListener("test",by,by)}catch{u3=!1}function xde(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var cx=!1,eE=null,tE=!1,f3=null,wde={onError:function(e){cx=!0,eE=e}};function bde(e,t,r,n,a,i,s,o,l){cx=!1,eE=null,xde.apply(wde,arguments)}function _de(e,t,r,n,a,i,s,o,l){if(bde.apply(this,arguments),cx){if(cx){var c=eE;cx=!1,eE=null}else throw Error(ft(198));tE||(tE=!0,f3=c)}}function Mm(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $G(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function K8(e){if(Mm(e)!==e)throw Error(ft(188))}function Sde(e){var t=e.alternate;if(!t){if(t=Mm(e),t===null)throw Error(ft(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return K8(a),e;if(i===n)return K8(a),t;i=i.sibling}throw Error(ft(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(ft(189))}}if(r.alternate!==n)throw Error(ft(190))}if(r.tag!==3)throw Error(ft(188));return r.stateNode.current===r?e:t}function UG(e){return e=Sde(e),e!==null?VG(e):null}function VG(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=VG(e);if(t!==null)return t;e=e.sibling}return null}var zG=Dl.unstable_scheduleCallback,Y8=Dl.unstable_cancelCallback,Ede=Dl.unstable_shouldYield,Ade=Dl.unstable_requestPaint,si=Dl.unstable_now,Tde=Dl.unstable_getCurrentPriorityLevel,UO=Dl.unstable_ImmediatePriority,WG=Dl.unstable_UserBlockingPriority,rE=Dl.unstable_NormalPriority,kde=Dl.unstable_LowPriority,HG=Dl.unstable_IdlePriority,wA=null,Yu=null;function Nde(e){if(Yu&&typeof Yu.onCommitFiberRoot=="function")try{Yu.onCommitFiberRoot(wA,e,void 0,(e.current.flags&128)===128)}catch{}}var iu=Math.clz32?Math.clz32:Ide,Cde=Math.log,Pde=Math.LN2;function Ide(e){return e>>>=0,e===0?32:31-(Cde(e)/Pde|0)|0}var e_=64,t_=4194304;function Gy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function nE(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=Gy(o):(i&=s,i!==0&&(n=Gy(i)))}else s=r&~a,s!==0?n=Gy(s):i!==0&&(n=Gy(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-iu(t),a=1<<r,n|=e[r],t&=~a;return n}function Ode(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dde(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-iu(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=Ode(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function d3(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function qG(){var e=e_;return e_<<=1,!(e_&4194240)&&(e_=64),e}function bN(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ww(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-iu(t),e[t]=r}function jde(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-iu(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function VO(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-iu(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Pn=0;function GG(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var KG,zO,YG,XG,QG,h3=!1,r_=[],zh=null,Wh=null,Hh=null,Yx=new Map,Xx=new Map,Ch=[],Rde="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X8(e,t){switch(e){case"focusin":case"focusout":zh=null;break;case"dragenter":case"dragleave":Wh=null;break;case"mouseover":case"mouseout":Hh=null;break;case"pointerover":case"pointerout":Yx.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xx.delete(t.pointerId)}}function _y(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=_w(t),t!==null&&zO(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Lde(e,t,r,n,a){switch(t){case"focusin":return zh=_y(zh,e,t,r,n,a),!0;case"dragenter":return Wh=_y(Wh,e,t,r,n,a),!0;case"mouseover":return Hh=_y(Hh,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Yx.set(i,_y(Yx.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Xx.set(i,_y(Xx.get(i)||null,e,t,r,n,a)),!0}return!1}function JG(e){var t=Ep(e.target);if(t!==null){var r=Mm(t);if(r!==null){if(t=r.tag,t===13){if(t=$G(r),t!==null){e.blockedOn=t,QG(e.priority,function(){YG(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gS(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=p3(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);l3=n,r.target.dispatchEvent(n),l3=null}else return t=_w(r),t!==null&&zO(t),e.blockedOn=r,!1;t.shift()}return!0}function Q8(e,t,r){gS(e)&&r.delete(t)}function Mde(){h3=!1,zh!==null&&gS(zh)&&(zh=null),Wh!==null&&gS(Wh)&&(Wh=null),Hh!==null&&gS(Hh)&&(Hh=null),Yx.forEach(Q8),Xx.forEach(Q8)}function Sy(e,t){e.blockedOn===t&&(e.blockedOn=null,h3||(h3=!0,Dl.unstable_scheduleCallback(Dl.unstable_NormalPriority,Mde)))}function Qx(e){function t(a){return Sy(a,e)}if(0<r_.length){Sy(r_[0],e);for(var r=1;r<r_.length;r++){var n=r_[r];n.blockedOn===e&&(n.blockedOn=null)}}for(zh!==null&&Sy(zh,e),Wh!==null&&Sy(Wh,e),Hh!==null&&Sy(Hh,e),Yx.forEach(t),Xx.forEach(t),r=0;r<Ch.length;r++)n=Ch[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ch.length&&(r=Ch[0],r.blockedOn===null);)JG(r),r.blockedOn===null&&Ch.shift()}var ev=Ld.ReactCurrentBatchConfig,aE=!0;function Fde(e,t,r,n){var a=Pn,i=ev.transition;ev.transition=null;try{Pn=1,WO(e,t,r,n)}finally{Pn=a,ev.transition=i}}function Bde(e,t,r,n){var a=Pn,i=ev.transition;ev.transition=null;try{Pn=4,WO(e,t,r,n)}finally{Pn=a,ev.transition=i}}function WO(e,t,r,n){if(aE){var a=p3(e,t,r,n);if(a===null)IN(e,t,n,iE,r),X8(e,n);else if(Lde(a,e,t,r,n))n.stopPropagation();else if(X8(e,n),t&4&&-1<Rde.indexOf(e)){for(;a!==null;){var i=_w(a);if(i!==null&&KG(i),i=p3(e,t,r,n),i===null&&IN(e,t,n,iE,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else IN(e,t,n,null,r)}}var iE=null;function p3(e,t,r,n){if(iE=null,e=$O(n),e=Ep(e),e!==null)if(t=Mm(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$G(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return iE=e,null}function ZG(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tde()){case UO:return 1;case WG:return 4;case rE:case kde:return 16;case HG:return 536870912;default:return 16}default:return 16}}var Lh=null,HO=null,vS=null;function eK(){if(vS)return vS;var e,t=HO,r=t.length,n,a="value"in Lh?Lh.value:Lh.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return vS=a.slice(e,1<n?1-n:void 0)}function yS(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function n_(){return!0}function J8(){return!1}function Bl(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?n_:J8,this.isPropagationStopped=J8,this}return Oa(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=n_)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=n_)},persist:function(){},isPersistent:n_}),t}var l1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qO=Bl(l1),bw=Oa({},l1,{view:0,detail:0}),$de=Bl(bw),_N,SN,Ey,bA=Oa({},bw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:GO,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ey&&(Ey&&e.type==="mousemove"?(_N=e.screenX-Ey.screenX,SN=e.screenY-Ey.screenY):SN=_N=0,Ey=e),_N)},movementY:function(e){return"movementY"in e?e.movementY:SN}}),Z8=Bl(bA),Ude=Oa({},bA,{dataTransfer:0}),Vde=Bl(Ude),zde=Oa({},bw,{relatedTarget:0}),EN=Bl(zde),Wde=Oa({},l1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hde=Bl(Wde),qde=Oa({},l1,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gde=Bl(qde),Kde=Oa({},l1,{data:0}),eF=Bl(Kde),Yde={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xde={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qde={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jde(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qde[e])?!!t[e]:!1}function GO(){return Jde}var Zde=Oa({},bw,{key:function(e){if(e.key){var t=Yde[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yS(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xde[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:GO,charCode:function(e){return e.type==="keypress"?yS(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yS(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ehe=Bl(Zde),the=Oa({},bA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tF=Bl(the),rhe=Oa({},bw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:GO}),nhe=Bl(rhe),ahe=Oa({},l1,{propertyName:0,elapsedTime:0,pseudoElement:0}),ihe=Bl(ahe),she=Oa({},bA,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ohe=Bl(she),lhe=[9,13,27,32],KO=md&&"CompositionEvent"in window,ux=null;md&&"documentMode"in document&&(ux=document.documentMode);var che=md&&"TextEvent"in window&&!ux,tK=md&&(!KO||ux&&8<ux&&11>=ux),rF=" ",nF=!1;function rK(e,t){switch(e){case"keyup":return lhe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nK(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cg=!1;function uhe(e,t){switch(e){case"compositionend":return nK(t);case"keypress":return t.which!==32?null:(nF=!0,rF);case"textInput":return e=t.data,e===rF&&nF?null:e;default:return null}}function fhe(e,t){if(Cg)return e==="compositionend"||!KO&&rK(e,t)?(e=eK(),vS=HO=Lh=null,Cg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tK&&t.locale!=="ko"?null:t.data;default:return null}}var dhe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aF(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!dhe[e.type]:t==="textarea"}function aK(e,t,r,n){RG(n),t=sE(t,"onChange"),0<t.length&&(r=new qO("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fx=null,Jx=null;function hhe(e){mK(e,0)}function _A(e){var t=Og(e);if(NG(t))return e}function phe(e,t){if(e==="change")return t}var iK=!1;if(md){var AN;if(md){var TN="oninput"in document;if(!TN){var iF=document.createElement("div");iF.setAttribute("oninput","return;"),TN=typeof iF.oninput=="function"}AN=TN}else AN=!1;iK=AN&&(!document.documentMode||9<document.documentMode)}function sF(){fx&&(fx.detachEvent("onpropertychange",sK),Jx=fx=null)}function sK(e){if(e.propertyName==="value"&&_A(Jx)){var t=[];aK(t,Jx,e,$O(e)),BG(hhe,t)}}function mhe(e,t,r){e==="focusin"?(sF(),fx=t,Jx=r,fx.attachEvent("onpropertychange",sK)):e==="focusout"&&sF()}function ghe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _A(Jx)}function vhe(e,t){if(e==="click")return _A(t)}function yhe(e,t){if(e==="input"||e==="change")return _A(t)}function xhe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var du=typeof Object.is=="function"?Object.is:xhe;function Zx(e,t){if(du(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!XC.call(t,a)||!du(e[a],t[a]))return!1}return!0}function oF(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lF(e,t){var r=oF(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=oF(r)}}function oK(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oK(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lK(){for(var e=window,t=ZS();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ZS(e.document)}return t}function YO(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function whe(e){var t=lK(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&oK(r.ownerDocument.documentElement,r)){if(n!==null&&YO(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=lF(r,i);var s=lF(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bhe=md&&"documentMode"in document&&11>=document.documentMode,Pg=null,m3=null,dx=null,g3=!1;function cF(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;g3||Pg==null||Pg!==ZS(n)||(n=Pg,"selectionStart"in n&&YO(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dx&&Zx(dx,n)||(dx=n,n=sE(m3,"onSelect"),0<n.length&&(t=new qO("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Pg)))}function a_(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ig={animationend:a_("Animation","AnimationEnd"),animationiteration:a_("Animation","AnimationIteration"),animationstart:a_("Animation","AnimationStart"),transitionend:a_("Transition","TransitionEnd")},kN={},cK={};md&&(cK=document.createElement("div").style,"AnimationEvent"in window||(delete Ig.animationend.animation,delete Ig.animationiteration.animation,delete Ig.animationstart.animation),"TransitionEvent"in window||delete Ig.transitionend.transition);function SA(e){if(kN[e])return kN[e];if(!Ig[e])return e;var t=Ig[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in cK)return kN[e]=t[r];return e}var uK=SA("animationend"),fK=SA("animationiteration"),dK=SA("animationstart"),hK=SA("transitionend"),pK=new Map,uF="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function C0(e,t){pK.set(e,t),Lm(t,[e])}for(var NN=0;NN<uF.length;NN++){var CN=uF[NN],_he=CN.toLowerCase(),She=CN[0].toUpperCase()+CN.slice(1);C0(_he,"on"+She)}C0(uK,"onAnimationEnd");C0(fK,"onAnimationIteration");C0(dK,"onAnimationStart");C0("dblclick","onDoubleClick");C0("focusin","onFocus");C0("focusout","onBlur");C0(hK,"onTransitionEnd");Sv("onMouseEnter",["mouseout","mouseover"]);Sv("onMouseLeave",["mouseout","mouseover"]);Sv("onPointerEnter",["pointerout","pointerover"]);Sv("onPointerLeave",["pointerout","pointerover"]);Lm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Lm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Lm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Lm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Lm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Lm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ky="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ehe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ky));function fF(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_de(n,t,void 0,e),e.currentTarget=null}function mK(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;fF(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;fF(a,o,c),i=l}}}if(tE)throw e=f3,tE=!1,f3=null,e}function Zn(e,t){var r=t[b3];r===void 0&&(r=t[b3]=new Set);var n=e+"__bubble";r.has(n)||(gK(t,e,2,!1),r.add(n))}function PN(e,t,r){var n=0;t&&(n|=4),gK(r,e,n,t)}var i_="_reactListening"+Math.random().toString(36).slice(2);function e2(e){if(!e[i_]){e[i_]=!0,SG.forEach(function(r){r!=="selectionchange"&&(Ehe.has(r)||PN(r,!1,e),PN(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[i_]||(t[i_]=!0,PN("selectionchange",!1,t))}}function gK(e,t,r,n){switch(ZG(t)){case 1:var a=Fde;break;case 4:a=Bde;break;default:a=WO}r=a.bind(null,t,r,e),a=void 0,!u3||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function IN(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Ep(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}BG(function(){var c=i,u=$O(r),f=[];e:{var h=pK.get(e);if(h!==void 0){var p=qO,m=e;switch(e){case"keypress":if(yS(r)===0)break e;case"keydown":case"keyup":p=ehe;break;case"focusin":m="focus",p=EN;break;case"focusout":m="blur",p=EN;break;case"beforeblur":case"afterblur":p=EN;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Z8;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Vde;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=nhe;break;case uK:case fK:case dK:p=Hde;break;case hK:p=ihe;break;case"scroll":p=$de;break;case"wheel":p=ohe;break;case"copy":case"cut":case"paste":p=Gde;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=tF}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var x=c,w;x!==null;){w=x;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,y!==null&&(E=Kx(x,y),E!=null&&g.push(t2(x,E,w)))),v)break;x=x.return}0<g.length&&(h=new p(h,m,null,r,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==l3&&(m=r.relatedTarget||r.fromElement)&&(Ep(m)||m[gd]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Ep(m):null,m!==null&&(v=Mm(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=Z8,E="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=tF,E="onPointerLeave",y="onPointerEnter",x="pointer"),v=p==null?h:Og(p),w=m==null?h:Og(m),h=new g(E,x+"leave",p,r,u),h.target=v,h.relatedTarget=w,E=null,Ep(u)===c&&(g=new g(y,x+"enter",m,r,u),g.target=w,g.relatedTarget=v,E=g),v=E,p&&m)t:{for(g=p,y=m,x=0,w=g;w;w=og(w))x++;for(w=0,E=y;E;E=og(E))w++;for(;0<x-w;)g=og(g),x--;for(;0<w-x;)y=og(y),w--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=og(g),y=og(y)}g=null}else g=null;p!==null&&dF(f,h,p,g,!1),m!==null&&v!==null&&dF(f,v,m,g,!0)}}e:{if(h=c?Og(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var I=phe;else if(aF(h))if(iK)I=yhe;else{I=ghe;var P=mhe}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=vhe);if(I&&(I=I(e,c))){aK(f,I,r,u);break e}P&&P(e,h,c),e==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&n3(h,"number",h.value)}switch(P=c?Og(c):window,e){case"focusin":(aF(P)||P.contentEditable==="true")&&(Pg=P,m3=c,dx=null);break;case"focusout":dx=m3=Pg=null;break;case"mousedown":g3=!0;break;case"contextmenu":case"mouseup":case"dragend":g3=!1,cF(f,r,u);break;case"selectionchange":if(bhe)break;case"keydown":case"keyup":cF(f,r,u)}var A;if(KO)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Cg?rK(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(tK&&r.locale!=="ko"&&(Cg||S!=="onCompositionStart"?S==="onCompositionEnd"&&Cg&&(A=eK()):(Lh=u,HO="value"in Lh?Lh.value:Lh.textContent,Cg=!0)),P=sE(c,S),0<P.length&&(S=new eF(S,e,null,r,u),f.push({event:S,listeners:P}),A?S.data=A:(A=nK(r),A!==null&&(S.data=A)))),(A=che?uhe(e,r):fhe(e,r))&&(c=sE(c,"onBeforeInput"),0<c.length&&(u=new eF("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=A))}mK(f,t)})}function t2(e,t,r){return{instance:e,listener:t,currentTarget:r}}function sE(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Kx(e,r),i!=null&&n.unshift(t2(e,i,a)),i=Kx(e,t),i!=null&&n.push(t2(e,i,a))),e=e.return}return n}function og(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dF(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=Kx(r,i),l!=null&&s.unshift(t2(r,l,o))):a||(l=Kx(r,i),l!=null&&s.push(t2(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Ahe=/\r\n?/g,The=/\u0000|\uFFFD/g;function hF(e){return(typeof e=="string"?e:""+e).replace(Ahe,`
`).replace(The,"")}function s_(e,t,r){if(t=hF(t),hF(e)!==t&&r)throw Error(ft(425))}function oE(){}var v3=null,y3=null;function x3(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var w3=typeof setTimeout=="function"?setTimeout:void 0,khe=typeof clearTimeout=="function"?clearTimeout:void 0,pF=typeof Promise=="function"?Promise:void 0,Nhe=typeof queueMicrotask=="function"?queueMicrotask:typeof pF<"u"?function(e){return pF.resolve(null).then(e).catch(Che)}:w3;function Che(e){setTimeout(function(){throw e})}function ON(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Qx(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Qx(t)}function qh(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mF(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var c1=Math.random().toString(36).slice(2),Vu="__reactFiber$"+c1,r2="__reactProps$"+c1,gd="__reactContainer$"+c1,b3="__reactEvents$"+c1,Phe="__reactListeners$"+c1,Ihe="__reactHandles$"+c1;function Ep(e){var t=e[Vu];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gd]||r[Vu]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mF(e);e!==null;){if(r=e[Vu])return r;e=mF(e)}return t}e=r,r=e.parentNode}return null}function _w(e){return e=e[Vu]||e[gd],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Og(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ft(33))}function EA(e){return e[r2]||null}var _3=[],Dg=-1;function P0(e){return{current:e}}function sa(e){0>Dg||(e.current=_3[Dg],_3[Dg]=null,Dg--)}function Xn(e,t){Dg++,_3[Dg]=e.current,e.current=t}var l0={},Qs=P0(l0),zo=P0(!1),Qp=l0;function Ev(e,t){var r=e.type.contextTypes;if(!r)return l0;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Wo(e){return e=e.childContextTypes,e!=null}function lE(){sa(zo),sa(Qs)}function gF(e,t,r){if(Qs.current!==l0)throw Error(ft(168));Xn(Qs,t),Xn(zo,r)}function vK(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ft(108,mde(e)||"Unknown",a));return Oa({},r,n)}function cE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||l0,Qp=Qs.current,Xn(Qs,e),Xn(zo,zo.current),!0}function vF(e,t,r){var n=e.stateNode;if(!n)throw Error(ft(169));r?(e=vK(e,t,Qp),n.__reactInternalMemoizedMergedChildContext=e,sa(zo),sa(Qs),Xn(Qs,e)):sa(zo),Xn(zo,r)}var Vf=null,AA=!1,DN=!1;function yK(e){Vf===null?Vf=[e]:Vf.push(e)}function Ohe(e){AA=!0,yK(e)}function I0(){if(!DN&&Vf!==null){DN=!0;var e=0,t=Pn;try{var r=Vf;for(Pn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Vf=null,AA=!1}catch(a){throw Vf!==null&&(Vf=Vf.slice(e+1)),zG(UO,I0),a}finally{Pn=t,DN=!1}}return null}var jg=[],Rg=0,uE=null,fE=0,lc=[],cc=0,Jp=null,Gf=1,Kf="";function up(e,t){jg[Rg++]=fE,jg[Rg++]=uE,uE=e,fE=t}function xK(e,t,r){lc[cc++]=Gf,lc[cc++]=Kf,lc[cc++]=Jp,Jp=e;var n=Gf;e=Kf;var a=32-iu(n)-1;n&=~(1<<a),r+=1;var i=32-iu(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Gf=1<<32-iu(t)+a|r<<a|n,Kf=i+e}else Gf=1<<i|r<<a|n,Kf=e}function XO(e){e.return!==null&&(up(e,1),xK(e,1,0))}function QO(e){for(;e===uE;)uE=jg[--Rg],jg[Rg]=null,fE=jg[--Rg],jg[Rg]=null;for(;e===Jp;)Jp=lc[--cc],lc[cc]=null,Kf=lc[--cc],lc[cc]=null,Gf=lc[--cc],lc[cc]=null}var Pl=null,kl=null,va=!1,Qc=null;function wK(e,t){var r=mc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yF(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Pl=e,kl=qh(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Pl=e,kl=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Jp!==null?{id:Gf,overflow:Kf}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=mc(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Pl=e,kl=null,!0):!1;default:return!1}}function S3(e){return(e.mode&1)!==0&&(e.flags&128)===0}function E3(e){if(va){var t=kl;if(t){var r=t;if(!yF(e,t)){if(S3(e))throw Error(ft(418));t=qh(r.nextSibling);var n=Pl;t&&yF(e,t)?wK(n,r):(e.flags=e.flags&-4097|2,va=!1,Pl=e)}}else{if(S3(e))throw Error(ft(418));e.flags=e.flags&-4097|2,va=!1,Pl=e}}}function xF(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Pl=e}function o_(e){if(e!==Pl)return!1;if(!va)return xF(e),va=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!x3(e.type,e.memoizedProps)),t&&(t=kl)){if(S3(e))throw bK(),Error(ft(418));for(;t;)wK(e,t),t=qh(t.nextSibling)}if(xF(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ft(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){kl=qh(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}kl=null}}else kl=Pl?qh(e.stateNode.nextSibling):null;return!0}function bK(){for(var e=kl;e;)e=qh(e.nextSibling)}function Av(){kl=Pl=null,va=!1}function JO(e){Qc===null?Qc=[e]:Qc.push(e)}var Dhe=Ld.ReactCurrentBatchConfig;function Ay(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ft(309));var n=r.stateNode}if(!n)throw Error(ft(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(ft(284));if(!r._owner)throw Error(ft(290,e))}return e}function l_(e,t){throw e=Object.prototype.toString.call(t),Error(ft(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wF(e){var t=e._init;return t(e._payload)}function _K(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(y,x){return y=Xh(y,x),y.index=0,y.sibling=null,y}function i(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,x,w,E){return x===null||x.tag!==6?(x=$N(w,y.mode,E),x.return=y,x):(x=a(x,w),x.return=y,x)}function l(y,x,w,E){var I=w.type;return I===Ng?u(y,x,w.props.children,E,w.key):x!==null&&(x.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Eh&&wF(I)===x.type)?(E=a(x,w.props),E.ref=Ay(y,x,w),E.return=y,E):(E=AS(w.type,w.key,w.props,null,y.mode,E),E.ref=Ay(y,x,w),E.return=y,E)}function c(y,x,w,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=UN(w,y.mode,E),x.return=y,x):(x=a(x,w.children||[]),x.return=y,x)}function u(y,x,w,E,I){return x===null||x.tag!==7?(x=Mp(w,y.mode,E,I),x.return=y,x):(x=a(x,w),x.return=y,x)}function f(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=$N(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Qb:return w=AS(x.type,x.key,x.props,null,y.mode,w),w.ref=Ay(y,null,x),w.return=y,w;case kg:return x=UN(x,y.mode,w),x.return=y,x;case Eh:var E=x._init;return f(y,E(x._payload),w)}if(qy(x)||wy(x))return x=Mp(x,y.mode,w,null),x.return=y,x;l_(y,x)}return null}function h(y,x,w,E){var I=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return I!==null?null:o(y,x,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qb:return w.key===I?l(y,x,w,E):null;case kg:return w.key===I?c(y,x,w,E):null;case Eh:return I=w._init,h(y,x,I(w._payload),E)}if(qy(w)||wy(w))return I!==null?null:u(y,x,w,E,null);l_(y,w)}return null}function p(y,x,w,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(w)||null,o(x,y,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qb:return y=y.get(E.key===null?w:E.key)||null,l(x,y,E,I);case kg:return y=y.get(E.key===null?w:E.key)||null,c(x,y,E,I);case Eh:var P=E._init;return p(y,x,w,P(E._payload),I)}if(qy(E)||wy(E))return y=y.get(w)||null,u(x,y,E,I,null);l_(x,E)}return null}function m(y,x,w,E){for(var I=null,P=null,A=x,S=x=0,k=null;A!==null&&S<w.length;S++){A.index>S?(k=A,A=null):k=A.sibling;var O=h(y,A,w[S],E);if(O===null){A===null&&(A=k);break}e&&A&&O.alternate===null&&t(y,A),x=i(O,x,S),P===null?I=O:P.sibling=O,P=O,A=k}if(S===w.length)return r(y,A),va&&up(y,S),I;if(A===null){for(;S<w.length;S++)A=f(y,w[S],E),A!==null&&(x=i(A,x,S),P===null?I=A:P.sibling=A,P=A);return va&&up(y,S),I}for(A=n(y,A);S<w.length;S++)k=p(A,y,S,w[S],E),k!==null&&(e&&k.alternate!==null&&A.delete(k.key===null?S:k.key),x=i(k,x,S),P===null?I=k:P.sibling=k,P=k);return e&&A.forEach(function(T){return t(y,T)}),va&&up(y,S),I}function g(y,x,w,E){var I=wy(w);if(typeof I!="function")throw Error(ft(150));if(w=I.call(w),w==null)throw Error(ft(151));for(var P=I=null,A=x,S=x=0,k=null,O=w.next();A!==null&&!O.done;S++,O=w.next()){A.index>S?(k=A,A=null):k=A.sibling;var T=h(y,A,O.value,E);if(T===null){A===null&&(A=k);break}e&&A&&T.alternate===null&&t(y,A),x=i(T,x,S),P===null?I=T:P.sibling=T,P=T,A=k}if(O.done)return r(y,A),va&&up(y,S),I;if(A===null){for(;!O.done;S++,O=w.next())O=f(y,O.value,E),O!==null&&(x=i(O,x,S),P===null?I=O:P.sibling=O,P=O);return va&&up(y,S),I}for(A=n(y,A);!O.done;S++,O=w.next())O=p(A,y,S,O.value,E),O!==null&&(e&&O.alternate!==null&&A.delete(O.key===null?S:O.key),x=i(O,x,S),P===null?I=O:P.sibling=O,P=O);return e&&A.forEach(function(C){return t(y,C)}),va&&up(y,S),I}function v(y,x,w,E){if(typeof w=="object"&&w!==null&&w.type===Ng&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Qb:e:{for(var I=w.key,P=x;P!==null;){if(P.key===I){if(I=w.type,I===Ng){if(P.tag===7){r(y,P.sibling),x=a(P,w.props.children),x.return=y,y=x;break e}}else if(P.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Eh&&wF(I)===P.type){r(y,P.sibling),x=a(P,w.props),x.ref=Ay(y,P,w),x.return=y,y=x;break e}r(y,P);break}else t(y,P);P=P.sibling}w.type===Ng?(x=Mp(w.props.children,y.mode,E,w.key),x.return=y,y=x):(E=AS(w.type,w.key,w.props,null,y.mode,E),E.ref=Ay(y,x,w),E.return=y,y=E)}return s(y);case kg:e:{for(P=w.key;x!==null;){if(x.key===P)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(y,x.sibling),x=a(x,w.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=UN(w,y.mode,E),x.return=y,y=x}return s(y);case Eh:return P=w._init,v(y,x,P(w._payload),E)}if(qy(w))return m(y,x,w,E);if(wy(w))return g(y,x,w,E);l_(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(y,x.sibling),x=a(x,w),x.return=y,y=x):(r(y,x),x=$N(w,y.mode,E),x.return=y,y=x),s(y)):r(y,x)}return v}var Tv=_K(!0),SK=_K(!1),dE=P0(null),hE=null,Lg=null,ZO=null;function e6(){ZO=Lg=hE=null}function t6(e){var t=dE.current;sa(dE),e._currentValue=t}function A3(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function tv(e,t){hE=e,ZO=Lg=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bo=!0),e.firstContext=null)}function wc(e){var t=e._currentValue;if(ZO!==e)if(e={context:e,memoizedValue:t,next:null},Lg===null){if(hE===null)throw Error(ft(308));Lg=e,hE.dependencies={lanes:0,firstContext:e}}else Lg=Lg.next=e;return t}var Ap=null;function r6(e){Ap===null?Ap=[e]:Ap.push(e)}function EK(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,r6(t)):(r.next=a.next,a.next=r),t.interleaved=r,vd(e,n)}function vd(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ah=!1;function n6(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AK(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function id(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gh(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,on&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,vd(e,r)}return a=n.interleaved,a===null?(t.next=t,r6(n)):(t.next=a.next,a.next=t),n.interleaved=t,vd(e,r)}function xS(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,VO(e,r)}}function bF(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function pE(e,t,r,n){var a=e.updateQueue;Ah=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,g=o;switch(h=t,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Oa({},f,h);break e;case 2:Ah=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);em|=s,e.lanes=s,e.memoizedState=f}}function _F(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ft(191,a));a.call(n)}}}var Sw={},Xu=P0(Sw),n2=P0(Sw),a2=P0(Sw);function Tp(e){if(e===Sw)throw Error(ft(174));return e}function a6(e,t){switch(Xn(a2,t),Xn(n2,e),Xn(Xu,Sw),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:i3(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=i3(t,e)}sa(Xu),Xn(Xu,t)}function kv(){sa(Xu),sa(n2),sa(a2)}function TK(e){Tp(a2.current);var t=Tp(Xu.current),r=i3(t,e.type);t!==r&&(Xn(n2,e),Xn(Xu,r))}function i6(e){n2.current===e&&(sa(Xu),sa(n2))}var Ta=P0(0);function mE(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jN=[];function s6(){for(var e=0;e<jN.length;e++)jN[e]._workInProgressVersionPrimary=null;jN.length=0}var wS=Ld.ReactCurrentDispatcher,RN=Ld.ReactCurrentBatchConfig,Zp=0,Ia=null,Di=null,Xi=null,gE=!1,hx=!1,i2=0,jhe=0;function Cs(){throw Error(ft(321))}function o6(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!du(e[r],t[r]))return!1;return!0}function l6(e,t,r,n,a,i){if(Zp=i,Ia=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wS.current=e===null||e.memoizedState===null?Fhe:Bhe,e=r(n,a),hx){i=0;do{if(hx=!1,i2=0,25<=i)throw Error(ft(301));i+=1,Xi=Di=null,t.updateQueue=null,wS.current=$he,e=r(n,a)}while(hx)}if(wS.current=vE,t=Di!==null&&Di.next!==null,Zp=0,Xi=Di=Ia=null,gE=!1,t)throw Error(ft(300));return e}function c6(){var e=i2!==0;return i2=0,e}function Bu(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xi===null?Ia.memoizedState=Xi=e:Xi=Xi.next=e,Xi}function bc(){if(Di===null){var e=Ia.alternate;e=e!==null?e.memoizedState:null}else e=Di.next;var t=Xi===null?Ia.memoizedState:Xi.next;if(t!==null)Xi=t,Di=e;else{if(e===null)throw Error(ft(310));Di=e,e={memoizedState:Di.memoizedState,baseState:Di.baseState,baseQueue:Di.baseQueue,queue:Di.queue,next:null},Xi===null?Ia.memoizedState=Xi=e:Xi=Xi.next=e}return Xi}function s2(e,t){return typeof t=="function"?t(e):t}function LN(e){var t=bc(),r=t.queue;if(r===null)throw Error(ft(311));r.lastRenderedReducer=e;var n=Di,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((Zp&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Ia.lanes|=u,em|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,du(n,t.memoizedState)||(Bo=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Ia.lanes|=i,em|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function MN(e){var t=bc(),r=t.queue;if(r===null)throw Error(ft(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);du(i,t.memoizedState)||(Bo=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function kK(){}function NK(e,t){var r=Ia,n=bc(),a=t(),i=!du(n.memoizedState,a);if(i&&(n.memoizedState=a,Bo=!0),n=n.queue,u6(IK.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Xi!==null&&Xi.memoizedState.tag&1){if(r.flags|=2048,o2(9,PK.bind(null,r,n,a,t),void 0,null),rs===null)throw Error(ft(349));Zp&30||CK(r,t,a)}return a}function CK(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ia.updateQueue,t===null?(t={lastEffect:null,stores:null},Ia.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function PK(e,t,r,n){t.value=r,t.getSnapshot=n,OK(t)&&DK(e)}function IK(e,t,r){return r(function(){OK(t)&&DK(e)})}function OK(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!du(e,r)}catch{return!0}}function DK(e){var t=vd(e,1);t!==null&&su(t,e,1,-1)}function SF(e){var t=Bu();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s2,lastRenderedState:e},t.queue=e,e=e.dispatch=Mhe.bind(null,Ia,e),[t.memoizedState,e]}function o2(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ia.updateQueue,t===null?(t={lastEffect:null,stores:null},Ia.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function jK(){return bc().memoizedState}function bS(e,t,r,n){var a=Bu();Ia.flags|=e,a.memoizedState=o2(1|t,r,void 0,n===void 0?null:n)}function TA(e,t,r,n){var a=bc();n=n===void 0?null:n;var i=void 0;if(Di!==null){var s=Di.memoizedState;if(i=s.destroy,n!==null&&o6(n,s.deps)){a.memoizedState=o2(t,r,i,n);return}}Ia.flags|=e,a.memoizedState=o2(1|t,r,i,n)}function EF(e,t){return bS(8390656,8,e,t)}function u6(e,t){return TA(2048,8,e,t)}function RK(e,t){return TA(4,2,e,t)}function LK(e,t){return TA(4,4,e,t)}function MK(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function FK(e,t,r){return r=r!=null?r.concat([e]):null,TA(4,4,MK.bind(null,t,e),r)}function f6(){}function BK(e,t){var r=bc();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&o6(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $K(e,t){var r=bc();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&o6(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function UK(e,t,r){return Zp&21?(du(r,t)||(r=qG(),Ia.lanes|=r,em|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bo=!0),e.memoizedState=r)}function Rhe(e,t){var r=Pn;Pn=r!==0&&4>r?r:4,e(!0);var n=RN.transition;RN.transition={};try{e(!1),t()}finally{Pn=r,RN.transition=n}}function VK(){return bc().memoizedState}function Lhe(e,t,r){var n=Yh(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zK(e))WK(t,r);else if(r=EK(e,t,r,n),r!==null){var a=_o();su(r,e,n,a),HK(r,t,n)}}function Mhe(e,t,r){var n=Yh(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zK(e))WK(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,du(o,s)){var l=t.interleaved;l===null?(a.next=a,r6(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=EK(e,t,a,n),r!==null&&(a=_o(),su(r,e,n,a),HK(r,t,n))}}function zK(e){var t=e.alternate;return e===Ia||t!==null&&t===Ia}function WK(e,t){hx=gE=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function HK(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,VO(e,r)}}var vE={readContext:wc,useCallback:Cs,useContext:Cs,useEffect:Cs,useImperativeHandle:Cs,useInsertionEffect:Cs,useLayoutEffect:Cs,useMemo:Cs,useReducer:Cs,useRef:Cs,useState:Cs,useDebugValue:Cs,useDeferredValue:Cs,useTransition:Cs,useMutableSource:Cs,useSyncExternalStore:Cs,useId:Cs,unstable_isNewReconciler:!1},Fhe={readContext:wc,useCallback:function(e,t){return Bu().memoizedState=[e,t===void 0?null:t],e},useContext:wc,useEffect:EF,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,bS(4194308,4,MK.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bS(4194308,4,e,t)},useInsertionEffect:function(e,t){return bS(4,2,e,t)},useMemo:function(e,t){var r=Bu();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Bu();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Lhe.bind(null,Ia,e),[n.memoizedState,e]},useRef:function(e){var t=Bu();return e={current:e},t.memoizedState=e},useState:SF,useDebugValue:f6,useDeferredValue:function(e){return Bu().memoizedState=e},useTransition:function(){var e=SF(!1),t=e[0];return e=Rhe.bind(null,e[1]),Bu().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ia,a=Bu();if(va){if(r===void 0)throw Error(ft(407));r=r()}else{if(r=t(),rs===null)throw Error(ft(349));Zp&30||CK(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,EF(IK.bind(null,n,i,e),[e]),n.flags|=2048,o2(9,PK.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Bu(),t=rs.identifierPrefix;if(va){var r=Kf,n=Gf;r=(n&~(1<<32-iu(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=i2++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jhe++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bhe={readContext:wc,useCallback:BK,useContext:wc,useEffect:u6,useImperativeHandle:FK,useInsertionEffect:RK,useLayoutEffect:LK,useMemo:$K,useReducer:LN,useRef:jK,useState:function(){return LN(s2)},useDebugValue:f6,useDeferredValue:function(e){var t=bc();return UK(t,Di.memoizedState,e)},useTransition:function(){var e=LN(s2)[0],t=bc().memoizedState;return[e,t]},useMutableSource:kK,useSyncExternalStore:NK,useId:VK,unstable_isNewReconciler:!1},$he={readContext:wc,useCallback:BK,useContext:wc,useEffect:u6,useImperativeHandle:FK,useInsertionEffect:RK,useLayoutEffect:LK,useMemo:$K,useReducer:MN,useRef:jK,useState:function(){return MN(s2)},useDebugValue:f6,useDeferredValue:function(e){var t=bc();return Di===null?t.memoizedState=e:UK(t,Di.memoizedState,e)},useTransition:function(){var e=MN(s2)[0],t=bc().memoizedState;return[e,t]},useMutableSource:kK,useSyncExternalStore:NK,useId:VK,unstable_isNewReconciler:!1};function Yc(e,t){if(e&&e.defaultProps){t=Oa({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function T3(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Oa({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var kA={isMounted:function(e){return(e=e._reactInternals)?Mm(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_o(),a=Yh(e),i=id(n,a);i.payload=t,r!=null&&(i.callback=r),t=Gh(e,i,a),t!==null&&(su(t,e,a,n),xS(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_o(),a=Yh(e),i=id(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Gh(e,i,a),t!==null&&(su(t,e,a,n),xS(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_o(),n=Yh(e),a=id(r,n);a.tag=2,t!=null&&(a.callback=t),t=Gh(e,a,n),t!==null&&(su(t,e,n,r),xS(t,e,n))}};function AF(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Zx(r,n)||!Zx(a,i):!0}function qK(e,t,r){var n=!1,a=l0,i=t.contextType;return typeof i=="object"&&i!==null?i=wc(i):(a=Wo(t)?Qp:Qs.current,n=t.contextTypes,i=(n=n!=null)?Ev(e,a):l0),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kA,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function TF(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&kA.enqueueReplaceState(t,t.state,null)}function k3(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},n6(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=wc(i):(i=Wo(t)?Qp:Qs.current,a.context=Ev(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(T3(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&kA.enqueueReplaceState(a,a.state,null),pE(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Nv(e,t){try{var r="",n=t;do r+=pde(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function FN(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function N3(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Uhe=typeof WeakMap=="function"?WeakMap:Map;function GK(e,t,r){r=id(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){xE||(xE=!0,F3=n),N3(e,t)},r}function KK(e,t,r){r=id(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){N3(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){N3(e,t),typeof n!="function"&&(Kh===null?Kh=new Set([this]):Kh.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function kF(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Uhe;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=t0e.bind(null,e,t,r),t.then(e,e))}function NF(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function CF(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=id(-1,1),t.tag=2,Gh(r,t,1))),r.lanes|=1),e)}var Vhe=Ld.ReactCurrentOwner,Bo=!1;function fo(e,t,r,n){t.child=e===null?SK(t,null,r,n):Tv(t,e.child,r,n)}function PF(e,t,r,n,a){r=r.render;var i=t.ref;return tv(t,a),n=l6(e,t,r,n,i,a),r=c6(),e!==null&&!Bo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yd(e,t,a)):(va&&r&&XO(t),t.flags|=1,fo(e,t,n,a),t.child)}function IF(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!x6(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,YK(e,t,i,n,a)):(e=AS(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Zx,r(s,n)&&e.ref===t.ref)return yd(e,t,a)}return t.flags|=1,e=Xh(i,n),e.ref=t.ref,e.return=t,t.child=e}function YK(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Zx(i,n)&&e.ref===t.ref)if(Bo=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Bo=!0);else return t.lanes=e.lanes,yd(e,t,a)}return C3(e,t,r,n,a)}function XK(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xn(Fg,vl),vl|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xn(Fg,vl),vl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Xn(Fg,vl),vl|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Xn(Fg,vl),vl|=n;return fo(e,t,a,r),t.child}function QK(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function C3(e,t,r,n,a){var i=Wo(r)?Qp:Qs.current;return i=Ev(t,i),tv(t,a),r=l6(e,t,r,n,i,a),n=c6(),e!==null&&!Bo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,yd(e,t,a)):(va&&n&&XO(t),t.flags|=1,fo(e,t,r,a),t.child)}function OF(e,t,r,n,a){if(Wo(r)){var i=!0;cE(t)}else i=!1;if(tv(t,a),t.stateNode===null)_S(e,t),qK(t,r,n),k3(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=wc(c):(c=Wo(r)?Qp:Qs.current,c=Ev(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&TF(t,s,n,c),Ah=!1;var h=t.memoizedState;s.state=h,pE(t,n,s,a),l=t.memoizedState,o!==n||h!==l||zo.current||Ah?(typeof u=="function"&&(T3(t,r,u,n),l=t.memoizedState),(o=Ah||AF(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,AK(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Yc(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=wc(l):(l=Wo(r)?Qp:Qs.current,l=Ev(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&TF(t,s,n,l),Ah=!1,h=t.memoizedState,s.state=h,pE(t,n,s,a);var m=t.memoizedState;o!==f||h!==m||zo.current||Ah?(typeof p=="function"&&(T3(t,r,p,n),m=t.memoizedState),(c=Ah||AF(t,r,c,n,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return P3(e,t,r,n,i,a)}function P3(e,t,r,n,a,i){QK(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&vF(t,r,!1),yd(e,t,i);n=t.stateNode,Vhe.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Tv(t,e.child,null,i),t.child=Tv(t,null,o,i)):fo(e,t,o,i),t.memoizedState=n.state,a&&vF(t,r,!0),t.child}function JK(e){var t=e.stateNode;t.pendingContext?gF(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gF(e,t.context,!1),a6(e,t.containerInfo)}function DF(e,t,r,n,a){return Av(),JO(a),t.flags|=256,fo(e,t,r,n),t.child}var I3={dehydrated:null,treeContext:null,retryLane:0};function O3(e){return{baseLanes:e,cachePool:null,transitions:null}}function ZK(e,t,r){var n=t.pendingProps,a=Ta.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Xn(Ta,a&1),e===null)return E3(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=PA(s,n,0,null),e=Mp(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=O3(r),t.memoizedState=I3,e):d6(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return zhe(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Xh(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=Xh(o,i):(i=Mp(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?O3(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=I3,n}return i=e.child,e=i.sibling,n=Xh(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function d6(e,t){return t=PA({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function c_(e,t,r,n){return n!==null&&JO(n),Tv(t,e.child,null,r),e=d6(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zhe(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=FN(Error(ft(422))),c_(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=PA({mode:"visible",children:n.children},a,0,null),i=Mp(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Tv(t,e.child,null,s),t.child.memoizedState=O3(s),t.memoizedState=I3,i);if(!(t.mode&1))return c_(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(ft(419)),n=FN(i,n,void 0),c_(e,t,s,n)}if(o=(s&e.childLanes)!==0,Bo||o){if(n=rs,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,vd(e,a),su(n,e,a,-1))}return y6(),n=FN(Error(ft(421))),c_(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=r0e.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,kl=qh(a.nextSibling),Pl=t,va=!0,Qc=null,e!==null&&(lc[cc++]=Gf,lc[cc++]=Kf,lc[cc++]=Jp,Gf=e.id,Kf=e.overflow,Jp=t),t=d6(t,n.children),t.flags|=4096,t)}function jF(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),A3(e.return,t,r)}function BN(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function eY(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(fo(e,t,n.children,r),n=Ta.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jF(e,r,t);else if(e.tag===19)jF(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Xn(Ta,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&mE(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),BN(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&mE(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}BN(t,!0,r,null,i);break;case"together":BN(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _S(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yd(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),em|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ft(153));if(t.child!==null){for(e=t.child,r=Xh(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xh(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Whe(e,t,r){switch(t.tag){case 3:JK(t),Av();break;case 5:TK(t);break;case 1:Wo(t.type)&&cE(t);break;case 4:a6(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Xn(dE,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Xn(Ta,Ta.current&1),t.flags|=128,null):r&t.child.childLanes?ZK(e,t,r):(Xn(Ta,Ta.current&1),e=yd(e,t,r),e!==null?e.sibling:null);Xn(Ta,Ta.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return eY(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Xn(Ta,Ta.current),n)break;return null;case 22:case 23:return t.lanes=0,XK(e,t,r)}return yd(e,t,r)}var tY,D3,rY,nY;tY=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};D3=function(){};rY=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Tp(Xu.current);var i=null;switch(r){case"input":a=t3(e,a),n=t3(e,n),i=[];break;case"select":a=Oa({},a,{value:void 0}),n=Oa({},n,{value:void 0}),i=[];break;case"textarea":a=a3(e,a),n=a3(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=oE)}s3(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qx.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qx.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Zn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};nY=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ty(e,t){if(!va)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ps(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Hhe(e,t,r){var n=t.pendingProps;switch(QO(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ps(t),null;case 1:return Wo(t.type)&&lE(),Ps(t),null;case 3:return n=t.stateNode,kv(),sa(zo),sa(Qs),s6(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(o_(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qc!==null&&(U3(Qc),Qc=null))),D3(e,t),Ps(t),null;case 5:i6(t);var a=Tp(a2.current);if(r=t.type,e!==null&&t.stateNode!=null)rY(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ft(166));return Ps(t),null}if(e=Tp(Xu.current),o_(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Vu]=t,n[r2]=i,e=(t.mode&1)!==0,r){case"dialog":Zn("cancel",n),Zn("close",n);break;case"iframe":case"object":case"embed":Zn("load",n);break;case"video":case"audio":for(a=0;a<Ky.length;a++)Zn(Ky[a],n);break;case"source":Zn("error",n);break;case"img":case"image":case"link":Zn("error",n),Zn("load",n);break;case"details":Zn("toggle",n);break;case"input":z8(n,i),Zn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Zn("invalid",n);break;case"textarea":H8(n,i),Zn("invalid",n)}s3(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&s_(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&s_(n.textContent,o,e),a=["children",""+o]):qx.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Zn("scroll",n)}switch(r){case"input":Jb(n),W8(n,i,!0);break;case"textarea":Jb(n),q8(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=oE)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=IG(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Vu]=t,e[r2]=n,tY(e,t,!1,!1),t.stateNode=e;e:{switch(s=o3(r,n),r){case"dialog":Zn("cancel",e),Zn("close",e),a=n;break;case"iframe":case"object":case"embed":Zn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ky.length;a++)Zn(Ky[a],e);a=n;break;case"source":Zn("error",e),a=n;break;case"img":case"image":case"link":Zn("error",e),Zn("load",e),a=n;break;case"details":Zn("toggle",e),a=n;break;case"input":z8(e,n),a=t3(e,n),Zn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Oa({},n,{value:void 0}),Zn("invalid",e);break;case"textarea":H8(e,n),a=a3(e,n),Zn("invalid",e);break;default:a=n}s3(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?jG(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&OG(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Gx(e,l):typeof l=="number"&&Gx(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qx.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Zn("scroll",e):l!=null&&LO(e,i,l,s))}switch(r){case"input":Jb(e),W8(e,n,!1);break;case"textarea":Jb(e),q8(e);break;case"option":n.value!=null&&e.setAttribute("value",""+o0(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Qg(e,!!n.multiple,i,!1):n.defaultValue!=null&&Qg(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=oE)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ps(t),null;case 6:if(e&&t.stateNode!=null)nY(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ft(166));if(r=Tp(a2.current),Tp(Xu.current),o_(t)){if(n=t.stateNode,r=t.memoizedProps,n[Vu]=t,(i=n.nodeValue!==r)&&(e=Pl,e!==null))switch(e.tag){case 3:s_(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&s_(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Vu]=t,t.stateNode=n}return Ps(t),null;case 13:if(sa(Ta),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(va&&kl!==null&&t.mode&1&&!(t.flags&128))bK(),Av(),t.flags|=98560,i=!1;else if(i=o_(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ft(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ft(317));i[Vu]=t}else Av(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ps(t),i=!1}else Qc!==null&&(U3(Qc),Qc=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ta.current&1?Mi===0&&(Mi=3):y6())),t.updateQueue!==null&&(t.flags|=4),Ps(t),null);case 4:return kv(),D3(e,t),e===null&&e2(t.stateNode.containerInfo),Ps(t),null;case 10:return t6(t.type._context),Ps(t),null;case 17:return Wo(t.type)&&lE(),Ps(t),null;case 19:if(sa(Ta),i=t.memoizedState,i===null)return Ps(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Ty(i,!1);else{if(Mi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=mE(e),s!==null){for(t.flags|=128,Ty(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xn(Ta,Ta.current&1|2),t.child}e=e.sibling}i.tail!==null&&si()>Cv&&(t.flags|=128,n=!0,Ty(i,!1),t.lanes=4194304)}else{if(!n)if(e=mE(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ty(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!va)return Ps(t),null}else 2*si()-i.renderingStartTime>Cv&&r!==1073741824&&(t.flags|=128,n=!0,Ty(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=si(),t.sibling=null,r=Ta.current,Xn(Ta,n?r&1|2:r&1),t):(Ps(t),null);case 22:case 23:return v6(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vl&1073741824&&(Ps(t),t.subtreeFlags&6&&(t.flags|=8192)):Ps(t),null;case 24:return null;case 25:return null}throw Error(ft(156,t.tag))}function qhe(e,t){switch(QO(t),t.tag){case 1:return Wo(t.type)&&lE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kv(),sa(zo),sa(Qs),s6(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return i6(t),null;case 13:if(sa(Ta),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ft(340));Av()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sa(Ta),null;case 4:return kv(),null;case 10:return t6(t.type._context),null;case 22:case 23:return v6(),null;case 24:return null;default:return null}}var u_=!1,Vs=!1,Ghe=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Mg(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Va(e,t,n)}else r.current=null}function j3(e,t,r){try{r()}catch(n){Va(e,t,n)}}var RF=!1;function Khe(e,t){if(v3=aE,e=lK(),YO(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(y3={focusedElem:e,selectionRange:r},aE=!1,Dt=t;Dt!==null;)if(t=Dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Dt=e;else for(;Dt!==null;){t=Dt;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Yc(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ft(163))}}catch(E){Va(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Dt=e;break}Dt=t.return}return m=RF,RF=!1,m}function px(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&j3(t,r,i)}a=a.next}while(a!==n)}}function NA(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function R3(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function aY(e){var t=e.alternate;t!==null&&(e.alternate=null,aY(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vu],delete t[r2],delete t[b3],delete t[Phe],delete t[Ihe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iY(e){return e.tag===5||e.tag===3||e.tag===4}function LF(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iY(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function L3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=oE));else if(n!==4&&(e=e.child,e!==null))for(L3(e,t,r),e=e.sibling;e!==null;)L3(e,t,r),e=e.sibling}function M3(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(M3(e,t,r),e=e.sibling;e!==null;)M3(e,t,r),e=e.sibling}var ps=null,Xc=!1;function mh(e,t,r){for(r=r.child;r!==null;)sY(e,t,r),r=r.sibling}function sY(e,t,r){if(Yu&&typeof Yu.onCommitFiberUnmount=="function")try{Yu.onCommitFiberUnmount(wA,r)}catch{}switch(r.tag){case 5:Vs||Mg(r,t);case 6:var n=ps,a=Xc;ps=null,mh(e,t,r),ps=n,Xc=a,ps!==null&&(Xc?(e=ps,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ps.removeChild(r.stateNode));break;case 18:ps!==null&&(Xc?(e=ps,r=r.stateNode,e.nodeType===8?ON(e.parentNode,r):e.nodeType===1&&ON(e,r),Qx(e)):ON(ps,r.stateNode));break;case 4:n=ps,a=Xc,ps=r.stateNode.containerInfo,Xc=!0,mh(e,t,r),ps=n,Xc=a;break;case 0:case 11:case 14:case 15:if(!Vs&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&j3(r,t,s),a=a.next}while(a!==n)}mh(e,t,r);break;case 1:if(!Vs&&(Mg(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Va(r,t,o)}mh(e,t,r);break;case 21:mh(e,t,r);break;case 22:r.mode&1?(Vs=(n=Vs)||r.memoizedState!==null,mh(e,t,r),Vs=n):mh(e,t,r);break;default:mh(e,t,r)}}function MF(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ghe),t.forEach(function(n){var a=n0e.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Wc(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:ps=o.stateNode,Xc=!1;break e;case 3:ps=o.stateNode.containerInfo,Xc=!0;break e;case 4:ps=o.stateNode.containerInfo,Xc=!0;break e}o=o.return}if(ps===null)throw Error(ft(160));sY(i,s,a),ps=null,Xc=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Va(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)oY(t,e),t=t.sibling}function oY(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Wc(t,e),Du(e),n&4){try{px(3,e,e.return),NA(3,e)}catch(g){Va(e,e.return,g)}try{px(5,e,e.return)}catch(g){Va(e,e.return,g)}}break;case 1:Wc(t,e),Du(e),n&512&&r!==null&&Mg(r,r.return);break;case 5:if(Wc(t,e),Du(e),n&512&&r!==null&&Mg(r,r.return),e.flags&32){var a=e.stateNode;try{Gx(a,"")}catch(g){Va(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&CG(a,i),o3(o,s);var c=o3(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?jG(a,f):u==="dangerouslySetInnerHTML"?OG(a,f):u==="children"?Gx(a,f):LO(a,u,f,c)}switch(o){case"input":r3(a,i);break;case"textarea":PG(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Qg(a,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Qg(a,!!i.multiple,i.defaultValue,!0):Qg(a,!!i.multiple,i.multiple?[]:"",!1))}a[r2]=i}catch(g){Va(e,e.return,g)}}break;case 6:if(Wc(t,e),Du(e),n&4){if(e.stateNode===null)throw Error(ft(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Va(e,e.return,g)}}break;case 3:if(Wc(t,e),Du(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Qx(t.containerInfo)}catch(g){Va(e,e.return,g)}break;case 4:Wc(t,e),Du(e);break;case 13:Wc(t,e),Du(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(m6=si())),n&4&&MF(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Vs=(c=Vs)||u,Wc(t,e),Vs=c):Wc(t,e),Du(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Dt=e,u=e.child;u!==null;){for(f=Dt=u;Dt!==null;){switch(h=Dt,p=h.child,h.tag){case 0:case 11:case 14:case 15:px(4,h,h.return);break;case 1:Mg(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Va(n,r,g)}}break;case 5:Mg(h,h.return);break;case 22:if(h.memoizedState!==null){BF(f);continue}}p!==null?(p.return=h,Dt=p):BF(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=DG("display",s))}catch(g){Va(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Va(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Wc(t,e),Du(e),n&4&&MF(e);break;case 21:break;default:Wc(t,e),Du(e)}}function Du(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(iY(r)){var n=r;break e}r=r.return}throw Error(ft(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Gx(a,""),n.flags&=-33);var i=LF(e);M3(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=LF(e);L3(e,o,s);break;default:throw Error(ft(161))}}catch(l){Va(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yhe(e,t,r){Dt=e,lY(e)}function lY(e,t,r){for(var n=(e.mode&1)!==0;Dt!==null;){var a=Dt,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||u_;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Vs;o=u_;var c=Vs;if(u_=s,(Vs=l)&&!c)for(Dt=a;Dt!==null;)s=Dt,l=s.child,s.tag===22&&s.memoizedState!==null?$F(a):l!==null?(l.return=s,Dt=l):$F(a);for(;i!==null;)Dt=i,lY(i),i=i.sibling;Dt=a,u_=o,Vs=c}FF(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Dt=i):FF(e)}}function FF(e){for(;Dt!==null;){var t=Dt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Vs||NA(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Vs)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Yc(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&_F(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}_F(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Qx(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ft(163))}Vs||t.flags&512&&R3(t)}catch(h){Va(t,t.return,h)}}if(t===e){Dt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Dt=r;break}Dt=t.return}}function BF(e){for(;Dt!==null;){var t=Dt;if(t===e){Dt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Dt=r;break}Dt=t.return}}function $F(e){for(;Dt!==null;){var t=Dt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{NA(4,t)}catch(l){Va(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Va(t,a,l)}}var i=t.return;try{R3(t)}catch(l){Va(t,i,l)}break;case 5:var s=t.return;try{R3(t)}catch(l){Va(t,s,l)}}}catch(l){Va(t,t.return,l)}if(t===e){Dt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Dt=o;break}Dt=t.return}}var Xhe=Math.ceil,yE=Ld.ReactCurrentDispatcher,h6=Ld.ReactCurrentOwner,vc=Ld.ReactCurrentBatchConfig,on=0,rs=null,bi=null,bs=0,vl=0,Fg=P0(0),Mi=0,l2=null,em=0,CA=0,p6=0,mx=null,Mo=null,m6=0,Cv=1/0,$f=null,xE=!1,F3=null,Kh=null,f_=!1,Mh=null,wE=0,gx=0,B3=null,SS=-1,ES=0;function _o(){return on&6?si():SS!==-1?SS:SS=si()}function Yh(e){return e.mode&1?on&2&&bs!==0?bs&-bs:Dhe.transition!==null?(ES===0&&(ES=qG()),ES):(e=Pn,e!==0||(e=window.event,e=e===void 0?16:ZG(e.type)),e):1}function su(e,t,r,n){if(50<gx)throw gx=0,B3=null,Error(ft(185));ww(e,r,n),(!(on&2)||e!==rs)&&(e===rs&&(!(on&2)&&(CA|=r),Mi===4&&Ph(e,bs)),Ho(e,n),r===1&&on===0&&!(t.mode&1)&&(Cv=si()+500,AA&&I0()))}function Ho(e,t){var r=e.callbackNode;Dde(e,t);var n=nE(e,e===rs?bs:0);if(n===0)r!==null&&Y8(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Y8(r),t===1)e.tag===0?Ohe(UF.bind(null,e)):yK(UF.bind(null,e)),Nhe(function(){!(on&6)&&I0()}),r=null;else{switch(GG(n)){case 1:r=UO;break;case 4:r=WG;break;case 16:r=rE;break;case 536870912:r=HG;break;default:r=rE}r=gY(r,cY.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function cY(e,t){if(SS=-1,ES=0,on&6)throw Error(ft(327));var r=e.callbackNode;if(rv()&&e.callbackNode!==r)return null;var n=nE(e,e===rs?bs:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bE(e,n);else{t=n;var a=on;on|=2;var i=fY();(rs!==e||bs!==t)&&($f=null,Cv=si()+500,Lp(e,t));do try{Zhe();break}catch(o){uY(e,o)}while(!0);e6(),yE.current=i,on=a,bi!==null?t=0:(rs=null,bs=0,t=Mi)}if(t!==0){if(t===2&&(a=d3(e),a!==0&&(n=a,t=$3(e,a))),t===1)throw r=l2,Lp(e,0),Ph(e,n),Ho(e,si()),r;if(t===6)Ph(e,n);else{if(a=e.current.alternate,!(n&30)&&!Qhe(a)&&(t=bE(e,n),t===2&&(i=d3(e),i!==0&&(n=i,t=$3(e,i))),t===1))throw r=l2,Lp(e,0),Ph(e,n),Ho(e,si()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ft(345));case 2:fp(e,Mo,$f);break;case 3:if(Ph(e,n),(n&130023424)===n&&(t=m6+500-si(),10<t)){if(nE(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){_o(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=w3(fp.bind(null,e,Mo,$f),t);break}fp(e,Mo,$f);break;case 4:if(Ph(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-iu(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=si()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Xhe(n/1960))-n,10<n){e.timeoutHandle=w3(fp.bind(null,e,Mo,$f),n);break}fp(e,Mo,$f);break;case 5:fp(e,Mo,$f);break;default:throw Error(ft(329))}}}return Ho(e,si()),e.callbackNode===r?cY.bind(null,e):null}function $3(e,t){var r=mx;return e.current.memoizedState.isDehydrated&&(Lp(e,t).flags|=256),e=bE(e,t),e!==2&&(t=Mo,Mo=r,t!==null&&U3(t)),e}function U3(e){Mo===null?Mo=e:Mo.push.apply(Mo,e)}function Qhe(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!du(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ph(e,t){for(t&=~p6,t&=~CA,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-iu(t),n=1<<r;e[r]=-1,t&=~n}}function UF(e){if(on&6)throw Error(ft(327));rv();var t=nE(e,0);if(!(t&1))return Ho(e,si()),null;var r=bE(e,t);if(e.tag!==0&&r===2){var n=d3(e);n!==0&&(t=n,r=$3(e,n))}if(r===1)throw r=l2,Lp(e,0),Ph(e,t),Ho(e,si()),r;if(r===6)throw Error(ft(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fp(e,Mo,$f),Ho(e,si()),null}function g6(e,t){var r=on;on|=1;try{return e(t)}finally{on=r,on===0&&(Cv=si()+500,AA&&I0())}}function tm(e){Mh!==null&&Mh.tag===0&&!(on&6)&&rv();var t=on;on|=1;var r=vc.transition,n=Pn;try{if(vc.transition=null,Pn=1,e)return e()}finally{Pn=n,vc.transition=r,on=t,!(on&6)&&I0()}}function v6(){vl=Fg.current,sa(Fg)}function Lp(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,khe(r)),bi!==null)for(r=bi.return;r!==null;){var n=r;switch(QO(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lE();break;case 3:kv(),sa(zo),sa(Qs),s6();break;case 5:i6(n);break;case 4:kv();break;case 13:sa(Ta);break;case 19:sa(Ta);break;case 10:t6(n.type._context);break;case 22:case 23:v6()}r=r.return}if(rs=e,bi=e=Xh(e.current,null),bs=vl=t,Mi=0,l2=null,p6=CA=em=0,Mo=mx=null,Ap!==null){for(t=0;t<Ap.length;t++)if(r=Ap[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Ap=null}return e}function uY(e,t){do{var r=bi;try{if(e6(),wS.current=vE,gE){for(var n=Ia.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}gE=!1}if(Zp=0,Xi=Di=Ia=null,hx=!1,i2=0,h6.current=null,r===null||r.return===null){Mi=1,l2=t,bi=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=bs,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=NF(s);if(p!==null){p.flags&=-257,CF(p,s,o,i,t),p.mode&1&&kF(i,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){kF(i,c,t),y6();break e}l=Error(ft(426))}}else if(va&&o.mode&1){var v=NF(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),CF(v,s,o,i,t),JO(Nv(l,o));break e}}i=l=Nv(l,o),Mi!==4&&(Mi=2),mx===null?mx=[i]:mx.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=GK(i,l,t);bF(i,y);break e;case 1:o=l;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Kh===null||!Kh.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=KK(i,o,t);bF(i,E);break e}}i=i.return}while(i!==null)}hY(r)}catch(I){t=I,bi===r&&r!==null&&(bi=r=r.return);continue}break}while(!0)}function fY(){var e=yE.current;return yE.current=vE,e===null?vE:e}function y6(){(Mi===0||Mi===3||Mi===2)&&(Mi=4),rs===null||!(em&268435455)&&!(CA&268435455)||Ph(rs,bs)}function bE(e,t){var r=on;on|=2;var n=fY();(rs!==e||bs!==t)&&($f=null,Lp(e,t));do try{Jhe();break}catch(a){uY(e,a)}while(!0);if(e6(),on=r,yE.current=n,bi!==null)throw Error(ft(261));return rs=null,bs=0,Mi}function Jhe(){for(;bi!==null;)dY(bi)}function Zhe(){for(;bi!==null&&!Ede();)dY(bi)}function dY(e){var t=mY(e.alternate,e,vl);e.memoizedProps=e.pendingProps,t===null?hY(e):bi=t,h6.current=null}function hY(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=qhe(r,t),r!==null){r.flags&=32767,bi=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Mi=6,bi=null;return}}else if(r=Hhe(r,t,vl),r!==null){bi=r;return}if(t=t.sibling,t!==null){bi=t;return}bi=t=e}while(t!==null);Mi===0&&(Mi=5)}function fp(e,t,r){var n=Pn,a=vc.transition;try{vc.transition=null,Pn=1,e0e(e,t,r,n)}finally{vc.transition=a,Pn=n}return null}function e0e(e,t,r,n){do rv();while(Mh!==null);if(on&6)throw Error(ft(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ft(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(jde(e,i),e===rs&&(bi=rs=null,bs=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||f_||(f_=!0,gY(rE,function(){return rv(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=vc.transition,vc.transition=null;var s=Pn;Pn=1;var o=on;on|=4,h6.current=null,Khe(e,r),oY(r,e),whe(y3),aE=!!v3,y3=v3=null,e.current=r,Yhe(r),Ade(),on=o,Pn=s,vc.transition=i}else e.current=r;if(f_&&(f_=!1,Mh=e,wE=a),i=e.pendingLanes,i===0&&(Kh=null),Nde(r.stateNode),Ho(e,si()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(xE)throw xE=!1,e=F3,F3=null,e;return wE&1&&e.tag!==0&&rv(),i=e.pendingLanes,i&1?e===B3?gx++:(gx=0,B3=e):gx=0,I0(),null}function rv(){if(Mh!==null){var e=GG(wE),t=vc.transition,r=Pn;try{if(vc.transition=null,Pn=16>e?16:e,Mh===null)var n=!1;else{if(e=Mh,Mh=null,wE=0,on&6)throw Error(ft(331));var a=on;for(on|=4,Dt=e.current;Dt!==null;){var i=Dt,s=i.child;if(Dt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Dt=c;Dt!==null;){var u=Dt;switch(u.tag){case 0:case 11:case 15:px(8,u,i)}var f=u.child;if(f!==null)f.return=u,Dt=f;else for(;Dt!==null;){u=Dt;var h=u.sibling,p=u.return;if(aY(u),u===c){Dt=null;break}if(h!==null){h.return=p,Dt=h;break}Dt=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Dt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Dt=s;else e:for(;Dt!==null;){if(i=Dt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:px(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Dt=y;break e}Dt=i.return}}var x=e.current;for(Dt=x;Dt!==null;){s=Dt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Dt=w;else e:for(s=x;Dt!==null;){if(o=Dt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:NA(9,o)}}catch(I){Va(o,o.return,I)}if(o===s){Dt=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Dt=E;break e}Dt=o.return}}if(on=a,I0(),Yu&&typeof Yu.onPostCommitFiberRoot=="function")try{Yu.onPostCommitFiberRoot(wA,e)}catch{}n=!0}return n}finally{Pn=r,vc.transition=t}}return!1}function VF(e,t,r){t=Nv(r,t),t=GK(e,t,1),e=Gh(e,t,1),t=_o(),e!==null&&(ww(e,1,t),Ho(e,t))}function Va(e,t,r){if(e.tag===3)VF(e,e,r);else for(;t!==null;){if(t.tag===3){VF(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kh===null||!Kh.has(n))){e=Nv(r,e),e=KK(t,e,1),t=Gh(t,e,1),e=_o(),t!==null&&(ww(t,1,e),Ho(t,e));break}}t=t.return}}function t0e(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_o(),e.pingedLanes|=e.suspendedLanes&r,rs===e&&(bs&r)===r&&(Mi===4||Mi===3&&(bs&130023424)===bs&&500>si()-m6?Lp(e,0):p6|=r),Ho(e,t)}function pY(e,t){t===0&&(e.mode&1?(t=t_,t_<<=1,!(t_&130023424)&&(t_=4194304)):t=1);var r=_o();e=vd(e,t),e!==null&&(ww(e,t,r),Ho(e,r))}function r0e(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),pY(e,r)}function n0e(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ft(314))}n!==null&&n.delete(t),pY(e,r)}var mY;mY=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zo.current)Bo=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Bo=!1,Whe(e,t,r);Bo=!!(e.flags&131072)}else Bo=!1,va&&t.flags&1048576&&xK(t,fE,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;_S(e,t),e=t.pendingProps;var a=Ev(t,Qs.current);tv(t,r),a=l6(null,t,n,e,a,r);var i=c6();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wo(n)?(i=!0,cE(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,n6(t),a.updater=kA,t.stateNode=a,a._reactInternals=t,k3(t,n,e,r),t=P3(null,t,n,!0,i,r)):(t.tag=0,va&&i&&XO(t),fo(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(_S(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=i0e(n),e=Yc(n,e),a){case 0:t=C3(null,t,n,e,r);break e;case 1:t=OF(null,t,n,e,r);break e;case 11:t=PF(null,t,n,e,r);break e;case 14:t=IF(null,t,n,Yc(n.type,e),r);break e}throw Error(ft(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Yc(n,a),C3(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Yc(n,a),OF(e,t,n,a,r);case 3:e:{if(JK(t),e===null)throw Error(ft(387));n=t.pendingProps,i=t.memoizedState,a=i.element,AK(e,t),pE(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Nv(Error(ft(423)),t),t=DF(e,t,n,r,a);break e}else if(n!==a){a=Nv(Error(ft(424)),t),t=DF(e,t,n,r,a);break e}else for(kl=qh(t.stateNode.containerInfo.firstChild),Pl=t,va=!0,Qc=null,r=SK(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Av(),n===a){t=yd(e,t,r);break e}fo(e,t,n,r)}t=t.child}return t;case 5:return TK(t),e===null&&E3(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,x3(n,a)?s=null:i!==null&&x3(n,i)&&(t.flags|=32),QK(e,t),fo(e,t,s,r),t.child;case 6:return e===null&&E3(t),null;case 13:return ZK(e,t,r);case 4:return a6(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Tv(t,null,n,r):fo(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Yc(n,a),PF(e,t,n,a,r);case 7:return fo(e,t,t.pendingProps,r),t.child;case 8:return fo(e,t,t.pendingProps.children,r),t.child;case 12:return fo(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Xn(dE,n._currentValue),n._currentValue=s,i!==null)if(du(i.value,s)){if(i.children===a.children&&!zo.current){t=yd(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=id(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),A3(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ft(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),A3(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}fo(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,tv(t,r),a=wc(a),n=n(a),t.flags|=1,fo(e,t,n,r),t.child;case 14:return n=t.type,a=Yc(n,t.pendingProps),a=Yc(n.type,a),IF(e,t,n,a,r);case 15:return YK(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Yc(n,a),_S(e,t),t.tag=1,Wo(n)?(e=!0,cE(t)):e=!1,tv(t,r),qK(t,n,a),k3(t,n,a,r),P3(null,t,n,!0,e,r);case 19:return eY(e,t,r);case 22:return XK(e,t,r)}throw Error(ft(156,t.tag))};function gY(e,t){return zG(e,t)}function a0e(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mc(e,t,r,n){return new a0e(e,t,r,n)}function x6(e){return e=e.prototype,!(!e||!e.isReactComponent)}function i0e(e){if(typeof e=="function")return x6(e)?1:0;if(e!=null){if(e=e.$$typeof,e===FO)return 11;if(e===BO)return 14}return 2}function Xh(e,t){var r=e.alternate;return r===null?(r=mc(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function AS(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")x6(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Ng:return Mp(r.children,a,i,t);case MO:s=8,a|=8;break;case QC:return e=mc(12,r,t,a|2),e.elementType=QC,e.lanes=i,e;case JC:return e=mc(13,r,t,a),e.elementType=JC,e.lanes=i,e;case ZC:return e=mc(19,r,t,a),e.elementType=ZC,e.lanes=i,e;case TG:return PA(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case EG:s=10;break e;case AG:s=9;break e;case FO:s=11;break e;case BO:s=14;break e;case Eh:s=16,n=null;break e}throw Error(ft(130,e==null?e:typeof e,""))}return t=mc(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Mp(e,t,r,n){return e=mc(7,e,n,t),e.lanes=r,e}function PA(e,t,r,n){return e=mc(22,e,n,t),e.elementType=TG,e.lanes=r,e.stateNode={isHidden:!1},e}function $N(e,t,r){return e=mc(6,e,null,t),e.lanes=r,e}function UN(e,t,r){return t=mc(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function s0e(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bN(0),this.expirationTimes=bN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bN(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function w6(e,t,r,n,a,i,s,o,l){return e=new s0e(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=mc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},n6(i),e}function o0e(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kg,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function vY(e){if(!e)return l0;e=e._reactInternals;e:{if(Mm(e)!==e||e.tag!==1)throw Error(ft(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ft(171))}if(e.tag===1){var r=e.type;if(Wo(r))return vK(e,r,t)}return t}function yY(e,t,r,n,a,i,s,o,l){return e=w6(r,n,!0,e,a,i,s,o,l),e.context=vY(null),r=e.current,n=_o(),a=Yh(r),i=id(n,a),i.callback=t??null,Gh(r,i,a),e.current.lanes=a,ww(e,a,n),Ho(e,n),e}function IA(e,t,r,n){var a=t.current,i=_o(),s=Yh(a);return r=vY(r),t.context===null?t.context=r:t.pendingContext=r,t=id(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Gh(a,t,s),e!==null&&(su(e,a,s,i),xS(e,a,s)),s}function _E(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zF(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function b6(e,t){zF(e,t),(e=e.alternate)&&zF(e,t)}function l0e(){return null}var xY=typeof reportError=="function"?reportError:function(e){console.error(e)};function _6(e){this._internalRoot=e}OA.prototype.render=_6.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ft(409));IA(e,t,null,null)};OA.prototype.unmount=_6.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tm(function(){IA(null,e,null,null)}),t[gd]=null}};function OA(e){this._internalRoot=e}OA.prototype.unstable_scheduleHydration=function(e){if(e){var t=XG();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ch.length&&t!==0&&t<Ch[r].priority;r++);Ch.splice(r,0,e),r===0&&JG(e)}};function S6(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function DA(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function WF(){}function c0e(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=_E(s);i.call(c)}}var s=yY(t,n,e,0,null,!1,!1,"",WF);return e._reactRootContainer=s,e[gd]=s.current,e2(e.nodeType===8?e.parentNode:e),tm(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=_E(l);o.call(c)}}var l=w6(e,0,!1,null,null,!1,!1,"",WF);return e._reactRootContainer=l,e[gd]=l.current,e2(e.nodeType===8?e.parentNode:e),tm(function(){IA(t,l,r,n)}),l}function jA(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=_E(s);o.call(l)}}IA(t,s,e,a)}else s=c0e(r,t,e,a,n);return _E(s)}KG=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gy(t.pendingLanes);r!==0&&(VO(t,r|1),Ho(t,si()),!(on&6)&&(Cv=si()+500,I0()))}break;case 13:tm(function(){var n=vd(e,1);if(n!==null){var a=_o();su(n,e,1,a)}}),b6(e,1)}};zO=function(e){if(e.tag===13){var t=vd(e,134217728);if(t!==null){var r=_o();su(t,e,134217728,r)}b6(e,134217728)}};YG=function(e){if(e.tag===13){var t=Yh(e),r=vd(e,t);if(r!==null){var n=_o();su(r,e,t,n)}b6(e,t)}};XG=function(){return Pn};QG=function(e,t){var r=Pn;try{return Pn=e,t()}finally{Pn=r}};c3=function(e,t,r){switch(t){case"input":if(r3(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=EA(n);if(!a)throw Error(ft(90));NG(n),r3(n,a)}}}break;case"textarea":PG(e,r);break;case"select":t=r.value,t!=null&&Qg(e,!!r.multiple,t,!1)}};MG=g6;FG=tm;var u0e={usingClientEntryPoint:!1,Events:[_w,Og,EA,RG,LG,g6]},ky={findFiberByHostInstance:Ep,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},f0e={bundleType:ky.bundleType,version:ky.version,rendererPackageName:ky.rendererPackageName,rendererConfig:ky.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ld.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=UG(e),e===null?null:e.stateNode},findFiberByHostInstance:ky.findFiberByHostInstance||l0e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var d_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!d_.isDisabled&&d_.supportsFiber)try{wA=d_.inject(f0e),Yu=d_}catch{}}Fl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u0e;Fl.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!S6(t))throw Error(ft(200));return o0e(e,t,null,r)};Fl.createRoot=function(e,t){if(!S6(e))throw Error(ft(299));var r=!1,n="",a=xY;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=w6(e,1,!1,null,null,r,!1,n,a),e[gd]=t.current,e2(e.nodeType===8?e.parentNode:e),new _6(t)};Fl.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ft(188)):(e=Object.keys(e).join(","),Error(ft(268,e)));return e=UG(t),e=e===null?null:e.stateNode,e};Fl.flushSync=function(e){return tm(e)};Fl.hydrate=function(e,t,r){if(!DA(t))throw Error(ft(200));return jA(null,e,t,!0,r)};Fl.hydrateRoot=function(e,t,r){if(!S6(e))throw Error(ft(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=xY;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=yY(t,null,e,1,r??null,a,!1,i,s),e[gd]=t.current,e2(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new OA(t)};Fl.render=function(e,t,r){if(!DA(t))throw Error(ft(200));return jA(null,e,t,!1,r)};Fl.unmountComponentAtNode=function(e){if(!DA(e))throw Error(ft(40));return e._reactRootContainer?(tm(function(){jA(null,null,e,!1,function(){e._reactRootContainer=null,e[gd]=null})}),!0):!1};Fl.unstable_batchedUpdates=g6;Fl.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!DA(r))throw Error(ft(200));if(e==null||e._reactInternals===void 0)throw Error(ft(38));return jA(e,t,r,!1,n)};Fl.version="18.3.1-next-f1338f8080-20240426";function wY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wY)}catch(e){console.error(e)}}wY(),wG.exports=Fl;var RA=wG.exports;const bY=Xa(RA);var HF=RA;YC.createRoot=HF.createRoot,YC.hydrateRoot=HF.hydrateRoot;const d0e="modulepreload",h0e=function(e){return"/centralteleoperadores/"+e},qF={},qo=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=h0e(l),l in qF)return;qF[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":d0e,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0e=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m0e=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),GF=e=>{const t=m0e(e);return t.charAt(0).toUpperCase()+t.slice(1)},_Y=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),g0e=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v0e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0e=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},l)=>j.createElement("svg",{ref:l,...v0e,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:_Y("lucide",a),...!i&&!g0e(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,u])=>j.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=(e,t)=>{const r=j.forwardRef(({className:n,...a},i)=>j.createElement(y0e,{ref:i,iconNode:t,className:_Y(`lucide-${p0e(GF(e))}`,`lucide-${e}`,n),...a}));return r.displayName=GF(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0e=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],E6=Bt("activity",x0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0e=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],b0e=Bt("bug",w0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0e=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],TS=Bt("building-2",_0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0e=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Js=Bt("calendar",S0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0e=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],fc=Bt("chart-column",E0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0e=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],T0e=Bt("chart-pie",A0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0e=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],SY=Bt("chevron-down",k0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0e=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],EY=Bt("chevron-up",N0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_i=Bt("circle-alert",C0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0e=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wa=Bt("circle-check-big",P0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],rm=Bt("circle-x",I0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0e=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],V3=Bt("clipboard-list",O0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0e=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ws=Bt("clock",D0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0e=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],AY=Bt("crown",j0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0e=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],c2=Bt("database",R0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0e=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],KF=Bt("download",L0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0e=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],TY=Bt("eye-off",M0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0e=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],A6=Bt("eye",F0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],vx=Bt("file-spreadsheet",B0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],u2=Bt("file-text",$0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0e=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],V0e=Bt("file",U0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0e=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],W0e=Bt("flag",z0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0e=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ew=Bt("funnel",H0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],G0e=Bt("globe",q0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0e=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],z3=Bt("heart",K0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0e=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],X0e=Bt("house",Y0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0e=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],W3=Bt("info",Q0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0e=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Z0e=Bt("list",J0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tpe=Bt("loader-circle",epe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],H3=Bt("lock",rpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ape=Bt("log-out",npe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],kY=Bt("mail",ipe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],NY=Bt("map-pin",spe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ope=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Aw=Bt("message-square",ope);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],cpe=Bt("pen-line",lpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],q3=Bt("phone-call",upe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Ha=Bt("phone",fpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],G3=Bt("pill",dpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ppe=Bt("play",hpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],LA=Bt("plus",mpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],CY=Bt("refresh-cw",gpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],PY=Bt("repeat",vpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Tw=Bt("save",ype);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xo=Bt("search",xpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wpe=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nm=Bt("settings",wpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bpe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Pv=Bt("shield",bpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _pe=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],T6=Bt("square-pen",_pe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Spe=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],YF=Bt("tag",Spe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Epe=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],Ape=Bt("test-tube",Epe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tpe=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],kpe=Bt("timer",Tpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Npe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Qu=Bt("trash-2",Npe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cpe=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Ppe=Bt("trending-down",Cpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ipe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],am=Bt("trending-up",Ipe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ope=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Go=Bt("triangle-alert",Ope);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dpe=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],K3=Bt("truck",Dpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jpe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Rpe=Bt("type",jpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lpe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],f2=Bt("upload",Lpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mpe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fpe=Bt("user-check",Mpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bpe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],d2=Bt("user-plus",Bpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $pe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Upe=Bt("user-x",$pe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vpe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ss=Bt("user",Vpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zpe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ai=Bt("users",zpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wpe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xd=Bt("x",Wpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hpe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],qpe=Bt("zap",Hpe);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var SE={};SE.version="0.18.5";var IY=1252,Gpe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],k6={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},N6=function(e){Gpe.indexOf(e)!=-1&&(IY=k6[0]=e)};function Kpe(){N6(1252)}var tu=function(e){N6(e)};function C6(){tu(1200),Kpe()}function XF(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Ype(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function OY(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Yy=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Ype(e.slice(2)):t==254&&r==255?OY(e.slice(2)):t==65279?e.slice(1):e},h_=function(t){return String.fromCharCode(t)},QF=function(t){return String.fromCharCode(t)},h2,Fh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function p2(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=Fh.charAt(i)+Fh.charAt(s)+Fh.charAt(o)+Fh.charAt(l);return t}function jl(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=Fh.indexOf(e.charAt(c++)),s=Fh.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=Fh.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=Fh.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Rr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Md=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function c0(e){return Rr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function JF(e){return Rr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var _l=function(t){return Rr?Md(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function MA(e){if(typeof ArrayBuffer>"u")return _l(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function O0(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function Xpe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function P6(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return P6(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ji=Rr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Md(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function Qpe(e){for(var t=[],r=0,n=e.length+250,a=c0(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=c0(65535),n=65530)}return t.push(a.slice(0,r)),Ji(t)}var So=/\u0000/g,Xy=/[\u0001-\u0006]/g;function nv(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ru(e,t){var r=""+e;return r.length>=t?r:za("0",t-r.length)+r}function I6(e,t){var r=""+e;return r.length>=t?r:za(" ",t-r.length)+r}function EE(e,t){var r=""+e;return r.length>=t?r:r+za(" ",t-r.length)}function Jpe(e,t){var r=""+Math.round(e);return r.length>=t?r:za("0",t-r.length)+r}function Zpe(e,t){var r=""+e;return r.length>=t?r:za("0",t-r.length)+r}var ZF=Math.pow(2,32);function lg(e,t){if(e>ZF||e<-ZF)return Jpe(e,t);var r=Math.round(e);return Zpe(r,t)}function AE(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var e7=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],VN=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function eme(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var or={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},t7={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},tme={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function TE(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function kp(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=ome(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var DY=new Date(1899,11,31,0,0,0),rme=DY.getTime(),nme=new Date(1900,2,1,0,0,0);function jY(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=nme&&(r+=24*60*60*1e3),(r-(rme+(e.getTimezoneOffset()-DY.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function O6(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ame(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ime(e){var t=e<0?12:11,r=O6(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function sme(e){var t=O6(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function m2(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=ime(e):t===10?r=e.toFixed(10).substr(0,12):r=sme(e),O6(ame(r.toUpperCase()))}function im(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):m2(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return _c(14,jY(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function ome(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function lme(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return VN[r.m-1][1];case 5:return VN[r.m-1][0];default:return VN[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return e7[r.q][0];default:return e7[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ru(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=ru(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?ru(l,c):"";return u}function Bh(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var RY=/%/g;function cme(e,t,r){var n=t.replace(RY,""),a=t.length-n.length;return sd(e,n,r*Math.pow(10,2*a))+za("%",a)}function ume(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return sd(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function LY(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+LY(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var MY=/# (\?+)( ?)\/( ?)(\d+)/;function fme(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?za(" ",e[1].length+1+e[4].length):I6(s,e[1].length)+e[2]+"/"+e[3]+ru(o,e[4].length))}function dme(e,t,r){return r+(t===0?"":""+t)+za(" ",e[1].length+2+e[4].length)}var FY=/^#*0*\.([0#]+)/,BY=/\).*[0#]/,$Y=/\(###\) ###\\?-####/;function ho(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function r7(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function n7(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function hme(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function pme(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ec(e,t,r){if(e.charCodeAt(0)===40&&!t.match(BY)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ec("n",n,r):"("+ec("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return ume(e,t,r);if(t.indexOf("%")!==-1)return cme(e,t,r);if(t.indexOf("E")!==-1)return LY(t,r);if(t.charCodeAt(0)===36)return"$"+ec(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+lg(l,t.length);if(t.match(/^[#?]+$/))return a=lg(r,0),a==="0"&&(a=""),a.length>t.length?a:ho(t.substr(0,t.length-a.length))+a;if(i=t.match(MY))return fme(i,l,c);if(t.match(/^#+0+$/))return c+lg(l,t.length-t.indexOf("0"));if(i=t.match(FY))return a=r7(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ho(i[1])).replace(/\.$/,"."+ho(i[1])).replace(/\.(\d*)$/,function(m,g){return"."+g+za("0",ho(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+r7(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Bh(lg(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ec(e,t,-r):Bh(""+(Math.floor(r)+hme(r,i[1].length)))+"."+ru(n7(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ec(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=nv(ec(e,t.replace(/[\\-]/g,""),r)),s=0,nv(nv(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<a.length?a.charAt(s++):m==="0"?"0":""}));if(t.match($Y))return a=ec(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=TE(l,Math.pow(10,s)-1,!1),a=""+c,u=sd("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=EE(o[2],s),u.length<i[4].length&&(u=ho(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=TE(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?I6(o[1],s)+i[2]+"/"+i[3]+EE(o[2],s):za(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=lg(r,0),t.length<=a.length?a:ho(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return ho(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=n7(r,i[1].length),r<0?"-"+ec(e,t,-r):Bh(pme(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?ru(0,3-m.length):"")+m})+"."+ru(s,i[1].length);switch(t){case"###,##0.00":return ec(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=Bh(lg(l,0));return p!=="0"?c+p:"";case"###,###.00":return ec(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ec(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function mme(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return sd(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function gme(e,t,r){var n=t.replace(RY,""),a=t.length-n.length;return sd(e,n,r*Math.pow(10,2*a))+za("%",a)}function UY(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+UY(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Lu(e,t,r){if(e.charCodeAt(0)===40&&!t.match(BY)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Lu("n",n,r):"("+Lu("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return mme(e,t,r);if(t.indexOf("%")!==-1)return gme(e,t,r);if(t.indexOf("E")!==-1)return UY(t,r);if(t.charCodeAt(0)===36)return"$"+Lu(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+ru(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ho(t.substr(0,t.length-a.length))+a;if(i=t.match(MY))return dme(i,l,c);if(t.match(/^#+0+$/))return c+ru(l,t.length-t.indexOf("0"));if(i=t.match(FY))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ho(i[1])).replace(/\.$/,"."+ho(i[1])),a=a.replace(/\.(\d*)$/,function(m,g){return"."+g+za("0",ho(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Bh(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Lu(e,t,-r):Bh(""+r)+"."+za("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Lu(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=nv(Lu(e,t.replace(/[\\-]/g,""),r)),s=0,nv(nv(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<a.length?a.charAt(s++):m==="0"?"0":""}));if(t.match($Y))return a=Lu(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=TE(l,Math.pow(10,s)-1,!1),a=""+c,u=sd("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=EE(o[2],s),u.length<i[4].length&&(u=ho(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=TE(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?I6(o[1],s)+i[2]+"/"+i[3]+EE(o[2],s):za(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ho(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return ho(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Lu(e,t,-r):Bh(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?ru(0,3-m.length):"")+m})+"."+ru(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=Bh(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return Lu(e,t.slice(0,t.lastIndexOf(".")),r)+ho(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function sd(e,t,r){return(r|0)===r?Lu(e,t,r):ec(e,t,r)}function vme(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var VY=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function u1(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":AE(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(VY))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function yme(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!AE(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var p=e.charAt(++s),m=p==="("||p===")"?p:"t";a[a.length]={t:m,v:p},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=kp(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=kp(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var g={t:o,v:o};if(c==null&&(c=kp(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(g.v=c.H>=12?"下午":"上午"),g.t="T",s+=5,h="h"):(g.t="t",++s),c==null&&g.t==="T")return"";a[a.length]=g,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(VY)){if(c==null&&(c=kp(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",u1(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,x;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(x=a[s].v.match(/\.0+$/))&&(y=Math.max(y,x[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",E;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=lme(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(E=s+1;a[E]!=null&&((o=a[E].t)==="?"||o==="D"||(o===" "||o==="t")&&a[E+1]!=null&&(a[E+1].t==="?"||a[E+1].t==="t"&&a[E+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[E].v==="/"||a[E].v===" "&&a[E+1]!=null&&a[E+1].t=="?"));)a[s].v+=a[E].v,a[E]={v:"",t:";"},++E;w+=a[s].v,s=E-1;break;case"G":a[s].t="t",a[s].v=im(t,r);break}var I="",P,A;if(w.length>0){w.charCodeAt(0)==40?(P=t<0&&w.charCodeAt(0)===45?-t:t,A=sd("n",w,P)):(P=t<0&&n>1?-t:t,A=sd("n",w,P),P<0&&a[0]&&a[0].t=="t"&&(A=A.substr(1),a[0].v="-"+a[0].v)),E=A.length-1;var S=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){S=s;break}var k=a.length;if(S===a.length&&A.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(E>=a[s].v.length-1?(E-=a[s].v.length,a[s].v=A.substr(E+1,a[s].v.length)):E<0?a[s].v="":(a[s].v=A.substr(0,E+1),E=-1),a[s].t="t",k=s);E>=0&&k<a.length&&(a[k].v=A.substr(0,E+1)+a[k].v)}else if(S!==a.length&&A.indexOf("E")===-1){for(E=A.indexOf(".")-1,s=S;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")-1:a[s].v.length-1,I=a[s].v.substr(u+1);u>=0;--u)E>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(I=A.charAt(E--)+I);a[s].v=I,a[s].t="t",k=s}for(E>=0&&k<a.length&&(a[k].v=A.substr(0,E+1)+a[k].v),E=A.indexOf(".")+1,s=S;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==S)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")+1:0,I=a[s].v.substr(0,u);u<a[s].v.length;++u)E<A.length&&(I+=A.charAt(E++));a[s].v=I,a[s].t="t",k=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(P=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=sd(a[s].t,a[s].v,P),a[s].t="t");var O="";for(s=0;s!==a.length;++s)a[s]!=null&&(O+=a[s].v);return O}var a7=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function i7(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function xme(e,t){var r=vme(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(a7),o=r[1].match(a7);return i7(t,s)?[n,r[0]]:i7(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function _c(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:or)[e],n==null&&(n=r.table&&r.table[t7[e]]||or[t7[e]]),n==null&&(n=tme[e]||"General");break}if(AE(n,0))return im(t,r);t instanceof Date&&(t=jY(t,r.date1904));var a=xme(n,t);if(AE(a[1]))return im(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return yme(a[1],t,r,a[0])}function od(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(or[r]==null){t<0&&(t=r);continue}if(or[r]==e){t=r;break}}t<0&&(t=391)}return or[t]=e,t}function FA(e){for(var t=0;t!=392;++t)e[t]!==void 0&&od(e[t],t)}function f1(){or=eme()}var wme={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},zY=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function bme(e){var t=typeof e=="number"?or[e]:e;return t=t.replace(zY,"(\\d+)"),new RegExp("^"+t+"$")}function _me(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(zY)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":i=p;break;case"h":s=p;break;case"s":l=p;break;case"m":s>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var Sme=function(){var e={};e.version="1.2.0";function t(){for(var A=0,S=new Array(256),k=0;k!=256;++k)A=k,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,A=A&1?-306674912^A>>>1:A>>>1,S[k]=A;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function n(A){var S=0,k=0,O=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)T[O]=A[O];for(O=0;O!=256;++O)for(k=A[O],S=256+O;S<4096;S+=256)k=T[S]=k>>>8^A[k&255];var C=[];for(O=1;O!=16;++O)C[O-1]=typeof Int32Array<"u"?T.subarray(O*256,O*256+256):T.slice(O*256,O*256+256);return C}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],p=a[8],m=a[9],g=a[10],v=a[11],y=a[12],x=a[13],w=a[14];function E(A,S){for(var k=S^-1,O=0,T=A.length;O<T;)k=k>>>8^r[(k^A.charCodeAt(O++))&255];return~k}function I(A,S){for(var k=S^-1,O=A.length-15,T=0;T<O;)k=w[A[T++]^k&255]^x[A[T++]^k>>8&255]^y[A[T++]^k>>16&255]^v[A[T++]^k>>>24]^g[A[T++]]^m[A[T++]]^p[A[T++]]^h[A[T++]]^f[A[T++]]^u[A[T++]]^c[A[T++]]^l[A[T++]]^o[A[T++]]^s[A[T++]]^i[A[T++]]^r[A[T++]];for(O+=15;T<O;)k=k>>>8^r[(k^A[T++])&255];return~k}function P(A,S){for(var k=S^-1,O=0,T=A.length,C=0,D=0;O<T;)C=A.charCodeAt(O++),C<128?k=k>>>8^r[(k^C)&255]:C<2048?(k=k>>>8^r[(k^(192|C>>6&31))&255],k=k>>>8^r[(k^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,D=A.charCodeAt(O++)&1023,k=k>>>8^r[(k^(240|C>>8&7))&255],k=k>>>8^r[(k^(128|C>>2&63))&255],k=k>>>8^r[(k^(128|D>>6&15|(C&3)<<4))&255],k=k>>>8^r[(k^(128|D&63))&255]):(k=k>>>8^r[(k^(224|C>>12&15))&255],k=k>>>8^r[(k^(128|C>>6&63))&255],k=k>>>8^r[(k^(128|C&63))&255]);return~k}return e.table=r,e.bstr=E,e.buf=I,e.str=P,e}(),tr=function(){var t={};t.version="1.2.1";function r(J,me){for(var oe=J.split("/"),de=me.split("/"),ge=0,we=0,De=Math.min(oe.length,de.length);ge<De;++ge){if(we=oe[ge].length-de[ge].length)return we;if(oe[ge]!=de[ge])return oe[ge]<de[ge]?-1:1}return oe.length-de.length}function n(J){if(J.charAt(J.length-1)=="/")return J.slice(0,-1).indexOf("/")===-1?J:n(J.slice(0,-1));var me=J.lastIndexOf("/");return me===-1?J:J.slice(0,me+1)}function a(J){if(J.charAt(J.length-1)=="/")return a(J.slice(0,-1));var me=J.lastIndexOf("/");return me===-1?J:J.slice(me+1)}function i(J,me){typeof me=="string"&&(me=new Date(me));var oe=me.getHours();oe=oe<<6|me.getMinutes(),oe=oe<<5|me.getSeconds()>>>1,J.write_shift(2,oe);var de=me.getFullYear()-1980;de=de<<4|me.getMonth()+1,de=de<<5|me.getDate(),J.write_shift(2,de)}function s(J){var me=J.read_shift(2)&65535,oe=J.read_shift(2)&65535,de=new Date,ge=oe&31;oe>>>=5;var we=oe&15;oe>>>=4,de.setMilliseconds(0),de.setFullYear(oe+1980),de.setMonth(we-1),de.setDate(ge);var De=me&31;me>>>=5;var He=me&63;return me>>>=6,de.setHours(me),de.setMinutes(He),de.setSeconds(De<<1),de}function o(J){ys(J,0);for(var me={},oe=0;J.l<=J.length-4;){var de=J.read_shift(2),ge=J.read_shift(2),we=J.l+ge,De={};switch(de){case 21589:oe=J.read_shift(1),oe&1&&(De.mtime=J.read_shift(4)),ge>5&&(oe&2&&(De.atime=J.read_shift(4)),oe&4&&(De.ctime=J.read_shift(4))),De.mtime&&(De.mt=new Date(De.mtime*1e3));break}J.l=we,me[de]=De}return me}var l;function c(){return l||(l={})}function u(J,me){if(J[0]==80&&J[1]==75)return gn(J,me);if((J[0]|32)==109&&(J[1]|32)==105)return Yt(J,me);if(J.length<512)throw new Error("CFB file size "+J.length+" < 512");var oe=3,de=512,ge=0,we=0,De=0,He=0,Re=0,Le=[],Fe=J.slice(0,512);ys(Fe,0);var ce=f(Fe);switch(oe=ce[0],oe){case 3:de=512;break;case 4:de=4096;break;case 0:if(ce[1]==0)return gn(J,me);default:throw new Error("Major Version: Expected 3 or 4 saw "+oe)}de!==512&&(Fe=J.slice(0,de),ys(Fe,28));var Ne=J.slice(0,de);h(Fe,oe);var Ve=Fe.read_shift(4,"i");if(oe===3&&Ve!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ve);Fe.l+=4,De=Fe.read_shift(4,"i"),Fe.l+=4,Fe.chk("00100000","Mini Stream Cutoff Size: "),He=Fe.read_shift(4,"i"),ge=Fe.read_shift(4,"i"),Re=Fe.read_shift(4,"i"),we=Fe.read_shift(4,"i");for(var Me=-1,Ee=0;Ee<109&&(Me=Fe.read_shift(4,"i"),!(Me<0));++Ee)Le[Ee]=Me;var Ge=p(J,de);v(Re,we,Ge,de,Le);var at=x(Ge,De,Le,de);at[De].name="!Directory",ge>0&&He!==D&&(at[He].name="!MiniFAT"),at[Le[0]].name="!FAT",at.fat_addrs=Le,at.ssz=de;var _t={},ut=[],_r=[],xr=[];w(De,at,Ge,ut,ge,_t,_r,He),m(_r,xr,ut),ut.shift();var lr={FileIndex:_r,FullPaths:xr};return me&&me.raw&&(lr.raw={header:Ne,sectors:Ge}),lr}function f(J){if(J[J.l]==80&&J[J.l+1]==75)return[0,0];J.chk(B,"Header Signature: "),J.l+=16;var me=J.read_shift(2,"u");return[J.read_shift(2,"u"),me]}function h(J,me){var oe=9;switch(J.l+=2,oe=J.read_shift(2)){case 9:if(me!=3)throw new Error("Sector Shift: Expected 9 saw "+oe);break;case 12:if(me!=4)throw new Error("Sector Shift: Expected 12 saw "+oe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+oe)}J.chk("0600","Mini Sector Shift: "),J.chk("000000000000","Reserved: ")}function p(J,me){for(var oe=Math.ceil(J.length/me)-1,de=[],ge=1;ge<oe;++ge)de[ge-1]=J.slice(ge*me,(ge+1)*me);return de[oe-1]=J.slice(oe*me),de}function m(J,me,oe){for(var de=0,ge=0,we=0,De=0,He=0,Re=oe.length,Le=[],Fe=[];de<Re;++de)Le[de]=Fe[de]=de,me[de]=oe[de];for(;He<Fe.length;++He)de=Fe[He],ge=J[de].L,we=J[de].R,De=J[de].C,Le[de]===de&&(ge!==-1&&Le[ge]!==ge&&(Le[de]=Le[ge]),we!==-1&&Le[we]!==we&&(Le[de]=Le[we])),De!==-1&&(Le[De]=de),ge!==-1&&de!=Le[de]&&(Le[ge]=Le[de],Fe.lastIndexOf(ge)<He&&Fe.push(ge)),we!==-1&&de!=Le[de]&&(Le[we]=Le[de],Fe.lastIndexOf(we)<He&&Fe.push(we));for(de=1;de<Re;++de)Le[de]===de&&(we!==-1&&Le[we]!==we?Le[de]=Le[we]:ge!==-1&&Le[ge]!==ge&&(Le[de]=Le[ge]));for(de=1;de<Re;++de)if(J[de].type!==0){if(He=de,He!=Le[He])do He=Le[He],me[de]=me[He]+"/"+me[de];while(He!==0&&Le[He]!==-1&&He!=Le[He]);Le[de]=-1}for(me[0]+="/",de=1;de<Re;++de)J[de].type!==2&&(me[de]+="/")}function g(J,me,oe){for(var de=J.start,ge=J.size,we=[],De=de;oe&&ge>0&&De>=0;)we.push(me.slice(De*C,De*C+C)),ge-=C,De=wp(oe,De*4);return we.length===0?Ke(0):Ji(we).slice(0,J.size)}function v(J,me,oe,de,ge){var we=D;if(J===D){if(me!==0)throw new Error("DIFAT chain shorter than expected")}else if(J!==-1){var De=oe[J],He=(de>>>2)-1;if(!De)return;for(var Re=0;Re<He&&(we=wp(De,Re*4))!==D;++Re)ge.push(we);v(wp(De,de-4),me-1,oe,de,ge)}}function y(J,me,oe,de,ge){var we=[],De=[];ge||(ge=[]);var He=de-1,Re=0,Le=0;for(Re=me;Re>=0;){ge[Re]=!0,we[we.length]=Re,De.push(J[Re]);var Fe=oe[Math.floor(Re*4/de)];if(Le=Re*4&He,de<4+Le)throw new Error("FAT boundary crossed: "+Re+" 4 "+de);if(!J[Fe])break;Re=wp(J[Fe],Le)}return{nodes:we,data:v7([De])}}function x(J,me,oe,de){var ge=J.length,we=[],De=[],He=[],Re=[],Le=de-1,Fe=0,ce=0,Ne=0,Ve=0;for(Fe=0;Fe<ge;++Fe)if(He=[],Ne=Fe+me,Ne>=ge&&(Ne-=ge),!De[Ne]){Re=[];var Me=[];for(ce=Ne;ce>=0;){Me[ce]=!0,De[ce]=!0,He[He.length]=ce,Re.push(J[ce]);var Ee=oe[Math.floor(ce*4/de)];if(Ve=ce*4&Le,de<4+Ve)throw new Error("FAT boundary crossed: "+ce+" 4 "+de);if(!J[Ee]||(ce=wp(J[Ee],Ve),Me[ce]))break}we[Ne]={nodes:He,data:v7([Re])}}return we}function w(J,me,oe,de,ge,we,De,He){for(var Re=0,Le=de.length?2:0,Fe=me[J].data,ce=0,Ne=0,Ve;ce<Fe.length;ce+=128){var Me=Fe.slice(ce,ce+128);ys(Me,64),Ne=Me.read_shift(2),Ve=B6(Me,0,Ne-Le),de.push(Ve);var Ee={name:Ve,type:Me.read_shift(1),color:Me.read_shift(1),L:Me.read_shift(4,"i"),R:Me.read_shift(4,"i"),C:Me.read_shift(4,"i"),clsid:Me.read_shift(16),state:Me.read_shift(4,"i"),start:0,size:0},Ge=Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2);Ge!==0&&(Ee.ct=E(Me,Me.l-8));var at=Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2)+Me.read_shift(2);at!==0&&(Ee.mt=E(Me,Me.l-8)),Ee.start=Me.read_shift(4,"i"),Ee.size=Me.read_shift(4,"i"),Ee.size<0&&Ee.start<0&&(Ee.size=Ee.type=0,Ee.start=D,Ee.name=""),Ee.type===5?(Re=Ee.start,ge>0&&Re!==D&&(me[Re].name="!StreamData")):Ee.size>=4096?(Ee.storage="fat",me[Ee.start]===void 0&&(me[Ee.start]=y(oe,Ee.start,me.fat_addrs,me.ssz)),me[Ee.start].name=Ee.name,Ee.content=me[Ee.start].data.slice(0,Ee.size)):(Ee.storage="minifat",Ee.size<0?Ee.size=0:Re!==D&&Ee.start!==D&&me[Re]&&(Ee.content=g(Ee,me[Re].data,(me[He]||{}).data))),Ee.content&&ys(Ee.content,0),we[Ve]=Ee,De.push(Ee)}}function E(J,me){return new Date((wl(J,me+4)/1e7*Math.pow(2,32)+wl(J,me)/1e7-11644473600)*1e3)}function I(J,me){return c(),u(l.readFileSync(J),me)}function P(J,me){var oe=me&&me.type;switch(oe||Rr&&Buffer.isBuffer(J)&&(oe="buffer"),oe||"base64"){case"file":return I(J,me);case"base64":return u(_l(jl(J)),me);case"binary":return u(_l(J),me)}return u(J,me)}function A(J,me){var oe=me||{},de=oe.root||"Root Entry";if(J.FullPaths||(J.FullPaths=[]),J.FileIndex||(J.FileIndex=[]),J.FullPaths.length!==J.FileIndex.length)throw new Error("inconsistent CFB structure");J.FullPaths.length===0&&(J.FullPaths[0]=de+"/",J.FileIndex[0]={name:de,type:5}),oe.CLSID&&(J.FileIndex[0].clsid=oe.CLSID),S(J)}function S(J){var me="Sh33tJ5";if(!tr.find(J,"/"+me)){var oe=Ke(4);oe[0]=55,oe[1]=oe[3]=50,oe[2]=54,J.FileIndex.push({name:me,type:2,content:oe,size:4,L:69,R:69,C:69}),J.FullPaths.push(J.FullPaths[0]+me),k(J)}}function k(J,me){A(J);for(var oe=!1,de=!1,ge=J.FullPaths.length-1;ge>=0;--ge){var we=J.FileIndex[ge];switch(we.type){case 0:de?oe=!0:(J.FileIndex.pop(),J.FullPaths.pop());break;case 1:case 2:case 5:de=!0,isNaN(we.R*we.L*we.C)&&(oe=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(oe=!0);break;default:oe=!0;break}}if(!(!oe&&!me)){var De=new Date(1987,1,19),He=0,Re=Object.create?Object.create(null):{},Le=[];for(ge=0;ge<J.FullPaths.length;++ge)Re[J.FullPaths[ge]]=!0,J.FileIndex[ge].type!==0&&Le.push([J.FullPaths[ge],J.FileIndex[ge]]);for(ge=0;ge<Le.length;++ge){var Fe=n(Le[ge][0]);de=Re[Fe],de||(Le.push([Fe,{name:a(Fe).replace("/",""),type:1,clsid:ee,ct:De,mt:De,content:null}]),Re[Fe]=!0)}for(Le.sort(function(Ve,Me){return r(Ve[0],Me[0])}),J.FullPaths=[],J.FileIndex=[],ge=0;ge<Le.length;++ge)J.FullPaths[ge]=Le[ge][0],J.FileIndex[ge]=Le[ge][1];for(ge=0;ge<Le.length;++ge){var ce=J.FileIndex[ge],Ne=J.FullPaths[ge];if(ce.name=a(Ne).replace("/",""),ce.L=ce.R=ce.C=-(ce.color=1),ce.size=ce.content?ce.content.length:0,ce.start=0,ce.clsid=ce.clsid||ee,ge===0)ce.C=Le.length>1?1:-1,ce.size=0,ce.type=5;else if(Ne.slice(-1)=="/"){for(He=ge+1;He<Le.length&&n(J.FullPaths[He])!=Ne;++He);for(ce.C=He>=Le.length?-1:He,He=ge+1;He<Le.length&&n(J.FullPaths[He])!=n(Ne);++He);ce.R=He>=Le.length?-1:He,ce.type=1}else n(J.FullPaths[ge+1]||"")==n(Ne)&&(ce.R=ge+1),ce.type=2}}}function O(J,me){var oe=me||{};if(oe.fileType=="mad")return yn(J,oe);switch(k(J),oe.fileType){case"zip":return Kr(J,oe)}var de=function(Ve){for(var Me=0,Ee=0,Ge=0;Ge<Ve.FileIndex.length;++Ge){var at=Ve.FileIndex[Ge];if(at.content){var _t=at.content.length;_t>0&&(_t<4096?Me+=_t+63>>6:Ee+=_t+511>>9)}}for(var ut=Ve.FullPaths.length+3>>2,_r=Me+7>>3,xr=Me+127>>7,lr=_r+Ee+ut+xr,ir=lr+127>>7,Vt=ir<=109?0:Math.ceil((ir-109)/127);lr+ir+Vt+127>>7>ir;)Vt=++ir<=109?0:Math.ceil((ir-109)/127);var Nr=[1,Vt,ir,xr,ut,Ee,Me,0];return Ve.FileIndex[0].size=Me<<6,Nr[7]=(Ve.FileIndex[0].start=Nr[0]+Nr[1]+Nr[2]+Nr[3]+Nr[4]+Nr[5])+(Nr[6]+7>>3),Nr}(J),ge=Ke(de[7]<<9),we=0,De=0;{for(we=0;we<8;++we)ge.write_shift(1,Y[we]);for(we=0;we<8;++we)ge.write_shift(2,0);for(ge.write_shift(2,62),ge.write_shift(2,3),ge.write_shift(2,65534),ge.write_shift(2,9),ge.write_shift(2,6),we=0;we<3;++we)ge.write_shift(2,0);for(ge.write_shift(4,0),ge.write_shift(4,de[2]),ge.write_shift(4,de[0]+de[1]+de[2]+de[3]-1),ge.write_shift(4,0),ge.write_shift(4,4096),ge.write_shift(4,de[3]?de[0]+de[1]+de[2]-1:D),ge.write_shift(4,de[3]),ge.write_shift(-4,de[1]?de[0]-1:D),ge.write_shift(4,de[1]),we=0;we<109;++we)ge.write_shift(-4,we<de[2]?de[1]+we:-1)}if(de[1])for(De=0;De<de[1];++De){for(;we<236+De*127;++we)ge.write_shift(-4,we<de[2]?de[1]+we:-1);ge.write_shift(-4,De===de[1]-1?D:De+1)}var He=function(Ve){for(De+=Ve;we<De-1;++we)ge.write_shift(-4,we+1);Ve&&(++we,ge.write_shift(-4,D))};for(De=we=0,De+=de[1];we<De;++we)ge.write_shift(-4,re.DIFSECT);for(De+=de[2];we<De;++we)ge.write_shift(-4,re.FATSECT);He(de[3]),He(de[4]);for(var Re=0,Le=0,Fe=J.FileIndex[0];Re<J.FileIndex.length;++Re)Fe=J.FileIndex[Re],Fe.content&&(Le=Fe.content.length,!(Le<4096)&&(Fe.start=De,He(Le+511>>9)));for(He(de[6]+7>>3);ge.l&511;)ge.write_shift(-4,re.ENDOFCHAIN);for(De=we=0,Re=0;Re<J.FileIndex.length;++Re)Fe=J.FileIndex[Re],Fe.content&&(Le=Fe.content.length,!(!Le||Le>=4096)&&(Fe.start=De,He(Le+63>>6)));for(;ge.l&511;)ge.write_shift(-4,re.ENDOFCHAIN);for(we=0;we<de[4]<<2;++we){var ce=J.FullPaths[we];if(!ce||ce.length===0){for(Re=0;Re<17;++Re)ge.write_shift(4,0);for(Re=0;Re<3;++Re)ge.write_shift(4,-1);for(Re=0;Re<12;++Re)ge.write_shift(4,0);continue}Fe=J.FileIndex[we],we===0&&(Fe.start=Fe.size?Fe.start-1:D);var Ne=we===0&&oe.root||Fe.name;if(Le=2*(Ne.length+1),ge.write_shift(64,Ne,"utf16le"),ge.write_shift(2,Le),ge.write_shift(1,Fe.type),ge.write_shift(1,Fe.color),ge.write_shift(-4,Fe.L),ge.write_shift(-4,Fe.R),ge.write_shift(-4,Fe.C),Fe.clsid)ge.write_shift(16,Fe.clsid,"hex");else for(Re=0;Re<4;++Re)ge.write_shift(4,0);ge.write_shift(4,Fe.state||0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(4,Fe.start),ge.write_shift(4,Fe.size),ge.write_shift(4,0)}for(we=1;we<J.FileIndex.length;++we)if(Fe=J.FileIndex[we],Fe.size>=4096)if(ge.l=Fe.start+1<<9,Rr&&Buffer.isBuffer(Fe.content))Fe.content.copy(ge,ge.l,0,Fe.size),ge.l+=Fe.size+511&-512;else{for(Re=0;Re<Fe.size;++Re)ge.write_shift(1,Fe.content[Re]);for(;Re&511;++Re)ge.write_shift(1,0)}for(we=1;we<J.FileIndex.length;++we)if(Fe=J.FileIndex[we],Fe.size>0&&Fe.size<4096)if(Rr&&Buffer.isBuffer(Fe.content))Fe.content.copy(ge,ge.l,0,Fe.size),ge.l+=Fe.size+63&-64;else{for(Re=0;Re<Fe.size;++Re)ge.write_shift(1,Fe.content[Re]);for(;Re&63;++Re)ge.write_shift(1,0)}if(Rr)ge.l=ge.length;else for(;ge.l<ge.length;)ge.write_shift(1,0);return ge}function T(J,me){var oe=J.FullPaths.map(function(Re){return Re.toUpperCase()}),de=oe.map(function(Re){var Le=Re.split("/");return Le[Le.length-(Re.slice(-1)=="/"?2:1)]}),ge=!1;me.charCodeAt(0)===47?(ge=!0,me=oe[0].slice(0,-1)+me):ge=me.indexOf("/")!==-1;var we=me.toUpperCase(),De=ge===!0?oe.indexOf(we):de.indexOf(we);if(De!==-1)return J.FileIndex[De];var He=!we.match(Xy);for(we=we.replace(So,""),He&&(we=we.replace(Xy,"!")),De=0;De<oe.length;++De)if((He?oe[De].replace(Xy,"!"):oe[De]).replace(So,"")==we||(He?de[De].replace(Xy,"!"):de[De]).replace(So,"")==we)return J.FileIndex[De];return null}var C=64,D=-2,B="d0cf11e0a1b11ae1",Y=[208,207,17,224,161,177,26,225],ee="00000000000000000000000000000000",re={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:B,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ee,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function G(J,me,oe){c();var de=O(J,oe);l.writeFileSync(me,de)}function q(J){for(var me=new Array(J.length),oe=0;oe<J.length;++oe)me[oe]=String.fromCharCode(J[oe]);return me.join("")}function be(J,me){var oe=O(J,me);switch(me&&me.type||"buffer"){case"file":return c(),l.writeFileSync(me.filename,oe),oe;case"binary":return typeof oe=="string"?oe:q(oe);case"base64":return p2(typeof oe=="string"?oe:q(oe));case"buffer":if(Rr)return Buffer.isBuffer(oe)?oe:Md(oe);case"array":return typeof oe=="string"?_l(oe):oe}return oe}var _e;function R(J){try{var me=J.InflateRaw,oe=new me;if(oe._processChunk(new Uint8Array([3,0]),oe._finishFlushFlag),oe.bytesRead)_e=J;else throw new Error("zlib does not expose bytesRead")}catch(de){console.error("cannot use native zlib: "+(de.message||de))}}function U(J,me){if(!_e)return gr(J,me);var oe=_e.InflateRaw,de=new oe,ge=de._processChunk(J.slice(J.l),de._finishFlushFlag);return J.l+=de.bytesRead,ge}function z(J){return _e?_e.deflateRawSync(J):ht(J)}var W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function he(J){var me=(J<<1|J<<11)&139536|(J<<5|J<<15)&558144;return(me>>16|me>>8|me)&255}for(var ae=typeof Uint8Array<"u",pe=ae?new Uint8Array(256):[],ke=0;ke<256;++ke)pe[ke]=he(ke);function K(J,me){var oe=pe[J&255];return me<=8?oe>>>8-me:(oe=oe<<8|pe[J>>8&255],me<=16?oe>>>16-me:(oe=oe<<8|pe[J>>16&255],oe>>>24-me))}function qe(J,me){var oe=me&7,de=me>>>3;return(J[de]|(oe<=6?0:J[de+1]<<8))>>>oe&3}function Ae(J,me){var oe=me&7,de=me>>>3;return(J[de]|(oe<=5?0:J[de+1]<<8))>>>oe&7}function ue(J,me){var oe=me&7,de=me>>>3;return(J[de]|(oe<=4?0:J[de+1]<<8))>>>oe&15}function ot(J,me){var oe=me&7,de=me>>>3;return(J[de]|(oe<=3?0:J[de+1]<<8))>>>oe&31}function $e(J,me){var oe=me&7,de=me>>>3;return(J[de]|(oe<=1?0:J[de+1]<<8))>>>oe&127}function pt(J,me,oe){var de=me&7,ge=me>>>3,we=(1<<oe)-1,De=J[ge]>>>de;return oe<8-de||(De|=J[ge+1]<<8-de,oe<16-de)||(De|=J[ge+2]<<16-de,oe<24-de)||(De|=J[ge+3]<<24-de),De&we}function et(J,me,oe){var de=me&7,ge=me>>>3;return de<=5?J[ge]|=(oe&7)<<de:(J[ge]|=oe<<de&255,J[ge+1]=(oe&7)>>8-de),me+3}function yt(J,me,oe){var de=me&7,ge=me>>>3;return oe=(oe&1)<<de,J[ge]|=oe,me+1}function dt(J,me,oe){var de=me&7,ge=me>>>3;return oe<<=de,J[ge]|=oe&255,oe>>>=8,J[ge+1]=oe,me+8}function rr(J,me,oe){var de=me&7,ge=me>>>3;return oe<<=de,J[ge]|=oe&255,oe>>>=8,J[ge+1]=oe&255,J[ge+2]=oe>>>8,me+16}function St(J,me){var oe=J.length,de=2*oe>me?2*oe:me+5,ge=0;if(oe>=me)return J;if(Rr){var we=JF(de);if(J.copy)J.copy(we);else for(;ge<J.length;++ge)we[ge]=J[ge];return we}else if(ae){var De=new Uint8Array(de);if(De.set)De.set(J);else for(;ge<oe;++ge)De[ge]=J[ge];return De}return J.length=de,J}function Kt(J){for(var me=new Array(J),oe=0;oe<J;++oe)me[oe]=0;return me}function vt(J,me,oe){var de=1,ge=0,we=0,De=0,He=0,Re=J.length,Le=ae?new Uint16Array(32):Kt(32);for(we=0;we<32;++we)Le[we]=0;for(we=Re;we<oe;++we)J[we]=0;Re=J.length;var Fe=ae?new Uint16Array(Re):Kt(Re);for(we=0;we<Re;++we)Le[ge=J[we]]++,de<ge&&(de=ge),Fe[we]=0;for(Le[0]=0,we=1;we<=de;++we)Le[we+16]=He=He+Le[we-1]<<1;for(we=0;we<Re;++we)He=J[we],He!=0&&(Fe[we]=Le[He+16]++);var ce=0;for(we=0;we<Re;++we)if(ce=J[we],ce!=0)for(He=K(Fe[we],de)>>de-ce,De=(1<<de+4-ce)-1;De>=0;--De)me[He|De<<ce]=ce&15|we<<4;return de}var At=ae?new Uint16Array(512):Kt(512),nr=ae?new Uint16Array(32):Kt(32);if(!ae){for(var Pt=0;Pt<512;++Pt)At[Pt]=0;for(Pt=0;Pt<32;++Pt)nr[Pt]=0}(function(){for(var J=[],me=0;me<32;me++)J.push(5);vt(J,nr,32);var oe=[];for(me=0;me<=143;me++)oe.push(8);for(;me<=255;me++)oe.push(9);for(;me<=279;me++)oe.push(7);for(;me<=287;me++)oe.push(8);vt(oe,At,288)})();var kt=function(){for(var me=ae?new Uint8Array(32768):[],oe=0,de=0;oe<le.length-1;++oe)for(;de<le[oe+1];++de)me[de]=oe;for(;de<32768;++de)me[de]=29;var ge=ae?new Uint8Array(259):[];for(oe=0,de=0;oe<Z.length-1;++oe)for(;de<Z[oe+1];++de)ge[de]=oe;function we(He,Re){for(var Le=0;Le<He.length;){var Fe=Math.min(65535,He.length-Le),ce=Le+Fe==He.length;for(Re.write_shift(1,+ce),Re.write_shift(2,Fe),Re.write_shift(2,~Fe&65535);Fe-- >0;)Re[Re.l++]=He[Le++]}return Re.l}function De(He,Re){for(var Le=0,Fe=0,ce=ae?new Uint16Array(32768):[];Fe<He.length;){var Ne=Math.min(65535,He.length-Fe);if(Ne<10){for(Le=et(Re,Le,+(Fe+Ne==He.length)),Le&7&&(Le+=8-(Le&7)),Re.l=Le/8|0,Re.write_shift(2,Ne),Re.write_shift(2,~Ne&65535);Ne-- >0;)Re[Re.l++]=He[Fe++];Le=Re.l*8;continue}Le=et(Re,Le,+(Fe+Ne==He.length)+2);for(var Ve=0;Ne-- >0;){var Me=He[Fe];Ve=(Ve<<5^Me)&32767;var Ee=-1,Ge=0;if((Ee=ce[Ve])&&(Ee|=Fe&-32768,Ee>Fe&&(Ee-=32768),Ee<Fe))for(;He[Ee+Ge]==He[Fe+Ge]&&Ge<250;)++Ge;if(Ge>2){Me=ge[Ge],Me<=22?Le=dt(Re,Le,pe[Me+1]>>1)-1:(dt(Re,Le,3),Le+=5,dt(Re,Le,pe[Me-23]>>5),Le+=3);var at=Me<8?0:Me-4>>2;at>0&&(rr(Re,Le,Ge-Z[Me]),Le+=at),Me=me[Fe-Ee],Le=dt(Re,Le,pe[Me]>>3),Le-=3;var _t=Me<4?0:Me-2>>1;_t>0&&(rr(Re,Le,Fe-Ee-le[Me]),Le+=_t);for(var ut=0;ut<Ge;++ut)ce[Ve]=Fe&32767,Ve=(Ve<<5^He[Fe])&32767,++Fe;Ne-=Ge-1}else Me<=143?Me=Me+48:Le=yt(Re,Le,1),Le=dt(Re,Le,pe[Me]),ce[Ve]=Fe&32767,++Fe}Le=dt(Re,Le,0)-1}return Re.l=(Le+7)/8|0,Re.l}return function(Re,Le){return Re.length<8?we(Re,Le):De(Re,Le)}}();function ht(J){var me=Ke(50+Math.floor(J.length*1.1)),oe=kt(J,me);return me.slice(0,oe)}var wt=ae?new Uint16Array(32768):Kt(32768),dr=ae?new Uint16Array(32768):Kt(32768),Gt=ae?new Uint16Array(128):Kt(128),Nt=1,er=1;function Or(J,me){var oe=ot(J,me)+257;me+=5;var de=ot(J,me)+1;me+=5;var ge=ue(J,me)+4;me+=4;for(var we=0,De=ae?new Uint8Array(19):Kt(19),He=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Re=1,Le=ae?new Uint8Array(8):Kt(8),Fe=ae?new Uint8Array(8):Kt(8),ce=De.length,Ne=0;Ne<ge;++Ne)De[W[Ne]]=we=Ae(J,me),Re<we&&(Re=we),Le[we]++,me+=3;var Ve=0;for(Le[0]=0,Ne=1;Ne<=Re;++Ne)Fe[Ne]=Ve=Ve+Le[Ne-1]<<1;for(Ne=0;Ne<ce;++Ne)(Ve=De[Ne])!=0&&(He[Ne]=Fe[Ve]++);var Me=0;for(Ne=0;Ne<ce;++Ne)if(Me=De[Ne],Me!=0){Ve=pe[He[Ne]]>>8-Me;for(var Ee=(1<<7-Me)-1;Ee>=0;--Ee)Gt[Ve|Ee<<Me]=Me&7|Ne<<3}var Ge=[];for(Re=1;Ge.length<oe+de;)switch(Ve=Gt[$e(J,me)],me+=Ve&7,Ve>>>=3){case 16:for(we=3+qe(J,me),me+=2,Ve=Ge[Ge.length-1];we-- >0;)Ge.push(Ve);break;case 17:for(we=3+Ae(J,me),me+=3;we-- >0;)Ge.push(0);break;case 18:for(we=11+$e(J,me),me+=7;we-- >0;)Ge.push(0);break;default:Ge.push(Ve),Re<Ve&&(Re=Ve);break}var at=Ge.slice(0,oe),_t=Ge.slice(oe);for(Ne=oe;Ne<286;++Ne)at[Ne]=0;for(Ne=de;Ne<30;++Ne)_t[Ne]=0;return Nt=vt(at,wt,286),er=vt(_t,dr,30),me}function Ut(J,me){if(J[0]==3&&!(J[1]&3))return[c0(me),2];for(var oe=0,de=0,ge=JF(me||1<<18),we=0,De=ge.length>>>0,He=0,Re=0;!(de&1);){if(de=Ae(J,oe),oe+=3,de>>>1)de>>1==1?(He=9,Re=5):(oe=Or(J,oe),He=Nt,Re=er);else{oe&7&&(oe+=8-(oe&7));var Le=J[oe>>>3]|J[(oe>>>3)+1]<<8;if(oe+=32,Le>0)for(!me&&De<we+Le&&(ge=St(ge,we+Le),De=ge.length);Le-- >0;)ge[we++]=J[oe>>>3],oe+=8;continue}for(;;){!me&&De<we+32767&&(ge=St(ge,we+32767),De=ge.length);var Fe=pt(J,oe,He),ce=de>>>1==1?At[Fe]:wt[Fe];if(oe+=ce&15,ce>>>=4,!(ce>>>8&255))ge[we++]=ce;else{if(ce==256)break;ce-=257;var Ne=ce<8?0:ce-4>>2;Ne>5&&(Ne=0);var Ve=we+Z[ce];Ne>0&&(Ve+=pt(J,oe,Ne),oe+=Ne),Fe=pt(J,oe,Re),ce=de>>>1==1?nr[Fe]:dr[Fe],oe+=ce&15,ce>>>=4;var Me=ce<4?0:ce-2>>1,Ee=le[ce];for(Me>0&&(Ee+=pt(J,oe,Me),oe+=Me),!me&&De<Ve&&(ge=St(ge,Ve+100),De=ge.length);we<Ve;)ge[we]=ge[we-Ee],++we}}}return me?[ge,oe+7>>>3]:[ge.slice(0,we),oe+7>>>3]}function gr(J,me){var oe=J.slice(J.l||0),de=Ut(oe,me);return J.l+=de[1],de[0]}function ar(J,me){if(J)typeof console<"u"&&console.error(me);else throw new Error(me)}function gn(J,me){var oe=J;ys(oe,0);var de=[],ge=[],we={FileIndex:de,FullPaths:ge};A(we,{root:me.root});for(var De=oe.length-4;(oe[De]!=80||oe[De+1]!=75||oe[De+2]!=5||oe[De+3]!=6)&&De>=0;)--De;oe.l=De+4,oe.l+=4;var He=oe.read_shift(2);oe.l+=6;var Re=oe.read_shift(4);for(oe.l=Re,De=0;De<He;++De){oe.l+=20;var Le=oe.read_shift(4),Fe=oe.read_shift(4),ce=oe.read_shift(2),Ne=oe.read_shift(2),Ve=oe.read_shift(2);oe.l+=8;var Me=oe.read_shift(4),Ee=o(oe.slice(oe.l+ce,oe.l+ce+Ne));oe.l+=ce+Ne+Ve;var Ge=oe.l;oe.l=Me+4,vn(oe,Le,Fe,we,Ee),oe.l=Ge}return we}function vn(J,me,oe,de,ge){J.l+=2;var we=J.read_shift(2),De=J.read_shift(2),He=s(J);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var Re=J.read_shift(4),Le=J.read_shift(4),Fe=J.read_shift(4),ce=J.read_shift(2),Ne=J.read_shift(2),Ve="",Me=0;Me<ce;++Me)Ve+=String.fromCharCode(J[J.l++]);if(Ne){var Ee=o(J.slice(J.l,J.l+Ne));(Ee[21589]||{}).mt&&(He=Ee[21589].mt),((ge||{})[21589]||{}).mt&&(He=ge[21589].mt)}J.l+=Ne;var Ge=J.slice(J.l,J.l+Le);switch(De){case 8:Ge=U(J,Fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+De)}var at=!1;we&8&&(Re=J.read_shift(4),Re==134695760&&(Re=J.read_shift(4),at=!0),Le=J.read_shift(4),Fe=J.read_shift(4)),Le!=me&&ar(at,"Bad compressed size: "+me+" != "+Le),Fe!=oe&&ar(at,"Bad uncompressed size: "+oe+" != "+Fe),da(de,Ve,Ge,{unsafe:!0,mt:He})}function Kr(J,me){var oe=me||{},de=[],ge=[],we=Ke(1),De=oe.compression?8:0,He=0,Re=0,Le=0,Fe=0,ce=0,Ne=J.FullPaths[0],Ve=Ne,Me=J.FileIndex[0],Ee=[],Ge=0;for(Re=1;Re<J.FullPaths.length;++Re)if(Ve=J.FullPaths[Re].slice(Ne.length),Me=J.FileIndex[Re],!(!Me.size||!Me.content||Ve=="Sh33tJ5")){var at=Fe,_t=Ke(Ve.length);for(Le=0;Le<Ve.length;++Le)_t.write_shift(1,Ve.charCodeAt(Le)&127);_t=_t.slice(0,_t.l),Ee[ce]=Sme.buf(Me.content,0);var ut=Me.content;De==8&&(ut=z(ut)),we=Ke(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,He),we.write_shift(2,De),Me.mt?i(we,Me.mt):we.write_shift(4,0),we.write_shift(-4,Ee[ce]),we.write_shift(4,ut.length),we.write_shift(4,Me.content.length),we.write_shift(2,_t.length),we.write_shift(2,0),Fe+=we.length,de.push(we),Fe+=_t.length,de.push(_t),Fe+=ut.length,de.push(ut),we=Ke(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,He),we.write_shift(2,De),we.write_shift(4,0),we.write_shift(-4,Ee[ce]),we.write_shift(4,ut.length),we.write_shift(4,Me.content.length),we.write_shift(2,_t.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,at),Ge+=we.l,ge.push(we),Ge+=_t.length,ge.push(_t),++ce}return we=Ke(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,ce),we.write_shift(2,ce),we.write_shift(4,Ge),we.write_shift(4,Fe),we.write_shift(2,0),Ji([Ji(de),Ji(ge),we])}var Jt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ar(J,me){if(J.ctype)return J.ctype;var oe=J.name||"",de=oe.match(/\.([^\.]+)$/);return de&&Jt[de[1]]||me&&(de=(oe=me).match(/[\.\\]([^\.\\])+$/),de&&Jt[de[1]])?Jt[de[1]]:"application/octet-stream"}function ko(J){for(var me=p2(J),oe=[],de=0;de<me.length;de+=76)oe.push(me.slice(de,de+76));return oe.join(`\r
`)+`\r
`}function Qn(J){var me=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Le){var Fe=Le.charCodeAt(0).toString(16).toUpperCase();return"="+(Fe.length==1?"0"+Fe:Fe)});me=me.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),me.charAt(0)==`
`&&(me="=0D"+me.slice(1)),me=me.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var oe=[],de=me.split(`\r
`),ge=0;ge<de.length;++ge){var we=de[ge];if(we.length==0){oe.push("");continue}for(var De=0;De<we.length;){var He=76,Re=we.slice(De,De+He);Re.charAt(He-1)=="="?He--:Re.charAt(He-2)=="="?He-=2:Re.charAt(He-3)=="="&&(He-=3),Re=we.slice(De,De+He),De+=He,De<we.length&&(Re+="="),oe.push(Re)}}return oe.join(`\r
`)}function Ts(J){for(var me=[],oe=0;oe<J.length;++oe){for(var de=J[oe];oe<=J.length&&de.charAt(de.length-1)=="=";)de=de.slice(0,de.length-1)+J[++oe];me.push(de)}for(var ge=0;ge<me.length;++ge)me[ge]=me[ge].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return _l(me.join(`\r
`))}function hi(J,me,oe){for(var de="",ge="",we="",De,He=0;He<10;++He){var Re=me[He];if(!Re||Re.match(/^\s*$/))break;var Le=Re.match(/^(.*?):\s*([^\s].*)$/);if(Le)switch(Le[1].toLowerCase()){case"content-location":de=Le[2].trim();break;case"content-type":we=Le[2].trim();break;case"content-transfer-encoding":ge=Le[2].trim();break}}switch(++He,ge.toLowerCase()){case"base64":De=_l(jl(me.slice(He).join("")));break;case"quoted-printable":De=Ts(me.slice(He));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ge)}var Fe=da(J,de.slice(oe.length),De,{unsafe:!0});we&&(Fe.ctype=we)}function Yt(J,me){if(q(J.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var oe=me&&me.root||"",de=(Rr&&Buffer.isBuffer(J)?J.toString("binary"):q(J)).split(`\r
`),ge=0,we="";for(ge=0;ge<de.length;++ge)if(we=de[ge],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),oe||(oe=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,oe.length)!=oe))for(;oe.length>0&&(oe=oe.slice(0,oe.length-1),oe=oe.slice(0,oe.lastIndexOf("/")+1),we.slice(0,oe.length)!=oe););var De=(de[1]||"").match(/boundary="(.*?)"/);if(!De)throw new Error("MAD cannot find boundary");var He="--"+(De[1]||""),Re=[],Le=[],Fe={FileIndex:Re,FullPaths:Le};A(Fe);var ce,Ne=0;for(ge=0;ge<de.length;++ge){var Ve=de[ge];Ve!==He&&Ve!==He+"--"||(Ne++&&hi(Fe,de.slice(ce,ge),oe),ce=ge)}return Fe}function yn(J,me){var oe=me||{},de=oe.boundary||"SheetJS";de="------="+de;for(var ge=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+de.slice(2)+'"',"","",""],we=J.FullPaths[0],De=we,He=J.FileIndex[0],Re=1;Re<J.FullPaths.length;++Re)if(De=J.FullPaths[Re].slice(we.length),He=J.FileIndex[Re],!(!He.size||!He.content||De=="Sh33tJ5")){De=De.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ge){return"_x"+Ge.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ge){return"_u"+Ge.charCodeAt(0).toString(16)+"_"});for(var Le=He.content,Fe=Rr&&Buffer.isBuffer(Le)?Le.toString("binary"):q(Le),ce=0,Ne=Math.min(1024,Fe.length),Ve=0,Me=0;Me<=Ne;++Me)(Ve=Fe.charCodeAt(Me))>=32&&Ve<128&&++ce;var Ee=ce>=Ne*4/5;ge.push(de),ge.push("Content-Location: "+(oe.root||"file:///C:/SheetJS/")+De),ge.push("Content-Transfer-Encoding: "+(Ee?"quoted-printable":"base64")),ge.push("Content-Type: "+Ar(He,De)),ge.push(""),ge.push(Ee?Qn(Fe):ko(Fe))}return ge.push(de+`--\r
`),ge.join(`\r
`)}function pi(J){var me={};return A(me,J),me}function da(J,me,oe,de){var ge=de&&de.unsafe;ge||A(J);var we=!ge&&tr.find(J,me);if(!we){var De=J.FullPaths[0];me.slice(0,De.length)==De?De=me:(De.slice(-1)!="/"&&(De+="/"),De=(De+me).replace("//","/")),we={name:a(me),type:2},J.FileIndex.push(we),J.FullPaths.push(De),ge||tr.utils.cfb_gc(J)}return we.content=oe,we.size=oe?oe.length:0,de&&(de.CLSID&&(we.clsid=de.CLSID),de.mt&&(we.mt=de.mt),de.ct&&(we.ct=de.ct)),we}function Ra(J,me){A(J);var oe=tr.find(J,me);if(oe){for(var de=0;de<J.FileIndex.length;++de)if(J.FileIndex[de]==oe)return J.FileIndex.splice(de,1),J.FullPaths.splice(de,1),!0}return!1}function On(J,me,oe){A(J);var de=tr.find(J,me);if(de){for(var ge=0;ge<J.FileIndex.length;++ge)if(J.FileIndex[ge]==de)return J.FileIndex[ge].name=a(oe),J.FullPaths[ge]=oe,!0}return!1}function ha(J){k(J,!0)}return t.find=T,t.read=P,t.parse=u,t.write=be,t.writeFile=G,t.utils={cfb_new:pi,cfb_add:da,cfb_del:Ra,cfb_mov:On,cfb_gc:ha,ReadShift:yx,CheckField:fX,prep_blob:ys,bconcat:Ji,use_zlib:R,_deflateRaw:ht,_inflateRaw:gr,consts:re},t}();function Eme(e){return typeof e=="string"?MA(e):Array.isArray(e)?Xpe(e):e}function kw(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=MA(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Hu(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([Eme(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=O0(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Ame(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ka(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function s7(e,t){for(var r=[],n=Ka(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function BA(e){for(var t=[],r=Ka(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function $A(e){for(var t=[],r=Ka(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Tme(e){for(var t=[],r=Ka(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var kE=new Date(1899,11,30,0,0,0);function Bi(e,t){var r=e.getTime(),n=kE.getTime()+(e.getTimezoneOffset()-kE.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var WY=new Date,kme=kE.getTime()+(WY.getTimezoneOffset()-kE.getTimezoneOffset())*6e4,o7=WY.getTimezoneOffset();function UA(e){var t=new Date;return t.setTime(e*24*60*60*1e3+kme),t.getTimezoneOffset()!==o7&&t.setTime(t.getTime()+(t.getTimezoneOffset()-o7)*6e4),t}function Nme(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var l7=new Date("2017-02-19T19:06:09.000Z"),HY=isNaN(l7.getFullYear())?new Date("2/19/17"):l7,Cme=HY.getFullYear()==2017;function oa(e,t){var r=new Date(e);if(Cme)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(HY.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function sm(e,t){if(Rr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Hu(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Hu(OY(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Hu(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Hu(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function la(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=la(e[r]));return t}function za(e,t){for(var r="";r.length<t;)r+=e;return r}function ou(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Pme=["january","february","march","april","may","june","july","august","september","october","november","december"];function Iv(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Pme.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Ime=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function qY(e){return e?e.content&&e.type?sm(e.content,!0):e.data?Yy(e.data):e.asNodeBuffer&&Rr?Yy(e.asNodeBuffer().toString("binary")):e.asBinary?Yy(e.asBinary()):e._data&&e._data.getContent?Yy(sm(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function GY(e){if(!e)return null;if(e.data)return XF(e.data);if(e.asNodeBuffer&&Rr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?XF(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Ome(e){return e&&e.name.slice(-4)===".bin"?GY(e):qY(e)}function ic(e,t){for(var r=e.FullPaths||Ka(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function D6(e,t){var r=ic(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function vi(e,t,r){if(!r)return Ome(D6(e,t));if(!t)return null;try{return vi(e,t)}catch{return null}}function Sl(e,t,r){if(!r)return qY(D6(e,t));if(!t)return null;try{return Sl(e,t)}catch{return null}}function Dme(e,t,r){return GY(D6(e,t))}function c7(e){for(var t=e.FullPaths||Ka(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Ir(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Rr?n=Md(r):n=Qpe(r),tr.utils.cfb_add(e,t,n)}tr.utils.cfb_add(e,t,r)}else e.file(t,r)}function j6(){return tr.utils.cfb_new()}function KY(e,t){switch(t.type){case"base64":return tr.read(e,{type:"base64"});case"binary":return tr.read(e,{type:"binary"});case"buffer":case"array":return tr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Qy(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var fi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,jme=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,u7=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Rme=/<[^>]*>/g,to=fi.match(u7)?u7:Rme,Lme=/<\w*:/,Mme=/<(\/?)\w+:/;function mr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(jme),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function vf(e){return e.replace(Mme,"<$1")}var YY={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},R6=BA(YY),ln=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return YY[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),L6=/[&<>'"]/g,Fme=/[\u0000-\u0008\u000b-\u001f]/g;function Cn(e){var t=e+"";return t.replace(L6,function(r){return R6[r]}).replace(Fme,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function f7(e){return Cn(e).replace(/ /g,"_x0020_")}var XY=/[\u0000-\u001f]/g;function M6(e){var t=e+"";return t.replace(L6,function(r){return R6[r]}).replace(/\n/g,"<br/>").replace(XY,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Bme(e){var t=e+"";return t.replace(L6,function(r){return R6[r]}).replace(XY,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var d7=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function $me(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function na(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function zN(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function h7(e){var t=c0(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function p7(e){return Md(e,"binary").toString("utf8")}var p_="foo bar bazâð£",Rn=Rr&&(p7(p_)==zN(p_)&&p7||h7(p_)==zN(p_)&&h7)||zN,Hu=Rr?function(e){return Md(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},g2=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),QY=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Ume=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Vme=/<\/?(?:vt:)?variant>/g,zme=/<(?:vt:)([^>]*)>([\s\S]*)</;function m7(e,t){var r=mr(e),n=e.match(Ume(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(Vme,"").match(zme);s&&a.push({v:Rn(s[2]),t:s[1]})}),a}var JY=/(^\s|\s$|\n)/;function xs(e,t){return"<"+e+(t.match(JY)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function v2(e){return Ka(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function xt(e,t,r){return"<"+e+(r!=null?v2(r):"")+(t!=null?(t.match(JY)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function Y3(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Wme(e,t){switch(typeof e){case"string":var r=xt("vt:lpwstr",Cn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return xt((e|0)==e?"vt:i4":"vt:r8",Cn(String(e)));case"boolean":return xt("vt:bool",e?"true":"false")}if(e instanceof Date)return xt("vt:filetime",Y3(e));throw new Error("Unable to serialize "+e)}function F6(e){if(Rr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Rn(O0(P6(e)));throw new Error("Bad input format: expected Buffer or string")}var y2=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Li={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Fm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],xl={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Hme(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function qme(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var g7=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},v7=Rr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Md(t)})):g7(e)}:g7,y7=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Yf(e,a)));return n.join("").replace(So,"")},B6=Rr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(So,""):y7(e,t,r)}:y7,x7=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},ZY=Rr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):x7(e,t,r)}:x7,w7=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(xg(e,a)));return n.join("")},Nw=Rr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):w7(t,r,n)}:w7,eX=function(e,t){var r=wl(e,t);return r>0?Nw(e,t+4,t+4+r-1):""},tX=eX,rX=function(e,t){var r=wl(e,t);return r>0?Nw(e,t+4,t+4+r-1):""},nX=rX,aX=function(e,t){var r=2*wl(e,t);return r>0?Nw(e,t+4,t+4+r-1):""},iX=aX,sX=function(t,r){var n=wl(t,r);return n>0?B6(t,r+4,r+4+n):""},oX=sX,lX=function(e,t){var r=wl(e,t);return r>0?Nw(e,t+4,t+4+r):""},cX=lX,uX=function(e,t){return Hme(e,t)},NE=uX,$6=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Rr&&(tX=function(t,r){if(!Buffer.isBuffer(t))return eX(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},nX=function(t,r){if(!Buffer.isBuffer(t))return rX(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},iX=function(t,r){if(!Buffer.isBuffer(t))return aX(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},oX=function(t,r){if(!Buffer.isBuffer(t))return sX(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},cX=function(t,r){if(!Buffer.isBuffer(t))return lX(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},NE=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):uX(t,r)},$6=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var xg=function(e,t){return e[t]},Yf=function(e,t){return e[t+1]*256+e[t]},Gme=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},wl=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},wp=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Kme=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function yx(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Rr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Yf(this,c)),c+=2;e*=2;break;case"utf8":r=Nw(this,this.l,this.l+e);break;case"utf16le":e*=2,r=B6(this,this.l,this.l+e);break;case"wstr":return yx.call(this,e,"dbcs");case"lpstr-ansi":r=tX(this,this.l),e=4+wl(this,this.l);break;case"lpstr-cp":r=nX(this,this.l),e=4+wl(this,this.l);break;case"lpwstr":r=iX(this,this.l),e=4+2*wl(this,this.l);break;case"lpp4":e=4+wl(this,this.l),r=oX(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+wl(this,this.l),r=cX(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=xg(this,this.l+e++))!==0;)i.push(h_(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Yf(this,this.l+e))!==0;)i.push(h_(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=xg(this,c),this.l=c+1,o=yx.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(h_(Yf(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=xg(this,c),this.l=c+1,o=yx.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(h_(xg(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=xg(this,this.l),this.l++,n;case 2:return n=(t==="i"?Gme:Yf)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?wp:Kme)(this,this.l),this.l+=4,n):(a=wl(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=NE(this,this.l):a=NE([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=ZY(this,this.l,e);break}}return this.l+=e,r}var Yme=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Xme=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Qme=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Jme(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Qme(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Yme(this,t,this.l);break;case 8:if(n=8,r==="f"){qme(this,t,this.l);break}case 16:break;case-4:n=4,Xme(this,t,this.l);break}return this.l+=n,this}function fX(e,t){var r=ZY(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ys(e,t){e.l=t,e.read_shift=yx,e.chk=fX,e.write_shift=Jme}function Zs(e,t){e.l+=t}function Ke(e){var t=c0(e);return ys(t,0),t}function Fd(e,t,r){if(e){var n,a,i;ys(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=E2[o]||E2[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function Ko(){var e=[],t=Rr?256:2048,r=function(c){var u=Ke(c);return ys(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Ji(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function it(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=E2[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&$6(r)&&e.push(r)}}function xx(e,t,r){var n=la(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function b7(e,t,r){var n=la(e);return n.s=xx(n.s,t.s,r),n.e=xx(n.e,t.s,r),n}function wx(e,t){if(e.cRel&&e.c<0)for(e=la(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=la(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=cr(e);return!e.cRel&&e.cRel!=null&&(r=tge(r)),!e.rRel&&e.rRel!=null&&(r=Zme(r)),r}function WN(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Na(e.s.c)+":"+(e.e.cRel?"":"$")+Na(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ui(e.s.r)+":"+(e.e.rRel?"":"$")+ui(e.e.r):wx(e.s,t.biff)+":"+wx(e.e,t.biff)}function U6(e){return parseInt(ege(e),10)-1}function ui(e){return""+(e+1)}function Zme(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ege(e){return e.replace(/\$(\d+)$/,"$1")}function V6(e){for(var t=rge(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Na(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function tge(e){return e.replace(/^([A-Z])/,"$$$1")}function rge(e){return e.replace(/^\$([A-Z])/,"$1")}function nge(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ca(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function cr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function el(e){var t=e.indexOf(":");return t==-1?{s:Ca(e),e:Ca(e)}:{s:Ca(e.slice(0,t)),e:Ca(e.slice(t+1))}}function kr(e,t){return typeof t>"u"||typeof t=="number"?kr(e.s,e.e):(typeof e!="string"&&(e=cr(e)),typeof t!="string"&&(t=cr(t)),e==t?e:e+":"+t)}function cn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function _7(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=_c(e.z,r?Bi(t):t)}catch{}try{return e.w=_c((e.XF||{}).numFmtId||(r?14:0),r?Bi(t):t)}catch{return""+t}}function wd(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Bd[e.v]||e.v:t==null?_7(e,e.v):_7(e,t))}function D0(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function dX(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Ca(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=cn(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},m=s+f,g=o+h;if(c.s.r>m&&(c.s.r=m),c.s.c>g&&(c.s.c=g),c.e.r<m&&(c.e.r=m),c.e.c<g&&(c.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||or[14],n.cellDates?(p.t="d",p.w=_c(p.z,Bi(p.v))):(p.t="n",p.v=Bi(p.v),p.w=_c(p.z,p.v))):p.t="s";if(a)i[m]||(i[m]=[]),i[m][g]&&i[m][g].z&&(p.z=i[m][g].z),i[m][g]=p;else{var v=cr({c:g,r:m});i[v]&&i[v].z&&(p.z=i[v].z),i[v]=p}}}return c.s.c<1e7&&(i["!ref"]=kr(c)),i}function d1(e,t){return dX(null,e,t)}function age(e){return e.read_shift(4,"i")}function lu(e,t){return t||(t=Ke(4)),t.write_shift(4,e),t}function Ks(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function es(e,t){var r=!1;return t==null&&(r=!0,t=Ke(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function ige(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function sge(e,t){return t||(t=Ke(4)),t.write_shift(2,0),t.write_shift(2,0),t}function z6(e,t){var r=e.l,n=e.read_shift(1),a=Ks(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(ige(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function oge(e,t){var r=!1;return t==null&&(r=!0,t=Ke(15+4*e.t.length)),t.write_shift(1,0),es(e.t,t),r?t.slice(0,t.l):t}var lge=z6;function cge(e,t){var r=!1;return t==null&&(r=!0,t=Ke(23+4*e.t.length)),t.write_shift(1,1),es(e.t,t),t.write_shift(4,1),sge({},t),r?t.slice(0,t.l):t}function Cc(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Bm(e,t){return t==null&&(t=Ke(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function $m(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Um(e,t){return t==null&&(t=Ke(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var uge=Ks,hX=es;function W6(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function CE(e,t){var r=!1;return t==null&&(r=!0,t=Ke(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var fge=Ks,X3=W6,H6=CE;function q6(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?NE([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):wp(t,0)>>2;return r?a/100:a}function pX(e,t){t==null&&(t=Ke(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function mX(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function dge(e,t){return t||(t=Ke(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Vm=mX,h1=dge;function qs(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function om(e,t){return(t||Ke(8)).write_shift(8,e,"f")}function hge(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Fp[a];c&&(t.rgb=w2(c));break;case 2:t.rgb=w2([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function PE(e,t){if(t||(t=Ke(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function pge(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function mge(e,t){t||(t=Ke(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function gX(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function gge(e){return gX(e,1)}function vge(e){return gX(e,2)}var G6=2,jo=3,m_=11,S7=12,IE=19,g_=64,yge=65,xge=71,wge=4108,bge=4126,Gi=80,vX=81,_ge=[Gi,vX],Q3={1:{n:"CodePage",t:G6},2:{n:"Category",t:Gi},3:{n:"PresentationFormat",t:Gi},4:{n:"ByteCount",t:jo},5:{n:"LineCount",t:jo},6:{n:"ParagraphCount",t:jo},7:{n:"SlideCount",t:jo},8:{n:"NoteCount",t:jo},9:{n:"HiddenCount",t:jo},10:{n:"MultimediaClipCount",t:jo},11:{n:"ScaleCrop",t:m_},12:{n:"HeadingPairs",t:wge},13:{n:"TitlesOfParts",t:bge},14:{n:"Manager",t:Gi},15:{n:"Company",t:Gi},16:{n:"LinksUpToDate",t:m_},17:{n:"CharacterCount",t:jo},19:{n:"SharedDoc",t:m_},22:{n:"HyperlinksChanged",t:m_},23:{n:"AppVersion",t:jo,p:"version"},24:{n:"DigSig",t:yge},26:{n:"ContentType",t:Gi},27:{n:"ContentStatus",t:Gi},28:{n:"Language",t:Gi},29:{n:"Version",t:Gi},255:{},2147483648:{n:"Locale",t:IE},2147483651:{n:"Behavior",t:IE},1919054434:{}},J3={1:{n:"CodePage",t:G6},2:{n:"Title",t:Gi},3:{n:"Subject",t:Gi},4:{n:"Author",t:Gi},5:{n:"Keywords",t:Gi},6:{n:"Comments",t:Gi},7:{n:"Template",t:Gi},8:{n:"LastAuthor",t:Gi},9:{n:"RevNumber",t:Gi},10:{n:"EditTime",t:g_},11:{n:"LastPrinted",t:g_},12:{n:"CreatedDate",t:g_},13:{n:"ModifiedDate",t:g_},14:{n:"PageCount",t:jo},15:{n:"WordCount",t:jo},16:{n:"CharCount",t:jo},17:{n:"Thumbnail",t:xge},18:{n:"Application",t:Gi},19:{n:"DocSecurity",t:jo},255:{},2147483648:{n:"Locale",t:IE},2147483651:{n:"Behavior",t:IE},1919054434:{}},E7={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Sge=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Ege(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Age=Ege([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Fp=la(Age),Bd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},yX={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},Z3={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},v_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function K6(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Tge(e){var t=K6();if(!e||!e.match)return t;var r={};if((e.match(to)||[]).forEach(function(n){var a=mr(n);switch(a[0].replace(Lme,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[Z3[a.ContentType]]!==void 0&&t[Z3[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Li.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function xX(e,t){var r=Tme(Z3),n=[],a;n[n.length]=fi,n[n.length]=xt("Types",null,{xmlns:Li.CT,"xmlns:xsd":Li.xsd,"xmlns:xsi":Li.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return xt("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(a=e[l][0],n[n.length]=xt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:v_[l][t.bookType]||v_[l].xlsx}))},s=function(l){(e[l]||[]).forEach(function(c){n[n.length]=xt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:v_[l][t.bookType]||v_[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(c){n[n.length]=xt("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Fr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function x2(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function bx(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(to)||[]).forEach(function(a){var i=mr(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:Qy(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}function av(e){var t=[fi,xt("Relationships",null,{xmlns:Li.RELS})];return Ka(e["!id"]).forEach(function(r){t[t.length]=xt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function kn(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Fr.HLINK,Fr.XPATH,Fr.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var kge="application/vnd.oasis.opendocument.spreadsheet";function Nge(e,t){for(var r=F6(e),n,a;n=y2.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=mr(n[0],!1),a.path=="/"&&a.type!==kge)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function Cge(e){var t=[fi];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function A7(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Pge(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Ige(e){var t=[fi];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(A7(e[r][0],e[r][1])),t.push(Pge("",e[r][0]));return t.push(A7("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function wX(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+SE.version+"</meta:generator></office:meta></office:document-meta>"}var yc=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Oge=function(){for(var e=new Array(yc.length),t=0;t<yc.length;++t){var r=yc[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function bX(e){var t={};e=Rn(e);for(var r=0;r<yc.length;++r){var n=yc[r],a=e.match(Oge[r]);a!=null&&a.length>0&&(t[n[1]]=ln(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=oa(t[n[1]]))}return t}function HN(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Cn(t),n[n.length]=r?xt(e,t,r):xs(e,t))}function _X(e,t){var r=t||{},n=[fi,xt("cp:coreProperties",null,{"xmlns:cp":Li.CORE_PROPS,"xmlns:dc":Li.dc,"xmlns:dcterms":Li.dcterms,"xmlns:dcmitype":Li.dcmitype,"xmlns:xsi":Li.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&HN("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:Y3(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&HN("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:Y3(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=yc.length;++i){var s=yc[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&HN(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Bp=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],SX=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function EX(e,t,r,n){var a=[];if(typeof e=="string")a=m7(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?m7(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function Dge(e,t,r){var n={};return t||(t={}),e=Rn(e),Bp.forEach(function(a){var i=(e.match(g2(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=ln(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&EX(n.HeadingPairs,n.TitlesOfParts,t,r),t}function AX(e){var t=[],r=xt;return e||(e={}),e.Application="SheetJS",t[t.length]=fi,t[t.length]=xt("Properties",null,{xmlns:Li.EXT_PROPS,"xmlns:vt":Li.vt}),Bp.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Cn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Cn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var jge=/<[^>]+>[^<]*/g;function Rge(e,t){var r={},n="",a=e.match(jge);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=mr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=ln(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=ln(u);break;case"bool":r[n]=na(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=oa(u);break;case"cy":case"error":r[n]=ln(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function TX(e){var t=[fi,xt("Properties",null,{xmlns:Li.CUST_PROPS,"xmlns:vt":Li.vt})];if(!e)return t.join("");var r=1;return Ka(e).forEach(function(a){++r,t[t.length]=xt("property",Wme(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Cn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var eP={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},qN;function Lge(e,t,r){qN||(qN=BA(eP)),t=qN[t]||t,e[t]=r}function Mge(e,t){var r=[];return Ka(eP).map(function(n){for(var a=0;a<yc.length;++a)if(yc[a][1]==n)return yc[a];for(a=0;a<Bp.length;++a)if(Bp[a][1]==n)return Bp[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(xs(eP[n[1]]||n[1],a))}}),xt("DocumentProperties",r.join(""),{xmlns:xl.o})}function Fge(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Ka(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<yc.length;++s)if(i==yc[s][1])return;for(s=0;s<Bp.length;++s)if(i==Bp[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(xt(f7(i),o,{"dt:dt":l}))}}),t&&Ka(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(xt(f7(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+xl.o+'">'+a.join("")+"</"+n+">"}function Y6(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Bge(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=Ke(8);return s.write_shift(4,n),s.write_shift(4,a),s}function kX(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function NX(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function CX(e,t,r){return t===31?NX(e):kX(e,t,r)}function tP(e,t,r){return CX(e,t,r===!1?0:4)}function $ge(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return CX(e,t,0)}function Uge(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(So,""),e.l-a&2&&(e.l+=2)}return r}function Vge(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(So,"");return r}function zge(e){var t=e.l,r=OE(e,vX);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=OE(e,jo);return[r,n]}function Wge(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(zge(e));return r}function T7(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(So,"").replace(Xy,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function PX(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Hge(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function OE(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==S7&&n!==t&&_ge.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===S7?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return kX(e,n,4).replace(So,"");case 31:return NX(e);case 64:return Y6(e);case 65:return PX(e);case 71:return Hge(e);case 80:return tP(e,n,!i.raw).replace(So,"");case 81:return $ge(e,n).replace(So,"");case 4108:return Wge(e);case 4126:case 4127:return n==4127?Uge(e):Vge(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function k7(e,t){var r=Ke(4),n=Ke(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ke(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Bge(t);break;case 31:case 80:for(n=Ke(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ji([r,n])}function N7(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(x,w){return x[1]-w[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var p=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,p=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],p=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(p=!1,e.l=i[s][1]),p)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var m=t[i[s][0]];if(h[m.n]=OE(e,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:tu(o=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(i[s][0]===1){if(o=h.CodePage=OE(e,G6),tu(o),l!==-1){var g=e.l;e.l=i[l][1],c=T7(e,o),e.l=g}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=T7(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=PX(e);break;case 30:e.l+=4,y=tP(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=tP(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=ti(e,4);break;case 64:e.l+=4,y=oa(Y6(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}var IX=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function qge(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function C7(e,t,r){var n=Ke(8),a=[],i=[],s=8,o=0,l=Ke(8),c=Ke(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),s+=8+l.length,!t){c=Ke(8),c.write_shift(4,0),a.unshift(c);var u=[Ke(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(l=Ke(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Ji(u),i.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(IX.indexOf(e[o][0])>-1||SX.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],p=0;if(t){p=+t[e[o][0]];var m=r[p];if(m.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=k7(m.t,h)}else{var v=qge(h);v==-1&&(v=31,h=String(h)),l=k7(v,h)}i.push(l),c=Ke(8),c.write_shift(4,t?p:2+o),a.push(c),s+=8+l.length}var y=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,y),y+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),Ji([n].concat(a).concat(i))}function P7(e,t,r){var n=e.content;if(!n)return{};ys(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==tr.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=N7(n,t),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var m;try{m=N7(n,null)}catch{}for(p in m)h[p]=m[p];return h.FMTID=[i,s],h}function I7(e,t,r,n,a,i){var s=Ke(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,tr.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var l=C7(e,r,n);if(o.push(l),a){var c=C7(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(c)}return Ji(o)}function gh(e,t){return e.read_shift(t),null}function Gge(e,t){t||(t=Ke(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function Kge(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function ti(e,t){return e.read_shift(t)===1}function po(e,t){return t||(t=Ke(2)),t.write_shift(2,+!!e),t}function yi(e){return e.read_shift(2,"u")}function sc(e,t){return t||(t=Ke(2)),t.write_shift(2,e),t}function OX(e,t){return Kge(e,t,yi)}function Yge(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function DX(e,t,r){return r||(r=Ke(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function Cw(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function Xge(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Qge(e){var t=e.t||"",r=Ke(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ke(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Ji(a)}function lm(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Pw(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):lm(e,n,r)}function zm(e,t,r){if(r.biff>5)return Pw(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function jX(e,t,r){return r||(r=Ke(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function Jge(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Zge(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(So,"");return n&&(e.l+=24),a}function eve(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(So,"");return r+s}function tve(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Zge(e);case"0303000000000000c000000000000046":return eve(e);default:throw new Error("Unsupported Moniker "+r)}}function y_(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(So,""):"";return r}function O7(e,t){t||(t=Ke(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function rve(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=y_(e,r-e.l)),a&128&&(s=y_(e,r-e.l)),(a&257)===257&&(o=y_(e,r-e.l)),(a&257)===1&&(l=tve(e,r-e.l)),a&8&&(c=y_(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=Y6(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),i&&(p.Tooltip=i),p}function nve(e){var t=Ke(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),O7(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&O7(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function RX(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function LX(e,t){var r=RX(e);return r[3]=0,r}function yf(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function cm(e,t,r,n){return n||(n=Ke(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function ave(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function ive(e,t,r){return t===0?"":zm(e,t,r)}function sve(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function MX(e){var t=e.read_shift(2),r=q6(e);return[t,r]}function ove(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Cw(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function VA(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function FX(e,t){return t||(t=Ke(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function BX(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var lve=BX;function $X(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function cve(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function uve(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Is(e){e.l+=2,e.l+=e.read_shift(2)}var fve={0:Is,4:Is,5:Is,6:Is,7:uve,8:Is,9:Is,10:Is,11:Is,12:Is,13:cve,14:Is,15:Is,16:Is,17:Is,18:Is,19:Is,20:Is,21:$X};function dve(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(fve[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function x_(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function X6(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ke(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function hve(e,t){return t===0||e.read_shift(2),1200}function pve(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=zm(e,0,r);return e.read_shift(t+n-e.l),a}function mve(e,t){var r=!t||t.biff==8,n=Ke(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function gve(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function vve(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Cw(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function yve(e,t){var r=!t||t.biff>=8?2:1,n=Ke(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function xve(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(Xge(e));return i.Count=n,i.Unique=a,i}function wve(e,t){var r=Ke(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=Qge(e[a]);var i=Ji([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function bve(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function _ve(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Sve(e){var t=ave(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Eve(e){return e.read_shift(2),e.read_shift(4)}function D7(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Ave(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Tve(){var e=Ke(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function kve(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Nve(e){var t=Ke(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Cve(){}function Pve(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Cw(e,0,r),n}function Ive(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Ke(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Ove(e){var t=yf(e);return t.isst=e.read_shift(4),t}function Dve(e,t,r,n){var a=Ke(10);return cm(e,t,n,a),a.write_shift(4,r),a}function jve(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=yf(e);r.biff==2&&e.l++;var i=Pw(e,n-e.l,r);return a.val=i,a}function Rve(e,t,r,n,a){var i=!a||a.biff==8,s=Ke(8+ +i+(1+i)*r.length);return cm(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function Lve(e,t,r){var n=e.read_shift(2),a=zm(e,0,r);return[n,a]}function Mve(e,t,r,n){var a=r&&r.biff==5;n||(n=Ke(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var Fve=zm;function j7(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function Bve(e,t){var r=t.biff==8||!t.biff?4:2,n=Ke(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function $ve(e){var t=e.read_shift(2),r=e.read_shift(2),n=MX(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Uve(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(MX(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function Vve(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function zve(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=Sge[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Wve(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=zve(e,t,n.fStyle,r),n}function R7(e,t,r,n){var a=r&&r.biff==5;n||(n=Ke(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Hve(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function qve(e){var t=Ke(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function L7(e,t,r){var n=yf(e);(r.biff==2||t==9)&&++e.l;var a=Yge(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Gve(e,t,r,n,a,i){var s=Ke(8);return cm(e,t,n,s),DX(r,i,s),s}function Kve(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=yf(e),a=qs(e);return n.val=a,n}function Yve(e,t,r,n){var a=Ke(14);return cm(e,t,n,a),om(r,a),a}var M7=ive;function Xve(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=lm(e,i),o=[];n>e.l;)o.push(Pw(e));return[i,a,s,o]}function F7(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=ove(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Qve=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function B7(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=lm(e,s,r);a&32&&(c=Qve[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:dwe(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function UX(e,t,r){if(r.biff<8)return Jve(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(sve(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Jve(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Cw(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Zve(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=lm(e,n,r),s=lm(e,a,r);return[i,s]}function e1e(e,t,r){var n=BX(e);e.l++;var a=e.read_shift(1);return t-=8,[hwe(e,t,r),a,n]}function $7(e,t,r){var n=lve(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,uwe(e,t,r)]}function t1e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function r1e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=zm(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function n1e(e,t,r){return r1e(e,t,r)}function a1e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(VA(e));return r}function i1e(e){var t=Ke(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)FX(e[r],t);return t}function s1e(e,t,r){if(r&&r.biff<8)return l1e(e,t,r);var n=$X(e),a=dve(e,t-22,n[1]);return{cmo:n,ft:a}}var o1e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function l1e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((o1e[n]||Zs)(e,t,r)),{cmo:[a,n,i],ft:s}}function c1e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=Jge(e,6,r);var o=e.read_shift(2);e.read_shift(2),yi(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=lm(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function u1e(e,t){var r=VA(e);e.l+=16;var n=rve(e,t-24);return[r,n]}function f1e(e){var t=Ke(24),r=Ca(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Ji([t,nve(e[1])])}function d1e(e,t){e.read_shift(2);var r=VA(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(So,""),[r,n]}function h1e(e){var t=e[1].Tooltip,r=Ke(10+2*(t.length+1));r.write_shift(2,2048);var n=Ca(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function p1e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=E7[r]||r,r=e.read_shift(2),t[1]=E7[r]||r,t}function m1e(e){return e||(e=Ke(4)),e.write_shift(2,1),e.write_shift(2,1),e}function g1e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(LX(e));return r}function v1e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(LX(e));return r}function y1e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function VX(e,t,r){if(!r.cellStyles)return Zs(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function x1e(e,t){var r=Ke(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function w1e(e,t){var r={};return t<32||(e.l+=16,r.header=qs(e),r.footer=qs(e),e.l+=2),r}function b1e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function _1e(e){for(var t=Ke(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var S1e=yf,E1e=OX,A1e=Pw;function T1e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function k1e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=yf(e);++e.l;var a=zm(e,t-7,r);return n.t="str",n.val=a,n}function N1e(e){var t=yf(e);++e.l;var r=qs(e);return t.t="n",t.val=r,t}function C1e(e,t,r){var n=Ke(15);return jw(n,e,t),n.write_shift(8,r,"f"),n}function P1e(e){var t=yf(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function I1e(e,t,r){var n=Ke(9);return jw(n,e,t),n.write_shift(2,r),n}function O1e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function D1e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function j1e(e,t,r){var n=e.l+t,a=yf(e),i=e.read_shift(2),s=lm(e,i,r);return e.l=n,a.t="str",a.val=s,a}var R1e=[2,3,48,49,131,139,140,245],rP=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=BA({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=c0(1);switch(l.type){case"base64":u=_l(jl(o));break;case"binary":u=_l(o);break;case"buffer":case"array":u=o;break}ys(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=u.read_shift(2));var y=u.read_shift(2),x=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(x=e[u[u.l]]),u.l+=1,u.l+=2),m&&(u.l+=36);for(var w=[],E={},I=Math.min(u.length,f==2?521:v-10-(p?264:0)),P=m?32:11;u.l<I&&u[u.l]!=13;)switch(E={},E.name=h2.utils.decode(x,u.slice(u.l,u.l+P)).replace(/[\u0000\r\n].*$/g,""),u.l+=P,E.type=String.fromCharCode(u.read_shift(1)),f!=2&&!m&&(E.offset=u.read_shift(4)),E.len=u.read_shift(1),f==2&&(E.offset=u.read_shift(2)),E.dec=u.read_shift(1),E.name.length&&w.push(E),f!=2&&(u.l+=m?13:14),E.type){case"B":(!p||E.len!=8)&&l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var A=0,S=0;for(c[0]=[],S=0;S!=w.length;++S)c[0][S]=w[S].name;for(;g-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++A]=[],S=0,S=0;S!=w.length;++S){var k=u.slice(u.l,u.l+w[S].len);u.l+=w[S].len,ys(k,0);var O=h2.utils.decode(x,k);switch(w[S].type){case"C":O.trim().length&&(c[A][S]=O.replace(/\s+$/,""));break;case"D":O.length===8?c[A][S]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):c[A][S]=O;break;case"F":c[A][S]=parseFloat(O.trim());break;case"+":case"I":c[A][S]=m?k.read_shift(-4,"i")^2147483648:k.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":c[A][S]=!0;break;case"N":case"F":c[A][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[A][S]="##MEMO##"+(m?parseInt(O.trim(),10):k.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(c[A][S]=+O||0);break;case"@":c[A][S]=new Date(k.read_shift(-8,"f")-621356832e5);break;case"T":c[A][S]=new Date((k.read_shift(4)-2440588)*864e5+k.read_shift(4));break;case"Y":c[A][S]=k.read_shift(4,"i")/1e4+k.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[A][S]=-k.read_shift(-8,"f");break;case"B":if(p&&w[S].len==8){c[A][S]=k.read_shift(8,"f");break}case"G":case"P":k.l+=w[S].len;break;case"0":if(w[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[S].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=d1(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return D0(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&tu(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Ko(),f=RE(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),m=o["!cols"]||[],g=0,v=0,y=0,x=1;for(g=0;g<h.length;++g){if(((m[g]||{}).DBF||{}).name){h[g]=m[g].DBF.name,++y;continue}if(h[g]!=null){if(++y,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(v=0;v<1024;++v)if(h.indexOf(h[g]+"_"+v)==-1){h[g]+="_"+v;break}}}}var w=cn(o["!ref"]),E=[],I=[],P=[];for(g=0;g<=w.e.c-w.s.c;++g){var A="",S="",k=0,O=[];for(v=0;v<p.length;++v)p[v][g]!=null&&O.push(p[v][g]);if(O.length==0||h[g]==null){E[g]="?";continue}for(v=0;v<O.length;++v){switch(typeof O[v]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=O[v]instanceof Date?"D":"C";break;default:S="C"}k=Math.max(k,String(O[v]).length),A=A&&A!=S?"C":S}k>250&&(k=250),S=((m[g]||{}).DBF||{}).type,S=="C"&&m[g].DBF.len>k&&(k=m[g].DBF.len),A=="B"&&S=="N"&&(A="N",P[g]=m[g].DBF.dec,k=m[g].DBF.len),I[g]=A=="C"||S=="N"?k:i[A]||0,x+=I[g],E[g]=A}var T=u.next(32);for(T.write_shift(4,318902576),T.write_shift(4,p.length),T.write_shift(2,296+32*y),T.write_shift(2,x),g=0;g<4;++g)T.write_shift(4,0);for(T.write_shift(4,0|(+t[IY]||3)<<8),g=0,v=0;g<h.length;++g)if(h[g]!=null){var C=u.next(32),D=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,D,"sbcs"),C.write_shift(1,E[g]=="?"?"C":E[g],"sbcs"),C.write_shift(4,v),C.write_shift(1,I[g]||i[E[g]]||0),C.write_shift(1,P[g]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),v+=I[g]||i[E[g]]||0}var B=u.next(264);for(B.write_shift(4,13),g=0;g<65;++g)B.write_shift(4,0);for(g=0;g<p.length;++g){var Y=u.next(x);for(Y.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(E[v]){case"L":Y.write_shift(1,p[g][v]==null?63:p[g][v]?84:70);break;case"B":Y.write_shift(8,p[g][v]||0,"f");break;case"N":var ee="0";for(typeof p[g][v]=="number"&&(ee=p[g][v].toFixed(P[v]||0)),y=0;y<I[v]-ee.length;++y)Y.write_shift(1,32);Y.write_shift(1,ee,"sbcs");break;case"D":p[g][v]?(Y.write_shift(4,("0000"+p[g][v].getFullYear()).slice(-4),"sbcs"),Y.write_shift(2,("00"+(p[g][v].getMonth()+1)).slice(-2),"sbcs"),Y.write_shift(2,("00"+p[g][v].getDate()).slice(-2),"sbcs")):Y.write_shift(8,"00000000","sbcs");break;case"C":var re=String(p[g][v]!=null?p[g][v]:"").slice(0,I[v]);for(Y.write_shift(1,re,"sbcs"),y=0;y<I[v]-re.length;++y)Y.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),zX=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ka(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var m=e[p];return typeof m=="number"?QF(m):m},n=function(h,p,m){var g=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return g==59?h:QF(g)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return i(jl(h),p);case"binary":return i(h,p);case"buffer":return i(Rr&&Buffer.isBuffer(h)?h.toString("binary"):O0(h),p);case"array":return i(sm(h),p)}throw new Error("Unrecognized type "+p.type)}function i(h,p){var m=h.split(/[\n\r]+/),g=-1,v=-1,y=0,x=0,w=[],E=[],I=null,P={},A=[],S=[],k=[],O=0,T;for(+p.codepage>=0&&tu(+p.codepage);y!==m.length;++y){O=0;var C=m[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),D=C.replace(/;;/g,"\0").split(";").map(function(W){return W.replace(/\u0000/g,";")}),B=D[0],Y;if(C.length>0)switch(B){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&E.push(C.slice(3).replace(/;;/g,";"));break;case"C":var ee=!1,re=!1,G=!1,q=!1,be=-1,_e=-1;for(x=1;x<D.length;++x)switch(D[x].charAt(0)){case"A":break;case"X":v=parseInt(D[x].slice(1))-1,re=!0;break;case"Y":for(g=parseInt(D[x].slice(1))-1,re||(v=0),T=w.length;T<=g;++T)w[T]=[];break;case"K":Y=D[x].slice(1),Y.charAt(0)==='"'?Y=Y.slice(1,Y.length-1):Y==="TRUE"?Y=!0:Y==="FALSE"?Y=!1:isNaN(ou(Y))?isNaN(Iv(Y).getDate())||(Y=oa(Y)):(Y=ou(Y),I!==null&&u1(I)&&(Y=UA(Y))),ee=!0;break;case"E":q=!0;var R=iv(D[x].slice(1),{r:g,c:v});w[g][v]=[w[g][v],R];break;case"S":G=!0,w[g][v]=[w[g][v],"S5S"];break;case"G":break;case"R":be=parseInt(D[x].slice(1))-1;break;case"C":_e=parseInt(D[x].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+C)}if(ee&&(w[g][v]&&w[g][v].length==2?w[g][v][0]=Y:w[g][v]=Y,I=null),G){if(q)throw new Error("SYLK shared formula cannot have own formula");var U=be>-1&&w[be][_e];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");w[g][v][1]=oQ(U[1],{r:g-be,c:v-_e})}break;case"F":var z=0;for(x=1;x<D.length;++x)switch(D[x].charAt(0)){case"X":v=parseInt(D[x].slice(1))-1,++z;break;case"Y":for(g=parseInt(D[x].slice(1))-1,T=w.length;T<=g;++T)w[T]=[];break;case"M":O=parseInt(D[x].slice(1))/20;break;case"F":break;case"G":break;case"P":I=E[parseInt(D[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(k=D[x].slice(1).split(" "),T=parseInt(k[0],10);T<=parseInt(k[1],10);++T)O=parseInt(k[2],10),S[T-1]=O===0?{hidden:!0}:{wch:O},u0(S[T-1]);break;case"C":v=parseInt(D[x].slice(1))-1,S[v]||(S[v]={});break;case"R":g=parseInt(D[x].slice(1))-1,A[g]||(A[g]={}),O>0?(A[g].hpt=O,A[g].hpx=Dv(O)):O===0&&(A[g].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+C)}z<1&&(I=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+C)}}return A.length>0&&(P["!rows"]=A),S.length>0&&(P["!cols"]=S),p&&p.sheetRows&&(w=w.slice(0,p.sheetRows)),[w,P]}function s(h,p){var m=a(h,p),g=m[0],v=m[1],y=d1(g,p);return Ka(v).forEach(function(x){y[x]=v[x]}),y}function o(h,p){return D0(s(h,p),p)}function l(h,p,m,g){var v="C;Y"+(m+1)+";X"+(g+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+rD(h.f,{r:m,c:g}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,p){p.forEach(function(m,g){var v="F;W"+(g+1)+" "+(g+1)+" ";m.hidden?v+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=b2(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=_2(m.wpx)),typeof m.wch=="number"&&(v+=Math.round(m.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,p){p.forEach(function(m,g){var v="F;";m.hidden?v+="M0;":m.hpt?v+="M"+20*m.hpt+";":m.hpx&&(v+="M"+20*S2(m.hpx)+";"),v.length>2&&h.push(v+"R"+(g+1))})}function f(h,p){var m=["ID;PWXL;N;E"],g=[],v=cn(h["!ref"]),y,x=Array.isArray(h),w=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&c(m,h["!cols"]),h["!rows"]&&u(m,h["!rows"]),m.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var E=v.s.r;E<=v.e.r;++E)for(var I=v.s.c;I<=v.e.c;++I){var P=cr({r:E,c:I});y=x?(h[E]||[])[I]:h[P],!(!y||y.v==null&&(!y.f||y.F))&&g.push(l(y,h,E,I))}return m.join(w)+w+g.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),WX=function(){function e(i,s){switch(s.type){case"base64":return t(jl(i),s);case"binary":return t(i,s);case"buffer":return t(Rr&&Buffer.isBuffer(i)?i.toString("binary"):O0(i),s);case"array":return t(sm(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],m=h[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+p){case-1:if(g==="BOT"){f[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][c]=!0:g==="FALSE"?f[l][c]=!1:isNaN(ou(m))?isNaN(Iv(m).getDate())?f[l][c]=m:f[l][c]=oa(m):f[l][c]=ou(m),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return d1(e(i,s),s)}function n(i,s){return D0(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=cn(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){s(c,-1,0,"BOT");for(var m=u.s.c;m<=u.e.c;++m){var g=cr({r:p,c:m});if(f=h?(l[p]||[])[m]:l[g],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=_c(f.z||or[14],Bi(oa(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,x=c.join(y);return x}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),HX=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),m=-1,g=-1,v=0,y=[];v!==p.length;++v){var x=p[v].trim().split(":");if(x[0]==="cell"){var w=Ca(x[1]);if(y.length<=w.r)for(m=y.length;m<=w.r;++m)y[m]||(y[m]=[]);switch(m=w.r,g=w.c,x[2]){case"t":y[m][g]=e(x[3]);break;case"v":y[m][g]=+x[3];break;case"vtf":var E=x[x.length-1];case"vtc":switch(x[3]){case"nl":y[m][g]=!!+x[4];break;default:y[m][g]=+x[4];break}x[2]=="vtf"&&(y[m][g]=[y[m][g],E])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return d1(r(f,h),h)}function a(f,h){return D0(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],m,g="",v=el(f["!ref"]),y=Array.isArray(f),x=v.s.r;x<=v.e.r;++x)for(var w=v.s.c;w<=v.e.c;++w)if(g=cr({r:x,c:w}),m=y?(f[x]||[])[w]:f[g],!(!m||m.v==null||m.t==="z")){switch(p=["cell",g,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var E=Bi(oa(m.v));p[2]="vtc",p[3]="nd",p[4]=""+E,p[5]=m.w||_c(m.z||or[14],E);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),Ov=function(){function e(u,f,h,p,m){m.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(ou(u))?isNaN(Iv(u).getDate())?f[h][p]=u:f[h][p]=oa(u):f[h][p]=ou(u))}function t(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var m=u.split(/[\r\n]/),g=m.length-1;g>=0&&m[g].length===0;)--g;for(var v=10,y=0,x=0;x<=g;++x)y=m[x].indexOf(" "),y==-1?y=m[x].length:y++,v=Math.max(v,y);for(x=0;x<=g;++x){p[x]=[];var w=0;for(e(m[x].slice(0,v).trim(),p,x,w,h),w=1;w<=(m[x].length-v)/10+1;++w)e(m[x].slice(v+(w-1)*10,v+w*10).trim(),p,x,w,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,p=0,m=0;p<u.length;++p)(m=u.charCodeAt(p))==34?h=!h:!h&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p]);if(!m.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p])}return m.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[m.pop()[1]]||44}function i(u,f){var h=f||{},p="",m=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var v=0,y=0,x=0,w=0,E=0,I=p.charCodeAt(0),P=!1,A=0,S=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var k=h.dateNF!=null?bme(h.dateNF):null;function O(){var T=u.slice(w,E),C={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)C.t="z";else if(h.raw)C.t="s",C.v=T;else if(T.trim().length===0)C.t="s",C.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(C.t="s",C.v=T.slice(2,-1).replace(/""/g,'"')):Xxe(T)?(C.t="n",C.f=T.slice(1)):(C.t="s",C.v=T);else if(T=="TRUE")C.t="b",C.v=!0;else if(T=="FALSE")C.t="b",C.v=!1;else if(!isNaN(x=ou(T)))C.t="n",h.cellText!==!1&&(C.w=T),C.v=x;else if(!isNaN(Iv(T).getDate())||k&&T.match(k)){C.z=h.dateNF||or[14];var D=0;k&&T.match(k)&&(T=_me(T,h.dateNF,T.match(k)||[]),D=1),h.cellDates?(C.t="d",C.v=oa(T,D)):(C.t="n",C.v=Bi(oa(T,D))),h.cellText!==!1&&(C.w=_c(C.z,C.v instanceof Date?Bi(C.v):C.v)),h.cellNF||delete C.z}else C.t="s",C.v=T;if(C.t=="z"||(h.dense?(m[v]||(m[v]=[]),m[v][y]=C):m[cr({c:y,r:v})]=C),w=E+1,S=u.charCodeAt(w),g.e.c<y&&(g.e.c=y),g.e.r<v&&(g.e.r=v),A==I)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;E<u.length;++E)switch(A=u.charCodeAt(E)){case 34:S===34&&(P=!P);break;case I:case 10:case 13:if(!P&&O())break e;break}return E-w>0&&O(),m["!ref"]=kr(g),m}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):d1(t(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:uD(u,f);switch(f.type){case"base64":h=jl(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof h2<"u"||(h=Rr&&Buffer.isBuffer(u)?u.toString("binary"):O0(u));break;case"array":h=sm(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Rn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Rn(h):f.type=="binary"&&typeof h2<"u",h.slice(0,19)=="socialcalc:version:"?HX.to_sheet(f.type=="string"?h:Rn(h),f):s(h,f)}function l(u,f){return D0(o(u,f),f)}function c(u){for(var f=[],h=cn(u["!ref"]),p,m=Array.isArray(u),g=h.s.r;g<=h.e.r;++g){for(var v=[],y=h.s.c;y<=h.e.c;++y){var x=cr({r:g,c:y});if(p=m?(u[g]||[])[y]:u[x],!p||p.v==null){v.push("          ");continue}for(var w=(p.w||(wd(p),p.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function L1e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=zX.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Ov.to_workbook(e,t)}}var $p=function(){function e(R,U,z){if(R){ys(R,R.l||0);for(var W=z.Enum||be;R.l<R.length;){var Z=R.read_shift(2),le=W[Z]||W[65535],he=R.read_shift(2),ae=R.l+he,pe=le.f&&le.f(R,he,z);if(R.l=ae,U(pe,le,Z))return}}}function t(R,U){switch(U.type){case"base64":return r(_l(jl(R)),U);case"binary":return r(_l(R),U);case"buffer":case"array":return r(R,U)}throw"Unsupported type "+U.type}function r(R,U){if(!R)return R;var z=U||{},W=z.dense?[]:{},Z="Sheet1",le="",he=0,ae={},pe=[],ke=[],K={s:{r:0,c:0},e:{r:0,c:0}},qe=z.sheetRows||0;if(R[2]==0&&(R[3]==8||R[3]==9)&&R.length>=16&&R[14]==5&&R[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(R[2]==2)z.Enum=be,e(R,function($e,pt,et){switch(et){case 0:z.vers=$e,$e>=4096&&(z.qpro=!0);break;case 6:K=$e;break;case 204:$e&&(le=$e);break;case 222:le=$e;break;case 15:case 51:z.qpro||($e[1].v=$e[1].v.slice(1));case 13:case 14:case 16:et==14&&($e[2]&112)==112&&($e[2]&15)>1&&($e[2]&15)<15&&($e[1].z=z.dateNF||or[14],z.cellDates&&($e[1].t="d",$e[1].v=UA($e[1].v))),z.qpro&&$e[3]>he&&(W["!ref"]=kr(K),ae[Z]=W,pe.push(Z),W=z.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},he=$e[3],Z=le||"Sheet"+(he+1),le="");var yt=z.dense?(W[$e[0].r]||[])[$e[0].c]:W[cr($e[0])];if(yt){yt.t=$e[1].t,yt.v=$e[1].v,$e[1].z!=null&&(yt.z=$e[1].z),$e[1].f!=null&&(yt.f=$e[1].f);break}z.dense?(W[$e[0].r]||(W[$e[0].r]=[]),W[$e[0].r][$e[0].c]=$e[1]):W[cr($e[0])]=$e[1];break}},z);else if(R[2]==26||R[2]==14)z.Enum=_e,R[2]==14&&(z.qpro=!0,R.l=0),e(R,function($e,pt,et){switch(et){case 204:Z=$e;break;case 22:$e[1].v=$e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if($e[3]>he&&(W["!ref"]=kr(K),ae[Z]=W,pe.push(Z),W=z.dense?[]:{},K={s:{r:0,c:0},e:{r:0,c:0}},he=$e[3],Z="Sheet"+(he+1)),qe>0&&$e[0].r>=qe)break;z.dense?(W[$e[0].r]||(W[$e[0].r]=[]),W[$e[0].r][$e[0].c]=$e[1]):W[cr($e[0])]=$e[1],K.e.c<$e[0].c&&(K.e.c=$e[0].c),K.e.r<$e[0].r&&(K.e.r=$e[0].r);break;case 27:$e[14e3]&&(ke[$e[14e3][0]]=$e[14e3][1]);break;case 1537:ke[$e[0]]=$e[1],$e[0]==he&&(Z=$e[1]);break}},z);else throw new Error("Unrecognized LOTUS BOF "+R[2]);if(W["!ref"]=kr(K),ae[le||Z]=W,pe.push(le||Z),!ke.length)return{SheetNames:pe,Sheets:ae};for(var Ae={},ue=[],ot=0;ot<ke.length;++ot)ae[pe[ot]]?(ue.push(ke[ot]||pe[ot]),Ae[ke[ot]]=ae[ke[ot]]||ae[pe[ot]]):(ue.push(ke[ot]),Ae[ke[ot]]={"!ref":"A1"});return{SheetNames:ue,Sheets:Ae}}function n(R,U){var z=U||{};if(+z.codepage>=0&&tu(+z.codepage),z.type=="string")throw new Error("Cannot write WK1 to JS string");var W=Ko(),Z=cn(R["!ref"]),le=Array.isArray(R),he=[];bt(W,0,i(1030)),bt(W,6,l(Z));for(var ae=Math.min(Z.e.r,8191),pe=Z.s.r;pe<=ae;++pe)for(var ke=ui(pe),K=Z.s.c;K<=Z.e.c;++K){pe===Z.s.r&&(he[K]=Na(K));var qe=he[K]+ke,Ae=le?(R[pe]||[])[K]:R[qe];if(!(!Ae||Ae.t=="z"))if(Ae.t=="n")(Ae.v|0)==Ae.v&&Ae.v>=-32768&&Ae.v<=32767?bt(W,13,p(pe,K,Ae.v)):bt(W,14,g(pe,K,Ae.v));else{var ue=wd(Ae);bt(W,15,f(pe,K,ue.slice(0,239)))}}return bt(W,1),W.end()}function a(R,U){var z=U||{};if(+z.codepage>=0&&tu(+z.codepage),z.type=="string")throw new Error("Cannot write WK3 to JS string");var W=Ko();bt(W,0,s(R));for(var Z=0,le=0;Z<R.SheetNames.length;++Z)(R.Sheets[R.SheetNames[Z]]||{})["!ref"]&&bt(W,27,q(R.SheetNames[Z],le++));var he=0;for(Z=0;Z<R.SheetNames.length;++Z){var ae=R.Sheets[R.SheetNames[Z]];if(!(!ae||!ae["!ref"])){for(var pe=cn(ae["!ref"]),ke=Array.isArray(ae),K=[],qe=Math.min(pe.e.r,8191),Ae=pe.s.r;Ae<=qe;++Ae)for(var ue=ui(Ae),ot=pe.s.c;ot<=pe.e.c;++ot){Ae===pe.s.r&&(K[ot]=Na(ot));var $e=K[ot]+ue,pt=ke?(ae[Ae]||[])[ot]:ae[$e];if(!(!pt||pt.t=="z"))if(pt.t=="n")bt(W,23,O(Ae,ot,he,pt.v));else{var et=wd(pt);bt(W,22,A(Ae,ot,he,et.slice(0,239)))}}++he}}return bt(W,1),W.end()}function i(R){var U=Ke(2);return U.write_shift(2,R),U}function s(R){var U=Ke(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var z=0,W=0,Z=0,le=0;le<R.SheetNames.length;++le){var he=R.SheetNames[le],ae=R.Sheets[he];if(!(!ae||!ae["!ref"])){++Z;var pe=el(ae["!ref"]);z<pe.e.r&&(z=pe.e.r),W<pe.e.c&&(W=pe.e.c)}}return z>8191&&(z=8191),U.write_shift(2,z),U.write_shift(1,Z),U.write_shift(1,W),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function o(R,U,z){var W={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&z.qpro?(W.s.c=R.read_shift(1),R.l++,W.s.r=R.read_shift(2),W.e.c=R.read_shift(1),R.l++,W.e.r=R.read_shift(2),W):(W.s.c=R.read_shift(2),W.s.r=R.read_shift(2),U==12&&z.qpro&&(R.l+=2),W.e.c=R.read_shift(2),W.e.r=R.read_shift(2),U==12&&z.qpro&&(R.l+=2),W.s.c==65535&&(W.s.c=W.e.c=W.s.r=W.e.r=0),W)}function l(R){var U=Ke(8);return U.write_shift(2,R.s.c),U.write_shift(2,R.s.r),U.write_shift(2,R.e.c),U.write_shift(2,R.e.r),U}function c(R,U,z){var W=[{c:0,r:0},{t:"n",v:0},0,0];return z.qpro&&z.vers!=20768?(W[0].c=R.read_shift(1),W[3]=R.read_shift(1),W[0].r=R.read_shift(2),R.l+=2):(W[2]=R.read_shift(1),W[0].c=R.read_shift(2),W[0].r=R.read_shift(2)),W}function u(R,U,z){var W=R.l+U,Z=c(R,U,z);if(Z[1].t="s",z.vers==20768){R.l++;var le=R.read_shift(1);return Z[1].v=R.read_shift(le,"utf8"),Z}return z.qpro&&R.l++,Z[1].v=R.read_shift(W-R.l,"cstr"),Z}function f(R,U,z){var W=Ke(7+z.length);W.write_shift(1,255),W.write_shift(2,U),W.write_shift(2,R),W.write_shift(1,39);for(var Z=0;Z<W.length;++Z){var le=z.charCodeAt(Z);W.write_shift(1,le>=128?95:le)}return W.write_shift(1,0),W}function h(R,U,z){var W=c(R,U,z);return W[1].v=R.read_shift(2,"i"),W}function p(R,U,z){var W=Ke(7);return W.write_shift(1,255),W.write_shift(2,U),W.write_shift(2,R),W.write_shift(2,z,"i"),W}function m(R,U,z){var W=c(R,U,z);return W[1].v=R.read_shift(8,"f"),W}function g(R,U,z){var W=Ke(13);return W.write_shift(1,255),W.write_shift(2,U),W.write_shift(2,R),W.write_shift(8,z,"f"),W}function v(R,U,z){var W=R.l+U,Z=c(R,U,z);if(Z[1].v=R.read_shift(8,"f"),z.qpro)R.l=W;else{var le=R.read_shift(2);E(R.slice(R.l,R.l+le),Z),R.l+=le}return Z}function y(R,U,z){var W=U&32768;return U&=-32769,U=(W?R:0)+(U>=8192?U-16384:U),(W?"":"$")+(z?Na(U):ui(U))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(R,U){ys(R,0);for(var z=[],W=0,Z="",le="",he="",ae="";R.l<R.length;){var pe=R[R.l++];switch(pe){case 0:z.push(R.read_shift(8,"f"));break;case 1:le=y(U[0].c,R.read_shift(2),!0),Z=y(U[0].r,R.read_shift(2),!1),z.push(le+Z);break;case 2:{var ke=y(U[0].c,R.read_shift(2),!0),K=y(U[0].r,R.read_shift(2),!1);le=y(U[0].c,R.read_shift(2),!0),Z=y(U[0].r,R.read_shift(2),!1),z.push(ke+K+":"+le+Z)}break;case 3:if(R.l<R.length){console.error("WK1 premature formula end");return}break;case 4:z.push("("+z.pop()+")");break;case 5:z.push(R.read_shift(2));break;case 6:{for(var qe="";pe=R[R.l++];)qe+=String.fromCharCode(pe);z.push('"'+qe.replace(/"/g,'""')+'"')}break;case 8:z.push("-"+z.pop());break;case 23:z.push("+"+z.pop());break;case 22:z.push("NOT("+z.pop()+")");break;case 20:case 21:ae=z.pop(),he=z.pop(),z.push(["AND","OR"][pe-20]+"("+he+","+ae+")");break;default:if(pe<32&&w[pe])ae=z.pop(),he=z.pop(),z.push(he+w[pe]+ae);else if(x[pe]){if(W=x[pe][1],W==69&&(W=R[R.l++]),W>z.length){console.error("WK1 bad formula parse 0x"+pe.toString(16)+":|"+z.join("|")+"|");return}var Ae=z.slice(-W);z.length-=W,z.push(x[pe][0]+"("+Ae.join(",")+")")}else return pe<=7?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=24?console.error("WK1 unsupported op "+pe.toString(16)):pe<=30?console.error("WK1 invalid opcode "+pe.toString(16)):pe<=115?console.error("WK1 unsupported function opcode "+pe.toString(16)):console.error("WK1 unrecognized opcode "+pe.toString(16))}}z.length==1?U[1].f=""+z[0]:console.error("WK1 bad formula parse |"+z.join("|")+"|")}function I(R){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=R.read_shift(2),U[3]=R[R.l++],U[0].c=R[R.l++],U}function P(R,U){var z=I(R);return z[1].t="s",z[1].v=R.read_shift(U-4,"cstr"),z}function A(R,U,z,W){var Z=Ke(6+W.length);Z.write_shift(2,R),Z.write_shift(1,z),Z.write_shift(1,U),Z.write_shift(1,39);for(var le=0;le<W.length;++le){var he=W.charCodeAt(le);Z.write_shift(1,he>=128?95:he)}return Z.write_shift(1,0),Z}function S(R,U){var z=I(R);z[1].v=R.read_shift(2);var W=z[1].v>>1;if(z[1].v&1)switch(W&7){case 0:W=(W>>3)*5e3;break;case 1:W=(W>>3)*500;break;case 2:W=(W>>3)/20;break;case 3:W=(W>>3)/200;break;case 4:W=(W>>3)/2e3;break;case 5:W=(W>>3)/2e4;break;case 6:W=(W>>3)/16;break;case 7:W=(W>>3)/64;break}return z[1].v=W,z}function k(R,U){var z=I(R),W=R.read_shift(4),Z=R.read_shift(4),le=R.read_shift(2);if(le==65535)return W===0&&Z===3221225472?(z[1].t="e",z[1].v=15):W===0&&Z===3489660928?(z[1].t="e",z[1].v=42):z[1].v=0,z;var he=le&32768;return le=(le&32767)-16446,z[1].v=(1-he*2)*(Z*Math.pow(2,le+32)+W*Math.pow(2,le)),z}function O(R,U,z,W){var Z=Ke(14);if(Z.write_shift(2,R),Z.write_shift(1,z),Z.write_shift(1,U),W==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var le=0,he=0,ae=0,pe=0;return W<0&&(le=1,W=-W),he=Math.log2(W)|0,W/=Math.pow(2,he-31),pe=W>>>0,pe&2147483648||(W/=2,++he,pe=W>>>0),W-=pe,pe|=2147483648,pe>>>=0,W*=Math.pow(2,32),ae=W>>>0,Z.write_shift(4,ae),Z.write_shift(4,pe),he+=16383+(le?32768:0),Z.write_shift(2,he),Z}function T(R,U){var z=k(R);return R.l+=U-14,z}function C(R,U){var z=I(R),W=R.read_shift(4);return z[1].v=W>>6,z}function D(R,U){var z=I(R),W=R.read_shift(8,"f");return z[1].v=W,z}function B(R,U){var z=D(R);return R.l+=U-10,z}function Y(R,U){return R[R.l+U-1]==0?R.read_shift(U,"cstr"):""}function ee(R,U){var z=R[R.l++];z>U-1&&(z=U-1);for(var W="";W.length<z;)W+=String.fromCharCode(R[R.l++]);return W}function re(R,U,z){if(!(!z.qpro||U<21)){var W=R.read_shift(1);R.l+=17,R.l+=1,R.l+=2;var Z=R.read_shift(U-21,"cstr");return[W,Z]}}function G(R,U){for(var z={},W=R.l+U;R.l<W;){var Z=R.read_shift(2);if(Z==14e3){for(z[Z]=[0,""],z[Z][0]=R.read_shift(2);R[R.l];)z[Z][1]+=String.fromCharCode(R[R.l]),R.l++;R.l++}}return z}function q(R,U){var z=Ke(5+R.length);z.write_shift(2,14e3),z.write_shift(2,U);for(var W=0;W<R.length;++W){var Z=R.charCodeAt(W);z[z.l++]=Z>127?95:Z}return z[z.l++]=0,z}var be={0:{n:"BOF",f:yi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Y},222:{n:"SHEETNAMELP",f:ee},65535:{n:""}},_e={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:k},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:G},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:B},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Y},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:re},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function M1e(e){var t={},r=e.match(to),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=mr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=k6[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var F1e=function(){var e=g2("t"),t=g2("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:ln(s[1])},l=i.match(t);return l&&(o.s=M1e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),B1e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),$1e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,U1e=/<(?:\w+:)?r>/,V1e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function Q6(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=ln(Rn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Rn(e),r&&(n.h=M6(n.t))):e.match(U1e)&&(n.r=Rn(e),n.t=ln(Rn((e.replace(V1e,"").match($1e)||[]).join("").replace(to,""))),r&&(n.h=B1e(F1e(n.r)))),n):{t:""}}var z1e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,W1e=/<(?:\w+:)?(?:si|sstItem)>/g,H1e=/<\/(?:\w+:)?(?:si|sstItem)>/;function q1e(e,t){var r=[],n="";if(!e)return r;var a=e.match(z1e);if(a){n=a[2].replace(W1e,"").split(H1e);for(var i=0;i!=n.length;++i){var s=Q6(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=mr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var G1e=/^\s|\s$|[\t\n\r]/;function qX(e,t){if(!t.bookSST)return"";var r=[fi];r[r.length]=xt("sst",null,{xmlns:Fm[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(G1e)&&(i+=' xml:space="preserve"'),i+=">"+Cn(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function K1e(e){return[e.read_shift(4),e.read_shift(4)]}function Y1e(e,t){var r=[],n=!1;return Fd(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function X1e(e,t){return t||(t=Ke(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var Q1e=oge;function J1e(e){var t=Ko();it(t,159,X1e(e));for(var r=0;r<e.length;++r)it(t,19,Q1e(e[r]));return it(t,160),t.end()}function GX(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function ld(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Z1e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=ld(e,4),t.U=ld(e,4),t.W=ld(e,4),t}function eye(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function tye(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(eye(e));return t}function rye(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function nye(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=ld(e,4),t.U=ld(e,4),t.W=ld(e,4),t}function aye(e){var t=nye(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function KX(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function YX(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function iye(e){var t=ld(e);switch(t.Minor){case 2:return[t.Minor,sye(e)];case 3:return[t.Minor,oye()];case 4:return[t.Minor,lye(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function sye(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=KX(e,r),a=YX(e,e.length-e.l);return{t:"Std",h:n,v:a}}function oye(){throw new Error("File is password-protected: ECMA-376 Extensible")}function lye(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(to,function(i){var s=mr(i);switch(vf(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function cye(e,t){var r={},n=r.EncryptionVersionInfo=ld(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=KX(e,a),t-=a,r.EncryptionVerifier=YX(e,t),r}function uye(e){var t={},r=t.EncryptionVersionInfo=ld(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function J6(e){var t=0,r,n=GX(e),a=n.length+1,i,s,o,l,c;for(r=c0(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var XX=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=GX(s),l=i(o),c=o.length,u=c0(16),f=0;f!=16;++f)u[f]=0;var h,p,m;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],u[c]=a(p,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,m=15-o.length;m>0;)h=l>>8,u[c]=a(e[m],h),--c,--m,h=l&255,u[c]=a(o[c],h),--c,--m;return u}}(),fye=function(e,t,r,n,a){a||(a=t),n||(n=XX(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},dye=function(e){var t=0,r=XX(e);return function(n){var a=fye("",n,t,r);return t=a[1],a[0]}};function hye(e,t,r,n){var a={key:yi(e),verificationBytes:yi(e)};return r.password&&(a.verifier=J6(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=dye(r.password)),a}function pye(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=uye(e):n.Data=cye(e,t),n}function mye(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?pye(e,t-2,n):hye(e,r.biff>=8?t:t-2,r,n),n}var QX=function(){function e(a,i){switch(i.type){case"base64":return t(jl(a),i);case"binary":return t(a,i);case"buffer":return t(Rr&&Buffer.isBuffer(a)?a.toString("binary"):O0(a),i);case"array":return t(sm(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,m,g=-1;m=h.exec(u);){switch(m[0]){case"\\cell":var v=u.slice(p,h.lastIndex-m[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][g]=y:o[cr({r:f,c:g})]=y}break}p=h.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=kr(c),o}function r(a,i){return D0(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=cn(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=cr({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(wd(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function gye(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function w2(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function vye(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function yye(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function DE(e,t){if(t===0)return e;var r=vye(gye(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),w2(yye(r))}var JX=6,xye=15,wye=1,zs=JX;function b2(e){return Math.floor((e+Math.round(128/zs)/256)*zs)}function _2(e){return Math.floor((e-5)/zs*100+.5)/100}function jE(e){return Math.round((e*zs+5)/zs*256)/256}function GN(e){return jE(_2(b2(e)))}function Z6(e){var t=Math.abs(e-GN(e)),r=zs;if(t>.005)for(zs=wye;zs<xye;++zs)Math.abs(e-GN(e))<=t&&(t=Math.abs(e-GN(e)),r=zs);zs=r}function u0(e){e.width?(e.wpx=b2(e.width),e.wch=_2(e.wpx),e.MDW=zs):e.wpx?(e.wch=_2(e.wpx),e.width=jE(e.wch),e.MDW=zs):typeof e.wch=="number"&&(e.width=jE(e.wch),e.wpx=b2(e.width),e.MDW=zs),e.customWidth&&delete e.customWidth}var bye=96,ZX=bye;function S2(e){return e*96/ZX}function Dv(e){return e*ZX/96}var _ye={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Sye(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(to)||[]).forEach(function(s){var o=mr(s);switch(vf(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=na(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=na(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Eye(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(to)||[]).forEach(function(s){var o=mr(s);switch(vf(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Aye(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(to)||[]).forEach(function(s){var o=mr(s);switch(vf(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Rn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?na(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?na(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?na(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?na(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?na(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?na(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?na(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=k6[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=na(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Fp[a.color.index];a.color.index==81&&(l=Fp[1]),l||(l=Fp[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=DE(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Tye(e,t,r){t.NumberFmt=[];for(var n=Ka(or),a=0;a<n.length;++a)t.NumberFmt[n[a]]=or[n[a]];var i=e[0].match(to);if(i)for(a=0;a<i.length;++a){var s=mr(i[a]);switch(vf(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=ln(Rn(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}od(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function kye(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=xt("numFmt",null,{numFmtId:n,formatCode:Cn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=xt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var w_=["numFmtId","fillId","fontId","borderId","xfId"],b_=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Nye(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(to)||[]).forEach(function(i){var s=mr(i),o=0;switch(vf(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<w_.length;++o)n[w_[o]]&&(n[w_[o]]=parseInt(n[w_[o]],10));for(o=0;o<b_.length;++o)n[b_[o]]&&(n[b_[o]]=na(n[b_[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=na(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function Cye(e){var t=[];return t[t.length]=xt("cellXfs",null),e.forEach(function(r){t[t.length]=xt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=xt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Pye=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&Tye(f,u,c),(f=o.match(a))&&Aye(f,u,l,c),(f=o.match(n))&&Eye(f,u,l,c),(f=o.match(i))&&Sye(f,u,l,c),(f=o.match(r))&&Nye(f,u,c),u}}();function eQ(e,t){var r=[fi,xt("styleSheet",null,{xmlns:Fm[0],"xmlns:vt":Li.vt})],n;return e.SSF&&(n=kye(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Cye(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Iye(e,t){var r=e.read_shift(2),n=Ks(e);return[r,n]}function Oye(e,t,r){r||(r=Ke(6+4*t.length)),r.write_shift(2,e),es(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Dye(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=pge(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=hge(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ks(e),n}function jye(e,t){t||(t=Ke(25+4*32)),t.write_shift(2,e.sz*20),mge(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),PE(e.color,t);var n=0;return n=2,t.write_shift(1,n),es(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Rye=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],KN,Lye=Zs;function U7(e,t){t||(t=Ke(4*3+8*7+16*1)),KN||(KN=BA(Rye));var r=KN[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(PE({auto:1},t),PE({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Mye(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function tQ(e,t,r){r||(r=Ke(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Ny(e,t){return t||(t=Ke(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Fye=Zs;function Bye(e,t){return t||(t=Ke(51)),t.write_shift(1,0),Ny(null,t),Ny(null,t),Ny(null,t),Ny(null,t),Ny(null,t),t.length>t.l?t.slice(0,t.l):t}function $ye(e,t){return t||(t=Ke(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),CE(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Uye(e,t,r){var n=Ke(2052);return n.write_shift(4,e),CE(t,n),CE(r,n),n.length>n.l?n.slice(0,n.l):n}function Vye(e,t,r){var n={};n.NumberFmt=[];for(var a in or)n.NumberFmt[a]=or[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Fd(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],od(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=DE(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function zye(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(it(e,615,lu(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&it(e,44,Oye(a,t[a]))}),it(e,616))}}function Wye(e){var t=1;it(e,611,lu(t)),it(e,43,jye({sz:12,color:{theme:1},name:"Calibri",family:2})),it(e,612)}function Hye(e){var t=2;it(e,603,lu(t)),it(e,45,U7({patternType:"none"})),it(e,45,U7({patternType:"gray125"})),it(e,604)}function qye(e){var t=1;it(e,613,lu(t)),it(e,46,Bye()),it(e,614)}function Gye(e){var t=1;it(e,626,lu(t)),it(e,47,tQ({numFmtId:0},65535)),it(e,627)}function Kye(e,t){it(e,617,lu(t.length)),t.forEach(function(r){it(e,47,tQ(r,0))}),it(e,618)}function Yye(e){var t=1;it(e,619,lu(t)),it(e,48,$ye({xfId:0,name:"Normal"})),it(e,620)}function Xye(e){var t=0;it(e,505,lu(t)),it(e,506)}function Qye(e){var t=0;it(e,508,Uye(t,"TableStyleMedium9","PivotStyleMedium4")),it(e,509)}function Jye(e,t){var r=Ko();return it(r,278),zye(r,e.SSF),Wye(r),Hye(r),qye(r),Gye(r),Kye(r,t.cellXfs),Yye(r),Xye(r),Qye(r),it(r,279),r.end()}var Zye=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function exe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(to)||[]).forEach(function(a){var i=mr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Zye.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function txe(){}function rxe(){}var nxe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,axe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,ixe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function sxe(e,t,r){t.themeElements={};var n;[["clrScheme",nxe,exe],["fontScheme",axe,txe],["fmtScheme",ixe,rxe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var oxe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function rQ(e,t){(!e||e.length===0)&&(e=eD());var r,n={};if(!(r=e.match(oxe)))throw new Error("themeElements not found in theme");return sxe(r[0],n,t),n.raw=e,n}function eD(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[fi];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function lxe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=KY(i,{type:"array"})}catch{return}var o=Sl(s,"theme/theme/theme1.xml",!0);if(o)return rQ(o,r)}}function cxe(e){return e.read_shift(4)}function uxe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=fxe(e,4);break;case 2:t.xclrValue=RX(e);break;case 3:t.xclrValue=cxe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function fxe(e,t){return Zs(e,t)}function dxe(e,t){return Zs(e,t)}function hxe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=uxe(e);break;case 6:n[1]=dxe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function pxe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(hxe(e,r-e.l));return{ixfe:n,ext:i}}function mxe(e,t){t.forEach(function(r){switch(r[0]){}})}function gxe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ks(e)}}function vxe(e){var t=Ke(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),es(e.name,t),t.slice(0,t.l)}function yxe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function xxe(e){var t=Ke(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function wxe(e,t){var r=Ke(8+2*t.length);return r.write_shift(4,e),es(t,r),r.slice(0,r.l)}function bxe(e){return e.l+=4,e.read_shift(4)!=0}function _xe(e,t){var r=Ke(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Sxe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Fd(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Exe(){var e=Ko();return it(e,332),it(e,334,lu(1)),it(e,335,vxe({name:"XLDAPR",version:12e4,flags:3496657072})),it(e,336),it(e,339,wxe(1,"XLDAPR")),it(e,52),it(e,35,lu(514)),it(e,4096,lu(0)),it(e,4097,sc(1)),it(e,36),it(e,53),it(e,340),it(e,337,_xe(1)),it(e,51,xxe([[1,0]])),it(e,338),it(e,333),e.end()}function Axe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(to,function(o){var l=mr(o);switch(vf(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function nQ(){var e=[fi];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Txe(e){var t=[];if(!e)return t;var r=1;return(e.match(to)||[]).forEach(function(n){var a=mr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function kxe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=cr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Nxe(e,t,r){var n=[];return Fd(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Cxe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Fd(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Pxe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Bg=1024;function aQ(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[xt("xml",null,{"xmlns:v":xl.v,"xmlns:o":xl.o,"xmlns:x":xl.x,"xmlns:mv":xl.mv}).replace(/\/>/,">"),xt("o:shapelayout",xt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),xt("v:shapetype",[xt("v:stroke",null,{joinstyle:"miter"}),xt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Bg<e*1e3;)Bg+=1e3;return t.forEach(function(i){var s=Ca(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?xt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=xt("v:fill",l,o),u={on:"t",obscured:"t"};++Bg,a=a.concat(["<v:shape"+v2({id:"_x0000_s"+Bg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,xt("v:shadow",null,u),xt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",xs("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),xs("x:AutoFill","False"),xs("x:Row",String(s.r)),xs("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function V7(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=Ca(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=cn(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=kr(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function Ixe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=mr(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Ca(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&Q6(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function iQ(e){var t=[fi,xt("comments",null,{xmlns:Fm[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=Cn(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(Cn(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(xs("t",Cn(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(xs("t",Cn(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Oxe(e,t){var r=[],n=!1,a={},i=0;return e.replace(to,function(o,l){var c=mr(o);switch(vf(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Dxe(e,t,r){var n=[fi,xt("ThreadedComments",null,{xmlns:Li.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(xt("threadedComment",xs("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function jxe(e,t){var r=[],n=!1;return e.replace(to,function(i){var s=mr(i);switch(vf(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Rxe(e){var t=[fi,xt("personList",null,{xmlns:Li.TCMNT,"xmlns:x":Fm[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(xt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Lxe(e){var t={};t.iauthor=e.read_shift(4);var r=Vm(e);return t.rfx=r.s,t.ref=cr(r.s),e.l+=16,t}function Mxe(e,t){return t==null&&(t=Ke(36)),t.write_shift(4,e[1].iauthor),h1(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Fxe=Ks;function Bxe(e){return es(e.slice(0,54))}function $xe(e,t){var r=[],n=[],a={},i=!1;return Fd(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function Uxe(e){var t=Ko(),r=[];return it(t,628),it(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),it(t,632,Bxe(a.a)))})}),it(t,631),it(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Ca(n[0]),e:Ca(n[0])};it(t,635,Mxe([i,a])),a.t&&a.t.length>0&&it(t,637,cge(a)),it(t,636),delete a.iauthor})}),it(t,634),it(t,629),t.end()}var Vxe="application/vnd.ms-office.vbaProject";function zxe(e){var t=tr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");tr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),tr.write(t)}function Wxe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&tr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var sQ=["xlsb","xlsm","xlam","biff8","xla"];function Hxe(){return{"!type":"dialog"}}function qxe(){return{"!type":"dialog"}}function Gxe(){return{"!type":"macro"}}function Kxe(){return{"!type":"macro"}}var iv=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Na(u)+(l?"":"$")+ui(c)}return function(a,i){return t=i,a.replace(e,r)}}(),tD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,rD=function(){return function(t,r){return t.replace(tD,function(n,a,i,s,o,l){var c=V6(s)-(i?0:r.c),u=U6(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function oQ(e,t){return e.replace(tD,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Na(V6(i)+t.c))+(s=="$"?s+o:ui(U6(o)+t.r))})}function Yxe(e,t,r){var n=el(t),a=n.s,i=Ca(r),s={r:i.r-a.r,c:i.c-a.c};return oQ(e,s)}function Xxe(e){return e.length!=1}function z7(e){return e.replace(/_xlfn\./g,"")}function mi(e){e.l+=1}function f0(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function lQ(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return cQ(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=f0(e),o=f0(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function cQ(e){var t=f0(e),r=f0(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Qxe(e,t,r){if(r.biff<8)return cQ(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=f0(e),s=f0(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function uQ(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Jxe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=f0(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Jxe(e){var t=f0(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Zxe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function e2e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return t2e(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function t2e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function r2e(e,t,r){var n=(e[e.l++]&96)>>5,a=lQ(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function n2e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=lQ(e,i,r);return[n,a,s]}function a2e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function i2e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function s2e(e,t,r){var n=(e[e.l++]&96)>>5,a=Qxe(e,t-1,r);return[n,a]}function o2e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function W7(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function l2e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function c2e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function u2e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function f2e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function d2e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function fQ(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function h2e(e){return e.read_shift(2),fQ(e)}function p2e(e){return e.read_shift(2),fQ(e)}function m2e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=uQ(e,0,r);return[n,a]}function g2e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e2e(e,0,r);return[n,a]}function v2e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=uQ(e,0,r);return[n,a,i]}function y2e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[bwe[a],pQ[a],n]}function x2e(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:w2e(e);return[a,(i[0]===0?pQ:wwe)[i[1]]]}function w2e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function b2e(e,t,r){e.l+=r&&r.biff==2?3:4}function _2e(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function S2e(e){return e.l++,Bd[e.read_shift(1)]}function E2e(e){return e.l++,e.read_shift(2)}function A2e(e){return e.l++,e.read_shift(1)!==0}function T2e(e){return e.l++,qs(e)}function k2e(e,t,r){return e.l++,Cw(e,t-1,r)}function N2e(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ti(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Bd[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=qs(e);break;case 2:r[1]=zm(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function C2e(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Vm:VA)(e));return a}function P2e(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=N2e(e,r.biff);return s}function I2e(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function O2e(e,t,r){if(r.biff==5)return D2e(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function D2e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function j2e(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function R2e(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function L2e(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function M2e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var F2e=Zs,B2e=Zs,$2e=Zs;function Iw(e,t,r){return e.l+=2,[Zxe(e)]}function nD(e){return e.l+=6,[]}var U2e=Iw,V2e=nD,z2e=nD,W2e=Iw;function dQ(e){return e.l+=2,[yi(e),e.read_shift(2)&1]}var H2e=Iw,q2e=dQ,G2e=nD,K2e=Iw,Y2e=Iw,X2e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Q2e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=X2e[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function J2e(e){return e.l+=2,[e.read_shift(4)]}function Z2e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function ewe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function twe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function rwe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function nwe(e){return e.l+=4,[0,0]}var H7={1:{n:"PtgExp",f:_2e},2:{n:"PtgTbl",f:$2e},3:{n:"PtgAdd",f:mi},4:{n:"PtgSub",f:mi},5:{n:"PtgMul",f:mi},6:{n:"PtgDiv",f:mi},7:{n:"PtgPower",f:mi},8:{n:"PtgConcat",f:mi},9:{n:"PtgLt",f:mi},10:{n:"PtgLe",f:mi},11:{n:"PtgEq",f:mi},12:{n:"PtgGe",f:mi},13:{n:"PtgGt",f:mi},14:{n:"PtgNe",f:mi},15:{n:"PtgIsect",f:mi},16:{n:"PtgUnion",f:mi},17:{n:"PtgRange",f:mi},18:{n:"PtgUplus",f:mi},19:{n:"PtgUminus",f:mi},20:{n:"PtgPercent",f:mi},21:{n:"PtgParen",f:mi},22:{n:"PtgMissArg",f:mi},23:{n:"PtgStr",f:k2e},26:{n:"PtgSheet",f:Z2e},27:{n:"PtgEndSheet",f:ewe},28:{n:"PtgErr",f:S2e},29:{n:"PtgBool",f:A2e},30:{n:"PtgInt",f:E2e},31:{n:"PtgNum",f:T2e},32:{n:"PtgArray",f:o2e},33:{n:"PtgFunc",f:y2e},34:{n:"PtgFuncVar",f:x2e},35:{n:"PtgName",f:I2e},36:{n:"PtgRef",f:m2e},37:{n:"PtgArea",f:r2e},38:{n:"PtgMemArea",f:j2e},39:{n:"PtgMemErr",f:F2e},40:{n:"PtgMemNoMem",f:B2e},41:{n:"PtgMemFunc",f:R2e},42:{n:"PtgRefErr",f:L2e},43:{n:"PtgAreaErr",f:a2e},44:{n:"PtgRefN",f:g2e},45:{n:"PtgAreaN",f:s2e},46:{n:"PtgMemAreaN",f:twe},47:{n:"PtgMemNoMemN",f:rwe},57:{n:"PtgNameX",f:O2e},58:{n:"PtgRef3d",f:v2e},59:{n:"PtgArea3d",f:n2e},60:{n:"PtgRefErr3d",f:M2e},61:{n:"PtgAreaErr3d",f:i2e},255:{}},awe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},iwe={1:{n:"PtgElfLel",f:dQ},2:{n:"PtgElfRw",f:K2e},3:{n:"PtgElfCol",f:U2e},6:{n:"PtgElfRwV",f:Y2e},7:{n:"PtgElfColV",f:W2e},10:{n:"PtgElfRadical",f:H2e},11:{n:"PtgElfRadicalS",f:G2e},13:{n:"PtgElfColS",f:V2e},15:{n:"PtgElfColSV",f:z2e},16:{n:"PtgElfRadicalLel",f:q2e},25:{n:"PtgList",f:Q2e},29:{n:"PtgSxName",f:J2e},255:{}},swe={0:{n:"PtgAttrNoop",f:nwe},1:{n:"PtgAttrSemi",f:d2e},2:{n:"PtgAttrIf",f:u2e},4:{n:"PtgAttrChoose",f:l2e},8:{n:"PtgAttrGoto",f:c2e},16:{n:"PtgAttrSum",f:b2e},32:{n:"PtgAttrBaxcel",f:W7},33:{n:"PtgAttrBaxcel",f:W7},64:{n:"PtgAttrSpace",f:h2e},65:{n:"PtgAttrSpaceSemi",f:p2e},128:{n:"PtgAttrIfError",f:f2e},255:{}};function Ow(e,t,r,n){if(n.biff<8)return Zs(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=P2e(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=C2e(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Zs(e,t)),i}function Dw(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=H7[i]||H7[awe[i]],(i===24||i===25)&&(a=(i===24?iwe:swe)[e[e.l+1]]),!a||!a.f?Zs(e,t):s.push([a.n,a.f(e,t,r)]);return s}function owe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var lwe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function cwe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function hQ(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function q7(e,t,r){var n=hQ(e,t,r);return n=="#REF"?n:cwe(n,r)}function Us(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,m="";if(!e[0]||!e[0][0])return"";for(var g=-1,v="",y=0,x=e[0].length;y<x;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:v=za(" ",e[0][g][1][1]);break;case 1:v=za("\r",e[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}c=c+v,g=-1}o.push(c+lwe[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=xx(w[1][1],s,a),o.push(wx(u,i));break;case"PtgRefN":u=r?xx(w[1][1],r,a):w[1][1],o.push(wx(u,i));break;case"PtgRef3d":f=w[1][1],u=xx(w[1][2],s,a),m=q7(n,f,a),o.push(m+"!"+wx(u,i));break;case"PtgFunc":case"PtgFuncVar":var E=w[1][0],I=w[1][1];E||(E=0),E&=127;var P=E==0?[]:o.slice(-E);o.length-=E,I==="User"&&(I=P.shift()),o.push(I+"("+P.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":p=b7(w[1][1],r?{s:r}:s,a),o.push(WN(p,a));break;case"PtgArea":p=b7(w[1][1],s,a),o.push(WN(p,a));break;case"PtgArea3d":f=w[1][1],p=w[1][2],m=q7(n,f,a),o.push(m+"!"+WN(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var A=(n.names||[])[h-1]||(n[0]||[])[h],S=A?A.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!a.xlfn&&(S=S.slice(6)),o.push(S);break;case"PtgNameX":var k=w[1][1];h=w[1][2];var O;if(a.biff<=5)k<0&&(k=-k),n[k]&&(O=n[k][h]);else{var T="";if(((n[k]||[])[0]||[])[0]==14849||(((n[k]||[])[0]||[])[0]==1025?n[k][h]&&n[k][h].itab>0&&(T=n.SheetNames[n[k][h].itab-1]+"!"):T=n.SheetNames[h-1]+"!"),n[k]&&n[k][h])T+=n[k][h].Name;else if(n[0]&&n[0][h])T+=n[0][h].Name;else{var C=(hQ(n,k,a)||"").split(";;");C[h-1]?T=C[h-1]:T+="SH33TJSERRX"}o.push(T);break}O||(O={Name:"SH33TJSERRY"}),o.push(O.Name);break;case"PtgParen":var D="(",B=")";if(g>=0){switch(v="",e[0][g][1][0]){case 2:D=za(" ",e[0][g][1][1])+D;break;case 3:D=za("\r",e[0][g][1][1])+D;break;case 4:B=za(" ",e[0][g][1][1])+B;break;case 5:B=za("\r",e[0][g][1][1])+B;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(D+o.pop()+B);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var Y={c:r.c,r:r.r};if(n.sharedf[cr(u)]){var ee=n.sharedf[cr(u)];o.push(Us(ee,s,Y,n,a))}else{var re=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Us(c[1],s,Y,n,a)),re=!0;break}re||o.push(w[1])}break;case"PtgArray":o.push("{"+owe(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var G=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&G.indexOf(e[0][y][0])==-1){w=e[0][g];var q=!0;switch(w[1][0]){case 4:q=!1;case 0:v=za(" ",w[1][1]);break;case 5:q=!1;case 1:v=za("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((q?v:"")+o.pop()+(q?"":v)),g=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function uwe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Zs(e,t-2)];var o=Dw(e,s,r);return t!==s+a&&(i=Ow(e,t-s-a,o,r)),e.l=n,[o,i]}function fwe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Zs(e,t-2)];var o=Dw(e,s,r);return t!==s+a&&(i=Ow(e,t-s-a,o,r)),e.l=n,[o,i]}function dwe(e,t,r,n){var a=e.l+t,i=Dw(e,n,r),s;return a!==e.l&&(s=Ow(e,a-e.l,i,r)),[i,s]}function hwe(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=Dw(e,i,r);return i==65535?[[],Zs(e,t-2)]:(t!==i+2&&(a=Ow(e,n-i-2,s,r)),[s,a])}function pwe(e){var t;if(Yf(e,e.l+6)!==65535)return[qs(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function mwe(e){if(e==null){var t=Ke(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return om(e);return om(0)}function YN(e,t,r){var n=e.l+t,a=yf(e);r.biff==2&&++e.l;var i=pwe(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=fwe(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function gwe(e,t,r,n,a){var i=cm(t,r,a),s=mwe(e.v),o=Ke(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=Ke(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var f=Ji([i,s,o,c]);return f}function zA(e,t,r){var n=e.read_shift(4),a=Dw(e,n,r),i=e.read_shift(4),s=i>0?Ow(e,i,a,r):null;return[a,s]}var vwe=zA,WA=zA,ywe=zA,xwe=zA,wwe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},pQ={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},bwe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function G7(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function _we(e){var t="of:="+e.replace(tD,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function XN(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function Swe(e){return e.replace(/\./,"!")}var _x={},sv={},Sx=typeof Map<"u";function aD(e,t,r){var n=0,a=e.length;if(r){if(Sx?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Sx?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Sx?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function HA(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(zs=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=_2(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=jE(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Up(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function j0(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){od(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function mQ(e,t,r,n,a,i){try{n.cellNF&&(e.z=or[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=oa(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(or[t]==null&&od(wme[t]||"General",t),e.t==="e")e.w=e.w||Bd[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=m2(e.v);else if(e.t==="d"){var s=Bi(e.v);(s|0)===s?e.w=s.toString(10):e.w=m2(s)}else{if(e.v===void 0)return"";e.w=im(e.v,sv)}else e.t==="d"?e.w=_c(t,Bi(e.v),sv):e.w=_c(t,e.v,sv)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=DE(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=DE(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Ewe(e,t,r){if(e&&e["!ref"]){var n=cn(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function Awe(e,t){var r=cn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=kr(r))}var Twe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,kwe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Nwe=/<(?:\w:)?hyperlink [^>]*>/mg,Cwe=/"(\w*:\w*)"/,Pwe=/<(?:\w:)?col\b[^>]*[\/]?>/g,Iwe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Owe=/<(?:\w:)?pageMargins[^>]*\/>/g,gQ=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Dwe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,jwe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Rwe(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(kwe);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(gQ);h?iD(h[0],o,a,r):(h=c.match(Dwe))&&Mwe(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var m=c.slice(p,p+50).match(Cwe);m&&Awe(o,m[1])}var g=c.match(jwe);g&&g[1]&&Xwe(g[1],a);var v=[];if(t.cellStyles){var y=c.match(Pwe);y&&Hwe(v,y)}f&&Zwe(f[1],o,t,l,i,s);var x=u.match(Iwe);x&&(o["!autofilter"]=Gwe(x[0]));var w=[],E=u.match(Twe);if(E)for(p=0;p!=E.length;++p)w[p]=cn(E[p].slice(E[p].indexOf('"')+1));var I=u.match(Nwe);I&&Vwe(o,I,n);var P=u.match(Owe);if(P&&(o["!margins"]=zwe(mr(P[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=kr(l)),t.sheetRows>0&&o["!ref"]){var A=cn(o["!ref"]);t.sheetRows<=+A.e.r&&(A.e.r=t.sheetRows-1,A.e.r>l.e.r&&(A.e.r=l.e.r),A.e.r<A.s.r&&(A.s.r=A.e.r),A.e.c>l.e.c&&(A.e.c=l.e.c),A.e.c<A.s.c&&(A.s.c=A.e.c),o["!fullref"]=o["!ref"],o["!ref"]=kr(A))}return v.length>0&&(o["!cols"]=v),w.length>0&&(o["!merges"]=w),o}function Lwe(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+kr(e[r])+'"/>';return t+"</mergeCells>"}function iD(e,t,r,n){var a=mr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=ln(Rn(a.codeName)))}function Mwe(e,t,r,n,a){iD(e.slice(0,e.indexOf(">")),r,n,a)}function Fwe(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,s.codeName=Hu(Cn(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+xt("outlinePr",null,c)}!i&&!o||(a[a.length]=xt("sheetPr",o,s))}var Bwe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],$we=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function Uwe(e){var t={sheet:1};return Bwe.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),$we.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=J6(e.password).toString(16).toUpperCase()),xt("sheetProtection",null,t)}function Vwe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=mr(Rn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+ln(i.location))):(i.Target="#"+ln(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=cn(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=cr({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function zwe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Wwe(e){return Up(e),xt("pageMargins",null,e)}function Hwe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=mr(t[n],!0);a.hidden&&(a.hidden=na(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,Z6(a.width)),u0(a);i<=s;)e[i++]=la(a)}}function qwe(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=xt("col",null,HA(a,n)));return r[r.length]="</cols>",r.join("")}function Gwe(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function Kwe(e,t,r,n){var a=typeof e.ref=="string"?e.ref:kr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=el(a);s.s.r==s.e.r&&(s.e.r=el(t["!ref"]).e.r,a=kr(s));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),xt("autoFilter",null,{ref:a})}var Ywe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Xwe(e,t){t.Views||(t.Views=[{}]),(e.match(Ywe)||[]).forEach(function(r,n){var a=mr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),na(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function Qwe(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),xt("sheetViews",xt("sheetView",null,a),{})}function Jwe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Bd[e.v];break;case"d":n&&n.cellDates?a=oa(e.v,-1).toISOString():(e=la(e),e.t="n",a=""+(e.v=Bi(oa(e.v)))),typeof e.z>"u"&&(e.z=or[14]);break;default:a=e.v;break}var o=xs("v",Cn(a)),l={r:t},c=j0(n.cellXfs,e,n);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=xs("v",""+aD(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=xt("f",Cn(e.f),u)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),xt("c",o,l)}var Zwe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=g2("v"),s=g2("f");return function(l,c,u,f,h,p){for(var m=0,g="",v=[],y=[],x=0,w=0,E=0,I="",P,A,S=0,k=0,O,T,C=0,D=0,B=Array.isArray(p.CellXf),Y,ee=[],re=[],G=Array.isArray(c),q=[],be={},_e=!1,R=!!u.sheetStubs,U=l.split(t),z=0,W=U.length;z!=W;++z){g=U[z].trim();var Z=g.length;if(Z!==0){var le=0;e:for(m=0;m<Z;++m)switch(g[m]){case">":if(g[m-1]!="/"){++m;break e}if(u&&u.cellStyles){if(A=mr(g.slice(le,m),!0),S=A.r!=null?parseInt(A.r,10):S+1,k=-1,u.sheetRows&&u.sheetRows<S)continue;be={},_e=!1,A.ht&&(_e=!0,be.hpt=parseFloat(A.ht),be.hpx=Dv(be.hpt)),A.hidden=="1"&&(_e=!0,be.hidden=!0),A.outlineLevel!=null&&(_e=!0,be.level=+A.outlineLevel),_e&&(q[S-1]=be)}break;case"<":le=m;break}if(le>=m)break;if(A=mr(g.slice(le,m),!0),S=A.r!=null?parseInt(A.r,10):S+1,k=-1,!(u.sheetRows&&u.sheetRows<S)){f.s.r>S-1&&(f.s.r=S-1),f.e.r<S-1&&(f.e.r=S-1),u&&u.cellStyles&&(be={},_e=!1,A.ht&&(_e=!0,be.hpt=parseFloat(A.ht),be.hpx=Dv(be.hpt)),A.hidden=="1"&&(_e=!0,be.hidden=!0),A.outlineLevel!=null&&(_e=!0,be.level=+A.outlineLevel),_e&&(q[S-1]=be)),v=g.slice(m).split(e);for(var he=0;he!=v.length&&v[he].trim().charAt(0)=="<";++he);for(v=v.slice(he),m=0;m!=v.length;++m)if(g=v[m].trim(),g.length!==0){if(y=g.match(r),x=m,w=0,E=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,y!=null&&y.length===2){for(x=0,I=y[1],w=0;w!=I.length&&!((E=I.charCodeAt(w)-64)<1||E>26);++w)x=26*x+E;--x,k=x}else++k;for(w=0;w!=g.length&&g.charCodeAt(w)!==62;++w);if(++w,A=mr(g.slice(0,w),!0),A.r||(A.r=cr({r:S-1,c:k})),I=g.slice(w),P={t:""},(y=I.match(i))!=null&&y[1]!==""&&(P.v=ln(y[1])),u.cellFormula){if((y=I.match(s))!=null&&y[1]!==""){if(P.f=ln(Rn(y[1])).replace(/\r\n/g,`
`),u.xlfn||(P.f=z7(P.f)),y[0].indexOf('t="array"')>-1)P.F=(I.match(a)||[])[1],P.F.indexOf(":")>-1&&ee.push([cn(P.F),P.F]);else if(y[0].indexOf('t="shared"')>-1){T=mr(y[0]);var ae=ln(Rn(y[1]));u.xlfn||(ae=z7(ae)),re[parseInt(T.si,10)]=[T,ae,A.r]}}else(y=I.match(/<f[^>]*\/>/))&&(T=mr(y[0]),re[T.si]&&(P.f=Yxe(re[T.si][1],re[T.si][2],A.r)));var pe=Ca(A.r);for(w=0;w<ee.length;++w)pe.r>=ee[w][0].s.r&&pe.r<=ee[w][0].e.r&&pe.c>=ee[w][0].s.c&&pe.c<=ee[w][0].e.c&&(P.F=ee[w][1])}if(A.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(R)P.t="z";else continue;else P.t=A.t||"n";switch(f.s.c>k&&(f.s.c=k),f.e.c<k&&(f.e.c=k),P.t){case"n":if(P.v==""||P.v==null){if(!R)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!R)continue;P.t="z"}else O=_x[parseInt(P.v,10)],P.v=O.t,P.r=O.r,u.cellHTML&&(P.h=O.h);break;case"str":P.t="s",P.v=P.v!=null?Rn(P.v):"",u.cellHTML&&(P.h=M6(P.v));break;case"inlineStr":y=I.match(n),P.t="s",y!=null&&(O=Q6(y[1]))?(P.v=O.t,u.cellHTML&&(P.h=O.h)):P.v="";break;case"b":P.v=na(P.v);break;case"d":u.cellDates?P.v=oa(P.v,1):(P.v=Bi(oa(P.v,1)),P.t="n");break;case"e":(!u||u.cellText!==!1)&&(P.w=P.v),P.v=yX[P.v];break}if(C=D=0,Y=null,B&&A.s!==void 0&&(Y=p.CellXf[A.s],Y!=null&&(Y.numFmtId!=null&&(C=Y.numFmtId),u.cellStyles&&Y.fillId!=null&&(D=Y.fillId))),mQ(P,C,D,u,h,p),u.cellDates&&B&&P.t=="n"&&u1(or[C])&&(P.t="d",P.v=UA(P.v)),A.cm&&u.xlmeta){var ke=(u.xlmeta.Cell||[])[+A.cm-1];ke&&ke.type=="XLDAPR"&&(P.D=!0)}if(G){var K=Ca(A.r);c[K.r]||(c[K.r]=[]),c[K.r][K.c]=P}else c[A.r]=P}}}}q.length>0&&(c["!rows"]=q)}}();function ebe(e,t,r,n){var a=[],i=[],s=cn(e["!ref"]),o="",l,c="",u=[],f=0,h=0,p=e["!rows"],m=Array.isArray(e),g={r:c},v,y=-1;for(h=s.s.c;h<=s.e.c;++h)u[h]=Na(h);for(f=s.s.r;f<=s.e.r;++f){for(i=[],c=ui(f),h=s.s.c;h<=s.e.c;++h){l=u[h]+c;var x=m?(e[f]||[])[h]:e[l];x!==void 0&&(o=Jwe(x,l,e,t))!=null&&i.push(o)}(i.length>0||p&&p[f])&&(g={r:c},p&&p[f]&&(v=p[f],v.hidden&&(g.hidden=1),y=-1,v.hpx?y=S2(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(g.ht=y,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),a[a.length]=xt("row",i.join(""),g))}if(p)for(;f<p.length;++f)p&&p[f]&&(g={r:f+1},v=p[f],v.hidden&&(g.hidden=1),y=-1,v.hpx?y=S2(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(g.ht=y,g.customHeight=1),v.level&&(g.outlineLevel=v.level),a[a.length]=xt("row","",g));return a.join("")}function vQ(e,t,r,n){var a=[fi,xt("worksheet",null,{xmlns:Fm[0],"xmlns:r":Li.r})],i=r.SheetNames[e],s=0,o="",l=r.Sheets[i];l==null&&(l={});var c=l["!ref"]||"A1",u=cn(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=kr(u)}n||(n={}),l["!comments"]=[];var f=[];Fwe(l,r,e,t,a),a[a.length]=xt("dimension",null,{ref:c}),a[a.length]=Qwe(l,t,e,r),t.sheetFormat&&(a[a.length]=xt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=qwe(l,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=ebe(l,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=Uwe(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=Kwe(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=Lwe(l["!merges"]));var h=-1,p,m=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(p={ref:g[0]},g[1].Target.charAt(0)!="#"&&(m=kn(n,-1,Cn(g[1].Target).replace(/#.*$/,""),Fr.HLINK),p["r:id"]="rId"+m),(h=g[1].Target.indexOf("#"))>-1&&(p.location=Cn(g[1].Target.slice(h+1))),g[1].Tooltip&&(p.tooltip=Cn(g[1].Tooltip)),a[a.length]=xt("hyperlink",null,p))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=Wwe(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=xs("ignoredErrors",xt("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(m=kn(n,-1,"../drawings/drawing"+(e+1)+".xml",Fr.DRAW),a[a.length]=xt("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=f),l["!comments"].length>0&&(m=kn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Fr.VML),a[a.length]=xt("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function tbe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function rbe(e,t,r){var n=Ke(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=S2(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,h=-1,p=u<<10;p<u+1<<10;++p){c.c=p;var m=Array.isArray(r)?(r[c.r]||[])[c.c]:r[cr(c)];m&&(f<0&&(f=p),h=p)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var g=n.l;return n.l=l,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function nbe(e,t,r,n){var a=rbe(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&it(e,0,a)}var abe=Vm,ibe=h1;function sbe(){}function obe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=uge(e),r}function lbe(e,t,r){r==null&&(r=Ke(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return PE({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),hX(e,r),r.slice(0,r.l)}function cbe(e){var t=Cc(e);return[t]}function ube(e,t,r){return r==null&&(r=Ke(8)),Bm(t,r)}function fbe(e){var t=$m(e);return[t]}function dbe(e,t,r){return r==null&&(r=Ke(4)),Um(t,r)}function hbe(e){var t=Cc(e),r=e.read_shift(1);return[t,r,"b"]}function pbe(e,t,r){return r==null&&(r=Ke(9)),Bm(t,r),r.write_shift(1,e.v?1:0),r}function mbe(e){var t=$m(e),r=e.read_shift(1);return[t,r,"b"]}function gbe(e,t,r){return r==null&&(r=Ke(5)),Um(t,r),r.write_shift(1,e.v?1:0),r}function vbe(e){var t=Cc(e),r=e.read_shift(1);return[t,r,"e"]}function ybe(e,t,r){return r==null&&(r=Ke(9)),Bm(t,r),r.write_shift(1,e.v),r}function xbe(e){var t=$m(e),r=e.read_shift(1);return[t,r,"e"]}function wbe(e,t,r){return r==null&&(r=Ke(8)),Um(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function bbe(e){var t=Cc(e),r=e.read_shift(4);return[t,r,"s"]}function _be(e,t,r){return r==null&&(r=Ke(12)),Bm(t,r),r.write_shift(4,t.v),r}function Sbe(e){var t=$m(e),r=e.read_shift(4);return[t,r,"s"]}function Ebe(e,t,r){return r==null&&(r=Ke(8)),Um(t,r),r.write_shift(4,t.v),r}function Abe(e){var t=Cc(e),r=qs(e);return[t,r,"n"]}function Tbe(e,t,r){return r==null&&(r=Ke(16)),Bm(t,r),om(e.v,r),r}function yQ(e){var t=$m(e),r=qs(e);return[t,r,"n"]}function kbe(e,t,r){return r==null&&(r=Ke(12)),Um(t,r),om(e.v,r),r}function Nbe(e){var t=Cc(e),r=q6(e);return[t,r,"n"]}function Cbe(e,t,r){return r==null&&(r=Ke(12)),Bm(t,r),pX(e.v,r),r}function Pbe(e){var t=$m(e),r=q6(e);return[t,r,"n"]}function Ibe(e,t,r){return r==null&&(r=Ke(8)),Um(t,r),pX(e.v,r),r}function Obe(e){var t=Cc(e),r=z6(e);return[t,r,"is"]}function Dbe(e){var t=Cc(e),r=Ks(e);return[t,r,"str"]}function jbe(e,t,r){return r==null&&(r=Ke(12+4*e.v.length)),Bm(t,r),es(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Rbe(e){var t=$m(e),r=Ks(e);return[t,r,"str"]}function Lbe(e,t,r){return r==null&&(r=Ke(8+4*e.v.length)),Um(t,r),es(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Mbe(e,t,r){var n=e.l+t,a=Cc(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=WA(e,n-e.l,r);s[3]=Us(o,null,a,r.supbooks,r)}else e.l=n;return s}function Fbe(e,t,r){var n=e.l+t,a=Cc(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=WA(e,n-e.l,r);s[3]=Us(o,null,a,r.supbooks,r)}else e.l=n;return s}function Bbe(e,t,r){var n=e.l+t,a=Cc(e);a.r=r["!row"];var i=qs(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=WA(e,n-e.l,r);s[3]=Us(o,null,a,r.supbooks,r)}else e.l=n;return s}function $be(e,t,r){var n=e.l+t,a=Cc(e);a.r=r["!row"];var i=Ks(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=WA(e,n-e.l,r);s[3]=Us(o,null,a,r.supbooks,r)}else e.l=n;return s}var Ube=Vm,Vbe=h1;function zbe(e,t){return t==null&&(t=Ke(4)),t.write_shift(4,e),t}function Wbe(e,t){var r=e.l+t,n=Vm(e),a=W6(e),i=Ks(e),s=Ks(e),o=Ks(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function Hbe(e,t){var r=Ke(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));h1({s:Ca(e[0]),e:Ca(e[0])},r),H6("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return es(a||"",r),es(e[1].Tooltip||"",r),es("",r),r.slice(0,r.l)}function qbe(){}function Gbe(e,t,r){var n=e.l+t,a=mX(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=vwe(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Kbe(e,t,r){var n=e.l+t,a=Vm(e),i=[a];if(r.cellFormula){var s=xwe(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function Ybe(e,t,r){r==null&&(r=Ke(18));var n=HA(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var xQ=["left","right","top","bottom","header","footer"];function Xbe(e){var t={};return xQ.forEach(function(r){t[r]=qs(e)}),t}function Qbe(e,t){return t==null&&(t=Ke(6*8)),Up(e),xQ.forEach(function(r){om(e[r],t)}),t}function Jbe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Zbe(e,t,r){r==null&&(r=Ke(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function e_e(e){var t=Ke(24);return t.write_shift(4,4),t.write_shift(4,1),h1(e,t),t}function t_e(e,t){return t==null&&(t=Ke(16*4+2)),t.write_shift(2,e.password?J6(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function r_e(){}function n_e(){}function a_e(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,m,g,v,y,x,w,E,I,P=[];o.biff=12,o["!row"]=0;var A=0,S=!1,k=[],O={},T=o.supbooks||a.supbooks||[[]];if(T.sharedf=O,T.arrayf=k,T.SheetNames=a.SheetNames||a.Sheets.map(function(G){return G.name}),!o.supbooks&&(o.supbooks=T,a.Names))for(var C=0;C<a.Names.length;++C)T[0][C+1]=a.Names[C];var D=[],B=[],Y=!1;E2[16]={n:"BrtShortReal",f:yQ};var ee;if(Fd(e,function(q,be,_e){if(!h)switch(_e){case 148:c=q;break;case 0:p=q,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),E=ui(v=p.r),o["!row"]=p.r,(q.hidden||q.hpt||q.level!=null)&&(q.hpt&&(q.hpx=Dv(q.hpt)),B[q.r]=q);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:q[2]},q[2]){case"n":m.v=q[1];break;case"s":w=_x[q[1]],m.v=w.t,m.r=w.r;break;case"b":m.v=!!q[1];break;case"e":m.v=q[1],o.cellText!==!1&&(m.w=Bd[m.v]);break;case"str":m.t="s",m.v=q[1];break;case"is":m.t="s",m.v=q[1].t;break}if((g=s.CellXf[q[0].iStyleRef])&&mQ(m,g.numFmtId,null,o,i,s),y=q[0].c==-1?y+1:q[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=m):l[Na(y)+E]=m,o.cellFormula){for(S=!1,A=0;A<k.length;++A){var R=k[A];p.r>=R[0].s.r&&p.r<=R[0].e.r&&y>=R[0].s.c&&y<=R[0].e.c&&(m.F=kr(R[0]),S=!0)}!S&&q.length>3&&(m.f=q[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),o.cellDates&&g&&m.t=="n"&&u1(or[g.numFmtId])){var U=kp(m.v);U&&(m.t="d",m.v=new Date(U.y,U.m-1,U.d,U.H,U.M,U.S,U.u))}ee&&(ee.type=="XLDAPR"&&(m.D=!0),ee=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;m={t:"z",v:void 0},y=q[0].c==-1?y+1:q[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=m):l[Na(y)+E]=m,u.s.r>p.r&&(u.s.r=p.r),u.s.c>y&&(u.s.c=y),u.e.r<p.r&&(u.e.r=p.r),u.e.c<y&&(u.e.c=y),ee&&(ee.type=="XLDAPR"&&(m.D=!0),ee=void 0);break;case 176:P.push(q);break;case 49:ee=((o.xlmeta||{}).Cell||[])[q-1];break;case 494:var z=n["!id"][q.relId];for(z?(q.Target=z.Target,q.loc&&(q.Target+="#"+q.loc),q.Rel=z):q.relId==""&&(q.Target="#"+q.loc),v=q.rfx.s.r;v<=q.rfx.e.r;++v)for(y=q.rfx.s.c;y<=q.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=q):(x=cr({c:y,r:v}),l[x]||(l[x]={t:"z",v:void 0}),l[x].l=q);break;case 426:if(!o.cellFormula)break;k.push(q),I=o.dense?l[v][y]:l[Na(y)+E],I.f=Us(q[1],u,{r:p.r,c:y},T,o),I.F=kr(q[0]);break;case 427:if(!o.cellFormula)break;O[cr(q[0].s)]=q[1],I=o.dense?l[v][y]:l[Na(y)+E],I.f=Us(q[1],u,{r:p.r,c:y},T,o);break;case 60:if(!o.cellStyles)break;for(;q.e>=q.s;)D[q.e--]={width:q.w/256,hidden:!!(q.flags&1),level:q.level},Y||(Y=!0,Z6(q.w/256)),u0(D[q.e+1]);break;case 161:l["!autofilter"]={ref:kr(q)};break;case 476:l["!margins"]=q;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),q.name&&(a.Sheets[r].CodeName=q.name),(q.above||q.left)&&(l["!outline"]={above:q.above,left:q.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),q.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!be.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+_e.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=kr(c||u)),o.sheetRows&&l["!ref"]){var re=cn(l["!ref"]);o.sheetRows<=+re.e.r&&(re.e.r=o.sheetRows-1,re.e.r>u.e.r&&(re.e.r=u.e.r),re.e.r<re.s.r&&(re.s.r=re.e.r),re.e.c>u.e.c&&(re.e.c=u.e.c),re.e.c<re.s.c&&(re.s.c=re.e.c),l["!fullref"]=l["!ref"],l["!ref"]=kr(re))}return P.length>0&&(l["!merges"]=P),D.length>0&&(l["!cols"]=D),B.length>0&&(l["!rows"]=B),l}function i_e(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=la(t),t.z=t.z||or[14],t.v=Bi(oa(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=j0(a.cellXfs,t,a),t.l&&i["!links"].push([cr(l),t.l]),t.c&&i["!comments"].push([cr(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=aD(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,s?it(e,18,Ebe(t,l)):it(e,7,_be(t,l))):(l.t="str",s?it(e,17,Lbe(t,l)):it(e,6,jbe(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?it(e,13,Ibe(t,l)):it(e,2,Cbe(t,l)):s?it(e,16,kbe(t,l)):it(e,5,Tbe(t,l)),!0;case"b":return l.t="b",s?it(e,15,gbe(t,l)):it(e,4,pbe(t,l)),!0;case"e":return l.t="e",s?it(e,14,wbe(t,l)):it(e,3,ybe(t,l)),!0}return s?it(e,12,dbe(t,l)):it(e,1,ube(t,l)),!0}function s_e(e,t,r,n){var a=cn(t["!ref"]||"A1"),i,s="",o=[];it(e,145);var l=Array.isArray(t),c=a.e.r;t["!rows"]&&(c=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=c;++u){s=ui(u),nbe(e,t,a,u);var f=!1;if(u<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){u===a.s.r&&(o[h]=Na(h)),i=o[h]+s;var p=l?(t[u]||[])[h]:t[i];if(!p){f=!1;continue}f=i_e(e,p,u,h,n,t,f)}}it(e,146)}function o_e(e,t){!t||!t["!merges"]||(it(e,177,zbe(t["!merges"].length)),t["!merges"].forEach(function(r){it(e,176,Vbe(r))}),it(e,178))}function l_e(e,t){!t||!t["!cols"]||(it(e,390),t["!cols"].forEach(function(r,n){r&&it(e,60,Ybe(n,r))}),it(e,391))}function c_e(e,t){!t||!t["!ref"]||(it(e,648),it(e,649,e_e(cn(t["!ref"]))),it(e,650))}function u_e(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=kn(r,-1,n[1].Target.replace(/#.*$/,""),Fr.HLINK);it(e,494,Hbe(n,a))}}),delete t["!links"]}function f_e(e,t,r,n){if(t["!comments"].length>0){var a=kn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Fr.VML);it(e,551,H6("rId"+a)),t["!legacy"]=a}}function d_e(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:kr(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=el(i);o.s.r==o.e.r&&(o.e.r=el(t["!ref"]).e.r,i=kr(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),it(e,161,h1(cn(i))),it(e,162)}}function h_e(e,t,r){it(e,133),it(e,137,Zbe(t,r)),it(e,138),it(e,134)}function p_e(e,t){t["!protect"]&&it(e,535,t_e(t["!protect"]))}function m_e(e,t,r,n){var a=Ko(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=cn(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],it(a,129),(r.vbaraw||s["!outline"])&&it(a,147,lbe(o,s["!outline"])),it(a,148,ibe(l)),h_e(a,s,r.Workbook),l_e(a,s),s_e(a,s,e,t),p_e(a,s),d_e(a,s,r,e),o_e(a,s),u_e(a,s,n),s["!margins"]&&it(a,476,Qbe(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&c_e(a,s),f_e(a,s,e,n),it(a,130),a.end()}function g_e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=ln((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function v_e(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=g_e(f);u.s.r=u.s.c=0,u.e.c=o,c=Na(o),h[0].forEach(function(p,m){s[c+ui(m)]={t:"n",v:p,z:h[1]},l=m}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=kr(u)),s}function y_e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(gQ);return o&&iD(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function x_e(e,t){e.l+=10;var r=Ks(e);return{name:r}}function w_e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Fd(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var sD=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],b_e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],__e=[],S_e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function K7(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=na(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function Y7(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=na(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function wQ(e){Y7(e.WBProps,sD),Y7(e.CalcPr,S_e),K7(e.WBView,b_e),K7(e.Sheets,__e),sv.date1904=na(e.WBProps.date1904)}function E_e(e){return!e.Workbook||!e.Workbook.WBProps?"false":na(e.Workbook.WBProps.date1904)?"true":"false"}var A_e="][*?/\\".split("");function bQ(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return A_e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function T_e(e,t,r){e.forEach(function(n,a){bQ(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function k_e(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];T_e(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)Ewe(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var N_e=/<\w+:workbook/;function C_e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(to,function(l,c){var u=mr(l);switch(vf(u[0])){case"<?xml":break;case"<workbook":l.match(N_e)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":sD.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=na(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=Rn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=ln(Rn(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Rn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),na(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=ln(Rn(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Fm.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return wQ(r),r}function _Q(e){var t=[fi];t[t.length]=xt("workbook",null,{xmlns:Fm[0],"xmlns:r":Li.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(sD.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=xt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:Cn(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=xt("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=xt("definedName",Cn(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function P_e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=X3(e),r.name=Ks(e),r}function I_e(e,t){return t||(t=Ke(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),H6(e.strRelID,t),es(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function O_e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ks(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function D_e(e,t){t||(t=Ke(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),hX(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function j_e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function R_e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=fge(e),s=ywe(e,0,r),o=W6(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function L_e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],E2[16]={n:"BrtFRTArchID$",f:j_e},Fd(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Us(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),wQ(r),r.Names=i,r.supbooks=s,r}function M_e(e,t){it(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};it(e,156,I_e(a))}it(e,144)}function F_e(e,t){t||(t=Ke(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return es("SheetJS",t),es(SE.version,t),es(SE.version,t),es("7262",t),t.length>t.l?t.slice(0,t.l):t}function B_e(e,t){t||(t=Ke(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function $_e(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(it(e,135),it(e,158,B_e(a)),it(e,136))}}function U_e(e,t){var r=Ko();return it(r,131),it(r,128,F_e()),it(r,153,D_e(e.Workbook&&e.Workbook.WBProps||null)),$_e(r,e),M_e(r,e),it(r,132),r.end()}function V_e(e,t,r){return t.slice(-4)===".bin"?L_e(e,r):C_e(e,r)}function z_e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?a_e(e,n,r,a,i,s,o):Rwe(e,n,r,a,i,s,o)}function W_e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?w_e(e,n,r,a,i):y_e(e,n,r,a,i)}function H_e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Gxe():Kxe()}function q_e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Hxe():qxe()}function G_e(e,t,r,n){return t.slice(-4)===".bin"?Vye(e,r,n):Pye(e,r,n)}function K_e(e,t,r){return rQ(e,r)}function Y_e(e,t,r){return t.slice(-4)===".bin"?Y1e(e,r):q1e(e,r)}function X_e(e,t,r){return t.slice(-4)===".bin"?$xe(e,r):Ixe(e,r)}function Q_e(e,t,r){return t.slice(-4)===".bin"?Nxe(e):Txe(e)}function J_e(e,t,r,n){return r.slice(-4)===".bin"?Cxe(e,t,r,n):void 0}function Z_e(e,t,r){return t.slice(-4)===".bin"?Sxe(e,t,r):Axe(e,t,r)}function eSe(e,t,r){return(t.slice(-4)===".bin"?U_e:_Q)(e)}function tSe(e,t,r,n,a){return(t.slice(-4)===".bin"?m_e:vQ)(e,r,n,a)}function rSe(e,t,r){return(t.slice(-4)===".bin"?Jye:eQ)(e,r)}function nSe(e,t,r){return(t.slice(-4)===".bin"?J1e:qX)(e,r)}function aSe(e,t,r){return(t.slice(-4)===".bin"?Uxe:iQ)(e)}function iSe(e){return(e.slice(-4)===".bin"?Exe:nQ)()}var SQ=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,EQ=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Hc(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(SQ),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(EQ),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function sSe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(SQ),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(EQ),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Ex;function oSe(e,t){var r=Ex[e]||ln(e);return r==="General"?im(t):_c(r,t)}function lSe(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=na(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=oa(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[ln(t)]=a}function cSe(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Bd[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=m2(e.v):e.w=im(e.v):e.w=oSe(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Ex[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&u1(n)){var a=kp(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function uSe(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=_ye[n.Pattern]||n.Pattern)}e[t.ID]=t}function fSe(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var p=[],m=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&p.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=na(e);break;case"String":n.t="s",n.r=d7(ln(e)),n.v=e.indexOf("<")>-1?ln(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(oa(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=ln(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=yX[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=d7(t||e));break}if(cSe(n,u,c),c.cellFormula!==!1)if(n.Formula){var g=ln(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=iv(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=iv("RC:RC",a):n.ArrayRange&&(n.F=iv(n.ArrayRange,a),l.push([cn(n.F),n.F]))}else for(m=0;m<l.length;++m)a.r>=l[m][0].s.r&&a.r<=l[m][0].e.r&&a.c>=l[m][0].s.c&&a.c<=l[m][0].e.c&&(n.F=l[m][1]);c.cellStyles&&(p.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function dSe(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function QN(e,t){var r=t||{};f1();var n=Yy(F6(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Rn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=la(r);return s.type="string",Ov.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(pt){a.indexOf("<"+pt)>=0&&(i=!0)}),i)return QSe(n,r);Ex={"General Number":"General","General Date":or[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":or[15],"Short Date":or[14],"Long Time":or[19],"Medium Time":or[18],"Short Time":or[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:or[2],Standard:or[4],Percent:or[10],Scientific:or[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},p="",m={},g={},v=Hc('<Data ss:Type="String">'),y=0,x=0,w=0,E={s:{r:2e6,c:2e6},e:{r:0,c:0}},I={},P={},A="",S=0,k=[],O={},T={},C=0,D=[],B=[],Y={},ee=[],re,G=!1,q=[],be=[],_e={},R=0,U=0,z={Sheets:[],WBProps:{date1904:!1}},W={};y2.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Z="";o=y2.exec(n);)switch(o[3]=(Z=o[3]).toLowerCase()){case"data":if(Z=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?fSe(n.slice(y,o.index),A,v,l[l.length-1][0]=="comment"?Y:m,{c:x,r:w},I,ee[x],g,q,r):(A="",v=Hc(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(B.length>0&&(m.c=B),(!r.sheetRows||r.sheetRows>w)&&m.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][x]=m):h[Na(x)+ui(w)]=m),m.HRef&&(m.l={Target:ln(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(R=x+(parseInt(m.MergeAcross,10)|0),U=w+(parseInt(m.MergeDown,10)|0),k.push({s:{c:x,r:w},e:{c:R,r:U}})),!r.sheetStubs)m.MergeAcross?x=R+1:++x;else if(m.MergeAcross||m.MergeDown){for(var le=x;le<=R;++le)for(var he=w;he<=U;++he)(le>x||he>w)&&(r.dense?(h[he]||(h[he]=[]),h[he][le]={t:"z"}):h[Na(le)+ui(he)]={t:"z"});x=R+1}else++x;else m=sSe(o[0]),m.Index&&(x=+m.Index-1),x<E.s.c&&(E.s.c=x),x>E.e.c&&(E.e.c=x),o[0].slice(-2)==="/>"&&++x,B=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<E.s.r&&(E.s.r=w),w>E.e.r&&(E.e.r=w),o[0].slice(-2)==="/>"&&(g=Hc(o[0]),g.Index&&(w=+g.Index-1)),x=0,++w):(g=Hc(o[0]),g.Index&&(w=+g.Index-1),_e={},(g.AutoFitHeight=="0"||g.Height)&&(_e.hpx=parseInt(g.Height,10),_e.hpt=S2(_e.hpx),be[w]=_e),g.Hidden=="1"&&(_e.hidden=!0,be[w]=_e));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),E.s.r<=E.e.r&&E.s.c<=E.e.c&&(h["!ref"]=kr(E),r.sheetRows&&r.sheetRows<=E.e.r&&(h["!fullref"]=h["!ref"],E.e.r=r.sheetRows-1,h["!ref"]=kr(E))),k.length&&(h["!merges"]=k),ee.length>0&&(h["!cols"]=ee),be.length>0&&(h["!rows"]=be),u[p]=h}else E={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=x=0,l.push([o[3],!1]),c=Hc(o[0]),p=ln(c.Name),h=r.dense?[]:{},k=[],q=[],be=[],W={name:p,Hidden:0},z.Sheets.push(W);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),ee=[],G=!1}break;case"style":o[1]==="/"?uSe(I,P,r):P=Hc(o[0]);break;case"numberformat":P.nf=ln(Hc(o[0]).Format||"General"),Ex[P.nf]&&(P.nf=Ex[P.nf]);for(var ae=0;ae!=392&&or[ae]!=P.nf;++ae);if(ae==392){for(ae=57;ae!=392;++ae)if(or[ae]==null){od(P.nf,ae);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(re=Hc(o[0]),re.Hidden&&(re.hidden=!0,delete re.Hidden),re.Width&&(re.wpx=parseInt(re.Width,10)),!G&&re.wpx>10){G=!0,zs=JX;for(var pe=0;pe<ee.length;++pe)ee[pe]&&u0(ee[pe])}G&&u0(re),ee[re.Index-1||ee.length]=re;for(var ke=0;ke<+re.Span;++ke)ee[ee.length]=la(re);break;case"namedrange":if(o[1]==="/")break;z.Names||(z.Names=[]);var K=mr(o[0]),qe={Name:K.Name,Ref:iv(K.RefersTo.slice(1),{r:0,c:0})};z.Sheets.length>0&&(qe.Sheet=z.Sheets.length-1),z.Names.push(qe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?A+=n.slice(S,o.index):S=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;P.Interior=Hc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Lge(O,Z,n.slice(C,o.index)):C=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));dSe(Y),B.push(Y)}else l.push([o[3],!1]),c=Hc(o[0]),Y={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ae=Hc(o[0]);h["!autofilter"]={ref:iv(Ae.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return e9(n,r);var ue=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ue=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ue=!1}break;case"excelworkbook":switch(o[3]){case"date1904":z.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ue=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ue=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(C,o.index)){case"SheetHidden":W.Hidden=1;break;case"SheetVeryHidden":W.Hidden=2;break}else C=o.index+o[0].length;break;case"header":h["!margins"]||Up(h["!margins"]={},"xlml"),isNaN(+mr(o[0]).Margin)||(h["!margins"].header=+mr(o[0]).Margin);break;case"footer":h["!margins"]||Up(h["!margins"]={},"xlml"),isNaN(+mr(o[0]).Margin)||(h["!margins"].footer=+mr(o[0]).Margin);break;case"pagemargins":var ot=mr(o[0]);h["!margins"]||Up(h["!margins"]={},"xlml"),isNaN(+ot.Top)||(h["!margins"].top=+ot.Top),isNaN(+ot.Left)||(h["!margins"].left=+ot.Left),isNaN(+ot.Right)||(h["!margins"].right=+ot.Right),isNaN(+ot.Bottom)||(h["!margins"].bottom=+ot.Bottom);break;case"displayrighttoleft":z.Views||(z.Views=[]),z.Views[0]||(z.Views[0]={}),z.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ue=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ue=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ue=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ue=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ue=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ue=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ue=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ue=!1}break;case"smarttags":break;default:ue=!1;break}if(ue||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?lSe(T,Z,D,n.slice(C,o.index)):(D=o,C=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var $e={};return!r.bookSheets&&!r.bookProps&&($e.Sheets=u),$e.SheetNames=f,$e.Workbook=z,$e.SSF=la(or),$e.Props=O,$e.Custprops=T,$e}function nP(e,t){switch(lD(t=t||{}),t.type||"base64"){case"base64":return QN(jl(e),t);case"binary":case"buffer":case"file":return QN(e,t);case"array":return QN(O0(e),t)}}function hSe(e,t){var r=[];return e.Props&&r.push(Mge(e.Props,t)),e.Custprops&&r.push(Fge(e.Props,e.Custprops)),r.join("")}function pSe(){return""}function mSe(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(xt("NumberFormat",null,{"ss:Format":Cn(or[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(xt("Style",i.join(""),s))}),xt("Styles",r.join(""))}function AQ(e){return xt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+rD(e.Ref,{r:0,c:0})})}function gSe(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(AQ(a)))}return xt("Names",r.join(""))}function vSe(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(AQ(o)))}return i.join("")}function ySe(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(xt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(xt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(xt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(xt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(xs("ProtectContents","True")),e["!protect"].objects&&a.push(xs("ProtectObjects","True")),e["!protect"].scenarios&&a.push(xs("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(xs("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(xs("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":xt("WorksheetOptions",a.join(""),{xmlns:xl.x})}function xSe(e){return e.map(function(t){var r=$me(t.t||""),n=xt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return xt("Comment",n,{"ss:Author":t.a})}).join("")}function wSe(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+Cn(rD(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=Ca(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=Cn(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=Cn(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=s.c||c[u].s.r!=s.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Bd[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||or[14]);break;case"s":f="String",h=Bme(e.v||"");break}var p=j0(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+p),o["ss:Index"]=s.c+1;var m=e.v!=null?h:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+m+"</Data>";return(e.c||[]).length>0&&(g+=xSe(e.c)),xt("Cell",g,o)}function bSe(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Dv(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function _Se(e,t,r,n){if(!e["!ref"])return"";var a=cn(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(v,y){u0(v);var x=!!v.width,w=HA(y,v),E={"ss:Index":y+1};x&&(E["ss:Width"]=b2(w.width)),v.hidden&&(E["ss:Hidden"]="1"),o.push(xt("Column",null,E))});for(var l=Array.isArray(e),c=a.s.r;c<=a.e.r;++c){for(var u=[bSe(c,(e["!rows"]||[])[c])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>c)&&!(i[s].e.c<f)&&!(i[s].e.r<c)){(i[s].s.c!=f||i[s].s.r!=c)&&(h=!0);break}if(!h){var p={r:c,c:f},m=cr(p),g=l?(e[c]||[])[f]:e[m];u.push(wSe(g,m,e,t,r,n,p))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function SSe(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?vSe(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?_Se(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(ySe(i,t,e,r)),n.join("")}function ESe(e,t){t||(t={}),e.SSF||(e.SSF=la(or)),e.SSF&&(f1(),FA(e.SSF),t.revssf=$A(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],j0(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(hSe(e,t)),r.push(pSe()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(xt("Worksheet",SSe(n,t,e),{"ss:Name":Cn(e.SheetNames[n])}));return r[2]=mSe(e,t),r[3]=gSe(e),fi+xt("Workbook",r.join(""),{xmlns:xl.ss,"xmlns:o":xl.o,"xmlns:x":xl.x,"xmlns:ss":xl.ss,"xmlns:dt":xl.dt,"xmlns:html":xl.html})}function ASe(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=gge(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=vge(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var TSe=[60,1084,2066,2165,2175];function kSe(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=Yf(r,r.l),c=aP[l],u=0;c!=null&&TSe.indexOf(l)>-1;)i=Yf(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=aP[l=Yf(r,r.l)];var f=Ji(s);ys(f,0);var h=0;f.lens=[];for(var p=0;p<s.length;++p)f.lens.push(h),h+=s[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function ju(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=or[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Bd[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=m2(e.v):e.w=im(e.v):e.w=_c(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&u1(or[n]||String(n))){var a=kp(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function __(e,t,r){return{v:e,ixfe:t,t:r}}function NSe(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",p,m,g,v,y={},x=[],w,E,I=[],P=[],A={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},k=function(ht){return ht<8?Fp[ht]:ht<64&&P[ht-8]||Fp[ht]},O=function(ht,wt,dr){var Gt=wt.XF.data;if(!(!Gt||!Gt.patternType||!dr||!dr.cellStyles)){wt.s={},wt.s.patternType=Gt.patternType;var Nt;(Nt=w2(k(Gt.icvFore)))&&(wt.s.fgColor={rgb:Nt}),(Nt=w2(k(Gt.icvBack)))&&(wt.s.bgColor={rgb:Nt})}},T=function(ht,wt,dr){if(!(_e>1)&&!(dr.sheetRows&&ht.r>=dr.sheetRows)){if(dr.cellStyles&&wt.XF&&wt.XF.data&&O(ht,wt,dr),delete wt.ixfe,delete wt.XF,f=ht,h=cr(ht),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),ht.r<s.s.r&&(s.s.r=ht.r),ht.c<s.s.c&&(s.s.c=ht.c),ht.r+1>s.e.r&&(s.e.r=ht.r+1),ht.c+1>s.e.c&&(s.e.c=ht.c+1),dr.cellFormula&&wt.f){for(var Gt=0;Gt<x.length;++Gt)if(!(x[Gt][0].s.c>ht.c||x[Gt][0].s.r>ht.r)&&!(x[Gt][0].e.c<ht.c||x[Gt][0].e.r<ht.r)){wt.F=kr(x[Gt][0]),(x[Gt][0].s.c!=ht.c||x[Gt][0].s.r!=ht.r)&&delete wt.f,wt.f&&(wt.f=""+Us(x[Gt][1],s,ht,q,C));break}}dr.dense?(a[ht.r]||(a[ht.r]=[]),a[ht.r][ht.c]=wt):a[h]=wt}},C={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(C.password=t.password);var D,B=[],Y=[],ee=[],re=[],G=!1,q=[];q.SheetNames=C.snames,q.sharedf=C.sharedf,q.arrayf=C.arrayf,q.names=[],q.XTI=[];var be=0,_e=0,R=0,U=[],z=[],W;C.codepage=1200,tu(1200);for(var Z=!1;e.l<e.length-1;){var le=e.l,he=e.read_shift(2);if(he===0&&be===10)break;var ae=e.l===e.length?0:e.read_shift(2),pe=aP[he];if(pe&&pe.f){if(t.bookSheets&&be===133&&he!==133)break;if(be=he,pe.r===2||pe.r==12){var ke=e.read_shift(2);if(ae-=2,!C.enc&&ke!==he&&((ke&255)<<8|ke>>8)!==he)throw new Error("rt mismatch: "+ke+"!="+he);pe.r==12&&(e.l+=10,ae-=10)}var K={};if(he===10?K=pe.f(e,ae,C):K=kSe(he,pe,e,ae,C),_e==0&&[9,521,1033,2057].indexOf(be)===-1)continue;switch(he){case 34:r.opts.Date1904=A.WBProps.date1904=K;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(C.enc||(e.l=0),C.enc=K,!t.password)throw new Error("File is password-protected");if(K.valid==null)throw new Error("Encryption scheme unsupported");if(!K.valid)throw new Error("Password is incorrect");break;case 92:C.lastuser=K;break;case 66:var qe=Number(K);switch(qe){case 21010:qe=1200;break;case 32768:qe=1e4;break;case 32769:qe=1252;break}tu(C.codepage=qe),Z=!0;break;case 317:C.rrtabid=K;break;case 25:C.winlocked=K;break;case 439:r.opts.RefreshAll=K;break;case 12:r.opts.CalcCount=K;break;case 16:r.opts.CalcDelta=K;break;case 17:r.opts.CalcIter=K;break;case 13:r.opts.CalcMode=K;break;case 14:r.opts.CalcPrecision=K;break;case 95:r.opts.CalcSaveRecalc=K;break;case 15:C.CalcRefMode=K;break;case 2211:r.opts.FullCalc=K;break;case 129:K.fDialog&&(a["!type"]="dialog"),K.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),K.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:I.push(K);break;case 430:q.push([K]),q[q.length-1].XTI=[];break;case 35:case 547:q[q.length-1].push(K);break;case 24:case 536:W={Name:K.Name,Ref:Us(K.rgce,s,null,q,C)},K.itab>0&&(W.Sheet=K.itab-1),q.names.push(W),q[0]||(q[0]=[],q[0].XTI=[]),q[q.length-1].push(K),K.Name=="_xlnm._FilterDatabase"&&K.itab>0&&K.rgce&&K.rgce[0]&&K.rgce[0][0]&&K.rgce[0][0][0]=="PtgArea3d"&&(z[K.itab-1]={ref:kr(K.rgce[0][0][1][2])});break;case 22:C.ExternCount=K;break;case 23:q.length==0&&(q[0]=[],q[0].XTI=[]),q[q.length-1].XTI=q[q.length-1].XTI.concat(K),q.XTI=q.XTI.concat(K);break;case 2196:if(C.biff<8)break;W!=null&&(W.Comment=K[1]);break;case 18:a["!protect"]=K;break;case 19:K!==0&&C.WTF&&console.error("Password verifier: "+K);break;case 133:i[K.pos]=K,C.snames.push(K.name);break;case 10:{if(--_e)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=kr(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ae=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=kr(s),s.e.r=Ae}s.e.r++,s.e.c++}B.length>0&&(a["!merges"]=B),Y.length>0&&(a["!objects"]=Y),ee.length>0&&(a["!cols"]=ee),re.length>0&&(a["!rows"]=re),A.Sheets.push(S)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(C.biff===8&&(C.biff={9:2,521:3,1033:4}[he]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[K.BIFFVer]||8),C.biffguess=K.BIFFVer==0,K.BIFFVer==0&&K.dt==4096&&(C.biff=5,Z=!0,tu(C.codepage=28591)),C.biff==8&&K.BIFFVer==0&&K.dt==16&&(C.biff=2),_e++)break;if(a=t.dense?[]:{},C.biff<8&&!Z&&(Z=!0,tu(C.codepage=t.codepage||1252)),C.biff<5||K.BIFFVer==0&&K.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var ue={pos:e.l-ae,name:c};i[ue.pos]=ue,C.snames.push(c)}else c=(i[le]||{name:""}).name;K.dt==32&&(a["!type"]="chart"),K.dt==64&&(a["!type"]="macro"),B=[],Y=[],C.arrayf=x=[],ee=[],re=[],G=!1,S={Hidden:(i[le]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[K.r]||[])[K.c]:a[cr({c:K.c,r:K.r})])&&++K.c,w={ixfe:K.ixfe,XF:I[K.ixfe]||{},v:K.val,t:"n"},R>0&&(w.z=U[w.ixfe>>8&63]),ju(w,t,r.opts.Date1904),T({c:K.c,r:K.r},w,t);break;case 5:case 517:w={ixfe:K.ixfe,XF:I[K.ixfe],v:K.val,t:K.t},R>0&&(w.z=U[w.ixfe>>8&63]),ju(w,t,r.opts.Date1904),T({c:K.c,r:K.r},w,t);break;case 638:w={ixfe:K.ixfe,XF:I[K.ixfe],v:K.rknum,t:"n"},R>0&&(w.z=U[w.ixfe>>8&63]),ju(w,t,r.opts.Date1904),T({c:K.c,r:K.r},w,t);break;case 189:for(var ot=K.c;ot<=K.C;++ot){var $e=K.rkrec[ot-K.c][0];w={ixfe:$e,XF:I[$e],v:K.rkrec[ot-K.c][1],t:"n"},R>0&&(w.z=U[w.ixfe>>8&63]),ju(w,t,r.opts.Date1904),T({c:ot,r:K.r},w,t)}break;case 6:case 518:case 1030:{if(K.val=="String"){o=K;break}if(w=__(K.val,K.cell.ixfe,K.tt),w.XF=I[w.ixfe],t.cellFormula){var pt=K.formula;if(pt&&pt[0]&&pt[0][0]&&pt[0][0][0]=="PtgExp"){var et=pt[0][0][1][0],yt=pt[0][0][1][1],dt=cr({r:et,c:yt});y[dt]?w.f=""+Us(K.formula,s,K.cell,q,C):w.F=((t.dense?(a[et]||[])[yt]:a[dt])||{}).F}else w.f=""+Us(K.formula,s,K.cell,q,C)}R>0&&(w.z=U[w.ixfe>>8&63]),ju(w,t,r.opts.Date1904),T(K.cell,w,t),o=K}break;case 7:case 519:if(o)o.val=K,w=__(K,o.cell.ixfe,"s"),w.XF=I[w.ixfe],t.cellFormula&&(w.f=""+Us(o.formula,s,o.cell,q,C)),R>0&&(w.z=U[w.ixfe>>8&63]),ju(w,t,r.opts.Date1904),T(o.cell,w,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(K);var rr=cr(K[0].s);if(p=t.dense?(a[K[0].s.r]||[])[K[0].s.c]:a[rr],t.cellFormula&&p){if(!o||!rr||!p)break;p.f=""+Us(K[1],s,K[0],q,C),p.F=kr(K[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[cr(o.cell)]=K[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[cr(o.cell)],(p||{}).f=""+Us(K[0],s,f,q,C)}}break;case 253:w=__(l[K.isst].t,K.ixfe,"s"),l[K.isst].h&&(w.h=l[K.isst].h),w.XF=I[w.ixfe],R>0&&(w.z=U[w.ixfe>>8&63]),ju(w,t,r.opts.Date1904),T({c:K.c,r:K.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:K.ixfe,XF:I[K.ixfe],t:"z"},R>0&&(w.z=U[w.ixfe>>8&63]),ju(w,t,r.opts.Date1904),T({c:K.c,r:K.r},w,t));break;case 190:if(t.sheetStubs)for(var St=K.c;St<=K.C;++St){var Kt=K.ixfe[St-K.c];w={ixfe:Kt,XF:I[Kt],t:"z"},R>0&&(w.z=U[w.ixfe>>8&63]),ju(w,t,r.opts.Date1904),T({c:St,r:K.r},w,t)}break;case 214:case 516:case 4:w=__(K.val,K.ixfe,"s"),w.XF=I[w.ixfe],R>0&&(w.z=U[w.ixfe>>8&63]),ju(w,t,r.opts.Date1904),T({c:K.c,r:K.r},w,t);break;case 0:case 512:_e===1&&(s=K);break;case 252:l=K;break;case 1054:if(C.biff==4){U[R++]=K[1];for(var vt=0;vt<R+163&&or[vt]!=K[1];++vt);vt>=163&&od(K[1],R+163)}else od(K[1],K[0]);break;case 30:{U[R++]=K;for(var At=0;At<R+163&&or[At]!=K;++At);At>=163&&od(K,R+163)}break;case 229:B=B.concat(K);break;case 93:Y[K.cmo[0]]=C.lastobj=K;break;case 438:C.lastobj.TxO=K;break;case 127:C.lastobj.ImData=K;break;case 440:for(v=K[0].s.r;v<=K[0].e.r;++v)for(g=K[0].s.c;g<=K[0].e.c;++g)p=t.dense?(a[v]||[])[g]:a[cr({c:g,r:v})],p&&(p.l=K[1]);break;case 2048:for(v=K[0].s.r;v<=K[0].e.r;++v)for(g=K[0].s.c;g<=K[0].e.c;++g)p=t.dense?(a[v]||[])[g]:a[cr({c:g,r:v})],p&&p.l&&(p.l.Tooltip=K[1]);break;case 28:{if(C.biff<=5&&C.biff>=2)break;p=t.dense?(a[K[0].r]||[])[K[0].c]:a[cr(K[0])];var nr=Y[K[2]];p||(t.dense?(a[K[0].r]||(a[K[0].r]=[]),p=a[K[0].r][K[0].c]={t:"z"}):p=a[cr(K[0])]={t:"z"},s.e.r=Math.max(s.e.r,K[0].r),s.s.r=Math.min(s.s.r,K[0].r),s.e.c=Math.max(s.e.c,K[0].c),s.s.c=Math.min(s.s.c,K[0].c)),p.c||(p.c=[]),m={a:K[1],t:nr.TxO.t},p.c.push(m)}break;case 2173:mxe(I[K.ixfe],K.ext);break;case 125:{if(!C.cellStyles)break;for(;K.e>=K.s;)ee[K.e--]={width:K.w/256,level:K.level||0,hidden:!!(K.flags&1)},G||(G=!0,Z6(K.w/256)),u0(ee[K.e+1])}break;case 520:{var Pt={};K.level!=null&&(re[K.r]=Pt,Pt.level=K.level),K.hidden&&(re[K.r]=Pt,Pt.hidden=!0),K.hpt&&(re[K.r]=Pt,Pt.hpt=K.hpt,Pt.hpx=Dv(K.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Up(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[he]]=K;break;case 161:a["!margins"]||Up(a["!margins"]={}),a["!margins"].header=K.header,a["!margins"].footer=K.footer;break;case 574:K.RTL&&(A.Views[0].RTL=!0);break;case 146:P=K;break;case 2198:D=K;break;case 140:E=K;break;case 442:c?S.CodeName=K||S.name:A.WBProps.CodeName=K||"ThisWorkbook";break}}else pe||console.error("Missing Info for XLS Record 0x"+he.toString(16)),e.l+=ae}return r.SheetNames=Ka(i).sort(function(kt,ht){return Number(kt)-Number(ht)}).map(function(kt){return i[kt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&z.forEach(function(kt,ht){r.Sheets[r.SheetNames[ht]]["!autofilter"]=kt}),r.Strings=l,r.SSF=la(or),C.enc&&(r.Encryption=C.enc),D&&(r.Themes=D),r.Metadata={},E!==void 0&&(r.Metadata.Country=E),q.names.length>0&&(A.Names=q.names),r.Workbook=A,r}var Ax={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function CSe(e,t,r){var n=tr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=P7(n,Q3,Ax.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=tr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=P7(s,J3,Ax.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(EX(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function PSe(e,t){var r=[],n=[],a=[],i=0,s,o=s7(Q3,"n"),l=s7(J3,"n");if(e.Props)for(s=Ka(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=Ka(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var c=[];for(i=0;i<a.length;++i)IX.indexOf(a[i][0])>-1||SX.indexOf(a[i][0])>-1||a[i][1]!=null&&c.push(a[i]);n.length&&tr.utils.cfb_add(t,"/SummaryInformation",I7(n,Ax.SI,l,J3)),(r.length||c.length)&&tr.utils.cfb_add(t,"/DocumentSummaryInformation",I7(r,Ax.DSI,o,Q3,c.length?c:null,Ax.UDI))}function TQ(e,t){t||(t={}),lD(t),C6(),t.codepage&&N6(t.codepage);var r,n;if(e.FullPaths){if(tr.find(e,"/encryption"))throw new Error("File is password-protected");r=tr.find(e,"!CompObj"),n=tr.find(e,"/Workbook")||tr.find(e,"/Book")}else{switch(t.type){case"base64":e=_l(jl(e));break;case"binary":e=_l(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ys(e,0),n={content:e}}var a,i;if(r&&ASe(r),t.bookProps&&!t.bookSheets)a={};else{var s=Rr?"buffer":"array";if(n&&n.content)a=NSe(n.content,t);else if((i=tr.find(e,"PerfectOffice_MAIN"))&&i.content)a=$p.to_workbook(i.content,(t.type=s,t));else if((i=tr.find(e,"NativeContent_MAIN"))&&i.content)a=$p.to_workbook(i.content,(t.type=s,t));else throw(i=tr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&tr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=zxe(e))}var o={};return e.FullPaths&&CSe(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function ISe(e,t){var r=t||{},n=tr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return tr.utils.cfb_add(n,a,kQ(e,r)),r.biff==8&&(e.Props||e.Custprops)&&PSe(e,n),r.biff==8&&e.vbaraw&&Wxe(n,tr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var E2={0:{f:tbe},1:{f:cbe},2:{f:Nbe},3:{f:vbe},4:{f:hbe},5:{f:Abe},6:{f:Dbe},7:{f:bbe},8:{f:$be},9:{f:Bbe},10:{f:Mbe},11:{f:Fbe},12:{f:fbe},13:{f:Pbe},14:{f:xbe},15:{f:mbe},16:{f:yQ},17:{f:Rbe},18:{f:Sbe},19:{f:z6},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:R_e},40:{},42:{},43:{f:Dye},44:{f:Iye},45:{f:Lye},46:{f:Fye},47:{f:Mye},48:{},49:{f:age},50:{},51:{f:yxe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:VX},62:{f:Obe},63:{f:kxe},64:{f:r_e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Zs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Jbe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:obe},148:{f:abe,p:16},151:{f:qbe},152:{},153:{f:O_e},154:{},155:{},156:{f:P_e},157:{},158:{},159:{T:1,f:K1e},160:{T:-1},161:{T:1,f:Vm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Ube},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:gxe},336:{T:-1},337:{f:bxe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:X3},357:{},358:{},359:{},360:{T:1},361:{},362:{f:UX},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Gbe},427:{f:Kbe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Xbe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:sbe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Wbe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:X3},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Fxe},633:{T:1},634:{T:-1},635:{T:1,f:Lxe},636:{T:-1},637:{f:lge},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:x_e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:n_e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},aP={6:{f:YN},10:{f:gh},12:{f:yi},13:{f:yi},14:{f:ti},15:{f:ti},16:{f:qs},17:{f:ti},18:{f:ti},19:{f:yi},20:{f:M7},21:{f:M7},23:{f:UX},24:{f:B7},25:{f:ti},26:{},27:{},28:{f:n1e},29:{},34:{f:ti},35:{f:F7},38:{f:qs},39:{f:qs},40:{f:qs},41:{f:qs},42:{f:ti},43:{f:ti},47:{f:mye},49:{f:Pve},51:{f:yi},60:{},61:{f:Ave},64:{f:ti},65:{f:Cve},66:{f:yi},77:{},80:{},81:{},82:{},85:{f:yi},89:{},90:{},91:{},92:{f:pve},93:{f:s1e},94:{},95:{f:ti},96:{},97:{},99:{f:ti},125:{f:VX},128:{f:Hve},129:{f:gve},130:{f:yi},131:{f:ti},132:{f:ti},133:{f:vve},134:{},140:{f:p1e},141:{f:yi},144:{},146:{f:v1e},151:{},152:{},153:{},154:{},155:{},156:{f:yi},157:{},158:{},160:{f:E1e},161:{f:w1e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Uve},190:{f:Vve},193:{f:gh},197:{},198:{},199:{},200:{},201:{},202:{f:ti},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:yi},220:{},221:{f:ti},222:{},224:{f:Wve},225:{f:hve},226:{f:gh},227:{},229:{f:a1e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:xve},253:{f:Ove},255:{f:bve},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:OX},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ti},353:{f:gh},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Xve},431:{f:ti},432:{},433:{},434:{},437:{},438:{f:c1e},439:{f:ti},440:{f:u1e},441:{},442:{f:Pw},443:{},444:{f:yi},445:{},446:{},448:{f:gh},449:{f:Eve,r:2},450:{f:gh},512:{f:j7},513:{f:S1e},515:{f:Kve},516:{f:jve},517:{f:L7},519:{f:A1e},520:{f:_ve},523:{},545:{f:$7},549:{f:D7},566:{},574:{f:kve},638:{f:$ve},659:{},1048:{},1054:{f:Lve},1084:{},1212:{f:e1e},2048:{f:d1e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:x_},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:gh},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:y1e,r:12},2173:{f:pxe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ti,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Zve,r:12},2197:{},2198:{f:lxe,r:12},2199:{},2200:{},2201:{},2202:{f:t1e,r:12},2203:{f:gh},2204:{},2205:{},2206:{},2207:{},2211:{f:Sve},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:yi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:b1e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:g1e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:j7},1:{},2:{f:P1e},3:{f:N1e},4:{f:k1e},5:{f:L7},7:{f:O1e},8:{},9:{f:x_},11:{},22:{f:yi},30:{f:Fve},31:{},32:{},33:{f:$7},36:{},37:{f:D7},50:{f:D1e},62:{},52:{},67:{},68:{f:yi},69:{},86:{},126:{},127:{f:T1e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:j1e},223:{},234:{},354:{},421:{},518:{f:YN},521:{f:x_},536:{f:B7},547:{f:F7},561:{},579:{},1030:{f:YN},1033:{f:x_},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function bt(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&$6(r)&&e.push(r)}}function OSe(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return bt(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<a;){for(u=e.next(4),u.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}function jw(e,t,r){return e||(e=Ke(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function DSe(e,t,r,n){var a=Ke(9);return jw(a,e,t),DX(r,n||"b",a),a}function jSe(e,t,r){var n=Ke(8+2*r.length);return jw(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function RSe(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Bi(oa(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?bt(e,2,I1e(r,n,a)):bt(e,3,C1e(r,n,a));return;case"b":case"e":bt(e,5,DSe(r,n,t.v,t.t));return;case"s":case"str":bt(e,4,jSe(r,n,(t.v||"").slice(0,255)));return}bt(e,1,jw(null,r,n))}function LSe(e,t,r,n){var a=Array.isArray(t),i=cn(t["!ref"]||"A1"),s,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=kr(i)}for(var c=i.s.r;c<=i.e.r;++c){o=ui(c);for(var u=i.s.c;u<=i.e.c;++u){c===i.s.r&&(l[u]=Na(u)),s=l[u]+o;var f=a?(t[c]||[])[u]:t[s];f&&RSe(e,f,c,u)}}}function MSe(e,t){for(var r=t||{},n=Ko(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return bt(n,r.biff==4?1033:r.biff==3?521:9,X6(e,16,r)),LSe(n,e.Sheets[e.SheetNames[a]],a,r),bt(n,10),n.end()}function FSe(e,t,r){bt(e,49,Ive({sz:12,name:"Arial"},r))}function BSe(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&bt(e,1054,Mve(a,t[a],r))})}function $Se(e,t){var r=Ke(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),bt(e,2151,r),r=Ke(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),FX(cn(t["!ref"]||"A1"),r),r.write_shift(4,4),bt(e,2152,r)}function USe(e,t){for(var r=0;r<16;++r)bt(e,224,R7({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){bt(e,224,R7(n,0,t))})}function VSe(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];bt(e,440,f1e(n)),n[1].Tooltip&&bt(e,2048,h1e(n))}delete t["!links"]}function zSe(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&bt(e,125,x1e(HA(a,n),a))})}}function WSe(e,t,r,n,a){var i=16+j0(a.cellXfs,t,a);if(t.v==null&&!t.bf){bt(e,513,cm(r,n,i));return}if(t.bf)bt(e,6,gwe(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?Bi(oa(t.v)):t.v;bt(e,515,Yve(r,n,s,i));break;case"b":case"e":bt(e,517,Gve(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=aD(a.Strings,t.v,a.revStrings);bt(e,253,Dve(r,n,o,i))}else bt(e,516,Rve(r,n,(t.v||"").slice(0,255),i,a));break;default:bt(e,513,cm(r,n,i))}}function HSe(e,t,r){var n=Ko(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},l=Array.isArray(i),c=t.biff==8,u,f="",h=[],p=cn(i["!ref"]||"A1"),m=c?65536:16384;if(p.e.c>255||p.e.r>=m){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");p.e.c=Math.min(p.e.c,255),p.e.r=Math.min(p.e.c,m-1)}bt(n,2057,X6(r,16,t)),bt(n,13,sc(1)),bt(n,12,sc(100)),bt(n,15,po(!0)),bt(n,17,po(!1)),bt(n,16,om(.001)),bt(n,95,po(!0)),bt(n,42,po(!1)),bt(n,43,po(!1)),bt(n,130,sc(1)),bt(n,128,qve()),bt(n,131,po(!1)),bt(n,132,po(!1)),c&&zSe(n,i["!cols"]),bt(n,512,Bve(p,t)),c&&(i["!links"]=[]);for(var g=p.s.r;g<=p.e.r;++g){f=ui(g);for(var v=p.s.c;v<=p.e.c;++v){g===p.s.r&&(h[v]=Na(v)),u=h[v]+f;var y=l?(i[g]||[])[v]:i[u];y&&(WSe(n,y,g,v,t),c&&y.l&&i["!links"].push([u,y.l]))}}var x=o.CodeName||o.name||a;return c&&bt(n,574,Nve((s.Views||[])[0])),c&&(i["!merges"]||[]).length&&bt(n,229,i1e(i["!merges"])),c&&VSe(n,i),bt(n,442,jX(x)),c&&$Se(n,i),bt(n,10),n.end()}function qSe(e,t,r){var n=Ko(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,l=r.biff==5;if(bt(n,2057,X6(e,5,r)),r.bookType=="xla"&&bt(n,135),bt(n,225,o?sc(1200):null),bt(n,193,Gge(2)),l&&bt(n,191),l&&bt(n,192),bt(n,226),bt(n,92,mve("SheetJS",r)),bt(n,66,sc(o?1200:1252)),o&&bt(n,353,sc(0)),o&&bt(n,448),bt(n,317,_1e(e.SheetNames.length)),o&&e.vbaraw&&bt(n,211),o&&e.vbaraw){var c=s.CodeName||"ThisWorkbook";bt(n,442,jX(c))}bt(n,156,sc(17)),bt(n,25,po(!1)),bt(n,18,po(!1)),bt(n,19,sc(0)),o&&bt(n,431,po(!1)),o&&bt(n,444,sc(0)),bt(n,61,Tve()),bt(n,64,po(!1)),bt(n,141,sc(0)),bt(n,34,po(E_e(e)=="true")),bt(n,14,po(!0)),o&&bt(n,439,po(!1)),bt(n,218,sc(0)),FSe(n,e,r),BSe(n,e.SSF,r),USe(n,r),o&&bt(n,352,po(!1));var u=n.end(),f=Ko();o&&bt(f,140,m1e()),o&&r.Strings&&OSe(f,252,wve(r.Strings)),bt(f,10);var h=f.end(),p=Ko(),m=0,g=0;for(g=0;g<e.SheetNames.length;++g)m+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var v=u.length+m+h.length;for(g=0;g<e.SheetNames.length;++g){var y=i[g]||{};bt(p,133,yve({pos:v,hs:y.Hidden||0,dt:0,name:e.SheetNames[g]},r)),v+=t[g].length}var x=p.end();if(m!=x.length)throw new Error("BS8 "+m+" != "+x.length);var w=[];return u.length&&w.push(u),x.length&&w.push(x),h.length&&w.push(h),Ji(w)}function GSe(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=la(or)),e&&e.SSF&&(f1(),FA(e.SSF),r.revssf=$A(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,cD(r),r.cellXfs=[],j0(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=HSe(a,r,e);return n.unshift(qSe(e,n,r)),Ji(n)}function kQ(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=el(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return GSe(e,t);case 4:case 3:case 2:return MSe(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function X7(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=Ime(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(s=0;s<l.length;++s){var g=l[s].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=g.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var x=y[o].trim();if(x.match(/<t[dh]/i)){for(var w=x,E=0;w.charAt(0)=="<"&&(E=w.indexOf(">"))>-1;)w=w.slice(E+1);for(var I=0;I<m.length;++I){var P=m[I];P.s.c==u&&P.s.r<c&&c<=P.e.r&&(u=P.e.c+1,I=-1)}var A=mr(x.slice(0,x.indexOf(">")));h=A.colspan?+A.colspan:1,((f=+A.rowspan)>1||h>1)&&m.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var S=A.t||A["data-t"]||"";if(!w.length){u+=h;continue}if(w=QY(w),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!w.length){u+=h;continue}var k={t:"s",v:w};r.raw||!w.trim().length||S=="s"||(w==="TRUE"?k={t:"b",v:!0}:w==="FALSE"?k={t:"b",v:!1}:isNaN(ou(w))?isNaN(Iv(w).getDate())||(k={t:"d",v:oa(w)},r.cellDates||(k={t:"n",v:Bi(k.v)}),k.z=r.dateNF||or[14]):k={t:"n",v:ou(w)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=k):n[cr({r:c,c:u})]=k,u+=h}}}}return n["!ref"]=kr(p),m.length&&(n["!merges"]=m),n}function KSe(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=cr({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||M6(f.w||(wd(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,i.push(xt("td",h,p))}}var m="<tr>";return m+i.join("")+"</tr>"}var YSe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',XSe="</body></html>";function QSe(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return D0(X7(r[0],t),t);var n=dD();return r.forEach(function(a,i){hD(n,X7(a,t),"Sheet"+(i+1))}),n}function JSe(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function NQ(e,t){var r=t||{},n=r.header!=null?r.header:YSe,a=r.footer!=null?r.footer:XSe,i=[n],s=el(e["!ref"]);r.dense=Array.isArray(e),i.push(JSe(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(KSe(e,s,o,r));return i.push("</table>"+a),i.join("")}function CQ(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Ca(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=el(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),m=0,g=0,v=0,y=0,x=0,w=0;for(e["!cols"]||(e["!cols"]=[]);m<o.length&&g<l;++m){var E=o[m];if(Q7(E)){if(n.display)continue;p[g]={hidden:!0}}var I=E.children;for(v=y=0;v<I.length;++v){var P=I[v];if(!(n.display&&Q7(P))){var A=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):QY(P.innerHTML),S=P.getAttribute("data-z")||P.getAttribute("z");for(h=0;h<f.length;++h){var k=f[h];k.s.c==y+i&&k.s.r<g+a&&g+a<=k.e.r&&(y=k.e.c+1-i,h=-1)}w=+P.getAttribute("colspan")||1,((x=+P.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:g+a,c:y+i},e:{r:g+a+(x||1)-1,c:y+i+(w||1)-1}});var O={t:"s",v:A},T=P.getAttribute("data-t")||P.getAttribute("t")||"";A!=null&&(A.length==0?O.t=T||"z":n.raw||A.trim().length==0||T=="s"||(A==="TRUE"?O={t:"b",v:!0}:A==="FALSE"?O={t:"b",v:!1}:isNaN(ou(A))?isNaN(Iv(A).getDate())||(O={t:"d",v:oa(A)},n.cellDates||(O={t:"n",v:Bi(O.v)}),O.z=n.dateNF||or[14]):O={t:"n",v:ou(A)})),O.z===void 0&&S!=null&&(O.z=S);var C="",D=P.getElementsByTagName("A");if(D&&D.length)for(var B=0;B<D.length&&!(D[B].hasAttribute("href")&&(C=D[B].getAttribute("href"),C.charAt(0)!="#"));++B);C&&C.charAt(0)!="#"&&(O.l={Target:C}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][y+i]=O):e[cr({c:y+i,r:g+a})]=O,c.e.c<y+i&&(c.e.c=y+i),y+=w}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,g-1+a),e["!ref"]=kr(c),g>=l&&(e["!fullref"]=kr((c.e.r=o.length-m+g-1+a,c))),e}function PQ(e,t){var r=t||{},n=r.dense?[]:{};return CQ(n,e,t)}function ZSe(e,t){return D0(PQ(e,t),t)}function Q7(e){var t="",r=eEe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function eEe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function tEe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=ln(t.replace(/<[^>]*>/g,""));return[r]}var J7={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function IQ(e,t){var r=t||{},n=F6(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},p=[],m=r.dense?[]:{},g,v,y={value:""},x="",w=0,E=[],I=-1,P=-1,A={s:{r:1e6,c:1e7},e:{r:0,c:0}},S=0,k={},O=[],T={},C=0,D=0,B=[],Y=1,ee=1,re=[],G={Names:[]},q={},be=["",""],_e=[],R={},U="",z=0,W=!1,Z=!1,le=0;for(y2.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=y2.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"工作表":g[1]==="/"?(A.e.c>=A.s.c&&A.e.r>=A.s.r?m["!ref"]=kr(A):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=A.e.r&&(m["!fullref"]=m["!ref"],A.e.r=r.sheetRows-1,m["!ref"]=kr(A)),O.length&&(m["!merges"]=O),B.length&&(m["!rows"]=B),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=m,Z=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=mr(g[0],!1),I=P=-1,A.s.r=A.s.c=1e7,A.e.r=A.e.c=0,m=r.dense?[]:{},O=[],B=[],Z=!0);break;case"table-row-group":g[1]==="/"?--S:++S;break;case"table-row":case"行":if(g[1]==="/"){I+=Y,Y=1;break}if(f=mr(g[0],!1),f.行号?I=f.行号-1:I==-1&&(I=0),Y=+f["number-rows-repeated"]||1,Y<10)for(le=0;le<Y;++le)S>0&&(B[I+le]={level:S});P=-1;break;case"covered-table-cell":g[1]!=="/"&&++P,r.sheetStubs&&(r.dense?(m[I]||(m[I]=[]),m[I][P]={t:"z"}):m[cr({r:I,c:P})]={t:"z"}),x="",E=[];break;case"table-cell":case"数据":if(g[0].charAt(g[0].length-2)==="/")++P,y=mr(g[0],!1),ee=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=G7(ln(y.formula))),(y.数据类型||y["value-type"])=="string"&&(v.t="s",v.v=ln(y["string-value"]||""),r.dense?(m[I]||(m[I]=[]),m[I][P]=v):m[cr({r:I,c:P})]=v),P+=ee-1;else if(g[1]!=="/"){++P,x="",w=0,E=[],ee=1;var he=Y?I+Y-1:I;if(P>A.e.c&&(A.e.c=P),P<A.s.c&&(A.s.c=P),I<A.s.r&&(A.s.r=I),he>A.e.r&&(A.e.r=he),y=mr(g[0],!1),_e=[],R={},v={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=ln(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(C=parseInt(y["number-matrix-rows-spanned"],10)||0,D=parseInt(y["number-matrix-columns-spanned"],10)||0,T={s:{r:I,c:P},e:{r:I+C-1,c:P+D-1}},v.F=kr(T),re.push([T,v.F])),y.formula)v.f=G7(y.formula);else for(le=0;le<re.length;++le)I>=re[le][0].s.r&&I<=re[le][0].e.r&&P>=re[le][0].s.c&&P<=re[le][0].e.c&&(v.F=re[le][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(C=parseInt(y["number-rows-spanned"],10)||0,D=parseInt(y["number-columns-spanned"],10)||0,T={s:{r:I,c:P},e:{r:I+C-1,c:P+D-1}},O.push(T)),y["number-columns-repeated"]&&(ee=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=na(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=oa(y["date-value"]),r.cellDates||(v.t="n",v.v=Bi(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Nme(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=UA(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(x=ln(y["string-value"]),E=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(W=!1,v.t==="s"&&(v.v=x||"",E.length&&(v.R=E),W=w==0),q.Target&&(v.l=q),_e.length>0&&(v.c=_e,_e=[]),x&&r.cellText!==!1&&(v.w=x),W&&(v.t="z",delete v.v),(!W||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=I))for(var ae=0;ae<Y;++ae){if(ee=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(m[I+ae]||(m[I+ae]=[]),m[I+ae][P]=ae==0?v:la(v);--ee>0;)m[I+ae][P+ee]=la(v);else for(m[cr({r:I+ae,c:P})]=v;--ee>0;)m[cr({r:I+ae,c:P+ee})]=la(v);A.e.c<=P&&(A.e.c=P)}ee=parseInt(y["number-columns-repeated"]||"1",10),P+=ee-1,ee=0,v={},x="",E=[]}q={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;R.t=x,E.length&&(R.R=E),R.a=U,_e.push(R)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);U="",z=0,x="",w=0,E=[];break;case"creator":g[1]==="/"?U=n.slice(z,g.index):z=g.index+g[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);x="",w=0,E=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(k[o.name]=l,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=mr(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=mr(g[0],!1),l+=J7[g[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=mr(g[0],!1),l+=J7[g[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,g.index);break}else c=g.index+g[0].length;break;case"named-range":s=mr(g[0],!1),be=XN(s["cell-range-address"]);var pe={Name:s.name,Ref:be[0]+"!"+be[1]};Z&&(pe.Sheet=p.length),G.Names.push(pe);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!y||!y["string-value"])){var ke=tEe(n.slice(w,g.index));x=(x.length>0?x+`
`:"")+ke[0]}else mr(g[0],!1),w=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{be=XN(mr(g[0])["target-range-address"]),h[be[0]]["!autofilter"]={ref:be[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(q=mr(g[0],!1),!q.href)break;q.Target=ln(q.href),delete q.href,q.Target.charAt(0)=="#"&&q.Target.indexOf(".")>-1?(be=XN(q.Target.slice(1)),q.Target="#"+be[0]+"!"+be[1]):q.Target.match(/^\.\.[\\\/]/)&&(q.Target=q.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(g)}}var K={Sheets:h,SheetNames:p,Workbook:G};return r.bookSheets&&delete K.Sheets,K}function Z7(e,t){t=t||{},ic(e,"META-INF/manifest.xml")&&Nge(vi(e,"META-INF/manifest.xml"),t);var r=Sl(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=IQ(Rn(r),t);return ic(e,"meta.xml")&&(n.Props=bX(vi(e,"meta.xml"))),n}function e9(e,t){return IQ(e,t)}var rEe=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+v2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return fi+t}}(),t9=function(){var e=function(i){return Cn(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var l=[];l.push('      <table:table table:name="'+Cn(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=el(i["!ref"]||"A1"),h=i["!merges"]||[],p=0,m=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",v=i["!rows"]||[];for(c=0;c<f.s.r;++c)g=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=f.e.r;++c){for(g=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)l.push(t);for(;u<=f.e.c;++u){var y=!1,x={},w="";for(p=0;p!=h.length;++p)if(!(h[p].s.c>u)&&!(h[p].s.r>c)&&!(h[p].e.c<u)&&!(h[p].e.r<c)){(h[p].s.c!=u||h[p].s.r!=c)&&(y=!0),x["table:number-columns-spanned"]=h[p].e.c-h[p].s.c+1,x["table:number-rows-spanned"]=h[p].e.r-h[p].s.r+1;break}if(y){l.push(r);continue}var E=cr({r:c,c:u}),I=m?(i[c]||[])[u]:i[E];if(I&&I.f&&(x["table:formula"]=Cn(_we(I.f)),I.F&&I.F.slice(0,E.length)==E)){var P=el(I.F);x["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,x["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!I){l.push(t);continue}switch(I.t){case"b":w=I.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=I.v?"true":"false";break;case"n":w=I.w||String(I.v||0),x["office:value-type"]="float",x["office:value"]=I.v||0;break;case"s":case"str":w=I.v==null?"":I.v,x["office:value-type"]="string";break;case"d":w=I.w||oa(I.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=oa(I.v).toISOString(),x["table:style-name"]="ce1";break;default:l.push(t);continue}var A=e(w);if(I.l&&I.l.Target){var S=I.l.Target;S=S.charAt(0)=="#"?"#"+Swe(S.slice(1)):S,S.charAt(0)!="#"&&!S.match(/^\w+:/)&&(S="../"+S),A=xt("text:a",A,{"xlink:href":S.replace(/&/g,"&amp;")})}l.push("          "+xt("table:table-cell",xt("text:p",A,{}),x)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;u0(f),f.ods=o;var h=c["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var l=[fi],c=v2({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=v2({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(wX().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),a(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(n(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function OQ(e,t){if(t.bookType=="fods")return t9(e,t);var r=j6(),n="",a=[],i=[];return n="mimetype",Ir(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ir(r,n,t9(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Ir(r,n,rEe(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Ir(r,n,fi+wX()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Ir(r,n,Ige(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ir(r,n,Cge(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function um(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function iP(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Rn(O0(e))}function nEe(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):_l(Hu(e))}function aEe(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function d0(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function r9(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function iEe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function sEe(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function A2(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function En(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function qa(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function un(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=A2(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=A2(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function ds(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(En(n*8+a.type)),a.type==2&&t.push(En(a.data.length)),t.push(a.data))})}),d0(t)}function oD(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function tc(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=A2(e,n),i=un(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:qa(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=un(o.data),c=qa(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=qa(i[3][0].data)>>>0>0),r.push(s)}return r}function cg(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:En(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:En(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:En(s.data.length)}],n[2].push({data:ds(s.meta),type:2})});var i=ds(n);t.push(En(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),d0(t)}function oEe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=A2(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[d0(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=d0(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function rc(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(oEe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return d0(t)}function ug(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=En(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return d0(t)}function lEe(e,t,r,n){var a=um(e),i=a.getUint32(4,!0),s=(n>1?12:8)+r9(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=r9(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function cEe(e,t,r){var n=um(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=iEe(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function JN(e,t){var r=new Uint8Array(32),n=um(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,sEe(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function ZN(e,t){var r=new Uint8Array(32),n=um(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function uEe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return lEe(e,t,r,e[0]);case 5:return cEe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Bs(e){var t=un(e);return A2(t[1][0].data)}function n9(e,t){var r=un(t.data),n=qa(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=un(s.data),l=qa(o[1][0].data)>>>0;switch(n){case 1:i[l]=iP(o[3][0].data);break;case 8:{var c=e[Bs(o[9][0].data)][0],u=un(c.data),f=e[Bs(u[1][0].data)][0],h=qa(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=un(f.data);i[l]=p[3].map(function(m){return iP(m.data)}).join("")}break}}),i}function fEe(e,t){var r,n,a,i,s,o,l,c,u,f,h,p,m,g,v=un(e),y=qa(v[1][0].data)>>>0,x=qa(v[2][0].data)>>>0,w=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&qa(v[8][0].data)>0||!1,E,I;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)E=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,I=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&t!=1)E=(p=(h=v[4])==null?void 0:h[0])==null?void 0:p.data,I=(g=(m=v[3])==null?void 0:m[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var P=w?4:1,A=um(E),S=[],k=0;k<E.length/2;++k){var O=A.getUint16(k*2,!0);O<65535&&S.push([k,O])}if(S.length!=x)throw"Expected ".concat(x," cells, found ").concat(S.length);var T=[];for(k=0;k<S.length-1;++k)T[S[k][0]]=I.subarray(S[k][1]*P,S[k+1][1]*P);return S.length>=1&&(T[S[S.length-1][0]]=I.subarray(S[S.length-1][1]*P)),{R:y,cells:T}}function dEe(e,t){var r,n=un(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?qa(n[7][0].data)>>>0>0?1:0:-1,i=oD(n[5],function(s){return fEe(s,a)});return{nrows:qa(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function hEe(e,t,r){var n,a=un(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(qa(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(qa(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=kr(i);var s=un(a[4][0].data),o=n9(e,e[Bs(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?n9(e,e[Bs(s[17][0].data)][0]):[],c=un(s[3][0].data),u=0;c[1].forEach(function(f){var h=un(f.data),p=e[Bs(h[2][0].data)][0],m=qa(p.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var g=dEe(e,p);g.data.forEach(function(v,y){v.forEach(function(x,w){var E=cr({r:u+y,c:w}),I=uEe(x,o,l);I&&(r[E]=I)})}),u+=g.nrows})}function pEe(e,t){var r=un(t.data),n={"!ref":"A1"},a=e[Bs(r[2][0].data)],i=qa(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return hEe(e,a[0],n),n}function mEe(e,t){var r,n=un(t.data),a={name:(r=n[1])!=null&&r[0]?iP(n[1][0].data):"",sheets:[]},i=oD(n[2],Bs);return i.forEach(function(s){e[s].forEach(function(o){var l=qa(o.meta[1][0].data);l==6e3&&a.sheets.push(pEe(e,o))})}),a}function gEe(e,t){var r=dD(),n=un(t.data),a=oD(n[1],Bs);if(a.forEach(function(i){e[i].forEach(function(s){var o=qa(s.meta[1][0].data);if(o==2){var l=mEe(e,s);l.sheets.forEach(function(c,u){hD(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function e4(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=rc(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=tc(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&qa(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=qa(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return gEe(i,o)}function vEe(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&qa(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=um(e[7][0].data),u=0,f=[],h=um(e[4][0].data),p=0,m=[],g=0;g<t.length;++g){if(t[g]==null){c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}c.setUint16(g*2,u,!0),h.setUint16(g*2,p,!0);var v,y;switch(typeof t[g]){case"string":v=JN({t:"s",v:t[g]},r),y=ZN({t:"s",v:t[g]},r);break;case"number":v=JN({t:"n",v:t[g]},r),y=ZN({t:"n",v:t[g]},r);break;case"boolean":v=JN({t:"b",v:t[g]},r),y=ZN({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(v),u+=v.length,m.push(y),p+=y.length,++l}for(e[2][0].data=En(l);g<e[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return e[6][0].data=d0(f),e[3][0].data=d0(m),l}function yEe(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=el(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(kr(n)));var i=RE(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(U){return U.forEach(function(z){typeof z=="string"&&s.push(z)})});var o={},l=[],c=tr.read(t.numbers,{type:"base64"});c.FileIndex.map(function(U,z){return[U,c.FullPaths[z]]}).forEach(function(U){var z=U[0],W=U[1];if(z.type==2&&z.name.match(/\.iwa/)){var Z=z.content,le=rc(Z),he=tc(le);he.forEach(function(ae){l.push(ae.id),o[ae.id]={deps:[],location:W,type:qa(ae.messages[0].meta[1][0].data)}})}}),l.sort(function(U,z){return U-z});var u=l.filter(function(U){return U>1}).map(function(U){return[U,En(U)]});c.FileIndex.map(function(U,z){return[U,c.FullPaths[z]]}).forEach(function(U){var z=U[0];if(U[1],!!z.name.match(/\.iwa/)){var W=tc(rc(z.content));W.forEach(function(Z){Z.messages.forEach(function(le){u.forEach(function(he){Z.messages.some(function(ae){return qa(ae.meta[1][0].data)!=11006&&aEe(ae.data,he[1])})&&o[he[0]].deps.push(Z.id)})})})}});for(var f=tr.find(c,o[1].location),h=tc(rc(f.content)),p,m=0;m<h.length;++m){var g=h[m];g.id==1&&(p=g)}var v=Bs(un(p.messages[0].data)[1][0].data);for(f=tr.find(c,o[v].location),h=tc(rc(f.content)),m=0;m<h.length;++m)g=h[m],g.id==v&&(p=g);for(v=Bs(un(p.messages[0].data)[2][0].data),f=tr.find(c,o[v].location),h=tc(rc(f.content)),m=0;m<h.length;++m)g=h[m],g.id==v&&(p=g);for(v=Bs(un(p.messages[0].data)[2][0].data),f=tr.find(c,o[v].location),h=tc(rc(f.content)),m=0;m<h.length;++m)g=h[m],g.id==v&&(p=g);var y=un(p.messages[0].data);{y[6][0].data=En(n.e.r+1),y[7][0].data=En(n.e.c+1);var x=Bs(y[46][0].data),w=tr.find(c,o[x].location),E=tc(rc(w.content));{for(var I=0;I<E.length&&E[I].id!=x;++I);if(E[I].id!=x)throw"Bad ColumnRowUIDMapArchive";var P=un(E[I].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var A=0;A<=n.e.c;++A){var S=[];S[1]=S[2]=[{type:0,data:En(A+420690)}],P[1].push({type:2,data:ds(S)}),P[2].push({type:0,data:En(A)}),P[3].push({type:0,data:En(A)})}P[4]=[],P[5]=[],P[6]=[];for(var k=0;k<=n.e.r;++k)S=[],S[1]=S[2]=[{type:0,data:En(k+726270)}],P[4].push({type:2,data:ds(S)}),P[5].push({type:0,data:En(k)}),P[6].push({type:0,data:En(k)});E[I].messages[0].data=ds(P)}w.content=ug(cg(E)),w.size=w.content.length,delete y[46];var O=un(y[4][0].data);{O[7][0].data=En(n.e.r+1);var T=un(O[1][0].data),C=Bs(T[2][0].data);w=tr.find(c,o[C].location),E=tc(rc(w.content));{if(E[0].id!=C)throw"Bad HeaderStorageBucket";var D=un(E[0].messages[0].data);for(k=0;k<i.length;++k){var B=un(D[2][0].data);B[1][0].data=En(k),B[4][0].data=En(i[k].length),D[2][k]={type:D[2][0].type,data:ds(B)}}E[0].messages[0].data=ds(D)}w.content=ug(cg(E)),w.size=w.content.length;var Y=Bs(O[2][0].data);w=tr.find(c,o[Y].location),E=tc(rc(w.content));{if(E[0].id!=Y)throw"Bad HeaderStorageBucket";for(D=un(E[0].messages[0].data),A=0;A<=n.e.c;++A)B=un(D[2][0].data),B[1][0].data=En(A),B[4][0].data=En(n.e.r+1),D[2][A]={type:D[2][0].type,data:ds(B)};E[0].messages[0].data=ds(D)}w.content=ug(cg(E)),w.size=w.content.length;var ee=Bs(O[4][0].data);(function(){for(var U=tr.find(c,o[ee].location),z=tc(rc(U.content)),W,Z=0;Z<z.length;++Z){var le=z[Z];le.id==ee&&(W=le)}var he=un(W.messages[0].data);{he[3]=[];var ae=[];s.forEach(function(K,qe){ae[1]=[{type:0,data:En(qe)}],ae[2]=[{type:0,data:En(1)}],ae[3]=[{type:2,data:nEe(K)}],he[3].push({type:2,data:ds(ae)})})}W.messages[0].data=ds(he);var pe=cg(z),ke=ug(pe);U.content=ke,U.size=U.content.length})();var re=un(O[3][0].data);{var G=re[1][0];delete re[2];var q=un(G.data);{var be=Bs(q[2][0].data);(function(){for(var U=tr.find(c,o[be].location),z=tc(rc(U.content)),W,Z=0;Z<z.length;++Z){var le=z[Z];le.id==be&&(W=le)}var he=un(W.messages[0].data);{delete he[6],delete re[7];var ae=new Uint8Array(he[5][0].data);he[5]=[];for(var pe=0,ke=0;ke<=n.e.r;++ke){var K=un(ae);pe+=vEe(K,i[ke],s),K[1][0].data=En(ke),he[5].push({data:ds(K),type:2})}he[1]=[{type:0,data:En(n.e.c+1)}],he[2]=[{type:0,data:En(n.e.r+1)}],he[3]=[{type:0,data:En(pe)}],he[4]=[{type:0,data:En(n.e.r+1)}]}W.messages[0].data=ds(he);var qe=cg(z),Ae=ug(qe);U.content=Ae,U.size=U.content.length})()}G.data=ds(q)}O[3][0].data=ds(re)}y[4][0].data=ds(O)}p.messages[0].data=ds(y);var _e=cg(h),R=ug(_e);return f.content=R,f.size=f.content.length,c}function DQ(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function lD(e){DQ([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function cD(e){DQ([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function xEe(e){return Fr.WS.indexOf(e)>-1?"sheet":e==Fr.CS?"chart":e==Fr.DS?"dialog":e==Fr.MS?"macro":e&&e.length?e:"sheet"}function wEe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,xEe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function bEe(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=bx(Sl(e,r,!0),t);var h=vi(e,t),p;switch(o){case"sheet":p=z_e(h,t,a,l,i[n],c,u,f);break;case"chart":if(p=W_e(h,t,a,l,i[n],c,u,f),!p||!p["!drawel"])break;var m=Qy(p["!drawel"].Target,t),g=x2(m),v=Pxe(Sl(e,m,!0),bx(Sl(e,g,!0),m)),y=Qy(v,m),x=x2(y);p=v_e(Sl(e,y,!0),y,l,bx(Sl(e,x,!0),y),c,p);break;case"macro":p=H_e(h,t,a,l,i[n],c,u,f);break;case"dialog":p=q_e(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=p;var w=[];i&&i[n]&&Ka(i[n]).forEach(function(E){var I="";if(i[n][E].Type==Fr.CMNT){I=Qy(i[n][E].Target,t);var P=X_e(vi(e,I,!0),I,l);if(!P||!P.length)return;V7(p,P,!1)}i[n][E].Type==Fr.TCMNT&&(I=Qy(i[n][E].Target,t),w=w.concat(Oxe(vi(e,I,!0),l)))}),w&&w.length&&V7(p,w,!0,l.people||[])}catch(E){if(l.WTF)throw E}}function Yl(e){return e.charAt(0)=="/"?e.slice(1):e}function _Ee(e,t){if(f1(),t=t||{},lD(t),ic(e,"META-INF/manifest.xml")||ic(e,"objectdata.xml"))return Z7(e,t);if(ic(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof e4<"u"){if(e.FileIndex)return e4(e);var r=tr.utils.cfb_new();return c7(e).forEach(function(B){Ir(r,B,Dme(e,B))}),e4(r)}throw new Error("Unsupported NUMBERS file")}if(!ic(e,"[Content_Types].xml"))throw ic(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ic(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=c7(e),a=Tge(Sl(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",vi(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!vi(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(_x=[],a.sst)try{_x=Y_e(vi(e,Yl(a.sst)),a.sst,t)}catch(B){if(t.WTF)throw B}t.cellStyles&&a.themes.length&&(l=K_e(Sl(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=G_e(vi(e,Yl(a.style)),a.style,l,t))}a.links.map(function(B){try{var Y=bx(Sl(e,x2(Yl(B))),B);return J_e(vi(e,Yl(B)),Y,B,t)}catch{}});var u=V_e(vi(e,Yl(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=vi(e,Yl(a.coreprops[0]),!0),h&&(f=bX(h)),a.extprops.length!==0&&(h=vi(e,Yl(a.extprops[0]),!0),h&&Dge(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Sl(e,Yl(a.custprops[0]),!0),h&&(p=Rge(h,t)));var m={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(Y){return Y.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(m.Props=f,m.Custprops=p),t.bookSheets&&typeof s<"u"&&(m.SheetNames=s),t.bookSheets?m.SheetNames:t.bookProps))return m;s={};var g={};t.bookDeps&&a.calcchain&&(g=Q_e(vi(e,Yl(a.calcchain)),a.calcchain));var v=0,y={},x,w;{var E=u.Sheets;f.Worksheets=E.length,f.SheetNames=[];for(var I=0;I!=E.length;++I)f.SheetNames[I]=E[I].name}var P=i?"bin":"xml",A=a.workbooks[0].lastIndexOf("/"),S=(a.workbooks[0].slice(0,A+1)+"_rels/"+a.workbooks[0].slice(A+1)+".rels").replace(/^\//,"");ic(e,S)||(S="xl/_rels/workbook."+P+".rels");var k=bx(Sl(e,S,!0),S.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Z_e(vi(e,Yl(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=jxe(vi(e,Yl(a.people[0])),t)),k&&(k=wEe(k,u.Sheets));var O=vi(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var T="sheet";if(k&&k[v]?(x="xl/"+k[v][1].replace(/[\/]?xl\//,""),ic(e,x)||(x=k[v][1]),ic(e,x)||(x=S.replace(/_rels\/.*$/,"")+k[v][1]),T=k[v][2]):(x="xl/worksheets/sheet"+(v+1-O)+"."+P,x=x.replace(/sheet0\./,"sheet.")),w=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var C=!1,D=0;D!=t.sheets.length;++D)typeof t.sheets[D]=="number"&&t.sheets[D]==v&&(C=1),typeof t.sheets[D]=="string"&&t.sheets[D].toLowerCase()==f.SheetNames[v].toLowerCase()&&(C=1);if(!C)continue e}}bEe(e,x,w,f.SheetNames[v],v,y,s,T,t,u,l,c)}return m={Directory:a,Workbook:u,Props:f,Custprops:p,Deps:g,Sheets:s,SheetNames:f.SheetNames,Strings:_x,Styles:c,Themes:l,SSF:la(or)},t&&t.bookFiles&&(e.files?(m.keys=n,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(B,Y){B=B.replace(/^Root Entry[\/]/,""),m.keys.push(B),m.files[B]=e.FileIndex[Y]}))),t&&t.bookVBA&&(a.vba.length>0?m.vbaraw=vi(e,Yl(a.vba[0]),!0):a.defaults&&a.defaults.bin===Vxe&&(m.vbaraw=vi(e,"xl/vbaProject.bin",!0))),m}function SEe(e,t){var r=t||{},n="Workbook",a=tr.find(e,n);try{if(n="/!DataSpaces/Version",a=tr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Z1e(a.content),n="/!DataSpaces/DataSpaceMap",a=tr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=tye(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=tr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=rye(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=tr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);aye(a.content)}catch{}if(n="/EncryptionInfo",a=tr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=iye(a.content);if(n="/EncryptedPackage",a=tr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function EEe(e,t){return t.bookType=="ods"?OQ(e,t):t.bookType=="numbers"?yEe(e,t):t.bookType=="xlsb"?AEe(e,t):TEe(e,t)}function AEe(e,t){Bg=1024,e&&!e.SSF&&(e.SSF=la(or)),e&&e.SSF&&(f1(),FA(e.SSF),t.revssf=$A(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=sQ.indexOf(t.bookType)>-1,a=K6();cD(t=t||{});var i=j6(),s="",o=0;if(t.cellXfs=[],j0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Ir(i,s,_X(e.Props,t)),a.coreprops.push(s),kn(t.rels,2,s,Fr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Ir(i,s,AX(e.Props)),a.extprops.push(s),kn(t.rels,3,s,Fr.EXT_PROPS),e.Custprops!==e.Props&&Ka(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Ir(i,s,TX(e.Custprops)),a.custprops.push(s),kn(t.rels,4,s,Fr.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Ir(i,s,tSe(o-1,s,t,e,u)),a.sheets.push(s),kn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Fr.WS[0])}if(f){var p=f["!comments"],m=!1,g="";p&&p.length>0&&(g="xl/comments"+o+"."+r,Ir(i,g,aSe(p,g)),a.comments.push(g),kn(u,-1,"../comments"+o+"."+r,Fr.CMNT),m=!0),f["!legacy"]&&m&&Ir(i,"xl/drawings/vmlDrawing"+o+".vml",aQ(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&Ir(i,x2(s),av(u))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Ir(i,s,nSe(t.Strings,s,t)),a.strs.push(s),kn(t.wbrels,-1,"sharedStrings."+r,Fr.SST)),s="xl/workbook."+r,Ir(i,s,eSe(e,s)),a.workbooks.push(s),kn(t.rels,1,s,Fr.WB),s="xl/theme/theme1.xml",Ir(i,s,eD(e.Themes,t)),a.themes.push(s),kn(t.wbrels,-1,"theme/theme1.xml",Fr.THEME),s="xl/styles."+r,Ir(i,s,rSe(e,s,t)),a.styles.push(s),kn(t.wbrels,-1,"styles."+r,Fr.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Ir(i,s,e.vbaraw),a.vba.push(s),kn(t.wbrels,-1,"vbaProject.bin",Fr.VBA)),s="xl/metadata."+r,Ir(i,s,iSe(s)),a.metadata.push(s),kn(t.wbrels,-1,"metadata."+r,Fr.XLMETA),Ir(i,"[Content_Types].xml",xX(a,t)),Ir(i,"_rels/.rels",av(t.rels)),Ir(i,"xl/_rels/workbook."+r+".rels",av(t.wbrels)),delete t.revssf,delete t.ssf,i}function TEe(e,t){Bg=1024,e&&!e.SSF&&(e.SSF=la(or)),e&&e.SSF&&(f1(),FA(e.SSF),t.revssf=$A(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sx?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=sQ.indexOf(t.bookType)>-1,a=K6();cD(t=t||{});var i=j6(),s="",o=0;if(t.cellXfs=[],j0(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Ir(i,s,_X(e.Props,t)),a.coreprops.push(s),kn(t.rels,2,s,Fr.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Ir(i,s,AX(e.Props)),a.extprops.push(s),kn(t.rels,3,s,Fr.EXT_PROPS),e.Custprops!==e.Props&&Ka(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Ir(i,s,TX(e.Custprops)),a.custprops.push(s),kn(t.rels,4,s,Fr.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],p=(h||{})["!type"]||"sheet";switch(p){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Ir(i,s,vQ(o-1,t,e,f)),a.sheets.push(s),kn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Fr.WS[0])}if(h){var m=h["!comments"],g=!1,v="";if(m&&m.length>0){var y=!1;m.forEach(function(x){x[1].forEach(function(w){w.T==!0&&(y=!0)})}),y&&(v="xl/threadedComments/threadedComment"+o+"."+r,Ir(i,v,Dxe(m,u,t)),a.threadedcomments.push(v),kn(f,-1,"../threadedComments/threadedComment"+o+"."+r,Fr.TCMNT)),v="xl/comments"+o+"."+r,Ir(i,v,iQ(m)),a.comments.push(v),kn(f,-1,"../comments"+o+"."+r,Fr.CMNT),g=!0}h["!legacy"]&&g&&Ir(i,"xl/drawings/vmlDrawing"+o+".vml",aQ(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Ir(i,x2(s),av(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Ir(i,s,qX(t.Strings,t)),a.strs.push(s),kn(t.wbrels,-1,"sharedStrings."+r,Fr.SST)),s="xl/workbook."+r,Ir(i,s,_Q(e)),a.workbooks.push(s),kn(t.rels,1,s,Fr.WB),s="xl/theme/theme1.xml",Ir(i,s,eD(e.Themes,t)),a.themes.push(s),kn(t.wbrels,-1,"theme/theme1.xml",Fr.THEME),s="xl/styles."+r,Ir(i,s,eQ(e,t)),a.styles.push(s),kn(t.wbrels,-1,"styles."+r,Fr.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Ir(i,s,e.vbaraw),a.vba.push(s),kn(t.wbrels,-1,"vbaProject.bin",Fr.VBA)),s="xl/metadata."+r,Ir(i,s,nQ()),a.metadata.push(s),kn(t.wbrels,-1,"metadata."+r,Fr.XLMETA),u.length>1&&(s="xl/persons/person.xml",Ir(i,s,Rxe(u)),a.people.push(s),kn(t.wbrels,-1,"persons/person.xml",Fr.PEOPLE)),Ir(i,"[Content_Types].xml",xX(a,t)),Ir(i,"_rels/.rels",av(t.rels)),Ir(i,"xl/_rels/workbook."+r+".rels",av(t.wbrels)),delete t.revssf,delete t.ssf,i}function uD(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=jl(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function kEe(e,t){return tr.find(e,"EncryptedPackage")?SEe(e,t):TQ(e,t)}function NEe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Rr&&Buffer.isBuffer(e)?"buffer":"base64"),r=KY(n,a),_Ee(r,a)}function jQ(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return nP(e.slice(r),t);default:break e}return Ov.to_workbook(e,t)}function CEe(e,t){var r="",n=uD(e,t);switch(t.type){case"base64":r=jl(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=sm(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Rn(r)),t.type="binary",jQ(r,t)}function PEe(e,t){var r=e;return t.type=="base64"&&(r=jl(r)),r=h2.utils.decode(1200,r.slice(2),"str"),t.type="binary",jQ(r,t)}function IEe(e){return e.match(/[^\x00-\x7F]/)?Hu(e):e}function t4(e,t,r,n){return n?(r.type="string",Ov.to_workbook(e,r)):Ov.to_workbook(t,r)}function T2(e,t){C6();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return T2(new Uint8Array(e),(r=la(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),sv={},r.dateNF&&(sv.dateNF=r.dateNF),r.type||(r.type=Rr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Rr?"buffer":"binary",n=Ame(e),typeof Uint8Array<"u"&&!Rr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=IEe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=la(r),r.type="array",T2(P6(n),r)}switch((a=uD(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return kEe(tr.read(n,r),r);break;case 9:if(a[1]<=8)return TQ(n,r);break;case 60:return nP(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return L1e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return WX.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?NEe(n,r):t4(e,n,r,i);case 239:return a[3]===60?nP(n,r):t4(e,n,r,i);case 255:if(a[1]===254)return PEe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return $p.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return $p.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return rP.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return QX.to_workbook(n,r);break;case 10:case 13:case 32:return CEe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return R1e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?rP.to_workbook(n,r):t4(e,n,r,i)}function RQ(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return kw(t.file,tr.write(e,{type:Rr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return tr.write(e,t)}function OEe(e,t){var r=la(t||{}),n=EEe(e,r);return DEe(n,r)}function DEe(e,t){var r={},n=Rr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?tr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(MA(a))}return t.password&&typeof encrypt_agile<"u"?RQ(encrypt_agile(a,t.password),t):t.type==="file"?kw(t.file,a):t.type=="string"?Rn(a):a}function jEe(e,t){var r=t||{},n=ISe(e,r);return RQ(n,r)}function Mu(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return p2(Hu(n));case"binary":return Hu(n);case"string":return e;case"file":return kw(t.file,n,"utf8");case"buffer":return Rr?Md(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Mu(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function REe(e,t){switch(t.type){case"base64":return p2(e);case"binary":return e;case"string":return e;case"file":return kw(t.file,e,"binary");case"buffer":return Rr?Md(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function S_(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?p2(r):t.type=="string"?Rn(r):r;case"file":return kw(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function LQ(e,t){C6(),k_e(e);var r=la(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=LQ(e,r);return r.type="array",MA(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Mu(ESe(e,r),r);case"slk":case"sylk":return Mu(zX.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Mu(NQ(e.Sheets[e.SheetNames[a]],r),r);case"txt":return REe(MQ(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Mu(fD(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Mu(WX.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return S_(rP.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Mu(Ov.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Mu(QX.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Mu(HX.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Mu(OQ(e,r),r);case"wk1":return S_($p.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return S_($p.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),S_(kQ(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),jEe(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return OEe(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function LEe(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function MEe(e,t,r){var n={};return n.type="file",n.file=t,LEe(n),LQ(e,n)}function FEe(e,t,r,n,a,i,s,o){var l=ui(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var p=t.s.c;p<=t.e.c;++p){var m=s?e[r][p]:e[n[p]+l];if(m===void 0||m.t===void 0){if(c===void 0)continue;i[p]!=null&&(h[i[p]]=c);continue}var g=m.v;switch(m.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(i[p]!=null){if(g==null)if(m.t=="e"&&g===null)h[i[p]]=null;else if(c!==void 0)h[i[p]]=c;else if(u&&g===null)h[i[p]]=null;else continue;else h[i[p]]=u&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?g:wd(m,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function RE(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=cn(u);break;case"number":l=cn(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=ui(l.s.r),h=[],p=[],m=0,g=0,v=Array.isArray(e),y=l.s.r,x=0,w={};v&&!e[y]&&(e[y]=[]);var E=c.skipHidden&&e["!cols"]||[],I=c.skipHidden&&e["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(E[x]||{}).hidden)switch(h[x]=Na(x),r=v?e[y][x]:e[h[x]+f],n){case 1:i[x]=x-l.s.c;break;case 2:i[x]=h[x];break;case 3:i[x]=c.header[x-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=wd(r,null,c),g=w[s]||0,!g)w[s]=1;else{do o=s+"_"+g++;while(w[o]);w[s]=g,w[o]=1}i[x]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(I[y]||{}).hidden){var P=FEe(e,l,y,h,n,i,v,c);(P.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[m++]=P.row)}return p.length=m,p}var a9=/"/g;function BEe(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=ui(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:wd(p,null,o));for(var m=0,g=0;m!==u.length;++m)if((g=u.charCodeAt(m))===a||g===i||g===34||o.forceQuotes){u='"'+u.replace(a9,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(a9,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function fD(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=cn(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(f[m]=Na(m));for(var g=0,v=a.s.r;v<=a.e.r;++v)(p[v]||{}).hidden||(u=BEe(e,a,v,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((g++?o:"")+u)));return delete n.dense,r.join("")}function MQ(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=fD(e,t);return r}function $Ee(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=cn(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Na(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=ui(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function FQ(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Ca(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=cn(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(g,v){Ka(g).forEach(function(y){(p=h.indexOf(y))==-1&&(h[p=h.length]=y);var x=g[y],w="z",E="",I=cr({c:o+p,r:s+v+a});c=k2(i,I),x&&typeof x=="object"&&!(x instanceof Date)?i[I]=x:(typeof x=="number"?w="n":typeof x=="boolean"?w="b":typeof x=="string"?w="s":x instanceof Date?(w="d",n.cellDates||(w="n",x=Bi(x)),E=n.dateNF||or[14]):x===null&&n.nullError&&(w="e",x=0),c?(c.t=w,c.v=x,delete c.w,delete c.R,E&&(c.z=E)):i[I]=c={t:w,v:x},E&&(c.z=E))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var m=ui(s);if(a)for(p=0;p<h.length;++p)i[Na(p+o)+m]={t:"s",v:h[p]};return i["!ref"]=kr(u),i}function UEe(e,t){return FQ(null,e,t)}function k2(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Ca(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?k2(e,cr(t)):k2(e,cr({r:t,c:r||0}))}function VEe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function dD(){return{SheetNames:[],Sheets:{}}}function hD(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(bQ(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function zEe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=VEe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function WEe(e,t){return e.z=t,e}function BQ(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function HEe(e,t,r){return BQ(e,"#"+t,r)}function qEe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function GEe(e,t,r,n){for(var a=typeof t!="string"?t:cn(t),i=typeof t=="string"?t:kr(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=k2(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var ov={encode_col:Na,encode_row:ui,encode_cell:cr,encode_range:kr,decode_col:V6,decode_row:U6,split_cell:nge,decode_cell:Ca,decode_range:el,format_cell:wd,sheet_add_aoa:dX,sheet_add_json:FQ,sheet_add_dom:CQ,aoa_to_sheet:d1,json_to_sheet:UEe,table_to_sheet:PQ,table_to_book:ZSe,sheet_to_csv:fD,sheet_to_txt:MQ,sheet_to_json:RE,sheet_to_html:NQ,sheet_to_formulae:$Ee,sheet_to_row_object_array:RE,sheet_get_cell:k2,book_new:dD,book_append_sheet:hD,book_set_sheet_visibility:zEe,cell_set_number_format:WEe,cell_set_hyperlink:BQ,cell_set_internal_link:HEe,cell_add_comment:qEe,sheet_set_array_formula:GEe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const KEe=()=>{};var i9={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Q=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},YEe=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},UQ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,p=c&63;l||(p=64,s||(h=64)),n.push(r[u],r[f],r[h],r[p])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray($Q(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):YEe(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new XEe;const h=i<<2|o>>4;if(n.push(h),c!==64){const p=o<<4&240|c>>2;if(n.push(p),f!==64){const m=c<<6&192|f;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class XEe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QEe=function(e){const t=$Q(e);return UQ.encodeByteArray(t,!0)},LE=function(e){return QEe(e).replace(/\./g,"")},VQ=function(e){try{return UQ.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JEe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZEe=()=>JEe().__FIREBASE_DEFAULTS__,e5e=()=>{if(typeof process>"u"||typeof i9>"u")return;const e=i9.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},t5e=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&VQ(e[1]);return t&&JSON.parse(t)},qA=()=>{try{return KEe()||ZEe()||e5e()||t5e()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},zQ=e=>{var t,r;return(r=(t=qA())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},WQ=e=>{const t=zQ(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},HQ=()=>{var e;return(e=qA())==null?void 0:e.config},qQ=e=>{var t;return(t=qA())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pD(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GQ(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[LE(JSON.stringify(r)),LE(JSON.stringify(s)),""].join(".")}const Tx={};function n5e(){const e={prod:[],emulator:[]};for(const t of Object.keys(Tx))Tx[t]?e.emulator.push(t):e.prod.push(t);return e}function a5e(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let s9=!1;function mD(e,t){if(typeof window>"u"||typeof document>"u"||!Wm(window.location.host)||Tx[e]===t||Tx[e]||s9)return;Tx[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=n5e().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{s9=!0,s()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=a5e(n),p=r("text"),m=document.getElementById(p)||document.createElement("span"),g=r("learnmore"),v=document.getElementById(g)||document.createElement("a"),y=r("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(v,g);const E=c();l(x,y),w.append(x,m,v,E),document.body.appendChild(w)}i?(m.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i5e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eo())}function s5e(){var t;const e=(t=qA())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o5e(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KQ(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function l5e(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function c5e(){const e=eo();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function u5e(){return!s5e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YQ(){try{return typeof indexedDB=="object"}catch{return!1}}function XQ(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)==null?void 0:i.message)||"")}}catch(r){t(r)}})}function f5e(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d5e="FirebaseError";class Pc extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=d5e,Object.setPrototypeOf(this,Pc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hm.prototype.create)}}class Hm{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?h5e(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Pc(a,o,n)}}function h5e(e,t){return e.replace(p5e,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const p5e=/\{\$([^}]+)}/g;function m5e(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function h0(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(o9(i)&&o9(s)){if(!h0(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function o9(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Jy(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,i]=n.split("=");t[decodeURIComponent(a)]=decodeURIComponent(i)}}),t}function Zy(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function g5e(e,t){const r=new v5e(e,t);return r.subscribe.bind(r)}class v5e{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let a;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");y5e(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:n},a.next===void 0&&(a.next=r4),a.error===void 0&&(a.error=r4),a.complete===void 0&&(a.complete=r4);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function y5e(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function r4(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5e=1e3,w5e=2,b5e=4*60*60*1e3,_5e=.5;function l9(e,t=x5e,r=w5e){const n=t*Math.pow(r,e),a=Math.round(_5e*n*(Math.random()-.5)*2);return Math.min(b5e,n+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(e){return e&&e._delegate?e._delegate:e}class Sc{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S5e=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new r5e;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(A5e(t))try{this.getOrInitializeService({instanceIdentifier:dp})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=dp){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=dp){return this.instances.has(t)}getOptions(t=dp){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(t),this.onInitCallbacks.set(n,a);const i=this.instances.get(n);return i&&t(i,n),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:E5e(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=dp){return this.component?this.component.multipleInstances?t:dp:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function E5e(e){return e===dp?void 0:e}function A5e(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5e{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new S5e(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(zr||(zr={}));const k5e={debug:zr.DEBUG,verbose:zr.VERBOSE,info:zr.INFO,warn:zr.WARN,error:zr.ERROR,silent:zr.SILENT},N5e=zr.INFO,C5e={[zr.DEBUG]:"log",[zr.VERBOSE]:"log",[zr.INFO]:"info",[zr.WARN]:"warn",[zr.ERROR]:"error"},P5e=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=C5e[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let GA=class{constructor(t){this.name=t,this._logLevel=N5e,this._logHandler=P5e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?k5e[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zr.DEBUG,...t),this._logHandler(this,zr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zr.VERBOSE,...t),this._logHandler(this,zr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zr.INFO,...t),this._logHandler(this,zr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zr.WARN,...t),this._logHandler(this,zr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zr.ERROR,...t),this._logHandler(this,zr.ERROR,...t)}};const I5e=(e,t)=>t.some(r=>e instanceof r);let c9,u9;function O5e(){return c9||(c9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D5e(){return u9||(u9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QQ=new WeakMap,sP=new WeakMap,JQ=new WeakMap,n4=new WeakMap,gD=new WeakMap;function j5e(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(Qh(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&QQ.set(r,e)}).catch(()=>{}),gD.set(t,e),t}function R5e(e){if(sP.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});sP.set(e,t)}let oP={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return sP.get(e);if(t==="objectStoreNames")return e.objectStoreNames||JQ.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Qh(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function L5e(e){oP=e(oP)}function M5e(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(a4(this),t,...r);return JQ.set(n,t.sort?t.sort():[t]),Qh(n)}:D5e().includes(e)?function(...t){return e.apply(a4(this),t),Qh(QQ.get(this))}:function(...t){return Qh(e.apply(a4(this),t))}}function F5e(e){return typeof e=="function"?M5e(e):(e instanceof IDBTransaction&&R5e(e),I5e(e,O5e())?new Proxy(e,oP):e)}function Qh(e){if(e instanceof IDBRequest)return j5e(e);if(n4.has(e))return n4.get(e);const t=F5e(e);return t!==e&&(n4.set(e,t),gD.set(t,e)),t}const a4=e=>gD.get(e);function ZQ(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=Qh(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Qh(s.result),l.oldVersion,l.newVersion,Qh(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const B5e=["get","getKey","getAll","getAllKeys","count"],$5e=["put","add","delete","clear"],i4=new Map;function f9(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(i4.get(t))return i4.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=$5e.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||B5e.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return i4.set(t,i),i}L5e(e=>({...e,get:(t,r,n)=>f9(t,r)||e.get(t,r,n),has:(t,r)=>!!f9(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5e{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(V5e(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function V5e(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const lP="@firebase/app",d9="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=new GA("@firebase/app"),z5e="@firebase/app-compat",W5e="@firebase/analytics-compat",H5e="@firebase/analytics",q5e="@firebase/app-check-compat",G5e="@firebase/app-check",K5e="@firebase/auth",Y5e="@firebase/auth-compat",X5e="@firebase/database",Q5e="@firebase/data-connect",J5e="@firebase/database-compat",Z5e="@firebase/functions",eAe="@firebase/functions-compat",tAe="@firebase/installations",rAe="@firebase/installations-compat",nAe="@firebase/messaging",aAe="@firebase/messaging-compat",iAe="@firebase/performance",sAe="@firebase/performance-compat",oAe="@firebase/remote-config",lAe="@firebase/remote-config-compat",cAe="@firebase/storage",uAe="@firebase/storage-compat",fAe="@firebase/firestore",dAe="@firebase/ai",hAe="@firebase/firestore-compat",pAe="firebase",mAe="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="[DEFAULT]",gAe={[lP]:"fire-core",[z5e]:"fire-core-compat",[H5e]:"fire-analytics",[W5e]:"fire-analytics-compat",[G5e]:"fire-app-check",[q5e]:"fire-app-check-compat",[K5e]:"fire-auth",[Y5e]:"fire-auth-compat",[X5e]:"fire-rtdb",[Q5e]:"fire-data-connect",[J5e]:"fire-rtdb-compat",[Z5e]:"fire-fn",[eAe]:"fire-fn-compat",[tAe]:"fire-iid",[rAe]:"fire-iid-compat",[nAe]:"fire-fcm",[aAe]:"fire-fcm-compat",[iAe]:"fire-perf",[sAe]:"fire-perf-compat",[oAe]:"fire-rc",[lAe]:"fire-rc-compat",[cAe]:"fire-gcs",[uAe]:"fire-gcs-compat",[fAe]:"fire-fst",[hAe]:"fire-fst-compat",[dAe]:"fire-vertex","fire-js":"fire-js",[pAe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map,vAe=new Map,uP=new Map;function h9(e,t){try{e.container.addComponent(t)}catch(r){bd.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function hu(e){const t=e.name;if(uP.has(t))return bd.debug(`There were multiple attempts to register component ${t}.`),!1;uP.set(t,e);for(const r of ME.values())h9(r,e);for(const r of vAe.values())h9(r,e);return!0}function R0(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function El(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yAe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jh=new Hm("app","Firebase",yAe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xAe{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Sc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=mAe;function eJ(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:cP,automaticDataCollectionEnabled:!0,...t},a=n.name;if(typeof a!="string"||!a)throw Jh.create("bad-app-name",{appName:String(a)});if(r||(r=HQ()),!r)throw Jh.create("no-options");const i=ME.get(a);if(i){if(h0(r,i.options)&&h0(n,i.config))return i;throw Jh.create("duplicate-app",{appName:a})}const s=new T5e(a);for(const l of uP.values())s.addComponent(l);const o=new xAe(r,n,s);return ME.set(a,o),o}function KA(e=cP){const t=ME.get(e);if(!t&&e===cP&&HQ())return eJ();if(!t)throw Jh.create("no-app",{appName:e});return t}function Yo(e,t,r){let n=gAe[e]??e;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const s=[`Unable to register library "${n}" with version "${t}":`];a&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&s.push("and"),i&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bd.warn(s.join(" "));return}hu(new Sc(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wAe="firebase-heartbeat-database",bAe=1,N2="firebase-heartbeat-store";let s4=null;function tJ(){return s4||(s4=ZQ(wAe,bAe,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(N2)}catch(r){console.warn(r)}}}}).catch(e=>{throw Jh.create("idb-open",{originalErrorMessage:e.message})})),s4}async function _Ae(e){try{const r=(await tJ()).transaction(N2),n=await r.objectStore(N2).get(rJ(e));return await r.done,n}catch(t){if(t instanceof Pc)bd.warn(t.message);else{const r=Jh.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});bd.warn(r.message)}}}async function p9(e,t){try{const n=(await tJ()).transaction(N2,"readwrite");await n.objectStore(N2).put(t,rJ(e)),await n.done}catch(r){if(r instanceof Pc)bd.warn(r.message);else{const n=Jh.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});bd.warn(n.message)}}}function rJ(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SAe=1024,EAe=30;class AAe{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new kAe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=m9();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>EAe){const s=NAe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){bd.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=m9(),{heartbeatsToSend:n,unsentEntries:a}=TAe(this._heartbeatsCache.heartbeats),i=LE(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return bd.warn(r),""}}}function m9(){return new Date().toISOString().substring(0,10)}function TAe(e,t=SAe){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),g9(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),g9(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class kAe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YQ()?XQ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await _Ae(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return p9(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return p9(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function g9(e){return LE(JSON.stringify({version:2,heartbeats:e})).length}function NAe(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CAe(e){hu(new Sc("platform-logger",t=>new U5e(t),"PRIVATE")),hu(new Sc("heartbeat",t=>new AAe(t),"PRIVATE")),Yo(lP,d9,e),Yo(lP,d9,"esm2020"),Yo("fire-js","")}CAe("");function nJ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PAe=nJ,aJ=new Hm("auth","Firebase",nJ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=new GA("@firebase/auth");function IAe(e,...t){FE.logLevel<=zr.WARN&&FE.warn(`Auth (${qm}): ${e}`,...t)}function kS(e,...t){FE.logLevel<=zr.ERROR&&FE.error(`Auth (${qm}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(e,...t){throw vD(e,...t)}function Ju(e,...t){return vD(e,...t)}function iJ(e,t,r){const n={...PAe(),[t]:r};return new Hm("auth","Firebase",n).create(t,{appName:e.name})}function cd(e){return iJ(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vD(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return aJ.create(e,...t)}function ur(e,t,...r){if(!e)throw vD(t,...r)}function Xf(e){const t="INTERNAL ASSERTION FAILED: "+e;throw kS(t),new Error(t)}function _d(e,t){e||Xf(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function OAe(){return v9()==="http:"||v9()==="https:"}function v9(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DAe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OAe()||KQ()||"connection"in navigator)?navigator.onLine:!0}function jAe(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,r){this.shortDelay=t,this.longDelay=r,_d(r>t,"Short delay should be less than long delay!"),this.isMobile=i5e()||l5e()}get(){return DAe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(e,t){_d(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sJ{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xf("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xf("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xf("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RAe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LAe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MAe=new Lw(3e4,6e4);function $d(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function xf(e,t,r,n,a={}){return oJ(e,a,async()=>{let i={},s={};n&&(t==="GET"?s=n:i={body:JSON.stringify(n)});const o=Rw({key:e.config.apiKey,...s}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...i};return o5e()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Wm(e.emulatorConfig.host)&&(c.credentials="include"),sJ.fetch()(await lJ(e,e.config.apiHost,r,o),c)})}async function oJ(e,t,r){e._canInitEmulator=!1;const n={...RAe,...t};try{const a=new BAe(e),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw E_(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const o=i.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw E_(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw E_(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw E_(e,"user-disabled",s);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw iJ(e,u,c);pu(e,u)}}catch(a){if(a instanceof Pc)throw a;pu(e,"network-request-failed",{message:String(a)})}}async function Mw(e,t,r,n,a={}){const i=await xf(e,t,r,n,a);return"mfaPendingCredential"in i&&pu(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function lJ(e,t,r,n){const a=`${t}${r}?${n}`,i=e,s=i.config.emulator?yD(e.config,a):`${e.config.apiScheme}://${a}`;return LAe.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(s).toString():s}function FAe(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BAe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ju(this.auth,"network-request-failed")),MAe.get())})}}function E_(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=Ju(e,t,n);return a.customData._tokenResponse=r,a}function y9(e){return e!==void 0&&e.enterprise!==void 0}class $Ae{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return FAe(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function UAe(e,t){return xf(e,"GET","/v2/recaptchaConfig",$d(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VAe(e,t){return xf(e,"POST","/v1/accounts:delete",t)}async function BE(e,t){return xf(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zAe(e,t=!1){const r=ua(e),n=await r.getIdToken(t),a=xD(n);ur(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:a,token:n,authTime:kx(o4(a.auth_time)),issuedAtTime:kx(o4(a.iat)),expirationTime:kx(o4(a.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function o4(e){return Number(e)*1e3}function xD(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return kS("JWT malformed, contained fewer than 3 sections"),null;try{const a=VQ(r);return a?JSON.parse(a):(kS("Failed to decode base64 JWT payload"),null)}catch(a){return kS("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function x9(e){const t=xD(e);return ur(t,"internal-error"),ur(typeof t.exp<"u","internal-error"),ur(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jv(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof Pc&&WAe(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function WAe({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HAe{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=kx(this.lastLoginAt),this.creationTime=kx(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $E(e){var f;const t=e.auth,r=await e.getIdToken(),n=await jv(e,BE(t,{idToken:r}));ur(n==null?void 0:n.users.length,t,"internal-error");const a=n.users[0];e._notifyReloadListener(a);const i=(f=a.providerUserInfo)!=null&&f.length?cJ(a.providerUserInfo):[],s=GAe(e.providerData,i),o=e.isAnonymous,l=!(e.email&&a.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new dP(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,u)}async function qAe(e){const t=ua(e);await $E(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function GAe(e,t){return[...e.filter(n=>!t.some(a=>a.providerId===n.providerId)),...t]}function cJ(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KAe(e,t){const r=await oJ(e,{},async()=>{const n=Rw({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:i}=e.config,s=await lJ(e,a,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return e.emulatorConfig&&Wm(e.emulatorConfig.host)&&(l.credentials="include"),sJ.fetch()(s,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function YAe(e,t){return xf(e,"POST","/v2/accounts:revokeToken",$d(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ur(t.idToken,"internal-error"),ur(typeof t.idToken<"u","internal-error"),ur(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):x9(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){ur(t.length!==0,"internal-error");const r=x9(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ur(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await KAe(t,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,s=new lv;return n&&(ur(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),a&&(ur(typeof a=="string","internal-error",{appName:t}),s.accessToken=a),i&&(ur(typeof i=="number","internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lv,this.toJSON())}_performRefresh(){return Xf("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(e,t){ur(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class nu{constructor({uid:t,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new HAe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new dP(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await jv(this,this.stsTokenManager.getToken(this.auth,t));return ur(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return zAe(this,t)}reload(){return qAe(this)}_assign(t){this!==t&&(ur(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new nu({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){ur(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await $E(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(El(this.auth.app))return Promise.reject(cd(this.auth));const t=await this.getIdToken();return await jv(this,VAe(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,a=r.email??void 0,i=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:m,stsTokenManager:g}=r;ur(f&&g,t,"internal-error");const v=lv.fromJSON(this.name,g);ur(typeof f=="string",t,"internal-error"),vh(n,t.name),vh(a,t.name),ur(typeof h=="boolean",t,"internal-error"),ur(typeof p=="boolean",t,"internal-error"),vh(i,t.name),vh(s,t.name),vh(o,t.name),vh(l,t.name),vh(c,t.name),vh(u,t.name);const y=new nu({uid:f,auth:t,email:a,emailVerified:h,displayName:n,isAnonymous:p,photoURL:s,phoneNumber:i,tenantId:o,stsTokenManager:v,createdAt:c,lastLoginAt:u});return m&&Array.isArray(m)&&(y.providerData=m.map(x=>({...x}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(t,r,n=!1){const a=new lv;a.updateFromServerResponse(r);const i=new nu({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:n});return await $E(i),i}static async _fromGetAccountInfoResponse(t,r,n){const a=r.users[0];ur(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?cJ(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),o=new lv;o.updateFromIdToken(n);const l=new nu({uid:a.localId,auth:t,stsTokenManager:o,isAnonymous:s}),c={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new dP(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=new Map;function Qf(e){_d(e instanceof Function,"Expected a class definition");let t=w9.get(e);return t?(_d(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,w9.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uJ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}uJ.type="NONE";const b9=uJ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(e,t,r){return`firebase:${e}:${t}:${r}`}class cv{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=NS(this.userKey,a.apiKey,i),this.fullPersistenceKey=NS("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await BE(this.auth,{idToken:t}).catch(()=>{});return r?nu._fromGetAccountInfoResponse(this.auth,r,t):null}return nu._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new cv(Qf(b9),t,n);const a=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=a[0]||Qf(b9);const s=NS(n,t.config.apiKey,t.name);let o=null;for(const c of r)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await BE(t,{idToken:u}).catch(()=>{});if(!h)break;f=await nu._fromGetAccountInfoResponse(t,h,u)}else f=nu._fromJSON(t,u);c!==i&&(o=f),i=c;break}}catch{}const l=a.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new cv(i,t,n):(i=l[0],o&&await i._set(s,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new cv(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pJ(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fJ(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gJ(t))return"Blackberry";if(vJ(t))return"Webos";if(dJ(t))return"Safari";if((t.includes("chrome/")||hJ(t))&&!t.includes("edge/"))return"Chrome";if(mJ(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function fJ(e=eo()){return/firefox\//i.test(e)}function dJ(e=eo()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hJ(e=eo()){return/crios\//i.test(e)}function pJ(e=eo()){return/iemobile/i.test(e)}function mJ(e=eo()){return/android/i.test(e)}function gJ(e=eo()){return/blackberry/i.test(e)}function vJ(e=eo()){return/webos/i.test(e)}function wD(e=eo()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function XAe(e=eo()){var t;return wD(e)&&!!((t=window.navigator)!=null&&t.standalone)}function QAe(){return c5e()&&document.documentMode===10}function yJ(e=eo()){return wD(e)||mJ(e)||vJ(e)||gJ(e)||/windows phone/i.test(e)||pJ(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xJ(e,t=[]){let r;switch(e){case"Browser":r=_9(eo());break;case"Worker":r=`${_9(eo())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${qm}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JAe{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=i=>new Promise((s,o)=>{try{const l=t(i);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZAe(e,t={}){return xf(e,"GET","/v2/passwordPolicy",$d(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eTe=6;class tTe{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??eTe,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<t.length;a++)n=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rTe{constructor(t,r,n,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S9(this),this.idTokenSubscription=new S9(this),this.beforeStateQueue=new JAe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aJ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Qf(r)),this._initializationPromise=this.queue(async()=>{var n,a,i;if(!this._deleted&&(this.persistenceManager=await cv.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await BE(this,{idToken:t}),n=await nu._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(El(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(i=this.redirectUser)==null?void 0:i._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===o)&&(l!=null&&l.user)&&(n=l.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ur(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await $E(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=jAe()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(El(this.app))return Promise.reject(cd(this));const r=t?ua(t):null;return r&&ur(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&ur(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return El(this.app)?Promise.reject(cd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return El(this.app)?Promise.reject(cd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qf(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZAe(this),r=new tTe(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hm("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await YAe(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Qf(t)||this._popupRedirectResolver;ur(r,this,"argument-error"),this.redirectPersistenceManager=await cv.create(this,[Qf(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ur(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),typeof r=="function"){const l=t.addObserver(r,n,a);return()=>{s=!0,l()}}else{const l=t.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ur(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=xJ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(El(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&IAe(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function L0(e){return ua(e)}class S9{constructor(t){this.auth=t,this.observer=null,this.addObserver=g5e(r=>this.observer=r)}get next(){return ur(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YA={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nTe(e){YA=e}function wJ(e){return YA.loadJS(e)}function aTe(){return YA.recaptchaEnterpriseScript}function iTe(){return YA.gapiScript}function sTe(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class oTe{constructor(){this.enterprise=new lTe}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class lTe{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const cTe="recaptcha-enterprise",bJ="NO_RECAPTCHA";class uTe{constructor(t){this.type=cTe,this.auth=L0(t)}async verify(t="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,o)=>{UAe(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new $Ae(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function a(i,s,o){const l=window.grecaptcha;y9(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:t}).then(c=>{s(c)}).catch(()=>{s(bJ)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oTe().execute("siteKey",{action:"verify"}):new Promise((i,s)=>{n(this.auth).then(o=>{if(!r&&y9(window.grecaptcha))a(o,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=aTe();l.length!==0&&(l+=o),wJ(l).then(()=>{a(o,i,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function E9(e,t,r,n=!1,a=!1){const i=new uTe(e);let s;if(a)s=bJ;else try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const o={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function UE(e,t,r,n,a){var i;if((i=e._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await E9(e,t,r,r==="getOobCode");return n(e,s)}else return n(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await E9(e,t,r,r==="getOobCode");return n(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fTe(e,t){const r=R0(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(h0(i,t??{}))return a;pu(a,"already-initialized")}return r.initialize({options:t})}function dTe(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Qf);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function hTe(e,t,r){const n=L0(e);ur(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!1,i=_J(t),{host:s,port:o}=pTe(t),l=o===null?"":`:${o}`,c={url:`${i}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){ur(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ur(h0(c,n.config.emulator)&&h0(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,Wm(s)?(pD(`${i}//${s}${l}`),mD("Auth",!0)):mTe()}function _J(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function pTe(e){const t=_J(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:A9(n.substr(i.length+1))}}else{const[i,s]=n.split(":");return{host:i,port:A9(s)}}}function A9(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function mTe(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Xf("not implemented")}_getIdTokenResponse(t){return Xf("not implemented")}_linkToIdToken(t,r){return Xf("not implemented")}_getReauthenticationResolver(t){return Xf("not implemented")}}async function gTe(e,t){return xf(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vTe(e,t){return Mw(e,"POST","/v1/accounts:signInWithPassword",$d(e,t))}async function yTe(e,t){return xf(e,"POST","/v1/accounts:sendOobCode",$d(e,t))}async function xTe(e,t){return yTe(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wTe(e,t){return Mw(e,"POST","/v1/accounts:signInWithEmailLink",$d(e,t))}async function bTe(e,t){return Mw(e,"POST","/v1/accounts:signInWithEmailLink",$d(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2 extends bD{constructor(t,r,n,a=null){super("password",n),this._email=t,this._password=r,this._tenantId=a}static _fromEmailAndPassword(t,r){return new C2(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new C2(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UE(t,r,"signInWithPassword",vTe);case"emailLink":return wTe(t,{email:this._email,oobCode:this._password});default:pu(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return UE(t,n,"signUpPassword",gTe);case"emailLink":return bTe(t,{idToken:r,email:this._email,oobCode:this._password});default:pu(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uv(e,t){return Mw(e,"POST","/v1/accounts:signInWithIdp",$d(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Te="http://localhost";class fm extends bD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new fm(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):pu("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:a,...i}=r;if(!n||!a)return null;const s=new fm(n,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){const r=this.buildRequest();return uv(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,uv(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,uv(t,r)}buildRequest(){const t={requestUri:_Te,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Rw(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function STe(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ETe(e){const t=Jy(Zy(e)).link,r=t?Jy(Zy(t)).deep_link_id:null,n=Jy(Zy(e)).deep_link_id;return(n?Jy(Zy(n)).link:null)||n||r||t||e}class _D{constructor(t){const r=Jy(Zy(t)),n=r.apiKey??null,a=r.oobCode??null,i=STe(r.mode??null);ur(n&&a&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=ETe(t);try{return new _D(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.providerId=p1.PROVIDER_ID}static credential(t,r){return C2._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=_D.parseLink(r);return ur(n,"argument-error"),C2._fromEmailAndCode(t,n.code,n.tenantId)}}p1.PROVIDER_ID="password";p1.EMAIL_PASSWORD_SIGN_IN_METHOD="password";p1.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SJ{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw extends SJ{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends Fw{constructor(){super("facebook.com")}static credential(t){return fm._fromParams({providerId:Ih.PROVIDER_ID,signInMethod:Ih.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ih.credentialFromTaggedObject(t)}static credentialFromError(t){return Ih.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ih.credential(t.oauthAccessToken)}catch{return null}}}Ih.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ih.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends Fw{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return fm._fromParams({providerId:Oh.PROVIDER_ID,signInMethod:Oh.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Oh.credentialFromTaggedObject(t)}static credentialFromError(t){return Oh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return Oh.credential(r,n)}catch{return null}}}Oh.GOOGLE_SIGN_IN_METHOD="google.com";Oh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends Fw{constructor(){super("github.com")}static credential(t){return fm._fromParams({providerId:Dh.PROVIDER_ID,signInMethod:Dh.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Dh.credentialFromTaggedObject(t)}static credentialFromError(t){return Dh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Dh.credential(t.oauthAccessToken)}catch{return null}}}Dh.GITHUB_SIGN_IN_METHOD="github.com";Dh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends Fw{constructor(){super("twitter.com")}static credential(t,r){return fm._fromParams({providerId:jh.PROVIDER_ID,signInMethod:jh.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return jh.credentialFromTaggedObject(t)}static credentialFromError(t){return jh.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return jh.credential(r,n)}catch{return null}}}jh.TWITTER_SIGN_IN_METHOD="twitter.com";jh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ATe(e,t){return Mw(e,"POST","/v1/accounts:signUp",$d(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,a=!1){const i=await nu._fromIdTokenResponse(t,n,a),s=T9(n);return new dm({user:i,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const a=T9(n);return new dm({user:t,providerId:a,_tokenResponse:n,operationType:r})}}function T9(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE extends Pc{constructor(t,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,VE.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,a){return new VE(t,r,n,a)}}function EJ(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?VE._fromErrorAndOperation(e,i,t,n):i})}async function TTe(e,t,r=!1){const n=await jv(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return dm._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kTe(e,t,r=!1){const{auth:n}=e;if(El(n.app))return Promise.reject(cd(n));const a="reauthenticate";try{const i=await jv(e,EJ(n,a,t,e),r);ur(i.idToken,n,"internal-error");const s=xD(i.idToken);ur(s,n,"internal-error");const{sub:o}=s;return ur(e.uid===o,n,"user-mismatch"),dm._forOperation(e,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&pu(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AJ(e,t,r=!1){if(El(e.app))return Promise.reject(cd(e));const n="signIn",a=await EJ(e,n,t),i=await dm._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(i.user),i}async function NTe(e,t){return AJ(L0(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TJ(e){const t=L0(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function CTe(e,t,r){const n=L0(e);await UE(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",xTe)}async function kJ(e,t,r){if(El(e.app))return Promise.reject(cd(e));const n=L0(e),s=await UE(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ATe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&TJ(e),l}),o=await dm._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function NJ(e,t,r){return El(e.app)?Promise.reject(cd(e)):NTe(ua(e),p1.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&TJ(e),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PTe(e,t){return xf(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CJ(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=ua(e),i={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},s=await jv(n,PTe(n.auth,i));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const o=n.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function ITe(e,t,r,n){return ua(e).onIdTokenChanged(t,r,n)}function OTe(e,t,r){return ua(e).beforeAuthStateChanged(t,r)}function PJ(e,t,r,n){return ua(e).onAuthStateChanged(t,r,n)}function IJ(e){return ua(e).signOut()}const zE="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(zE,"1"),this.storage.removeItem(zE),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DTe=1e3,jTe=10;class DJ extends OJ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yJ(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&t(r,a,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},i=this.storage.getItem(n);QAe()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,jTe):a()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},DTe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}DJ.type="LOCAL";const RTe=DJ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ extends OJ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}jJ.type="SESSION";const RJ=jJ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LTe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const n=new XA(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:a,data:i}=r.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const o=Array.from(s).map(async c=>c(r.origin,i)),l=await LTe(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}XA.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MTe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((o,l)=>{const c=SD("",20);a.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:a,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:c,data:r},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(){return window}function FTe(e){Zu().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LJ(){return typeof Zu().WorkerGlobalScope<"u"&&typeof Zu().importScripts=="function"}async function BTe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $Te(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function UTe(){return LJ()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MJ="firebaseLocalStorageDb",VTe=1,WE="firebaseLocalStorage",FJ="fbase_key";class Bw{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function QA(e,t){return e.transaction([WE],t?"readwrite":"readonly").objectStore(WE)}function zTe(){const e=indexedDB.deleteDatabase(MJ);return new Bw(e).toPromise()}function hP(){const e=indexedDB.open(MJ,VTe);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(WE,{keyPath:FJ})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(WE)?t(n):(n.close(),await zTe(),t(await hP()))})})}async function k9(e,t,r){const n=QA(e,!0).put({[FJ]:t,value:r});return new Bw(n).toPromise()}async function WTe(e,t){const r=QA(e,!1).get(t),n=await new Bw(r).toPromise();return n===void 0?null:n.value}function N9(e,t){const r=QA(e,!0).delete(t);return new Bw(r).toPromise()}const HTe=800,qTe=3;class BJ{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hP(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>qTe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LJ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=XA._getInstance(UTe()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await BTe(),!this.activeServiceWorker)return;this.sender=new MTe(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||$Te()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hP();return await k9(t,zE,"1"),await N9(t,zE),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>k9(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>WTe(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>N9(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const i=QA(a,!1).getAll();return new Bw(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:a,value:i}of t)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HTe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}BJ.type="LOCAL";const GTe=BJ;new Lw(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KTe(e,t){return t?Qf(t):(ur(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED extends bD{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return uv(t,this._buildIdpRequest())}_linkToIdToken(t,r){return uv(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return uv(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function YTe(e){return AJ(e.auth,new ED(e),e.bypassAuthState)}function XTe(e){const{auth:t,user:r}=e;return ur(r,t,"internal-error"),kTe(r,new ED(e),e.bypassAuthState)}async function QTe(e){const{auth:t,user:r}=e;return ur(r,t,"internal-error"),TTe(r,new ED(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $J{constructor(t,r,n,a,i=!1){this.auth=t,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:s,type:o}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return YTe;case"linkViaPopup":case"linkViaRedirect":return QTe;case"reauthViaPopup":case"reauthViaRedirect":return XTe;default:pu(this.auth,"internal-error")}}resolve(t){_d(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_d(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JTe=new Lw(2e3,1e4);class $g extends $J{constructor(t,r,n,a,i){super(t,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,$g.currentPopupAction&&$g.currentPopupAction.cancel(),$g.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ur(t,this.auth,"internal-error"),t}async onExecution(){_d(this.filter.length===1,"Popup operations only handle one event");const t=SD();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ju(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Ju(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$g.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ju(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,JTe.get())};t()}}$g.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZTe="pendingRedirect",CS=new Map;class eke extends $J{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=CS.get(this.auth._key());if(!t){try{const n=await tke(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}CS.set(this.auth._key(),t)}return this.bypassAuthState||CS.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tke(e,t){const r=ake(t),n=nke(e);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function rke(e,t){CS.set(e._key(),t)}function nke(e){return Qf(e._redirectPersistence)}function ake(e){return NS(ZTe,e.config.apiKey,e.name)}async function ike(e,t,r=!1){if(El(e.app))return Promise.reject(cd(e));const n=L0(e),a=KTe(n,t),s=await new eke(n,a,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ske=10*60*1e3;class oke{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!lke(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!UJ(t)){const a=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ju(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ske&&this.cachedEventUids.clear(),this.cachedEventUids.has(C9(t))}saveEventToCache(t){this.cachedEventUids.add(C9(t)),this.lastProcessedEventTime=Date.now()}}function C9(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function UJ({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function lke(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UJ(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cke(e,t={}){return xf(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uke=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fke=/^https?/;async function dke(e){if(e.config.emulator)return;const{authorizedDomains:t}=await cke(e);for(const r of t)try{if(hke(r))return}catch{}pu(e,"unauthorized-domain")}function hke(e){const t=fP(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!fke.test(r))return!1;if(uke.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pke=new Lw(3e4,6e4);function P9(){const e=Zu().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function mke(e){return new Promise((t,r)=>{var a,i,s;function n(){P9(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{P9(),r(Ju(e,"network-request-failed"))},timeout:pke.get()})}if((i=(a=Zu().gapi)==null?void 0:a.iframes)!=null&&i.Iframe)t(gapi.iframes.getContext());else if((s=Zu().gapi)!=null&&s.load)n();else{const o=sTe("iframefcb");return Zu()[o]=()=>{gapi.load?n():r(Ju(e,"network-request-failed"))},wJ(`${iTe()}?onload=${o}`).catch(l=>r(l))}}).catch(t=>{throw PS=null,t})}let PS=null;function gke(e){return PS=PS||mke(e),PS}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vke=new Lw(5e3,15e3),yke="__/auth/iframe",xke="emulator/auth/iframe",wke={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bke=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _ke(e){const t=e.config;ur(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?yD(t,xke):`https://${e.config.authDomain}/${yke}`,n={apiKey:t.apiKey,appName:e.name,v:qm},a=bke.get(e.config.apiHost);a&&(n.eid=a);const i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Rw(n).slice(1)}`}async function Ske(e){const t=await gke(e),r=Zu().gapi;return ur(r,e,"internal-error"),t.open({where:document.body,url:_ke(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wke,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const s=Ju(e,"network-request-failed"),o=Zu().setTimeout(()=>{i(s)},vke.get());function l(){Zu().clearTimeout(o),a(n)}n.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eke={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ake=500,Tke=600,kke="_blank",Nke="http://localhost";class I9{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cke(e,t,r,n=Ake,a=Tke){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...Eke,width:n.toString(),height:a.toString(),top:i,left:s},c=eo().toLowerCase();r&&(o=hJ(c)?kke:r),fJ(c)&&(t=t||Nke,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(XAe(c)&&o!=="_self")return Pke(t||"",o),new I9(null);const f=window.open(t||"",o,u);ur(f,e,"popup-blocked");try{f.focus()}catch{}return new I9(f)}function Pke(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ike="__/auth/handler",Oke="emulator/auth/handler",Dke=encodeURIComponent("fac");async function O9(e,t,r,n,a,i){ur(e.config.authDomain,e,"auth-domain-config-required"),ur(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:qm,eventId:a};if(t instanceof SJ){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",m5e(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(t instanceof Fw){const u=t.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Dke}=${encodeURIComponent(l)}`:"";return`${jke(e)}?${Rw(o).slice(1)}${c}`}function jke({config:e}){return e.emulator?yD(e,Oke):`https://${e.authDomain}/${Ike}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l4="webStorageSupport";class Rke{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RJ,this._completeRedirectFn=ike,this._overrideRedirectResult=rke}async _openPopup(t,r,n,a){var s;_d((s=this.eventManagers[t._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await O9(t,r,n,fP(),a);return Cke(t,i,SD())}async _openRedirect(t,r,n,a){await this._originValidation(t);const i=await O9(t,r,n,fP(),a);return FTe(i),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(_d(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await Ske(t),n=new oke(t);return r.register("authEvent",a=>(ur(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(l4,{type:l4},a=>{var s;const i=(s=a==null?void 0:a[0])==null?void 0:s[l4];i!==void 0&&r(!!i),pu(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=dke(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return yJ()||dJ()||wD()}}const Lke=Rke;var D9="@firebase/auth",j9="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mke{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ur(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fke(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Bke(e){hu(new Sc("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;ur(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xJ(e)},c=new rTe(n,a,i,l);return dTe(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),hu(new Sc("auth-internal",t=>{const r=L0(t.getProvider("auth").getImmediate());return(n=>new Mke(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yo(D9,j9,Fke(e)),Yo(D9,j9,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ke=5*60,Uke=qQ("authIdTokenMaxAge")||$ke;let R9=null;const Vke=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Uke)return;const a=r==null?void 0:r.token;R9!==a&&(R9=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function zke(e=KA()){const t=R0(e,"auth");if(t.isInitialized())return t.getImmediate();const r=fTe(e,{popupRedirectResolver:Lke,persistence:[GTe,RTe,RJ]}),n=qQ("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const s=Vke(i.toString());OTe(r,s,()=>s(r.currentUser)),ITe(r,o=>s(o))}}const a=zQ("auth");return a&&hTe(r,`http://${a}`),r}function Wke(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}nTe({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=a=>{const i=Ju("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",Wke().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Bke("Browser");var Hke="firebase",qke="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yo(Hke,qke,"app");var L9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zh,VJ;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(A,S){function k(){}k.prototype=S.prototype,A.D=S.prototype,A.prototype=new k,A.prototype.constructor=A,A.C=function(O,T,C){for(var D=Array(arguments.length-2),B=2;B<arguments.length;B++)D[B-2]=arguments[B];return S.prototype[T].apply(O,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(A,S,k){k||(k=0);var O=Array(16);if(typeof S=="string")for(var T=0;16>T;++T)O[T]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(T=0;16>T;++T)O[T]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=A.g[0],k=A.g[1],T=A.g[2];var C=A.g[3],D=S+(C^k&(T^C))+O[0]+3614090360&4294967295;S=k+(D<<7&4294967295|D>>>25),D=C+(T^S&(k^T))+O[1]+3905402710&4294967295,C=S+(D<<12&4294967295|D>>>20),D=T+(k^C&(S^k))+O[2]+606105819&4294967295,T=C+(D<<17&4294967295|D>>>15),D=k+(S^T&(C^S))+O[3]+3250441966&4294967295,k=T+(D<<22&4294967295|D>>>10),D=S+(C^k&(T^C))+O[4]+4118548399&4294967295,S=k+(D<<7&4294967295|D>>>25),D=C+(T^S&(k^T))+O[5]+1200080426&4294967295,C=S+(D<<12&4294967295|D>>>20),D=T+(k^C&(S^k))+O[6]+2821735955&4294967295,T=C+(D<<17&4294967295|D>>>15),D=k+(S^T&(C^S))+O[7]+4249261313&4294967295,k=T+(D<<22&4294967295|D>>>10),D=S+(C^k&(T^C))+O[8]+1770035416&4294967295,S=k+(D<<7&4294967295|D>>>25),D=C+(T^S&(k^T))+O[9]+2336552879&4294967295,C=S+(D<<12&4294967295|D>>>20),D=T+(k^C&(S^k))+O[10]+4294925233&4294967295,T=C+(D<<17&4294967295|D>>>15),D=k+(S^T&(C^S))+O[11]+2304563134&4294967295,k=T+(D<<22&4294967295|D>>>10),D=S+(C^k&(T^C))+O[12]+1804603682&4294967295,S=k+(D<<7&4294967295|D>>>25),D=C+(T^S&(k^T))+O[13]+4254626195&4294967295,C=S+(D<<12&4294967295|D>>>20),D=T+(k^C&(S^k))+O[14]+2792965006&4294967295,T=C+(D<<17&4294967295|D>>>15),D=k+(S^T&(C^S))+O[15]+1236535329&4294967295,k=T+(D<<22&4294967295|D>>>10),D=S+(T^C&(k^T))+O[1]+4129170786&4294967295,S=k+(D<<5&4294967295|D>>>27),D=C+(k^T&(S^k))+O[6]+3225465664&4294967295,C=S+(D<<9&4294967295|D>>>23),D=T+(S^k&(C^S))+O[11]+643717713&4294967295,T=C+(D<<14&4294967295|D>>>18),D=k+(C^S&(T^C))+O[0]+3921069994&4294967295,k=T+(D<<20&4294967295|D>>>12),D=S+(T^C&(k^T))+O[5]+3593408605&4294967295,S=k+(D<<5&4294967295|D>>>27),D=C+(k^T&(S^k))+O[10]+38016083&4294967295,C=S+(D<<9&4294967295|D>>>23),D=T+(S^k&(C^S))+O[15]+3634488961&4294967295,T=C+(D<<14&4294967295|D>>>18),D=k+(C^S&(T^C))+O[4]+3889429448&4294967295,k=T+(D<<20&4294967295|D>>>12),D=S+(T^C&(k^T))+O[9]+568446438&4294967295,S=k+(D<<5&4294967295|D>>>27),D=C+(k^T&(S^k))+O[14]+3275163606&4294967295,C=S+(D<<9&4294967295|D>>>23),D=T+(S^k&(C^S))+O[3]+4107603335&4294967295,T=C+(D<<14&4294967295|D>>>18),D=k+(C^S&(T^C))+O[8]+1163531501&4294967295,k=T+(D<<20&4294967295|D>>>12),D=S+(T^C&(k^T))+O[13]+2850285829&4294967295,S=k+(D<<5&4294967295|D>>>27),D=C+(k^T&(S^k))+O[2]+4243563512&4294967295,C=S+(D<<9&4294967295|D>>>23),D=T+(S^k&(C^S))+O[7]+1735328473&4294967295,T=C+(D<<14&4294967295|D>>>18),D=k+(C^S&(T^C))+O[12]+2368359562&4294967295,k=T+(D<<20&4294967295|D>>>12),D=S+(k^T^C)+O[5]+4294588738&4294967295,S=k+(D<<4&4294967295|D>>>28),D=C+(S^k^T)+O[8]+2272392833&4294967295,C=S+(D<<11&4294967295|D>>>21),D=T+(C^S^k)+O[11]+1839030562&4294967295,T=C+(D<<16&4294967295|D>>>16),D=k+(T^C^S)+O[14]+4259657740&4294967295,k=T+(D<<23&4294967295|D>>>9),D=S+(k^T^C)+O[1]+2763975236&4294967295,S=k+(D<<4&4294967295|D>>>28),D=C+(S^k^T)+O[4]+1272893353&4294967295,C=S+(D<<11&4294967295|D>>>21),D=T+(C^S^k)+O[7]+4139469664&4294967295,T=C+(D<<16&4294967295|D>>>16),D=k+(T^C^S)+O[10]+3200236656&4294967295,k=T+(D<<23&4294967295|D>>>9),D=S+(k^T^C)+O[13]+681279174&4294967295,S=k+(D<<4&4294967295|D>>>28),D=C+(S^k^T)+O[0]+3936430074&4294967295,C=S+(D<<11&4294967295|D>>>21),D=T+(C^S^k)+O[3]+3572445317&4294967295,T=C+(D<<16&4294967295|D>>>16),D=k+(T^C^S)+O[6]+76029189&4294967295,k=T+(D<<23&4294967295|D>>>9),D=S+(k^T^C)+O[9]+3654602809&4294967295,S=k+(D<<4&4294967295|D>>>28),D=C+(S^k^T)+O[12]+3873151461&4294967295,C=S+(D<<11&4294967295|D>>>21),D=T+(C^S^k)+O[15]+530742520&4294967295,T=C+(D<<16&4294967295|D>>>16),D=k+(T^C^S)+O[2]+3299628645&4294967295,k=T+(D<<23&4294967295|D>>>9),D=S+(T^(k|~C))+O[0]+4096336452&4294967295,S=k+(D<<6&4294967295|D>>>26),D=C+(k^(S|~T))+O[7]+1126891415&4294967295,C=S+(D<<10&4294967295|D>>>22),D=T+(S^(C|~k))+O[14]+2878612391&4294967295,T=C+(D<<15&4294967295|D>>>17),D=k+(C^(T|~S))+O[5]+4237533241&4294967295,k=T+(D<<21&4294967295|D>>>11),D=S+(T^(k|~C))+O[12]+1700485571&4294967295,S=k+(D<<6&4294967295|D>>>26),D=C+(k^(S|~T))+O[3]+2399980690&4294967295,C=S+(D<<10&4294967295|D>>>22),D=T+(S^(C|~k))+O[10]+4293915773&4294967295,T=C+(D<<15&4294967295|D>>>17),D=k+(C^(T|~S))+O[1]+2240044497&4294967295,k=T+(D<<21&4294967295|D>>>11),D=S+(T^(k|~C))+O[8]+1873313359&4294967295,S=k+(D<<6&4294967295|D>>>26),D=C+(k^(S|~T))+O[15]+4264355552&4294967295,C=S+(D<<10&4294967295|D>>>22),D=T+(S^(C|~k))+O[6]+2734768916&4294967295,T=C+(D<<15&4294967295|D>>>17),D=k+(C^(T|~S))+O[13]+1309151649&4294967295,k=T+(D<<21&4294967295|D>>>11),D=S+(T^(k|~C))+O[4]+4149444226&4294967295,S=k+(D<<6&4294967295|D>>>26),D=C+(k^(S|~T))+O[11]+3174756917&4294967295,C=S+(D<<10&4294967295|D>>>22),D=T+(S^(C|~k))+O[2]+718787259&4294967295,T=C+(D<<15&4294967295|D>>>17),D=k+(C^(T|~S))+O[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(T+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+T&4294967295,A.g[3]=A.g[3]+C&4294967295}n.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var k=S-this.blockSize,O=this.B,T=this.h,C=0;C<S;){if(T==0)for(;C<=k;)a(this,A,C),C+=this.blockSize;if(typeof A=="string"){for(;C<S;)if(O[T++]=A.charCodeAt(C++),T==this.blockSize){a(this,O),T=0;break}}else for(;C<S;)if(O[T++]=A[C++],T==this.blockSize){a(this,O),T=0;break}}this.h=T,this.o+=S},n.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var k=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=k&255,k/=256;for(this.u(A),A=Array(16),S=k=0;4>S;++S)for(var O=0;32>O;O+=8)A[k++]=this.g[S]>>>O&255;return A};function i(A,S){var k=o;return Object.prototype.hasOwnProperty.call(k,A)?k[A]:k[A]=S(A)}function s(A,S){this.h=S;for(var k=[],O=!0,T=A.length-1;0<=T;T--){var C=A[T]|0;O&&C==S||(k[T]=C,O=!1)}this.g=k}var o={};function l(A){return-128<=A&&128>A?i(A,function(S){return new s([S|0],0>S?-1:0)}):new s([A|0],0>A?-1:0)}function c(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return v(c(-A));for(var S=[],k=1,O=0;A>=k;O++)S[O]=A/k|0,k*=4294967296;return new s(S,0)}function u(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return v(u(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=c(Math.pow(S,8)),O=f,T=0;T<A.length;T+=8){var C=Math.min(8,A.length-T),D=parseInt(A.substring(T,T+C),S);8>C?(C=c(Math.pow(S,C)),O=O.j(C).add(c(D))):(O=O.j(k),O=O.add(c(D)))}return O}var f=l(0),h=l(1),p=l(16777216);e=s.prototype,e.m=function(){if(g(this))return-v(this).m();for(var A=0,S=1,k=0;k<this.g.length;k++){var O=this.i(k);A+=(0<=O?O:4294967296+O)*S,S*=4294967296}return A},e.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(m(this))return"0";if(g(this))return"-"+v(this).toString(A);for(var S=c(Math.pow(A,6)),k=this,O="";;){var T=E(k,S).g;k=y(k,T.j(S));var C=((0<k.g.length?k.g[0]:k.h)>>>0).toString(A);if(k=T,m(k))return C+O;for(;6>C.length;)C="0"+C;O=C+O}},e.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function m(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function g(A){return A.h==-1}e.l=function(A){return A=y(this,A),g(A)?-1:m(A)?0:1};function v(A){for(var S=A.g.length,k=[],O=0;O<S;O++)k[O]=~A.g[O];return new s(k,~A.h).add(h)}e.abs=function(){return g(this)?v(this):this},e.add=function(A){for(var S=Math.max(this.g.length,A.g.length),k=[],O=0,T=0;T<=S;T++){var C=O+(this.i(T)&65535)+(A.i(T)&65535),D=(C>>>16)+(this.i(T)>>>16)+(A.i(T)>>>16);O=D>>>16,C&=65535,D&=65535,k[T]=D<<16|C}return new s(k,k[k.length-1]&-2147483648?-1:0)};function y(A,S){return A.add(v(S))}e.j=function(A){if(m(this)||m(A))return f;if(g(this))return g(A)?v(this).j(v(A)):v(v(this).j(A));if(g(A))return v(this.j(v(A)));if(0>this.l(p)&&0>A.l(p))return c(this.m()*A.m());for(var S=this.g.length+A.g.length,k=[],O=0;O<2*S;O++)k[O]=0;for(O=0;O<this.g.length;O++)for(var T=0;T<A.g.length;T++){var C=this.i(O)>>>16,D=this.i(O)&65535,B=A.i(T)>>>16,Y=A.i(T)&65535;k[2*O+2*T]+=D*Y,x(k,2*O+2*T),k[2*O+2*T+1]+=C*Y,x(k,2*O+2*T+1),k[2*O+2*T+1]+=D*B,x(k,2*O+2*T+1),k[2*O+2*T+2]+=C*B,x(k,2*O+2*T+2)}for(O=0;O<S;O++)k[O]=k[2*O+1]<<16|k[2*O];for(O=S;O<2*S;O++)k[O]=0;return new s(k,0)};function x(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function w(A,S){this.g=A,this.h=S}function E(A,S){if(m(S))throw Error("division by zero");if(m(A))return new w(f,f);if(g(A))return S=E(v(A),S),new w(v(S.g),v(S.h));if(g(S))return S=E(A,v(S)),new w(v(S.g),S.h);if(30<A.g.length){if(g(A)||g(S))throw Error("slowDivide_ only works with positive integers.");for(var k=h,O=S;0>=O.l(A);)k=I(k),O=I(O);var T=P(k,1),C=P(O,1);for(O=P(O,2),k=P(k,2);!m(O);){var D=C.add(O);0>=D.l(A)&&(T=T.add(k),C=D),O=P(O,1),k=P(k,1)}return S=y(A,T.j(S)),new w(T,S)}for(T=f;0<=A.l(S);){for(k=Math.max(1,Math.floor(A.m()/S.m())),O=Math.ceil(Math.log(k)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),C=c(k),D=C.j(S);g(D)||0<D.l(A);)k-=O,C=c(k),D=C.j(S);m(C)&&(C=h),T=T.add(C),A=y(A,D)}return new w(T,A)}e.A=function(A){return E(this,A).h},e.and=function(A){for(var S=Math.max(this.g.length,A.g.length),k=[],O=0;O<S;O++)k[O]=this.i(O)&A.i(O);return new s(k,this.h&A.h)},e.or=function(A){for(var S=Math.max(this.g.length,A.g.length),k=[],O=0;O<S;O++)k[O]=this.i(O)|A.i(O);return new s(k,this.h|A.h)},e.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),k=[],O=0;O<S;O++)k[O]=this.i(O)^A.i(O);return new s(k,this.h^A.h)};function I(A){for(var S=A.g.length+1,k=[],O=0;O<S;O++)k[O]=A.i(O)<<1|A.i(O-1)>>>31;return new s(k,A.h)}function P(A,S){var k=S>>5;S%=32;for(var O=A.g.length-k,T=[],C=0;C<O;C++)T[C]=0<S?A.i(C+k)>>>S|A.i(C+k+1)<<32-S:A.i(C+k);return new s(T,A.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,VJ=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Zh=s}).apply(typeof L9<"u"?L9:typeof self<"u"?self:typeof window<"u"?window:{});var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zJ,ex,WJ,IS,pP,HJ,qJ,GJ;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,F,H){return _==Array.prototype||_==Object.prototype||(_[F]=H.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof A_=="object"&&A_];for(var F=0;F<_.length;++F){var H=_[F];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var n=r(this);function a(_,F){if(F)e:{var H=n;_=_.split(".");for(var se=0;se<_.length-1;se++){var Oe=_[se];if(!(Oe in H))break e;H=H[Oe]}_=_[_.length-1],se=H[_],F=F(se),F!=se&&F!=null&&t(H,_,{configurable:!0,writable:!0,value:F})}}function i(_,F){_ instanceof String&&(_+="");var H=0,se=!1,Oe={next:function(){if(!se&&H<_.length){var We=H++;return{value:F(We,_[We]),done:!1}}return se=!0,{done:!0,value:void 0}}};return Oe[Symbol.iterator]=function(){return Oe},Oe}a("Array.prototype.values",function(_){return _||function(){return i(this,function(F,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(_){var F=typeof _;return F=F!="object"?F:_?Array.isArray(_)?"array":F:"null",F=="array"||F=="object"&&typeof _.length=="number"}function c(_){var F=typeof _;return F=="object"&&_!=null||F=="function"}function u(_,F,H){return _.call.apply(_.bind,arguments)}function f(_,F,H){if(!_)throw Error();if(2<arguments.length){var se=Array.prototype.slice.call(arguments,2);return function(){var Oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Oe,se),_.apply(F,Oe)}}return function(){return _.apply(F,arguments)}}function h(_,F,H){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function p(_,F){var H=Array.prototype.slice.call(arguments,1);return function(){var se=H.slice();return se.push.apply(se,arguments),_.apply(this,se)}}function m(_,F){function H(){}H.prototype=F.prototype,_.aa=F.prototype,_.prototype=new H,_.prototype.constructor=_,_.Qb=function(se,Oe,We){for(var mt=Array(arguments.length-2),Yr=2;Yr<arguments.length;Yr++)mt[Yr-2]=arguments[Yr];return F.prototype[Oe].apply(se,mt)}}function g(_){const F=_.length;if(0<F){const H=Array(F);for(let se=0;se<F;se++)H[se]=_[se];return H}return[]}function v(_,F){for(let H=1;H<arguments.length;H++){const se=arguments[H];if(l(se)){const Oe=_.length||0,We=se.length||0;_.length=Oe+We;for(let mt=0;mt<We;mt++)_[Oe+mt]=se[mt]}else _.push(se)}}class y{constructor(F,H){this.i=F,this.j=H,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function x(_){return/^[\s\xa0]*$/.test(_)}function w(){var _=o.navigator;return _&&(_=_.userAgent)?_:""}function E(_){return E[" "](_),_}E[" "]=function(){};var I=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function P(_,F,H){for(const se in _)F.call(H,_[se],se,_)}function A(_,F){for(const H in _)F.call(void 0,_[H],H,_)}function S(_){const F={};for(const H in _)F[H]=_[H];return F}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(_,F){let H,se;for(let Oe=1;Oe<arguments.length;Oe++){se=arguments[Oe];for(H in se)_[H]=se[H];for(let We=0;We<k.length;We++)H=k[We],Object.prototype.hasOwnProperty.call(se,H)&&(_[H]=se[H])}}function T(_){var F=1;_=_.split(":");const H=[];for(;0<F&&_.length;)H.push(_.shift()),F--;return _.length&&H.push(_.join(":")),H}function C(_){o.setTimeout(()=>{throw _},0)}function D(){var _=q;let F=null;return _.g&&(F=_.g,_.g=_.g.next,_.g||(_.h=null),F.next=null),F}class B{constructor(){this.h=this.g=null}add(F,H){const se=Y.get();se.set(F,H),this.h?this.h.next=se:this.g=se,this.h=se}}var Y=new y(()=>new ee,_=>_.reset());class ee{constructor(){this.next=this.g=this.h=null}set(F,H){this.h=F,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let re,G=!1,q=new B,be=()=>{const _=o.Promise.resolve(void 0);re=()=>{_.then(_e)}};var _e=()=>{for(var _;_=D();){try{_.h.call(_.g)}catch(H){C(H)}var F=Y;F.j(_),100>F.h&&(F.h++,_.next=F.g,F.g=_)}G=!1};function R(){this.s=this.s,this.C=this.C}R.prototype.s=!1,R.prototype.ma=function(){this.s||(this.s=!0,this.N())},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(_,F){this.type=_,this.g=this.target=F,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var _=!1,F=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const H=()=>{};o.addEventListener("test",H,F),o.removeEventListener("test",H,F)}catch{}return _}();function W(_,F){if(U.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var H=this.type=_.type,se=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=F,F=_.relatedTarget){if(I){e:{try{E(F.nodeName);var Oe=!0;break e}catch{}Oe=!1}Oe||(F=null)}}else H=="mouseover"?F=_.fromElement:H=="mouseout"&&(F=_.toElement);this.relatedTarget=F,se?(this.clientX=se.clientX!==void 0?se.clientX:se.pageX,this.clientY=se.clientY!==void 0?se.clientY:se.pageY,this.screenX=se.screenX||0,this.screenY=se.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:Z[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&W.aa.h.call(this)}}m(W,U);var Z={2:"touch",3:"pen",4:"mouse"};W.prototype.h=function(){W.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),he=0;function ae(_,F,H,se,Oe){this.listener=_,this.proxy=null,this.src=F,this.type=H,this.capture=!!se,this.ha=Oe,this.key=++he,this.da=this.fa=!1}function pe(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function ke(_){this.src=_,this.g={},this.h=0}ke.prototype.add=function(_,F,H,se,Oe){var We=_.toString();_=this.g[We],_||(_=this.g[We]=[],this.h++);var mt=qe(_,F,se,Oe);return-1<mt?(F=_[mt],H||(F.fa=!1)):(F=new ae(F,this.src,We,!!se,Oe),F.fa=H,_.push(F)),F};function K(_,F){var H=F.type;if(H in _.g){var se=_.g[H],Oe=Array.prototype.indexOf.call(se,F,void 0),We;(We=0<=Oe)&&Array.prototype.splice.call(se,Oe,1),We&&(pe(F),_.g[H].length==0&&(delete _.g[H],_.h--))}}function qe(_,F,H,se){for(var Oe=0;Oe<_.length;++Oe){var We=_[Oe];if(!We.da&&We.listener==F&&We.capture==!!H&&We.ha==se)return Oe}return-1}var Ae="closure_lm_"+(1e6*Math.random()|0),ue={};function ot(_,F,H,se,Oe){if(Array.isArray(F)){for(var We=0;We<F.length;We++)ot(_,F[We],H,se,Oe);return null}return H=vt(H),_&&_[le]?_.K(F,H,c(se)?!!se.capture:!1,Oe):$e(_,F,H,!1,se,Oe)}function $e(_,F,H,se,Oe,We){if(!F)throw Error("Invalid event type");var mt=c(Oe)?!!Oe.capture:!!Oe,Yr=St(_);if(Yr||(_[Ae]=Yr=new ke(_)),H=Yr.add(F,H,se,mt,We),H.proxy)return H;if(se=pt(),H.proxy=se,se.src=_,se.listener=H,_.addEventListener)z||(Oe=mt),Oe===void 0&&(Oe=!1),_.addEventListener(F.toString(),se,Oe);else if(_.attachEvent)_.attachEvent(dt(F.toString()),se);else if(_.addListener&&_.removeListener)_.addListener(se);else throw Error("addEventListener and attachEvent are unavailable.");return H}function pt(){function _(H){return F.call(_.src,_.listener,H)}const F=rr;return _}function et(_,F,H,se,Oe){if(Array.isArray(F))for(var We=0;We<F.length;We++)et(_,F[We],H,se,Oe);else se=c(se)?!!se.capture:!!se,H=vt(H),_&&_[le]?(_=_.i,F=String(F).toString(),F in _.g&&(We=_.g[F],H=qe(We,H,se,Oe),-1<H&&(pe(We[H]),Array.prototype.splice.call(We,H,1),We.length==0&&(delete _.g[F],_.h--)))):_&&(_=St(_))&&(F=_.g[F.toString()],_=-1,F&&(_=qe(F,H,se,Oe)),(H=-1<_?F[_]:null)&&yt(H))}function yt(_){if(typeof _!="number"&&_&&!_.da){var F=_.src;if(F&&F[le])K(F.i,_);else{var H=_.type,se=_.proxy;F.removeEventListener?F.removeEventListener(H,se,_.capture):F.detachEvent?F.detachEvent(dt(H),se):F.addListener&&F.removeListener&&F.removeListener(se),(H=St(F))?(K(H,_),H.h==0&&(H.src=null,F[Ae]=null)):pe(_)}}}function dt(_){return _ in ue?ue[_]:ue[_]="on"+_}function rr(_,F){if(_.da)_=!0;else{F=new W(F,this);var H=_.listener,se=_.ha||_.src;_.fa&&yt(_),_=H.call(se,F)}return _}function St(_){return _=_[Ae],_ instanceof ke?_:null}var Kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function vt(_){return typeof _=="function"?_:(_[Kt]||(_[Kt]=function(F){return _.handleEvent(F)}),_[Kt])}function At(){R.call(this),this.i=new ke(this),this.M=this,this.F=null}m(At,R),At.prototype[le]=!0,At.prototype.removeEventListener=function(_,F,H,se){et(this,_,F,H,se)};function nr(_,F){var H,se=_.F;if(se)for(H=[];se;se=se.F)H.push(se);if(_=_.M,se=F.type||F,typeof F=="string")F=new U(F,_);else if(F instanceof U)F.target=F.target||_;else{var Oe=F;F=new U(se,_),O(F,Oe)}if(Oe=!0,H)for(var We=H.length-1;0<=We;We--){var mt=F.g=H[We];Oe=Pt(mt,se,!0,F)&&Oe}if(mt=F.g=_,Oe=Pt(mt,se,!0,F)&&Oe,Oe=Pt(mt,se,!1,F)&&Oe,H)for(We=0;We<H.length;We++)mt=F.g=H[We],Oe=Pt(mt,se,!1,F)&&Oe}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var _=this.i,F;for(F in _.g){for(var H=_.g[F],se=0;se<H.length;se++)pe(H[se]);delete _.g[F],_.h--}}this.F=null},At.prototype.K=function(_,F,H,se){return this.i.add(String(_),F,!1,H,se)},At.prototype.L=function(_,F,H,se){return this.i.add(String(_),F,!0,H,se)};function Pt(_,F,H,se){if(F=_.i.g[String(F)],!F)return!0;F=F.concat();for(var Oe=!0,We=0;We<F.length;++We){var mt=F[We];if(mt&&!mt.da&&mt.capture==H){var Yr=mt.listener,Aa=mt.ha||mt.src;mt.fa&&K(_.i,mt),Oe=Yr.call(Aa,se)!==!1&&Oe}}return Oe&&!se.defaultPrevented}function kt(_,F,H){if(typeof _=="function")H&&(_=h(_,H));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:o.setTimeout(_,F||0)}function ht(_){_.g=kt(()=>{_.g=null,_.i&&(_.i=!1,ht(_))},_.l);const F=_.h;_.h=null,_.m.apply(null,F)}class wt extends R{constructor(F,H){super(),this.m=F,this.l=H,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:ht(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(_){R.call(this),this.h=_,this.g={}}m(dr,R);var Gt=[];function Nt(_){P(_.g,function(F,H){this.g.hasOwnProperty(H)&&yt(F)},_),_.g={}}dr.prototype.N=function(){dr.aa.N.call(this),Nt(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var er=o.JSON.stringify,Or=o.JSON.parse,Ut=class{stringify(_){return o.JSON.stringify(_,void 0)}parse(_){return o.JSON.parse(_,void 0)}};function gr(){}gr.prototype.h=null;function ar(_){return _.h||(_.h=_.i())}function gn(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kr(){U.call(this,"d")}m(Kr,U);function Jt(){U.call(this,"c")}m(Jt,U);var Ar={},ko=null;function Qn(){return ko=ko||new At}Ar.La="serverreachability";function Ts(_){U.call(this,Ar.La,_)}m(Ts,U);function hi(_){const F=Qn();nr(F,new Ts(F))}Ar.STAT_EVENT="statevent";function Yt(_,F){U.call(this,Ar.STAT_EVENT,_),this.stat=F}m(Yt,U);function yn(_){const F=Qn();nr(F,new Yt(F,_))}Ar.Ma="timingevent";function pi(_,F){U.call(this,Ar.Ma,_),this.size=F}m(pi,U);function da(_,F){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){_()},F)}function Ra(){this.g=!0}Ra.prototype.xa=function(){this.g=!1};function On(_,F,H,se,Oe,We){_.info(function(){if(_.g)if(We)for(var mt="",Yr=We.split("&"),Aa=0;Aa<Yr.length;Aa++){var Mr=Yr[Aa].split("=");if(1<Mr.length){var Dr=Mr[0];Mr=Mr[1];var Wn=Dr.split("_");mt=2<=Wn.length&&Wn[1]=="type"?mt+(Dr+"="+Mr+"&"):mt+(Dr+"=redacted&")}}else mt=null;else mt=We;return"XMLHTTP REQ ("+se+") [attempt "+Oe+"]: "+F+`
`+H+`
`+mt})}function ha(_,F,H,se,Oe,We,mt){_.info(function(){return"XMLHTTP RESP ("+se+") [ attempt "+Oe+"]: "+F+`
`+H+`
`+We+" "+mt})}function J(_,F,H,se){_.info(function(){return"XMLHTTP TEXT ("+F+"): "+oe(_,H)+(se?" "+se:"")})}function me(_,F){_.info(function(){return"TIMEOUT: "+F})}Ra.prototype.info=function(){};function oe(_,F){if(!_.g)return F;if(!F)return null;try{var H=JSON.parse(F);if(H){for(_=0;_<H.length;_++)if(Array.isArray(H[_])){var se=H[_];if(!(2>se.length)){var Oe=se[1];if(Array.isArray(Oe)&&!(1>Oe.length)){var We=Oe[0];if(We!="noop"&&We!="stop"&&We!="close")for(var mt=1;mt<Oe.length;mt++)Oe[mt]=""}}}}return er(H)}catch{return F}}var de={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function De(){}m(De,gr),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},we=new De;function He(_,F,H,se){this.j=_,this.i=F,this.l=H,this.R=se||1,this.U=new dr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}var Le={},Fe={};function ce(_,F,H){_.L=1,_.v=Tf(so(F)),_.m=H,_.P=!0,Ne(_,null)}function Ne(_,F){_.F=Date.now(),Ee(_),_.A=so(_.v);var H=_.A,se=_.R;Array.isArray(se)||(se=[String(se)]),hr(H.i,"t",se),_.C=0,H=_.j.J,_.h=new Re,_.g=La(_.j,H?F:null,!_.m),0<_.O&&(_.M=new wt(h(_.Y,_,_.g),_.O)),F=_.U,H=_.g,se=_.ca;var Oe="readystatechange";Array.isArray(Oe)||(Oe&&(Gt[0]=Oe.toString()),Oe=Gt);for(var We=0;We<Oe.length;We++){var mt=ot(H,Oe[We],se||F.handleEvent,!1,F.h||F);if(!mt)break;F.g[mt.key]=mt}F=_.H?S(_.H):{},_.m?(_.u||(_.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,F)):(_.u="GET",_.g.ea(_.A,_.u,null,F)),hi(),On(_.i,_.u,_.A,_.l,_.R,_.m)}He.prototype.ca=function(_){_=_.target;const F=this.M;F&&Io(_)==3?F.j():this.Y(_)},He.prototype.Y=function(_){try{if(_==this.g)e:{const Wn=Io(this.g);var F=this.g.Ba();const il=this.g.Z();if(!(3>Wn)&&(Wn!=3||this.g&&(this.h.h||this.g.oa()||Z0(this.g)))){this.J||Wn!=4||F==7||(F==8||0>=il?hi(3):hi(2)),at(this);var H=this.g.Z();this.X=H;t:if(Ve(this)){var se=Z0(this.g);_="";var Oe=se.length,We=Io(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ut(this),_t(this);var mt="";break t}this.h.i=new o.TextDecoder}for(F=0;F<Oe;F++)this.h.h=!0,_+=this.h.i.decode(se[F],{stream:!(We&&F==Oe-1)});se.length=0,this.h.g+=_,this.C=0,mt=this.h.g}else mt=this.g.oa();if(this.o=H==200,ha(this.i,this.u,this.A,this.l,this.R,Wn,H),this.o){if(this.T&&!this.K){t:{if(this.g){var Yr,Aa=this.g;if((Yr=Aa.g?Aa.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Yr)){var Mr=Yr;break t}}Mr=null}if(H=Mr)J(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_r(this,H);else{this.o=!1,this.s=3,yn(12),ut(this),_t(this);break e}}if(this.P){H=!0;let ks;for(;!this.J&&this.C<mt.length;)if(ks=Me(this,mt),ks==Fe){Wn==4&&(this.s=4,yn(14),H=!1),J(this.i,this.l,null,"[Incomplete Response]");break}else if(ks==Le){this.s=4,yn(15),J(this.i,this.l,mt,"[Invalid Chunk]"),H=!1;break}else J(this.i,this.l,ks,null),_r(this,ks);if(Ve(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wn!=4||mt.length!=0||this.h.h||(this.s=1,yn(16),H=!1),this.o=this.o&&H,!H)J(this.i,this.l,mt,"[Invalid Chunked Response]"),ut(this),_t(this);else if(0<mt.length&&!this.W){this.W=!0;var Dr=this.j;Dr.g==this&&Dr.ba&&!Dr.M&&(Dr.j.info("Great, no buffering proxy detected. Bytes received: "+mt.length),Ot(Dr),Dr.M=!0,yn(11))}}else J(this.i,this.l,mt,null),_r(this,mt);Wn==4&&ut(this),this.o&&!this.J&&(Wn==4?vr(this.j,this):(this.o=!1,Ee(this)))}else Bc(this.g),H==400&&0<mt.indexOf("Unknown SID")?(this.s=3,yn(12)):(this.s=0,yn(13)),ut(this),_t(this)}}}catch{}finally{}};function Ve(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function Me(_,F){var H=_.C,se=F.indexOf(`
`,H);return se==-1?Fe:(H=Number(F.substring(H,se)),isNaN(H)?Le:(se+=1,se+H>F.length?Fe:(F=F.slice(se,se+H),_.C=se+H,F)))}He.prototype.cancel=function(){this.J=!0,ut(this)};function Ee(_){_.S=Date.now()+_.I,Ge(_,_.I)}function Ge(_,F){if(_.B!=null)throw Error("WatchDog timer not null");_.B=da(h(_.ba,_),F)}function at(_){_.B&&(o.clearTimeout(_.B),_.B=null)}He.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(me(this.i,this.A),this.L!=2&&(hi(),yn(17)),ut(this),this.s=2,_t(this)):Ge(this,this.S-_)};function _t(_){_.j.G==0||_.J||vr(_.j,_)}function ut(_){at(_);var F=_.M;F&&typeof F.ma=="function"&&F.ma(),_.M=null,Nt(_.U),_.g&&(F=_.g,_.g=null,F.abort(),F.ma())}function _r(_,F){try{var H=_.j;if(H.G!=0&&(H.g==_||Nr(H.h,_))){if(!_.K&&Nr(H.h,_)&&H.G==3){try{var se=H.Da.g.parse(F)}catch{se=null}if(Array.isArray(se)&&se.length==3){var Oe=se;if(Oe[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<_.F)sr(H),Hl(H);else break e;nt(H),yn(18)}}else H.za=Oe[1],0<H.za-H.T&&37500>Oe[2]&&H.F&&H.v==0&&!H.C&&(H.C=da(h(H.Za,H),6e3));if(1>=Vt(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else dn(H,11)}else if((_.K||H.g==_)&&sr(H),!x(F))for(Oe=H.Da.g.parse(F),F=0;F<Oe.length;F++){let Mr=Oe[F];if(H.T=Mr[0],Mr=Mr[1],H.G==2)if(Mr[0]=="c"){H.K=Mr[1],H.ia=Mr[2];const Dr=Mr[3];Dr!=null&&(H.la=Dr,H.j.info("VER="+H.la));const Wn=Mr[4];Wn!=null&&(H.Aa=Wn,H.j.info("SVER="+H.Aa));const il=Mr[5];il!=null&&typeof il=="number"&&0<il&&(se=1.5*il,H.L=se,H.j.info("backChannelRequestTimeoutMs_="+se)),se=H;const ks=_.g;if(ks){const ls=ks.g?ks.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ls){var We=se.h;We.g||ls.indexOf("spdy")==-1&&ls.indexOf("quic")==-1&&ls.indexOf("h2")==-1||(We.j=We.l,We.g=new Set,We.h&&(_a(We,We.h),We.h=null))}if(se.D){const $c=ks.g?ks.g.getResponseHeader("X-HTTP-Session-Id"):null;$c&&(se.ya=$c,Vr(se.I,se.D,$c))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-_.F,H.j.info("Handshake RTT: "+H.R+"ms")),se=H;var mt=_;if(se.qa=bn(se,se.J?se.ia:null,se.W),mt.K){xn(se.h,mt);var Yr=mt,Aa=se.L;Aa&&(Yr.I=Aa),Yr.B&&(at(Yr),Ee(Yr)),se.g=mt}else Xe(se);0<H.i.length&&L(H)}else Mr[0]!="stop"&&Mr[0]!="close"||dn(H,7);else H.G==3&&(Mr[0]=="stop"||Mr[0]=="close"?Mr[0]=="stop"?dn(H,7):th(H):Mr[0]!="noop"&&H.l&&H.l.ta(Mr),H.v=0)}}hi(4)}catch{}}var xr=class{constructor(_,F){this.g=_,this.map=F}};function lr(_){this.l=_||10,o.PerformanceNavigationTiming?(_=o.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ir(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function Vt(_){return _.h?1:_.g?_.g.size:0}function Nr(_,F){return _.h?_.h==F:_.g?_.g.has(F):!1}function _a(_,F){_.g?_.g.add(F):_.h=F}function xn(_,F){_.h&&_.h==F?_.h=null:_.g&&_.g.has(F)&&_.g.delete(F)}lr.prototype.cancel=function(){if(this.i=Rc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Rc(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let F=_.i;for(const H of _.g.values())F=F.concat(H.D);return F}return g(_.i)}function Lc(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var F=[],H=_.length,se=0;se<H;se++)F.push(_[se]);return F}F=[],H=0;for(se in _)F[H++]=_[se];return F}function io(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var F=[];_=_.length;for(var H=0;H<_;H++)F.push(H);return F}F=[],H=0;for(const se in _)F[H++]=se;return F}}}function Su(_,F){if(_.forEach&&typeof _.forEach=="function")_.forEach(F,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,F,void 0);else for(var H=io(_),se=Lc(_),Oe=se.length,We=0;We<Oe;We++)F.call(void 0,se[We],H&&H[We],_)}var No=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Af(_,F){if(_){_=_.split("&");for(var H=0;H<_.length;H++){var se=_[H].indexOf("="),Oe=null;if(0<=se){var We=_[H].substring(0,se);Oe=_[H].substring(se+1)}else We=_[H];F(We,Oe?decodeURIComponent(Oe.replace(/\+/g," ")):"")}}}function wn(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof wn){this.h=_.h,Yd(this,_.j),this.o=_.o,this.g=_.g,Xd(this,_.s),this.l=_.l;var F=_.i,H=new Po;H.i=F.i,F.g&&(H.g=new Map(F.g),H.h=F.h),rg(this,H),this.m=_.m}else _&&(F=String(_).match(No))?(this.h=!1,Yd(this,F[1]||"",!0),this.o=Eu(F[2]||""),this.g=Eu(F[3]||"",!0),Xd(this,F[4]),this.l=Eu(F[5]||"",!0),rg(this,F[6]||"",!0),this.m=Eu(F[7]||"")):(this.h=!1,this.i=new Po(null,this.h))}wn.prototype.toString=function(){var _=[],F=this.j;F&&_.push(Co(F,ng,!0),":");var H=this.g;return(H||F=="file")&&(_.push("//"),(F=this.o)&&_.push(Co(F,ng,!0),"@"),_.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&_.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&_.push("/"),_.push(Co(H,H.charAt(0)=="/"?ty:ey,!0))),(H=this.i.toString())&&_.push("?",H),(H=this.m)&&_.push("#",Co(H,kf)),_.join("")};function so(_){return new wn(_)}function Yd(_,F,H){_.j=H?Eu(F,!0):F,_.j&&(_.j=_.j.replace(/:$/,""))}function Xd(_,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);_.s=F}else _.s=null}function rg(_,F,H){F instanceof Po?(_.i=F,ry(_.i,_.h)):(H||(F=Co(F,X0)),_.i=new Po(F,_.h))}function Vr(_,F,H){_.i.set(F,H)}function Tf(_){return Vr(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Eu(_,F){return _?F?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function Co(_,F,H){return typeof _=="string"?(_=encodeURI(_).replace(F,Y0),H&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Y0(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var ng=/[#\/\?@]/g,ey=/[#\?:]/g,ty=/[#\?]/g,X0=/[#\?@]/g,kf=/#/g;function Po(_,F){this.h=this.g=null,this.i=_||null,this.j=!!F}function zl(_){_.g||(_.g=new Map,_.h=0,_.i&&Af(_.i,function(F,H){_.add(decodeURIComponent(F.replace(/\+/g," ")),H)}))}e=Po.prototype,e.add=function(_,F){zl(this),this.i=null,_=Tu(this,_);var H=this.g.get(_);return H||this.g.set(_,H=[]),H.push(F),this.h+=1,this};function Au(_,F){zl(_),F=Tu(_,F),_.g.has(F)&&(_.i=null,_.h-=_.g.get(F).length,_.g.delete(F))}function Qd(_,F){return zl(_),F=Tu(_,F),_.g.has(F)}e.forEach=function(_,F){zl(this),this.g.forEach(function(H,se){H.forEach(function(Oe){_.call(F,Oe,se,this)},this)},this)},e.na=function(){zl(this);const _=Array.from(this.g.values()),F=Array.from(this.g.keys()),H=[];for(let se=0;se<F.length;se++){const Oe=_[se];for(let We=0;We<Oe.length;We++)H.push(F[se])}return H},e.V=function(_){zl(this);let F=[];if(typeof _=="string")Qd(this,_)&&(F=F.concat(this.g.get(Tu(this,_))));else{_=Array.from(this.g.values());for(let H=0;H<_.length;H++)F=F.concat(_[H])}return F},e.set=function(_,F){return zl(this),this.i=null,_=Tu(this,_),Qd(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[F]),this.h+=1,this},e.get=function(_,F){return _?(_=this.V(_),0<_.length?String(_[0]):F):F};function hr(_,F,H){Au(_,F),0<H.length&&(_.i=null,_.g.set(Tu(_,F),g(H)),_.h+=H.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],F=Array.from(this.g.keys());for(var H=0;H<F.length;H++){var se=F[H];const We=encodeURIComponent(String(se)),mt=this.V(se);for(se=0;se<mt.length;se++){var Oe=We;mt[se]!==""&&(Oe+="="+encodeURIComponent(String(mt[se]))),_.push(Oe)}}return this.i=_.join("&")};function Tu(_,F){return F=String(F),_.j&&(F=F.toLowerCase()),F}function ry(_,F){F&&!_.j&&(zl(_),_.i=null,_.g.forEach(function(H,se){var Oe=se.toLowerCase();se!=Oe&&(Au(this,se),hr(this,Oe,H))},_)),_.j=F}function ny(_,F){const H=new Ra;if(o.Image){const se=new Image;se.onload=p(qi,H,"TestLoadImage: loaded",!0,F,se),se.onerror=p(qi,H,"TestLoadImage: error",!1,F,se),se.onabort=p(qi,H,"TestLoadImage: abort",!1,F,se),se.ontimeout=p(qi,H,"TestLoadImage: timeout",!1,F,se),o.setTimeout(function(){se.ontimeout&&se.ontimeout()},1e4),se.src=_}else F(!1)}function ay(_,F){const H=new Ra,se=new AbortController,Oe=setTimeout(()=>{se.abort(),qi(H,"TestPingServer: timeout",!1,F)},1e4);fetch(_,{signal:se.signal}).then(We=>{clearTimeout(Oe),We.ok?qi(H,"TestPingServer: ok",!0,F):qi(H,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(Oe),qi(H,"TestPingServer: error",!1,F)})}function qi(_,F,H,se,Oe){try{Oe&&(Oe.onload=null,Oe.onerror=null,Oe.onabort=null,Oe.ontimeout=null),se(H)}catch{}}function Mc(){this.g=new Ut}function iy(_,F,H){const se=H||"";try{Su(_,function(Oe,We){let mt=Oe;c(Oe)&&(mt=er(Oe)),F.push(se+We+"="+encodeURIComponent(mt))})}catch(Oe){throw F.push(se+"type="+encodeURIComponent("_badmap")),Oe}}function Jd(_){this.l=_.Ub||null,this.j=_.eb||!1}m(Jd,gr),Jd.prototype.g=function(){return new Fc(this.l,this.j)},Jd.prototype.i=function(_){return function(){return _}}({});function Fc(_,F){At.call(this),this.D=_,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(Fc,At),e=Fc.prototype,e.open=function(_,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=F,this.readyState=1,Wl(this)},e.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(F.body=_),(this.D||o).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,nl(this)),this.readyState=0},e.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Wl(this)),this.g&&(this.readyState=3,Wl(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zd(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zd(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}e.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var F=_.value?_.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!_.done}))&&(this.response=this.responseText+=F)}_.done?nl(this):Wl(this),this.readyState==3&&Zd(this)}},e.Ra=function(_){this.g&&(this.response=this.responseText=_,nl(this))},e.Qa=function(_){this.g&&(this.response=_,nl(this))},e.ga=function(){this.g&&nl(this)};function nl(_){_.readyState=4,_.l=null,_.j=null,_.v=null,Wl(_)}e.setRequestHeader=function(_,F){this.u.append(_,F)},e.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],F=this.h.entries();for(var H=F.next();!H.done;)H=H.value,_.push(H[0]+": "+H[1]),H=F.next();return _.join(`\r
`)};function Wl(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(Fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Nf(_){let F="";return P(_,function(H,se){F+=se,F+=":",F+=H,F+=`\r
`}),F}function Q0(_,F,H){e:{for(se in H){var se=!1;break e}se=!0}se||(H=Nf(H),typeof _=="string"?H!=null&&encodeURIComponent(String(H)):Vr(_,F,H))}function Dn(_){At.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m(Dn,At);var J0=/^https?$/i,Cf=["POST","PUT"];e=Dn.prototype,e.Ha=function(_){this.J=_},e.ea=function(_,F,H,se){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);F=F?F.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?ar(this.o):ar(we),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(F,String(_),!0),this.B=!1}catch(We){ku(this,We);return}if(_=H||"",H=new Map(this.headers),se)if(Object.getPrototypeOf(se)===Object.prototype)for(var Oe in se)H.set(Oe,se[Oe]);else if(typeof se.keys=="function"&&typeof se.get=="function")for(const We of se.keys())H.set(We,se.get(We));else throw Error("Unknown input type for opt_headers: "+String(se));se=Array.from(H.keys()).find(We=>We.toLowerCase()=="content-type"),Oe=o.FormData&&_ instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Cf,F,void 0))||se||Oe||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[We,mt]of H)this.g.setRequestHeader(We,mt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cu(this),this.u=!0,this.g.send(_),this.u=!1}catch(We){ku(this,We)}};function ku(_,F){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=F,_.m=5,eh(_),Nu(_)}function eh(_){_.A||(_.A=!0,nr(_,"complete"),nr(_,"error"))}e.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,nr(this,"complete"),nr(this,"abort"),Nu(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nu(this,!0)),Dn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Pf(this):this.bb())},e.bb=function(){Pf(this)};function Pf(_){if(_.h&&typeof s<"u"&&(!_.v[1]||Io(_)!=4||_.Z()!=2)){if(_.u&&Io(_)==4)kt(_.Ea,0,_);else if(nr(_,"readystatechange"),Io(_)==4){_.h=!1;try{const mt=_.Z();e:switch(mt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var H;if(!(H=F)){var se;if(se=mt===0){var Oe=String(_.D).match(No)[1]||null;!Oe&&o.self&&o.self.location&&(Oe=o.self.location.protocol.slice(0,-1)),se=!J0.test(Oe?Oe.toLowerCase():"")}H=se}if(H)nr(_,"complete"),nr(_,"success");else{_.m=6;try{var We=2<Io(_)?_.g.statusText:""}catch{We=""}_.l=We+" ["+_.Z()+"]",eh(_)}}finally{Nu(_)}}}}function Nu(_,F){if(_.g){Cu(_);const H=_.g,se=_.v[0]?()=>{}:null;_.g=null,_.v=null,F||nr(_,"ready");try{H.onreadystatechange=se}catch{}}}function Cu(_){_.I&&(o.clearTimeout(_.I),_.I=null)}e.isActive=function(){return!!this.g};function Io(_){return _.g?_.g.readyState:0}e.Z=function(){try{return 2<Io(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(_){if(this.g){var F=this.g.responseText;return _&&F.indexOf(_)==0&&(F=F.substring(_.length)),Or(F)}};function Z0(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function Bc(_){const F={};_=(_.g&&2<=Io(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let se=0;se<_.length;se++){if(x(_[se]))continue;var H=T(_[se]);const Oe=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const We=F[Oe]||[];F[Oe]=We,We.push(H)}A(F,function(se){return se.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function oo(_,F,H){return H&&H.internalChannelParams&&H.internalChannelParams[_]||F}function ep(_){this.Aa=0,this.i=[],this.j=new Ra,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oo("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oo("baseRetryDelayMs",5e3,_),this.cb=oo("retryDelaySeedMs",1e4,_),this.Wa=oo("forwardChannelMaxRetries",2,_),this.wa=oo("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new lr(_&&_.concurrentRequestLimit),this.Da=new Mc,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ep.prototype,e.la=8,e.G=1,e.connect=function(_,F,H,se){yn(0),this.W=_,this.H=F||{},H&&se!==void 0&&(this.H.OSID=H,this.H.OAID=se),this.F=this.X,this.I=bn(this,null,this.W),L(this)};function th(_){if(tp(_),_.G==3){var F=_.U++,H=so(_.I);if(Vr(H,"SID",_.K),Vr(H,"RID",F),Vr(H,"TYPE","terminate"),Se(_,H),F=new He(_,_.j,F),F.L=2,F.v=Tf(so(H)),H=!1,o.navigator&&o.navigator.sendBeacon)try{H=o.navigator.sendBeacon(F.v.toString(),"")}catch{}!H&&o.Image&&(new Image().src=F.v,H=!0),H||(F.g=La(F.j,null),F.g.ea(F.v)),F.F=Date.now(),Ee(F)}Sa(_)}function Hl(_){_.g&&(Ot(_),_.g.cancel(),_.g=null)}function tp(_){Hl(_),_.u&&(o.clearTimeout(_.u),_.u=null),sr(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&o.clearTimeout(_.s),_.s=null)}function L(_){if(!ir(_.h)&&!_.s){_.s=!0;var F=_.Ga;re||be(),G||(re(),G=!0),q.add(F,_),_.B=0}}function X(_,F){return Vt(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=F.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=da(h(_.Ga,_,F),Jr(_,_.B)),_.B++,!0)}e.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const Oe=new He(this,this.j,_);let We=this.o;if(this.S&&(We?(We=S(We),O(We,this.S)):We=this.S),this.m!==null||this.O||(Oe.H=We,We=null),this.P)e:{for(var F=0,H=0;H<this.i.length;H++){t:{var se=this.i[H];if("__data__"in se.map&&(se=se.map.__data__,typeof se=="string")){se=se.length;break t}se=void 0}if(se===void 0)break;if(F+=se,4096<F){F=H;break e}if(F===4096||H===this.i.length-1){F=H+1;break e}}F=1e3}else F=1e3;F=Ie(this,Oe,F),H=so(this.I),Vr(H,"RID",_),Vr(H,"CVER",22),this.D&&Vr(H,"X-HTTP-Session-Id",this.D),Se(this,H),We&&(this.O?F="headers="+encodeURIComponent(String(Nf(We)))+"&"+F:this.m&&Q0(H,this.m,We)),_a(this.h,Oe),this.Ua&&Vr(H,"TYPE","init"),this.P?(Vr(H,"$req",F),Vr(H,"SID","null"),Oe.T=!0,ce(Oe,H,null)):ce(Oe,H,F),this.G=2}}else this.G==3&&(_?ve(this,_):this.i.length==0||ir(this.h)||ve(this))};function ve(_,F){var H;F?H=F.l:H=_.U++;const se=so(_.I);Vr(se,"SID",_.K),Vr(se,"RID",H),Vr(se,"AID",_.T),Se(_,se),_.m&&_.o&&Q0(se,_.m,_.o),H=new He(_,_.j,H,_.B+1),_.m===null&&(H.H=_.o),F&&(_.i=F.D.concat(_.i)),F=Ie(_,H,1e3),H.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),_a(_.h,H),ce(H,se,F)}function Se(_,F){_.H&&P(_.H,function(H,se){Vr(F,se,H)}),_.l&&Su({},function(H,se){Vr(F,se,H)})}function Ie(_,F,H){H=Math.min(_.i.length,H);var se=_.l?h(_.l.Na,_.l,_):null;e:{var Oe=_.i;let We=-1;for(;;){const mt=["count="+H];We==-1?0<H?(We=Oe[0].g,mt.push("ofs="+We)):We=0:mt.push("ofs="+We);let Yr=!0;for(let Aa=0;Aa<H;Aa++){let Mr=Oe[Aa].g;const Dr=Oe[Aa].map;if(Mr-=We,0>Mr)We=Math.max(0,Oe[Aa].g-100),Yr=!1;else try{iy(Dr,mt,"req"+Mr+"_")}catch{se&&se(Dr)}}if(Yr){se=mt.join("&");break e}}}return _=_.i.splice(0,H),F.D=_,se}function Xe(_){if(!_.g&&!_.u){_.Y=1;var F=_.Fa;re||be(),G||(re(),G=!0),q.add(F,_),_.v=0}}function nt(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=da(h(_.Fa,_),Jr(_,_.v)),_.v++,!0)}e.Fa=function(){if(this.u=null,zt(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=da(h(this.ab,this),_)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,yn(10),Hl(this),zt(this))};function Ot(_){_.A!=null&&(o.clearTimeout(_.A),_.A=null)}function zt(_){_.g=new He(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var F=so(_.qa);Vr(F,"RID","rpc"),Vr(F,"SID",_.K),Vr(F,"AID",_.T),Vr(F,"CI",_.F?"0":"1"),!_.F&&_.ja&&Vr(F,"TO",_.ja),Vr(F,"TYPE","xmlhttp"),Se(_,F),_.m&&_.o&&Q0(F,_.m,_.o),_.L&&(_.g.I=_.L);var H=_.g;_=_.ia,H.L=1,H.v=Tf(so(F)),H.m=null,H.P=!0,Ne(H,_)}e.Za=function(){this.C!=null&&(this.C=null,Hl(this),nt(this),yn(19))};function sr(_){_.C!=null&&(o.clearTimeout(_.C),_.C=null)}function vr(_,F){var H=null;if(_.g==F){sr(_),Ot(_),_.g=null;var se=2}else if(Nr(_.h,F))H=F.D,xn(_.h,F),se=1;else return;if(_.G!=0){if(F.o)if(se==1){H=F.m?F.m.length:0,F=Date.now()-F.F;var Oe=_.B;se=Qn(),nr(se,new pi(se,H)),L(_)}else Xe(_);else if(Oe=F.s,Oe==3||Oe==0&&0<F.X||!(se==1&&X(_,F)||se==2&&nt(_)))switch(H&&0<H.length&&(F=_.h,F.i=F.i.concat(H)),Oe){case 1:dn(_,5);break;case 4:dn(_,10);break;case 3:dn(_,6);break;default:dn(_,2)}}}function Jr(_,F){let H=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(H*=2),H*F}function dn(_,F){if(_.j.info("Error code "+F),F==2){var H=h(_.fb,_),se=_.Xa;const Oe=!se;se=new wn(se||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Yd(se,"https"),Tf(se),Oe?ny(se.toString(),H):ay(se.toString(),H)}else yn(2);_.G=0,_.l&&_.l.sa(F),Sa(_),tp(_)}e.fb=function(_){_?(this.j.info("Successfully pinged google.com"),yn(2)):(this.j.info("Failed to ping google.com"),yn(1))};function Sa(_){if(_.G=0,_.ka=[],_.l){const F=Rc(_.h);(F.length!=0||_.i.length!=0)&&(v(_.ka,F),v(_.ka,_.i),_.h.i.length=0,g(_.i),_.i.length=0),_.l.ra()}}function bn(_,F,H){var se=H instanceof wn?so(H):new wn(H);if(se.g!="")F&&(se.g=F+"."+se.g),Xd(se,se.s);else{var Oe=o.location;se=Oe.protocol,F=F?F+"."+Oe.hostname:Oe.hostname,Oe=+Oe.port;var We=new wn(null);se&&Yd(We,se),F&&(We.g=F),Oe&&Xd(We,Oe),H&&(We.l=H),se=We}return H=_.D,F=_.ya,H&&F&&Vr(se,H,F),Vr(se,"VER",_.la),Se(_,se),se}function La(_,F,H){if(F&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=_.Ca&&!_.pa?new Dn(new Jd({eb:H})):new Dn(_.pa),F.Ha(_.J),F}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ea(){}e=Ea.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ma(){}Ma.prototype.g=function(_,F){return new zn(_,F)};function zn(_,F){At.call(this),this.g=new ep(F),this.l=_,this.h=F&&F.messageUrlParams||null,_=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(_?_["X-WebChannel-Content-Type"]=F.messageContentType:_={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(_?_["X-WebChannel-Client-Profile"]=F.va:_={"X-WebChannel-Client-Profile":F.va}),this.g.S=_,(_=F&&F.Sb)&&!x(_)&&(this.g.m=_),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!x(F)&&(this.g.D=F,_=this.h,_!==null&&F in _&&(_=this.h,F in _&&delete _[F])),this.j=new al(this)}m(zn,At),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){th(this.g)},zn.prototype.o=function(_){var F=this.g;if(typeof _=="string"){var H={};H.__data__=_,_=H}else this.u&&(H={},H.__data__=er(_),_=H);F.i.push(new xr(F.Ya++,_)),F.G==3&&L(F)},zn.prototype.N=function(){this.g.l=null,delete this.j,th(this.g),delete this.g,zn.aa.N.call(this)};function os(_){Kr.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var F=_.__sm__;if(F){e:{for(const H in F){_=H;break e}_=void 0}(this.i=_)&&(_=this.i,F=F!==null&&_ in F?F[_]:void 0),this.data=F}else this.data=_}m(os,Kr);function rp(){Jt.call(this),this.status=1}m(rp,Jt);function al(_){this.g=_}m(al,Ea),al.prototype.ua=function(){nr(this.g,"a")},al.prototype.ta=function(_){nr(this.g,new os(_))},al.prototype.sa=function(_){nr(this.g,new rp)},al.prototype.ra=function(){nr(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,GJ=function(){return new Ma},qJ=function(){return Qn()},HJ=Ar,pP={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},de.NO_ERROR=0,de.TIMEOUT=8,de.HTTP_ERROR=6,IS=de,ge.COMPLETE="complete",WJ=ge,gn.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",At.prototype.listen=At.prototype.K,ex=gn,Dn.prototype.listenOnce=Dn.prototype.L,Dn.prototype.getLastError=Dn.prototype.Ka,Dn.prototype.getLastErrorCode=Dn.prototype.Ba,Dn.prototype.getStatus=Dn.prototype.Z,Dn.prototype.getResponseJson=Dn.prototype.Oa,Dn.prototype.getResponseText=Dn.prototype.oa,Dn.prototype.send=Dn.prototype.ea,Dn.prototype.setWithCredentials=Dn.prototype.Ha,zJ=Dn}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});const M9="@firebase/firestore",F9="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$s.UNAUTHENTICATED=new $s(null),$s.GOOGLE_CREDENTIALS=new $s("google-credentials-uid"),$s.FIRST_PARTY=new $s("first-party-uid"),$s.MOCK_USER=new $s("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m1="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new GA("@firebase/firestore");function wg(){return hm.logLevel}function It(e,...t){if(hm.logLevel<=zr.DEBUG){const r=t.map(AD);hm.debug(`Firestore (${m1}): ${e}`,...r)}}function Sd(e,...t){if(hm.logLevel<=zr.ERROR){const r=t.map(AD);hm.error(`Firestore (${m1}): ${e}`,...r)}}function pm(e,...t){if(hm.logLevel<=zr.WARN){const r=t.map(AD);hm.warn(`Firestore (${m1}): ${e}`,...r)}}function AD(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,KJ(e,n,r)}function KJ(e,t,r){let n=`FIRESTORE (${m1}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Sd(n),new Error(n)}function mn(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||KJ(t,a,n)}function Er(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tt extends Pc{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class XJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r($s.UNAUTHENTICATED))}shutdown(){}}class Gke{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class Kke{constructor(t){this.t=t,this.currentUser=$s.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){mn(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new ud;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ud,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ud)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(mn(typeof n.accessToken=="string",31837,{l:n}),new YJ(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return mn(t===null||typeof t=="string",2055,{h:t}),new $s(t)}}class Yke{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=$s.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Xke{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new Yke(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r($s.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class B9{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qke{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,El(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){mn(this.o===void 0,3512);const n=i=>{i.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,It("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new B9(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(mn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new B9(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jke(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=Jke(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function Wr(e,t){return e<t?-1:e>t?1:0}function mP(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const a=e.charAt(n),i=t.charAt(n);if(a!==i)return c4(a)===c4(i)?Wr(a,i):c4(a)?1:-1}return Wr(e.length,t.length)}const Zke=55296,eNe=57343;function c4(e){const t=e.charCodeAt(0);return t>=Zke&&t<=eNe}function Rv(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $9="__name__";class Uu{constructor(t,r,n){r===void 0?r=0:r>t.length&&fr(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&fr(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Uu.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Uu?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=Uu.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return Wr(t.length,r.length)}static compareSegments(t,r){const n=Uu.isNumericId(t),a=Uu.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Uu.extractNumericId(t).compare(Uu.extractNumericId(r)):mP(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zh.fromString(t.substring(4,t.length-2))}}class Yn extends Uu{construct(t,r,n){return new Yn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Tt(Ze.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Yn(r)}static emptyPath(){return new Yn([])}}const tNe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends Uu{construct(t,r,n){return new Zi(t,r,n)}static isValidIdentifier(t){return tNe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$9}static keyField(){return new Zi([$9])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Tt(Ze.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Tt(Ze.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Tt(Ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Tt(Ze.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zi(r)}static emptyPath(){return new Zi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(t){this.path=t}static fromPath(t){return new Zt(Yn.fromString(t))}static fromName(t){return new Zt(Yn.fromString(t).popFirst(5))}static empty(){return new Zt(Yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Yn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Yn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Zt(new Yn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QJ(e,t,r){if(!r)throw new Tt(Ze.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function JJ(e,t,r,n){if(t===!0&&n===!0)throw new Tt(Ze.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function U9(e){if(!Zt.isDocumentKey(e))throw new Tt(Ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function V9(e){if(Zt.isDocumentKey(e))throw new Tt(Ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ZJ(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function ZA(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":fr(12329,{type:typeof e})}function Ys(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tt(Ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=ZA(e);throw new Tt(Ze.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function rNe(e,t){if(t<=0)throw new Tt(Ze.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(e,t){const r={typeString:e};return t&&(r.value=t),r}function $w(e,t){if(!ZJ(e))throw new Tt(Ze.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const a=t[n].typeString,i="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(a&&typeof s!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(i!==void 0&&s!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new Tt(Ze.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=-62135596800,W9=1e6;class Un{static now(){return Un.fromMillis(Date.now())}static fromDate(t){return Un.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*W9);return new Un(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Tt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Tt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<z9)throw new Tt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Tt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W9}_compareTo(t){return this.seconds===t.seconds?Wr(this.nanoseconds,t.nanoseconds):Wr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Un._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($w(t,Un._jsonSchema))return new Un(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-z9;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Un._jsonSchemaVersion="firestore/timestamp/1.0",Un._jsonSchema={type:Ai("string",Un._jsonSchemaVersion),seconds:Ai("number"),nanoseconds:Ai("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{static fromTimestamp(t){return new wr(t)}static min(){return new wr(new Un(0,0))}static max(){return new wr(new Un(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=-1;function nNe(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=wr.fromTimestamp(n===1e9?new Un(r+1,0):new Un(r,n));return new p0(a,Zt.empty(),t)}function aNe(e){return new p0(e.readTime,e.key,P2)}class p0{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new p0(wr.min(),Zt.empty(),P2)}static max(){return new p0(wr.max(),Zt.empty(),P2)}}function iNe(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=Zt.comparator(e.documentKey,t.documentKey),r!==0?r:Wr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sNe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oNe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(e){if(e.code!==Ze.FAILED_PRECONDITION||e.message!==sNe)throw e;It("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&fr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new tt((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof tt?r:tt.resolve(r)}catch(r){return tt.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):tt.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):tt.reject(r)}static resolve(t){return new tt((r,n)=>{r(t)})}static reject(t){return new tt((r,n)=>{n(t)})}static waitFor(t){return new tt((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=tt.resolve(!1);for(const n of t)r=r.next(a=>a?tt.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new tt((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new tt((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function lNe(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function v1(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}eT.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=-1;function tT(e){return e==null}function HE(e){return e===0&&1/e==-1/0}function cNe(e){return typeof e=="number"&&Number.isInteger(e)&&!HE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ="";function uNe(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=H9(t)),t=fNe(e.get(r),t);return H9(t)}function fNe(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case eZ:r+="";break;default:r+=i}}return r}function H9(e){return e+eZ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function M0(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function tZ(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(t,r){this.comparator=t,this.root=r||gs.EMPTY}insert(t,r){return new Da(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,gs.BLACK,null,null))}remove(t){return new Da(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gs.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new T_(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new T_(this.root,t,this.comparator,!1)}getReverseIterator(){return new T_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new T_(this.root,t,this.comparator,!0)}}class T_{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gs{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??gs.RED,this.left=a??gs.EMPTY,this.right=i??gs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new gs(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return gs.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw fr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw fr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw fr(27949);return t+(this.isRed()?0:1)}}gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1;gs.EMPTY=new class{constructor(){this.size=0}get key(){throw fr(57766)}get value(){throw fr(16141)}get color(){throw fr(16727)}get left(){throw fr(29726)}get right(){throw fr(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new gs(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t){this.comparator=t,this.data=new Da(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new G9(this.data.getIterator())}getIteratorFrom(t){return new G9(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Fi)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Fi(this.comparator);return r.data=t,r}}class G9{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(t){this.fields=t,t.sort(Zi.comparator)}static empty(){return new Nl([])}unionWith(t){let r=new Fi(Zi.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Nl(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return Rv(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rZ("Invalid base64 string: "+i):i}}(t);return new ns(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new ns(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ns.EMPTY_BYTE_STRING=new ns("");const dNe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function m0(e){if(mn(!!e,39018),typeof e=="string"){let t=0;const r=dNe.exec(e);if(mn(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ii(e.seconds),nanos:ii(e.nanos)}}function ii(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function g0(e){return typeof e=="string"?ns.fromBase64String(e):ns.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ="server_timestamp",aZ="__type__",iZ="__previous_value__",sZ="__local_write_time__";function kD(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[aZ])==null?void 0:n.stringValue)===nZ}function rT(e){const t=e.mapValue.fields[iZ];return kD(t)?rT(t):t}function I2(e){const t=m0(e.mapValue.fields[sZ].timestampValue);return new Un(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hNe{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const qE="(default)";class Lv{constructor(t,r){this.projectId=t,this.database=r||qE}static empty(){return new Lv("","")}get isDefaultDatabase(){return this.database===qE}isEqual(t){return t instanceof Lv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oZ="__type__",pNe="__max__",k_={mapValue:{}},lZ="__vector__",GE="value";function v0(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kD(e)?4:gNe(e)?9007199254740991:mNe(e)?10:11:fr(28295,{value:e})}function uf(e,t){if(e===t)return!0;const r=v0(e);if(r!==v0(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return I2(e).isEqual(I2(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=m0(a.timestampValue),o=m0(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return g0(a.bytesValue).isEqual(g0(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return ii(a.geoPointValue.latitude)===ii(i.geoPointValue.latitude)&&ii(a.geoPointValue.longitude)===ii(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return ii(a.integerValue)===ii(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=ii(a.doubleValue),o=ii(i.doubleValue);return s===o?HE(s)===HE(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return Rv(e.arrayValue.values||[],t.arrayValue.values||[],uf);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(q9(s)!==q9(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!uf(s[l],o[l])))return!1;return!0}(e,t);default:return fr(52216,{left:e})}}function O2(e,t){return(e.values||[]).find(r=>uf(r,t))!==void 0}function Mv(e,t){if(e===t)return 0;const r=v0(e),n=v0(t);if(r!==n)return Wr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Wr(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=ii(i.integerValue||i.doubleValue),l=ii(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return K9(e.timestampValue,t.timestampValue);case 4:return K9(I2(e),I2(t));case 5:return mP(e.stringValue,t.stringValue);case 6:return function(i,s){const o=g0(i),l=g0(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Wr(o[c],l[c]);if(u!==0)return u}return Wr(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Wr(ii(i.latitude),ii(s.latitude));return o!==0?o:Wr(ii(i.longitude),ii(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Y9(e.arrayValue,t.arrayValue);case 10:return function(i,s){var h,p,m,g;const o=i.fields||{},l=s.fields||{},c=(h=o[GE])==null?void 0:h.arrayValue,u=(p=l[GE])==null?void 0:p.arrayValue,f=Wr(((m=c==null?void 0:c.values)==null?void 0:m.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:Y9(c,u)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===k_.mapValue&&s===k_.mapValue)return 0;if(i===k_.mapValue)return 1;if(s===k_.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=mP(l[f],u[f]);if(h!==0)return h;const p=Mv(o[l[f]],c[u[f]]);if(p!==0)return p}return Wr(l.length,u.length)}(e.mapValue,t.mapValue);default:throw fr(23264,{he:r})}}function K9(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Wr(e,t);const r=m0(e),n=m0(t),a=Wr(r.seconds,n.seconds);return a!==0?a:Wr(r.nanos,n.nanos)}function Y9(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=Mv(r[a],n[a]);if(i)return i}return Wr(r.length,n.length)}function Fv(e){return gP(e)}function gP(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=m0(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return g0(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return Zt.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=gP(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${gP(r.fields[s])}`;return a+"}"}(e.mapValue):fr(61005,{value:e})}function OS(e){switch(v0(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rT(e);return t?16+OS(t):16;case 5:return 2*e.stringValue.length;case 6:return g0(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+OS(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return M0(n.fields,(i,s)=>{a+=i.length+OS(s)}),a}(e.mapValue);default:throw fr(13486,{value:e})}}function X9(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function vP(e){return!!e&&"integerValue"in e}function ND(e){return!!e&&"arrayValue"in e}function Q9(e){return!!e&&"nullValue"in e}function J9(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function DS(e){return!!e&&"mapValue"in e}function mNe(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[oZ])==null?void 0:n.stringValue)===lZ}function Nx(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return M0(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Nx(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Nx(e.arrayValue.values[r]);return t}return{...e}}function gNe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===pNe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this.value=t}static empty(){return new Fo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!DS(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nx(r)}setAll(t){let r=Zi.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=Nx(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());DS(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return uf(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];DS(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){M0(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new Fo(Nx(this.value))}}function cZ(e){const t=[];return M0(e.fields,(r,n)=>{const a=new Zi([r]);if(DS(n)){const i=cZ(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new Nl(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Ws(t,0,wr.min(),wr.min(),wr.min(),Fo.empty(),0)}static newFoundDocument(t,r,n,a){return new Ws(t,1,r,wr.min(),n,a,0)}static newNoDocument(t,r){return new Ws(t,2,r,wr.min(),wr.min(),Fo.empty(),0)}static newUnknownDocument(t,r){return new Ws(t,3,r,wr.min(),wr.min(),Fo.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(wr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ws&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ws(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(t,r){this.position=t,this.inclusive=r}}function Z9(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=Zt.comparator(Zt.fromName(s.referenceValue),r.key):n=Mv(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function eB(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!uf(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(t,r="asc"){this.field=t,this.dir=r}}function vNe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uZ{}class Si extends uZ{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new xNe(t,r,n):r==="array-contains"?new _Ne(t,n):r==="in"?new SNe(t,n):r==="not-in"?new ENe(t,n):r==="array-contains-any"?new ANe(t,n):new Si(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new wNe(t,n):new bNe(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Mv(r,this.value)):r!==null&&v0(this.value)===v0(r)&&this.matchesComparison(Mv(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return fr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mu extends uZ{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new mu(t,r)}matches(t){return fZ(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fZ(e){return e.op==="and"}function dZ(e){return yNe(e)&&fZ(e)}function yNe(e){for(const t of e.filters)if(t instanceof mu)return!1;return!0}function yP(e){if(e instanceof Si)return e.field.canonicalString()+e.op.toString()+Fv(e.value);if(dZ(e))return e.filters.map(t=>yP(t)).join(",");{const t=e.filters.map(r=>yP(r)).join(",");return`${e.op}(${t})`}}function hZ(e,t){return e instanceof Si?function(n,a){return a instanceof Si&&n.op===a.op&&n.field.isEqual(a.field)&&uf(n.value,a.value)}(e,t):e instanceof mu?function(n,a){return a instanceof mu&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&hZ(s,a.filters[o]),!0):!1}(e,t):void fr(19439)}function pZ(e){return e instanceof Si?function(r){return`${r.field.canonicalString()} ${r.op} ${Fv(r.value)}`}(e):e instanceof mu?function(r){return r.op.toString()+" {"+r.getFilters().map(pZ).join(" ,")+"}"}(e):"Filter"}class xNe extends Si{constructor(t,r,n){super(t,r,n),this.key=Zt.fromName(n.referenceValue)}matches(t){const r=Zt.comparator(t.key,this.key);return this.matchesComparison(r)}}class wNe extends Si{constructor(t,r){super(t,"in",r),this.keys=mZ("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class bNe extends Si{constructor(t,r){super(t,"not-in",r),this.keys=mZ("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function mZ(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>Zt.fromName(n.referenceValue))}class _Ne extends Si{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return ND(r)&&O2(r.arrayValue,this.value)}}class SNe extends Si{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&O2(this.value.arrayValue,r)}}class ENe extends Si{constructor(t,r){super(t,"not-in",r)}matches(t){if(O2(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!O2(this.value.arrayValue,r)}}class ANe extends Si{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!ND(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>O2(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TNe{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function tB(e,t=null,r=[],n=[],a=null,i=null,s=null){return new TNe(e,t,r,n,a,i,s)}function CD(e){const t=Er(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>yP(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),tT(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>Fv(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>Fv(n)).join(",")),t.Te=r}return t.Te}function PD(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!vNe(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!hZ(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!eB(e.startAt,t.startAt)&&eB(e.endAt,t.endAt)}function xP(e){return Zt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function kNe(e,t,r,n,a,i,s,o){return new y1(e,t,r,n,a,i,s,o)}function nT(e){return new y1(e)}function rB(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function gZ(e){return e.collectionGroup!==null}function Cx(e){const t=Er(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Fi(Zi.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new D2(i,n))}),r.has(Zi.keyField().canonicalString())||t.Ie.push(new D2(Zi.keyField(),n))}return t.Ie}function ef(e){const t=Er(e);return t.Ee||(t.Ee=NNe(t,Cx(e))),t.Ee}function NNe(e,t){if(e.limitType==="F")return tB(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new D2(a.field,i)});const r=e.endAt?new KE(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new KE(e.startAt.position,e.startAt.inclusive):null;return tB(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function wP(e,t){const r=e.filters.concat([t]);return new y1(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function YE(e,t,r){return new y1(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function aT(e,t){return PD(ef(e),ef(t))&&e.limitType===t.limitType}function vZ(e){return`${CD(ef(e))}|lt:${e.limitType}`}function bg(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>pZ(a)).join(", ")}]`),tT(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>Fv(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>Fv(a)).join(",")),`Target(${n})`}(ef(e))}; limitType=${e.limitType})`}function iT(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Zt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of Cx(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=Z9(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Cx(n),a)||n.endAt&&!function(s,o,l){const c=Z9(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Cx(n),a))}(e,t)}function CNe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function yZ(e){return(t,r)=>{let n=!1;for(const a of Cx(e)){const i=PNe(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function PNe(e,t,r){const n=e.field.isKeyField()?Zt.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?Mv(l,c):fr(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return fr(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){M0(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return tZ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const INe=new Da(Zt.comparator);function Ed(){return INe}const xZ=new Da(Zt.comparator);function tx(...e){let t=xZ;for(const r of e)t=t.insert(r.key,r);return t}function wZ(e){let t=xZ;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Np(){return Px()}function bZ(){return Px()}function Px(){return new Gm(e=>e.toString(),(e,t)=>e.isEqual(t))}const ONe=new Da(Zt.comparator),DNe=new Fi(Zt.comparator);function qr(...e){let t=DNe;for(const r of e)t=t.add(r);return t}const jNe=new Fi(Wr);function RNe(){return jNe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:HE(t)?"-0":t}}function _Z(e){return{integerValue:""+e}}function LNe(e,t){return cNe(t)?_Z(t):ID(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this._=void 0}}function MNe(e,t,r){return e instanceof j2?function(a,i){const s={fields:{[aZ]:{stringValue:nZ},[sZ]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&kD(i)&&(i=rT(i)),i&&(s.fields[iZ]=i),{mapValue:s}}(r,t):e instanceof R2?EZ(e,t):e instanceof L2?AZ(e,t):function(a,i){const s=SZ(a,i),o=nB(s)+nB(a.Ae);return vP(s)&&vP(a.Ae)?_Z(o):ID(a.serializer,o)}(e,t)}function FNe(e,t,r){return e instanceof R2?EZ(e,t):e instanceof L2?AZ(e,t):r}function SZ(e,t){return e instanceof XE?function(n){return vP(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class j2 extends sT{}class R2 extends sT{constructor(t){super(),this.elements=t}}function EZ(e,t){const r=TZ(t);for(const n of e.elements)r.some(a=>uf(a,n))||r.push(n);return{arrayValue:{values:r}}}class L2 extends sT{constructor(t){super(),this.elements=t}}function AZ(e,t){let r=TZ(t);for(const n of e.elements)r=r.filter(a=>!uf(a,n));return{arrayValue:{values:r}}}class XE extends sT{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function nB(e){return ii(e.integerValue||e.doubleValue)}function TZ(e){return ND(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BNe{constructor(t,r){this.field=t,this.transform=r}}function $Ne(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof R2&&a instanceof R2||n instanceof L2&&a instanceof L2?Rv(n.elements,a.elements,uf):n instanceof XE&&a instanceof XE?uf(n.Ae,a.Ae):n instanceof j2&&a instanceof j2}(e.transform,t.transform)}class UNe{constructor(t,r){this.version=t,this.transformResults=r}}class Eo{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Eo}static exists(t){return new Eo(void 0,t)}static updateTime(t){return new Eo(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jS(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class oT{}function kZ(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new lT(e.key,Eo.none()):new Uw(e.key,e.data,Eo.none());{const r=e.data,n=Fo.empty();let a=new Fi(Zi.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new F0(e.key,n,new Nl(a.toArray()),Eo.none())}}function VNe(e,t,r){e instanceof Uw?function(a,i,s){const o=a.value.clone(),l=iB(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof F0?function(a,i,s){if(!jS(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=iB(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(NZ(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Ix(e,t,r,n){return e instanceof Uw?function(i,s,o,l){if(!jS(i.precondition,s))return o;const c=i.value.clone(),u=sB(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof F0?function(i,s,o,l){if(!jS(i.precondition,s))return o;const c=sB(i.fieldTransforms,l,s),u=s.data;return u.setAll(NZ(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return jS(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function zNe(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=SZ(n.transform,a||null);i!=null&&(r===null&&(r=Fo.empty()),r.set(n.field,i))}return r||null}function aB(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Rv(n,a,(i,s)=>$Ne(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Uw extends oT{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class F0 extends oT{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function NZ(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function iB(e,t,r){const n=new Map;mn(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,FNe(s,o,r[a]))}return n}function sB(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,MNe(i,s,t))}return n}class lT extends oT{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class WNe extends oT{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HNe{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&VNe(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Ix(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Ix(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=bZ();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=kZ(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(wr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),qr())}isEqual(t){return this.batchId===t.batchId&&Rv(this.mutations,t.mutations,(r,n)=>aB(r,n))&&Rv(this.baseMutations,t.baseMutations,(r,n)=>aB(r,n))}}class OD{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){mn(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let a=function(){return ONe}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new OD(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qNe=class{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GNe{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gi,en;function KNe(e){switch(e){case Ze.OK:return fr(64938);case Ze.CANCELLED:case Ze.UNKNOWN:case Ze.DEADLINE_EXCEEDED:case Ze.RESOURCE_EXHAUSTED:case Ze.INTERNAL:case Ze.UNAVAILABLE:case Ze.UNAUTHENTICATED:return!1;case Ze.INVALID_ARGUMENT:case Ze.NOT_FOUND:case Ze.ALREADY_EXISTS:case Ze.PERMISSION_DENIED:case Ze.FAILED_PRECONDITION:case Ze.ABORTED:case Ze.OUT_OF_RANGE:case Ze.UNIMPLEMENTED:case Ze.DATA_LOSS:return!0;default:return fr(15467,{code:e})}}function CZ(e){if(e===void 0)return Sd("GRPC error has no .code"),Ze.UNKNOWN;switch(e){case gi.OK:return Ze.OK;case gi.CANCELLED:return Ze.CANCELLED;case gi.UNKNOWN:return Ze.UNKNOWN;case gi.DEADLINE_EXCEEDED:return Ze.DEADLINE_EXCEEDED;case gi.RESOURCE_EXHAUSTED:return Ze.RESOURCE_EXHAUSTED;case gi.INTERNAL:return Ze.INTERNAL;case gi.UNAVAILABLE:return Ze.UNAVAILABLE;case gi.UNAUTHENTICATED:return Ze.UNAUTHENTICATED;case gi.INVALID_ARGUMENT:return Ze.INVALID_ARGUMENT;case gi.NOT_FOUND:return Ze.NOT_FOUND;case gi.ALREADY_EXISTS:return Ze.ALREADY_EXISTS;case gi.PERMISSION_DENIED:return Ze.PERMISSION_DENIED;case gi.FAILED_PRECONDITION:return Ze.FAILED_PRECONDITION;case gi.ABORTED:return Ze.ABORTED;case gi.OUT_OF_RANGE:return Ze.OUT_OF_RANGE;case gi.UNIMPLEMENTED:return Ze.UNIMPLEMENTED;case gi.DATA_LOSS:return Ze.DATA_LOSS;default:return fr(39323,{code:e})}}(en=gi||(gi={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YNe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XNe=new Zh([4294967295,4294967295],0);function oB(e){const t=YNe().encode(e),r=new VJ;return r.update(t),new Uint8Array(r.digest())}function lB(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Zh([r,n],0),new Zh([a,i],0)]}class DD{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new rx(`Invalid padding: ${r}`);if(n<0)throw new rx(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new rx(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new rx(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Zh.fromNumber(this.ge)}ye(t,r,n){let a=t.add(r.multiply(Zh.fromNumber(n)));return a.compare(XNe)===1&&(a=new Zh([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=oB(t),[n,a]=lB(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);if(!this.we(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new DD(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const r=oB(t),[n,a]=lB(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class rx extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,Vw.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new cT(wr.min(),a,new Da(Wr),Ed(),qr())}}class Vw{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Vw(n,r,qr(),qr(),qr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t,r,n,a){this.be=t,this.removedTargetIds=r,this.key=n,this.De=a}}class PZ{constructor(t,r){this.targetId=t,this.Ce=r}}class IZ{constructor(t,r,n=ns.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class cB{constructor(){this.ve=0,this.Fe=uB(),this.Me=ns.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qr(),r=qr(),n=qr();return this.Fe.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:fr(38017,{changeType:i})}}),new Vw(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=uB()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,mn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QNe{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ed(),this.Je=N_(),this.He=N_(),this.Ye=new Da(Wr)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:fr(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,a)=>{this.rt(a)&&r(a)})}st(t){const r=t.targetId,n=t.Ce.count,a=this.ot(r);if(a){const i=a.target;if(xP(i))if(n===0){const s=new Zt(i.path);this.et(r,s,Ws.newNoDocument(s,wr.min()))}else mn(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),l=o?this.ct(o,t,s):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=g0(n).toUint8Array()}catch(l){if(l instanceof rZ)return pm("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new DD(s,a,i)}catch(l){return pm(l instanceof rx?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.et(r,i,null),a++)}),a}Tt(t){const r=new Map;this.ze.forEach((i,s)=>{const o=this.ot(s);if(o){if(i.current&&xP(o.target)){const l=new Zt(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,Ws.newNoDocument(l,t))}i.Be&&(r.set(s,i.ke()),i.qe())}});let n=qr();this.He.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.je.forEach((i,s)=>s.setReadTime(t));const a=new cT(t,r,this.Ye,this.je,n);return this.je=Ed(),this.Je=N_(),this.He=N_(),this.Ye=new Da(Wr),a}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,r)?a.Qe(r,1):a.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new cB,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Fi(Wr),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Fi(Wr),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||It("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new cB),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function N_(){return new Da(Zt.comparator)}function uB(){return new Da(Zt.comparator)}const JNe={asc:"ASCENDING",desc:"DESCENDING"},ZNe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},e4e={and:"AND",or:"OR"};class t4e{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function bP(e,t){return e.useProto3Json||tT(t)?t:{value:t}}function QE(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function OZ(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function r4e(e,t){return QE(e,t.toTimestamp())}function tf(e){return mn(!!e,49232),wr.fromTimestamp(function(r){const n=m0(r);return new Un(n.seconds,n.nanos)}(e))}function jD(e,t){return _P(e,t).canonicalString()}function _P(e,t){const r=function(a){return new Yn(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function DZ(e){const t=Yn.fromString(e);return mn(FZ(t),10190,{key:t.toString()}),t}function SP(e,t){return jD(e.databaseId,t.path)}function u4(e,t){const r=DZ(t);if(r.get(1)!==e.databaseId.projectId)throw new Tt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Tt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Zt(RZ(r))}function jZ(e,t){return jD(e.databaseId,t)}function n4e(e){const t=DZ(e);return t.length===4?Yn.emptyPath():RZ(t)}function EP(e){return new Yn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function RZ(e){return mn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function fB(e,t,r){return{name:SP(e,t),fields:r.value.mapValue.fields}}function a4e(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:fr(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(mn(u===void 0||typeof u=="string",58123),ns.fromBase64String(u||"")):(mn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),ns.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?Ze.UNKNOWN:CZ(c.code);return new Tt(u,c.message||"")}(s);r=new IZ(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=u4(e,n.document.name),i=tf(n.document.updateTime),s=n.document.createTime?tf(n.document.createTime):wr.min(),o=new Fo({mapValue:{fields:n.document.fields}}),l=Ws.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new RS(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=u4(e,n.document),i=n.readTime?tf(n.readTime):wr.min(),s=Ws.newNoDocument(a,i),o=n.removedTargetIds||[];r=new RS([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=u4(e,n.document),i=n.removedTargetIds||[];r=new RS([],i,a,null)}else{if(!("filter"in t))return fr(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new GNe(a,i),o=n.targetId;r=new PZ(o,s)}}return r}function i4e(e,t){let r;if(t instanceof Uw)r={update:fB(e,t.key,t.value)};else if(t instanceof lT)r={delete:SP(e,t.key)};else if(t instanceof F0)r={update:fB(e,t.key,t.data),updateMask:p4e(t.fieldMask)};else{if(!(t instanceof WNe))return fr(16599,{Vt:t.type});r={verify:SP(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof j2)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof R2)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof L2)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof XE)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw fr(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:r4e(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fr(27497)}(e,t.precondition)),r}function s4e(e,t){return e&&e.length>0?(mn(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?tf(a.updateTime):tf(i);return s.isEqual(wr.min())&&(s=tf(i)),new UNe(s,a.transformResults||[])}(r,t))):[]}function o4e(e,t){return{documents:[jZ(e,t.path)]}}function l4e(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=jZ(e,a);const i=function(c){if(c.length!==0)return MZ(mu.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:_g(h.field),direction:f4e(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=bP(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:r,parent:a}}function c4e(e){let t=n4e(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){mn(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=LZ(f);return h instanceof mu&&dZ(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(m){return new D2(Sg(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,tT(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new KE(p,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,p=f.values||[];return new KE(p,h)}(r.endAt)),kNe(t,a,s,i,o,"F",l,c)}function u4e(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fr(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function LZ(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Sg(r.unaryFilter.field);return Si.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Sg(r.unaryFilter.field);return Si.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Sg(r.unaryFilter.field);return Si.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Sg(r.unaryFilter.field);return Si.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return fr(61313);default:return fr(60726)}}(e):e.fieldFilter!==void 0?function(r){return Si.create(Sg(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return fr(58110);default:return fr(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return mu.create(r.compositeFilter.filters.map(n=>LZ(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return fr(1026)}}(r.compositeFilter.op))}(e):fr(30097,{filter:e})}function f4e(e){return JNe[e]}function d4e(e){return ZNe[e]}function h4e(e){return e4e[e]}function _g(e){return{fieldPath:e.canonicalString()}}function Sg(e){return Zi.fromServerFormat(e.fieldPath)}function MZ(e){return e instanceof Si?function(r){if(r.op==="=="){if(J9(r.value))return{unaryFilter:{field:_g(r.field),op:"IS_NAN"}};if(Q9(r.value))return{unaryFilter:{field:_g(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(J9(r.value))return{unaryFilter:{field:_g(r.field),op:"IS_NOT_NAN"}};if(Q9(r.value))return{unaryFilter:{field:_g(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_g(r.field),op:d4e(r.op),value:r.value}}}(e):e instanceof mu?function(r){const n=r.getFilters().map(a=>MZ(a));return n.length===1?n[0]:{compositeFilter:{op:h4e(r.op),filters:n}}}(e):fr(54877,{filter:e})}function p4e(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function FZ(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,r,n,a,i=wr.min(),s=wr.min(),o=ns.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new $h(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new $h(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $h(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $h(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4e{constructor(t){this.yt=t}}function g4e(e){const t=c4e({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?YE(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4e{constructor(){this.Cn=new y4e}addToCollectionParentIndex(t,r){return this.Cn.add(r),tt.resolve()}getCollectionParents(t,r){return tt.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return tt.resolve()}deleteFieldIndex(t,r){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,r){return tt.resolve()}getDocumentsMatchingTarget(t,r){return tt.resolve(null)}getIndexType(t,r){return tt.resolve(0)}getFieldIndexes(t,r){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,r){return tt.resolve(p0.min())}getMinOffsetFromCollectionGroup(t,r){return tt.resolve(p0.min())}updateCollectionGroup(t,r,n){return tt.resolve()}updateIndexEntries(t,r){return tt.resolve()}}class y4e{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Fi(Yn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Fi(Yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BZ=41943040;class Lo{static withCacheSize(t){return new Lo(t,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lo.DEFAULT_COLLECTION_PERCENTILE=10,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lo.DEFAULT=new Lo(BZ,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lo.DISABLED=new Lo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Bv(0)}static cr(){return new Bv(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB="LruGarbageCollector",x4e=1048576;function pB([e,t],[r,n]){const a=Wr(e,r);return a===0?Wr(t,n):a}class w4e{constructor(t){this.Ir=t,this.buffer=new Fi(pB),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();pB(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class b4e{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){It(hB,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){v1(r)?It(hB,"Ignoring IndexedDB error during garbage collection: ",r):await g1(r)}await this.Vr(3e5)})}}class _4e{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return tt.resolve(eT.ce);const n=new w4e(r);return this.mr.forEachTarget(t,a=>n.Ar(a.sequenceNumber)).next(()=>this.mr.pr(t,a=>n.Ar(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(dB)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dB):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),wg()<=zr.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function S4e(e,t){return new _4e(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4e{constructor(){this.changes=new Gm(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Ws.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?tt.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4e{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4e{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&Ix(n.mutation,a,Nl.empty(),Un.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,qr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=qr()){const a=Np();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=tx();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Np();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,qr()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=Ed();const s=Px(),o=function(){return Px()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof F0)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Ix(u.mutation,c,u.mutation.getFieldMask(),Un.now())):s.set(c.key,Nl.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>o.set(c,new A4e(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(t,r){const n=Px();let a=new Da((s,o)=>s-o),i=qr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Nl.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||qr()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=bZ();u.forEach(h=>{if(!i.has(h)){const p=kZ(r.get(h),n.get(h));p!==null&&f.set(h,p),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return tt.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return Zt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):gZ(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):tt.resolve(Np());let o=P2,l=i;return s.next(c=>tt.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?tt.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,qr())).next(u=>({batchId:o,changes:wZ(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Zt(r)).next(n=>{let a=tx();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=tx();return this.indexManager.getCollectionParents(t,i).next(o=>tt.forEach(o,l=>{const c=function(f,h){return new y1(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Ws.newInvalidDocument(u)))});let o=tx();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Ix(u.mutation,c,Nl.empty(),Un.now()),iT(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4e{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return tt.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:tf(a.createTime)}}(r)),tt.resolve()}getNamedQuery(t,r){return tt.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(a){return{name:a.name,query:g4e(a.bundledQuery),readTime:tf(a.readTime)}}(r)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4e{constructor(){this.overlays=new Da(Zt.comparator),this.qr=new Map}getOverlay(t,r){return tt.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Np();return tt.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),tt.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.qr.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(n)),tt.resolve()}getOverlaysForCollection(t,r,n){const a=Np(),i=r.length+1,s=new Zt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return tt.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new Da((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Np(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Np(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return tt.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.qr.get(a.largestBatchId).delete(n.key);this.qr.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new qNe(r,n));let i=this.qr.get(r);i===void 0&&(i=qr(),this.qr.set(r,i)),this.qr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4e{constructor(){this.sessionToken=ns.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.Qr=new Fi(Ki.$r),this.Ur=new Fi(Ki.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Ki(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Ki(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new Zt(new Yn([])),n=new Ki(r,t),a=new Ki(r,t+1),i=[];return this.Ur.forEachInRange([n,a],s=>{this.Gr(s),i.push(s.key)}),i}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new Zt(new Yn([])),n=new Ki(r,t),a=new Ki(r,t+1);let i=qr();return this.Ur.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new Ki(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Ki{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return Zt.comparator(t.key,r.key)||Wr(t.Yr,r.Yr)}static Kr(t,r){return Wr(t.Yr,r.Yr)||Zt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4e{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Fi(Ki.$r)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new HNe(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.Zr=this.Zr.add(new Ki(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return tt.resolve(s)}lookupMutationBatch(t,r){return tt.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.ei(n),i=a<0?0:a;return tt.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?TD:this.tr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Ki(r,0),a=new Ki(r,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,a],s=>{const o=this.Xr(s.Yr);i.push(o)}),tt.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Fi(Wr);return r.forEach(a=>{const i=new Ki(a,0),s=new Ki(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,s],o=>{n=n.add(o.Yr)})}),tt.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;Zt.isDocumentKey(i)||(i=i.child(""));const s=new Ki(new Zt(i),0);let o=new Fi(Wr);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Yr)),!0)},s),tt.resolve(this.ti(o))}ti(t){const r=[];return t.forEach(n=>{const a=this.Xr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){mn(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return tt.forEach(r.mutations,a=>{const i=new Ki(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Ki(r,0),a=this.Zr.firstAfterOrEqual(n);return tt.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4e{constructor(t){this.ri=t,this.docs=function(){return new Da(Zt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return tt.resolve(n?n.document.mutableCopy():Ws.newInvalidDocument(r))}getEntries(t,r){let n=Ed();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Ws.newInvalidDocument(a))}),tt.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=Ed();const s=r.path,o=new Zt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||iNe(aNe(u),n)<=0||(a.has(u.key)||iT(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return tt.resolve(i)}getAllFromCollectionGroup(t,r,n,a){fr(9500)}ii(t,r){return tt.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new O4e(this)}getSize(t){return tt.resolve(this.size)}}class O4e extends E4e{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(n)}),tt.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4e{constructor(t){this.persistence=t,this.si=new Gm(r=>CD(r),PD),this.lastRemoteSnapshotVersion=wr.min(),this.highestTargetId=0,this.oi=0,this._i=new RD,this.targetCount=0,this.ai=Bv.ur()}forEachTarget(t,r){return this.si.forEach((n,a)=>r(a)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),tt.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new Bv(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,tt.resolve()}updateTargetData(t,r){return this.Pr(r),tt.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),tt.waitFor(i).next(()=>a)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return tt.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),tt.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),tt.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),tt.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return tt.resolve(n)}containsKey(t,r){return tt.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Z{constructor(t,r){this.ui={},this.overlays={},this.ci=new eT(0),this.li=!1,this.li=!0,this.hi=new C4e,this.referenceDelegate=t(this),this.Pi=new D4e(this),this.indexManager=new v4e,this.remoteDocumentCache=function(a){return new I4e(a)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new m4e(r),this.Ii=new k4e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new N4e,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new P4e(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){It("MemoryPersistence","Starting transaction:",t);const a=new j4e(this.ci.next());return this.referenceDelegate.Ei(),n(a).next(i=>this.referenceDelegate.di(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Ai(t,r){return tt.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class j4e extends oNe{constructor(t){super(),this.currentSequenceNumber=t}}class LD{constructor(t){this.persistence=t,this.Ri=new RD,this.Vi=null}static mi(t){return new LD(t)}get fi(){if(this.Vi)return this.Vi;throw fr(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),tt.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),tt.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),tt.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(a=>this.fi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.fi.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.fi,n=>{const a=Zt.fromPath(n);return this.gi(t,a).next(i=>{i||r.removeEntry(a,wr.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return tt.or([()=>tt.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class JE{constructor(t,r){this.persistence=t,this.pi=new Gm(n=>uNe(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=S4e(this,r)}static mi(t,r){return new JE(t,r)}Ei(){}di(t){return tt.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return tt.forEach(this.pi,(n,a)=>this.br(t,n,a).next(i=>i?tt.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(t,s=>this.br(t,s,r).next(o=>{o||(n++,i.removeEntry(s,wr.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),tt.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=OS(t.data.value)),r}br(t,r,n){return tt.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.pi.get(r);return tt.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=a}static As(t,r){let n=qr(),a=qr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new MD(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4e{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return u5e()?8:lNe(eo())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.ys(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.ws(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new R4e;return this.Ss(t,r,s).next(o=>{if(i.result=o,this.Vs)return this.bs(t,r,s,o.size)})}).next(()=>i.result)}bs(t,r,n,a){return n.documentReadCount<this.fs?(wg()<=zr.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",bg(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),tt.resolve()):(wg()<=zr.DEBUG&&It("QueryEngine","Query:",bg(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.gs*a?(wg()<=zr.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",bg(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ef(r))):tt.resolve())}ys(t,r){if(rB(r))return tt.resolve(null);let n=ef(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=YE(r,null,"F"),n=ef(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=qr(...i);return this.ps.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.Ds(r,o);return this.Cs(r,c,s,l.readTime)?this.ys(t,YE(r,null,"F")):this.vs(t,c,r,l)}))})))}ws(t,r,n,a){return rB(r)||a.isEqual(wr.min())?tt.resolve(null):this.ps.getDocuments(t,n).next(i=>{const s=this.Ds(r,i);return this.Cs(r,s,n,a)?tt.resolve(null):(wg()<=zr.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bg(r)),this.vs(t,s,r,nNe(a,P2)).next(o=>o))})}Ds(t,r){let n=new Fi(yZ(t));return r.forEach((a,i)=>{iT(t,i)&&(n=n.add(i))}),n}Cs(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(t,r,n){return wg()<=zr.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",bg(r)),this.ps.getDocumentsMatchingQuery(t,r,p0.min(),n)}vs(t,r,n,a){return this.ps.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="LocalStore",M4e=3e8;class F4e{constructor(t,r,n,a){this.persistence=t,this.Fs=r,this.serializer=a,this.Ms=new Da(Wr),this.xs=new Gm(i=>CD(i),PD),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new T4e(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function B4e(e,t,r,n){return new F4e(e,t,r,n)}async function UZ(e,t){const r=Er(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=qr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:o}))})})}function $4e(e,t){const r=Er(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let p=tt.resolve();return h.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const v=c.docVersions.get(m);mn(v!==null,48541),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=qr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function VZ(e){const t=Er(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function U4e(e,t){const r=Er(e),n=t.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.Pi.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(i,u.addedDocuments,f)));let p=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?p=p.withResumeToken(ns.EMPTY_BYTE_STRING,wr.min()).withLastLimboFreeSnapshotVersion(wr.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,n)),a=a.insert(f,p),function(g,v,y){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=M4e?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,u)&&o.push(r.Pi.updateTargetData(i,p))});let l=Ed(),c=qr();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(V4e(i,s,t.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!n.isEqual(wr.min())){const u=r.Pi.getLastRemoteSnapshotVersion(i).next(f=>r.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return tt.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ms=a,i))}function V4e(e,t,r){let n=qr(),a=qr();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=Ed();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(wr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):It(FD,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:a}})}function z4e(e,t){const r=Er(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=TD),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function W4e(e,t){const r=Er(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.Pi.getTargetData(n,t).next(i=>i?(a=i,tt.resolve(a)):r.Pi.allocateTargetId(n).next(s=>(a=new $h(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ms.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function AP(e,t,r){const n=Er(e),a=n.Ms.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!v1(s))throw s;It(FD,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ms=n.Ms.remove(t),n.xs.delete(a.target)}function mB(e,t,r){const n=Er(e);let a=wr.min(),i=qr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Er(l),h=f.xs.get(u);return h!==void 0?tt.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)}(n,s,ef(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,t,r?a:wr.min(),r?i:qr())).next(o=>(H4e(n,CNe(t),o),{documents:o,Qs:i})))}function H4e(e,t,r){let n=e.Os.get(t)||wr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.Os.set(t,n)}class gB{constructor(){this.activeTargetIds=RNe()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class q4e{constructor(){this.Mo=new gB,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new gB,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4e{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vB="ConnectivityMonitor";class yB{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){It(vB,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){It(vB,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C_=null;function TP(){return C_===null?C_=function(){return 268435456+Math.round(2147483648*Math.random())}():C_++,"0x"+C_.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="RestConnection",K4e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Y4e{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${a}`,this.Wo=this.databaseId.database===qE?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Go(t,r,n,a,i){const s=TP(),o=this.zo(t,r.toUriEncodedString());It(f4,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,a,i);const{host:c}=new URL(o),u=Wm(c);return this.Jo(t,o,l,n,u).then(f=>(It(f4,`Received RPC '${t}' ${s}: `,f),f),f=>{throw pm(f4,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(t,r,n,a,i,s){return this.Go(t,r,n,a,i)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+m1}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}zo(t,r){const n=K4e[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4e{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="WebChannelConnection";class Q4e extends Y4e{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,a,i){const s=TP();return new Promise((o,l)=>{const c=new zJ;c.setWithCredentials(!0),c.listenOnce(WJ.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case IS.NO_ERROR:const f=c.getResponseJson();It(Os,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case IS.TIMEOUT:It(Os,`RPC '${t}' ${s} timed out`),l(new Tt(Ze.DEADLINE_EXCEEDED,"Request time out"));break;case IS.HTTP_ERROR:const h=c.getStatus();if(It(Os,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p==null?void 0:p.error;if(m&&m.status&&m.message){const g=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(Ze).indexOf(x)>=0?x:Ze.UNKNOWN}(m.status);l(new Tt(g,m.message))}else l(new Tt(Ze.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Tt(Ze.UNAVAILABLE,"Connection failed."));break;default:fr(9055,{l_:t,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{It(Os,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);It(Os,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}T_(t,r,n){const a=TP(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=GJ(),o=qJ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");It(Os,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let h=!1,p=!1;const m=new X4e({Yo:v=>{p?It(Os,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(It(Os,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),It(Os,`RPC '${t}' stream ${a} sending:`,v),f.send(v))},Zo:()=>f.close()}),g=(v,y,x)=>{v.listen(y,w=>{try{x(w)}catch(E){setTimeout(()=>{throw E},0)}})};return g(f,ex.EventType.OPEN,()=>{p||(It(Os,`RPC '${t}' stream ${a} transport opened.`),m.o_())}),g(f,ex.EventType.CLOSE,()=>{p||(p=!0,It(Os,`RPC '${t}' stream ${a} transport closed`),m.a_(),this.E_(f))}),g(f,ex.EventType.ERROR,v=>{p||(p=!0,pm(Os,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),m.a_(new Tt(Ze.UNAVAILABLE,"The operation could not be completed")))}),g(f,ex.EventType.MESSAGE,v=>{var y;if(!p){const x=v.data[0];mn(!!x,16349);const w=x,E=(w==null?void 0:w.error)||((y=w[0])==null?void 0:y.error);if(E){It(Os,`RPC '${t}' stream ${a} received error:`,E);const I=E.status;let P=function(k){const O=gi[k];if(O!==void 0)return CZ(O)}(I),A=E.message;P===void 0&&(P=Ze.INTERNAL,A="Unknown error status: "+I+" with message "+E.message),p=!0,m.a_(new Tt(P,A)),f.close()}else It(Os,`RPC '${t}' stream ${a} received:`,x),m.u_(x)}}),g(o,HJ.STAT_EVENT,v=>{v.stat===pP.PROXY?It(Os,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===pP.NOPROXY&&It(Os,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{m.__()},0),m}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function d4(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(e){return new t4e(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zZ{constructor(t,r,n=1e3,a=1.5,i=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&It("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB="PersistentStream";class WZ{constructor(t,r,n,a,i,s,o,l){this.Mi=t,this.S_=n,this.b_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zZ(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===Ze.RESOURCE_EXHAUSTED?(Sd(r.toString()),Sd("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ze.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.D_===r&&this.G_(n,a)},n=>{t(()=>{const a=new Tt(Ze.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{n(()=>this.z_(a))}),this.stream.onMessage(a=>{n(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return It(xB,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(It(xB,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class J4e extends WZ{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=a4e(this.serializer,t),n=function(i){if(!("targetChange"in i))return wr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?wr.min():s.readTime?tf(s.readTime):wr.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=EP(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=xP(l)?{documents:o4e(i,l)}:{query:l4e(i,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=OZ(i,s.resumeToken);const c=bP(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(wr.min())>0){o.readTime=QE(i,s.snapshotVersion.toTimestamp());const c=bP(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=u4e(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=EP(this.serializer),r.removeTarget=t,this.q_(r)}}class Z4e extends WZ{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return mn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,mn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){mn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=s4e(t.writeResults,t.commitTime),n=tf(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=EP(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>i4e(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eCe{}class tCe extends eCe{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Tt(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Go(t,_P(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Tt(Ze.UNKNOWN,i.toString())})}Ho(t,r,n,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(t,_P(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Tt(Ze.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class rCe{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sd(r),this.aa=!1):It("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RemoteStore";class nCe{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{Km(this)&&(It(mm,"Restarting streams for network reachability change."),await async function(l){const c=Er(l);c.Ea.add(4),await zw(c),c.Ra.set("Unknown"),c.Ea.delete(4),await fT(c)}(this))})}),this.Ra=new rCe(n,a)}}async function fT(e){if(Km(e))for(const t of e.da)await t(!0)}async function zw(e){for(const t of e.da)await t(!1)}function HZ(e,t){const r=Er(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),VD(r)?UD(r):x1(r).O_()&&$D(r,t))}function BD(e,t){const r=Er(e),n=x1(r);r.Ia.delete(t),n.O_()&&qZ(r,t),r.Ia.size===0&&(n.O_()?n.L_():Km(r)&&r.Ra.set("Unknown"))}function $D(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}x1(e).Y_(t)}function qZ(e,t){e.Va.Ue(t),x1(e).Z_(t)}function UD(e){e.Va=new QNe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),x1(e).start(),e.Ra.ua()}function VD(e){return Km(e)&&!x1(e).x_()&&e.Ia.size>0}function Km(e){return Er(e).Ea.size===0}function GZ(e){e.Va=void 0}async function aCe(e){e.Ra.set("Online")}async function iCe(e){e.Ia.forEach((t,r)=>{$D(e,t)})}async function sCe(e,t){GZ(e),VD(e)?(e.Ra.ha(t),UD(e)):e.Ra.set("Unknown")}async function oCe(e,t,r){if(e.Ra.set("Online"),t instanceof IZ&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.Ia.delete(o),a.Va.removeTarget(o))}(e,t)}catch(n){It(mm,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ZE(e,n)}else if(t instanceof RS?e.Va.Ze(t):t instanceof PZ?e.Va.st(t):e.Va.tt(t),!r.isEqual(wr.min()))try{const n=await VZ(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.Va.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.Ia.get(c);u&&i.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i.Ia.get(l);if(!u)return;i.Ia.set(l,u.withResumeToken(ns.EMPTY_BYTE_STRING,u.snapshotVersion)),qZ(i,l);const f=new $h(u.target,l,c,u.sequenceNumber);$D(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){It(mm,"Failed to raise snapshot:",n),await ZE(e,n)}}async function ZE(e,t,r){if(!v1(t))throw t;e.Ea.add(1),await zw(e),e.Ra.set("Offline"),r||(r=()=>VZ(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{It(mm,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await fT(e)})}function KZ(e,t){return t().catch(r=>ZE(e,r,t))}async function dT(e){const t=Er(e),r=y0(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:TD;for(;lCe(t);)try{const a=await z4e(t.localStore,n);if(a===null){t.Ta.length===0&&r.L_();break}n=a.batchId,cCe(t,a)}catch(a){await ZE(t,a)}YZ(t)&&XZ(t)}function lCe(e){return Km(e)&&e.Ta.length<10}function cCe(e,t){e.Ta.push(t);const r=y0(e);r.O_()&&r.X_&&r.ea(t.mutations)}function YZ(e){return Km(e)&&!y0(e).x_()&&e.Ta.length>0}function XZ(e){y0(e).start()}async function uCe(e){y0(e).ra()}async function fCe(e){const t=y0(e);for(const r of e.Ta)t.ea(r.mutations)}async function dCe(e,t,r){const n=e.Ta.shift(),a=OD.from(n,t,r);await KZ(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await dT(e)}async function hCe(e,t){t&&y0(e).X_&&await async function(n,a){if(function(s){return KNe(s)&&s!==Ze.ABORTED}(a.code)){const i=n.Ta.shift();y0(n).B_(),await KZ(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await dT(n)}}(e,t),YZ(e)&&XZ(e)}async function wB(e,t){const r=Er(e);r.asyncQueue.verifyOperationInProgress(),It(mm,"RemoteStore received new credentials");const n=Km(r);r.Ea.add(3),await zw(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await fT(r)}async function pCe(e,t){const r=Er(e);t?(r.Ea.delete(2),await fT(r)):t||(r.Ea.add(2),await zw(r),r.Ra.set("Unknown"))}function x1(e){return e.ma||(e.ma=function(r,n,a){const i=Er(r);return i.sa(),new J4e(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{Xo:aCe.bind(null,e),t_:iCe.bind(null,e),r_:sCe.bind(null,e),H_:oCe.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),VD(e)?UD(e):e.Ra.set("Unknown")):(await e.ma.stop(),GZ(e))})),e.ma}function y0(e){return e.fa||(e.fa=function(r,n,a){const i=Er(r);return i.sa(),new Z4e(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:uCe.bind(null,e),r_:hCe.bind(null,e),ta:fCe.bind(null,e),na:dCe.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await dT(e)):(await e.fa.stop(),e.Ta.length>0&&(It(mm,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new ud,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new zD(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Tt(Ze.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function WD(e,t){if(Sd("AsyncQueue",`${t}: ${e}`),v1(e))return new Tt(Ze.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{static emptySet(t){return new fv(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||Zt.comparator(r.key,n.key):(r,n)=>Zt.comparator(r.key,n.key),this.keyedMap=tx(),this.sortedSet=new Da(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof fv)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new fv;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(){this.ga=new Da(Zt.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):fr(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class $v{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new $v(t,r,fv.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&aT(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mCe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class gCe{constructor(){this.queries=_B(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=Er(r),i=a.queries;a.queries=_B(),i.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new Tt(Ze.ABORTED,"Firestore shutting down"))}}function _B(){return new Gm(e=>vZ(e),aT)}async function HD(e,t){const r=Er(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.ba()&&t.Da()&&(n=2):(i=new mCe,n=t.Da()?0:1);try{switch(n){case 0:i.wa=await r.onListen(a,!0);break;case 1:i.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=WD(s,`Initialization of query '${bg(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Sa.push(t),t.va(r.onlineState),i.wa&&t.Fa(i.wa)&&GD(r)}async function qD(e,t){const r=Er(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Sa.indexOf(t);s>=0&&(i.Sa.splice(s,1),i.Sa.length===0?a=t.Da()?0:1:!i.ba()&&t.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function vCe(e,t){const r=Er(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Sa)o.Fa(a)&&(n=!0);s.wa=a}}n&&GD(r)}function yCe(e,t,r){const n=Er(e),a=n.queries.get(t);if(a)for(const i of a.Sa)i.onError(r);n.queries.delete(t)}function GD(e){e.Ca.forEach(t=>{t.next()})}var kP,SB;(SB=kP||(kP={})).Ma="default",SB.Cache="cache";class KD{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new $v(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=$v.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==kP.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(t){this.key=t}}class JZ{constructor(t){this.key=t}}class xCe{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qr(),this.mutatedKeys=qr(),this.eu=yZ(t),this.tu=new fv(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new bB,a=r?r.tu:this.tu;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),p=iT(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;h&&p?h.data.isEqual(p.data)?m!==g&&(n.track({type:3,doc:p}),v=!0):this.su(h,p)||(n.track({type:2,doc:p}),v=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(o=!0)):!h&&p?(n.track({type:0,doc:p}),v=!0):h&&!p&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(p?(s=s.add(p),i=g?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{tu:s,iu:n,Cs:o,mutatedKeys:i}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((u,f)=>function(p,m){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fr(20277,{Rt:v})}};return g(p)-g(m)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(n),a=a??!1;const o=r&&!a?this._u():[],l=this.Xa.size===0&&this.current&&!a?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new $v(this.query,t.tu,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bB,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qr(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new JZ(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new QZ(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=qr();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return $v.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const YD="SyncEngine";class wCe{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class bCe{constructor(t){this.key=t,this.hu=!1}}class _Ce{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Gm(o=>vZ(o),aT),this.Iu=new Map,this.Eu=new Set,this.du=new Da(Zt.comparator),this.Au=new Map,this.Ru=new RD,this.Vu={},this.mu=new Map,this.fu=Bv.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function SCe(e,t,r=!0){const n=aee(e);let a;const i=n.Tu.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await ZZ(n,t,r,!0),a}async function ECe(e,t){const r=aee(e);await ZZ(r,t,!0,!1)}async function ZZ(e,t,r,n){const a=await W4e(e.localStore,ef(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await ACe(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&HZ(e.remoteStore,a),o}async function ACe(e,t,r,n,a){e.pu=(f,h,p)=>async function(g,v,y,x){let w=v.view.ru(y);w.Cs&&(w=await mB(g.localStore,v.query,!1).then(({documents:A})=>v.view.ru(A,w)));const E=x&&x.targetChanges.get(v.targetId),I=x&&x.targetMismatches.get(v.targetId)!=null,P=v.view.applyChanges(w,g.isPrimaryClient,E,I);return AB(g,v.targetId,P.au),P.snapshot}(e,f,h,p);const i=await mB(e.localStore,t,!0),s=new xCe(t,i.Qs),o=s.ru(i.documents),l=Vw.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);AB(e,r,c.au);const u=new wCe(t,r,s);return e.Tu.set(t,u),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),c.snapshot}async function TCe(e,t,r){const n=Er(e),a=n.Tu.get(t),i=n.Iu.get(a.targetId);if(i.length>1)return n.Iu.set(a.targetId,i.filter(s=>!aT(s,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await AP(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&BD(n.remoteStore,a.targetId),NP(n,a.targetId)}).catch(g1)):(NP(n,a.targetId),await AP(n.localStore,a.targetId,!0))}async function kCe(e,t){const r=Er(e),n=r.Tu.get(t),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),BD(r.remoteStore,n.targetId))}async function NCe(e,t,r){const n=RCe(e);try{const a=await function(s,o){const l=Er(s),c=Un.now(),u=o.reduce((p,m)=>p.add(m.key),qr());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=Ed(),g=qr();return l.Ns.getEntries(p,u).next(v=>{m=v,m.forEach((y,x)=>{x.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(v=>{f=v;const y=[];for(const x of o){const w=zNe(x,f.get(x.key).overlayedDocument);w!=null&&y.push(new F0(x.key,w,cZ(w.value.mapValue),Eo.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(p,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:wZ(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new Da(Wr)),c=c.insert(o,l),s.Vu[s.currentUser.toKey()]=c}(n,a.batchId,r),await Ww(n,a.changes),await dT(n.remoteStore)}catch(a){const i=WD(a,"Failed to persist write");r.reject(i)}}async function eee(e,t){const r=Er(e);try{const n=await U4e(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r.Au.get(i);s&&(mn(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.hu=!0:a.modifiedDocuments.size>0?mn(s.hu,14607):a.removedDocuments.size>0&&(mn(s.hu,42227),s.hu=!1))}),await Ww(r,n,t)}catch(n){await g1(n)}}function EB(e,t,r){const n=Er(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach((i,s)=>{const o=s.view.va(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=Er(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Sa)h.va(o)&&(c=!0)}),c&&GD(l)}(n.eventManager,t),a.length&&n.Pu.H_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function CCe(e,t,r){const n=Er(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n.Au.get(t),i=a&&a.key;if(i){let s=new Da(Zt.comparator);s=s.insert(i,Ws.newNoDocument(i,wr.min()));const o=qr().add(i),l=new cT(wr.min(),new Map,new Da(Wr),s,o);await eee(n,l),n.du=n.du.remove(i),n.Au.delete(t),XD(n)}else await AP(n.localStore,t,!1).then(()=>NP(n,t,r)).catch(g1)}async function PCe(e,t){const r=Er(e),n=t.batch.batchId;try{const a=await $4e(r.localStore,t);ree(r,n,null),tee(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ww(r,a)}catch(a){await g1(a)}}async function ICe(e,t,r){const n=Er(e);try{const a=await function(s,o){const l=Er(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(mn(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);ree(n,t,r),tee(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Ww(n,a)}catch(a){await g1(a)}}function tee(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function ree(e,t,r){const n=Er(e);let a=n.Vu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.Vu[n.currentUser.toKey()]=a}}function NP(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||nee(e,n)})}function nee(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(BD(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),XD(e))}function AB(e,t,r){for(const n of r)n instanceof QZ?(e.Ru.addReference(n.key,t),OCe(e,n)):n instanceof JZ?(It(YD,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||nee(e,n.key)):fr(19791,{wu:n})}function OCe(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(It(YD,"New document in limbo: "+r),e.Eu.add(n),XD(e))}function XD(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new Zt(Yn.fromString(t)),n=e.fu.next();e.Au.set(n,new bCe(r)),e.du=e.du.insert(r,n),HZ(e.remoteStore,new $h(ef(nT(r.path)),n,"TargetPurposeLimboResolution",eT.ce))}}async function Ww(e,t,r){const n=Er(e),a=[],i=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=MD.As(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.Pu.H_(a),await async function(l,c){const u=Er(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>tt.forEach(c,h=>tt.forEach(h.Es,p=>u.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>tt.forEach(h.ds,p=>u.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!v1(f))throw f;It(FD,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const p=u.Ms.get(h),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.Ms=u.Ms.insert(h,g)}}}(n.localStore,i))}async function DCe(e,t){const r=Er(e);if(!r.currentUser.isEqual(t)){It(YD,"User change. New user:",t.toKey());const n=await UZ(r.localStore,t);r.currentUser=t,function(i,s){i.mu.forEach(o=>{o.forEach(l=>{l.reject(new Tt(Ze.CANCELLED,s))})}),i.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Ww(r,n.Ls)}}function jCe(e,t){const r=Er(e),n=r.Au.get(t);if(n&&n.hu)return qr().add(n.key);{let a=qr();const i=r.Iu.get(t);if(!i)return a;for(const s of i){const o=r.Tu.get(s);a=a.unionWith(o.view.nu)}return a}}function aee(e){const t=Er(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=eee.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=jCe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=CCe.bind(null,t),t.Pu.H_=vCe.bind(null,t.eventManager),t.Pu.yu=yCe.bind(null,t.eventManager),t}function RCe(e){const t=Er(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PCe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ICe.bind(null,t),t}class e5{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=uT(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return B4e(this.persistence,new L4e,t.initialUser,this.serializer)}Cu(t){return new $Z(LD.mi,this.serializer)}Du(t){return new q4e}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}e5.provider={build:()=>new e5};class LCe extends e5{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){mn(this.persistence.referenceDelegate instanceof JE,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new b4e(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?Lo.withCacheSize(this.cacheSizeBytes):Lo.DEFAULT;return new $Z(n=>JE.mi(n,r),this.serializer)}}class CP{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>EB(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=DCe.bind(null,this.syncEngine),await pCe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new gCe}()}createDatastore(t){const r=uT(t.databaseInfo.databaseId),n=function(i){return new Q4e(i)}(t.databaseInfo);return function(i,s,o,l){return new tCe(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new nCe(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>EB(this.syncEngine,r,0),function(){return yB.v()?new yB:new G4e}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new _Ce(a,i,s,o,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=Er(a);It(mm,"RemoteStore shutting down."),i.Ea.add(5),await zw(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}CP.provider={build:()=>new CP};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Sd("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="FirestoreClient";class MCe{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=$s.UNAUTHENTICATED,this.clientId=JA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{It(x0,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(It(x0,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ud;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=WD(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function h4(e,t){e.asyncQueue.verifyOperationInProgress(),It(x0,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await UZ(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function TB(e,t){e.asyncQueue.verifyOperationInProgress();const r=await FCe(e);It(x0,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>wB(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>wB(t.remoteStore,a)),e._onlineComponents=t}async function FCe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){It(x0,"Using user provided OfflineComponentProvider");try{await h4(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===Ze.FAILED_PRECONDITION||a.code===Ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;pm("Error using user provided cache. Falling back to memory cache: "+r),await h4(e,new e5)}}else It(x0,"Using default OfflineComponentProvider"),await h4(e,new LCe(void 0));return e._offlineComponents}async function iee(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(It(x0,"Using user provided OnlineComponentProvider"),await TB(e,e._uninitializedComponentsProvider._online)):(It(x0,"Using default OnlineComponentProvider"),await TB(e,new CP))),e._onlineComponents}function BCe(e){return iee(e).then(t=>t.syncEngine)}async function t5(e){const t=await iee(e),r=t.eventManager;return r.onListen=SCe.bind(null,t.syncEngine),r.onUnlisten=TCe.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=ECe.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=kCe.bind(null,t.syncEngine),r}function $Ce(e,t,r={}){const n=new ud;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new QD({next:h=>{u.Nu(),s.enqueueAndForget(()=>qD(i,f));const p=h.docs.has(o);!p&&h.fromCache?c.reject(new Tt(Ze.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?c.reject(new Tt(Ze.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new KD(nT(o.path),u,{includeMetadataChanges:!0,qa:!0});return HD(i,f)}(await t5(e),e.asyncQueue,t,r,n)),n.promise}function UCe(e,t,r={}){const n=new ud;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new QD({next:h=>{u.Nu(),s.enqueueAndForget(()=>qD(i,f)),h.fromCache&&l.source==="server"?c.reject(new Tt(Ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new KD(o,u,{includeMetadataChanges:!0,qa:!0});return HD(i,f)}(await t5(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function see(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kB=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oee="firestore.googleapis.com",NB=!0;class CB{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Tt(Ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oee,this.ssl=NB}else this.host=t.host,this.ssl=t.ssl??NB;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=BZ;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<x4e)throw new Tt(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JJ("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=see(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Tt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Tt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Tt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hT{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CB({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Tt(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Tt(Ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CB(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new XJ;switch(n.type){case"firstParty":return new Xke(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Tt(Ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=kB.get(r);n&&(It("ComponentProvider","Removing Datastore"),kB.delete(r),n.terminate())}(this),Promise.resolve()}}function lee(e,t,r,n={}){var c;e=Ys(e,hT);const a=Wm(t),i=e._getSettings(),s={...i,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;a&&(pD(`https://${o}`),mD("Firestore",!0)),i.host!==oee&&i.host!==o&&pm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:o,ssl:a,emulatorOptions:n};if(!h0(l,s)&&(e._setSettings(l),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=$s.MOCK_USER;else{u=GQ(n.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Tt(Ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new $s(h)}e._authCredentials=new Gke(new YJ(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new wf(this.firestore,t,this._query)}}class Pa{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Pa(this.firestore,t,this._key)}toJSON(){return{type:Pa._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if($w(r,Pa._jsonSchema))return new Pa(t,n||null,new Zt(Yn.fromString(r.referencePath)))}}Pa._jsonSchemaVersion="firestore/documentReference/1.0",Pa._jsonSchema={type:Ai("string",Pa._jsonSchemaVersion),referencePath:Ai("string")};class fd extends wf{constructor(t,r,n){super(t,r,nT(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Pa(this.firestore,null,new Zt(t))}withConverter(t){return new fd(this.firestore,t,this._path)}}function Qr(e,t,...r){if(e=ua(e),QJ("collection","path",t),e instanceof hT){const n=Yn.fromString(t,...r);return V9(n),new fd(e,null,n)}{if(!(e instanceof Pa||e instanceof fd))throw new Tt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Yn.fromString(t,...r));return V9(n),new fd(e.firestore,null,n)}}function Lr(e,t,...r){if(e=ua(e),arguments.length===1&&(t=JA.newId()),QJ("doc","path",t),e instanceof hT){const n=Yn.fromString(t,...r);return U9(n),new Pa(e,null,new Zt(n))}{if(!(e instanceof Pa||e instanceof fd))throw new Tt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Yn.fromString(t,...r));return U9(n),new Pa(e.firestore,e instanceof fd?e.converter:null,new Zt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PB="AsyncQueue";class IB{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zZ(this,"async_queue_retry"),this._c=()=>{const n=d4();n&&It(PB,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=d4();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=d4();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new ud;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!v1(t))throw t;It(PB,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,Sd("INTERNAL UNHANDLED ERROR: ",OB(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const a=zD.createAndSchedule(this,t,r,n,i=>this.hc(i));return this.tc.push(a),a}uc(){this.nc&&fr(47125,{Pc:OB(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function OB(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(e,["next","error","complete"])}class gu extends hT{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new IB,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new IB(t),this._firestoreClient=void 0,await t}}}function cee(e,t){const r=typeof e=="object"?e:KA(),n=typeof e=="string"?e:qE,a=R0(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=WQ("firestore");i&&lee(a,...i)}return a}function w1(e){if(e._terminated)throw new Tt(Ze.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||VCe(e),e._firestoreClient}function VCe(e){var n,a,i;const t=e._freezeSettings(),r=function(o,l,c,u){return new hNe(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,see(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((i=t.localCache)!=null&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new MCe(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Al(ns.fromBase64String(t))}catch(r){throw new Tt(Ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Al(ns.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Al._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($w(t,Al._jsonSchema))return Al.fromBase64String(t.bytes)}}Al._jsonSchemaVersion="firestore/bytes/1.0",Al._jsonSchema={type:Ai("string",Al._jsonSchemaVersion),bytes:Ai("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Tt(Ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Tt(Ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Tt(Ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Wr(this._lat,t._lat)||Wr(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cu._jsonSchemaVersion}}static fromJSON(t){if($w(t,cu._jsonSchema))return new cu(t.latitude,t.longitude)}}cu._jsonSchemaVersion="firestore/geoPoint/1.0",cu._jsonSchema={type:Ai("string",cu._jsonSchemaVersion),latitude:Ai("number"),longitude:Ai("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}toJSON(){return{type:uu._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($w(t,uu._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new uu(t.vectorValues);throw new Tt(Ze.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}uu._jsonSchemaVersion="firestore/vectorValue/1.0",uu._jsonSchema={type:Ai("string",uu._jsonSchemaVersion),vectorValues:Ai("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zCe=/^__.*__$/;class WCe{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new F0(t,this.data,this.fieldMask,r,this.fieldTransforms):new Uw(t,this.data,r,this.fieldTransforms)}}class uee{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new F0(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function fee(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fr(40011,{Ac:e})}}class JD{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new JD({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var a;const r=(a=this.path)==null?void 0:a.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var a;const r=(a=this.path)==null?void 0:a.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return r5(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(fee(this.Ac)&&zCe.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class HCe{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||uT(t)}Cc(t,r,n,a=!1){return new JD({Ac:t,methodName:r,Dc:n,path:Zi.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qw(e){const t=e._freezeSettings(),r=uT(e._databaseId);return new HCe(e._databaseId,!!t.ignoreUndefinedProperties,r)}function ZD(e,t,r,n,a,i={}){const s=e.Cc(i.merge||i.mergeFields?2:0,t,r,a);tj("Data must be an object, but it was:",s,n);const o=pee(n,s);let l,c;if(i.merge)l=new Nl(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=PP(t,f,r);if(!s.contains(h))throw new Tt(Ze.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);gee(u,h)||u.push(h)}l=new Nl(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new WCe(new Fo(o),l,c)}class pT extends Hw{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pT}}class ej extends Hw{_toFieldTransform(t){return new BNe(t.path,new j2)}isEqual(t){return t instanceof ej}}function dee(e,t,r,n){const a=e.Cc(1,t,r);tj("Data must be an object, but it was:",a,n);const i=[],s=Fo.empty();M0(n,(l,c)=>{const u=rj(t,l,r);c=ua(c);const f=a.yc(u);if(c instanceof pT)i.push(u);else{const h=Gw(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new Nl(i);return new uee(s,o,a.fieldTransforms)}function hee(e,t,r,n,a,i){const s=e.Cc(1,t,r),o=[PP(t,n,r)],l=[a];if(i.length%2!=0)throw new Tt(Ze.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(PP(t,i[h])),l.push(i[h+1]);const c=[],u=Fo.empty();for(let h=o.length-1;h>=0;--h)if(!gee(c,o[h])){const p=o[h];let m=l[h];m=ua(m);const g=s.yc(p);if(m instanceof pT)c.push(p);else{const v=Gw(m,g);v!=null&&(c.push(p),u.set(p,v))}}const f=new Nl(c);return new uee(u,f,s.fieldTransforms)}function qCe(e,t,r,n=!1){return Gw(r,e.Cc(n?4:3,t))}function Gw(e,t){if(mee(e=ua(e)))return tj("Unsupported field value:",t,e),pee(e,t);if(e instanceof Hw)return function(n,a){if(!fee(a.Ac))throw a.Sc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=Gw(o,a.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=ua(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return LNe(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Un.fromDate(n);return{timestampValue:QE(a.serializer,i)}}if(n instanceof Un){const i=new Un(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:QE(a.serializer,i)}}if(n instanceof cu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Al)return{bytesValue:OZ(a.serializer,n._byteString)};if(n instanceof Pa){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:jD(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof uu)return function(s,o){return{mapValue:{fields:{[oZ]:{stringValue:lZ},[GE]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return ID(o.serializer,c)})}}}}}}(n,a);throw a.Sc(`Unsupported field value: ${ZA(n)}`)}(e,t)}function pee(e,t){const r={};return tZ(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):M0(e,(n,a)=>{const i=Gw(a,t.mc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function mee(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Un||e instanceof cu||e instanceof Al||e instanceof Pa||e instanceof Hw||e instanceof uu)}function tj(e,t,r){if(!mee(r)||!ZJ(r)){const n=ZA(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function PP(e,t,r){if((t=ua(t))instanceof b1)return t._internalPath;if(typeof t=="string")return rj(e,t);throw r5("Field path arguments must be of type string or ",e,!1,void 0,r)}const GCe=new RegExp("[~\\*/\\[\\]]");function rj(e,t,r){if(t.search(GCe)>=0)throw r5(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new b1(...t.split("."))._internalPath}catch{throw r5(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function r5(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Tt(Ze.INVALID_ARGUMENT,o+e+l)}function gee(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vee{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pa(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new KCe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(mT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class KCe extends vee{data(){return super.data()}}function mT(e,t){return typeof t=="string"?rj(e,t):t instanceof b1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yee(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Tt(Ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nj{}class gT extends nj{}function ta(e,t,...r){let n=[];t instanceof nj&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof vT).length,o=i.filter(l=>l instanceof Kw).length;if(s>1||s>0&&o>0)throw new Tt(Ze.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Kw extends gT{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new Kw(t,r,n)}_apply(t){const r=this._parse(t);return xee(t._query,r),new wf(t.firestore,t.converter,wP(t._query,r))}_parse(t){const r=qw(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Tt(Ze.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){RB(f,u);const m=[];for(const g of f)m.push(jB(l,i,g));h={arrayValue:{values:m}}}else h=jB(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||RB(f,u),h=qCe(o,s,f,u==="in"||u==="not-in");return Si.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Gn(e,t,r){const n=t,a=mT("where",e);return Kw._create(a,n,r)}class vT extends nj{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new vT(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:mu.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)xee(s,l),s=wP(s,l)}(t._query,r),new wf(t.firestore,t.converter,wP(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yT extends gT{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new yT(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Tt(Ze.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Tt(Ze.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new D2(i,s)}(t._query,this._field,this._direction);return new wf(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new y1(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function fu(e,t="asc"){const r=t,n=mT("orderBy",e);return yT._create(n,r)}class xT extends gT{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new xT(t,r,n)}_apply(t){return new wf(t.firestore,t.converter,YE(t._query,this._limit,this._limitType))}}function aj(e){return rNe("limit",e),xT._create("limit",e,"F")}function jB(e,t,r){if(typeof(r=ua(r))=="string"){if(r==="")throw new Tt(Ze.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!gZ(t)&&r.indexOf("/")!==-1)throw new Tt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Yn.fromString(r));if(!Zt.isDocumentKey(n))throw new Tt(Ze.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return X9(e,new Zt(n))}if(r instanceof Pa)return X9(e,r._key);throw new Tt(Ze.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ZA(r)}.`)}function RB(e,t){if(!Array.isArray(e)||e.length===0)throw new Tt(Ze.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function xee(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Tt(Ze.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Tt(Ze.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class wee{convertValue(t,r="none"){switch(v0(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ii(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(g0(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw fr(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return M0(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var n,a,i;const r=(i=(a=(n=t.fields)==null?void 0:n[GE].arrayValue)==null?void 0:a.values)==null?void 0:i.map(s=>ii(s.doubleValue));return new uu(r)}convertGeoPoint(t){return new cu(ii(t.latitude),ii(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=rT(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(I2(t));default:return null}}convertTimestamp(t){const r=m0(t);return new Un(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Yn.fromString(t);mn(FZ(n),9688,{name:t});const a=new Lv(n.get(1),n.get(3)),i=new Zt(n.popFirst(5));return a.isEqual(r)||Sd(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Ug{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class e0 extends vee{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Ox(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(mT("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(Ze.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=e0._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}e0._jsonSchemaVersion="firestore/documentSnapshot/1.0",e0._jsonSchema={type:Ai("string",e0._jsonSchemaVersion),bundleSource:Ai("string","DocumentSnapshot"),bundleName:Ai("string"),bundle:Ai("string")};class Ox extends e0{data(t={}){return super.data(t)}}class t0{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new Ug(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new Ox(this._firestore,this._userDataWriter,n.key,n,new Ug(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Tt(Ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new Ox(a._firestore,a._userDataWriter,o.doc.key,o.doc,new Ug(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new Ox(a._firestore,a._userDataWriter,o.doc.key,o.doc,new Ug(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:YCe(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Tt(Ze.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=t0._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=JA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach(i=>{i._document!==null&&(r.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function YCe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fr(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(e){e=Ys(e,Pa);const t=Ys(e.firestore,gu);return $Ce(w1(t),e._key).then(r=>bee(t,e,r))}t0._jsonSchemaVersion="firestore/querySnapshot/1.0",t0._jsonSchema={type:Ai("string",t0._jsonSchemaVersion),bundleSource:Ai("string","QuerySnapshot"),bundleName:Ai("string"),bundle:Ai("string")};class sj extends wee{constructor(t){super(),this.firestore=t}convertBytes(t){return new Al(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Pa(this.firestore,null,r)}}function Ei(e){e=Ys(e,wf);const t=Ys(e.firestore,gu),r=w1(t),n=new sj(t);return yee(e._query),UCe(r,e._query).then(a=>new t0(t,n,e,a))}function r0(e,t,r){e=Ys(e,Pa);const n=Ys(e.firestore,gu),a=ij(e.converter,t,r);return S1(n,[ZD(qw(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,Eo.none())])}function rf(e,t,r,...n){e=Ys(e,Pa);const a=Ys(e.firestore,gu),i=qw(a);let s;return s=typeof(t=ua(t))=="string"||t instanceof b1?hee(i,"updateDoc",e._key,t,r,n):dee(i,"updateDoc",e._key,t),S1(a,[s.toMutation(e._key,Eo.exists(!0))])}function Ad(e){return S1(Ys(e.firestore,gu),[new lT(e._key,Eo.none())])}function gm(e,t){const r=Ys(e.firestore,gu),n=Lr(e),a=ij(e.converter,t);return S1(r,[ZD(qw(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,Eo.exists(!1))]).then(()=>n)}function wT(e,...t){var l,c,u;e=ua(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||DB(t[n])||(r=t[n++]);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(DB(t[n])){const f=t[n];t[n]=(l=f.next)==null?void 0:l.bind(f),t[n+1]=(c=f.error)==null?void 0:c.bind(f),t[n+2]=(u=f.complete)==null?void 0:u.bind(f)}let i,s,o;if(e instanceof Pa)s=Ys(e.firestore,gu),o=nT(e._key.path),i={next:f=>{t[n]&&t[n](bee(s,e,f))},error:t[n+1],complete:t[n+2]};else{const f=Ys(e,wf);s=Ys(f.firestore,gu),o=f._query;const h=new sj(s);i={next:p=>{t[n]&&t[n](new t0(s,h,f,p))},error:t[n+1],complete:t[n+2]},yee(e._query)}return function(h,p,m,g){const v=new QD(g),y=new KD(p,v,m);return h.asyncQueue.enqueueAndForget(async()=>HD(await t5(h),y)),()=>{v.Nu(),h.asyncQueue.enqueueAndForget(async()=>qD(await t5(h),y))}}(w1(s),o,a,i)}function S1(e,t){return function(n,a){const i=new ud;return n.asyncQueue.enqueueAndForget(async()=>NCe(await BCe(n),a,i)),i.promise}(w1(e),t)}function bee(e,t,r){const n=r.docs.get(t._key),a=new sj(e);return new e0(e,a,t._key,n,new Ug(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ee{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=qw(t)}set(t,r,n){this._verifyNotCommitted();const a=p4(t,this._firestore),i=ij(a.converter,r,n),s=ZD(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,Eo.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=p4(t,this._firestore);let s;return s=typeof(r=ua(r))=="string"||r instanceof b1?hee(this._dataReader,"WriteBatch.update",i._key,r,n,a):dee(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,Eo.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=p4(t,this._firestore);return this._mutations=this._mutations.concat(new lT(r._key,Eo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Tt(Ze.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function p4(e,t){if((e=ua(e)).firestore!==t)throw new Tt(Ze.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function br(){return new ej("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(e){return w1(e=Ys(e,gu)),new _ee(e,t=>S1(e,t))}(function(t,r=!0){(function(a){m1=a})(qm),hu(new Sc("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new gu(new Kke(n.getProvider("auth-internal")),new Qke(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Tt(Ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lv(c.options.projectId,u)}(s,a),s);return i={useFetchStreams:r,...i},o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Yo(M9,F9,t),Yo(M9,F9,"esm2020")})();const XCe=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:wee,Bytes:Al,CollectionReference:fd,DocumentReference:Pa,DocumentSnapshot:e0,FieldPath:b1,FieldValue:Hw,Firestore:gu,FirestoreError:Tt,GeoPoint:cu,Query:wf,QueryCompositeFilterConstraint:vT,QueryConstraint:gT,QueryDocumentSnapshot:Ox,QueryFieldFilterConstraint:Kw,QueryLimitConstraint:xT,QueryOrderByConstraint:yT,QuerySnapshot:t0,SnapshotMetadata:Ug,Timestamp:Un,VectorValue:uu,WriteBatch:_ee,_AutoId:JA,_ByteString:ns,_DatabaseId:Lv,_DocumentKey:Zt,_EmptyAuthCredentialsProvider:XJ,_FieldPath:Zi,_cast:Ys,_logWarn:pm,_validateIsNotUsedTogether:JJ,addDoc:gm,collection:Qr,connectFirestoreEmulator:lee,deleteDoc:Ad,doc:Lr,ensureFirestoreConfigured:w1,executeWrite:S1,getDoc:_1,getDocs:Ei,getFirestore:cee,limit:aj,onSnapshot:wT,orderBy:fu,query:ta,serverTimestamp:br,setDoc:r0,updateDoc:rf,where:Gn,writeBatch:M2},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const See="firebasestorage.googleapis.com",QCe="storageBucket",JCe=2*60*1e3,ZCe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends Pc{constructor(t,r,n=0){super(m4(t),`Firebase Storage: ${r} (${m4(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bf.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return m4(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ff;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ff||(ff={}));function m4(e){return"storage/"+e}function e3e(){const e="An unknown error occurred, please check the error payload for server response.";return new bf(ff.UNKNOWN,e)}function t3e(){return new bf(ff.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function r3e(){return new bf(ff.CANCELED,"User canceled the upload/download.")}function n3e(e){return new bf(ff.INVALID_URL,"Invalid URL '"+e+"'.")}function a3e(e){return new bf(ff.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function LB(e){return new bf(ff.INVALID_ARGUMENT,e)}function Eee(){return new bf(ff.APP_DELETED,"The Firebase app was deleted.")}function i3e(e){return new bf(ff.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=au.makeFromUrl(t,r)}catch{return new au(t,"")}if(n.path==="")return n;throw a3e(t)}static makeFromUrl(t,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function i(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+a+s,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${a}/o${h}`,"i"),m={bucket:1,path:3},g=r===See?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",y=new RegExp(`^https?://${g}/${a}/${v}`,"i"),w=[{regex:o,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<w.length;E++){const I=w[E],P=I.regex.exec(t);if(P){const A=P[I.indices.bucket];let S=P[I.indices.path];S||(S=""),n=new au(A,S),I.postModify(n);break}}if(n==null)throw n3e(t);return n}}class s3e{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3e(e,t,r){let n=1,a=null,i=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(...v){c||(c=!0,t.apply(null,v))}function f(v){a=setTimeout(()=>{a=null,e(p,l())},v)}function h(){i&&clearTimeout(i)}function p(v,...y){if(c){h();return}if(v){h(),u.call(null,v,...y);return}if(l()||s){h(),u.call(null,v,...y);return}n<64&&(n*=2);let w;o===1?(o=2,w=0):w=(n+Math.random())*1e3,f(w)}let m=!1;function g(v){m||(m=!0,h(),!c&&(a!==null?(v||(o=2),clearTimeout(a),f(0)):v||(o=1)))}return f(0),i=setTimeout(()=>{s=!0,g(!0)},r),g}function l3e(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3e(e){return e!==void 0}function MB(e,t,r,n){if(n<t)throw LB(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw LB(`Invalid value for '${e}'. Expected ${r} or less.`)}function u3e(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const a=t(n)+"="+t(e[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var n5;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(n5||(n5={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f3e(e,t){const r=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return r||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3e{constructor(t,r,n,a,i,s,o,l,c,u,f,h=!0,p=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,g)=>{this.resolve_=m,this.reject_=g,this.start_()})}start_(){const t=(n,a)=>{if(a){n(!1,new P_(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const o=i.getErrorCode()===n5.NO_ERROR,l=i.getStatus();if(!o||f3e(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===n5.ABORT;n(!1,new P_(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new P_(c,i))})},r=(n,a)=>{const i=this.resolve_,s=this.reject_,o=a.connection;if(a.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());c3e(l)?i(l):i()}catch(l){s(l)}else if(o!==null){const l=e3e();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(a.canceled){const l=this.appDelete_?Eee():r3e();s(l)}else{const l=t3e();s(l)}};this.canceled_?r(!1,new P_(!1,null,!0)):this.backoffId_=o3e(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&l3e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class P_{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function h3e(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function p3e(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function m3e(e,t){t&&(e["X-Firebase-GMPID"]=t)}function g3e(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function v3e(e,t,r,n,a,i,s=!0,o=!1){const l=u3e(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return m3e(u,t),h3e(u,r),p3e(u,i),g3e(u,n),new d3e(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3e(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function x3e(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(t,r){this._service=t,r instanceof au?this._location=r:this._location=au.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new a5(t,r)}get root(){const t=new au(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return x3e(this._location.path)}get storage(){return this._service}get parent(){const t=y3e(this._location.path);if(t===null)return null;const r=new au(this._location.bucket,t);return new a5(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw i3e(t)}}function FB(e,t){const r=t==null?void 0:t[QCe];return r==null?null:au.makeFromBucketSpec(r,e)}function w3e(e,t,r,n={}){e.host=`${t}:${r}`;const a=Wm(t);a&&(pD(`https://${e.host}/b`),mD("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:i}=n;i&&(e._overrideAuthToken=typeof i=="string"?i:GQ(i,e.app.options.projectId))}class b3e{constructor(t,r,n,a,i,s=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=See,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=JCe,this._maxUploadRetryTime=ZCe,this._requests=new Set,a!=null?this._bucket=au.makeFromBucketSpec(a,this._host):this._bucket=FB(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=au.makeFromBucketSpec(this._url,t):this._bucket=FB(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){MB("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){MB("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(El(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new a5(this,t)}_makeRequest(t,r,n,a,i=!0){if(this._deleted)return new s3e(Eee());{const s=v3e(t,this._appId,n,a,r,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,a).getPromise()}}const BB="@firebase/storage",$B="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aee="storage";function _3e(e=KA(),t){e=ua(e);const n=R0(e,Aee).getImmediate({identifier:t}),a=WQ("storage");return a&&S3e(n,...a),n}function S3e(e,t,r,n={}){w3e(e,t,r,n)}function E3e(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new b3e(r,n,a,t,qm)}function A3e(){hu(new Sc(Aee,E3e,"PUBLIC").setMultipleInstances(!0)),Yo(BB,$B,""),Yo(BB,$B,"esm2020")}A3e();const Tee="@firebase/installations",oj="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kee=1e4,Nee=`w:${oj}`,Cee="FIS_v2",T3e="https://firebaseinstallations.googleapis.com/v1",k3e=60*60*1e3,N3e="installations",C3e="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3e={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},vm=new Hm(N3e,C3e,P3e);function Pee(e){return e instanceof Pc&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iee({projectId:e}){return`${T3e}/projects/${e}/installations`}function Oee(e){return{token:e.token,requestStatus:2,expiresIn:O3e(e.expiresIn),creationTime:Date.now()}}async function Dee(e,t){const n=(await t.json()).error;return vm.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function jee({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function I3e(e,{refreshToken:t}){const r=jee(e);return r.append("Authorization",D3e(t)),r}async function Ree(e){const t=await e();return t.status>=500&&t.status<600?e():t}function O3e(e){return Number(e.replace("s","000"))}function D3e(e){return`${Cee} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3e({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=Iee(e),a=jee(e),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&a.append("x-firebase-client",c)}const s={fid:r,authVersion:Cee,appId:e.appId,sdkVersion:Nee},o={method:"POST",headers:a,body:JSON.stringify(s)},l=await Ree(()=>fetch(n,o));if(l.ok){const c=await l.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:Oee(c.authToken)}}else throw await Dee("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lee(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3e(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L3e=/^[cdef][\w-]{21}$/,IP="";function M3e(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=F3e(e);return L3e.test(r)?r:IP}catch{return IP}}function F3e(e){return R3e(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mee=new Map;function Fee(e,t){const r=bT(e);Bee(r,t),B3e(r,t)}function Bee(e,t){const r=Mee.get(e);if(r)for(const n of r)n(t)}function B3e(e,t){const r=$3e();r&&r.postMessage({key:e,fid:t}),U3e()}let Cp=null;function $3e(){return!Cp&&"BroadcastChannel"in self&&(Cp=new BroadcastChannel("[Firebase] FID Change"),Cp.onmessage=e=>{Bee(e.data.key,e.data.fid)}),Cp}function U3e(){Mee.size===0&&Cp&&(Cp.close(),Cp=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3e="firebase-installations-database",z3e=1,ym="firebase-installations-store";let g4=null;function lj(){return g4||(g4=ZQ(V3e,z3e,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ym)}}})),g4}async function i5(e,t){const r=bT(e),a=(await lj()).transaction(ym,"readwrite"),i=a.objectStore(ym),s=await i.get(r);return await i.put(t,r),await a.done,(!s||s.fid!==t.fid)&&Fee(e,t.fid),t}async function $ee(e){const t=bT(e),n=(await lj()).transaction(ym,"readwrite");await n.objectStore(ym).delete(t),await n.done}async function _T(e,t){const r=bT(e),a=(await lj()).transaction(ym,"readwrite"),i=a.objectStore(ym),s=await i.get(r),o=t(s);return o===void 0?await i.delete(r):await i.put(o,r),await a.done,o&&(!s||s.fid!==o.fid)&&Fee(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cj(e){let t;const r=await _T(e.appConfig,n=>{const a=W3e(n),i=H3e(e,a);return t=i.registrationPromise,i.installationEntry});return r.fid===IP?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function W3e(e){const t=e||{fid:M3e(),registrationStatus:0};return Uee(t)}function H3e(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(vm.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=q3e(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:G3e(e)}:{installationEntry:t}}async function q3e(e,t){try{const r=await j3e(e,t);return i5(e.appConfig,r)}catch(r){throw Pee(r)&&r.customData.serverCode===409?await $ee(e.appConfig):await i5(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function G3e(e){let t=await UB(e.appConfig);for(;t.registrationStatus===1;)await Lee(100),t=await UB(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await cj(e);return n||r}return t}function UB(e){return _T(e,t=>{if(!t)throw vm.create("installation-not-found");return Uee(t)})}function Uee(e){return K3e(e)?{fid:e.fid,registrationStatus:0}:e}function K3e(e){return e.registrationStatus===1&&e.registrationTime+kee<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3e({appConfig:e,heartbeatServiceProvider:t},r){const n=X3e(e,r),a=I3e(e,r),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&a.append("x-firebase-client",c)}const s={installation:{sdkVersion:Nee,appId:e.appId}},o={method:"POST",headers:a,body:JSON.stringify(s)},l=await Ree(()=>fetch(n,o));if(l.ok){const c=await l.json();return Oee(c)}else throw await Dee("Generate Auth Token",l)}function X3e(e,{fid:t}){return`${Iee(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(e,t=!1){let r;const n=await _T(e.appConfig,i=>{if(!Vee(i))throw vm.create("not-registered");const s=i.authToken;if(!t&&Z3e(s))return i;if(s.requestStatus===1)return r=Q3e(e,t),i;{if(!navigator.onLine)throw vm.create("app-offline");const o=tPe(i);return r=J3e(e,o),o}});return r?await r:n.authToken}async function Q3e(e,t){let r=await VB(e.appConfig);for(;r.authToken.requestStatus===1;)await Lee(100),r=await VB(e.appConfig);const n=r.authToken;return n.requestStatus===0?uj(e,t):n}function VB(e){return _T(e,t=>{if(!Vee(t))throw vm.create("not-registered");const r=t.authToken;return rPe(r)?{...t,authToken:{requestStatus:0}}:t})}async function J3e(e,t){try{const r=await Y3e(e,t),n={...t,authToken:r};return await i5(e.appConfig,n),r}catch(r){if(Pee(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await $ee(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await i5(e.appConfig,n)}throw r}}function Vee(e){return e!==void 0&&e.registrationStatus===2}function Z3e(e){return e.requestStatus===2&&!ePe(e)}function ePe(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+k3e}function tPe(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function rPe(e){return e.requestStatus===1&&e.requestTime+kee<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nPe(e){const t=e,{installationEntry:r,registrationPromise:n}=await cj(t);return n?n.catch(console.error):uj(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aPe(e,t=!1){const r=e;return await iPe(r),(await uj(r,t)).token}async function iPe(e){const{registrationPromise:t}=await cj(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sPe(e){if(!e||!e.options)throw v4("App Configuration");if(!e.name)throw v4("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw v4(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function v4(e){return vm.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zee="installations",oPe="installations-internal",lPe=e=>{const t=e.getProvider("app").getImmediate(),r=sPe(t),n=R0(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},cPe=e=>{const t=e.getProvider("app").getImmediate(),r=R0(t,zee).getImmediate();return{getId:()=>nPe(r),getToken:a=>aPe(r,a)}};function uPe(){hu(new Sc(zee,lPe,"PUBLIC")),hu(new Sc(oPe,cPe,"PRIVATE"))}uPe();Yo(Tee,oj);Yo(Tee,oj,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5="analytics",fPe="firebase_id",dPe="origin",hPe=60*1e3,pPe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fj="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=new GA("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mPe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Il=new Hm("analytics","Analytics",mPe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gPe(e){if(!e.startsWith(fj)){const t=Il.create("invalid-gtag-resource",{gtagURL:e});return Xo.warn(t.message),""}return e}function Wee(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function vPe(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function yPe(e,t){const r=vPe("firebase-js-sdk-policy",{createScriptURL:gPe}),n=document.createElement("script"),a=`${fj}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function xPe(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function wPe(e,t,r,n,a,i){const s=n[a];try{if(s)await t[s];else{const l=(await Wee(r)).find(c=>c.measurementId===a);l&&await t[l.appId]}}catch(o){Xo.error(o)}e("config",a,i)}async function bPe(e,t,r,n,a){try{let i=[];if(a&&a.send_to){let s=a.send_to;Array.isArray(s)||(s=[s]);const o=await Wee(r);for(const l of s){const c=o.find(f=>f.measurementId===l),u=c&&t[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",n,a||{})}catch(i){Xo.error(i)}}function _Pe(e,t,r,n){async function a(i,...s){try{if(i==="event"){const[o,l]=s;await bPe(e,t,r,o,l)}else if(i==="config"){const[o,l]=s;await wPe(e,t,r,n,o,l)}else if(i==="consent"){const[o,l]=s;e("consent",o,l)}else if(i==="get"){const[o,l,c]=s;e("get",o,l,c)}else if(i==="set"){const[o]=s;e("set",o)}else e(i,...s)}catch(o){Xo.error(o)}}return a}function SPe(e,t,r,n,a){let i=function(...s){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(i=window[a]),window[a]=_Pe(i,e,t,r),{gtagCore:i,wrappedGtag:window[a]}}function EPe(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(fj)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const APe=30,TPe=1e3;class kPe{constructor(t={},r=TPe){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Hee=new kPe;function NPe(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function CPe(e){var s;const{appId:t,apiKey:r}=e,n={method:"GET",headers:NPe(r)},a=pPe.replace("{app-id}",t),i=await fetch(a,n);if(i.status!==200&&i.status!==304){let o="";try{const l=await i.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw Il.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function PPe(e,t=Hee,r){const{appId:n,apiKey:a,measurementId:i}=e.options;if(!n)throw Il.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:n};throw Il.create("no-api-key")}const s=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new DPe;return setTimeout(async()=>{o.abort()},hPe),qee({appId:n,apiKey:a,measurementId:i},s,o,t)}async function qee(e,{throttleEndTimeMillis:t,backoffCount:r},n,a=Hee){var o;const{appId:i,measurementId:s}=e;try{await IPe(n,t)}catch(l){if(s)return Xo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:s};throw l}try{const l=await CPe(e);return a.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!OPe(c)){if(a.deleteThrottleMetadata(i),s)return Xo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?l9(r,a.intervalMillis,APe):l9(r,a.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return a.setThrottleMetadata(i,f),Xo.debug(`Calling attemptFetch again in ${u} millis`),qee(e,f,n,a)}}function IPe(e,t){return new Promise((r,n)=>{const a=Math.max(t-Date.now(),0),i=setTimeout(r,a);e.addEventListener(()=>{clearTimeout(i),n(Il.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function OPe(e){if(!(e instanceof Pc)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class DPe{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function jPe(e,t,r,n,a){if(a&&a.global){e("event",r,n);return}else{const i=await t,s={...n,send_to:i};e("event",r,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RPe(){if(YQ())try{await XQ()}catch(e){return Xo.warn(Il.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Xo.warn(Il.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function LPe(e,t,r,n,a,i,s){const o=PPe(e);o.then(h=>{r[h.measurementId]=h.appId,e.options.measurementId&&h.measurementId!==e.options.measurementId&&Xo.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Xo.error(h)),t.push(o);const l=RPe().then(h=>{if(h)return n.getId()}),[c,u]=await Promise.all([o,l]);EPe(i)||yPe(i,c.measurementId),a("js",new Date);const f=(s==null?void 0:s.config)??{};return f[dPe]="firebase",f.update=!0,u!=null&&(f[fPe]=u),a("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MPe{constructor(t){this.app=t}_delete(){return delete Dx[this.app.options.appId],Promise.resolve()}}let Dx={},zB=[];const WB={};let y4="dataLayer",FPe="gtag",HB,Gee,qB=!1;function BPe(){const e=[];if(KQ()&&e.push("This is a browser extension environment."),f5e()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,a)=>`(${a+1}) ${n}`).join(" "),r=Il.create("invalid-analytics-context",{errorInfo:t});Xo.warn(r.message)}}function $Pe(e,t,r){BPe();const n=e.options.appId;if(!n)throw Il.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Xo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Il.create("no-api-key");if(Dx[n]!=null)throw Il.create("already-exists",{id:n});if(!qB){xPe(y4);const{wrappedGtag:i,gtagCore:s}=SPe(Dx,zB,WB,y4,FPe);Gee=i,HB=s,qB=!0}return Dx[n]=LPe(e,zB,WB,t,HB,y4,r),new MPe(e)}function UPe(e=KA()){e=ua(e);const t=R0(e,s5);return t.isInitialized()?t.getImmediate():VPe(e)}function VPe(e,t={}){const r=R0(e,s5);if(r.isInitialized()){const a=r.getImmediate();if(h0(t,r.getOptions()))return a;throw Il.create("already-initialized")}return r.initialize({options:t})}function zPe(e,t,r,n){e=ua(e),jPe(Gee,Dx[e.app.options.appId],t,r,n).catch(a=>Xo.error(a))}const GB="@firebase/analytics",KB="0.10.18";function WPe(){hu(new Sc(s5,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return $Pe(n,a,r)},"PUBLIC")),hu(new Sc("analytics-internal",e,"PRIVATE")),Yo(GB,KB),Yo(GB,KB,"esm2020");function e(t){try{const r=t.getProvider(s5).getImmediate();return{logEvent:(n,a,i)=>zPe(r,n,a,i)}}catch(r){throw Il.create("interop-component-reg-failed",{reason:r})}}}WPe();const HPe={apiKey:"AIzaSyDA4Ia0fnlZ3NgQbCtWHQIeosBS0PUVLeo",authDomain:"centralteleoperadores.firebaseapp.com",projectId:"centralteleoperadores",storageBucket:"centralteleoperadores.firebasestorage.app",messagingSenderId:"260173879227",appId:"1:260173879227:web:80577712429c58d201969e",measurementId:"G-TLLE9RJBPM"},ST=eJ(HPe),ma=zke(ST),Ct=cee(ST);_3e(ST);typeof window<"u"&&UPe(ST);const Kee=Object.freeze(Object.defineProperty({__proto__:null,auth:ma,db:Ct},Symbol.toStringTag,{value:"Module"})),Yee=j.createContext(),$l=()=>{const e=j.useContext(Yee);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e},qPe=({children:e})=>{const[t,r]=j.useState(null),[n,a]=j.useState(!0),[i,s]=j.useState(null),o=async(f,h,p)=>{try{s(null);const m=await kJ(ma,f,h);return p&&await CJ(m.user,{displayName:p}),m.user}catch(m){throw s(m.message),m}},l=async(f,h)=>{try{return s(null),(await NJ(ma,f,h)).user}catch(p){throw s(p.message),p}},c=async()=>{try{s(null),await IJ(ma)}catch(f){throw s(f.message),f}};j.useEffect(()=>PJ(ma,h=>{r(h),a(!1)}),[]);const u={user:t,loading:n,error:i,register:o,login:l,logout:c,clearError:()=>s(null)};return d.jsx(Yee.Provider,{value:u,children:e})},dc={OPERATORS:"operators",ASSIGNMENTS:"assignments",CALL_DATA:"callData",USER_DATA:"userData",BENEFICIARIES:"beneficiaries",BENEFICIARY_UPLOADS:"beneficiaryUploads"},Td=new Map,Xee=(e=null)=>{e?Td.delete(e):Td.clear()},Uv=()=>{var e,t,r;try{const n=(r=(t=(e=window.firebase)==null?void 0:e.auth)==null?void 0:t.call(e))==null?void 0:r.currentUser;return(n==null?void 0:n.uid)||"anonymous"}catch{return"anonymous"}},hc=(e,t)=>{const r=Uv();if(e.code==="permission-denied")return Td.has(r)||(console.warn(`⚠️ Firebase Firestore: Permisos insuficientes para usuario ${r}. La aplicación funciona en modo demo.`),console.info("💡 Para habilitar persistencia, configura Firestore siguiendo las instrucciones en FIREBASE_SETUP.md"),Td.set(r,!0)),null;if(e.code==="failed-precondition"&&e.message.includes("index"))return console.info("🔍 Firebase está creando índices necesarios. Usando datos locales temporalmente."),console.info("🔗 Estado del índice: https://console.firebase.google.com/project/centralteleoperadores/firestore/indexes"),null;throw console.error(`Error en ${t}:`,e),e},Vg={async create(e,t){try{return{id:(await gm(Qr(Ct,dc.OPERATORS),{...t,userId:e,createdAt:new Date,updatedAt:new Date})).id,...t}}catch(r){return hc(r,"crear operador")}},async getByUser(e){const t=Uv();if(Td.has(t))return[];try{const r=ta(Qr(Ct,dc.OPERATORS),Gn("userId","==",e));return(await Ei(r)).docs.map(i=>({id:i.id,...i.data()})).sort((i,s)=>{var c,u,f,h;const o=((u=(c=i.createdAt)==null?void 0:c.toDate)==null?void 0:u.call(c))||new Date(0);return(((h=(f=s.createdAt)==null?void 0:f.toDate)==null?void 0:h.call(f))||new Date(0))-o})}catch(r){return hc(r,"obtener operadores")||[]}},async update(e,t){try{const r=Lr(Ct,dc.OPERATORS,e);return await rf(r,{...t,updatedAt:new Date}),!0}catch(r){return hc(r,"actualizar operador")}},async delete(e){try{return await Ad(Lr(Ct,dc.OPERATORS,e)),!0}catch(t){return hc(t,"eliminar operador")}},async getAll(){const e=Uv();if(Td.has(e))return console.log(`⚠️ Omitiendo getAll() para usuario ${e} debido a errores previos`),[];try{console.log("📥 Obteniendo todos los operadores desde Firebase...");const r=(await Ei(Qr(Ct,dc.OPERATORS))).docs.map(n=>({id:n.id,...n.data()}));return console.log("✅ Operadores obtenidos:",r.length),r.sort((n,a)=>{var o,l,c,u;const i=((l=(o=n.createdAt)==null?void 0:o.toDate)==null?void 0:l.call(o))||new Date(0);return(((u=(c=a.createdAt)==null?void 0:c.toDate)==null?void 0:u.call(c))||new Date(0))-i})}catch(t){return console.error("❌ Error obteniendo todos los operadores:",t),hc(t,"obtener todos los operadores")||[]}}},bp={async saveOperatorAssignments(e,t,r){try{const n=Lr(Ct,dc.ASSIGNMENTS,`${e}_${t}`);return await r0(n,{userId:e,operatorId:t,assignments:r,updatedAt:new Date}),!0}catch(n){return hc(n,"guardar asignaciones")}},async getOperatorAssignments(e,t){try{const r=Lr(Ct,dc.ASSIGNMENTS,`${e}_${t}`),n=await _1(r);return n.exists()?n.data().assignments||[]:[]}catch(r){return hc(r,"obtener asignaciones")||[]}},async getAllUserAssignments(e){const t=Uv();if(Td.has(t))return{};try{const r=ta(Qr(Ct,dc.ASSIGNMENTS),Gn("userId","==",e)),n=await Ei(r),a={};return n.docs.forEach(i=>{const s=i.data();a[s.operatorId]=s.assignments||[]}),a}catch(r){return hc(r,"obtener todas las asignaciones")||{}}},async deleteOperatorAssignments(e,t){try{return await Ad(Lr(Ct,dc.ASSIGNMENTS,`${e}_${t}`)),!0}catch(r){return hc(r,"eliminar asignaciones")}},async getAll(){const e=Uv();if(Td.has(e))return console.log(`⚠️ Omitiendo getAll() para usuario ${e} debido a errores previos`),[];try{console.log("📥 Obteniendo todas las asignaciones desde Firebase...");const t=await Ei(Qr(Ct,dc.ASSIGNMENTS)),r=[];return t.docs.forEach(n=>{const a=n.data();a.assignments&&Array.isArray(a.assignments)&&a.assignments.forEach(i=>{r.push({...i,operatorId:a.operatorId,userId:a.userId})})}),console.log("✅ Asignaciones obtenidas:",r.length),r}catch(t){return console.error("❌ Error obteniendo todas las asignaciones:",t),hc(t,"obtener todas las asignaciones")||[]}}},nx={async saveCallData(e,t){try{const r=Lr(Ct,dc.CALL_DATA,e);return await r0(r,{userId:e,callData:t,updatedAt:new Date}),!0}catch(r){return hc(r,"guardar datos de llamadas")}},async getCallData(e){const t=Uv();if(Td.has(t))return[];try{const r=Lr(Ct,dc.CALL_DATA,e),n=await _1(r);return n.exists()?n.data().callData||[]:[]}catch(r){return hc(r,"obtener datos de llamadas")||[]}}},x4=Object.freeze(Object.defineProperty({__proto__:null,assignmentService:bp,callDataService:nx,operatorService:Vg,resetErrorState:Xee},Symbol.toStringTag,{value:"Module"})),YB=e=>{let t;const r=new Set,n=(c,u)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(p=>p(t,h))}},a=()=>t,o={setState:n,getState:a,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=t=e(n,a,o);return o},GPe=e=>e?YB(e):YB,KPe=e=>e;function YPe(e,t=KPe){const r=Pe.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return Pe.useDebugValue(r),r}const XB=e=>{const t=GPe(e),r=n=>YPe(t,n);return Object.assign(r,t),r},xu=e=>e?XB(e):XB,w4={toasts:[],toastIdCounter:0,isLoading:!1,loadingMessage:"",modal:{isOpen:!1,type:null,title:"",content:"",onConfirm:null,onCancel:null,data:null},isSidebarOpen:!1},Jc=xu((e,t)=>({...w4,pushToast:r=>{const n=t().toastIdCounter+1,a={id:n,type:r.type||"info",message:r.message||"",duration:r.duration!==void 0?r.duration:5e3};e(i=>({toasts:[...i.toasts,a],toastIdCounter:n}))},dismissToast:r=>{e(n=>({toasts:n.toasts.filter(a=>a.id!==r)}))},clearToasts:()=>{e({toasts:[]})},showSuccess:(r,n)=>{t().pushToast({type:"success",message:r,duration:n})},showError:(r,n)=>{t().pushToast({type:"error",message:r,duration:n})},showInfo:(r,n)=>{t().pushToast({type:"info",message:r,duration:n})},showWarning:(r,n)=>{t().pushToast({type:"warning",message:r,duration:n})},startLoading:(r="Cargando...")=>{e({isLoading:!0,loadingMessage:r})},stopLoading:()=>{e({isLoading:!1,loadingMessage:""})},openModal:r=>{e({modal:{isOpen:!0,type:r.type||"info",title:r.title||"",content:r.content||"",onConfirm:r.onConfirm||null,onCancel:r.onCancel||null,data:r.data||null}})},closeModal:()=>{e({modal:{...w4.modal}})},confirmModal:()=>{const{modal:r}=t();r.onConfirm&&r.onConfirm(r.data),t().closeModal()},cancelModal:()=>{const{modal:r}=t();r.onCancel&&r.onCancel(),t().closeModal()},toggleSidebar:()=>{e(r=>({isSidebarOpen:!r.isSidebarOpen}))},closeSidebar:()=>{e({isSidebarOpen:!1})},reset:()=>{e(w4)}})),XPe=e=>(t,r,n)=>{const a=n.subscribe;return n.subscribe=(s,o,l)=>{let c=s;if(o){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=s(n.getState());c=h=>{const p=s(h);if(!u(f,p)){const m=f;o(f=p,m)}},l!=null&&l.fireImmediately&&o(f,f)}return a(c)},e(t,r,n)},dj=XPe;function ET(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const s=l=>l===null?null:JSON.parse(l,void 0),o=(i=r.getItem(a))!=null?i:null;return o instanceof Promise?o.then(s):s(o)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const OP=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return OP(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return OP(n)(r)}}}},QPe=(e,t)=>(r,n,a)=>{let i={storage:ET(()=>localStorage),partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...t},s=!1;const o=new Set,l=new Set;let c=i.storage;if(!c)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...g)},n,a);const u=()=>{const g=i.partialize({...n()});return c.setItem(i.name,{state:g,version:i.version})},f=a.setState;a.setState=(g,v)=>{f(g,v),u()};const h=e((...g)=>{r(...g),u()},n,a);a.getInitialState=()=>h;let p;const m=()=>{var g,v;if(!c)return;s=!1,o.forEach(x=>{var w;return x((w=n())!=null?w:h)});const y=((v=i.onRehydrateStorage)==null?void 0:v.call(i,(g=n())!=null?g:h))||void 0;return OP(c.getItem.bind(c))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate){const w=i.migrate(x.state,x.version);return w instanceof Promise?w.then(E=>[!0,E]):[!0,w]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var w;const[E,I]=x;if(p=i.merge(I,(w=n())!=null?w:h),r(p,!0),E)return u()}).then(()=>{y==null||y(p,void 0),p=n(),s=!0,l.forEach(x=>x(p))}).catch(x=>{y==null||y(void 0,x)})};return a.persist={setOptions:g=>{i={...i,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},i.skipHydration||m(),p||h},Ym=QPe,JPe=!1,fg={ERROR:"error",WARN:"warn",INFO:"info",DEBUG:"debug"};class ZPe{constructor(){this.enabled=JPe,this.level=fg.ERROR}setEnabled(t){this.enabled=t}setLevel(t){Object.values(fg).includes(t)&&(this.level=t)}error(...t){console.error("❌ [ERROR]",...t)}warn(...t){!this.enabled&&this.level!==fg.ERROR||console.warn("⚠️ [WARN]",...t)}info(...t){this.enabled&&([fg.ERROR,fg.WARN].includes(this.level)||console.info("ℹ️ [INFO]",...t))}debug(...t){this.enabled&&this.level===fg.DEBUG&&console.log("🔍 [DEBUG]",...t)}firebase(...t){this.enabled&&console.log("🔥 [FIREBASE]",...t)}store(...t){this.enabled&&console.log("📦 [STORE]",...t)}metrics(...t){this.enabled&&console.log("📊 [METRICS]",...t)}api(...t){this.enabled&&console.log("🌐 [API]",...t)}navigation(...t){this.enabled&&console.log("🧭 [NAV]",...t)}auth(...t){this.enabled&&console.log("🔐 [AUTH]",...t)}time(t){this.enabled&&console.time(`⏱️ ${t}`)}timeEnd(t){this.enabled&&console.timeEnd(`⏱️ ${t}`)}table(t){this.enabled&&console.table(t)}group(t,r=!1){this.enabled&&(r?console.groupCollapsed(t):console.group(t))}groupEnd(){this.enabled&&console.groupEnd()}}const lt=new ZPe,eIe={OPERATORS:"operators",BENEFICIARIES:"beneficiarios",BENEFICIARY_UPLOADS:"beneficiaryUploads",ASSIGNMENTS:"assignments",SEGUIMIENTOS:"seguimientos",CALL_DATA:"callData",USERS:"users",METRICS:"metrics",USER_DATA:"userData"},o5=new Map,tIe=(e=null)=>{e?o5.delete(e):o5.clear(),lt.info("Estado de errores reseteado",e||"todos los usuarios")},B0=(e,t,r={})=>{const n=r.userId||"anonymous";return e.code==="permission-denied"?(o5.has(n)||(lt.warn(`Permisos insuficientes para usuario ${n}. Operación: ${t}`),lt.info("Para habilitar persistencia, configura Firestore según FIREBASE_SETUP.md"),o5.set(n,!0)),{error:"permission-denied",data:null}):e.code==="failed-precondition"&&e.message.includes("index")?(lt.info("Firebase está creando índices necesarios. Usando datos locales temporalmente."),lt.info("Estado del índice: https://console.firebase.google.com/firestore/indexes"),{error:"index-building",data:null}):e.code==="unavailable"?(lt.warn("Firestore no disponible. Verifica tu conexión."),{error:"unavailable",data:null}):(lt.error(`Error en ${t}:`,e,r),{error:e.message,data:null})},rIe=()=>br(),nIe=e=>e?e instanceof Un||e.toDate?e.toDate():new Date(e):null,aIe=async(e,t,r={})=>{try{lt.firebase(`Fetching doc: ${e}/${t}`);const n=Lr(Ct,e,t),a=await _1(n);return a.exists()?{id:a.id,...a.data()}:(lt.warn(`Documento no encontrado: ${e}/${t}`),null)}catch(n){return B0(n,"fetchDoc",{collectionName:e,docId:t,...r}).data}},iIe=async(e,t={})=>{try{lt.firebase(`Fetching collection: ${e}`,t);let r=Qr(Ct,e);const n=[];if(t.where)if(Array.isArray(t.where[0]))t.where.forEach(([s,o,l])=>{n.push(Gn(s,o,l))});else{const[s,o,l]=t.where;n.push(Gn(s,o,l))}if(t.orderBy){const[s,o="asc"]=Array.isArray(t.orderBy)?t.orderBy:[t.orderBy];n.push(fu(s,o))}t.limit&&n.push(aj(t.limit)),n.length>0&&(r=ta(r,...n));const a=await Ei(r),i=[];return a.forEach(s=>{i.push({id:s.id,...s.data()})}),lt.firebase(`Fetched ${i.length} docs from ${e}`),i}catch(r){return B0(r,"fetchCollection",{collectionName:e,...t}).data||[]}},sIe=async(e,t,r={})=>{try{lt.firebase(`Creating doc in ${e}`,t);const n={...t,createdAt:br(),updatedAt:br()},a=await gm(Qr(Ct,e),n);return lt.firebase(`Created doc ${a.id} in ${e}`),{id:a.id,...t}}catch(n){return B0(n,"create",{collectionName:e,...r}).data}},oIe=async(e,t,r,n={})=>{try{lt.firebase(`Setting doc ${e}/${t}`,r);const a=Lr(Ct,e,t),i={...r,updatedAt:br()};return await r0(a,i,{merge:n.merge||!1}),lt.firebase(`Set doc ${t} in ${e}`),{id:t,...r}}catch(a){return B0(a,"set",{collectionName:e,docId:t,...n}).data}},lIe=async(e,t,r,n={})=>{try{lt.firebase(`Updating doc ${e}/${t}`,r);const a=Lr(Ct,e,t),i={...r,updatedAt:br()};return await rf(a,i),lt.firebase(`Updated doc ${t} in ${e}`),!0}catch(a){return B0(a,"update",{collectionName:e,docId:t,...n}),!1}},cIe=async(e,t,r={})=>{try{lt.firebase(`Deleting doc ${e}/${t}`);const n=Lr(Ct,e,t);return await Ad(n),lt.firebase(`Deleted doc ${t} from ${e}`),!0}catch(n){return B0(n,"remove",{collectionName:e,docId:t,...r}),!1}},uIe=(e,t,r,n)=>{try{lt.firebase(`Setting up snapshot listener for ${e}/${t}`);const a=Lr(Ct,e,t);return wT(a,i=>{i.exists()?r({id:i.id,...i.data()}):r(null)},i=>{B0(i,"onSnapshotDoc",{collectionName:e,docId:t}),n&&n(i)})}catch(a){return lt.error("Error setting up snapshot listener:",a),()=>{}}},fIe=(e,t,r,n)=>{try{lt.firebase(`Setting up snapshot listener for collection ${e}`,t);let a=Qr(Ct,e);const i=[];if(t.where)if(Array.isArray(t.where[0]))t.where.forEach(([s,o,l])=>{i.push(Gn(s,o,l))});else{const[s,o,l]=t.where;i.push(Gn(s,o,l))}if(t.orderBy){const[s,o="asc"]=Array.isArray(t.orderBy)?t.orderBy:[t.orderBy];i.push(fu(s,o))}return t.limit&&i.push(aj(t.limit)),i.length>0&&(a=ta(a,...i)),wT(a,s=>{const o=[];s.forEach(l=>{o.push({id:l.id,...l.data()})}),r(o)},s=>{B0(s,"onSnapshotCollection",{collectionName:e,...t}),n&&n(s)})}catch(a){return lt.error("Error setting up collection snapshot listener:",a),()=>{}}},go={COLLECTIONS:eIe,fetchDoc:aIe,fetchCollection:iIe,create:sIe,set:oIe,update:lIe,remove:cIe,onSnapshotDoc:uIe,onSnapshotCollection:fIe,getServerTimestamp:rIe,timestampToDate:nIe,resetErrorState:tIe},{COLLECTIONS:hj}=go,dIe=async(e,t)=>{try{lt.auth("Iniciando sesión:",e);const n=(await NJ(ma,e,t)).user,a=await go.fetchDoc(hj.USERS,n.uid);return lt.auth("Sesión iniciada exitosamente:",n.uid),{uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,...a}}catch(r){lt.error("Error al iniciar sesión:",r);let n="Error al iniciar sesión. Inténtelo nuevamente.";switch(r.code){case"auth/invalid-email":n="El correo electrónico no es válido.";break;case"auth/user-disabled":n="Esta cuenta ha sido deshabilitada.";break;case"auth/user-not-found":n="No se encontró una cuenta con este correo.";break;case"auth/wrong-password":n="La contraseña es incorrecta.";break;case"auth/too-many-requests":n="Demasiados intentos fallidos. Inténtelo más tarde.";break}throw new Error(n)}},hIe=async()=>{try{lt.auth("Cerrando sesión"),await IJ(ma),lt.auth("Sesión cerrada exitosamente")}catch(e){throw lt.error("Error al cerrar sesión:",e),new Error("Error al cerrar sesión. Inténtelo nuevamente.")}},pIe=async(e,t,r={})=>{try{lt.auth("Registrando nuevo usuario:",e);const a=(await kJ(ma,e,t)).user;r.displayName&&await CJ(a,{displayName:r.displayName});const i={email:a.email,displayName:r.displayName||"",role:r.role||"teleoperadora",createdAt:new Date().toISOString(),isActive:!0,...r};return await go.set(hj.USERS,a.uid,i),lt.auth("Usuario registrado exitosamente:",a.uid),{uid:a.uid,email:a.email,...i}}catch(n){lt.error("Error al registrar usuario:",n);let a="Error al registrar usuario. Inténtelo nuevamente.";switch(n.code){case"auth/email-already-in-use":a="Ya existe una cuenta con este correo electrónico.";break;case"auth/invalid-email":a="El correo electrónico no es válido.";break;case"auth/weak-password":a="La contraseña debe tener al menos 6 caracteres.";break}throw new Error(a)}},mIe=async e=>{try{lt.auth("Enviando email de restablecimiento:",e),await CTe(ma,e),lt.auth("Email de restablecimiento enviado")}catch(t){lt.error("Error al enviar email de restablecimiento:",t);let r="Error al enviar email. Inténtelo nuevamente.";switch(t.code){case"auth/invalid-email":r="El correo electrónico no es válido.";break;case"auth/user-not-found":r="No se encontró una cuenta con este correo.";break}throw new Error(r)}},gIe=e=>PJ(ma,async t=>{if(t){lt.auth("Usuario autenticado:",t.uid);const r=await go.fetchDoc(hj.USERS,t.uid);e({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,...r})}else lt.auth("Usuario no autenticado"),e(null)}),vIe=()=>ma.currentUser,yIe=()=>!!ma.currentUser,Cy={login:dIe,logout:hIe,register:pIe,resetPassword:mIe,onAuthChange:gIe,getCurrentUser:vIe,isAuthenticated:yIe},b4={user:null,role:null,isAuthenticated:!1,loading:!0,error:null,unsubscribe:null};xu(Ym((e,t)=>({...b4,initialize:()=>{const{unsubscribe:r}=t();r&&r(),e({loading:!0});const n=Cy.onAuthChange(a=>{a?(e({user:a,role:a.role||"teleoperadora",isAuthenticated:!0,loading:!1,error:null}),lt.auth("Usuario autenticado en store:",a.uid)):(e({user:null,role:null,isAuthenticated:!1,loading:!1,error:null}),lt.auth("Usuario no autenticado"))});e({unsubscribe:n})},login:async r=>{try{e({loading:!0,error:null}),lt.auth("Intentando login:",r.email);const n=await Cy.login(r.email,r.password);return e({user:n,role:n.role||"teleoperadora",isAuthenticated:!0,loading:!1,error:null}),lt.auth("Login exitoso:",n.uid),{success:!0,user:n}}catch(n){return lt.error("Error en login:",n),e({loading:!1,error:n.message}),{success:!1,error:n.message}}},logout:async()=>{try{e({loading:!0}),lt.auth("Cerrando sesión"),await Cy.logout();const{unsubscribe:r}=t();return r&&r(),e({...b4,loading:!1}),lt.auth("Logout exitoso"),{success:!0}}catch(r){return lt.error("Error en logout:",r),e({loading:!1,error:r.message}),{success:!1,error:r.message}}},register:async r=>{try{e({loading:!0,error:null}),lt.auth("Registrando usuario:",r.email);const n=await Cy.register(r.email,r.password,{displayName:r.displayName,role:r.role||"teleoperadora"});return e({user:n,role:n.role,isAuthenticated:!0,loading:!1,error:null}),lt.auth("Registro exitoso:",n.uid),{success:!0,user:n}}catch(n){return lt.error("Error en registro:",n),e({loading:!1,error:n.message}),{success:!1,error:n.message}}},resetPassword:async r=>{try{return e({loading:!0,error:null}),await Cy.resetPassword(r),e({loading:!1}),{success:!0}}catch(n){return lt.error("Error en resetPassword:",n),e({loading:!1,error:n.message}),{success:!1,error:n.message}}},updateUser:r=>{e(n=>({user:n.user?{...n.user,...r}:null}))},setUser:r=>{e({user:r,role:(r==null?void 0:r.role)||null,isAuthenticated:!!r})},hasRole:r=>{const{role:n}=t();return n?n==="super_admin"?!0:n===r:!1},isSuperAdmin:()=>{const{role:r}=t();return r==="super_admin"},isAdmin:()=>{const{role:r}=t();return r==="admin"||r==="super_admin"},isTeleoperadora:()=>{const{role:r}=t();return r==="teleoperadora"},reset:()=>{const{unsubscribe:r}=t();r&&r(),e({...b4,loading:!1})}}),{name:"auth-storage",partialize:e=>({user:e.user,role:e.role,isAuthenticated:e.isAuthenticated})}));const{COLLECTIONS:dg}=go,QB={asignations:{},beneficiaryToOperator:{},unassigned:[],isLoading:!1,error:null,lastSync:null,unsubscribe:null};xu(Ym((e,t)=>({...QB,loadAll:async()=>{try{e({isLoading:!0,error:null}),lt.store("Cargando todas las asignaciones");const r=await go.fetchCollection(dg.ASSIGNMENTS),n={},a={};return r.forEach(i=>{const s=i.operatorId,o=i.beneficiaryId;!s||!o||(n[s]||(n[s]=[]),n[s].push(o),a[o]=s)}),e({asignations:n,beneficiaryToOperator:a,isLoading:!1,lastSync:new Date().toISOString()}),lt.store("Asignaciones cargadas:",Object.keys(n).length,"operadores"),n}catch(r){return lt.error("Error cargando asignaciones:",r),e({isLoading:!1,error:r.message}),null}},loadByOperator:async r=>{try{e({isLoading:!0,error:null}),lt.store("Cargando asignaciones para operador:",r);const a=(await go.fetchCollection(dg.ASSIGNMENTS,{where:["operatorId","==",r]})).map(i=>i.beneficiaryId);return e(i=>({asignations:{...i.asignations,[r]:a},isLoading:!1,lastSync:new Date().toISOString()})),a.forEach(i=>{e(s=>({beneficiaryToOperator:{...s.beneficiaryToOperator,[i]:r}}))}),lt.store("Asignaciones cargadas:",a.length),a}catch(n){return lt.error("Error cargando asignaciones del operador:",n),e({isLoading:!1,error:n.message}),[]}},assign:async(r,n,a={})=>{try{lt.store("Asignando beneficiario:",n,"a operador:",r);const{beneficiaryToOperator:i}=t(),s=i[n];s&&s!==r&&await t().unassign(n);const o={operatorId:r,beneficiaryId:n,assignedAt:new Date().toISOString(),...a};return await go.create(dg.ASSIGNMENTS,o),e(l=>{const c=l.asignations[r]||[];return{asignations:{...l.asignations,[r]:[...c,n]},beneficiaryToOperator:{...l.beneficiaryToOperator,[n]:r},unassigned:l.unassigned.filter(u=>u!==n)}}),lt.store("Asignación completada"),!0}catch(i){return lt.error("Error asignando beneficiario:",i),e({error:i.message}),!1}},unassign:async r=>{try{lt.store("Desasignando beneficiario:",r);const{beneficiaryToOperator:n}=t(),a=n[r];if(!a)return lt.warn("Beneficiario no está asignado:",r),!0;const i=await go.fetchCollection(dg.ASSIGNMENTS,{where:[["operatorId","==",a],["beneficiaryId","==",r]]});return i.length>0&&await go.remove(dg.ASSIGNMENTS,i[0].id),e(s=>{const o=s.asignations[a]||[];return{asignations:{...s.asignations,[a]:o.filter(l=>l!==r)},beneficiaryToOperator:Object.fromEntries(Object.entries(s.beneficiaryToOperator).filter(([l])=>l!==r)),unassigned:[...s.unassigned,r]}}),lt.store("Desasignación completada"),!0}catch(n){return lt.error("Error desasignando beneficiario:",n),e({error:n.message}),!1}},reassign:async(r,n)=>(await t().unassign(r),await t().assign(n,r)),getOperatorAssignments:r=>{const{asignations:n}=t();return n[r]||[]},getBeneficiaryOperator:r=>{const{beneficiaryToOperator:n}=t();return n[r]||null},recomputeUnassigned:(r=[])=>{const{beneficiaryToOperator:n}=t(),a=r.filter(i=>!n[i.id]).map(i=>i.id);e({unassigned:a}),lt.store("Beneficiarios sin asignar:",a.length)},getStats:()=>{const{asignations:r,unassigned:n}=t(),a=Object.keys(r).length,i=Object.values(r).reduce((s,o)=>s+o.length,0);return{totalOperators:a,totalAssigned:i,totalUnassigned:n.length,avgPerOperator:a>0?(i/a).toFixed(1):0}},subscribeToFirestore:()=>{const{unsubscribe:r}=t();r&&r(),lt.store("Suscribiéndose a cambios de asignaciones");const n=go.onSnapshotCollection(dg.ASSIGNMENTS,{},a=>{const i={},s={};a.forEach(o=>{const l=o.operatorId,c=o.beneficiaryId;!l||!c||(i[l]||(i[l]=[]),i[l].push(c),s[c]=l)}),e({asignations:i,beneficiaryToOperator:s,lastSync:new Date().toISOString()}),lt.store("Asignaciones actualizadas en tiempo real")},a=>{lt.error("Error en suscripción de asignaciones:",a),e({error:a.message})});e({unsubscribe:n})},reset:()=>{const{unsubscribe:r}=t();r&&r(),e(QB),lt.store("Store de asignaciones reseteado")}}),{name:"asignations-storage",partialize:e=>({asignations:e.asignations,beneficiaryToOperator:e.beneficiaryToOperator,unassigned:e.unassigned,lastSync:e.lastSync})}));xu(Ym((e,t)=>({user:null,isAuthenticated:!1,loading:!1,error:null,setUser:r=>{e({user:r,isAuthenticated:!!r,error:null})},setLoading:r=>{e({loading:r})},setError:r=>{e({error:r})},logout:()=>{e({user:null,isAuthenticated:!1,loading:!1,error:null})},updateUser:r=>{const n=t().user;n&&e({user:{...n,...r}})},getUserDisplayName:()=>{const{user:r}=t();return(r==null?void 0:r.displayName)||(r==null?void 0:r.email)||"Usuario"},getUserEmail:()=>{const{user:r}=t();return(r==null?void 0:r.email)||""},isAdmin:()=>{const{user:r}=t();return(r==null?void 0:r.role)==="admin"||!1}}),{name:"user-storage",storage:ET(()=>localStorage),partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}));const Vv=xu(Ym((e,t)=>({callData:[],processedData:[],callMetrics:{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},isLoading:!1,loadingStage:null,loadingMessage:"",lastUpdated:null,dataSource:null,filters:{dateRange:null,operator:null,status:"all",commune:null},_phoneToOperatorCache:new Map,_beneficiaryCache:new Map,_dateCache:new Map,forceReanalysis:()=>{const{callData:r}=t();r&&r.length>0&&(console.log("🔄 Forzando re-análisis con lógica corregida..."),t().analyzeCallData())},setCallData:(r,n="excel")=>{const a=new Date().toISOString();e({callData:r,dataSource:n,lastUpdated:a,isLoading:!1,loadingStage:"complete",loadingMessage:`${r.length} llamadas cargadas exitosamente`,_phoneToOperatorCache:new Map,_beneficiaryCache:new Map,_dateCache:new Map}),t().analyzeCallData()},setLoading:(r,n=null,a="")=>{e({isLoading:r,loadingStage:n,loadingMessage:a})},setLoadingStage:(r,n="")=>{e({loadingStage:r,loadingMessage:n||{uploading:"Subiendo archivo Excel...",processing:"Procesando datos del archivo...",analyzing:"Analizando llamadas y generando métricas...",complete:"Análisis completado exitosamente",error:"Error durante el procesamiento"}[r]||"",isLoading:r!=="complete"&&r!=="error"})},analyzeCallData:()=>{const{callData:r}=t();if(t().setLoadingStage("analyzing","Analizando datos de llamadas..."),!r||r.length===0){e({processedData:[],callMetrics:{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},loadingStage:"complete",loadingMessage:"No hay datos para analizar",isLoading:!1});return}setTimeout(()=>{const n=r.map(f=>{const h=f.beneficiario||f.beneficiary||f.nombre||"Sin identificar",p=f.operador||f.operator||f.teleoperadora||"No identificado",m=f.telefono||f.phone||f.numero||"N/A",g=f.fecha||f.date||new Date().toISOString().split("T")[0],v=parseInt(f.duracion||f.duration||0),y=f.resultado||f.result||f.estado||"",x=(y==="Llamado exitoso"||y==="exitoso"||y==="Exitoso")&&v>0;return{...f,beneficiary:h,operator:p,phone:m,date:g,duration:v,isSuccessful:x,categoria:x?"exitosa":"fallida"}}),a=n.length,i=n.filter(f=>f.isSuccessful).length,s=a-i,o=n.reduce((f,h)=>f+h.duration,0),l=a>0?Math.round(o/a):0,c=new Set(n.map(f=>f.beneficiary)).size,u={totalCalls:a,successfulCalls:i,failedCalls:s,averageDuration:l,uniqueBeneficiaries:c,protocolCompliance:a>0?Math.round(i/a*100):0};e({processedData:n,callMetrics:u,loadingStage:"complete",loadingMessage:`Análisis completado: ${a} llamadas procesadas`,isLoading:!1})},100)},getFilteredData:()=>{const{processedData:r,filters:n}=t();if(!r||r.length===0)return[];let a=[...r];if(n.operator&&n.operator!=="all"&&(a=a.filter(i=>i.operator===n.operator)),n.status&&n.status!=="all"&&(n.status==="successful"?a=a.filter(i=>i.isSuccessful):n.status==="failed"&&(a=a.filter(i=>!i.isSuccessful))),n.commune&&n.commune!=="all"&&(a=a.filter(i=>i.commune===n.commune)),n.dateRange){const{start:i,end:s}=n.dateRange,o=new Date(i).getTime(),l=new Date(s).getTime();a=a.filter(c=>{const u=new Date(c.date).getTime();return u>=o&&u<=l})}return a},clearData:()=>{e({callData:[],processedData:[],callMetrics:{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},lastUpdated:null,dataSource:null,isLoading:!1,loadingStage:null,loadingMessage:"",_phoneToOperatorCache:new Map,_beneficiaryCache:new Map,_dateCache:new Map})},getOperatorMetrics:(r=null)=>{try{const{callData:n,_phoneToOperatorCache:a}=t();if(!n||n.length===0)return[];if(!r||!Array.isArray(r)||r.length===0)return[];let i=a;i.size===0&&(r.forEach(u=>{const f=u.operator||u.operatorName||"Sin Asignar",h=[];[u.phone,u.primaryPhone,u.telefono,u.numero_cliente].filter(Boolean).forEach(p=>{p.includes(";")?h.push(...p.split(";").map(m=>m.trim())):h.push(p)}),u.phones&&Array.isArray(u.phones)&&h.push(...u.phones),h.forEach(p=>{if(p&&p!=="N/A"&&p.trim()){const m=p.toString().replace(/[^\d]/g,"");if(m.length>=8){const g=m.slice(-8);i.set(g,f)}}})}),e({_phoneToOperatorCache:i}));const s=[...new Set(Array.from(i.values()))],o={};s.forEach(u=>{o[u]={operatorName:u,totalCalls:0,successfulCalls:0,failedCalls:0,totalDuration:0}});let l=0;return n.forEach(u=>{const f=u.phone||u.telefono||u.numero||u.numero_cliente||u.numero_telefono||"",h=String(f||"");if(h&&h.trim()){const p=h.replace(/[^\d]/g,"");if(p.length>=8){const m=p.slice(-8),g=i.get(m);if(g&&o[g]){l++;const v=o[g];v.totalCalls++;const y=parseInt(u.duration||u.duracion||0);v.totalDuration+=y;const x=u.result||u.resultado||u.estado||"";(x==="Llamado exitoso"||x==="exitoso"||x==="Exitoso")&&y>0?v.successfulCalls++:v.failedCalls++}}}}),Object.values(o).filter(u=>u.totalCalls>0).map(u=>({operatorName:u.operatorName,totalCalls:u.totalCalls,successfulCalls:u.successfulCalls,failedCalls:u.failedCalls,averageDuration:u.totalCalls>0?Math.round(u.totalDuration/u.totalCalls):0,successRate:u.totalCalls>0?Math.round(u.successfulCalls/u.totalCalls*100):0})).sort((u,f)=>f.totalCalls-u.totalCalls)}catch(n){return console.error("Error en getOperatorMetrics:",n),[]}},getHourlyDistribution:()=>{const{processedData:r}=t(),n=Array.from({length:24},(a,i)=>({hour:i,calls:0}));return Array.isArray(r)&&r.forEach(a=>{try{let i=null;if(a.hora){const o=a.hora.toString().match(/^(\d{1,2})/);o&&(i=parseInt(o[1]))}else a.hour!==void 0&&(i=parseInt(a.hour));i!==null&&i>=0&&i<24&&n[i].calls++}catch{}}),n},getFollowUpData:r=>{const{processedData:n,_beneficiaryCache:a}=t();if(!n||n.length===0)return[];const{_dateCache:i}=t(),s=u=>{if(!u)return"N/A";if(i.has(u))return i.get(u);try{let f;if(typeof u=="string"&&/^\d{1,2}[-\/]\d{1,2}[-\/]\d{4}$/.test(u)){const h=u.split(/[-\/]/),p=parseInt(h[0]),m=parseInt(h[1]),g=parseInt(h[2]);p<=31&&m<=12&&g>=1900?f=`${p.toString().padStart(2,"0")}-${m.toString().padStart(2,"0")}-${g}`:f="Fecha inválida"}else if(typeof u=="number"){const h=new Date((u-25569)*86400*1e3);if(isNaN(h.getTime()))f="Fecha inválida";else{const p=h.getDate().toString().padStart(2,"0"),m=(h.getMonth()+1).toString().padStart(2,"0"),g=h.getFullYear();f=`${p}-${m}-${g}`}}else{const h=new Date(u);if(isNaN(h.getTime()))f=typeof u=="string"?u:"Error en fecha";else{const p=h.getDate().toString().padStart(2,"0"),m=(h.getMonth()+1).toString().padStart(2,"0"),g=h.getFullYear();f=`${p}-${m}-${g}`}}return i.set(u,f),f}catch{return typeof u=="string"?u:"Error en fecha"}};let o=a;o.size===0&&(n.forEach(u=>{const f=u.beneficiario||u.beneficiary,h=u.resultado||u.result||u.estado||"Sin resultado",p=u.fecha||u.date;if(!f)return;o.has(f)||o.set(f,{beneficiary:f,calls:[],lastResult:h,lastDate:p});const m=o.get(f);m.calls.push(u);try{const g=new Date(p).getTime(),v=new Date(m.lastDate).getTime();!isNaN(g)&&(isNaN(v)||g>v)&&(m.lastResult=h,m.lastDate=p)}catch{}}),e({_beneficiaryCache:o}));const l=new Map;return r&&Array.isArray(r)&&r.forEach(u=>{const f=(u.beneficiary||u.beneficiario||"").trim();f&&l.set(f.toLowerCase(),u)}),Array.from(o.values()).map(u=>{const f=l.get(u.beneficiary.toLowerCase());let h="pendiente",p="bg-yellow-100 text-yellow-800";u.lastResult==="Llamado exitoso"||u.lastResult==="exitosa"?(h="al-dia",p="bg-green-100 text-green-800"):u.calls.length>3&&(h="urgente",p="bg-red-100 text-red-800");let m="No Asignado",g="N/A",v="N/A";if(f){const y=f.operator||f.operador||f.operatorName||f.teleoperadora||f.name;y&&y!=="Solo HANGUP"&&y!=="HANGUP"&&y!=="No identificado"&&y!=="Llamado exitoso"&&y!=="Llamado fallido"&&y!=="exitosa"&&y!=="fallida"&&y.trim().length>2&&!/^\d{1,2}[-\/]\d{1,2}[-\/]\d{4}$/.test(y)&&(m=y),g=f.phone||f.telefono||f.primaryPhone||f.numero_cliente||"N/A",v=f.commune||f.comuna||"N/A"}return{id:u.beneficiary,operator:m,beneficiary:u.beneficiary,phone:g,commune:v,status:h,lastCall:s(u.lastDate),callCount:u.calls.length,colorClass:p}})},hasData:()=>{const{callData:r}=t();return r&&r.length>0},getSuccessRate:()=>{const{callMetrics:r}=t();return!r||!r.totalCalls||r.totalCalls===0?0:Math.round(r.successfulCalls/r.totalCalls*100)},getDataSummary:()=>{const{callMetrics:r,lastUpdated:n,dataSource:a}=t();return{...r,lastUpdated:n,dataSource:a,successRate:t().getSuccessRate()}}}),{name:"call-audit-storage-optimized",storage:ET(()=>localStorage),partialize:e=>({callData:e.callData,processedData:e.processedData,callMetrics:e.callMetrics,lastUpdated:e.lastUpdated,dataSource:e.dataSource,filters:e.filters,loadingStage:e.loadingStage,loadingMessage:e.loadingMessage})})),mo=xu(Ym((e,t)=>({operators:[],operatorAssignments:{},activeTab:"dashboard",isLoading:!1,settings:{autoRefresh:!1,refreshInterval:3e4,defaultView:"dashboard"},setOperators:r=>{e({operators:r||[]})},addOperator:r=>{e(n=>({operators:[...n.operators,r]}))},updateOperator:(r,n)=>{e(a=>({operators:a.operators.map(i=>i.id===r?{...i,...n}:i)}))},removeOperator:r=>{e(n=>({operators:n.operators.filter(a=>a.id!==r),operatorAssignments:Object.fromEntries(Object.entries(n.operatorAssignments).filter(([a])=>a!==r))}))},setOperatorAssignments:r=>{e({operatorAssignments:r||{}})},updateOperatorAssignments:(r,n)=>{e(a=>({operatorAssignments:{...a.operatorAssignments,[r]:n}}))},clearOperatorAssignments:r=>{e(n=>{const a={...n.operatorAssignments};return delete a[r],{operatorAssignments:a}})},setActiveTab:r=>{e({activeTab:r})},setLoading:r=>{e({isLoading:r})},updateSettings:r=>{e(n=>({settings:{...n.settings,...r}}))},getOperatorById:r=>{const{operators:n}=t();return n.find(a=>a.id===r)||null},getOperatorAssignments:r=>{const{operatorAssignments:n}=t();return n[r]||[]},getAllAssignments:()=>{const{operatorAssignments:r,operators:n}=t(),a=[];return console.log("🔍 getAllAssignments - operatorAssignments:",r),console.log("🔍 getAllAssignments - operators:",n),Object.entries(r).forEach(([i,s])=>{const o=n.find(l=>l.id===i);o&&s&&(console.log(`📋 Procesando asignaciones para ${o.name}:`,s.length),s.forEach(l=>{const c={id:l.id,operator:o.name,operatorName:o.name,operatorEmail:o.email,beneficiary:l.beneficiary,phone:l.primaryPhone,commune:l.commune};a.push(c),console.log("✅ Asignación agregada:",c)}))}),console.log("📊 Total asignaciones devueltas:",a.length),a},getAssignmentsByEmail:r=>{const{operatorAssignments:n,operators:a}=t(),i=r==null?void 0:r.toLowerCase().trim();console.log("🔍 Buscando asignaciones para email:",i),console.log("🔍 Operadores disponibles:",a.map(o=>({id:o.id,name:o.name,email:o.email})));const s=a.find(o=>{var p,m;const l=(p=o.email)==null?void 0:p.toLowerCase().trim(),c=(m=o.name)==null?void 0:m.toLowerCase().trim(),u=l===i,f=i.includes(c==null?void 0:c.split(" ")[0])||i.includes(c==null?void 0:c.split(" ")[1]),h=c==null?void 0:c.includes(i.split("@")[0]);return console.log(`🔍 Verificando operador ${o.name}:`,{opEmail:l,exactEmailMatch:u,nameInEmail:f,emailInName:h}),u||f||h});if(s){console.log("✅ Operador encontrado:",s);const o=n[s.id]||[];return console.log("✅ Asignaciones encontradas:",o.length),o.map(l=>({id:l.id,operator:s.name,operatorName:s.name,operatorEmail:s.email,beneficiary:l.beneficiary,phone:l.primaryPhone,commune:l.commune}))}else return console.warn("❌ No se encontró operador para email:",i),[]},getTotalAssignments:()=>{const{operatorAssignments:r}=t();return Object.values(r).reduce((n,a)=>n+((a==null?void 0:a.length)||0),0)},loadOperators:async()=>{try{e({isLoading:!0}),console.log("📥 Cargando operadores desde Firebase...");const r=await Vg.getAll();return console.log("✅ Operadores cargados:",r.length),e({operators:r||[],isLoading:!1}),r}catch(r){return console.error("❌ Error cargando operadores:",r),e({isLoading:!1}),[]}},loadAssignments:async()=>{try{e({isLoading:!0}),console.log("📥 Cargando asignaciones desde Firebase...");const r=await bp.getAll();console.log("✅ Asignaciones cargadas:",r.length);const n={};return r.forEach(a=>{a.operatorId&&(n[a.operatorId]||(n[a.operatorId]=[]),n[a.operatorId].push(a))}),e({operatorAssignments:n,isLoading:!1}),console.log("📊 Asignaciones agrupadas por operador:",Object.keys(n).length),r}catch(r){return console.error("❌ Error cargando asignaciones:",r),e({isLoading:!1}),[]}},clearAllData:()=>{e({operators:[],operatorAssignments:{},activeTab:"dashboard"})}}),{name:"app-storage",storage:ET(()=>localStorage),partialize:e=>({operators:e.operators,operatorAssignments:e.operatorAssignments,settings:e.settings})})),qu=e=>!e||typeof e!="string"?"":e.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^\w\s]/g,""),wi=e=>{if(!e)return"";const t=e.toString();if(/^0+$/.test(t.replace(/\D/g,"")))return"";const r=t.replace(/\D/g,"");return r.length<8?"":r},Qee=(e,t,r=.8)=>{if(!e||!t)return!1;const n=qu(e),a=qu(t);if(n===a||n.includes(a)||a.includes(n))return!0;const i=n.split(" "),s=a.split(" "),o=i.filter(u=>s.includes(u)),l=[...new Set([...i,...s])];return o.length/l.length>=r},DP=(e,t)=>{if(!e||!t||!Array.isArray(t))return null;const r=qu(e.nombre),n=[wi(e.fono),wi(e.sim),wi(e.appSim)].filter(Boolean);return t.find(a=>{const i=qu(a.nombre||a.name);if(Qee(r,i))return!0;const s=[wi(a.fono||a.telefono||a.phone),wi(a.sim),wi(a.appSim)].filter(Boolean);return n.some(o=>s.some(l=>l===o))})},xIe=e=>{const t=[wi(e.fono),wi(e.sim),wi(e.appSim)].filter(Boolean);return[...new Set(t)]},qc={BENEFICIARIES:"beneficiaries",BENEFICIARY_UPLOADS:"beneficiaryUploads"},Uf={async deleteAllBeneficiaries(e=null){try{console.log("🗑️ Eliminando todos los beneficiarios...");let t;e?(console.log(`🗑️ Eliminando beneficiarios del usuario: ${e}`),t=ta(Qr(Ct,qc.BENEFICIARIES),Gn("creadoPor","==",e))):(console.log("🗑️ Eliminando TODOS los beneficiarios de la base"),t=Qr(Ct,qc.BENEFICIARIES));const r=await Ei(t),n=M2(Ct);return console.log(`🗑️ Documentos a eliminar: ${r.size}`),r.docs.forEach(a=>{n.delete(a.ref)}),await n.commit(),console.log("✅ Eliminación completada"),{success:!0,deletedCount:r.size,message:`${r.size} beneficiarios eliminados exitosamente`}}catch(t){return console.error("❌ Error al eliminar beneficiarios:",t),{success:!1,error:t.message,deletedCount:0}}},async uploadBeneficiaries(e,t,r=()=>{},n=!0){try{if(console.log("📤 Iniciando upload de beneficiarios..."),console.log(`📊 Datos a procesar: ${e.length}`),console.log(`🔄 Reemplazar datos existentes: ${n}`),n){console.log("🗑️ PASO 1: Eliminando beneficiarios existentes...");const u=await this.deleteAllBeneficiaries(t);if(!u.success)throw new Error(`Error al eliminar datos existentes: ${u.error}`);console.log(`✅ ${u.deletedCount} beneficiarios previos eliminados`),r({phase:"cleanup",completed:u.deletedCount,total:u.deletedCount})}console.log("📤 PASO 2: Procesando nuevos beneficiarios...");const a=M2(Ct),i=`upload_${Date.now()}`,s=[],o=[];for(let u=0;u<e.length;u++){const f=e[u];try{const h=this.processBeneficiaryData(f,u+1);if(h.isValid){const p=Lr(Qr(Ct,qc.BENEFICIARIES)),m={...h.data,uploadId:i,creadoEn:br(),actualizadoEn:br(),creadoPor:t,rowNumber:u+1};a.set(p,m),s.push({id:p.id,...m})}else o.push({row:u+1,data:f,errors:h.errors})}catch(h){o.push({row:u+1,data:f,errors:[`Error de procesamiento: ${h.message}`]})}r({processed:u+1,total:e.length,successful:s.length,errors:o.length})}const l=Lr(Qr(Ct,qc.BENEFICIARY_UPLOADS),i);return a.set(l,{id:i,userId:t,totalRecords:e.length,successfulRecords:s.length,errorRecords:o.length,uploadedAt:br(),status:"completed"}),await a.commit(),console.log("✅ UPLOAD COMPLETADO:"),console.log(`   - Registros procesados: ${e.length}`),console.log(`   - Exitosos: ${s.length}`),console.log(`   - Errores: ${o.length}`),{success:!0,uploadId:i,totalProcessed:e.length,successful:s.length,errors:o.length,errorDetails:o,data:s,replacedPrevious:n,message:n?`✅ Base de datos reemplazada: ${s.length} beneficiarios cargados`:`✅ ${s.length} beneficiarios añadidos`}}catch(a){throw console.error("❌ Error en uploadBeneficiaries:",a),new Error(`Error al cargar beneficiarios: ${a.message}`)}},processBeneficiaryData(e,t){const r=[],n=e.Nombre||e.nombre||e.A||"",a=e.Fono||e.fono||e.B||"",i=e.Sim||e.sim||e.C||"",s=e.Direccion||e.direccion||e.D||"",o=e["App Sim"]||e.appSim||e.E||"";(!n||typeof n!="string"||n.trim().length===0)&&r.push("Nombre es obligatorio"),(!s||typeof s!="string"||s.trim().length===0)&&r.push("Dirección es obligatoria");const l=wi(a),c=wi(i),u=wi(o),f=[l,c,u].filter(Boolean);f.length===0&&r.push("Al menos un teléfono válido es requerido");const h={nombre:n.toString().trim(),fono:l||null,sim:c||null,direccion:s.toString().trim(),appSim:u||null,nombreNormalizado:qu(n),telefonosValidos:f,datosOriginales:{nombre:n,fono:a.toString(),sim:i.toString(),direccion:s,appSim:o.toString()}};return{isValid:r.length===0,errors:r,data:h}},async getAllBeneficiaries(e=null){try{console.log("🔍 getAllBeneficiaries - Iniciando consulta a Firebase..."),console.log("🔍 userId:",e);let t;e?(console.log("🔍 Consultando beneficiarios para usuario específico..."),t=ta(Qr(Ct,qc.BENEFICIARIES),Gn("creadoPor","==",e),fu("creadoEn","desc"))):(console.log("🔍 Consultando todos los beneficiarios..."),t=ta(Qr(Ct,qc.BENEFICIARIES),fu("creadoEn","desc"))),console.log("🔍 Ejecutando consulta...");const r=await Ei(t);console.log("🔍 Documentos encontrados:",r.size);const n=r.docs.map(a=>({id:a.id,...a.data()}));return console.log("✅ Beneficiarios procesados:",n.length),n}catch(t){return console.error("❌ Error al obtener beneficiarios:",t),[]}},async searchBeneficiaries(e){try{const t=await this.getAllBeneficiaries();if(!e||e.trim().length===0)return t;const r=qu(e),n=wi(e);return t.filter(a=>a.nombreNormalizado&&a.nombreNormalizado.includes(r)?!0:n&&a.telefonosValidos?a.telefonosValidos.some(i=>i.includes(n)):!1)}catch(t){return console.error("Error en búsqueda de beneficiarios:",t),[]}},async getBeneficiaryById(e){try{const t=Lr(Ct,qc.BENEFICIARIES,e),r=await _1(t);return r.exists()?{id:r.id,...r.data()}:null}catch(t){return console.error("Error al obtener beneficiario:",t),null}},async updateBeneficiary(e,t){try{const r=Lr(Ct,qc.BENEFICIARIES,e),n={...t,actualizadoEn:br()};if(t.nombre&&(n.nombreNormalizado=qu(t.nombre)),t.fono!==void 0||t.sim!==void 0||t.appSim!==void 0){const a=await this.getBeneficiaryById(e);if(a){const i={...a,...t};n.telefonosValidos=xIe(i)}}return await rf(r,n),!0}catch(r){return console.error("Error al actualizar beneficiario:",r),!1}},async deleteBeneficiary(e){try{const t=Lr(Ct,qc.BENEFICIARIES,e);return await Ad(t),!0}catch(t){return console.error("Error al eliminar beneficiario:",t),!1}},async getUploadHistory(e){try{const t=ta(Qr(Ct,qc.BENEFICIARY_UPLOADS),Gn("userId","==",e),fu("uploadedAt","desc"));return(await Ei(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error al obtener historial:",t),[]}},async validateBeneficiaryExists(e,t){try{const r=await this.getAllBeneficiaries(),n=qu(e),a=wi(t);return r.find(i=>n&&i.nombreNormalizado===n?!0:a&&i.telefonosValidos?i.telefonosValidos.includes(a):!1)||null}catch(r){return console.error("Error al validar beneficiario:",r),null}},async testFirebaseConnection(){try{console.log("🧪 Iniciando test de conexión Firebase...");const e=performance.now();console.log("📁 Test 1: Verificando colección de beneficiarios...");const t=Qr(Ct,qc.BENEFICIARIES);console.log("✅ Referencia a colección creada"),console.log("🔍 Test 2: Ejecutando consulta...");const r=await Ei(t),n=r.size;if(console.log(`✅ Consulta ejecutada. Documentos encontrados: ${n}`),n>0){console.log("📋 Test 3: Mostrando primeros documentos...");let o=0;r.forEach(l=>{o<3&&(console.log(`   Documento ${l.id}:`,l.data()),o++)})}const a=performance.now(),i=Math.round(a-e),s={success:!0,beneficiariesCount:n,duration:`${i}ms`,timestamp:new Date().toISOString()};return console.log("🎉 Test Firebase completado:",s),s}catch(e){return console.error("❌ Error en test Firebase:",e),{success:!1,error:e.message,timestamp:new Date().toISOString()}}}};window.testFirebaseConnection=Uf.testFirebaseConnection;const wIe=Object.freeze(Object.defineProperty({__proto__:null,beneficiaryService:Uf},Symbol.toStringTag,{value:"Module"})),l5=xu(Ym((e,t)=>({beneficiaries:[],uploadHistory:[],shouldReload:!1,isLoading:!1,isUploading:!1,uploadProgress:0,searchTerm:"",selectedBeneficiary:null,stats:{total:0,withPhones:0,withoutPhones:0,incomplete:0,unassigned:0},settings:{autoValidateAssignments:!0,showUnassignedAlerts:!0,maxUploadSize:10*1024*1024},setBeneficiaries:r=>{const n=t().calculateStats(r);e({beneficiaries:r||[],stats:n})},addBeneficiary:r=>{e(n=>{const a=[...n.beneficiaries,r],i=n.calculateStats(a);return{beneficiaries:a,stats:i}})},updateBeneficiary:(r,n)=>{e(a=>{const i=a.beneficiaries.map(o=>o.id===r?{...o,...n}:o),s=a.calculateStats(i);return{beneficiaries:i,stats:s}})},removeBeneficiary:r=>{e(n=>{const a=n.beneficiaries.filter(s=>s.id!==r),i=n.calculateStats(a);return{beneficiaries:a,stats:i}})},clearAllData:()=>{console.log("🧹 Limpiando todos los datos del store..."),e({beneficiaries:[],uploadHistory:[],searchTerm:"",selectedBeneficiary:null,stats:{total:0,withPhones:0,withoutPhones:0,incomplete:0,unassigned:0},shouldReload:!1});try{localStorage.removeItem("beneficiary-store"),console.log("🧹 localStorage limpiado")}catch(r){console.error("Error al limpiar localStorage:",r)}},setSearchTerm:r=>{e({searchTerm:r})},getFilteredBeneficiaries:()=>{const{beneficiaries:r,searchTerm:n}=t();if(!n||n.trim()==="")return r;const a=n.toLowerCase().trim();return r.filter(i=>i.nombre&&i.nombre.toLowerCase().includes(a)||i.direccion&&i.direccion.toLowerCase().includes(a)||i.fono&&i.fono.includes(a)||i.sim&&i.sim.includes(a)||i.appSim&&i.appSim.includes(a))},setUploadProgress:r=>{e({uploadProgress:r})},setIsUploading:r=>{e({isUploading:r})},addUploadRecord:r=>{e(n=>({uploadHistory:[r,...n.uploadHistory]}))},setIsLoading:r=>{e({isLoading:r})},setSelectedBeneficiary:r=>{e({selectedBeneficiary:r})},updateSettings:r=>{e(n=>({settings:{...n.settings,...r}}))},calculateStats:r=>{const n=r.length,a=r.filter(o=>o.telefonosValidos&&o.telefonosValidos.length>0).length,i=n-a,s=r.filter(o=>!o.nombre||!o.direccion||!o.telefonosValidos||o.telefonosValidos.length===0).length;return{total:n,withPhones:a,withoutPhones:i,incomplete:s,unassigned:0}},loadBeneficiaries:async(r=null)=>{const{beneficiaries:n,shouldReload:a}=t();if(n.length>0&&!a)return console.log("📋 Usando beneficiarios del cache local:",n.length),n;console.log("📥 Cargando beneficiarios desde Firebase..."),e({isLoading:!0});try{const i=await Uf.getAllBeneficiaries(r);return console.log("✅ Beneficiarios cargados:",i.length),t().setBeneficiaries(i),e({shouldReload:!1}),i}catch(i){if(console.error("❌ Error cargando beneficiarios:",i),n.length>0)return console.log("🔄 Usando datos en cache debido a error de red"),n;throw i}finally{e({isLoading:!1})}},forceReload:async(r=null)=>(e({shouldReload:!0}),await t().loadBeneficiaries(r)),uploadBeneficiaries:async(r,n)=>{e({isUploading:!0,uploadProgress:0});try{const a=await Uf.uploadBeneficiaries(r,n,i=>{const s=Math.round(i.processed/i.total*100);e({uploadProgress:s})});if(a.success&&a.data){const s=[...t().beneficiaries,...a.data];t().setBeneficiaries(s),e({shouldReload:!1})}return t().addUploadRecord({id:a.uploadId,timestamp:new Date,totalRecords:a.totalProcessed,successfulRecords:a.successful,errorRecords:a.errors,fileName:a.fileName||"archivo.xlsx"}),a}catch(a){throw console.error("Error subiendo beneficiarios:",a),a}finally{e({isUploading:!1,uploadProgress:0})}},searchBeneficiaries:async r=>{e({isLoading:!0});try{return await Uf.searchBeneficiaries(r)}catch(n){throw console.error("Error buscando beneficiarios:",n),n}finally{e({isLoading:!1})}},validateBeneficiaryExists:async(r,n)=>{try{return await Uf.validateBeneficiaryExists(r,n)}catch(a){return console.error("Error validando beneficiario:",a),null}},updateBeneficiaryData:async(r,n)=>{e({isLoading:!0});try{const a=await Uf.updateBeneficiary(r,n);return a&&t().updateBeneficiary(r,n),a}catch(a){throw console.error("Error actualizando beneficiario:",a),a}finally{e({isLoading:!1})}},deleteBeneficiaryData:async r=>{e({isLoading:!0});try{const n=await Uf.deleteBeneficiary(r);return n&&t().removeBeneficiary(r),n}catch(n){throw console.error("Error eliminando beneficiario:",n),n}finally{e({isLoading:!1})}},loadUploadHistory:async r=>{try{const n=await Uf.getUploadHistory(r);return e({uploadHistory:n}),n}catch(n){throw console.error("Error cargando historial:",n),n}},findUnassignedBeneficiaries:(r=[])=>{const{beneficiaries:n}=t();if(console.log("🔍 findUnassignedBeneficiaries - beneficiaries:",n.length),console.log("🔍 findUnassignedBeneficiaries - assignments:",r.length),r.length===0)return console.log("⚠️ No hay asignaciones para comparar"),n;const a=r.map(s=>({nombre:s.beneficiary||s.nombre||s.beneficiario,telefono:s.phone||s.primaryPhone||s.telefono||s.fono,teleoperadora:s.operator||s.operatorName||s.teleoperadora||s.operador})).filter(s=>s.nombre);console.log("📋 Asignaciones procesadas:",a.length),console.log("📋 Primera asignación:",a[0]);const i=n.filter(s=>!DP(s,a));return console.log("👥 Beneficiarios sin asignar:",i.length),e(s=>({stats:{...s.stats,unassigned:i.length}})),i},validateAssignmentConsistency:(r=[])=>{const{beneficiaries:n}=t(),a={inAssignmentsNotInBase:[],inBaseNotInAssignments:[],dataConflicts:[]};return r.forEach(i=>{DP(i,n)||a.inAssignmentsNotInBase.push(i)}),a.inBaseNotInAssignments=t().findUnassignedBeneficiaries(r),a},reset:()=>{e({beneficiaries:[],uploadHistory:[],isLoading:!1,isUploading:!1,uploadProgress:0,searchTerm:"",selectedBeneficiary:null,stats:{total:0,withPhones:0,withoutPhones:0,incomplete:0,unassigned:0}})}}),{name:"beneficiary-store",partialize:e=>({beneficiaries:e.beneficiaries,uploadHistory:e.uploadHistory,settings:e.settings,stats:e.stats,shouldReload:e.shouldReload})}));window.zustandStore=l5;class bIe{constructor(){this.collection="userProfiles",this.rolesCollection="roles"}isSuperAdmin(t){return(t==null?void 0:t.email)==="roberto@mistatas.com"}async diagnoseUserCollection(){var t;try{console.log("🩺 DIAGNÓSTICO: Iniciando diagnóstico de colección de usuarios");const r=ma.currentUser;console.log("🩺 Usuario autenticado:",r==null?void 0:r.email),console.log("🩺 Es super admin:",this.isSuperAdmin(r)),console.log("🩺 Intentando acceso directo a la colección...");const n=Qr(Ct,this.collection),a=await Ei(n);console.log("🩺 Documentos encontrados:",a.size);const i=[];return a.forEach(s=>{var l,c;const o=s.data();i.push({id:s.id,email:o.email,role:o.role,createdAt:((c=(l=o.createdAt)==null?void 0:l.toDate)==null?void 0:c.call(l))||o.createdAt}),console.log("🩺 Doc:",s.id,o)}),{success:!0,authenticated:!!r,userEmail:r==null?void 0:r.email,isSuperAdmin:this.isSuperAdmin(r),collectionExists:!0,documentsCount:a.size,documents:i}}catch(r){return console.error("🩺 Error en diagnóstico:",r),{success:!1,error:r.message,errorCode:r.code,authenticated:!!ma.currentUser,userEmail:(t=ma.currentUser)==null?void 0:t.email}}}async createTestUsers(){var t;try{console.log("🧪 Creando usuarios de prueba...");const r=[{email:"javiera.reyes@mistatas.com",displayName:"Javiera Reyes Alvarado",role:"teleoperadora",isActive:!0},{email:"admin@mistatas.com",displayName:"Administrador Sistema",role:"admin",isActive:!0}],n=[];for(const a of r)try{const i={uid:`test-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,email:a.email,displayName:a.displayName,role:a.role,isActive:a.isActive,createdAt:br(),updatedAt:br(),createdBy:(t=ma.currentUser)==null?void 0:t.uid,lastLogin:null,isTestUser:!0};await r0(Lr(Ct,this.collection,i.uid),i),console.log("✅ Usuario de prueba creado:",a.email),n.push({id:i.uid,...i})}catch(i){console.error("❌ Error creando usuario de prueba:",a.email,i)}return console.log(`🧪 Usuarios de prueba creados: ${n.length}`),n}catch(r){throw console.error("❌ Error en createTestUsers:",r),r}}async cleanTestUsers(){try{console.log("🧹 Limpiando usuarios de prueba...");const t=ta(Qr(Ct,this.collection),Gn("isTestUser","==",!0)),r=await Ei(t),n=[];return r.forEach(a=>{n.push(Ad(a.ref))}),await Promise.all(n),console.log(`🧹 ${r.size} usuarios de prueba eliminados`),r.size}catch(t){throw console.error("❌ Error limpiando usuarios de prueba:",t),t}}async getAllUsers(){var t;try{console.log("🔍 Iniciando carga de usuarios..."),console.log("🔍 Usuario actual:",(t=ma.currentUser)==null?void 0:t.email),console.log("🔍 Colección:",this.collection);const r=ta(Qr(Ct,this.collection),fu("createdAt","desc"));console.log("🔍 Ejecutando query...");const n=await Ei(r),a=[];return console.log("🔍 Docs encontrados:",n.size),n.forEach(i=>{const s={id:i.id,...i.data()};console.log("📄 Usuario encontrado:",s),a.push(s)}),console.log(`✅ Total usuarios obtenidos: ${a.length}`),a}catch(r){return console.error("❌ Error obteniendo usuarios:",r),console.error("❌ Error code:",r.code),console.error("❌ Error message:",r.message),[]}}async createUser(t){var r;try{const{email:n,password:a,displayName:i,role:s,isActive:o,...l}=t;if(!this.isSuperAdmin(ma.currentUser))throw new Error("Sin permisos para esta operación");if(!n||!i)throw new Error("Email y nombre son requeridos");const c=`profile-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,u={uid:c,email:n.toLowerCase().trim(),displayName:i.trim(),role:s||"teleoperadora",isActive:o!==!1,createdAt:br(),updatedAt:br(),createdBy:(r=ma.currentUser)==null?void 0:r.uid,lastLogin:null,authenticationStatus:"pending",profileType:"admin_created",...l};if((await this.getAllUsers()).some(p=>p.email.toLowerCase()===n.toLowerCase()))throw new Error("Ya existe un usuario con este email");return await r0(Lr(Ct,this.collection,c),u),console.log("✅ Perfil de usuario creado:",c),console.log("📧 El usuario deberá registrarse en Firebase Auth con el email:",n),{id:c,...u}}catch(n){throw console.error("❌ Error creando perfil de usuario:",n),new Error(this.getErrorMessage(n))}}async updateUser(t,r){var n;try{const a=Lr(Ct,this.collection,t),i={...r,updatedAt:br(),updatedBy:(n=ma.currentUser)==null?void 0:n.uid};return await rf(a,i),console.log("✅ Usuario actualizado:",t),i}catch(a){throw console.error("❌ Error actualizando usuario:",a),new Error("Error al actualizar el usuario")}}async deleteUser(t){var r;try{return await this.updateUser(t,{isActive:!1,deletedAt:br(),deletedBy:(r=ma.currentUser)==null?void 0:r.uid}),console.log("✅ Usuario eliminado (soft delete):",t),!0}catch(n){throw console.error("❌ Error eliminando usuario:",n),new Error("Error al eliminar el usuario")}}async getUserProfileByEmail(t){try{if(!t)return console.log("❌ getUserProfileByEmail: Email vacío"),null;const r=t.toLowerCase().trim();console.log("🔍 getUserProfileByEmail: Buscando perfil para:",r);const n=ta(Qr(Ct,this.collection),Gn("email","==",r)),a=await Ei(n);if(console.log("📊 getUserProfileByEmail: Documentos encontrados:",a.size),!a.empty){const i=a.docs[0],s={id:i.id,...i.data()};return console.log("✅ getUserProfileByEmail: Perfil encontrado:",s),s}return console.log("❌ getUserProfileByEmail: No se encontró perfil para:",r),null}catch(r){return console.error("❌ Error obteniendo perfil por email:",r),null}}async getUserProfile(t){try{const r=Lr(Ct,this.collection,t),n=await _1(r);return n.exists()?{id:n.id,...n.data()}:null}catch(r){return console.error("❌ Error obteniendo perfil:",r),null}}async updateLastLogin(t){try{const r=Lr(Ct,this.collection,t);await rf(r,{lastLogin:br()})}catch(r){console.error("❌ Error actualizando último login:",r)}}async searchUsers(t,r=null){try{let n=Qr(Ct,this.collection);r&&(n=ta(n,Gn("role","==",r)));const a=await Ei(n),i=[];return a.forEach(s=>{var l,c;const o={id:s.id,...s.data()};(!t||(l=o.displayName)!=null&&l.toLowerCase().includes(t.toLowerCase())||(c=o.email)!=null&&c.toLowerCase().includes(t.toLowerCase()))&&i.push(o)}),i}catch(n){return console.error("❌ Error buscando usuarios:",n),[]}}async getUserStats(){try{const t=await this.getAllUsers(),r={total:t.length,active:t.filter(n=>n.isActive!==!1).length,byRole:{},recentLogins:t.filter(n=>{if(!n.lastLogin)return!1;const a=new Date(n.lastLogin.toDate?n.lastLogin.toDate():n.lastLogin),i=new Date;return i.setDate(i.getDate()-7),a>=i}).length};return t.forEach(n=>{const a=n.role||"sin_rol";r.byRole[a]=(r.byRole[a]||0)+1}),r}catch(t){return console.error("❌ Error obteniendo estadísticas:",t),{total:0,active:0,byRole:{},recentLogins:0}}}validateUserPermissions(t,r){if(!t)return!1;if(this.isSuperAdmin(t))return!0;const a={super_admin:["all"],admin:["dashboard","calls","assignments","beneficiaries","seguimientos","history","audit","reports"],auditor:["dashboard","history","audit","reports"],teleoperadora:["seguimientos"]}[t.role]||[];return a.includes("all")||a.includes(r)}async createProfileForExistingUser(t,r){var n;try{const a={uid:t.uid,email:t.email,displayName:t.displayName||"",role:r.role||"teleoperadora",isActive:!0,createdAt:br(),updatedAt:br(),createdBy:(n=ma.currentUser)==null?void 0:n.uid,lastLogin:null,...r};return await r0(Lr(Ct,this.collection,t.uid),a),console.log("✅ Perfil creado para usuario existente:",t.uid),a}catch(a){throw console.error("❌ Error creando perfil:",a),a}}async migrateExistingUsers(){try{console.log("🔄 Iniciando migración de usuarios...");const t=[{email:"roberto@mistatas.com",displayName:"Roberto Mistatas",role:"super_admin"}],r=[];for(const n of t)try{(await this.searchUsers(n.email)).length===0&&(console.log("Creando perfil para:",n.email),r.push(n.email))}catch(a){console.error("Error migrando usuario:",n.email,a)}return console.log(`✅ Migración completada: ${r.length} usuarios migrados`),r}catch(t){throw console.error("❌ Error en migración:",t),t}}getErrorMessage(t){return{"auth/email-already-in-use":"El email ya está registrado","auth/invalid-email":"Email inválido","auth/weak-password":"La contraseña es muy débil","auth/user-not-found":"Usuario no encontrado","permission-denied":"Sin permisos para esta operación",unavailable:"Servicio no disponible"}[t.code]||t.message||"Error desconocido"}}const Jf=new bIe,JB=Object.freeze(Object.defineProperty({__proto__:null,userManagementService:Jf},Symbol.toStringTag,{value:"Module"})),Jee=xu(Ym((e,t)=>({users:[],roles:[{id:"super_admin",name:"Super Administrador",description:"Acceso completo al sistema",permissions:["all"],level:100,color:"purple"},{id:"admin",name:"Administrador",description:"Gestión completa de teleoperadoras y auditoría",permissions:["dashboard","calls","assignments","beneficiaries","seguimientos","history","audit","reports"],level:80,color:"blue"},{id:"auditor",name:"Auditor",description:"Solo auditoría y reportes",permissions:["dashboard","history","audit","reports"],level:60,color:"green"},{id:"teleoperadora",name:"Teleoperadora",description:"Solo seguimientos de sus beneficiarios asignados",permissions:["seguimientos"],level:40,color:"orange"}],isLoading:!1,selectedUser:null,searchTerm:"",filterRole:"all",stats:{totalUsers:0,activeUsers:0,usersByRole:{}},setUsers:r=>{const n=t().calculateStats(r);e({users:r||[],stats:n})},loadUsers:async()=>{console.log("🔄 Store: Iniciando carga de usuarios..."),e({isLoading:!0});try{console.log("🔄 Store: Llamando al servicio...");const r=await Jf.getAllUsers();console.log("🔄 Store: Usuarios recibidos del servicio:",r.length),t().setUsers(r),console.log("🔄 Store: Usuarios guardados en el estado")}catch(r){console.error("❌ Store: Error cargando usuarios:",r)}finally{e({isLoading:!1})}},createUser:async r=>{try{const n=await Jf.createUser(r);return e(a=>({users:[...a.users,n],stats:t().calculateStats([...a.users,n])})),n}catch(n){throw console.error("Error creando usuario:",n),n}},updateUser:async(r,n)=>{try{const a=await Jf.updateUser(r,n);return e(i=>{const s=i.users.map(o=>o.id===r?{...o,...a}:o);return{users:s,stats:t().calculateStats(s)}}),a}catch(a){throw console.error("Error actualizando usuario:",a),a}},deleteUser:async r=>{try{await Jf.deleteUser(r),e(n=>{const a=n.users.filter(i=>i.id!==r);return{users:a,stats:t().calculateStats(a)}})}catch(n){throw console.error("Error eliminando usuario:",n),n}},toggleUserStatus:async r=>{const n=t().users.find(a=>a.id===r);if(n)return t().updateUser(r,{isActive:!n.isActive})},setSelectedUser:r=>e({selectedUser:r}),setSearchTerm:r=>e({searchTerm:r}),setFilterRole:r=>e({filterRole:r}),getUsersByRole:r=>t().users.filter(n=>n.role===r),getFilteredUsers:()=>{const{users:r,searchTerm:n,filterRole:a}=t();let i=r;return n&&(i=i.filter(s=>{var o,l;return((o=s.displayName)==null?void 0:o.toLowerCase().includes(n.toLowerCase()))||((l=s.email)==null?void 0:l.toLowerCase().includes(n.toLowerCase()))})),a&&a!=="all"&&(i=i.filter(s=>s.role===a)),i},getRoleById:r=>t().roles.find(n=>n.id===r),getUserPermissions:r=>{const n=t().getRoleById(r==null?void 0:r.role);return(n==null?void 0:n.permissions)||[]},hasPermission:(r,n)=>{const a=t().getUserPermissions(r);return a.includes("all")||a.includes(n)},isSuperAdmin:r=>(r==null?void 0:r.email)==="roberto@mistatas.com"||(r==null?void 0:r.role)==="super_admin",canAccessModule:(r,n)=>t().isSuperAdmin(r)?!0:t().hasPermission(r,n),calculateStats:r=>{const n=r.length,a=r.filter(s=>s.isActive!==!1).length,i={};return r.forEach(s=>{const o=s.role||"sin_rol";i[o]=(i[o]||0)+1}),{totalUsers:n,activeUsers:a,usersByRole:i}},exportUsers:()=>{const r=t().users,n=JSON.stringify(r,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(n),i=`usuarios_${new Date().toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",i),s.click()},resetState:()=>{e({users:[],selectedUser:null,searchTerm:"",filterRole:"all",isLoading:!1})}}),{name:"user-management-storage",partialize:e=>({roles:e.roles})}));class _Ie{constructor(){this.collection="seguimientos"}async createSeguimiento(t,r){try{const n=await gm(Qr(Ct,this.collection),{...r,userId:t,createdAt:br(),updatedAt:br()});return console.log("✅ Seguimiento creado:",n.id),n.id}catch(n){throw console.error("❌ Error creando seguimiento:",n),new Error("Error al crear el seguimiento")}}async getSeguimientos(t){try{const r=ta(Qr(Ct,this.collection),Gn("userId","==",t),fu("fechaContacto","desc")),n=await Ei(r),a=[];return n.forEach(i=>{a.push({id:i.id,...i.data()})}),console.log(`✅ Seguimientos obtenidos: ${a.length}`),a}catch(r){return console.error("❌ Error obteniendo seguimientos:",r),[]}}async getSeguimientosByBeneficiario(t,r){try{const n=ta(Qr(Ct,this.collection),Gn("userId","==",t),Gn("beneficiarioId","==",r),fu("fechaContacto","desc")),a=await Ei(n),i=[];return a.forEach(s=>{i.push({id:s.id,...s.data()})}),i}catch(n){return console.error("❌ Error obteniendo seguimientos del beneficiario:",n),[]}}async updateSeguimiento(t,r){try{const n=Lr(Ct,this.collection,t);return await rf(n,{...r,updatedAt:br()}),console.log("✅ Seguimiento actualizado:",t),!0}catch(n){throw console.error("❌ Error actualizando seguimiento:",n),new Error("Error al actualizar el seguimiento")}}async deleteSeguimiento(t){try{const r=Lr(Ct,this.collection,t);return await Ad(r),console.log("✅ Seguimiento eliminado:",t),!0}catch(r){throw console.error("❌ Error eliminando seguimiento:",r),new Error("Error al eliminar el seguimiento")}}async getEstadisticasOperadora(t,r=null){try{let n;r?n=ta(Qr(Ct,this.collection),Gn("userId","==",t),Gn("operadorId","==",r)):n=ta(Qr(Ct,this.collection),Gn("userId","==",t));const a=await Ei(n),i=[];a.forEach(o=>{i.push({id:o.id,...o.data()})});const s={totalSeguimientos:i.length,exitosos:i.filter(o=>o.tipoResultado==="exitoso").length,fallidos:i.filter(o=>o.tipoResultado==="fallido").length,noRespuesta:i.filter(o=>o.tipoResultado==="no-respuesta").length,ocupados:i.filter(o=>o.tipoResultado==="ocupado").length,mensajes:i.filter(o=>o.tipoResultado==="mensaje").length,beneficiariosContactados:new Set(i.map(o=>o.beneficiarioId||o.beneficiario)).size,llamadas:i.filter(o=>o.tipoContacto==="llamada").length,videollamadas:i.filter(o=>o.tipoContacto==="videollamada").length,whatsapp:i.filter(o=>o.tipoContacto==="whatsapp").length,presenciales:i.filter(o=>o.tipoContacto==="presencial").length,recientes:i.filter(o=>{const l=new Date(o.fechaContacto),c=new Date;return c.setDate(c.getDate()-30),l>=c}).length};return s.porcentajeExito=s.totalSeguimientos>0?Math.round(s.exitosos/s.totalSeguimientos*100):0,s}catch(n){return console.error("❌ Error obteniendo estadísticas:",n),{totalSeguimientos:0,exitosos:0,fallidos:0,noRespuesta:0,ocupados:0,mensajes:0,beneficiariosContactados:0,llamadas:0,videollamadas:0,whatsapp:0,presenciales:0,recientes:0,porcentajeExito:0}}}async getBeneficiariosConEstado(t,r=[]){try{const n=await this.getSeguimientos(t);return r.map(a=>{const i=n.filter(u=>u.beneficiarioId===a.id||u.beneficiario===a.beneficiary),s=i.filter(u=>u.tipoResultado==="exitoso");if(s.length===0)return{...a,estado:"urgente",ultimoContacto:null,diasSinContacto:null,totalSeguimientos:i.length};const o=s.sort((u,f)=>new Date(f.fechaContacto)-new Date(u.fechaContacto))[0],l=Math.floor((new Date-new Date(o.fechaContacto))/(1e3*60*60*24));let c;return l<=15?c="al-dia":l<=30?c="pendiente":c="urgente",{...a,estado:c,ultimoContacto:o.fechaContacto,diasSinContacto:l,totalSeguimientos:i.length}})}catch(n){return console.error("❌ Error calculando estados de beneficiarios:",n),r.map(a=>({...a,estado:"urgente",totalSeguimientos:0}))}}async buscarSeguimientos(t,r={}){try{let n=ta(Qr(Ct,this.collection),Gn("userId","==",t));r.beneficiario&&(n=ta(n,Gn("beneficiario","==",r.beneficiario))),r.tipoResultado&&(n=ta(n,Gn("tipoResultado","==",r.tipoResultado))),r.tipoContacto&&(n=ta(n,Gn("tipoContacto","==",r.tipoContacto))),r.operador&&(n=ta(n,Gn("operador","==",r.operador))),n=ta(n,fu("fechaContacto","desc"));const a=await Ei(n),i=[];return a.forEach(s=>{const o=s.data();if(r.fechaInicio&&r.fechaFin){const l=new Date(o.fechaContacto),c=new Date(r.fechaInicio),u=new Date(r.fechaFin);if(l<c||l>u)return}i.push({id:s.id,...o})}),i}catch(n){return console.error("❌ Error buscando seguimientos:",n),[]}}async migrarDatosLlamadas(t,r=[]){try{console.log("🔄 Iniciando migración de datos de llamadas...");const n=[];for(const a of r){const i={beneficiarioId:a.id||null,beneficiario:a.beneficiary||a.beneficiario,telefono:a.phone||a.telefono,tipoContacto:"llamada",tipoResultado:this.mapearResultadoLlamada(a.result||a.resultado),observaciones:a.observations||a.observaciones||"",fechaContacto:a.date||a.fecha||new Date().toISOString(),operadorId:t,operador:a.operator||a.operador||"Sistema",duracion:a.duration||a.duracion||0,evento:a.event||a.evento||"",migrado:!0,datosOriginales:a};try{const s=await gm(Qr(Ct,this.collection),{...i,userId:t,createdAt:br(),updatedAt:br()});n.push(s.id)}catch(s){console.error("Error migrando seguimiento:",a,s)}}return console.log(`✅ Migración completada: ${n.length} seguimientos migrados`),n}catch(n){throw console.error("❌ Error en migración:",n),new Error("Error en la migración de datos")}}mapearResultadoLlamada(t){if(!t)return"fallido";const r=t.toLowerCase();return r.includes("exitoso")||r.includes("successful")?"exitoso":r.includes("ocupado")||r.includes("busy")?"ocupado":r.includes("no contest")||r.includes("no responde")?"no-respuesta":r.includes("mensaje")||r.includes("message")?"mensaje":"fallido"}async limpiarSeguimientosAntiguos(t,r=365){try{const n=new Date;n.setDate(n.getDate()-r);const a=ta(Qr(Ct,this.collection),Gn("userId","==",t),Gn("fechaContacto","<",n.toISOString())),i=await Ei(a),s=[];for(const o of i.docs)await Ad(o.ref),s.push(o.id);return console.log(`✅ Limpieza completada: ${s.length} seguimientos antiguos eliminados`),s.length}catch(n){throw console.error("❌ Error en limpieza:",n),new Error("Error al limpiar seguimientos antiguos")}}}const Zee=new _Ie,SIe=e=>!e||typeof e!="string"?"":e.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,""),{COLLECTIONS:_4}=go,ete=xu(dj((e,t)=>({seguimientos:[],calendarEvents:[],byBeneficiary:{},isLoading:!1,error:null,currentUserId:null,unsubscribe:null,selectedDate:null,dailyContacts:[],initializeSubscription:r=>{const{unsubscribe:n}=t();if(!ma.currentUser){lt.warn("⚠️ Intento de suscripción sin usuario autenticado. Esperando autenticación...");const i=ma.onAuthStateChanged(s=>{s&&(lt.info("✅ Usuario autenticado, reiniciando suscripción:",s.email),i(),t().initializeSubscription(r))});return}n&&n(),e({isLoading:!0,error:null,currentUserId:r,seguimientos:[],calendarEvents:[],byBeneficiary:{}}),lt.store("Inicializando suscripción de seguimientos para operador:",r);try{const i=go.onSnapshotCollection(_4.SEGUIMIENTOS,{where:["operatorId","==",r],orderBy:["fechaContacto","desc"]},s=>{lt.store("Seguimientos actualizados:",s.length);const o={};s.forEach(l=>{const c=l.beneficiarioId||l.beneficiaryId;c&&(o[c]||(o[c]=[]),o[c].push(l))}),e({seguimientos:s,byBeneficiary:o,calendarEvents:t().formatSeguimientosToEvents(s),isLoading:!1,error:null})},s=>{lt.error("Error en suscripción de seguimientos:",s),e({error:s.message,isLoading:!1})});e({unsubscribe:i})}catch(i){lt.error("Error inicializando suscripción:",i),e({error:i.message,isLoading:!1})}},subscribeToTeleoperadora:r=>{t().initializeSubscription(r)},formatSeguimientosToEvents:r=>r.map(n=>{var s,o;let a;(s=n.fechaContacto)!=null&&s.toDate?a=n.fechaContacto.toDate():n.fechaContacto instanceof Date?a=n.fechaContacto:typeof n.fechaContacto=="string"?a=new Date(n.fechaContacto):a=new Date;let i="#3B82F6";switch((o=n.resultado)==null?void 0:o.toLowerCase()){case"exitoso":case"contacto exitoso":i="#10B981";break;case"sin respuesta":case"no contesta":i="#F59E0B";break;case"ocupado":case"línea ocupada":i="#EF4444";break;case"reagendado":i="#8B5CF6";break;default:i="#6B7280"}return{id:n.id,title:n.beneficiarioNombre||"Contacto",start:a,end:a,allDay:!0,resource:{...n,color:i,phone:n.telefono,result:n.resultado,notes:n.observaciones}}}),createSeguimiento:async r=>{const{currentUserId:n}=t();if(!n)throw new Error("Usuario no autenticado");e({isLoading:!0,error:null});try{lt.store("Creando seguimiento");const a={...r,beneficiarioNombre:SIe(r.beneficiarioNombre||r.nombre),operatorId:n,operatorName:r.operatorName||""},i=await Zee.createSeguimiento(n,a);return lt.store("Seguimiento creado:",i),e({isLoading:!1}),i}catch(a){throw lt.error("Error creando seguimiento:",a),e({error:a.message,isLoading:!1}),a}},addSeguimiento:async r=>await t().createSeguimiento(r),updateSeguimiento:async(r,n)=>{e({isLoading:!0,error:null});try{return lt.store("Actualizando seguimiento:",r),await go.update(_4.SEGUIMIENTOS,r,n),lt.store("Seguimiento actualizado"),e({isLoading:!1}),!0}catch(a){throw lt.error("Error actualizando seguimiento:",a),e({error:a.message,isLoading:!1}),a}},deleteSeguimiento:async r=>{e({isLoading:!0,error:null});try{return lt.store("Eliminando seguimiento:",r),await go.remove(_4.SEGUIMIENTOS,r),lt.store("Seguimiento eliminado"),e({isLoading:!1}),!0}catch(n){throw lt.error("Error eliminando seguimiento:",n),e({error:n.message,isLoading:!1}),n}},getContactsByDate:r=>{const{seguimientos:n}=t(),a=new Date(r);a.setHours(0,0,0,0);const i=new Date(r);i.setHours(23,59,59,999);const s=n.filter(o=>{var c;let l;if((c=o.fechaContacto)!=null&&c.toDate)l=o.fechaContacto.toDate();else if(o.fechaContacto instanceof Date)l=o.fechaContacto;else if(typeof o.fechaContacto=="string")l=new Date(o.fechaContacto);else return!1;return l>=a&&l<=i});return e({selectedDate:r,dailyContacts:s}),s},clearStore:()=>{const{unsubscribe:r}=t();r&&r(),e({seguimientos:[],calendarEvents:[],isLoading:!1,error:null,currentUserId:null,unsubscribe:null,selectedDate:null,dailyContacts:[]})},getStats:()=>{const{seguimientos:r}=t(),n=new Date,a=new Date(n.getFullYear(),n.getMonth(),1),i=r.filter(c=>{var f;let u;if((f=c.fechaContacto)!=null&&f.toDate)u=c.fechaContacto.toDate();else if(c.fechaContacto instanceof Date)u=c.fechaContacto;else if(typeof c.fechaContacto=="string")u=new Date(c.fechaContacto);else return!1;return u>=a}),s=i.filter(c=>{var u;return(u=c.resultado)==null?void 0:u.toLowerCase().includes("exitoso")}).length,o=i.filter(c=>{var u,f;return((u=c.resultado)==null?void 0:u.toLowerCase().includes("sin respuesta"))||((f=c.resultado)==null?void 0:f.toLowerCase().includes("no contesta"))}).length,l=i.filter(c=>{var u;return(u=c.resultado)==null?void 0:u.toLowerCase().includes("ocupado")}).length;return{totalContactos:i.length,exitosos:s,sinRespuesta:o,ocupados:l,tasaExito:i.length>0?Math.round(s/i.length*100):0}}}))),Br={ABIERTO:"abierto",PENDIENTE:"pendiente",EN_CURSO:"en_curso",FINALIZADO:"finalizado"},Th={[Br.ABIERTO]:"#3b82f6",[Br.PENDIENTE]:"#f59e0b",[Br.EN_CURSO]:"#8b5cf6",[Br.FINALIZADO]:"#10b981"},EIe=(e,t)=>Math.floor((new Date-(t||e))/(1e3*60*60*24))>7?Br.PENDIENTE:Br.ABIERTO,E1=xu(dj((e,t)=>({gestiones:[],calendarEvents:[],isLoading:!1,error:null,unsubscribe:null,selectedDate:null,selectedGestion:null,initializeGestionesSubscription:()=>{const{unsubscribe:r}=t();r&&r(),e({isLoading:!0,error:null,gestiones:[],calendarEvents:[]});try{const n=ta(Qr(Ct,"gestiones"),fu("createdAt","desc")),a=wT(n,i=>{const s=[];i.forEach(o=>{var u,f,h,p,m;const l=o.data();let c=l.estado;if(l.estado!==Br.FINALIZADO){const g=((u=l.createdAt)==null?void 0:u.toDate())||new Date,v=((f=l.updatedAt)==null?void 0:f.toDate())||null;c=EIe(g,v)}s.push({id:o.id,...l,estado:c,createdAt:((h=l.createdAt)==null?void 0:h.toDate())||new Date,updatedAt:((p=l.updatedAt)==null?void 0:p.toDate())||null,fechaVencimiento:((m=l.fechaVencimiento)==null?void 0:m.toDate())||null})}),console.log("🔄 Gestiones actualizadas:",s.length),e({gestiones:s,calendarEvents:t().formatGestionesToEvents(s),isLoading:!1,error:null})},i=>{console.error("❌ Error en suscripción de gestiones:",i),e({error:i.message,isLoading:!1})});e({unsubscribe:a})}catch(n){console.error("❌ Error inicializando suscripción:",n),e({error:n.message,isLoading:!1})}},formatGestionesToEvents:r=>r.map(n=>{const a=n.fechaVencimiento||n.createdAt;let i=n.titulo;switch(n.tipo){case"recordatorio_medicamentos":i=`💊 ${n.titulo}`,n.horaMedicamento&&(i+=` (${n.horaMedicamento})`);break;case"toma_hora_cesfam":i=`🏥 ${n.titulo}`,n.centroSalud&&(i+=` - ${n.centroSalud}`);break;case"gestion_municipal":i=`🏛️ ${n.titulo}`;break;default:i=`📋 ${n.titulo}`}return{id:n.id,title:i,start:a,end:a,allDay:n.tipo!=="recordatorio_medicamentos",resource:{...n,color:Th[n.estado]||Th[Br.ABIERTO]}}}),addGestion:async(r,n,a)=>{e({isLoading:!0,error:null});try{const i={titulo:r.titulo,descripcion:r.descripcion,tipo:r.tipo||"gestion_municipal",creadorId:n,creadorNombre:a,estado:Br.ABIERTO,fechaVencimiento:r.fechaVencimiento||null,prioridad:r.prioridad||"media",categoria:r.categoria||"general",...r.medicamentos&&{medicamentos:r.medicamentos},...r.horaMedicamento&&{horaMedicamento:r.horaMedicamento},...r.recurrencia&&{recurrencia:r.recurrencia},...r.centroSalud&&{centroSalud:r.centroSalud},...r.especialidad&&{especialidad:r.especialidad},...r.tipoGestionMunicipal&&{tipoGestionMunicipal:r.tipoGestionMunicipal},...r.departamento&&{departamento:r.departamento},createdAt:br(),updatedAt:br()},s=await gm(Qr(Ct,"gestiones"),i);return r.tipo==="recordatorio_medicamentos"&&r.recurrencia&&r.recurrencia!=="unico"&&await t().crearGestionesRecurrentes(s.id,r,n,a),console.log("✅ Gestión creada:",s.id),e({isLoading:!1}),s.id}catch(i){throw console.error("❌ Error creando gestión:",i),e({error:i.message,isLoading:!1}),i}},crearGestionesRecurrentes:async(r,n,a,i)=>{try{const s=[],o=n.fechaVencimiento||new Date;let l=0,c=0;switch(n.recurrencia){case"diario":l=30,c=1;break;case"semanal":l=12,c=7;break;case"mensual":l=12,c=30;break;case"permanente":l=365,c=1;break;default:return}for(let f=1;f<=l;f++){const h=new Date(o);h.setDate(h.getDate()+c*f);const p={titulo:`${n.titulo} (${f+1})`,descripcion:n.descripcion,tipo:n.tipo,creadorId:a,creadorNombre:i,estado:Br.ABIERTO,fechaVencimiento:h,prioridad:n.prioridad||"media",categoria:n.categoria||"general",medicamentos:n.medicamentos,horaMedicamento:n.horaMedicamento,recurrencia:"instancia_recurrente",gestionOriginalId:r,createdAt:br(),updatedAt:br()};s.push(p)}const u=[];for(const f of s)u.push(gm(Qr(Ct,"gestiones"),f));await Promise.all(u),console.log(`✅ Creadas ${l} instancias recurrentes`)}catch(s){console.error("❌ Error creando gestiones recurrentes:",s)}},updateGestion:async(r,n)=>{e({isLoading:!0,error:null});try{const a={...n,updatedAt:br()};await rf(Lr(Ct,"gestiones",r),a),console.log("✅ Gestión actualizada completamente:",r),e({isLoading:!1})}catch(a){throw console.error("❌ Error actualizando gestión:",a),e({error:a.message,isLoading:!1}),a}},updateGestionEstado:async(r,n,a={})=>{e({isLoading:!0,error:null});try{const i={estado:n,updatedAt:br(),...a};await rf(Lr(Ct,"gestiones",r),i),console.log("✅ Gestión actualizada:",r),e({isLoading:!1})}catch(i){throw console.error("❌ Error actualizando gestión:",i),e({error:i.message,isLoading:!1}),i}},completeGestion:async(r,n,a,i)=>{e({isLoading:!0,error:null});try{const s={estado:Br.FINALIZADO,solucion:n,finalizadaPor:a,finalizadaNombre:i,fechaFinalizacion:br(),updatedAt:br()};await rf(Lr(Ct,"gestiones",r),s),console.log("✅ Gestión finalizada:",r),e({isLoading:!1})}catch(s){throw console.error("❌ Error finalizando gestión:",s),e({error:s.message,isLoading:!1}),s}},markGestionEnCurso:async(r,n)=>{try{await t().updateGestionEstado(r,Br.EN_CURSO,{enCursoPor:n,fechaEnCurso:br()})}catch(a){throw console.error("❌ Error marcando gestión en curso:",a),a}},deleteGestion:async r=>{e({isLoading:!0,error:null});try{await Ad(Lr(Ct,"gestiones",r)),console.log("✅ Gestión eliminada:",r),e({isLoading:!1})}catch(n){throw console.error("❌ Error eliminando gestión:",n),e({error:n.message,isLoading:!1}),n}},getGestionesByDate:r=>{const{gestiones:n}=t(),a=new Date(r);a.setHours(0,0,0,0);const i=new Date(r);i.setHours(23,59,59,999);const s=n.filter(o=>{const l=o.fechaVencimiento||o.createdAt;return l>=a&&l<=i});return e({selectedDate:r}),s},getGestionesByEstado:r=>{const{gestiones:n}=t();return n.filter(a=>a.estado===r)},getGestionesStats:()=>{const{gestiones:r}=t(),n={total:r.length,abiertas:r.filter(a=>a.estado===Br.ABIERTO).length,pendientes:r.filter(a=>a.estado===Br.PENDIENTE).length,enCurso:r.filter(a=>a.estado===Br.EN_CURSO).length,finalizadas:r.filter(a=>a.estado===Br.FINALIZADO).length};return n.porcentajeResolucion=n.total>0?Math.round(n.finalizadas/n.total*100):0,n},searchGestiones:r=>{const{gestiones:n}=t();if(!r.trim())return n;const a=r.toLowerCase().trim();return n.filter(i=>i.titulo.toLowerCase().includes(a)||i.descripcion.toLowerCase().includes(a)||i.creadorNombre.toLowerCase().includes(a))},clearGestionesStore:()=>{const{unsubscribe:r}=t();r&&r(),e({gestiones:[],calendarEvents:[],isLoading:!1,error:null,unsubscribe:null,selectedDate:null,selectedGestion:null})},setSelectedGestion:r=>e({selectedGestion:r}),setSelectedDate:r=>e({selectedDate:r}),clearError:()=>e({error:null})}))),AT=xu(dj((e,t)=>({globalMetrics:null,teleoperadorasMetrics:{},beneficiariosMetrics:{},noAsignadosMetrics:null,loading:{global:!0,teleoperadoras:!0,beneficiarios:!0,noAsignados:!0},errors:{global:null,teleoperadoras:null,beneficiarios:null,noAsignados:null},unsubscribers:[],initializeListeners:()=>{console.log("⚠️ Listeners de métricas deshabilitados hasta que la BD esté inicializada")},cleanup:()=>{const{unsubscribers:r}=t();r.forEach(n=>{typeof n=="function"&&n()}),e({unsubscribers:[]})},getTeleoperadoraMetrics:r=>{const{teleoperadorasMetrics:n}=t();return n[r]||null},getBeneficiaryMetrics:r=>{const{beneficiariosMetrics:n}=t();return n[r]||null},getTopOperators:(r=10)=>{const{teleoperadorasMetrics:n}=t();return Object.values(n).sort((a,i)=>i.successRate!==a.successRate?i.successRate-a.successRate:i.totalCalls-a.totalCalls).slice(0,r)},getBeneficiariesByStatus:r=>{const{beneficiariosMetrics:n}=t();return Object.values(n).filter(a=>a.status===r).sort((a,i)=>!a.lastCall&&!i.lastCall?0:a.lastCall?i.lastCall?new Date(i.lastCall)-new Date(a.lastCall):-1:1)},getSummaryStats:()=>{const{globalMetrics:r,teleoperadorasMetrics:n,beneficiariosMetrics:a,noAsignadosMetrics:i}=t(),s=Object.keys(n).length,o=Object.keys(a).length,l=Object.values(a).reduce((c,u)=>(c[u.status]=(c[u.status]||0)+1,c),{});return{totalCalls:(r==null?void 0:r.totalCalls)||0,successRate:(r==null?void 0:r.successRate)||0,totalOperators:s,totalBeneficiaries:o,beneficiariesByStatus:l,unassignedBeneficiaries:(i==null?void 0:i.totalUnassigned)||0,lastUpdated:(r==null?void 0:r.lastUpdated)||null}},searchBeneficiaries:r=>{const{beneficiariosMetrics:n}=t();if(!r||r.length<2)return Object.values(n);const a=r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return Object.values(n).filter(i=>{var l,c;const s=((l=i.nombreOriginal)==null?void 0:l.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))||"",o=((c=i.telefonos)==null?void 0:c.some(u=>u.includes(r)))||!1;return s.includes(a)||o})},getBeneficiariesByOperator:r=>{const{beneficiariosMetrics:n}=t();return Object.values(n).filter(a=>{var i;return(i=a.calls)==null?void 0:i.some(s=>{var o;return((o=s.teleoperadora)==null?void 0:o.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))===(r==null?void 0:r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))})})}}))),zg={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},ZB={[zg.SUCCESS]:{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:wa,iconColor:"text-green-500"},[zg.ERROR]:{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:_i,iconColor:"text-red-500"},[zg.INFO]:{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:W3,iconColor:"text-blue-500"},[zg.WARNING]:{bg:"bg-yellow-50 border-yellow-200",text:"text-yellow-800",icon:Go,iconColor:"text-yellow-500"}},AIe=({id:e,type:t=zg.INFO,message:r,duration:n=5e3,onDismiss:a})=>{const i=ZB[t]||ZB[zg.INFO],s=i.icon;return j.useEffect(()=>{if(n&&n>0){const o=setTimeout(()=>{a(e)},n);return()=>clearTimeout(o)}},[e,n,a]),d.jsxs("div",{className:`
        ${i.bg} ${i.text}
        border rounded-lg shadow-lg p-4 mb-3
        flex items-start gap-3
        min-w-[300px] max-w-[500px]
        animate-slide-in-right
      `,role:"alert",children:[d.jsx(s,{className:`${i.iconColor} flex-shrink-0 mt-0.5`,size:20}),d.jsx("div",{className:"flex-1 text-sm font-medium",children:r}),d.jsx("button",{onClick:()=>a(e),className:`${i.text} opacity-70 hover:opacity-100 transition-opacity flex-shrink-0`,"aria-label":"Cerrar notificación",children:d.jsx(xd,{size:18})})]})},TIe=({toasts:e,onDismiss:t})=>!e||e.length===0?null:d.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col","aria-live":"polite","aria-atomic":"true",children:e.map(r=>d.jsx(AIe,{id:r.id,type:r.type,message:r.message,duration:r.duration,onDismiss:t},r.id))});function Hr(e){"@babel/helpers - typeof";return Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hr(e)}var vu=Uint8Array,Cl=Uint16Array,pj=Int32Array,mj=new vu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gj=new vu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),e$=new vu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tte=function(e,t){for(var r=new Cl(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new pj(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},rte=tte(mj,2),kIe=rte.b,jP=rte.r;kIe[28]=258,jP[258]=28;var NIe=tte(gj,0),t$=NIe.r,RP=new Cl(32768);for(var ia=0;ia<32768;++ia){var yh=(ia&43690)>>1|(ia&21845)<<1;yh=(yh&52428)>>2|(yh&13107)<<2,yh=(yh&61680)>>4|(yh&3855)<<4,RP[ia]=((yh&65280)>>8|(yh&255)<<8)>>1}var jx=function(e,t,r){for(var n=e.length,a=0,i=new Cl(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new Cl(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new Cl(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],f=s[e[a]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[RP[f]>>l]=c}else for(o=new Cl(n),a=0;a<n;++a)e[a]&&(o[a]=RP[s[e[a]-1]++]>>15-e[a]);return o},xm=new vu(288);for(var ia=0;ia<144;++ia)xm[ia]=8;for(var ia=144;ia<256;++ia)xm[ia]=9;for(var ia=256;ia<280;++ia)xm[ia]=7;for(var ia=280;ia<288;++ia)xm[ia]=8;var c5=new vu(32);for(var ia=0;ia<32;++ia)c5[ia]=5;var CIe=jx(xm,9,0),PIe=jx(c5,5,0),nte=function(e){return(e+7)/8|0},IIe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new vu(e.subarray(t,r))},Lf=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Py=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},S4=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:ite,l:0};if(a==1){var s=new vu(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(I,P){return I.f-P.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var p=new Cl(h+1),m=LP(r[u-1],p,0);if(m>t){var n=0,g=0,v=m-t,y=1<<v;for(i.sort(function(P,A){return p[A.s]-p[P.s]||P.f-A.f});n<a;++n){var x=i[n].s;if(p[x]>t)g+=y-(1<<m-p[x]),p[x]=t;else break}for(g>>=v;g>0;){var w=i[n].s;p[w]<t?g-=1<<t-p[w]++-1:++n}for(;n>=0&&g;--n){var E=i[n].s;p[E]==t&&(--p[E],++g)}m=t}return{t:new vu(p),l:m}},LP=function(e,t,r){return e.s==-1?Math.max(LP(e.l,t,r+1),LP(e.r,t,r+1)):t[e.s]=r},r$=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Cl(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Iy=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},ate=function(e,t,r){var n=r.length,a=nte(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},n$=function(e,t,r,n,a,i,s,o,l,c,u){Lf(t,u++,r),++a[256];for(var f=S4(a,15),h=f.t,p=f.l,m=S4(i,15),g=m.t,v=m.l,y=r$(h),x=y.c,w=y.n,E=r$(g),I=E.c,P=E.n,A=new Cl(19),S=0;S<x.length;++S)++A[x[S]&31];for(var S=0;S<I.length;++S)++A[I[S]&31];for(var k=S4(A,7),O=k.t,T=k.l,C=19;C>4&&!O[e$[C-1]];--C);var D=c+5<<3,B=Iy(a,xm)+Iy(i,c5)+s,Y=Iy(a,h)+Iy(i,g)+s+14+3*C+Iy(A,O)+2*A[16]+3*A[17]+7*A[18];if(l>=0&&D<=B&&D<=Y)return ate(t,u,e.subarray(l,l+c));var ee,re,G,q;if(Lf(t,u,1+(Y<B)),u+=2,Y<B){ee=jx(h,p,0),re=h,G=jx(g,v,0),q=g;var be=jx(O,T,0);Lf(t,u,w-257),Lf(t,u+5,P-1),Lf(t,u+10,C-4),u+=14;for(var S=0;S<C;++S)Lf(t,u+3*S,O[e$[S]]);u+=3*C;for(var _e=[x,I],R=0;R<2;++R)for(var U=_e[R],S=0;S<U.length;++S){var z=U[S]&31;Lf(t,u,be[z]),u+=O[z],z>15&&(Lf(t,u,U[S]>>5&127),u+=U[S]>>12)}}else ee=CIe,re=xm,G=PIe,q=c5;for(var S=0;S<o;++S){var W=n[S];if(W>255){var z=W>>18&31;Py(t,u,ee[z+257]),u+=re[z+257],z>7&&(Lf(t,u,W>>23&31),u+=mj[z]);var Z=W&31;Py(t,u,G[Z]),u+=q[Z],Z>3&&(Py(t,u,W>>5&8191),u+=gj[Z])}else Py(t,u,ee[W]),u+=re[W]}return Py(t,u,ee[256]),u+re[256]},OIe=new pj([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ite=new vu(0),DIe=function(e,t,r,n,a,i){var s=i.z||e.length,o=new vu(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var f=OIe[t-1],h=f>>13,p=f&8191,m=(1<<r)-1,g=i.p||new Cl(32768),v=i.h||new Cl(m+1),y=Math.ceil(r/3),x=2*y,w=function(Ae){return(e[Ae]^e[Ae+1]<<y^e[Ae+2]<<x)&m},E=new pj(25e3),I=new Cl(288),P=new Cl(32),A=0,S=0,k=i.i||0,O=0,T=i.w||0,C=0;k+2<s;++k){var D=w(k),B=k&32767,Y=v[D];if(g[B]=Y,v[D]=B,T<=k){var ee=s-k;if((A>7e3||O>24576)&&(ee>423||!c)){u=n$(e,l,0,E,I,P,S,O,C,k-C,u),O=A=S=0,C=k;for(var re=0;re<286;++re)I[re]=0;for(var re=0;re<30;++re)P[re]=0}var G=2,q=0,be=p,_e=B-Y&32767;if(ee>2&&D==w(k-_e))for(var R=Math.min(h,ee)-1,U=Math.min(32767,k),z=Math.min(258,ee);_e<=U&&--be&&B!=Y;){if(e[k+G]==e[k+G-_e]){for(var W=0;W<z&&e[k+W]==e[k+W-_e];++W);if(W>G){if(G=W,q=_e,W>R)break;for(var Z=Math.min(_e,W-2),le=0,re=0;re<Z;++re){var he=k-_e+re&32767,ae=g[he],pe=he-ae&32767;pe>le&&(le=pe,Y=he)}}}B=Y,Y=g[B],_e+=B-Y&32767}if(q){E[O++]=268435456|jP[G]<<18|t$[q];var ke=jP[G]&31,K=t$[q]&31;S+=mj[ke]+gj[K],++I[257+ke],++P[K],T=k+G,++A}else E[O++]=e[k],++I[e[k]]}}for(k=Math.max(k,T);k<s;++k)E[O++]=e[k],++I[e[k]];u=n$(e,l,c,E,I,P,S,O,C,k-C,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=g,i.i=k,i.w=T)}else{for(var k=i.w||0;k<s+c;k+=65535){var qe=k+65535;qe>=s&&(l[u/8|0]=c,qe=s),u=ate(l,u+1,e.subarray(k,qe))}i.i=s}return IIe(o,0,n+nte(u)+a)},ste=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},jIe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new vu(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return DIe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},ote=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},RIe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=ste();a.p(t.dictionary),ote(e,2,a.d())}};function MP(e,t){t||(t={});var r=ste();r.p(e);var n=jIe(e,t,t.dictionary?6:2,4);return RIe(n,t),ote(n,n.length-4,r.d()),n}var LIe=typeof TextDecoder<"u"&&new TextDecoder,MIe=0;try{LIe.decode(ite,{stream:!0}),MIe=1}catch{}function lte(e){if(Array.isArray(e))return e}function FIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function FP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function vj(e,t){if(e){if(typeof e=="string")return FP(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?FP(e,t):void 0}}function cte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kd(e,t){return lte(e)||FIe(e,t)||vj(e,t)||cte()}function a$(e,t="utf8"){return new TextDecoder(t).decode(e)}const BIe=new TextEncoder;function $Ie(e){return BIe.encode(e)}const UIe=1024*8,VIe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),E4={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class yj{constructor(t=UIe,r={}){hn(this,"buffer");hn(this,"byteLength");hn(this,"byteOffset");hn(this,"length");hn(this,"offset");hn(this,"lastWrittenByte");hn(this,"littleEndian");hn(this,"_data");hn(this,"_mark");hn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let s=a;(ArrayBuffer.isView(t)||t instanceof yj)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=E4[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===VIe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(a,a+n));o.reverse();const l=new E4[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new E4[r](i);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return a$(this.readBytes(t))}decodeText(t=1,r="utf8"){return a$(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes($Ie(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function A1(e){let t=e.length;for(;--t>=0;)e[t]=0}const zIe=3,WIe=258,ute=29,HIe=256,qIe=HIe+1+ute,fte=30,GIe=512,KIe=new Array((qIe+2)*2);A1(KIe);const YIe=new Array(fte*2);A1(YIe);const XIe=new Array(GIe);A1(XIe);const QIe=new Array(WIe-zIe+1);A1(QIe);const JIe=new Array(ute);A1(JIe);const ZIe=new Array(fte);A1(ZIe);const eOe=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do a=a+t[n++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var BP=eOe;const tOe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},rOe=new Uint32Array(tOe()),nOe=(e,t,r,n)=>{const a=rOe,i=n+r;e^=-1;for(let s=n;s<i;s++)e=e>>>8^a[(e^t[s])&255];return e^-1};var Ru=nOe,$P={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},dte={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const aOe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var iOe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)aOe(r,n)&&(e[n]=r[n])}}return e},sOe=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let s=e[n];r.set(s,a),a+=s.length}return r},hte={assign:iOe,flattenChunks:sOe};let pte=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{pte=!1}const F2=new Uint8Array(256);for(let e=0;e<256;e++)F2[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;F2[254]=F2[254]=1;var oOe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,s=e.length,o=0;for(a=0;a<s;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const lOe=(e,t)=>{if(t<65534&&e.subarray&&pte)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var cOe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let s=e[n++];if(s<128){i[a++]=s;continue}let o=F2[s];if(o>4){i[a++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return lOe(i,a)},uOe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+F2[e[r]]>t?r:t},UP={string2buf:oOe,buf2string:cOe,utf8border:uOe};function fOe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var dOe=fOe;const I_=16209,hOe=16191;var pOe=function(t,r){let n,a,i,s,o,l,c,u,f,h,p,m,g,v,y,x,w,E,I,P,A,S,k,O;const T=t.state;n=t.next_in,k=t.input,a=n+(t.avail_in-5),i=t.next_out,O=t.output,s=i-(r-t.avail_out),o=i+(t.avail_out-257),l=T.dmax,c=T.wsize,u=T.whave,f=T.wnext,h=T.window,p=T.hold,m=T.bits,g=T.lencode,v=T.distcode,y=(1<<T.lenbits)-1,x=(1<<T.distbits)-1;e:do{m<15&&(p+=k[n++]<<m,m+=8,p+=k[n++]<<m,m+=8),w=g[p&y];t:for(;;){if(E=w>>>24,p>>>=E,m-=E,E=w>>>16&255,E===0)O[i++]=w&65535;else if(E&16){I=w&65535,E&=15,E&&(m<E&&(p+=k[n++]<<m,m+=8),I+=p&(1<<E)-1,p>>>=E,m-=E),m<15&&(p+=k[n++]<<m,m+=8,p+=k[n++]<<m,m+=8),w=v[p&x];r:for(;;){if(E=w>>>24,p>>>=E,m-=E,E=w>>>16&255,E&16){if(P=w&65535,E&=15,m<E&&(p+=k[n++]<<m,m+=8,m<E&&(p+=k[n++]<<m,m+=8)),P+=p&(1<<E)-1,P>l){t.msg="invalid distance too far back",T.mode=I_;break e}if(p>>>=E,m-=E,E=i-s,P>E){if(E=P-E,E>u&&T.sane){t.msg="invalid distance too far back",T.mode=I_;break e}if(A=0,S=h,f===0){if(A+=c-E,E<I){I-=E;do O[i++]=h[A++];while(--E);A=i-P,S=O}}else if(f<E){if(A+=c+f-E,E-=f,E<I){I-=E;do O[i++]=h[A++];while(--E);if(A=0,f<I){E=f,I-=E;do O[i++]=h[A++];while(--E);A=i-P,S=O}}}else if(A+=f-E,E<I){I-=E;do O[i++]=h[A++];while(--E);A=i-P,S=O}for(;I>2;)O[i++]=S[A++],O[i++]=S[A++],O[i++]=S[A++],I-=3;I&&(O[i++]=S[A++],I>1&&(O[i++]=S[A++]))}else{A=i-P;do O[i++]=O[A++],O[i++]=O[A++],O[i++]=O[A++],I-=3;while(I>2);I&&(O[i++]=O[A++],I>1&&(O[i++]=O[A++]))}}else if(E&64){t.msg="invalid distance code",T.mode=I_;break e}else{w=v[(w&65535)+(p&(1<<E)-1)];continue r}break}}else if(E&64)if(E&32){T.mode=hOe;break e}else{t.msg="invalid literal/length code",T.mode=I_;break e}else{w=g[(w&65535)+(p&(1<<E)-1)];continue t}break}}while(n<a&&i<o);I=m>>3,n-=I,m-=I<<3,p&=(1<<m)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<o?257+(o-i):257-(i-o),T.hold=p,T.bits=m};const hg=15,i$=852,s$=592,o$=0,A4=1,l$=2,mOe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gOe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vOe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yOe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),xOe=(e,t,r,n,a,i,s,o)=>{const l=o.bits;let c=0,u=0,f=0,h=0,p=0,m=0,g=0,v=0,y=0,x=0,w,E,I,P,A,S=null,k;const O=new Uint16Array(hg+1),T=new Uint16Array(hg+1);let C=null,D,B,Y;for(c=0;c<=hg;c++)O[c]=0;for(u=0;u<n;u++)O[t[r+u]]++;for(p=l,h=hg;h>=1&&O[h]===0;h--);if(p>h&&(p=h),h===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<h&&O[f]===0;f++);for(p<f&&(p=f),v=1,c=1;c<=hg;c++)if(v<<=1,v-=O[c],v<0)return-1;if(v>0&&(e===o$||h!==1))return-1;for(T[1]=0,c=1;c<hg;c++)T[c+1]=T[c]+O[c];for(u=0;u<n;u++)t[r+u]!==0&&(s[T[t[r+u]]++]=u);if(e===o$?(S=C=s,k=20):e===A4?(S=mOe,C=gOe,k=257):(S=vOe,C=yOe,k=0),x=0,u=0,c=f,A=i,m=p,g=0,I=-1,y=1<<p,P=y-1,e===A4&&y>i$||e===l$&&y>s$)return 1;for(;;){D=c-g,s[u]+1<k?(B=0,Y=s[u]):s[u]>=k?(B=C[s[u]-k],Y=S[s[u]-k]):(B=96,Y=0),w=1<<c-g,E=1<<m,f=E;do E-=w,a[A+(x>>g)+E]=D<<24|B<<16|Y|0;while(E!==0);for(w=1<<c-1;x&w;)w>>=1;if(w!==0?(x&=w-1,x+=w):x=0,u++,--O[c]===0){if(c===h)break;c=t[r+s[u]]}if(c>p&&(x&P)!==I){for(g===0&&(g=p),A+=f,m=c-g,v=1<<m;m+g<h&&(v-=O[m+g],!(v<=0));)m++,v<<=1;if(y+=1<<m,e===A4&&y>i$||e===l$&&y>s$)return 1;I=x&P,a[I]=p<<24|m<<16|A-i|0}}return x!==0&&(a[A+x]=c-g<<24|64<<16|0),o.bits=p,0};var Rx=xOe;const wOe=0,mte=1,gte=2,{Z_FINISH:c$,Z_BLOCK:bOe,Z_TREES:O_,Z_OK:wm,Z_STREAM_END:_Oe,Z_NEED_DICT:SOe,Z_STREAM_ERROR:Ec,Z_DATA_ERROR:vte,Z_MEM_ERROR:yte,Z_BUF_ERROR:EOe,Z_DEFLATED:u$}=dte,TT=16180,f$=16181,d$=16182,h$=16183,p$=16184,m$=16185,g$=16186,v$=16187,y$=16188,x$=16189,u5=16190,Mf=16191,T4=16192,w$=16193,k4=16194,b$=16195,_$=16196,S$=16197,E$=16198,D_=16199,j_=16200,A$=16201,T$=16202,k$=16203,N$=16204,C$=16205,N4=16206,P$=16207,I$=16208,pa=16209,xte=16210,wte=16211,AOe=852,TOe=592,kOe=15,NOe=kOe,O$=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function COe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Xm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<TT||t.mode>wte?1:0},bte=e=>{if(Xm(e))return Ec;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=TT,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(AOe),t.distcode=t.distdyn=new Int32Array(TOe),t.sane=1,t.back=-1,wm},_te=e=>{if(Xm(e))return Ec;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,bte(e)},Ste=(e,t)=>{let r;if(Xm(e))return Ec;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ec:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,_te(e))},Ete=(e,t)=>{if(!e)return Ec;const r=new COe;e.state=r,r.strm=e,r.window=null,r.mode=TT;const n=Ste(e,t);return n!==wm&&(e.state=null),n},POe=e=>Ete(e,NOe);let D$=!0,C4,P4;const IOe=e=>{if(D$){C4=new Int32Array(512),P4=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Rx(mte,e.lens,0,288,C4,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Rx(gte,e.lens,0,32,P4,0,e.work,{bits:5}),D$=!1}e.lencode=C4,e.lenbits=9,e.distcode=P4,e.distbits=5},Ate=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},OOe=(e,t)=>{let r,n,a,i,s,o,l,c,u,f,h,p,m,g,v=0,y,x,w,E,I,P,A,S;const k=new Uint8Array(4);let O,T;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Xm(e)||!e.output||!e.input&&e.avail_in!==0)return Ec;r=e.state,r.mode===Mf&&(r.mode=T4),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,f=o,h=l,S=wm;e:for(;;)switch(r.mode){case TT:if(r.wrap===0){r.mode=T4;break}for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,k[0]=c&255,k[1]=c>>>8&255,r.check=Ru(r.check,k,2,0),c=0,u=0,r.mode=f$;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=pa;break}if((c&15)!==u$){e.msg="unknown compression method",r.mode=pa;break}if(c>>>=4,u-=4,A=(c&15)+8,r.wbits===0&&(r.wbits=A),A>15||A>r.wbits){e.msg="invalid window size",r.mode=pa;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?x$:Mf,c=0,u=0;break;case f$:for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==u$){e.msg="unknown compression method",r.mode=pa;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=pa;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,r.check=Ru(r.check,k,2,0)),c=0,u=0,r.mode=d$;case d$:for(;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,k[2]=c>>>16&255,k[3]=c>>>24&255,r.check=Ru(r.check,k,4,0)),c=0,u=0,r.mode=h$;case h$:for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,r.check=Ru(r.check,k,2,0)),c=0,u=0,r.mode=p$;case p$:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(k[0]=c&255,k[1]=c>>>8&255,r.check=Ru(r.check,k,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=m$;case m$:if(r.flags&1024&&(p=r.length,p>o&&(p=o),p&&(r.head&&(A=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+p),A)),r.flags&512&&r.wrap&4&&(r.check=Ru(r.check,n,p,i)),o-=p,i+=p,r.length-=p),r.length))break e;r.length=0,r.mode=g$;case g$:if(r.flags&2048){if(o===0)break e;p=0;do A=n[i+p++],r.head&&A&&r.length<65536&&(r.head.name+=String.fromCharCode(A));while(A&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=Ru(r.check,n,p,i)),o-=p,i+=p,A)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=v$;case v$:if(r.flags&4096){if(o===0)break e;p=0;do A=n[i+p++],r.head&&A&&r.length<65536&&(r.head.comment+=String.fromCharCode(A));while(A&&p<o);if(r.flags&512&&r.wrap&4&&(r.check=Ru(r.check,n,p,i)),o-=p,i+=p,A)break e}else r.head&&(r.head.comment=null);r.mode=y$;case y$:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=pa;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Mf;break;case x$:for(;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}e.adler=r.check=O$(c),c=0,u=0,r.mode=u5;case u5:if(r.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=u,SOe;e.adler=r.check=1,r.mode=Mf;case Mf:if(t===bOe||t===O_)break e;case T4:if(r.last){c>>>=u&7,u-=u&7,r.mode=N4;break}for(;u<3;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=w$;break;case 1:if(IOe(r),r.mode=D_,t===O_){c>>>=2,u-=2;break e}break;case 2:r.mode=_$;break;case 3:e.msg="invalid block type",r.mode=pa}c>>>=2,u-=2;break;case w$:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=pa;break}if(r.length=c&65535,c=0,u=0,r.mode=k4,t===O_)break e;case k4:r.mode=b$;case b$:if(p=r.length,p){if(p>o&&(p=o),p>l&&(p=l),p===0)break e;a.set(n.subarray(i,i+p),s),o-=p,i+=p,l-=p,s+=p,r.length-=p;break}r.mode=Mf;break;case _$:for(;u<14;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=pa;break}r.have=0,r.mode=S$;case S$:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.lens[C[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,O={bits:r.lenbits},S=Rx(wOe,r.lens,0,19,r.lencode,0,r.work,O),r.lenbits=O.bits,S){e.msg="invalid code lengths set",r.mode=pa;break}r.have=0,r.mode=E$;case E$:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[c&(1<<r.lenbits)-1],y=v>>>24,x=v>>>16&255,w=v&65535,!(y<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(w<16)c>>>=y,u-=y,r.lens[r.have++]=w;else{if(w===16){for(T=y+2;u<T;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(c>>>=y,u-=y,r.have===0){e.msg="invalid bit length repeat",r.mode=pa;break}A=r.lens[r.have-1],p=3+(c&3),c>>>=2,u-=2}else if(w===17){for(T=y+3;u<T;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=y,u-=y,A=0,p=3+(c&7),c>>>=3,u-=3}else{for(T=y+7;u<T;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=y,u-=y,A=0,p=11+(c&127),c>>>=7,u-=7}if(r.have+p>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=pa;break}for(;p--;)r.lens[r.have++]=A}}if(r.mode===pa)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=pa;break}if(r.lenbits=9,O={bits:r.lenbits},S=Rx(mte,r.lens,0,r.nlen,r.lencode,0,r.work,O),r.lenbits=O.bits,S){e.msg="invalid literal/lengths set",r.mode=pa;break}if(r.distbits=6,r.distcode=r.distdyn,O={bits:r.distbits},S=Rx(gte,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,O),r.distbits=O.bits,S){e.msg="invalid distances set",r.mode=pa;break}if(r.mode=D_,t===O_)break e;case D_:r.mode=j_;case j_:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=u,pOe(e,h),s=e.next_out,a=e.output,l=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,r.mode===Mf&&(r.back=-1);break}for(r.back=0;v=r.lencode[c&(1<<r.lenbits)-1],y=v>>>24,x=v>>>16&255,w=v&65535,!(y<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(x&&!(x&240)){for(E=y,I=x,P=w;v=r.lencode[P+((c&(1<<E+I)-1)>>E)],y=v>>>24,x=v>>>16&255,w=v&65535,!(E+y<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=E,u-=E,r.back+=E}if(c>>>=y,u-=y,r.back+=y,r.length=w,x===0){r.mode=C$;break}if(x&32){r.back=-1,r.mode=Mf;break}if(x&64){e.msg="invalid literal/length code",r.mode=pa;break}r.extra=x&15,r.mode=A$;case A$:if(r.extra){for(T=r.extra;u<T;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=T$;case T$:for(;v=r.distcode[c&(1<<r.distbits)-1],y=v>>>24,x=v>>>16&255,w=v&65535,!(y<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(!(x&240)){for(E=y,I=x,P=w;v=r.distcode[P+((c&(1<<E+I)-1)>>E)],y=v>>>24,x=v>>>16&255,w=v&65535,!(E+y<=u);){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}c>>>=E,u-=E,r.back+=E}if(c>>>=y,u-=y,r.back+=y,x&64){e.msg="invalid distance code",r.mode=pa;break}r.offset=w,r.extra=x&15,r.mode=k$;case k$:if(r.extra){for(T=r.extra;u<T;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=pa;break}r.mode=N$;case N$:if(l===0)break e;if(p=h-l,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=pa;break}p>r.wnext?(p-=r.wnext,m=r.wsize-p):m=r.wnext-p,p>r.length&&(p=r.length),g=r.window}else g=a,m=s-r.offset,p=r.length;p>l&&(p=l),l-=p,r.length-=p;do a[s++]=g[m++];while(--p);r.length===0&&(r.mode=j_);break;case C$:if(l===0)break e;a[s++]=r.length,l--,r.mode=j_;break;case N4:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[i++]<<u,u+=8}if(h-=l,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?Ru(r.check,a,h,s-h):BP(r.check,a,h,s-h)),h=l,r.wrap&4&&(r.flags?c:O$(c))!==r.check){e.msg="incorrect data check",r.mode=pa;break}c=0,u=0}r.mode=P$;case P$:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[i++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=pa;break}c=0,u=0}r.mode=I$;case I$:S=_Oe;break e;case pa:S=vte;break e;case xte:return yte;case wte:default:return Ec}return e.next_out=s,e.avail_out=l,e.next_in=i,e.avail_in=o,r.hold=c,r.bits=u,(r.wsize||h!==e.avail_out&&r.mode<pa&&(r.mode<N4||t!==c$))&&Ate(e,e.output,e.next_out,h-e.avail_out),f-=e.avail_in,h-=e.avail_out,e.total_in+=f,e.total_out+=h,r.total+=h,r.wrap&4&&h&&(e.adler=r.check=r.flags?Ru(r.check,a,h,e.next_out-h):BP(r.check,a,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Mf?128:0)+(r.mode===D_||r.mode===k4?256:0),(f===0&&h===0||t===c$)&&S===wm&&(S=EOe),S},DOe=e=>{if(Xm(e))return Ec;let t=e.state;return t.window&&(t.window=null),e.state=null,wm},jOe=(e,t)=>{if(Xm(e))return Ec;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,wm):Ec},ROe=(e,t)=>{const r=t.length;let n,a,i;return Xm(e)||(n=e.state,n.wrap!==0&&n.mode!==u5)?Ec:n.mode===u5&&(a=1,a=BP(a,t,r,0),a!==n.check)?vte:(i=Ate(e,t,r,r),i?(n.mode=xte,yte):(n.havedict=1,wm))};var LOe=_te,MOe=Ste,FOe=bte,BOe=POe,$Oe=Ete,UOe=OOe,VOe=DOe,zOe=jOe,WOe=ROe,HOe="pako inflate (from Nodeca project)",zf={inflateReset:LOe,inflateReset2:MOe,inflateResetKeep:FOe,inflateInit:BOe,inflateInit2:$Oe,inflate:UOe,inflateEnd:VOe,inflateGetHeader:zOe,inflateSetDictionary:WOe,inflateInfo:HOe};function qOe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var GOe=qOe;const Tte=Object.prototype.toString,{Z_NO_FLUSH:KOe,Z_FINISH:YOe,Z_OK:B2,Z_STREAM_END:I4,Z_NEED_DICT:O4,Z_STREAM_ERROR:XOe,Z_DATA_ERROR:j$,Z_MEM_ERROR:QOe}=dte;function Yw(e){this.options=hte.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new dOe,this.strm.avail_out=0;let r=zf.inflateInit2(this.strm,t.windowBits);if(r!==B2)throw new Error($P[r]);if(this.header=new GOe,zf.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=UP.string2buf(t.dictionary):Tte.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=zf.inflateSetDictionary(this.strm,t.dictionary),r!==B2)))throw new Error($P[r])}Yw.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?YOe:KOe,Tte.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=zf.inflate(r,s),i===O4&&a&&(i=zf.inflateSetDictionary(r,a),i===B2?i=zf.inflate(r,s):i===j$&&(i=O4));r.avail_in>0&&i===I4&&r.state.wrap>0&&e[r.next_in]!==0;)zf.inflateReset(r),i=zf.inflate(r,s);switch(i){case XOe:case j$:case O4:case QOe:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===I4))if(this.options.to==="string"){let l=UP.utf8border(r.output,r.next_out),c=r.next_out-l,u=UP.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===B2&&o===0)){if(i===I4)return i=zf.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Yw.prototype.onData=function(e){this.chunks.push(e)};Yw.prototype.onEnd=function(e){e===B2&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=hte.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function JOe(e,t){const r=new Yw(t);if(r.push(e),r.err)throw r.msg||$P[r.err];return r.result}var ZOe=Yw,e6e=JOe,t6e={Inflate:ZOe,inflate:e6e};const{Inflate:r6e,inflate:n6e}=t6e;var R$=r6e,a6e=n6e;const kte=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;kte[e]=t}const L$=4294967295;function i6e(e,t,r){let n=e;for(let a=0;a<r;a++)n=kte[(n^t[a])&255]^n>>>8;return n}function s6e(e,t){return(i6e(L$,e,t)^L$)>>>0}function M$(e,t,r){const n=e.readUint32(),a=s6e(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function Nte(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function Cte(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function Pte(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function Ite(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function Ote(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+o6e(t[i-a],r[i],r[i-a])&255}}function o6e(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),s=Math.abs(n-r);return a<=i&&a<=s?e:i<=s?t:r}function l6e(e,t,r,n,a,i){switch(e){case 0:Nte(t,r,a);break;case 1:Cte(t,r,a,i);break;case 2:Pte(t,r,n,a);break;case 3:Ite(t,r,n,a,i);break;case 4:Ote(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const c6e=new Uint16Array([255]),u6e=new Uint8Array(c6e.buffer),f6e=u6e[0]===255;function d6e(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(i/8)*a,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const f=s[u],h=Math.ceil((r-f.x)/f.xStep),p=Math.ceil((n-f.y)/f.yStep);if(h<=0||p<=0)continue;const m=h*o,g=new Uint8Array(m);for(let v=0;v<p;v++){const y=t[c++],x=t.subarray(c,c+m);c+=m;const w=new Uint8Array(m);l6e(y,x,w,g,m,o),g.set(w);for(let E=0;E<h;E++){const I=f.x+E*f.xStep,P=f.y+v*f.yStep;if(!(I>=r||P>=n))for(let A=0;A<o;A++)l[(P*r+I)*o+A]=w[E*o+A]}}}if(i===16){const u=new Uint16Array(l.buffer);if(f6e)for(let f=0;f<u.length;f++)u[f]=h6e(u[f]);return u}else return l}function h6e(e){return(e&255)<<8|e>>8&255}const p6e=new Uint16Array([255]),m6e=new Uint8Array(p6e.buffer),g6e=m6e[0]===255,v6e=new Uint8Array(0);function F$(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,s=Math.ceil(i/8)*a,o=Math.ceil(i/8*a*r),l=new Uint8Array(n*o);let c=v6e,u=0,f,h;for(let p=0;p<n;p++){switch(f=t.subarray(u+1,u+1+o),h=l.subarray(p*o,(p+1)*o),t[u]){case 0:Nte(f,h,o);break;case 1:Cte(f,h,o,s);break;case 2:Pte(f,h,c,o);break;case 3:Ite(f,h,c,o,s);break;case 4:Ote(f,h,c,o,s);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=h,u+=o+1}if(i===16){const p=new Uint16Array(l.buffer);if(g6e)for(let m=0;m<p.length;m++)p[m]=y6e(p[m]);return p}else return l}function y6e(e){return(e&255)<<8|e>>8&255}const LS=Uint8Array.of(137,80,78,71,13,10,26,10);function B$(e){if(!x6e(e.readBytes(LS.length)))throw new Error("wrong PNG signature")}function x6e(e){if(e.length<LS.length)return!1;for(let t=0;t<LS.length;t++)if(e[t]!==LS[t])return!1;return!0}const w6e="tEXt",b6e=0,Dte=new TextDecoder("latin1");function _6e(e){if(E6e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const S6e=/^[\u0000-\u00FF]*$/;function E6e(e){if(!S6e.test(e))throw new Error("invalid latin1 text")}function A6e(e,t,r){const n=jte(t);e[n]=T6e(t,r-n.length-1)}function jte(e){for(e.mark();e.readByte()!==b6e;);const t=e.offset;e.reset();const r=Dte.decode(e.readBytes(t-e.offset-1));return e.skip(1),_6e(r),r}function T6e(e,t){return Dte.decode(e.readBytes(t))}const pl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},D4={UNKNOWN:-1,DEFLATE:0},$$={UNKNOWN:-1,ADAPTIVE:0},j4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},R_={NONE:0,BACKGROUND:1,PREVIOUS:2},R4={SOURCE:0,OVER:1};class k6e extends yj{constructor(r,n={}){super(r);hn(this,"_checkCrc");hn(this,"_inflator");hn(this,"_png");hn(this,"_apng");hn(this,"_end");hn(this,"_hasPalette");hn(this,"_palette");hn(this,"_hasTransparency");hn(this,"_transparency");hn(this,"_compressionMethod");hn(this,"_filterMethod");hn(this,"_interlaceMethod");hn(this,"_colorType");hn(this,"_isAnimated");hn(this,"_numberOfFrames");hn(this,"_numberOfPlays");hn(this,"_frames");hn(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new R$,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=D4.UNKNOWN,this._filterMethod=$$.UNKNOWN,this._interlaceMethod=j4.UNKNOWN,this._colorType=pl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(B$(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(B$(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case w6e:A6e(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?M$(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?M$(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=N6e(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case pl.GREYSCALE:a=1;break;case pl.TRUECOLOUR:a=3;break;case pl.INDEXED_COLOUR:a=1;break;case pl.GREYSCALE_ALPHA:a=2;break;case pl.TRUECOLOUR_ALPHA:a=4;break;case pl.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==D4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case pl.GREYSCALE:case pl.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case pl.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case pl.UNKNOWN:case pl.GREYSCALE_ALPHA:case pl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=jte(this),a=this.readUint8();if(a!==D4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:a6e(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=F$({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case R_.NONE:break;case R_.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const o=(i*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)a.data[o+l]=0}break;case R_.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case R4.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=i(s,o);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case R4.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=i(s,o);for(let u=0;u<this._png.channels;u++){const f=n.data[c+this._png.channels-1]/a,h=u%(this._png.channels-1)===0?1:n.data[c+u],p=Math.floor(f*h+(1-f)*r.data[l+u]);r.data[l+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==$$.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===j4.NO_INTERLACE)this._png.data=F$({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===j4.ADAM7)this._png.data=d6e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:R_.NONE,blendOp:R4.SOURCE,data:r}),this._inflator=new R$,this._writingDataChunks=!1}}function N6e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var U$;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(U$||(U$={}));function C6e(e,t){return new k6e(e,t).decode()}var yr=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function L4(){yr.console&&typeof yr.console.log=="function"&&yr.console.log.apply(yr.console,arguments)}var Bn={log:L4,warn:function(e){yr.console&&(typeof yr.console.warn=="function"?yr.console.warn.apply(yr.console,arguments):L4.call(null,arguments))},error:function(e){yr.console&&(typeof yr.console.error=="function"?yr.console.error.apply(yr.console,arguments):L4(e))}};function M4(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){hp(n.response,t,r)},n.onerror=function(){Bn.error("could not download file")},n.send()}function V$(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function L_(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var hp=yr.saveAs||((typeof window>"u"?"undefined":Hr(window))!=="object"||window!==yr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=yr.URL||yr.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?V$(a.href)?M4(e,t,r):L_(a,a.target="_blank"):L_(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){L_(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(V$(e))M4(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){L_(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Hr(i)!=="object"&&(Bn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return M4(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(yr.HTMLElement)||yr.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Hr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=yr.URL||yr.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Rte(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var MS=yr.atob.bind(yr),z$=yr.btoa.bind(yr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function F4(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=Ds(r,n,a,i,t[0],7,-680876936),i=Ds(i,r,n,a,t[1],12,-389564586),a=Ds(a,i,r,n,t[2],17,606105819),n=Ds(n,a,i,r,t[3],22,-1044525330),r=Ds(r,n,a,i,t[4],7,-176418897),i=Ds(i,r,n,a,t[5],12,1200080426),a=Ds(a,i,r,n,t[6],17,-1473231341),n=Ds(n,a,i,r,t[7],22,-45705983),r=Ds(r,n,a,i,t[8],7,1770035416),i=Ds(i,r,n,a,t[9],12,-1958414417),a=Ds(a,i,r,n,t[10],17,-42063),n=Ds(n,a,i,r,t[11],22,-1990404162),r=Ds(r,n,a,i,t[12],7,1804603682),i=Ds(i,r,n,a,t[13],12,-40341101),a=Ds(a,i,r,n,t[14],17,-1502002290),r=js(r,n=Ds(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=js(i,r,n,a,t[6],9,-1069501632),a=js(a,i,r,n,t[11],14,643717713),n=js(n,a,i,r,t[0],20,-373897302),r=js(r,n,a,i,t[5],5,-701558691),i=js(i,r,n,a,t[10],9,38016083),a=js(a,i,r,n,t[15],14,-660478335),n=js(n,a,i,r,t[4],20,-405537848),r=js(r,n,a,i,t[9],5,568446438),i=js(i,r,n,a,t[14],9,-1019803690),a=js(a,i,r,n,t[3],14,-187363961),n=js(n,a,i,r,t[8],20,1163531501),r=js(r,n,a,i,t[13],5,-1444681467),i=js(i,r,n,a,t[2],9,-51403784),a=js(a,i,r,n,t[7],14,1735328473),r=Rs(r,n=js(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=Rs(i,r,n,a,t[8],11,-2022574463),a=Rs(a,i,r,n,t[11],16,1839030562),n=Rs(n,a,i,r,t[14],23,-35309556),r=Rs(r,n,a,i,t[1],4,-1530992060),i=Rs(i,r,n,a,t[4],11,1272893353),a=Rs(a,i,r,n,t[7],16,-155497632),n=Rs(n,a,i,r,t[10],23,-1094730640),r=Rs(r,n,a,i,t[13],4,681279174),i=Rs(i,r,n,a,t[0],11,-358537222),a=Rs(a,i,r,n,t[3],16,-722521979),n=Rs(n,a,i,r,t[6],23,76029189),r=Rs(r,n,a,i,t[9],4,-640364487),i=Rs(i,r,n,a,t[12],11,-421815835),a=Rs(a,i,r,n,t[15],16,530742520),r=Ls(r,n=Rs(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=Ls(i,r,n,a,t[7],10,1126891415),a=Ls(a,i,r,n,t[14],15,-1416354905),n=Ls(n,a,i,r,t[5],21,-57434055),r=Ls(r,n,a,i,t[12],6,1700485571),i=Ls(i,r,n,a,t[3],10,-1894986606),a=Ls(a,i,r,n,t[10],15,-1051523),n=Ls(n,a,i,r,t[1],21,-2054922799),r=Ls(r,n,a,i,t[8],6,1873313359),i=Ls(i,r,n,a,t[15],10,-30611744),a=Ls(a,i,r,n,t[6],15,-1560198380),n=Ls(n,a,i,r,t[13],21,1309151649),r=Ls(r,n,a,i,t[4],6,-145523070),i=Ls(i,r,n,a,t[11],10,-1120210379),a=Ls(a,i,r,n,t[2],15,718787259),n=Ls(n,a,i,r,t[9],21,-343485551),e[0]=Uh(r,e[0]),e[1]=Uh(n,e[1]),e[2]=Uh(a,e[2]),e[3]=Uh(i,e[3])}function kT(e,t,r,n,a,i){return t=Uh(Uh(t,e),Uh(n,i)),Uh(t<<a|t>>>32-a,r)}function Ds(e,t,r,n,a,i,s){return kT(t&r|~t&n,e,t,a,i,s)}function js(e,t,r,n,a,i,s){return kT(t&n|r&~n,e,t,a,i,s)}function Rs(e,t,r,n,a,i,s){return kT(t^r^n,e,t,a,i,s)}function Ls(e,t,r,n,a,i,s){return kT(r^(t|~n),e,t,a,i,s)}function Lte(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)F4(n,P6e(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(F4(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,F4(n,a),n}function P6e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var W$="0123456789abcdef".split("");function I6e(e){for(var t="",r=0;r<4;r++)t+=W$[e>>8*r+4&15]+W$[e>>8*r&15];return t}function O6e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function VP(e){return Lte(e).map(O6e).join("")}var D6e=function(e){for(var t=0;t<e.length;t++)e[t]=I6e(e[t]);return e.join("")}(Lte("hello"))!="5d41402abc4b2a76b9719d911017c592";function Uh(e,t){if(D6e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function zP(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,h=0,p=0,m="";for(l=0;l<f;l++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,s=o[(o[h]+o[p])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var H$={print:4,modify:8,copy:16,"annot-forms":32};function Eg(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(H$.perm!==void 0)throw new Error("Invalid permission: "+o);a+=H$[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=VP(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=zP(this.encryptionKey,this.padding)}function Ag(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function q$(e){if(Hr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){yr.console&&Bn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function f5(e){if(!(this instanceof f5))return new f5(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Mte(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function _p(e,t,r,n,a){if(!(this instanceof _p))return new _p(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Mte.call(this,n,a)}function Wg(e,t,r,n,a){if(!(this instanceof Wg))return new Wg(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Mte.call(this,n,a)}function Qt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;Hr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=q$;var m="1.3",g=p.__private__.getPdfVersion=function(){return m};p.__private__.setPdfVersion=function(L){m=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return v};var y=p.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var x="compat",w="advanced",E=x;function I(){this.saveGraphicsState(),ue(new Yt(ht,0,0,-ht,0,Hl()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),c="n",E=w}function P(){this.restoreGraphicsState(),c="S",E=x}var A=p.__private__.combineFontStyleAndFontWeight=function(L,X){if(L=="bold"&&X=="normal"||L=="bold"&&X==400||L=="normal"&&X=="italic"||L=="bold"&&X=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return X&&(L=X==400||X==="normal"?L==="italic"?"italic":"normal":X!=700&&X!=="bold"||L!=="normal"?(X==700?"bold":X)+""+L:"bold"),L};p.advancedAPI=function(L){var X=E===x;return X&&I.call(this),typeof L!="function"||(L(this),X&&P.call(this)),this},p.compatAPI=function(L){var X=E===w;return X&&P.call(this),typeof L!="function"||(L(this),X&&I.call(this)),this},p.isAdvancedAPI=function(){return E===w};var S,k=function(L){if(E!==w)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},O=p.roundToPrecision=p.__private__.roundToPrecision=function(L,X){var ve=t||X;if(isNaN(L)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(ve).replace(/0+$/,"")};S=p.hpf=p.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return O(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return O(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return O(L,16)};var T=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return O(L,2)},C=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return O(L,3)},D=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return E===x?L*ht:E===w?L:void 0},B=function(L){return D(function(X){return E===x?Hl()-X:E===w?X:void 0}(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var Y,ee="00000000000000000000000000000000",re=p.__private__.getFileId=function(){return ee},G=p.__private__.setFileId=function(L){return ee=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():ee.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(wn=new Eg(u.userPermissions,u.userPassword,u.ownerPassword,ee)),ee};p.setFileId=function(L){return G(L),this},p.getFileId=function(){return re()};var q=p.__private__.convertDateToPDFDate=function(L){var X=L.getTimezoneOffset(),ve=X<0?"+":"-",Se=Math.floor(Math.abs(X/60)),Ie=Math.abs(X%60),Xe=[ve,z(Se),"'",z(Ie),"'"].join("");return["D:",L.getFullYear(),z(L.getMonth()+1),z(L.getDate()),z(L.getHours()),z(L.getMinutes()),z(L.getSeconds()),Xe].join("")},be=p.__private__.convertPDFDateToDate=function(L){var X=parseInt(L.substr(2,4),10),ve=parseInt(L.substr(6,2),10)-1,Se=parseInt(L.substr(8,2),10),Ie=parseInt(L.substr(10,2),10),Xe=parseInt(L.substr(12,2),10),nt=parseInt(L.substr(14,2),10);return new Date(X,ve,Se,Ie,Xe,nt,0)},_e=p.__private__.setCreationDate=function(L){var X;if(L===void 0&&(L=new Date),L instanceof Date)X=q(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");X=L}return Y=X},R=p.__private__.getCreationDate=function(L){var X=Y;return L==="jsDate"&&(X=be(Y)),X};p.setCreationDate=function(L){return _e(L),this},p.getCreationDate=function(L){return R(L)};var U,z=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},W=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},Z=0,le=[],he=[],ae=0,pe=[],ke=[],K=!1,qe=he;p.__private__.setCustomOutputDestination=function(L){K=!0,qe=L};var Ae=function(L){K||(qe=L)};p.__private__.resetCustomOutputDestination=function(){K=!1,qe=he};var ue=p.__private__.out=function(L){return L=L.toString(),ae+=L.length+1,qe.push(L),qe},ot=p.__private__.write=function(L){return ue(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},$e=p.__private__.getArrayBuffer=function(L){for(var X=L.length,ve=new ArrayBuffer(X),Se=new Uint8Array(ve);X--;)Se[X]=L.charCodeAt(X);return ve},pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return pt};var et=e.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return et=E===w?L/ht:L,this};var yt,dt=p.__private__.getFontSize=p.getFontSize=function(){return E===x?et:et*ht},rr=e.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return rr=L,this},p.__private__.getR2L=p.getR2L=function(){return rr};var St,Kt=p.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))yt=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');yt=L}else yt=parseInt(L,10)};p.__private__.getZoomMode=function(){return yt};var vt,At=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');St=L};p.__private__.getPageMode=function(){return St};var nr=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');vt=L};p.__private__.getLayoutMode=function(){return vt},p.__private__.setDisplayMode=p.setDisplayMode=function(L,X,ve){return Kt(L),nr(X),At(ve),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(Pt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[L]},p.__private__.getDocumentProperties=function(){return Pt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var X in Pt)Pt.hasOwnProperty(X)&&L[X]&&(Pt[X]=L[X]);return this},p.__private__.setDocumentProperty=function(L,X){if(Object.keys(Pt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[L]=X};var kt,ht,wt,dr,Gt,Nt={},er={},Or=[],Ut={},gr={},ar={},gn={},vn=null,Kr=0,Jt=[],Ar=new q$(p),ko=e.hotfixes||[],Qn={},Ts={},hi=[],Yt=function L(X,ve,Se,Ie,Xe,nt){if(!(this instanceof L))return new L(X,ve,Se,Ie,Xe,nt);isNaN(X)&&(X=1),isNaN(ve)&&(ve=0),isNaN(Se)&&(Se=0),isNaN(Ie)&&(Ie=1),isNaN(Xe)&&(Xe=0),isNaN(nt)&&(nt=0),this._matrix=[X,ve,Se,Ie,Xe,nt]};Object.defineProperty(Yt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Yt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Yt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Yt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Yt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Yt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Yt.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Yt.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Yt.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Yt.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Yt.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Yt.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Yt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Yt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Yt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Yt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Yt.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(L)},Yt.prototype.multiply=function(L){var X=L.sx*this.sx+L.shy*this.shx,ve=L.sx*this.shy+L.shy*this.sy,Se=L.shx*this.sx+L.sy*this.shx,Ie=L.shx*this.shy+L.sy*this.sy,Xe=L.tx*this.sx+L.ty*this.shx+this.tx,nt=L.tx*this.shy+L.ty*this.sy+this.ty;return new Yt(X,ve,Se,Ie,Xe,nt)},Yt.prototype.decompose=function(){var L=this.sx,X=this.shy,ve=this.shx,Se=this.sy,Ie=this.tx,Xe=this.ty,nt=Math.sqrt(L*L+X*X),Ot=(L/=nt)*ve+(X/=nt)*Se;ve-=L*Ot,Se-=X*Ot;var zt=Math.sqrt(ve*ve+Se*Se);return Ot/=zt,L*(Se/=zt)<X*(ve/=zt)&&(L=-L,X=-X,Ot=-Ot,nt=-nt),{scale:new Yt(nt,0,0,zt,0,0),translate:new Yt(1,0,0,1,Ie,Xe),rotate:new Yt(L,X,-X,L,0,0),skew:new Yt(1,0,Ot,1,0,0)}},Yt.prototype.toString=function(L){return this.join(" ")},Yt.prototype.inversed=function(){var L=this.sx,X=this.shy,ve=this.shx,Se=this.sy,Ie=this.tx,Xe=this.ty,nt=1/(L*Se-X*ve),Ot=Se*nt,zt=-X*nt,sr=-ve*nt,vr=L*nt;return new Yt(Ot,zt,sr,vr,-Ot*Ie-sr*Xe,-zt*Ie-vr*Xe)},Yt.prototype.applyToPoint=function(L){var X=L.x*this.sx+L.y*this.shx+this.tx,ve=L.x*this.shy+L.y*this.sy+this.ty;return new ku(X,ve)},Yt.prototype.applyToRectangle=function(L){var X=this.applyToPoint(L),ve=this.applyToPoint(new ku(L.x+L.w,L.y+L.h));return new eh(X.x,X.y,ve.x-X.x,ve.y-X.y)},Yt.prototype.clone=function(){var L=this.sx,X=this.shy,ve=this.shx,Se=this.sy,Ie=this.tx,Xe=this.ty;return new Yt(L,X,ve,Se,Ie,Xe)},p.Matrix=Yt;var yn=p.matrixMult=function(L,X){return X.multiply(L)},pi=new Yt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=pi;var da=function(L,X){if(!gr[L]){var ve=(X instanceof _p?"Sh":"P")+(Object.keys(Ut).length+1).toString(10);X.id=ve,gr[L]=ve,Ut[ve]=X,Ar.publish("addPattern",X)}};p.ShadingPattern=_p,p.TilingPattern=Wg,p.addShadingPattern=function(L,X){return k("addShadingPattern()"),da(L,X),this},p.beginTilingPattern=function(L){k("beginTilingPattern()"),Nu(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,X){k("endTilingPattern()"),X.stream=ke[U].join(`
`),da(L,X),Ar.publish("endTilingPattern",X),hi.pop().restore()};var Ra,On=p.__private__.newObject=function(){var L=ha();return J(L,!0),L},ha=p.__private__.newObjectDeferred=function(){return Z++,le[Z]=function(){return ae},Z},J=function(L,X){return X=typeof X=="boolean"&&X,le[L]=ae,X&&ue(L+" 0 obj"),L},me=p.__private__.newAdditionalObject=function(){var L={objId:ha(),content:""};return pe.push(L),L},oe=ha(),de=ha(),ge=p.__private__.decodeColorString=function(L){var X=L.split(" ");if(X.length!==2||X[1]!=="g"&&X[1]!=="G")X.length!==5||X[4]!=="k"&&X[4]!=="K"||(X=[(1-X[0])*(1-X[3]),(1-X[1])*(1-X[3]),(1-X[2])*(1-X[3]),"r"]);else{var ve=parseFloat(X[0]);X=[ve,ve,ve,"r"]}for(var Se="#",Ie=0;Ie<3;Ie++)Se+=("0"+Math.floor(255*parseFloat(X[Ie])).toString(16)).slice(-2);return Se},we=p.__private__.encodeColorString=function(L){var X;typeof L=="string"&&(L={ch1:L});var ve=L.ch1,Se=L.ch2,Ie=L.ch3,Xe=L.ch4,nt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var Ot=new Rte(ve);if(Ot.ok)ve=Ot.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var zt=parseInt(ve.substr(1),16);ve=zt>>16&255,Se=zt>>8&255,Ie=255&zt}if(Se===void 0||Xe===void 0&&ve===Se&&Se===Ie)X=typeof ve=="string"?ve+" "+nt[0]:L.precision===2?T(ve/255)+" "+nt[0]:C(ve/255)+" "+nt[0];else if(Xe===void 0||Hr(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return["1.","1.","1.",nt[1]].join(" ");X=typeof ve=="string"?[ve,Se,Ie,nt[1]].join(" "):L.precision===2?[T(ve/255),T(Se/255),T(Ie/255),nt[1]].join(" "):[C(ve/255),C(Se/255),C(Ie/255),nt[1]].join(" ")}else X=typeof ve=="string"?[ve,Se,Ie,Xe,nt[2]].join(" "):L.precision===2?[T(ve),T(Se),T(Ie),T(Xe),nt[2]].join(" "):[C(ve),C(Se),C(Ie),C(Xe),nt[2]].join(" ");return X},De=p.__private__.getFilters=function(){return s},He=p.__private__.putStream=function(L){var X=(L=L||{}).data||"",ve=L.filters||De(),Se=L.alreadyAppliedFilters||[],Ie=L.addLength1||!1,Xe=X.length,nt=L.objectId,Ot=function(La){return La};if(u!==null&&nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Ot=wn.encryptor(nt,0));var zt={};ve===!0&&(ve=["FlateEncode"]);var sr=L.additionalKeyValues||[],vr=(zt=Qt.API.processDataByFilters!==void 0?Qt.API.processDataByFilters(X,ve):{data:X,reverseChain:[]}).reverseChain+(Array.isArray(Se)?Se.join(" "):Se.toString());if(zt.data.length!==0&&(sr.push({key:"Length",value:zt.data.length}),Ie===!0&&sr.push({key:"Length1",value:Xe})),vr.length!=0)if(vr.split("/").length-1==1)sr.push({key:"Filter",value:vr});else{sr.push({key:"Filter",value:"["+vr+"]"});for(var Jr=0;Jr<sr.length;Jr+=1)if(sr[Jr].key==="DecodeParms"){for(var dn=[],Sa=0;Sa<zt.reverseChain.split("/").length-1;Sa+=1)dn.push("null");dn.push(sr[Jr].value),sr[Jr].value="["+dn.join(" ")+"]"}}ue("<<");for(var bn=0;bn<sr.length;bn++)ue("/"+sr[bn].key+" "+sr[bn].value);ue(">>"),zt.data.length!==0&&(ue("stream"),ue(Ot(zt.data)),ue("endstream"))},Re=p.__private__.putPage=function(L){var X=L.number,ve=L.data,Se=L.objId,Ie=L.contentsObjId;J(Se,!0),ue("<</Type /Page"),ue("/Parent "+L.rootDictionaryObjId+" 0 R"),ue("/Resources "+L.resourceDictionaryObjId+" 0 R"),ue("/MediaBox ["+parseFloat(S(L.mediaBox.bottomLeftX))+" "+parseFloat(S(L.mediaBox.bottomLeftY))+" "+S(L.mediaBox.topRightX)+" "+S(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&ue("/CropBox ["+S(L.cropBox.bottomLeftX)+" "+S(L.cropBox.bottomLeftY)+" "+S(L.cropBox.topRightX)+" "+S(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&ue("/BleedBox ["+S(L.bleedBox.bottomLeftX)+" "+S(L.bleedBox.bottomLeftY)+" "+S(L.bleedBox.topRightX)+" "+S(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&ue("/TrimBox ["+S(L.trimBox.bottomLeftX)+" "+S(L.trimBox.bottomLeftY)+" "+S(L.trimBox.topRightX)+" "+S(L.trimBox.topRightY)+"]"),L.artBox!==null&&ue("/ArtBox ["+S(L.artBox.bottomLeftX)+" "+S(L.artBox.bottomLeftY)+" "+S(L.artBox.topRightX)+" "+S(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&ue("/UserUnit "+L.userUnit),Ar.publish("putPage",{objId:Se,pageContext:Jt[X],pageNumber:X,page:ve}),ue("/Contents "+Ie+" 0 R"),ue(">>"),ue("endobj");var Xe=ve.join(`
`);return E===w&&(Xe+=`
Q`),J(Ie,!0),He({data:Xe,filters:De(),objectId:Ie}),ue("endobj"),Se},Le=p.__private__.putPages=function(){var L,X,ve=[];for(L=1;L<=Kr;L++)Jt[L].objId=ha(),Jt[L].contentsObjId=ha();for(L=1;L<=Kr;L++)ve.push(Re({number:L,data:ke[L],objId:Jt[L].objId,contentsObjId:Jt[L].contentsObjId,mediaBox:Jt[L].mediaBox,cropBox:Jt[L].cropBox,bleedBox:Jt[L].bleedBox,trimBox:Jt[L].trimBox,artBox:Jt[L].artBox,userUnit:Jt[L].userUnit,rootDictionaryObjId:oe,resourceDictionaryObjId:de}));J(oe,!0),ue("<</Type /Pages");var Se="/Kids [";for(X=0;X<Kr;X++)Se+=ve[X]+" 0 R ";ue(Se+"]"),ue("/Count "+Kr),ue(">>"),ue("endobj"),Ar.publish("postPutPages")},Fe=function(L){Ar.publish("putFont",{font:L,out:ue,newObject:On,putStream:He}),L.isAlreadyPutted!==!0&&(L.objectNumber=On(),ue("<<"),ue("/Type /Font"),ue("/BaseFont /"+Ag(L.postScriptName)),ue("/Subtype /Type1"),typeof L.encoding=="string"&&ue("/Encoding /"+L.encoding),ue("/FirstChar 32"),ue("/LastChar 255"),ue(">>"),ue("endobj"))},ce=function(L){L.objectNumber=On();var X=[];X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Form"}),X.push({key:"BBox",value:"["+[S(L.x),S(L.y),S(L.x+L.width),S(L.y+L.height)].join(" ")+"]"}),X.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var ve=L.pages[1].join(`
`);He({data:ve,additionalKeyValues:X,objectId:L.objectNumber}),ue("endobj")},Ne=function(L,X){X||(X=21);var ve=On(),Se=function(nt,Ot){var zt,sr=[],vr=1/(Ot-1);for(zt=0;zt<1;zt+=vr)sr.push(zt);if(sr.push(1),nt[0].offset!=0){var Jr={offset:0,color:nt[0].color};nt.unshift(Jr)}if(nt[nt.length-1].offset!=1){var dn={offset:1,color:nt[nt.length-1].color};nt.push(dn)}for(var Sa="",bn=0,La=0;La<sr.length;La++){for(zt=sr[La];zt>nt[bn+1].offset;)bn++;var Ea=nt[bn].offset,Ma=(zt-Ea)/(nt[bn+1].offset-Ea),zn=nt[bn].color,os=nt[bn+1].color;Sa+=W(Math.round((1-Ma)*zn[0]+Ma*os[0]).toString(16))+W(Math.round((1-Ma)*zn[1]+Ma*os[1]).toString(16))+W(Math.round((1-Ma)*zn[2]+Ma*os[2]).toString(16))}return Sa.trim()}(L.colors,X),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+X+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He({data:Se,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),ue("endobj"),L.objectNumber=On(),ue("<< /ShadingType "+L.type),ue("/ColorSpace /DeviceRGB");var Xe="/Coords ["+S(parseFloat(L.coords[0]))+" "+S(parseFloat(L.coords[1]))+" ";L.type===2?Xe+=S(parseFloat(L.coords[2]))+" "+S(parseFloat(L.coords[3])):Xe+=S(parseFloat(L.coords[2]))+" "+S(parseFloat(L.coords[3]))+" "+S(parseFloat(L.coords[4]))+" "+S(parseFloat(L.coords[5])),ue(Xe+="]"),L.matrix&&ue("/Matrix ["+L.matrix.toString()+"]"),ue("/Function "+ve+" 0 R"),ue("/Extend [true true]"),ue(">>"),ue("endobj")},Ve=function(L,X){var ve=ha(),Se=On();X.push({resourcesOid:ve,objectOid:Se}),L.objectNumber=Se;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+L.boundingBox.map(S).join(" ")+"]"}),Ie.push({key:"XStep",value:S(L.xStep)}),Ie.push({key:"YStep",value:S(L.yStep)}),Ie.push({key:"Resources",value:ve+" 0 R"}),L.matrix&&Ie.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),He({data:L.stream,additionalKeyValues:Ie,objectId:L.objectNumber}),ue("endobj")},Me=function(L){for(var X in L.objectNumber=On(),ue("<<"),L)switch(X){case"opacity":ue("/ca "+T(L[X]));break;case"stroke-opacity":ue("/CA "+T(L[X]))}ue(">>"),ue("endobj")},Ee=function(L){J(L.resourcesOid,!0),ue("<<"),ue("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var X in ue("/Font <<"),Nt)Nt.hasOwnProperty(X)&&(f===!1||f===!0&&h.hasOwnProperty(X))&&ue("/"+X+" "+Nt[X].objectNumber+" 0 R");ue(">>")}(),function(){if(Object.keys(Ut).length>0){for(var X in ue("/Shading <<"),Ut)Ut.hasOwnProperty(X)&&Ut[X]instanceof _p&&Ut[X].objectNumber>=0&&ue("/"+X+" "+Ut[X].objectNumber+" 0 R");Ar.publish("putShadingPatternDict"),ue(">>")}}(),function(X){if(Object.keys(Ut).length>0){for(var ve in ue("/Pattern <<"),Ut)Ut.hasOwnProperty(ve)&&Ut[ve]instanceof p.TilingPattern&&Ut[ve].objectNumber>=0&&Ut[ve].objectNumber<X&&ue("/"+ve+" "+Ut[ve].objectNumber+" 0 R");Ar.publish("putTilingPatternDict"),ue(">>")}}(L.objectOid),function(){if(Object.keys(ar).length>0){var X;for(X in ue("/ExtGState <<"),ar)ar.hasOwnProperty(X)&&ar[X].objectNumber>=0&&ue("/"+X+" "+ar[X].objectNumber+" 0 R");Ar.publish("putGStateDict"),ue(">>")}}(),function(){for(var X in ue("/XObject <<"),Qn)Qn.hasOwnProperty(X)&&Qn[X].objectNumber>=0&&ue("/"+X+" "+Qn[X].objectNumber+" 0 R");Ar.publish("putXobjectDict"),ue(">>")}(),ue(">>"),ue("endobj")},Ge=function(L){er[L.fontName]=er[L.fontName]||{},er[L.fontName][L.fontStyle]=L.id},at=function(L,X,ve,Se,Ie){var Xe={id:"F"+(Object.keys(Nt).length+1).toString(10),postScriptName:L,fontName:X,fontStyle:ve,encoding:Se,isStandardFont:Ie||!1,metadata:{}};return Ar.publish("addFont",{font:Xe,instance:this}),Nt[Xe.id]=Xe,Ge(Xe),Xe.id},_t=p.__private__.pdfEscape=p.pdfEscape=function(L,X){return function(ve,Se){var Ie,Xe,nt,Ot,zt,sr,vr,Jr,dn;if(nt=(Se=Se||{}).sourceEncoding||"Unicode",zt=Se.outputEncoding,(Se.autoencode||zt)&&Nt[kt].metadata&&Nt[kt].metadata[nt]&&Nt[kt].metadata[nt].encoding&&(Ot=Nt[kt].metadata[nt].encoding,!zt&&Nt[kt].encoding&&(zt=Nt[kt].encoding),!zt&&Ot.codePages&&(zt=Ot.codePages[0]),typeof zt=="string"&&(zt=Ot[zt]),zt)){for(vr=!1,sr=[],Ie=0,Xe=ve.length;Ie<Xe;Ie++)(Jr=zt[ve.charCodeAt(Ie)])?sr.push(String.fromCharCode(Jr)):sr.push(ve[Ie]),sr[Ie].charCodeAt(0)>>8&&(vr=!0);ve=sr.join("")}for(Ie=ve.length;vr===void 0&&Ie!==0;)ve.charCodeAt(Ie-1)>>8&&(vr=!0),Ie--;if(!vr)return ve;for(sr=Se.noBOM?[]:[254,255],Ie=0,Xe=ve.length;Ie<Xe;Ie++){if((dn=(Jr=ve.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+ve+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");sr.push(dn),sr.push(Jr-(dn<<8))}return String.fromCharCode.apply(void 0,sr)}(L,X).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ut=p.__private__.beginPage=function(L){ke[++Kr]=[],Jt[Kr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},lr(Kr),Ae(ke[U])},_r=function(L,X){var ve,Se,Ie;switch(r=X||r,typeof L=="string"&&(ve=y(L.toLowerCase()),Array.isArray(ve)&&(Se=ve[0],Ie=ve[1])),Array.isArray(L)&&(Se=L[0]*ht,Ie=L[1]*ht),isNaN(Se)&&(Se=a[0],Ie=a[1]),(Se>14400||Ie>14400)&&(Bn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Se=Math.min(14400,Se),Ie=Math.min(14400,Ie)),a=[Se,Ie],r.substr(0,1)){case"l":Ie>Se&&(a=[Ie,Se]);break;case"p":Se>Ie&&(a=[Ie,Se])}ut(a),Tu(Qd),ue(Fc),Dn!==0&&ue(Dn+" J"),J0!==0&&ue(J0+" j"),Ar.publish("addPage",{pageNumber:Kr})},xr=function(L){L>0&&L<=Kr&&(ke.splice(L,1),Jt.splice(L,1),Kr--,U>Kr&&(U=Kr),this.setPage(U))},lr=function(L){L>0&&L<=Kr&&(U=L)},ir=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ke.length-1},Vt=function(L,X,ve){var Se,Ie=void 0;return ve=ve||{},L=L!==void 0?L:Nt[kt].fontName,X=X!==void 0?X:Nt[kt].fontStyle,Se=L.toLowerCase(),er[Se]!==void 0&&er[Se][X]!==void 0?Ie=er[Se][X]:er[L]!==void 0&&er[L][X]!==void 0?Ie=er[L][X]:ve.disableWarning===!1&&Bn.warn("Unable to look up font label for font '"+L+"', '"+X+"'. Refer to getFontList() for available fonts."),Ie||ve.noFallback||(Ie=er.times[X])==null&&(Ie=er.times.normal),Ie},Nr=p.__private__.putInfo=function(){var L=On(),X=function(Se){return Se};for(var ve in u!==null&&(X=wn.encryptor(L,0)),ue("<<"),ue("/Producer ("+_t(X("jsPDF "+Qt.version))+")"),Pt)Pt.hasOwnProperty(ve)&&Pt[ve]&&ue("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+_t(X(Pt[ve]))+")");ue("/CreationDate ("+_t(X(Y))+")"),ue(">>"),ue("endobj")},_a=p.__private__.putCatalog=function(L){var X=(L=L||{}).rootDictionaryObjId||oe;switch(On(),ue("<<"),ue("/Type /Catalog"),ue("/Pages "+X+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":ue("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ue("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ue("/OpenAction [3 0 R /Fit]");break;case"original":ue("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+yt;ve.substr(ve.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&ue("/OpenAction [3 0 R /XYZ null null "+T(yt)+"]")}switch(vt||(vt="continuous"),vt){case"continuous":ue("/PageLayout /OneColumn");break;case"single":ue("/PageLayout /SinglePage");break;case"two":case"twoleft":ue("/PageLayout /TwoColumnLeft");break;case"tworight":ue("/PageLayout /TwoColumnRight")}St&&ue("/PageMode /"+St),Ar.publish("putCatalog"),ue(">>"),ue("endobj")},xn=p.__private__.putTrailer=function(){ue("trailer"),ue("<<"),ue("/Size "+(Z+1)),ue("/Root "+Z+" 0 R"),ue("/Info "+(Z-1)+" 0 R"),u!==null&&ue("/Encrypt "+wn.oid+" 0 R"),ue("/ID [ <"+ee+"> <"+ee+"> ]"),ue(">>")},Rc=p.__private__.putHeader=function(){ue("%PDF-"+m),ue("%ºß¬à")},Lc=p.__private__.putXRef=function(){var L="0000000000";ue("xref"),ue("0 "+(Z+1)),ue("0000000000 65535 f ");for(var X=1;X<=Z;X++)typeof le[X]=="function"?ue((L+le[X]()).slice(-10)+" 00000 n "):le[X]!==void 0?ue((L+le[X]).slice(-10)+" 00000 n "):ue("0000000000 00000 n ")},io=p.__private__.buildDocument=function(){var L;Z=0,ae=0,he=[],le=[],pe=[],oe=ha(),de=ha(),Ae(he),Ar.publish("buildDocument"),Rc(),Le(),function(){Ar.publish("putAdditionalObjects");for(var ve=0;ve<pe.length;ve++){var Se=pe[ve];J(Se.objId,!0),ue(Se.content),ue("endobj")}Ar.publish("postPutAdditionalObjects")}(),L=[],function(){for(var ve in Nt)Nt.hasOwnProperty(ve)&&(f===!1||f===!0&&h.hasOwnProperty(ve))&&Fe(Nt[ve])}(),function(){var ve;for(ve in ar)ar.hasOwnProperty(ve)&&Me(ar[ve])}(),function(){for(var ve in Qn)Qn.hasOwnProperty(ve)&&ce(Qn[ve])}(),function(ve){var Se;for(Se in Ut)Ut.hasOwnProperty(Se)&&(Ut[Se]instanceof _p?Ne(Ut[Se]):Ut[Se]instanceof Wg&&Ve(Ut[Se],ve))}(L),Ar.publish("putResources"),L.forEach(Ee),Ee({resourcesOid:de,objectOid:Number.MAX_SAFE_INTEGER}),Ar.publish("postPutResources"),u!==null&&(wn.oid=On(),ue("<<"),ue("/Filter /Standard"),ue("/V "+wn.v),ue("/R "+wn.r),ue("/U <"+wn.toHexString(wn.U)+">"),ue("/O <"+wn.toHexString(wn.O)+">"),ue("/P "+wn.P),ue(">>"),ue("endobj")),Nr(),_a();var X=ae;return Lc(),xn(),ue("startxref"),ue(""+X),ue("%%EOF"),Ae(ke[U]),he.join(`
`)},Su=p.__private__.getBlob=function(L){return new Blob([$e(L)],{type:"application/pdf"})},No=p.output=p.__private__.output=(Ra=function(L,X){switch(typeof(X=X||{})=="string"?X={filename:X}:X.filename=X.filename||"generated.pdf",L){case void 0:return io();case"save":p.save(X.filename);break;case"arraybuffer":return $e(io());case"blob":return Su(io());case"bloburi":case"bloburl":if(yr.URL!==void 0&&typeof yr.URL.createObjectURL=="function")return yr.URL&&yr.URL.createObjectURL(Su(io()))||void 0;Bn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",Se=io();try{ve=z$(Se)}catch{ve=z$(unescape(encodeURIComponent(Se)))}return"data:application/pdf;filename="+X.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(yr)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';X.pdfObjectUrl&&(Ie=X.pdfObjectUrl,Xe="");var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(X)+");<\/script></body></html>",Ot=yr.open();return Ot!==null&&Ot.document.write(nt),Ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(yr)==="[object Window]"){var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(X.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+X.filename+'" width="500px" height="400px" /></body></html>',sr=yr.open();if(sr!==null){sr.document.write(zt);var vr=this;sr.document.documentElement.querySelector("#pdfViewer").onload=function(){sr.document.title=X.filename,sr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(vr.output("bloburl"))}}return sr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(yr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Jr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",X)+'"></iframe></body></html>',dn=yr.open();if(dn!==null&&(dn.document.write(Jr),dn.document.title=X.filename),dn||typeof safari>"u")return dn;break;case"datauri":case"dataurl":return yr.document.location.href=this.output("datauristring",X);default:return null}},Ra.foo=function(){try{return Ra.apply(this,arguments)}catch(ve){var L=ve.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var X="Error in function "+L.split(`
`)[0].split("<")[0]+": "+ve.message;if(!yr.console)throw new Error(X);yr.console.error(X,ve),yr.alert&&alert(X)}},Ra.foo.bar=Ra,Ra.foo),Af=function(L){return Array.isArray(ko)===!0&&ko.indexOf(L)>-1};switch(n){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=Af("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ht=n}var wn=null;_e(),G();var so=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Jt[L].objId,pageNumber:L,pageContext:Jt[L]}},Yd=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var X in Jt)if(Jt[X].objId===L)break;return so(X)},Xd=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Jt[U].objId,pageNumber:U,pageContext:Jt[U]}};p.addPage=function(){return _r.apply(this,arguments),this},p.setPage=function(){return lr.apply(this,arguments),Ae.call(this,ke[U]),this},p.insertPage=function(L){return this.addPage(),this.movePage(U,L),this},p.movePage=function(L,X){var ve,Se;if(L>X){ve=ke[L],Se=Jt[L];for(var Ie=L;Ie>X;Ie--)ke[Ie]=ke[Ie-1],Jt[Ie]=Jt[Ie-1];ke[X]=ve,Jt[X]=Se,this.setPage(X)}else if(L<X){ve=ke[L],Se=Jt[L];for(var Xe=L;Xe<X;Xe++)ke[Xe]=ke[Xe+1],Jt[Xe]=Jt[Xe+1];ke[X]=ve,Jt[X]=Se,this.setPage(X)}return this},p.deletePage=function(){return xr.apply(this,arguments),this},p.__private__.text=p.text=function(L,X,ve,Se,Ie){var Xe,nt,Ot,zt,sr,vr,Jr,dn,Sa,bn=(Se=Se||{}).scope||this;if(typeof L=="number"&&typeof X=="number"&&(typeof ve=="string"||Array.isArray(ve))){var La=ve;ve=X,X=L,L=La}if(arguments[3]instanceof Yt==0?(Ot=arguments[4],zt=arguments[5],Hr(Jr=arguments[3])==="object"&&Jr!==null||(typeof Ot=="string"&&(zt=Ot,Ot=null),typeof Jr=="string"&&(zt=Jr,Jr=null),typeof Jr=="number"&&(Ot=Jr,Jr=null),Se={flags:Jr,angle:Ot,align:zt})):(k("The transform parameter of text() with a Matrix value"),Sa=Ie),isNaN(X)||isNaN(ve)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return bn;var Ea,Ma="",zn=typeof Se.lineHeightFactor=="number"?Se.lineHeightFactor:Au,os=bn.internal.scaleFactor;function rp(pn){return pn=pn.split("	").join(Array(Se.TabLen||9).join(" ")),_t(pn,Jr)}function al(pn){for(var Mn,Ja=pn.concat(),Ni=[],Of=Ja.length;Of--;)typeof(Mn=Ja.shift())=="string"?Ni.push(Mn):Array.isArray(pn)&&(Mn.length===1||Mn[1]===void 0&&Mn[2]===void 0)?Ni.push(Mn[0]):Ni.push([Mn[0],Mn[1],Mn[2]]);return Ni}function _(pn,Mn){var Ja;if(typeof pn=="string")Ja=Mn(pn)[0];else if(Array.isArray(pn)){for(var Ni,Of,hy=pn.concat(),ig=[],Db=hy.length;Db--;)typeof(Ni=hy.shift())=="string"?ig.push(Mn(Ni)[0]):Array.isArray(Ni)&&typeof Ni[0]=="string"&&(Of=Mn(Ni[0],Ni[1],Ni[2]),ig.push([Of[0],Of[1],Of[2]]));Ja=ig}return Ja}var F=!1,H=!0;if(typeof L=="string")F=!0;else if(Array.isArray(L)){var se=L.concat();nt=[];for(var Oe,We=se.length;We--;)(typeof(Oe=se.shift())!="string"||Array.isArray(Oe)&&typeof Oe[0]!="string")&&(H=!1);F=H}if(F===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var mt=et/bn.internal.scaleFactor,Yr=mt*(zn-1);switch(Se.baseline){case"bottom":ve-=Yr;break;case"top":ve+=mt-Yr;break;case"hanging":ve+=mt-2*Yr;break;case"middle":ve+=mt/2-Yr}if((vr=Se.maxWidth||0)>0&&(typeof L=="string"?L=bn.splitTextToSize(L,vr):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(pn,Mn){return pn.concat(bn.splitTextToSize(Mn,vr))},[]))),Xe={text:L,x:X,y:ve,options:Se,mutex:{pdfEscape:_t,activeFontKey:kt,fonts:Nt,activeFontSize:et}},Ar.publish("preProcessText",Xe),L=Xe.text,Ot=(Se=Xe.options).angle,Sa instanceof Yt==0&&Ot&&typeof Ot=="number"){Ot*=Math.PI/180,Se.rotationDirection===0&&(Ot=-Ot),E===w&&(Ot=-Ot);var Aa=Math.cos(Ot),Mr=Math.sin(Ot);Sa=new Yt(Aa,Mr,-Mr,Aa,0,0)}else Ot&&Ot instanceof Yt&&(Sa=Ot);E!==w||Sa||(Sa=pi),(sr=Se.charSpace||Nf)!==void 0&&(Ma+=S(D(sr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(dn=Se.horizontalScale)!==void 0&&(Ma+=S(100*dn)+` Tz
`),Se.lang;var Dr=-1,Wn=Se.renderingMode!==void 0?Se.renderingMode:Se.stroke,il=bn.internal.getCurrentPageInfo().pageContext;switch(Wn){case 0:case!1:case"fill":Dr=0;break;case 1:case!0:case"stroke":Dr=1;break;case 2:case"fillThenStroke":Dr=2;break;case 3:case"invisible":Dr=3;break;case 4:case"fillAndAddForClipping":Dr=4;break;case 5:case"strokeAndAddPathForClipping":Dr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Dr=6;break;case 7:case"addToPathForClipping":Dr=7}var ks=il.usedRenderingMode!==void 0?il.usedRenderingMode:-1;Dr!==-1?Ma+=Dr+` Tr
`:ks!==-1&&(Ma+=`0 Tr
`),Dr!==-1&&(il.usedRenderingMode=Dr),zt=Se.align||"left";var ls,$c=et*zn,sy=bn.internal.pageSize.getWidth(),oy=Nt[kt];sr=Se.charSpace||Nf,vr=Se.maxWidth||0,Jr=Object.assign({autoencode:!0,noBOM:!0},Se.flags);var rh=[],np=function(pn){return bn.getStringUnitWidth(pn,{font:oy,charSpace:sr,fontSize:et,doKerning:!1})*et/os};if(Object.prototype.toString.call(L)==="[object Array]"){var sl;nt=al(L),zt!=="left"&&(ls=nt.map(np));var ol,nh=0;if(zt==="right"){X-=ls[0],L=[],We=nt.length;for(var If=0;If<We;If++)If===0?(ol=qi(X),sl=Mc(ve)):(ol=D(nh-ls[If]),sl=-$c),L.push([nt[If],ol,sl]),nh=ls[If]}else if(zt==="center"){X-=ls[0]/2,L=[],We=nt.length;for(var ah=0;ah<We;ah++)ah===0?(ol=qi(X),sl=Mc(ve)):(ol=D((nh-ls[ah])/2),sl=-$c),L.push([nt[ah],ol,sl]),nh=ls[ah]}else if(zt==="left"){L=[],We=nt.length;for(var ly=0;ly<We;ly++)L.push(nt[ly])}else if(zt==="justify"&&oy.encoding==="Identity-H"){L=[],We=nt.length,vr=vr!==0?vr:sy;for(var ag=0,Qa=0;Qa<We;Qa++)if(sl=Qa===0?Mc(ve):-$c,ol=Qa===0?qi(X):ag,Qa<We-1){var Ob=D((vr-ls[Qa])/(nt[Qa].split(" ").length-1)),Pu=nt[Qa].split(" ");L.push([Pu[0]+" ",ol,sl]),ag=0;for(var Iu=1;Iu<Pu.length;Iu++){var cy=(np(Pu[Iu-1]+" "+Pu[Iu])-np(Pu[Iu]))*os+Ob;Iu==Pu.length-1?L.push([Pu[Iu],cy,0]):L.push([Pu[Iu]+" ",cy,0]),ag-=cy}}else L.push([nt[Qa],ol,sl]);L.push(["",ag,0])}else{if(zt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],We=nt.length,vr=vr!==0?vr:sy,Qa=0;Qa<We;Qa++){sl=Qa===0?Mc(ve):-$c,ol=Qa===0?qi(X):0;var uy=nt[Qa].split(" ").length-1,fy=uy>0?(vr-ls[Qa])/uy:0;Qa<We-1?rh.push(S(D(fy))):rh.push(0),L.push([nt[Qa],ol,sl])}}}(typeof Se.R2L=="boolean"?Se.R2L:rr)===!0&&(L=_(L,function(pn,Mn,Ja){return[pn.split("").reverse().join(""),Mn,Ja]})),Xe={text:L,x:X,y:ve,options:Se,mutex:{pdfEscape:_t,activeFontKey:kt,fonts:Nt,activeFontSize:et}},Ar.publish("postProcessText",Xe),L=Xe.text,Ea=Xe.mutex.isHex||!1;var dy=Nt[kt].encoding;dy!=="WinAnsiEncoding"&&dy!=="StandardEncoding"||(L=_(L,function(pn,Mn,Ja){return[rp(pn),Mn,Ja]})),nt=al(L),L=[];for(var ih,sh,oh,ap=Array.isArray(nt[0])?1:0,lh="",ip=function(pn,Mn,Ja){var Ni="";return Ja instanceof Yt?(Ja=typeof Se.angle=="number"?yn(Ja,new Yt(1,0,0,1,pn,Mn)):yn(new Yt(1,0,0,1,pn,Mn),Ja),E===w&&(Ja=yn(new Yt(1,0,0,-1,0,0),Ja)),Ni=Ja.join(" ")+` Tm
`):Ni=S(pn)+" "+S(Mn)+` Td
`,Ni},ql=0;ql<nt.length;ql++){switch(lh="",ap){case 1:oh=(Ea?"<":"(")+nt[ql][0]+(Ea?">":")"),ih=parseFloat(nt[ql][1]),sh=parseFloat(nt[ql][2]);break;case 0:oh=(Ea?"<":"(")+nt[ql]+(Ea?">":")"),ih=qi(X),sh=Mc(ve)}rh!==void 0&&rh[ql]!==void 0&&(lh=rh[ql]+` Tw
`),ql===0?L.push(lh+ip(ih,sh,Sa)+oh):ap===0?L.push(lh+oh):ap===1&&L.push(lh+ip(ih,sh,Sa)+oh)}L=ap===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Ou=`BT
/`;return Ou+=kt+" "+et+` Tf
`,Ou+=S(et*zn)+` TL
`,Ou+=nl+`
`,Ou+=Ma,Ou+=L,ue(Ou+="ET"),h[kt]=!0,bn};var rg=p.__private__.clip=p.clip=function(L){return ue(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return rg("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ue("n"),this};var Vr=p.__private__.isValidStyle=function(L){var X=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(X=!0),X};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return Vr(L)&&(c=L),this};var Tf=p.__private__.getStyle=p.getStyle=function(L){var X=c;switch(L){case"D":case"S":X="S";break;case"F":X="f";break;case"FD":case"DF":X="B";break;case"f":case"f*":case"B":case"B*":X=L}return X},Eu=p.close=function(){return ue("h"),this};p.stroke=function(){return ue("S"),this},p.fill=function(L){return Co("f",L),this},p.fillEvenOdd=function(L){return Co("f*",L),this},p.fillStroke=function(L){return Co("B",L),this},p.fillStrokeEvenOdd=function(L){return Co("B*",L),this};var Co=function(L,X){Hr(X)==="object"?ey(X,L):ue(L)},Y0=function(L){L===null||E===w&&L===void 0||(L=Tf(L),ue(L))};function ng(L,X,ve,Se,Ie){var Xe=new Wg(X||this.boundingBox,ve||this.xStep,Se||this.yStep,this.gState,Ie||this.matrix);Xe.stream=this.stream;var nt=L+"$$"+this.cloneIndex+++"$$";return da(nt,Xe),Xe}var ey=function(L,X){var ve=gr[L.key],Se=Ut[ve];if(Se instanceof _p)ue("q"),ue(ty(X)),Se.gState&&p.setGState(Se.gState),ue(L.matrix.toString()+" cm"),ue("/"+ve+" sh"),ue("Q");else if(Se instanceof Wg){var Ie=new Yt(1,0,0,-1,0,Hl());L.matrix&&(Ie=Ie.multiply(L.matrix||pi),ve=ng.call(Se,L.key,L.boundingBox,L.xStep,L.yStep,Ie).id),ue("q"),ue("/Pattern cs"),ue("/"+ve+" scn"),Se.gState&&p.setGState(Se.gState),ue(X),ue("Q")}},ty=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},X0=p.moveTo=function(L,X){return ue(S(D(L))+" "+S(B(X))+" m"),this},kf=p.lineTo=function(L,X){return ue(S(D(L))+" "+S(B(X))+" l"),this},Po=p.curveTo=function(L,X,ve,Se,Ie,Xe){return ue([S(D(L)),S(B(X)),S(D(ve)),S(B(Se)),S(D(Ie)),S(B(Xe)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,X,ve,Se,Ie){if(isNaN(L)||isNaN(X)||isNaN(ve)||isNaN(Se)||!Vr(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return E===x?this.lines([[ve-L,Se-X]],L,X,[1,1],Ie||"S"):this.lines([[ve-L,Se-X]],L,X,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,X,ve,Se,Ie,Xe){var nt,Ot,zt,sr,vr,Jr,dn,Sa,bn,La,Ea,Ma;if(typeof L=="number"&&(Ma=ve,ve=X,X=L,L=Ma),Se=Se||[1,1],Xe=Xe||!1,isNaN(X)||isNaN(ve)||!Array.isArray(L)||!Array.isArray(Se)||!Vr(Ie)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(X0(X,ve),nt=Se[0],Ot=Se[1],sr=L.length,La=X,Ea=ve,zt=0;zt<sr;zt++)(vr=L[zt]).length===2?(La=vr[0]*nt+La,Ea=vr[1]*Ot+Ea,kf(La,Ea)):(Jr=vr[0]*nt+La,dn=vr[1]*Ot+Ea,Sa=vr[2]*nt+La,bn=vr[3]*Ot+Ea,La=vr[4]*nt+La,Ea=vr[5]*Ot+Ea,Po(Jr,dn,Sa,bn,La,Ea));return Xe&&Eu(),Y0(Ie),this},p.path=function(L){for(var X=0;X<L.length;X++){var ve=L[X],Se=ve.c;switch(ve.op){case"m":X0(Se[0],Se[1]);break;case"l":kf(Se[0],Se[1]);break;case"c":Po.apply(this,Se);break;case"h":Eu()}}return this},p.__private__.rect=p.rect=function(L,X,ve,Se,Ie){if(isNaN(L)||isNaN(X)||isNaN(ve)||isNaN(Se)||!Vr(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return E===x&&(Se=-Se),ue([S(D(L)),S(B(X)),S(D(ve)),S(D(Se)),"re"].join(" ")),Y0(Ie),this},p.__private__.triangle=p.triangle=function(L,X,ve,Se,Ie,Xe,nt){if(isNaN(L)||isNaN(X)||isNaN(ve)||isNaN(Se)||isNaN(Ie)||isNaN(Xe)||!Vr(nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-L,Se-X],[Ie-ve,Xe-Se],[L-Ie,X-Xe]],L,X,[1,1],nt,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,X,ve,Se,Ie,Xe,nt){if(isNaN(L)||isNaN(X)||isNaN(ve)||isNaN(Se)||isNaN(Ie)||isNaN(Xe)||!Vr(nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ot=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*ve),Xe=Math.min(Xe,.5*Se),this.lines([[ve-2*Ie,0],[Ie*Ot,0,Ie,Xe-Xe*Ot,Ie,Xe],[0,Se-2*Xe],[0,Xe*Ot,-Ie*Ot,Xe,-Ie,Xe],[2*Ie-ve,0],[-Ie*Ot,0,-Ie,-Xe*Ot,-Ie,-Xe],[0,2*Xe-Se],[0,-Xe*Ot,Ie*Ot,-Xe,Ie,-Xe]],L+Ie,X,[1,1],nt,!0),this},p.__private__.ellipse=p.ellipse=function(L,X,ve,Se,Ie){if(isNaN(L)||isNaN(X)||isNaN(ve)||isNaN(Se)||!Vr(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*ve,nt=4/3*(Math.SQRT2-1)*Se;return X0(L+ve,X),Po(L+ve,X-nt,L+Xe,X-Se,L,X-Se),Po(L-Xe,X-Se,L-ve,X-nt,L-ve,X),Po(L-ve,X+nt,L-Xe,X+Se,L,X+Se),Po(L+Xe,X+Se,L+ve,X+nt,L+ve,X),Y0(Ie),this},p.__private__.circle=p.circle=function(L,X,ve,Se){if(isNaN(L)||isNaN(X)||isNaN(ve)||!Vr(Se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,X,ve,ve,Se)},p.setFont=function(L,X,ve){return ve&&(X=A(X,ve)),kt=Vt(L,X,{disableWarning:!1}),this};var zl=p.__private__.getFont=p.getFont=function(){return Nt[Vt.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,X,ve={};for(L in er)if(er.hasOwnProperty(L))for(X in ve[L]=[],er[L])er[L].hasOwnProperty(X)&&ve[L].push(X);return ve},p.addFont=function(L,X,ve,Se,Ie){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(ve=A(ve,Se)),at.call(this,L,X,ve,Ie=Ie||"Identity-H")};var Au,Qd=e.lineWidth||.200025,hr=p.__private__.getLineWidth=p.getLineWidth=function(){return Qd},Tu=p.__private__.setLineWidth=p.setLineWidth=function(L){return Qd=L,ue(S(D(L))+" w"),this};p.__private__.setLineDash=Qt.API.setLineDash=Qt.API.setLineDashPattern=function(L,X){if(L=L||[],X=X||0,isNaN(X)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(ve){return S(D(ve))}).join(" "),X=S(D(X)),ue("["+L+"] "+X+" d"),this};var ry=p.__private__.getLineHeight=p.getLineHeight=function(){return et*Au};p.__private__.getLineHeight=p.getLineHeight=function(){return et*Au};var ny=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Au=L),this},ay=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Au};ny(e.lineHeight);var qi=p.__private__.getHorizontalCoordinate=function(L){return D(L)},Mc=p.__private__.getVerticalCoordinate=function(L){return E===w?L:Jt[U].mediaBox.topRightY-Jt[U].mediaBox.bottomLeftY-D(L)},iy=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return S(qi(L))},Jd=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return S(Mc(L))},Fc=e.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ge(Fc)},p.__private__.setStrokeColor=p.setDrawColor=function(L,X,ve,Se){return Fc=we({ch1:L,ch2:X,ch3:ve,ch4:Se,pdfColorType:"draw",precision:2}),ue(Fc),this};var Zd=e.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ge(Zd)},p.__private__.setFillColor=p.setFillColor=function(L,X,ve,Se){return Zd=we({ch1:L,ch2:X,ch3:ve,ch4:Se,pdfColorType:"fill",precision:2}),ue(Zd),this};var nl=e.textColor||"0 g",Wl=p.__private__.getTextColor=p.getTextColor=function(){return ge(nl)};p.__private__.setTextColor=p.setTextColor=function(L,X,ve,Se){return nl=we({ch1:L,ch2:X,ch3:ve,ch4:Se,pdfColorType:"text",precision:3}),this};var Nf=e.charSpace,Q0=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Nf||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Nf=L,this};var Dn=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var X=p.CapJoinStyles[L];if(X===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dn=X,ue(X+" J"),this};var J0=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var X=p.CapJoinStyles[L];if(X===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return J0=X,ue(X+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ue(S(D(L))+" M"),this},p.GState=f5,p.setGState=function(L){(L=typeof L=="string"?ar[gn[L]]:Cf(null,L)).equals(vn)||(ue("/"+L.id+" gs"),vn=L)};var Cf=function(L,X){if(!L||!gn[L]){var ve=!1;for(var Se in ar)if(ar.hasOwnProperty(Se)&&ar[Se].equals(X)){ve=!0;break}if(ve)X=ar[Se];else{var Ie="GS"+(Object.keys(ar).length+1).toString(10);ar[Ie]=X,X.id=Ie}return L&&(gn[L]=X.id),Ar.publish("addGState",X),X}};p.addGState=function(L,X){return Cf(L,X),this},p.saveGraphicsState=function(){return ue("q"),Or.push({key:kt,size:et,color:nl}),this},p.restoreGraphicsState=function(){ue("Q");var L=Or.pop();return kt=L.key,et=L.size,nl=L.color,vn=null,this},p.setCurrentTransformationMatrix=function(L){return ue(L.toString()+" cm"),this},p.comment=function(L){return ue("#"+L),this};var ku=function(L,X){var ve=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(Xe){isNaN(Xe)||(ve=parseFloat(Xe))}});var Se=X||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Se},set:function(Xe){isNaN(Xe)||(Se=parseFloat(Xe))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(Xe){Ie=Xe.toString()}}),this},eh=function(L,X,ve,Se){ku.call(this,L,X),this.type="rect";var Ie=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(nt){isNaN(nt)||(Ie=parseFloat(nt))}});var Xe=Se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(nt){isNaN(nt)||(Xe=parseFloat(nt))}}),this},Pf=function(){this.page=Kr,this.currentPage=U,this.pages=ke.slice(0),this.pagesContext=Jt.slice(0),this.x=wt,this.y=dr,this.matrix=Gt,this.width=Io(U),this.height=Bc(U),this.outputDestination=qe,this.id="",this.objectNumber=-1};Pf.prototype.restore=function(){Kr=this.page,U=this.currentPage,Jt=this.pagesContext,ke=this.pages,wt=this.x,dr=this.y,Gt=this.matrix,Z0(U,this.width),oo(U,this.height),qe=this.outputDestination};var Nu=function(L,X,ve,Se,Ie){hi.push(new Pf),Kr=U=0,ke=[],wt=L,dr=X,Gt=Ie,ut([ve,Se])};for(var Cu in p.beginFormObject=function(L,X,ve,Se,Ie){return Nu(L,X,ve,Se,Ie),this},p.endFormObject=function(L){return function(X){if(Ts[X])hi.pop().restore();else{var ve=new Pf,Se="Xo"+(Object.keys(Qn).length+1).toString(10);ve.id=Se,Ts[X]=Se,Qn[Se]=ve,Ar.publish("addFormObject",ve),hi.pop().restore()}}(L),this},p.doFormObject=function(L,X){var ve=Qn[Ts[L]];return ue("q"),ue(X.toString()+" cm"),ue("/"+ve.id+" Do"),ue("Q"),this},p.getFormObject=function(L){var X=Qn[Ts[L]];return{x:X.x,y:X.y,width:X.width,height:X.height,matrix:X.matrix}},p.save=function(L,X){return L=L||"generated.pdf",(X=X||{}).returnPromise=X.returnPromise||!1,X.returnPromise===!1?(hp(Su(io()),L),typeof hp.unload=="function"&&yr.setTimeout&&setTimeout(hp.unload,911),this):new Promise(function(ve,Se){try{var Ie=hp(Su(io()),L);typeof hp.unload=="function"&&yr.setTimeout&&setTimeout(hp.unload,911),ve(Ie)}catch(Xe){Se(Xe.message)}})},Qt.API)Qt.API.hasOwnProperty(Cu)&&(Cu==="events"&&Qt.API.events.length?function(L,X){var ve,Se,Ie;for(Ie=X.length-1;Ie!==-1;Ie--)ve=X[Ie][0],Se=X[Ie][1],L.subscribe.apply(L,[ve].concat(typeof Se=="function"?[Se]:Se))}(Ar,Qt.API.events):p[Cu]=Qt.API[Cu]);function Io(L){return Jt[L].mediaBox.topRightX-Jt[L].mediaBox.bottomLeftX}function Z0(L,X){Jt[L].mediaBox.topRightX=X+Jt[L].mediaBox.bottomLeftX}function Bc(L){return Jt[L].mediaBox.topRightY-Jt[L].mediaBox.bottomLeftY}function oo(L,X){Jt[L].mediaBox.topRightY=X+Jt[L].mediaBox.bottomLeftY}var ep=p.getPageWidth=function(L){return Io(L=L||U)/ht},th=p.setPageWidth=function(L,X){Z0(L,X*ht)},Hl=p.getPageHeight=function(L){return Bc(L=L||U)/ht},tp=p.setPageHeight=function(L,X){oo(L,X*ht)};return p.internal={pdfEscape:_t,getStyle:Tf,getFont:zl,getFontSize:dt,getCharSpace:Q0,getTextColor:Wl,getLineHeight:ry,getLineHeightFactor:ay,getLineWidth:hr,write:ot,getHorizontalCoordinate:qi,getVerticalCoordinate:Mc,getCoordinateString:iy,getVerticalCoordinateString:Jd,collections:{},newObject:On,newAdditionalObject:me,newObjectDeferred:ha,newObjectDeferredBegin:J,getFilters:De,putStream:He,events:Ar,scaleFactor:ht,pageSize:{getWidth:function(){return ep(U)},setWidth:function(L){th(U,L)},getHeight:function(){return Hl(U)},setHeight:function(L){tp(U,L)}},encryptionOptions:u,encryption:wn,getEncryptor:function(L){return u!==null?wn.encryptor(L,0):function(X){return X}},output:No,getNumberOfPages:ir,pages:ke,out:ue,f2:T,f3:C,getPageInfo:so,getPageInfoByObjId:Yd,getCurrentPageInfo:Xd,getPDFVersion:g,Point:ku,Rectangle:eh,Matrix:Yt,hasHotfix:Af},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return ep(U)},set:function(L){th(U,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Hl(U)},set:function(L){tp(U,L)},enumerable:!0,configurable:!0}),(function(L){for(var X=0,ve=pt.length;X<ve;X++){var Se=at.call(this,L[X][0],L[X][1],L[X][2],pt[X][3],!0);f===!1&&(h[Se]=!0);var Ie=L[X][0].split("-");Ge({id:Se,fontName:Ie[0],fontStyle:Ie[1]||""})}Ar.publish("addFonts",{fonts:Nt,dictionary:er})}).call(p,pt),kt="F1",_r(a,r),Ar.publish("initialized"),p}Eg.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Eg.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Eg.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Eg.prototype.processOwnerPassword=function(e,t){return zP(VP(t).substr(0,5),e)},Eg.prototype.encryptor=function(e,t){var r=VP(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return zP(r,n)}},f5.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Hr(e)!==Hr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Qt.API={events:[]},Qt.version="3.0.3";var $a=Qt.API,xj=1,Qm=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},pg=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Sr=function(e){return e.toFixed(2)},xh=function(e){return e.toFixed(5)};$a.__acroform__={};var rl=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},G$=function(e){return e*xj},Fu=function(e){var t=new Bte,r=Ft.internal.getHeight(e)||0,n=Ft.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Sr(n)),Number(Sr(r))],t},j6e=$a.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},R6e=$a.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},L6e=$a.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},oi=$a.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return L6e(e,t-1)},li=$a.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return j6e(e,t-1)},ci=$a.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return R6e(e,t-1)},M6e=$a.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(Sr(l.lowerLeft_X)),Number(Sr(l.lowerLeft_Y)),Number(Sr(l.upperRight_X)),Number(Sr(l.upperRight_Y))]},F6e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=WP(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Sr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Fu(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},WP=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var i=r,s=Ft.internal.getHeight(e)||0;s=s<0?-s:s;var o=Ft.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(T,C,D){if(T+1<a.length){var B=C+" "+a[T+1][0];return M_(B,e,D).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,f=M_("3",e,i).height,h=e.multiline?s-i:(s-f)/2,p=h+=2,m=0,g=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+M_(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",x=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var E=!1;if(a[w].length!==1&&v!==a[w].length-1){if((f+2)*(x+2)+2>s)continue e;y+=a[w][v],E=!0,g=w,w--}else{y=(y+=a[w][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var I=parseInt(w),P=l(I,y,i),A=w>=a.length-1;if(P&&!A){y+=" ",v=0;continue}if(P||A){if(A)g=I;else if(e.multiline&&(f+2)*(x+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(x+2)+2>s)continue e;g=I}}for(var S="",k=m;k<=g;k++){var O=a[k];if(e.multiline){if(k===g){S+=O[v]+" ",v=(v+1)%O.length;continue}if(k===m){S+=O[O.length-1]+" ";continue}}S+=O[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=M_(S,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}t+=Sr(c)+" "+Sr(p)+` Td
`,t+="("+Qm(S)+`) Tj
`,t+=-Sr(c)+` 0 Td
`,p=-(i+2),u=0,m=E?g:g+1,x++,y=""}break}return n.text=t,n.fontSize=i,n},M_=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},B6e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},$6e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},U6e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(wu.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(B6e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");xj=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new $te,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&$6e(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=M6e(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ft.createDefaultAppearanceStream(o),Hr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=F6e(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var m=p[s];typeof m=="function"&&(m=m.call(a,o)),f+="/"+s+" "+m+" ",a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m)}}else typeof(m=p)=="function"&&(m=m.call(a,o)),f+="/"+s+" "+m,a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&function(g,v){for(var y in g)if(g.hasOwnProperty(y)){var x=y,w=g[y];v.internal.newObjectDeferredBegin(w.objId,!0),Hr(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete g[x]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Fte=$a.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Hr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Qm(n(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},B4=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Qm(n(e))+")"},Gu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Gu.prototype.toString=function(){return this.objId+" 0 R"},Gu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Gu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Fte(a,this.objId,this.scope)}):a instanceof Gu?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Bte=function(){Gu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};rl(Bte,Gu);var $te=function(){Gu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Qm(r(e))+")"}},set:function(r){e=r}})};rl($te,Gu);var wu=function e(){Gu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!oi(t,3)},set:function(y){y?this.F=li(t,3):this.F=ci(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof d5)return;i="FieldObject"+e.FieldNum++}var y=function(x){return x};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Qm(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/xj:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof d5||this instanceof Vp))return B4(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Qi==0?B4(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof Qi==0?y.substr(0,1)==="("?pg(y.substr(1,y.length-2)):pg(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qi==1?pg(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Qi==1?"/"+y:y}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Qi==0?B4(p,this.objId,this.scope):p},set:function(y){y=y.toString(),p=this instanceof Qi==0?y.substr(0,1)==="("?pg(y.substr(1,y.length-2)):pg(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Qi==1?pg(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Qi==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(y){m=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,1)},set:function(y){y?this.Ff=li(this.Ff,1):this.Ff=ci(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,2)},set:function(y){y?this.Ff=li(this.Ff,2):this.Ff=ci(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,3)},set:function(y){y?this.Ff=li(this.Ff,3):this.Ff=ci(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};rl(wu,Gu);var dv=function(){wu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Fte(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,18)},set:function(r){r?this.Ff=li(this.Ff,18):this.Ff=ci(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=li(this.Ff,19):this.Ff=ci(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,20)},set:function(r){r?(this.Ff=li(this.Ff,20),t.sort()):this.Ff=ci(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,22)},set:function(r){r?this.Ff=li(this.Ff,22):this.Ff=ci(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,23)},set:function(r){r?this.Ff=li(this.Ff,23):this.Ff=ci(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,27)},set:function(r){r?this.Ff=li(this.Ff,27):this.Ff=ci(this.Ff,27)}}),this.hasAppearanceStream=!1};rl(dv,wu);var hv=function(){dv.call(this),this.fontName="helvetica",this.combo=!1};rl(hv,dv);var pv=function(){hv.call(this),this.combo=!0};rl(pv,hv);var FS=function(){pv.call(this),this.edit=!0};rl(FS,pv);var Qi=function(){wu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,15)},set:function(r){r?this.Ff=li(this.Ff,15):this.Ff=ci(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,16)},set:function(r){r?this.Ff=li(this.Ff,16):this.Ff=ci(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,17)},set:function(r){r?this.Ff=li(this.Ff,17):this.Ff=ci(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,26)},set:function(r){r?this.Ff=li(this.Ff,26):this.Ff=ci(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Qm(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Hr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};rl(Qi,wu);var BS=function(){Qi.call(this),this.pushButton=!0};rl(BS,Qi);var mv=function(){Qi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};rl(mv,Qi);var d5=function(){var e,t;wu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Qm(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Hr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};rl(d5,wu),mv.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},mv.prototype.createOption=function(e){var t=new d5;return t.Parent=this,t.optionName=e,this.Kids.push(t),V6e.call(this.scope,t),t};var $S=function(){Qi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ft.CheckBox.createAppearanceStream()};rl($S,Qi);var Vp=function(){wu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,13)},set:function(t){t?this.Ff=li(this.Ff,13):this.Ff=ci(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,21)},set:function(t){t?this.Ff=li(this.Ff,21):this.Ff=ci(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,23)},set:function(t){t?this.Ff=li(this.Ff,23):this.Ff=ci(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,24)},set:function(t){t?this.Ff=li(this.Ff,24):this.Ff=ci(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,25)},set:function(t){t?this.Ff=li(this.Ff,25):this.Ff=ci(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,26)},set:function(t){t?this.Ff=li(this.Ff,26):this.Ff=ci(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};rl(Vp,wu);var US=function(){Vp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!oi(this.Ff,14)},set:function(e){e?this.Ff=li(this.Ff,14):this.Ff=ci(this.Ff,14)}}),this.password=!0};rl(US,Vp);var Ft={CheckBox:{createAppearanceStream:function(){return{N:{On:Ft.CheckBox.YesNormal},D:{On:Ft.CheckBox.YesPushDown,Off:Ft.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Fu(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=WP(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Sr(Ft.internal.getWidth(e))+" "+Sr(Ft.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Sr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Fu(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Ft.internal.getHeight(e),s=Ft.internal.getWidth(e),o=WP(e,e.caption);return a.push("1 g"),a.push("0 0 "+Sr(s)+" "+Sr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Sr(s-1)+" "+Sr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Sr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Fu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Sr(Ft.internal.getWidth(e))+" "+Sr(Ft.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ft.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ft.RadioButton.Circle.YesNormal,t.D[e]=Ft.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Fu(e);t.scope=e.scope;var r=[],n=Ft.internal.getWidth(e)<=Ft.internal.getHeight(e)?Ft.internal.getWidth(e)/4:Ft.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Ft.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+xh(Ft.internal.getWidth(e)/2)+" "+xh(Ft.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fu(e);t.scope=e.scope;var r=[],n=Ft.internal.getWidth(e)<=Ft.internal.getHeight(e)?Ft.internal.getWidth(e)/4:Ft.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ft.internal.Bezier_C).toFixed(5)),s=Number((n*Ft.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xh(Ft.internal.getWidth(e)/2)+" "+xh(Ft.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+xh(Ft.internal.getWidth(e)/2)+" "+xh(Ft.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Fu(e);t.scope=e.scope;var r=[],n=Ft.internal.getWidth(e)<=Ft.internal.getHeight(e)?Ft.internal.getWidth(e)/4:Ft.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ft.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xh(Ft.internal.getWidth(e)/2)+" "+xh(Ft.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ft.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ft.RadioButton.Cross.YesNormal,t.D[e]=Ft.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Fu(e);t.scope=e.scope;var r=[],n=Ft.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Sr(Ft.internal.getWidth(e)-2)+" "+Sr(Ft.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Sr(n.x1.x)+" "+Sr(n.x1.y)+" m"),r.push(Sr(n.x2.x)+" "+Sr(n.x2.y)+" l"),r.push(Sr(n.x4.x)+" "+Sr(n.x4.y)+" m"),r.push(Sr(n.x3.x)+" "+Sr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Fu(e);t.scope=e.scope;var r=Ft.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Sr(Ft.internal.getWidth(e))+" "+Sr(Ft.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Sr(Ft.internal.getWidth(e)-2)+" "+Sr(Ft.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Sr(r.x1.x)+" "+Sr(r.x1.y)+" m"),n.push(Sr(r.x2.x)+" "+Sr(r.x2.y)+" l"),n.push(Sr(r.x4.x)+" "+Sr(r.x4.y)+" m"),n.push(Sr(r.x3.x)+" "+Sr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Fu(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Sr(Ft.internal.getWidth(e))+" "+Sr(Ft.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ft.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ft.internal.getWidth(e),r=Ft.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ft.internal.getWidth=function(e){var t=0;return Hr(e)==="object"&&(t=G$(e.Rect[2])),t},Ft.internal.getHeight=function(e){var t=0;return Hr(e)==="object"&&(t=G$(e.Rect[3])),t};var V6e=$a.addField=function(e){if(U6e(this,e),!(e instanceof wu))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};$a.AcroFormChoiceField=dv,$a.AcroFormListBox=hv,$a.AcroFormComboBox=pv,$a.AcroFormEditBox=FS,$a.AcroFormButton=Qi,$a.AcroFormPushButton=BS,$a.AcroFormRadioButton=mv,$a.AcroFormCheckBox=$S,$a.AcroFormTextField=Vp,$a.AcroFormPasswordField=US,$a.AcroFormAppearance=Ft,$a.AcroForm={ChoiceField:dv,ListBox:hv,ComboBox:pv,EditBox:FS,Button:Qi,PushButton:BS,RadioButton:mv,CheckBox:$S,TextField:Vp,PasswordField:US,Appearance:Ft},Qt.AcroForm={ChoiceField:dv,ListBox:hv,ComboBox:pv,EditBox:FS,Button:Qi,PushButton:BS,RadioButton:mv,CheckBox:$S,TextField:Vp,PasswordField:US,Appearance:Ft};Qt.AcroForm;function Ute(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(T,C){var D,B,Y,ee,re,G=r;if((C=C||r)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(P(T))for(re in n)for(Y=n[re],D=0;D<Y.length;D+=1){for(ee=!0,B=0;B<Y[D].length;B+=1)if(Y[D][B]!==void 0&&Y[D][B]!==T[B]){ee=!1;break}if(ee===!0){G=re;break}}else for(re in n)for(Y=n[re],D=0;D<Y.length;D+=1){for(ee=!0,B=0;B<Y[D].length;B+=1)if(Y[D][B]!==void 0&&Y[D][B]!==T.charCodeAt(B)){ee=!1;break}if(ee===!0){G=re;break}}return G===r&&C!==r&&(G=C),G},i=function T(C){for(var D=this.internal.write,B=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var ee=[];if(ee.push({key:"Type",value:"/XObject"}),ee.push({key:"Subtype",value:"/Image"}),ee.push({key:"Width",value:C.width}),ee.push({key:"Height",value:C.height}),C.colorSpace===y.INDEXED?ee.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(ee.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===y.DEVICE_CMYK&&ee.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ee.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&ee.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var re="",G=0,q=C.transparency.length;G<q;G++)re+=C.transparency[G]+" "+C.transparency[G]+" ";ee.push({key:"Mask",value:"["+re+"]"})}C.sMask!==void 0&&ee.push({key:"SMask",value:C.objectId+1+" 0 R"});var be=C.filter!==void 0?["/"+C.filter]:void 0;if(B({data:C.data,additionalKeyValues:ee,alreadyAppliedFilters:be,objectId:C.objectId}),D("endobj"),"sMask"in C&&C.sMask!==void 0){var _e,R=(_e=C.sMaskBitsPerComponent)!==null&&_e!==void 0?_e:C.bitsPerComponent,U={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:R,data:C.sMask};"filter"in C&&(U.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(R," /Columns ").concat(C.width),U.filter=C.filter),T.call(this,U)}if(C.colorSpace===y.INDEXED){var z=this.internal.newObject();B({data:S(new Uint8Array(C.palette)),objectId:z}),D("endobj")}},s=function(){var T=this.internal.collections[t+"images"];for(var C in T)i.call(this,T[C])},o=function(){var T,C=this.internal.collections[t+"images"],D=this.internal.write;for(var B in C)D("/I"+(T=C[B]).index,T.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var T=this.internal.collections[t+"images"];return l.call(this),T},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(T){return typeof e["process"+T.toUpperCase()]=="function"},h=function(T){return Hr(T)==="object"&&T.nodeType===1},p=function(T,C){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var D=""+T.getAttribute("src");if(D.indexOf("data:image/")===0)return MS(unescape(D).split("base64,").pop());var B=e.loadFile(D,!0);if(B!==void 0)return B}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Y;switch(C){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return MS(T.toDataURL(Y,1).split("base64,").pop())}},m=function(T){var C=this.internal.collections[t+"images"];if(C){for(var D in C)if(T===C[D].alias)return C[D]}},g=function(T,C,D){return T||C||(T=-96,C=-96),T<0&&(T=-1*D.width*72/T/this.internal.scaleFactor),C<0&&(C=-1*D.height*72/C/this.internal.scaleFactor),T===0&&(T=C*D.width/D.height),C===0&&(C=T*D.height/D.width),[T,C]},v=function(T,C,D,B,Y,ee){var re=g.call(this,D,B,Y),G=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,be=c.call(this);if(D=re[0],B=re[1],be[Y.index]=Y,ee){ee*=Math.PI/180;var _e=Math.cos(ee),R=Math.sin(ee),U=function(W){return W.toFixed(4)},z=[U(_e),U(R),U(-1*R),U(_e),0,0,"cm"]}this.internal.write("q"),ee?(this.internal.write([1,"0","0",1,G(T),q(C+B),"cm"].join(" ")),this.internal.write(z.join(" ")),this.internal.write([G(D),"0","0",G(B),"0","0","cm"].join(" "))):this.internal.write([G(D),"0","0",G(B),G(T),q(C+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(T){var C,D,B=0;if(typeof T=="string")for(D=T.length,C=0;C<D;C++)B=(B<<5)-B+T.charCodeAt(C),B|=0;else if(P(T))for(D=T.byteLength/2,C=0;C<D;C++)B=(B<<5)-B+T[C],B|=0;return B},E=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var C=!0;return T.length===0&&(C=!1),T.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(C=!1),C},I=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var C=T.indexOf(",");return C<0?null:T.substring(0,C).trim().endsWith("base64")?T.substring(C+1):null};e.__addimage__.isArrayBuffer=function(T){return T instanceof ArrayBuffer};var P=e.__addimage__.isArrayBufferView=function(T){return T instanceof Int8Array||T instanceof Uint8Array||T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array},A=e.__addimage__.binaryStringToUint8Array=function(T){for(var C=T.length,D=new Uint8Array(C),B=0;B<C;B++)D[B]=T.charCodeAt(B);return D},S=e.__addimage__.arrayBufferToBinaryString=function(T){for(var C="",D=P(T)?T:new Uint8Array(T),B=0;B<D.length;B+=8192)C+=String.fromCharCode.apply(null,D.subarray(B,B+8192));return C};e.addImage=function(){var T,C,D,B,Y,ee,re,G,q;if(typeof arguments[1]=="number"?(C=r,D=arguments[1],B=arguments[2],Y=arguments[3],ee=arguments[4],re=arguments[5],G=arguments[6],q=arguments[7]):(C=arguments[1],D=arguments[2],B=arguments[3],Y=arguments[4],ee=arguments[5],re=arguments[6],G=arguments[7],q=arguments[8]),Hr(T=arguments[0])==="object"&&!h(T)&&"imageData"in T){var be=T;T=be.imageData,C=be.format||C||r,D=be.x||D||0,B=be.y||B||0,Y=be.w||be.width||Y,ee=be.h||be.height||ee,re=be.alias||re,G=be.compression||G,q=be.rotation||be.angle||q}var _e=this.internal.getFilters();if(G===void 0&&_e.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(D)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var R=k.call(this,T,C,re,G);return v.call(this,D,B,Y,ee,R,q),this};var k=function(T,C,D,B){var Y,ee,re;if(typeof T=="string"&&a(T)===r){T=unescape(T);var G=O(T,!1);(G!==""||(G=e.loadFile(T,!0))!==void 0)&&(T=G)}if(h(T)&&(T=p(T,C)),C=a(T,C),!f(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((re=D)==null||re.length===0)&&(D=function(q){return typeof q=="string"||P(q)?w(q):P(q.data)?w(q.data):null}(T)),(Y=m.call(this,D))||(T instanceof Uint8Array||C==="RGBA"||(ee=T,T=A(T)),Y=this["process"+C.toUpperCase()](T,u.call(this),D,function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in e.image_compression?q:x.NONE}(B),ee)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},O=e.__addimage__.convertBase64ToBinaryString=function(T,C){C=typeof C!="boolean"||C;var D,B="";if(typeof T=="string"){var Y;D=(Y=I(T))!==null&&Y!==void 0?Y:T;try{B=MS(D)}catch(ee){if(C)throw E(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ee.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return B};e.getImageProperties=function(T){var C,D,B="";if(h(T)&&(T=p(T)),typeof T=="string"&&a(T)===r&&((B=O(T,!1))===""&&(B=e.loadFile(T)||""),T=B),D=a(T),!f(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(T instanceof Uint8Array||(T=A(T)),!(C=this["process"+D.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=D,C}})(Qt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Qt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var p=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),x=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+p(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+p(y(x))+") >>",g.content=i;var w=g.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(g.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var E=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+E+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var I=this.annotations._nameMap[n.options.name];n.options.pageNumber=I.page,n.options.top=I.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var P=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+P+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Qt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(g){return s(g)&&a.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return s(g)&&i(g)&&t[g.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(g){var v=0,y=r,x="",w=0;for(v=0;v<g.length;v+=1)y[g.charCodeAt(v)]!==void 0?(w++,typeof(y=y[g.charCodeAt(v)])=="number"&&(x+=String.fromCharCode(y),y=r,w=0),v===g.length-1&&(y=r,x+=g.charAt(v-(w-1)),v-=w-1,w=0)):(y=r,x+=g.charAt(v-w),v-=w,w=0);return x};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&n[g.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(g,v,y){return s(g)?i(g)===!1?-1:!c(g)||!s(v)&&!s(y)||!s(y)&&o(v)||o(g)&&!s(v)||o(g)&&l(v)||o(g)&&o(v)?0:u(g)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(g)||!s(y)?1:2:-1},p=function(g){var v=0,y=0,x=0,w="",E="",I="",P=(g=g||"").split("\\s+"),A=[];for(v=0;v<P.length;v+=1){for(A.push(""),y=0;y<P[v].length;y+=1)w=P[v][y],E=P[v][y-1],I=P[v][y+1],s(w)?(x=h(w,E,I),A[v]+=x!==-1?String.fromCharCode(t[w.charCodeAt(0)][x]):w):A[v]+=w;A[v]=f(A[v])}return A.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var g,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var x=0;for(y=[],x=0;x<v.length;x+=1)Array.isArray(v[x])?y.push([p(v[x][0]),v[x][1],v[x][2]]):y.push([p(v[x])]);g=y}else g=p(v);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",m])}(Qt.API),Qt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Qt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(g){p=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,p=0,m=0,g=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,E){return w.concat(v.splitTextToSize(E,y))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)p<(g=this.getStringUnitWidth(l[x],{font:f})*u)&&(p=g);return p!==0&&(m=l.length),{w:p/=h,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var p,m,g,v,y=[],x=[],w=[],E={},I={},P=[],A=[],S=(h=h||{}).autoSize||!1,k=h.printHeaders!==!1,O=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,T=h.margins||Object.assign({width:this.getPageWidth()},t),C=typeof h.padding=="number"?h.padding:3,D=h.headerBackgroundColor||"#c8c8c8",B=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=k,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=B,this.setFontSize(O),f==null)x=y=Object.keys(u[0]),w=y.map(function(){return"left"});else if(Array.isArray(f)&&Hr(f[0])==="object")for(y=f.map(function(be){return be.name}),x=f.map(function(be){return be.prompt||be.name||""}),w=f.map(function(be){return be.align||"left"}),p=0;p<f.length;p+=1)I[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(x=y=f,w=y.map(function(){return"left"}));if(S||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<y.length;p+=1){for(E[v=y[p]]=u.map(function(be){return be[v]}),this.setFont(void 0,"bold"),P.push(this.getTextDimensions(x[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=E[v],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)P.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);I[v]=Math.max.apply(null,P)+C+C,P=[]}if(k){var Y={};for(p=0;p<y.length;p+=1)Y[y[p]]={},Y[y[p]].text=x[p],Y[y[p]].align=w[p];var ee=o.call(this,Y,I);A=y.map(function(be){return new i(l,c,I[be],ee,Y[be].text,void 0,Y[be].align)}),this.setTableHeaderRow(A),this.printHeaderRow(1,!1)}var re=f.reduce(function(be,_e){return be[_e.name]=_e.align,be},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var G=o.call(this,u[p],I);for(g=0;g<y.length;g+=1){var q=u[p][y[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:g,data:q},this),s.call(this,new i(l,c,I[y[g]],G,q,p+2,re[y[g]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(p){var m=l[p];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,m){return Math.max(p,m)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Qt.API);var Vte={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zte=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],HP=Ute(zte),Wte=[100,200,300,400,500,600,700,800,900],z6e=Ute(Wte);function $4(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Vte[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),a=function(i){return typeof HP[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function K$(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var W6e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Y$={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function X$(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Q$(e){return e.trimLeft()}function H6e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function q6e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var F_,J$,Z$,mg,B_,eU,tU,rU,U4=["times"];function nU(e,t,r,n,a){var i=4,s=iU;switch(a){case Qt.API.image_compression.FAST:i=1,s=aU;break;case Qt.API.image_compression.MEDIUM:i=6,s=sU;break;case Qt.API.image_compression.SLOW:i=9,s=oU}e=function(l,c,u,f){for(var h,p=l.length/c,m=new Uint8Array(l.length+p),g=[G6e,aU,iU,sU,oU],v=0;v<p;v+=1){var y=v*c,x=l.subarray(y,y+c);if(f)m.set(f(x,u,h),y+v);else{for(var w=g.length,E=[],I=0;I<w;I+=1)E[I]=g[I](x,u,h);var P=Y6e(E.concat());m.set(E[P],y+v)}h=x}return m}(e,t,Math.ceil(r*n/8),s);var o=MP(e,{level:i});return Qt.API.__addimage__.arrayBufferToBinaryString(o)}function G6e(e){var t=Array.apply([],e);return t.unshift(0),t}function aU(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function iU(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var s=r&&r[i]||0;a[i+1]=e[i]-s+256&255}return a}function sU(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var s=e[i-t]||0,o=r&&r[i]||0;a[i+1]=e[i]+256-(s+o>>>1)&255}return a}function oU(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var s=K6e(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-s+256&255}return a}function K6e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function Y6e(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function V4(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),s=(1<<r)-1;return Hte(e,a)>>i&s}function lU(e,t,r,n){var a=r*n,i=Math.floor(a/8),s=16-(a-8*i+n),o=(1<<n)-1,l=(t&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var h=f>>8&255;c.setUint8(u,h)}})(e,i,Hte(e,i)&~(o<<s)&65535|l)}function Hte(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function X6e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<1+(7&a);e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,h=null,p=0,m=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],1&g||(h=null),p=g>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,E=e[t++],I=E>>6&1,P=1<<1+(7&E),A=o,S=l,k=!1;E>>7&&(k=!0,A=t,S=P,t+=3*P);var O=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}u.push({x:v,y,width:x,height:w,has_local_palette:k,palette_offset:A,palette_size:S,data_offset:O,data_length:t-O,transparent_index:h,interlaced:!!I,delay:f,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(C){if(C<0||C>=u.length)throw new Error("Frame index out of range.");return u[C]},this.decodeAndBlitFrameBGRA=function(C,D){var B=this.frameInfo(C),Y=B.width*B.height,ee=new Uint8Array(Y);cU(e,B.data_offset,ee,Y);var re=B.palette_offset,G=B.transparent_index;G===null&&(G=256);var q=B.width,be=r-q,_e=q,R=4*(B.y*r+B.x),U=4*((B.y+B.height)*r+B.x),z=R,W=4*be;B.interlaced===!0&&(W+=4*r*7);for(var Z=8,le=0,he=ee.length;le<he;++le){var ae=ee[le];if(_e===0&&(_e=q,(z+=W)>=U&&(W=4*be+4*r*(Z-1),z=R+(q+be)*(Z<<1),Z>>=1)),ae===G)z+=4;else{var pe=e[re+3*ae],ke=e[re+3*ae+1],K=e[re+3*ae+2];D[z++]=K,D[z++]=ke,D[z++]=pe,D[z++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(C,D){var B=this.frameInfo(C),Y=B.width*B.height,ee=new Uint8Array(Y);cU(e,B.data_offset,ee,Y);var re=B.palette_offset,G=B.transparent_index;G===null&&(G=256);var q=B.width,be=r-q,_e=q,R=4*(B.y*r+B.x),U=4*((B.y+B.height)*r+B.x),z=R,W=4*be;B.interlaced===!0&&(W+=4*r*7);for(var Z=8,le=0,he=ee.length;le<he;++le){var ae=ee[le];if(_e===0&&(_e=q,(z+=W)>=U&&(W=4*be+4*r*(Z-1),z=R+(q+be)*(Z<<1),Z>>=1)),ae===G)z+=4;else{var pe=e[re+3*ae],ke=e[re+3*ae+1],K=e[re+3*ae+2];D[z++]=pe,D[z++]=ke,D[z++]=K,D[z++]=255}--_e}}}function cU(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,f=0,h=0,p=e[t++],m=new Int32Array(4096),g=null;;){for(;u<16&&p!==0;)f|=e[t++]<<u,u+=8,p===1?p=e[t++]:--p;if(u<l)break;var v=f&c;if(f>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:g,x=0,w=y;w>i;)w=m[w]>>8,++x;var E=w;if(h+x+(y!==v?1:0)>n)return void Bn.log("Warning, gif stream longer than expected.");r[h++]=E;var I=h+=x;for(y!==v&&(r[h++]=E),w=y;x--;)w=m[w],r[--I]=255&w,w>>=8;g!==null&&o<4096&&(m[o++]=g<<8|E,o>=c+1&&l<12&&(++l,c=c<<1|1)),g=v}else o=s+1,c=(1<<(l=a+1))-1,g=null}return h!==n&&Bn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function z4(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),m=new Array(64),g=[],v=0,y=7,x=new Array(64),w=new Array(64),E=new Array(64),I=new Array(256),P=new Array(2048),A=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ee(R,U){for(var z=0,W=0,Z=new Array,le=1;le<=16;le++){for(var he=1;he<=R[le];he++)Z[U[W]]=[],Z[U[W]][0]=z,Z[U[W]][1]=le,W++,z++;z*=2}return Z}function re(R){for(var U=R[0],z=R[1]-1;z>=0;)U&1<<z&&(v|=1<<y),z--,--y<0&&(v==255?(G(255),G(0)):G(v),y=7,v=0)}function G(R){g.push(R)}function q(R){G(R>>8&255),G(255&R)}function be(R,U,z,W,Z){for(var le,he=Z[0],ae=Z[240],pe=function(et,yt){var dt,rr,St,Kt,vt,At,nr,Pt,kt,ht,wt=0;for(kt=0;kt<8;++kt){dt=et[wt],rr=et[wt+1],St=et[wt+2],Kt=et[wt+3],vt=et[wt+4],At=et[wt+5],nr=et[wt+6];var dr=dt+(Pt=et[wt+7]),Gt=dt-Pt,Nt=rr+nr,er=rr-nr,Or=St+At,Ut=St-At,gr=Kt+vt,ar=Kt-vt,gn=dr+gr,vn=dr-gr,Kr=Nt+Or,Jt=Nt-Or;et[wt]=gn+Kr,et[wt+4]=gn-Kr;var Ar=.707106781*(Jt+vn);et[wt+2]=vn+Ar,et[wt+6]=vn-Ar;var ko=.382683433*((gn=ar+Ut)-(Jt=er+Gt)),Qn=.5411961*gn+ko,Ts=1.306562965*Jt+ko,hi=.707106781*(Kr=Ut+er),Yt=Gt+hi,yn=Gt-hi;et[wt+5]=yn+Qn,et[wt+3]=yn-Qn,et[wt+1]=Yt+Ts,et[wt+7]=Yt-Ts,wt+=8}for(wt=0,kt=0;kt<8;++kt){dt=et[wt],rr=et[wt+8],St=et[wt+16],Kt=et[wt+24],vt=et[wt+32],At=et[wt+40],nr=et[wt+48];var pi=dt+(Pt=et[wt+56]),da=dt-Pt,Ra=rr+nr,On=rr-nr,ha=St+At,J=St-At,me=Kt+vt,oe=Kt-vt,de=pi+me,ge=pi-me,we=Ra+ha,De=Ra-ha;et[wt]=de+we,et[wt+32]=de-we;var He=.707106781*(De+ge);et[wt+16]=ge+He,et[wt+48]=ge-He;var Re=.382683433*((de=oe+J)-(De=On+da)),Le=.5411961*de+Re,Fe=1.306562965*De+Re,ce=.707106781*(we=J+On),Ne=da+ce,Ve=da-ce;et[wt+40]=Ve+Le,et[wt+24]=Ve-Le,et[wt+8]=Ne+Fe,et[wt+56]=Ne-Fe,wt++}for(kt=0;kt<64;++kt)ht=et[kt]*yt[kt],p[kt]=ht>0?ht+.5|0:ht-.5|0;return p}(R,U),ke=0;ke<64;++ke)m[A[ke]]=pe[ke];var K=m[0]-z;z=m[0],K==0?re(W[0]):(re(W[h[le=32767+K]]),re(f[le]));for(var qe=63;qe>0&&m[qe]==0;)qe--;if(qe==0)return re(he),z;for(var Ae,ue=1;ue<=qe;){for(var ot=ue;m[ue]==0&&ue<=qe;)++ue;var $e=ue-ot;if($e>=16){Ae=$e>>4;for(var pt=1;pt<=Ae;++pt)re(ae);$e&=15}le=32767+m[ue],re(Z[($e<<4)+h[le]]),re(f[le]),ue++}return qe!=63&&re(he),z}function _e(R){R=Math.min(Math.max(R,1),100),i!=R&&(function(U){for(var z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var Z=s((z[W]*U+50)/100);Z=Math.min(Math.max(Z,1),255),o[A[W]]=Z}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var ae=s((le[he]*U+50)/100);ae=Math.min(Math.max(ae,1),255),l[A[he]]=ae}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,K=0;K<8;K++)for(var qe=0;qe<8;qe++)c[ke]=1/(o[A[ke]]*pe[K]*pe[qe]*8),u[ke]=1/(l[A[ke]]*pe[K]*pe[qe]*8),ke++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),i=R)}this.encode=function(R,U){U&&_e(U),g=new Array,v=0,y=7,q(65496),q(65504),q(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),q(1),q(1),G(0),G(0),function(){q(65499),q(132),G(0);for(var rr=0;rr<64;rr++)G(o[rr]);G(1);for(var St=0;St<64;St++)G(l[St])}(),function(rr,St){q(65472),q(17),G(8),q(St),q(rr),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(R.width,R.height),function(){q(65476),q(418),G(0);for(var rr=0;rr<16;rr++)G(S[rr+1]);for(var St=0;St<=11;St++)G(k[St]);G(16);for(var Kt=0;Kt<16;Kt++)G(O[Kt+1]);for(var vt=0;vt<=161;vt++)G(T[vt]);G(1);for(var At=0;At<16;At++)G(C[At+1]);for(var nr=0;nr<=11;nr++)G(D[nr]);G(17);for(var Pt=0;Pt<16;Pt++)G(B[Pt+1]);for(var kt=0;kt<=161;kt++)G(Y[kt])}(),q(65498),q(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var z=0,W=0,Z=0;v=0,y=7,this.encode.displayName="_encode_";for(var le,he,ae,pe,ke,K,qe,Ae,ue,ot=R.data,$e=R.width,pt=R.height,et=4*$e,yt=0;yt<pt;){for(le=0;le<et;){for(ke=et*yt+le,qe=-1,Ae=0,ue=0;ue<64;ue++)K=ke+(Ae=ue>>3)*et+(qe=4*(7&ue)),yt+Ae>=pt&&(K-=et*(yt+1+Ae-pt)),le+qe>=et&&(K-=le+qe-et+4),he=ot[K++],ae=ot[K++],pe=ot[K++],x[ue]=(P[he]+P[ae+256|0]+P[pe+512|0]>>16)-128,w[ue]=(P[he+768|0]+P[ae+1024|0]+P[pe+1280|0]>>16)-128,E[ue]=(P[he+1280|0]+P[ae+1536|0]+P[pe+1792|0]>>16)-128;z=be(x,c,z,t,n),W=be(w,u,W,r,a),Z=be(E,u,Z,r,a),le+=32}yt+=8}if(y>=0){var dt=[];dt[1]=y+1,dt[0]=(1<<y+1)-1,re(dt)}return q(65497),new Uint8Array(g)},e=e||50,function(){for(var R=String.fromCharCode,U=0;U<256;U++)I[U]=R(U)}(),t=ee(S,k),r=ee(C,D),n=ee(O,T),a=ee(B,Y),function(){for(var R=1,U=2,z=1;z<=15;z++){for(var W=R;W<U;W++)h[32767+W]=z,f[32767+W]=[],f[32767+W][1]=z,f[32767+W][0]=W;for(var Z=-(U-1);Z<=-R;Z++)h[32767+Z]=z,f[32767+Z]=[],f[32767+Z][1]=z,f[32767+Z][0]=U-1+Z;R<<=1,U<<=1}}(),function(){for(var R=0;R<256;R++)P[R]=19595*R,P[R+256|0]=38470*R,P[R+512|0]=7471*R+32768,P[R+768|0]=-11059*R,P[R+1024|0]=-21709*R,P[R+1280|0]=32768*R+8421375,P[R+1536|0]=-27439*R,P[R+1792|0]=-5329*R}(),_e(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Gc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function uU(e){function t(k){if(!k)throw Error("assert :P")}function r(k,O,T){for(var C=0;4>C;C++)if(k[O+C]!=T.charCodeAt(C))return!0;return!1}function n(k,O,T,C,D){for(var B=0;B<D;B++)k[O+B]=T[C+B]}function a(k,O,T,C){for(var D=0;D<C;D++)k[O+D]=T}function i(k){return new Int32Array(k)}function s(k,O){for(var T=[],C=0;C<k;C++)T.push(new O);return T}function o(k,O){var T=[];return function C(D,B,Y){for(var ee=Y[B],re=0;re<ee&&(D.push(Y.length>B+1?[]:new O),!(Y.length<B+1));re++)C(D[re],B+1,Y)}(T,0,k),T}var l=function(){var k=this;function O(b,N){for(var M=1<<N-1>>>0;b&M;)M>>>=1;return M?(b&M-1)+M:b}function T(b,N,M,V,Q){t(!(V%M));do b[N+(V-=M)]=Q;while(0<V)}function C(b,N,M,V,Q){if(t(2328>=Q),512>=Q)var te=i(512);else if((te=i(Q))==null)return 0;return function(ne,ie,fe,ye,Te,Ue){var xe,Ce,je=ie,Ye=1<<fe,Be=i(16),Qe=i(16);for(t(Te!=0),t(ye!=null),t(ne!=null),t(0<fe),Ce=0;Ce<Te;++Ce){if(15<ye[Ce])return 0;++Be[ye[Ce]]}if(Be[0]==Te)return 0;for(Qe[1]=0,xe=1;15>xe;++xe){if(Be[xe]>1<<xe)return 0;Qe[xe+1]=Qe[xe]+Be[xe]}for(Ce=0;Ce<Te;++Ce)xe=ye[Ce],0<ye[Ce]&&(Ue[Qe[xe]++]=Ce);if(Qe[15]==1)return(ye=new D).g=0,ye.value=Ue[0],T(ne,je,1,Ye,ye),Ye;var Je,ct=-1,st=Ye-1,Xt=0,Rt=1,Cr=1,Ht=1<<fe;for(Ce=0,xe=1,Te=2;xe<=fe;++xe,Te<<=1){if(Rt+=Cr<<=1,0>(Cr-=Be[xe]))return 0;for(;0<Be[xe];--Be[xe])(ye=new D).g=xe,ye.value=Ue[Ce++],T(ne,je+Xt,Te,Ht,ye),Xt=O(Xt,xe)}for(xe=fe+1,Te=2;15>=xe;++xe,Te<<=1){if(Rt+=Cr<<=1,0>(Cr-=Be[xe]))return 0;for(;0<Be[xe];--Be[xe]){if(ye=new D,(Xt&st)!=ct){for(je+=Ht,Je=1<<(ct=xe)-fe;15>ct&&!(0>=(Je-=Be[ct]));)++ct,Je<<=1;Ye+=Ht=1<<(Je=ct-fe),ne[ie+(ct=Xt&st)].g=Je+fe,ne[ie+ct].value=je-ie-ct}ye.g=xe-fe,ye.value=Ue[Ce++],T(ne,je+(Xt>>fe),Te,Ht,ye),Xt=O(Xt,xe)}}return Rt!=2*Qe[15]-1?0:Ye}(b,N,M,V,Q,te)}function D(){this.value=this.g=0}function B(){this.value=this.g=0}function Y(){this.G=s(5,D),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(np,B)}function ee(b,N,M,V){t(b!=null),t(N!=null),t(2147483648>V),b.Ca=254,b.I=0,b.b=-8,b.Ka=0,b.oa=N,b.pa=M,b.Jd=N,b.Yc=M+V,b.Zc=4<=V?M+V-4+1:M,he(b)}function re(b,N){for(var M=0;0<N--;)M|=pe(b,128)<<N;return M}function G(b,N){var M=re(b,N);return ae(b)?-M:M}function q(b,N,M,V){var Q,te=0;for(t(b!=null),t(N!=null),t(4294967288>V),b.Sb=V,b.Ra=0,b.u=0,b.h=0,4<V&&(V=4),Q=0;Q<V;++Q)te+=N[M+Q]<<8*Q;b.Ra=te,b.bb=V,b.oa=N,b.pa=M}function be(b){for(;8<=b.u&&b.bb<b.Sb;)b.Ra>>>=8,b.Ra+=b.oa[b.pa+b.bb]<<nh-8>>>0,++b.bb,b.u-=8;W(b)&&(b.h=1,b.u=0)}function _e(b,N){if(t(0<=N),!b.h&&N<=ol){var M=z(b)&sl[N];return b.u+=N,be(b),M}return b.h=1,b.u=0}function R(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(b){return b.Ra>>>(b.u&nh-1)>>>0}function W(b){return t(b.bb<=b.Sb),b.h||b.bb==b.Sb&&b.u>nh}function Z(b,N){b.u=N,b.h=W(b)}function le(b){b.u>=If&&(t(b.u>=If),be(b))}function he(b){t(b!=null&&b.oa!=null),b.pa<b.Zc?(b.I=(b.oa[b.pa++]|b.I<<8)>>>0,b.b+=8):(t(b!=null&&b.oa!=null),b.pa<b.Yc?(b.b+=8,b.I=b.oa[b.pa++]|b.I<<8):b.Ka?b.b=0:(b.I<<=8,b.b+=8,b.Ka=1))}function ae(b){return re(b,1)}function pe(b,N){var M=b.Ca;0>b.b&&he(b);var V=b.b,Q=M*N>>>8,te=(b.I>>>V>Q)+0;for(te?(M-=Q,b.I-=Q+1<<V>>>0):M=Q+1,V=M,Q=0;256<=V;)Q+=8,V>>=8;return V=7^Q+ah[V],b.b-=V,b.Ca=(M<<V)-1,te}function ke(b,N,M){b[N+0]=M>>24&255,b[N+1]=M>>16&255,b[N+2]=M>>8&255,b[N+3]=255&M}function K(b,N){return b[N+0]|b[N+1]<<8}function qe(b,N){return K(b,N)|b[N+2]<<16}function Ae(b,N){return K(b,N)|K(b,N+2)<<16}function ue(b,N){var M=1<<N;return t(b!=null),t(0<N),b.X=i(M),b.X==null?0:(b.Mb=32-N,b.Xa=N,1)}function ot(b,N){t(b!=null),t(N!=null),t(b.Xa==N.Xa),n(N.X,0,b.X,0,1<<N.Xa)}function $e(){this.X=[],this.Xa=this.Mb=0}function pt(b,N,M,V){t(M!=null),t(V!=null);var Q=M[0],te=V[0];return Q==0&&(Q=(b*te+N/2)/N),te==0&&(te=(N*Q+b/2)/b),0>=Q||0>=te?0:(M[0]=Q,V[0]=te,1)}function et(b,N){return b+(1<<N)-1>>>N}function yt(b,N){return((4278255360&b)+(4278255360&N)>>>0&4278255360)+((16711935&b)+(16711935&N)>>>0&16711935)>>>0}function dt(b,N){k[N]=function(M,V,Q,te,ne,ie,fe){var ye;for(ye=0;ye<ne;++ye){var Te=k[b](ie[fe+ye-1],Q,te+ye);ie[fe+ye]=yt(M[V+ye],Te)}}}function rr(){this.ud=this.hd=this.jd=0}function St(b,N){return((4278124286&(b^N))>>>1)+(b&N)>>>0}function Kt(b){return 0<=b&&256>b?b:0>b?0:255<b?255:void 0}function vt(b,N){return Kt(b+(b-N+.5>>1))}function At(b,N,M){return Math.abs(N-M)-Math.abs(b-M)}function nr(b,N,M,V,Q,te,ne){for(V=te[ne-1],M=0;M<Q;++M)te[ne+M]=V=yt(b[N+M],V)}function Pt(b,N,M,V,Q){var te;for(te=0;te<M;++te){var ne=b[N+te],ie=ne>>8&255,fe=16711935&(fe=(fe=16711935&ne)+((ie<<16)+ie));V[Q+te]=(4278255360&ne)+fe>>>0}}function kt(b,N){N.jd=255&b,N.hd=b>>8&255,N.ud=b>>16&255}function ht(b,N,M,V,Q,te){var ne;for(ne=0;ne<V;++ne){var ie=N[M+ne],fe=ie>>>8,ye=ie,Te=255&(Te=(Te=ie>>>16)+((b.jd<<24>>24)*(fe<<24>>24)>>>5));ye=255&(ye=(ye+=(b.hd<<24>>24)*(fe<<24>>24)>>>5)+((b.ud<<24>>24)*(Te<<24>>24)>>>5)),Q[te+ne]=(4278255360&ie)+(Te<<16)+ye}}function wt(b,N,M,V,Q){k[N]=function(te,ne,ie,fe,ye,Te,Ue,xe,Ce){for(fe=Ue;fe<xe;++fe)for(Ue=0;Ue<Ce;++Ue)ye[Te++]=Q(ie[V(te[ne++])])},k[b]=function(te,ne,ie,fe,ye,Te,Ue){var xe=8>>te.b,Ce=te.Ea,je=te.K[0],Ye=te.w;if(8>xe)for(te=(1<<te.b)-1,Ye=(1<<xe)-1;ne<ie;++ne){var Be,Qe=0;for(Be=0;Be<Ce;++Be)Be&te||(Qe=V(fe[ye++])),Te[Ue++]=Q(je[Qe&Ye]),Qe>>=xe}else k["VP8LMapColor"+M](fe,ye,je,Ye,Te,Ue,ne,ie,Ce)}}function dr(b,N,M,V,Q){for(M=N+M;N<M;){var te=b[N++];V[Q++]=te>>16&255,V[Q++]=te>>8&255,V[Q++]=255&te}}function Gt(b,N,M,V,Q){for(M=N+M;N<M;){var te=b[N++];V[Q++]=te>>16&255,V[Q++]=te>>8&255,V[Q++]=255&te,V[Q++]=te>>24&255}}function Nt(b,N,M,V,Q){for(M=N+M;N<M;){var te=(ne=b[N++])>>16&240|ne>>12&15,ne=240&ne|ne>>28&15;V[Q++]=te,V[Q++]=ne}}function er(b,N,M,V,Q){for(M=N+M;N<M;){var te=(ne=b[N++])>>16&248|ne>>13&7,ne=ne>>5&224|ne>>3&31;V[Q++]=te,V[Q++]=ne}}function Or(b,N,M,V,Q){for(M=N+M;N<M;){var te=b[N++];V[Q++]=255&te,V[Q++]=te>>8&255,V[Q++]=te>>16&255}}function Ut(b,N,M,V,Q,te){if(te==0)for(M=N+M;N<M;)ke(V,((te=b[N++])[0]>>24|te[1]>>8&65280|te[2]<<8&16711680|te[3]<<24)>>>0),Q+=32;else n(V,Q,b,N,M)}function gr(b,N){k[N][0]=k[b+"0"],k[N][1]=k[b+"1"],k[N][2]=k[b+"2"],k[N][3]=k[b+"3"],k[N][4]=k[b+"4"],k[N][5]=k[b+"5"],k[N][6]=k[b+"6"],k[N][7]=k[b+"7"],k[N][8]=k[b+"8"],k[N][9]=k[b+"9"],k[N][10]=k[b+"10"],k[N][11]=k[b+"11"],k[N][12]=k[b+"12"],k[N][13]=k[b+"13"],k[N][14]=k[b+"0"],k[N][15]=k[b+"0"]}function ar(b){return b==rN||b==nN||b==Bb||b==aN}function gn(){this.eb=[],this.size=this.A=this.fb=0}function vn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new gn,this.f.kb=new vn,this.sd=null}function Jt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ar(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ko(b){return alert("todo:WebPSamplerProcessPlane"),b.T}function Qn(b,N){var M=b.T,V=N.ba.f.RGBA,Q=V.eb,te=V.fb+b.ka*V.A,ne=Kl[N.ba.S],ie=b.y,fe=b.O,ye=b.f,Te=b.N,Ue=b.ea,xe=b.W,Ce=N.cc,je=N.dc,Ye=N.Mc,Be=N.Nc,Qe=b.ka,Je=b.ka+b.T,ct=b.U,st=ct+1>>1;for(Qe==0?ne(ie,fe,null,null,ye,Te,Ue,xe,ye,Te,Ue,xe,Q,te,null,null,ct):(ne(N.ec,N.fc,ie,fe,Ce,je,Ye,Be,ye,Te,Ue,xe,Q,te-V.A,Q,te,ct),++M);Qe+2<Je;Qe+=2)Ce=ye,je=Te,Ye=Ue,Be=xe,Te+=b.Rc,xe+=b.Rc,te+=2*V.A,ne(ie,(fe+=2*b.fa)-b.fa,ie,fe,Ce,je,Ye,Be,ye,Te,Ue,xe,Q,te-V.A,Q,te,ct);return fe+=b.fa,b.j+Je<b.o?(n(N.ec,N.fc,ie,fe,ct),n(N.cc,N.dc,ye,Te,st),n(N.Mc,N.Nc,Ue,xe,st),M--):1&Je||ne(ie,fe,null,null,ye,Te,Ue,xe,ye,Te,Ue,xe,Q,te+V.A,null,null,ct),M}function Ts(b,N,M){var V=b.F,Q=[b.J];if(V!=null){var te=b.U,ne=N.ba.S,ie=ne==Fb||ne==Bb;N=N.ba.f.RGBA;var fe=[0],ye=b.ka;fe[0]=b.T,b.Kb&&(ye==0?--fe[0]:(--ye,Q[0]-=b.width),b.j+b.ka+b.T==b.o&&(fe[0]=b.o-b.j-ye));var Te=N.eb;ye=N.fb+ye*N.A,b=o8(V,Q[0],b.width,te,fe,Te,ye+(ie?0:3),N.A),t(M==fe),b&&ar(ne)&&py(Te,ye,ie,te,fe,N.A)}return 0}function hi(b){var N=b.ma,M=N.ba.S,V=11>M,Q=M==Lb||M==Mb||M==Fb||M==tN||M==12||ar(M);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!sy(N.Oa,b,Q?11:12))return 0;if(Q&&ar(M)&&rp(),b.da)alert("todo:use_scaling");else{if(V){if(N.Ib=ko,b.Kb){if(M=b.U+1>>1,N.memory=i(b.U+2*M),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+b.U,N.Mc=N.cc,N.Nc=N.dc+M,N.Ib=Qn,rp()}}else alert("todo:EmitYUV");Q&&(N.Jb=Ts,V&&zn())}if(V&&!S8){for(b=0;256>b;++b)yfe[b]=89858*(b-128)+Ub>>$b,bfe[b]=-22014*(b-128)+Ub,wfe[b]=-45773*(b-128),xfe[b]=113618*(b-128)+Ub>>$b;for(b=gy;b<oN;++b)N=76283*(b-16)+Ub>>$b,_fe[b-gy]=Dr(N,255),Sfe[b-gy]=Dr(N+8>>4,15);S8=1}return 1}function Yt(b){var N=b.ma,M=b.U,V=b.T;return t(!(1&b.ka)),0>=M||0>=V?0:(M=N.Ib(b,N),N.Jb!=null&&N.Jb(b,N,M),N.Dc+=M,1)}function yn(b){b.ma.memory=null}function pi(b,N,M,V){return _e(b,8)!=47?0:(N[0]=_e(b,14)+1,M[0]=_e(b,14)+1,V[0]=_e(b,1),_e(b,3)!=0?0:!b.h)}function da(b,N){if(4>b)return b+1;var M=b-2>>1;return(2+(1&b)<<M)+_e(N,M)+1}function Ra(b,N){return 120<N?N-120:1<=(M=((M=afe[N-1])>>4)*b+(8-(15&M)))?M:1;var M}function On(b,N,M){var V=z(M),Q=b[N+=255&V].g-8;return 0<Q&&(Z(M,M.u+8),V=z(M),N+=b[N].value,N+=V&(1<<Q)-1),Z(M,M.u+b[N].g),b[N].value}function ha(b,N,M){return M.g+=b.g,M.value+=b.value<<N>>>0,t(8>=M.g),b.g}function J(b,N,M){var V=b.xc;return t((N=V==0?0:b.vc[b.md*(M>>V)+(N>>V)])<b.Wb),b.Ya[N]}function me(b,N,M,V){var Q=b.ab,te=b.c*N,ne=b.C;N=ne+N;var ie=M,fe=V;for(V=b.Ta,M=b.Ua;0<Q--;){var ye=b.gc[Q],Te=ne,Ue=N,xe=ie,Ce=fe,je=(fe=V,ie=M,ye.Ea);switch(t(Te<Ue),t(Ue<=ye.nc),ye.hc){case 2:Qa(xe,Ce,(Ue-Te)*je,fe,ie);break;case 0:var Ye=Te,Be=Ue,Qe=fe,Je=ie,ct=(Ht=ye).Ea;Ye==0&&(ly(xe,Ce,null,null,1,Qe,Je),nr(xe,Ce+1,0,0,ct-1,Qe,Je+1),Ce+=ct,Je+=ct,++Ye);for(var st=1<<Ht.b,Xt=st-1,Rt=et(ct,Ht.b),Cr=Ht.K,Ht=Ht.w+(Ye>>Ht.b)*Rt;Ye<Be;){var Xr=Cr,Ci=Ht,Pr=1;for(ag(xe,Ce,Qe,Je-ct,1,Qe,Je);Pr<ct;){var qt=(Pr&~Xt)+st;qt>ct&&(qt=ct),(0,uy[Xr[Ci++]>>8&15])(xe,Ce+ +Pr,Qe,Je+Pr-ct,qt-Pr,Qe,Je+Pr),Pr=qt}Ce+=ct,Je+=ct,++Ye&Xt||(Ht+=Rt)}Ue!=ye.nc&&n(fe,ie-je,fe,ie+(Ue-Te-1)*je,je);break;case 1:for(je=xe,Be=Ce,ct=(xe=ye.Ea)-(Je=xe&~(Qe=(Ce=1<<ye.b)-1)),Ye=et(xe,ye.b),st=ye.K,ye=ye.w+(Te>>ye.b)*Ye;Te<Ue;){for(Xt=st,Rt=ye,Cr=new rr,Ht=Be+Je,Xr=Be+xe;Be<Ht;)kt(Xt[Rt++],Cr),fy(Cr,je,Be,Ce,fe,ie),Be+=Ce,ie+=Ce;Be<Xr&&(kt(Xt[Rt++],Cr),fy(Cr,je,Be,ct,fe,ie),Be+=ct,ie+=ct),++Te&Qe||(ye+=Ye)}break;case 3:if(xe==fe&&Ce==ie&&0<ye.b){for(Be=fe,xe=je=ie+(Ue-Te)*je-(Je=(Ue-Te)*et(ye.Ea,ye.b)),Ce=fe,Qe=ie,Ye=[],Je=(ct=Je)-1;0<=Je;--Je)Ye[Je]=Ce[Qe+Je];for(Je=ct-1;0<=Je;--Je)Be[xe+Je]=Ye[Je];Ob(ye,Te,Ue,fe,je,fe,ie)}else Ob(ye,Te,Ue,xe,Ce,fe,ie)}ie=V,fe=M}fe!=M&&n(V,M,ie,fe,te)}function oe(b,N){var M=b.V,V=b.Ba+b.c*b.C,Q=N-b.C;if(t(N<=b.l.o),t(16>=Q),0<Q){var te=b.l,ne=b.Ta,ie=b.Ua,fe=te.width;if(me(b,Q,M,V),Q=ie=[ie],t((M=b.C)<(V=N)),t(te.v<te.va),V>te.o&&(V=te.o),M<te.j){var ye=te.j-M;M=te.j,Q[0]+=ye*fe}if(M>=V?M=0:(Q[0]+=4*te.v,te.ka=M-te.j,te.U=te.va-te.v,te.T=V-M,M=1),M){if(ie=ie[0],11>(M=b.ca).S){var Te=M.f.RGBA,Ue=(V=M.S,Q=te.U,te=te.T,ye=Te.eb,Te.A),xe=te;for(Te=Te.fb+b.Ma*Te.A;0<xe--;){var Ce=ne,je=ie,Ye=Q,Be=ye,Qe=Te;switch(V){case Rb:dy(Ce,je,Ye,Be,Qe);break;case Lb:ih(Ce,je,Ye,Be,Qe);break;case rN:ih(Ce,je,Ye,Be,Qe),py(Be,Qe,0,Ye,1,0);break;case p8:ap(Ce,je,Ye,Be,Qe);break;case Mb:Ut(Ce,je,Ye,Be,Qe,1);break;case nN:Ut(Ce,je,Ye,Be,Qe,1),py(Be,Qe,0,Ye,1,0);break;case Fb:Ut(Ce,je,Ye,Be,Qe,0);break;case Bb:Ut(Ce,je,Ye,Be,Qe,0),py(Be,Qe,1,Ye,1,0);break;case tN:sh(Ce,je,Ye,Be,Qe);break;case aN:sh(Ce,je,Ye,Be,Qe),s8(Be,Qe,Ye,1,0);break;case m8:oh(Ce,je,Ye,Be,Qe);break;default:t(0)}ie+=fe,Te+=Ue}b.Ma+=te}else alert("todo:EmitRescaledRowsYUVA");t(b.Ma<=M.height)}}b.C=N,t(b.C<=b.i)}function de(b){var N;if(0<b.ua)return 0;for(N=0;N<b.Wb;++N){var M=b.Ya[N].G,V=b.Ya[N].H;if(0<M[1][V[1]+0].g||0<M[2][V[2]+0].g||0<M[3][V[3]+0].g)return 0}return 1}function ge(b,N,M,V,Q,te){if(b.Z!=0){var ne=b.qd,ie=b.rd;for(t(uh[b.Z]!=null);N<M;++N)uh[b.Z](ne,ie,V,Q,V,Q,te),ne=V,ie=Q,Q+=te;b.qd=ne,b.rd=ie}}function we(b,N){var M=b.l.ma,V=M.Z==0||M.Z==1?b.l.j:b.C;if(V=b.C<V?V:b.C,t(N<=b.l.o),N>V){var Q=b.l.width,te=M.ca,ne=M.tb+Q*V,ie=b.V,fe=b.Ba+b.c*V,ye=b.gc;t(b.ab==1),t(ye[0].hc==3),Iu(ye[0],V,N,ie,fe,te,ne),ge(M,V,N,te,ne,Q)}b.C=b.Ma=N}function De(b,N,M,V,Q,te,ne){var ie=b.$/V,fe=b.$%V,ye=b.m,Te=b.s,Ue=M+b.$,xe=Ue;Q=M+V*Q;var Ce=M+V*te,je=280+Te.ua,Ye=b.Pb?ie:16777216,Be=0<Te.ua?Te.Wa:null,Qe=Te.wc,Je=Ue<Ce?J(Te,fe,ie):null;t(b.C<te),t(Ce<=Q);var ct=!1;e:for(;;){for(;ct||Ue<Ce;){var st=0;if(ie>=Ye){var Xt=Ue-M;t((Ye=b).Pb),Ye.wd=Ye.m,Ye.xd=Xt,0<Ye.s.ua&&ot(Ye.s.Wa,Ye.s.vb),Ye=ie+sfe}if(fe&Qe||(Je=J(Te,fe,ie)),t(Je!=null),Je.Qb&&(N[Ue]=Je.qb,ct=!0),!ct)if(le(ye),Je.jc){st=ye,Xt=N;var Rt=Ue,Cr=Je.pd[z(st)&np-1];t(Je.jc),256>Cr.g?(Z(st,st.u+Cr.g),Xt[Rt]=Cr.value,st=0):(Z(st,st.u+Cr.g-256),t(256<=Cr.value),st=Cr.value),st==0&&(ct=!0)}else st=On(Je.G[0],Je.H[0],ye);if(ye.h)break;if(ct||256>st){if(!ct)if(Je.nd)N[Ue]=(Je.qb|st<<8)>>>0;else{if(le(ye),ct=On(Je.G[1],Je.H[1],ye),le(ye),Xt=On(Je.G[2],Je.H[2],ye),Rt=On(Je.G[3],Je.H[3],ye),ye.h)break;N[Ue]=(Rt<<24|ct<<16|st<<8|Xt)>>>0}if(ct=!1,++Ue,++fe>=V&&(fe=0,++ie,ne!=null&&ie<=te&&!(ie%16)&&ne(b,ie),Be!=null))for(;xe<Ue;)st=N[xe++],Be.X[(506832829*st&4294967295)>>>Be.Mb]=st}else if(280>st){if(st=da(st-256,ye),Xt=On(Je.G[4],Je.H[4],ye),le(ye),Xt=Ra(V,Xt=da(Xt,ye)),ye.h)break;if(Ue-M<Xt||Q-Ue<st)break e;for(Rt=0;Rt<st;++Rt)N[Ue+Rt]=N[Ue+Rt-Xt];for(Ue+=st,fe+=st;fe>=V;)fe-=V,++ie,ne!=null&&ie<=te&&!(ie%16)&&ne(b,ie);if(t(Ue<=Q),fe&Qe&&(Je=J(Te,fe,ie)),Be!=null)for(;xe<Ue;)st=N[xe++],Be.X[(506832829*st&4294967295)>>>Be.Mb]=st}else{if(!(st<je))break e;for(ct=st-280,t(Be!=null);xe<Ue;)st=N[xe++],Be.X[(506832829*st&4294967295)>>>Be.Mb]=st;st=Ue,t(!(ct>>>(Xt=Be).Xa)),N[st]=Xt.X[ct],ct=!0}ct||t(ye.h==W(ye))}if(b.Pb&&ye.h&&Ue<Q)t(b.m.h),b.a=5,b.m=b.wd,b.$=b.xd,0<b.s.ua&&ot(b.s.vb,b.s.Wa);else{if(ye.h)break e;ne!=null&&ne(b,ie>te?te:ie),b.a=0,b.$=Ue-M}return 1}return b.a=3,0}function He(b){t(b!=null),b.vc=null,b.yc=null,b.Ya=null;var N=b.Wa;N!=null&&(N.X=null),b.vb=null,t(b!=null)}function Re(){var b=new zt;return b==null?null:(b.a=0,b.xb=y8,gr("Predictor","VP8LPredictors"),gr("Predictor","VP8LPredictors_C"),gr("PredictorAdd","VP8LPredictorsAdd"),gr("PredictorAdd","VP8LPredictorsAdd_C"),Qa=Pt,fy=ht,dy=dr,ih=Gt,sh=Nt,oh=er,ap=Or,k.VP8LMapColor32b=Pu,k.VP8LMapColor8b=cy,b)}function Le(b,N,M,V,Q){var te=1,ne=[b],ie=[N],fe=V.m,ye=V.s,Te=null,Ue=0;e:for(;;){if(M)for(;te&&_e(fe,1);){var xe=ne,Ce=ie,je=V,Ye=1,Be=je.m,Qe=je.gc[je.ab],Je=_e(Be,2);if(je.Oc&1<<Je)te=0;else{switch(je.Oc|=1<<Je,Qe.hc=Je,Qe.Ea=xe[0],Qe.nc=Ce[0],Qe.K=[null],++je.ab,t(4>=je.ab),Je){case 0:case 1:Qe.b=_e(Be,3)+2,Ye=Le(et(Qe.Ea,Qe.b),et(Qe.nc,Qe.b),0,je,Qe.K),Qe.K=Qe.K[0];break;case 3:var ct,st=_e(Be,8)+1,Xt=16<st?0:4<st?1:2<st?2:3;if(xe[0]=et(Qe.Ea,Xt),Qe.b=Xt,ct=Ye=Le(st,1,0,je,Qe.K)){var Rt,Cr=st,Ht=Qe,Xr=1<<(8>>Ht.b),Ci=i(Xr);if(Ci==null)ct=0;else{var Pr=Ht.K[0],qt=Ht.w;for(Ci[0]=Ht.K[0][0],Rt=1;Rt<1*Cr;++Rt)Ci[Rt]=yt(Pr[qt+Rt],Ci[Rt-1]);for(;Rt<4*Xr;++Rt)Ci[Rt]=0;Ht.K[0]=null,Ht.K[0]=Ci,ct=1}}Ye=ct;break;case 2:break;default:t(0)}te=Ye}}if(ne=ne[0],ie=ie[0],te&&_e(fe,1)&&!(te=1<=(Ue=_e(fe,4))&&11>=Ue)){V.a=3;break e}var Et;if(Et=te)t:{var Za,Tr,Zr,Jn=V,cs=ne,lo=ie,Fa=Ue,Ns=M,co=Jn.m,Pi=Jn.s,tn=[null],_n=1,Ba=0,Sn=ife[Fa];r:for(;;){if(Ns&&_e(co,1)){var us=_e(co,3)+2,Vc=et(cs,us),ei=et(lo,us),Oo=Vc*ei;if(!Le(Vc,ei,0,Jn,tn))break r;for(tn=tn[0],Pi.xc=us,Za=0;Za<Oo;++Za){var Fn=tn[Za]>>8&65535;tn[Za]=Fn,Fn>=_n&&(_n=Fn+1)}}if(co.h)break r;for(Tr=0;5>Tr;++Tr){var Ii=g8[Tr];!Tr&&0<Fa&&(Ii+=1<<Fa),Ba<Ii&&(Ba=Ii)}var cl=s(_n*Sn,D),uo=_n,ul=s(uo,Y);if(ul==null)var fl=null;else t(65536>=uo),fl=ul;var Do=i(Ba);if(fl==null||Do==null||cl==null){Jn.a=1;break r}var dl=cl;for(Za=Zr=0;Za<_n;++Za){var Hn=fl[Za],hl=Hn.G,zc=Hn.H,sp=0,jf=1,fs=0;for(Tr=0;5>Tr;++Tr){Ii=g8[Tr],hl[Tr]=dl,zc[Tr]=Zr,!Tr&&0<Fa&&(Ii+=1<<Fa);a:{var zb,lN=Ii,Wb=Jn,vy=Do,Tfe=dl,kfe=Zr,cN=0,fh=Wb.m,Nfe=_e(fh,1);if(a(vy,0,0,lN),Nfe){var Cfe=_e(fh,1)+1,Pfe=_e(fh,1),T8=_e(fh,Pfe==0?1:8);vy[T8]=1,Cfe==2&&(vy[T8=_e(fh,8)]=1);var Hb=1}else{var k8=i(19),N8=_e(fh,4)+4;if(19<N8){Wb.a=3;var qb=0;break a}for(zb=0;zb<N8;++zb)k8[nfe[zb]]=_e(fh,3);var uN=void 0,yy=void 0,C8=Wb,Ife=k8,Gb=lN,P8=vy,fN=0,dh=C8.m,I8=8,O8=s(128,D);n:for(;C(O8,0,7,Ife,19);){if(_e(dh,1)){var Ofe=2+2*_e(dh,3);if((uN=2+_e(dh,Ofe))>Gb)break n}else uN=Gb;for(yy=0;yy<Gb&&uN--;){le(dh);var D8=O8[0+(127&z(dh))];Z(dh,dh.u+D8.g);var sg=D8.value;if(16>sg)P8[yy++]=sg,sg!=0&&(I8=sg);else{var Dfe=sg==16,j8=sg-16,jfe=tfe[j8],R8=_e(dh,efe[j8])+jfe;if(yy+R8>Gb)break n;for(var Rfe=Dfe?I8:0;0<R8--;)P8[yy++]=Rfe}}fN=1;break n}fN||(C8.a=3),Hb=fN}(Hb=Hb&&!fh.h)&&(cN=C(Tfe,kfe,8,vy,lN)),Hb&&cN!=0?qb=cN:(Wb.a=3,qb=0)}if(qb==0)break r;if(jf&&rfe[Tr]==1&&(jf=dl[Zr].g==0),sp+=dl[Zr].g,Zr+=qb,3>=Tr){var xy,dN=Do[0];for(xy=1;xy<Ii;++xy)Do[xy]>dN&&(dN=Do[xy]);fs+=dN}}if(Hn.nd=jf,Hn.Qb=0,jf&&(Hn.qb=(hl[3][zc[3]+0].value<<24|hl[1][zc[1]+0].value<<16|hl[2][zc[2]+0].value)>>>0,sp==0&&256>hl[0][zc[0]+0].value&&(Hn.Qb=1,Hn.qb+=hl[0][zc[0]+0].value<<8)),Hn.jc=!Hn.Qb&&6>fs,Hn.jc){var Kb,Rf=Hn;for(Kb=0;Kb<np;++Kb){var hh=Kb,ph=Rf.pd[hh],Yb=Rf.G[0][Rf.H[0]+hh];256<=Yb.value?(ph.g=Yb.g+256,ph.value=Yb.value):(ph.g=0,ph.value=0,hh>>=ha(Yb,8,ph),hh>>=ha(Rf.G[1][Rf.H[1]+hh],16,ph),hh>>=ha(Rf.G[2][Rf.H[2]+hh],0,ph),ha(Rf.G[3][Rf.H[3]+hh],24,ph))}}}Pi.vc=tn,Pi.Wb=_n,Pi.Ya=fl,Pi.yc=cl,Et=1;break t}Et=0}if(!(te=Et)){V.a=3;break e}if(0<Ue){if(ye.ua=1<<Ue,!ue(ye.Wa,Ue)){V.a=1,te=0;break e}}else ye.ua=0;var hN=V,L8=ne,Lfe=ie,pN=hN.s,mN=pN.xc;if(hN.c=L8,hN.i=Lfe,pN.md=et(L8,mN),pN.wc=mN==0?-1:(1<<mN)-1,M){V.xb=hfe;break e}if((Te=i(ne*ie))==null){V.a=1,te=0;break e}te=(te=De(V,Te,0,ne,ie,ie,null))&&!fe.h;break e}return te?(Q!=null?Q[0]=Te:(t(Te==null),t(M)),V.$=0,M||He(ye)):He(ye),te}function Fe(b,N){var M=b.c*b.i,V=M+N+16*N;return t(b.c<=N),b.V=i(V),b.V==null?(b.Ta=null,b.Ua=0,b.a=1,0):(b.Ta=b.V,b.Ua=b.Ba+M+N,1)}function ce(b,N){var M=b.C,V=N-M,Q=b.V,te=b.Ba+b.c*M;for(t(N<=b.l.o);0<V;){var ne=16<V?16:V,ie=b.l.ma,fe=b.l.width,ye=fe*ne,Te=ie.ca,Ue=ie.tb+fe*M,xe=b.Ta,Ce=b.Ua;me(b,ne,Q,te),l8(xe,Ce,Te,Ue,ye),ge(ie,M,M+ne,Te,Ue,fe),V-=ne,Q+=ne*b.c,M+=ne}t(M==N),b.C=b.Ma=N}function Ne(){this.ub=this.yd=this.td=this.Rb=0}function Ve(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Me(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ee(){this.Yb=function(){var b=[];return function N(M,V,Q){for(var te=Q[V],ne=0;ne<te&&(M.push(Q.length>V+1?[]:0),!(Q.length<V+1));ne++)N(M[ne],V+1,Q)}(b,0,[3,11]),b}()}function Ge(){this.jb=i(3),this.Wc=o([4,8],Ee),this.Xc=o([4,17],Ee)}function at(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function _t(){this.ld=this.La=this.dd=this.tc=0}function ut(){this.Na=this.la=0}function _r(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xr(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function lr(){this.uc=this.M=this.Nb=0,this.wa=Array(new _t),this.Y=0,this.ya=Array(new xr),this.aa=0,this.l=new Nr}function ir(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Vt(){this.cb=this.a=0,this.sc="",this.m=new R,this.Od=new Ne,this.Kc=new Ve,this.ed=new at,this.Qa=new Me,this.Ic=this.$c=this.Aa=0,this.D=new lr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,R),this.ia=0,this.pb=s(4,_r),this.Pa=new Ge,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ir),this.Hd=0,this.rb=Array(new ut),this.sb=0,this.wa=Array(new _t),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xr),this.L=this.aa=0,this.gd=o([4,2],_t),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Nr(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _a(){var b=new Vt;return b!=null&&(b.a=0,b.sc="OK",b.cb=0,b.Xb=0,my||(my=io)),b}function xn(b,N,M){return b.a==0&&(b.a=N,b.sc=M,b.cb=0),0}function Rc(b,N,M){return 3<=M&&b[N+0]==157&&b[N+1]==1&&b[N+2]==42}function Lc(b,N){if(b==null)return 0;if(b.a=0,b.sc="OK",N==null)return xn(b,2,"null VP8Io passed to VP8GetHeaders()");var M=N.data,V=N.w,Q=N.ha;if(4>Q)return xn(b,7,"Truncated header.");var te=M[V+0]|M[V+1]<<8|M[V+2]<<16,ne=b.Od;if(ne.Rb=!(1&te),ne.td=te>>1&7,ne.yd=te>>4&1,ne.ub=te>>5,3<ne.td)return xn(b,3,"Incorrect keyframe parameters.");if(!ne.yd)return xn(b,4,"Frame not displayable.");V+=3,Q-=3;var ie=b.Kc;if(ne.Rb){if(7>Q)return xn(b,7,"cannot parse picture header");if(!Rc(M,V,Q))return xn(b,3,"Bad code word");ie.c=16383&(M[V+4]<<8|M[V+3]),ie.Td=M[V+4]>>6,ie.i=16383&(M[V+6]<<8|M[V+5]),ie.Ud=M[V+6]>>6,V+=7,Q-=7,b.za=ie.c+15>>4,b.Ub=ie.i+15>>4,N.width=ie.c,N.height=ie.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((te=b.Pa).jb,0,255,te.jb.length),t((te=b.Qa)!=null),te.Cb=0,te.Bb=0,te.Fb=1,a(te.Zb,0,0,te.Zb.length),a(te.Lb,0,0,te.Lb)}if(ne.ub>Q)return xn(b,7,"bad partition length");ee(te=b.m,M,V,ne.ub),V+=ne.ub,Q-=ne.ub,ne.Rb&&(ie.Ld=ae(te),ie.Kd=ae(te)),ie=b.Qa;var fe,ye=b.Pa;if(t(te!=null),t(ie!=null),ie.Cb=ae(te),ie.Cb){if(ie.Bb=ae(te),ae(te)){for(ie.Fb=ae(te),fe=0;4>fe;++fe)ie.Zb[fe]=ae(te)?G(te,7):0;for(fe=0;4>fe;++fe)ie.Lb[fe]=ae(te)?G(te,6):0}if(ie.Bb)for(fe=0;3>fe;++fe)ye.jb[fe]=ae(te)?re(te,8):255}else ie.Bb=0;if(te.Ka)return xn(b,3,"cannot parse segment header");if((ie=b.ed).zd=ae(te),ie.Tb=re(te,6),ie.wb=re(te,3),ie.Pc=ae(te),ie.Pc&&ae(te)){for(ye=0;4>ye;++ye)ae(te)&&(ie.vd[ye]=G(te,6));for(ye=0;4>ye;++ye)ae(te)&&(ie.od[ye]=G(te,6))}if(b.L=ie.Tb==0?0:ie.zd?1:2,te.Ka)return xn(b,3,"cannot parse filter header");var Te=Q;if(Q=fe=V,V=fe+Te,ie=Te,b.Xb=(1<<re(b.m,2))-1,Te<3*(ye=b.Xb))M=7;else{for(fe+=3*ye,ie-=3*ye,Te=0;Te<ye;++Te){var Ue=M[Q+0]|M[Q+1]<<8|M[Q+2]<<16;Ue>ie&&(Ue=ie),ee(b.Jc[+Te],M,fe,Ue),fe+=Ue,ie-=Ue,Q+=3}ee(b.Jc[+ye],M,fe,ie),M=fe<V?0:5}if(M!=0)return xn(b,M,"cannot parse partitions");for(M=re(fe=b.m,7),Q=ae(fe)?G(fe,4):0,V=ae(fe)?G(fe,4):0,ie=ae(fe)?G(fe,4):0,ye=ae(fe)?G(fe,4):0,fe=ae(fe)?G(fe,4):0,Te=b.Qa,Ue=0;4>Ue;++Ue){if(Te.Cb){var xe=Te.Zb[Ue];Te.Fb||(xe+=M)}else{if(0<Ue){b.pb[Ue]=b.pb[0];continue}xe=M}var Ce=b.pb[Ue];Ce.Sc[0]=iN[Dr(xe+Q,127)],Ce.Sc[1]=sN[Dr(xe+0,127)],Ce.Eb[0]=2*iN[Dr(xe+V,127)],Ce.Eb[1]=101581*sN[Dr(xe+ie,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=iN[Dr(xe+ye,117)],Ce.Qc[1]=sN[Dr(xe+fe,127)],Ce.lc=xe+fe}if(!ne.Rb)return xn(b,4,"Not a key frame.");for(ae(te),ne=b.Pa,M=0;4>M;++M){for(Q=0;8>Q;++Q)for(V=0;3>V;++V)for(ie=0;11>ie;++ie)ye=pe(te,ffe[M][Q][V][ie])?re(te,8):cfe[M][Q][V][ie],ne.Wc[M][Q].Yb[V][ie]=ye;for(Q=0;17>Q;++Q)ne.Xc[M][Q]=ne.Wc[M][dfe[Q]]}return b.kc=ae(te),b.kc&&(b.Bd=re(te,8)),b.cb=1}function io(b,N,M,V,Q,te,ne){var ie=N[Q].Yb[M];for(M=0;16>Q;++Q){if(!pe(b,ie[M+0]))return Q;for(;!pe(b,ie[M+1]);)if(ie=N[++Q].Yb[0],M=0,Q==16)return 16;var fe=N[Q+1].Yb;if(pe(b,ie[M+2])){var ye=b,Te=0;if(pe(ye,(xe=ie)[(Ue=M)+3]))if(pe(ye,xe[Ue+6])){for(ie=0,Ue=2*(Te=pe(ye,xe[Ue+8]))+(xe=pe(ye,xe[Ue+9+Te])),Te=0,xe=ofe[Ue];xe[ie];++ie)Te+=Te+pe(ye,xe[ie]);Te+=3+(8<<Ue)}else pe(ye,xe[Ue+7])?(Te=7+2*pe(ye,165),Te+=pe(ye,145)):Te=5+pe(ye,159);else Te=pe(ye,xe[Ue+4])?3+pe(ye,xe[Ue+5]):2;ie=fe[2]}else Te=1,ie=fe[1];fe=ne+lfe[Q],0>(ye=b).b&&he(ye);var Ue,xe=ye.b,Ce=(Ue=ye.Ca>>1)-(ye.I>>xe)>>31;--ye.b,ye.Ca+=Ce,ye.Ca|=1,ye.I-=(Ue+1&Ce)<<xe,te[fe]=((Te^Ce)-Ce)*V[(0<Q)+0]}return 16}function Su(b){var N=b.rb[b.sb-1];N.la=0,N.Na=0,a(b.zc,0,0,b.zc.length),b.ja=0}function No(b,N,M,V,Q){Q=b[N+M+32*V]+(Q>>3),b[N+M+32*V]=-256&Q?0>Q?0:255:Q}function Af(b,N,M,V,Q,te){No(b,N,0,M,V+Q),No(b,N,1,M,V+te),No(b,N,2,M,V-te),No(b,N,3,M,V-Q)}function wn(b){return(20091*b>>16)+b}function so(b,N,M,V){var Q,te=0,ne=i(16);for(Q=0;4>Q;++Q){var ie=b[N+0]+b[N+8],fe=b[N+0]-b[N+8],ye=(35468*b[N+4]>>16)-wn(b[N+12]),Te=wn(b[N+4])+(35468*b[N+12]>>16);ne[te+0]=ie+Te,ne[te+1]=fe+ye,ne[te+2]=fe-ye,ne[te+3]=ie-Te,te+=4,N++}for(Q=te=0;4>Q;++Q)ie=(b=ne[te+0]+4)+ne[te+8],fe=b-ne[te+8],ye=(35468*ne[te+4]>>16)-wn(ne[te+12]),No(M,V,0,0,ie+(Te=wn(ne[te+4])+(35468*ne[te+12]>>16))),No(M,V,1,0,fe+ye),No(M,V,2,0,fe-ye),No(M,V,3,0,ie-Te),te++,V+=32}function Yd(b,N,M,V){var Q=b[N+0]+4,te=35468*b[N+4]>>16,ne=wn(b[N+4]),ie=35468*b[N+1]>>16;Af(M,V,0,Q+ne,b=wn(b[N+1]),ie),Af(M,V,1,Q+te,b,ie),Af(M,V,2,Q-te,b,ie),Af(M,V,3,Q-ne,b,ie)}function Xd(b,N,M,V,Q){so(b,N,M,V),Q&&so(b,N+16,M,V+4)}function rg(b,N,M,V){ip(b,N+0,M,V,1),ip(b,N+32,M,V+128,1)}function Vr(b,N,M,V){var Q;for(b=b[N+0]+4,Q=0;4>Q;++Q)for(N=0;4>N;++N)No(M,V,N,Q,b)}function Tf(b,N,M,V){b[N+0]&&pn(b,N+0,M,V),b[N+16]&&pn(b,N+16,M,V+4),b[N+32]&&pn(b,N+32,M,V+128),b[N+48]&&pn(b,N+48,M,V+128+4)}function Eu(b,N,M,V){var Q,te=i(16);for(Q=0;4>Q;++Q){var ne=b[N+0+Q]+b[N+12+Q],ie=b[N+4+Q]+b[N+8+Q],fe=b[N+4+Q]-b[N+8+Q],ye=b[N+0+Q]-b[N+12+Q];te[0+Q]=ne+ie,te[8+Q]=ne-ie,te[4+Q]=ye+fe,te[12+Q]=ye-fe}for(Q=0;4>Q;++Q)ne=(b=te[0+4*Q]+3)+te[3+4*Q],ie=te[1+4*Q]+te[2+4*Q],fe=te[1+4*Q]-te[2+4*Q],ye=b-te[3+4*Q],M[V+0]=ne+ie>>3,M[V+16]=ye+fe>>3,M[V+32]=ne-ie>>3,M[V+48]=ye-fe>>3,V+=64}function Co(b,N,M){var V,Q=N-32,te=ll,ne=255-b[Q-1];for(V=0;V<M;++V){var ie,fe=te,ye=ne+b[N-1];for(ie=0;ie<M;++ie)b[N+ie]=fe[ye+b[Q+ie]];N+=32}}function Y0(b,N){Co(b,N,4)}function ng(b,N){Co(b,N,8)}function ey(b,N){Co(b,N,16)}function ty(b,N){var M;for(M=0;16>M;++M)n(b,N+32*M,b,N-32,16)}function X0(b,N){var M;for(M=16;0<M;--M)a(b,N,b[N-1],16),N+=32}function kf(b,N,M){var V;for(V=0;16>V;++V)a(N,M+32*V,b,16)}function Po(b,N){var M,V=16;for(M=0;16>M;++M)V+=b[N-1+32*M]+b[N+M-32];kf(V>>5,b,N)}function zl(b,N){var M,V=8;for(M=0;16>M;++M)V+=b[N-1+32*M];kf(V>>4,b,N)}function Au(b,N){var M,V=8;for(M=0;16>M;++M)V+=b[N+M-32];kf(V>>4,b,N)}function Qd(b,N){kf(128,b,N)}function hr(b,N,M){return b+2*N+M+2>>2}function Tu(b,N){var M,V=N-32;for(V=new Uint8Array([hr(b[V-1],b[V+0],b[V+1]),hr(b[V+0],b[V+1],b[V+2]),hr(b[V+1],b[V+2],b[V+3]),hr(b[V+2],b[V+3],b[V+4])]),M=0;4>M;++M)n(b,N+32*M,V,0,V.length)}function ry(b,N){var M=b[N-1],V=b[N-1+32],Q=b[N-1+64],te=b[N-1+96];ke(b,N+0,16843009*hr(b[N-1-32],M,V)),ke(b,N+32,16843009*hr(M,V,Q)),ke(b,N+64,16843009*hr(V,Q,te)),ke(b,N+96,16843009*hr(Q,te,te))}function ny(b,N){var M,V=4;for(M=0;4>M;++M)V+=b[N+M-32]+b[N-1+32*M];for(V>>=3,M=0;4>M;++M)a(b,N+32*M,V,4)}function ay(b,N){var M=b[N-1+0],V=b[N-1+32],Q=b[N-1+64],te=b[N-1-32],ne=b[N+0-32],ie=b[N+1-32],fe=b[N+2-32],ye=b[N+3-32];b[N+0+96]=hr(V,Q,b[N-1+96]),b[N+1+96]=b[N+0+64]=hr(M,V,Q),b[N+2+96]=b[N+1+64]=b[N+0+32]=hr(te,M,V),b[N+3+96]=b[N+2+64]=b[N+1+32]=b[N+0+0]=hr(ne,te,M),b[N+3+64]=b[N+2+32]=b[N+1+0]=hr(ie,ne,te),b[N+3+32]=b[N+2+0]=hr(fe,ie,ne),b[N+3+0]=hr(ye,fe,ie)}function qi(b,N){var M=b[N+1-32],V=b[N+2-32],Q=b[N+3-32],te=b[N+4-32],ne=b[N+5-32],ie=b[N+6-32],fe=b[N+7-32];b[N+0+0]=hr(b[N+0-32],M,V),b[N+1+0]=b[N+0+32]=hr(M,V,Q),b[N+2+0]=b[N+1+32]=b[N+0+64]=hr(V,Q,te),b[N+3+0]=b[N+2+32]=b[N+1+64]=b[N+0+96]=hr(Q,te,ne),b[N+3+32]=b[N+2+64]=b[N+1+96]=hr(te,ne,ie),b[N+3+64]=b[N+2+96]=hr(ne,ie,fe),b[N+3+96]=hr(ie,fe,fe)}function Mc(b,N){var M=b[N-1+0],V=b[N-1+32],Q=b[N-1+64],te=b[N-1-32],ne=b[N+0-32],ie=b[N+1-32],fe=b[N+2-32],ye=b[N+3-32];b[N+0+0]=b[N+1+64]=te+ne+1>>1,b[N+1+0]=b[N+2+64]=ne+ie+1>>1,b[N+2+0]=b[N+3+64]=ie+fe+1>>1,b[N+3+0]=fe+ye+1>>1,b[N+0+96]=hr(Q,V,M),b[N+0+64]=hr(V,M,te),b[N+0+32]=b[N+1+96]=hr(M,te,ne),b[N+1+32]=b[N+2+96]=hr(te,ne,ie),b[N+2+32]=b[N+3+96]=hr(ne,ie,fe),b[N+3+32]=hr(ie,fe,ye)}function iy(b,N){var M=b[N+0-32],V=b[N+1-32],Q=b[N+2-32],te=b[N+3-32],ne=b[N+4-32],ie=b[N+5-32],fe=b[N+6-32],ye=b[N+7-32];b[N+0+0]=M+V+1>>1,b[N+1+0]=b[N+0+64]=V+Q+1>>1,b[N+2+0]=b[N+1+64]=Q+te+1>>1,b[N+3+0]=b[N+2+64]=te+ne+1>>1,b[N+0+32]=hr(M,V,Q),b[N+1+32]=b[N+0+96]=hr(V,Q,te),b[N+2+32]=b[N+1+96]=hr(Q,te,ne),b[N+3+32]=b[N+2+96]=hr(te,ne,ie),b[N+3+64]=hr(ne,ie,fe),b[N+3+96]=hr(ie,fe,ye)}function Jd(b,N){var M=b[N-1+0],V=b[N-1+32],Q=b[N-1+64],te=b[N-1+96];b[N+0+0]=M+V+1>>1,b[N+2+0]=b[N+0+32]=V+Q+1>>1,b[N+2+32]=b[N+0+64]=Q+te+1>>1,b[N+1+0]=hr(M,V,Q),b[N+3+0]=b[N+1+32]=hr(V,Q,te),b[N+3+32]=b[N+1+64]=hr(Q,te,te),b[N+3+64]=b[N+2+64]=b[N+0+96]=b[N+1+96]=b[N+2+96]=b[N+3+96]=te}function Fc(b,N){var M=b[N-1+0],V=b[N-1+32],Q=b[N-1+64],te=b[N-1+96],ne=b[N-1-32],ie=b[N+0-32],fe=b[N+1-32],ye=b[N+2-32];b[N+0+0]=b[N+2+32]=M+ne+1>>1,b[N+0+32]=b[N+2+64]=V+M+1>>1,b[N+0+64]=b[N+2+96]=Q+V+1>>1,b[N+0+96]=te+Q+1>>1,b[N+3+0]=hr(ie,fe,ye),b[N+2+0]=hr(ne,ie,fe),b[N+1+0]=b[N+3+32]=hr(M,ne,ie),b[N+1+32]=b[N+3+64]=hr(V,M,ne),b[N+1+64]=b[N+3+96]=hr(Q,V,M),b[N+1+96]=hr(te,Q,V)}function Zd(b,N){var M;for(M=0;8>M;++M)n(b,N+32*M,b,N-32,8)}function nl(b,N){var M;for(M=0;8>M;++M)a(b,N,b[N-1],8),N+=32}function Wl(b,N,M){var V;for(V=0;8>V;++V)a(N,M+32*V,b,8)}function Nf(b,N){var M,V=8;for(M=0;8>M;++M)V+=b[N+M-32]+b[N-1+32*M];Wl(V>>4,b,N)}function Q0(b,N){var M,V=4;for(M=0;8>M;++M)V+=b[N+M-32];Wl(V>>3,b,N)}function Dn(b,N){var M,V=4;for(M=0;8>M;++M)V+=b[N-1+32*M];Wl(V>>3,b,N)}function J0(b,N){Wl(128,b,N)}function Cf(b,N,M){var V=b[N-M],Q=b[N+0],te=3*(Q-V)+eN[1020+b[N-2*M]-b[N+M]],ne=jb[112+(te+4>>3)];b[N-M]=ll[255+V+jb[112+(te+3>>3)]],b[N+0]=ll[255+Q-ne]}function ku(b,N,M,V){var Q=b[N+0],te=b[N+M];return Gl[255+b[N-2*M]-b[N-M]]>V||Gl[255+te-Q]>V}function eh(b,N,M,V){return 4*Gl[255+b[N-M]-b[N+0]]+Gl[255+b[N-2*M]-b[N+M]]<=V}function Pf(b,N,M,V,Q){var te=b[N-3*M],ne=b[N-2*M],ie=b[N-M],fe=b[N+0],ye=b[N+M],Te=b[N+2*M],Ue=b[N+3*M];return 4*Gl[255+ie-fe]+Gl[255+ne-ye]>V?0:Gl[255+b[N-4*M]-te]<=Q&&Gl[255+te-ne]<=Q&&Gl[255+ne-ie]<=Q&&Gl[255+Ue-Te]<=Q&&Gl[255+Te-ye]<=Q&&Gl[255+ye-fe]<=Q}function Nu(b,N,M,V){var Q=2*V+1;for(V=0;16>V;++V)eh(b,N+V,M,Q)&&Cf(b,N+V,M)}function Cu(b,N,M,V){var Q=2*V+1;for(V=0;16>V;++V)eh(b,N+V*M,1,Q)&&Cf(b,N+V*M,1)}function Io(b,N,M,V){var Q;for(Q=3;0<Q;--Q)Nu(b,N+=4*M,M,V)}function Z0(b,N,M,V){var Q;for(Q=3;0<Q;--Q)Cu(b,N+=4,M,V)}function Bc(b,N,M,V,Q,te,ne,ie){for(te=2*te+1;0<Q--;){if(Pf(b,N,M,te,ne))if(ku(b,N,M,ie))Cf(b,N,M);else{var fe=b,ye=N,Te=M,Ue=fe[ye-2*Te],xe=fe[ye-Te],Ce=fe[ye+0],je=fe[ye+Te],Ye=fe[ye+2*Te],Be=27*(Je=eN[1020+3*(Ce-xe)+eN[1020+Ue-je]])+63>>7,Qe=18*Je+63>>7,Je=9*Je+63>>7;fe[ye-3*Te]=ll[255+fe[ye-3*Te]+Je],fe[ye-2*Te]=ll[255+Ue+Qe],fe[ye-Te]=ll[255+xe+Be],fe[ye+0]=ll[255+Ce-Be],fe[ye+Te]=ll[255+je-Qe],fe[ye+2*Te]=ll[255+Ye-Je]}N+=V}}function oo(b,N,M,V,Q,te,ne,ie){for(te=2*te+1;0<Q--;){if(Pf(b,N,M,te,ne))if(ku(b,N,M,ie))Cf(b,N,M);else{var fe=b,ye=N,Te=M,Ue=fe[ye-Te],xe=fe[ye+0],Ce=fe[ye+Te],je=jb[112+(4+(Ye=3*(xe-Ue))>>3)],Ye=jb[112+(Ye+3>>3)],Be=je+1>>1;fe[ye-2*Te]=ll[255+fe[ye-2*Te]+Be],fe[ye-Te]=ll[255+Ue+Ye],fe[ye+0]=ll[255+xe-je],fe[ye+Te]=ll[255+Ce-Be]}N+=V}}function ep(b,N,M,V,Q,te){Bc(b,N,M,1,16,V,Q,te)}function th(b,N,M,V,Q,te){Bc(b,N,1,M,16,V,Q,te)}function Hl(b,N,M,V,Q,te){var ne;for(ne=3;0<ne;--ne)oo(b,N+=4*M,M,1,16,V,Q,te)}function tp(b,N,M,V,Q,te){var ne;for(ne=3;0<ne;--ne)oo(b,N+=4,1,M,16,V,Q,te)}function L(b,N,M,V,Q,te,ne,ie){Bc(b,N,Q,1,8,te,ne,ie),Bc(M,V,Q,1,8,te,ne,ie)}function X(b,N,M,V,Q,te,ne,ie){Bc(b,N,1,Q,8,te,ne,ie),Bc(M,V,1,Q,8,te,ne,ie)}function ve(b,N,M,V,Q,te,ne,ie){oo(b,N+4*Q,Q,1,8,te,ne,ie),oo(M,V+4*Q,Q,1,8,te,ne,ie)}function Se(b,N,M,V,Q,te,ne,ie){oo(b,N+4,1,Q,8,te,ne,ie),oo(M,V+4,1,Q,8,te,ne,ie)}function Ie(){this.ba=new Kr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ar,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ot(){this.ua=0,this.Wa=new $e,this.vb=new $e,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new D}function zt(){this.xb=this.a=0,this.l=new Nr,this.ca=new Kr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ot,this.ab=0,this.gc=s(4,nt),this.Oc=0}function sr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Nr,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function vr(b,N,M,V,Q,te,ne){for(b=b==null?0:b[N+0],N=0;N<ne;++N)Q[te+N]=b+M[V+N]&255,b=Q[te+N]}function Jr(b,N,M,V,Q,te,ne){var ie;if(b==null)vr(null,null,M,V,Q,te,ne);else for(ie=0;ie<ne;++ie)Q[te+ie]=b[N+ie]+M[V+ie]&255}function dn(b,N,M,V,Q,te,ne){if(b==null)vr(null,null,M,V,Q,te,ne);else{var ie,fe=b[N+0],ye=fe,Te=fe;for(ie=0;ie<ne;++ie)ye=Te+(fe=b[N+ie])-ye,Te=M[V+ie]+(-256&ye?0>ye?0:255:ye)&255,ye=fe,Q[te+ie]=Te}}function Sa(b,N,M,V){var Q=N.width,te=N.o;if(t(b!=null&&N!=null),0>M||0>=V||M+V>te)return null;if(!b.Cc){if(b.ga==null){var ne;if(b.ga=new sr,(ne=b.ga==null)||(ne=N.width*N.o,t(b.Gb.length==0),b.Gb=i(ne),b.Uc=0,b.Gb==null?ne=0:(b.mb=b.Gb,b.nb=b.Uc,b.rc=null,ne=1),ne=!ne),!ne){ne=b.ga;var ie=b.Fa,fe=b.P,ye=b.qc,Te=b.mb,Ue=b.nb,xe=fe+1,Ce=ye-1,je=ne.l;if(t(ie!=null&&Te!=null&&N!=null),uh[0]=null,uh[1]=vr,uh[2]=Jr,uh[3]=dn,ne.ca=Te,ne.tb=Ue,ne.c=N.width,ne.i=N.height,t(0<ne.c&&0<ne.i),1>=ye)N=0;else if(ne.$a=3&ie[fe+0],ne.Z=ie[fe+0]>>2&3,ne.Lc=ie[fe+0]>>4&3,fe=ie[fe+0]>>6&3,0>ne.$a||1<ne.$a||4<=ne.Z||1<ne.Lc||fe)N=0;else if(je.put=Yt,je.ac=hi,je.bc=yn,je.ma=ne,je.width=N.width,je.height=N.height,je.Da=N.Da,je.v=N.v,je.va=N.va,je.j=N.j,je.o=N.o,ne.$a)e:{t(ne.$a==1),N=Re();t:for(;;){if(N==null){N=0;break e}if(t(ne!=null),ne.mc=N,N.c=ne.c,N.i=ne.i,N.l=ne.l,N.l.ma=ne,N.l.width=ne.c,N.l.height=ne.i,N.a=0,q(N.m,ie,xe,Ce),!Le(ne.c,ne.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&de(N.s)?(ne.ic=1,ie=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(ie),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(ne.ic=0,N=Fe(N,ne.c)),!N))break t;N=1;break e}ne.mc=null,N=0}else N=Ce>=ne.c*ne.i;ne=!N}if(ne)return null;b.ga.Lc!=1?b.Ga=0:V=te-M}t(b.ga!=null),t(M+V<=te);e:{if(N=(ie=b.ga).c,te=ie.l.o,ie.$a==0){if(xe=b.rc,Ce=b.Vc,je=b.Fa,fe=b.P+1+M*N,ye=b.mb,Te=b.nb+M*N,t(fe<=b.P+b.qc),ie.Z!=0)for(t(uh[ie.Z]!=null),ne=0;ne<V;++ne)uh[ie.Z](xe,Ce,je,fe,ye,Te,N),xe=ye,Ce=Te,Te+=N,fe+=N;else for(ne=0;ne<V;++ne)n(ye,Te,je,fe,N),xe=ye,Ce=Te,Te+=N,fe+=N;b.rc=xe,b.Vc=Ce}else{if(t(ie.mc!=null),N=M+V,t((ne=ie.mc)!=null),t(N<=ne.i),ne.C>=N)N=1;else if(ie.ic||zn(),ie.ic){ie=ne.V,xe=ne.Ba,Ce=ne.c;var Ye=ne.i,Be=(je=1,fe=ne.$/Ce,ye=ne.$%Ce,Te=ne.m,Ue=ne.s,ne.$),Qe=Ce*Ye,Je=Ce*N,ct=Ue.wc,st=Be<Je?J(Ue,ye,fe):null;t(Be<=Qe),t(N<=Ye),t(de(Ue));t:for(;;){for(;!Te.h&&Be<Je;){if(ye&ct||(st=J(Ue,ye,fe)),t(st!=null),le(Te),256>(Ye=On(st.G[0],st.H[0],Te)))ie[xe+Be]=Ye,++Be,++ye>=Ce&&(ye=0,++fe<=N&&!(fe%16)&&we(ne,fe));else{if(!(280>Ye)){je=0;break t}Ye=da(Ye-256,Te);var Xt,Rt=On(st.G[4],st.H[4],Te);if(le(Te),!(Be>=(Rt=Ra(Ce,Rt=da(Rt,Te)))&&Qe-Be>=Ye)){je=0;break t}for(Xt=0;Xt<Ye;++Xt)ie[xe+Be+Xt]=ie[xe+Be+Xt-Rt];for(Be+=Ye,ye+=Ye;ye>=Ce;)ye-=Ce,++fe<=N&&!(fe%16)&&we(ne,fe);Be<Je&&ye&ct&&(st=J(Ue,ye,fe))}t(Te.h==W(Te))}we(ne,fe>N?N:fe);break t}!je||Te.h&&Be<Qe?(je=0,ne.a=Te.h?5:3):ne.$=Be,N=je}else N=De(ne,ne.V,ne.Ba,ne.c,ne.i,N,ce);if(!N){V=0;break e}}M+V>=te&&(b.Cc=1),V=1}if(!V)return null;if(b.Cc&&((V=b.ga)!=null&&(V.mc=null),b.ga=null,0<b.Ga))return alert("todo:WebPDequantizeLevels"),null}return b.nb+M*Q}function bn(b,N,M,V,Q,te){for(;0<Q--;){var ne,ie=b,fe=N+(M?1:0),ye=b,Te=N+(M?0:3);for(ne=0;ne<V;++ne){var Ue=ye[Te+4*ne];Ue!=255&&(Ue*=32897,ie[fe+4*ne+0]=ie[fe+4*ne+0]*Ue>>23,ie[fe+4*ne+1]=ie[fe+4*ne+1]*Ue>>23,ie[fe+4*ne+2]=ie[fe+4*ne+2]*Ue>>23)}N+=te}}function La(b,N,M,V,Q){for(;0<V--;){var te;for(te=0;te<M;++te){var ne=b[N+2*te+0],ie=15&(ye=b[N+2*te+1]),fe=4369*ie,ye=(240&ye|ye>>4)*fe>>16;b[N+2*te+0]=(240&ne|ne>>4)*fe>>16&240|(15&ne|ne<<4)*fe>>16>>4&15,b[N+2*te+1]=240&ye|ie}N+=Q}}function Ea(b,N,M,V,Q,te,ne,ie){var fe,ye,Te=255;for(ye=0;ye<Q;++ye){for(fe=0;fe<V;++fe){var Ue=b[N+fe];te[ne+4*fe]=Ue,Te&=Ue}N+=M,ne+=ie}return Te!=255}function Ma(b,N,M,V,Q){var te;for(te=0;te<Q;++te)M[V+te]=b[N+te]>>8}function zn(){py=bn,s8=La,o8=Ea,l8=Ma}function os(b,N,M){k[b]=function(V,Q,te,ne,ie,fe,ye,Te,Ue,xe,Ce,je,Ye,Be,Qe,Je,ct){var st,Xt=ct-1>>1,Rt=ie[fe+0]|ye[Te+0]<<16,Cr=Ue[xe+0]|Ce[je+0]<<16;t(V!=null);var Ht=3*Rt+Cr+131074>>2;for(N(V[Q+0],255&Ht,Ht>>16,Ye,Be),te!=null&&(Ht=3*Cr+Rt+131074>>2,N(te[ne+0],255&Ht,Ht>>16,Qe,Je)),st=1;st<=Xt;++st){var Xr=ie[fe+st]|ye[Te+st]<<16,Ci=Ue[xe+st]|Ce[je+st]<<16,Pr=Rt+Xr+Cr+Ci+524296,qt=Pr+2*(Xr+Cr)>>3;Ht=qt+Rt>>1,Rt=(Pr=Pr+2*(Rt+Ci)>>3)+Xr>>1,N(V[Q+2*st-1],255&Ht,Ht>>16,Ye,Be+(2*st-1)*M),N(V[Q+2*st-0],255&Rt,Rt>>16,Ye,Be+(2*st-0)*M),te!=null&&(Ht=Pr+Cr>>1,Rt=qt+Ci>>1,N(te[ne+2*st-1],255&Ht,Ht>>16,Qe,Je+(2*st-1)*M),N(te[ne+2*st+0],255&Rt,Rt>>16,Qe,Je+(2*st+0)*M)),Rt=Xr,Cr=Ci}1&ct||(Ht=3*Rt+Cr+131074>>2,N(V[Q+ct-1],255&Ht,Ht>>16,Ye,Be+(ct-1)*M),te!=null&&(Ht=3*Cr+Rt+131074>>2,N(te[ne+ct-1],255&Ht,Ht>>16,Qe,Je+(ct-1)*M)))}}function rp(){Kl[Rb]=pfe,Kl[Lb]=x8,Kl[p8]=mfe,Kl[Mb]=w8,Kl[Fb]=b8,Kl[tN]=_8,Kl[m8]=gfe,Kl[rN]=x8,Kl[nN]=w8,Kl[Bb]=b8,Kl[aN]=_8}function al(b){return b&-16384?0>b?0:255:b>>vfe}function _(b,N){return al((19077*b>>8)+(26149*N>>8)-14234)}function F(b,N,M){return al((19077*b>>8)-(6419*N>>8)-(13320*M>>8)+8708)}function H(b,N){return al((19077*b>>8)+(33050*N>>8)-17685)}function se(b,N,M,V,Q){V[Q+0]=_(b,M),V[Q+1]=F(b,N,M),V[Q+2]=H(b,N)}function Oe(b,N,M,V,Q){V[Q+0]=H(b,N),V[Q+1]=F(b,N,M),V[Q+2]=_(b,M)}function We(b,N,M,V,Q){var te=F(b,N,M);N=te<<3&224|H(b,N)>>3,V[Q+0]=248&_(b,M)|te>>5,V[Q+1]=N}function mt(b,N,M,V,Q){var te=240&H(b,N)|15;V[Q+0]=240&_(b,M)|F(b,N,M)>>4,V[Q+1]=te}function Yr(b,N,M,V,Q){V[Q+0]=255,se(b,N,M,V,Q+1)}function Aa(b,N,M,V,Q){Oe(b,N,M,V,Q),V[Q+3]=255}function Mr(b,N,M,V,Q){se(b,N,M,V,Q),V[Q+3]=255}function Dr(b,N){return 0>b?0:b>N?N:b}function Wn(b,N,M){k[b]=function(V,Q,te,ne,ie,fe,ye,Te,Ue){for(var xe=Te+(-2&Ue)*M;Te!=xe;)N(V[Q+0],te[ne+0],ie[fe+0],ye,Te),N(V[Q+1],te[ne+0],ie[fe+0],ye,Te+M),Q+=2,++ne,++fe,Te+=2*M;1&Ue&&N(V[Q+0],te[ne+0],ie[fe+0],ye,Te)}}function il(b,N,M){return M==0?b==0?N==0?6:5:N==0?4:0:M}function ks(b,N,M,V,Q){switch(b>>>30){case 3:ip(N,M,V,Q,0);break;case 2:ql(N,M,V,Q);break;case 1:pn(N,M,V,Q)}}function ls(b,N){var M,V,Q=N.M,te=N.Nb,ne=b.oc,ie=b.pc+40,fe=b.oc,ye=b.pc+584,Te=b.oc,Ue=b.pc+600;for(M=0;16>M;++M)ne[ie+32*M-1]=129;for(M=0;8>M;++M)fe[ye+32*M-1]=129,Te[Ue+32*M-1]=129;for(0<Q?ne[ie-1-32]=fe[ye-1-32]=Te[Ue-1-32]=129:(a(ne,ie-32-1,127,21),a(fe,ye-32-1,127,9),a(Te,Ue-32-1,127,9)),V=0;V<b.za;++V){var xe=N.ya[N.aa+V];if(0<V){for(M=-1;16>M;++M)n(ne,ie+32*M-4,ne,ie+32*M+12,4);for(M=-1;8>M;++M)n(fe,ye+32*M-4,fe,ye+32*M+4,4),n(Te,Ue+32*M-4,Te,Ue+32*M+4,4)}var Ce=b.Gd,je=b.Hd+V,Ye=xe.ad,Be=xe.Hc;if(0<Q&&(n(ne,ie-32,Ce[je].y,0,16),n(fe,ye-32,Ce[je].f,0,8),n(Te,Ue-32,Ce[je].ea,0,8)),xe.Za){var Qe=ne,Je=ie-32+16;for(0<Q&&(V>=b.za-1?a(Qe,Je,Ce[je].y[15],4):n(Qe,Je,Ce[je+1].y,0,4)),M=0;4>M;M++)Qe[Je+128+M]=Qe[Je+256+M]=Qe[Je+384+M]=Qe[Je+0+M];for(M=0;16>M;++M,Be<<=2)Qe=ne,Je=ie+E8[M],Uc[xe.Ob[M]](Qe,Je),ks(Be,Ye,16*+M,Qe,Je)}else if(Qe=il(V,Q,xe.Ob[0]),ch[Qe](ne,ie),Be!=0)for(M=0;16>M;++M,Be<<=2)ks(Be,Ye,16*+M,ne,ie+E8[M]);for(M=xe.Gc,Qe=il(V,Q,xe.Dd),Df[Qe](fe,ye),Df[Qe](Te,Ue),Be=Ye,Qe=fe,Je=ye,255&(xe=0|M)&&(170&xe?Ou(Be,256,Qe,Je):Mn(Be,256,Qe,Je)),xe=Te,Be=Ue,255&(M>>=8)&&(170&M?Ou(Ye,320,xe,Be):Mn(Ye,320,xe,Be)),Q<b.Ub-1&&(n(Ce[je].y,0,ne,ie+480,16),n(Ce[je].f,0,fe,ye+224,8),n(Ce[je].ea,0,Te,Ue+224,8)),M=8*te*b.B,Ce=b.sa,je=b.ta+16*V+16*te*b.R,Ye=b.qa,xe=b.ra+8*V+M,Be=b.Ha,Qe=b.Ia+8*V+M,M=0;16>M;++M)n(Ce,je+M*b.R,ne,ie+32*M,16);for(M=0;8>M;++M)n(Ye,xe+M*b.B,fe,ye+32*M,8),n(Be,Qe+M*b.B,Te,Ue+32*M,8)}}function $c(b,N,M,V,Q,te,ne,ie,fe){var ye=[0],Te=[0],Ue=0,xe=fe!=null?fe.kd:0,Ce=fe??new Xe;if(b==null||12>M)return 7;Ce.data=b,Ce.w=N,Ce.ha=M,N=[N],M=[M],Ce.gb=[Ce.gb];e:{var je=N,Ye=M,Be=Ce.gb;if(t(b!=null),t(Ye!=null),t(Be!=null),Be[0]=0,12<=Ye[0]&&!r(b,je[0],"RIFF")){if(r(b,je[0]+8,"WEBP")){Be=3;break e}var Qe=Ae(b,je[0]+4);if(12>Qe||4294967286<Qe){Be=3;break e}if(xe&&Qe>Ye[0]-8){Be=7;break e}Be[0]=Qe,je[0]+=12,Ye[0]-=12}Be=0}if(Be!=0)return Be;for(Qe=0<Ce.gb[0],M=M[0];;){e:{var Je=b;Ye=N,Be=M;var ct=ye,st=Te,Xt=je=[0];if((Ht=Ue=[Ue])[0]=0,8>Be[0])Be=7;else{if(!r(Je,Ye[0],"VP8X")){if(Ae(Je,Ye[0]+4)!=10){Be=3;break e}if(18>Be[0]){Be=7;break e}var Rt=Ae(Je,Ye[0]+8),Cr=1+qe(Je,Ye[0]+12);if(2147483648<=Cr*(Je=1+qe(Je,Ye[0]+15))){Be=3;break e}Xt!=null&&(Xt[0]=Rt),ct!=null&&(ct[0]=Cr),st!=null&&(st[0]=Je),Ye[0]+=18,Be[0]-=18,Ht[0]=1}Be=0}}if(Ue=Ue[0],je=je[0],Be!=0)return Be;if(Ye=!!(2&je),!Qe&&Ue)return 3;if(te!=null&&(te[0]=!!(16&je)),ne!=null&&(ne[0]=Ye),ie!=null&&(ie[0]=0),ne=ye[0],je=Te[0],Ue&&Ye&&fe==null){Be=0;break}if(4>M){Be=7;break}if(Qe&&Ue||!Qe&&!Ue&&!r(b,N[0],"ALPH")){M=[M],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{Rt=b,Be=N,Qe=M;var Ht=Ce.gb;ct=Ce.na,st=Ce.P,Xt=Ce.Sa,Cr=22,t(Rt!=null),t(Qe!=null),Je=Be[0];var Xr=Qe[0];for(t(ct!=null),t(Xt!=null),ct[0]=null,st[0]=null,Xt[0]=0;;){if(Be[0]=Je,Qe[0]=Xr,8>Xr){Be=7;break e}var Ci=Ae(Rt,Je+4);if(4294967286<Ci){Be=3;break e}var Pr=8+Ci+1&-2;if(Cr+=Pr,0<Ht&&Cr>Ht){Be=3;break e}if(!r(Rt,Je,"VP8 ")||!r(Rt,Je,"VP8L")){Be=0;break e}if(Xr[0]<Pr){Be=7;break e}r(Rt,Je,"ALPH")||(ct[0]=Rt,st[0]=Je+8,Xt[0]=Ci),Je+=Pr,Xr-=Pr}}if(M=M[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],Be!=0)break}M=[M],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(Ht=b,Be=N,Qe=M,ct=Ce.gb[0],st=Ce.Ja,Xt=Ce.xa,Rt=Be[0],Je=!r(Ht,Rt,"VP8 "),Cr=!r(Ht,Rt,"VP8L"),t(Ht!=null),t(Qe!=null),t(st!=null),t(Xt!=null),8>Qe[0])Be=7;else{if(Je||Cr){if(Ht=Ae(Ht,Rt+4),12<=ct&&Ht>ct-12){Be=3;break e}if(xe&&Ht>Qe[0]-8){Be=7;break e}st[0]=Ht,Be[0]+=8,Qe[0]-=8,Xt[0]=Cr}else Xt[0]=5<=Qe[0]&&Ht[Rt+0]==47&&!(Ht[Rt+4]>>5),st[0]=Qe[0];Be=0}if(M=M[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],N=N[0],Be!=0)break;if(4294967286<Ce.Ja)return 3;if(ie==null||Ye||(ie[0]=Ce.xa?2:1),ne=[ne],je=[je],Ce.xa){if(5>M){Be=7;break}ie=ne,xe=je,Ye=te,b==null||5>M?b=0:5<=M&&b[N+0]==47&&!(b[N+4]>>5)?(Qe=[0],Ht=[0],ct=[0],q(st=new U,b,N,M),pi(st,Qe,Ht,ct)?(ie!=null&&(ie[0]=Qe[0]),xe!=null&&(xe[0]=Ht[0]),Ye!=null&&(Ye[0]=ct[0]),b=1):b=0):b=0}else{if(10>M){Be=7;break}ie=je,b==null||10>M||!Rc(b,N+3,M-3)?b=0:(xe=b[N+0]|b[N+1]<<8|b[N+2]<<16,Ye=16383&(b[N+7]<<8|b[N+6]),b=16383&(b[N+9]<<8|b[N+8]),1&xe||3<(xe>>1&7)||!(xe>>4&1)||xe>>5>=Ce.Ja||!Ye||!b?b=0:(ne&&(ne[0]=Ye),ie&&(ie[0]=b),b=1))}if(!b||(ne=ne[0],je=je[0],Ue&&(ye[0]!=ne||Te[0]!=je)))return 3;fe!=null&&(fe[0]=Ce,fe.offset=N-fe.w,t(4294967286>N-fe.w),t(fe.offset==fe.ha-M));break}return Be==0||Be==7&&Ue&&fe==null?(te!=null&&(te[0]|=Ce.na!=null&&0<Ce.na.length),V!=null&&(V[0]=ne),Q!=null&&(Q[0]=je),0):Be}function sy(b,N,M){var V=N.width,Q=N.height,te=0,ne=0,ie=V,fe=Q;if(N.Da=b!=null&&0<b.Da,N.Da&&(ie=b.cd,fe=b.bd,te=b.v,ne=b.j,11>M||(te&=-2,ne&=-2),0>te||0>ne||0>=ie||0>=fe||te+ie>V||ne+fe>Q))return 0;if(N.v=te,N.j=ne,N.va=te+ie,N.o=ne+fe,N.U=ie,N.T=fe,N.da=b!=null&&0<b.da,N.da){if(!pt(ie,fe,M=[b.ib],te=[b.hb]))return 0;N.ib=M[0],N.hb=te[0]}return N.ob=b!=null&&b.ob,N.Kb=b==null||!b.Sd,N.da&&(N.ob=N.ib<3*V/4&&N.hb<3*Q/4,N.Kb=0),1}function oy(b){if(b==null)return 2;if(11>b.S){var N=b.f.RGBA;N.fb+=(b.height-1)*N.A,N.A=-N.A}else N=b.f.kb,b=b.height,N.O+=(b-1)*N.fa,N.fa=-N.fa,N.N+=(b-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(b-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(b-1)*N.lb,N.lb=-N.lb);return 0}function rh(b,N,M,V){if(V==null||0>=b||0>=N)return 2;if(M!=null){if(M.Da){var Q=M.cd,te=M.bd,ne=-2&M.v,ie=-2&M.j;if(0>ne||0>ie||0>=Q||0>=te||ne+Q>b||ie+te>N)return 2;b=Q,N=te}if(M.da){if(!pt(b,N,Q=[M.ib],te=[M.hb]))return 2;b=Q[0],N=te[0]}}V.width=b,V.height=N;e:{var fe=V.width,ye=V.height;if(b=V.S,0>=fe||0>=ye||!(b>=Rb&&13>b))b=2;else{if(0>=V.Rd&&V.sd==null){ne=te=Q=N=0;var Te=(ie=fe*A8[b])*ye;if(11>b||(te=(ye+1)/2*(N=(fe+1)/2),b==12&&(ne=(Q=fe)*ye)),(ye=i(Te+2*te+ne))==null){b=1;break e}V.sd=ye,11>b?((fe=V.f.RGBA).eb=ye,fe.fb=0,fe.A=ie,fe.size=Te):((fe=V.f.kb).y=ye,fe.O=0,fe.fa=ie,fe.Fd=Te,fe.f=ye,fe.N=0+Te,fe.Ab=N,fe.Cd=te,fe.ea=ye,fe.W=0+Te+te,fe.Db=N,fe.Ed=te,b==12&&(fe.F=ye,fe.J=0+Te+2*te),fe.Tc=ne,fe.lb=Q)}if(N=1,Q=V.S,te=V.width,ne=V.height,Q>=Rb&&13>Q)if(11>Q)b=V.f.RGBA,N&=(ie=Math.abs(b.A))*(ne-1)+te<=b.size,N&=ie>=te*A8[Q],N&=b.eb!=null;else{b=V.f.kb,ie=(te+1)/2,Te=(ne+1)/2,fe=Math.abs(b.fa),ye=Math.abs(b.Ab);var Ue=Math.abs(b.Db),xe=Math.abs(b.lb),Ce=xe*(ne-1)+te;N&=fe*(ne-1)+te<=b.Fd,N&=ye*(Te-1)+ie<=b.Cd,N=(N&=Ue*(Te-1)+ie<=b.Ed)&fe>=te&ye>=ie&Ue>=ie,N&=b.y!=null,N&=b.f!=null,N&=b.ea!=null,Q==12&&(N&=xe>=te,N&=Ce<=b.Tc,N&=b.F!=null)}else N=0;b=N?0:2}}return b!=0||M!=null&&M.fd&&(b=oy(V)),b}var np=64,sl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ol=24,nh=32,If=8,ah=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];dt("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(b){return b},k.Predictor2=function(b,N,M){return N[M+0]},k.Predictor3=function(b,N,M){return N[M+1]},k.Predictor4=function(b,N,M){return N[M-1]},k.Predictor5=function(b,N,M){return St(St(b,N[M+1]),N[M+0])},k.Predictor6=function(b,N,M){return St(b,N[M-1])},k.Predictor7=function(b,N,M){return St(b,N[M+0])},k.Predictor8=function(b,N,M){return St(N[M-1],N[M+0])},k.Predictor9=function(b,N,M){return St(N[M+0],N[M+1])},k.Predictor10=function(b,N,M){return St(St(b,N[M-1]),St(N[M+0],N[M+1]))},k.Predictor11=function(b,N,M){var V=N[M+0];return 0>=At(V>>24&255,b>>24&255,(N=N[M-1])>>24&255)+At(V>>16&255,b>>16&255,N>>16&255)+At(V>>8&255,b>>8&255,N>>8&255)+At(255&V,255&b,255&N)?V:b},k.Predictor12=function(b,N,M){var V=N[M+0];return(Kt((b>>24&255)+(V>>24&255)-((N=N[M-1])>>24&255))<<24|Kt((b>>16&255)+(V>>16&255)-(N>>16&255))<<16|Kt((b>>8&255)+(V>>8&255)-(N>>8&255))<<8|Kt((255&b)+(255&V)-(255&N)))>>>0},k.Predictor13=function(b,N,M){var V=N[M-1];return(vt((b=St(b,N[M+0]))>>24&255,V>>24&255)<<24|vt(b>>16&255,V>>16&255)<<16|vt(b>>8&255,V>>8&255)<<8|vt(255&b,255&V))>>>0};var ly=k.PredictorAdd0;k.PredictorAdd1=nr,dt("Predictor2","PredictorAdd2"),dt("Predictor3","PredictorAdd3"),dt("Predictor4","PredictorAdd4"),dt("Predictor5","PredictorAdd5"),dt("Predictor6","PredictorAdd6"),dt("Predictor7","PredictorAdd7"),dt("Predictor8","PredictorAdd8"),dt("Predictor9","PredictorAdd9"),dt("Predictor10","PredictorAdd10"),dt("Predictor11","PredictorAdd11"),dt("Predictor12","PredictorAdd12"),dt("Predictor13","PredictorAdd13");var ag=k.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(b){return b>>8&255},function(b){return b}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(b){return b},function(b){return b>>8&255});var Qa,Ob=k.ColorIndexInverseTransform,Pu=k.MapARGB,Iu=k.VP8LColorIndexInverseTransformAlpha,cy=k.MapAlpha,uy=k.VP8LPredictorsAdd=[];uy.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var fy,dy,ih,sh,oh,ap,lh,ip,ql,Ou,pn,Mn,Ja,Ni,Of,hy,ig,Db,e8,t8,r8,n8,a8,i8,py,s8,o8,l8,c8=i(511),u8=i(2041),f8=i(225),d8=i(767),h8=0,eN=u8,jb=f8,ll=d8,Gl=c8,Rb=0,Lb=1,p8=2,Mb=3,Fb=4,tN=5,m8=6,rN=7,nN=8,Bb=9,aN=10,efe=[2,3,7],tfe=[3,3,11],g8=[280,256,256,256,40],rfe=[0,1,1,1,0],nfe=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],afe=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ife=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],sfe=8,iN=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],sN=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],my=null,ofe=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],lfe=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],v8=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],cfe=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ufe=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ffe=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dfe=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ch=[],Uc=[],Df=[],hfe=1,y8=2,uh=[],Kl=[];os("UpsampleRgbLinePair",se,3),os("UpsampleBgrLinePair",Oe,3),os("UpsampleRgbaLinePair",Mr,4),os("UpsampleBgraLinePair",Aa,4),os("UpsampleArgbLinePair",Yr,4),os("UpsampleRgba4444LinePair",mt,2),os("UpsampleRgb565LinePair",We,2);var pfe=k.UpsampleRgbLinePair,mfe=k.UpsampleBgrLinePair,x8=k.UpsampleRgbaLinePair,w8=k.UpsampleBgraLinePair,b8=k.UpsampleArgbLinePair,_8=k.UpsampleRgba4444LinePair,gfe=k.UpsampleRgb565LinePair,$b=16,Ub=1<<$b-1,gy=-227,oN=482,vfe=6,S8=0,yfe=i(256),xfe=i(256),wfe=i(256),bfe=i(256),_fe=i(oN-gy),Sfe=i(oN-gy);Wn("YuvToRgbRow",se,3),Wn("YuvToBgrRow",Oe,3),Wn("YuvToRgbaRow",Mr,4),Wn("YuvToBgraRow",Aa,4),Wn("YuvToArgbRow",Yr,4),Wn("YuvToRgba4444Row",mt,2),Wn("YuvToRgb565Row",We,2);var E8=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Vb=[0,2,8],Efe=[8,7,6,4,4,2,2,2,1,1,1,1],Afe=1;this.WebPDecodeRGBA=function(b,N,M,V,Q){var te=Lb,ne=new Ie,ie=new Kr;ne.ba=ie,ie.S=te,ie.width=[ie.width],ie.height=[ie.height];var fe=ie.width,ye=ie.height,Te=new Jt;if(Te==null||b==null)var Ue=2;else t(Te!=null),Ue=$c(b,N,M,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if(Ue!=0?fe=0:(fe!=null&&(fe[0]=Te.width[0]),ye!=null&&(ye[0]=Te.height[0]),fe=1),fe){ie.width=ie.width[0],ie.height=ie.height[0],V!=null&&(V[0]=ie.width),Q!=null&&(Q[0]=ie.height);e:{if(V=new Nr,(Q=new Xe).data=b,Q.w=N,Q.ha=M,Q.kd=1,N=[0],t(Q!=null),((b=$c(Q.data,Q.w,Q.ha,null,null,null,N,null,Q))==0||b==7)&&N[0]&&(b=4),(N=b)==0){if(t(ne!=null),V.data=Q.data,V.w=Q.w+Q.offset,V.ha=Q.ha-Q.offset,V.put=Yt,V.ac=hi,V.bc=yn,V.ma=ne,Q.xa){if((b=Re())==null){ne=1;break e}if(function(xe,Ce){var je=[0],Ye=[0],Be=[0];t:for(;;){if(xe==null)return 0;if(Ce==null)return xe.a=2,0;if(xe.l=Ce,xe.a=0,q(xe.m,Ce.data,Ce.w,Ce.ha),!pi(xe.m,je,Ye,Be)){xe.a=3;break t}if(xe.xb=y8,Ce.width=je[0],Ce.height=Ye[0],!Le(je[0],Ye[0],1,xe,null))break t;return 1}return t(xe.a!=0),0}(b,V)){if(V=(N=rh(V.width,V.height,ne.Oa,ne.ba))==0){t:{V=b;r:for(;;){if(V==null){V=0;break t}if(t(V.s.yc!=null),t(V.s.Ya!=null),t(0<V.s.Wb),t((M=V.l)!=null),t((Q=M.ma)!=null),V.xb!=0){if(V.ca=Q.ba,V.tb=Q.tb,t(V.ca!=null),!sy(Q.Oa,M,Mb)){V.a=2;break r}if(!Fe(V,M.width)||M.da)break r;if((M.da||ar(V.ca.S))&&zn(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&zn()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!ue(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!De(V,V.V,V.Ba,V.c,V.i,M.o,oe))break r;Q.Dc=V.Ma,V=1;break t}t(V.a!=0),V=0}V=!V}V&&(N=b.a)}else N=b.a}else{if((b=new _a)==null){ne=1;break e}if(b.Fa=Q.na,b.P=Q.P,b.qc=Q.Sa,Lc(b,V)){if((N=rh(V.width,V.height,ne.Oa,ne.ba))==0){if(b.Aa=0,M=ne.Oa,t((Q=b)!=null),M!=null){if(0<(fe=0>(fe=M.Md)?0:100<fe?255:255*fe/100)){for(ye=Te=0;4>ye;++ye)12>(Ue=Q.pb[ye]).lc&&(Ue.ia=fe*Efe[0>Ue.lc?0:Ue.lc]>>3),Te|=Ue.ia;Te&&(alert("todo:VP8InitRandom"),Q.ia=1)}Q.Ga=M.Id,100<Q.Ga?Q.Ga=100:0>Q.Ga&&(Q.Ga=0)}(function(xe,Ce){if(xe==null)return 0;if(Ce==null)return xn(xe,2,"NULL VP8Io parameter in VP8Decode().");if(!xe.cb&&!Lc(xe,Ce))return 0;if(t(xe.cb),Ce.ac==null||Ce.ac(Ce)){Ce.ob&&(xe.L=0);var je=Vb[xe.L];if(xe.L==2?(xe.yb=0,xe.zb=0):(xe.yb=Ce.v-je>>4,xe.zb=Ce.j-je>>4,0>xe.yb&&(xe.yb=0),0>xe.zb&&(xe.zb=0)),xe.Va=Ce.o+15+je>>4,xe.Hb=Ce.va+15+je>>4,xe.Hb>xe.za&&(xe.Hb=xe.za),xe.Va>xe.Ub&&(xe.Va=xe.Ub),0<xe.L){var Ye=xe.ed;for(je=0;4>je;++je){var Be;if(xe.Qa.Cb){var Qe=xe.Qa.Lb[je];xe.Qa.Fb||(Qe+=Ye.Tb)}else Qe=Ye.Tb;for(Be=0;1>=Be;++Be){var Je=xe.gd[je][Be],ct=Qe;if(Ye.Pc&&(ct+=Ye.vd[0],Be&&(ct+=Ye.od[0])),0<(ct=0>ct?0:63<ct?63:ct)){var st=ct;0<Ye.wb&&(st=4<Ye.wb?st>>2:st>>1)>9-Ye.wb&&(st=9-Ye.wb),1>st&&(st=1),Je.dd=st,Je.tc=2*ct+st,Je.ld=40<=ct?2:15<=ct?1:0}else Je.tc=0;Je.La=Be}}}je=0}else xn(xe,6,"Frame setup failed"),je=xe.a;if(je=je==0){if(je){xe.$c=0,0<xe.Aa||(xe.Ic=Afe);t:{je=xe.Ic,Ye=4*(st=xe.za);var Xt=32*st,Rt=st+1,Cr=0<xe.L?st*(0<xe.Aa?2:1):0,Ht=(xe.Aa==2?2:1)*st;if((Je=Ye+832+(Be=3*(16*je+Vb[xe.L])/2*Xt)+(Qe=xe.Fa!=null&&0<xe.Fa.length?xe.Kc.c*xe.Kc.i:0))!=Je)je=0;else{if(Je>xe.Vb){if(xe.Vb=0,xe.Ec=i(Je),xe.Fc=0,xe.Ec==null){je=xn(xe,1,"no memory during frame initialization.");break t}xe.Vb=Je}Je=xe.Ec,ct=xe.Fc,xe.Ac=Je,xe.Bc=ct,ct+=Ye,xe.Gd=s(Xt,ir),xe.Hd=0,xe.rb=s(Rt+1,ut),xe.sb=1,xe.wa=Cr?s(Cr,_t):null,xe.Y=0,xe.D.Nb=0,xe.D.wa=xe.wa,xe.D.Y=xe.Y,0<xe.Aa&&(xe.D.Y+=st),t(!0),xe.oc=Je,xe.pc=ct,ct+=832,xe.ya=s(Ht,xr),xe.aa=0,xe.D.ya=xe.ya,xe.D.aa=xe.aa,xe.Aa==2&&(xe.D.aa+=st),xe.R=16*st,xe.B=8*st,st=(Xt=Vb[xe.L])*xe.R,Xt=Xt/2*xe.B,xe.sa=Je,xe.ta=ct+st,xe.qa=xe.sa,xe.ra=xe.ta+16*je*xe.R+Xt,xe.Ha=xe.qa,xe.Ia=xe.ra+8*je*xe.B+Xt,xe.$c=0,ct+=Be,xe.mb=Qe?Je:null,xe.nb=Qe?ct:null,t(ct+Qe<=xe.Fc+xe.Vb),Su(xe),a(xe.Ac,xe.Bc,0,Ye),je=1}}if(je){if(Ce.ka=0,Ce.y=xe.sa,Ce.O=xe.ta,Ce.f=xe.qa,Ce.N=xe.ra,Ce.ea=xe.Ha,Ce.Vd=xe.Ia,Ce.fa=xe.R,Ce.Rc=xe.B,Ce.F=null,Ce.J=0,!h8){for(je=-255;255>=je;++je)c8[255+je]=0>je?-je:je;for(je=-1020;1020>=je;++je)u8[1020+je]=-128>je?-128:127<je?127:je;for(je=-112;112>=je;++je)f8[112+je]=-16>je?-16:15<je?15:je;for(je=-255;510>=je;++je)d8[255+je]=0>je?0:255<je?255:je;h8=1}lh=Eu,ip=Xd,Ou=rg,pn=Vr,Mn=Tf,ql=Yd,Ja=ep,Ni=th,Of=L,hy=X,ig=Hl,Db=tp,e8=ve,t8=Se,r8=Nu,n8=Cu,a8=Io,i8=Z0,Uc[0]=ny,Uc[1]=Y0,Uc[2]=Tu,Uc[3]=ry,Uc[4]=ay,Uc[5]=Mc,Uc[6]=qi,Uc[7]=iy,Uc[8]=Fc,Uc[9]=Jd,ch[0]=Po,ch[1]=ey,ch[2]=ty,ch[3]=X0,ch[4]=zl,ch[5]=Au,ch[6]=Qd,Df[0]=Nf,Df[1]=ng,Df[2]=Zd,Df[3]=nl,Df[4]=Dn,Df[5]=Q0,Df[6]=J0,je=1}else je=0}je&&(je=function(Xr,Ci){for(Xr.M=0;Xr.M<Xr.Va;++Xr.M){var Pr,qt=Xr.Jc[Xr.M&Xr.Xb],Et=Xr.m,Za=Xr;for(Pr=0;Pr<Za.za;++Pr){var Tr=Et,Zr=Za,Jn=Zr.Ac,cs=Zr.Bc+4*Pr,lo=Zr.zc,Fa=Zr.ya[Zr.aa+Pr];if(Zr.Qa.Bb?Fa.$b=pe(Tr,Zr.Pa.jb[0])?2+pe(Tr,Zr.Pa.jb[2]):pe(Tr,Zr.Pa.jb[1]):Fa.$b=0,Zr.kc&&(Fa.Ad=pe(Tr,Zr.Bd)),Fa.Za=!pe(Tr,145)+0,Fa.Za){var Ns=Fa.Ob,co=0;for(Zr=0;4>Zr;++Zr){var Pi,tn=lo[0+Zr];for(Pi=0;4>Pi;++Pi){tn=ufe[Jn[cs+Pi]][tn];for(var _n=v8[pe(Tr,tn[0])];0<_n;)_n=v8[2*_n+pe(Tr,tn[_n])];tn=-_n,Jn[cs+Pi]=tn}n(Ns,co,Jn,cs,4),co+=4,lo[0+Zr]=tn}}else tn=pe(Tr,156)?pe(Tr,128)?1:3:pe(Tr,163)?2:0,Fa.Ob[0]=tn,a(Jn,cs,tn,4),a(lo,0,tn,4);Fa.Dd=pe(Tr,142)?pe(Tr,114)?pe(Tr,183)?1:3:2:0}if(Za.m.Ka)return xn(Xr,7,"Premature end-of-partition0 encountered.");for(;Xr.ja<Xr.za;++Xr.ja){if(Za=qt,Tr=(Et=Xr).rb[Et.sb-1],Jn=Et.rb[Et.sb+Et.ja],Pr=Et.ya[Et.aa+Et.ja],cs=Et.kc?Pr.Ad:0)Tr.la=Jn.la=0,Pr.Za||(Tr.Na=Jn.Na=0),Pr.Hc=0,Pr.Gc=0,Pr.ia=0;else{var Ba,Sn;if(Tr=Jn,Jn=Za,cs=Et.Pa.Xc,lo=Et.ya[Et.aa+Et.ja],Fa=Et.pb[lo.$b],Zr=lo.ad,Ns=0,co=Et.rb[Et.sb-1],tn=Pi=0,a(Zr,Ns,0,384),lo.Za)var us=0,Vc=cs[3];else{_n=i(16);var ei=Tr.Na+co.Na;if(ei=my(Jn,cs[1],ei,Fa.Eb,0,_n,0),Tr.Na=co.Na=(0<ei)+0,1<ei)lh(_n,0,Zr,Ns);else{var Oo=_n[0]+3>>3;for(_n=0;256>_n;_n+=16)Zr[Ns+_n]=Oo}us=1,Vc=cs[0]}var Fn=15&Tr.la,Ii=15&co.la;for(_n=0;4>_n;++_n){var cl=1&Ii;for(Oo=Sn=0;4>Oo;++Oo)Fn=Fn>>1|(cl=(ei=my(Jn,Vc,ei=cl+(1&Fn),Fa.Sc,us,Zr,Ns))>us)<<7,Sn=Sn<<2|(3<ei?3:1<ei?2:Zr[Ns+0]!=0),Ns+=16;Fn>>=4,Ii=Ii>>1|cl<<7,Pi=(Pi<<8|Sn)>>>0}for(Vc=Fn,us=Ii>>4,Ba=0;4>Ba;Ba+=2){for(Sn=0,Fn=Tr.la>>4+Ba,Ii=co.la>>4+Ba,_n=0;2>_n;++_n){for(cl=1&Ii,Oo=0;2>Oo;++Oo)ei=cl+(1&Fn),Fn=Fn>>1|(cl=0<(ei=my(Jn,cs[2],ei,Fa.Qc,0,Zr,Ns)))<<3,Sn=Sn<<2|(3<ei?3:1<ei?2:Zr[Ns+0]!=0),Ns+=16;Fn>>=2,Ii=Ii>>1|cl<<5}tn|=Sn<<4*Ba,Vc|=Fn<<4<<Ba,us|=(240&Ii)<<Ba}Tr.la=Vc,co.la=us,lo.Hc=Pi,lo.Gc=tn,lo.ia=43690&tn?0:Fa.ia,cs=!(Pi|tn)}if(0<Et.L&&(Et.wa[Et.Y+Et.ja]=Et.gd[Pr.$b][Pr.Za],Et.wa[Et.Y+Et.ja].La|=!cs),Za.Ka)return xn(Xr,7,"Premature end-of-file encountered.")}if(Su(Xr),Et=Ci,Za=1,Pr=(qt=Xr).D,Tr=0<qt.L&&qt.M>=qt.zb&&qt.M<=qt.Va,qt.Aa==0)t:{if(Pr.M=qt.M,Pr.uc=Tr,ls(qt,Pr),Za=1,Pr=(Sn=qt.D).Nb,Tr=(tn=Vb[qt.L])*qt.R,Jn=tn/2*qt.B,_n=16*Pr*qt.R,Oo=8*Pr*qt.B,cs=qt.sa,lo=qt.ta-Tr+_n,Fa=qt.qa,Zr=qt.ra-Jn+Oo,Ns=qt.Ha,co=qt.Ia-Jn+Oo,Ii=(Fn=Sn.M)==0,Pi=Fn>=qt.Va-1,qt.Aa==2&&ls(qt,Sn),Sn.uc)for(cl=(ei=qt).D.M,t(ei.D.uc),Sn=ei.yb;Sn<ei.Hb;++Sn){us=Sn,Vc=cl;var uo=(ul=(fs=ei).D).Nb;Ba=fs.R;var ul=ul.wa[ul.Y+us],fl=fs.sa,Do=fs.ta+16*uo*Ba+16*us,dl=ul.dd,Hn=ul.tc;if(Hn!=0)if(t(3<=Hn),fs.L==1)0<us&&n8(fl,Do,Ba,Hn+4),ul.La&&i8(fl,Do,Ba,Hn),0<Vc&&r8(fl,Do,Ba,Hn+4),ul.La&&a8(fl,Do,Ba,Hn);else{var hl=fs.B,zc=fs.qa,sp=fs.ra+8*uo*hl+8*us,jf=fs.Ha,fs=fs.Ia+8*uo*hl+8*us;uo=ul.ld,0<us&&(Ni(fl,Do,Ba,Hn+4,dl,uo),hy(zc,sp,jf,fs,hl,Hn+4,dl,uo)),ul.La&&(Db(fl,Do,Ba,Hn,dl,uo),t8(zc,sp,jf,fs,hl,Hn,dl,uo)),0<Vc&&(Ja(fl,Do,Ba,Hn+4,dl,uo),Of(zc,sp,jf,fs,hl,Hn+4,dl,uo)),ul.La&&(ig(fl,Do,Ba,Hn,dl,uo),e8(zc,sp,jf,fs,hl,Hn,dl,uo))}}if(qt.ia&&alert("todo:DitherRow"),Et.put!=null){if(Sn=16*Fn,Fn=16*(Fn+1),Ii?(Et.y=qt.sa,Et.O=qt.ta+_n,Et.f=qt.qa,Et.N=qt.ra+Oo,Et.ea=qt.Ha,Et.W=qt.Ia+Oo):(Sn-=tn,Et.y=cs,Et.O=lo,Et.f=Fa,Et.N=Zr,Et.ea=Ns,Et.W=co),Pi||(Fn-=tn),Fn>Et.o&&(Fn=Et.o),Et.F=null,Et.J=null,qt.Fa!=null&&0<qt.Fa.length&&Sn<Fn&&(Et.J=Sa(qt,Et,Sn,Fn-Sn),Et.F=qt.mb,Et.F==null&&Et.F.length==0)){Za=xn(qt,3,"Could not decode alpha data.");break t}Sn<Et.j&&(tn=Et.j-Sn,Sn=Et.j,t(!(1&tn)),Et.O+=qt.R*tn,Et.N+=qt.B*(tn>>1),Et.W+=qt.B*(tn>>1),Et.F!=null&&(Et.J+=Et.width*tn)),Sn<Fn&&(Et.O+=Et.v,Et.N+=Et.v>>1,Et.W+=Et.v>>1,Et.F!=null&&(Et.J+=Et.v),Et.ka=Sn-Et.j,Et.U=Et.va-Et.v,Et.T=Fn-Sn,Za=Et.put(Et))}Pr+1!=qt.Ic||Pi||(n(qt.sa,qt.ta-Tr,cs,lo+16*qt.R,Tr),n(qt.qa,qt.ra-Jn,Fa,Zr+8*qt.B,Jn),n(qt.Ha,qt.Ia-Jn,Ns,co+8*qt.B,Jn))}if(!Za)return xn(Xr,6,"Output aborted.")}return 1}(xe,Ce)),Ce.bc!=null&&Ce.bc(Ce),je&=1}return je?(xe.cb=0,je):0})(b,V)||(N=b.a)}}else N=b.a}N==0&&ne.Oa!=null&&ne.Oa.fd&&(N=oy(ne.ba))}ne=N}te=ne!=0?null:11>te?ie.f.RGBA.eb:ie.f.kb.y}else te=null;return te};var A8=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(k,O){for(var T="",C=0;C<4;C++)T+=String.fromCharCode(k[O++]);return T}function u(k,O){return k[O+0]|k[O+1]<<8}function f(k,O){return(k[O+0]|k[O+1]<<8|k[O+2]<<16)>>>0}function h(k,O){return(k[O+0]|k[O+1]<<8|k[O+2]<<16|k[O+3]<<24)>>>0}new l;var p=[0],m=[0],g=[],v=new l,y=e,x=function(k,O){var T={},C=0,D=!1,B=0,Y=0;if(T.frames=[],!function(R,U){for(var z=0;z<4;z++)if(R[U+z]!="RIFF".charCodeAt(z))return!0;return!1}(k,O)){for(h(k,O+=4),O+=8;O<k.length;){var ee=c(k,O),re=h(k,O+=4);O+=4;var G=re+(1&re);switch(ee){case"VP8 ":case"VP8L":T.frames[C]===void 0&&(T.frames[C]={}),(_e=T.frames[C]).src_off=D?Y:O-8,_e.src_size=B+re+8,C++,D&&(D=!1,B=0,Y=0);break;case"VP8X":(_e=T.header={}).feature_flags=k[O];var q=O+4;_e.canvas_width=1+f(k,q),q+=3,_e.canvas_height=1+f(k,q),q+=3;break;case"ALPH":D=!0,B=G+8,Y=O-8;break;case"ANIM":(_e=T.header).bgcolor=h(k,O),q=O+4,_e.loop_count=u(k,q),q+=2;break;case"ANMF":var be,_e;(_e=T.frames[C]={}).offset_x=2*f(k,O),O+=3,_e.offset_y=2*f(k,O),O+=3,_e.width=1+f(k,O),O+=3,_e.height=1+f(k,O),O+=3,_e.duration=f(k,O),O+=3,be=k[O++],_e.dispose=1&be,_e.blend=be>>1&1}ee!="ANMF"&&(O+=G)}return T}}(y,0);x.response=y,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,E=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],m=[w.canvas_width];for(var I=0;I<E.length&&E[I].blend!=0;I++);}var P=E[0],A=v.WebPDecodeRGBA(y,P.src_off,P.src_size,m,p);P.rgba=A,P.imgwidth=m[0],P.imgheight=p[0];for(var S=0;S<m[0]*p[0]*4;S++)g[S]=A[S];return this.width=m,this.height=p,this.data=g,this}(function(e){var t,r,n,a,i,s,o,l,c,u=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new l,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new s,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new s,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=R;Object.defineProperty(this,"pdf",{get:function(){return U}});var z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return z},set:function(Ae){z=!!Ae}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(Ae){W=!!Ae}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(Ae){isNaN(Ae)||(Z=Ae)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Ae){isNaN(Ae)||(le=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ae){var ue;typeof Ae=="number"?ue=[Ae,Ae,Ae,Ae]:((ue=new Array(4))[0]=Ae[0],ue[1]=Ae.length>=2?Ae[1]:ue[0],ue[2]=Ae.length>=3?Ae[2]:ue[0],ue[3]=Ae.length>=4?Ae[3]:ue[1]),c.margin=ue}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(Ae){he=Ae}});var ae=0;Object.defineProperty(this,"lastBreak",{get:function(){return ae},set:function(Ae){ae=Ae}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(Ae){pe=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ae){Ae instanceof u&&(c=Ae)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ae){c.path=Ae}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(Ae){ke=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var ue;ue=h(Ae),this.ctx.fillStyle=ue.style,this.ctx.isFillTransparent=ue.a===0,this.ctx.fillOpacity=ue.a,this.pdf.setFillColor(ue.r,ue.g,ue.b,{a:ue.a}),this.pdf.setTextColor(ue.r,ue.g,ue.b,{a:ue.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var ue=h(Ae);this.ctx.strokeStyle=ue.style,this.ctx.isStrokeTransparent=ue.a===0,this.ctx.strokeOpacity=ue.a,ue.a===0?this.pdf.setDrawColor(255,255,255):(ue.a,this.pdf.setDrawColor(ue.r,ue.g,ue.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var K=null,qe=null;Object.defineProperty(this,"fontFaces",{get:function(){return qe},set:function(Ae){K=null,qe=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var ue;if(this.ctx.font=Ae,(ue=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var ot=ue[1];ue[2];var $e=ue[3],pt=ue[4];ue[5];var et=ue[6],yt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(pt)[2];pt=Math.floor(yt==="px"?parseFloat(pt)*this.pdf.internal.scaleFactor:yt==="em"?parseFloat(pt)*this.pdf.getFontSize():parseFloat(pt)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(pt);var dt=function(ht){var wt,dr,Gt=[],Nt=ht.trim();if(Nt==="")return U4;if(Nt in Y$)return[Y$[Nt]];for(;Nt!=="";){switch(dr=null,wt=(Nt=Q$(Nt)).charAt(0)){case'"':case"'":dr=H6e(Nt.substring(1),wt);break;default:dr=q6e(Nt)}if(dr===null||(Gt.push(dr[0]),(Nt=Q$(dr[1]))!==""&&Nt.charAt(0)!==","))return U4;Nt=Nt.replace(/^,/,"")}return Gt}(et);if(this.fontFaces){var rr=function(ht,wt){if(K===null){var dr=function(Gt){var Nt=[];return Object.keys(Gt).forEach(function(er){Gt[er].forEach(function(Or){var Ut=null;switch(Or){case"bold":Ut={family:er,weight:"bold"};break;case"italic":Ut={family:er,style:"italic"};break;case"bolditalic":Ut={family:er,weight:"bold",style:"italic"};break;case"":case"normal":Ut={family:er}}Ut!==null&&(Ut.ref={name:er,style:Or},Nt.push(Ut))})}),Nt}(ht.getFontList());K=function(Gt){for(var Nt={},er=0;er<Gt.length;++er){var Or=$4(Gt[er]),Ut=Or.family,gr=Or.stretch,ar=Or.style,gn=Or.weight;Nt[Ut]=Nt[Ut]||{},Nt[Ut][gr]=Nt[Ut][gr]||{},Nt[Ut][gr][ar]=Nt[Ut][gr][ar]||{},Nt[Ut][gr][ar][gn]=Or}return Nt}(dr.concat(wt))}return K}(this.pdf,this.fontFaces),St=dt.map(function(ht){return{family:ht,stretch:"normal",weight:$e,style:ot}}),Kt=function(ht,wt,dr){for(var Gt=(dr=dr||{}).defaultFontFamily||"times",Nt=Object.assign({},W6e,dr.genericFontFamilies||{}),er=null,Or=null,Ut=0;Ut<wt.length;++Ut)if(Nt[(er=$4(wt[Ut])).family]&&(er.family=Nt[er.family]),ht.hasOwnProperty(er.family)){Or=ht[er.family];break}if(!(Or=Or||ht[Gt]))throw new Error("Could not find a font-family for the rule '"+X$(er)+"' and default family '"+Gt+"'.");if(Or=function(gr,ar){if(ar[gr])return ar[gr];var gn=HP[gr],vn=gn<=HP.normal?-1:1,Kr=K$(ar,zte,gn,vn);if(!Kr)throw new Error("Could not find a matching font-stretch value for "+gr);return Kr}(er.stretch,Or),Or=function(gr,ar){if(ar[gr])return ar[gr];for(var gn=Vte[gr],vn=0;vn<gn.length;++vn)if(ar[gn[vn]])return ar[gn[vn]];throw new Error("Could not find a matching font-style for "+gr)}(er.style,Or),!(Or=function(gr,ar){if(ar[gr])return ar[gr];if(gr===400&&ar[500])return ar[500];if(gr===500&&ar[400])return ar[400];var gn=z6e[gr],vn=K$(ar,Wte,gn,gr<400?-1:1);if(!vn)throw new Error("Could not find a matching font-weight for value "+gr);return vn}(er.weight,Or)))throw new Error("Failed to resolve a font for the rule '"+X$(er)+"'.");return Or}(rr,St);this.pdf.setFont(Kt.ref.name,Kt.ref.style)}else{var vt="";($e==="bold"||parseInt($e,10)>=700||ot==="bold")&&(vt="bold"),ot==="italic"&&(vt+="italic"),vt.length===0&&(vt="normal");for(var At="",nr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Pt=0;Pt<dt.length;Pt++){if(this.pdf.internal.getFont(dt[Pt],vt,{noFallback:!0,disableWarning:!0})!==void 0){At=dt[Pt];break}if(vt==="bolditalic"&&this.pdf.internal.getFont(dt[Pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)At=dt[Pt],vt="bold";else if(this.pdf.internal.getFont(dt[Pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){At=dt[Pt],vt="normal";break}}if(At===""){for(var kt=0;kt<dt.length;kt++)if(nr[dt[kt]]){At=nr[dt[kt]];break}}At=At===""?"Times":At,this.pdf.setFont(At,vt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};f.prototype.setLineDash=function(R){this.lineDash=R},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){E.call(this,"fill",!1)},f.prototype.stroke=function(){E.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(R,U){if(isNaN(R)||isNaN(U))throw Bn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var z=this.ctx.transform.applyToPoint(new s(R,U));this.path.push({type:"mt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(R,U)},f.prototype.closePath=function(){var R=new s(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Hr(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){R=new s(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(R.x,R.y)},f.prototype.lineTo=function(R,U){if(isNaN(R)||isNaN(U))throw Bn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var z=this.ctx.transform.applyToPoint(new s(R,U));this.path.push({type:"lt",x:z.x,y:z.y}),this.ctx.lastPoint=new s(z.x,z.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),E.call(this,null,!0)},f.prototype.quadraticCurveTo=function(R,U,z,W){if(isNaN(z)||isNaN(W)||isNaN(R)||isNaN(U))throw Bn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new s(z,W)),le=this.ctx.transform.applyToPoint(new s(R,U));this.path.push({type:"qct",x1:le.x,y1:le.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},f.prototype.bezierCurveTo=function(R,U,z,W,Z,le){if(isNaN(Z)||isNaN(le)||isNaN(R)||isNaN(U)||isNaN(z)||isNaN(W))throw Bn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new s(Z,le)),ae=this.ctx.transform.applyToPoint(new s(R,U)),pe=this.ctx.transform.applyToPoint(new s(z,W));this.path.push({type:"bct",x1:ae.x,y1:ae.y,x2:pe.x,y2:pe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},f.prototype.arc=function(R,U,z,W,Z,le){if(isNaN(R)||isNaN(U)||isNaN(z)||isNaN(W)||isNaN(Z))throw Bn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new s(R,U));R=he.x,U=he.y;var ae=this.ctx.transform.applyToPoint(new s(0,z)),pe=this.ctx.transform.applyToPoint(new s(0,0));z=Math.sqrt(Math.pow(ae.x-pe.x,2)+Math.pow(ae.y-pe.y,2))}Math.abs(Z-W)>=2*Math.PI&&(W=0,Z=2*Math.PI),this.path.push({type:"arc",x:R,y:U,radius:z,startAngle:W,endAngle:Z,counterclockwise:le})},f.prototype.arcTo=function(R,U,z,W,Z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(R,U,z,W){if(isNaN(R)||isNaN(U)||isNaN(z)||isNaN(W))throw Bn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,U),this.lineTo(R+z,U),this.lineTo(R+z,U+W),this.lineTo(R,U+W),this.lineTo(R,U),this.lineTo(R+z,U),this.lineTo(R,U)},f.prototype.fillRect=function(R,U,z,W){if(isNaN(R)||isNaN(U)||isNaN(z)||isNaN(W))throw Bn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,U,z,W),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},f.prototype.strokeRect=function(R,U,z,W){if(isNaN(R)||isNaN(U)||isNaN(z)||isNaN(W))throw Bn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(R,U,z,W),this.stroke())},f.prototype.clearRect=function(R,U,z,W){if(isNaN(R)||isNaN(U)||isNaN(z)||isNaN(W))throw Bn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,U,z,W))},f.prototype.save=function(R){R=typeof R!="boolean"||R;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},f.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,z=0;z<this.pdf.internal.getNumberOfPages();z++)this.pdf.setPage(z+1),this.pdf.internal.out("Q");this.pdf.setPage(U),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(R){var U,z,W,Z;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))U=0,z=0,W=0,Z=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(le!==null)U=parseInt(le[1]),z=parseInt(le[2]),W=parseInt(le[3]),Z=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)U=parseInt(le[1]),z=parseInt(le[2]),W=parseInt(le[3]),Z=parseFloat(le[4]);else{if(Z=1,typeof R=="string"&&R.charAt(0)!=="#"){var he=new Rte(R);R=he.ok?he.toHex():"#000000"}R.length===4?(U=R.substring(1,2),U+=U,z=R.substring(2,3),z+=z,W=R.substring(3,4),W+=W):(U=R.substring(1,3),z=R.substring(3,5),W=R.substring(5,7)),U=parseInt(U,16),z=parseInt(z,16),W=parseInt(W,16)}}return{r:U,g:z,b:W,a:Z,style:R}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(R,U,z,W){if(isNaN(U)||isNaN(z)||typeof R!="string")throw Bn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!p.call(this)){var Z=G(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;C.call(this,{text:R,x:U,y:z,scale:le,angle:Z,align:this.textAlign,maxWidth:W})}},f.prototype.strokeText=function(R,U,z,W){if(isNaN(U)||isNaN(z)||typeof R!="string")throw Bn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){W=isNaN(W)?void 0:W;var Z=G(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;C.call(this,{text:R,x:U,y:z,scale:le,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:W})}},f.prototype.measureText=function(R){if(typeof R!="string")throw Bn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,z=this.pdf.internal.scaleFactor,W=U.internal.getFontSize(),Z=U.getStringUnitWidth(R)*W/U.internal.scaleFactor;return new function(le){var he=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this}({width:Z*=Math.round(96*z/72*1e4)/1e4})},f.prototype.scale=function(R,U){if(isNaN(R)||isNaN(U))throw Bn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var z=new l(R,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.rotate=function(R){if(isNaN(R))throw Bn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new l(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.translate=function(R,U){if(isNaN(R)||isNaN(U))throw Bn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var z=new l(1,0,0,1,R,U);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.transform=function(R,U,z,W,Z,le){if(isNaN(R)||isNaN(U)||isNaN(z)||isNaN(W)||isNaN(Z)||isNaN(le))throw Bn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(R,U,z,W,Z,le);this.ctx.transform=this.ctx.transform.multiply(he)},f.prototype.setTransform=function(R,U,z,W,Z,le){R=isNaN(R)?1:R,U=isNaN(U)?0:U,z=isNaN(z)?0:z,W=isNaN(W)?1:W,Z=isNaN(Z)?0:Z,le=isNaN(le)?0:le,this.ctx.transform=new l(R,U,z,W,Z,le)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(R,U,z,W,Z,le,he,ae,pe){var ke=this.pdf.getImageProperties(R),K=1,qe=1,Ae=1,ue=1;W!==void 0&&ae!==void 0&&(Ae=ae/W,ue=pe/Z,K=ke.width/W*ae/W,qe=ke.height/Z*pe/Z),le===void 0&&(le=U,he=z,U=0,z=0),W!==void 0&&ae===void 0&&(ae=W,pe=Z),W===void 0&&ae===void 0&&(ae=ke.width,pe=ke.height);for(var ot,$e=this.ctx.transform.decompose(),pt=G($e.rotate.shx),et=new l,yt=(et=(et=(et=et.multiply($e.translate)).multiply($e.skew)).multiply($e.scale)).applyToRectangle(new o(le-U*Ae,he-z*ue,W*K,Z*qe)),dt=v.call(this,yt),rr=[],St=0;St<dt.length;St+=1)rr.indexOf(dt[St])===-1&&rr.push(dt[St]);if(w(rr),this.autoPaging)for(var Kt=rr[0],vt=rr[rr.length-1],At=Kt;At<vt+1;At++){this.pdf.setPage(At);var nr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=At===1?this.posY+this.margin[0]:this.margin[0],kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],wt=At===1?0:kt+(At-2)*ht;if(this.ctx.clip_path.length!==0){var dr=this.path;ot=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ot,this.posX+this.margin[3],-wt+Pt+this.ctx.prevPageLastElemOffset),I.call(this,"fill",!0),this.path=dr}var Gt=JSON.parse(JSON.stringify(yt));Gt=x([Gt],this.posX+this.margin[3],-wt+Pt+this.ctx.prevPageLastElemOffset)[0];var Nt=(At>Kt||At<vt)&&g.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nr,ht,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Gt.x,Gt.y,Gt.w,Gt.h,null,null,pt),Nt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,pt)};var v=function(R,U,z){var W=[];U=U||this.pdf.internal.pageSize.width,z=z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":W.push(Math.floor((R.y+Z)/z)+1);break;case"arc":W.push(Math.floor((R.y+Z-R.radius)/z)+1),W.push(Math.floor((R.y+Z+R.radius)/z)+1);break;case"qct":var le=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);W.push(Math.floor((le.y+Z)/z)+1),W.push(Math.floor((le.y+le.h+Z)/z)+1);break;case"bct":var he=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);W.push(Math.floor((he.y+Z)/z)+1),W.push(Math.floor((he.y+he.h+Z)/z)+1);break;case"rect":W.push(Math.floor((R.y+Z)/z)+1),W.push(Math.floor((R.y+R.h+Z)/z)+1)}for(var ae=0;ae<W.length;ae+=1)for(;this.pdf.internal.getNumberOfPages()<W[ae];)y.call(this);return W},y=function(){var R=this.fillStyle,U=this.strokeStyle,z=this.font,W=this.lineCap,Z=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=U,this.font=z,this.lineCap=W,this.lineWidth=Z,this.lineJoin=le},x=function(R,U,z){for(var W=0;W<R.length;W++)switch(R[W].type){case"bct":R[W].x2+=U,R[W].y2+=z;case"qct":R[W].x1+=U,R[W].y1+=z;default:R[W].x+=U,R[W].y+=z}return R},w=function(R){return R.sort(function(U,z){return U-z})},E=function(R,U){for(var z,W,Z=this.fillStyle,le=this.strokeStyle,he=this.lineCap,ae=this.lineWidth,pe=Math.abs(ae*this.ctx.transform.scaleX),ke=this.lineJoin,K=JSON.parse(JSON.stringify(this.path)),qe=JSON.parse(JSON.stringify(this.path)),Ae=[],ue=0;ue<qe.length;ue++)if(qe[ue].x!==void 0)for(var ot=v.call(this,qe[ue]),$e=0;$e<ot.length;$e+=1)Ae.indexOf(ot[$e])===-1&&Ae.push(ot[$e]);for(var pt=0;pt<Ae.length;pt++)for(;this.pdf.internal.getNumberOfPages()<Ae[pt];)y.call(this);if(w(Ae),this.autoPaging)for(var et=Ae[0],yt=Ae[Ae.length-1],dt=et;dt<yt+1;dt++){this.pdf.setPage(dt),this.fillStyle=Z,this.strokeStyle=le,this.lineCap=he,this.lineWidth=pe,this.lineJoin=ke;var rr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=dt===1?this.posY+this.margin[0]:this.margin[0],Kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=dt===1?0:Kt+(dt-2)*vt;if(this.ctx.clip_path.length!==0){var nr=this.path;z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(z,this.posX+this.margin[3],-At+St+this.ctx.prevPageLastElemOffset),I.call(this,R,!0),this.path=nr}if(W=JSON.parse(JSON.stringify(K)),this.path=x(W,this.posX+this.margin[3],-At+St+this.ctx.prevPageLastElemOffset),U===!1||dt===0){var Pt=(dt>et||dt<yt)&&g.call(this);Pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rr,vt,null).clip().discardPath()),I.call(this,R,U),Pt&&this.pdf.restoreGraphicsState()}this.lineWidth=ae}else this.lineWidth=pe,I.call(this,R,U),this.lineWidth=ae;this.path=K},I=function(R,U){if((R!=="stroke"||U||!m.call(this))&&(R==="stroke"||U||!p.call(this))){for(var z,W,Z=[],le=this.path,he=0;he<le.length;he++){var ae=le[he];switch(ae.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:ae,deltas:[],abs:[]});break;case"lt":var pe=Z.length;if(le[he-1]&&!isNaN(le[he-1].x)&&(z=[ae.x-le[he-1].x,ae.y-le[he-1].y],pe>0)){for(;pe>=0;pe--)if(Z[pe-1].close!==!0&&Z[pe-1].begin!==!0){Z[pe-1].deltas.push(z),Z[pe-1].abs.push(ae);break}}break;case"bct":z=[ae.x1-le[he-1].x,ae.y1-le[he-1].y,ae.x2-le[he-1].x,ae.y2-le[he-1].y,ae.x-le[he-1].x,ae.y-le[he-1].y],Z[Z.length-1].deltas.push(z);break;case"qct":var ke=le[he-1].x+2/3*(ae.x1-le[he-1].x),K=le[he-1].y+2/3*(ae.y1-le[he-1].y),qe=ae.x+2/3*(ae.x1-ae.x),Ae=ae.y+2/3*(ae.y1-ae.y),ue=ae.x,ot=ae.y;z=[ke-le[he-1].x,K-le[he-1].y,qe-le[he-1].x,Ae-le[he-1].y,ue-le[he-1].x,ot-le[he-1].y],Z[Z.length-1].deltas.push(z);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(ae)}}W=U?null:R==="stroke"?"stroke":"fill";for(var $e=!1,pt=0;pt<Z.length;pt++)if(Z[pt].arc)for(var et=Z[pt].abs,yt=0;yt<et.length;yt++){var dt=et[yt];dt.type==="arc"?S.call(this,dt.x,dt.y,dt.radius,dt.startAngle,dt.endAngle,dt.counterclockwise,void 0,U,!$e):D.call(this,dt.x,dt.y),$e=!0}else if(Z[pt].close===!0)this.pdf.internal.out("h"),$e=!1;else if(Z[pt].begin!==!0){var rr=Z[pt].start.x,St=Z[pt].start.y;B.call(this,Z[pt].deltas,rr,St),$e=!0}W&&k.call(this,W),U&&O.call(this)}},P=function(R){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,z=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-z;case"top":return R+U-z;case"hanging":return R+U-2*z;case"middle":return R+U/2-z;default:return R}},A=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(U,z){this.colorStops.push([U,z])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(R,U,z,W,Z,le,he,ae,pe){for(var ke=ee.call(this,z,W,Z,le),K=0;K<ke.length;K++){var qe=ke[K];K===0&&(pe?T.call(this,qe.x1+R,qe.y1+U):D.call(this,qe.x1+R,qe.y1+U)),Y.call(this,R,U,qe.x2,qe.y2,qe.x3,qe.y3,qe.x4,qe.y4)}ae?O.call(this):k.call(this,he)},k=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(R,U){this.pdf.internal.out(r(R)+" "+n(U)+" m")},C=function(R){var U;switch(R.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var z=this.pdf.getTextDimensions(R.text),W=P.call(this,R.y),Z=A.call(this,W)-z.h,le=this.ctx.transform.applyToPoint(new s(R.x,W)),he=this.ctx.transform.decompose(),ae=new l;ae=(ae=(ae=ae.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var pe,ke,K,qe=this.ctx.transform.applyToRectangle(new o(R.x,W,z.w,z.h)),Ae=ae.applyToRectangle(new o(R.x,Z,z.w,z.h)),ue=v.call(this,Ae),ot=[],$e=0;$e<ue.length;$e+=1)ot.indexOf(ue[$e])===-1&&ot.push(ue[$e]);if(w(ot),this.autoPaging)for(var pt=ot[0],et=ot[ot.length-1],yt=pt;yt<et+1;yt++){this.pdf.setPage(yt);var dt=yt===1?this.posY+this.margin[0]:this.margin[0],rr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],Kt=St-this.margin[0],vt=this.pdf.internal.pageSize.width-this.margin[1],At=vt-this.margin[3],nr=yt===1?0:rr+(yt-2)*Kt;if(this.ctx.clip_path.length!==0){var Pt=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(pe,this.posX+this.margin[3],-1*nr+dt),I.call(this,"fill",!0),this.path=Pt}var kt=x([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-nr+dt+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*R.scale),K=this.lineWidth,this.lineWidth=K*R.scale);var ht=this.autoPaging!=="text";if(ht||kt.y+kt.h<=St){if(ht||kt.y>=dt&&kt.x<=vt){var wt=ht?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||vt-kt.x)[0],dr=x([JSON.parse(JSON.stringify(qe))],this.posX+this.margin[3],-nr+dt+this.ctx.prevPageLastElemOffset)[0],Gt=ht&&(yt>pt||yt<et)&&g.call(this);Gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,Kt,null).clip().discardPath()),this.pdf.text(wt,dr.x,dr.y,{angle:R.angle,align:U,renderingMode:R.renderingMode}),Gt&&this.pdf.restoreGraphicsState()}}else kt.y<St&&(this.ctx.prevPageLastElemOffset+=St-kt.y);R.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=K)}else R.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*R.scale),K=this.lineWidth,this.lineWidth=K*R.scale),this.pdf.text(R.text,le.x+this.posX,le.y+this.posY,{angle:R.angle,align:U,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=K)},D=function(R,U,z,W){z=z||0,W=W||0,this.pdf.internal.out(r(R+z)+" "+n(U+W)+" l")},B=function(R,U,z){return this.pdf.lines(R,U,z,null,null)},Y=function(R,U,z,W,Z,le,he,ae){this.pdf.internal.out([t(a(z+R)),t(i(W+U)),t(a(Z+R)),t(i(le+U)),t(a(he+R)),t(i(ae+U)),"c"].join(" "))},ee=function(R,U,z,W){for(var Z=2*Math.PI,le=Math.PI/2;U>z;)U-=Z;var he=Math.abs(z-U);he<Z&&W&&(he=Z-he);for(var ae=[],pe=W?-1:1,ke=U;he>1e-5;){var K=ke+pe*Math.min(he,le);ae.push(re.call(this,R,ke,K)),he-=Math.abs(K-ke),ke=K}return ae},re=function(R,U,z){var W=(z-U)/2,Z=R*Math.cos(W),le=R*Math.sin(W),he=Z,ae=-le,pe=he*he+ae*ae,ke=pe+he*Z+ae*le,K=4/3*(Math.sqrt(2*pe*ke)-ke)/(he*le-ae*Z),qe=he-K*ae,Ae=ae+K*he,ue=qe,ot=-Ae,$e=W+U,pt=Math.cos($e),et=Math.sin($e);return{x1:R*Math.cos(U),y1:R*Math.sin(U),x2:qe*pt-Ae*et,y2:qe*et+Ae*pt,x3:ue*pt-ot*et,y3:ue*et+ot*pt,x4:R*Math.cos(z),y4:R*Math.sin(z)}},G=function(R){return 180*R/Math.PI},q=function(R,U,z,W,Z,le){var he=R+.5*(z-R),ae=U+.5*(W-U),pe=Z+.5*(z-Z),ke=le+.5*(W-le),K=Math.min(R,Z,he,pe),qe=Math.max(R,Z,he,pe),Ae=Math.min(U,le,ae,ke),ue=Math.max(U,le,ae,ke);return new o(K,Ae,qe-K,ue-Ae)},be=function(R,U,z,W,Z,le,he,ae){var pe,ke,K,qe,Ae,ue,ot,$e,pt,et,yt,dt,rr,St,Kt=z-R,vt=W-U,At=Z-z,nr=le-W,Pt=he-Z,kt=ae-le;for(ke=0;ke<41;ke++)pt=(ot=(K=R+(pe=ke/40)*Kt)+pe*((Ae=z+pe*At)-K))+pe*(Ae+pe*(Z+pe*Pt-Ae)-ot),et=($e=(qe=U+pe*vt)+pe*((ue=W+pe*nr)-qe))+pe*(ue+pe*(le+pe*kt-ue)-$e),ke==0?(yt=pt,dt=et,rr=pt,St=et):(yt=Math.min(yt,pt),dt=Math.min(dt,et),rr=Math.max(rr,pt),St=Math.max(St,et));return new o(Math.round(yt),Math.round(dt),Math.round(rr-yt),Math.round(St-dt))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,U,z=(R=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:U}));this.prevLineDash!==z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=z)}}})(Qt.API),function(e){var t=function(s){var o,l,c,u,f,h,p,m,g,v;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(h=(f=((f=((f=((f=(f-(v=f%85))/85)-(g=f%85))/85)-(m=f%85))/85)-(p=f%85))/85)%85,l.push(h+33,p+33,m+33,g+33,v+33)):l.push(122);return function(y,x){for(var w=x;w>0;w--)y.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,f,h=String,p="length",m=255,g="charCodeAt",v="slice",y="replace";for(s[v](-2),s=s[v](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[v](s[p]%5||5))[p];f>u;u+=5)l=52200625*(s[g](u)-33)+614125*(s[g](u+1)-33)+7225*(s[g](u+2)-33)+85*(s[g](u+3)-33)+(s[g](u+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(x,w){for(var E=w;E>0;E--)x.pop()}(c,o[p]),h.fromCharCode.apply(h,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},i=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=MP(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=a(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Qt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,p=function(m){var g=m.length,v=[],y=String.fromCharCode;for(h=0;h<g;h+=1)v.push(y(255&m.charCodeAt(h)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return p(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Qt.API),function(e){function t(){return(yr.html2canvas?Promise.resolve(yr.html2canvas):qo(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(yr.DOMPurify?Promise.resolve(yr.DOMPurify):qo(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=Hr(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var m=u[p],g=m.src.find(function(v){return v.format==="truetype"});g&&c.addFont(g.url,m.ref.name,m.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,c.context2d.save(!0),l(this.prop.container,h)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return c.updateProgress(null,u),h}).then(u,f).then(function(h){return c.updateProgress(1),h})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),h=c.call(f,o,l);return s.convert(h,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Qt.getPageSize=function(o,l,c){if(Hr(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,h=(""+c).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var m,g=0,v=0;if(p.hasOwnProperty(h))g=p[h][1]/f,v=p[h][0]/f;else try{g=c[1],v=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",v>g&&(m=v,v=g,g=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",g>v&&(m=v,v=g,g=m)}return{width:v,height:g,unit:l,k:f,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map($4):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(Qt.API),Qt.API.addJS=function(e){return Z$=e,this.internal.events.subscribe("postPutResources",function(){F_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(F_+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),J$=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Z$+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){F_!==void 0&&J$!==void 0&&this.internal.out("/Names <</JavaScript "+F_+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Qt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,g={width:0,height:0,numcomponents:1},v=4;v<m;v+=2){if(v+=p,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),g={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}p=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return g}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(Qt.API),Qt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=C6e(e,{checkCrc:!0}),s=i.width,o=i.height,l=i.channels,c=i.palette,u=i.depth;a=c&&l===1?function(S){for(var k=S.width,O=S.height,T=S.data,C=S.palette,D=S.depth,B=!1,Y=[],ee=[],re=void 0,G=!1,q=0,be=0;be<C.length;be++){var _e=kd(C[be],4),R=_e[0],U=_e[1],z=_e[2],W=_e[3];Y.push(R,U,z),W!=null&&(W===0?(q++,ee.length<1&&ee.push(be)):W<255&&(G=!0))}if(G||q>1){B=!0,ee=void 0;var Z=k*O;re=new Uint8Array(Z);for(var le=new DataView(T.buffer),he=0;he<Z;he++){var ae=V4(le,he,D),pe=kd(C[ae],4)[3];re[he]=pe}}else q===0&&(ee=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:B?8:void 0,colorBytes:T,alphaBytes:re,needSMask:B,palette:Y,mask:ee}}(i):l===2||l===4?function(S){for(var k=S.data,O=S.width,T=S.height,C=S.channels,D=S.depth,B=C===2?"DeviceGray":"DeviceRGB",Y=C-1,ee=O*T,re=Y,G=ee*re,q=1*ee,be=Math.ceil(G*D/8),_e=Math.ceil(q*D/8),R=new Uint8Array(be),U=new Uint8Array(_e),z=new DataView(k.buffer),W=new DataView(R.buffer),Z=new DataView(U.buffer),le=!1,he=0;he<ee;he++){for(var ae=he*C,pe=0;pe<re;pe++)lU(W,V4(z,ae+pe,D),he*re+pe,D);var ke=V4(z,ae+re,D);ke<(1<<D)-1&&(le=!0),lU(Z,ke,1*he,D)}return{colorSpace:B,colorsPerPixel:Y,sMaskBitsPerComponent:le?D:void 0,colorBytes:R,alphaBytes:U,needSMask:le}}(i):function(S){var k=S.data,O=S.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:O,colorsPerPixel:O==="DeviceGray"?1:3,colorBytes:k instanceof Uint16Array?function(T){for(var C=T.length,D=new Uint8Array(2*C),B=new DataView(D.buffer,D.byteOffset,D.byteLength),Y=0;Y<C;Y++)B.setUint16(2*Y,T[Y],!1);return D}(k):k,needSMask:!1}}(i);var f,h,p,m=a,g=m.colorSpace,v=m.colorsPerPixel,y=m.sMaskBitsPerComponent,x=m.colorBytes,w=m.alphaBytes,E=m.needSMask,I=m.palette,P=m.mask,A=null;return n!==Qt.API.image_compression.NONE&&typeof MP=="function"?(A=function(S){var k;switch(S){case Qt.API.image_compression.FAST:k=11;break;case Qt.API.image_compression.MEDIUM:k=13;break;case Qt.API.image_compression.SLOW:k=14;break;default:k=12}return k}(n),f=this.decode.FLATE_DECODE,h="/Predictor ".concat(A," /Colors ").concat(v," /BitsPerComponent ").concat(u," /Columns ").concat(s),e=nU(x,Math.ceil(s*v*u/8),v,u,n),E&&(p=nU(w,Math.ceil(s*y/8),1,y,n))):(f=void 0,h=void 0,e=x,E&&(p=w)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:e,index:t,filter:f,decodeParameters:h,transparency:P,palette:I,sMask:p,predictor:A,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:g}}},function(e){e.processGIF89A=function(t,r,n,a){var i=new X6e(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new z4(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(Qt.API),Gc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Gc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){Bn.log("bit decode error:"+r)}},Gc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Gc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Gc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Gc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},Gc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},Gc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Gc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Gc.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Gc(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new z4(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Qt.API),uU.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new uU(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new z4(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Qt.API),Qt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],f=n[c+1],h=n[c+2],p=n[c+3];i[o++]=u,i[o++]=f,i[o++]=h,s[l++]=p}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Qt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},mg=Qt.API,B_=mg.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,h=0,p=e.length,m=0,g=o[0]||l,v=[];for(r=0;r<p;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&Hr(c[n])==="object"&&!isNaN(parseInt(c[n][m],10))?c[n][m]/u:0,v.push((o[n]||g)/l+h)),m=n;return v},eU=mg.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return mg.processArabic&&(e=mg.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:B_.apply(this,arguments).reduce(function(i,s){return i+s},0)},tU=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},rU=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],f=[u],h=r.textIndent||0,p=0,m=0,g=e.split(" "),v=B_.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?g[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),x=[];g.map(function(E){(E=E.split(/\s*\n/)).length>1?x=x.concat(E.map(function(I,P){return(P&&I.length?`
`:"")+I})):x.push(E[0])}),g=x,l=eU.apply(this,[y,r])}for(i=0,s=g.length;i<s;i++){var w=0;if(n=g[i],l&&n[0]==`
`&&(n=n.substr(1),w=1),h+p+(m=(a=B_.apply(this,[n,r])).reduce(function(E,I){return E+I},0))>t||w){if(m>t){for(o=tU.apply(this,[n,a,t-(h+p),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);m=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(E,I){return E+I},0)}else u=[n];f.push(u),h=m+l,p=v}else u.push(n),h+=p+m,p=v}return c=l?function(E,I){return(I?y:"")+E.join(" ")}:function(E){return E.join(" ")},f.map(c)},mg.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return f.metadata[h]?{widths:f.metadata[h].widths||{0:1},kerning:f.metadata[h].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(rU.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var s=function(h){return"0x"+parseInt(h,10).toString(16)},o=e.__fontmetrics__.compress=function(h){var p,m,g,v,y=["{"];for(var x in h){if(p=h[x],isNaN(parseInt(x,10))?m="'"+x+"'":(x=parseInt(x,10),m=(m=s(x).slice(2)).slice(0,-1)+a[m.slice(-1)]),typeof p=="number")p<0?(g=s(p).slice(3),v="-"):(g=s(p).slice(2),v=""),g=v+g.slice(0,-1)+a[g.slice(-1)];else{if(Hr(p)!=="object")throw new Error("Don't know what to do with value type "+Hr(p)+".");g=o(p)}y.push(m+g)}return y.push("}"),y.join("")},l=e.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,m,g,v,y={},x=1,w=y,E=[],I="",P="",A=h.length-1,S=1;S<A;S+=1)(v=h[S])=="'"?p?(g=p.join(""),p=void 0):p=[]:p?p.push(v):v=="{"?(E.push([w,g]),w={},g=void 0):v=="}"?((m=E.pop())[0][m[1]]=w,g=void 0,w=m[0]):v=="-"?x=-1:g===void 0?n.hasOwnProperty(v)?(I+=n[v],g=parseInt(I,16)*x,x=1,I=""):I+=v:n.hasOwnProperty(v)?(P+=n[v],w[g]=parseInt(P,16)*x,x=1,g=void 0,P=""):P+=v;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(h){var p=h.font,m=f.Unicode[p.postScriptName];m&&(p.metadata.Unicode={},p.metadata.Unicode.widths=m.widths,p.metadata.Unicode.kerning=m.kerning);var g=u.Unicode[p.postScriptName];g&&(p.metadata.Unicode.encoding=g,p.encoding=g.codePages[0])}])}(Qt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(MS(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Qt),Qt.API.addSvgAsImage=function(e,t,r,n,a,i,s,o){if(isNaN(t)||isNaN(r))throw Bn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Bn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=a;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(yr.canvg?Promise.resolve(yr.canvg):qo(()=>import("./index.es-BjQUaZeS.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),t,r,n,a,s,o)})},Qt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Qt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(m,g){var v,y=!1;for(v=0;v<m.length;v+=1)m[v]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Hr(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?g.push("/"+m+" /"+r[m].value):g.push("/"+m+" "+r[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Qt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(i).sort(function(p,m){return p-m})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",m=0;m<h.length;m++)p+=String.fromCharCode(h[m]);var g=c();u({data:p,addLength1:!0,objectId:g}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Ag(o.fontName)),l("/FontFile2 "+g+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var x=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Ag(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+Ag(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var g=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:g}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Ag(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Ag(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},f=i.mutex||{},h=f.pdfEscape,p=f.activeFontKey,m=f.fonts,g=p,v="",y=0,x="",w=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(x=o,g=p,Array.isArray(o)&&(x=o[0]),y=0;y<x.length;y+=1)m[g].metadata.hasOwnProperty("cmap")&&(s=m[g].metadata.cmap.unicode.codeMap[x[y].charCodeAt(0)]),s||x[y].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?v+=x[y]:v+="";var E="";return parseInt(g.slice(1))<14||w==="WinAnsiEncoding"?E=h(v,g).split("").map(function(I){return I.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(E=r(v,m[g])),f.isHex=!0,{text:E,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(Qt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Qt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,w=0;this.__bidiEngine__={};var E=function(T){var C=T.charCodeAt(),D=C>>8,B=g[D];return B!==void 0?f[256*B+(255&C)]:D===252||D===253?"AL":y.test(D)?"L":D===8?"R":"N"},I=function(T){for(var C,D=0;D<T.length;D++){if((C=E(T.charAt(D)))==="L")return!1;if(C==="R")return!0}return!1},P=function(T,C,D,B){var Y,ee,re,G,q=C[B];switch(q){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"N":case"AN":break;case"EN":x&&(q="AN");break;case"AL":x=!0,q="R";break;case"WS":case"BN":q="N";break;case"CS":B<1||B+1>=C.length||(Y=D[B-1])!=="EN"&&Y!=="AN"||(ee=C[B+1])!=="EN"&&ee!=="AN"?q="N":x&&(ee="AN"),q=ee===Y?ee:"N";break;case"ES":q=(Y=B>0?D[B-1]:"B")==="EN"&&B+1<C.length&&C[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&D[B-1]==="EN"){q="EN";break}if(x){q="N";break}for(re=B+1,G=C.length;re<G&&C[re]==="ET";)re++;q=re<G&&C[re]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(G=C.length,re=B+1;re<G&&C[re]==="NSM";)re++;if(re<G){var be=T[B],_e=be>=1425&&be<=2303||be===64286;if(Y=C[re],_e&&(Y==="R"||Y==="AL")){q="R";break}}}q=B<1||(Y=C[B-1])==="B"?"N":D[B-1];break;case"B":x=!1,a=!0,q=w;break;case"S":i=!0,q="N"}return q},A=function(T,C,D){var B=T.split("");return D&&S(B,D,{hiLevel:w}),B.reverse(),C&&C.reverse(),B.join("")},S=function(T,C,D){var B,Y,ee,re,G,q=-1,be=T.length,_e=0,R=[],U=w?p:h,z=[];for(x=!1,a=!1,i=!1,Y=0;Y<be;Y++)z[Y]=E(T[Y]);for(ee=0;ee<be;ee++){if(G=_e,R[ee]=P(T,z,R,ee),B=240&(_e=U[G][m[R[ee]]]),_e&=15,C[ee]=re=U[_e][5],B>0)if(B===16){for(Y=q;Y<ee;Y++)C[Y]=1;q=-1}else q=-1;if(U[_e][6])q===-1&&(q=ee);else if(q>-1){for(Y=q;Y<ee;Y++)C[Y]=re;q=-1}z[ee]==="B"&&(C[ee]=0),D.hiLevel|=re}i&&function(W,Z,le){for(var he=0;he<le;he++)if(W[he]==="S"){Z[he]=w;for(var ae=he-1;ae>=0&&W[ae]==="WS";ae--)Z[ae]=w}}(z,C,be)},k=function(T,C,D,B,Y){if(!(Y.hiLevel<T)){if(T===1&&w===1&&!a)return C.reverse(),void(D&&D.reverse());for(var ee,re,G,q,be=C.length,_e=0;_e<be;){if(B[_e]>=T){for(G=_e+1;G<be&&B[G]>=T;)G++;for(q=_e,re=G-1;q<re;q++,re--)ee=C[q],C[q]=C[re],C[re]=ee,D&&(ee=D[q],D[q]=D[re],D[re]=ee);_e=G}_e++}}},O=function(T,C,D){var B=T.split(""),Y={hiLevel:w};return D||(D=[]),S(B,D,Y),function(ee,re,G){if(G.hiLevel!==0&&u)for(var q,be=0;be<ee.length;be++)re[be]===1&&(q=v.indexOf(ee[be]))>=0&&(ee[be]=v[q+1])}(B,D,Y),k(2,B,C,D,Y),k(1,B,C,D,Y),B.join("")};return this.__bidiEngine__.doBidiReorder=function(T,C,D){if(function(Y,ee){if(ee)for(var re=0;re<Y.length;re++)ee[re]=re;o===void 0&&(o=I(Y)),c===void 0&&(c=I(Y))}(T,C),s||!l||c)if(s&&l&&o^c)w=o?1:0,T=A(T,C,D);else if(!s&&l&&c)w=o?1:0,T=O(T,C,D),T=A(T,C);else if(!s||o||l||c){if(s&&!l&&o^c)T=A(T,C),o?(w=0,T=O(T,C,D)):(w=1,T=O(T,C,D),T=A(T,C));else if(s&&o&&!l&&c)w=1,T=O(T,C,D),T=A(T,C);else if(!s&&!l&&o^c){var B=u;o?(w=1,T=O(T,C,D),w=0,u=!1,T=O(T,C,D),u=B):(w=0,T=O(T,C,D),T=A(T,C),w=1,u=!1,T=O(T,C,D),u=B,T=A(T,C))}}else w=0,T=O(T,C,D);else w=o?1:0,T=O(T,C,D);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,c=T.isOutputRtl,u=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Qt),Qt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new w0(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new fDe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Q6e(this.contents),this.head=new Z6e(this),this.name=new aDe(this),this.cmap=new qte(this),this.toUnicode={},this.hhea=new eDe(this),this.maxp=new iDe(this),this.hmtx=new sDe(this),this.post=new rDe(this),this.os2=new tDe(this),this.loca=new uDe(this),this.glyf=new oDe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var bu,w0=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),Q6e=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,f,h,p,m,g;for(g in p=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),s=Math.floor(f/l),u=16*p-f,(a=new w0).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(s),a.writeShort(u),i=16*p,c=a.pos+i,o=null,m=[],r)for(h=r[g],a.writeString(g),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),m=m.concat(h),g==="head"&&(o=c),c+=h.length;c%4;)m.push(0),c++;return a.write(m),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=Gte.call(r);r.length%4;)r.push(0);for(i=new w0(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),J6e={}.hasOwnProperty,_f=function(e,t){for(var r in t)J6e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};bu=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Z6e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,bu),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new w0).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),fU=function(){function e(t,r){var n,a,i,s,o,l,c,u,f,h,p,m,g,v,y,x,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),h=p/2,t.pos+=6,i=function(){var E,I;for(I=[],l=E=0;0<=h?E<h:E>h;l=0<=h?++E:--E)I.push(t.readUInt16());return I}(),t.pos+=2,g=function(){var E,I;for(I=[],l=E=0;0<=h?E<h:E>h;l=0<=h?++E:--E)I.push(t.readUInt16());return I}(),c=function(){var E,I;for(I=[],l=E=0;0<=h?E<h:E>h;l=0<=h?++E:--E)I.push(t.readUInt16());return I}(),u=function(){var E,I;for(I=[],l=E=0;0<=h?E<h:E>h;l=0<=h?++E:--E)I.push(t.readUInt16());return I}(),a=(this.length-t.pos+this.offset)/2,o=function(){var E,I;for(I=[],l=E=0;0<=a?E<a:E>a;l=0<=a?++E:--E)I.push(t.readUInt16());return I}(),l=y=0,w=i.length;y<w;l=++y)for(v=i[l],n=x=m=g[l];m<=v?x<=v:x>=v;n=m<=v?++x:--x)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-m)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,p,m,g,v,y,x,w,E,I,P,A,S,k,O,T,C,D,B,Y,ee,re,G,q,be,_e,R,U,z,W,Z,le,he,ae,pe,ke,K;switch(B=new w0,s=Object.keys(t).sort(function(qe,Ae){return qe-Ae}),r){case"macroman":for(g=0,v=function(){var qe=[];for(m=0;m<256;++m)qe.push(0);return qe}(),x={0:0},i={},Y=0,q=s.length;Y<q;Y++)x[ae=t[a=s[Y]]]==null&&(x[ae]=++g),i[a]={old:t[a],new:x[t[a]]},v[a]=x[t[a]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(v),{charMap:i,subtable:B.data,maxGlyphID:g+1};case"unicode":for(C=[],f=[],w=0,x={},n={},y=c=null,ee=0,be=s.length;ee<be;ee++)x[I=t[a=s[ee]]]==null&&(x[I]=++w),n[a]={old:I,new:x[I]},o=x[I]-a,y!=null&&o===c||(y&&f.push(y),C.push(a),c=o),y=a;for(y&&f.push(y),f.push(65535),C.push(65535),O=2*(k=C.length),S=2*Math.pow(Math.log(k)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,A=2*k-S,l=[],P=[],p=[],m=re=0,_e=C.length;re<_e;m=++re){if(T=C[m],u=f[m],T===65535){l.push(0),P.push(0);break}if(T-(D=n[T].new)>=32768)for(l.push(0),P.push(2*(p.length+k-m)),a=G=T;T<=u?G<=u:G>=u;a=T<=u?++G:--G)p.push(n[a].new);else l.push(D-T),P.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*k+2*p.length),B.writeUInt16(0),B.writeUInt16(O),B.writeUInt16(S),B.writeUInt16(h),B.writeUInt16(A),le=0,R=f.length;le<R;le++)a=f[le],B.writeUInt16(a);for(B.writeUInt16(0),he=0,U=C.length;he<U;he++)a=C[he],B.writeUInt16(a);for(pe=0,z=l.length;pe<z;pe++)o=l[pe],B.writeUInt16(o);for(ke=0,W=P.length;ke<W;ke++)E=P[ke],B.writeUInt16(E);for(K=0,Z=p.length;K<Z;K++)g=p[K],B.writeUInt16(g);return{charMap:n,subtable:B.data,maxGlyphID:w+1}}},e}(),qte=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,bu),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new fU(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=fU.encode(t,r),(a=new w0).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),eDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,bu),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),tDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,bu),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),rDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,bu),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],i=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;i=0<=o?++s:--s)l.push(t.readUInt32());return l}).call(this)}},e}(),nDe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},aDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,bu),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,s,o,l,c,u,f,h;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},i=u=0,f=n.length;u<f;i=++u)a=n[i],t.pos=a.offset,c=t.readString(a.length),s=new nDe(c,a),l[h=a.nameID]==null&&(l[h]=[]),l[a.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),iDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,bu),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),sDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,bu),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,s,o,l;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)u.push(t.readInt16());return u}(),this.widths=(function(){var c,u,f,h;for(h=[],c=0,u=(f=this.metrics).length;c<u;c++)i=f[c],h.push(i.advance);return h}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=a?s<a:s>a;r=0<=a?++s:--s)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),Gte=[].slice,oDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,bu),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,s,o,l,c,u,f;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,s=(o=new w0(r.read(a))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[t]=s===-1?new cDe(o,c,f,l,u):new lDe(o,s,c,f,l,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,s,o,l;for(s=[],i=[],o=0,l=r.length;o<l;o++)a=t[r[o]],i.push(s.length),a&&(s=s.concat(a.encode(n)));return i.push(s.length),{table:s,offsets:i}},e}(),lDe=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),cDe=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new w0(Gte.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),uDe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return _f(e,bu),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,s=0;s<n.length;++s)if(n[s]=a,i<r.length&&r[i]==s){++i,n[s]=a;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(a+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},e}(),fDe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,p,m,g,v,y;for(a in n=qte.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),p={0:0},y=n.charMap)p[(l=y[a]).old]=l.new;for(m in h=n.maxGlyphID,s)m in p||(p[m]=h++);return u=function(x){var w,E;for(w in E={},x)E[x[w]]=w;return E}(p),f=Object.keys(u).sort(function(x,w){return x-w}),g=function(){var x,w,E;for(E=[],x=0,w=f.length;x<w;x++)o=f[x],E.push(u[o]);return E}(),i=this.font.glyf.encode(s,g,p),c=this.font.loca.encode(i.offsets,g),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Qt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function Kte(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,h=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var p=o;if(n.halign==="center"&&(p*=.5),f&&h>=1){for(var m=0;m<f.length;m++)a.text(f[m],t-a.getStringUnitWidth(f[m])*p,r),r+=c;return a}t-=a.getStringUnitWidth(e)*p}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var dU={},gv=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:dU=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return dU||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),qP=function(e,t){return qP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},qP(e,t)};function Yte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");qP(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Xte=function(e){Yte(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function dDe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function hDe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function h5(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function Qte(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=Jte(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function Jte(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function NT(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Zte(e,t){var r=NT(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function pDe(e,t,r,n,a){var i={},s=1.3333333333333333,o=W4(t,function(w){return a.getComputedStyle(w).backgroundColor});o!=null&&(i.fillColor=o);var l=W4(t,function(w){return a.getComputedStyle(w).color});l!=null&&(i.textColor=l);var c=gDe(n,r);c&&(i.cellPadding=c);var u="borderTopColor",f=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var p=(parseFloat(h)||0)/f;p&&(i.lineWidth=p)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var m=W4(t,function(w){return a.getComputedStyle(w)[u]});m!=null&&(i.lineColor=m);var g=["left","right","center","justify"];g.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),g=["middle","bottom","top"],g.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=mDe(n);y&&(i.fontStyle=y);var x=(n.fontFamily||"").toLowerCase();return e.indexOf(x)!==-1&&(i.font=x),i}function mDe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function W4(e,t){var r=ere(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function ere(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:ere(e.parentElement,t):r}function gDe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=NT(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function tre(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:h};for(var p=0;p<o.rows.length;p++){var m=o.rows[p],g=(s=(i=m==null?void 0:m.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=vDe(l,c,r,m,n,a);v&&(g==="thead"?u.push(v):g==="tfoot"?h.push(v):f.push(v))}return{head:u,body:f,foot:h}}function vDe(e,t,r,n,a,i){for(var s=new Xte(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=pDe(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:yDe(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function yDe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function xDe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function Zf(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function wDe(e,t){var r=new gv(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();xDe(a,n,t);var i=Zf({},a,n,t),s;typeof window<"u"&&(s=window);var o=bDe(a,n,t),l=_De(a,n,t),c=SDe(r,i),u=ADe(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function bDe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],f=r[l];n.columnStyles=Zf({},c,u,f)}else{var h=[e,t,r],p=h.map(function(m){return m[l]||{}});n[l]=Zf({},p[0],p[1],p[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function _De(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function SDe(e,t){var r,n,a,i,s,o,l,c,u,f,h,p,m=NT(t.margin,40/e.scaleFactor()),g=(r=EDe(e,t.startY))!==null&&r!==void 0?r:m.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var x=(i=t.useCss)!==null&&i!==void 0?i:!1,w=t.theme||(x?"plain":"striped"),E=!!t.horizontalPageBreak,I=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:x,theme:w,startY:g,margin:m,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:E,horizontalPageBreakRepeat:I,horizontalPageBreakBehaviour:(p=t.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function EDe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function ADe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=tre(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||TDe(n,a,i);return{columns:l,head:n,body:a,foot:i}}function TDe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var GP=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),kDe=function(e){Yte(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(GP),NDe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new kDe(t,this,n,a,i,s),f=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new GP(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new GP(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),rre=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof Xte&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),nre=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=NT(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),CDe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function PDe(e,t){IDe(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=KP(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=KP(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),DDe(t),jDe(t,e),ODe(t)}function IDe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=Zte(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var f=c.padding("horizontal");c.contentWidth=h5(c.text,c.styles,e)+f;var h=h5(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var p=10/r;c.minWidth=c.styles.minCellWidth||p,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function KP(e,t,r){for(var n=t,a=e.reduce(function(p,m){return p+m.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),f=c<u?u:c;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(p){return t<0?p.width>r(p):!0});h.length&&(t=KP(h,t,r))}return t}function ODe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=n.length-a,h=u.rowSpan>f?f:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function DDe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function jDe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=hU(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=hU(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function hU(e,t,r,n,a){return e.map(function(i){return RDe(i,t,r,n,a)})}function RDe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=h5(e,r,n))return e;for(;t<h5(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function LDe(e,t){var r=new gv(e),n=MDe(t,r.scaleFactor()),a=new NDe(t,n);return PDe(r,a),r.applyStyles(r.userStyles),a}function MDe(e,t){var r=e.content,n=BDe(r.columns);if(r.head.length===0){var a=pU(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=pU(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:H4("head",r.head,n,s,i,t),body:H4("body",r.body,n,s,i,t),foot:H4("foot",r.foot,n,s,i,t)}}function H4(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,f={},h=0,p=0,m=0,g=r;m<g.length;m++){var v=g[m];if(s[v.index]==null||s[v.index].left===0)if(p===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var x={};typeof y=="object"&&!Array.isArray(y)&&(x=(y==null?void 0:y.styles)||{});var w=$De(e,v,c,a,n,i,x),E=new nre(y,w,e);f[v.dataKey]=E,f[v.index]=E,p=E.colSpan-1,s[v.index]={left:E.rowSpan-1,times:p}}else p--,h++;else s[v.index].left--,p=s[v.index].times,u++}return new rre(l,c,e,f)});return o}function pU(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=FDe(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function FDe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function BDe(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new CDe(a,t,r)})}function $De(e,t,r,n,a,i,s){var o=hDe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=Zf({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},h=e==="body"&&r%2===0?Zf({},o.alternateRow,a.alternateRowStyles):{},p=dDe(i),m=Zf({},p,c,h,f);return Zf(m,s)}function UDe(e,t,r){var n;r===void 0&&(r={});var a=Zte(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var p=t.columns.find(function(m){return m.dataKey===h||m.index===h});p&&!i.has(p.index)&&(i.set(p.index,!0),s.push(p.index),o.push(t.columns[p.index]),a-=p.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(c||a>=f)c=!1,s.push(u),o.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function VDe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=UDe(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function zDe(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,p){return h+p.height},0);o+=c}var u=new gv(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(ire(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var f=Zf({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?WDe(u,t,f,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Nd(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,p){var m=p===t.body.length-1;p5(u,t,h,m,f,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Nd(u,t,h,i,t.columns)})),Qte(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function WDe(e,t,r,n){var a=VDe(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?Lx(e,t,r,n,c.columns,!0):mU(e,t,n,c.columns),HDe(e,t,r,n,c.columns),q4(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?Lx(e,t,r,n,u,!0):mU(e,t,n,u),c=gU(e,t,s+1,n,u),q4(e,t,n,u)}var f=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),Lx(e,t,r,n,h.columns,!0),gU(e,t,s+1,n,h.columns,f),q4(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function mU(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Nd(e,t,i,r,n)})}function HDe(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;p5(e,t,i,o,r,n,a)})}function gU(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,f=are(e,t,u,n);l.canEntireRowFit(f,a)&&(Nd(e,t,l,n,a),o=r+c)}),o}function q4(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Nd(e,t,i,r,n)})}function qDe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function GDe(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new nre(c.raw,c.styles,c.section);u=Zf(u,c),u.text=[];var f=qDe(c,t,n);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var h=n.scaleFactor(),p=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,p),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,p),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var m=new rre(e.raw,-1,e.section,a,!0);m.height=i;for(var g=0,v=r.columns;g<v.length;g++){var l=v[g],u=m.cells[l.index];u&&(u.height=m.height);var c=e.cells[l.index];c&&(c.height=e.height)}return m}function KDe(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function p5(e,t,r,n,a,i,s){var o=are(e,t,n,i);if(r.canEntireRowFit(o,s))Nd(e,t,r,i,s);else if(KDe(e,r,o,t)){var l=GDe(r,o,t,e);Nd(e,t,r,i,s),Lx(e,t,a,i,s),p5(e,t,l,n,a,i,s)}else Lx(e,t,a,i,s),p5(e,t,r,n,a,i,s)}function Nd(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}YDe(e,l,n);var u=l.getTextPos();Kte(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function YDe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=Jte(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),XDe(e,t,r,n.lineWidth))}function XDe(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,f,h,p){e.getDocument().setLineWidth(c),e.getDocument().line(u,f,h,p,"S")}}function are(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Lx(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return Nd(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;Qte(e,t,r,n),ire(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Nd(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function ire(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function QDe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=wDe(this,n),i=LDe(this,a);return zDe(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){Kte(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return gv.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){gv.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new gv(this),i=tre(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var G4;try{if(typeof window<"u"&&window){var vU=window,yU=vU.jsPDF||((G4=vU.jspdf)===null||G4===void 0?void 0:G4.jsPDF);yU&&QDe(yU)}}catch(e){console.error("Could not apply autoTable plugin",e)}function JDe(){const{callData:e,callMetrics:t,processedData:r,isLoading:n,lastUpdated:a,dataSource:i,clearData:s,hasData:o,getSuccessRate:l,getOperatorMetrics:c,getHourlyDistribution:u,getFollowUpData:f}=Vv(),{operators:h,operatorAssignments:p,getAllAssignments:m}=mo(),[g,v]=j.useState(!1),y=A=>{if(!A)return"N/A";try{return new Date(A).toLocaleString()}catch{return"N/A"}},w=(()=>{console.log("🔄 [AUDIT] === USANDO DATOS REALES DE ASIGNACIONES ==="),console.log("📞 [AUDIT] Estado del CallStore:",{callData:(e==null?void 0:e.length)||0,processedData:(r==null?void 0:r.length)||0,hasData:o,dataSource:i});const A=m();console.log("📋 [AUDIT] Total asignaciones en el sistema:",A.length);const S={};A.forEach(T=>{const C=T.operatorName||T.operator;C&&(S[C]||(S[C]=[]),S[C].push(T))}),console.log("📊 [AUDIT] Asignaciones por operador:",Object.entries(S).map(([T,C])=>`${T}: ${C.length} asignaciones`).join(", "));try{console.log("📞 [AUDIT] Obteniendo métricas de llamadas con",A.length,"asignaciones...");const T=c(A);console.log("📞 [AUDIT] Métricas de llamadas obtenidas:",T);const C=[];return Object.entries(S).forEach(([D,B])=>{const Y=h==null?void 0:h.find(le=>le.name===D),ee=(T==null?void 0:T.find(le=>le.operatorName===D))||{},re=B.length,G=ee.totalCalls||0,q=ee.successfulCalls||0,be=ee.failedCalls||G-q,_e=G>0?Math.round(q/G*100):0,R=ee.totalEffectiveMinutes||0,U=q>0?Math.round(R/q*10)/10:0,z=ee.contactedBeneficiaries||0,W=Math.max(0,re-z),Z=re>0?Math.round(G/re*10)/10:0;C.push({operatorName:D,operatorInfo:Y||{id:D.toLowerCase().replace(/\s+/g,""),name:D,email:`${D.toLowerCase().replace(/\s+/g,".")}@empresa.com`,turno:"Día"},assignedBeneficiaries:re,totalCalls:G,successfulCalls:q,failedCalls:be,successRate:_e,totalEffectiveMinutes:R,averageMinutesPerCall:U,contactedBeneficiaries:z,uncontactedBeneficiaries:W,averageCallsPerBeneficiary:Z,beneficiariesWithCalls:z,allCallsData:ee.allCallsData||[]}),console.log(`✅ [AUDIT] Procesado ${D}: ${re} asignaciones reales, ${G} llamadas`)}),h==null||h.forEach(D=>{if(!S[D.name]){const B=(T==null?void 0:T.find(Y=>Y.operatorName===D.name))||{};C.push({operatorName:D.name,operatorInfo:D,assignedBeneficiaries:0,totalCalls:B.totalCalls||0,successfulCalls:B.successfulCalls||0,failedCalls:B.failedCalls||0,successRate:B.successRate||0,totalEffectiveMinutes:B.totalEffectiveMinutes||0,averageMinutesPerCall:B.averageMinutesPerCall||0,contactedBeneficiaries:0,uncontactedBeneficiaries:0,averageCallsPerBeneficiary:0,beneficiariesWithCalls:0,allCallsData:[]}),console.log(`ℹ️ [AUDIT] Agregado ${D.name}: sin asignaciones`)}}),console.log("✅ [AUDIT] Datos finales procesados:",C.length,"operadores con datos reales"),C.sort((D,B)=>B.assignedBeneficiaries-D.assignedBeneficiaries)}catch(T){console.error("❌ [AUDIT] Error procesando datos reales:",T)}console.log("🔄 [AUDIT] Usando datos híbridos: asignaciones reales + métricas conocidas");const k={"Javiera Reyes Alvarado":{totalCalls:361,successfulCalls:235,failedCalls:126,successRate:65,totalEffectiveMinutes:705,averageMinutesPerCall:3,contactedBeneficiaries:286},"Daniela Carmona":{totalCalls:274,successfulCalls:175,failedCalls:99,successRate:64,totalEffectiveMinutes:481.3,averageMinutesPerCall:2.8,contactedBeneficiaries:200},"Karol Aguayo":{totalCalls:274,successfulCalls:163,failedCalls:111,successRate:59,totalEffectiveMinutes:475.4,averageMinutesPerCall:2.9,contactedBeneficiaries:190},"Antonella Valdebenito":{totalCalls:38,successfulCalls:30,failedCalls:8,successRate:79,totalEffectiveMinutes:97.5,averageMinutesPerCall:3.3,contactedBeneficiaries:25}},O=Object.entries(S).map(([T,C])=>{const D=h==null?void 0:h.find(W=>W.name===T),B=k[T]||{},Y=C.length,ee=B.totalCalls||0,re=B.successfulCalls||0,G=B.failedCalls||0,q=B.successRate||0,be=B.totalEffectiveMinutes||0,_e=B.averageMinutesPerCall||0,R=B.contactedBeneficiaries||0,U=Math.max(0,Y-R),z=Y>0?Math.round(ee/Y*10)/10:0;return{operatorName:T,operatorInfo:D||{id:T.toLowerCase().replace(/\s+/g,""),name:T,email:`${T.toLowerCase().replace(/\s+/g,".")}@empresa.com`,turno:"Día"},assignedBeneficiaries:Y,totalCalls:ee,successfulCalls:re,failedCalls:G,successRate:q,totalEffectiveMinutes:be,averageMinutesPerCall:_e,contactedBeneficiaries:R,uncontactedBeneficiaries:U,averageCallsPerBeneficiary:z,beneficiariesWithCalls:R,allCallsData:[]}});return h==null||h.forEach(T=>{if(!S[T.name]){const C=k[T.name]||{};O.push({operatorName:T.name,operatorInfo:T,assignedBeneficiaries:0,totalCalls:C.totalCalls||0,successfulCalls:C.successfulCalls||0,failedCalls:C.failedCalls||0,successRate:C.successRate||0,totalEffectiveMinutes:C.totalEffectiveMinutes||0,averageMinutesPerCall:C.averageMinutesPerCall||0,contactedBeneficiaries:C.contactedBeneficiaries||0,uncontactedBeneficiaries:0,averageCallsPerBeneficiary:0,beneficiariesWithCalls:C.contactedBeneficiaries||0,allCallsData:[]})}}),console.log("✅ [AUDIT] Datos híbridos procesados:",O.length,"operadores"),O.forEach(T=>{console.log(`  ${T.operatorName}: ${T.assignedBeneficiaries} asignaciones reales, ${T.totalCalls} llamadas`)}),O.sort((T,C)=>C.assignedBeneficiaries-T.assignedBeneficiaries)})();console.log("📋 [AUDIT] Datos finales:",{operatorCallMetrics:w}),console.log("🔍 [DEBUG] Verificación de asignaciones por operador:"),w.forEach(A=>{console.log(`  ${A.operatorName}: ${A.assignedBeneficiaries} asignaciones reales`)});const E=w.reduce((A,S)=>({totalCalls:A.totalCalls+S.totalCalls,totalSuccessfulCalls:A.totalSuccessfulCalls+S.successfulCalls,totalFailedCalls:A.totalFailedCalls+S.failedCalls,totalAssignedBeneficiaries:A.totalAssignedBeneficiaries+S.assignedBeneficiaries,totalContactedBeneficiaries:A.totalContactedBeneficiaries+S.contactedBeneficiaries,totalEffectiveMinutes:A.totalEffectiveMinutes+S.totalEffectiveMinutes}),{totalCalls:0,totalSuccessfulCalls:0,totalFailedCalls:0,totalAssignedBeneficiaries:0,totalContactedBeneficiaries:0,totalEffectiveMinutes:0}),I=()=>{v(!0);try{const A=new Qt;A.setFontSize(18),A.setFont("helvetica","bold"),A.text("CENTRO DE TELEASISTENCIA",20,12),A.setFontSize(14),A.setFont("helvetica","normal"),A.text("REPORTE DE AUDITORÍA AVANZADA",20,22);const S=new Date,k=S.toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),O=S.toLocaleTimeString("es-CL");A.setFontSize(10),A.text(`Generado el ${k} a las ${O}`,20,32),A.text("Datos sincronizados con Dashboard Principal",20,38);let T=50;A.setFontSize(12),A.setFont("helvetica","bold"),A.text("RESUMEN EJECUTIVO",20,T),T+=10,A.setFont("helvetica","normal"),A.setFontSize(9),A.text(`• Total de Llamadas Realizadas: ${E.totalCalls.toLocaleString()}`,25,T),T+=5,A.text(`• Llamadas Exitosas: ${E.totalSuccessfulCalls.toLocaleString()} (${Math.round(E.totalSuccessfulCalls/E.totalCalls*100)}%)`,25,T),T+=5,A.text(`• Llamadas Fallidas: ${E.totalFailedCalls.toLocaleString()} (${Math.round(E.totalFailedCalls/E.totalCalls*100)}%)`,25,T),T+=5,A.text(`• Beneficiarios Asignados: ${E.totalAssignedBeneficiaries.toLocaleString()}`,25,T),T+=5,A.text(`• Beneficiarios Contactados: ${E.totalContactedBeneficiaries.toLocaleString()}`,25,T),T+=5,A.text(`• Tiempo Total Efectivo: ${E.totalEffectiveMinutes.toLocaleString()} minutos`,25,T),T+=15,A.setFontSize(12),A.setFont("helvetica","bold"),A.text("MÉTRICAS DETALLADAS POR TELEOPERADORA",20,T),T+=10;const C=w.map((Y,ee)=>[Y.operatorName,Y.totalCalls.toString(),Y.assignedBeneficiaries.toString(),Y.contactedBeneficiaries.toString(),Y.uncontactedBeneficiaries.toString(),Y.successfulCalls.toString(),Y.failedCalls.toString(),`${Y.successRate}%`,`${Y.totalEffectiveMinutes} min`,`${Y.averageMinutesPerCall} min`,Y.averageCallsPerBeneficiary.toString()]);A.autoTable({startY:T,head:[["Teleoperadora","Total Llamadas","Asignados","Contactados","Sin Contactar","Exitosas","Fallidas","Tasa Éxito","Min. Efectivos","Min/Llamada","Llamadas/Benef."]],body:C,theme:"striped",headStyles:{fillColor:[41,128,185],textColor:255,fontSize:8,halign:"center"},bodyStyles:{fontSize:7,halign:"center"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{halign:"left",cellWidth:35},1:{cellWidth:15},2:{cellWidth:15},3:{cellWidth:15},4:{cellWidth:15},5:{cellWidth:15},6:{cellWidth:15},7:{cellWidth:15},8:{cellWidth:20},9:{cellWidth:15},10:{cellWidth:15}}});const D=A.internal.getNumberOfPages();for(let Y=1;Y<=D;Y++)A.setPage(Y),A.setFontSize(8),A.setFont("helvetica","italic"),A.text(`Página ${Y} de ${D} - Reporte generado automáticamente`,A.internal.pageSize.width/2,A.internal.pageSize.height-10,{align:"center"});const B=`auditoria_avanzada_${S.toISOString().split("T")[0]}.pdf`;A.save(B),console.log("✅ [AUDIT] PDF generado exitosamente:",B)}catch(A){console.error("❌ [AUDIT] Error generando PDF:",A),alert("Error generando el reporte PDF. Revise la consola para más detalles.")}finally{v(!1)}},P=()=>{const A=[["Teleoperadora","Total Llamadas","Asignados","Contactados","Sin Contactar","Exitosas","Fallidas","Tasa Éxito","Min. Efectivos","Min/Llamada","Llamadas/Benef."],...w.map(T=>[T.operatorName,T.totalCalls,T.assignedBeneficiaries,T.contactedBeneficiaries,T.uncontactedBeneficiaries,T.successfulCalls,T.failedCalls,`${T.successRate}%`,T.totalEffectiveMinutes,T.averageMinutesPerCall,T.averageCallsPerBeneficiary])].map(T=>T.join(",")).join(`
`),S=new Blob([A],{type:"text/csv;charset=utf-8;"}),k=document.createElement("a"),O=URL.createObjectURL(S);k.setAttribute("href",O),k.setAttribute("download",`auditoria_avanzada_${new Date().toISOString().split("T")[0]}.csv`),k.style.visibility="hidden",document.body.appendChild(k),k.click(),document.body.removeChild(k)};return d.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[d.jsx("div",{className:"mb-8",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"📊 Auditoría Avanzada"}),d.jsx("p",{className:"text-gray-600",children:"Análisis completo de métricas por teleoperadora - Asignaciones reales + Métricas verificadas"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(vx,{size:20}),"Exportar Excel"]}),d.jsxs("button",{onClick:I,disabled:g,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[g?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):d.jsx(u2,{size:20}),g?"Generando...":"Generar PDF"]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ha,{className:"text-blue-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Llamadas"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.totalCalls.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(am,{className:"text-green-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Exitosas"}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:E.totalSuccessfulCalls.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(fc,{className:"text-red-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Fallidas"}),d.jsx("p",{className:"text-2xl font-bold text-red-600",children:E.totalFailedCalls.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ai,{className:"text-purple-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Asignados"}),d.jsx("p",{className:"text-2xl font-bold text-purple-600",children:E.totalAssignedBeneficiaries.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ss,{className:"text-indigo-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Contactados"}),d.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:E.totalContactedBeneficiaries.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(ws,{className:"text-orange-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Min. Efectivos"}),d.jsx("p",{className:"text-2xl font-bold text-orange-600",children:E.totalEffectiveMinutes.toLocaleString()})]})]})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:w.map((A,S)=>{var k;return d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:d.jsx(Ss,{className:"text-white",size:24})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:A.operatorName}),d.jsx("p",{className:"text-sm text-gray-600",children:((k=A.operatorInfo)==null?void 0:k.turno)||"Día"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Total Llamadas:"}),d.jsx("span",{className:"font-semibold text-gray-900",children:A.totalCalls})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Exitosas:"}),d.jsx("span",{className:"font-semibold text-green-600",children:A.successfulCalls})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Fallidas:"}),d.jsx("span",{className:"font-semibold text-red-600",children:A.failedCalls})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Tasa Éxito:"}),d.jsxs("span",{className:`font-semibold ${A.successRate>=60?"text-green-600":"text-orange-600"}`,children:[A.successRate,"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Asignados:"}),d.jsx("span",{className:"font-semibold text-purple-600",children:A.assignedBeneficiaries})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Contactados:"}),d.jsx("span",{className:"font-semibold text-indigo-600",children:A.contactedBeneficiaries})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Sin Contactar:"}),d.jsx("span",{className:"font-semibold text-orange-600",children:A.uncontactedBeneficiaries})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Min. Efectivos:"}),d.jsx("span",{className:"font-semibold text-blue-600",children:A.totalEffectiveMinutes})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Min/Llamada:"}),d.jsx("span",{className:"font-semibold text-cyan-600",children:A.averageMinutesPerCall})]})]})]},S)})}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ℹ️ Información del Sistema"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Última Actualización:"})," ",y(a)]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Estado de Datos:"})," ",d.jsx("span",{className:"text-green-600",children:"✅ Datos Reales del Sistema"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Total Operadores:"})," ",w.length]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Total Asignaciones:"})," ",w.reduce((A,S)=>A+S.assignedBeneficiaries,0)]})]}),d.jsxs("div",{children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Fuente de Asignaciones:"})," ",d.jsx("span",{className:"text-green-600",children:"Módulo Asignaciones (Real)"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Fuente de Llamadas:"})," ",d.jsx("span",{className:"text-blue-600",children:"Dashboard (Verificado)"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Consistencia:"})," ",d.jsx("span",{className:"text-green-600",children:"✅ Híbrido Real"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Modo:"})," Auditoría con Datos Verificados"]})]})]})]})]})}class wh extends Pe.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error capturado por ErrorBoundary:",t,r)}render(){return this.state.hasError?d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 m-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error en la aplicación"}),d.jsx("p",{className:"text-red-600 mb-4",children:"Ha ocurrido un error inesperado. Por favor, recarga la página."}),d.jsxs("details",{className:"text-sm text-red-700",children:[d.jsx("summary",{className:"cursor-pointer",children:"Detalles técnicos"}),d.jsx("pre",{className:"mt-2 whitespace-pre-wrap",children:this.state.error&&this.state.error.toString()})]}),d.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null})},className:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Intentar nuevamente"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 ml-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Recargar página"})]}):this.props.children}}const wj=j.createContext({});function bj(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const _j=typeof window<"u",sre=_j?j.useLayoutEffect:j.useEffect,CT=j.createContext(null);function Sj(e,t){e.indexOf(t)===-1&&e.push(t)}function Ej(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Cd=(e,t,r)=>r>t?t:r<e?e:r;let Aj=()=>{};const Pd={},ore=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function lre(e){return typeof e=="object"&&e!==null}const cre=e=>/^0[^.\s]+$/u.test(e);function Tj(e){let t;return()=>(t===void 0&&(t=e()),t)}const xc=e=>e,ZDe=(e,t)=>r=>t(e(r)),Xw=(...e)=>e.reduce(ZDe),$2=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class kj{constructor(){this.subscriptions=[]}add(t){return Sj(this.subscriptions,t),()=>Ej(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nf=e=>e*1e3,af=e=>e/1e3;function ure(e,t){return t?e*(1e3/t):0}const fre=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,eje=1e-7,tje=12;function rje(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=fre(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>eje&&++o<tje);return s}function Qw(e,t,r,n){if(e===t&&r===n)return xc;const a=i=>rje(i,0,1,e,r);return i=>i===0||i===1?i:fre(a(i),t,n)}const dre=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hre=e=>t=>1-e(1-t),pre=Qw(.33,1.53,.69,.99),Nj=hre(pre),mre=dre(Nj),gre=e=>(e*=2)<1?.5*Nj(e):.5*(2-Math.pow(2,-10*(e-1))),Cj=e=>1-Math.sin(Math.acos(e)),vre=hre(Cj),yre=dre(Cj),nje=Qw(.42,0,1,1),aje=Qw(0,0,.58,1),xre=Qw(.42,0,.58,1),ije=e=>Array.isArray(e)&&typeof e[0]!="number",wre=e=>Array.isArray(e)&&typeof e[0]=="number",sje={linear:xc,easeIn:nje,easeInOut:xre,easeOut:aje,circIn:Cj,circInOut:yre,circOut:vre,backIn:Nj,backInOut:mre,backOut:pre,anticipate:gre},oje=e=>typeof e=="string",xU=e=>{if(wre(e)){Aj(e.length===4);const[t,r,n,a]=e;return Qw(t,r,n,a)}else if(oje(e))return sje[e];return e},$_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lje(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,f=!1,h=!1)=>{const m=h&&a?r:n;return f&&s.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(l),r.clear(),a=!1,i&&(i=!1,c.process(u))}};return c}const cje=40;function bre(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=$_.reduce((w,E)=>(w[E]=lje(i),w),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:p,postRender:m}=s,g=()=>{const w=Pd.useManualTiming?a.timestamp:performance.now();r=!1,Pd.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,cje),1)),a.timestamp=w,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),p.process(a),m.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},v=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:$_.reduce((w,E)=>{const I=s[E];return w[E]=(P,A=!1,S=!1)=>(r||v(),I.schedule(P,A,S)),w},{}),cancel:w=>{for(let E=0;E<$_.length;E++)s[$_[E]].cancel(w)},state:a,steps:s}}const{schedule:ya,cancel:b0,state:ms,steps:K4}=bre(typeof requestAnimationFrame<"u"?requestAnimationFrame:xc,!0);let VS;function uje(){VS=void 0}const $o={now:()=>(VS===void 0&&$o.set(ms.isProcessing||Pd.useManualTiming?ms.timestamp:performance.now()),VS),set:e=>{VS=e,queueMicrotask(uje)}},_re=e=>t=>typeof t=="string"&&t.startsWith(e),Pj=_re("--"),fje=_re("var(--"),Ij=e=>fje(e)?dje.test(e.split("/*")[0].trim()):!1,dje=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,T1={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},U2={...T1,transform:e=>Cd(0,1,e)},U_={...T1,default:1},Mx=e=>Math.round(e*1e5)/1e5,Oj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function hje(e){return e==null}const pje=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Dj=(e,t)=>r=>!!(typeof r=="string"&&pje.test(r)&&r.startsWith(e)||t&&!hje(r)&&Object.prototype.hasOwnProperty.call(r,t)),Sre=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(Oj);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},mje=e=>Cd(0,255,e),Y4={...T1,transform:e=>Math.round(mje(e))},Pp={test:Dj("rgb","red"),parse:Sre("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Y4.transform(e)+", "+Y4.transform(t)+", "+Y4.transform(r)+", "+Mx(U2.transform(n))+")"};function gje(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const YP={test:Dj("#"),parse:gje,transform:Pp.transform},Jw=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Sh=Jw("deg"),sf=Jw("%"),pr=Jw("px"),vje=Jw("vh"),yje=Jw("vw"),wU={...sf,parse:e=>sf.parse(e)/100,transform:e=>sf.transform(e*100)},Hg={test:Dj("hsl","hue"),parse:Sre("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+sf.transform(Mx(t))+", "+sf.transform(Mx(r))+", "+Mx(U2.transform(n))+")"},xi={test:e=>Pp.test(e)||YP.test(e)||Hg.test(e),parse:e=>Pp.test(e)?Pp.parse(e):Hg.test(e)?Hg.parse(e):YP.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pp.transform(e):Hg.transform(e),getAnimatableNone:e=>{const t=xi.parse(e);return t.alpha=0,xi.transform(t)}},xje=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wje(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Oj))==null?void 0:t.length)||0)+(((r=e.match(xje))==null?void 0:r.length)||0)>0}const Ere="number",Are="color",bje="var",_je="var(",bU="${}",Sje=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function V2(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(Sje,l=>(xi.test(l)?(n.color.push(i),a.push(Are),r.push(xi.parse(l))):l.startsWith(_je)?(n.var.push(i),a.push(bje),r.push(l)):(n.number.push(i),a.push(Ere),r.push(parseFloat(l))),++i,bU)).split(bU);return{values:r,split:o,indexes:n,types:a}}function Tre(e){return V2(e).values}function kre(e){const{split:t,types:r}=V2(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===Ere?i+=Mx(a[s]):o===Are?i+=xi.transform(a[s]):i+=a[s]}return i}}const Eje=e=>typeof e=="number"?0:xi.test(e)?xi.getAnimatableNone(e):e;function Aje(e){const t=Tre(e);return kre(e)(t.map(Eje))}const _0={test:wje,parse:Tre,createTransformer:kre,getAnimatableNone:Aje};function X4(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Tje({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=X4(l,o,e+1/3),i=X4(l,o,e),s=X4(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function m5(e,t){return r=>r>0?t:e}const ka=(e,t,r)=>e+(t-e)*r,Q4=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},kje=[YP,Pp,Hg],Nje=e=>kje.find(t=>t.test(e));function _U(e){const t=Nje(e);if(!t)return!1;let r=t.parse(e);return t===Hg&&(r=Tje(r)),r}const SU=(e,t)=>{const r=_U(e),n=_U(t);if(!r||!n)return m5(e,t);const a={...r};return i=>(a.red=Q4(r.red,n.red,i),a.green=Q4(r.green,n.green,i),a.blue=Q4(r.blue,n.blue,i),a.alpha=ka(r.alpha,n.alpha,i),Pp.transform(a))},XP=new Set(["none","hidden"]);function Cje(e,t){return XP.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Pje(e,t){return r=>ka(e,t,r)}function jj(e){return typeof e=="number"?Pje:typeof e=="string"?Ij(e)?m5:xi.test(e)?SU:Dje:Array.isArray(e)?Nre:typeof e=="object"?xi.test(e)?SU:Ije:m5}function Nre(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>jj(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function Ije(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=jj(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Oje(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const Dje=(e,t)=>{const r=_0.createTransformer(t),n=V2(e),a=V2(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?XP.has(e)&&!a.values.length||XP.has(t)&&!n.values.length?Cje(e,t):Xw(Nre(Oje(n,a),a.values),r):m5(e,t)};function Cre(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?ka(e,t,r):jj(e)(e,t)}const jje=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ya.update(t,r),stop:()=>b0(t),now:()=>ms.isProcessing?ms.timestamp:$o.now()}},Pre=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},g5=2e4;function Rj(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<g5;)t+=r,n=e.next(t);return t>=g5?1/0:t}function Rje(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(Rj(n),g5);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:af(a)}}const Lje=5;function Ire(e,t,r){const n=Math.max(t-Lje,0);return ure(r-e(n),t-n)}const Ua={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},J4=.001;function Mje({duration:e=Ua.duration,bounce:t=Ua.bounce,velocity:r=Ua.velocity,mass:n=Ua.mass}){let a,i,s=1-t;s=Cd(Ua.minDamping,Ua.maxDamping,s),e=Cd(Ua.minDuration,Ua.maxDuration,af(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,p=QP(c,s),m=Math.exp(-f);return J4-h/p*m},i=c=>{const f=c*s*e,h=f*r+r,p=Math.pow(s,2)*Math.pow(c,2)*e,m=Math.exp(-f),g=QP(Math.pow(c,2),s);return(-a(c)+J4>0?-1:1)*((h-p)*m)/g}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-J4+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=Bje(a,i,o);if(e=nf(e),isNaN(l))return{stiffness:Ua.stiffness,damping:Ua.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const Fje=12;function Bje(e,t,r){let n=r;for(let a=1;a<Fje;a++)n=n-e(n)/t(n);return n}function QP(e,t){return e*Math.sqrt(1-t*t)}const $je=["duration","bounce"],Uje=["stiffness","damping","mass"];function EU(e,t){return t.some(r=>e[r]!==void 0)}function Vje(e){let t={velocity:Ua.velocity,stiffness:Ua.stiffness,damping:Ua.damping,mass:Ua.mass,isResolvedFromDuration:!1,...e};if(!EU(e,Uje)&&EU(e,$je))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Cd(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Ua.mass,stiffness:a,damping:i}}else{const r=Mje(e);t={...t,...r,mass:Ua.mass},t.isResolvedFromDuration=!0}return t}function v5(e=Ua.visualDuration,t=Ua.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=Vje({...r,velocity:-af(r.velocity||0)}),m=h||0,g=c/(2*Math.sqrt(l*u)),v=s-i,y=af(Math.sqrt(l/u)),x=Math.abs(v)<5;n||(n=x?Ua.restSpeed.granular:Ua.restSpeed.default),a||(a=x?Ua.restDelta.granular:Ua.restDelta.default);let w;if(g<1){const I=QP(y,g);w=P=>{const A=Math.exp(-g*y*P);return s-A*((m+g*y*v)/I*Math.sin(I*P)+v*Math.cos(I*P))}}else if(g===1)w=I=>s-Math.exp(-y*I)*(v+(m+y*v)*I);else{const I=y*Math.sqrt(g*g-1);w=P=>{const A=Math.exp(-g*y*P),S=Math.min(I*P,300);return s-A*((m+g*y*v)*Math.sinh(S)+I*v*Math.cosh(S))/I}}const E={calculatedDuration:p&&f||null,next:I=>{const P=w(I);if(p)o.done=I>=f;else{let A=I===0?m:0;g<1&&(A=I===0?nf(m):Ire(w,I,P));const S=Math.abs(A)<=n,k=Math.abs(s-P)<=a;o.done=S&&k}return o.value=o.done?s:P,o},toString:()=>{const I=Math.min(Rj(E),g5),P=Pre(A=>E.next(I*A).value,I,30);return I+"ms "+P},toTransition:()=>{}};return E}v5.applyToOptions=e=>{const t=Rje(e,100,v5);return e.ease=t.ease,e.duration=nf(t.duration),e.type="keyframes",e};function JP({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=S=>o!==void 0&&S<o||l!==void 0&&S>l,m=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let g=r*t;const v=f+g,y=s===void 0?v:s(v);y!==v&&(g=y-f);const x=S=>-g*Math.exp(-S/n),w=S=>y+x(S),E=S=>{const k=x(S),O=w(S);h.done=Math.abs(k)<=c,h.value=h.done?y:O};let I,P;const A=S=>{p(h.value)&&(I=S,P=v5({keyframes:[h.value,m(h.value)],velocity:Ire(w,S,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return A(0),{calculatedDuration:null,next:S=>{let k=!1;return!P&&I===void 0&&(k=!0,E(S),A(S)),I!==void 0&&S>=I?P.next(S-I):(!k&&E(S),h)}}}function zje(e,t,r){const n=[],a=r||Pd.mix||Cre,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||xc:t;o=Xw(l,o)}n.push(o)}return n}function Wje(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(Aj(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=zje(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=$2(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Cd(e[0],e[i-1],u)):c}function Hje(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=$2(0,t,n);e.push(ka(r,1,a))}}function qje(e){const t=[0];return Hje(t,e.length-1),t}function Gje(e,t){return e.map(r=>r*t)}function Kje(e,t){return e.map(()=>t||xre).splice(0,e.length-1)}function Fx({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=ije(n)?n.map(xU):xU(n),i={done:!1,value:t[0]},s=Gje(r&&r.length===t.length?r:qje(t),e),o=Wje(s,t,{ease:Array.isArray(a)?a:Kje(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const Yje=e=>e!==null;function Lj(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(Yje),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const Xje={decay:JP,inertia:JP,tween:Fx,keyframes:Fx,spring:v5};function Ore(e){typeof e.type=="string"&&(e.type=Xje[e.type])}class Mj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Qje=e=>e/100;class Fj extends Mj{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==$o.now()&&this.tick($o.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Ore(t);const{type:r=Fx,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||Fx;l!==Fx&&typeof o[0]!="number"&&(this.mixKeyframes=Xw(Qje,Cre(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=Rj(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:m,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,E=n;if(f){const S=Math.min(this.currentTime,a)/o;let k=Math.floor(S),O=S%1;!O&&S>=1&&(O=1),O===1&&k--,k=Math.min(k,f+1),!!(k%2)&&(h==="reverse"?(O=1-O,p&&(O-=p/o)):h==="mirror"&&(E=s)),w=Cd(0,1,O)*o}const I=x?{done:!1,value:u[0]}:E.next(w);i&&(I.value=i(I.value));let{done:P}=I;!x&&l!==null&&(P=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return A&&m!==JP&&(I.value=Lj(u,this.options,v,this.speed)),g&&g(I.value),A&&this.finish(),I}then(t,r){return this.finished.then(t,r)}get duration(){return af(this.calculatedDuration)}get time(){return af(this.currentTime)}set time(t){var r;t=nf(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime($o.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=af(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=jje,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime($o.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Jje(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ip=e=>e*180/Math.PI,ZP=e=>{const t=Ip(Math.atan2(e[1],e[0]));return eI(t)},Zje={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ZP,rotateZ:ZP,skewX:e=>Ip(Math.atan(e[1])),skewY:e=>Ip(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},eI=e=>(e=e%360,e<0&&(e+=360),e),AU=ZP,TU=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),kU=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),eRe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TU,scaleY:kU,scale:e=>(TU(e)+kU(e))/2,rotateX:e=>eI(Ip(Math.atan2(e[6],e[5]))),rotateY:e=>eI(Ip(Math.atan2(-e[2],e[0]))),rotateZ:AU,rotate:AU,skewX:e=>Ip(Math.atan(e[4])),skewY:e=>Ip(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function tI(e){return e.includes("scale")?1:0}function rI(e,t){if(!e||e==="none")return tI(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=eRe,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Zje,a=o}if(!a)return tI(t);const i=n[t],s=a[1].split(",").map(rRe);return typeof i=="function"?i(s):s[i]}const tRe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return rI(r,t)};function rRe(e){return parseFloat(e.trim())}const k1=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],N1=new Set(k1),NU=e=>e===T1||e===pr,nRe=new Set(["x","y","z"]),aRe=k1.filter(e=>!nRe.has(e));function iRe(e){const t=[];return aRe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const zp={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>rI(t,"x"),y:(e,{transform:t})=>rI(t,"y")};zp.translateX=zp.x;zp.translateY=zp.y;const Wp=new Set;let nI=!1,aI=!1,iI=!1;function Dre(){if(aI){const e=Array.from(Wp).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=iRe(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}aI=!1,nI=!1,Wp.forEach(e=>e.complete(iI)),Wp.clear()}function jre(){Wp.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(aI=!0)})}function sRe(){iI=!0,jre(),Dre(),iI=!1}class Bj{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Wp.add(this),nI||(nI=!0,ya.read(jre),ya.resolveKeyframes(Dre))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}Jje(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Wp.delete(this)}cancel(){this.state==="scheduled"&&(Wp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const oRe=e=>e.startsWith("--");function lRe(e,t,r){oRe(t)?e.style.setProperty(t,r):e.style[t]=r}const cRe=Tj(()=>window.ScrollTimeline!==void 0),uRe={};function fRe(e,t){const r=Tj(e);return()=>uRe[t]??r()}const Rre=fRe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ax=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,CU={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ax([0,.65,.55,1]),circOut:ax([.55,0,1,.45]),backIn:ax([.31,.01,.66,-.59]),backOut:ax([.33,1.53,.69,.99])};function Lre(e,t){if(e)return typeof e=="function"?Rre()?Pre(e,t):"ease-out":wre(e)?ax(e):Array.isArray(e)?e.map(r=>Lre(r,t)||CU.easeOut):CU[e]}function dRe(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=Lre(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function Mre(e){return typeof e=="function"&&"applyToOptions"in e}function hRe({type:e,...t}){return Mre(e)&&Rre()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class pRe extends Mj{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,Aj(typeof t.type!="string");const c=hRe(t);this.animation=dRe(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Lj(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):lRe(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return af(Number(t))}get time(){return af(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=nf(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&cRe()?(this.animation.timeline=t,xc):r(this)}}const Fre={anticipate:gre,backInOut:mre,circInOut:yre};function mRe(e){return e in Fre}function gRe(e){typeof e.ease=="string"&&mRe(e.ease)&&(e.ease=Fre[e.ease])}const PU=10;class vRe extends pRe{constructor(t){gRe(t),Ore(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new Fj({...s,autoplay:!1}),l=nf(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-PU).value,o.sample(l).value,PU),o.stop()}}const IU=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_0.test(e)||e==="0")&&!e.startsWith("url("));function yRe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function xRe(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=IU(a,t),o=IU(i,t);return!s||!o?!1:yRe(e)||(r==="spring"||Mre(r))&&n}function sI(e){e.duration=0,e.type}const wRe=new Set(["opacity","clipPath","filter","transform"]),bRe=Tj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _Re(e){var u;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return bRe()&&r&&wRe.has(r)&&(r!=="transform"||!c)&&!l&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const SRe=40;class ERe extends Mj{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var m;super(),this.stop=()=>{var g,v;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=$o.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||Bj;this.keyframeResolver=new p(o,(g,v,y)=>this.onKeyframesResolved(g,v,h,!y),l,c,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=$o.now(),xRe(t,i,s,o)||((Pd.instantAnimations||!l)&&(u==null||u(Lj(t,n,r))),t[0]=t[t.length-1],sI(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>SRe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&_Re(h)?new vRe({...h,element:h.motionValue.owner.current}):new Fj(h);p.finished.then(()=>this.notifyFinished()).catch(xc),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),sRe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const ARe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function TRe(e){const t=ARe.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function Bre(e,t,r=1){const[n,a]=TRe(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return ore(s)?parseFloat(s):s}return Ij(a)?Bre(a,t,r+1):a}function $j(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const $re=new Set(["width","height","top","left","right","bottom",...k1]),kRe={test:e=>e==="auto",parse:e=>e},Ure=e=>t=>t.test(e),Vre=[T1,pr,sf,Sh,yje,vje,kRe],OU=e=>Vre.find(Ure(e));function NRe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||cre(e):!0}const CRe=new Set(["brightness","contrast","saturate","opacity"]);function PRe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Oj)||[];if(!n)return e;const a=r.replace(n,"");let i=CRe.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const IRe=/\b([a-z-]*)\(.*?\)/gu,oI={..._0,getAnimatableNone:e=>{const t=e.match(IRe);return t?t.map(PRe).join(" "):e}},DU={...T1,transform:Math.round},ORe={rotate:Sh,rotateX:Sh,rotateY:Sh,rotateZ:Sh,scale:U_,scaleX:U_,scaleY:U_,scaleZ:U_,skew:Sh,skewX:Sh,skewY:Sh,distance:pr,translateX:pr,translateY:pr,translateZ:pr,x:pr,y:pr,z:pr,perspective:pr,transformPerspective:pr,opacity:U2,originX:wU,originY:wU,originZ:pr},Uj={borderWidth:pr,borderTopWidth:pr,borderRightWidth:pr,borderBottomWidth:pr,borderLeftWidth:pr,borderRadius:pr,radius:pr,borderTopLeftRadius:pr,borderTopRightRadius:pr,borderBottomRightRadius:pr,borderBottomLeftRadius:pr,width:pr,maxWidth:pr,height:pr,maxHeight:pr,top:pr,right:pr,bottom:pr,left:pr,padding:pr,paddingTop:pr,paddingRight:pr,paddingBottom:pr,paddingLeft:pr,margin:pr,marginTop:pr,marginRight:pr,marginBottom:pr,marginLeft:pr,backgroundPositionX:pr,backgroundPositionY:pr,...ORe,zIndex:DU,fillOpacity:U2,strokeOpacity:U2,numOctaves:DU},DRe={...Uj,color:xi,backgroundColor:xi,outlineColor:xi,fill:xi,stroke:xi,borderColor:xi,borderTopColor:xi,borderRightColor:xi,borderBottomColor:xi,borderLeftColor:xi,filter:oI,WebkitFilter:oI},zre=e=>DRe[e];function Wre(e,t){let r=zre(e);return r!==oI&&(r=_0),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const jRe=new Set(["auto","none","0"]);function RRe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!jRe.has(i)&&V2(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=Wre(r,a)}class LRe extends Bj{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),Ij(c))){const u=Bre(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!$re.has(n)||t.length!==2)return;const[a,i]=t,s=OU(a),o=OU(i);if(s!==o)if(NU(s)&&NU(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else zp[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||NRe(t[a]))&&n.push(a);n.length&&RRe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zp[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=zp[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function MRe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Hre=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function qre(e){return lre(e)&&"offsetHeight"in e}const jU=30,FRe=e=>!isNaN(parseFloat(e));class BRe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=$o.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=$o.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=FRe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new kj);const n=this.events[t].add(r);return t==="change"?()=>{n(),ya.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=$o.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jU)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,jU);return ure(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zv(e,t){return new BRe(e,t)}const{schedule:Vj}=bre(queueMicrotask,!1),Kc={x:!1,y:!1};function Gre(){return Kc.x||Kc.y}function $Re(e){return e==="x"||e==="y"?Kc[e]?null:(Kc[e]=!0,()=>{Kc[e]=!1}):Kc.x||Kc.y?null:(Kc.x=Kc.y=!0,()=>{Kc.x=Kc.y=!1})}function Kre(e,t){const r=MRe(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function RU(e){return!(e.pointerType==="touch"||Gre())}function URe(e,t,r={}){const[n,a,i]=Kre(e,r),s=o=>{if(!RU(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{RU(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const Yre=(e,t)=>t?e===t?!0:Yre(e,t.parentElement):!1,zj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,VRe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zRe(e){return VRe.has(e.tagName)||e.tabIndex!==-1}const zS=new WeakSet;function LU(e){return t=>{t.key==="Enter"&&e(t)}}function Z4(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const WRe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=LU(()=>{if(zS.has(r))return;Z4(r,"down");const a=LU(()=>{Z4(r,"up")}),i=()=>Z4(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function MU(e){return zj(e)&&!Gre()}function HRe(e,t,r={}){const[n,a,i]=Kre(e,r),s=o=>{const l=o.currentTarget;if(!MU(o))return;zS.add(l);const c=t(l,o),u=(p,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),zS.has(l)&&zS.delete(l),MU(p)&&typeof c=="function"&&c(p,{success:m})},f=p=>{u(p,l===window||l===document||r.useGlobalTarget||Yre(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),qre(o)&&(o.addEventListener("focus",c=>WRe(c,a)),!zRe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Xre(e){return lre(e)&&"ownerSVGElement"in e}function qRe(e){return Xre(e)&&e.tagName==="svg"}const Gs=e=>!!(e&&e.getVelocity),GRe=[...Vre,xi,_0],KRe=e=>GRe.find(Ure(e)),Wj=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class YRe extends j.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=qre(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function XRe({children:e,isPresent:t,anchorX:r,root:n}){const a=j.useId(),i=j.useRef(null),s=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=j.useContext(Wj);return j.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:f,right:h}=s.current;if(t||!i.current||!l||!c)return;const p=r==="left"?`left: ${f}`:`right: ${h}`;i.current.dataset.motionPopId=a;const m=document.createElement("style");o&&(m.nonce=o);const g=n??document.head;return g.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${p}px !important;
            top: ${u}px !important;
          }
        `),()=>{g.contains(m)&&g.removeChild(m)}},[t]),d.jsx(YRe,{isPresent:t,childRef:i,sizeRef:s,children:j.cloneElement(e,{ref:i})})}const QRe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o,root:l})=>{const c=bj(JRe),u=j.useId();let f=!0,h=j.useMemo(()=>(f=!1,{id:u,initial:t,isPresent:r,custom:a,onExitComplete:p=>{c.set(p,!0);for(const m of c.values())if(!m)return;n&&n()},register:p=>(c.set(p,!1),()=>c.delete(p))}),[r,c,n]);return i&&f&&(h={...h}),j.useMemo(()=>{c.forEach((p,m)=>c.set(m,!1))},[r]),j.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),s==="popLayout"&&(e=d.jsx(XRe,{isPresent:r,anchorX:o,root:l,children:e})),d.jsx(CT.Provider,{value:h,children:e})};function JRe(){return new Map}function Qre(e=!0){const t=j.useContext(CT);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=j.useId();j.useEffect(()=>{if(e)return a(i)},[e]);const s=j.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const V_=e=>e.key||"";function FU(e){const t=[];return j.Children.forEach(e,r=>{j.isValidElement(r)&&t.push(r)}),t}const Rl=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[c,u]=Qre(s),f=j.useMemo(()=>FU(e),[e]),h=s&&!c?[]:f.map(V_),p=j.useRef(!0),m=j.useRef(f),g=bj(()=>new Map),[v,y]=j.useState(f),[x,w]=j.useState(f);sre(()=>{p.current=!1,m.current=f;for(let P=0;P<x.length;P++){const A=V_(x[P]);h.includes(A)?g.delete(A):g.get(A)!==!0&&g.set(A,!1)}},[x,h.length,h.join("-")]);const E=[];if(f!==v){let P=[...f];for(let A=0;A<x.length;A++){const S=x[A],k=V_(S);h.includes(k)||(P.splice(A,0,S),E.push(S))}return i==="wait"&&E.length&&(P=E),w(FU(P)),y(f),null}const{forceRender:I}=j.useContext(wj);return d.jsx(d.Fragment,{children:x.map(P=>{const A=V_(P),S=s&&!c?!1:f===x||h.includes(A),k=()=>{if(g.has(A))g.set(A,!0);else return;let O=!0;g.forEach(T=>{T||(O=!1)}),O&&(I==null||I(),w(m.current),s&&(u==null||u()),n&&n())};return d.jsx(QRe,{isPresent:S,initial:!p.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:l,onExitComplete:S?void 0:k,anchorX:o,children:P},A)})})},Jre=j.createContext({strict:!1}),BU={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Wv={};for(const e in BU)Wv[e]={isEnabled:t=>BU[e].some(r=>!!t[r])};function ZRe(e){for(const t in e)Wv[t]={...Wv[t],...e[t]}}const eLe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function y5(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||eLe.has(e)}let Zre=e=>!y5(e);function tLe(e){typeof e=="function"&&(Zre=t=>t.startsWith("on")?!y5(t):e(t))}try{tLe(require("@emotion/is-prop-valid").default)}catch{}function rLe(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Zre(a)||r===!0&&y5(a)||!t&&!y5(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const PT=j.createContext({});function IT(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function z2(e){return typeof e=="string"||Array.isArray(e)}const Hj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qj=["initial",...Hj];function OT(e){return IT(e.animate)||qj.some(t=>z2(e[t]))}function ene(e){return!!(OT(e)||e.variants)}function nLe(e,t){if(OT(e)){const{initial:r,animate:n}=e;return{initial:r===!1||z2(r)?r:void 0,animate:z2(n)?n:void 0}}return e.inherit!==!1?t:{}}function aLe(e){const{initial:t,animate:r}=nLe(e,j.useContext(PT));return j.useMemo(()=>({initial:t,animate:r}),[$U(t),$U(r)])}function $U(e){return Array.isArray(e)?e.join(" "):e}const W2={};function iLe(e){for(const t in e)W2[t]=e[t],Pj(t)&&(W2[t].isCSSVariable=!0)}function tne(e,{layout:t,layoutId:r}){return N1.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!W2[e]||e==="opacity")}const sLe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oLe=k1.length;function lLe(e,t,r){let n="",a=!0;for(let i=0;i<oLe;i++){const s=k1[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=Hre(o,Uj[s]);if(!l){a=!1;const u=sLe[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function Gj(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(N1.has(l)){s=!0;continue}else if(Pj(l)){a[l]=c;continue}else{const u=Hre(c,Uj[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=lLe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const Kj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rne(e,t,r){for(const n in t)!Gs(t[n])&&!tne(n,r)&&(e[n]=t[n])}function cLe({transformTemplate:e},t){return j.useMemo(()=>{const r=Kj();return Gj(r,t,e),Object.assign({},r.vars,r.style)},[t])}function uLe(e,t){const r=e.style||{},n={};return rne(n,r,e),Object.assign(n,cLe(e,t)),n}function fLe(e,t){const r={},n=uLe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const dLe={offset:"stroke-dashoffset",array:"stroke-dasharray"},hLe={offset:"strokeDashoffset",array:"strokeDasharray"};function pLe(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?dLe:hLe;e[i.offset]=pr.transform(-n);const s=pr.transform(t),o=pr.transform(r);e[i.array]=`${s} ${o}`}function nne(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(Gj(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&pLe(f,a,i,s,!1)}const ane=()=>({...Kj(),attrs:{}}),ine=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mLe(e,t,r,n){const a=j.useMemo(()=>{const i=ane();return nne(i,t,ine(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};rne(i,e.style,e),a.style={...i,...a.style}}return a}const gLe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yj(e){return typeof e!="string"||e.includes("-")?!1:!!(gLe.indexOf(e)>-1||/[A-Z]/u.test(e))}function vLe(e,t,r,{latestValues:n},a,i=!1){const o=(Yj(e)?mLe:fLe)(t,n,a,e),l=rLe(t,typeof e=="string",i),c=e!==j.Fragment?{...l,...o,ref:r}:{},{children:u}=t,f=j.useMemo(()=>Gs(u)?u.get():u,[u]);return j.createElement(e,{...c,children:f})}function UU(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Xj(e,t,r,n){if(typeof t=="function"){const[a,i]=UU(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=UU(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function WS(e){return Gs(e)?e.get():e}function yLe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:xLe(r,n,a,e),renderState:t()}}function xLe(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=WS(i[h]);let{initial:s,animate:o}=e;const l=OT(e),c=ene(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!IT(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const m=Xj(e,h[p]);if(m){const{transitionEnd:g,transition:v,...y}=m;for(const x in y){let w=y[x];if(Array.isArray(w)){const E=u?w.length-1:0;w=w[E]}w!==null&&(a[x]=w)}for(const x in g)a[x]=g[x]}}}return a}const sne=e=>(t,r)=>{const n=j.useContext(PT),a=j.useContext(CT),i=()=>yLe(e,t,n,a);return r?i():bj(i)};function Qj(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(Gs(n[s])||t.style&&Gs(t.style[s])||tne(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const wLe=sne({scrapeMotionValuesFromProps:Qj,createRenderState:Kj});function one(e,t,r){const n=Qj(e,t,r);for(const a in e)if(Gs(e[a])||Gs(t[a])){const i=k1.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const bLe=sne({scrapeMotionValuesFromProps:one,createRenderState:ane}),_Le=Symbol.for("motionComponentSymbol");function qg(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function SLe(e,t,r){return j.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):qg(r)&&(r.current=n))},[t])}const Jj=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ELe="framerAppearId",lne="data-"+Jj(ELe),cne=j.createContext({});function ALe(e,t,r,n,a){var g,v;const{visualElement:i}=j.useContext(PT),s=j.useContext(Jre),o=j.useContext(CT),l=j.useContext(Wj).reducedMotion,c=j.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=j.useContext(cne);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&TLe(c.current,r,a,f);const h=j.useRef(!1);j.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const p=r[lne],m=j.useRef(!!p&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,p))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,p)));return sre(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),m.current&&u.animationState&&u.animationState.animateChanges())}),j.useEffect(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,p)}),m.current=!1),u.enteringChildren=void 0)}),u}function TLe(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:une(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&qg(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function une(e){if(e)return e.options.allowProjection!==!1?e.projection:une(e.parent)}function eC(e,{forwardMotionProps:t=!1}={},r,n){r&&ZRe(r);const a=Yj(e)?bLe:wLe;function i(o,l){let c;const u={...j.useContext(Wj),...o,layoutId:kLe(o)},{isStatic:f}=u,h=aLe(o),p=a(o,f);if(!f&&_j){NLe();const m=CLe(u);c=m.MeasureLayout,h.visualElement=ALe(e,p,u,n,m.ProjectionNode)}return d.jsxs(PT.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,vLe(e,o,SLe(p,h.visualElement,l),p,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=j.forwardRef(i);return s[_Le]=e,s}function kLe({layoutId:e}){const t=j.useContext(wj).id;return t&&e!==void 0?t+"-"+e:e}function NLe(e,t){j.useContext(Jre).strict}function CLe(e){const{drag:t,layout:r}=Wv;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function PLe(e,t){if(typeof Proxy>"u")return eC;const r=new Map,n=(i,s)=>eC(i,s,e,t),a=(i,s)=>n(i,s);return new Proxy(a,{get:(i,s)=>s==="create"?n:(r.has(s)||r.set(s,eC(s,void 0,e,t)),r.get(s))})}function fne({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function ILe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function OLe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function tC(e){return e===void 0||e===1}function lI({scale:e,scaleX:t,scaleY:r}){return!tC(e)||!tC(t)||!tC(r)}function pp(e){return lI(e)||dne(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function dne(e){return VU(e.x)||VU(e.y)}function VU(e){return e&&e!=="0%"}function x5(e,t,r){const n=e-r,a=t*n;return r+a}function zU(e,t,r,n,a){return a!==void 0&&(e=x5(e,a,n)),x5(e,r,n)+t}function cI(e,t=0,r=1,n,a){e.min=zU(e.min,t,r,n,a),e.max=zU(e.max,t,r,n,a)}function hne(e,{x:t,y:r}){cI(e.x,t.translate,t.scale,t.originPoint),cI(e.y,r.translate,r.scale,r.originPoint)}const WU=.999999999999,HU=1.0000000000001;function DLe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Kg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,hne(e,s)),n&&pp(i.latestValues)&&Kg(e,i.latestValues))}t.x<HU&&t.x>WU&&(t.x=1),t.y<HU&&t.y>WU&&(t.y=1)}function Gg(e,t){e.min=e.min+t,e.max=e.max+t}function qU(e,t,r,n,a=.5){const i=ka(e.min,e.max,a);cI(e,t,r,i,n)}function Kg(e,t){qU(e.x,t.x,t.scaleX,t.scale,t.originX),qU(e.y,t.y,t.scaleY,t.scale,t.originY)}function pne(e,t){return fne(OLe(e.getBoundingClientRect(),t))}function jLe(e,t,r){const n=pne(e,r),{scroll:a}=t;return a&&(Gg(n.x,a.offset.x),Gg(n.y,a.offset.y)),n}const GU=()=>({translate:0,scale:1,origin:0,originPoint:0}),Yg=()=>({x:GU(),y:GU()}),KU=()=>({min:0,max:0}),ni=()=>({x:KU(),y:KU()}),uI={current:null},mne={current:!1};function RLe(){if(mne.current=!0,!!_j)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>uI.current=e.matches;e.addEventListener("change",t),t()}else uI.current=!1}const LLe=new WeakMap;function MLe(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Gs(a))e.addValue(n,a);else if(Gs(i))e.addValue(n,zv(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,zv(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const YU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class FLe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Bj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=$o.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ya.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=OT(r),this.isVariantNode=ene(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&Gs(p)&&p.set(l[h])}}mount(t){var r;this.current=t,LLe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),mne.current||RLe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:uI.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),b0(this.notifyUpdate),b0(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=N1.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&ya.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Wv){const r=Wv[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ni()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<YU.length;n++){const a=YU[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=MLe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=zv(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(ore(n)||cre(n))?n=parseFloat(n):!KRe(n)&&_0.test(r)&&(n=Wre(t,r)),this.setBaseTarget(t,Gs(n)?n.get():n)),Gs(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=Xj(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Gs(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new kj),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Vj.render(this.render)}}class gne extends FLe{constructor(){super(...arguments),this.KeyframeResolver=LRe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Gs(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function vne(e,{style:t,vars:r},n,a){const i=e.style;let s;for(s in t)i[s]=t[s];a==null||a.applyProjectionStyles(i,n);for(s in r)i.setProperty(s,r[s])}function BLe(e){return window.getComputedStyle(e)}class $Le extends gne{constructor(){super(...arguments),this.type="html",this.renderInstance=vne}readValueFromInstance(t,r){var n;if(N1.has(r))return(n=this.projection)!=null&&n.isProjecting?tI(r):tRe(t,r);{const a=BLe(t),i=(Pj(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return pne(t,r)}build(t,r,n){Gj(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Qj(t,r,n)}}const yne=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ULe(e,t,r,n){vne(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(yne.has(a)?a:Jj(a),t.attrs[a])}class VLe extends gne{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ni}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(N1.has(r)){const n=zre(r);return n&&n.default||0}return r=yne.has(r)?r:Jj(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return one(t,r,n)}build(t,r,n){nne(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){ULe(t,r,n,a)}mount(t){this.isSVGTag=ine(t.tagName),super.mount(t)}}const zLe=(e,t)=>Yj(e)?new VLe(t):new $Le(t,{allowProjection:e!==j.Fragment});function vv(e,t,r){const n=e.getProps();return Xj(n,t,r!==void 0?r:n.custom,e)}const fI=e=>Array.isArray(e);function WLe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,zv(r))}function HLe(e){return fI(e)?e[e.length-1]||0:e}function qLe(e,t){const r=vv(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=HLe(i[s]);WLe(e,s,o)}}function GLe(e){return!!(Gs(e)&&e.add)}function dI(e,t){const r=e.getValue("willChange");if(GLe(r))return r.add(t);if(!r&&Pd.WillChange){const n=new Pd.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function xne(e){return e.props[lne]}const KLe=e=>e!==null;function YLe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(KLe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const XLe={type:"spring",stiffness:500,damping:25,restSpeed:10},QLe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),JLe={type:"keyframes",duration:.8},ZLe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eMe=(e,{keyframes:t})=>t.length>2?JLe:N1.has(e)?e.startsWith("scale")?QLe(t[1]):XLe:ZLe;function tMe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const Zj=(e,t,r,n={},a,i)=>s=>{const o=$j(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-nf(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};tMe(o)||Object.assign(u,eMe(e,u)),u.duration&&(u.duration=nf(u.duration)),u.repeatDelay&&(u.repeatDelay=nf(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(sI(u),u.delay===0&&(f=!0)),(Pd.instantAnimations||Pd.skipAnimations)&&(f=!0,sI(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=YLe(u.keyframes,o);if(h!==void 0){ya.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new Fj(u):new ERe(u)};function rMe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function wne(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&rMe(c,u))continue;const p={delay:r,...$j(i||{},u)},m=f.get();if(m!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===m&&!p.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=xne(e);if(y){const x=window.MotionHandoffAnimation(y,u,ya);x!==null&&(p.startTime=x,g=!0)}}dI(e,u),f.start(Zj(u,f,h,e.shouldReduceMotion&&$re.has(u)?{type:!1}:p,e,g));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{ya.update(()=>{s&&qLe(e,s)})}),l}function bne(e,t,r,n=0,a=1){const i=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),s=e.size,o=(s-1)*n;return typeof r=="function"?r(i,s):a===1?i*n:o-i*n}function hI(e,t,r={}){var l;const n=vv(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(wne(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return nMe(e,t,c,u,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function nMe(e,t,r=0,n=0,a=0,i=1,s){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(hI(l,t,{...s,delay:r+(typeof n=="function"?0:n)+bne(e.variantChildren,l,n,a,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function aMe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>hI(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=hI(e,t,r);else{const a=typeof t=="function"?vv(e,t,r.custom):t;n=Promise.all(wne(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function _ne(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const iMe=qj.length;function Sne(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Sne(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<iMe;r++){const n=qj[r],a=e.props[n];(z2(a)||a===!1)&&(t[n]=a)}return t}const sMe=[...Hj].reverse(),oMe=Hj.length;function lMe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>aMe(e,r,n)))}function cMe(e){let t=lMe(e),r=XU(),n=!0;const a=l=>(c,u)=>{var h;const f=vv(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...g}=f;c={...c,...g,...m}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=Sne(e.parent)||{},f=[],h=new Set;let p={},m=1/0;for(let v=0;v<oMe;v++){const y=sMe[v],x=r[y],w=c[y]!==void 0?c[y]:u[y],E=z2(w),I=y===l?x.isActive:null;I===!1&&(m=v);let P=w===u[y]&&w!==c[y]&&E;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),x.protectedKeys={...p},!x.isActive&&I===null||!w&&!x.prevProp||IT(w)||typeof w=="boolean")continue;const A=uMe(x.prevProp,w);let S=A||y===l&&x.isActive&&!P&&E||v>m&&E,k=!1;const O=Array.isArray(w)?w:[w];let T=O.reduce(a(y),{});I===!1&&(T={});const{prevResolvedValues:C={}}=x,D={...C,...T},B=re=>{S=!0,h.has(re)&&(k=!0,h.delete(re)),x.needsAnimating[re]=!0;const G=e.getValue(re);G&&(G.liveStyle=!1)};for(const re in D){const G=T[re],q=C[re];if(p.hasOwnProperty(re))continue;let be=!1;fI(G)&&fI(q)?be=!_ne(G,q):be=G!==q,be?G!=null?B(re):h.add(re):G!==void 0&&h.has(re)?B(re):x.protectedKeys[re]=!0}x.prevProp=w,x.prevResolvedValues=T,x.isActive&&(p={...p,...T}),n&&e.blockInitialAnimation&&(S=!1);const Y=P&&A;S&&(!Y||k)&&f.push(...O.map(re=>{const G={type:y};if(typeof re=="string"&&n&&!Y&&e.manuallyAnimateOnMount&&e.parent){const{parent:q}=e,be=vv(q,re);if(q.enteringChildren&&be){const{delayChildren:_e}=be.transition||{};G.delay=bne(q.enteringChildren,e,_e)}}return{animation:re,options:G}}))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=vv(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const x=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),v[y]=x??null}),f.push({animation:v})}let g=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=XU(),n=!0}}}function uMe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!_ne(t,e):!1}function op(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XU(){return{animate:op(!0),whileInView:op(),whileHover:op(),whileTap:op(),whileDrag:op(),whileFocus:op(),exit:op()}}class $0{constructor(t){this.isMounted=!1,this.node=t}update(){}}class fMe extends $0{constructor(t){super(t),t.animationState||(t.animationState=cMe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();IT(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let dMe=0;class hMe extends $0{constructor(){super(...arguments),this.id=dMe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const pMe={animation:{Feature:fMe},exit:{Feature:hMe}};function H2(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Zw(e){return{point:{x:e.pageX,y:e.pageY}}}const mMe=e=>t=>zj(t)&&e(t,Zw(t));function Bx(e,t,r,n){return H2(e,t,mMe(r),n)}const Ene=1e-4,gMe=1-Ene,vMe=1+Ene,Ane=.01,yMe=0-Ane,xMe=0+Ane;function wo(e){return e.max-e.min}function wMe(e,t,r){return Math.abs(e-t)<=r}function QU(e,t,r,n=.5){e.origin=n,e.originPoint=ka(t.min,t.max,e.origin),e.scale=wo(r)/wo(t),e.translate=ka(r.min,r.max,e.origin)-e.originPoint,(e.scale>=gMe&&e.scale<=vMe||isNaN(e.scale))&&(e.scale=1),(e.translate>=yMe&&e.translate<=xMe||isNaN(e.translate))&&(e.translate=0)}function $x(e,t,r,n){QU(e.x,t.x,r.x,n?n.originX:void 0),QU(e.y,t.y,r.y,n?n.originY:void 0)}function JU(e,t,r){e.min=r.min+t.min,e.max=e.min+wo(t)}function bMe(e,t,r){JU(e.x,t.x,r.x),JU(e.y,t.y,r.y)}function ZU(e,t,r){e.min=t.min-r.min,e.max=e.min+wo(t)}function Ux(e,t,r){ZU(e.x,t.x,r.x),ZU(e.y,t.y,r.y)}function ac(e){return[e("x"),e("y")]}const Tne=({current:e})=>e?e.ownerDocument.defaultView:null,eV=(e,t)=>Math.abs(e-t);function _Me(e,t){const r=eV(e.x,t.x),n=eV(e.y,t.y);return Math.sqrt(r**2+n**2)}class kne{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=nC(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=_Me(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!m)return;const{point:g}=h,{timestamp:v}=ms;this.history.push({...g,timestamp:v});const{onStart:y,onMove:x}=this.handlers;p||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,p)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=rC(p,this.transformPagePoint),ya.update(this.updatePoint,!0)},this.handlePointerUp=(h,p)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=nC(h.type==="pointercancel"?this.lastMoveEventInfo:rC(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,y),g&&g(h,y)},!zj(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=a||window;const o=Zw(t),l=rC(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ms;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,nC(l,this.history)),this.removeListeners=Xw(Bx(this.contextWindow,"pointermove",this.handlePointerMove),Bx(this.contextWindow,"pointerup",this.handlePointerUp),Bx(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),b0(this.updatePoint)}}function rC(e,t){return t?{point:t(e.point)}:e}function tV(e,t){return{x:e.x-t.x,y:e.y-t.y}}function nC({point:e},t){return{point:e,delta:tV(e,Nne(t)),offset:tV(e,SMe(t)),velocity:EMe(t,.1)}}function SMe(e){return e[0]}function Nne(e){return e[e.length-1]}function EMe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=Nne(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>nf(t)));)r--;if(!n)return{x:0,y:0};const i=af(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function AMe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ka(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ka(r,e,n.max):Math.min(e,r)),e}function rV(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function TMe(e,{top:t,left:r,bottom:n,right:a}){return{x:rV(e.x,r,a),y:rV(e.y,t,n)}}function nV(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function kMe(e,t){return{x:nV(e.x,t.x),y:nV(e.y,t.y)}}function NMe(e,t){let r=.5;const n=wo(e),a=wo(t);return a>n?r=$2(t.min,t.max-n,e.min):n>a&&(r=$2(e.min,e.max-a,t.min)),Cd(0,1,r)}function CMe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const pI=.35;function PMe(e=pI){return e===!1?e=0:e===!0&&(e=pI),{x:aV(e,"left","right"),y:aV(e,"top","bottom")}}function aV(e,t,r){return{min:iV(e,t),max:iV(e,r)}}function iV(e,t){return typeof e=="number"?e:e[t]||0}const IMe=new WeakMap;class OMe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ni(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Zw(f).point)},s=(f,h)=>{const{drag:p,dragPropagation:m,onDragStart:g}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$Re(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ac(y=>{let x=this.getAxisMotionValue(y).get()||0;if(sf.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const E=w.layout.layoutBox[y];E&&(x=wo(E)*(parseFloat(x)/100))}}this.originPoint[y]=x}),g&&ya.postRender(()=>g(f,h)),dI(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:g,onDrag:v}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:y}=h;if(m&&this.currentDirection===null){this.currentDirection=DMe(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),v&&v(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ac(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new kne(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:Tne(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&ya.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!z_(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=AMe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&qg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=TMe(n.layoutBox,t):this.constraints=!1,this.elastic=PMe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ac(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=CMe(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!qg(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=jLe(n,a.root,this.visualElement.getTransformPagePoint());let s=kMe(a.layout.layoutBox,i);if(r){const o=r(ILe(s));this.hasMutatedConstraints=!!o,o&&(s=fne(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=ac(u=>{if(!z_(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,m={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return dI(this.visualElement,t),n.start(Zj(t,n,0,r,this.visualElement,!1))}stopAnimation(){ac(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ac(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ac(r=>{const{drag:n}=this.getProps();if(!z_(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-ka(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!qg(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ac(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=NMe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ac(s=>{if(!z_(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(ka(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;IMe.set(this.visualElement,this);const t=this.visualElement.current,r=Bx(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();qg(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ya.read(n);const s=H2(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(ac(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=pI,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function z_(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function DMe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class jMe extends $0{constructor(t){super(t),this.removeGroupControls=xc,this.removeListeners=xc,this.controls=new OMe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xc}unmount(){this.removeGroupControls(),this.removeListeners()}}const sV=e=>(t,r)=>{e&&ya.postRender(()=>e(t,r))};class RMe extends $0{constructor(){super(...arguments),this.removePointerDownListener=xc}onPointerDown(t){this.session=new kne(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tne(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:sV(t),onStart:sV(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&ya.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Bx(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const HS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oV(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Oy={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pr.test(e))e=parseFloat(e);else return e;const r=oV(e,t.target.x),n=oV(e,t.target.y);return`${r}% ${n}%`}},LMe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=_0.parse(e);if(a.length>5)return n;const i=_0.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=ka(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};let aC=!1;class MMe extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;iLe(FMe),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),aC&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),HS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,aC=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||ya.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;aC=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Cne(e){const[t,r]=Qre(),n=j.useContext(wj);return d.jsx(MMe,{...e,layoutGroup:n,switchLayoutGroup:j.useContext(cne),isPresent:t,safeToRemove:r})}const FMe={borderRadius:{...Oy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oy,borderTopRightRadius:Oy,borderBottomLeftRadius:Oy,borderBottomRightRadius:Oy,boxShadow:LMe};function BMe(e,t,r){const n=Gs(e)?e:zv(e);return n.start(Zj("",n,t,r)),n.animation}const $Me=(e,t)=>e.depth-t.depth;class UMe{constructor(){this.children=[],this.isDirty=!1}add(t){Sj(this.children,t),this.isDirty=!0}remove(t){Ej(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort($Me),this.isDirty=!1,this.children.forEach(t)}}function VMe(e,t){const r=$o.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(b0(n),e(i-t))};return ya.setup(n,!0),()=>b0(n)}const Pne=["TopLeft","TopRight","BottomLeft","BottomRight"],zMe=Pne.length,lV=e=>typeof e=="string"?parseFloat(e):e,cV=e=>typeof e=="number"||pr.test(e);function WMe(e,t,r,n,a,i){a?(e.opacity=ka(0,r.opacity??1,HMe(n)),e.opacityExit=ka(t.opacity??1,0,qMe(n))):i&&(e.opacity=ka(t.opacity??1,r.opacity??1,n));for(let s=0;s<zMe;s++){const o=`border${Pne[s]}Radius`;let l=uV(t,o),c=uV(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||cV(l)===cV(c)?(e[o]=Math.max(ka(lV(l),lV(c),n),0),(sf.test(c)||sf.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=ka(t.rotate||0,r.rotate||0,n))}function uV(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const HMe=Ine(0,.5,vre),qMe=Ine(.5,.95,xc);function Ine(e,t,r){return n=>n<e?0:n>t?1:r($2(e,t,n))}function fV(e,t){e.min=t.min,e.max=t.max}function Xl(e,t){fV(e.x,t.x),fV(e.y,t.y)}function dV(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function hV(e,t,r,n,a){return e-=t,e=x5(e,1/r,n),a!==void 0&&(e=x5(e,1/a,n)),e}function GMe(e,t=0,r=1,n=.5,a,i=e,s=e){if(sf.test(t)&&(t=parseFloat(t),t=ka(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=ka(i.min,i.max,n);e===i&&(o-=t),e.min=hV(e.min,t,r,o,a),e.max=hV(e.max,t,r,o,a)}function pV(e,t,[r,n,a],i,s){GMe(e,t[r],t[n],t[a],t.scale,i,s)}const KMe=["x","scaleX","originX"],YMe=["y","scaleY","originY"];function mV(e,t,r,n){pV(e.x,t,KMe,r?r.x:void 0,n?n.x:void 0),pV(e.y,t,YMe,r?r.y:void 0,n?n.y:void 0)}function gV(e){return e.translate===0&&e.scale===1}function One(e){return gV(e.x)&&gV(e.y)}function vV(e,t){return e.min===t.min&&e.max===t.max}function XMe(e,t){return vV(e.x,t.x)&&vV(e.y,t.y)}function yV(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Dne(e,t){return yV(e.x,t.x)&&yV(e.y,t.y)}function xV(e){return wo(e.x)/wo(e.y)}function wV(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class QMe{constructor(){this.members=[]}add(t){Sj(this.members,t),t.scheduleRender()}remove(t){if(Ej(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function JMe(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:m}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),m&&(n+=`skewY(${m}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const iC=["","X","Y","Z"],ZMe=1e3;let e8e=0;function sC(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function jne(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=xne(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ya,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&jne(n)}function Rne({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=e8e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(n8e),this.nodes.forEach(o8e),this.nodes.forEach(l8e),this.nodes.forEach(a8e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new UMe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new kj),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Xre(s)&&!qRe(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u,f=0;const h=()=>this.root.updateBlockedByResize=!1;ya.read(()=>{f=window.innerWidth}),e(s,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,u&&u(),u=VMe(h,250),HS.hasAnimatedSinceResize&&(HS.hasAnimatedSinceResize=!1,this.nodes.forEach(SV)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||h8e,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!Dne(this.targetLayout,p),x=!f&&h;if(this.options.layoutRoot||this.resumeFrom||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...$j(m,"layout"),onPlay:g,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,x)}else f||SV(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),b0(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(c8e),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&jne(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(bV);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_V);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(s8e),this.nodes.forEach(t8e),this.nodes.forEach(r8e)):this.nodes.forEach(_V),this.clearAllSnapshots();const o=$o.now();ms.delta=Cd(0,1e3/60,o-ms.timestamp),ms.timestamp=o,ms.isProcessing=!0,K4.update.process(ms),K4.preRender.process(ms),K4.render.process(ms),ms.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(i8e),this.sharedNodes.forEach(u8e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ya.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ya.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wo(this.snapshot.measuredBox.x)&&!wo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ni(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!One(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||pp(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),p8e(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return ni();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(m8e))){const{scroll:u}=this.root;u&&(Gg(o.x,u.offset.x),Gg(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=ni();if(Xl(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Xl(o,s),Gg(o.x,f.offset.x),Gg(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=ni();Xl(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Kg(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),pp(u.latestValues)&&Kg(l,u.latestValues)}return pp(this.latestValues)&&Kg(l,this.latestValues),l}removeTransform(s){const o=ni();Xl(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!pp(c.latestValues))continue;lI(c.latestValues)&&c.updateSnapshot();const u=ni(),f=c.measurePageBox();Xl(u,f),mV(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return pp(this.latestValues)&&mV(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ms.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=ms.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ni(),this.relativeTargetOrigin=ni(),Ux(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Xl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ni(),this.targetWithTransforms=ni()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),bMe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xl(this.target,this.layout.layoutBox),hne(this.target,this.targetDelta)):Xl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ni(),this.relativeTargetOrigin=ni(),Ux(this.relativeTargetOrigin,this.target,p.target),Xl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||lI(this.parent.latestValues)||dne(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ms.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Xl(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;DLe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=ni());const{target:p}=s;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(dV(this.prevProjectionDelta.x,this.projectionDelta.x),dV(this.prevProjectionDelta.y,this.projectionDelta.y)),$x(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!wV(this.projectionDelta.x,this.prevProjectionDelta.x)||!wV(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Yg(),this.projectionDelta=Yg(),this.projectionDeltaWithTransform=Yg()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Yg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=ni(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=p!==m,v=this.getStack(),y=!v||v.members.length<=1,x=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(d8e));this.animationProgress=0;let w;this.mixTargetDelta=E=>{const I=E/1e3;EV(f.x,s.x,I),EV(f.y,s.y,I),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ux(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f8e(this.relativeTarget,this.relativeTargetOrigin,h,I),w&&XMe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=ni()),Xl(w,this.relativeTarget)),g&&(this.animationValues=u,WMe(u,c,this.latestValues,I,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(b0(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ya.update(()=>{HS.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zv(0)),this.currentAnimation=BMe(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZMe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&Lne(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ni();const f=wo(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=wo(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Xl(o,l),Kg(o,u),$x(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new QMe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&sC("z",s,c,this.animationValues);for(let u=0;u<iC.length;u++)sC(`rotate${iC[u]}`,s,c,this.animationValues),sC(`skew${iC[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=WS(o==null?void 0:o.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=WS(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!pp(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=JMe(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),s.transform=f;const{x:h,y:p}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?s.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:s.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in W2){if(u[m]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:y}=W2[m],x=f==="none"?u[m]:g(u[m],c);if(v){const w=v.length;for(let E=0;E<w;E++)s[v[E]]=x}else y?this.options.visualElement.renderState.vars[m]=x:s[m]=x}this.options.layoutId&&(s.pointerEvents=c===this?WS(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(bV),this.root.sharedNodes.clear()}}}function t8e(e){e.updateLayout()}function r8e(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?ac(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=wo(h);h.min=n[f].min,h.max=h.min+p}):Lne(i,t.layoutBox,n)&&ac(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],p=wo(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=Yg();$x(o,n,t.layoutBox);const l=Yg();s?$x(l,e.applyTransform(a,!0),t.measuredBox):$x(l,n,t.layoutBox);const c=!One(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=ni();Ux(m,t.layoutBox,h.layoutBox);const g=ni();Ux(g,n,p.layoutBox),Dne(m,g)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function n8e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function a8e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function i8e(e){e.clearSnapshot()}function bV(e){e.clearMeasurements()}function _V(e){e.isLayoutDirty=!1}function s8e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function SV(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function o8e(e){e.resolveTargetDelta()}function l8e(e){e.calcProjection()}function c8e(e){e.resetSkewAndRotation()}function u8e(e){e.removeLeadSnapshot()}function EV(e,t,r){e.translate=ka(t.translate,0,r),e.scale=ka(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function AV(e,t,r,n){e.min=ka(t.min,r.min,n),e.max=ka(t.max,r.max,n)}function f8e(e,t,r,n){AV(e.x,t.x,r.x,n),AV(e.y,t.y,r.y,n)}function d8e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const h8e={duration:.45,ease:[.4,0,.1,1]},TV=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),kV=TV("applewebkit/")&&!TV("chrome/")?Math.round:xc;function NV(e){e.min=kV(e.min),e.max=kV(e.max)}function p8e(e){NV(e.x),NV(e.y)}function Lne(e,t,r){return e==="position"||e==="preserve-aspect"&&!wMe(xV(t),xV(r),.2)}function m8e(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const g8e=Rne({attachResizeListener:(e,t)=>H2(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),oC={current:void 0},Mne=Rne({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!oC.current){const e=new g8e({});e.mount(window),e.setOptions({layoutScroll:!0}),oC.current=e}return oC.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),v8e={pan:{Feature:RMe},drag:{Feature:jMe,ProjectionNode:Mne,MeasureLayout:Cne}};function CV(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&ya.postRender(()=>i(t,Zw(t)))}class y8e extends $0{mount(){const{current:t}=this.node;t&&(this.unmount=URe(t,(r,n)=>(CV(this.node,n,"Start"),a=>CV(this.node,a,"End"))))}unmount(){}}class x8e extends $0{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xw(H2(this.node.current,"focus",()=>this.onFocus()),H2(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function PV(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&ya.postRender(()=>i(t,Zw(t)))}class w8e extends $0{mount(){const{current:t}=this.node;t&&(this.unmount=HRe(t,(r,n)=>(PV(this.node,n,"Start"),(a,{success:i})=>PV(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mI=new WeakMap,lC=new WeakMap,b8e=e=>{const t=mI.get(e.target);t&&t(e)},_8e=e=>{e.forEach(b8e)};function S8e({root:e,...t}){const r=e||document;lC.has(r)||lC.set(r,{});const n=lC.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(_8e,{root:e,...t})),n[a]}function E8e(e,t,r){const n=S8e(t);return mI.set(e,r),n.observe(e),()=>{mI.delete(e),n.unobserve(e)}}const A8e={some:0,all:1};class T8e extends $0{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:A8e[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return E8e(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(k8e(t,r))&&this.startObserver()}unmount(){}}function k8e({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const N8e={inView:{Feature:T8e},tap:{Feature:w8e},focus:{Feature:x8e},hover:{Feature:y8e}},C8e={layout:{ProjectionNode:Mne,MeasureLayout:Cne}},P8e={...pMe,...N8e,...v8e,...C8e},rt=PLe(P8e,zLe),I8e=["roberto@mistatas.com"],O8e=e=>e!=null&&e.email?e.email.includes("admin")||e.role==="admin"||I8e.includes(e.email):!1;let cC=!1;const D8e=async e=>{var r;if(console.log("🚀 INICIANDO INICIALIZACIÓN DEL STORE:",{userId:e,initialized:cC}),cC){console.log("⚠️ Store ya inicializado, saltando...");return}const t=l5.getState();console.log("📊 Estado inicial del store:",{beneficiariesCount:((r=t.beneficiaries)==null?void 0:r.length)||0,shouldReload:t.shouldReload,stats:t.stats});try{const n=t.beneficiaries&&t.beneficiaries.length>0;if(console.log("💾 ¿Hay datos persistidos?",n),!n)console.log("📥 Cargando beneficiarios desde Firebase..."),await t.loadBeneficiaries(e);else{console.log("📋 Usando datos persistidos del store...");const a=t.calculateStats(t.beneficiaries);l5.setState({stats:a}),console.log("✅ Estadísticas actualizadas:",a)}cC=!0,console.log("✅ Store inicializado correctamente")}catch(n){console.error("❌ Error inicializando store de beneficiarios:",n);try{console.log("🔄 Intentando recarga forzada..."),await t.forceReload(e)}catch(a){console.error("❌ Error en reintento de carga:",a)}}},j8e=(e,t,r)=>{console.log("🔍 === DEBUGGING BENEFICIARY MATCH ==="),console.log("🎯 Buscando beneficiario:",e);const n=t.find(l=>l.nombre&&l.nombre.toLowerCase().includes(e.toLowerCase()));if(!n){console.log("❌ Beneficiario no encontrado en la lista de beneficiarios");return}console.log("✅ Beneficiario encontrado:",{nombre:n.nombre,fono:n.fono,sim:n.sim,appSim:n.appSim});const a=qu(n.nombre),i=[wi(n.fono),wi(n.sim),wi(n.appSim)].filter(Boolean);console.log("📋 Datos normalizados del beneficiario:",{nombre:a,telefonos:i}),console.log("🔍 Buscando en",r.length,"asignaciones...");let s=!1,o=!1;return r.forEach((l,c)=>{const u=qu(l.beneficiary||l.nombre||l.beneficiario||""),f=[wi(l.phone||l.primaryPhone||l.telefono||l.fono||""),wi(l.sim||""),wi(l.appSim||"")].filter(Boolean),h=Qee(a,u);h&&(console.log(`✅ COINCIDENCIA POR NOMBRE encontrada en asignación ${c+1}:`),console.log("   - Beneficiario:",n.nombre,"→",a),console.log("   - Asignación:",l.beneficiary||l.nombre,"→",u),s=!0);const p=i.some(m=>f.some(g=>g===m));p&&(console.log(`✅ COINCIDENCIA POR TELÉFONO encontrada en asignación ${c+1}:`),console.log("   - Beneficiario teléfonos:",i),console.log("   - Asignación teléfonos:",f),o=!0),c<3&&console.log(`📋 Asignación ${c+1}:`,{original:{beneficiary:l.beneficiary,phone:l.phone},normalizado:{nombre:u,telefonos:f},coincidencia:{nombre:h,telefono:p}})}),console.log("📊 RESULTADO FINAL:"),console.log("   - Encontrado por nombre:",s),console.log("   - Encontrado por teléfono:",o),console.log("   - Debería estar asignado:",s||o),console.log("🔍 === FIN DEBUGGING ==="),{found:s||o,foundByName:s,foundByPhone:o,beneficiary:n,targetName:a,targetPhones:i}},R8e=({onUploadComplete:e,onUploadError:t,isUploading:r=!1,className:n=""})=>{const[a,i]=j.useState(!1),[s,o]=j.useState(""),[l,c]=j.useState(0),[u,f]=j.useState(null),[h,p]=j.useState(!1),m=j.useRef(null),g=P=>{P.preventDefault(),P.stopPropagation(),P.type==="dragenter"||P.type==="dragover"?i(!0):P.type==="dragleave"&&i(!1)},v=P=>{P.preventDefault(),P.stopPropagation(),i(!1),P.dataTransfer.files&&P.dataTransfer.files[0]&&x(P.dataTransfer.files[0])},y=P=>{P.preventDefault(),P.target.files&&P.target.files[0]&&x(P.target.files[0])},x=async P=>{if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel",".xlsx",".xls"].some(k=>P.type===k||P.name.toLowerCase().endsWith(k))){t("Por favor selecciona un archivo Excel válido (.xlsx o .xls)");return}if(P.size>10*1024*1024){t("El archivo es demasiado grande. Máximo 10MB permitido.");return}o(P.name);try{const k=await w(P);f(k),p(!0)}catch(k){t(`Error al procesar el archivo: ${k.message}`)}},w=P=>new Promise((A,S)=>{const k=new FileReader;k.onload=O=>{try{const T=new Uint8Array(O.target.result),C=T2(T,{type:"array"}),D=C.SheetNames[0],B=C.Sheets[D],Y=ov.sheet_to_json(B,{header:1,defval:""});if(Y.length<2){S(new Error("El archivo debe contener al menos una fila de datos además del encabezado"));return}const ee=Y[0],G=Y.slice(1).filter(q=>q.some(be=>be&&be.toString().trim()!=="")).map((q,be)=>({Nombre:q[0]||"",Fono:q[1]||"",Sim:q[2]||"",Direccion:q[3]||"","App Sim":q[4]||"",_rowIndex:be+2}));if(G.length===0){S(new Error("No se encontraron datos válidos en el archivo"));return}A({headers:ee,data:G,totalRows:G.length})}catch(T){S(new Error(`Error al leer el archivo Excel: ${T.message}`))}},k.onerror=()=>{S(new Error("Error al leer el archivo"))},k.readAsArrayBuffer(P)}),E=()=>{u&&e&&(e(u.data,{fileName:s,totalRows:u.totalRows,onProgress:c}),p(!1),f(null),o(""),m.current&&(m.current.value=""))},I=()=>{p(!1),f(null),o(""),c(0),m.current&&(m.current.value="")};return d.jsxs("div",{className:`space-y-4 ${n}`,children:[d.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`relative border-2 border-dashed rounded-lg p-6 transition-colors ${a?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"} ${r?"pointer-events-none opacity-50":""}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:v,children:[d.jsx("input",{ref:m,type:"file",accept:".xlsx,.xls",onChange:y,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:r}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",children:r?d.jsx(tpe,{className:"h-12 w-12 animate-spin"}):d.jsx(f2,{className:"h-12 w-12"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:r?"Procesando archivo...":a?"Suelta el archivo aquí":"Arrastra tu archivo Excel aquí"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r?`Progreso: ${l}%`:"o haz clic para seleccionar un archivo (.xlsx, .xls)"}),s&&!r&&d.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[d.jsx(V0e,{className:"h-4 w-4"}),d.jsx("span",{children:s})]})]})]}),r&&l>0&&d.jsx(rt.div,{className:"mt-4",initial:{opacity:0},animate:{opacity:1},children:d.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:d.jsx(rt.div,{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${l}%`},initial:{width:0},animate:{width:`${l}%`}})})})]}),d.jsxs(rt.div,{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[d.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Formato esperado del Excel:"}),d.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Columna A:"})," Nombre del beneficiario"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna B:"})," Fono (teléfono principal)"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna C:"})," Sim (teléfono secundario)"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna D:"})," Dirección"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna E:"})," App Sim (otro número de contacto)"]})]}),d.jsx("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-300",children:'Nota: Los números "000000000" serán ignorados automáticamente'})]}),h&&u&&d.jsx(rt.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:{opacity:0},animate:{opacity:1},children:d.jsxs(rt.div,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Vista previa del archivo"}),d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[u.totalRows," beneficiarios encontrados"]})]}),d.jsx("button",{onClick:I,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:d.jsx(xd,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"p-6 overflow-y-auto max-h-96",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nombre"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Fono"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sim"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Dirección"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"App Sim"})]})}),d.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:u.data.slice(0,10).map((P,A)=>d.jsxs("tr",{className:A%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700",children:[d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:P.Nombre||"N/A"}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:P.Fono||"N/A"}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:P.Sim||"N/A"}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100 max-w-xs truncate",children:P.Direccion||"N/A"}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:P["App Sim"]||"N/A"})]},A))})]}),u.data.length>10&&d.jsxs("div",{className:"text-center py-4 text-sm text-gray-500 dark:text-gray-400",children:["... y ",u.data.length-10," filas más"]})]})}),d.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[d.jsx("button",{onClick:I,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),d.jsxs("button",{onClick:E,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center space-x-2",children:[d.jsx(wa,{className:"h-4 w-4"}),d.jsxs("span",{children:["Confirmar y cargar ",u.totalRows," beneficiarios"]})]})]})]})})]})},L8e=({beneficiaries:e=[],searchTerm:t="",onSearchChange:r,onEdit:n,onDelete:a,isLoading:i=!1,className:s=""})=>{const[o,l]=j.useState("all"),[c,u]=j.useState("name"),[f,h]=j.useState("asc"),p=j.useMemo(()=>{let x=[...e];switch(o){case"with-phone":x=x.filter(w=>w.telefonosValidos&&w.telefonosValidos.length>0);break;case"without-phone":x=x.filter(w=>!w.telefonosValidos||w.telefonosValidos.length===0);break;case"incomplete":x=x.filter(w=>!w.nombre||!w.direccion||!w.telefonosValidos||w.telefonosValidos.length===0);break}if(t&&t.trim()!==""){const w=t.toLowerCase().trim();x=x.filter(E=>E.nombre&&E.nombre.toLowerCase().includes(w)||E.direccion&&E.direccion.toLowerCase().includes(w)||E.fono&&E.fono.includes(w)||E.sim&&E.sim.includes(w)||E.appSim&&E.appSim.includes(w))}return x.sort((w,E)=>{var P,A,S,k,O,T;let I=0;switch(c){case"name":I=(w.nombre||"").localeCompare(E.nombre||"");break;case"date":const C=((A=(P=w.creadoEn)==null?void 0:P.toDate)==null?void 0:A.call(P))||new Date(0),D=((k=(S=E.creadoEn)==null?void 0:S.toDate)==null?void 0:k.call(S))||new Date(0);I=C-D;break;case"phone-count":const B=((O=w.telefonosValidos)==null?void 0:O.length)||0,Y=((T=E.telefonosValidos)==null?void 0:T.length)||0;I=B-Y;break}return f==="desc"?-I:I}),x},[e,t,o,c,f]),m=x=>{var w;return((w=x.telefonosValidos)==null?void 0:w.length)||0},g=x=>{if(!x)return"N/A";try{return(x.toDate?x.toDate():new Date(x)).toLocaleDateString("es-CL",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"N/A"}},v=x=>{const w=m(x);return!x.nombre||!x.direccion?"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20":w===0?"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20":"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20"},y=x=>{const w=m(x);return!x.nombre||!x.direccion?d.jsx(Go,{className:"h-4 w-4 text-red-500"}):w===0?d.jsx(Go,{className:"h-4 w-4 text-yellow-500"}):d.jsx(Ss,{className:"h-4 w-4 text-green-500"})};return d.jsxs("div",{className:`space-y-6 ${s}`,children:[d.jsxs(rt.div,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar por nombre, dirección o teléfono...",value:t,onChange:x=>r==null?void 0:r(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("select",{value:o,onChange:x=>l(x.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"all",children:"Todos"}),d.jsx("option",{value:"with-phone",children:"Con teléfono"}),d.jsx("option",{value:"without-phone",children:"Sin teléfono"}),d.jsx("option",{value:"incomplete",children:"Datos incompletos"})]}),d.jsxs("select",{value:`${c}-${f}`,onChange:x=>{const[w,E]=x.target.value.split("-");u(w),h(E)},className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"name-asc",children:"Nombre A-Z"}),d.jsx("option",{value:"name-desc",children:"Nombre Z-A"}),d.jsx("option",{value:"date-desc",children:"Más reciente"}),d.jsx("option",{value:"date-asc",children:"Más antiguo"}),d.jsx("option",{value:"phone-count-desc",children:"Más teléfonos"}),d.jsx("option",{value:"phone-count-asc",children:"Menos teléfonos"})]})]})]}),d.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400",children:[d.jsxs("span",{children:["Total: ",e.length]}),d.jsxs("span",{children:["Mostrados: ",p.length]}),d.jsxs("span",{children:["Con teléfono: ",e.filter(x=>m(x)>0).length]}),d.jsxs("span",{children:["Sin teléfono: ",e.filter(x=>m(x)===0).length]})]})]}),d.jsx("div",{className:"space-y-3",children:d.jsx(Rl,{children:i?d.jsxs(rt.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Cargando beneficiarios..."})]}):p.length===0?d.jsxs(rt.div,{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",initial:{opacity:0},animate:{opacity:1},children:[d.jsx(Ss,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No se encontraron beneficiarios"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t?"Intenta con otros términos de búsqueda o ajusta los filtros":"Aún no hay beneficiarios cargados"})]}):p.map((x,w)=>d.jsx(rt.div,{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border-l-4 p-4 hover:shadow-md transition-shadow ${v(x)}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.05},layout:!0,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[y(x),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:x.nombre||"Nombre no disponible"})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[d.jsx(NY,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm",children:x.direccion||"Dirección no disponible"})]}),d.jsxs("div",{className:"space-y-1",children:[x.fono&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[d.jsx(Ha,{className:"h-4 w-4"}),d.jsxs("span",{className:"text-sm",children:["Fono: ",x.fono]})]}),x.sim&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[d.jsx(Ha,{className:"h-4 w-4"}),d.jsxs("span",{className:"text-sm",children:["Sim: ",x.sim]})]}),x.appSim&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[d.jsx(Ha,{className:"h-4 w-4"}),d.jsxs("span",{className:"text-sm",children:["App Sim: ",x.appSim]})]}),m(x)===0&&d.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Sin teléfonos válidos"})]}),d.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Creado: ",g(x.creadoEn)," • Teléfonos válidos: ",m(x)]})]}),d.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[d.jsx("button",{onClick:()=>n==null?void 0:n(x),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Editar beneficiario",children:d.jsx(T6,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>a==null?void 0:a(x),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Eliminar beneficiario",children:d.jsx(Qu,{className:"h-4 w-4"})})]})]})},x.id))})}),p.length>50&&d.jsx(rt.div,{className:"text-center py-4",initial:{opacity:0},animate:{opacity:1},children:d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mostrando los primeros 50 resultados. Usa los filtros para refinar la búsqueda."})})]})},M8e=({beneficiaries:e=[],assignments:t=[],onAssignOperator:r,className:n=""})=>{const[a,i]=j.useState([]),[s,o]=j.useState(!1),[l,c]=j.useState(""),[u,f]=j.useState(!0);j.useEffect(()=>{const g=()=>{if(f(!0),console.log("🔍 UnassignedBeneficiaries - Calculando sin asignar:",{beneficiaries:e.length,assignments:t.length}),t.length===0){console.log("⚠️ No hay asignaciones, todos los beneficiarios aparecen como sin asignar"),i(e),f(!1);return}const v=t.map(x=>({nombre:x.beneficiary||x.nombre||x.beneficiario,telefono:x.phone||x.primaryPhone||x.telefono||x.fono,teleoperadora:x.operator||x.operatorName||x.teleoperadora||x.operador})).filter(x=>x.nombre&&x.teleoperadora);console.log("📋 Asignaciones procesadas:",{total:v.length,muestra:v.slice(0,3).map(x=>({nombre:x.nombre,teleoperadora:x.teleoperadora}))});const y=e.filter(x=>!DP(x,v));console.log("📊 Resultado del cálculo:",{totalBeneficiarios:e.length,asignados:v.length,sinAsignar:y.length}),i(y),f(!1)};e.length>0?g():f(!1)},[e,t]);const h=a.filter(g=>{if(!l.trim())return!0;const v=l.toLowerCase();return g.nombre&&g.nombre.toLowerCase().includes(v)||g.direccion&&g.direccion.toLowerCase().includes(v)||g.fono&&g.fono.includes(v)||g.sim&&g.sim.includes(v)||g.appSim&&g.appSim.includes(v)}),p=g=>[g.fono,g.sim,g.appSim].filter(v=>v&&v!=="000000000").join(", ")||"Sin teléfonos válidos",m=()=>{const g=[["BENEFICIARIOS SIN ASIGNAR"],[],[`Generado el: ${new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}`],[`Total de beneficiarios sin asignar: ${h.length}`],[],["#","Nombre","Dirección","Teléfono Principal","SIM","App SIM","Fecha Registro"],...h.map((P,A)=>[A+1,P.nombre||"Sin nombre",P.direccion||"Sin dirección",P.fono||"",P.sim||"",P.appSim||"",P.creadoEn?new Date(P.creadoEn).toLocaleDateString("es-ES"):"Sin fecha"])],v=ov.aoa_to_sheet(g),y=ov.book_new(),x=[{wch:5},{wch:30},{wch:40},{wch:15},{wch:15},{wch:15},{wch:15}];v["!cols"]=x,v["!merges"]||(v["!merges"]=[]),v["!merges"].push({s:{r:0,c:0},e:{r:0,c:6}});const w="A1";v[w]&&(v[w].s={font:{bold:!0,sz:16},alignment:{horizontal:"center"}}),["A7","B7","C7","D7","E7","F7","G7"].forEach(P=>{v[P]&&(v[P].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"3B82F6"}}})}),ov.book_append_sheet(y,v,"Beneficiarios Sin Asignar");const I=`beneficiarios-sin-asignar-${new Date().toISOString().split("T")[0]}.xlsx`;MEe(y,I)};return u?d.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${n}`,children:d.jsxs("div",{className:"p-6 text-center",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Analizando asignaciones..."})]})}):d.jsxs(rt.div,{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden ${n}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>o(!s),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${a.length>0?"bg-yellow-100 dark:bg-yellow-900/20":"bg-green-100 dark:bg-green-900/20"}`,children:a.length>0?d.jsx(Upe,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}):d.jsx(ai,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Beneficiarios sin asignar"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.length===0?"Todos los beneficiarios tienen teleoperadora asignada":`${a.length} beneficiarios sin teleoperadora`})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[a.length>0&&d.jsxs("button",{onClick:g=>{g.stopPropagation(),m()},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors",title:"Exportar listado a Excel",children:[d.jsx(vx,{className:"h-4 w-4 mr-1"}),"Exportar Excel"]}),a.length>0&&d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:a.length}),s?d.jsx(EY,{className:"h-5 w-5 text-gray-400"}):d.jsx(SY,{className:"h-5 w-5 text-gray-400"})]})]})}),d.jsx(Rl,{children:s&&d.jsx(rt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:a.length===0?d.jsxs("div",{className:"p-6 text-center",children:[d.jsx(ai,{className:"mx-auto h-12 w-12 text-green-400 mb-4"}),d.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"¡Excelente!"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Todos los beneficiarios de la base tienen una teleoperadora asignada."})]}):d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar beneficiarios sin asignar...",value:l,onChange:g=>c(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),d.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx(Go,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),d.jsxs("div",{className:"text-sm",children:[d.jsx("p",{className:"text-yellow-800 dark:text-yellow-200 font-medium",children:"Beneficiarios sin teleoperadora asignada"}),d.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 mt-1",children:"Estos beneficiarios están en la base pero no aparecen en el módulo de Asignaciones. Es recomendable asignarles una teleoperadora para garantizar el seguimiento."})]})]})}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:h.length===0?d.jsxs("div",{className:"text-center py-6",children:[d.jsx(xo,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No se encontraron beneficiarios con ese criterio de búsqueda"})]}):h.map((g,v)=>{var y;return d.jsx(rt.div,{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 border border-gray-200 dark:border-gray-600",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.05},children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:g.nombre}),d.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["📍 ",g.direccion]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[d.jsx(Ha,{className:"h-4 w-4"}),d.jsx("span",{children:p(g)})]}),d.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[((y=g.telefonosValidos)==null?void 0:y.length)||0," teléfonos válidos"]})]}),d.jsx("button",{onClick:()=>r==null?void 0:r(g),className:"ml-3 px-3 py-1.5 text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-200 dark:hover:bg-blue-900/40 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Asignar"})]})},g.id)})}),d.jsx("div",{className:"text-center pt-3 border-t border-gray-200 dark:border-gray-700",children:d.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h.length," de ",a.length," beneficiarios mostrados"]})})]})})})]})},F8e=()=>{const{user:e}=$l(),[t,r]=j.useState("dashboard"),[n,a]=j.useState(!1),[i,s]=j.useState(null),{beneficiaries:o,stats:l,isLoading:c,isUploading:u,uploadProgress:f,searchTerm:h,setSearchTerm:p,setBeneficiaries:m,loadBeneficiaries:g,forceReload:v,uploadBeneficiaries:y,updateBeneficiaryData:x,deleteBeneficiaryData:w,findUnassignedBeneficiaries:E,validateAssignmentConsistency:I,getFilteredBeneficiaries:P}=l5(),{operatorAssignments:A,getAllAssignments:S}=mo();j.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{await D8e(e.uid)}catch(q){console.error("Error inicializando store:",q),k("❌ Error cargando beneficiarios","error")}})()},[e]),j.useEffect(()=>{o.length>0&&!c&&console.log("📊 Beneficiarios Base cargados:",{total:o.length,stats:l})},[o,l,c]),j.useEffect(()=>{if(o.length>0){const G=S();console.log("🔄 Actualizando estadísticas con asignaciones:",G.length);const q=E(G);console.log("👥 Beneficiarios sin asignar encontrados:",q.length)}},[A,o,E,S]);const k=(G,q="info")=>{s({message:G,type:q}),setTimeout(()=>s(null),5e3)},O=async()=>{try{console.log("🔄 Sincronizando con módulo de asignaciones...");const G=S();if(console.log("🔍 Asignaciones obtenidas:",G),G.length===0){k("⚠️ No se encontraron asignaciones para sincronizar","warning");return}const q=E(G);k(`✅ Sincronización completada. ${G.length} asignaciones procesadas, ${q.length} beneficiarios sin asignar`,"success")}catch(G){console.error("Error en sincronización:",G),k("❌ Error al sincronizar con asignaciones","error")}},T=()=>{const G=prompt('Ingresa el nombre del beneficiario a debuggear (ej: "Mariana Apolonia Gonzalez Gonzalez"):');if(!G)return;const q=S();console.log("🔍 DEBUG ESPECÍFICO:",G),console.log("📋 Total asignaciones disponibles:",q.length),console.log("📋 Muestra de asignaciones:",q.slice(0,5));const be=o.find(U=>{var z;return(z=U.nombre)==null?void 0:z.toLowerCase().includes(G.toLowerCase())});console.log("👤 Beneficiario encontrado en base:",be);const _e=q.find(U=>{var z;return(z=U.beneficiary)==null?void 0:z.toLowerCase().includes(G.toLowerCase())});console.log("📝 Asignación encontrada:",_e);const R=j8e(G,o,q);k(R.found?`✅ ${G} está asignado a ${R.operator}`:`❌ ${G} NO está asignado`,R.found?"success":"error")},C=()=>{console.group("🔍 DIAGNÓSTICO COMPLETO - MÓDULO BENEFICIARIOS BASE");const G=S(),q=E(G);console.log("📊 RESUMEN GENERAL:"),console.log("- Total beneficiarios:",o.length),console.log("- Total asignaciones:",G.length),console.log("- Beneficiarios sin asignar:",q.length),console.log("- Diferencia esperada:",o.length-G.length),console.log("📋 FORMATO DE ASIGNACIONES (primeras 3):"),G.slice(0,3).forEach((R,U)=>{console.log(`${U+1}.`,{beneficiary:R.beneficiary,operator:R.operator,operatorName:R.operatorName,phone:R.phone})}),console.log("👥 FORMATO DE BENEFICIARIOS (primeros 3):"),o.slice(0,3).forEach((R,U)=>{console.log(`${U+1}.`,{nombre:R.nombre,fono:R.fono,sim:R.sim})});const be=o.find(R=>{var U;return(U=R.nombre)==null?void 0:U.toLowerCase().includes("mariana apolonia")}),_e=G.find(R=>{var U;return(U=R.beneficiary)==null?void 0:U.toLowerCase().includes("mariana apolonia")});console.log("🎯 CASO ESPECÍFICO - Mariana Apolonia:"),console.log("- En beneficiarios:",be?"SÍ":"NO"),console.log("- En asignaciones:",_e?"SÍ":"NO"),be&&console.log("👤 Datos de Mariana en beneficiarios:",be),_e&&console.log("📝 Datos de Mariana en asignaciones:",_e),console.groupEnd(),k(`🔍 Diagnóstico completado. Ver consola para detalles. ${G.length} asignaciones, ${q.length} sin asignar`,"info")},D=async(G,q)=>{try{console.log("📤 UPLOAD EXCEL - Iniciando..."),console.log(`📊 Registros en Excel: ${G.length}`);const{beneficiaryService:be}=await qo(async()=>{const{beneficiaryService:R}=await Promise.resolve().then(()=>wIe);return{beneficiaryService:R}},void 0),_e=await be.uploadBeneficiaries(G,e.uid,R=>{console.log("📊 Progreso:",R),q!=null&&q.onProgress&&q.onProgress(R.processed||0)},!0);if(_e.success){m(_e.data);const R=_e.replacedPrevious?`✅ Base de datos REEMPLAZADA: ${_e.successful} beneficiarios cargados`:`✅ Se cargaron ${_e.successful} beneficiarios correctamente`,U=_e.errors>0?` (${_e.errors} errores encontrados)`:"";k(R+U,"success"),console.log("✅ UPLOAD COMPLETADO:",_e),a(!1)}else throw new Error(_e.message||"Error durante la carga")}catch(be){console.error("❌ Error en upload:",be),k(`❌ Error: ${be.message}`,"error")}},B=G=>{console.log("Editar beneficiario:",G)},Y=async G=>{if(window.confirm(`¿Estás seguro de eliminar a ${G.nombre}?`))try{await w(G.id)?k(`✅ ${G.nombre} eliminado correctamente`,"success"):k("❌ Error al eliminar beneficiario","error")}catch(q){k(`❌ Error: ${q.message}`,"error")}},ee=G=>{console.log("Asignar teleoperadora a:",G),k(`TODO: Implementar asignación para ${G.nombre}`,"info")},re=P();return d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[i&&d.jsx(rt.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-md ${i.type==="success"?"bg-green-500 text-white":i.type==="error"?"bg-red-500 text-white":i.type==="warning"?"bg-yellow-500 text-white":"bg-blue-500 text-white"}`,children:i.message}),d.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"flex justify-between items-center py-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(c2,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Beneficiarios Base"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gestión centralizada de beneficiarios y validación con asignaciones"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:O,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(CY,{className:"h-4 w-4"}),d.jsx("span",{children:"Sincronizar con Asignaciones"})]}),d.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[d.jsx(b0e,{className:"h-4 w-4"}),d.jsx("span",{children:"Diagnóstico"})]}),d.jsxs("button",{onClick:T,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[d.jsx(xo,{className:"h-4 w-4"}),d.jsx("span",{children:"Debug Específico"})]}),O8e(e==null?void 0:e.email)&&d.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(f2,{className:"h-4 w-4"}),d.jsx("span",{children:"Cargar Excel"})]})]})]}),d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:d.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:c2},{id:"list",name:"Lista completa",icon:ai},{id:"validation",name:"Validación",icon:wa}].map(G=>d.jsxs("button",{onClick:()=>r(G.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===G.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[d.jsx(G.icon,{className:"h-4 w-4"}),d.jsx("span",{children:G.name})]},G.id))})})]})}),d.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t==="dashboard"&&d.jsxs(rt.div,{initial:{opacity:0},animate:{opacity:1},children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Dashboard de Beneficiarios"}),d.jsx(M8e,{beneficiaries:o,assignments:S(),onAssignOperator:ee}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Distribución por Estado"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Con Asignación"}),d.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:l.total-l.unassigned})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sin Asignar"}),d.jsx("span",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400",children:l.unassigned})]})]})]})})]},"dashboard"),t==="list"&&d.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},children:d.jsx(L8e,{beneficiaries:re,searchTerm:h,onSearchChange:p,onEdit:B,onDelete:Y,onAssignOperator:ee,isLoading:c})},"list"),t==="validation"&&d.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Validación y Consistencia"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Herramientas de validación y auditoría en desarrollo..."})]})},"validation")]}),n&&d.jsx(R8e,{onUploadComplete:D,onClose:()=>a(!1),isUploading:u,uploadProgress:f})]})};function Fne(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Fne(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Gr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Fne(e))&&(n&&(n+=" "),n+=t);return n}const eR="-",B8e=e=>{const t=U8e(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split(eR);return o[0]===""&&o.length!==1&&o.shift(),Bne(o,t)||$8e(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},Bne=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?Bne(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(eR);return(s=t.validators.find(({validator:o})=>o(i)))==null?void 0:s.classGroupId},IV=/^\[(.+)\]$/,$8e=e=>{if(IV.test(e)){const t=IV.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},U8e=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)gI(r[a],n,a,t);return n},gI=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:OV(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(V8e(a)){gI(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{gI(s,OV(t,i),r,n)})})},OV=(e,t)=>{let r=e;return t.split(eR).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},V8e=e=>e.isThemeGetter,z8e=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},vI="!",yI=":",W8e=yI.length,H8e=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let s=0,o=0,l=0,c;for(let m=0;m<a.length;m++){let g=a[m];if(s===0&&o===0){if(g===yI){i.push(a.slice(l,m)),l=m+W8e;continue}if(g==="/"){c=m;continue}}g==="["?s++:g==="]"?s--:g==="("?o++:g===")"&&o--}const u=i.length===0?a:a.substring(l),f=q8e(u),h=f!==u,p=c&&c>l?c-l:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:p}};if(t){const a=t+yI,i=n;n=s=>s.startsWith(a)?i(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},q8e=e=>e.endsWith(vI)?e.substring(0,e.length-1):e.startsWith(vI)?e.substring(1):e,G8e=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(s=>{s[0]==="["||t[s]?(a.push(...i.sort(),s),i=[]):i.push(s)}),a.push(...i.sort()),a}},K8e=e=>({cache:z8e(e.cacheSize),parseClassName:H8e(e),sortModifiers:G8e(e),...B8e(e)}),Y8e=/\s+/,X8e=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,s=[],o=e.trim().split(Y8e);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{isExternal:f,modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:g}=r(u);if(f){l=u+(l.length>0?" "+l:l);continue}let v=!!g,y=n(v?m.substring(0,g):m);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=n(m),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=i(h).join(":"),w=p?x+vI:x,E=w+y;if(s.includes(E))continue;s.push(E);const I=a(y,v);for(let P=0;P<I.length;++P){const A=I[P];s.push(w+A)}l=u+(l.length>0?" "+l:l)}return l};function Q8e(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=$ne(t))&&(n&&(n+=" "),n+=r);return n}const $ne=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=$ne(e[n]))&&(r&&(r+=" "),r+=t);return r};function J8e(e,...t){let r,n,a,i=s;function s(l){const c=t.reduce((u,f)=>f(u),e());return r=K8e(c),n=r.cache.get,a=r.cache.set,i=o,o(l)}function o(l){const c=n(l);if(c)return c;const u=X8e(l,r);return a(l,u),u}return function(){return i(Q8e.apply(null,arguments))}}const Oi=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Une=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Vne=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Z8e=/^\d+\/\d+$/,eFe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tFe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rFe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,nFe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,aFe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gg=e=>Z8e.test(e),jr=e=>!!e&&!Number.isNaN(Number(e)),bh=e=>!!e&&Number.isInteger(Number(e)),uC=e=>e.endsWith("%")&&jr(e.slice(0,-1)),Ff=e=>eFe.test(e),iFe=()=>!0,sFe=e=>tFe.test(e)&&!rFe.test(e),zne=()=>!1,oFe=e=>nFe.test(e),lFe=e=>aFe.test(e),cFe=e=>!Lt(e)&&!Mt(e),uFe=e=>C1(e,qne,zne),Lt=e=>Une.test(e),lp=e=>C1(e,Gne,sFe),fC=e=>C1(e,mFe,jr),DV=e=>C1(e,Wne,zne),fFe=e=>C1(e,Hne,lFe),W_=e=>C1(e,Kne,oFe),Mt=e=>Vne.test(e),Dy=e=>P1(e,Gne),dFe=e=>P1(e,gFe),jV=e=>P1(e,Wne),hFe=e=>P1(e,qne),pFe=e=>P1(e,Hne),H_=e=>P1(e,Kne,!0),C1=(e,t,r)=>{const n=Une.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},P1=(e,t,r=!1)=>{const n=Vne.exec(e);return n?n[1]?t(n[1]):r:!1},Wne=e=>e==="position"||e==="percentage",Hne=e=>e==="image"||e==="url",qne=e=>e==="length"||e==="size"||e==="bg-size",Gne=e=>e==="length",mFe=e=>e==="number",gFe=e=>e==="family-name",Kne=e=>e==="shadow",vFe=()=>{const e=Oi("color"),t=Oi("font"),r=Oi("text"),n=Oi("font-weight"),a=Oi("tracking"),i=Oi("leading"),s=Oi("breakpoint"),o=Oi("container"),l=Oi("spacing"),c=Oi("radius"),u=Oi("shadow"),f=Oi("inset-shadow"),h=Oi("text-shadow"),p=Oi("drop-shadow"),m=Oi("blur"),g=Oi("perspective"),v=Oi("aspect"),y=Oi("ease"),x=Oi("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...E(),Mt,Lt],P=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],S=()=>[Mt,Lt,l],k=()=>[gg,"full","auto",...S()],O=()=>[bh,"none","subgrid",Mt,Lt],T=()=>["auto",{span:["full",bh,Mt,Lt]},bh,Mt,Lt],C=()=>[bh,"auto",Mt,Lt],D=()=>["auto","min","max","fr",Mt,Lt],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Y=()=>["start","end","center","stretch","center-safe","end-safe"],ee=()=>["auto",...S()],re=()=>[gg,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],G=()=>[e,Mt,Lt],q=()=>[...E(),jV,DV,{position:[Mt,Lt]}],be=()=>["no-repeat",{repeat:["","x","y","space","round"]}],_e=()=>["auto","cover","contain",hFe,uFe,{size:[Mt,Lt]}],R=()=>[uC,Dy,lp],U=()=>["","none","full",c,Mt,Lt],z=()=>["",jr,Dy,lp],W=()=>["solid","dashed","dotted","double"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],le=()=>[jr,uC,jV,DV],he=()=>["","none",m,Mt,Lt],ae=()=>["none",jr,Mt,Lt],pe=()=>["none",jr,Mt,Lt],ke=()=>[jr,Mt,Lt],K=()=>[gg,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ff],breakpoint:[Ff],color:[iFe],container:[Ff],"drop-shadow":[Ff],ease:["in","out","in-out"],font:[cFe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ff],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ff],shadow:[Ff],spacing:["px",jr],text:[Ff],"text-shadow":[Ff],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gg,Lt,Mt,v]}],container:["container"],columns:[{columns:[jr,Lt,Mt,o]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:k()}],"inset-x":[{"inset-x":k()}],"inset-y":[{"inset-y":k()}],start:[{start:k()}],end:[{end:k()}],top:[{top:k()}],right:[{right:k()}],bottom:[{bottom:k()}],left:[{left:k()}],visibility:["visible","invisible","collapse"],z:[{z:[bh,"auto",Mt,Lt]}],basis:[{basis:[gg,"full","auto",o,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[jr,gg,"auto","initial","none",Lt]}],grow:[{grow:["",jr,Mt,Lt]}],shrink:[{shrink:["",jr,Mt,Lt]}],order:[{order:[bh,"first","last","none",Mt,Lt]}],"grid-cols":[{"grid-cols":O()}],"col-start-end":[{col:T()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":O()}],"row-start-end":[{row:T()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...Y(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Y(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:ee()}],mx:[{mx:ee()}],my:[{my:ee()}],ms:[{ms:ee()}],me:[{me:ee()}],mt:[{mt:ee()}],mr:[{mr:ee()}],mb:[{mb:ee()}],ml:[{ml:ee()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:re()}],w:[{w:[o,"screen",...re()]}],"min-w":[{"min-w":[o,"screen","none",...re()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...re()]}],h:[{h:["screen","lh",...re()]}],"min-h":[{"min-h":["screen","lh","none",...re()]}],"max-h":[{"max-h":["screen","lh",...re()]}],"font-size":[{text:["base",r,Dy,lp]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Mt,fC]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",uC,Lt]}],"font-family":[{font:[dFe,Lt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Mt,Lt]}],"line-clamp":[{"line-clamp":[jr,"none",Mt,fC]}],leading:[{leading:[i,...S()]}],"list-image":[{"list-image":["none",Mt,Lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Mt,Lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...W(),"wavy"]}],"text-decoration-thickness":[{decoration:[jr,"from-font","auto",Mt,lp]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[jr,"auto",Mt,Lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Mt,Lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Mt,Lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:q()}],"bg-repeat":[{bg:be()}],"bg-size":[{bg:_e()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},bh,Mt,Lt],radial:["",Mt,Lt],conic:[bh,Mt,Lt]},pFe,fFe]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:R()}],"gradient-via-pos":[{via:R()}],"gradient-to-pos":[{to:R()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:z()}],"border-w-x":[{"border-x":z()}],"border-w-y":[{"border-y":z()}],"border-w-s":[{"border-s":z()}],"border-w-e":[{"border-e":z()}],"border-w-t":[{"border-t":z()}],"border-w-r":[{"border-r":z()}],"border-w-b":[{"border-b":z()}],"border-w-l":[{"border-l":z()}],"divide-x":[{"divide-x":z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...W(),"hidden","none"]}],"divide-style":[{divide:[...W(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...W(),"none","hidden"]}],"outline-offset":[{"outline-offset":[jr,Mt,Lt]}],"outline-w":[{outline:["",jr,Dy,lp]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",u,H_,W_]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",f,H_,W_]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[jr,lp]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":z()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",h,H_,W_]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[jr,Mt,Lt]}],"mix-blend":[{"mix-blend":[...Z(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Z()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[jr]}],"mask-image-linear-from-pos":[{"mask-linear-from":le()}],"mask-image-linear-to-pos":[{"mask-linear-to":le()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":le()}],"mask-image-t-to-pos":[{"mask-t-to":le()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":le()}],"mask-image-r-to-pos":[{"mask-r-to":le()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":le()}],"mask-image-b-to-pos":[{"mask-b-to":le()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":le()}],"mask-image-l-to-pos":[{"mask-l-to":le()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":le()}],"mask-image-x-to-pos":[{"mask-x-to":le()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":le()}],"mask-image-y-to-pos":[{"mask-y-to":le()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[Mt,Lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":le()}],"mask-image-radial-to-pos":[{"mask-radial-to":le()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[jr]}],"mask-image-conic-from-pos":[{"mask-conic-from":le()}],"mask-image-conic-to-pos":[{"mask-conic-to":le()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:q()}],"mask-repeat":[{mask:be()}],"mask-size":[{mask:_e()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Mt,Lt]}],filter:[{filter:["","none",Mt,Lt]}],blur:[{blur:he()}],brightness:[{brightness:[jr,Mt,Lt]}],contrast:[{contrast:[jr,Mt,Lt]}],"drop-shadow":[{"drop-shadow":["","none",p,H_,W_]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",jr,Mt,Lt]}],"hue-rotate":[{"hue-rotate":[jr,Mt,Lt]}],invert:[{invert:["",jr,Mt,Lt]}],saturate:[{saturate:[jr,Mt,Lt]}],sepia:[{sepia:["",jr,Mt,Lt]}],"backdrop-filter":[{"backdrop-filter":["","none",Mt,Lt]}],"backdrop-blur":[{"backdrop-blur":he()}],"backdrop-brightness":[{"backdrop-brightness":[jr,Mt,Lt]}],"backdrop-contrast":[{"backdrop-contrast":[jr,Mt,Lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",jr,Mt,Lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[jr,Mt,Lt]}],"backdrop-invert":[{"backdrop-invert":["",jr,Mt,Lt]}],"backdrop-opacity":[{"backdrop-opacity":[jr,Mt,Lt]}],"backdrop-saturate":[{"backdrop-saturate":[jr,Mt,Lt]}],"backdrop-sepia":[{"backdrop-sepia":["",jr,Mt,Lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Mt,Lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[jr,"initial",Mt,Lt]}],ease:[{ease:["linear","initial",y,Mt,Lt]}],delay:[{delay:[jr,Mt,Lt]}],animate:[{animate:["none",x,Mt,Lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Mt,Lt]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:ae()}],"rotate-x":[{"rotate-x":ae()}],"rotate-y":[{"rotate-y":ae()}],"rotate-z":[{"rotate-z":ae()}],scale:[{scale:pe()}],"scale-x":[{"scale-x":pe()}],"scale-y":[{"scale-y":pe()}],"scale-z":[{"scale-z":pe()}],"scale-3d":["scale-3d"],skew:[{skew:ke()}],"skew-x":[{"skew-x":ke()}],"skew-y":[{"skew-y":ke()}],transform:[{transform:[Mt,Lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:K()}],"translate-x":[{"translate-x":K()}],"translate-y":[{"translate-y":K()}],"translate-z":[{"translate-z":K()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Mt,Lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Mt,Lt]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[jr,Dy,lp,fC]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},yFe=J8e(vFe);function U0(...e){return yFe(Gr(e))}const rn=Pe.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:U0("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));rn.displayName="Card";const nn=Pe.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:U0("flex flex-col space-y-1.5 p-6",e),...t}));nn.displayName="CardHeader";const an=Pe.forwardRef(({className:e,...t},r)=>d.jsx("h3",{ref:r,className:U0("text-2xl font-semibold leading-none tracking-tight",e),...t}));an.displayName="CardTitle";const Ri=Pe.forwardRef(({className:e,...t},r)=>d.jsx("p",{ref:r,className:U0("text-sm text-muted-foreground",e),...t}));Ri.displayName="CardDescription";const sn=Pe.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:U0("p-6 pt-0",e),...t}));sn.displayName="CardContent";const xFe=Pe.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:U0("flex items-center p-6 pt-0",e),...t}));xFe.displayName="CardFooter";const RV=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,LV=Gr,wFe=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return LV(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(c=>{const u=r==null?void 0:r[c],f=i==null?void 0:i[c];if(u===null)return null;const h=RV(u)||RV(f);return a[c][h]}),o=r&&Object.entries(r).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:h,...p}=u;return Object.entries(p).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...i,...o}[g]):{...i,...o}[g]===v})?[...c,f,h]:c},[]);return LV(e,s,l,r==null?void 0:r.class,r==null?void 0:r.className)},bFe=wFe("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",danger:"border-transparent bg-red-500 text-white hover:bg-red-600"}},defaultVariants:{variant:"default"}});function Uo({className:e,variant:t,...r}){return d.jsx("div",{className:U0(bFe({variant:t}),e),...r})}const _Fe=async()=>{console.log("🏗️ Inicializando estructura de métricas en Firestore...");try{const e=M2(Ct),t=Lr(Ct,"metrics","global");e.set(t,{totalCalls:0,successfulCalls:0,failedCalls:0,uniqueBeneficiaries:0,averageDuration:0,protocolCompliance:0,lastUpdated:br(),created:br()});const r=Lr(Ct,"systemConfig","metricsConfig");e.set(r,{alDiaThreshold:15,pendienteThreshold:30,urgenteThreshold:30,autoProcessing:!0,notificationsEnabled:!0,lastUpdated:br(),created:br()});const n=Lr(Qr(Ct,"processLogs"));return e.set(n,{type:"INITIALIZATION",status:"SUCCESS",message:"Estructura de métricas inicializada desde aplicación web",timestamp:br(),details:{collections:["metrics","systemConfig","processLogs"],method:"web_initialization"}}),await e.commit(),console.log("✅ Estructura de métricas inicializada correctamente"),{success:!0,message:"Estructura inicializada correctamente"}}catch(e){return console.error("❌ Error inicializando estructura:",e),{success:!1,error:e.message}}},SFe=async e=>{console.log("🔄 Procesando datos de Excel manualmente...");try{const t=M2(Ct);let r=0;const n={},a={};e.forEach(c=>{const u=c.operador||"Sin asignar",f=c.beneficiario||"Sin nombre";if(n[u]||(n[u]={totalCalls:0,successfulCalls:0,failedCalls:0,totalDuration:0,beneficiaries:new Set}),n[u].totalCalls++,n[u].totalDuration+=c.duracion||0,n[u].beneficiaries.add(f),c.categoria==="exitosa"||c.resultado==="Llamado exitoso"?n[u].successfulCalls++:n[u].failedCalls++,a[f]||(a[f]={totalCalls:0,lastSuccessfulCall:null,operator:u,commune:c.comuna||c.commune||"N/A",phone:c.numero_cliente||c.phone||"N/A"}),a[f].totalCalls++,c.categoria==="exitosa"||c.resultado==="Llamado exitoso"){const h=new Date(c.fecha);(!a[f].lastSuccessfulCall||h>new Date(a[f].lastSuccessfulCall))&&(a[f].lastSuccessfulCall=c.fecha)}});for(const[c,u]of Object.entries(n)){const f=Lr(Ct,"operatorMetrics",c);t.set(f,{operatorName:c,totalCalls:u.totalCalls,successfulCalls:u.successfulCalls,failedCalls:u.failedCalls,successRate:u.totalCalls>0?u.successfulCalls/u.totalCalls*100:0,averageDuration:u.totalCalls>0?Math.round(u.totalDuration/u.totalCalls):0,uniqueBeneficiaries:u.beneficiaries.size,lastUpdated:br()}),r++}for(const[c,u]of Object.entries(a)){let f="urgente";if(u.lastSuccessfulCall){const p=Math.floor((new Date-new Date(u.lastSuccessfulCall))/864e5);p<=15?f="al-dia":p<=30&&(f="pendiente")}const h=Lr(Ct,"beneficiaryMetrics",c);t.set(h,{beneficiaryName:c,operator:u.operator,commune:u.commune,phone:u.phone,totalCalls:u.totalCalls,lastSuccessfulCall:u.lastSuccessfulCall,status:f,daysSinceLastSuccess:u.lastSuccessfulCall?Math.floor((new Date-new Date(u.lastSuccessfulCall))/(1e3*60*60*24)):null,lastUpdated:br()}),r++}const i=e.length,s=e.filter(c=>c.categoria==="exitosa"||c.resultado==="Llamado exitoso").length,o=Lr(Ct,"metrics","global");t.set(o,{totalCalls:i,successfulCalls:s,failedCalls:i-s,uniqueBeneficiaries:Object.keys(a).length,uniqueOperators:Object.keys(n).length,averageDuration:i>0?Math.round(e.reduce((c,u)=>c+(u.duracion||0),0)/i):0,successRate:i>0?s/i*100:0,lastUpdated:br(),lastProcessed:br()});const l=Lr(Qr(Ct,"processLogs"));return t.set(l,{type:"MANUAL_PROCESSING",status:"SUCCESS",message:`Procesados ${r} registros manualmente`,timestamp:br(),details:{totalRecords:e.length,processedRecords:r,operators:Object.keys(n).length,beneficiaries:Object.keys(a).length}}),await t.commit(),console.log(`✅ Procesados ${r} registros correctamente`),{success:!0,message:`Procesados ${r} registros correctamente`,stats:{totalCalls:i,successfulCalls:s,operators:Object.keys(n).length,beneficiaries:Object.keys(a).length}}}catch(t){return console.error("❌ Error procesando datos:",t),{success:!1,error:t.message}}},EFe=async()=>{try{console.log("🔧 Configurando perfil de super admin...");const e={email:"roberto@mistatas.com",role:"super_admin",name:"Roberto Mistatas",isActive:!0,permissions:["read_all","write_all","manage_users","manage_metrics","system_admin"],createdAt:br(),updatedAt:br(),createdBy:"system"},{auth:t}=await qo(async()=>{const{auth:a}=await Promise.resolve().then(()=>Kee);return{auth:a}},void 0),r=t.currentUser;if(!r)throw new Error("Usuario no autenticado. Inicia sesión primero.");if(r.email!=="roberto@mistatas.com")throw new Error("Solo el super admin puede ejecutar esta función.");const n=Lr(Ct,"userProfiles",r.uid);return await r0(n,e,{merge:!0}),console.log("✅ Perfil de super admin configurado correctamente"),console.log("📧 Email:",r.email),console.log("🆔 UID:",r.uid),{success:!0,message:"Perfil de super admin configurado",uid:r.uid,email:r.email}}catch(e){return console.error("❌ Error configurando perfil:",e),{success:!1,error:e.message}}},AFe=async()=>{try{const{auth:e}=await qo(async()=>{const{auth:s}=await Promise.resolve().then(()=>Kee);return{auth:s}},void 0),t=e.currentUser;if(!t)return{authenticated:!1};const{getDoc:r,doc:n}=await qo(async()=>{const{getDoc:s,doc:o}=await Promise.resolve().then(()=>XCe);return{getDoc:s,doc:o}},void 0),a=n(Ct,"userProfiles",t.uid),i=await r(a);return{authenticated:!0,uid:t.uid,email:t.email,hasProfile:i.exists(),profile:i.exists()?i.data():null}}catch(e){return{authenticated:!1,error:e.message}}};function Yne(){const[e,t]=j.useState(localStorage.getItem("showMetricsApp")==="true"),[r,n]=j.useState(!1),[a,i]=j.useState(null),{callData:s}=Vv(),o=Jc(y=>y.showInfo),l=()=>{localStorage.setItem("showMetricsApp","true"),t(!0),o("Vista de métricas habilitada. Por favor, recargue la página para ver los cambios.")},c=()=>{localStorage.setItem("showMetricsApp","false"),t(!1),o("Vista de métricas deshabilitada. Por favor, recargue la página para ver los cambios.")},u=async()=>{n(!0),i(null);try{const y=await _Fe();i(y)}catch(y){i({success:!1,error:y.message})}finally{n(!1)}},f=async()=>{if(!s||s.length===0){i({success:!1,error:"No hay datos de Excel cargados. Primero sube un archivo desde Registro de Llamadas."});return}n(!0),i(null);try{const y=await SFe(s);i(y)}catch(y){i({success:!1,error:y.message})}finally{n(!1)}},h=async()=>{n(!0),i(null);try{const y=await EFe();i(y)}catch(y){i({success:!1,error:y.message})}finally{n(!1)}},p=async()=>{n(!0),i(null);try{const y=await AFe();i({success:y.authenticated,message:y.authenticated?`Usuario autenticado: ${y.email}${y.hasProfile?" (Perfil configurado)":" (Sin perfil)"}`:"Usuario no autenticado",details:y})}catch(y){i({success:!1,error:y.message})}finally{n(!1)}},m=[{name:"Procesamiento Automático de Excel",status:"ready",description:"Cloud Functions procesan archivos automáticamente"},{name:"Métricas en Tiempo Real",status:"ready",description:"Dashboards se actualizan automáticamente"},{name:"Dashboard Global",status:"ready",description:"KPIs generales y análisis de distribución"},{name:"Dashboard de Teleoperadoras",status:"ready",description:"Métricas individuales con filtros"},{name:"Dashboard de Beneficiarios",status:"ready",description:"Estados y gestión de beneficiarios"},{name:"Firebase Cloud Functions",status:"pending",description:"Requiere deployment: firebase deploy --only functions"}],g=y=>{switch(y){case"ready":return d.jsx(wa,{className:"h-4 w-4 text-green-500"});case"pending":return d.jsx(_i,{className:"h-4 w-4 text-yellow-500"});default:return d.jsx(W3,{className:"h-4 w-4 text-blue-500"})}},v=y=>{switch(y){case"ready":return d.jsx(Uo,{variant:"success",children:"Listo"});case"pending":return d.jsx(Uo,{variant:"warning",children:"Pendiente"});default:return d.jsx(Uo,{variant:"secondary",children:"Info"})}};return d.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sistema de Métricas Automatizadas"}),d.jsx("p",{className:"text-gray-600",children:"Dashboard avanzado con Cloud Functions para análisis de llamadas"})]}),d.jsxs(rn,{children:[d.jsx(nn,{children:d.jsxs(an,{className:"flex items-center space-x-2",children:[d.jsx(nm,{className:"h-5 w-5"}),d.jsx("span",{children:"Estado Actual"})]})}),d.jsx(sn,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Sistema de métricas:"}),d.jsx("p",{className:"font-medium",children:e?"✅ Habilitado":"❌ Deshabilitado"})]}),d.jsx("div",{className:"space-x-2",children:e?d.jsx("button",{onClick:c,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Volver al Sistema Original"}):d.jsxs("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[d.jsx(fc,{className:"h-4 w-4"}),d.jsx("span",{children:"Habilitar Sistema de Métricas"})]})})]})})]}),d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Funcionalidades Implementadas"}),d.jsx(Ri,{children:"Estado de las características del nuevo sistema"})]}),d.jsx(sn,{children:d.jsx("div",{className:"space-y-4",children:m.map((y,x)=>d.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[g(y.status),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:y.name}),d.jsx("p",{className:"text-sm text-gray-600",children:y.description})]})]}),v(y.status)]},x))})})]}),d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"🔧 Herramientas de Configuración"}),d.jsx(Ri,{children:"Inicializa la base de datos y procesa datos sin Cloud Functions"})]}),d.jsx(sn,{children:d.jsxs("div",{className:"space-y-4",children:[a&&d.jsxs("div",{className:`p-4 rounded-lg border ${a.success?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[a.success?d.jsx(wa,{className:"h-4 w-4"}):d.jsx(_i,{className:"h-4 w-4"}),a.success?"Éxito":"Error"]}),d.jsx("p",{className:"text-sm mt-1",children:a.message||a.error}),a.stats&&d.jsxs("div",{className:"text-xs mt-2 opacity-80",children:["Llamadas: ",a.stats.totalCalls," | Exitosas: ",a.stats.successfulCalls," | Operadoras: ",a.stats.operators," | Beneficiarios: ",a.stats.beneficiaries]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(c2,{className:"h-5 w-5 text-blue-600"}),d.jsx("h4",{className:"font-medium text-blue-800",children:"Paso 1: Inicializar BD"})]}),d.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Crea la estructura necesaria en Firestore"}),d.jsx("button",{onClick:u,disabled:r,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:bg-blue-300 transition-colors",children:r?"Inicializando...":"Inicializar Firestore"})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(f2,{className:"h-5 w-5 text-green-600"}),d.jsx("h4",{className:"font-medium text-green-800",children:"Paso 2: Procesar Excel"})]}),d.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Procesa datos cargados y calcula métricas"}),d.jsx("button",{onClick:f,disabled:r||!s||s.length===0,className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:bg-green-300 transition-colors",children:r?"Procesando...":"Procesar Datos Excel"}),(!s||s.length===0)&&d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'* Primero carga un Excel desde "Registro de Llamadas"'})]})]}),d.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(nm,{className:"h-5 w-5 text-purple-600"}),d.jsx("h4",{className:"font-medium text-purple-800",children:"Configuración de Permisos"})]}),d.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Configura perfil de administrador para resolver errores de permisos"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[d.jsx("button",{onClick:h,disabled:r,className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-300 transition-colors text-sm",children:r?"Configurando...":"Configurar Admin"}),d.jsx("button",{onClick:p,disabled:r,className:"bg-purple-500 text-white px-4 py-2 rounded-md hover:bg-purple-600 disabled:bg-purple-300 transition-colors text-sm",children:"Verificar Permisos"})]})]}),d.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(W3,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"text-sm text-yellow-800",children:[d.jsx("strong",{children:"Nota:"})," Estas herramientas simulan el comportamiento de Cloud Functions para que puedas probar el sistema completo sin necesidad del plan Blaze de Firebase."]})]})})]})})]}),d.jsxs(rn,{children:[d.jsx(nn,{children:d.jsxs(an,{className:"flex items-center space-x-2",children:[d.jsx(Ape,{className:"h-5 w-5"}),d.jsx("span",{children:"Cómo Usar el Sistema"})]})}),d.jsx(sn,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-green-700",children:"1. Para Frontend (Ya listo)"}),d.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:["• Habilita el sistema con el botón de arriba",d.jsx("br",{}),'• Navega entre "Sistema Principal" y "Sistema de Métricas"',d.jsx("br",{}),"• Los dashboards funcionan con datos de ejemplo"]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-yellow-700",children:"2. Para Backend (Requiere deployment)"}),d.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:["• Ejecuta: ",d.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"firebase deploy --only functions"}),d.jsx("br",{}),"• Sube un archivo Excel a Firebase Storage",d.jsx("br",{}),"• Las métricas se calculan automáticamente"]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-blue-700",children:"3. Inicializar Firestore"}),d.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:["• Ejecuta: ",d.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"node src/scripts/initializeFirestore.js"}),d.jsx("br",{}),"• Esto configura la estructura de colecciones necesaria"]})]})]})})]}),d.jsxs(rn,{children:[d.jsx(nn,{children:d.jsx(an,{children:"Arquitectura del Sistema"})}),d.jsx(sn,{children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Backend (Cloud Functions)"}),d.jsxs("ul",{className:"space-y-1 text-gray-600",children:[d.jsx("li",{children:"• Procesamiento automático de Excel"}),d.jsx("li",{children:"• Normalización de datos"}),d.jsx("li",{children:"• Cálculo de métricas"}),d.jsx("li",{children:"• Almacenamiento en Firestore"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Frontend (React + Zustand)"}),d.jsxs("ul",{className:"space-y-1 text-gray-600",children:[d.jsx("li",{children:"• Dashboards interactivos"}),d.jsx("li",{children:"• Tiempo real con onSnapshot"}),d.jsx("li",{children:"• Componentes shadcn/ui"}),d.jsx("li",{children:"• Gráficos con Recharts"})]})]})]})})]})]})}const Xne=()=>{const{user:e}=$l(),{roles:t,getRoleById:r,getUserPermissions:n,hasPermission:a,isSuperAdmin:i,canAccessModule:s}=Jee(),[o,l]=j.useState(null),[c,u]=j.useState(!1);j.useEffect(()=>{(async()=>{var Y,ee;if(!(e!=null&&e.email)){l(null);return}u(!0);try{if(console.log("🔍 Cargando perfil para usuario:",e.email),e.email==="roberto@mistatas.com")console.log("👑 Usuario identificado como Super Admin"),l({...e,role:"super_admin",isActive:!0});else if(((Y=e.email)==null?void 0:Y.toLowerCase())==="carolina@mistatas.com"||(ee=e.displayName)!=null&&ee.toLowerCase().includes("carolina reyes"))console.log("👑 Usuario identificado como Carolina Reyes (Admin)"),l({...e,role:"admin",isActive:!0});else{console.log("📡 Consultando Firestore para email:",e.email);let re=await Jf.getUserProfileByEmail(e.email);if(!re&&e.uid&&(console.log("🔍 Buscando por UID:",e.uid),re=await Jf.getUserProfile(e.uid)),!re){console.log("🔍 Buscando en usuarios pendientes...");try{const{smartUserCreationService:G}=await qo(async()=>{const{smartUserCreationService:_e}=await import("./smartUserCreationService-CTst8k2u.js");return{smartUserCreationService:_e}},[]),be=(await G.getPendingUsers()).find(_e=>{var R;return _e.email===((R=e.email)==null?void 0:R.toLowerCase())});be&&(console.log("✅ Usuario encontrado en pendientes:",be),re={role:be.role,email:be.email,displayName:be.displayName,isActive:!0,isPending:!0})}catch(G){console.log("⚠️ Error buscando usuarios pendientes:",G)}}if(console.log("📄 Perfil obtenido de Firestore:",re),re){const G={...e,...re,role:re.role||"teleoperadora"};console.log("✅ Perfil final aplicado:",G),l(G)}else console.log("❌ No se encontró perfil en Firestore, usando rol por defecto"),l({...e,role:"teleoperadora",isActive:!0})}}catch(re){console.error("Error loading user profile:",re),l({...e,role:"teleoperadora",isActive:!0})}finally{u(!1)}})()},[e==null?void 0:e.email]);const f=j.useMemo(()=>o,[o]),h=j.useMemo(()=>f!=null&&f.role?r(f.role):null,[f==null?void 0:f.role,r]),p=j.useMemo(()=>f?n(f):[],[f,n]),m=j.useMemo(()=>i(f),[f,i]),g=B=>a(f,B),v=B=>s(f,B),y=v("dashboard"),x=v("calls"),w=v("assignments"),E=v("beneficiaries"),I=v("seguimientos"),P=v("seguimientos"),A=v("history"),S=v("audit"),k=v("reports"),O=m,T=m,C=j.useMemo(()=>{const B=[];return y&&B.push({id:"dashboard",label:"Panel Principal",icon:"BarChart3"}),x&&B.push({id:"calls",label:"Registro de Llamadas",icon:"Phone"}),w&&B.push({id:"assignments",label:"Asignaciones",icon:"Users"}),E&&B.push({id:"beneficiaries",label:"Beneficiarios Base",icon:"Database"}),I&&B.push({id:"seguimientos",label:"Seguimientos Periódicos",icon:"Activity"}),P&&B.push({id:"calendar",label:"Ver Calendario",icon:"Calendar"}),B.push({id:"gestiones",label:"Gestiones",icon:"Users"}),A&&B.push({id:"history",label:"Historial de Seguimientos",icon:"Clock"}),S&&B.push({id:"audit",label:"Auditoría Avanzada",icon:"BarChart3"}),O&&B.push({id:"metrics",label:"Métricas Avanzadas",icon:"PieChart"}),T&&B.push({id:"config",label:"Configuración",icon:"Settings"}),B},[y,x,w,E,I,A,S,O,T]),D=j.useMemo(()=>{var B,Y;return console.log("🔍 Determinando defaultTab:",{canViewSeguimientos:I,canViewDashboard:y,userRole:f==null?void 0:f.role,visibleModulesCount:C.length,firstModule:(B=C[0])==null?void 0:B.id}),I&&(f==null?void 0:f.role)==="teleoperadora"?"seguimientos":y?"dashboard":((Y=C[0])==null?void 0:Y.id)||"dashboard"},[I,y,f==null?void 0:f.role,C]);return{user:f,currentRole:h,permissions:p,profileLoading:c,isSuperAdmin:m,isAdmin:(f==null?void 0:f.role)==="admin"||m,isAuditor:(f==null?void 0:f.role)==="auditor",isTeleoperadora:(f==null?void 0:f.role)==="teleoperadora",checkPermission:g,checkModuleAccess:v,canViewDashboard:y,canViewCalls:x,canViewAssignments:w,canViewBeneficiaries:E,canViewSeguimientos:I,canViewCalendar:P,canViewHistory:A,canViewAudit:S,canViewReports:k,canViewMetrics:O,canViewConfig:T,visibleModules:C,defaultTab:D,hasAnyPermission:p.length>0,roleLevel:(h==null?void 0:h.level)||0,roleName:(h==null?void 0:h.name)||"Sin rol"}},q_=({title:e,value:t,icon:r,color:n="blue",subtitle:a,percentage:i=null,trend:s=null})=>{const o={blue:{bg:"bg-white",border:"border-gray-200",icon:"text-gray-600",text:"text-gray-900",accent:"text-gray-600",shadow:"shadow-sm hover:shadow-md"},green:{bg:"bg-white",border:"border-gray-200",icon:"text-teal-600",text:"text-gray-900",accent:"text-teal-600",shadow:"shadow-sm hover:shadow-md"},yellow:{bg:"bg-white",border:"border-gray-200",icon:"text-orange-500",text:"text-gray-900",accent:"text-orange-500",shadow:"shadow-sm hover:shadow-md"},red:{bg:"bg-white",border:"border-gray-200",icon:"text-red-500",text:"text-gray-900",accent:"text-red-500",shadow:"shadow-sm hover:shadow-md"}},l=o[n]||o.blue;return d.jsxs(rt.div,{className:`
        ${l.bg} ${l.border} ${l.shadow}
        border rounded-xl p-6 transition-all duration-200
        cursor-default
      `,whileHover:{scale:1.02},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:15},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"p-2 rounded-lg bg-gray-50",children:d.jsx(r,{className:`w-5 h-5 ${l.icon}`})}),s&&d.jsxs("div",{className:`text-xs font-medium ${s>0?"text-teal-600":s<0?"text-red-500":"text-gray-500"}`,children:[s>0?"↗":s<0?"↘":"→"," ",Math.abs(s),"%"]})]}),d.jsxs("div",{className:"mb-2",children:[d.jsx(rt.div,{className:`text-3xl font-bold ${l.text}`,initial:{scale:.5},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.1},children:typeof t=="number"?t.toLocaleString():t}),i!==null&&d.jsxs(rt.div,{className:`text-sm font-medium ${l.accent} mt-1`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[i,"% del total"]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:e}),a&&d.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:a})]}),i!==null&&i<=100&&d.jsx("div",{className:"mt-4",children:d.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:d.jsx(rt.div,{className:`h-2 rounded-full ${n==="green"?"bg-teal-500":n==="yellow"?"bg-orange-500":n==="red"?"bg-red-500":"bg-gray-400"}`,initial:{width:0},animate:{width:`${i}%`},transition:{duration:1,ease:"easeOut",delay:.3}})})})]})},TFe=({beneficiario:e,seguimientos:t=[],onSelect:r,onNewContact:n})=>{const[a,i]=j.useState(!1),s=()=>{const v=t.filter(I=>I.tipoResultado==="exitoso");if(v.length===0)return{estado:"urgente",ultimoContacto:null,diasSinContacto:null,mensaje:"Sin contactos exitosos"};const y=v.sort((I,P)=>new Date(P.fechaContacto)-new Date(I.fechaContacto))[0],x=Math.floor((new Date-new Date(y.fechaContacto))/(1e3*60*60*24));let w,E;return x<=15?(w="al-dia",E=`Último contacto hace ${x} día${x!==1?"s":""}`):x<=30?(w="pendiente",E=`${x} días sin contacto`):(w="urgente",E=`¡${x} días sin contacto!`),{estado:w,ultimoContacto:y.fechaContacto,diasSinContacto:x,mensaje:E}},{estado:o,ultimoContacto:l,diasSinContacto:c,mensaje:u}=s(),h={"al-dia":{bg:"bg-white",border:"border-gray-200",text:"text-gray-900",icon:wa,iconColor:"text-teal-600",badge:"bg-teal-50 text-teal-700 border border-teal-200",shadow:"shadow-sm hover:shadow-md"},pendiente:{bg:"bg-white",border:"border-gray-200",text:"text-gray-900",icon:ws,iconColor:"text-orange-500",badge:"bg-orange-50 text-orange-700 border border-orange-200",shadow:"shadow-sm hover:shadow-md"},urgente:{bg:"bg-white",border:"border-gray-200",text:"text-gray-900",icon:Go,iconColor:"text-red-500",badge:"bg-red-50 text-red-700 border border-red-200",shadow:"shadow-sm hover:shadow-md"}}[o],p=h.icon,m=v=>{if(!v)return"N/A";try{return new Date(v).toLocaleDateString("es-CL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"America/Santiago"})}catch(y){return console.error("Error formateando fecha:",y),"Fecha inválida"}},g=v=>{if(!v)return"Sin teléfono";const y=v.replace(/\D/g,"");return y.length===9?`+56 ${y.substring(0,1)} ${y.substring(1,5)} ${y.substring(5)}`:v};return d.jsxs(rt.div,{className:`
        ${h.bg} 
        ${h.border} ${h.shadow}
        border rounded-xl overflow-hidden transition-all duration-200
        cursor-pointer
      `,onClick:r,whileHover:{scale:1.02},layout:!0,children:[d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight truncate",children:e.beneficiary||"Sin nombre"}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(p,{className:`w-4 h-4 ${h.iconColor}`}),d.jsx("span",{className:"text-xs font-medium text-gray-600",children:o==="al-dia"?"Al día":o==="pendiente"?"Pendiente":"Urgente"})]})]}),d.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.badge}`,children:[t.length," contacto",t.length!==1?"s":""]})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[d.jsx(Ha,{className:"w-4 h-4"}),d.jsx("span",{className:"truncate",children:g(e.primaryPhone)})]}),e.commune&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[d.jsx(NY,{className:"w-4 h-4"}),d.jsx("span",{className:"truncate",children:e.commune})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[d.jsx(kpe,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs",children:u})]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-4",children:[d.jsxs("button",{onClick:v=>{v.stopPropagation(),i(!a)},className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:[a?d.jsx(EY,{className:"w-4 h-4"}):d.jsx(SY,{className:"w-4 h-4"}),"Historial"]}),d.jsxs(rt.button,{onClick:v=>{v.stopPropagation(),n()},className:"flex items-center gap-1 bg-slate-700 hover:bg-slate-800 text-white text-xs px-3 py-1.5 rounded-lg transition-colors shadow-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(LA,{className:"w-3 h-3"}),"Contacto"]})]})]}),d.jsx(Rl,{children:a&&d.jsx(rt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"border-t border-gray-200 dark:border-gray-700",children:d.jsx("div",{className:"p-4 bg-white/50 dark:bg-gray-800/50",children:t.length===0?d.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm",children:[d.jsx(Aw,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"Sin seguimientos registrados"]}):d.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[t.sort((v,y)=>new Date(y.fechaContacto)-new Date(v.fechaContacto)).slice(0,5).map((v,y)=>d.jsxs(rt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.1},className:`p-3 rounded-lg border ${v.tipoResultado==="exitoso"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":v.tipoResultado==="fallido"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[v.tipoResultado==="exitoso"&&d.jsx(wa,{className:"w-4 h-4 text-green-600"}),v.tipoResultado==="fallido"&&d.jsx(Go,{className:"w-4 h-4 text-red-600"}),d.jsx("span",{className:"text-xs font-medium text-gray-900 dark:text-white",children:v.tipoContacto||"Contacto"})]}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:m(v.fechaContacto)})]}),v.observaciones&&d.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 mt-1",children:v.observaciones})]},v.id||y)),t.length>5&&d.jsx("div",{className:"text-center",children:d.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",t.length-5," seguimiento",t.length-5!==1?"s":""," más"]})})]})})})})]})},kFe=({beneficiario:e=null,beneficiarios:t=[],onSave:r,onClose:n})=>{const a=()=>{const S=new Date,k=new Date(S.toLocaleString("en-US",{timeZone:"America/Santiago"})),O=k.getFullYear(),T=String(k.getMonth()+1).padStart(2,"0"),C=String(k.getDate()).padStart(2,"0"),D=String(k.getHours()).padStart(2,"0"),B=String(k.getMinutes()).padStart(2,"0");return`${O}-${T}-${C}T${D}:${B}`},[i,s]=j.useState({beneficiarioId:(e==null?void 0:e.id)||"",beneficiario:(e==null?void 0:e.beneficiary)||"",telefono:(e==null?void 0:e.primaryPhone)||"",tipoContacto:"llamada",tipoResultado:"",observaciones:"",fechaContacto:a()}),[o,l]=j.useState({}),[c,u]=j.useState(!1),[f,h]=j.useState(!e),[p,m]=j.useState(""),g=j.useRef(null),v=j.useRef(null);j.useEffect(()=>{v.current&&v.current.focus()},[]),j.useEffect(()=>{const S=k=>{k.key==="Escape"&&n()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[n]);const y=[{value:"llamada",label:"Llamada Telefónica",icon:Ha},{value:"presencial",label:"Visita Presencial",icon:Ss}],x=[{value:"exitoso",label:"Contacto Exitoso",icon:wa,color:"text-emerald-700"},{value:"no-respuesta",label:"No Responde",icon:rm,color:"text-amber-700"},{value:"ocupado",label:"Línea Ocupada",icon:ws,color:"text-slate-600"},{value:"mensaje",label:"Mensaje Dejado",icon:Aw,color:"text-slate-700"},{value:"fallido",label:"Llamada Fallida",icon:rm,color:"text-rose-700"}],w=t.filter(S=>{var k,O,T;return((k=S.beneficiary)==null?void 0:k.toLowerCase().includes(p.toLowerCase()))||((O=S.primaryPhone)==null?void 0:O.includes(p))||((T=S.commune)==null?void 0:T.toLowerCase().includes(p.toLowerCase()))});j.useEffect(()=>{console.log("🔍 NewContactForm - Debug beneficiarios:",{totalBeneficiarios:t.length,searchTerm:p,beneficiariosFiltrados:w.length,primerosEjemplos:t.slice(0,3).map(S=>({beneficiary:S.beneficiary,primaryPhone:S.primaryPhone,commune:S.commune}))})},[t,p,w.length]);const E=(S,k)=>{s(O=>({...O,[S]:k})),o[S]&&l(O=>({...O,[S]:null}))},I=S=>{s(k=>({...k,beneficiarioId:S.id||"",beneficiario:S.beneficiary||"",telefono:S.primaryPhone||""})),h(!1),m("")},P=()=>{const S={};return i.beneficiario.trim()||(S.beneficiario="Debe seleccionar un beneficiario"),i.tipoContacto||(S.tipoContacto="Debe seleccionar el tipo de contacto"),i.tipoResultado||(S.tipoResultado="Debe seleccionar el resultado del contacto"),i.fechaContacto||(S.fechaContacto="Debe especificar la fecha y hora"),l(S),Object.keys(S).length===0},A=async S=>{if(S.preventDefault(),!!P()){u(!0);try{await r({...i,id:Date.now().toString(),createdAt:new Date().toISOString()})}catch(k){console.error("Error guardando contacto:",k),l({submit:"Error al guardar el contacto. Intenta nuevamente."})}finally{u(!1)}}};return d.jsx(rt.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:S=>{S.target===S.currentTarget&&n()},children:d.jsxs(rt.div,{ref:g,className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:S=>S.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Registrar Nuevo Contacto"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ingresa los detalles del seguimiento realizado"})]}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx(xd,{className:"w-5 h-5 text-gray-500"})})]}),d.jsxs("form",{onSubmit:A,className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beneficiario *"}),f?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{ref:v,type:"text",placeholder:"Buscar beneficiario por nombre, teléfono o comuna...",value:p,onChange:S=>m(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white text-gray-900 shadow-sm transition-all duration-200"})]}),d.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:w.length===0?d.jsx("div",{className:"p-4 text-center text-gray-500",children:p?"No se encontraron beneficiarios":"Escribe para buscar beneficiarios"}):w.map((S,k)=>d.jsxs("button",{type:"button",onClick:()=>I(S),className:"w-full p-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[d.jsx("div",{className:"font-medium text-gray-900",children:S.beneficiary}),d.jsxs("div",{className:"text-sm text-gray-600",children:[S.primaryPhone," • ",S.commune]})]},S.id||k))})]}):d.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-gray-50",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:i.beneficiario}),d.jsx("div",{className:"text-sm text-gray-600",children:i.telefono})]}),d.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"Cambiar"})]}),o.beneficiario&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.beneficiario})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha y Hora del Contacto *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Js,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"datetime-local",value:i.fechaContacto,onChange:S=>E("fechaContacto",S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white text-gray-900 shadow-sm transition-all duration-200"})]}),o.fechaContacto&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.fechaContacto})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Contacto *"}),d.jsx("div",{className:"flex gap-3",children:y.map(S=>{const k=S.icon;return d.jsx("button",{type:"button",onClick:()=>E("tipoContacto",S.value),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${i.tipoContacto===S.value?"border-teal-500 bg-teal-50 text-teal-700":"border-gray-200 hover:border-gray-300"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(k,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-medium",children:S.label})]})},S.value)})}),o.tipoContacto&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.tipoContacto})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resultado del Contacto *"}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:x.map(S=>{const k=S.icon;return d.jsx("button",{type:"button",onClick:()=>E("tipoResultado",S.value),className:`p-3 rounded-lg border-2 transition-colors text-left ${i.tipoResultado===S.value?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-gray-300"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(k,{className:`w-5 h-5 ${S.color}`}),d.jsx("span",{className:"font-medium text-gray-900",children:S.label})]})},S.value)})}),o.tipoResultado&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.tipoResultado})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones"}),d.jsx("textarea",{value:i.observaciones,onChange:S=>E("observaciones",S.target.value),placeholder:"Notas adicionales sobre el contacto...",rows:4,className:"w-full px-3 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white text-gray-900 resize-none shadow-sm transition-all duration-200"})]}),o.submit&&d.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-red-700 text-sm",children:o.submit})}),d.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[d.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:c,children:"Cancelar"}),d.jsx(rt.button,{type:"submit",disabled:c,className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-700 disabled:bg-teal-400 text-white px-6 py-2 rounded-lg transition-colors shadow-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:c?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Tw,{className:"w-4 h-4"}),"Guardar Contacto"]})})]})]})]})})},NFe=()=>{const{user:e}=$l(),{user:t,isAdmin:r}=Xne(),{operators:n,getAllAssignments:a,getAssignmentsByEmail:i}=mo(),{callData:s}=Vv(),{addSeguimiento:o,initializeSubscription:l,clearStore:c}=ete(),[u,f]=j.useState([]),[h,p]=j.useState([]),[m,g]=j.useState(!0),[v,y]=j.useState(null),[x,w]=j.useState(!1),[E,I]=j.useState(""),[P,A]=j.useState("todos"),S=r?"Administrador":(t==null?void 0:t.displayName)||(t==null?void 0:t.email);j.useEffect(()=>(t&&(console.log("📊 Usuario autenticado, cargando datos directamente desde Firebase..."),console.log("🔍 Rol detectado:",t.role,"Es admin:",r),l(t.uid||e.uid),k()),()=>{c()}),[(t==null?void 0:t.uid)||(e==null?void 0:e.uid),l,c,r]);const k=async()=>{var B,Y,ee;if(!t){console.log("❌ No hay usuario autenticado");return}g(!0);try{console.log("🔍 Cargando datos para:",e==null?void 0:e.email,"(rol:",t==null?void 0:t.role,")");const re=await Zee.getSeguimientos(t.uid);console.log("📋 Seguimientos Firebase:",re.length);const{getFollowUpData:G}=Vv.getState(),q=a(),be=G(q);console.log("📊 Seguimientos del Excel:",be.length);let _e=[];if(r)_e=a(),console.log("👑 Admin - Total:",_e.length);else{console.log("👤 Consultando Firebase directamente para teleoperadora:",t==null?void 0:t.email);try{const{operatorService:z,assignmentService:W}=await qo(async()=>{const{operatorService:ae,assignmentService:pe}=await Promise.resolve().then(()=>x4);return{operatorService:ae,assignmentService:pe}},void 0);console.log("� Obteniendo operadores desde Firebase...");const Z=await z.getAll();console.log("✅ Operadores obtenidos desde Firebase:",Z.length);const le=(B=t==null?void 0:t.email)==null?void 0:B.toLowerCase().trim(),he=Z.find(ae=>{var K;const pe=(K=ae.email)==null?void 0:K.toLowerCase().trim(),ke=pe===le;return console.log(`🔍 Verificando operador ${ae.name}:`,{opEmail:pe,userEmail:le,exactMatch:ke}),ke});if(he){console.log("✅ Operador encontrado en Firebase:",he),console.log("📥 Obteniendo asignaciones desde Firebase...");const ae=await W.getAll();console.log("✅ Asignaciones obtenidas desde Firebase:",ae.length);const pe=ae.filter(qe=>qe.operatorId===he.id);console.log(`🔍 DEBUGGING FILTRO - Buscando asignaciones para operatorId: ${he.id}`),console.log("📋 Primeras 3 asignaciones de Firebase:",ae.slice(0,3)),console.log("🔍 Estructura de primera asignación:",ae[0]);const ke=[...new Set(ae.map(qe=>qe.operatorId))];console.log("📊 Todos los operatorId en Firebase:",ke),console.log("🎯 Buscando operatorId:",he.id),console.log("✅ ¿Existe el operatorId?",ke.includes(he.id));let K=pe;pe.length===0&&(console.log("⚠️ No se encontraron asignaciones por operatorId, intentando búsqueda por nombre..."),K=ae.filter(qe=>{const Ae=qe.operator||qe.operatorName||"",ue=he.name||"",ot=Ae.toLowerCase().includes(ue.toLowerCase())||ue.toLowerCase().includes(Ae.toLowerCase());return ot&&console.log("✅ Coincidencia por nombre:",{assignmentOperator:Ae,matchingOperator:ue}),ot}),console.log(`🔄 Asignaciones encontradas por nombre: ${K.length}`)),console.log(`✅ Asignaciones finales para ${he.name}:`,K.length),_e=K.map(qe=>({id:qe.id,operator:he.name,operatorName:he.name,operatorEmail:he.email,beneficiary:qe.beneficiary,primaryPhone:qe.primaryPhone||qe.phone,commune:qe.commune})),console.log(`🎯 RESULTADO FINAL: ${_e.length} beneficiarios para dashboard de ${he.name}`)}else console.warn("❌ No se encontró operador en Firebase para:",e==null?void 0:e.email),console.log("👥 Operadores disponibles en Firebase:",Z.map(ae=>({name:ae.name,email:ae.email,id:ae.id})))}catch(z){console.error("❌ Error consultando Firebase directamente:",z),console.log("🔄 Fallback: intentando usar store...");const{operators:W,operatorAssignments:Z}=mo.getState();if(W.length>0){console.log("📊 Store tiene operadores, usando fallback...");const le=(Y=e==null?void 0:e.email)==null?void 0:Y.toLowerCase().trim(),he=W.find(ae=>{var pe;return((pe=ae.email)==null?void 0:pe.toLowerCase().trim())===le});he&&(_e=(Z[he.id]||[]).map(pe=>({id:pe.id,operator:he.name,operatorName:he.name,operatorEmail:he.email,beneficiary:pe.beneficiary,primaryPhone:pe.primaryPhone||pe.phone,commune:pe.commune})),console.log(`✅ Fallback exitoso: ${_e.length} asignaciones`))}}}let R=[...re];if(!r){const z=(ee=t==null?void 0:t.email)==null?void 0:ee.toLowerCase().trim(),W=be.filter(he=>{var ke,K,qe,Ae,ue;const pe=((ke=he.operatorEmail)==null?void 0:ke.toLowerCase().trim())===z||((qe=he.operator)==null?void 0:qe.toLowerCase().includes(((K=t==null?void 0:t.displayName)==null?void 0:K.toLowerCase())||""))||((Ae=he.operator)==null?void 0:Ae.toLowerCase().includes("javiera"))||((ue=he.operator)==null?void 0:ue.toLowerCase().includes("reyes"));return pe&&console.log("📞 Seguimiento del Excel para esta teleoperadora:",{beneficiario:he.beneficiary,operador:he.operator,ultimaLlamada:he.lastCall}),pe});if(console.log(`🔗 Seguimientos Excel filtrados para ${t==null?void 0:t.email}:`,W.length),W.length>0){console.log("📊 Muestra de seguimientos del Excel:",W.slice(0,3));const he=W.find(ae=>{var pe,ke;return((pe=ae.beneficiary)==null?void 0:pe.toLowerCase().includes("sergio"))&&((ke=ae.beneficiary)==null?void 0:ke.toLowerCase().includes("román"))});he&&console.log("🎯 SERGIO en datos Excel:",he)}const Z=W.map((he,ae)=>{var qe,Ae,ue,ot,$e,pt;const pe=((qe=he.lastCall)==null?void 0:qe.toLowerCase().includes("exitoso"))||((Ae=he.lastCall)==null?void 0:Ae.toLowerCase().includes("contactado"))||((ue=he.lastCall)==null?void 0:ue.toLowerCase().includes("atendido"))||((ot=he.lastCall)==null?void 0:ot.toLowerCase().includes("respondió"))||he.status==="al-dia"||he.callCount>0;let ke;if(he.lastCallDate)ke=new Date(he.lastCallDate).toISOString();else if(he.fecha)ke=new Date(he.fecha).toISOString();else{const et=new Date;et.setDate(et.getDate()-(pe?1:31)),ke=et.toISOString()}const K={id:`excel_${he.id||ae}_${Math.random()}`,beneficiarioId:he.beneficiary,beneficiario:he.beneficiary,telefono:he.phone||"Sin teléfono",tipoContacto:"llamada",tipoResultado:pe?"exitoso":"no-respuesta",observaciones:`Registro del Excel: ${he.lastCall||he.status||"Contacto registrado"}`,fechaContacto:ke,operadorEmail:t==null?void 0:t.email,operadorNombre:(t==null?void 0:t.displayName)||(t==null?void 0:t.email),source:"excel"};return($e=he.beneficiary)!=null&&$e.toLowerCase().includes("sergio")&&((pt=he.beneficiary)!=null&&pt.toLowerCase().includes("román"))&&console.log("🎯 CONVERSIÓN SERGIO:",{original:he,convertido:K}),K});R=[...re,...Z],console.log(`📊 Total seguimientos combinados: ${R.length} (Firebase: ${re.length}, Excel: ${Z.length})`);const le=R.filter(he=>{var ae,pe;return((ae=he.beneficiario)==null?void 0:ae.toLowerCase().includes("sergio"))&&((pe=he.beneficiario)==null?void 0:pe.toLowerCase().includes("román"))});le.length>0&&console.log("🎯 SERGIO ROMÁN ROJAS encontrado en seguimientos:",le)}f(_e),p(R),console.log("🔚 VERIFICACIÓN FINAL:"),console.log(`   Beneficiarios cargados: ${_e.length}`),console.log(`   Seguimientos totales: ${R.length}`);const U=_e.find(z=>{var W,Z;return((W=z.beneficiary)==null?void 0:W.toLowerCase().includes("sergio"))&&((Z=z.beneficiary)==null?void 0:Z.toLowerCase().includes("román"))});if(U){console.log("✅ Sergio encontrado en beneficiarios:",U);const z=R.filter(W=>{var Z,le;return((Z=W.beneficiario)==null?void 0:Z.toLowerCase().includes("sergio"))&&((le=W.beneficiario)==null?void 0:le.toLowerCase().includes("román"))});console.log(`✅ Seguimientos de Sergio: ${z.length}`,z)}else console.log("❌ Sergio NO encontrado en beneficiarios")}catch(re){console.error("Error cargando datos del dashboard:",re)}finally{g(!1)}},O=async B=>{try{console.log("💾 Guardando nuevo seguimiento:",B);const Y=re=>{const[G,q]=re.split("T"),[be,_e,R]=G.split("-"),[U,z]=q.split(":"),W=new Date;return W.setFullYear(parseInt(be)),W.setMonth(parseInt(_e)-1),W.setDate(parseInt(R)),W.setHours(parseInt(U)),W.setMinutes(parseInt(z)),W.setSeconds(0),W.setMilliseconds(0),W};console.log("🕐 Fecha original:",B.fechaContacto),console.log("🇨🇱 Fecha convertida:",Y(B.fechaContacto));const ee={beneficiarioId:B.beneficiarioId,beneficiarioNombre:B.beneficiario,telefono:B.telefono,tipoContacto:B.tipoContacto,resultado:B.tipoResultado,observaciones:B.observaciones,fechaContacto:Y(B.fechaContacto),operadorEmail:t==null?void 0:t.email,operadorNombre:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)};await o(ee),console.log("✅ Seguimiento guardado exitosamente y sincronizado con calendario"),await k(),w(!1),y(null)}catch(Y){throw console.error("❌ Error guardando seguimiento:",Y),new Error("Error al guardar el contacto. Intenta nuevamente.")}},T=B=>{var _e,R;const Y=h.filter(U=>U.beneficiarioId===B.id||U.beneficiario===B.beneficiary),ee=((_e=B.beneficiary)==null?void 0:_e.toLowerCase().includes("sergio"))&&((R=B.beneficiary)==null?void 0:R.toLowerCase().includes("román"));if(ee&&(console.log("🎯 DEBUG SERGIO ROMÁN ROJAS:"),console.log("   Beneficiario:",B.beneficiary),console.log("   ID:",B.id),console.log("   Seguimientos encontrados:",Y.length),console.log("   Seguimientos:",Y),console.log("   Total seguimientos disponibles:",h.length)),Y.length===0)return ee&&console.log("   ❌ Sin seguimientos - estado URGENTE"),{estado:"urgente",ultimoContacto:null,diasSinContacto:null};const re=Y.filter(U=>U.tipoResultado==="exitoso");if(ee&&(console.log("   Contactos exitosos:",re.length),re.forEach(U=>console.log("     -",U.fechaContacto,U.tipoResultado))),re.length===0)return ee&&console.log("   ❌ Sin contactos exitosos - estado URGENTE"),{estado:"urgente",ultimoContacto:null,diasSinContacto:null};const G=re.sort((U,z)=>new Date(z.fechaContacto)-new Date(U.fechaContacto))[0],q=Math.floor((new Date-new Date(G.fechaContacto))/(1e3*60*60*24));let be;return q<=15?be="al-dia":q<=30?be="pendiente":be="urgente",ee&&(console.log("   ✅ Último contacto:",G.fechaContacto),console.log("   📅 Días sin contacto:",q),console.log("   🏷️ Estado final:",be)),{estado:be,ultimoContacto:G.fechaContacto,diasSinContacto:q,totalSeguimientos:Y.length}},C=j.useMemo(()=>{const B=u.map(G=>({...G,...T(G)})),Y=B.filter(G=>G.estado==="al-dia").length,ee=B.filter(G=>G.estado==="pendiente").length,re=B.filter(G=>G.estado==="urgente").length;return{total:u.length,alDia:Y,pendientes:ee,urgentes:re,beneficiariosConEstado:B}},[u,h]),D=j.useMemo(()=>{let B=C.beneficiariosConEstado;return E&&(B=B.filter(Y=>{var ee,re,G;return((ee=Y.beneficiary)==null?void 0:ee.toLowerCase().includes(E.toLowerCase()))||((re=Y.primaryPhone)==null?void 0:re.includes(E))||((G=Y.commune)==null?void 0:G.toLowerCase().includes(E.toLowerCase()))})),P!=="todos"&&(B=B.filter(Y=>P==="al-dia"?Y.estado==="al-dia":P==="pendientes"?Y.estado==="pendiente":P==="urgentes"?Y.estado==="urgente":!0)),B},[C.beneficiariosConEstado,E,P]);return m?d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:d.jsxs(rt.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Cargando dashboard..."})]})}):d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center py-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(E6,{className:"w-8 h-8 text-teal-600"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Seguimientos Periódicos"})]}),d.jsxs("p",{className:"text-gray-600 mt-1",children:["Cartera de beneficiarios - ",(t==null?void 0:t.email)||S]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(rt.button,{onClick:async()=>{console.log("🔧 DEBUG COMPLETO - Estado actual:"),console.log("👤 Usuario autenticado:",{email:t==null?void 0:t.email,displayName:t==null?void 0:t.displayName,uid:t==null?void 0:t.uid});try{const{operatorService:ee,assignmentService:re}=await qo(async()=>{const{operatorService:_e,assignmentService:R}=await Promise.resolve().then(()=>x4);return{operatorService:_e,assignmentService:R}},void 0),G=await ee.getAll();console.log("� Operadores en Firebase:",G.length,G);const q=await re.getAll();console.log("📊 Asignaciones en Firebase:",q.length);const be=G.find(_e=>{var R,U;return((R=_e.email)==null?void 0:R.toLowerCase().includes("javiera"))||((U=_e.email)==null?void 0:U.toLowerCase())==="reyesalvaradojaviera@gmail.com"});if(be){console.log("✅ Javiera encontrada en Firebase:",be),console.log("🔍 ESTRUCTURA DE ASIGNACIONES - Analizando..."),console.log("📊 Total asignaciones en Firebase:",q.length);const _e=[...new Set(q.map(W=>W.operatorId))];console.log("📋 OperatorIDs únicos en Firebase:",_e),console.log("🎯 OperatorID de Javiera buscado:",be.id);const R=q.filter(W=>W.operatorId===be.id);console.log(`📊 Asignaciones con operatorId ${be.id}:`,R.length);const U=q.filter(W=>{const Z=W.operator||W.operatorName||"";return Z.toLowerCase().includes("javiera")||Z.toLowerCase().includes("reyes")});if(console.log('� Asignaciones con nombre "Javiera" o "Reyes":',U.length),console.log("🔍 ESTRUCTURA - Primeras 3 asignaciones:",q.slice(0,3)),q.length>0){const W=q[0];console.log("🔍 CAMPOS DE ASIGNACIÓN DISPONIBLES:",Object.keys(W)),console.log("🔍 ASIGNACIÓN COMPLETA EJEMPLO:",W)}const z=q.filter(W=>{const Z=W.operatorId,le=W.operator||"",he=W.operatorName||"",ae=W.userId;return Z===be.id||le.toLowerCase().includes("javiera")||le.toLowerCase().includes("reyes")||he.toLowerCase().includes("javiera")||he.toLowerCase().includes("reyes")||ae===be.id});console.log("🎯 ASIGNACIONES POSIBLES DE JAVIERA (todos los métodos):",z.length),z.length>0&&console.log("✅ Primeras 3 asignaciones encontradas:",z.slice(0,3))}else console.log("❌ Javiera NO encontrada en Firebase")}catch(ee){console.error("❌ Error consultando Firebase:",ee)}const{operators:B,operatorAssignments:Y}=mo.getState();console.log("� Store - Operadores:",B.length),console.log("📦 Store - Asignaciones:",Object.keys(Y).length),console.log("📋 Beneficiarios cargados en dashboard:",u.length),console.log("� Recargando dashboard..."),await k()},className:"flex items-center gap-2 bg-orange-600 hover:bg-orange-700 text-white px-3 py-2 rounded-lg transition-colors shadow-sm text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(Go,{className:"w-4 h-4"}),"Debug"]}),d.jsxs(rt.button,{onClick:async()=>{console.log("🔄 RECARGA COMPLETA - Firebase + Dashboard..."),g(!0);try{const{loadOperators:B,loadAssignments:Y}=mo.getState();await B(),await Y(),await k()}catch(B){console.error("❌ Error en recarga completa:",B)}g(!1)},className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg transition-colors shadow-sm text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(KF,{className:"w-4 h-4"}),"Cargar Firebase"]}),d.jsxs(rt.button,{onClick:async()=>{console.log("🔍 DIAGNÓSTICO COMPLETO DE MATCHING - Analizando por qué no encuentra asignaciones para Javiera"),console.log("👤 USUARIO ACTUAL:",{email:t==null?void 0:t.email,displayName:t==null?void 0:t.displayName,uid:t==null?void 0:t.uid,fullUser:t}),console.log("� VERIFICANDO OPERADORES DIRECTAMENTE DESDE FIREBASE...");try{const{operatorService:q,assignmentService:be}=await qo(async()=>{const{operatorService:z,assignmentService:W}=await Promise.resolve().then(()=>x4);return{operatorService:z,assignmentService:W}},void 0),_e=await q.getAll();console.log("� OPERADORES DESDE FIREBASE DIRECTO:",_e.length,_e);const R=await be.getAll();console.log("� ASIGNACIONES DESDE FIREBASE DIRECTO:",R.length);const U=_e.find(z=>{var W,Z,le;return((W=z.email)==null?void 0:W.toLowerCase().includes("javiera"))||((Z=z.name)==null?void 0:Z.toLowerCase().includes("javiera"))||((le=z.email)==null?void 0:le.toLowerCase())==="reyesalvaradojaviera@gmail.com"});if(U){console.log("✅ JAVIERA ENCONTRADA EN FIREBASE:",U);const z=R.filter(W=>W.operatorId===U.id);console.log(`✅ ASIGNACIONES DE JAVIERA: ${z.length}`,z.slice(0,3))}else console.warn("❌ JAVIERA NO ENCONTRADA EN FIREBASE"),console.log("� OPERADORES DISPONIBLES EN FIREBASE:",_e.map(z=>({id:z.id,name:z.name,email:z.email})))}catch(q){console.error("❌ Error accediendo Firebase directo:",q)}const{operators:B,operatorAssignments:Y}=mo.getState();console.log("📦 OPERADORES EN STORE:",B.length,B),console.log("📦 ASIGNACIONES EN STORE:",Object.keys(Y).length,Y),console.log("🔄 FORZANDO RECARGA DEL STORE...");const{loadOperators:ee,loadAssignments:re}=mo.getState();await ee(),await re();const{operators:G}=mo.getState();console.log("📦 OPERADORES DESPUÉS DE RECARGA:",G.length,G),G.length>0&&(console.log("✅ OPERADORES CARGADOS, RECARGANDO DASHBOARD..."),setTimeout(()=>{k()},500))},className:"flex items-center gap-2 bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-lg transition-colors shadow-sm text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(xo,{className:"w-4 h-4"}),"Diagnóstico"]}),d.jsxs(rt.button,{onClick:()=>w(!0),className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg transition-colors shadow-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(LA,{className:"w-4 h-4"}),"Nuevo Contacto"]})]})]})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx(q_,{title:"Total Beneficiarios",value:C.total,subtitle:"Mis beneficiarios asignados",icon:ai,color:"blue"}),d.jsx(q_,{title:"Al Día",value:C.alDia,subtitle:"Contacto últimos 15 días",percentage:C.total>0?Math.round(C.alDia/C.total*100):0,icon:wa,color:"green"}),d.jsx(q_,{title:"Pendientes",value:C.pendientes,subtitle:"16-30 días sin contacto",percentage:C.total>0?Math.round(C.pendientes/C.total*100):0,icon:ws,color:"yellow"}),d.jsx(q_,{title:"Urgentes",value:C.urgentes,subtitle:"+30 días sin contacto",percentage:C.total>0?Math.round(C.urgentes/C.total*100):0,icon:Go,color:"red"})]}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[d.jsx("div",{className:"flex-1 max-w-md",children:d.jsxs("div",{className:"relative",children:[d.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar beneficiario, teléfono o comuna...",value:E,onChange:B=>I(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})}),d.jsx("div",{className:"flex gap-2",children:[{key:"todos",label:"Todos",color:"teal"},{key:"al-dia",label:"Al Día",color:"green"},{key:"pendientes",label:"Pendientes",color:"yellow"},{key:"urgentes",label:"Urgentes",color:"red"}].map(B=>d.jsx(rt.button,{onClick:()=>A(B.key),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${P===B.key?`bg-${B.color}-100 text-${B.color}-800 border border-${B.color}-300`:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:B.label},B.key))})]})}),u.length===0?d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[d.jsx(Go,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"🔍 No se encontraron asignaciones para tu usuario"}),d.jsxs("div",{className:"text-yellow-700 space-y-1",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Usuario:"})," ",t==null?void 0:t.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Nombre mostrado:"})," ",(t==null?void 0:t.displayName)||"No definido"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Nombre de operadora buscado:"})," ",t==null?void 0:t.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Total de asignaciones en sistema:"})," ",a().length]})]}),d.jsxs("details",{className:"mt-4 text-left",children:[d.jsx("summary",{className:"cursor-pointer text-yellow-800 font-medium",children:"🔍 Ver operadoras disponibles"}),d.jsx("div",{className:"mt-2 text-sm space-y-1",children:n.map(B=>{var Y;return d.jsxs("div",{className:"bg-yellow-100 p-2 rounded border",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Nombre:"})," ",B.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Email:"})," ",B.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Asignaciones:"})," ",((Y=mo.getState().operatorAssignments[B.id])==null?void 0:Y.length)||0]})]},B.id)})})]}),d.jsxs(rt.button,{onClick:async()=>{console.log("🔄 Recarga simple de datos..."),await k()},className:"mt-4 flex items-center gap-2 bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg mx-auto transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(KF,{className:"w-4 h-4"}),"Recargar asignaciones"]})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.jsx(Rl,{children:D.map(B=>{const Y=h.filter(ee=>ee.beneficiarioId===B.id||ee.beneficiario===B.beneficiary);return d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:d.jsx(TFe,{beneficiario:B,seguimientos:Y,onNewContact:()=>{y(B),w(!0)}})},B.id)})})}),u.length>0&&d.jsxs("div",{className:"mt-8 text-center text-gray-500 text-sm",children:["Mostrando ",D.length," de ",u.length," beneficiarios"]})]}),d.jsx(Rl,{children:x&&d.jsx(kFe,{beneficiario:v,beneficiarios:u,onClose:()=>{w(!1),y(null)},onSave:O})})]})};function CFe(e,t){if(Hr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qne(e){var t=CFe(e,"string");return Hr(t)=="symbol"?t:t+""}function Sp(e,t,r){return(t=Qne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MV(Object(r),!0).forEach(function(n){Sp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MV(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DT(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function df(e,t){if(e==null)return{};var r,n,a=DT(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FV(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qne(n.key),n)}}function Ui(e,t,r){return t&&FV(e.prototype,t),r&&FV(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function w5(e){return w5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},w5(e)}function Jne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jne=function(){return!!e})()}function PFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IFe(e,t){if(t&&(Hr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PFe(e)}function ro(e,t,r){return t=w5(t),IFe(e,Jne()?Reflect.construct(t,r||[],w5(e).constructor):t.apply(e,r))}function b5(e,t){return b5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},b5(e,t)}function no(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b5(e,t)}function Zne(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=Zne(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Ga(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=Zne(e))&&(n&&(n+=" "),n+=t);return n}function Wa(){return Wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wa.apply(null,arguments)}var OFe=function(e,t,r,n,a,i,s,o){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,a,i,s,o],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},DFe=OFe;const q2=Xa(DFe);var jFe=function(){};function RFe(e,t){var r={};return Object.keys(e).forEach(function(n){r[qS(n)]=jFe}),r}function BV(e,t){return e[t]!==void 0}function qS(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function LFe(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function MFe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b5(e,t)}function eae(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function tae(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function rae(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}eae.__suppressDeprecationWarning=!0;tae.__suppressDeprecationWarning=!0;rae.__suppressDeprecationWarning=!0;function FFe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var i=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+s+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=eae,t.componentWillReceiveProps=tae),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=rae;var o=t.componentDidUpdate;t.componentDidUpdate=function(c,u,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;o.call(this,c,u,h)}}return e}var BFe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function nae(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=LFe(e),i=Object.keys(t),s=i.map(qS);a||!r.length||q2(!1);var o=function(c){MFe(u,c);function u(){for(var h,p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];h=c.call.apply(c,[this].concat(m))||this,h.handlers=Object.create(null),i.forEach(function(y){var x=t[y],w=function(I){if(h.props[x]){var P;h._notifying=!0;for(var A=arguments.length,S=new Array(A>1?A-1:0),k=1;k<A;k++)S[k-1]=arguments[k];(P=h.props)[x].apply(P,[I].concat(S)),h._notifying=!1}h.unmounted||h.setState(function(O){var T,C=O.values;return{values:Wa(Object.create(null),C,(T={},T[y]=I,T))}})};h.handlers[x]=w}),r.length&&(h.attachRef=function(y){h.inner=y});var v=Object.create(null);return i.forEach(function(y){v[y]=h.props[qS(y)]}),h.state={values:v,prevProps:{}},h}var f=u.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(p,m){var g=m.values,v=m.prevProps,y={values:Wa(Object.create(null),g),prevProps:{}};return i.forEach(function(x){y.prevProps[x]=p[x],!BV(p,x)&&BV(v,x)&&(y.values[x]=p[qS(x)])}),y},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var p=this,m=this.props,g=m.innerRef,v=DT(m,["innerRef"]);s.forEach(function(x){delete v[x]});var y={};return i.forEach(function(x){var w=p.props[x];y[x]=w!==void 0?w:p.state.values[x]}),Pe.createElement(e,Wa({},v,y,this.handlers,{ref:g||this.attachRef}))},u}(Pe.Component);FFe(o),o.displayName="Uncontrolled("+n+")",o.propTypes=Wa({innerRef:function(){}},RFe(t)),r.forEach(function(c){o.prototype[c]=function(){var f;return(f=this.inner)[c].apply(f,arguments)}});var l=o;return Pe.forwardRef&&(l=Pe.forwardRef(function(c,u){return Pe.createElement(o,Wa({},c,{innerRef:u,__source:{fileName:BFe,lineNumber:128},__self:this}))}),l.propTypes=o.propTypes),l.ControlledComponent=e,l.deferControlTo=function(c,u,f){return u===void 0&&(u={}),nae(c,Wa({},t,u),f)},l}var aae={exports:{}},$Fe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",UFe=$Fe,VFe=UFe;function iae(){}function sae(){}sae.resetWarningCache=iae;var zFe=function(){function e(n,a,i,s,o,l){if(l!==VFe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:sae,resetWarningCache:iae};return r.PropTypes=r,r};aae.exports=zFe();var WFe=aae.exports;const gt=Xa(WFe);var _5="milliseconds",G2="seconds",K2="minutes",Y2="hours",bm="day",Hv="week",X2="month",_m="year",Sm="decade",Em="century",oae={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},HFe={month:1,year:12,decade:10*12,century:100*12};function qFe(e){return[31,GFe(e),31,30,31,30,31,31,30,31,30,31]}function GFe(e){return e%4===0&&e%100!==0||e%400===0?29:28}function yu(e,t,r){switch(e=new Date(e),r){case _5:case G2:case K2:case Y2:case bm:case Hv:return KFe(e,t*oae[r]);case X2:case _m:case Sm:case Em:return YFe(e,t*HFe[r])}throw new TypeError('Invalid units: "'+r+'"')}function KFe(e,t){var r=new Date(+e+t);return XFe(e,r)}function YFe(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i=r*12+n+t,s=Math.trunc(i/12),o=i%12,l=Math.min(a,qFe(s)[o]),c=new Date(e);return c.setFullYear(s),c.setDate(1),c.setMonth(o),c.setDate(l),c}function XFe(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*oae.minutes)}function Q2(e,t,r){return yu(e,-t,r)}function Es(e,t,r){switch(e=new Date(e),t){case Em:case Sm:case _m:e=E5(e,0);case X2:e=dae(e,1);case Hv:case bm:e=ew(e,0);case Y2:e=qv(e,0);case K2:e=Z2(e,0);case G2:e=J2(e,0)}return t===Sm&&(e=Q2(e,Am(e)%10,"year")),t===Em&&(e=Q2(e,Am(e)%100,"year")),t===Hv&&(e=hae(e,0,r)),e}function S5(e,t,r){switch(e=new Date(e),e=Es(e,t,r),t){case Em:case Sm:case _m:case X2:case Hv:e=yu(e,1,t),e=Q2(e,1,bm),e.setHours(23,59,59,999);break;case bm:e.setHours(23,59,59,999);break;case Y2:case K2:case G2:e=yu(e,1,t),e=Q2(e,1,_5)}return e}var I1=D1(function(e,t){return e===t}),tR=D1(function(e,t){return e!==t}),jT=D1(function(e,t){return e>t}),eb=D1(function(e,t){return e>=t}),rR=D1(function(e,t){return e<t}),O1=D1(function(e,t){return e<=t});function lae(){return new Date(Math.min.apply(Math,arguments))}function cae(){return new Date(Math.max.apply(Math,arguments))}function uae(e,t,r,n){return n=n||"day",(!t||eb(e,t,n))&&(!r||O1(e,r,n))}var J2=V0("Milliseconds"),Z2=V0("Seconds"),qv=V0("Minutes"),ew=V0("Hours"),fae=V0("Day"),dae=V0("Date"),E5=V0("Month"),Am=V0("FullYear");function QFe(e,t){return t===void 0?Am(Es(e,Sm)):yu(e,t+10,_m)}function JFe(e,t){return t===void 0?Am(Es(e,Em)):yu(e,t+100,_m)}function hae(e,t,r){var n=(fae(e)+7-(r||0))%7;return t===void 0?n:yu(e,t-n,bm)}function ZFe(e,t,r,n){var a,i,s;switch(r){case _5:case G2:case K2:case Y2:case bm:case Hv:a=t.getTime()-e.getTime();break;case X2:case _m:case Sm:case Em:a=(Am(t)-Am(e))*12+E5(t)-E5(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case _5:i=1;break;case G2:i=1e3;break;case K2:i=1e3*60;break;case Y2:i=1e3*60*60;break;case bm:i=1e3*60*60*24;break;case Hv:i=1e3*60*60*24*7;break;case X2:i=1;break;case _m:i=12;break;case Sm:i=120;break;case Em:i=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return s=a/i,n?s:Math.round(s)}function V0(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function D1(e){return function(t,r,n){return e(+Es(t,n),+Es(r,n))}}const $V=Object.freeze(Object.defineProperty({__proto__:null,add:yu,century:JFe,date:dae,day:fae,decade:QFe,diff:ZFe,endOf:S5,eq:I1,gt:jT,gte:eb,hours:ew,inRange:uae,lt:rR,lte:O1,max:cae,milliseconds:J2,min:lae,minutes:qv,month:E5,neq:tR,seconds:Z2,startOf:Es,subtract:Q2,weekday:hae,year:Am},Symbol.toStringTag,{value:"Module"}));function e7e(e){if(Array.isArray(e))return FP(e)}function pae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function t7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GS(e){return e7e(e)||pae(e)||vj(e)||t7e()}function r7e(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var mae=r7e;function n7e(e,t){return e===t||e!==e&&t!==t}var tb=n7e,a7e=typeof pc=="object"&&pc&&pc.Object===Object&&pc,gae=a7e,i7e=gae,s7e=typeof self=="object"&&self&&self.Object===Object&&self,o7e=i7e||s7e||Function("return this")(),Sf=o7e,l7e=Sf,c7e=l7e.Symbol,j1=c7e,UV=j1,vae=Object.prototype,u7e=vae.hasOwnProperty,f7e=vae.toString,jy=UV?UV.toStringTag:void 0;function d7e(e){var t=u7e.call(e,jy),r=e[jy];try{e[jy]=void 0;var n=!0}catch{}var a=f7e.call(e);return n&&(t?e[jy]=r:delete e[jy]),a}var h7e=d7e,p7e=Object.prototype,m7e=p7e.toString;function g7e(e){return m7e.call(e)}var v7e=g7e,VV=j1,y7e=h7e,x7e=v7e,w7e="[object Null]",b7e="[object Undefined]",zV=VV?VV.toStringTag:void 0;function _7e(e){return e==null?e===void 0?b7e:w7e:zV&&zV in Object(e)?y7e(e):x7e(e)}var R1=_7e;function S7e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ud=S7e,E7e=R1,A7e=Ud,T7e="[object AsyncFunction]",k7e="[object Function]",N7e="[object GeneratorFunction]",C7e="[object Proxy]";function P7e(e){if(!A7e(e))return!1;var t=E7e(e);return t==k7e||t==N7e||t==T7e||t==C7e}var nR=P7e,I7e=9007199254740991;function O7e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=I7e}var aR=O7e,D7e=nR,j7e=aR;function R7e(e){return e!=null&&j7e(e.length)&&!D7e(e)}var rb=R7e,L7e=9007199254740991,M7e=/^(?:0|[1-9]\d*)$/;function F7e(e,t){var r=typeof e;return t=t??L7e,!!t&&(r=="number"||r!="symbol"&&M7e.test(e))&&e>-1&&e%1==0&&e<t}var iR=F7e,B7e=tb,$7e=rb,U7e=iR,V7e=Ud;function z7e(e,t,r){if(!V7e(r))return!1;var n=typeof t;return(n=="number"?$7e(r)&&U7e(t,r.length):n=="string"&&t in r)?B7e(r[t],e):!1}var RT=z7e,W7e=/\s/;function H7e(e){for(var t=e.length;t--&&W7e.test(e.charAt(t)););return t}var q7e=H7e,G7e=q7e,K7e=/^\s+/;function Y7e(e){return e&&e.slice(0,G7e(e)+1).replace(K7e,"")}var X7e=Y7e;function Q7e(e){return e!=null&&typeof e=="object"}var z0=Q7e,J7e=R1,Z7e=z0,e9e="[object Symbol]";function t9e(e){return typeof e=="symbol"||Z7e(e)&&J7e(e)==e9e}var nb=t9e,r9e=X7e,WV=Ud,n9e=nb,HV=NaN,a9e=/^[-+]0x[0-9a-f]+$/i,i9e=/^0b[01]+$/i,s9e=/^0o[0-7]+$/i,o9e=parseInt;function l9e(e){if(typeof e=="number")return e;if(n9e(e))return HV;if(WV(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=WV(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=r9e(e);var r=i9e.test(e);return r||s9e.test(e)?o9e(e.slice(2),r?2:8):a9e.test(e)?HV:+e}var c9e=l9e,u9e=c9e,qV=1/0,f9e=17976931348623157e292;function d9e(e){if(!e)return e===0?e:0;if(e=u9e(e),e===qV||e===-qV){var t=e<0?-1:1;return t*f9e}return e===e?e:0}var yae=d9e,h9e=yae;function p9e(e){var t=h9e(e),r=t%1;return t===t?r?t-r:t:0}var xae=p9e,m9e=mae,g9e=RT,v9e=xae,y9e=Math.ceil,x9e=Math.max;function w9e(e,t,r){(r?g9e(e,t,r):t===void 0)?t=1:t=x9e(v9e(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,i=0,s=Array(y9e(n/t));a<n;)s[i++]=m9e(e,a,a+=t);return s}var b9e=w9e;const _9e=Xa(b9e);function ab(e){return e&&e.ownerDocument||document}function S9e(e){var t=ab(e);return t&&t.defaultView||window}function E9e(e,t){return S9e(e).getComputedStyle(e,t)}var A9e=/([A-Z])/g;function T9e(e){return e.replace(A9e,"-$1").toLowerCase()}var k9e=/^ms-/;function G_(e){return T9e(e).replace(k9e,"-ms-")}var N9e=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function C9e(e){return!!(e&&N9e.test(e))}function Tg(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(G_(t))||E9e(e).getPropertyValue(G_(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(G_(a)):C9e(a)?n+=a+"("+i+") ":r+=G_(a)+": "+i+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function tw(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function P9e(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function sR(e){return"window"in e&&e.window===e?e:P9e(e)&&e.defaultView||!1}function wae(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var i=sR(n);if(a===void 0)return i?i[e]:n[t];i?i.scrollTo(i[e],a):n[t]=a}return r}const bae=wae("pageXOffset"),_ae=wae("pageYOffset");function Hp(e){var t=ab(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!tw(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+_ae(n)-(n.clientTop||0),left:r.left+bae(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var I9e=function(t){return!!t&&"offsetParent"in t};function O9e(e){for(var t=ab(e),r=e&&e.offsetParent;I9e(r)&&r.nodeName!=="HTML"&&Tg(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var D9e=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function Sae(e,t){var r={top:0,left:0},n;if(Tg(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||O9e(e);n=Hp(e),D9e(a)!=="html"&&(r=Hp(a));var i=String(Tg(a,"borderTopWidth")||0);r.top+=parseInt(i,10)-_ae(a)||0;var s=String(Tg(a,"borderLeftWidth")||0);r.left+=parseInt(s,10)-bae(a)||0}var o=String(Tg(e,"marginTop")||0),l=String(Tg(e,"marginLeft")||0);return Wa({},n,{top:n.top-r.top-(parseInt(o,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const oR=!!(typeof window<"u"&&window.document&&window.document.createElement);var GV=new Date().getTime();function j9e(e){var t=new Date().getTime(),r=Math.max(0,16-(t-GV)),n=setTimeout(e,r);return GV=t,n}var R9e=["","webkit","moz","o","ms"],xI="clearTimeout",wI=j9e,KV=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};oR&&R9e.some(function(e){var t=KV(e,"request");return t in window&&(xI=KV(e,"cancel"),wI=function(n){return window[t](n)}),!!wI});var YV=function(t){typeof window[xI]=="function"&&window[xI](t)},Eae=wI,dC;function L9e(e,t){if(!dC){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;dC=function(i,s){return n.call(i,s)}}return dC(e,t)}var M9e=Function.prototype.bind.call(Function.prototype.call,[].slice);function F9e(e,t){return M9e(e.querySelectorAll(t))}var bI=!1,_I=!1;try{var hC={get passive(){return bI=!0},get once(){return _I=bI=!0}};oR&&(window.addEventListener("test",hC,hC),window.removeEventListener("test",hC,!0))}catch{}function B9e(e,t,r,n){if(n&&typeof n!="boolean"&&!_I){var a=n.once,i=n.capture,s=r;!_I&&a&&(s=r.__once||function o(l){this.removeEventListener(t,o,i),r.call(this,l)},r.__once=s),e.addEventListener(t,s,bI?n:i)}e.addEventListener(t,r,n)}function $9e(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e},[e]),t}function XV(e){const t=$9e(e);return j.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function QV(){return j.useState(null)}function U9e(){const e=j.useRef(!0),t=j.useRef(()=>e.current);return j.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function V9e(e){const t=U9e();return[e[0],j.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Qo="top",Ac="bottom",Tc="right",Jo="left",lR="auto",ib=[Qo,Ac,Tc,Jo],Gv="start",rw="end",z9e="clippingParents",Aae="viewport",Ry="popper",W9e="reference",JV=ib.reduce(function(e,t){return e.concat([t+"-"+Gv,t+"-"+rw])},[]),cR=[].concat(ib,[lR]).reduce(function(e,t){return e.concat([t,t+"-"+Gv,t+"-"+rw])},[]),H9e="beforeRead",q9e="read",G9e="afterRead",K9e="beforeMain",Y9e="main",X9e="afterMain",Q9e="beforeWrite",J9e="write",Z9e="afterWrite",eBe=[H9e,q9e,G9e,K9e,Y9e,X9e,Q9e,J9e,Z9e];function of(e){return e.split("-")[0]}function Ll(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Tm(e){var t=Ll(e).Element;return e instanceof t||e instanceof Element}function lf(e){var t=Ll(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function uR(e){if(typeof ShadowRoot>"u")return!1;var t=Ll(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var qp=Math.max,A5=Math.min,Kv=Math.round;function SI(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Tae(){return!/^((?!chrome|android).)*safari/i.test(SI())}function Yv(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,i=1;t&&lf(e)&&(a=e.offsetWidth>0&&Kv(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Kv(n.height)/e.offsetHeight||1);var s=Tm(e)?Ll(e):window,o=s.visualViewport,l=!Tae()&&r,c=(n.left+(l&&o?o.offsetLeft:0))/a,u=(n.top+(l&&o?o.offsetTop:0))/i,f=n.width/a,h=n.height/i;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function fR(e){var t=Yv(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function kae(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&uR(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function S0(e){return e?(e.nodeName||"").toLowerCase():null}function Id(e){return Ll(e).getComputedStyle(e)}function tBe(e){return["table","td","th"].indexOf(S0(e))>=0}function W0(e){return((Tm(e)?e.ownerDocument:e.document)||window.document).documentElement}function LT(e){return S0(e)==="html"?e:e.assignedSlot||e.parentNode||(uR(e)?e.host:null)||W0(e)}function ZV(e){return!lf(e)||Id(e).position==="fixed"?null:e.offsetParent}function rBe(e){var t=/firefox/i.test(SI()),r=/Trident/i.test(SI());if(r&&lf(e)){var n=Id(e);if(n.position==="fixed")return null}var a=LT(e);for(uR(a)&&(a=a.host);lf(a)&&["html","body"].indexOf(S0(a))<0;){var i=Id(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function sb(e){for(var t=Ll(e),r=ZV(e);r&&tBe(r)&&Id(r).position==="static";)r=ZV(r);return r&&(S0(r)==="html"||S0(r)==="body"&&Id(r).position==="static")?t:r||rBe(e)||t}function dR(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Vx(e,t,r){return qp(e,A5(t,r))}function nBe(e,t,r){var n=Vx(e,t,r);return n>r?r:n}function Nae(){return{top:0,right:0,bottom:0,left:0}}function Cae(e){return Object.assign({},Nae(),e)}function Pae(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var aBe=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Cae(typeof t!="number"?t:Pae(t,ib))};function iBe(e){var t,r=e.state,n=e.name,a=e.options,i=r.elements.arrow,s=r.modifiersData.popperOffsets,o=of(r.placement),l=dR(o),c=[Jo,Tc].indexOf(o)>=0,u=c?"height":"width";if(!(!i||!s)){var f=aBe(a.padding,r),h=fR(i),p=l==="y"?Qo:Jo,m=l==="y"?Ac:Tc,g=r.rects.reference[u]+r.rects.reference[l]-s[l]-r.rects.popper[u],v=s[l]-r.rects.reference[l],y=sb(i),x=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,w=g/2-v/2,E=f[p],I=x-h[u]-f[m],P=x/2-h[u]/2+w,A=Vx(E,P,I),S=l;r.modifiersData[n]=(t={},t[S]=A,t.centerOffset=A-P,t)}}function sBe(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||kae(t.elements.popper,a)&&(t.elements.arrow=a))}const oBe={name:"arrow",enabled:!0,phase:"main",fn:iBe,effect:sBe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xv(e){return e.split("-")[1]}var lBe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function cBe(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:Kv(r*a)/a||0,y:Kv(n*a)/a||0}}function ez(e){var t,r=e.popper,n=e.popperRect,a=e.placement,i=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,h=s.x,p=h===void 0?0:h,m=s.y,g=m===void 0?0:m,v=typeof u=="function"?u({x:p,y:g}):{x:p,y:g};p=v.x,g=v.y;var y=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),w=Jo,E=Qo,I=window;if(c){var P=sb(r),A="clientHeight",S="clientWidth";if(P===Ll(r)&&(P=W0(r),Id(P).position!=="static"&&o==="absolute"&&(A="scrollHeight",S="scrollWidth")),P=P,a===Qo||(a===Jo||a===Tc)&&i===rw){E=Ac;var k=f&&P===I&&I.visualViewport?I.visualViewport.height:P[A];g-=k-n.height,g*=l?1:-1}if(a===Jo||(a===Qo||a===Ac)&&i===rw){w=Tc;var O=f&&P===I&&I.visualViewport?I.visualViewport.width:P[S];p-=O-n.width,p*=l?1:-1}}var T=Object.assign({position:o},c&&lBe),C=u===!0?cBe({x:p,y:g},Ll(r)):{x:p,y:g};if(p=C.x,g=C.y,l){var D;return Object.assign({},T,(D={},D[E]=x?"0":"",D[w]=y?"0":"",D.transform=(I.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",D))}return Object.assign({},T,(t={},t[E]=x?g+"px":"",t[w]=y?p+"px":"",t.transform="",t))}function uBe(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,s=i===void 0?!0:i,o=r.roundOffsets,l=o===void 0?!0:o,c={placement:of(t.placement),variation:Xv(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ez(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ez(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const fBe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:uBe,data:{}};var K_={passive:!0};function dBe(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,i=a===void 0?!0:a,s=n.resize,o=s===void 0?!0:s,l=Ll(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",r.update,K_)}),o&&l.addEventListener("resize",r.update,K_),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",r.update,K_)}),o&&l.removeEventListener("resize",r.update,K_)}}const hBe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:dBe,data:{}};var pBe={left:"right",right:"left",bottom:"top",top:"bottom"};function KS(e){return e.replace(/left|right|bottom|top/g,function(t){return pBe[t]})}var mBe={start:"end",end:"start"};function tz(e){return e.replace(/start|end/g,function(t){return mBe[t]})}function hR(e){var t=Ll(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function pR(e){return Yv(W0(e)).left+hR(e).scrollLeft}function gBe(e,t){var r=Ll(e),n=W0(e),a=r.visualViewport,i=n.clientWidth,s=n.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;var c=Tae();(c||!c&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:i,height:s,x:o+pR(e),y:l}}function vBe(e){var t,r=W0(e),n=hR(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=qp(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=qp(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-n.scrollLeft+pR(e),l=-n.scrollTop;return Id(a||r).direction==="rtl"&&(o+=qp(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:o,y:l}}function mR(e){var t=Id(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function Iae(e){return["html","body","#document"].indexOf(S0(e))>=0?e.ownerDocument.body:lf(e)&&mR(e)?e:Iae(LT(e))}function zx(e,t){var r;t===void 0&&(t=[]);var n=Iae(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),i=Ll(n),s=a?[i].concat(i.visualViewport||[],mR(n)?n:[]):n,o=t.concat(s);return a?o:o.concat(zx(LT(s)))}function EI(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function yBe(e,t){var r=Yv(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function rz(e,t,r){return t===Aae?EI(gBe(e,r)):Tm(t)?yBe(t,r):EI(vBe(W0(e)))}function xBe(e){var t=zx(LT(e)),r=["absolute","fixed"].indexOf(Id(e).position)>=0,n=r&&lf(e)?sb(e):e;return Tm(n)?t.filter(function(a){return Tm(a)&&kae(a,n)&&S0(a)!=="body"}):[]}function wBe(e,t,r,n){var a=t==="clippingParents"?xBe(e):[].concat(t),i=[].concat(a,[r]),s=i[0],o=i.reduce(function(l,c){var u=rz(e,c,n);return l.top=qp(u.top,l.top),l.right=A5(u.right,l.right),l.bottom=A5(u.bottom,l.bottom),l.left=qp(u.left,l.left),l},rz(e,s,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Oae(e){var t=e.reference,r=e.element,n=e.placement,a=n?of(n):null,i=n?Xv(n):null,s=t.x+t.width/2-r.width/2,o=t.y+t.height/2-r.height/2,l;switch(a){case Qo:l={x:s,y:t.y-r.height};break;case Ac:l={x:s,y:t.y+t.height};break;case Tc:l={x:t.x+t.width,y:o};break;case Jo:l={x:t.x-r.width,y:o};break;default:l={x:t.x,y:t.y}}var c=a?dR(a):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case Gv:l[c]=l[c]-(t[u]/2-r[u]/2);break;case rw:l[c]=l[c]+(t[u]/2-r[u]/2);break}}return l}function nw(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,i=r.strategy,s=i===void 0?e.strategy:i,o=r.boundary,l=o===void 0?z9e:o,c=r.rootBoundary,u=c===void 0?Aae:c,f=r.elementContext,h=f===void 0?Ry:f,p=r.altBoundary,m=p===void 0?!1:p,g=r.padding,v=g===void 0?0:g,y=Cae(typeof v!="number"?v:Pae(v,ib)),x=h===Ry?W9e:Ry,w=e.rects.popper,E=e.elements[m?x:h],I=wBe(Tm(E)?E:E.contextElement||W0(e.elements.popper),l,u,s),P=Yv(e.elements.reference),A=Oae({reference:P,element:w,placement:a}),S=EI(Object.assign({},w,A)),k=h===Ry?S:P,O={top:I.top-k.top+y.top,bottom:k.bottom-I.bottom+y.bottom,left:I.left-k.left+y.left,right:k.right-I.right+y.right},T=e.modifiersData.offset;if(h===Ry&&T){var C=T[a];Object.keys(O).forEach(function(D){var B=[Tc,Ac].indexOf(D)>=0?1:-1,Y=[Qo,Ac].indexOf(D)>=0?"y":"x";O[D]+=C[Y]*B})}return O}function bBe(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,i=r.rootBoundary,s=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?cR:l,u=Xv(n),f=u?o?JV:JV.filter(function(m){return Xv(m)===u}):ib,h=f.filter(function(m){return c.indexOf(m)>=0});h.length===0&&(h=f);var p=h.reduce(function(m,g){return m[g]=nw(e,{placement:g,boundary:a,rootBoundary:i,padding:s})[of(g)],m},{});return Object.keys(p).sort(function(m,g){return p[m]-p[g]})}function _Be(e){if(of(e)===lR)return[];var t=KS(e);return[tz(e),t,tz(t)]}function SBe(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,s=r.altAxis,o=s===void 0?!0:s,l=r.fallbackPlacements,c=r.padding,u=r.boundary,f=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,m=p===void 0?!0:p,g=r.allowedAutoPlacements,v=t.options.placement,y=of(v),x=y===v,w=l||(x||!m?[KS(v)]:_Be(v)),E=[v].concat(w).reduce(function(z,W){return z.concat(of(W)===lR?bBe(t,{placement:W,boundary:u,rootBoundary:f,padding:c,flipVariations:m,allowedAutoPlacements:g}):W)},[]),I=t.rects.reference,P=t.rects.popper,A=new Map,S=!0,k=E[0],O=0;O<E.length;O++){var T=E[O],C=of(T),D=Xv(T)===Gv,B=[Qo,Ac].indexOf(C)>=0,Y=B?"width":"height",ee=nw(t,{placement:T,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),re=B?D?Tc:Jo:D?Ac:Qo;I[Y]>P[Y]&&(re=KS(re));var G=KS(re),q=[];if(i&&q.push(ee[C]<=0),o&&q.push(ee[re]<=0,ee[G]<=0),q.every(function(z){return z})){k=T,S=!1;break}A.set(T,q)}if(S)for(var be=m?3:1,_e=function(W){var Z=E.find(function(le){var he=A.get(le);if(he)return he.slice(0,W).every(function(ae){return ae})});if(Z)return k=Z,"break"},R=be;R>0;R--){var U=_e(R);if(U==="break")break}t.placement!==k&&(t.modifiersData[n]._skip=!0,t.placement=k,t.reset=!0)}}const EBe={name:"flip",enabled:!0,phase:"main",fn:SBe,requiresIfExists:["offset"],data:{_skip:!1}};function nz(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function az(e){return[Qo,Tc,Ac,Jo].some(function(t){return e[t]>=0})}function ABe(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,s=nw(t,{elementContext:"reference"}),o=nw(t,{altBoundary:!0}),l=nz(s,n),c=nz(o,a,i),u=az(l),f=az(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const TBe={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ABe};function kBe(e,t,r){var n=of(e),a=[Jo,Qo].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=i[0],o=i[1];return s=s||0,o=(o||0)*a,[Jo,Tc].indexOf(n)>=0?{x:o,y:s}:{x:s,y:o}}function NBe(e){var t=e.state,r=e.options,n=e.name,a=r.offset,i=a===void 0?[0,0]:a,s=cR.reduce(function(u,f){return u[f]=kBe(f,t.rects,i),u},{}),o=s[t.placement],l=o.x,c=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=s}const CBe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:NBe};function PBe(e){var t=e.state,r=e.name;t.modifiersData[r]=Oae({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const IBe={name:"popperOffsets",enabled:!0,phase:"read",fn:PBe,data:{}};function OBe(e){return e==="x"?"y":"x"}function DBe(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,i=a===void 0?!0:a,s=r.altAxis,o=s===void 0?!1:s,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,f=r.padding,h=r.tether,p=h===void 0?!0:h,m=r.tetherOffset,g=m===void 0?0:m,v=nw(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),y=of(t.placement),x=Xv(t.placement),w=!x,E=dR(y),I=OBe(E),P=t.modifiersData.popperOffsets,A=t.rects.reference,S=t.rects.popper,k=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,O=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,C={x:0,y:0};if(P){if(i){var D,B=E==="y"?Qo:Jo,Y=E==="y"?Ac:Tc,ee=E==="y"?"height":"width",re=P[E],G=re+v[B],q=re-v[Y],be=p?-S[ee]/2:0,_e=x===Gv?A[ee]:S[ee],R=x===Gv?-S[ee]:-A[ee],U=t.elements.arrow,z=p&&U?fR(U):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Nae(),Z=W[B],le=W[Y],he=Vx(0,A[ee],z[ee]),ae=w?A[ee]/2-be-he-Z-O.mainAxis:_e-he-Z-O.mainAxis,pe=w?-A[ee]/2+be+he+le+O.mainAxis:R+he+le+O.mainAxis,ke=t.elements.arrow&&sb(t.elements.arrow),K=ke?E==="y"?ke.clientTop||0:ke.clientLeft||0:0,qe=(D=T==null?void 0:T[E])!=null?D:0,Ae=re+ae-qe-K,ue=re+pe-qe,ot=Vx(p?A5(G,Ae):G,re,p?qp(q,ue):q);P[E]=ot,C[E]=ot-re}if(o){var $e,pt=E==="x"?Qo:Jo,et=E==="x"?Ac:Tc,yt=P[I],dt=I==="y"?"height":"width",rr=yt+v[pt],St=yt-v[et],Kt=[Qo,Jo].indexOf(y)!==-1,vt=($e=T==null?void 0:T[I])!=null?$e:0,At=Kt?rr:yt-A[dt]-S[dt]-vt+O.altAxis,nr=Kt?yt+A[dt]+S[dt]-vt-O.altAxis:St,Pt=p&&Kt?nBe(At,yt,nr):Vx(p?At:rr,yt,p?nr:St);P[I]=Pt,C[I]=Pt-yt}t.modifiersData[n]=C}}const jBe={name:"preventOverflow",enabled:!0,phase:"main",fn:DBe,requiresIfExists:["offset"]};function RBe(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function LBe(e){return e===Ll(e)||!lf(e)?hR(e):RBe(e)}function MBe(e){var t=e.getBoundingClientRect(),r=Kv(t.width)/e.offsetWidth||1,n=Kv(t.height)/e.offsetHeight||1;return r!==1||n!==1}function FBe(e,t,r){r===void 0&&(r=!1);var n=lf(t),a=lf(t)&&MBe(t),i=W0(t),s=Yv(e,a,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((S0(t)!=="body"||mR(i))&&(o=LBe(t)),lf(t)?(l=Yv(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=pR(i))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function BBe(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(o){if(!r.has(o)){var l=t.get(o);l&&a(l)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),n}function $Be(e){var t=BBe(e);return eBe.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function UBe(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function VBe(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var iz={placement:"bottom",modifiers:[],strategy:"absolute"};function sz(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function zBe(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?iz:a;return function(o,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},iz,i),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:u,setOptions:function(y){var x=typeof y=="function"?y(u.options):y;g(),u.options=Object.assign({},i,u.options,x),u.scrollParents={reference:Tm(o)?zx(o):o.contextElement?zx(o.contextElement):[],popper:zx(l)};var w=$Be(VBe([].concat(n,u.options.modifiers)));return u.orderedModifiers=w.filter(function(E){return E.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var y=u.elements,x=y.reference,w=y.popper;if(sz(x,w)){u.rects={reference:FBe(x,sb(w),u.options.strategy==="fixed"),popper:fR(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(O){return u.modifiersData[O.name]=Object.assign({},O.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var I=u.orderedModifiers[E],P=I.fn,A=I.options,S=A===void 0?{}:A,k=I.name;typeof P=="function"&&(u=P({state:u,options:S,name:k,instance:p})||u)}}}},update:UBe(function(){return new Promise(function(v){p.forceUpdate(),v(u)})}),destroy:function(){g(),h=!0}};if(!sz(o,l))return p;p.setOptions(c).then(function(v){!h&&c.onFirstUpdate&&c.onFirstUpdate(v)});function m(){u.orderedModifiers.forEach(function(v){var y=v.name,x=v.options,w=x===void 0?{}:x,E=v.effect;if(typeof E=="function"){var I=E({state:u,name:y,instance:p,options:w}),P=function(){};f.push(I||P)}})}function g(){f.forEach(function(v){return v()}),f=[]}return p}}var WBe=zBe({defaultModifiers:[TBe,IBe,fBe,hBe,CBe,EBe,jBe,oBe]}),oz=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},HBe={name:"applyStyles",enabled:!1},qBe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,i=n.popper;if("removeAttribute"in a){var s=(a.getAttribute("aria-describedby")||"").split(",").filter(function(o){return o.trim()!==i.id});s.length?a.setAttribute("aria-describedby",s.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,i=a.popper,s=a.reference,o=(r=i.getAttribute("role"))==null?void 0:r.toLowerCase();if(i.id&&o==="tooltip"&&"setAttribute"in s){var l=s.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(i.id)!==-1)return;s.setAttribute("aria-describedby",l?l+","+i.id:i.id)}}},GBe=[];function KBe(e,t,r){var n=r===void 0?{}:r,a=n.enabled,i=a===void 0?!0:a,s=n.placement,o=s===void 0?"bottom":s,l=n.strategy,c=l===void 0?"absolute":l,u=n.modifiers,f=u===void 0?GBe:u,h=DT(n,["enabled","placement","strategy","modifiers"]),p=j.useRef(),m=j.useCallback(function(){var E;(E=p.current)==null||E.update()},[]),g=j.useCallback(function(){var E;(E=p.current)==null||E.forceUpdate()},[]),v=V9e(j.useState({placement:o,update:m,forceUpdate:g,attributes:{},styles:{popper:oz(c),arrow:{}}})),y=v[0],x=v[1],w=j.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(I){var P=I.state,A={},S={};Object.keys(P.elements).forEach(function(k){A[k]=P.styles[k],S[k]=P.attributes[k]}),x({state:P,styles:A,attributes:S,update:m,forceUpdate:g,placement:P.placement})}}},[m,g,x]);return j.useEffect(function(){!p.current||!i||p.current.setOptions({placement:o,strategy:c,modifiers:[].concat(f,[w,HBe])})},[c,o,w,i]),j.useEffect(function(){if(!(!i||e==null||t==null))return p.current=WBe(e,t,Wa({},h,{placement:o,strategy:c,modifiers:[].concat(f,[qBe,w])})),function(){p.current!=null&&(p.current.destroy(),p.current=void 0,x(function(E){return Wa({},E,{attributes:{},styles:{popper:oz(c)}})}))}},[i,e,t]),y}function YBe(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function ix(e,t,r,n){return B9e(e,t,r,n),function(){YBe(e,t,r,n)}}var XBe=function(){},QBe=XBe;const JBe=Xa(QBe);function ZBe(e){return e&&"setState"in e?bY.findDOMNode(e):e??null}const e$e=function(e){return ab(ZBe(e))};var t$e=27,lz=function(){};function r$e(e){return e.button===0}function n$e(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var cz=function(t){return t&&("current"in t?t.current:t)};function a$e(e,t,r){var n=r===void 0?{}:r,a=n.disabled,i=n.clickTrigger,s=i===void 0?"click":i,o=j.useRef(!1),l=t||lz,c=j.useCallback(function(h){var p,m=cz(e);JBe(!!m,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),o.current=!m||n$e(h)||!r$e(h)||!!tw(m,(p=h.composedPath==null?void 0:h.composedPath()[0])!=null?p:h.target)},[e]),u=XV(function(h){o.current||l(h)}),f=XV(function(h){h.keyCode===t$e&&l(h)});j.useEffect(function(){if(!(a||e==null)){var h=window.event,p=e$e(cz(e)),m=ix(p,s,c,!0),g=ix(p,s,function(x){if(x===h){h=void 0;return}u(x)}),v=ix(p,"keyup",function(x){if(x===h){h=void 0;return}f(x)}),y=[];return"ontouchstart"in p.documentElement&&(y=[].slice.call(p.body.children).map(function(x){return ix(x,"mousemove",lz)})),function(){m(),g(),v(),y.forEach(function(x){return x()})}}},[e,a,s,c,u,f])}function i$e(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function s$e(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function o$e(e){var t,r,n,a,i=e.enabled,s=e.enableEvents,o=e.placement,l=e.flip,c=e.offset,u=e.fixed,f=e.containerPadding,h=e.arrowElement,p=e.popperConfig,m=p===void 0?{}:p,g=i$e(m.modifiers);return Wa({},m,{placement:o,enabled:i,strategy:u?"fixed":m.strategy,modifiers:s$e(Wa({},g,{eventListeners:{enabled:s},preventOverflow:Wa({},g.preventOverflow,{options:f?Wa({padding:f},(t=g.preventOverflow)==null?void 0:t.options):(r=g.preventOverflow)==null?void 0:r.options}),offset:{options:Wa({offset:c},(n=g.offset)==null?void 0:n.options)},arrow:Wa({},g.arrow,{enabled:!!h,options:Wa({},(a=g.arrow)==null?void 0:a.options,{element:h})}),flip:Wa({enabled:!!l},g.flip)}))})}function l$e(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function c$e(e,t){e.classList?e.classList.add(t):l$e(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function uz(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function u$e(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=uz(e.className,t):e.setAttribute("class",uz(e.className&&e.className.baseVal||"",t))}var Y_;function gR(e){if((!Y_&&Y_!==0||e)&&oR){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Y_=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Y_}var pC=function(t){var r;return typeof document>"u"?null:t==null?ab().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function fz(e,t){var r=j.useState(function(){return pC(e)}),n=r[0],a=r[1];if(!n){var i=pC(e);i&&a(i)}return j.useEffect(function(){},[t,n]),j.useEffect(function(){var s=pC(e);s!==n&&a(s)},[e,n]),n}const dz=e=>!e||typeof e=="function"?e:t=>{e.current=t};function f$e(e,t){const r=dz(e),n=dz(t);return a=>{r&&r(a),n&&n(a)}}function d$e(e,t){return j.useMemo(()=>f$e(e,t),[e,t])}var vR=Pe.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,i=e.containerPadding,s=i===void 0?5:i,o=e.popperConfig,l=o===void 0?{}:o,c=e.transition,u=QV(),f=u[0],h=u[1],p=QV(),m=p[0],g=p[1],v=d$e(h,t),y=fz(e.container),x=fz(e.target),w=j.useState(!e.show),E=w[0],I=w[1],P=KBe(x,f,o$e({placement:a,enableEvents:!!e.show,containerPadding:s||5,flip:r,offset:n,arrowElement:m,popperConfig:l})),A=P.styles,S=P.attributes,k=DT(P,["styles","attributes"]);e.show?E&&I(!1):!e.transition&&!E&&I(!0);var O=function(){I(!0),e.onExited&&e.onExited.apply(e,arguments)},T=e.show||c&&!E;if(a$e(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!T)return null;var C=e.children(Wa({},k,{show:!!e.show,props:Wa({},S.popper,{style:A.popper,ref:v}),arrowProps:Wa({},S.arrow,{style:A.arrow,ref:g})}));if(c){var D=e.onExit,B=e.onExiting,Y=e.onEnter,ee=e.onEntering,re=e.onEntered;C=Pe.createElement(c,{in:e.show,appear:!0,onExit:D,onExiting:B,onExited:O,onEnter:Y,onEntering:ee,onEntered:re},C)}return y?bY.createPortal(C,y):null});vR.displayName="Overlay";vR.propTypes={show:gt.bool,placement:gt.oneOf(cR),target:gt.any,container:gt.any,flip:gt.bool,children:gt.func.isRequired,containerPadding:gt.number,popperConfig:gt.object,rootClose:gt.bool,rootCloseEvent:gt.oneOf(["click","mousedown"]),rootCloseDisabled:gt.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var i;return(i=gt.func).isRequired.apply(i,[t].concat(n))}return gt.func.apply(gt,[t].concat(n))},transition:gt.elementType,onEnter:gt.func,onEntering:gt.func,onEntered:gt.func,onExit:gt.func,onExiting:gt.func,onExited:gt.func};function h$e(){this.__data__=[],this.size=0}var p$e=h$e,m$e=tb;function g$e(e,t){for(var r=e.length;r--;)if(m$e(e[r][0],t))return r;return-1}var MT=g$e,v$e=MT,y$e=Array.prototype,x$e=y$e.splice;function w$e(e){var t=this.__data__,r=v$e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():x$e.call(t,r,1),--this.size,!0}var b$e=w$e,_$e=MT;function S$e(e){var t=this.__data__,r=_$e(t,e);return r<0?void 0:t[r][1]}var E$e=S$e,A$e=MT;function T$e(e){return A$e(this.__data__,e)>-1}var k$e=T$e,N$e=MT;function C$e(e,t){var r=this.__data__,n=N$e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var P$e=C$e,I$e=p$e,O$e=b$e,D$e=E$e,j$e=k$e,R$e=P$e;function L1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}L1.prototype.clear=I$e;L1.prototype.delete=O$e;L1.prototype.get=D$e;L1.prototype.has=j$e;L1.prototype.set=R$e;var FT=L1,L$e=FT;function M$e(){this.__data__=new L$e,this.size=0}var F$e=M$e;function B$e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var $$e=B$e;function U$e(e){return this.__data__.get(e)}var V$e=U$e;function z$e(e){return this.__data__.has(e)}var W$e=z$e,H$e=Sf,q$e=H$e["__core-js_shared__"],G$e=q$e,mC=G$e,hz=function(){var e=/[^.]+$/.exec(mC&&mC.keys&&mC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function K$e(e){return!!hz&&hz in e}var Y$e=K$e,X$e=Function.prototype,Q$e=X$e.toString;function J$e(e){if(e!=null){try{return Q$e.call(e)}catch{}try{return e+""}catch{}}return""}var Dae=J$e,Z$e=nR,eUe=Y$e,tUe=Ud,rUe=Dae,nUe=/[\\^$.*+?()[\]{}|]/g,aUe=/^\[object .+?Constructor\]$/,iUe=Function.prototype,sUe=Object.prototype,oUe=iUe.toString,lUe=sUe.hasOwnProperty,cUe=RegExp("^"+oUe.call(lUe).replace(nUe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uUe(e){if(!tUe(e)||eUe(e))return!1;var t=Z$e(e)?cUe:aUe;return t.test(rUe(e))}var fUe=uUe;function dUe(e,t){return e==null?void 0:e[t]}var hUe=dUe,pUe=fUe,mUe=hUe;function gUe(e,t){var r=mUe(e,t);return pUe(r)?r:void 0}var Jm=gUe,vUe=Jm,yUe=Sf,xUe=vUe(yUe,"Map"),yR=xUe,wUe=Jm,bUe=wUe(Object,"create"),BT=bUe,pz=BT;function _Ue(){this.__data__=pz?pz(null):{},this.size=0}var SUe=_Ue;function EUe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var AUe=EUe,TUe=BT,kUe="__lodash_hash_undefined__",NUe=Object.prototype,CUe=NUe.hasOwnProperty;function PUe(e){var t=this.__data__;if(TUe){var r=t[e];return r===kUe?void 0:r}return CUe.call(t,e)?t[e]:void 0}var IUe=PUe,OUe=BT,DUe=Object.prototype,jUe=DUe.hasOwnProperty;function RUe(e){var t=this.__data__;return OUe?t[e]!==void 0:jUe.call(t,e)}var LUe=RUe,MUe=BT,FUe="__lodash_hash_undefined__";function BUe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=MUe&&t===void 0?FUe:t,this}var $Ue=BUe,UUe=SUe,VUe=AUe,zUe=IUe,WUe=LUe,HUe=$Ue;function M1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}M1.prototype.clear=UUe;M1.prototype.delete=VUe;M1.prototype.get=zUe;M1.prototype.has=WUe;M1.prototype.set=HUe;var qUe=M1,mz=qUe,GUe=FT,KUe=yR;function YUe(){this.size=0,this.__data__={hash:new mz,map:new(KUe||GUe),string:new mz}}var XUe=YUe;function QUe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var JUe=QUe,ZUe=JUe;function eVe(e,t){var r=e.__data__;return ZUe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var $T=eVe,tVe=$T;function rVe(e){var t=tVe(this,e).delete(e);return this.size-=t?1:0,t}var nVe=rVe,aVe=$T;function iVe(e){return aVe(this,e).get(e)}var sVe=iVe,oVe=$T;function lVe(e){return oVe(this,e).has(e)}var cVe=lVe,uVe=$T;function fVe(e,t){var r=uVe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var dVe=fVe,hVe=XUe,pVe=nVe,mVe=sVe,gVe=cVe,vVe=dVe;function F1(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}F1.prototype.clear=hVe;F1.prototype.delete=pVe;F1.prototype.get=mVe;F1.prototype.has=gVe;F1.prototype.set=vVe;var xR=F1,yVe=FT,xVe=yR,wVe=xR,bVe=200;function _Ve(e,t){var r=this.__data__;if(r instanceof yVe){var n=r.__data__;if(!xVe||n.length<bVe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new wVe(n)}return r.set(e,t),this.size=r.size,this}var SVe=_Ve,EVe=FT,AVe=F$e,TVe=$$e,kVe=V$e,NVe=W$e,CVe=SVe;function B1(e){var t=this.__data__=new EVe(e);this.size=t.size}B1.prototype.clear=AVe;B1.prototype.delete=TVe;B1.prototype.get=kVe;B1.prototype.has=NVe;B1.prototype.set=CVe;var wR=B1,PVe="__lodash_hash_undefined__";function IVe(e){return this.__data__.set(e,PVe),this}var OVe=IVe;function DVe(e){return this.__data__.has(e)}var jVe=DVe,RVe=xR,LVe=OVe,MVe=jVe;function T5(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new RVe;++t<r;)this.add(e[t])}T5.prototype.add=T5.prototype.push=LVe;T5.prototype.has=MVe;var FVe=T5;function BVe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var $Ve=BVe;function UVe(e,t){return e.has(t)}var VVe=UVe,zVe=FVe,WVe=$Ve,HVe=VVe,qVe=1,GVe=2;function KVe(e,t,r,n,a,i){var s=r&qVe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,p=r&GVe?new zVe:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var m=e[f],g=t[f];if(n)var v=s?n(g,m,f,t,e,i):n(m,g,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!WVe(t,function(y,x){if(!HVe(p,x)&&(m===y||a(m,y,r,n,i)))return p.push(x)})){h=!1;break}}else if(!(m===g||a(m,g,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var jae=KVe,YVe=Sf,XVe=YVe.Uint8Array,Rae=XVe;function QVe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var JVe=QVe;function ZVe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var eze=ZVe,gz=j1,vz=Rae,tze=tb,rze=jae,nze=JVe,aze=eze,ize=1,sze=2,oze="[object Boolean]",lze="[object Date]",cze="[object Error]",uze="[object Map]",fze="[object Number]",dze="[object RegExp]",hze="[object Set]",pze="[object String]",mze="[object Symbol]",gze="[object ArrayBuffer]",vze="[object DataView]",yz=gz?gz.prototype:void 0,gC=yz?yz.valueOf:void 0;function yze(e,t,r,n,a,i,s){switch(r){case vze:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case gze:return!(e.byteLength!=t.byteLength||!i(new vz(e),new vz(t)));case oze:case lze:case fze:return tze(+e,+t);case cze:return e.name==t.name&&e.message==t.message;case dze:case pze:return e==t+"";case uze:var o=nze;case hze:var l=n&ize;if(o||(o=aze),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=sze,s.set(e,t);var u=rze(o(e),o(t),n,a,i,s);return s.delete(e),u;case mze:if(gC)return gC.call(e)==gC.call(t)}return!1}var xze=yze;function wze(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var bR=wze,bze=Array.isArray,Ic=bze,_ze=bR,Sze=Ic;function Eze(e,t,r){var n=t(e);return Sze(e)?n:_ze(n,r(e))}var Lae=Eze;function Aze(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var Tze=Aze;function kze(){return[]}var Mae=kze,Nze=Tze,Cze=Mae,Pze=Object.prototype,Ize=Pze.propertyIsEnumerable,xz=Object.getOwnPropertySymbols,Oze=xz?function(e){return e==null?[]:(e=Object(e),Nze(xz(e),function(t){return Ize.call(e,t)}))}:Cze,_R=Oze;function Dze(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var jze=Dze,Rze=R1,Lze=z0,Mze="[object Arguments]";function Fze(e){return Lze(e)&&Rze(e)==Mze}var Bze=Fze,wz=Bze,$ze=z0,Fae=Object.prototype,Uze=Fae.hasOwnProperty,Vze=Fae.propertyIsEnumerable,zze=wz(function(){return arguments}())?wz:function(e){return $ze(e)&&Uze.call(e,"callee")&&!Vze.call(e,"callee")},SR=zze,k5={exports:{}};function Wze(){return!1}var Hze=Wze;k5.exports;(function(e,t){var r=Sf,n=Hze,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(k5,k5.exports);var UT=k5.exports,qze=R1,Gze=aR,Kze=z0,Yze="[object Arguments]",Xze="[object Array]",Qze="[object Boolean]",Jze="[object Date]",Zze="[object Error]",eWe="[object Function]",tWe="[object Map]",rWe="[object Number]",nWe="[object Object]",aWe="[object RegExp]",iWe="[object Set]",sWe="[object String]",oWe="[object WeakMap]",lWe="[object ArrayBuffer]",cWe="[object DataView]",uWe="[object Float32Array]",fWe="[object Float64Array]",dWe="[object Int8Array]",hWe="[object Int16Array]",pWe="[object Int32Array]",mWe="[object Uint8Array]",gWe="[object Uint8ClampedArray]",vWe="[object Uint16Array]",yWe="[object Uint32Array]",ea={};ea[uWe]=ea[fWe]=ea[dWe]=ea[hWe]=ea[pWe]=ea[mWe]=ea[gWe]=ea[vWe]=ea[yWe]=!0;ea[Yze]=ea[Xze]=ea[lWe]=ea[Qze]=ea[cWe]=ea[Jze]=ea[Zze]=ea[eWe]=ea[tWe]=ea[rWe]=ea[nWe]=ea[aWe]=ea[iWe]=ea[sWe]=ea[oWe]=!1;function xWe(e){return Kze(e)&&Gze(e.length)&&!!ea[qze(e)]}var wWe=xWe;function bWe(e){return function(t){return e(t)}}var VT=bWe,N5={exports:{}};N5.exports;(function(e,t){var r=gae,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(N5,N5.exports);var ER=N5.exports,_We=wWe,SWe=VT,bz=ER,_z=bz&&bz.isTypedArray,EWe=_z?SWe(_z):_We,AR=EWe,AWe=jze,TWe=SR,kWe=Ic,NWe=UT,CWe=iR,PWe=AR,IWe=Object.prototype,OWe=IWe.hasOwnProperty;function DWe(e,t){var r=kWe(e),n=!r&&TWe(e),a=!r&&!n&&NWe(e),i=!r&&!n&&!a&&PWe(e),s=r||n||a||i,o=s?AWe(e.length,String):[],l=o.length;for(var c in e)(t||OWe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||CWe(c,l)))&&o.push(c);return o}var Bae=DWe,jWe=Object.prototype;function RWe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||jWe;return e===r}var TR=RWe;function LWe(e,t){return function(r){return e(t(r))}}var $ae=LWe,MWe=$ae,FWe=MWe(Object.keys,Object),BWe=FWe,$We=TR,UWe=BWe,VWe=Object.prototype,zWe=VWe.hasOwnProperty;function WWe(e){if(!$We(e))return UWe(e);var t=[];for(var r in Object(e))zWe.call(e,r)&&r!="constructor"&&t.push(r);return t}var HWe=WWe,qWe=Bae,GWe=HWe,KWe=rb;function YWe(e){return KWe(e)?qWe(e):GWe(e)}var ob=YWe,XWe=Lae,QWe=_R,JWe=ob;function ZWe(e){return XWe(e,JWe,QWe)}var Uae=ZWe,Sz=Uae,eHe=1,tHe=Object.prototype,rHe=tHe.hasOwnProperty;function nHe(e,t,r,n,a,i){var s=r&eHe,o=Sz(e),l=o.length,c=Sz(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:rHe.call(t,h)))return!1}var p=i.get(e),m=i.get(t);if(p&&m)return p==t&&m==e;var g=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<l;){h=o[f];var y=e[h],x=t[h];if(n)var w=s?n(x,y,h,t,e,i):n(y,x,h,e,t,i);if(!(w===void 0?y===x||a(y,x,r,n,i):w)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var E=e.constructor,I=t.constructor;E!=I&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof I=="function"&&I instanceof I)&&(g=!1)}return i.delete(e),i.delete(t),g}var aHe=nHe,iHe=Jm,sHe=Sf,oHe=iHe(sHe,"DataView"),lHe=oHe,cHe=Jm,uHe=Sf,fHe=cHe(uHe,"Promise"),dHe=fHe,hHe=Jm,pHe=Sf,mHe=hHe(pHe,"Set"),gHe=mHe,vHe=Jm,yHe=Sf,xHe=vHe(yHe,"WeakMap"),wHe=xHe,AI=lHe,TI=yR,kI=dHe,NI=gHe,CI=wHe,Vae=R1,$1=Dae,Ez="[object Map]",bHe="[object Object]",Az="[object Promise]",Tz="[object Set]",kz="[object WeakMap]",Nz="[object DataView]",_He=$1(AI),SHe=$1(TI),EHe=$1(kI),AHe=$1(NI),THe=$1(CI),mp=Vae;(AI&&mp(new AI(new ArrayBuffer(1)))!=Nz||TI&&mp(new TI)!=Ez||kI&&mp(kI.resolve())!=Az||NI&&mp(new NI)!=Tz||CI&&mp(new CI)!=kz)&&(mp=function(e){var t=Vae(e),r=t==bHe?e.constructor:void 0,n=r?$1(r):"";if(n)switch(n){case _He:return Nz;case SHe:return Ez;case EHe:return Az;case AHe:return Tz;case THe:return kz}return t});var zT=mp,vC=wR,kHe=jae,NHe=xze,CHe=aHe,Cz=zT,Pz=Ic,Iz=UT,PHe=AR,IHe=1,Oz="[object Arguments]",Dz="[object Array]",X_="[object Object]",OHe=Object.prototype,jz=OHe.hasOwnProperty;function DHe(e,t,r,n,a,i){var s=Pz(e),o=Pz(t),l=s?Dz:Cz(e),c=o?Dz:Cz(t);l=l==Oz?X_:l,c=c==Oz?X_:c;var u=l==X_,f=c==X_,h=l==c;if(h&&Iz(e)){if(!Iz(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new vC),s||PHe(e)?kHe(e,t,r,n,a,i):NHe(e,t,l,r,n,a,i);if(!(r&IHe)){var p=u&&jz.call(e,"__wrapped__"),m=f&&jz.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,v=m?t.value():t;return i||(i=new vC),a(g,v,r,n,i)}}return h?(i||(i=new vC),CHe(e,t,r,n,a,i)):!1}var jHe=DHe,RHe=jHe,Rz=z0;function zae(e,t,r,n,a){return e===t?!0:e==null||t==null||!Rz(e)&&!Rz(t)?e!==e&&t!==t:RHe(e,t,r,n,zae,a)}var kR=zae,LHe=kR;function MHe(e,t){return LHe(e,t)}var FHe=MHe;const BHe=Xa(FHe);function yC(e,t){var r=sR(e);return r?r.innerHeight:Hp(e).height}function Wae(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(L9e(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function $He(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var UHe=$He,VHe=wR,zHe=kR,WHe=1,HHe=2;function qHe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new VHe;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?zHe(u,c,WHe|HHe,n,f):h))return!1}}return!0}var GHe=qHe,KHe=Ud;function YHe(e){return e===e&&!KHe(e)}var Hae=YHe,XHe=Hae,QHe=ob;function JHe(e){for(var t=QHe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,XHe(a)]}return t}var ZHe=JHe;function eqe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var qae=eqe,tqe=GHe,rqe=ZHe,nqe=qae;function aqe(e){var t=rqe(e);return t.length==1&&t[0][2]?nqe(t[0][0],t[0][1]):function(r){return r===e||tqe(r,e,t)}}var iqe=aqe,sqe=Ic,oqe=nb,lqe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,cqe=/^\w*$/;function uqe(e,t){if(sqe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||oqe(e)?!0:cqe.test(e)||!lqe.test(e)||t!=null&&e in Object(t)}var NR=uqe,Gae=xR,fqe="Expected a function";function CR(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(fqe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(CR.Cache||Gae),r}CR.Cache=Gae;var dqe=CR,hqe=dqe,pqe=500;function mqe(e){var t=hqe(e,function(n){return r.size===pqe&&r.clear(),n}),r=t.cache;return t}var gqe=mqe,vqe=gqe,yqe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xqe=/\\(\\)?/g,wqe=vqe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(yqe,function(r,n,a,i){t.push(a?i.replace(xqe,"$1"):n||r)}),t}),bqe=wqe;function _qe(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var PR=_qe,Lz=j1,Sqe=PR,Eqe=Ic,Aqe=nb,Mz=Lz?Lz.prototype:void 0,Fz=Mz?Mz.toString:void 0;function Kae(e){if(typeof e=="string")return e;if(Eqe(e))return Sqe(e,Kae)+"";if(Aqe(e))return Fz?Fz.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Tqe=Kae,kqe=Tqe;function Nqe(e){return e==null?"":kqe(e)}var Cqe=Nqe,Pqe=Ic,Iqe=NR,Oqe=bqe,Dqe=Cqe;function jqe(e,t){return Pqe(e)?e:Iqe(e,t)?[e]:Oqe(Dqe(e))}var WT=jqe,Rqe=nb;function Lqe(e){if(typeof e=="string"||Rqe(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var lb=Lqe,Mqe=WT,Fqe=lb;function Bqe(e,t){t=Mqe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Fqe(t[r++])];return r&&r==n?e:void 0}var HT=Bqe,$qe=HT;function Uqe(e,t,r){var n=e==null?void 0:$qe(e,t);return n===void 0?r:n}var Vqe=Uqe;function zqe(e,t){return e!=null&&t in Object(e)}var Wqe=zqe,Hqe=WT,qqe=SR,Gqe=Ic,Kqe=iR,Yqe=aR,Xqe=lb;function Qqe(e,t,r){t=Hqe(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=Xqe(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&Yqe(a)&&Kqe(s,a)&&(Gqe(e)||qqe(e)))}var Jqe=Qqe,Zqe=Wqe,eGe=Jqe;function tGe(e,t){return e!=null&&eGe(e,t,Zqe)}var rGe=tGe,nGe=kR,aGe=Vqe,iGe=rGe,sGe=NR,oGe=Hae,lGe=qae,cGe=lb,uGe=1,fGe=2;function dGe(e,t){return sGe(e)&&oGe(t)?lGe(cGe(e),t):function(r){var n=aGe(r,e);return n===void 0&&n===t?iGe(r,e):nGe(t,n,uGe|fGe)}}var hGe=dGe;function pGe(e){return e}var qT=pGe;function mGe(e){return function(t){return t==null?void 0:t[e]}}var gGe=mGe,vGe=HT;function yGe(e){return function(t){return vGe(t,e)}}var xGe=yGe,wGe=gGe,bGe=xGe,_Ge=NR,SGe=lb;function EGe(e){return _Ge(e)?wGe(SGe(e)):bGe(e)}var AGe=EGe,TGe=iqe,kGe=hGe,NGe=qT,CGe=Ic,PGe=AGe;function IGe(e){return typeof e=="function"?e:e==null?NGe:typeof e=="object"?CGe(e)?kGe(e[0],e[1]):TGe(e):PGe(e)}var GT=IGe,OGe=UHe,DGe=GT,jGe=xae,RGe=Math.max;function LGe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:jGe(r);return a<0&&(a=RGe(n+a,0)),OGe(e,DGe(t),a)}var MGe=LGe;const FGe=Xa(MGe);var BGe=Math.ceil,$Ge=Math.max;function UGe(e,t,r,n){for(var a=-1,i=$Ge(BGe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var VGe=UGe,zGe=VGe,WGe=RT,xC=yae;function HGe(e){return function(t,r,n){return n&&typeof n!="number"&&WGe(t,r,n)&&(r=n=void 0),t=xC(t),r===void 0?(r=t,t=0):r=xC(r),n=n===void 0?t<r?1:-1:xC(n),zGe(t,r,n,e)}}var qGe=HGe,GGe=qGe,KGe=GGe(),YGe=KGe;const XGe=Xa(YGe);var Bz=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function QGe(e,t){return!!(e===t||Bz(e)&&Bz(t))}function JGe(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!QGe(e[r],t[r]))return!1;return!0}function Yae(e,t){t===void 0&&(t=JGe);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var s=e.apply(this,a);return r={lastResult:s,lastArgs:a,lastThis:this},s}return n.clear=function(){r=null},n}function PI(e,t){var r=sR(e);return r?r.innerWidth:Hp(e).width}var $z=j1,ZGe=SR,eKe=Ic,Uz=$z?$z.isConcatSpreadable:void 0;function tKe(e){return eKe(e)||ZGe(e)||!!(Uz&&e&&e[Uz])}var rKe=tKe,nKe=bR,aKe=rKe;function Xae(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=aKe),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?Xae(o,t-1,r,n,a):nKe(a,o):n||(a[a.length]=o)}return a}var Qae=Xae;function iKe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var sKe=iKe,oKe=sKe,lKe=oKe(),cKe=lKe,uKe=cKe,fKe=ob;function dKe(e,t){return e&&uKe(e,t,fKe)}var IR=dKe,hKe=rb;function pKe(e,t){return function(r,n){if(r==null)return r;if(!hKe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var mKe=pKe,gKe=IR,vKe=mKe,yKe=vKe(gKe),xKe=yKe,wKe=xKe,bKe=rb;function _Ke(e,t){var r=-1,n=bKe(e)?Array(e.length):[];return wKe(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var SKe=_Ke;function EKe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var AKe=EKe,Vz=nb;function TKe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=Vz(e),s=t!==void 0,o=t===null,l=t===t,c=Vz(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var kKe=TKe,NKe=kKe;function CKe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=NKe(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var PKe=CKe,wC=PR,IKe=HT,OKe=GT,DKe=SKe,jKe=AKe,RKe=VT,LKe=PKe,MKe=qT,FKe=Ic;function BKe(e,t,r){t.length?t=wC(t,function(i){return FKe(i)?function(s){return IKe(s,i.length===1?i[0]:i)}:i}):t=[MKe];var n=-1;t=wC(t,RKe(OKe));var a=DKe(e,function(i,s,o){var l=wC(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return jKe(a,function(i,s){return LKe(i,s,r)})}var $Ke=BKe;function UKe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var VKe=UKe,zKe=VKe,zz=Math.max;function WKe(e,t,r){return t=zz(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=zz(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),zKe(e,this,o)}}var Jae=WKe;function HKe(e){return function(){return e}}var qKe=HKe,GKe=Jm,KKe=function(){try{var e=GKe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Zae=KKe,YKe=qKe,Wz=Zae,XKe=qT,QKe=Wz?function(e,t){return Wz(e,"toString",{configurable:!0,enumerable:!1,value:YKe(t),writable:!0})}:XKe,JKe=QKe,ZKe=800,eYe=16,tYe=Date.now;function rYe(e){var t=0,r=0;return function(){var n=tYe(),a=eYe-(n-r);if(r=n,a>0){if(++t>=ZKe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var nYe=rYe,aYe=JKe,iYe=nYe,sYe=iYe(aYe),eie=sYe,oYe=qT,lYe=Jae,cYe=eie;function uYe(e,t){return cYe(lYe(e,t,oYe),e+"")}var tie=uYe,fYe=Qae,dYe=$Ke,hYe=tie,Hz=RT,pYe=hYe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Hz(e,t[0],t[1])?t=[]:r>2&&Hz(t[0],t[1],t[2])&&(t=[t[0]]),dYe(e,fYe(t,1),[])}),mYe=pYe;const gYe=Xa(mYe);function rie(e){return lte(e)||pae(e)||vj(e)||cte()}function vYe(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var yYe=vYe,xYe=Ud,wYe=TR,bYe=yYe,_Ye=Object.prototype,SYe=_Ye.hasOwnProperty;function EYe(e){if(!xYe(e))return bYe(e);var t=wYe(e),r=[];for(var n in e)n=="constructor"&&(t||!SYe.call(e,n))||r.push(n);return r}var AYe=EYe,TYe=Bae,kYe=AYe,NYe=rb;function CYe(e){return NYe(e)?TYe(e,!0):kYe(e)}var KT=CYe,PYe=tie,IYe=tb,OYe=RT,DYe=KT,nie=Object.prototype,jYe=nie.hasOwnProperty,RYe=PYe(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&OYe(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],s=DYe(i),o=-1,l=s.length;++o<l;){var c=s[o],u=e[c];(u===void 0||IYe(u,nie[c])&&!jYe.call(e,c))&&(e[c]=i[c])}return e}),LYe=RYe;const MYe=Xa(LYe);var qz=Zae;function FYe(e,t,r){t=="__proto__"&&qz?qz(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var OR=FYe,BYe=OR,$Ye=IR,UYe=GT;function VYe(e,t){var r={};return t=UYe(t),$Ye(e,function(n,a,i){BYe(r,a,t(n,a,i))}),r}var zYe=VYe;const WYe=Xa(zYe);function HYe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var aie=HYe,qYe=OR,GYe=tb,KYe=Object.prototype,YYe=KYe.hasOwnProperty;function XYe(e,t,r){var n=e[t];(!(YYe.call(e,t)&&GYe(n,r))||r===void 0&&!(t in e))&&qYe(e,t,r)}var iie=XYe,QYe=iie,JYe=OR;function ZYe(e,t,r,n){var a=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var o=t[i],l=n?n(r[o],e[o],o,r,e):void 0;l===void 0&&(l=e[o]),a?JYe(r,o,l):QYe(r,o,l)}return r}var cb=ZYe,eXe=cb,tXe=ob;function rXe(e,t){return e&&eXe(t,tXe(t),e)}var nXe=rXe,aXe=cb,iXe=KT;function sXe(e,t){return e&&aXe(t,iXe(t),e)}var oXe=sXe,C5={exports:{}};C5.exports;(function(e,t){var r=Sf,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=o?o(f):new c.constructor(f);return c.copy(h),h}e.exports=l})(C5,C5.exports);var lXe=C5.exports;function cXe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var uXe=cXe,fXe=cb,dXe=_R;function hXe(e,t){return fXe(e,dXe(e),t)}var pXe=hXe,mXe=$ae,gXe=mXe(Object.getPrototypeOf,Object),YT=gXe,vXe=bR,yXe=YT,xXe=_R,wXe=Mae,bXe=Object.getOwnPropertySymbols,_Xe=bXe?function(e){for(var t=[];e;)vXe(t,xXe(e)),e=yXe(e);return t}:wXe,sie=_Xe,SXe=cb,EXe=sie;function AXe(e,t){return SXe(e,EXe(e),t)}var TXe=AXe,kXe=Lae,NXe=sie,CXe=KT;function PXe(e){return kXe(e,CXe,NXe)}var oie=PXe,IXe=Object.prototype,OXe=IXe.hasOwnProperty;function DXe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&OXe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var jXe=DXe,Gz=Rae;function RXe(e){var t=new e.constructor(e.byteLength);return new Gz(t).set(new Gz(e)),t}var DR=RXe,LXe=DR;function MXe(e,t){var r=t?LXe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var FXe=MXe,BXe=/\w*$/;function $Xe(e){var t=new e.constructor(e.source,BXe.exec(e));return t.lastIndex=e.lastIndex,t}var UXe=$Xe,Kz=j1,Yz=Kz?Kz.prototype:void 0,Xz=Yz?Yz.valueOf:void 0;function VXe(e){return Xz?Object(Xz.call(e)):{}}var zXe=VXe,WXe=DR;function HXe(e,t){var r=t?WXe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var qXe=HXe,GXe=DR,KXe=FXe,YXe=UXe,XXe=zXe,QXe=qXe,JXe="[object Boolean]",ZXe="[object Date]",eQe="[object Map]",tQe="[object Number]",rQe="[object RegExp]",nQe="[object Set]",aQe="[object String]",iQe="[object Symbol]",sQe="[object ArrayBuffer]",oQe="[object DataView]",lQe="[object Float32Array]",cQe="[object Float64Array]",uQe="[object Int8Array]",fQe="[object Int16Array]",dQe="[object Int32Array]",hQe="[object Uint8Array]",pQe="[object Uint8ClampedArray]",mQe="[object Uint16Array]",gQe="[object Uint32Array]";function vQe(e,t,r){var n=e.constructor;switch(t){case sQe:return GXe(e);case JXe:case ZXe:return new n(+e);case oQe:return KXe(e,r);case lQe:case cQe:case uQe:case fQe:case dQe:case hQe:case pQe:case mQe:case gQe:return QXe(e,r);case eQe:return new n;case tQe:case aQe:return new n(e);case rQe:return YXe(e);case nQe:return new n;case iQe:return XXe(e)}}var yQe=vQe,xQe=Ud,Qz=Object.create,wQe=function(){function e(){}return function(t){if(!xQe(t))return{};if(Qz)return Qz(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),lie=wQe,bQe=lie,_Qe=YT,SQe=TR;function EQe(e){return typeof e.constructor=="function"&&!SQe(e)?bQe(_Qe(e)):{}}var AQe=EQe,TQe=zT,kQe=z0,NQe="[object Map]";function CQe(e){return kQe(e)&&TQe(e)==NQe}var PQe=CQe,IQe=PQe,OQe=VT,Jz=ER,Zz=Jz&&Jz.isMap,DQe=Zz?OQe(Zz):IQe,jQe=DQe,RQe=zT,LQe=z0,MQe="[object Set]";function FQe(e){return LQe(e)&&RQe(e)==MQe}var BQe=FQe,$Qe=BQe,UQe=VT,eW=ER,tW=eW&&eW.isSet,VQe=tW?UQe(tW):$Qe,zQe=VQe,WQe=wR,HQe=aie,qQe=iie,GQe=nXe,KQe=oXe,YQe=lXe,XQe=uXe,QQe=pXe,JQe=TXe,ZQe=Uae,eJe=oie,tJe=zT,rJe=jXe,nJe=yQe,aJe=AQe,iJe=Ic,sJe=UT,oJe=jQe,lJe=Ud,cJe=zQe,uJe=ob,fJe=KT,dJe=1,hJe=2,pJe=4,cie="[object Arguments]",mJe="[object Array]",gJe="[object Boolean]",vJe="[object Date]",yJe="[object Error]",uie="[object Function]",xJe="[object GeneratorFunction]",wJe="[object Map]",bJe="[object Number]",fie="[object Object]",_Je="[object RegExp]",SJe="[object Set]",EJe="[object String]",AJe="[object Symbol]",TJe="[object WeakMap]",kJe="[object ArrayBuffer]",NJe="[object DataView]",CJe="[object Float32Array]",PJe="[object Float64Array]",IJe="[object Int8Array]",OJe="[object Int16Array]",DJe="[object Int32Array]",jJe="[object Uint8Array]",RJe="[object Uint8ClampedArray]",LJe="[object Uint16Array]",MJe="[object Uint32Array]",qn={};qn[cie]=qn[mJe]=qn[kJe]=qn[NJe]=qn[gJe]=qn[vJe]=qn[CJe]=qn[PJe]=qn[IJe]=qn[OJe]=qn[DJe]=qn[wJe]=qn[bJe]=qn[fie]=qn[_Je]=qn[SJe]=qn[EJe]=qn[AJe]=qn[jJe]=qn[RJe]=qn[LJe]=qn[MJe]=!0;qn[yJe]=qn[uie]=qn[TJe]=!1;function YS(e,t,r,n,a,i){var s,o=t&dJe,l=t&hJe,c=t&pJe;if(r&&(s=a?r(e,n,a,i):r(e)),s!==void 0)return s;if(!lJe(e))return e;var u=iJe(e);if(u){if(s=rJe(e),!o)return XQe(e,s)}else{var f=tJe(e),h=f==uie||f==xJe;if(sJe(e))return YQe(e,o);if(f==fie||f==cie||h&&!a){if(s=l||h?{}:aJe(e),!o)return l?JQe(e,KQe(s,e)):QQe(e,GQe(s,e))}else{if(!qn[f])return a?e:{};s=nJe(e,f,o)}}i||(i=new WQe);var p=i.get(e);if(p)return p;i.set(e,s),cJe(e)?e.forEach(function(v){s.add(YS(v,t,r,v,e,i))}):oJe(e)&&e.forEach(function(v,y){s.set(y,YS(v,t,r,y,e,i))});var m=c?l?eJe:ZQe:l?fJe:uJe,g=u?void 0:m(e);return HQe(g||e,function(v,y){g&&(y=v,v=e[y]),qQe(s,y,YS(v,t,r,y,e,i))}),s}var FJe=YS;function BJe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var $Je=BJe,UJe=HT,VJe=mae;function zJe(e,t){return t.length<2?e:UJe(e,VJe(t,0,-1))}var WJe=zJe,HJe=WT,qJe=$Je,GJe=WJe,KJe=lb;function YJe(e,t){return t=HJe(t,e),e=GJe(e,t),e==null||delete e[KJe(qJe(t))]}var XJe=YJe,QJe=R1,JJe=YT,ZJe=z0,eZe="[object Object]",tZe=Function.prototype,rZe=Object.prototype,die=tZe.toString,nZe=rZe.hasOwnProperty,aZe=die.call(Object);function iZe(e){if(!ZJe(e)||QJe(e)!=eZe)return!1;var t=JJe(e);if(t===null)return!0;var r=nZe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&die.call(r)==aZe}var sZe=iZe,oZe=sZe;function lZe(e){return oZe(e)?void 0:e}var cZe=lZe,uZe=Qae;function fZe(e){var t=e==null?0:e.length;return t?uZe(e,1):[]}var dZe=fZe,hZe=dZe,pZe=Jae,mZe=eie;function gZe(e){return mZe(pZe(e,void 0,hZe),e+"")}var vZe=gZe,yZe=PR,xZe=FJe,wZe=XJe,bZe=WT,_Ze=cb,SZe=cZe,EZe=vZe,AZe=oie,TZe=1,kZe=2,NZe=4,CZe=EZe(function(e,t){var r={};if(e==null)return r;var n=!1;t=yZe(t,function(i){return i=bZe(i,e),n||(n=i.length>1),i}),_Ze(e,AZe(e),r),n&&(r=xZe(r,TZe|kZe|NZe,SZe));for(var a=t.length;a--;)wZe(r,t[a]);return r}),PZe=CZe;const IZe=Xa(PZe);var OZe=aie,DZe=lie,jZe=IR,RZe=GT,LZe=YT,MZe=Ic,FZe=UT,BZe=nR,$Ze=Ud,UZe=AR;function VZe(e,t,r){var n=MZe(e),a=n||FZe(e)||UZe(e);if(t=RZe(t),r==null){var i=e&&e.constructor;a?r=n?new i:[]:$Ze(e)?r=BZe(i)?DZe(LZe(e)):{}:r={}}return(a?OZe:jZe)(e,function(s,o,l){return t(r,s,o,l)}),r}var zZe=VZe;const WZe=Xa(zZe);var HZe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(pc,function(){return function(r,n,a){n.prototype.isBetween=function(i,s,o,l){var c=a(i),u=a(s),f=(l=l||"()")[0]==="(",h=l[1]===")";return(f?this.isAfter(c,o):!this.isBefore(c,o))&&(h?this.isBefore(u,o):!this.isAfter(u,o))||(f?this.isBefore(c,o):!this.isAfter(c,o))&&(h?this.isAfter(u,o):!this.isBefore(u,o))}}})})(HZe);var qZe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(pc,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(qZe);var GZe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(pc,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(GZe);var KZe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(pc,function(){return function(r,n,a){var i=n.prototype,s=function(f){return f&&(f.indexOf?f:f.s)},o=function(f,h,p,m,g){var v=f.name?f:f.$locale(),y=s(v[h]),x=s(v[p]),w=y||x.map(function(I){return I.slice(0,m)});if(!g)return w;var E=v.weekStart;return w.map(function(I,P){return w[(P+(E||0))%7]})},l=function(){return a.Ls[a.locale()]},c=function(f,h){return f.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(m,g,v){return g||v.slice(1)})}(f.formats[h.toUpperCase()])},u=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):o(f,"months")},monthsShort:function(h){return h?h.format("MMM"):o(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):o(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):o(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):o(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return c(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return u.bind(this)()},a.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(h){return c(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return o(l(),"months")},a.monthsShort=function(){return o(l(),"monthsShort","months",3)},a.weekdays=function(f){return o(l(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return o(l(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return o(l(),"weekdaysMin","weekdays",2,f)}}})})(KZe);var YZe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(pc,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,i){var s=a.prototype,o=s.format;i.en.formats=r,s.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,m,g){var v=g&&g.toUpperCase();return m||h[g]||r[g]||h[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,x,w){return x||w.slice(1)})})}(l,c===void 0?{}:c);return o.call(this,u)}}})})(YZe);var XZe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(pc,function(){return function(r,n,a){var i=function(s,o){if(!o||!o.length||o.length===1&&!o[0]||o.length===1&&Array.isArray(o[0])&&!o[0].length)return null;var l;o.length===1&&o[0].length>0&&(o=o[0]),l=(o=o.filter(function(u){return u}))[0];for(var c=1;c<o.length;c+=1)o[c].isValid()&&!o[c][s](l)||(l=o[c]);return l};a.max=function(){var s=[].slice.call(arguments,0);return i("isAfter",s)},a.min=function(){var s=[].slice.call(arguments,0);return i("isBefore",s)}}})})(XZe);var QZe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(pc,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,s,o){var l=s.prototype;o.utc=function(g){var v={date:g,utc:!0,args:arguments};return new s(v)},l.utc=function(g){var v=o(this.toDate(),{locale:this.$L,utc:!0});return g?v.add(this.utcOffset(),r):v},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),c.call(this,g)};var u=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else u.call(this)};var f=l.utcOffset;l.utcOffset=function(g,v){var y=this.$utils().u;if(y(g))return this.$u?0:y(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(I){I===void 0&&(I="");var P=I.match(n);if(!P)return null;var A=(""+P[0]).match(a)||["-",0,0],S=A[0],k=60*+A[1]+ +A[2];return k===0?0:S==="+"?k:-k}(g),g===null))return this;var x=Math.abs(g)<=16?60*g:g;if(x===0)return this.utc(v);var w=this.clone();if(v)return w.$offset=x,w.$u=!1,w;var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(w=this.local().add(x+E,r)).$offset=x,w.$x.$localOffset=E,w};var h=l.format;l.format=function(g){var v=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,v)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var p=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var m=l.diff;l.diff=function(g,v,y){if(g&&this.$u===g.$u)return m.call(this,g,v,y);var x=this.local(),w=o(g).local();return m.call(x,w,v,y)}}})})(QZe);var JZe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(pc,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(JZe);function $u(e){return e.children}var Zo={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},vo={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},rW=Object.keys(vo).map(function(e){return vo[e]});gt.oneOfType([gt.string,gt.func]);gt.any;gt.func;gt.oneOfType([gt.arrayOf(gt.oneOf(rW)),gt.objectOf(function(e,t){var r=rW.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return gt.elementType.apply(gt,[e,t].concat(a))})]);gt.oneOfType([gt.oneOf(["overlap","no-overlap"]),gt.func]);var nW={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function hie(e,t){var r=Es(e,"month");return Es(r,"week",t.startOfWeek())}function pie(e,t){var r=S5(e,"month");return S5(r,"week",t.startOfWeek())}function ZZe(e,t){for(var r=hie(e,t),n=pie(e,t),a=[];O1(r,n,"day");)a.push(r),r=yu(r,1,"day");return a}function eet(e,t){var r=Es(e,t);return I1(r,e)?r:yu(r,1,t)}function tet(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];O1(n,t,r);)a.push(n),n=yu(n,1,r);return a}function ret(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Es(e,"day"),e=ew(e,ew(t)),e=qv(e,qv(t)),e=Z2(e,Z2(t)),J2(e,J2(t)))}function aW(e){return ew(e)===0&&qv(e)===0&&Z2(e)===0&&J2(e)===0}function net(e,t,r,n){return r==="day"&&(r="date"),Math.abs($V[r](e,void 0,n)-$V[r](t,void 0,n))}function jR(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Es(e,r)/nW[r]-+Es(t,r)/nW[r]))}var aet=gt.oneOfType([gt.string,gt.func]);function iet(e,t,r,n,a){var i=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return q2(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function set(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function RR(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function oet(e,t){return jR(e,t,"minutes")+RR(e,t)}function cet(e){var t=Es(e,"day");return jR(t,e,"minutes")+RR(t,e)}function uet(e,t){return rR(e,t,"day")}function fet(e,t,r){var n=I1(e,t,"minutes");return n?eb(t,r,"minutes"):jT(t,r,"minutes")}function II(e,t){return net(e,t,"day")}function det(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,i=e.evtB,s=i.start,o=i.end,l=i.allDay,c=+Es(r,"day")-+Es(s,"day"),u=II(r,n),f=II(s,o);return c||f-u||!!l-!!a||+r-+s||+n-+o}function het(e){var t=e.event,r=t.start,n=t.end,a=e.range,i=a.start,s=a.end,o=Es(r,"day"),l=O1(o,s,"day"),c=tR(o,n,"minutes"),u=c?jT(n,i,"minutes"):eb(n,i,"minutes");return l&&u}function pet(e,t){return I1(e,t,"day")}function met(e,t){return aW(e)&&aW(t)}var get=Ui(function e(t){var r=this;$i(this,e),q2(typeof t.format=="function","date localizer `format(..)` must be a function"),q2(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||aet,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return iet.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||ret,this.inRange=t.inRange||uae,this.lt=t.lt||rR,this.lte=t.lte||O1,this.gt=t.gt||jT,this.gte=t.gte||eb,this.eq=t.eq||I1,this.neq=t.neq||tR,this.startOf=t.startOf||Es,this.endOf=t.endOf||S5,this.add=t.add||yu,this.range=t.range||tet,this.diff=t.diff||jR,this.ceil=t.ceil||eet,this.min=t.min||lae,this.max=t.max||cae,this.minutes=t.minutes||qv,this.daySpan=t.daySpan||II,this.firstVisibleDay=t.firstVisibleDay||hie,this.lastVisibleDay=t.lastVisibleDay||pie,this.visibleDays=t.visibleDays||ZZe,this.getSlotDate=t.getSlotDate||set,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||RR,this.getTotalMin=t.getTotalMin||oet,this.getMinutesFromMidnight=t.getMinutesFromMidnight||cet,this.continuesPrior=t.continuesPrior||uet,this.continuesAfter=t.continuesAfter||fet,this.sortEvents=t.sortEvents||det,this.inEventRange=t.inEventRange||het,this.isSameDate=t.isSameDate||pet,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||met,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function vet(e,t,r,n){var a=$n($n({},e.formats),r);return $n($n({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(s,o){return e.format(s,a[o]||o,t)}})}var yet=function(e){function t(){var r;$i(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ro(this,t,[].concat(a)),r.navigate=function(s){r.props.onNavigate(s)},r.view=function(s){r.props.onView(s)},r}return no(t,e),Ui(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,i=n.label;return Pe.createElement("div",{className:"rbc-toolbar"},Pe.createElement("span",{className:"rbc-btn-group"},Pe.createElement("button",{type:"button",onClick:this.navigate.bind(null,Zo.TODAY)},a.today),Pe.createElement("button",{type:"button",onClick:this.navigate.bind(null,Zo.PREVIOUS)},a.previous),Pe.createElement("button",{type:"button",onClick:this.navigate.bind(null,Zo.NEXT)},a.next)),Pe.createElement("span",{className:"rbc-toolbar-label"},i),Pe.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,i=this.props.views,s=this.props.view;if(i.length>1)return i.map(function(o){return Pe.createElement("button",{type:"button",key:o,className:Ga({"rbc-active":s===o}),onClick:a.view.bind(null,o)},n[o])})}}])}(Pe.Component);function aa(e,t){e&&e.apply(null,[].concat(t))}var xet={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function wet(e){return $n($n({},xet),e)}function bet(e){var t=e.ref,r=e.callback;j.useEffect(function(){var n=function(i){t.current&&!t.current.contains(i.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var _et=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],mie=function(e){function t(){return $i(this,t),ro(this,t,arguments)}return no(t,e),Ui(t,[{key:"render",value:function(){var n=this.props,a=n.style,i=n.className,s=n.event,o=n.selected,l=n.isAllDay,c=n.onSelect,u=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,p=n.continuesPrior,m=n.continuesAfter,g=n.accessors,v=n.getters,y=n.children,x=n.components,w=x.event,E=x.eventWrapper,I=n.slotStart,P=n.slotEnd,A=df(n,_et);delete A.resizable;var S=g.title(s),k=g.tooltip(s),O=g.end(s),T=g.start(s),C=g.allDay(s),D=l||C||h.diff(T,h.ceil(O,"day"),"day")>1,B=v.eventProp(s,T,O,o),Y=Pe.createElement("div",{className:"rbc-event-content",title:k||void 0},w?Pe.createElement(w,{event:s,continuesPrior:p,continuesAfter:m,title:S,isAllDay:C,localizer:h,slotStart:I,slotEnd:P}):S);return Pe.createElement(E,Object.assign({},this.props,{type:"date"}),Pe.createElement("div",Object.assign({},A,{style:$n($n({},B.style),a),className:Ga("rbc-event",i,B.className,{"rbc-selected":o,"rbc-event-allday":D,"rbc-event-continues-prior":p,"rbc-event-continues-after":m}),onClick:function(re){return c&&c(s,re)},onDoubleClick:function(re){return u&&u(s,re)},onKeyDown:function(re){return f&&f(s,re)}}),typeof y=="function"?y(Y):Y))}}])}(Pe.Component);function XT(e,t){return!e||t==null?!1:BHe(e,t)}function gie(e,t){var r=e.right-e.left,n=r/t;return n}function vie(e,t,r,n){var a=gie(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function Eet(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function Aet(e,t,r,n,a){var i=-1,s=-1,o=n-1,l=gie(t,n),c=vie(t,r.x,a,n),u=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,p=t.top>e.y,m=r.top<t.top&&r.bottom>t.bottom;return m&&(i=0,s=o),u&&(p?(i=0,s=c):h&&(i=c,s=o)),f&&(i=s=a?o-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),u?c<i?i=c:s=c:e.y<r.y?s=o:i=0),{startIdx:i,endIdx:s}}function Tet(e){var t=e.target,r=e.offset,n=e.container,a=e.box,i=Hp(t),s=i.top,o=i.left,l=i.width,c=i.height,u=Hp(n),f=u.top,h=u.left,p=u.width,m=u.height,g=Hp(a),v=g.width,y=g.height,x=f+m,w=h+p,E=s+y,I=o+v,P=r.x,A=r.y,S=E>x?s-y-A:s+A+c,k=I>w?o+P-v+l:o+P;return{topOffset:S,leftOffset:k}}function ket(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,i=e.components,s=e.localizer,o=e.position,l=e.show,c=e.events,u=e.slotStart,f=e.slotEnd,h=e.onSelect,p=e.onDoubleClick,m=e.onKeyPress,g=e.handleDragStart,v=e.popperRef,y=e.target,x=e.offset;bet({ref:v,callback:l}),j.useLayoutEffect(function(){var I=Tet({target:y,offset:x,container:t.current,box:v.current}),P=I.topOffset,A=I.leftOffset;v.current.style.top="".concat(P,"px"),v.current.style.left="".concat(A,"px")},[x.x,x.y,y]);var w=o.width,E={minWidth:w+w/2};return Pe.createElement("div",{style:E,className:"rbc-overlay",ref:v},Pe.createElement("div",{className:"rbc-overlay-header"},s.format(u,"dayHeaderFormat")),c.map(function(I,P){return Pe.createElement(mie,{key:P,type:"popup",localizer:s,event:I,getters:n,onSelect:h,accessors:r,components:i,onDoubleClick:p,onKeyPress:m,continuesPrior:s.lt(r.end(I),u,"day"),continuesAfter:s.gte(r.start(I),f,"day"),slotStart:u,slotEnd:f,selected:XT(I,a),draggable:!0,onDragStart:function(){return g(I)},onDragEnd:function(){return l()}})}))}var yie=Pe.forwardRef(function(e,t){return Pe.createElement(ket,Object.assign({},e,{popperRef:t}))});yie.propTypes={accessors:gt.object.isRequired,getters:gt.object.isRequired,selected:gt.object,components:gt.object.isRequired,localizer:gt.object.isRequired,position:gt.object.isRequired,show:gt.func.isRequired,events:gt.array.isRequired,slotStart:gt.instanceOf(Date).isRequired,slotEnd:gt.instanceOf(Date),onSelect:gt.func,onDoubleClick:gt.func,onKeyPress:gt.func,handleDragStart:gt.func,style:gt.object,offset:gt.shape({x:gt.number,y:gt.number})};function Net(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,i=e.accessors,s=e.localizer,o=e.components,l=e.getters,c=e.selected,u=e.handleSelectEvent,f=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,p=e.handleDragStart,m=e.onHide,g=e.overlayDisplay,v=j.useRef(null);if(!a.position)return null;var y=n;isNaN(n)||(y={x:n,y:n});var x=a.position,w=a.events,E=a.date,I=a.end;return Pe.createElement(vR,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:m,target:a.target},function(P){var A=P.props;return Pe.createElement(yie,Object.assign({},A,{containerRef:t,ref:v,target:a.target,offset:y,accessors:i,getters:l,selected:c,components:o,localizer:s,position:x,show:g,events:w,slotStart:E,slotEnd:I,onSelect:u,onDoubleClick:f,onKeyPress:h,handleDragStart:p}))})}var LR=Pe.forwardRef(function(e,t){return Pe.createElement(Net,Object.assign({},e,{containerRef:t}))});LR.propTypes={popupOffset:gt.oneOfType([gt.number,gt.shape({x:gt.number,y:gt.number})]),overlay:gt.shape({position:gt.object,events:gt.array,date:gt.instanceOf(Date),end:gt.instanceOf(Date)}),accessors:gt.object.isRequired,localizer:gt.object.isRequired,components:gt.object.isRequired,getters:gt.object.isRequired,selected:gt.object,handleSelectEvent:gt.func,handleDoubleClickEvent:gt.func,handleKeyPressEvent:gt.func,handleDragStart:gt.func,onHide:gt.func,overlayDisplay:gt.func};function Ms(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return ix(r,e,t,{passive:!1})}function Cet(e,t,r){return!e||tw(e,document.elementFromPoint(t,r))}function Pet(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return Wae(a,".rbc-event",e)}function Iet(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return Wae(a,".rbc-show-more",e)}function P5(e,t){return!!Pet(e,t)}function Oet(e,t){return!!Iet(e,t)}function Ly(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var iW=5,Det=250,xie=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,i=r.longPressThreshold,s=i===void 0?250:i,o=r.validContainers,l=o===void 0?[]:o;$i(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=s,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Ms("touchmove",function(){},window),this._removeKeyDownListener=Ms("keydown",this._keyListener),this._removeKeyUpListener=Ms("keyup",this._keyListener),this._removeDropFromOutsideListener=Ms("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Ms("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Ui(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var s=a.indexOf(n);s!==-1&&a.splice(s,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var s,o=this._listeners[r]||[];return o.forEach(function(l){s===void 0&&(s=l.apply(void 0,a))}),s}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:sW(n,km(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,i=null,s=null,o=null,l=function(h){i=setTimeout(function(){u(),r(h)},a.longPressThreshold),s=Ms("touchmove",function(){return u()}),o=Ms("touchend",function(){return u()})},c=Ms("touchstart",l),u=function(){i&&clearTimeout(i),s&&s(),o&&o(),i=null,s=null,o=null};return n&&l(n),function(){u(),c()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Ms("mousedown",function(i){r._removeInitialEventListener(),r._handleInitialEvent(i),r._removeInitialEventListener=Ms("mousedown",r._handleInitialEvent)}),a=Ms("touchstart",function(i){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Ly(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:s,clientY:o}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Ly(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:s,clientY:o}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Ly(r),a=n.clientX,i=n.clientY,s=n.pageX,o=n.pageY,l=this.container(),c,u;if(!(r.which===3||r.button===2||!Cet(l,a,i))){if(!this.globalMouse&&l&&!tw(l,r.target)){var f=jet(0),h=f.top,p=f.left,m=f.bottom,g=f.right;if(u=km(l),c=sW({top:u.top-h,left:u.left-p,bottom:u.bottom+m,right:u.right+g},{top:o,left:s}),!c)return}var v=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:s,y:o,clientX:a,clientY:i});if(v!==!1)switch(r.type){case"mousedown":this._removeEndListener=Ms("mouseup",this._handleTerminatingEvent),this._onEscListener=Ms("keydown",this._handleTerminatingEvent),this._removeMoveListener=Ms("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Ms("touchend",this._handleTerminatingEvent),this._removeMoveListener=Ms("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var i=!this.container||tw(this.container(),r.target),s=this._isWithinValidContainer(r);return r.key==="Escape"||!s?this.emit("reset"):!n&&i?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Ly(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<Det?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:s,clientY:o})):(this._lastClickData={timestamp:l},this.emit("click",{x:a,y:i,clientX:s,clientY:o}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,i=n.y,s=Ly(r),o=s.pageX,l=s.pageY,c=Math.abs(a-o),u=Math.abs(i-l),f=Math.min(o,a),h=Math.min(l,i),p=this.selecting,m=this.isClick(o,l);m&&!p&&!(c||u)||(!p&&!m&&this.emit("selectStart",this._initialEventData),m||(this.selecting=!0,this._selectRect={top:h,left:f,x:o,y:l,right:f+c,bottom:h+u},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,i=a.x,s=a.y,o=a.isTouch;return!o&&Math.abs(r-i)<=iW&&Math.abs(n-s)<=iW}}])}();function jet(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Hr(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function sW(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=km(e),a=n.top,i=n.left,s=n.right,o=s===void 0?i:s,l=n.bottom,c=l===void 0?a:l,u=km(t),f=u.top,h=u.left,p=u.right,m=p===void 0?h:p,g=u.bottom,v=g===void 0?f:g;return!(c-r<f||a+r>v||o-r<h||i+r>m)}function km(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+oW("left"),n=t.top+oW("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function oW(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var Ret=function(e){function t(r,n){var a;return $i(this,t),a=ro(this,t,[r,n]),a.state={selecting:!1},a.containerRef=j.createRef(),a}return no(t,e),Ui(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,i=n.getNow,s=n.getters,o=n.date,l=n.components.dateCellWrapper,c=n.localizer,u=this.state,f=u.selecting,h=u.startIdx,p=u.endIdx,m=i();return Pe.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(g,v){var y=f&&v>=h&&v<=p,x=s.dayProp(g),w=x.className,E=x.style;return Pe.createElement(l,{key:v,value:g,range:a},Pe.createElement("div",{style:E,className:Ga("rbc-day-bg",w,y&&"rbc-selected-cell",c.isSameDate(g,m)&&"rbc-today",o&&c.neq(o,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,i=this._selector=new xie(this.props.container,{longPressThreshold:this.props.longPressThreshold}),s=function(l,c){if(!P5(a,l)&&!Oet(a,l)){var u=km(a),f=n.props,h=f.range,p=f.rtl;if(Eet(u,l)){var m=vie(u,l.x,p,h.length);n._selectSlot({startIdx:m,endIdx:m,action:c,box:l})}}n._initial={},n.setState({selecting:!1})};i.on("selecting",function(o){var l=n.props,c=l.range,u=l.rtl,f=-1,h=-1;if(n.state.selecting||(aa(n.props.onSelectStart,[o]),n._initial={x:o.x,y:o.y}),i.isSelected(a)){var p=km(a),m=Aet(n._initial,p,o,c.length,u);f=m.startIdx,h=m.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),i.on("beforeSelect",function(o){if(n.props.selectable==="ignoreEvents")return!P5(n.containerRef.current,o)}),i.on("click",function(o){return s(o,"click")}),i.on("doubleClick",function(o){return s(o,"doubleClick")}),i.on("select",function(o){n._selectSlot($n($n({},n.state),{},{action:"select",bounds:o})),n._initial={},n.setState({selecting:!1}),aa(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,i=n.startIdx,s=n.action,o=n.bounds,l=n.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:s,bounds:o,box:l,resourceId:this.props.resourceId})}}])}(Pe.Component),oc={propTypes:{slotMetrics:gt.object.isRequired,selected:gt.object,isAllDay:gt.bool,accessors:gt.object.isRequired,localizer:gt.object.isRequired,components:gt.object.isRequired,getters:gt.object.isRequired,onSelect:gt.func,onDoubleClick:gt.func,onKeyPress:gt.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,s=t.onSelect,o=t.onDoubleClick,l=t.onKeyPress,c=t.localizer,u=t.slotMetrics,f=t.components,h=t.resizable,p=u.continuesPrior(r),m=u.continuesAfter(r);return Pe.createElement(mie,{event:r,getters:i,localizer:c,accessors:a,components:f,onSelect:s,onDoubleClick:o,onKeyPress:l,continuesPrior:p,continuesAfter:m,slotStart:u.first,slotEnd:u.last,selected:XT(r,n),resizable:h})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(r)/t*100+"%";return Pe.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},wie=function(e){function t(){return $i(this,t),ro(this,t,arguments)}return no(t,e),Ui(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.segments,s=a.slotMetrics.slots,o=a.className,l=1;return Pe.createElement("div",{className:Ga(o,"rbc-row")},i.reduce(function(c,u,f){var h=u.event,p=u.left,m=u.right,g=u.span,v="_lvl_"+f,y=p-l,x=oc.renderEvent(n.props,h);return y&&c.push(oc.renderSpan(s,y,"".concat(v,"_gap"))),c.push(oc.renderSpan(s,g,v,x)),l=m+1,c},[]))}}])}(Pe.Component);wie.defaultProps=$n({},oc.defaultProps);function bie(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function Let(e,t,r,n){var a=bie({dateRange:t,localizer:n}),i=a.first,s=a.last,o=n.diff(i,s,"day"),l=n.max(n.startOf(r.start(e),"day"),i),c=n.min(n.ceil(r.end(e),"day"),s),u=FGe(t,function(h){return n.isSameDate(h,l)}),f=n.diff(l,c,"day");return f=Math.min(f,o),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:u+1,right:Math.max(u+f,1)}}function OI(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,i=[],s=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<i.length&&Met(a,i[n]);n++);n>=t?s.push(a):(i[n]||(i[n]=[])).push(a)}for(r=0;r<i.length;r++)i[r].sort(function(o,l){return o.left-l.left});return{levels:i,extra:s}}function aw(e,t,r,n,a){var i={start:n.start(e),end:n.end(e)},s={start:t,end:r};return a.inEventRange({event:i,range:s})}function Met(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function Fet(e,t,r){var n=GS(e),a=[],i=[];n.forEach(function(l){var c=t.start(l),u=t.end(l);r.daySpan(c,u)>1?a.push(l):i.push(l)});var s=a.sort(function(l,c){return DI(l,c,t,r)}),o=i.sort(function(l,c){return DI(l,c,t,r)});return[].concat(GS(s),GS(o))}function DI(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:i})}var jI=function(t,r){return t.left<=r&&t.right>=r},bC=function(t,r){return t.filter(function(n){return jI(n,r)}).map(function(n){return n.event})},_ie=function(e){function t(){return $i(this,t),ro(this,t,arguments)}return no(t,e),Ui(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,i=n.slotMetrics.slots,s=OI(a).levels[0],o=1,l=1,c=[];o<=i;){var u="_lvl_"+o,f=s.filter(function(E){return jI(E,o)})[0]||{},h=f.event,p=f.left,m=f.right,g=f.span;if(!h){var v=this.getHiddenEventsForSlot(a,o);if(v.length>0){var y=o-l;y&&c.push(oc.renderSpan(i,y,u+"_gap")),c.push(oc.renderSpan(i,1,u,this.renderShowMore(a,o))),l=o=o+1;continue}o++;continue}var x=Math.max(0,p-l);if(this.canRenderSlotEvent(p,g)){var w=oc.renderEvent(this.props,h);x&&c.push(oc.renderSpan(i,x,u+"_gap")),c.push(oc.renderSpan(i,g,u,w)),l=o=m+1}else x&&c.push(oc.renderSpan(i,x,u+"_gap")),c.push(oc.renderSpan(i,1,u,this.renderShowMore(a,o))),l=o=o+1}return Pe.createElement("div",{className:"rbc-row"},c)}},{key:"getHiddenEventsForSlot",value:function(n,a){var i=bC(n,a),s=OI(n).levels[0],o=s.filter(function(l){return jI(l,a)}).map(function(l){return l.event});return i.filter(function(l){return!o.some(function(c){return c===l})})}},{key:"canRenderSlotEvent",value:function(n,a){var i=this.props.segments;return XGe(n,n+a).every(function(s){var o=bC(i,s).length;return o===1})}},{key:"renderShowMore",value:function(n,a){var i=this,s=this.props,o=s.localizer,l=s.slotMetrics,c=s.components,u=l.getEventsForSlot(a),f=bC(n,a),h=f.length;if(c!=null&&c.showMore){var p=c.showMore,m=l.getDateForSlot(a-1);return h?Pe.createElement(p,{localizer:o,slotDate:m,slot:a,count:h,events:u,remainingEvents:f}):!1}return h?Pe.createElement("button",{type:"button",key:"sm_"+a,className:Ga("rbc-button-link","rbc-show-more"),onClick:function(v){return i.showMore(a,v)}},o.messages.showMore(h,f,u)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(Pe.Component);_ie.defaultProps=$n({},oc.defaultProps);var Bet=function(t){var r=t.children;return Pe.createElement("div",{className:"rbc-row-content-scroll-container"},r)},$et=function(t,r){return t.left<=r&&t.right>=r},Uet=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function Sie(){return Yae(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,i=e.accessors,s=e.localizer,o=bie({dateRange:t,localizer:s}),l=o.first,c=o.last,u=r.map(function(g){return Let(g,t,i,s)}),f=OI(u,Math.max(n-1,1)),h=f.levels,p=f.extra,m=p.length>0?a-1:a;h.length<m;)h.push([]);return{first:l,last:c,levels:h,extra:p,range:t,slots:t.length,clone:function(v){var y=Sie();return y($n($n({},e),v))},getDateForSlot:function(v){return t[v]},getSlotForDate:function(v){return t.find(function(y){return s.isSameDate(y,v)})},getEventsForSlot:function(v){return u.filter(function(y){return $et(y,v)}).map(function(y){return y.event})},continuesPrior:function(v){return s.continuesPrior(i.start(v),l)},continuesAfter:function(v){var y=i.start(v),x=i.end(v);return s.continuesAfter(y,x,c)}}},Uet)}var iw=function(e){function t(){var r;$i(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ro(this,t,[].concat(a)),r.handleSelectSlot=function(s){var o=r.props,l=o.range,c=o.onSelectSlot;c(l.slice(s.start,s.end+1),s)},r.handleShowMore=function(s,o){var l=r.props,c=l.range,u=l.onShowMore,f=r.slotMetrics(r.props),h=F9e(r.containerRef.current,".rbc-row-bg")[0],p;h&&(p=h.children[s-1]);var m=f.getEventsForSlot(s);u(m,c[s-1],p,s,o)},r.getContainer=function(){var s=r.props.container;return s?s():r.containerRef.current},r.renderHeadingCell=function(s,o){var l=r.props,c=l.renderHeader,u=l.getNow,f=l.localizer;return c({date:s,key:"header_".concat(o),className:Ga("rbc-date-cell",f.isSameDate(s,u())&&"rbc-now")})},r.renderDummy=function(){var s=r.props,o=s.className,l=s.range,c=s.renderHeader,u=s.showAllEvents;return Pe.createElement("div",{className:o,ref:r.containerRef},Pe.createElement("div",{className:Ga("rbc-row-content",u&&"rbc-row-content-scrollable")},c&&Pe.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),Pe.createElement("div",{className:"rbc-row",ref:r.eventRowRef},Pe.createElement("div",{className:"rbc-row-segment"},Pe.createElement("div",{className:"rbc-event"},Pe.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=j.createRef(),r.headingRowRef=j.createRef(),r.eventRowRef=j.createRef(),r.slotMetrics=Sie(),r}return no(t,e),Ui(t,[{key:"getRowLimit",value:function(){var n,a=yC(this.eventRowRef.current),i=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?yC(this.headingRowRef.current):0,s=yC(this.containerRef.current)-i;return Math.max(Math.floor(s/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.rtl,s=n.range,o=n.className,l=n.selected,c=n.selectable,u=n.renderForMeasure,f=n.accessors,h=n.getters,p=n.components,m=n.getNow,g=n.renderHeader,v=n.onSelect,y=n.localizer,x=n.onSelectStart,w=n.onSelectEnd,E=n.onDoubleClick,I=n.onKeyPress,P=n.resourceId,A=n.longPressThreshold,S=n.isAllDay,k=n.resizable,O=n.showAllEvents;if(u)return this.renderDummy();var T=this.slotMetrics(this.props),C=T.levels,D=T.extra,B=O?Bet:$u,Y=p.weekWrapper,ee={selected:l,accessors:f,getters:h,localizer:y,components:p,onSelect:v,onDoubleClick:E,onKeyPress:I,resourceId:P,slotMetrics:T,resizable:k};return Pe.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},Pe.createElement(Ret,{localizer:y,date:a,getNow:m,rtl:i,range:s,selectable:c,container:this.getContainer,getters:h,onSelectStart:x,onSelectEnd:w,onSelectSlot:this.handleSelectSlot,components:p,longPressThreshold:A,resourceId:P}),Pe.createElement("div",{className:Ga("rbc-row-content",O&&"rbc-row-content-scrollable"),role:"row"},g&&Pe.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},s.map(this.renderHeadingCell)),Pe.createElement(B,null,Pe.createElement(Y,Object.assign({isAllDay:S},ee,{rtl:this.props.rtl}),C.map(function(re,G){return Pe.createElement(wie,Object.assign({key:G,segments:re},ee))}),!!D.length&&Pe.createElement(_ie,Object.assign({segments:D,onShowMore:this.handleShowMore},ee))))))}}])}(Pe.Component);iw.defaultProps={minRows:0,maxRows:1/0};var MR=function(t){var r=t.label;return Pe.createElement("span",{role:"columnheader","aria-sort":"none"},r)},Vet=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?Pe.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):Pe.createElement("span",null,r)},zet=["date","className"],Wet=function(t,r,n,a,i){return t.filter(function(s){return aw(s,r,n,a,i)})},QT=function(e){function t(){var r;$i(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ro(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(s,o){var l=r.props,c=l.events,u=l.components,f=l.selectable,h=l.getNow,p=l.selected,m=l.date,g=l.localizer,v=l.longPressThreshold,y=l.accessors,x=l.getters,w=l.showAllEvents,E=r.state,I=E.needLimitMeasure,P=E.rowLimit,A=Wet(GS(c),s[0],s[s.length-1],y,g),S=Fet(A,y,g);return Pe.createElement(iw,{key:o,ref:o===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:m,range:s,events:S,maxRows:w?1/0:P,selected:p,selectable:f,components:u,accessors:y,getters:x,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:I,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:v,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:w})},r.readerDateHeading=function(s){var o=s.date,l=s.className,c=df(s,zet),u=r.props,f=u.date,h=u.getDrilldownView,p=u.localizer,m=p.neq(f,o,"month"),g=p.isSameDate(o,f),v=h(o),y=p.format(o,"dateFormat"),x=r.props.components.dateHeader||Vet;return Pe.createElement("div",Object.assign({},c,{className:Ga(l,m&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),Pe.createElement(x,{label:y,date:o,drilldownView:v,isOffRange:m,onDrillDown:function(E){return r.handleHeadingClick(o,v,E)}}))},r.handleSelectSlot=function(s,o){r._pendingSelection=r._pendingSelection.concat(s),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(o)})},r.handleHeadingClick=function(s,o,l){l.preventDefault(),r.clearSelection(),aa(r.props.onDrillDown,[s,o])},r.handleSelectEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];aa(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];aa(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];aa(r.props.onKeyPressEvent,o)},r.handleShowMore=function(s,o,l,c,u){var f=r.props,h=f.popup,p=f.onDrillDown,m=f.onShowMore,g=f.getDrilldownView,v=f.doShowMoreDrillDown;if(r.clearSelection(),h){var y=Sae(l,r.containerRef.current);r.setState({overlay:{date:o,events:s,position:y,target:u}})}else v&&aa(p,[o,g(o)||vo.DAY]);aa(m,[s,o,c])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=j.createRef(),r.slotRowRef=j.createRef(),r._bgRows=[],r._pendingSelection=[],r}return no(t,e),Ui(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||Eae(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.className,o=i.visibleDays(a,i),l=_9e(o,7);return this._weekCount=l.length,Pe.createElement("div",{className:Ga("rbc-month-view",s),role:"table","aria-label":"Month View",ref:this.containerRef},Pe.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,i=a.localizer,s=a.components,o=n[0],l=n[n.length-1],c=s.header||MR;return i.range(o,l,"day").map(function(u,f){return Pe.createElement("div",{key:"header_"+f,className:"rbc-header"},Pe.createElement(c,{date:u,localizer:i,label:i.format(u,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,i=this,s=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,l=o.accessors,c=o.localizer,u=o.components,f=o.getters,h=o.selected,p=o.popupOffset,m=o.handleDragStart,g=function(){return i.setState({overlay:null})};return Pe.createElement(LR,{overlay:s,accessors:l,localizer:c,components:u,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(o,l){return+o-+l});var i=new Date(a[0]),s=new Date(a[a.length-1]);s.setDate(a[a.length-1].getDate()+1),aa(this.props.onSelectSlot,{slots:a,start:i,end:s,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var i=n.date,s=n.localizer;return{date:i,needLimitMeasure:s.neq(i,a.date,"month")}}}])}(Pe.Component);QT.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};QT.navigate=function(e,t,r){var n=r.localizer;switch(t){case Zo.PREVIOUS:return n.add(e,-1,"month");case Zo.NEXT:return n.add(e,1,"month");default:return e}};QT.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var lW=function(t){var r=t.min,n=t.max,a=t.step,i=t.slots,s=t.localizer;return"".concat(+s.startOf(r,"minutes"))+"".concat(+s.startOf(n,"minutes"))+"".concat(a,"-").concat(i)};function FR(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,i=e.localizer,s=lW({step:n,localizer:i}),o=1+i.getTotalMin(t,r),l=i.getMinutesFromMidnight(t),c=Math.ceil((o-1)/(n*a)),u=c*a,f=new Array(c),h=new Array(u),p=0;p<c;p++){f[p]=new Array(a);for(var m=0;m<a;m++){var g=p*a+m,v=g*n;h[g]=f[p][m]=i.getSlotDate(t,l,v)}}var y=h.length*n;h.push(i.getSlotDate(t,l,y));function x(w){var E=i.diff(t,w,"minutes")+i.getDstOffset(t,w);return Math.min(E,o)}return{groups:f,update:function(E){return lW(E)!==s?FR(E):this},dateIsInGroup:function(E,I){var P=f[I+1];return i.inRange(E,f[I][0],P?P[0]:r,"minutes")},nextSlot:function(E){var I=h[Math.min(h.findIndex(function(P){return P===E||i.eq(P,E)})+1,h.length-1)];return i.eq(I,E)&&(I=i.add(E,n,"minutes")),I},closestSlotToPosition:function(E){var I=Math.min(h.length-1,Math.max(0,Math.floor(E*u)));return h[I]},closestSlotFromPoint:function(E,I){var P=Math.abs(I.top-I.bottom);return this.closestSlotToPosition((E.y-I.top)/P)},closestSlotFromDate:function(E){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(E,t,"minutes"))return h[0];if(i.gt(E,r,"minutes"))return h[h.length-1];var P=i.diff(t,E,"minutes");return h[(P-P%n)/n+I]},startsBeforeDay:function(E){return i.lt(E,t,"day")},startsAfterDay:function(E){return i.gt(E,r,"day")},startsBefore:function(E){return i.lt(i.merge(t,E),t,"minutes")},startsAfter:function(E){return i.gt(i.merge(r,E),r,"minutes")},getRange:function(E,I,P,A){P||(E=i.min(r,i.max(t,E))),A||(I=i.min(r,i.max(t,I)));var S=x(E),k=x(I),O=k>n*u&&!i.eq(r,I)?(S-n)/(n*u)*100:S/(n*u)*100;return{top:O,height:k/(n*u)*100-O,start:x(E),startDate:E,end:x(I),endDate:I}},getCurrentTimePosition:function(E){var I=x(E),P=I/(n*u)*100;return P}}}var Het=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;$i(this,e);var i=a.getRange(n.start(t),n.end(t)),s=i.start,o=i.startDate,l=i.end,c=i.endDate,u=i.top,f=i.height;this.start=s,this.end=l,this.startMs=+o,this.endMs=+c,this.top=u,this.height=f,this.data=t}return Ui(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,i=r._width,s=n.indexOf(this)+1;return a+s*i}}])}();function qet(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function Get(e){for(var t=gYe(e,["startMs",function(o){return-o.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var i=t[a];if(!(n.endMs>i.startMs)){if(a>0){var s=t.splice(a,1)[0];r.push(s)}break}}}return r}function Eie(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=t.map(function(u){return new Het(u,{slotMetrics:n,accessors:a})}),s=Get(i),o=[],l=function(){var f=s[c],h=o.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<r});if(!h)return f.rows=[],o.push(f),1;f.container=h;for(var p=null,m=h.rows.length-1;!p&&m>=0;m--)qet(h.rows[m],f,r)&&(p=h.rows[m]);p?(p.leaves.push(f),f.row=p):(f.leaves=[],h.rows.push(f))},c=0;c<s.length;c++)l();return s.map(function(u){return{event:u.data,style:{top:u.top,height:u.height,width:u.width,xOffset:Math.max(0,u.xOffset)}}})}function Aie(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=Aie(e.friends[n],t,r);t=t>a?t:a}return t}function Ket(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=Eie({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});i.sort(function(Y,ee){return Y=Y.style,ee=ee.style,Y.top!==ee.top?Y.top>ee.top?1:-1:Y.height!==ee.height?Y.top+Y.height<ee.top+ee.height?1:-1:0});for(var s=0;s<i.length;++s)i[s].friends=[],delete i[s].style.left,delete i[s].style.left,delete i[s].idx,delete i[s].size;for(var o=0;o<i.length-1;++o)for(var l=i[o],c=l.style.top,u=l.style.top+l.style.height,f=o+1;f<i.length;++f){var h=i[f],p=h.style.top,m=h.style.top+h.style.height;(p>=c&&m<=u||m>c&&m<=u||p>=c&&p<u)&&(l.friends.push(h),h.friends.push(l))}for(var g=0;g<i.length;++g){for(var v=i[g],y=[],x=0;x<100;++x)y.push(1);for(var w=0;w<v.friends.length;++w)v.friends[w].idx!==void 0&&(y[v.friends[w].idx]=0);v.idx=y.indexOf(1)}for(var E=0;E<i.length;++E){var I=0;if(!i[E].size){var P=[],A=Aie(i[E],0,P);I=100/(A+1),i[E].size=I;for(var S=0;S<P.length;++S)P[S].size=I}}for(var k=0;k<i.length;++k){var O=i[k];O.style.left=O.idx*O.size;for(var T=0,C=0;C<O.friends.length;++C){var D=O.friends[C].idx;T=T>D?T:D}T<=O.idx&&(O.size=100-O.idx*O.size);var B=O.idx===0?0:3;O.style.width="calc(".concat(O.size,"% - ").concat(B,"px)"),O.style.height="calc(".concat(O.style.height,"% - 2px)"),O.style.xOffset="calc(".concat(O.style.left,"% + ").concat(B,"px)")}return i}var cW={overlap:Eie,"no-overlap":Ket};function Yet(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Xet(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in cW&&(r=cW[t]),Yet(r)?r.apply(this,arguments):[]}var Tie=function(e){function t(){return $i(this,t),ro(this,t,arguments)}return no(t,e),Ui(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,i=n.resource,s=n.group,o=n.getters,l=n.components,c=l===void 0?{}:l,u=c.timeSlotWrapper,f=u===void 0?$u:u,h=o?o.slotGroupProp(s):{};return Pe.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),s.map(function(p,m){var g=o?o.slotProp(p,i):{};return Pe.createElement(f,{key:m,value:p,resource:i},Pe.createElement("div",Object.assign({},g,{className:Ga("rbc-time-slot",g.className)}),a&&a(p,m)))}))}}])}(j.Component);function Q_(e){return typeof e=="string"?e:e+"%"}function Qet(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,i=e.rtl,s=e.selected,o=e.label,l=e.continuesPrior,c=e.continuesAfter,u=e.getters,f=e.onClick,h=e.onDoubleClick,p=e.isBackgroundEvent,m=e.onKeyPress,g=e.components,v=g.event,y=g.eventWrapper,x=a.title(n),w=a.tooltip(n),E=a.end(n),I=a.start(n),P=u.eventProp(n,I,E,s),A=[Pe.createElement("div",{key:"1",className:"rbc-event-label"},o),Pe.createElement("div",{key:"2",className:"rbc-event-content"},v?Pe.createElement(v,{event:n,title:x}):x)],S=t.height,k=t.top,O=t.width,T=t.xOffset,C=$n($n({},P.style),{},Sp({top:Q_(k),height:Q_(S),width:Q_(O)},i?"right":"left",Q_(T)));return Pe.createElement(y,Object.assign({type:"time"},e),Pe.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:C,onKeyDown:m,title:w?(typeof o=="string"?o+": ":"")+w:void 0,className:Ga(p?"rbc-background-event":"rbc-event",r,P.className,{"rbc-selected":s,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},A))}var Jet=function(t){var r=t.children,n=t.className,a=t.style,i=t.innerRef;return Pe.createElement("div",{className:n,style:a,ref:i},r)},Zet=Pe.forwardRef(function(e,t){return Pe.createElement(Jet,Object.assign({},e,{innerRef:t}))}),ett=["dayProp"],ttt=["eventContainerWrapper","timeIndicatorWrapper"],kie=function(e){function t(){var r;$i(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ro(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(s){var o=s.events,l=s.isBackgroundEvent,c=r.props,u=c.rtl,f=c.selected,h=c.accessors,p=c.localizer,m=c.getters,g=c.components,v=c.step,y=c.timeslots,x=c.dayLayoutAlgorithm,w=c.resizable,E=r,I=E.slotMetrics,P=p.messages,A=Xet({events:o,accessors:h,slotMetrics:I,minimumStartDifference:Math.ceil(v*y/2),dayLayoutAlgorithm:x});return A.map(function(S,k){var O,T=S.event,C=S.style,D=h.end(T),B=h.start(T),Y=(O=h.eventId(T))!==null&&O!==void 0?O:"evt_"+k,ee="eventTimeRangeFormat",re,G=I.startsBeforeDay(B),q=I.startsAfterDay(D);G?ee="eventTimeRangeEndFormat":q&&(ee="eventTimeRangeStartFormat"),G&&q?re=P.allDay:re=p.format({start:B,end:D},ee);var be=G||I.startsBefore(B),_e=q||I.startsAfter(D);return Pe.createElement(Qet,{style:C,event:T,label:re,key:Y,getters:m,rtl:u,components:g,continuesPrior:be,continuesAfter:_e,accessors:h,resource:r.props.resource,selected:XT(T,f),onClick:function(U){return r._select($n($n($n({},T),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),U)},onDoubleClick:function(U){return r._doubleClick(T,U)},isBackgroundEvent:l,onKeyPress:function(U){return r._keyPress(T,U)},resizable:w})})},r._selectable=function(){var s=r.containerRef.current,o=r.props,l=o.longPressThreshold,c=o.localizer,u=r._selector=new xie(function(){return s},{longPressThreshold:l}),f=function(g){var v=r.props.onSelecting,y=r.state||{},x=h(g),w=x.startDate,E=x.endDate;v&&(c.eq(y.startDate,w,"minutes")&&c.eq(y.endDate,E,"minutes")||v({start:w,end:E,resourceId:r.props.resource})===!1)||(r.state.start!==x.start||r.state.end!==x.end||r.state.selecting!==x.selecting)&&r.setState(x)},h=function(g){var v=r.slotMetrics.closestSlotFromPoint(g,km(s));r.state.selecting||(r._initialSlot=v);var y=r._initialSlot;c.lte(y,v)?v=r.slotMetrics.nextSlot(v):c.gt(y,v)&&(y=r.slotMetrics.nextSlot(y));var x=r.slotMetrics.getRange(c.min(y,v),c.max(y,v));return $n($n({},x),{},{selecting:!0,top:"".concat(x.top,"%"),height:"".concat(x.height,"%")})},p=function(g,v){if(!P5(r.containerRef.current,g)){var y=h(g),x=y.startDate,w=y.endDate;r._selectSlot({startDate:x,endDate:w,action:v,box:g})}r.setState({selecting:!1})};u.on("selecting",f),u.on("selectStart",f),u.on("beforeSelect",function(m){if(r.props.selectable==="ignoreEvents")return!P5(r.containerRef.current,m)}),u.on("click",function(m){return p(m,"click")}),u.on("doubleClick",function(m){return p(m,"doubleClick")}),u.on("select",function(m){r.state.selecting&&(r._selectSlot($n($n({},r.state),{},{action:"select",bounds:m})),r.setState({selecting:!1}))}),u.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(s){for(var o=s.startDate,l=s.endDate,c=s.action,u=s.bounds,f=s.box,h=o,p=[];r.props.localizer.lte(h,l);)p.push(h),h=new Date(+h+r.props.step*60*1e3);aa(r.props.onSelectSlot,{slots:p,start:o,end:l,resourceId:r.props.resource,action:c,bounds:u,box:f})},r._select=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];aa(r.props.onSelectEvent,o)},r._doubleClick=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];aa(r.props.onDoubleClickEvent,o)},r._keyPress=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];aa(r.props.onKeyPressEvent,o)},r.slotMetrics=FR(r.props),r.containerRef=j.createRef(),r}return no(t,e),Ui(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var i=this.props,s=i.getNow,o=i.isNow,l=i.localizer,c=i.date,u=i.min,f=i.max,h=l.neq(n.getNow(),s(),"minutes");if(n.isNow!==o||h){if(this.clearTimeIndicatorInterval(),o){var p=!h&&l.eq(n.date,c,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(p)}}else o&&(l.neq(n.min,u,"minutes")||l.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,i=n.max,s=n.getNow,o=s();if(o>=a&&o<=i){var l=this.slotMetrics.getCurrentTimePosition(o);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.max,s=n.rtl,o=n.isNow,l=n.resource,c=n.accessors,u=n.localizer,f=n.getters,h=f.dayProp,p=df(f,ett),m=n.components,g=m.eventContainerWrapper,v=m.timeIndicatorWrapper,y=df(m,ttt);this.slotMetrics=this.slotMetrics.update(this.props);var x=this.slotMetrics,w=this.state,E=w.selecting,I=w.top,P=w.height,A=w.startDate,S=w.endDate,k={start:A,end:S},O=h(i,l),T=O.className,C=O.style,D={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},B=y.dayColumnWrapper||Zet;return Pe.createElement(B,{ref:this.containerRef,date:a,style:C,className:Ga(T,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",E&&"rbc-slot-selecting"),slotMetrics:x,resource:l},x.groups.map(function(Y,ee){return Pe.createElement(Tie,{key:ee,group:Y,resource:l,getters:p,components:y})}),Pe.createElement(g,{localizer:u,resource:l,accessors:c,getters:p,components:y,slotMetrics:x},Pe.createElement("div",{className:Ga("rbc-events-container",s&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),E&&Pe.createElement("div",{className:"rbc-slot-selection",style:{top:I,height:P}},Pe.createElement("span",null,u.format(k,"selectRangeFormat"))),o&&this.intervalTriggered&&Pe.createElement(v,D,Pe.createElement("div",D)))}}])}(Pe.Component);kie.defaultProps={dragThroughEvents:!0,timeslots:2};var Nie=function(t){var r=t.label;return Pe.createElement(Pe.Fragment,null,r)},rtt=function(e){function t(){var r;$i(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ro(this,t,[].concat(a)),r.handleHeaderClick=function(s,o,l){l.preventDefault(),aa(r.props.onDrillDown,[s,o])},r.renderRow=function(s){var o=r.props,l=o.events,c=o.rtl,u=o.selectable,f=o.getNow,h=o.range,p=o.getters,m=o.localizer,g=o.accessors,v=o.components,y=o.resizable,x=g.resourceId(s),w=s?l.filter(function(E){return g.resource(E)===x}):l;return Pe.createElement(iw,{isAllDay:!0,rtl:c,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:w,resourceId:x,className:"rbc-allday-cell",selectable:u,selected:r.props.selected,components:v,accessors:g,getters:p,localizer:m,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:y})},r}return no(t,e),Ui(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,s=i.localizer,o=i.getDrilldownView,l=i.getNow,c=i.getters.dayProp,u=i.components.header,f=u===void 0?MR:u,h=l();return n.map(function(p,m){var g=o(p),v=s.format(p,"dayFormat"),y=c(p),x=y.className,w=y.style,E=Pe.createElement(f,{date:p,label:v,localizer:s});return Pe.createElement("div",{key:m,style:w,className:Ga("rbc-header",x,s.isSameDate(p,h)&&"rbc-today")},g?Pe.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(P){return a.handleHeaderClick(p,g,P)}},E):Pe.createElement("span",null,E))})}},{key:"render",value:function(){var n=this,a=this.props,i=a.width,s=a.rtl,o=a.resources,l=a.range,c=a.events,u=a.getNow,f=a.accessors,h=a.selectable,p=a.components,m=a.getters,g=a.scrollRef,v=a.localizer,y=a.isOverflowing,x=a.components,w=x.timeGutterHeader,E=x.resourceHeader,I=E===void 0?Nie:E,P=a.resizable,A={};y&&(A[s?"marginLeft":"marginRight"]="".concat(gR()-1,"px"));var S=o.groupEvents(c);return Pe.createElement("div",{style:A,ref:g,className:Ga("rbc-time-header",y&&"rbc-overflowing")},Pe.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},w&&Pe.createElement(w,null)),o.map(function(k,O){var T=kd(k,2),C=T[0],D=T[1];return Pe.createElement("div",{className:"rbc-time-header-content",key:C||O},D&&Pe.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(O)},Pe.createElement("div",{className:"rbc-header"},Pe.createElement(I,{index:O,label:f.resourceTitle(D),resource:D}))),Pe.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),Pe.createElement(iw,{isAllDay:!0,rtl:s,getNow:u,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:S.get(C)||[],resourceId:D&&C,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:p,accessors:f,getters:m,localizer:v,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:P}))}))}}])}(Pe.Component),ntt=function(e){function t(){var r;$i(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ro(this,t,[].concat(a)),r.handleHeaderClick=function(s,o,l){l.preventDefault(),aa(r.props.onDrillDown,[s,o])},r}return no(t,e),Ui(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,s=i.localizer,o=i.getDrilldownView,l=i.getNow,c=i.getters.dayProp,u=i.components,f=u.header,h=f===void 0?MR:f,p=u.resourceHeader,m=p===void 0?Nie:p,g=i.resources,v=i.accessors,y=i.events,x=i.rtl,w=i.selectable,E=i.components,I=i.getters,P=i.resizable,A=l(),S=g.groupEvents(y);return n.map(function(k,O){var T=o(k),C=s.format(k,"dayFormat"),D=c(k),B=D.className,Y=D.style,ee=Pe.createElement(h,{date:k,label:C,localizer:s});return Pe.createElement("div",{key:O,className:"rbc-time-header-content rbc-resource-grouping"},Pe.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},Pe.createElement("div",{style:Y,className:Ga("rbc-header",B,s.isSameDate(k,A)&&"rbc-today")},T?Pe.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(G){return a.handleHeaderClick(k,T,G)}},ee):Pe.createElement("span",null,ee))),Pe.createElement("div",{className:"rbc-row"},g.map(function(re,G){var q=kd(re,2),be=q[0],_e=q[1];return Pe.createElement("div",{key:"resource_".concat(be,"_").concat(G),className:Ga("rbc-header",B,s.isSameDate(k,A)&&"rbc-today")},Pe.createElement(m,{index:G,label:v.resourceTitle(_e),resource:_e}))})),Pe.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(re,G){var q=kd(re,2),be=q[0],_e=q[1],R=(S.get(be)||[]).filter(function(U){return s.isSameDate(U.start,k)||s.isSameDate(U.end,k)});return Pe.createElement(iw,{key:"resource_".concat(be,"_").concat(G),isAllDay:!0,rtl:x,getNow:l,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[k],events:R,resourceId:_e&&be,className:"rbc-allday-cell",selectable:w,selected:a.props.selected,components:E,accessors:v,getters:I,localizer:s,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:P})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,i=n.rtl,s=n.range,o=n.scrollRef,l=n.isOverflowing,c=n.components.timeGutterHeader,u={};return l&&(u[i?"marginLeft":"marginRight"]="".concat(gR()-1,"px")),Pe.createElement("div",{style:u,ref:o,className:Ga("rbc-time-header",l&&"rbc-overflowing")},Pe.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},c&&Pe.createElement(c,null)),this.renderHeaderCells(s))}}])}(Pe.Component);function att(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var itt=function(t){var r=t.min,n=t.max,a=t.timeslots,i=t.step,s=t.localizer,o=t.getNow,l=t.resource,c=t.components,u=t.getters,f=t.gutterRef,h=c.timeGutterWrapper,p=j.useMemo(function(){return att({min:r,max:n,localizer:s})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),s]),m=p.start,g=p.end,v=j.useState(FR({min:m,max:g,timeslots:a,step:i,localizer:s})),y=kd(v,2),x=y[0],w=y[1];j.useEffect(function(){x&&w(x.update({min:m,max:g,timeslots:a,step:i,localizer:s}))},[m==null?void 0:m.toISOString(),g==null?void 0:g.toISOString(),a,i]);var E=j.useCallback(function(I,P){if(P)return null;var A=x.dateIsInGroup(o(),P);return Pe.createElement("span",{className:Ga("rbc-label",A&&"rbc-now")},s.format(I,"timeGutterFormat"))},[x,s,o]);return Pe.createElement(h,{slotMetrics:x},Pe.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},x.groups.map(function(I,P){return Pe.createElement(Tie,{key:P,group:I,resource:l,components:c,renderSlot:E,getters:u})})))},stt=Pe.forwardRef(function(e,t){return Pe.createElement(itt,Object.assign({gutterRef:t},e))}),_C={};function ott(e,t){return{map:function(n){return e?e.map(function(a,i){return n([t.resourceId(a),a],i)}):[n([_C,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(i){var s=t.resource(i)||_C;if(Array.isArray(s))s.forEach(function(l){var c=a.get(l)||[];c.push(i),a.set(l,c)});else{var o=a.get(s)||[];o.push(i),a.set(s,o)}}),a):(a.set(_C,n),a)}}}var U1=function(e){function t(r){var n;return $i(this,t),n=ro(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){YV(n.rafHandle),n.rafHandle=Eae(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];aa(n.props.onKeyPressEvent,i)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];aa(n.props.onSelectEvent,i)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];aa(n.props.onDoubleClickEvent,i)},n.handleShowMore=function(a,i,s,o,l){var c=n.props,u=c.popup,f=c.onDrillDown,h=c.onShowMore,p=c.getDrilldownView,m=c.doShowMoreDrillDown;if(n.clearSelection(),u){var g=Sae(s,n.containerRef.current);n.setState({overlay:{date:i,events:a,position:$n($n({},g),{},{width:"200px"}),target:l}})}else m&&aa(f,[i,p(i)||vo.DAY]);aa(h,[a,i,o])},n.handleSelectAllDaySlot=function(a,i){var s=n.props.onSelectSlot,o=new Date(a[0]),l=new Date(a[a.length-1]);l.setDate(a[a.length-1].getDate()+1),aa(s,{slots:a,start:o,end:l,action:i.action,resourceId:i.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==i&&(n._updatingOverflow=!0,n.setState({isOverflowing:i},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=Yae(function(a,i){return ott(a,i)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=Pe.createRef(),n.contentRef=Pe.createRef(),n.containerRef=Pe.createRef(),n._scrollRatio=null,n.gutterRef=j.createRef(),n}return no(t,e),Ui(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),YV(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,i,s,o,l,c,u,f,h){var p=this.props,m=p.min,g=p.max,v=(s.get(a)||[]).filter(function(x){return l.inRange(n,c.start(x),c.end(x),"day")}),y=(o.get(a)||[]).filter(function(x){return l.inRange(n,c.start(x),c.end(x),"day")});return Pe.createElement(kie,Object.assign({},this.props,{localizer:l,min:l.merge(n,m),max:l.merge(n,g),resource:i&&a,components:u,isNow:l.isSameDate(n,h),key:"".concat(a,"-").concat(n),date:n,events:v,backgroundEvents:y,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,i,s,o,l,c,u,f){var h=this;return a.map(function(p){var m=kd(p,2),g=m[0],v=m[1];return n.map(function(y){return h.renderDayColumn(y,g,v,i,s,o,l,u,f,c)})})}},{key:"renderRangeFirst",value:function(n,a,i,s,o,l,c,u,f){var h=this;return n.map(function(p){return Pe.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:p},a.map(function(m){var g=kd(m,2),v=g[0],y=g[1];return Pe.createElement("div",{style:{flex:1},key:l.resourceId(y)},h.renderDayColumn(p,v,y,i,s,o,l,u,f,c))}))})}},{key:"renderEvents",value:function(n,a,i,s){var o=this.props,l=o.accessors,c=o.localizer,u=o.resourceGroupingLayout,f=o.components,h=o.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,l),m=p.groupEvents(a),g=p.groupEvents(i);return u?this.renderRangeFirst(n,p,m,g,c,l,s,f,h):this.renderResourcesFirst(n,p,m,g,c,l,s,f,h)}},{key:"render",value:function(){var n,a=this.props,i=a.events,s=a.backgroundEvents,o=a.range,l=a.width,c=a.rtl,u=a.selected,f=a.getNow,h=a.resources,p=a.components,m=a.accessors,g=a.getters,v=a.localizer,y=a.min,x=a.max,w=a.showMultiDayTimes,E=a.longPressThreshold,I=a.resizable,P=a.resourceGroupingLayout;l=l||this.state.gutterWidth;var A=o[0],S=o[o.length-1];this.slots=o.length;var k=[],O=[],T=[];i.forEach(function(D){if(aw(D,A,S,m,v)){var B=m.start(D),Y=m.end(D);m.allDay(D)||v.startAndEndAreDateOnly(B,Y)||!w&&!v.isSameDate(B,Y)?k.push(D):O.push(D)}}),s.forEach(function(D){aw(D,A,S,m,v)&&T.push(D)}),k.sort(function(D,B){return DI(D,B,m,v)});var C={range:o,events:k,width:l,rtl:c,getNow:f,localizer:v,selected:u,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,m),selectable:this.props.selectable,accessors:m,getters:g,components:p,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:E,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:I};return Pe.createElement("div",{className:Ga("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&P?Pe.createElement(ntt,C):Pe.createElement(rtt,C),this.props.popup&&this.renderOverlay(),Pe.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},Pe.createElement(stt,{date:A,ref:this.gutterRef,localizer:v,min:v.merge(A,y),max:v.merge(A,x),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:p,className:"rbc-time-gutter",getters:g}),this.renderEvents(o,O,T,f())))}},{key:"renderOverlay",value:function(){var n,a,i=this,s=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,l=o.accessors,c=o.localizer,u=o.components,f=o.getters,h=o.selected,p=o.popupOffset,m=o.handleDragStart,g=function(){return i.setState({overlay:null})};return Pe.createElement(LR,{overlay:s,accessors:l,localizer:c,components:u,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:m,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=n.gutterRef)!==null&&a!==void 0&&a.current?PI(n.gutterRef.current):void 0;i&&n.state.gutterWidth!==i&&n.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,i=n.max,s=n.scrollToTime,o=n.localizer,l=o.diff(o.merge(s,a),s,"milliseconds"),c=o.diff(a,i,"milliseconds");this._scrollRatio=l/c}}])}(j.Component);U1.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var ltt=["date","localizer","min","max","scrollToTime","enableAutoScroll"],JT=function(e){function t(){return $i(this,t),ro(this,t,arguments)}return no(t,e),Ui(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,l=n.max,c=l===void 0?i.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?i.startOf(new Date,"day"):u,h=n.enableAutoScroll,p=h===void 0?!0:h,m=df(n,ltt),g=t.range(a,{localizer:i});return Pe.createElement(U1,Object.assign({},m,{range:g,eventOffset:10,localizer:i,min:o,max:c,scrollToTime:f,enableAutoScroll:p}))}}])}(Pe.Component);JT.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};JT.navigate=function(e,t,r){var n=r.localizer;switch(t){case Zo.PREVIOUS:return n.add(e,-1,"day");case Zo.NEXT:return n.add(e,1,"day");default:return e}};JT.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var ctt=["date","localizer","min","max","scrollToTime","enableAutoScroll"],E0=function(e){function t(){return $i(this,t),ro(this,t,arguments)}return no(t,e),Ui(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,l=n.max,c=l===void 0?i.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?i.startOf(new Date,"day"):u,h=n.enableAutoScroll,p=h===void 0?!0:h,m=df(n,ctt),g=t.range(a,this.props);return Pe.createElement(U1,Object.assign({},m,{range:g,eventOffset:15,localizer:i,min:o,max:c,scrollToTime:f,enableAutoScroll:p}))}}])}(Pe.Component);E0.defaultProps=U1.defaultProps;E0.navigate=function(e,t,r){var n=r.localizer;switch(t){case Zo.PREVIOUS:return n.add(e,-1,"week");case Zo.NEXT:return n.add(e,1,"week");default:return e}};E0.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),i=r.endOf(e,"week",n);return r.range(a,i)};E0.title=function(e,t){var r=t.localizer,n=E0.range(e,{localizer:r}),a=rie(n),i=a[0],s=a.slice(1);return r.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};var utt=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function BR(e,t){return E0.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var ub=function(e){function t(){return $i(this,t),ro(this,t,arguments)}return no(t,e),Ui(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,l=n.max,c=l===void 0?i.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?i.startOf(new Date,"day"):u,h=n.enableAutoScroll,p=h===void 0?!0:h,m=df(n,utt),g=BR(a,this.props);return Pe.createElement(U1,Object.assign({},m,{range:g,eventOffset:15,localizer:i,min:o,max:c,scrollToTime:f,enableAutoScroll:p}))}}])}(Pe.Component);ub.defaultProps=U1.defaultProps;ub.range=BR;ub.navigate=E0.navigate;ub.title=function(e,t){var r=t.localizer,n=BR(e,{localizer:r}),a=rie(n),i=a[0],s=a.slice(1);return r.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};var ZT=30;function ek(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,i=e.getters,s=e.length,o=s===void 0?ZT:s,l=e.localizer,c=e.onDoubleClickEvent,u=e.onSelectEvent,f=e.selected,h=j.useRef(null),p=j.useRef(null),m=j.useRef(null),g=j.useRef(null),v=j.useRef(null);j.useEffect(function(){w()});var y=function(S,k,O){var T=r.event,C=r.date;return k=k.filter(function(D){return aw(D,l.startOf(S,"day"),l.endOf(S,"day"),t,l)}),k.map(function(D,B){var Y=t.title(D),ee=t.end(D),re=t.start(D),G=i.eventProp(D,re,ee,XT(D,f)),q=B===0&&l.format(S,"agendaDateFormat"),be=B===0?Pe.createElement("td",{rowSpan:k.length,className:"rbc-agenda-date-cell"},C?Pe.createElement(C,{day:S,label:q}):q):!1;return Pe.createElement("tr",{key:O+"_"+B,className:G.className,style:G.style},be,Pe.createElement("td",{className:"rbc-agenda-time-cell"},x(S,D)),Pe.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(R){return u&&u(D,R)},onDoubleClick:function(R){return c&&c(D,R)}},T?Pe.createElement(T,{event:D,title:Y}):Y))},[])},x=function(S,k){var O="",T=r.time,C=l.messages.allDay,D=t.end(k),B=t.start(k);return t.allDay(k)||(l.eq(B,D)?C=l.format(B,"agendaTimeFormat"):l.isSameDate(B,D)?C=l.format({start:B,end:D},"agendaTimeRangeFormat"):l.isSameDate(S,B)?C=l.format(B,"agendaTimeFormat"):l.isSameDate(S,D)&&(C=l.format(D,"agendaTimeFormat"))),l.gt(S,B,"day")&&(O="rbc-continues-prior"),l.lt(S,D,"day")&&(O+=" rbc-continues-after"),Pe.createElement("span",{className:O.trim()},T?Pe.createElement(T,{event:k,day:S,label:C}):C)},w=function(){if(v.current){var S=h.current,k=v.current.firstChild;if(k){var O=g.current.scrollHeight>g.current.clientHeight,T=[],C=T;T=[PI(k.children[0]),PI(k.children[1])],(C[0]!==T[0]||C[1]!==T[1])&&(p.current.style.width=T[0]+"px",m.current.style.width=T[1]+"px"),O?(c$e(S,"rbc-header-overflowing"),S.style.marginRight=gR()+"px"):u$e(S,"rbc-header-overflowing")}}},E=l.messages,I=l.add(n,o,"day"),P=l.range(n,I,"day");return a=a.filter(function(A){return aw(A,l.startOf(n,"day"),l.endOf(I,"day"),t,l)}),a.sort(function(A,S){return+t.start(A)-+t.start(S)}),Pe.createElement("div",{className:"rbc-agenda-view"},a.length!==0?Pe.createElement(Pe.Fragment,null,Pe.createElement("table",{ref:h,className:"rbc-agenda-table"},Pe.createElement("thead",null,Pe.createElement("tr",null,Pe.createElement("th",{className:"rbc-header",ref:p},E.date),Pe.createElement("th",{className:"rbc-header",ref:m},E.time),Pe.createElement("th",{className:"rbc-header"},E.event)))),Pe.createElement("div",{className:"rbc-agenda-content",ref:g},Pe.createElement("table",{className:"rbc-agenda-table"},Pe.createElement("tbody",{ref:v},P.map(function(A,S){return y(A,a,S)}))))):Pe.createElement("span",{className:"rbc-agenda-empty"},E.noEventsInRange))}ek.range=function(e,t){var r=t.length,n=r===void 0?ZT:r,a=t.localizer,i=a.add(e,n,"day");return{start:e,end:i}};ek.navigate=function(e,t,r){var n=r.length,a=n===void 0?ZT:n,i=r.localizer;switch(t){case Zo.PREVIOUS:return i.add(e,-a,"day");case Zo.NEXT:return i.add(e,a,"day");default:return e}};ek.title=function(e,t){var r=t.length,n=r===void 0?ZT:r,a=t.localizer,i=a.add(e,n,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var XS=Sp(Sp(Sp(Sp(Sp({},vo.MONTH,QT),vo.WEEK,E0),vo.WORK_WEEK,ub),vo.DAY,JT),vo.AGENDA,ek),ftt=["action","date","today"];function dtt(e,t){var r=t.action,n=t.date,a=t.today,i=df(t,ftt);switch(e=typeof e=="string"?XS[e]:e,r){case Zo.TODAY:n=a||new Date;break;case Zo.DATE:break;default:q2(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,i)}return n}function htt(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&Hr(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var Bf=function(t){return function(r){return htt(r,t)}},ptt=["view","date","getNow","onNavigate"],mtt=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Cie(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=kd(n[r],2),i=a[0],s=a[1];s&&t.push(i)}return t}function gtt(e,t){var r=t.views,n=Cie(r);return n.indexOf(e)!==-1}var Pie=function(e){function t(){var r;$i(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=ro(this,t,[].concat(a)),r.getViews=function(){var s=r.props.views;return Array.isArray(s)?WZe(s,function(o,l){return o[l]=XS[l]},{}):Hr(s)==="object"?WYe(s,function(o,l){return o===!0?XS[l]:o}):XS},r.getView=function(){var s=r.getViews();return s[r.props.view]},r.getDrilldownView=function(s){var o=r.props,l=o.view,c=o.drilldownView,u=o.getDrilldownView;return u?u(s,l,Object.keys(r.getViews())):c},r.handleRangeChange=function(s,o,l){var c=r.props,u=c.onRangeChange,f=c.localizer;u&&o.range&&u(o.range(s,{localizer:f}),l)},r.handleNavigate=function(s,o){var l=r.props,c=l.view,u=l.date,f=l.getNow,h=l.onNavigate,p=df(l,ptt),m=r.getView(),g=f();u=dtt(m,$n($n({},p),{},{action:s,date:o||u||g,today:g})),h(u,c,s),r.handleRangeChange(u,m)},r.handleViewChange=function(s){s!==r.props.view&&gtt(s,r.props)&&r.props.onView(s);var o=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),o[s],s)},r.handleSelectEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];aa(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];aa(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];aa(r.props.onKeyPressEvent,o)},r.handleSelectSlot=function(s){aa(r.props.onSelectSlot,s)},r.handleDrillDown=function(s,o){var l=r.props.onDrillDown;if(l){l(s,o,r.drilldownView);return}o&&r.handleViewChange(o),r.handleNavigate(Zo.DATE,s)},r.state={context:t.getContext(r.props)},r}return no(t,e),Ui(t,[{key:"render",value:function(){var n=this.props,a=n.view,i=n.toolbar,s=n.events,o=n.backgroundEvents,l=n.resourceGroupingLayout,c=n.style,u=n.className,f=n.elementProps,h=n.date,p=n.getNow,m=n.length,g=n.showMultiDayTimes,v=n.onShowMore,y=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var x=df(n,mtt);h=h||p();var w=this.getView(),E=this.state.context,I=E.accessors,P=E.components,A=E.getters,S=E.localizer,k=E.viewNames,O=P.toolbar||yet,T=w.title(h,{localizer:S,length:m});return Pe.createElement("div",Object.assign({},f,{className:Ga(u,"rbc-calendar",x.rtl&&"rbc-rtl"),style:c}),i&&Pe.createElement(O,{date:h,view:a,views:k,label:T,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:S}),Pe.createElement(w,Object.assign({},x,{events:s,backgroundEvents:o,date:h,getNow:p,length:m,localizer:S,getters:A,components:P,accessors:I,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:v,doShowMoreDrillDown:y,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,i=n.endAccessor,s=n.allDayAccessor,o=n.tooltipAccessor,l=n.titleAccessor,c=n.resourceAccessor,u=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,p=n.eventPropGetter,m=n.backgroundEventPropGetter,g=n.slotPropGetter,v=n.slotGroupPropGetter,y=n.dayPropGetter,x=n.view,w=n.views,E=n.localizer,I=n.culture,P=n.messages,A=P===void 0?{}:P,S=n.components,k=S===void 0?{}:S,O=n.formats,T=O===void 0?{}:O,C=Cie(w),D=wet(A);return{viewNames:C,localizer:vet(E,I,T,D),getters:{eventProp:function(){return p&&p.apply(void 0,arguments)||{}},backgroundEventProp:function(){return m&&m.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return v&&v.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:MYe(k[x]||{},IZe(k,C),{eventWrapper:$u,backgroundEventWrapper:$u,eventContainerWrapper:$u,dateCellWrapper:$u,weekWrapper:$u,timeSlotWrapper:$u,timeGutterWrapper:$u,timeIndicatorWrapper:$u}),accessors:{start:Bf(a),end:Bf(i),allDay:Bf(s),tooltip:Bf(o),title:Bf(l),resource:Bf(c),resourceId:Bf(u),resourceTitle:Bf(f),eventId:Bf(h)}}}}])}(Pe.Component);Pie.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:vo.MONTH,views:[vo.MONTH,vo.WEEK,vo.DAY,vo.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:vo.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Iie=nae(Pie,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),vtt=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"P",r)," – ").concat(n.format(i,"P",r))},SC=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"p",r)," – ").concat(n.format(i,"p",r))},ytt=function(t,r,n){var a=t.start;return"".concat(n.format(a,"h:mma",r)," – ")},xtt=function(t,r,n){var a=t.end;return" – ".concat(n.format(a,"h:mma",r))},wtt=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"MMMM dd",r)," – ").concat(n.format(i,I1(a,i,"month")?"dd":"MMMM dd",r))},btt={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:SC,eventTimeRangeFormat:SC,eventTimeRangeStartFormat:ytt,eventTimeRangeEndFormat:xtt,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:wtt,agendaHeaderFormat:vtt,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:SC},Oie=function(t){var r=t.startOfWeek,n=t.getDay,a=t.format,i=t.locales;return new get({formats:btt,firstOfWeek:function(o){return n(r(new Date,{locale:i[o]}))},format:function(o,l,c){return a(new Date(o),l,{locale:i[c]})}})};const Die=6048e5,_tt=864e5,uW=Symbol.for("constructDateFrom");function A0(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&uW in e?e[uW](t):e instanceof Date?new e.constructor(t):new Date(t)}function Oc(e,t){return A0(t||e,e)}let Stt={};function tk(){return Stt}function Nm(e,t){var o,l,c,u;const r=tk(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Oc(e,t==null?void 0:t.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function I5(e,t){return Nm(e,{...t,weekStartsOn:1})}function jie(e,t){const r=Oc(e,t==null?void 0:t.in),n=r.getFullYear(),a=A0(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=I5(a),s=A0(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=I5(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function fW(e){const t=Oc(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ett(e,...t){const r=A0.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function dW(e,t){const r=Oc(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Att(e,t,r){const[n,a]=Ett(r==null?void 0:r.in,e,t),i=dW(n),s=dW(a),o=+i-fW(i),l=+s-fW(s);return Math.round((o-l)/_tt)}function Ttt(e,t){const r=jie(e,t),n=A0(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),I5(n)}function ktt(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ntt(e){return!(!ktt(e)&&typeof e!="number"||isNaN(+Oc(e)))}function Ctt(e,t){const r=Oc(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Ptt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Itt=(e,t,r)=>{let n;const a=Ptt[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function yv(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Ott={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Dtt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},jtt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Rtt={date:yv({formats:Ott,defaultWidth:"full"}),time:yv({formats:Dtt,defaultWidth:"full"}),dateTime:yv({formats:jtt,defaultWidth:"full"})},Ltt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Mtt=(e,t,r,n)=>Ltt[e];function zu(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Ftt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Btt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$tt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Utt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Vtt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ztt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Wtt=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Htt={ordinalNumber:Wtt,era:zu({values:Ftt,defaultWidth:"wide"}),quarter:zu({values:Btt,defaultWidth:"wide",argumentCallback:e=>e-1}),month:zu({values:$tt,defaultWidth:"wide"}),day:zu({values:Utt,defaultWidth:"wide"}),dayPeriod:zu({values:Vtt,defaultWidth:"wide",formattingValues:ztt,defaultFormattingWidth:"wide"})};function Wu(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Gtt(o,f=>f.test(s)):qtt(o,f=>f.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(s.length);return{value:c,rest:u}}}function qtt(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Gtt(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Rie(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(a.length);return{value:s,rest:o}}}const Ktt=/^(\d+)(th|st|nd|rd)?/i,Ytt=/\d+/i,Xtt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qtt={any:[/^b/i,/^(a|c)/i]},Jtt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ztt={any:[/1/i,/2/i,/3/i,/4/i]},ert={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},trt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},rrt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},nrt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},art={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},irt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},srt={ordinalNumber:Rie({matchPattern:Ktt,parsePattern:Ytt,valueCallback:e=>parseInt(e,10)}),era:Wu({matchPatterns:Xtt,defaultMatchWidth:"wide",parsePatterns:Qtt,defaultParseWidth:"any"}),quarter:Wu({matchPatterns:Jtt,defaultMatchWidth:"wide",parsePatterns:Ztt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Wu({matchPatterns:ert,defaultMatchWidth:"wide",parsePatterns:trt,defaultParseWidth:"any"}),day:Wu({matchPatterns:rrt,defaultMatchWidth:"wide",parsePatterns:nrt,defaultParseWidth:"any"}),dayPeriod:Wu({matchPatterns:art,defaultMatchWidth:"any",parsePatterns:irt,defaultParseWidth:"any"})},ort={code:"en-US",formatDistance:Itt,formatLong:Rtt,formatRelative:Mtt,localize:Htt,match:srt,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lrt(e,t){const r=Oc(e,t==null?void 0:t.in);return Att(r,Ctt(r))+1}function crt(e,t){const r=Oc(e,t==null?void 0:t.in),n=+I5(r)-+Ttt(r);return Math.round(n/Die)+1}function Lie(e,t){var u,f,h,p;const r=Oc(e,t==null?void 0:t.in),n=r.getFullYear(),a=tk(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(h=a.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=A0((t==null?void 0:t.in)||e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=Nm(s,t),l=A0((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=Nm(l,t);return+r>=+o?n+1:+r>=+c?n:n-1}function urt(e,t){var o,l,c,u;const r=tk(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,a=Lie(e,t),i=A0((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Nm(i,t)}function frt(e,t){const r=Oc(e,t==null?void 0:t.in),n=+Nm(r,t)-+urt(r,t);return Math.round(n/Die)+1}function An(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const _h={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return An(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):An(r+1,2)},d(e,t){return An(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return An(e.getHours()%12||12,t.length)},H(e,t){return An(e.getHours(),t.length)},m(e,t){return An(e.getMinutes(),t.length)},s(e,t){return An(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return An(a,t.length)}},vg={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},hW={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return _h.y(e,t)},Y:function(e,t,r,n){const a=Lie(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return An(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):An(i,t.length)},R:function(e,t){const r=jie(e);return An(r,t.length)},u:function(e,t){const r=e.getFullYear();return An(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return An(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return An(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return _h.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return An(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=frt(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):An(a,t.length)},I:function(e,t,r){const n=crt(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):An(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):_h.d(e,t)},D:function(e,t,r){const n=lrt(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):An(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return An(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return An(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return An(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=vg.noon:n===0?a=vg.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=vg.evening:n>=12?a=vg.afternoon:n>=4?a=vg.morning:a=vg.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return _h.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):_h.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):An(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):An(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):_h.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):_h.s(e,t)},S:function(e,t){return _h.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return mW(n);case"XXXX":case"XX":return gp(n);case"XXXXX":case"XXX":default:return gp(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return mW(n);case"xxxx":case"xx":return gp(n);case"xxxxx":case"xxx":default:return gp(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+pW(n,":");case"OOOO":default:return"GMT"+gp(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+pW(n,":");case"zzzz":default:return"GMT"+gp(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return An(n,t.length)},T:function(e,t,r){return An(+e,t.length)}};function pW(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+An(i,2)}function mW(e,t){return e%60===0?(e>0?"-":"+")+An(Math.abs(e)/60,2):gp(e,t)}function gp(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=An(Math.trunc(n/60),2),i=An(n%60,2);return r+a+t+i}const gW=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Mie=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},drt=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return gW(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",gW(n,t)).replace("{{time}}",Mie(a,t))},hrt={p:Mie,P:drt},prt=/^D+$/,mrt=/^Y+$/,grt=["D","DD","YY","YYYY"];function vrt(e){return prt.test(e)}function yrt(e){return mrt.test(e)}function xrt(e,t,r){const n=wrt(e,t,r);if(console.warn(n),grt.includes(e))throw new RangeError(n)}function wrt(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const brt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_rt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Srt=/^'([^]*?)'?$/,Ert=/''/g,Art=/[a-zA-Z]/;function Vh(e,t,r){var u,f,h,p,m,g,v,y;const n=tk(),a=(r==null?void 0:r.locale)??n.locale??ort,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,o=Oc(e,r==null?void 0:r.in);if(!Ntt(o))throw new RangeError("Invalid time value");let l=t.match(_rt).map(x=>{const w=x[0];if(w==="p"||w==="P"){const E=hrt[w];return E(x,a.formatLong)}return x}).join("").match(brt).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const w=x[0];if(w==="'")return{isToken:!1,value:Trt(x)};if(hW[w])return{isToken:!0,value:x};if(w.match(Art))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return l.map(x=>{if(!x.isToken)return x.value;const w=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&yrt(w)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&vrt(w))&&xrt(w,t,String(e));const E=hW[w[0]];return E(o,w,a.localize,c)}).join("")}function Trt(e){const t=e.match(Srt);return t?t[1].replace(Ert,"'"):e}function Fie(e,t){return Oc(e,t==null?void 0:t.in).getDay()}const krt={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},Nrt=(e,t,r)=>{let n;const a=krt[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},Crt={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Prt={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Irt={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ort={date:yv({formats:Crt,defaultWidth:"full"}),time:yv({formats:Prt,defaultWidth:"full"}),dateTime:yv({formats:Irt,defaultWidth:"full"})},Drt={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},jrt={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},Rrt=(e,t,r,n)=>t.getHours()!==1?jrt[e]:Drt[e],Lrt={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},Mrt={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},Frt={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Brt={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},$rt={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},Urt={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Vrt=(e,t)=>Number(e)+"º",zrt={ordinalNumber:Vrt,era:zu({values:Lrt,defaultWidth:"wide"}),quarter:zu({values:Mrt,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:zu({values:Frt,defaultWidth:"wide"}),day:zu({values:Brt,defaultWidth:"wide"}),dayPeriod:zu({values:$rt,defaultWidth:"wide",formattingValues:Urt,defaultFormattingWidth:"wide"})},Wrt=/^(\d+)(º)?/i,Hrt=/\d+/i,qrt={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},Grt={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},Krt={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Yrt={any:[/1/i,/2/i,/3/i,/4/i]},Xrt={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Qrt={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Jrt={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},Zrt={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},ent={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},tnt={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},rnt={ordinalNumber:Rie({matchPattern:Wrt,parsePattern:Hrt,valueCallback:function(e){return parseInt(e,10)}}),era:Wu({matchPatterns:qrt,defaultMatchWidth:"wide",parsePatterns:Grt,defaultParseWidth:"any"}),quarter:Wu({matchPatterns:Krt,defaultMatchWidth:"wide",parsePatterns:Yrt,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Wu({matchPatterns:Xrt,defaultMatchWidth:"wide",parsePatterns:Qrt,defaultParseWidth:"any"}),day:Wu({matchPatterns:Jrt,defaultMatchWidth:"wide",parsePatterns:Zrt,defaultParseWidth:"any"}),dayPeriod:Wu({matchPatterns:ent,defaultMatchWidth:"any",parsePatterns:tnt,defaultParseWidth:"any"})},xv={code:"es",formatDistance:Nrt,formatLong:Ort,formatRelative:Rrt,localize:zrt,match:rnt,options:{weekStartsOn:1,firstWeekContainsDate:1}},nnt={es:xv},ant=Oie({format:Vh,startOfWeek:Nm,getDay:Fie,locales:nnt}),int={allDay:"Todo el día",previous:"Anterior",next:"Siguiente",today:"Hoy",month:"Mes",week:"Semana",day:"Día",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango",showMore:e=>`+ Ver más (${e})`},snt=()=>{const{user:e}=$l(),{calendarEvents:t,isLoading:r,error:n,initializeSubscription:a,clearStore:i,getContactsByDate:s,dailyContacts:o,selectedDate:l,getStats:c}=ete(),[u,f]=j.useState(new Date),[h,p]=j.useState("month"),[m,g]=j.useState(!1);j.useEffect(()=>(e!=null&&e.uid&&(console.log("📅 Inicializando calendario para usuario:",e.email),a(e.uid)),()=>{i()}),[e==null?void 0:e.uid,a,i]);const v=j.useMemo(()=>c(),[t,c]),y=P=>{var A;return{style:{backgroundColor:((A=P.resource)==null?void 0:A.color)||"#3B82F6",border:"none",borderRadius:"6px",color:"white",fontSize:"12px",fontWeight:"500",padding:"2px 6px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"}}},x=({start:P})=>{s(P).length>0&&g(!0)},w=P=>{s(P.start),g(!0)},E=()=>d.jsx(Rl,{children:m&&d.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>g(!1),children:d.jsxs(rt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-96 overflow-y-auto",onClick:P=>P.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[d.jsx(Js,{className:"h-5 w-5 mr-2 text-blue-600"}),l&&Vh(l,"dd 'de' MMMM 'de' yyyy",{locale:xv})]}),d.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(rm,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-sm text-gray-600",children:[o.length," contacto",o.length!==1?"s":""," realizado",o.length!==1?"s":""," este día"]}),o.map((P,A)=>{var S,k,O,T;return d.jsxs(rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:A*.05},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ss,{className:"h-4 w-4 text-gray-500 mr-2"}),d.jsx("span",{className:"font-medium text-gray-900",children:P.beneficiarioNombre||"Sin nombre"})]}),d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${(S=P.resultado)!=null&&S.toLowerCase().includes("exitoso")?"bg-green-100 text-green-800":(k=P.resultado)!=null&&k.toLowerCase().includes("sin respuesta")?"bg-yellow-100 text-yellow-800":(O=P.resultado)!=null&&O.toLowerCase().includes("ocupado")?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:P.resultado||"Sin resultado"})]}),d.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[P.telefono&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ha,{className:"h-3 w-3 mr-2"}),P.telefono]}),P.fechaContacto&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(ws,{className:"h-3 w-3 mr-2"}),(T=P.fechaContacto)!=null&&T.toDate?Vh(P.fechaContacto.toDate(),"HH:mm"):"Hora no disponible"]}),P.observaciones&&d.jsxs("div",{className:"flex items-start",children:[d.jsx(Aw,{className:"h-3 w-3 mr-2 mt-0.5"}),d.jsx("span",{className:"text-xs",children:P.observaciones})]})]})]},P.id)})]})]})})}),I=()=>d.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(fc,{className:"h-5 w-5 mr-2 text-blue-600"}),"Estadísticas del Mes"]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v.totalContactos}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Contactos"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:v.exitosos}),d.jsx("div",{className:"text-sm text-gray-600",children:"Exitosos"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:v.sinRespuesta}),d.jsx("div",{className:"text-sm text-gray-600",children:"Sin Respuesta"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[v.tasaExito,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Tasa de Éxito"})]})]})]});return r?d.jsxs("div",{className:"flex items-center justify-center h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando calendario..."})]}):n?d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(_i,{className:"h-5 w-5 text-red-500 mr-2"}),d.jsxs("span",{className:"text-red-700",children:["Error cargando el calendario: ",n]})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs(rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[d.jsx(Js,{className:"h-6 w-6 mr-2 text-blue-600"}),"Ver Calendario"]}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Historial completo de contactos realizados"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(am,{className:"h-5 w-5 text-green-500"}),d.jsxs("span",{className:"text-sm text-gray-600",children:[t.length," evento",t.length!==1?"s":""," registrado",t.length!==1?"s":""]})]})]}),d.jsx(I,{}),d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-md",children:d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"h-96 md:h-[600px]",children:d.jsx(Iie,{localizer:ant,events:t,startAccessor:"start",endAccessor:"end",style:{height:"100%"},culture:"es",messages:int,eventPropGetter:y,onSelectSlot:x,onSelectEvent:w,selectable:!0,view:h,onView:p,date:u,onNavigate:f,views:["month","week","day"],step:60,showMultiDayTimes:!1,popup:!0,popupOffset:30,className:"rbc-calendar"})})})}),d.jsx(E,{}),d.jsx("style",{children:`
        .rbc-calendar {
          font-family: inherit;
        }

        .rbc-header {
          padding: 12px 8px;
          font-weight: 600;
          color: #374151;
          background-color: #f9fafb;
          border-bottom: 1px solid #e5e7eb;
        }

        .rbc-month-view {
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          overflow: hidden;
        }

        .rbc-date-cell {
          padding: 8px;
        }

        .rbc-date-cell > a {
          color: #374151;
          font-weight: 500;
        }

        .rbc-off-range {
          color: #9ca3af;
        }

        .rbc-today {
          background-color: #eff6ff;
        }

        .rbc-event {
          border-radius: 6px;
          padding: 2px 6px;
          margin: 1px;
          font-size: 12px;
          cursor: pointer;
        }

        .rbc-event:hover {
          opacity: 0.8;
        }

        .rbc-slot-selection {
          background-color: rgba(59, 130, 246, 0.1);
        }

        .rbc-toolbar {
          margin-bottom: 20px;
          padding: 16px 0;
          border-bottom: 1px solid #e5e7eb;
        }

        .rbc-toolbar button {
          padding: 8px 16px;
          border: 1px solid #d1d5db;
          background-color: white;
          color: #374151;
          border-radius: 6px;
          font-weight: 500;
          transition: all 0.2s;
        }

        .rbc-toolbar button:hover {
          background-color: #f3f4f6;
          border-color: #9ca3af;
        }

        .rbc-toolbar button.rbc-active {
          background-color: #3b82f6;
          color: white;
          border-color: #3b82f6;
        }

        .rbc-toolbar-label {
          font-size: 18px;
          font-weight: 600;
          color: #111827;
        }
      `})]})},Tn={RECORDATORIO_MEDICAMENTOS:"recordatorio_medicamentos",TOMA_HORA_CESFAM:"toma_hora_cesfam",GESTION_MUNICIPAL:"gestion_municipal",SEGUIMIENTO_TRAS_EMERGENCIAS:"seguimiento_tras_emergencias"},Bie={[Tn.RECORDATORIO_MEDICAMENTOS]:"Recordatorio de Medicamentos",[Tn.TOMA_HORA_CESFAM]:"Toma de hora en Cesfam/Hospital",[Tn.GESTION_MUNICIPAL]:"Gestión Municipal",[Tn.SEGUIMIENTO_TRAS_EMERGENCIAS]:"Seguimiento Tras Emergencias"},Wf={UNICO:"unico",DIARIO:"diario",SEMANAL:"semanal",MENSUAL:"mensual",PERMANENTE:"permanente"},RI={[Wf.UNICO]:"Evento único",[Wf.DIARIO]:"Todos los días",[Wf.SEMANAL]:"Todas las semanas",[Wf.MENSUAL]:"Todos los meses",[Wf.PERMANENTE]:"Permanente"},$ie=({gestion:e,isOpen:t,onClose:r})=>{const{updateGestion:n,deleteGestion:a}=E1(),{user:i}=$l(),[s,o]=j.useState(!1),[l,c]=j.useState({}),[u,f]=j.useState(!1),[h,p]=j.useState(""),[m,g]=j.useState(!1);j.useEffect(()=>{e&&t&&(c({titulo:e.titulo||"",descripcion:e.descripcion||"",tipo:e.tipo||Tn.GESTION_MUNICIPAL,fechaVencimiento:e.fechaVencimiento?Vh(e.fechaVencimiento,"yyyy-MM-dd'T'HH:mm"):"",prioridad:e.prioridad||"media",categoria:e.categoria||"general",medicamentos:e.medicamentos||"",horaMedicamento:e.horaMedicamento||"",recurrencia:e.recurrencia||Wf.UNICO,centroSalud:e.centroSalud||"",especialidad:e.especialidad||"",tipoGestionMunicipal:e.tipoGestionMunicipal||"",departamento:e.departamento||"",contactoCarabineros:e.contactoCarabineros||!1,contactoBomberos:e.contactoBomberos||!1,contactoAmbulancia:e.contactoAmbulancia||!1,contactoOtros:e.contactoOtros||!1,detalleOtros:e.detalleOtros||"",tipoEmergencia:e.tipoEmergencia||"",tipificacionSeguimiento:e.tipificacionSeguimiento||"",observacionesEmergencia:e.observacionesEmergencia||""}),o(!1),p(""))},[e,t]);const v=(A,S)=>{c(k=>({...k,[A]:S}))},y=async()=>{try{f(!0),p("");const A={...l,fechaVencimiento:l.fechaVencimiento?new Date(l.fechaVencimiento):null,ultimaModificacion:new Date,modificadoPor:i.uid,modificadoPorNombre:i.displayName||i.email,historialModificaciones:[...e.historialModificaciones||[],{fecha:new Date,usuario:i.uid,usuarioNombre:i.displayName||i.email,cambios:E(e,l)}]};await n(e.id,A),o(!1)}catch(A){console.error("Error actualizando gestión:",A),p("Error al guardar los cambios")}finally{f(!1)}},x=()=>(e==null?void 0:e.creadorId)===(i==null?void 0:i.uid)||(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="super_admin",w=async()=>{try{f(!0),p(""),await a(e.id),console.log("✅ Gestión eliminada exitosamente"),g(!1),r()}catch(A){console.error("❌ Error eliminando gestión:",A),p("Error al eliminar la gestión"),g(!1)}finally{f(!1)}},E=(A,S)=>{const k=[];return Object.keys(S).forEach(O=>{A[O]!==S[O]&&k.push({campo:O,valorAnterior:A[O],valorNuevo:S[O]})}),k},I=()=>{switch(l.tipo){case Tn.RECORDATORIO_MEDICAMENTOS:return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(G3,{className:"h-4 w-4 inline mr-1"}),"Medicamentos a recordar *"]}),s?d.jsx("textarea",{value:l.medicamentos,onChange:A=>v("medicamentos",A.target.value),placeholder:"Ej: Losartán 50mg - 1 comprimido, Metformina 850mg - 2 comprimidos",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.medicamentos})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(ws,{className:"h-4 w-4 inline mr-1"}),"Hora del recordatorio *"]}),s?d.jsx("input",{type:"time",value:l.horaMedicamento,onChange:A=>v("horaMedicamento",A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.horaMedicamento})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(PY,{className:"h-4 w-4 inline mr-1"}),"Frecuencia del recordatorio *"]}),s?d.jsx("select",{value:l.recurrencia,onChange:A=>v("recurrencia",A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:Object.entries(RI).map(([A,S])=>d.jsx("option",{value:A,children:S},A))}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:RI[l.recurrencia]})]})]});case Tn.TOMA_HORA_CESFAM:return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(TS,{className:"h-4 w-4 inline mr-1"}),"Centro de Salud (CESFAM/Hospital) *"]}),s?d.jsx("input",{type:"text",value:l.centroSalud,onChange:A=>v("centroSalud",A.target.value),placeholder:"Ej: CESFAM Dr. Juan Sebastián Bach",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.centroSalud})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Ss,{className:"h-4 w-4 inline mr-1"}),"Especialidad o tipo de atención"]}),s?d.jsx("input",{type:"text",value:l.especialidad,onChange:A=>v("especialidad",A.target.value),placeholder:"Ej: Medicina general, Cardiología, Exámenes",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.especialidad||"No especificado"})]})]});case Tn.GESTION_MUNICIPAL:return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(V3,{className:"h-4 w-4 inline mr-1"}),"Tipo de gestión municipal *"]}),s?d.jsx("input",{type:"text",value:l.tipoGestionMunicipal,onChange:A=>v("tipoGestionMunicipal",A.target.value),placeholder:"Ej: Solicitud de certificado, Permiso de circulación, Subsidios",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.tipoGestionMunicipal})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(TS,{className:"h-4 w-4 inline mr-1"}),"Departamento o área municipal"]}),s?d.jsx("input",{type:"text",value:l.departamento,onChange:A=>v("departamento",A.target.value),placeholder:"Ej: Oficina de partes, DIDECO, Dirección de tránsito",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.departamento||"No especificado"})]})]});case Tn.SEGUIMIENTO_TRAS_EMERGENCIAS:return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(_i,{className:"h-4 w-4 inline mr-1"}),"Tipo de emergencia *"]}),s?d.jsxs("select",{value:l.tipoEmergencia,onChange:A=>v("tipoEmergencia",A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:"Seleccione el tipo de emergencia"}),d.jsx("option",{value:"medica",children:"Emergencia Médica"}),d.jsx("option",{value:"caida",children:"Caída"}),d.jsx("option",{value:"incendio",children:"Incendio"}),d.jsx("option",{value:"robo",children:"Robo/Asalto"}),d.jsx("option",{value:"accidente",children:"Accidente"}),d.jsx("option",{value:"otra",children:"Otra"})]}):d.jsxs("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:[l.tipoEmergencia==="medica"&&"Emergencia Médica",l.tipoEmergencia==="caida"&&"Caída",l.tipoEmergencia==="incendio"&&"Incendio",l.tipoEmergencia==="robo"&&"Robo/Asalto",l.tipoEmergencia==="accidente"&&"Accidente",l.tipoEmergencia==="otra"&&"Otra",!l.tipoEmergencia&&"No especificado"]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Se contactó con:"}),s?d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoCarabineros",checked:l.contactoCarabineros,onChange:A=>v("contactoCarabineros",A.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoCarabineros",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(Pv,{className:"h-4 w-4 mr-1 text-blue-600"}),"Carabineros"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoBomberos",checked:l.contactoBomberos,onChange:A=>v("contactoBomberos",A.target.checked),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoBomberos",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(K3,{className:"h-4 w-4 mr-1 text-red-600"}),"Bomberos"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoAmbulancia",checked:l.contactoAmbulancia,onChange:A=>v("contactoAmbulancia",A.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoAmbulancia",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(z3,{className:"h-4 w-4 mr-1 text-green-600"}),"Ambulancia/SAMU"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoOtros",checked:l.contactoOtros,onChange:A=>v("contactoOtros",A.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoOtros",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(Ha,{className:"h-4 w-4 mr-1 text-purple-600"}),"Otros"]})]})]}):d.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:d.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.contactoCarabineros&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[d.jsx(Pv,{className:"h-3 w-3 mr-1"}),"Carabineros"]}),l.contactoBomberos&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[d.jsx(K3,{className:"h-3 w-3 mr-1"}),"Bomberos"]}),l.contactoAmbulancia&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[d.jsx(z3,{className:"h-3 w-3 mr-1"}),"Ambulancia/SAMU"]}),l.contactoOtros&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[d.jsx(Ha,{className:"h-3 w-3 mr-1"}),"Otros"]}),!l.contactoCarabineros&&!l.contactoBomberos&&!l.contactoAmbulancia&&!l.contactoOtros&&d.jsx("span",{className:"text-gray-500",children:"No se especificaron contactos"})]})})]}),l.contactoOtros&&(s||l.detalleOtros)&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Otros servicios contactados"}),s?d.jsx("input",{type:"text",value:l.detalleOtros,onChange:A=>v("detalleOtros",A.target.value),placeholder:"Ej: Familiares, Vecinos, Empresa de seguridad",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.detalleOtros})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(ws,{className:"h-4 w-4 inline mr-1"}),"Tipificación del seguimiento *"]}),s?d.jsxs("select",{value:l.tipificacionSeguimiento,onChange:A=>v("tipificacionSeguimiento",A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:"Seleccione la tipificación"}),d.jsx("option",{value:"seguimiento_inmediato",children:"Seguimiento Inmediato (24hrs)"}),d.jsx("option",{value:"seguimiento_corto",children:"Seguimiento Corto Plazo (72hrs)"}),d.jsx("option",{value:"seguimiento_semanal",children:"Seguimiento Semanal"}),d.jsx("option",{value:"seguimiento_quincenal",children:"Seguimiento Quincenal"}),d.jsx("option",{value:"seguimiento_mensual",children:"Seguimiento Mensual"}),d.jsx("option",{value:"no_requiere",children:"No Requiere Seguimiento"})]}):d.jsxs("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:[l.tipificacionSeguimiento==="seguimiento_inmediato"&&"Seguimiento Inmediato (24hrs)",l.tipificacionSeguimiento==="seguimiento_corto"&&"Seguimiento Corto Plazo (72hrs)",l.tipificacionSeguimiento==="seguimiento_semanal"&&"Seguimiento Semanal",l.tipificacionSeguimiento==="seguimiento_quincenal"&&"Seguimiento Quincenal",l.tipificacionSeguimiento==="seguimiento_mensual"&&"Seguimiento Mensual",l.tipificacionSeguimiento==="no_requiere"&&"No Requiere Seguimiento",!l.tipificacionSeguimiento&&"No especificado"]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(u2,{className:"h-4 w-4 inline mr-1"}),"Observaciones adicionales de la emergencia"]}),s?d.jsx("textarea",{value:l.observacionesEmergencia,onChange:A=>v("observacionesEmergencia",A.target.value),placeholder:"Detalles adicionales sobre la emergencia y el seguimiento realizado...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.observacionesEmergencia||"No hay observaciones adicionales"})]})]});default:return null}};if(!e||!t)return null;const P=()=>d.jsx(Rl,{children:m&&d.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60]",onClick:()=>g(!1),children:d.jsxs(rt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",onClick:A=>A.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"p-3 bg-red-100 rounded-full mr-4",children:d.jsx(Qu,{className:"h-6 w-6 text-red-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Eliminar Gestión"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Esta acción no se puede deshacer"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("p",{className:"text-gray-700",children:["¿Estás seguro de que deseas eliminar la gestión ",d.jsxs("strong",{children:['"',e.titulo,'"']}),"?"]}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Toda la información asociada se perderá permanentemente."})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[d.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:u,children:"Cancelar"}),d.jsxs("button",{onClick:w,disabled:u,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[u?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(Qu,{className:"h-4 w-4 mr-2"}),"Eliminar"]})]})]})})});return d.jsx(Rl,{children:d.jsxs(rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:r,children:[d.jsxs(rt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:A=>A.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${e.tipo===Tn.RECORDATORIO_MEDICAMENTOS?"bg-green-100 text-green-600":e.tipo===Tn.TOMA_HORA_CESFAM?"bg-blue-100 text-blue-600":"bg-purple-100 text-purple-600"}`,children:e.tipo===Tn.RECORDATORIO_MEDICAMENTOS?d.jsx(G3,{className:"h-5 w-5"}):e.tipo===Tn.TOMA_HORA_CESFAM?d.jsx(TS,{className:"h-5 w-5"}):d.jsx(V3,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s?"Editando Gestión":"Detalles de Gestión"}),d.jsx("p",{className:"text-sm text-gray-500",children:Bie[e.tipo||Tn.GESTION_MUNICIPAL]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[!s&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>o(!0),className:"flex items-center px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[d.jsx(cpe,{className:"h-4 w-4 mr-1"}),"Editar"]}),x()&&d.jsxs("button",{onClick:()=>g(!0),className:"flex items-center px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[d.jsx(Qu,{className:"h-4 w-4 mr-1"}),"Eliminar"]})]}),d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(rm,{className:"h-6 w-6"})})]})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[h&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[d.jsx(_i,{className:"h-5 w-5 text-red-500 mr-2"}),d.jsx("span",{className:"text-red-700",children:h})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título *"}),s?d.jsx("input",{type:"text",value:l.titulo,onChange:A=>v("titulo",A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):d.jsx("p",{className:"text-gray-900 font-medium",children:e.titulo})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Js,{className:"h-4 w-4 inline mr-1"}),"Fecha y hora"]}),s?d.jsx("input",{type:"datetime-local",value:l.fechaVencimiento,onChange:A=>v("fechaVencimiento",A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):d.jsx("p",{className:"text-gray-900",children:e.fechaVencimiento?Vh(e.fechaVencimiento,"dd 'de' MMMM 'de' yyyy 'a las' HH:mm",{locale:xv}):"No especificada"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(u2,{className:"h-4 w-4 inline mr-1"}),"Descripción"]}),s?d.jsx("textarea",{value:l.descripcion,onChange:A=>v("descripcion",A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:e.descripcion})]}),d.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[d.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Información específica"}),I()]}),d.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[d.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Información de seguimiento"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Creado por:"})," ",e.creadorNombre]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Fecha de creación:"})," "," ",Vh(e.createdAt,"dd/MM/yyyy HH:mm",{locale:xv})]}),e.modificadoPorNombre&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Última modificación:"})," ",e.modificadoPorNombre]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Fecha de modificación:"})," "," ",e.ultimaModificacion&&Vh(e.ultimaModificacion,"dd/MM/yyyy HH:mm",{locale:xv})]})]})]})]})]}),s&&d.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[d.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:u,children:"Cancelar"}),d.jsxs("button",{onClick:y,disabled:u,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[u?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(Tw,{className:"h-4 w-4 mr-2"}),"Guardar cambios"]})]})]}),d.jsx(P,{})]})})},ont={es:xv},lnt=Oie({format:Vh,startOfWeek:Nm,getDay:Fie,locales:ont}),cnt={allDay:"Todo el día",previous:"Anterior",next:"Siguiente",today:"Hoy",month:"Mes",week:"Semana",day:"Día",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay gestiones en este rango",showMore:e=>`+ Ver más (${e})`},unt=({onSelectGestion:e,onSelectDate:t})=>{const{gestiones:r,calendarEvents:n,isLoading:a,error:i,getGestionesByDate:s,getGestionesStats:o}=E1(),[l,c]=j.useState(new Date),[u,f]=j.useState("month"),[h,p]=j.useState(!1),[m,g]=j.useState("todos"),[v,y]=j.useState(null),[x,w]=j.useState(!1),E=j.useMemo(()=>o(),[n,o]),I=j.useMemo(()=>m==="todos"?n:n.filter(T=>T.resource.estado===m),[n,m]),P=T=>{var D,B;return{style:{backgroundColor:((D=T.resource)==null?void 0:D.color)||Th[Br.ABIERTO],border:"none",borderRadius:"6px",color:"white",fontSize:"11px",fontWeight:"500",padding:"2px 6px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",opacity:((B=T.resource)==null?void 0:B.estado)===Br.FINALIZADO?.7:1}}},A=({start:T})=>{const C=s(T);t&&t(T,C)},S=T=>{console.log("🔍 Click en evento del calendario:",T),console.log("📋 Gestiones disponibles:",(r==null?void 0:r.length)||0),console.log("🆔 Buscando gestión con ID:",T.id);const C=r==null?void 0:r.find(D=>D.id===T.id);C?(console.log("✅ Gestión encontrada:",C.titulo),y(C),w(!0)):(console.error("❌ No se encontró la gestión con ID:",T.id),console.log("📋 IDs disponibles:",(r==null?void 0:r.map(D=>D.id))||[]))},k=()=>d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ew,{className:"h-4 w-4 text-gray-500"}),d.jsxs("select",{value:m,onChange:T=>g(T.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"todos",children:"Todos los estados"}),d.jsx("option",{value:Br.ABIERTO,children:"Abiertas"}),d.jsx("option",{value:Br.PENDIENTE,children:"Pendientes"}),d.jsx("option",{value:Br.EN_CURSO,children:"En Curso"}),d.jsx("option",{value:Br.FINALIZADO,children:"Finalizadas"})]})]}),d.jsxs("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-3 py-1 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[d.jsx(am,{className:"h-4 w-4"}),"Ver Estadísticas"]})]}),O=()=>d.jsx(Rl,{children:h&&d.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>p(!1),children:d.jsxs(rt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",onClick:T=>T.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Estadísticas de Gestiones"}),d.jsx("button",{onClick:()=>p(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(rm,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:E.total}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[E.porcentajeResolucion,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Resueltas"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Th[Br.ABIERTO]}}),d.jsx("span",{className:"text-sm",children:"Abiertas"})]}),d.jsx("span",{className:"font-semibold",children:E.abiertas})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Th[Br.PENDIENTE]}}),d.jsx("span",{className:"text-sm",children:"Pendientes"})]}),d.jsx("span",{className:"font-semibold",children:E.pendientes})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Th[Br.EN_CURSO]}}),d.jsx("span",{className:"text-sm",children:"En Curso"})]}),d.jsx("span",{className:"font-semibold",children:E.enCurso})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Th[Br.FINALIZADO]}}),d.jsx("span",{className:"text-sm",children:"Finalizadas"})]}),d.jsx("span",{className:"font-semibold",children:E.finalizadas})]})]})]})]})})});return a?d.jsxs("div",{className:"flex items-center justify-center h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando calendario..."})]}):i?d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(_i,{className:"h-5 w-5 text-red-500 mr-2"}),d.jsxs("span",{className:"text-red-700",children:["Error cargando las gestiones: ",i]})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs(rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[d.jsx(Js,{className:"h-5 w-5 mr-2 text-blue-600"}),"Calendario de Gestiones Compartidas"]}),d.jsxs("p",{className:"text-gray-600 mt-1",children:[I.length," gestión",I.length!==1?"es":"",m!=="todos"&&` (${m})`]})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Resolución:"}),d.jsxs("span",{className:"font-semibold text-green-600",children:[E.porcentajeResolucion,"%"]})]})]}),d.jsx(k,{}),d.jsxs(rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-wrap gap-4 p-4 bg-gray-50 rounded-lg",children:[d.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Estados:"}),Object.entries(Th).map(([T,C])=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:C}}),d.jsx("span",{className:"text-sm text-gray-700 capitalize",children:T.replace("_"," ")})]},T))]}),d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-md",children:d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"h-96 md:h-[600px]",children:d.jsx(Iie,{localizer:lnt,events:I,startAccessor:"start",endAccessor:"end",style:{height:"100%"},culture:"es",messages:cnt,eventPropGetter:P,onSelectSlot:A,onSelectEvent:S,selectable:!0,view:u,onView:f,date:l,onNavigate:c,views:["month","week","day"],step:60,showMultiDayTimes:!1,popup:!0,popupOffset:30,className:"rbc-calendar-gestiones"})})})}),d.jsx(O,{}),d.jsx($ie,{gestion:v,isOpen:x,onClose:()=>{w(!1),y(null)}}),d.jsx("style",{children:`
        .rbc-calendar-gestiones .rbc-event {
          font-size: 11px;
          line-height: 1.2;
        }
        
        .rbc-calendar-gestiones .rbc-event:hover {
          transform: translateY(-1px);
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }
        
        .rbc-calendar-gestiones .rbc-today {
          background-color: #f0f9ff;
        }
      `})]})},fnt=({onEditGestion:e,onCompleteGestion:t,onViewGestion:r,selectedDate:n=null})=>{const{user:a}=$l(),{gestiones:i,isLoading:s,searchGestiones:o,getGestionesByEstado:l,markGestionEnCurso:c,deleteGestion:u}=E1(),[f,h]=j.useState(""),[p,m]=j.useState("todos"),[g,v]=j.useState("fecha"),[y,x]=j.useState("desc"),w=j.useMemo(()=>{let O=i;if(n){const T=new Date(n);T.setHours(0,0,0,0);const C=new Date(n);C.setHours(23,59,59,999),O=O.filter(D=>{const B=D.fechaVencimiento||D.createdAt;return B>=T&&B<=C})}return f.trim()&&(O=o(f)),p!=="todos"&&(O=O.filter(T=>T.estado===p)),O.sort((T,C)=>{let D,B;switch(g){case"fecha":D=T.createdAt,B=C.createdAt;break;case"estado":D=T.estado,B=C.estado;break;case"creador":D=T.creadorNombre.toLowerCase(),B=C.creadorNombre.toLowerCase();break;default:D=T.createdAt,B=C.createdAt}return y==="asc"?D>B?1:-1:D<B?1:-1}),O},[i,f,p,g,y,n,o]),E=O=>{const C=new Date-O,D=Math.floor(C/(1e3*60*60*24));return D===0?"Hoy":D===1?"Ayer":D<7?`Hace ${D} días`:D<30?`Hace ${Math.floor(D/7)} semanas`:O.toLocaleDateString("es-CL")},I=O=>{const T={[Br.ABIERTO]:"bg-blue-100 text-blue-800",[Br.PENDIENTE]:"bg-yellow-100 text-yellow-800",[Br.EN_CURSO]:"bg-purple-100 text-purple-800",[Br.FINALIZADO]:"bg-green-100 text-green-800"};return T[O]||T[Br.ABIERTO]},P=O=>{var T;return(a==null?void 0:a.uid)===O.creadorId||(a==null?void 0:a.role)==="admin"||((T=a==null?void 0:a.email)==null?void 0:T.includes("admin"))},A=async O=>{try{await c(O,a.uid)}catch(T){console.error("Error marcando gestión en curso:",T)}},S=async O=>{if(window.confirm("¿Estás seguro de que quieres eliminar esta gestión?"))try{await u(O)}catch(T){console.error("Error eliminando gestión:",T)}},k=({gestion:O,index:T})=>d.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:T*.05},className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:O.titulo}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${I(O.estado)}`,children:O.estado.replace("_"," ").toUpperCase()}),O.prioridad&&d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${O.prioridad==="alta"?"bg-red-100 text-red-800":O.prioridad==="media"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:O.prioridad.toUpperCase()})]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>r&&r(O),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Ver detalles",children:d.jsx(A6,{className:"h-4 w-4"})}),O.estado!==Br.FINALIZADO&&d.jsxs(d.Fragment,{children:[O.estado===Br.ABIERTO&&d.jsx("button",{onClick:()=>A(O.id),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",title:"Marcar en curso",children:d.jsx(ppe,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>t&&t(O),className:"p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Completar gestión",children:d.jsx(wa,{className:"h-4 w-4"})})]}),P(O)&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>e&&e(O),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Editar",children:d.jsx(T6,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>S(O.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Eliminar",children:d.jsx(Qu,{className:"h-4 w-4"})})]})]})]}),O.descripcion&&d.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:O.descripcion}),d.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ss,{className:"h-3 w-3"}),d.jsx("span",{children:O.creadorNombre})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ws,{className:"h-3 w-3"}),d.jsx("span",{children:E(O.createdAt)})]})]}),O.fechaVencimiento&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Js,{className:"h-3 w-3"}),d.jsxs("span",{children:["Vence: ",O.fechaVencimiento.toLocaleDateString("es-CL")]})]})]}),O.estado===Br.FINALIZADO&&O.finalizadaNombre&&d.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[d.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[d.jsx(wa,{className:"h-3 w-3"}),d.jsxs("span",{children:["Finalizada por ",O.finalizadaNombre]})]}),O.solucion&&d.jsxs("p",{className:"text-xs text-gray-600 mt-1 italic",children:['"',O.solucion,'"']})]})]});return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Listado de Gestiones",n&&d.jsxs("span",{className:"text-sm font-normal text-gray-600 ml-2",children:["- ",n.toLocaleDateString("es-CL")]})]}),d.jsxs("p",{className:"text-sm text-gray-600",children:[w.length," gestión",w.length!==1?"es":""," encontrada",w.length!==1?"s":""]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar por título, descripción o creador...",value:f,onChange:O=>h(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("select",{value:p,onChange:O=>m(O.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"todos",children:"Todos los estados"}),d.jsx("option",{value:Br.ABIERTO,children:"Abiertas"}),d.jsx("option",{value:Br.PENDIENTE,children:"Pendientes"}),d.jsx("option",{value:Br.EN_CURSO,children:"En Curso"}),d.jsx("option",{value:Br.FINALIZADO,children:"Finalizadas"})]}),d.jsxs("select",{value:`${g}-${y}`,onChange:O=>{const[T,C]=O.target.value.split("-");v(T),x(C)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"fecha-desc",children:"Más recientes"}),d.jsx("option",{value:"fecha-asc",children:"Más antiguas"}),d.jsx("option",{value:"estado-asc",children:"Por estado"}),d.jsx("option",{value:"creador-asc",children:"Por creador"})]})]})]}),d.jsx("div",{className:"space-y-3",children:s?d.jsxs("div",{className:"flex items-center justify-center py-8",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando gestiones..."})]}):w.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Aw,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:f||p!=="todos"?"No se encontraron gestiones con los filtros aplicados":"No hay gestiones registradas"})]}):w.map((O,T)=>d.jsx(k,{gestion:O,index:T},O.id))})]})},dnt=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=$l(),{addGestion:a,isLoading:i}=E1(),[s,o]=j.useState({titulo:"",descripcion:"",tipo:Tn.GESTION_MUNICIPAL,fechaVencimiento:"",prioridad:"media",categoria:"general",medicamentos:"",horaMedicamento:"",recurrencia:Wf.UNICO,centroSalud:"",especialidad:"",tipoGestionMunicipal:"",departamento:"",contactoCarabineros:!1,contactoBomberos:!1,contactoAmbulancia:!1,contactoOtros:!1,detalleOtros:"",tipoEmergencia:"",tipificacionSeguimiento:"",observacionesEmergencia:""}),[l,c]=j.useState({}),[u,f]=j.useState(!1),h=()=>new Date().toISOString().split("T")[0],p=()=>{const E={};switch(s.titulo.trim()?s.titulo.length<3?E.titulo="El título debe tener al menos 3 caracteres":s.titulo.length>100&&(E.titulo="El título no puede exceder 100 caracteres"):E.titulo="El título es obligatorio",s.descripcion.trim()?s.descripcion.length<10?E.descripcion="La descripción debe tener al menos 10 caracteres":s.descripcion.length>500&&(E.descripcion="La descripción no puede exceder 500 caracteres"):E.descripcion="La descripción es obligatoria",s.tipo){case Tn.RECORDATORIO_MEDICAMENTOS:s.medicamentos.trim()||(E.medicamentos="Debe especificar los medicamentos"),s.horaMedicamento||(E.horaMedicamento="Debe especificar la hora del recordatorio");break;case Tn.TOMA_HORA_CESFAM:s.centroSalud.trim()||(E.centroSalud="Debe especificar el centro de salud");break;case Tn.GESTION_MUNICIPAL:s.tipoGestionMunicipal.trim()||(E.tipoGestionMunicipal="Debe especificar el tipo de gestión municipal");break;case Tn.SEGUIMIENTO_TRAS_EMERGENCIAS:s.tipoEmergencia.trim()||(E.tipoEmergencia="Debe especificar el tipo de emergencia"),s.tipificacionSeguimiento.trim()||(E.tipificacionSeguimiento="Debe especificar la tipificación del seguimiento"),!s.contactoCarabineros&&!s.contactoBomberos&&!s.contactoAmbulancia&&!s.contactoOtros&&(E.contactos="Debe seleccionar al menos un tipo de contacto con servicios de emergencia"),s.contactoOtros&&!s.detalleOtros.trim()&&(E.detalleOtros="Debe especificar qué otros servicios se contactaron");break}if(s.fechaVencimiento){const I=new Date(s.fechaVencimiento),P=new Date;P.setHours(0,0,0,0),I<P&&(E.fechaVencimiento="La fecha de vencimiento no puede ser anterior a hoy")}return c(E),Object.keys(E).length===0},m=E=>{const{name:I,value:P,type:A,checked:S}=E.target;o(k=>({...k,[I]:A==="checkbox"?S:P})),l[I]&&c(k=>({...k,[I]:""}))},g=async E=>{if(E.preventDefault(),!!p()){f(!0);try{const I={titulo:s.titulo.trim(),descripcion:s.descripcion.trim(),tipo:s.tipo,prioridad:s.prioridad,categoria:s.categoria,fechaVencimiento:s.fechaVencimiento?new Date(s.fechaVencimiento):null,...s.tipo===Tn.RECORDATORIO_MEDICAMENTOS&&{medicamentos:s.medicamentos.trim(),horaMedicamento:s.horaMedicamento,recurrencia:s.recurrencia},...s.tipo===Tn.TOMA_HORA_CESFAM&&{centroSalud:s.centroSalud.trim(),especialidad:s.especialidad.trim()},...s.tipo===Tn.GESTION_MUNICIPAL&&{tipoGestionMunicipal:s.tipoGestionMunicipal.trim(),departamento:s.departamento.trim()},...s.tipo===Tn.SEGUIMIENTO_TRAS_EMERGENCIAS&&{contactoCarabineros:s.contactoCarabineros,contactoBomberos:s.contactoBomberos,contactoAmbulancia:s.contactoAmbulancia,contactoOtros:s.contactoOtros,detalleOtros:s.detalleOtros.trim(),tipoEmergencia:s.tipoEmergencia.trim(),tipificacionSeguimiento:s.tipificacionSeguimiento.trim(),observacionesEmergencia:s.observacionesEmergencia.trim()}},P=await a(I,n.uid,n.displayName||n.email);console.log("✅ Nueva gestión creada:",P),o({titulo:"",descripcion:"",tipo:Tn.GESTION_MUNICIPAL,fechaVencimiento:"",prioridad:"media",categoria:"general",medicamentos:"",horaMedicamento:"",recurrencia:Wf.UNICO,centroSalud:"",especialidad:"",tipoGestionMunicipal:"",departamento:"",contactoCarabineros:!1,contactoBomberos:!1,contactoAmbulancia:!1,contactoOtros:!1,detalleOtros:"",tipoEmergencia:"",tipificacionSeguimiento:"",observacionesEmergencia:""}),r&&r(P),t()}catch(I){console.error("❌ Error creando gestión:",I),c({submit:"Error al crear la gestión. Intenta nuevamente."})}finally{f(!1)}}},v=()=>{o({titulo:"",descripcion:"",tipo:Tn.GESTION_MUNICIPAL,fechaVencimiento:"",prioridad:"media",categoria:"general",medicamentos:"",horaMedicamento:"",recurrencia:Wf.UNICO,centroSalud:"",especialidad:"",tipoGestionMunicipal:"",departamento:"",contactoCarabineros:!1,contactoBomberos:!1,contactoAmbulancia:!1,contactoOtros:!1,detalleOtros:"",tipoEmergencia:"",tipificacionSeguimiento:"",observacionesEmergencia:""}),c({}),t()},y=[{value:"general",label:"General"},{value:"tecnica",label:"Técnica"},{value:"administrativa",label:"Administrativa"},{value:"comercial",label:"Comercial"},{value:"soporte",label:"Soporte"},{value:"mejora",label:"Mejora"}],x=[{value:"baja",label:"Baja",color:"text-green-600"},{value:"media",label:"Media",color:"text-yellow-600"},{value:"alta",label:"Alta",color:"text-red-600"}],w=()=>{switch(s.tipo){case Tn.RECORDATORIO_MEDICAMENTOS:return d.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[d.jsxs("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[d.jsx(G3,{className:"h-4 w-4 mr-2 text-green-600"}),"Información del Medicamento"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medicamentos a recordar *"}),d.jsx("textarea",{name:"medicamentos",value:s.medicamentos,onChange:m,placeholder:"Ej: Losartán 50mg - 1 comprimido, Metformina 850mg - 2 comprimidos",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0}),l.medicamentos&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.medicamentos})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(ws,{className:"h-4 w-4 inline mr-1"}),"Hora del recordatorio *"]}),d.jsx("input",{type:"time",name:"horaMedicamento",value:s.horaMedicamento,onChange:m,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.horaMedicamento&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.horaMedicamento})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(PY,{className:"h-4 w-4 inline mr-1"}),"Frecuencia *"]}),d.jsx("select",{name:"recurrencia",value:s.recurrencia,onChange:m,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:Object.entries(RI).map(([E,I])=>d.jsx("option",{value:E,children:I},E))})]})]})]});case Tn.TOMA_HORA_CESFAM:return d.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[d.jsxs("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[d.jsx(TS,{className:"h-4 w-4 mr-2 text-blue-600"}),"Información del Centro de Salud"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Centro de Salud (CESFAM/Hospital) *"}),d.jsx("input",{type:"text",name:"centroSalud",value:s.centroSalud,onChange:m,placeholder:"Ej: CESFAM Dr. Juan Sebastián Bach",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.centroSalud&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.centroSalud})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Especialidad o tipo de atención"}),d.jsx("input",{type:"text",name:"especialidad",value:s.especialidad,onChange:m,placeholder:"Ej: Medicina general, Cardiología, Exámenes",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]});case Tn.GESTION_MUNICIPAL:return d.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[d.jsxs("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[d.jsx(V3,{className:"h-4 w-4 mr-2 text-purple-600"}),"Información de la Gestión Municipal"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de gestión municipal *"}),d.jsx("input",{type:"text",name:"tipoGestionMunicipal",value:s.tipoGestionMunicipal,onChange:m,placeholder:"Ej: Solicitud de certificado, Permiso de circulación, Subsidios",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.tipoGestionMunicipal&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.tipoGestionMunicipal})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departamento o área municipal"}),d.jsx("input",{type:"text",name:"departamento",value:s.departamento,onChange:m,placeholder:"Ej: Oficina de partes, DIDECO, Dirección de tránsito",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]});case Tn.SEGUIMIENTO_TRAS_EMERGENCIAS:return d.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[d.jsxs("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[d.jsx(_i,{className:"h-4 w-4 mr-2 text-red-600"}),"Información del Seguimiento Tras Emergencias"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de emergencia *"}),d.jsxs("select",{name:"tipoEmergencia",value:s.tipoEmergencia,onChange:m,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:"Seleccione el tipo de emergencia"}),d.jsx("option",{value:"medica",children:"Emergencia Médica"}),d.jsx("option",{value:"caida",children:"Caída"}),d.jsx("option",{value:"incendio",children:"Incendio"}),d.jsx("option",{value:"robo",children:"Robo/Asalto"}),d.jsx("option",{value:"accidente",children:"Accidente"}),d.jsx("option",{value:"otra",children:"Otra"})]}),l.tipoEmergencia&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.tipoEmergencia})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Se contactó con: *"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoCarabineros",name:"contactoCarabineros",checked:s.contactoCarabineros,onChange:m,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoCarabineros",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(Pv,{className:"h-4 w-4 mr-1 text-blue-600"}),"Carabineros"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoBomberos",name:"contactoBomberos",checked:s.contactoBomberos,onChange:m,className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoBomberos",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(K3,{className:"h-4 w-4 mr-1 text-red-600"}),"Bomberos"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoAmbulancia",name:"contactoAmbulancia",checked:s.contactoAmbulancia,onChange:m,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoAmbulancia",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(z3,{className:"h-4 w-4 mr-1 text-green-600"}),"Ambulancia/SAMU"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoOtros",name:"contactoOtros",checked:s.contactoOtros,onChange:m,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoOtros",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(Ha,{className:"h-4 w-4 mr-1 text-purple-600"}),"Otros"]})]})]}),l.contactos&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.contactos})]}),s.contactoOtros&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Especifique otros servicios contactados *"}),d.jsx("input",{type:"text",name:"detalleOtros",value:s.detalleOtros,onChange:m,placeholder:"Ej: Familiares, Vecinos, Empresa de seguridad",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.detalleOtros&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.detalleOtros})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipificación del seguimiento *"}),d.jsxs("select",{name:"tipificacionSeguimiento",value:s.tipificacionSeguimiento,onChange:m,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:"Seleccione la tipificación"}),d.jsx("option",{value:"seguimiento_inmediato",children:"Seguimiento Inmediato (24hrs)"}),d.jsx("option",{value:"seguimiento_corto",children:"Seguimiento Corto Plazo (72hrs)"}),d.jsx("option",{value:"seguimiento_semanal",children:"Seguimiento Semanal"}),d.jsx("option",{value:"seguimiento_quincenal",children:"Seguimiento Quincenal"}),d.jsx("option",{value:"seguimiento_mensual",children:"Seguimiento Mensual"}),d.jsx("option",{value:"no_requiere",children:"No Requiere Seguimiento"})]}),l.tipificacionSeguimiento&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.tipificacionSeguimiento})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones adicionales de la emergencia"}),d.jsx("textarea",{name:"observacionesEmergencia",value:s.observacionesEmergencia,onChange:m,placeholder:"Detalles adicionales sobre la emergencia y el seguimiento realizado...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]})]});default:return null}};return d.jsx(Rl,{children:e&&d.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:v,children:d.jsxs(rt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[d.jsx(Js,{className:"h-5 w-5 mr-2 text-blue-600"}),"Nueva Gestión"]}),d.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(xd,{className:"h-5 w-5"})})]}),d.jsxs("form",{onSubmit:g,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"titulo",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Rpe,{className:"inline h-4 w-4 mr-1"}),"Título *"]}),d.jsx("input",{type:"text",id:"titulo",name:"titulo",value:s.titulo,onChange:m,placeholder:"Ej: Revisar sistema de reportes",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${l.titulo?"border-red-500":"border-gray-300"}`,maxLength:100}),l.titulo&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx(_i,{className:"h-4 w-4 mr-1"}),l.titulo]}),d.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-right",children:[s.titulo.length,"/100 caracteres"]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"tipo",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(YF,{className:"inline h-4 w-4 mr-1"}),"Tipo de Gestión *"]}),d.jsx("select",{id:"tipo",name:"tipo",value:s.tipo,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:Object.entries(Bie).map(([E,I])=>d.jsx("option",{value:E,children:I},E))})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"descripcion",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(u2,{className:"inline h-4 w-4 mr-1"}),"Descripción *"]}),d.jsx("textarea",{id:"descripcion",name:"descripcion",value:s.descripcion,onChange:m,placeholder:"Describe detalladamente la gestión a realizar...",rows:4,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ${l.descripcion?"border-red-500":"border-gray-300"}`,maxLength:500}),l.descripcion&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx(_i,{className:"h-4 w-4 mr-1"}),l.descripcion]}),d.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-right",children:[s.descripcion.length,"/500 caracteres"]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"fechaVencimiento",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Js,{className:"inline h-4 w-4 mr-1"}),"Fecha de Vencimiento (Opcional)"]}),d.jsx("input",{type:"date",id:"fechaVencimiento",name:"fechaVencimiento",value:s.fechaVencimiento,onChange:m,min:h(),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${l.fechaVencimiento?"border-red-500":"border-gray-300"}`}),l.fechaVencimiento&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx(_i,{className:"h-4 w-4 mr-1"}),l.fechaVencimiento]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"prioridad",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(W0e,{className:"inline h-4 w-4 mr-1"}),"Prioridad"]}),d.jsx("select",{id:"prioridad",name:"prioridad",value:s.prioridad,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:x.map(E=>d.jsx("option",{value:E.value,children:E.label},E.value))})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"categoria",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(YF,{className:"inline h-4 w-4 mr-1"}),"Categoría"]}),d.jsx("select",{id:"categoria",name:"categoria",value:s.categoria,onChange:m,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:y.map(E=>d.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),w(),l.submit&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:d.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[d.jsx(_i,{className:"h-4 w-4 mr-2"}),l.submit]})}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:u||i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:u?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Tw,{className:"h-4 w-4"}),"Crear Gestión"]})})]})]})]})})})},hnt=({isOpen:e,gestion:t,onClose:r,onSuccess:n})=>{var y,x;const{user:a}=$l(),{completeGestion:i,isLoading:s}=E1(),[o,l]=j.useState(""),[c,u]=j.useState(""),[f,h]=j.useState(!1),p=()=>o.trim()?o.length<10?(u("La solución debe tener al menos 10 caracteres"),!1):o.length>500?(u("La solución no puede exceder 500 caracteres"),!1):(u(""),!0):(u("La descripción de la solución es obligatoria"),!1),m=async w=>{if(w.preventDefault(),!!p()){h(!0);try{await i(t.id,o.trim(),a.uid,a.displayName||a.email),console.log("✅ Gestión completada:",t.id),l(""),n&&n(t.id),r()}catch(E){console.error("❌ Error completando gestión:",E),u("Error al completar la gestión. Intenta nuevamente.")}finally{h(!1)}}},g=()=>{l(""),u(""),r()},v=w=>w?w.toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}):"No especificada";return t?d.jsx(Rl,{children:e&&d.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:g,children:d.jsxs(rt.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:w=>w.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[d.jsx(wa,{className:"h-5 w-5 mr-2 text-green-600"}),"Completar Gestión"]}),d.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(xd,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:t.titulo}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ss,{className:"h-4 w-4"}),d.jsxs("span",{children:["Creada por: ",d.jsx("strong",{children:t.creadorNombre})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Js,{className:"h-4 w-4"}),d.jsxs("span",{children:["Fecha: ",v(t.createdAt)]})]}),t.fechaVencimiento&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Js,{className:"h-4 w-4"}),d.jsxs("span",{children:["Vencimiento: ",v(t.fechaVencimiento)]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.prioridad==="alta"?"bg-red-100 text-red-800":t.prioridad==="media"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:["Prioridad: ",(y=t.prioridad)==null?void 0:y.toUpperCase()]}),d.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:(x=t.categoria)==null?void 0:x.toUpperCase()})]})]}),t.descripcion&&d.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(Aw,{className:"h-4 w-4 text-gray-500 mt-0.5"}),d.jsx("p",{className:"text-sm text-gray-700",children:t.descripcion})]})})]}),d.jsxs("form",{onSubmit:m,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"solucion",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(u2,{className:"inline h-4 w-4 mr-1"}),"Descripción de la Solución *"]}),d.jsx("textarea",{id:"solucion",value:o,onChange:w=>l(w.target.value),placeholder:"Describe cómo se resolvió la gestión, qué acciones se tomaron, resultados obtenidos...",rows:5,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none ${c?"border-red-500":"border-gray-300"}`,maxLength:500}),c&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx(_i,{className:"h-4 w-4 mr-1"}),c]}),d.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-right",children:[o.length,"/500 caracteres"]})]}),d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(wa,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"text-sm",children:[d.jsx("p",{className:"text-green-800 font-medium",children:"Al completar esta gestión:"}),d.jsxs("ul",{className:"text-green-700 mt-1 space-y-1",children:[d.jsx("li",{children:'• Se marcará como "Finalizada"'}),d.jsx("li",{children:"• Se registrará tu nombre como quien la completó"}),d.jsx("li",{children:"• La solución será visible para todos los usuarios"}),d.jsx("li",{children:"• Ya no podrá ser editada"})]})]})]})}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:f||s,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:f?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Completando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(wa,{className:"h-4 w-4"}),"Completar Gestión"]})})]})]})]})})}):null},pnt=()=>{const{user:e}=$l(),{initializeGestionesSubscription:t,clearGestionesStore:r,isLoading:n,error:a,clearError:i}=E1(),[s,o]=j.useState(!1),[l,c]=j.useState(!1),[u,f]=j.useState(!1),[h,p]=j.useState(null),[m,g]=j.useState(null),[v,y]=j.useState("calendar"),[x,w]=j.useState("");j.useEffect(()=>(console.log("🚀 Inicializando módulo de gestiones colaborativas"),t(),()=>{r()}),[t,r]);const E=ee=>{p(ee),console.log("📋 Gestión seleccionada:",ee.titulo)},I=(ee,re)=>{g(ee),console.log("📅 Fecha seleccionada:",ee,"Gestiones:",re.length)},P=ee=>{p(ee),c(!0)},A=ee=>{console.log("✏️ Editar gestión:",ee.titulo),w("Función de edición próximamente disponible"),setTimeout(()=>w(""),3e3)},S=ee=>{console.log("👁️ Ver gestión:",ee.titulo),p(ee),f(!0)},k=ee=>{w("✅ Gestión creada exitosamente"),setTimeout(()=>w(""),3e3),console.log("✅ Nueva gestión creada:",ee)},O=ee=>{w("✅ Gestión completada exitosamente"),setTimeout(()=>w(""),3e3),p(null),console.log("✅ Gestión completada:",ee)},T=()=>{g(null)},C=()=>d.jsxs(rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[d.jsx(ai,{className:"h-6 w-6 mr-2 text-blue-600"}),"Gestiones Colaborativas"]}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Calendario compartido y seguimiento de tareas del equipo"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>y("calendar"),className:`px-3 py-2 text-sm font-medium transition-colors ${v==="calendar"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(Js,{className:"h-4 w-4 inline mr-1"}),"Calendario"]}),d.jsxs("button",{onClick:()=>y("list"),className:`px-3 py-2 text-sm font-medium transition-colors ${v==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(Z0e,{className:"h-4 w-4 inline mr-1"}),"Listado"]}),d.jsxs("button",{onClick:()=>y("both"),className:`px-3 py-2 text-sm font-medium transition-colors ${v==="both"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(nm,{className:"h-4 w-4 inline mr-1"}),"Ambos"]})]}),d.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(LA,{className:"h-4 w-4"}),"Nueva Gestión"]})]})]}),D=()=>x&&d.jsx(rt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700",children:x}),B=()=>a&&d.jsx(rt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(_i,{className:"h-5 w-5 text-red-500 mr-2"}),d.jsxs("span",{className:"text-red-700",children:["Error: ",a]})]}),d.jsx("button",{onClick:i,className:"text-red-500 hover:text-red-700",children:"×"})]})}),Y=()=>m&&d.jsx(rt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Js,{className:"h-5 w-5 text-blue-500 mr-2"}),d.jsxs("span",{className:"text-blue-700",children:["Mostrando gestiones del ",m.toLocaleDateString("es-CL")]})]}),d.jsx("button",{onClick:T,className:"text-blue-500 hover:text-blue-700 text-sm",children:"Mostrar todas"})]})});return n&&!e?d.jsxs("div",{className:"flex items-center justify-center h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando módulo de gestiones..."})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsx(C,{}),d.jsx(D,{}),d.jsx(B,{}),d.jsx(Y,{}),d.jsxs("div",{className:"space-y-8",children:[(v==="calendar"||v==="both")&&d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:d.jsx(unt,{onSelectGestion:E,onSelectDate:I})}),(v==="list"||v==="both")&&d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v==="both"?.2:.1},children:d.jsx(fnt,{onEditGestion:A,onCompleteGestion:P,onViewGestion:S,selectedDate:m})})]}),d.jsx(dnt,{isOpen:s,onClose:()=>o(!1),onSuccess:k}),d.jsx(hnt,{isOpen:l,gestion:h,onClose:()=>{c(!1),p(null)},onSuccess:O}),d.jsx($ie,{gestion:h,isOpen:u,onClose:()=>{f(!1),p(null)}})]})},mnt=({isOpen:e,roles:t,onSave:r,onClose:n,isLoading:a})=>{const[i,s]=j.useState({email:"",displayName:"",role:"teleoperadora",isActive:!0}),[o,l]=j.useState({}),c=j.useRef(null),u=j.useRef(null);j.useEffect(()=>{u.current&&u.current.focus()},[]),j.useEffect(()=>{const m=g=>{g.key==="Escape"&&n()};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[n]);const f=(m,g)=>{s(v=>({...v,[m]:g})),o[m]&&l(v=>({...v,[m]:null}))},h=()=>{const m={};return i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(m.email="Email inválido"):m.email="El email es requerido",i.displayName.trim()||(m.displayName="El nombre es requerido"),i.role||(m.role="Selecciona un rol"),l(m),Object.keys(m).length===0},p=async m=>{if(m.preventDefault(),!!h())try{await r(i)}catch(g){l({submit:g.message})}};return e?d.jsx(rt.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:m=>{m.target===m.currentTarget&&n()},children:d.jsxs(rt.div,{ref:c,className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:m=>m.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:d.jsx(d2,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Crear Nuevo Usuario"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Ingresa los datos del nuevo usuario"})]})]}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:d.jsx(xd,{className:"w-5 h-5 text-gray-500"})})]}),d.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre Completo *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{ref:u,type:"text",value:i.displayName,onChange:m=>f("displayName",m.target.value),placeholder:"Ej: María González",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${o.displayName?"border-red-300":"border-gray-300 dark:border-gray-600"}`})]}),o.displayName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.displayName})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),d.jsxs("div",{className:"relative",children:[d.jsx(kY,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"email",value:i.email,onChange:m=>f("email",m.target.value),placeholder:"usuario@empresa.com",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${o.email?"border-red-300":"border-gray-300 dark:border-gray-600"}`})]}),o.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rol *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Pv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("select",{value:i.role,onChange:m=>f("role",m.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${o.role?"border-red-300":"border-gray-300 dark:border-gray-600"}`,children:t.filter(m=>m.id!=="super_admin").map(m=>d.jsxs("option",{value:m.id,children:[m.name," - ",m.description]},m.id))})]}),o.role&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.role})]}),d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(_i,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"text-sm",children:[d.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Información importante sobre la creación de usuarios"}),d.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:"Se creará un perfil de usuario en el sistema. El usuario deberá registrarse por separado en Firebase Auth usando el mismo email para poder acceder al sistema."})]})]})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:m=>f("isActive",m.target.checked),className:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"}),d.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Usuario activo al crear"})]}),o.submit&&d.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3",children:[d.jsx(_i,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:o.submit})]}),d.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[d.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",disabled:a,children:"Cancelar"}),d.jsx(rt.button,{type:"submit",disabled:a,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-6 py-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:a?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(d2,{className:"w-4 h-4"}),"Crear Usuario"]})})]})]})]})}):null},gnt=({isOpen:e,user:t,roles:r,onSave:n,onClose:a,isLoading:i})=>{const[s,o]=j.useState({displayName:(t==null?void 0:t.displayName)||"",role:(t==null?void 0:t.role)||"teleoperadora",isActive:(t==null?void 0:t.isActive)!==!1}),[l,c]=j.useState({}),u=j.useRef(null);if(!e||!t)return null;const f=(m,g)=>{o(v=>({...v,[m]:g})),l[m]&&c(v=>({...v,[m]:null}))},h=()=>{const m={};return s.displayName.trim()||(m.displayName="El nombre es requerido"),s.role||(m.role="Selecciona un rol"),c(m),Object.keys(m).length===0},p=async m=>{if(m.preventDefault(),!!h())try{await n(s)}catch(g){c({submit:g.message})}};return d.jsx(rt.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:m=>m.target===m.currentTarget&&a(),children:d.jsxs(rt.div,{ref:u,className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:m=>m.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Editar Usuario"}),d.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:d.jsx(xd,{className:"w-5 h-5 text-gray-500"})})]}),d.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),d.jsx("input",{type:"email",value:(t==null?void 0:t.email)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-500"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El email no se puede modificar"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre Completo *"}),d.jsx("input",{type:"text",value:s.displayName,onChange:m=>f("displayName",m.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${l.displayName?"border-red-300":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white`}),l.displayName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.displayName})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rol *"}),d.jsx("select",{value:s.role,onChange:m=>f("role",m.target.value),disabled:(t==null?void 0:t.role)==="super_admin",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${l.role?"border-red-300":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 disabled:text-gray-500`,children:r.filter(m=>m.id!=="super_admin"||(t==null?void 0:t.role)==="super_admin").map(m=>d.jsx("option",{value:m.id,children:m.name},m.id))}),l.role&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.role})]}),d.jsx("div",{children:d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:s.isActive,onChange:m=>f("isActive",m.target.checked),disabled:(t==null?void 0:t.role)==="super_admin",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500 disabled:opacity-50"}),d.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Usuario activo"})]})}),l.submit&&d.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[d.jsx(_i,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),d.jsx("p",{className:"text-red-700 text-sm",children:l.submit})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[d.jsx("button",{type:"button",onClick:a,disabled:i,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),d.jsx(rt.button,{type:"submit",disabled:i,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-6 py-2 rounded-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:i?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Tw,{className:"w-4 h-4"}),"Guardar"]})})]})]})]})})},vnt=()=>{const{user:e}=$l(),{users:t,roles:r,isLoading:n,stats:a,searchTerm:i,filterRole:s,selectedUser:o,setSearchTerm:l,setFilterRole:c,setSelectedUser:u,loadUsers:f,createUser:h,updateUser:p,deleteUser:m,toggleUserStatus:g,getFilteredUsers:v,isSuperAdmin:y,exportUsers:x}=Jee(),w=Jc(Z=>Z.showSuccess),E=Jc(Z=>Z.showError);Jc(Z=>Z.showInfo),Jc(Z=>Z.showWarning);const[I,P]=j.useState("overview"),[A,S]=j.useState(!1),[k,O]=j.useState(!1),[T,C]=j.useState(!1),[D,B]=j.useState(!1),[Y,ee]=j.useState(!1),re=y(e);j.useEffect(()=>{re&&f()},[re,f]);const G=v();if(!re)return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:d.jsx(rt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md mx-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(H3,{className:"h-8 w-8 text-red-600"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Acceso Restringido"}),d.jsx("p",{className:"text-gray-600",children:"No tienes permisos para acceder a la configuración del sistema."})]})})});const q=[{id:"overview",label:"Resumen",icon:fc},{id:"users",label:"Usuarios",icon:ai},{id:"system",label:"Sistema",icon:nm},{id:"security",label:"Seguridad",icon:Pv}],be=async Z=>{C(!0);try{lt.auth("Iniciando creación inteligente de usuario:",Z.email);const{smartUserCreationService:le}=await qo(async()=>{const{smartUserCreationService:ae}=await import("./smartUserCreationService-CTst8k2u.js");return{smartUserCreationService:ae}},[]),he=await le.createUserIntelligent(Z);lt.auth("Usuario creado con sistema inteligente:",he),await h(Z),S(!1),w(`Usuario creado exitosamente

📧 Email: ${Z.email}
👤 Rol: ${Z.role}

Instrucciones:
1. El usuario debe registrarse en Firebase Auth con el email: ${Z.email}
2. Una vez registrado, será reconocido automáticamente con el rol asignado
3. No necesita pasos adicionales - la sincronización es automática`)}catch(le){lt.error("Error creando usuario:",le),E("Error al crear usuario: "+le.message)}finally{C(!1)}},_e=async Z=>{C(!0);try{await p(o.uid,Z),O(!1),u(null),w("Usuario editado correctamente")}catch(le){lt.error("Error editando usuario:",le),E("Error al editar usuario: "+le.message)}finally{C(!1)}},R=async Z=>{if(confirm("¿Está seguro de que desea eliminar este usuario?")){C(!0);try{await m(Z),w("Usuario eliminado correctamente")}catch(le){lt.error("Error eliminando usuario:",le),E("Error al eliminar usuario: "+le.message)}finally{C(!1)}}},U=async Z=>{C(!0);try{await g(Z),w("Estado del usuario actualizado correctamente")}catch(le){lt.error("Error cambiando estado de usuario:",le),E("Error al cambiar estado de usuario: "+le.message)}finally{C(!1)}},z=async()=>{B(!0);try{await Jf.createTestUsers(),await f(),w("Usuarios de prueba creados correctamente")}catch(Z){lt.error("Error creando usuarios de prueba:",Z),E("Error al crear usuarios de prueba: "+Z.message)}finally{B(!1)}},W=async()=>{if(confirm("¿Está seguro de que desea eliminar todos los usuarios de prueba?")){ee(!0);try{await Jf.cleanTestUsers(),await f(),w("Usuarios de prueba eliminados correctamente")}catch(Z){lt.error("Error limpiando usuarios de prueba:",Z),E("Error al limpiar usuarios de prueba: "+Z.message)}finally{ee(!1)}}};return n?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:d.jsxs(rt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 font-medium",children:"Cargando configuración del sistema..."})]})}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[d.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-40",children:d.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center",children:d.jsx(AY,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuración del Sistema"}),d.jsx("p",{className:"text-gray-600",children:"Panel de administración avanzada"})]})]}),d.jsx("div",{className:"flex items-center space-x-3",children:d.jsxs(rt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors shadow-lg shadow-blue-600/25",children:[d.jsx(CY,{className:"h-4 w-4 mr-2"}),"Actualizar"]})})]})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[d.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-2 mb-8",children:d.jsx("div",{className:"flex space-x-1",children:q.map(Z=>{const le=Z.icon,he=I===Z.id;return d.jsxs(rt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>P(Z.id),className:`flex items-center px-6 py-3 rounded-xl transition-all duration-200 ${he?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-600/25":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[d.jsx(le,{className:"h-5 w-5 mr-2"}),Z.label]},Z.id)})})}),d.jsxs(Rl,{mode:"wait",children:[I==="overview"&&d.jsx(ynt,{stats:a,users:t,onCreateTestUsers:z,onCleanTestUsers:W,isCreatingTestUsers:D,isCleaningTestUsers:Y}),I==="users"&&d.jsx(xnt,{users:G,searchTerm:i,filterRole:s,onSearchChange:l,onFilterChange:c,onCreateUser:()=>S(!0),onEditUser:Z=>{u(Z),O(!0)},onDeleteUser:R,onToggleStatus:U,actionLoading:T,roles:r}),I==="system"&&d.jsx(wnt,{}),I==="security"&&d.jsx(bnt,{})]})]}),d.jsx(mnt,{isOpen:A,onClose:()=>S(!1),onSave:be,isLoading:T,roles:r}),d.jsx(gnt,{isOpen:k,user:o,onClose:()=>{O(!1),u(null)},onSave:_e,isLoading:T,roles:r})]})},ynt=({stats:e,users:t,onCreateTestUsers:r,onCleanTestUsers:n,isCreatingTestUsers:a,isCleaningTestUsers:i})=>{const s=[{title:"Total Usuarios",value:e.totalUsers||0,icon:ai,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",textColor:"text-blue-700"},{title:"Usuarios Activos",value:e.activeUsers||0,icon:wa,color:"from-green-500 to-green-600",bgColor:"bg-green-50",textColor:"text-green-700"},{title:"Administradores",value:e.adminUsers||0,icon:AY,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",textColor:"text-purple-700"},{title:"Teleoperadoras",value:e.teleoperadoraUsers||0,icon:Pv,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50",textColor:"text-orange-700"}];return d.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((o,l)=>{const c=o.icon;return d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600 text-sm font-medium",children:o.title}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:o.value})]}),d.jsx("div",{className:`w-12 h-12 ${o.bgColor} rounded-xl flex items-center justify-center`,children:d.jsx(c,{className:`h-6 w-6 ${o.textColor}`})})]})},o.title)})}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[d.jsx(qpe,{className:"h-6 w-6 mr-2 text-yellow-500"}),"Acciones Rápidas"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(rt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,disabled:a,className:"flex items-center justify-center p-6 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-200 shadow-lg shadow-green-500/25",children:[a?d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-3"}):d.jsx(d2,{className:"h-5 w-5 mr-3"}),a?"Creando...":"Crear Usuarios de Prueba"]}),d.jsxs(rt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,disabled:i,className:"flex items-center justify-center p-6 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-xl hover:from-red-600 hover:to-pink-600 transition-all duration-200 shadow-lg shadow-red-500/25",children:[i?d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-3"}):d.jsx(Qu,{className:"h-5 w-5 mr-3"}),i?"Limpiando...":"Limpiar Usuarios de Prueba"]})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[d.jsx(E6,{className:"h-6 w-6 mr-2 text-blue-500"}),"Estado del Sistema"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[d.jsx(wa,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-medium text-green-700",children:"Sistema Operativo"}),d.jsx("p",{className:"text-xs text-green-600",children:"Todos los servicios funcionando"})]}),d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[d.jsx(c2,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Base de Datos"}),d.jsx("p",{className:"text-xs text-blue-600",children:"Conexión estable"})]}),d.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[d.jsx(G0e,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Conectividad"}),d.jsx("p",{className:"text-xs text-purple-600",children:"Óptima"})]})]})]})]},"overview")},xnt=({users:e,searchTerm:t,filterRole:r,onSearchChange:n,onFilterChange:a,onCreateUser:i,onEditUser:s,onDeleteUser:o,onToggleStatus:l,actionLoading:c,roles:u})=>d.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[d.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative flex-1 lg:w-80",children:[d.jsx(xo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar por nombre o email...",value:t,onChange:f=>n(f.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Ew,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),d.jsxs("select",{value:r,onChange:f=>a(f.target.value),className:"pl-10 pr-8 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[d.jsx("option",{value:"all",children:"Todos los roles"}),u.map(f=>d.jsx("option",{value:f.id,children:f.name},f.id))]})]})]}),d.jsxs(rt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg shadow-blue-600/25",children:[d.jsx(LA,{className:"h-5 w-5 mr-2"}),"Nuevo Usuario"]})]})}),d.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:d.jsxs("div",{className:"divide-y divide-gray-100",children:[e.map((f,h)=>{var p,m;return d.jsx(rt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.05},className:"p-6 hover:bg-gray-50 transition-colors",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:d.jsx("span",{className:"text-white font-semibold text-lg",children:((p=f.displayName)==null?void 0:p.charAt(0))||((m=f.email)==null?void 0:m.charAt(0))})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:f.displayName||"Sin nombre"}),d.jsx("p",{className:"text-gray-600 text-sm",children:f.email}),d.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[d.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${f.role==="super_admin"?"bg-purple-100 text-purple-700":f.role==="admin"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:f.role==="super_admin"?"Super Admin":f.role==="admin"?"Administrador":"Teleoperadora"}),d.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${f.active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:f.active?"Activo":"Inactivo"})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(rt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(f.uid),disabled:c,className:`p-2 rounded-lg transition-colors ${f.active?"text-green-600 hover:bg-green-50":"text-red-600 hover:bg-red-50"}`,children:f.active?d.jsx(A6,{className:"h-5 w-5"}):d.jsx(TY,{className:"h-5 w-5"})}),d.jsx(rt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(f),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:d.jsx(T6,{className:"h-5 w-5"})}),d.jsx(rt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(f.uid),disabled:c,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:d.jsx(Qu,{className:"h-5 w-5"})})]})]})},f.uid)}),e.length===0&&d.jsxs("div",{className:"p-12 text-center",children:[d.jsx(ai,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay usuarios"}),d.jsx("p",{className:"text-gray-600",children:"Crea el primer usuario para comenzar."})]})]})})]},"users"),wnt=()=>d.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuración del Sistema"}),d.jsx("p",{className:"text-gray-600",children:"Panel de configuración del sistema próximamente disponible."})]},"system"),bnt=()=>d.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuración de Seguridad"}),d.jsx("p",{className:"text-gray-600",children:"Panel de seguridad próximamente disponible."})]},"security"),Uie=()=>{const{user:e,logout:t}=$l(),{user:r,isSuperAdmin:n,visibleModules:a,defaultTab:i,canViewConfig:s,checkModuleAccess:o}=Xne(),l=Jc(ce=>ce.toasts),c=Jc(ce=>ce.dismissToast),u=Jc(ce=>ce.showSuccess),f=Jc(ce=>ce.showError);Jc(ce=>ce.showWarning);const h=Jc(ce=>ce.showInfo),p=ce=>{if(!ce)return"N/A";try{let Ne;if(typeof ce=="string"&&/^\d{1,2}[-\/]\d{1,2}[-\/]\d{4}$/.test(ce)){const Ve=ce.split(/[-\/]/),Me=parseInt(Ve[0]),Ee=parseInt(Ve[1]),Ge=parseInt(Ve[2]);if(Me<=31&&Ee<=12&&Ge>=1900)return`${Me.toString().padStart(2,"0")}-${Ee.toString().padStart(2,"0")}-${Ge}`}if(typeof ce=="number"?Ne=new Date((ce-25569)*86400*1e3):Ne=new Date(ce),Ne&&!isNaN(Ne.getTime())){const Ve=Ne.getDate().toString().padStart(2,"0"),Me=(Ne.getMonth()+1).toString().padStart(2,"0"),Ee=Ne.getFullYear();return`${Ve}-${Me}-${Ee}`}return"Fecha inválida"}catch{return typeof ce=="string"?ce:"Error en fecha"}},{callData:m,processedData:g,callMetrics:v,setCallData:y,analyzeCallData:x,forceReanalysis:w,getOperatorMetrics:E,getHourlyDistribution:I,getFollowUpData:P,hasData:A,isLoading:S,loadingStage:k,loadingMessage:O,setLoadingStage:T}=Vv(),{operators:C,operatorAssignments:D,activeTab:B,setOperators:Y,setOperatorAssignments:ee,setActiveTab:re,getAllAssignments:G}=mo(),[q,be]=j.useState(i||"dashboard"),[_e,R]=j.useState([]),[U,z]=j.useState([]),[W,Z]=j.useState("connecting"),[le,he]=j.useState({totalCalls:0,successfulCalls:0,failedCalls:0,beneficiaries:0,activeAssignments:0,operators:0,protocolCompliance:0,pendingFollowUps:0}),[ae,pe]=j.useState([]),[ke,K]=j.useState([]),[qe,Ae]=j.useState("all"),[ue,ot]=j.useState(""),[$e,pt]=j.useState([]),[et,yt]=j.useState(!1),[dt,rr]=j.useState(null),[St,Kt]=j.useState({name:"",email:"",phone:""}),[vt,At]=j.useState({}),[nr,Pt]=j.useState(null);j.useEffect(()=>{$e.length>0&&C.length!==$e.length&&Y($e)},[$e.length,C.length,Y]),j.useEffect(()=>{const ce=Object.keys(vt).length,Ne=Object.keys(D).length;ce>0&&ce!==Ne&&ee(vt)},[Object.keys(vt).length,Object.keys(D).length,ee]);const[kt,ht]=j.useState(!1),[wt,dr]=j.useState(""),[Gt,Nt]=j.useState([]),er=[{id:1,operator:"María González",beneficiary:"Juan Pérez",phone:"987654321",commune:"Santiago"},{id:2,operator:"Ana Rodríguez",beneficiary:"Carmen Silva",phone:"987654322",commune:"Valparaíso"},{id:3,operator:"Luis Martínez",beneficiary:"Pedro López",phone:"987654323",commune:"Concepción"},{id:4,operator:"María González",beneficiary:"Rosa Morales",phone:"987654324",commune:"Santiago"},{id:5,operator:"Ana Rodríguez",beneficiary:"Carlos Díaz",phone:"987654325",commune:"Valparaíso"}],Or=j.useRef(!1),[Ut,gr]=j.useState(!1);j.useEffect(()=>{e&&r&&!Ut&&!Or.current&&(console.log("🚀 Triggering loadUserData:",{user:!!e,userProfile:!!r,email:r==null?void 0:r.email,role:r==null?void 0:r.role,dataLoaded:Ut}),Xee(e.uid),ar())},[e,r,Ut]),j.useEffect(()=>{e&&r&&Ut&&((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin"||(r==null?void 0:r.email)==="roberto@mistatas.com"||(r==null?void 0:r.email)==="carolina@mistatas.com")&&!($e.length>0&&Object.keys(vt).length>0)&&!Or.current&&(console.log("🚨 ADMIN SIN DATOS DETECTADO - Forzando recarga:",{email:r.email,role:r.role,operadores:$e.length,asignaciones:Object.keys(vt).length}),gr(!1),setTimeout(()=>{Or.current||ar()},100))},[r==null?void 0:r.role,r==null?void 0:r.email,$e.length,Object.keys(vt).length]),j.useEffect(()=>{Ut&&$e.length>0&&!Or.current&&(C.length===0||Object.keys(D).length===0)&&(Y($e),ee(vt),setTimeout(()=>{const{operators:Ne,operatorAssignments:Ve}=mo.getState()},500))},[Ut,$e.length,Object.keys(vt).length]),j.useEffect(()=>{if(i){const ce=o(q);!ce&&i!==q?(console.log("🔄 Cambiando tab por falta de permisos:",{from:q,to:i,accessible:ce}),be(i)):q==="dashboard"&&!o("dashboard")&&i!=="dashboard"&&(console.log("🔄 Cambiando desde dashboard (sin acceso) a:",i),be(i))}},[i,o,q]),j.useEffect(()=>{if(m.length>0&&Object.keys(D).length>0){const ce=setTimeout(()=>{},500);return()=>clearTimeout(ce)}},[D]);const ar=async()=>{if(!Or.current){Or.current=!0,Z("connecting");try{if(!r){console.log("⚠️ userProfile no disponible aún, intentando nuevamente en 1 segundo..."),Or.current=!1,setTimeout(()=>{e&&!Ut&&ar()},1e3);return}console.log("✅ Perfil de usuario disponible:",{email:r.email,role:r.role}),console.log("📥 Cargando datos generales del sistema...");const{loadOperators:ce,loadAssignments:Ne}=mo.getState();await Promise.all([ce(),Ne()]);const{operators:Ve,operatorAssignments:Me}=mo.getState();console.log("🎯 DATOS GENERALES CARGADOS:",{operadores:(Ve==null?void 0:Ve.length)||0,asignacionesGrupos:Object.keys(Me||{}).length,totalAsignaciones:Object.values(Me||{}).flat().length});let Ee,Ge,at;const _t=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin"||(r==null?void 0:r.email)==="roberto@mistatas.com"||(r==null?void 0:r.email)==="carolina@mistatas.com";if(console.log("🔍 Determinando datos a cargar:",{userEmail:r==null?void 0:r.email,userRole:r==null?void 0:r.role,isAdminUser:_t}),_t){console.log("👑 Admin detectado - Cargando TODOS los datos del sistema");const[ut,_r]=await Promise.all([Vg.getAll(),bp.getAll()]);Ee=ut;const xr={};_r.forEach(lr=>{const ir=lr.operatorId;xr[ir]||(xr[ir]=[]),xr[ir].push(lr)}),Ge=xr,at=[],console.log("👑 Admin - Datos del sistema cargados:",{operadores:(Ee==null?void 0:Ee.length)||0,operadoresConAsignaciones:Object.keys(Ge).length,totalAsignaciones:(_r==null?void 0:_r.length)||0})}else{console.log("👤 Teleoperadora detectada - Cargando datos del usuario + callData del sistema");let ut=[];try{console.log("🔍 Estrategia 1: Buscando perfil del super admin...");const{userManagementService:lr}=await qo(async()=>{const{userManagementService:Vt}=await Promise.resolve().then(()=>JB);return{userManagementService:Vt}},void 0),ir=await lr.getUserProfileByEmail("roberto@mistatas.com");if(ir&&ir.id){console.log("✅ Perfil del super admin encontrado:",{id:ir.id,email:ir.email,role:ir.role});const Vt=await nx.getCallData(ir.id);console.log("📊 CallData obtenido del super admin:",{length:(Vt==null?void 0:Vt.length)||0,hasData:!!(Vt&&Vt.length>0)}),Vt&&Vt.length>0&&(ut=Vt,console.log("✅ CallData del super admin cargado:",ut.length,"registros"))}else console.warn("⚠️ No se encontró perfil del super admin en userProfiles")}catch(lr){console.error("❌ Error cargando callData del super admin:",lr)}if(ut.length===0)try{console.log("🔍 Estrategia 2: Intentando con admin alternativo (carolina@mistatas.com)...");const{userManagementService:lr}=await qo(async()=>{const{userManagementService:Vt}=await Promise.resolve().then(()=>JB);return{userManagementService:Vt}},void 0),ir=await lr.getUserProfileByEmail("carolina@mistatas.com");if(ir&&ir.id){console.log("✅ Perfil de Carolina encontrado:",ir.id);const Vt=await nx.getCallData(ir.id);Vt&&Vt.length>0&&(ut=Vt,console.log("✅ CallData de Carolina cargado:",ut.length,"registros"))}}catch(lr){console.warn("⚠️ No se pudo cargar callData de Carolina:",lr.message)}if(ut.length===0){console.log("🔍 Estrategia 3: Buscando callData en documento del sistema...");try{const lr=await nx.getCallData("system");lr&&lr.length>0&&(ut=lr,console.log("✅ CallData del sistema cargado:",ut.length,"registros"))}catch(lr){console.warn("⚠️ No se pudo cargar callData del sistema:",lr.message)}}ut.length===0&&(console.warn("⚠️ No se encontró callData del sistema. Esto afectará las métricas del dashboard."),console.warn("💡 Solución: El super admin debe cargar el Excel de seguimientos desde el Dashboard"));const[_r,xr]=await Promise.all([Vg.getByUser(e.uid),bp.getAllUserAssignments(e.uid)]);Ee=_r,Ge=xr,at=ut,console.log("👤 Teleoperadora - Datos cargados:",{operadores:(Ee==null?void 0:Ee.length)||0,asignaciones:Object.keys(Ge||{}).length,callDataRegistros:(at==null?void 0:at.length)||0})}if(Ee!==null)pt(Ee||[]),At(Ge||{}),R(at||[]),Y(Ee||[]),ee(Ge||{}),gn(Ge||{},Ee||[]),at&&at.length>0?(console.log("📊 Cargando datos en Zustand store optimizado..."),y(at,"firebase")):(console.log("📝 No hay datos de llamadas, inicializando métricas por defecto..."),Yt()),Z("connected"),gr(!0),console.log("✅ Conectado a Firebase - datos cargados con optimización");else throw new Error("Insufficient permissions")}catch{Z("demo"),gr(!0),vn()}finally{Or.current=!1}}},gn=(ce,Ne)=>{const Ve=[];Object.entries(ce).forEach(([Me,Ee])=>{const Ge=Ne.find(at=>at.id===Me);Ge&&Ee&&Ee.forEach(at=>{Ve.push({id:at.id,operator:Ge.name,beneficiary:at.beneficiary,phone:at.primaryPhone,commune:at.commune})})}),z(Ve)},vn=()=>{console.log("🔄 Inicializando con datos de ejemplo..."),z(er);const ce={};er.forEach(Ve=>{let Ee=`operator-${Ve.operator.toLowerCase().replace(/\s+/g,"-")}`;ce[Ee]||(ce[Ee]=[]),ce[Ee].push({id:Ve.id,beneficiary:Ve.beneficiary,beneficiario:Ve.beneficiary,primaryPhone:Ve.phone,phone:Ve.phone,commune:Ve.commune,comuna:Ve.commune})});const Ne=[...new Set(er.map(Ve=>Ve.operator))].map((Ve,Me)=>({id:`operator-${Ve.toLowerCase().replace(/\s+/g,"-")}`,name:Ve,email:`${Ve.toLowerCase().replace(/\s+/g,".")}@example.com`,phone:`+56${Me+1}12345678`}));Y(Ne),ee(ce),console.log("✅ Datos sincronizados con Zustand:",{operators:Ne,assignments:ce}),Kr(),Yt(),console.log("✅ Datos de ejemplo inicializados")},Kr=()=>{const Ne=[{id:"sample-1",name:"María González",email:"maria.gonzalez@central.cl",phone:"987654321",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-2",name:"Ana Rodríguez",email:"ana.rodriguez@central.cl",phone:"987654322",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-3",name:"Luis Martínez",email:"luis.martinez@central.cl",phone:"987654323",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-4",name:"Carmen Torres",email:"carmen.torres@central.cl",phone:"987654324",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-5",name:"Pedro Sánchez",email:"pedro.sanchez@central.cl",phone:"987654325",userId:(e==null?void 0:e.uid)||"demo-user"}].filter(Ve=>Ve&&Ve.id&&Ve.name);pt(Ne)},Jt=async()=>{if(St.name.trim()!=="")try{const ce=await Vg.create(e.uid,St);pt([...$e,ce]),Kt({name:"",email:"",phone:""}),yt(!1)}catch(ce){lt.error("Error creating operator:",ce),f("Error al crear el operador. Por favor, inténtelo nuevamente.")}},Ar=async ce=>{if(window.confirm("¿Estás seguro de que deseas eliminar esta teleoperadora? Esta acción no se puede deshacer."))try{console.log("🗑️ Iniciando eliminación de operadora:",ce);try{await Vg.delete(ce),await bp.deleteOperatorAssignments(e.uid,ce),console.log("✅ Eliminación exitosa en Firebase")}catch(Ee){console.warn("⚠️ Error en Firebase (continuando con eliminación local):",Ee.message)}console.log("🔄 Eliminando del estado local...");const Ne=$e.filter(Ee=>Ee.id!==ce);pt(Ne);const Ve={...vt};delete Ve[ce],At(Ve);const Me=U.filter(Ee=>!Ee.id.toString().startsWith(`${ce}-`));z(Me);try{const{removeOperator:Ee}=mo.getState();Ee&&(Ee(ce),console.log("✅ Eliminado del Zustand store"))}catch(Ee){lt.warn("Error actualizando Zustand store:",Ee.message)}lt.info("Operadora eliminada exitosamente"),u("Operadora eliminada exitosamente")}catch(Ne){lt.error("Error eliminando operadora:",Ne),f("Error al eliminar la operadora. Por favor, inténtelo nuevamente o contacte al administrador.")}},ko=()=>{const ce=["javiera reyes alvarado","javiera valdivia","maría gonzález","teleoperadora ejemplo","demo operator","operadora prueba","test operator"],Ne=$e.filter(Me=>ce.some(Ee=>{var Ge,at;return((Ge=Me.name)==null?void 0:Ge.toLowerCase().includes(Ee.toLowerCase()))||((at=Me.email)==null?void 0:at.toLowerCase().includes(Ee.toLowerCase()))}));if(Ne.length===0){h("No se encontraron operadoras ficticias para eliminar.");return}const Ve=`¿Estás seguro de que deseas eliminar ${Ne.length} teleoperadoras ficticias?

`+Ne.map(Me=>`• ${Me.name} (${Me.email})`).join(`
`)+`

Esta acción no se puede deshacer.`;window.confirm(Ve)&&(console.log("🧹 Iniciando limpieza masiva de teleoperadoras ficticias..."),Ne.forEach(async Me=>{try{await Ar(Me.id),lt.info(`Eliminada: ${Me.name}`)}catch(Ee){lt.error(`Error eliminando ${Me.name}:`,Ee)}}),h(`Proceso de limpieza iniciado para ${Ne.length} operadoras ficticias.`))},Qn=(ce,Ne)=>{const Ve=ce.target.files[0];if(Ve){const Me=new FileReader;Me.onload=Ee=>{const Ge=new Uint8Array(Ee.target.result),at=T2(Ge,{type:"array"}),_t=at.SheetNames[0],ut=at.Sheets[_t],_r=ov.sheet_to_json(ut,{header:1});Ts(_r,Ne)},Me.readAsArrayBuffer(Ve)}ce.target.value=""},Ts=async(ce,Ne)=>{if(ce.length<2)return;const Ve=$e.find(Ee=>Ee.id===Ne);if(!Ve)return;const Me=ce.slice(1).map((Ee,Ge)=>{const at=Ee[1]?String(Ee[1]).split(/[\|\-\s]+/).filter(_t=>_t.trim().length===9):[];return{id:`${Ne}-${Ge}`,operatorId:Ne,operatorName:Ve.name,beneficiary:Ee[0]||"",phones:at,primaryPhone:at[0]||"",commune:Ee[2]||""}}).filter(Ee=>Ee.beneficiary&&Ee.primaryPhone);try{await bp.saveOperatorAssignments(e.uid,Ne,Me),At(Ge=>({...Ge,[Ne]:Me}));const Ee=Me.map(Ge=>({id:Ge.id,operator:Ge.operatorName,beneficiary:Ge.beneficiary,phone:Ge.primaryPhone,commune:Ge.commune}));z(Ge=>[...Ge.filter(_t=>!_t.id.toString().startsWith(`${Ne}-`)),...Ee]),Pt(null),u("Asignaciones guardadas correctamente")}catch(Ee){lt.error("Error saving assignments:",Ee),f("Error al guardar las asignaciones. Por favor, inténtelo nuevamente.")}},hi=async ce=>{try{await bp.deleteOperatorAssignments(e.uid,ce);const Ne={...vt};delete Ne[ce],At(Ne),z(Ve=>Ve.filter(Me=>!Me.id.toString().startsWith(`${ce}-`))),u("Asignaciones limpiadas correctamente")}catch(Ne){lt.error("Error clearing assignments:",Ne),f("Error al limpiar las asignaciones. Por favor, inténtelo nuevamente.")}},Yt=()=>{if(_e.length>0){console.log("📊 Datos reales disponibles, omitiendo generación de datos de ejemplo");return}console.log("📝 Generando datos de ejemplo...");const Ne=($e.length>0?$e.map(Me=>Me.name):["María González","Ana Rodríguez","Luis Martínez","Carmen Torres","Pedro Sánchez"]).map(Me=>({operator:Me,totalCalls:Math.floor(Math.random()*50)+20,totalMinutes:Math.floor(Math.random()*500)+100,avgDuration:Math.floor(Math.random()*10)+3})),Ve=Array.from({length:24},(Me,Ee)=>({hour:Ee,calls:Math.floor(Math.random()*20)+1}));pe(Ne),K(Ve),he({totalCalls:150,successfulCalls:120,failedCalls:30,beneficiaries:85,activeAssignments:U.length||5,operators:$e.length||5,protocolCompliance:85,pendingFollowUps:12}),U.length>0},yn=ce=>{if(!ce.trim()){Nt([]);return}console.log("🔍 Iniciando búsqueda para:",ce);const Ne=[];Object.entries(vt).forEach(([Ge,at])=>{const _t=$e.find(ut=>ut.id===Ge);at&&Array.isArray(at)&&at.forEach(ut=>{Ne.push({beneficiary:ut.beneficiary||ut.beneficiario,beneficiario:ut.beneficiary||ut.beneficiario,operatorName:(_t==null?void 0:_t.name)||ut.operator||ut.operatorName||"Operador no encontrado",operator:(_t==null?void 0:_t.name)||ut.operator||ut.operatorName,phone:ut.primaryPhone||ut.phone||ut.telefono||ut.numero_cliente||ut.phones&&ut.phones[0]||"N/A",primaryPhone:ut.primaryPhone,phones:ut.phones||[],telefono:ut.telefono,numero_cliente:ut.numero_cliente,commune:ut.commune||ut.comuna||"N/A",comuna:ut.comuna,operatorId:Ge,source:"operatorAssignments",id:ut.id})})});const Ve=G();console.log("📊 Asignaciones de Zustand:",Ve),Ve.forEach(Ge=>{Ne.push({beneficiary:Ge.beneficiary||Ge.beneficiario,beneficiario:Ge.beneficiary||Ge.beneficiario,operatorName:Ge.operator||Ge.operatorName||Ge.name||"Sin asignar",operator:Ge.operator||Ge.operatorName||Ge.name,phone:Ge.phone||Ge.telefono||Ge.numero_cliente||"N/A",commune:Ge.commune||Ge.comuna||"N/A",operatorId:Ge.operatorId||"zustand",source:"zustand"})}),console.log("📋 Total asignaciones encontradas:",Ne.length),console.log("📋 Muestra de asignaciones:",Ne.slice(0,3));const Me=ce.toLowerCase().trim(),Ee=Ne.filter(Ge=>{const at=(Ge.beneficiary||Ge.beneficiario||"").toLowerCase(),_t=(Ge.operatorName||Ge.operator||"").toLowerCase(),ut=(Ge.commune||Ge.comuna||"").toLowerCase(),_r=[Ge.phone,Ge.primaryPhone,Ge.telefono,Ge.numero_cliente,...Ge.phones||[]].filter(_a=>_a&&_a!=="N/A").join(" ").toLowerCase(),xr=at.includes(Me),lr=_t.includes(Me),ir=_r.includes(Me),Vt=ut.includes(Me),Nr=xr||lr||ir||Vt;return Nr&&console.log("✅ Coincidencia encontrada:",{beneficiary:at,operator:_t,phones:_r,commune:ut,searchTerm:Me,matches:{beneficiaryName:xr,operatorName:lr,phones:ir,commune:Vt},source:Ge.source}),Nr});console.log("🎯 Resultados filtrados:",Ee.length),Nt(Ee)},pi=j.useRef(null);j.useEffect(()=>()=>{pi.current&&clearTimeout(pi.current)},[]);const da=ce=>{if(dr(ce),pi.current&&clearTimeout(pi.current),!ce.trim()){Nt([]);return}pi.current=setTimeout(()=>{yn(ce)},300)},Ra=ce=>{const Ne=ce.target.files[0];if(Ne){T("uploading",`Subiendo archivo: ${Ne.name}`);const Ve=new FileReader;Ve.onload=Me=>{try{T("processing","Leyendo datos del archivo Excel...");const Ee=new Uint8Array(Me.target.result),Ge=T2(Ee,{type:"array"}),at=Ge.SheetNames[0],_t=Ge.Sheets[at],ut=ov.sheet_to_json(_t,{header:1});On(ut)}catch(Ee){console.error("Error al procesar archivo Excel:",Ee),T("error","Error al procesar el archivo Excel")}},Ve.onerror=()=>{T("error","Error al leer el archivo")},Ve.readAsArrayBuffer(Ne)}ce.target.value=""},On=async ce=>{if(ce.length<2){T("error","El archivo Excel no contiene datos válidos");return}try{T("processing",`Procesando ${ce.length-1} filas de datos...`);const Ve=(Ee=>{const Ge=Ee.slice(1,Math.min(6,Ee.length)),at=xr=>!xr||typeof xr!="string"||/^\d{1,2}:\d{2}(:\d{2})?$/.test(xr)||/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(xr)||!isNaN(Date.parse(xr))||/^\d+$/.test(xr)||xr.trim().length<3?!1:!!(xr.trim().split(/\s+/).filter(ir=>ir.length>1).length>=2||/^[a-záéíóúüñA-ZÁÉÍÓÚÜÑ\s\-\.]+$/.test(xr)),_t={};for(let xr=0;xr<15;xr++){let lr=0;const ir=Ge.map(Vt=>Vt[xr]).filter(Vt=>Vt!=null);if(ir.length!==0){for(const Vt of ir)at(String(Vt))&&lr++;lr>0&&(_t[xr]={score:lr,percentage:lr/ir.length*100,sampleValues:ir.slice(0,3)})}}console.log("📊 Análisis de columnas para detectar operadores:",_t);let ut=7,_r=0;for(const[xr,lr]of Object.entries(_t))(lr.score>_r||lr.score===_r&&lr.percentage>50)&&(_r=lr.score,ut=parseInt(xr));return console.log(`🎯 Columna de operadores detectada: ${ut} (puntuación: ${_r})`),ut})(ce),Me=ce.slice(1).map((Ee,Ge)=>{Ge<3&&console.log(`Fila ${Ge}:`,{col0:Ee[0],col1:Ee[1],col2:Ee[2],col3:Ee[3],col4:Ee[4],col5:Ee[5],col6:Ee[6],col7:Ee[7],col8:Ee[8],col9:Ee[9],col10:Ee[10],col11:Ee[11],operadorDetectado:Ee[Ve]});let at=Ee[Ve];if(at&&/^\d{1,2}:\d{2}/.test(String(at))){console.warn(`⚠️ Valor de operador parece ser hora: "${at}". Buscando en otras columnas...`);for(let ut=0;ut<Ee.length;ut++){const _r=Ee[ut];if(_r&&typeof _r=="string"&&!/^\d{1,2}:\d{2}/.test(_r)&&!/^\d+$/.test(_r)&&_r.trim().split(/\s+/).length>=2){at=_r,console.log(`✅ Operador encontrado en columna ${ut}: "${at}"`);break}}}const _t=p;return{id:Ee[0]||`call-${Ge}-${Date.now()}`,fecha:_t(Ee[1]),beneficiario:Ee[2],comuna:Ee[3],tipo_llamada:Ee[4]==="Entrante"?"entrante":"saliente",numero_cliente:Ee[5],hora:Ee[6]||"09:00:00",operador:at||"No identificado",duracion:parseInt(Ee[8])||0,categoria:Ee[9]==="Llamado exitoso"?"exitosa":"fallida",resultado:Ee[9],observacion:Ee[10],apiId:Ee[11]}});try{W==="connected"&&await nx.saveCallData(e.uid,Me)&&console.log("✅ Datos de llamadas guardados en Firebase")}catch(Ee){console.error("Error guardando datos en Firebase:",Ee)}y(Me,"excel"),allAssignments.length===0&&Me.length>0&&(console.log("🔄 No hay asignaciones previas, creando asignaciones basadas en operadoras detectadas..."),ha(Me)),console.log(`📊 Procesados ${Me.length} registros en Zustand`)}catch(Ne){console.error("Error durante el procesamiento de datos:",Ne),T("error","Error al procesar los datos del Excel")}},ha=ce=>{try{const Ne={},Ve=at=>!at||typeof at!="string"?!1:at.trim().length>2&&!/^\d{1,2}:\d{2}/.test(at)&&!/^\d+$/.test(at)&&!/^(si|no|exitoso|fallido|pendiente|hangup|solo)$/i.test(at)&&/^[a-záéíóúüñA-ZÁÉÍÓÚÜÑ\s\-\.]{3,}$/.test(at);ce.forEach(at=>{const _t=at.beneficiario||at.beneficiary,ut=at.operador||at.operator||at.teleoperadora;_t&&ut&&Ve(ut)&&(Ne[ut]||(Ne[ut]=new Set),Ne[ut].add(_t))});const Me=Object.keys(Ne).map((at,_t)=>({id:`auto-operator-${_t+1}`,name:at,email:`${at.toLowerCase().replace(/\s+/g,".")}@auto.com`,phone:`+56${_t+1}87654321`})),Ee={},Ge=[];Object.entries(Ne).forEach(([at,_t],ut)=>{const _r=`auto-operator-${ut+1}`;Ee[_r]=[],Array.from(_t).forEach((xr,lr)=>{const ir={id:`auto-${_r}-${lr+1}`,beneficiary:xr,beneficiario:xr,primaryPhone:"N/A",phone:"N/A",commune:"N/A",comuna:"N/A"};Ee[_r].push(ir),Ge.push({...ir,operator:at})})}),Me.length>0&&(Y(Me),ee(Ee),z(Ge),console.log("✅ Asignaciones automáticas creadas:",{operators:Me.length,assignments:Ge.length,operatorMap:Ne}))}catch(Ne){console.error("Error creando asignaciones automáticas:",Ne)}},me=(()=>{const ce=[];return Object.entries(vt).forEach(([Ne,Ve])=>{const Me=$e.find(Ee=>Ee.id===Ne);Me&&Ve&&Array.isArray(Ve)?Ve.forEach(Ee=>{const Ge={id:Ee.id,operator:Me.name,operatorName:Me.name,beneficiary:Ee.beneficiary,phone:Ee.primaryPhone,commune:Ee.commune};ce.push(Ge)}):$e.length>0&&console.warn(`⚠️ Problemas con operador ${Ne}:`,{operatorFound:!!Me,assignmentsType:typeof Ve,isArray:Array.isArray(Ve)})}),ce})(),oe=P(me),de=oe.filter(ce=>{const Ne=qe==="all"||ce.status===qe,Ve=ce.beneficiary.toLowerCase().includes(ue.toLowerCase())||ce.operator.toLowerCase().includes(ue.toLowerCase());return Ne&&Ve}),ge=()=>{const ce={dashboard:fc,calls:Ha,assignments:ai,beneficiaries:c2,seguimientos:E6,calendar:Js,gestiones:ai,history:ws,audit:fc,reports:T0e,config:nm};return d.jsxs("div",{className:"w-64 bg-white shadow-lg h-full flex flex-col",children:[d.jsxs("div",{className:"p-6 flex-1",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Mistatas - Seguimiento de llamadas"}),d.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"© 2025"}),d.jsx("nav",{className:"space-y-2",children:a.map(Ne=>{const Ve=ce[Ne.id]||fc;return d.jsx(we,{icon:Ve,label:Ne.label,active:q===Ne.id,onClick:()=>be(Ne.id)},Ne.id)})}),r&&d.jsxs("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg",children:[d.jsxs("p",{className:"text-xs text-gray-600",children:["Rol: ",d.jsx("span",{className:"font-medium",children:r.role})]}),n&&d.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"⚡ Super Administrador"})]})]}),d.jsxs("div",{className:"p-6 border-t border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(Ss,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(e==null?void 0:e.displayName)||(r==null?void 0:r.name)||"Usuario"}),d.jsx("p",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.email})]})]}),d.jsxs("div",{className:"mb-4 p-2 rounded-lg bg-gray-50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${W==="connected"?"bg-green-500":W==="connecting"?"bg-yellow-500":"bg-orange-500"}`}),d.jsx("span",{className:"text-xs text-gray-600",children:W==="connected"?"Firebase conectado":W==="connecting"?"Conectando...":"Modo demo"})]}),_e.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[_e.length," llamadas cargadas"]})]}),d.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[d.jsx(ape,{className:"w-4 h-4"}),"Cerrar Sesión"]})]})]})},we=({icon:ce,label:Ne,active:Ve,onClick:Me})=>d.jsxs("button",{onClick:Me,className:`w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors ${Ve?"bg-blue-50 text-blue-600 border-l-4 border-blue-500":"text-gray-600 hover:bg-gray-50"}`,children:[d.jsx(ce,{className:"w-5 h-5 mr-3"}),d.jsx("span",{className:"text-sm",children:Ne})]}),De=()=>{const ce=(m==null?void 0:m.length)>0?m:_e,Ve=W==="connecting"?{color:"bg-yellow-50 border-yellow-200",icon:"🔄",title:"Conectando...",message:"Conectando con Firebase para cargar datos"}:W==="connected"?ce.length>0?{color:"bg-green-50 border-green-200",icon:"✅",title:"Datos reales activos",message:`Mostrando datos reales de ${ce.length} llamadas registradas`}:{color:"bg-blue-50 border-blue-200",icon:"ℹ️",title:"Firebase conectado - Sin datos de llamadas",message:"Conectado a Firebase. Sube un archivo Excel para ver datos reales"}:{color:"bg-orange-50 border-orange-200",icon:"⚠️",title:"Modo demostración",message:"Mostrando datos de ejemplo. Configura Firebase para persistencia completa"},Me=async()=>{W==="connected"&&(gr(!1),await ar())};return d.jsx("div",{className:`${Ve.color} border rounded-lg p-4 mb-6`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-lg mr-3",children:Ve.icon}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:Ve.title}),d.jsx("p",{className:"text-sm text-gray-600",children:Ve.message}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Métricas: ",v?`${v.successfulCalls}/${v.totalCalls} exitosas`:"Sin métricas"]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[W==="connected"&&d.jsx("button",{onClick:Me,className:"px-3 py-1 text-xs bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",title:"Recargar datos desde Firebase",children:"🔄 Sincronizar"}),ce.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>{console.log("🔧 DEBUG: Forzando re-análisis..."),console.log("📊 Datos antes del re-análisis:",v),w()},className:"px-3 py-1 text-xs bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",title:"Forzar re-análisis de datos",children:"🔧 Re-analizar"}),d.jsx("button",{onClick:()=>{console.log("🔍 DIAGNÓSTICO: Analizando datos reales...");const Ee=Vv.getState().callData;Ee&&Ee.length>0?window.analyzeRealData?window.analyzeRealData(Ee):(console.log("⚠️ Función de diagnóstico no disponible"),console.log("Datos disponibles:",Ee.length,"llamadas"),console.log("Muestra de datos:",Ee.slice(0,3))):console.log("❌ No hay datos disponibles para analizar")},className:"px-3 py-1 text-xs bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors",title:"Diagnosticar datos reales del Excel (ver consola)",children:"🔍 Diagnosticar"})]})]})]})})},He=()=>{const[ce,Ne]=Pe.useState([]),[Ve,Me]=Pe.useState([]);Pe.useEffect(()=>{const Nr=setTimeout(()=>{_e.length>0&&(!m||m.length===0)&&!S&&(console.log("🔄 Sincronizando datos locales con Zustand:",_e.length),y(_e,"sync"))},0);return()=>clearTimeout(Nr)},[_e.length,m==null?void 0:m.length,y,S]);const Ee=v||{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},Ge=C.length;D&&Object.keys(D).length,Pe.useEffect(()=>{const Vt=E(me),Nr=I();Ne(Vt||[]),Me(Nr||[])},[me==null?void 0:me.length,E,I]);let at=ce;(!ce||ce.length===0)&&(at=Object.entries(vt).map(([Nr,_a])=>{const xn=$e.find(Rc=>Rc.id===Nr);if(xn&&_a&&Array.isArray(_a)){const Rc=_a.length,Lc=Math.max(1,Math.floor(Ee.totalCalls*(Rc/Math.max(1,me.length)))),io=Math.floor(Lc*.6);return{operatorName:xn.name,totalCalls:Lc,successfulCalls:io,failedCalls:Lc-io,averageDuration:60,successRate:Math.round(io/Lc*100),isEmergencyData:!0}}return null}).filter(Boolean)),(!at||!Array.isArray(at))&&(at=[]);const _t=Ee.totalCalls>0?(Ee.successfulCalls/Ee.totalCalls*100).toFixed(1):0,ut=Ee.totalCalls>0?(Ee.failedCalls/Ee.totalCalls*100).toFixed(1):0,_r=Ge>0?(Ee.totalCalls/Ge).toFixed(1):0,xr=Ee.uniqueBeneficiaries>0?(Ee.successfulCalls/Ee.uniqueBeneficiaries*100).toFixed(1):0,lr=at.sort((Vt,Nr)=>Nr.successfulCalls-Vt.successfulCalls).slice(0,3),ir=at.length>0?at.reduce((Vt,Nr)=>Vt.totalCalls>Nr.totalCalls?Vt:Nr):null;return d.jsxs("div",{className:"space-y-8",children:[d.jsx(De,{}),d.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"📊 Resumen Ejecutivo de Teleasistencia"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[d.jsxs("div",{className:"text-3xl font-bold",children:[_t,"%"]}),d.jsx("div",{className:"text-sm opacity-90",children:"Tasa de Éxito"})]}),d.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[d.jsx("div",{className:"text-3xl font-bold",children:Ee.uniqueBeneficiaries}),d.jsx("div",{className:"text-sm opacity-90",children:"Beneficiarios Atendidos"})]}),d.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[d.jsx("div",{className:"text-3xl font-bold",children:_r}),d.jsx("div",{className:"text-sm opacity-90",children:"Llamadas por Operadora"})]}),d.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[d.jsxs("div",{className:"text-3xl font-bold",children:[xr,"%"]}),d.jsx("div",{className:"text-sm opacity-90",children:"Tasa de Contactabilidad"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Llamadas Exitosas"}),d.jsx("p",{className:"text-3xl font-bold text-green-600",children:Ee.successfulCalls}),d.jsxs("p",{className:"text-sm text-gray-500",children:["de ",Ee.totalCalls," total"]})]}),d.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:d.jsx(Ha,{className:"h-8 w-8 text-green-600"})})]}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(am,{className:"h-4 w-4 text-green-500 mr-1"}),d.jsxs("span",{className:"text-green-600 font-medium",children:[_t,"% de éxito"]})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-red-500",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Llamadas Fallidas"}),d.jsx("p",{className:"text-3xl font-bold text-red-600",children:Ee.failedCalls}),d.jsx("p",{className:"text-sm text-gray-500",children:"sin contacto efectivo"})]}),d.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:d.jsx(Ha,{className:"h-8 w-8 text-red-600"})})]}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(Ppe,{className:"h-4 w-4 text-red-500 mr-1"}),d.jsxs("span",{className:"text-red-600 font-medium",children:[ut,"% de fallas"]})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Beneficiarios Únicos"}),d.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Ee.uniqueBeneficiaries}),d.jsx("p",{className:"text-sm text-gray-500",children:"personas atendidas"})]}),d.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:d.jsx(ai,{className:"h-8 w-8 text-blue-600"})})]}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(ai,{className:"h-4 w-4 text-blue-500 mr-1"}),d.jsx("span",{className:"text-blue-600 font-medium",children:"Cobertura poblacional"})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Tiempo Promedio"}),d.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[Math.round(Ee.averageDuration/60),"min"]}),d.jsx("p",{className:"text-sm text-gray-500",children:"por llamada"})]}),d.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:d.jsx(ws,{className:"h-8 w-8 text-purple-600"})})]}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(ws,{className:"h-4 w-4 text-purple-500 mr-1"}),d.jsx("span",{className:"text-purple-600 font-medium",children:"Eficiencia temporal"})]})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[d.jsx(am,{className:"h-5 w-5 text-green-500 mr-2"}),"🏆 Top Performers"]}),lr.length>0?d.jsx("div",{className:"space-y-3",children:lr.map((Vt,Nr)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold mr-3 ${Nr===0?"bg-yellow-500":Nr===1?"bg-gray-400":"bg-orange-500"}`,children:Nr+1}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:Vt.operatorName}),d.jsxs("p",{className:"text-sm text-gray-500",children:[Vt.totalCalls," llamadas",Vt.isEmergencyData&&d.jsx("span",{className:"ml-1 text-xs text-yellow-600",children:"(estimado)"})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"font-bold text-green-600",children:Vt.successfulCalls}),d.jsx("p",{className:"text-sm text-gray-500",children:"exitosas"})]})]},Nr))}):d.jsxs("div",{className:"text-center py-6",children:[d.jsx("p",{className:"text-gray-500 mb-2",children:"No hay datos de operadoras disponibles"}),d.jsx("p",{className:"text-sm text-gray-400",children:vt&&Object.keys(vt).length>0?"⚠️ Verifica que haya datos de llamadas cargados":"⚠️ Necesitas crear operadoras y asignar beneficiarios en el módulo Asignaciones"})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[d.jsx(fc,{className:"h-5 w-5 text-blue-500 mr-2"}),"📊 Análisis de Productividad"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Operadora más activa"}),d.jsx("p",{className:"font-bold text-lg",children:(ir==null?void 0:ir.operatorName)||"N/A"}),d.jsxs("p",{className:"text-sm text-blue-600",children:[(ir==null?void 0:ir.totalCalls)||0," llamadas realizadas"]})]}),d.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Tasa de éxito promedio"}),d.jsxs("p",{className:"font-bold text-lg",children:[_t,"%"]}),d.jsx("p",{className:"text-sm text-green-600",children:"Indicador de calidad del servicio"})]}),d.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Cumplimiento de protocolo"}),d.jsxs("p",{className:"font-bold text-lg",children:[Ee.protocolCompliance,"%"]}),d.jsx("p",{className:"text-sm text-purple-600",children:"Adherencia a procedimientos"})]})]})]})]}),at.length>0&&d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[d.jsx(ai,{className:"h-5 w-5 text-indigo-500 mr-2"}),"📊 Detalle Completo por Teleoperadora",at.some(Vt=>Vt.isEmergencyData)&&d.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Datos Estimados"})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operadora"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Llamadas"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exitosas"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fallidas"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tasa Éxito"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rendimiento"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:at.map((Vt,Nr)=>{var xn;const _a=Vt.totalCalls>0?(Vt.successfulCalls/Vt.totalCalls*100).toFixed(1):0;return d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center mr-3",children:d.jsx("span",{className:"text-indigo-600 font-semibold text-sm",children:(xn=Vt.operatorName)==null?void 0:xn.substring(0,2).toUpperCase()})}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:Vt.operatorName})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Vt.totalCalls})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium",children:Vt.successfulCalls}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-medium",children:Vt.failedCalls}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${parseFloat(_a)>=70?"bg-green-100 text-green-800":parseFloat(_a)>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[_a,"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:d.jsx("div",{className:`h-2 rounded-full ${parseFloat(_a)>=70?"bg-green-500":parseFloat(_a)>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(parseFloat(_a),100)}%`}})}),d.jsx("span",{className:"text-xs text-gray-500",children:parseFloat(_a)>=70?"🎯 Excelente":parseFloat(_a)>=50?"⚠️ Regular":"📉 Revisar"})]})})]},Nr)})})]})})]})]})},Re=()=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registro de Llamadas"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Sube el archivo Excel con el registro de llamadas para realizar el análisis automático."}),d.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[d.jsx(f2,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsxs("label",{className:"cursor-pointer",children:[d.jsx("span",{className:"text-blue-600 font-medium",children:"Seleccionar archivo Excel"}),d.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:Ra,className:"hidden"})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Formatos soportados: .xlsx, .xls"})]}),S&&d.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-sm font-medium text-blue-900",children:[k==="uploading"&&"📤 Subiendo archivo...",k==="processing"&&"⚙️ Procesando datos...",k==="analyzing"&&"📊 Analizando llamadas..."]}),d.jsx("p",{className:"text-sm text-blue-700",children:O})]})]}),d.jsx("div",{className:"mt-3 w-full bg-blue-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:k==="uploading"?"25%":k==="processing"?"50%":k==="analyzing"?"75%":"100%"}})})]}),k==="complete"&&!S&&m.length>0&&d.jsx("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-green-900",children:"✅ Análisis completado exitosamente"}),d.jsx("p",{className:"text-sm text-green-700",children:O})]})]})}),k==="error"&&!S&&d.jsx("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-6 h-6 bg-red-600 rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-red-900",children:"❌ Error en el procesamiento"}),d.jsx("p",{className:"text-sm text-red-700",children:O}),d.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Por favor, verifica el formato del archivo e intenta nuevamente."})]})]})})]}),m.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumen del Análisis"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:m.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Llamadas"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.filter(ce=>ce.categoria==="exitosa"||ce.resultado==="Llamado exitoso").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Exitosas"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-red-600",children:m.filter(ce=>ce.categoria!=="exitosa"&&ce.resultado!=="Llamado exitoso").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Fallidas"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(m.map(ce=>ce.beneficiario).filter(Boolean)).size}),d.jsx("div",{className:"text-sm text-gray-600",children:"Beneficiarios"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Datos Procesados"}),d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50",children:[d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"ID"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Fecha"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Beneficiario"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Comuna"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Operador"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Tipo"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Resultado"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Duración"})]})}),d.jsx("tbody",{children:m.slice(0,10).map((ce,Ne)=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ce.id||`call-${Ne}`}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ce.fecha||"N/A"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:ce.beneficiario||"N/A"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ce.comuna||"N/A"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:ce.operador||"No identificado"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ce.tipo_llamada==="entrante"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:ce.tipo_llamada==="entrante"?"Entrante":"Saliente"})}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${ce.resultado==="Llamado exitoso"||ce.categoria==="exitosa"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:ce.resultado||(ce.categoria==="exitosa"?"Exitoso":"Fallido")})}),d.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[ce.duracion||0,"s"]})]},ce.id||Ne))})]}),d.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-600",children:[d.jsxs("span",{children:["Mostrando ",Math.min(10,m.length)," de ",m.length," llamadas procesadas"]}),m.length>10&&d.jsx("span",{className:"text-blue-600",children:"Mostrando solo las primeras 10 filas"})]})]})]})]})]}),Le=()=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Gestión de Asignaciones"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona teleoperadores y sus asignaciones de beneficiarios"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:ko,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2",title:"Eliminar teleoperadoras ficticias de prueba",children:[d.jsx(Qu,{className:"w-4 h-4"}),"Limpiar Ficticias"]}),d.jsxs("button",{onClick:()=>yt(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",children:[d.jsx(d2,{className:"w-4 h-4"}),"Crear Teleoperador"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Teleoperadores"}),d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:$e.length})]}),d.jsx(ai,{className:"w-8 h-8 text-blue-500"})]})}),d.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Beneficiarios Asignados"}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:Object.values(vt).reduce((ce,Ne)=>ce+Ne.length,0)})]}),d.jsx(Ha,{className:"w-8 h-8 text-green-500"})]})}),d.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Operadores con Asignaciones"}),d.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Object.keys(vt).length})]}),d.jsx(vx,{className:"w-8 h-8 text-purple-500"})]})})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Búsqueda de Beneficiarios"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Encuentra rápidamente qué teleoperadora está asignada a un beneficiario"})]}),d.jsxs("button",{onClick:()=>ht(!kt),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${kt?"bg-red-500 text-white hover:bg-red-600":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[d.jsx(xo,{className:"w-4 h-4"}),kt?"Cerrar Búsqueda":"Buscar Beneficiario"]})]}),kt&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex gap-4 items-center",children:[d.jsx("div",{className:"flex-1",children:d.jsx("input",{type:"text",placeholder:"Buscar por nombre del beneficiario, teleoperadora, teléfono o comuna...",value:wt,onChange:ce=>{const Ne=ce.target.value;da(Ne)},className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),d.jsx("button",{onClick:()=>{dr(""),Nt([])},className:"px-3 py-2 text-gray-500 hover:text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:d.jsx(xd,{className:"w-4 h-4"})})]}),Gt.length>0&&d.jsxs("div",{className:"border border-gray-200 rounded-lg divide-y divide-gray-200 max-h-96 overflow-y-auto",children:[d.jsxs("div",{className:"bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700",children:[Gt.length," resultado(s) encontrado(s)"]}),Gt.map((ce,Ne)=>d.jsx("div",{className:"p-4 hover:bg-gray-50",children:d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("h5",{className:"font-semibold text-gray-900",children:ce.beneficiary||ce.beneficiario}),d.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:"Beneficiario"}),d.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:ce.source})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ai,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Teleoperadora:"})," ",ce.operatorName||ce.operator||"Sin asignar"]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ha,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Teléfono Principal:"})," ",ce.primaryPhone||ce.phone||ce.telefono||ce.numero_cliente||"N/A"]})]}),ce.phones&&ce.phones.length>1&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ha,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Otros Teléfonos:"})," ",ce.phones.slice(1).join(", ")]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(vx,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Comuna:"})," ",ce.commune||ce.comuna||"N/A"]})]})]})]})})},`${ce.id||Ne}-${ce.source}`))]}),wt&&Gt.length===0&&d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(xo,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),d.jsxs("p",{children:['No se encontraron beneficiarios que coincidan con "',wt,'"']}),d.jsx("p",{className:"text-sm mt-1",children:"Intenta con otro término de búsqueda"})]}),!wt&&d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(xo,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),d.jsx("p",{children:"Escribe el nombre de un beneficiario, teleoperadora, teléfono o comuna para buscar"}),d.jsx("p",{className:"text-sm mt-1",children:"La búsqueda incluye todas las asignaciones registradas"})]})]})]}),et&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h4",{className:"text-lg font-semibold",children:"Crear Nuevo Teleoperador"}),d.jsx("button",{onClick:()=>yt(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(xd,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo *"}),d.jsx("input",{type:"text",value:St.name,onChange:ce=>Kt({...St,name:ce.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: María González"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:St.email,onChange:ce=>Kt({...St,email:ce.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"maria.gonzalez@central.cl"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),d.jsx("input",{type:"tel",value:St.phone,onChange:ce=>Kt({...St,phone:ce.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"987654321"})]})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsxs("button",{onClick:Jt,disabled:!St.name.trim(),className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(Tw,{className:"w-4 h-4"}),"Crear Teleoperador"]}),d.jsx("button",{onClick:()=>yt(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"})]})]})}),d.jsxs("div",{className:"space-y-4",children:[$e.filter(ce=>ce&&ce.id).map(ce=>d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:ce.name||"Operador sin nombre"}),vt[ce.id]&&d.jsxs("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:[vt[ce.id].length," beneficiarios"]})]}),d.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[ce.email&&d.jsxs("p",{children:["📧 ",ce.email]}),ce.phone&&d.jsxs("p",{children:["📞 ",ce.phone]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("label",{className:"cursor-pointer bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 text-sm",children:[d.jsx(f2,{className:"w-4 h-4"}),"Subir Excel",d.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:Ne=>Qn(Ne,ce.id),className:"hidden"})]}),vt[ce.id]&&d.jsxs("button",{onClick:()=>hi(ce.id),className:"bg-yellow-500 text-white px-3 py-2 rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 text-sm",children:[d.jsx(Qu,{className:"w-4 h-4"}),"Limpiar"]}),d.jsxs("button",{onClick:()=>Ar(ce.id),className:"bg-red-500 text-white px-3 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2 text-sm",children:[d.jsx(Qu,{className:"w-4 h-4"}),"Eliminar"]})]})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[d.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Formato Excel esperado:"}),d.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Columna A:"})," Nombre del beneficiario"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna B:"})," Teléfono(s) - separados por |, - o espacios (9 dígitos cada uno)"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna C:"})," Comuna"]})]})]}),vt[ce.id]&&vt[ce.id].length>0&&d.jsxs("div",{className:"border-t pt-4",children:[d.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:["Beneficiarios Asignados (",vt[ce.id].length,")"]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50",children:[d.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Beneficiario"}),d.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Teléfono Principal"}),d.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Otros Teléfonos"}),d.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Comuna"})]})}),d.jsxs("tbody",{children:[vt[ce.id].slice(0,5).map(Ne=>d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"px-3 py-2 text-gray-900",children:Ne.beneficiary}),d.jsx("td",{className:"px-3 py-2 text-gray-900",children:Ne.primaryPhone}),d.jsx("td",{className:"px-3 py-2 text-gray-600",children:Ne.phones.length>1?Ne.phones.slice(1).join(", "):"-"}),d.jsx("td",{className:"px-3 py-2 text-gray-900",children:Ne.commune})]},Ne.id)),vt[ce.id].length>5&&d.jsx("tr",{children:d.jsxs("td",{colSpan:"4",className:"px-3 py-2 text-center text-gray-500 text-sm",children:["... y ",vt[ce.id].length-5," beneficiarios más"]})})]})]})})]})]},ce.id)),$e.length===0&&d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[d.jsx(ai,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay teleoperadores"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Crea tu primer teleoperador para comenzar a gestionar asignaciones"}),d.jsxs("button",{onClick:()=>yt(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 mx-auto",children:[d.jsx(d2,{className:"w-4 h-4"}),"Crear Primer Teleoperador"]})]})]})]}),Fe=()=>d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Historial de Seguimientos"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Clasifica beneficiarios por frecuencia y estado de contacto."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-green-800 font-semibold",children:"Al día"}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:oe.filter(ce=>ce.status==="al-dia").length})]}),d.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white text-sm",children:"✓"})})]})}),d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-yellow-800 font-semibold",children:"Pendientes"}),d.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:oe.filter(ce=>ce.status==="pendiente").length})]}),d.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white text-sm",children:"⏳"})})]})}),d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-red-800 font-semibold",children:"Urgentes"}),d.jsx("p",{className:"text-2xl font-bold text-red-600",children:oe.filter(ce=>ce.status==="urgente").length})]}),d.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white text-sm",children:"⚠"})})]})})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ew,{className:"w-4 h-4 text-gray-400"}),d.jsxs("select",{value:qe,onChange:ce=>Ae(ce.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[d.jsx("option",{value:"all",children:"Todos los estados"}),d.jsx("option",{value:"al-dia",children:"Al día"}),d.jsx("option",{value:"pendiente",children:"Pendiente"}),d.jsx("option",{value:"urgente",children:"Urgente"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(xo,{className:"w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar beneficiario o teleoperadora...",value:ue,onChange:ce=>ot(ce.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:de.length===0?d.jsx("div",{className:"col-span-full bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(vx,{className:"w-12 h-12 text-gray-400 mb-4"}),d.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay datos de seguimiento"}),d.jsx("p",{className:"text-gray-600 mb-4 max-w-md",children:A?"No se encontraron seguimientos que coincidan con los filtros aplicados.":"Para ver el historial de seguimientos, sube un archivo Excel con datos de llamadas desde el Panel Principal."}),!A&&d.jsxs("div",{className:"text-sm text-gray-500",children:["💡 Ve al ",d.jsx("strong",{children:"Panel Principal"})," → ",d.jsx("strong",{children:"Cargar Excel"})," para comenzar"]})]})}):de.map(ce=>d.jsxs("div",{className:`border-2 rounded-lg p-4 hover:shadow-md transition-shadow ${ce.status==="al-dia"?"border-green-200 bg-green-50":ce.status==="pendiente"?"border-yellow-200 bg-yellow-50":"border-red-200 bg-red-50"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:ce.beneficiary}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${ce.status==="al-dia"?"bg-green-100 text-green-800 border border-green-300":ce.status==="pendiente"?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-red-100 text-red-800 border border-red-300"}`,children:ce.status==="al-dia"?"✅ Al día":ce.status==="pendiente"?"⏳ Pendiente":"⚠️ Urgente"})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(Ss,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Teleoperadora:"}),d.jsx("span",{className:"ml-1",children:ce.operator})]}),d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(Ha,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Teléfono:"}),d.jsx("span",{className:"ml-1",children:ce.phone})]}),d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(ws,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Última llamada:"}),d.jsx("span",{className:"ml-1",children:ce.lastCall})]}),d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(fc,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Llamadas:"}),d.jsxs("span",{className:"ml-1",children:[ce.callCount," total (",ce.successfulCallCount||0," exitosas)"]})]}),ce.daysSinceLastCall!==null&&d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(Js,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Hace:"}),d.jsxs("span",{className:"ml-1",children:[ce.daysSinceLastCall," días"]})]}),ce.lastCallResult&&ce.lastCallResult!=="Sin resultado"&&d.jsxs("div",{className:"mt-2 p-2 bg-gray-100 rounded text-xs",children:[d.jsx("span",{className:"font-medium",children:"Último resultado:"}),d.jsx("span",{className:"ml-1",children:ce.lastCallResult})]})]}),ce.statusReason&&d.jsx("div",{className:`mt-3 p-2 rounded text-xs ${ce.status==="al-dia"?"bg-green-100 text-green-700":ce.status==="pendiente"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:d.jsxs("div",{className:"flex items-start",children:[ce.status==="urgente"&&d.jsx(_i,{className:"w-3 h-3 mr-1 mt-0.5 flex-shrink-0"}),d.jsx("span",{children:ce.statusReason})]})})]},ce.id))})]})});return d.jsxs(d.Fragment,{children:[d.jsx(TIe,{toasts:l,onDismiss:c}),d.jsxs("div",{className:"flex h-screen bg-gray-100",children:[d.jsx(ge,{}),d.jsx("div",{className:"flex-1 overflow-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"mb-6",children:d.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[q==="dashboard"&&"Panel principal",q==="calls"&&"Registro de Llamadas",q==="assignments"&&"Asignaciones",q==="beneficiaries"&&"Beneficiarios Base",q==="seguimientos"&&"Seguimientos Periódicos",q==="calendar"&&"Ver Calendario",q==="gestiones"&&"Gestiones Colaborativas",q==="history"&&"Historial de Seguimientos",q==="audit"&&"Auditoría Avanzada",q==="metrics"&&"Métricas Avanzadas",q==="config"&&"Configuración del Sistema"]})}),W==="demo"&&d.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(_i,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-blue-800 font-medium",children:"Modo Local"}),d.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"La aplicación funciona con datos locales. Para persistencia en la nube, completa la configuración de Firebase."}),d.jsx("p",{className:"text-blue-600 text-xs mt-2",children:"📖 Consulta FIREBASE_SETUP.md para instrucciones de configuración"})]})]})}),W==="connecting"&&d.jsx("div",{className:"mb-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"text-slate-700 text-sm",children:"Verificando configuración de Firebase..."})]})}),q==="dashboard"&&d.jsx(wh,{children:d.jsx(He,{})}),q==="calls"&&d.jsx(Re,{}),q==="assignments"&&d.jsx(Le,{}),q==="beneficiaries"&&d.jsx(wh,{children:d.jsx(F8e,{})}),q==="seguimientos"&&d.jsx(wh,{children:d.jsx(NFe,{})}),q==="calendar"&&d.jsx(wh,{children:d.jsx(snt,{})}),q==="gestiones"&&d.jsx(wh,{children:d.jsx(pnt,{})}),q==="history"&&d.jsx(Fe,{}),q==="audit"&&d.jsx(wh,{children:d.jsx(JDe,{})}),q==="metrics"&&d.jsx(wh,{children:d.jsx(Yne,{})}),q==="config"&&s&&d.jsx(wh,{children:d.jsx(vnt,{})})]})})]})]})},_nt=()=>(window._fallbackMetricsLogged||(console.log("📊 Usando métricas de fallback (sin conexión a Firestore)"),window._fallbackMetricsLogged=!0),{globalMetrics:{totalCalls:150,successfulCalls:120,failedCalls:30,uniqueBeneficiaries:85,uniqueOperators:4,averageDuration:180,successRate:80,lastUpdated:new Date,dayDistribution:{monday:28,tuesday:32,wednesday:25,thursday:30,friday:20,saturday:10,sunday:5},hourDistribution:{8:5,9:12,10:18,11:22,12:15,13:8,14:20,15:25,16:18,17:7}},teleoperadoraMetrics:[{operatorName:"Daniela Carmona",totalCalls:45,successfulCalls:38,failedCalls:7,successRate:84.4,averageDuration:165,uniqueBeneficiaries:28},{operatorName:"Antonella Valdebenito",totalCalls:38,successfulCalls:30,failedCalls:8,successRate:78.9,averageDuration:195,uniqueBeneficiaries:25},{operatorName:"Karol Aguayo",totalCalls:42,successfulCalls:35,failedCalls:7,successRate:83.3,averageDuration:175,uniqueBeneficiaries:30},{operatorName:"Javiera Reyes Alvarado",totalCalls:25,successfulCalls:17,failedCalls:8,successRate:68,averageDuration:190,uniqueBeneficiaries:18}],beneficiaryMetrics:{alDia:45,pendiente:25,urgente:15,total:85}}),$R=()=>{const e=_nt();return{...e,isUsingFallback:!0,status:"ready",loading:{global:!1,teleoperadoras:!1,beneficiarios:!1,noAsignados:!1},errors:{global:null,teleoperadoras:null,beneficiarios:null,noAsignados:null},getSummaryStats:()=>({totalCalls:e.globalMetrics.totalCalls,successfulCalls:e.globalMetrics.successfulCalls,failedCalls:e.globalMetrics.failedCalls,uniqueBeneficiaries:e.globalMetrics.uniqueBeneficiaries,uniqueOperators:e.globalMetrics.uniqueOperators,averageDuration:e.globalMetrics.averageDuration,successRate:e.globalMetrics.successRate,beneficiariesByStatus:{"Al día":e.beneficiaryMetrics.alDia,Pendiente:e.beneficiaryMetrics.pendiente,Urgente:e.beneficiaryMetrics.urgente}}),getTopOperators:(t=5)=>e.teleoperadoraMetrics.sort((r,n)=>n.totalCalls-r.totalCalls).slice(0,t).map((r,n)=>({rank:n+1,operatorName:r.operatorName,totalCalls:r.totalCalls,successRate:r.successRate,uniqueBeneficiaries:r.uniqueBeneficiaries})),getBeneficiariesByStatus:t=>{const r=[],n=e.beneficiaryMetrics[t==null?void 0:t.toLowerCase().replace(" ","")]||0;for(let a=0;a<Math.min(n,10);a++)r.push({id:`beneficiary-${t}-${a}`,nombreOriginal:`Beneficiario ${t} ${a+1}`,status:t,lastCall:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString(),successRate:Math.floor(Math.random()*30)+70});return r},getTeleoperadoraMetrics:t=>{const r=e.teleoperadoraMetrics.find(n=>n.operatorName.toLowerCase().includes((t==null?void 0:t.toLowerCase())||""))||e.teleoperadoraMetrics[0];return{...r,nombreOriginal:r.operatorName,totalDuration:r.averageDuration*r.totalCalls,lastUpdated:new Date().toISOString(),calls:Array.from({length:Math.min(r.totalCalls,20)},(n,a)=>({id:`call-${r.operatorName}-${a}`,fecha:new Date(Date.now()-Math.random()*7*24*60*60*1e3).toISOString(),beneficiario:`Beneficiario ${a+1}`,duracion:Math.floor(Math.random()*300)+60,exitosa:Math.random()>.2,observaciones:`Llamada simulada ${a+1}`}))}},getBeneficiariesByOperator:t=>{const r=e.teleoperadoraMetrics.find(n=>n.operatorName.toLowerCase().includes((t==null?void 0:t.toLowerCase())||""))||e.teleoperadoraMetrics[0];return Array.from({length:Math.min(r.uniqueBeneficiaries,15)},(n,a)=>({id:`beneficiary-op-${t}-${a}`,nombreOriginal:`Beneficiario ${r.operatorName} ${a+1}`,status:["Al día","Pendiente","Urgente"][Math.floor(Math.random()*3)],successRate:Math.floor(Math.random()*30)+70,lastCall:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString()}))}}};var rk={},Vie={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Vie);var UR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(UR);var VR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(VR);var nk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,s="",o="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const c=r[i];o?c==="\\"&&i+1<a?(i++,s+=r[i]):c===o?o="":s+=c:l?c==='"'||c==="'"?o=c:c==="]"?(l=!1,n.push(s),s=""):s+=c:c==="["?(l=!0,s&&(n.push(s),s="")):c==="."?s&&(n.push(s),s=""):s+=c,i++}return s&&n.push(s),n}e.toPath=t})(nk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vie,r=UR,n=VR,a=nk;function i(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?r.isDeepKey(l)?i(o,a.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function s(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||t.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}e.get=i})(rk);var Snt=rk.get;const Cm=Xa(Snt);var zie={exports:{}},In={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=typeof Symbol=="function"&&Symbol.for,zR=as?Symbol.for("react.element"):60103,WR=as?Symbol.for("react.portal"):60106,ak=as?Symbol.for("react.fragment"):60107,ik=as?Symbol.for("react.strict_mode"):60108,sk=as?Symbol.for("react.profiler"):60114,ok=as?Symbol.for("react.provider"):60109,lk=as?Symbol.for("react.context"):60110,HR=as?Symbol.for("react.async_mode"):60111,ck=as?Symbol.for("react.concurrent_mode"):60111,uk=as?Symbol.for("react.forward_ref"):60112,fk=as?Symbol.for("react.suspense"):60113,Ent=as?Symbol.for("react.suspense_list"):60120,dk=as?Symbol.for("react.memo"):60115,hk=as?Symbol.for("react.lazy"):60116,Ant=as?Symbol.for("react.block"):60121,Tnt=as?Symbol.for("react.fundamental"):60117,knt=as?Symbol.for("react.responder"):60118,Nnt=as?Symbol.for("react.scope"):60119;function Ul(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case zR:switch(e=e.type,e){case HR:case ck:case ak:case sk:case ik:case fk:return e;default:switch(e=e&&e.$$typeof,e){case lk:case uk:case hk:case dk:case ok:return e;default:return t}}case WR:return t}}}function Wie(e){return Ul(e)===ck}In.AsyncMode=HR;In.ConcurrentMode=ck;In.ContextConsumer=lk;In.ContextProvider=ok;In.Element=zR;In.ForwardRef=uk;In.Fragment=ak;In.Lazy=hk;In.Memo=dk;In.Portal=WR;In.Profiler=sk;In.StrictMode=ik;In.Suspense=fk;In.isAsyncMode=function(e){return Wie(e)||Ul(e)===HR};In.isConcurrentMode=Wie;In.isContextConsumer=function(e){return Ul(e)===lk};In.isContextProvider=function(e){return Ul(e)===ok};In.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===zR};In.isForwardRef=function(e){return Ul(e)===uk};In.isFragment=function(e){return Ul(e)===ak};In.isLazy=function(e){return Ul(e)===hk};In.isMemo=function(e){return Ul(e)===dk};In.isPortal=function(e){return Ul(e)===WR};In.isProfiler=function(e){return Ul(e)===sk};In.isStrictMode=function(e){return Ul(e)===ik};In.isSuspense=function(e){return Ul(e)===fk};In.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ak||e===ck||e===sk||e===ik||e===fk||e===Ent||typeof e=="object"&&e!==null&&(e.$$typeof===hk||e.$$typeof===dk||e.$$typeof===ok||e.$$typeof===lk||e.$$typeof===uk||e.$$typeof===Tnt||e.$$typeof===knt||e.$$typeof===Nnt||e.$$typeof===Ant)};In.typeOf=Ul;zie.exports=In;var Cnt=zie.exports,ts=e=>e===0?0:e>0?1:-1,tl=e=>typeof e=="number"&&e!=+e,Op=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Wt=e=>(typeof e=="number"||e instanceof Number)&&!tl(e),hf=e=>Wt(e)||typeof e=="string",Pnt=0,sw=e=>{var t=++Pnt;return"".concat(e||"").concat(t)},Xs=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Wt(t)&&typeof t!="string")return n;var i;if(Op(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return tl(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},Hie=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function jn(e,t,r){return Wt(e)&&Wt(t)?e+r*(t-e):t}function qie(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Cm(n,t))===r)}var ca=e=>e===null||typeof e>"u",fb=e=>ca(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Int=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function qR(e){if(typeof e!="string")return!1;var t=Int;return t.includes(e)}var Ont=["viewBox","children"],vW=["points","pathLength"],EC={svg:Ont,polygon:vW,polyline:vW},GR=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(j.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{qR(a)&&(n[a]=i=>r[a](r,i))}),n},Dnt=(e,t,r)=>n=>(e(t,r,n),null),db=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];qR(a)&&typeof i=="function"&&(n||(n={}),n[a]=Dnt(i,t,r))}),n},jnt=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function Gie(e){if(typeof e!="string")return!1;var t=jnt;return t.includes(e)}function Dc(e){var t=Object.entries(e).filter(r=>{var[n]=r;return Gie(n)});return Object.fromEntries(t)}var yW=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",xW=null,AC=null,Kie=e=>{if(e===xW&&Array.isArray(AC))return AC;var t=[];return j.Children.forEach(e,r=>{ca(r)||(Cnt.isFragment(r)?t=t.concat(Kie(r.props.children)):t.push(r))}),AC=t,xW=e,t};function KR(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>yW(a)):n=[yW(t)],Kie(e).forEach(a=>{var i=Cm(a,"type.displayName")||Cm(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var pk=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Rnt=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&(EC==null?void 0:EC[n]))!==null&&a!==void 0?a:[],s=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&i.includes(t)||Gie(t)),l=!!r&&qR(t);return s||o||l},fa=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(j.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var s;Rnt((s=n)===null||s===void 0?void 0:s[i],i,t,r)&&(a[i]=n[i])}),a},Lnt=["children","width","height","viewBox","className","style","title","desc"];function LI(){return LI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LI.apply(null,arguments)}function Mnt(e,t){if(e==null)return{};var r,n,a=Fnt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fnt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YR=j.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:l,desc:c}=e,u=Mnt(e,Lnt),f=i||{width:n,height:a,x:0,y:0},h=Gr("recharts-surface",s);return j.createElement("svg",LI({},fa(u,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),j.createElement("title",null,l),j.createElement("desc",null,c),r)}),Bnt=["children","className"];function MI(){return MI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MI.apply(null,arguments)}function $nt(e,t){if(e==null)return{};var r,n,a=Unt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Unt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ya=j.forwardRef((e,t)=>{var{children:r,className:n}=e,a=$nt(e,Bnt),i=Gr("recharts-layer",n);return j.createElement("g",MI({className:i},fa(a,!0),{ref:t}),r)}),Yie=j.createContext(null),Vnt=()=>j.useContext(Yie);function Kn(e){return function(){return e}}const Xie=Math.cos,O5=Math.sin,_u=Math.sqrt,D5=Math.PI,mk=2*D5,FI=Math.PI,BI=2*FI,vp=1e-6,znt=BI-vp;function Qie(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Wnt(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Qie;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Hnt{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Qie:Wnt(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>vp)if(!(Math.abs(f*l-c*u)>vp)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-s,m=a-o,g=l*l+c*c,v=p*p+m*m,y=Math.sqrt(g),x=Math.sqrt(h),w=i*Math.tan((FI-Math.acos((g+h-v)/(2*y*x)))/2),E=w/x,I=w/y;Math.abs(E-1)>vp&&this._append`L${t+E*u},${r+E*f}`,this._append`A${i},${i},0,0,${+(f*p>u*m)},${this._x1=t+I*l},${this._y1=r+I*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>vp||Math.abs(this._y1-u)>vp)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%BI+BI),h>znt?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>vp&&this._append`A${n},${n},0,${+(h>=FI)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function XR(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Hnt(t)}function QR(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Jie(e){this._context=e}Jie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gk(e){return new Jie(e)}function Zie(e){return e[0]}function ese(e){return e[1]}function tse(e,t){var r=Kn(!0),n=null,a=gk,i=null,s=XR(o);e=typeof e=="function"?e:e===void 0?Zie:Kn(e),t=typeof t=="function"?t:t===void 0?ese:Kn(t);function o(l){var c,u=(l=QR(l)).length,f,h=!1,p;for(n==null&&(i=a(p=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(p)return i=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Kn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Kn(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Kn(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function J_(e,t,r){var n=null,a=Kn(!0),i=null,s=gk,o=null,l=XR(c);e=typeof e=="function"?e:e===void 0?Zie:Kn(+e),t=typeof t=="function"?t:Kn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?ese:Kn(+r);function c(f){var h,p,m,g=(f=QR(f)).length,v,y=!1,x,w=new Array(g),E=new Array(g);for(i==null&&(o=s(x=l())),h=0;h<=g;++h){if(!(h<g&&a(v=f[h],h,f))===y)if(y=!y)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(w[m],E[m]);o.lineEnd(),o.areaEnd()}y&&(w[h]=+e(v,h,f),E[h]=+t(v,h,f),o.point(n?+n(v,h,f):w[h],r?+r(v,h,f):E[h]))}if(x)return o=null,x+""||null}function u(){return tse().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Kn(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Kn(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Kn(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Kn(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Kn(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Kn(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Kn(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class rse{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function qnt(e){return new rse(e,!0)}function Gnt(e){return new rse(e,!1)}const JR={draw(e,t){const r=_u(t/D5);e.moveTo(r,0),e.arc(0,0,r,0,mk)}},Knt={draw(e,t){const r=_u(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},nse=_u(1/3),Ynt=nse*2,Xnt={draw(e,t){const r=_u(t/Ynt),n=r*nse;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Qnt={draw(e,t){const r=_u(t),n=-r/2;e.rect(n,n,r,r)}},Jnt=.8908130915292852,ase=O5(D5/10)/O5(7*D5/10),Znt=O5(mk/10)*ase,eat=-Xie(mk/10)*ase,tat={draw(e,t){const r=_u(t*Jnt),n=Znt*r,a=eat*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=mk*i/5,o=Xie(s),l=O5(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},TC=_u(3),rat={draw(e,t){const r=-_u(t/(TC*3));e.moveTo(0,r*2),e.lineTo(-TC*r,-r),e.lineTo(TC*r,-r),e.closePath()}},Ql=-.5,Jl=_u(3)/2,$I=1/_u(12),nat=($I/2+1)*3,aat={draw(e,t){const r=_u(t/nat),n=r/2,a=r*$I,i=n,s=r*$I+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Ql*n-Jl*a,Jl*n+Ql*a),e.lineTo(Ql*i-Jl*s,Jl*i+Ql*s),e.lineTo(Ql*o-Jl*l,Jl*o+Ql*l),e.lineTo(Ql*n+Jl*a,Ql*a-Jl*n),e.lineTo(Ql*i+Jl*s,Ql*s-Jl*i),e.lineTo(Ql*o+Jl*l,Ql*l-Jl*o),e.closePath()}};function iat(e,t){let r=null,n=XR(a);e=typeof e=="function"?e:Kn(e||JR),t=typeof t=="function"?t:Kn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Kn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Kn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function j5(){}function R5(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function ise(e){this._context=e}ise.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:R5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:R5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sat(e){return new ise(e)}function sse(e){this._context=e}sse.prototype={areaStart:j5,areaEnd:j5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:R5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function oat(e){return new sse(e)}function ose(e){this._context=e}ose.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:R5(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function lat(e){return new ose(e)}function lse(e){this._context=e}lse.prototype={areaStart:j5,areaEnd:j5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function cat(e){return new lse(e)}function wW(e){return e<0?-1:1}function bW(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(wW(i)+wW(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function _W(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function kC(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function L5(e){this._context=e}L5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kC(this,this._t0,_W(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,kC(this,_W(this,r=bW(this,e,t)),r);break;default:kC(this,this._t0,r=bW(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function cse(e){this._context=new use(e)}(cse.prototype=Object.create(L5.prototype)).point=function(e,t){L5.prototype.point.call(this,t,e)};function use(e){this._context=e}use.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function uat(e){return new L5(e)}function fat(e){return new cse(e)}function fse(e){this._context=e}fse.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=SW(e),a=SW(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function SW(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function dat(e){return new fse(e)}function vk(e,t){this._context=e,this._t=t}vk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function hat(e){return new vk(e,.5)}function pat(e){return new vk(e,0)}function mat(e){return new vk(e,1)}function Qv(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function UI(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function gat(e,t){return e[t]}function vat(e){const t=[];return t.key=e,t}function yat(){var e=Kn([]),t=UI,r=Qv,n=gat;function a(i){var s=Array.from(e.apply(this,arguments),vat),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=QR(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Kn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Kn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?UI:typeof i=="function"?i:Kn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Qv,a):r},a}function xat(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}Qv(e,t)}}function wat(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}Qv(e,t)}}function bat(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var g=e[t[m]],v=g[n][1]||0,y=g[n-1][1]||0;p+=v-y}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Qv(e,t)}}var _at=["type","size","sizeType"];function VI(){return VI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VI.apply(null,arguments)}function EW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EW(Object(r),!0).forEach(function(n){Sat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sat(e,t,r){return(t=Eat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eat(e){var t=Aat(e,"string");return typeof t=="symbol"?t:t+""}function Aat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tat(e,t){if(e==null)return{};var r,n,a=kat(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kat(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dse={symbolCircle:JR,symbolCross:Knt,symbolDiamond:Xnt,symbolSquare:Qnt,symbolStar:tat,symbolTriangle:rat,symbolWye:aat},Nat=Math.PI/180,Cat=e=>{var t="symbol".concat(fb(e));return dse[t]||JR},Pat=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Nat;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Iat=(e,t)=>{dse["symbol".concat(fb(e))]=t},ZR=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=Tat(e,_at),i=AW(AW({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=Cat(s),p=iat().type(h).size(Pat(r,n,s));return p()},{className:l,cx:c,cy:u}=i,f=fa(i,!0);return c===+c&&u===+u&&r===+r?j.createElement("path",VI({},f,{className:Gr("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};ZR.registerSymbol=Iat;function zI(){return zI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zI.apply(null,arguments)}function TW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oat(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TW(Object(r),!0).forEach(function(n){eL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eL(e,t,r){return(t=Dat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dat(e){var t=jat(e,"string");return typeof t=="symbol"?t:t+""}function jat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zl=32;class tL extends j.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Zl/2,i=Zl/6,s=Zl/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline")return j.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Zl,y2:a,className:"recharts-legend-icon"});if(l==="line")return j.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Zl,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return j.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Zl/8,"h").concat(Zl,"v").concat(Zl*3/4,"h").concat(-Zl,"z"),className:"recharts-legend-icon"});if(j.isValidElement(t.legendIcon)){var c=Oat({},t);return delete c.legendIcon,j.cloneElement(t.legendIcon,c)}return j.createElement(ZR,{fill:o,cx:a,cy:a,size:Zl,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=this.props,o={x:0,y:0,width:Zl,height:Zl},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var h=u.formatter||a,p=Gr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?i:u.color,g=h?h(u.value,u,f):u.value;return j.createElement("li",zI({className:p,style:l,key:"legend-item-".concat(f)},db(this.props,u,f)),j.createElement(YR,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,s)),j.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},g))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return j.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}eL(tL,"displayName","Legend");eL(tL,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var hse={},pse={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}e.uniqBy=t})(pse);var rL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(rL);var mse={},yk={},gse={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(gse);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gse;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(yk);var vse={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(vse);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yk,r=vse;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(mse);var yse={},xse={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rk;function r(n){return function(a){return t.get(a,n)}}e.property=r})(xse);var wse={},NC={},CC={},nL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(nL);var aL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(aL);var iL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(iL);var kW;function Rat(){return kW||(kW=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sL(),r=nL,n=aL,a=iL;function i(f,h,p){return typeof p!="function"?t.isMatch(f,h):s(f,h,function m(g,v,y,x,w,E){const I=p(g,v,y,x,w,E);return I!==void 0?!!I:s(g,v,m,E)},new Map)}function s(f,h,p,m){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,p,m);case"function":return Object.keys(h).length>0?s(f,{...h},p,m):a.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function o(f,h,p,m){if(h==null)return!0;if(Array.isArray(h))return c(f,h,p,m);if(h instanceof Map)return l(f,h,p,m);if(h instanceof Set)return u(f,h,p,m);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(m&&m.has(h))return m.get(h)===f;m&&m.set(h,f);try{for(let v=0;v<g.length;v++){const y=g[v];if(!n.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!p(f[y],h[y],y,f,h,m))return!1}return!0}finally{m&&m.delete(h)}}function l(f,h,p,m){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,v]of h.entries()){const y=f.get(g);if(p(y,v,g,f,h,m)===!1)return!1}return!0}function c(f,h,p,m){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let v=0;v<h.length;v++){const y=h[v];let x=!1;for(let w=0;w<f.length;w++){if(g.has(w))continue;const E=f[w];let I=!1;if(p(E,y,v,f,h,m)&&(I=!0),I){g.add(w),x=!0;break}}if(!x)return!1}return!0}function u(f,h,p,m){return h.size===0?!0:f instanceof Set?c([...f],[...h],p,m):!1}e.isMatchWith=i,e.isSetMatch=u}(CC)),CC}var NW;function sL(){return NW||(NW=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rat();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(NC)),NC}var bse={},oL={},_se={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(_se);var lL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(lL);var cL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",g="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",E="[object BigUint64Array]",I="[object Int8Array]",P="[object Int16Array]",A="[object Int32Array]",S="[object BigInt64Array]",k="[object Float32Array]",O="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=E,e.booleanTag=a,e.dataViewTag=g,e.dateTag=o,e.errorTag=m,e.float32ArrayTag=k,e.float64ArrayTag=O,e.functionTag=f,e.int16ArrayTag=P,e.int32ArrayTag=A,e.int8ArrayTag=I,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(cL);var Sse={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Sse);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_se,r=lL,n=cL,a=aL,i=Sse;function s(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,h,p=new Map,m=void 0){const g=m==null?void 0:m(u,f,h,p);if(g!==void 0)return g;if(a.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const v=new Array(u.length);p.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,h,p,m);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;p.set(u,v);for(const[y,x]of u)v.set(y,o(x,y,h,p,m));return v}if(u instanceof Set){const v=new Set;p.set(u,v);for(const y of u)v.add(o(y,void 0,h,p,m));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,h,p,m);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,v),l(v,u,h,p,m),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return p.set(u,v),l(v,u,h,p,m),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return p.set(u,v),l(v,u,h,p,m),v}if(u instanceof Error){const v=new u.constructor;return p.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,l(v,u,h,p,m),v}if(typeof u=="object"&&c(u)){const v=Object.create(Object.getPrototypeOf(u));return p.set(u,v),l(v,u,h,p,m),v}return u}function l(u,f,h=u,p,m){const g=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<g.length;v++){const y=g[v],x=Object.getOwnPropertyDescriptor(u,y);(x==null||x.writable)&&(u[y]=o(f[y],y,h,p,m))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(oL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oL;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(bse);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sL(),r=bse;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(wse);var Ese={},Ase={},Tse={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oL,r=cL;function n(a,i){return t.cloneDeepWith(a,(s,o,l,c)=>{const u=i==null?void 0:i(s,o,l,c);if(u!==void 0)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(Tse);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tse;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(Ase);var kse={},uL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(uL);var Nse={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lL;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Nse);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UR,r=uL,n=Nse,a=nk;function i(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=a.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(kse);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sL(),r=VR,n=Ase,a=rk,i=kse;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const u=a.get(c,o);return u===void 0?i.has(c,o):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=s})(Ese);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rL,r=xse,n=wse,a=Ese;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(yse);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pse,r=rL,n=mse,a=yse;function i(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(o)):[]}e.uniqBy=i})(hse);var Lat=hse.uniqBy;const CW=Xa(Lat);function Cse(e,t,r){return t===!0?CW(e,r):typeof t=="function"?CW(e,t):e}var Pse={exports:{}},Ise={},Ose={exports:{}},Dse={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv=j;function Mat(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fat=typeof Object.is=="function"?Object.is:Mat,Bat=Jv.useState,$at=Jv.useEffect,Uat=Jv.useLayoutEffect,Vat=Jv.useDebugValue;function zat(e,t){var r=t(),n=Bat({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return Uat(function(){a.value=r,a.getSnapshot=t,PC(a)&&i({inst:a})},[e,r,t]),$at(function(){return PC(a)&&i({inst:a}),e(function(){PC(a)&&i({inst:a})})},[e]),Vat(r),r}function PC(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Fat(e,r)}catch{return!0}}function Wat(e,t){return t()}var Hat=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Wat:zat;Dse.useSyncExternalStore=Jv.useSyncExternalStore!==void 0?Jv.useSyncExternalStore:Hat;Ose.exports=Dse;var qat=Ose.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xk=j,Gat=qat;function Kat(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yat=typeof Object.is=="function"?Object.is:Kat,Xat=Gat.useSyncExternalStore,Qat=xk.useRef,Jat=xk.useEffect,Zat=xk.useMemo,eit=xk.useDebugValue;Ise.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Qat(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Zat(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),a!==void 0&&s.hasValue){var m=s.value;if(a(m,p))return f=m}return f=p}if(m=f,Yat(u,p))return m;var g=n(p);return a!==void 0&&a(m,g)?(u=p,m):(u=p,f=g)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=Xat(e,i[0],i[1]);return Jat(function(){s.hasValue=!0,s.value=o},[o]),eit(o),o};Pse.exports=Ise;var tit=Pse.exports,fL=j.createContext(null),rit=e=>e,ja=()=>{var e=j.useContext(fL);return e?e.store.dispatch:rit},QS=()=>{},nit=()=>QS,ait=(e,t)=>e===t;function $t(e){var t=j.useContext(fL);return tit.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:nit,t?t.store.getState:QS,t?t.store.getState:QS,t?e:QS,ait)}function iit(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function sit(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function oit(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var PW=e=>Array.isArray(e)?e:[e];function lit(e){const t=Array.isArray(e[0])?e[0]:e;return oit(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function cit(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var uit=class{constructor(e){this.value=e}deref(){return this.value}},fit=typeof WeakRef<"u"?WeakRef:uit,dit=0,IW=1;function Z_(){return{s:dit,v:void 0,o:null,p:null}}function jse(e,t={}){let r=Z_();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var f;let o=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const v=g.get(m);v===void 0?(o=Z_(),g.set(m,o)):o=v}else{let g=o.p;g===null&&(o.p=g=new Map);const v=g.get(m);v===void 0?(o=Z_(),g.set(m,o)):o=v}}const c=o;let u;if(o.s===IW)u=o.v;else if(u=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,u)&&(u=h,i!==0&&i--),a=typeof u=="object"&&u!==null||typeof u=="function"?new fit(u):u}return c.s=IW,c.v=u,u}return s.clearCache=()=>{r=Z_(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function hit(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,o,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),iit(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=jse,argsMemoizeOptions:m=[]}=u,g=PW(h),v=PW(m),y=lit(a),x=f(function(){return i++,c.apply(null,arguments)},...g),w=p(function(){s++;const I=cit(y,arguments);return o=x.apply(null,I),o},...v);return Object.assign(w,{resultFunc:c,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var ze=hit(jse),pit=Object.assign((e,t=ze)=>{sit(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>pit}),Rse={},Lse={},Mse={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),o=t(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(Mse);var Fse={},dL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(dL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dL,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(Fse);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mse,r=Fse,n=nk;function a(i,s,o,l){if(i==null)return[];o=l?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const c=(p,m)=>{let g=p;for(let v=0;v<m.length&&g!=null;++v)g=g[m[v]];return g},u=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=s.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>u(m,p))})).slice().sort((p,m)=>{for(let g=0;g<f.length;g++){const v=t.compareValues(p.criteria[g],m.criteria[g],o[g]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=a})(Lse);var Bse={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<i?s(u,l+1):a.push(u)}};return s(r,0),a}e.flatten=t})(Bse);var hL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uL,r=yk,n=nL,a=iL;function i(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?a.eq(l[o],s):!1}e.isIterateeCall=i})(hL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lse,r=Bse,n=hL;function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(Rse);var mit=Rse.sortBy;const wk=Xa(mit);var $se=e=>e.legend.settings,git=e=>e.legend.size,vit=e=>e.legend.payload,yit=ze([vit,$se],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?wk(n,r):n});function xit(){return $t(yit)}var eS=1;function Use(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=j.useState({height:0,left:0,top:0,width:0}),n=j.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>eS||Math.abs(s.left-t.left)>eS||Math.abs(s.top-t.top)>eS||Math.abs(s.width-t.width)>eS)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function hs(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var wit=typeof Symbol=="function"&&Symbol.observable||"@@observable",OW=wit,IC=()=>Math.random().toString(36).substring(7).split("").join("."),bit={INIT:`@@redux/INIT${IC()}`,REPLACE:`@@redux/REPLACE${IC()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${IC()}`},M5=bit;function pL(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Vse(e,t,r){if(typeof e!="function")throw new Error(hs(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(hs(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(hs(1));return r(Vse)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,l=!1;function c(){s===i&&(s=new Map,i.forEach((v,y)=>{s.set(y,v)}))}function u(){if(l)throw new Error(hs(3));return a}function f(v){if(typeof v!="function")throw new Error(hs(4));if(l)throw new Error(hs(5));let y=!0;c();const x=o++;return s.set(x,v),function(){if(y){if(l)throw new Error(hs(6));y=!1,c(),s.delete(x),i=null}}}function h(v){if(!pL(v))throw new Error(hs(7));if(typeof v.type>"u")throw new Error(hs(8));if(typeof v.type!="string")throw new Error(hs(17));if(l)throw new Error(hs(9));try{l=!0,a=n(a,v)}finally{l=!1}return(i=s).forEach(x=>{x()}),v}function p(v){if(typeof v!="function")throw new Error(hs(10));n=v,h({type:M5.REPLACE})}function m(){const v=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(hs(11));function x(){const E=y;E.next&&E.next(u())}return x(),{unsubscribe:v(x)}},[OW](){return this}}}return h({type:M5.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:p,[OW]:m}}function _it(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:M5.INIT})>"u")throw new Error(hs(12));if(typeof r(void 0,{type:M5.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hs(13))})}function zse(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{_it(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let l=!1;const c={};for(let u=0;u<n.length;u++){const f=n[u],h=r[f],p=s[f],m=h(p,o);if(typeof m>"u")throw o&&o.type,new Error(hs(14));c[f]=m,l=l||m!==p}return l=l||n.length!==Object.keys(s).length,l?c:s}}function F5(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Sit(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(hs(15))};const s={getState:a.getState,dispatch:(l,...c)=>i(l,...c)},o=e.map(l=>l(s));return i=F5(...o)(a.dispatch),{...a,dispatch:i}}}function Wse(e){return pL(e)&&"type"in e&&typeof e.type=="string"}var Hse=Symbol.for("immer-nothing"),DW=Symbol.for("immer-draftable"),Ml=Symbol.for("immer-state");function Zc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zv=Object.getPrototypeOf;function Pm(e){return!!e&&!!e[Ml]}function Od(e){var t;return e?qse(e)||Array.isArray(e)||!!e[DW]||!!((t=e.constructor)!=null&&t[DW])||hb(e)||_k(e):!1}var Eit=Object.prototype.constructor.toString();function qse(e){if(!e||typeof e!="object")return!1;const t=Zv(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Eit}function B5(e,t){bk(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function bk(e){const t=e[Ml];return t?t.type_:Array.isArray(e)?1:hb(e)?2:_k(e)?3:0}function WI(e,t){return bk(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Gse(e,t,r){const n=bk(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Ait(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function hb(e){return e instanceof Map}function _k(e){return e instanceof Set}function yp(e){return e.copy_||e.base_}function HI(e,t){if(hb(e))return new Map(e);if(_k(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=qse(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ml];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Zv(e),n)}else{const n=Zv(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function mL(e,t=!1){return Sk(e)||Pm(e)||!Od(e)||(bk(e)>1&&Object.defineProperties(e,{set:{value:tS},add:{value:tS},clear:{value:tS},delete:{value:tS}}),Object.freeze(e),t&&Object.values(e).forEach(r=>mL(r,!0))),e}function tS(){Zc(2)}function Sk(e){return Object.isFrozen(e)}var Tit={};function Im(e){const t=Tit[e];return t||Zc(0,e),t}var ow;function Kse(){return ow}function kit(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jW(e,t){t&&(Im("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function qI(e){GI(e),e.drafts_.forEach(Nit),e.drafts_=null}function GI(e){e===ow&&(ow=e.parent_)}function RW(e){return ow=kit(ow,e)}function Nit(e){const t=e[Ml];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function LW(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ml].modified_&&(qI(t),Zc(4)),Od(e)&&(e=$5(t,e),t.parent_||U5(t,e)),t.patches_&&Im("Patches").generateReplacementPatches_(r[Ml].base_,e,t.patches_,t.inversePatches_)):e=$5(t,r,[]),qI(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Hse?e:void 0}function $5(e,t,r){if(Sk(t))return t;const n=t[Ml];if(!n)return B5(t,(a,i)=>MW(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return U5(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,s=!1;n.type_===3&&(i=new Set(a),a.clear(),s=!0),B5(i,(o,l)=>MW(e,n,a,o,l,r,s)),U5(e,a,!1),r&&e.patches_&&Im("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function MW(e,t,r,n,a,i,s){if(Pm(a)){const o=i&&t&&t.type_!==3&&!WI(t.assigned_,n)?i.concat(n):void 0,l=$5(e,a,o);if(Gse(r,n,l),Pm(l))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(Od(a)&&!Sk(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;$5(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(hb(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&U5(e,a)}}function U5(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mL(t,r)}function Cit(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Kse(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=gL;r&&(a=[n],i=lw);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var gL={get(e,t){if(t===Ml)return e;const r=yp(e);if(!WI(r,t))return Pit(e,r,t);const n=r[t];return e.finalized_||!Od(n)?n:n===OC(e.base_,t)?(DC(e),e.copy_[t]=YI(n,e)):n},has(e,t){return t in yp(e)},ownKeys(e){return Reflect.ownKeys(yp(e))},set(e,t,r){const n=Yse(yp(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=OC(yp(e),t),i=a==null?void 0:a[Ml];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Ait(r,a)&&(r!==void 0||WI(e.base_,t)))return!0;DC(e),KI(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return OC(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,DC(e),KI(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=yp(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Zc(11)},getPrototypeOf(e){return Zv(e.base_)},setPrototypeOf(){Zc(12)}},lw={};B5(gL,(e,t)=>{lw[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lw.deleteProperty=function(e,t){return lw.set.call(this,e,t,void 0)};lw.set=function(e,t,r){return gL.set.call(this,e[0],t,r,e[0])};function OC(e,t){const r=e[Ml];return(r?yp(r):e)[t]}function Pit(e,t,r){var a;const n=Yse(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Yse(e,t){if(!(t in e))return;let r=Zv(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Zv(r)}}function KI(e){e.modified_||(e.modified_=!0,e.parent_&&KI(e.parent_))}function DC(e){e.copy_||(e.copy_=HI(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Iit=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(l=i,...c){return s.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&Zc(6),n!==void 0&&typeof n!="function"&&Zc(7);let a;if(Od(t)){const i=RW(this),s=YI(t,void 0);let o=!0;try{a=r(s),o=!1}finally{o?qI(i):GI(i)}return jW(i,n),LW(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Hse&&(a=void 0),this.autoFreeze_&&mL(a,!0),n){const i=[],s=[];Im("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else Zc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,a;return[this.produce(t,r,(s,o)=>{n=s,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Od(e)||Zc(8),Pm(e)&&(e=dd(e));const t=RW(this),r=YI(e,void 0);return r[Ml].isManual_=!0,GI(t),r}finishDraft(e,t){const r=e&&e[Ml];(!r||!r.isManual_)&&Zc(9);const{scope_:n}=r;return jW(n,t),LW(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Im("Patches").applyPatches_;return Pm(e)?n(e,t):this.produce(e,a=>n(a,t))}};function YI(e,t){const r=hb(e)?Im("MapSet").proxyMap_(e,t):_k(e)?Im("MapSet").proxySet_(e,t):Cit(e,t);return(t?t.scope_:Kse()).drafts_.push(r),r}function dd(e){return Pm(e)||Zc(10,e),Xse(e)}function Xse(e){if(!Od(e)||Sk(e))return e;const t=e[Ml];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=HI(e,t.scope_.immer_.useStrictShallowCopy_)}else r=HI(e,!0);return B5(r,(n,a)=>{Gse(r,n,Xse(a))}),t&&(t.finalized_=!1),r}var Oit=new Iit,Qse=Oit.produce;function Jse(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var Dit=Jse(),jit=Jse,Rit=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?F5:F5.apply(null,arguments)};function kc(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Ol(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>Wse(n)&&n.type===e,r}var Zse=class sx extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,sx.prototype)}static get[Symbol.species](){return sx}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new sx(...t[0].concat(this)):new sx(...t.concat(this))}};function FW(e){return Od(e)?Qse(e,()=>{}):e}function rS(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Lit(e){return typeof e=="boolean"}var Mit=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new Zse;return r&&(Lit(r)?s.push(Dit):s.push(jit(r.extraArgument))),s},Fit="RTK_autoBatch",BW=e=>t=>{setTimeout(t,e)},Bit=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:BW(10):e.type==="callback"?e.queueNotification:BW(e.timeout),c=()=>{s=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>a&&u(),h=n.subscribe(f);return o.add(u),()=>{h(),o.delete(u)}},dispatch(u){var f;try{return a=!((f=u==null?void 0:u.meta)!=null&&f[Fit]),i=!a,i&&(s||(s=!0,l(c))),n.dispatch(u)}finally{a=!0}}})},$it=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new Zse(e);return n&&a.push(Bit(typeof n=="object"?n:void 0)),a};function Uit(e){const t=Mit(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(pL(r))o=zse(r);else throw new Error(Ol(1));let l;typeof n=="function"?l=n(t):l=t();let c=F5;a&&(c=Rit({trace:!1,...typeof a=="object"&&a}));const u=Sit(...l),f=$it(u);let h=typeof s=="function"?s(f):f();const p=c(...h);return Vse(o,i,p)}function eoe(e){const t={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(Ol(28));if(o in t)throw new Error(Ol(29));return t[o]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function Vit(e){return typeof e=="function"}function zit(e,t){let[r,n,a]=eoe(t),i;if(Vit(e))i=()=>FW(e());else{const o=FW(e);i=()=>o}function s(o=i(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[a]),c.reduce((u,f)=>{if(f)if(Pm(u)){const p=f(u,l);return p===void 0?u:p}else{if(Od(u))return Qse(u,h=>f(h,l));{const h=f(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},o)}return s.getInitialState=i,s}var Wit="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Hit=(e=21)=>{let t="",r=e;for(;r--;)t+=Wit[Math.random()*64|0];return t},qit=Symbol.for("rtk-slice-createasyncthunk");function Git(e,t){return`${e}/${t}`}function Kit({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[qit];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(Ol(11));const o=(typeof a.reducers=="function"?a.reducers(Xit()):a.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(E,I){const P=typeof E=="string"?E:E.type;if(!P)throw new Error(Ol(12));if(P in c.sliceCaseReducersByType)throw new Error(Ol(13));return c.sliceCaseReducersByType[P]=I,u},addMatcher(E,I){return c.sliceMatchers.push({matcher:E,reducer:I}),u},exposeAction(E,I){return c.actionCreators[E]=I,u},exposeCaseReducer(E,I){return c.sliceCaseReducersByName[E]=I,u}};l.forEach(E=>{const I=o[E],P={reducerName:E,type:Git(i,E),createNotation:typeof a.reducers=="function"};Jit(I)?est(P,I,u,t):Qit(P,I,u)});function f(){const[E={},I=[],P=void 0]=typeof a.extraReducers=="function"?eoe(a.extraReducers):[a.extraReducers],A={...E,...c.sliceCaseReducersByType};return zit(a.initialState,S=>{for(let k in A)S.addCase(k,A[k]);for(let k of c.sliceMatchers)S.addMatcher(k.matcher,k.reducer);for(let k of I)S.addMatcher(k.matcher,k.reducer);P&&S.addDefaultCase(P)})}const h=E=>E,p=new Map,m=new WeakMap;let g;function v(E,I){return g||(g=f()),g(E,I)}function y(){return g||(g=f()),g.getInitialState()}function x(E,I=!1){function P(S){let k=S[E];return typeof k>"u"&&I&&(k=rS(m,P,y)),k}function A(S=h){const k=rS(p,I,()=>new WeakMap);return rS(k,S,()=>{const O={};for(const[T,C]of Object.entries(a.selectors??{}))O[T]=Yit(C,S,()=>rS(m,S,y),I);return O})}return{reducerPath:E,getSelectors:A,get selectors(){return A(P)},selectSlice:P}}const w={name:i,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:y,...x(s),injectInto(E,{reducerPath:I,...P}={}){const A=I??s;return E.inject({reducerPath:A,reducer:v},P),{...w,...x(A,!0)}}};return w}}function Yit(e,t,r,n){function a(i,...s){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return a.unwrapped=e,a}var Vl=Kit();function Xit(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Qit({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!Zit(n))throw new Error(Ol(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?kc(e,s):kc(e))}function Jit(e){return e._reducerDefinitionType==="asyncThunk"}function Zit(e){return e._reducerDefinitionType==="reducerWithPrepare"}function est({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Ol(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=r,f=a(e,i,u);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:s||nS,pending:o||nS,rejected:l||nS,settled:c||nS})}function nS(){}var tst="task",toe="listener",roe="completed",vL="cancelled",rst=`task-${vL}`,nst=`task-${roe}`,XI=`${toe}-${vL}`,ast=`${toe}-${roe}`,Ek=class{constructor(e){hn(this,"name","TaskAbortError");hn(this,"message");this.code=e,this.message=`${tst} ${vL} (reason: ${e})`}},yL=(e,t)=>{if(typeof e!="function")throw new TypeError(Ol(32))},V5=()=>{},noe=(e,t=V5)=>(e.catch(t),e),aoe=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Gp=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Kp=e=>{if(e.aborted){const{reason:t}=e;throw new Ek(t)}};function ioe(e,t){let r=V5;return new Promise((n,a)=>{const i=()=>a(new Ek(e.reason));if(e.aborted){i();return}r=aoe(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=V5})}var ist=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Ek?"cancelled":"rejected",error:r}}finally{t==null||t()}},z5=e=>t=>noe(ioe(e,t).then(r=>(Kp(e),r))),soe=e=>{const t=z5(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:wv}=Object,$W={},Ak="listenerMiddleware",sst=(e,t)=>{const r=n=>aoe(e,()=>Gp(n,e.reason));return(n,a)=>{yL(n);const i=new AbortController;r(i);const s=ist(async()=>{Kp(e),Kp(i.signal);const o=await n({pause:z5(i.signal),delay:soe(i.signal),signal:i.signal});return Kp(i.signal),o},()=>Gp(i,nst));return a!=null&&a.autoJoin&&t.push(s.catch(V5)),{result:z5(e)(s),cancel(){Gp(i,rst)}}}},ost=(e,t)=>{const r=async(n,a)=>{Kp(t);let i=()=>{};const o=[new Promise((l,c)=>{let u=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});i=()=>{u(),c()}})];a!=null&&o.push(new Promise(l=>setTimeout(l,a,null)));try{const l=await ioe(t,Promise.race(o));return Kp(t),l}finally{i()}};return(n,a)=>noe(r(n,a))},ooe=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=kc(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Ol(21));return yL(i),{predicate:a,type:t,effect:i}},loe=wv(e=>{const{type:t,predicate:r,effect:n}=ooe(e);return{id:Hit(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ol(22))}}},{withTypes:()=>loe}),UW=(e,t)=>{const{type:r,effect:n,predicate:a}=ooe(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},QI=e=>{e.pending.forEach(t=>{Gp(t,XI)})},lst=e=>()=>{e.forEach(QI),e.clear()},VW=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},coe=wv(kc(`${Ak}/add`),{withTypes:()=>coe}),cst=kc(`${Ak}/removeAll`),uoe=wv(kc(`${Ak}/remove`),{withTypes:()=>uoe}),ust=(...e)=>{console.error(`${Ak}/error`,...e)},pb=(e={})=>{const t=new Map,{extra:r,onError:n=ust}=e;yL(n);const a=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&QI(u)}),i=u=>{const f=UW(t,u)??loe(u);return a(f)};wv(i,{withTypes:()=>i});const s=u=>{const f=UW(t,u);return f&&(f.unsubscribe(),u.cancelActive&&QI(f)),!!f};wv(s,{withTypes:()=>s});const o=async(u,f,h,p)=>{const m=new AbortController,g=ost(i,m.signal),v=[];try{u.pending.add(m),await Promise.resolve(u.effect(f,wv({},h,{getOriginalState:p,condition:(y,x)=>g(y,x).then(Boolean),take:g,delay:soe(m.signal),pause:z5(m.signal),extra:r,signal:m.signal,fork:sst(m.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,x,w)=>{y!==m&&(Gp(y,XI),w.delete(y))})},cancel:()=>{Gp(m,XI),u.pending.delete(m)},throwIfCancelled:()=>{Kp(m.signal)}})))}catch(y){y instanceof Ek||VW(n,y,{raisedBy:"effect"})}finally{await Promise.all(v),Gp(m,ast),u.pending.delete(m)}},l=lst(t);return{middleware:u=>f=>h=>{if(!Wse(h))return f(h);if(coe.match(h))return i(h.payload);if(cst.match(h)){l();return}if(uoe.match(h))return s(h.payload);let p=u.getState();const m=()=>{if(p===$W)throw new Error(Ol(23));return p};let g;try{if(g=f(h),t.size>0){const v=u.getState(),y=Array.from(t.values());for(const x of y){let w=!1;try{w=x.predicate(h,v,p)}catch(E){w=!1,VW(n,E,{raisedBy:"predicate"})}w&&o(x,h,u,m)}}}finally{p=$W}return g},startListening:i,stopListening:s,clearListeners:l}};function Ol(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var fst={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},foe=Vl({name:"chartLayout",initialState:fst,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:dst,setLayout:hst,setChartSize:pst,setScale:mst}=foe.actions,gst=foe.reducer;function zW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zW(Object(r),!0).forEach(function(n){vst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vst(e,t,r){return(t=yst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yst(e){var t=xst(e,"string");return typeof t=="symbol"?t:t+""}function xst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W5=Math.PI/180,wst=e=>e*180/Math.PI,Ti=(e,t,r,n)=>({x:e+Math.cos(-W5*n)*r,y:t+Math.sin(-W5*n)*r}),doe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},bst=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},_st=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=bst({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,l=Math.acos(o);return n>i&&(l=2*Math.PI-l),{radius:s,angle:wst(l),angleInRadian:l}},Sst=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},Est=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},Ast=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=_st({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o||a===0)return null;var{startAngle:l,endAngle:c}=Sst(t),u=i,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?WW(WW({},t),{},{radius:a,angle:Est(u,t)}):null};function hoe(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function HW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HW(Object(r),!0).forEach(function(n){Tst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tst(e,t,r){return(t=kst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kst(e){var t=Nst(e,"string");return typeof t=="symbol"?t:t+""}function Nst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ln(e,t,r){return ca(e)||ca(t)?r:hf(t)?Cm(e,t,r):typeof t=="function"?t(e):r}var Cst=(e,t,r,n,a)=>{var i,s=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(ts(u-c)!==ts(f-u)){var p=[];if(ts(f-u)===ts(a[1]-a[0])){h=f;var m=u+a[1]-a[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var g=f+a[1]-a[0];p[0]=Math.min(u,(g+u)/2),p[1]=Math.max(u,(g+u)/2)}var v=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>v[0]&&e<=v[1]||e>=p[0]&&e<=p[1]){({index:s}=r[l]);break}}else{var y=Math.min(c,f),x=Math.max(c,f);if(e>(y+u)/2&&e<=(x+u)/2){({index:s}=r[l]);break}}}else if(t){for(var w=0;w<o;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:s}=t[w]);break}}return s},Pst=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&Wt(e[i]))return uc(uc({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&Wt(e[s]))return uc(uc({},e),{},{[s]:e[s]+(a||0)})}return e},Ef=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",poe=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,s=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||s.push(t),i||s.push(r),s},moe=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:h,axisType:p}=e;if(!s)return null;var m=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=a==="category"&&s.bandwidth?s.bandwidth()/m:0;if(g=p==="angleAxis"&&i&&i.length>=2?ts(i[0]-i[1])*2*g:g,f||h){var v=(f||h||[]).map((y,x)=>{var w=n?n.indexOf(y):y;return{coordinate:s(w)+g,value:y,offset:g,index:x}});return v.filter(y=>!tl(y.coordinate))}return l&&c?c.map((y,x)=>({coordinate:s(y)+g,value:y,index:x,offset:g})):s.ticks&&u!=null?s.ticks(u).map((y,x)=>({coordinate:s(y)+g,value:y,offset:g,index:x})):s.domain().map((y,x)=>({coordinate:s(y)+g,value:n?n[y]:y,index:x,offset:g}))},qW=1e-4,Ist=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-qW,i=Math.max(n[0],n[1])+qW,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},Ost=(e,t)=>{if(!t||t.length!==2||!Wt(t[0])||!Wt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Wt(e[0])||e[0]<r)&&(a[0]=r),(!Wt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},Dst=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=tl(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},jst=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=tl(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Rst={sign:Dst,expand:xat,none:Qv,silhouette:wat,wiggle:bat,positive:jst},Lst=(e,t,r)=>{var n=Rst[r],a=yat().keys(t).value((i,s)=>+Ln(i,s,0)).order(UI).offset(n);return a(e)};function goe(e){return e==null?void 0:String(e)}function H5(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ca(a[t.dataKey])){var o=qie(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Ln(a,ca(s)?t.dataKey:s);return ca(l)?null:t.scale(l)}var GW=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Ln(i,t.dataKey,t.scale.domain()[s]);return ca(o)?null:t.scale(o)-a/2+n},Mst=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Fst=e=>{var t=e.flat(2).filter(Wt);return[Math.min(...t),Math.max(...t)]},Bst=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],$st=(e,t,r)=>{if(e!=null)return Bst(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((l,c)=>{var u=hoe(c,t,r),f=Fst(u);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},KW=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YW=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Om=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=wk(t,u=>u.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],c=a[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function XW(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return uc(uc({},t),{},{dataKey:r,payload:n,value:a,name:i})}function H0(e,t){if(e)return String(e);if(typeof t=="string")return t}function Ust(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?Ast({x:e,y:t},n):null}var Vst=(e,t,r,n)=>{var a=t.find(c=>c&&c.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:s}=n;return uc(uc(uc({},n),Ti(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:l}=n;return uc(uc(uc({},n),Ti(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},zst=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Vd=e=>e.layout.width,zd=e=>e.layout.height,Wst=e=>e.layout.scale,voe=e=>e.layout.margin,Tk=ze(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),kk=ze(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),yoe="data-recharts-item-index",xoe="data-recharts-item-data-key",mb=60;function QW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QW(Object(r),!0).forEach(function(n){Hst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hst(e,t,r){return(t=qst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qst(e){var t=Gst(e,"string");return typeof t=="symbol"?t:t+""}function Gst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kst=e=>e.brush.height;function Yst(e){var t=kk(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:mb;return r+a}return r},0)}function Xst(e){var t=kk(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:mb;return r+a}return r},0)}function Qst(e){var t=Tk(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Jst(e){var t=Tk(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Vi=ze([Vd,zd,voe,Kst,Yst,Xst,Qst,Jst,$se,git],(e,t,r,n,a,i,s,o,l,c)=>{var u={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=aS(aS({},f),u),p=h.bottom;h.bottom+=n,h=Pst(h,l,c);var m=e-h.left-h.right,g=t-h.top-h.bottom;return aS(aS({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(g,0)})}),Zst=ze(Vi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),xL=ze(Vd,zd,(e,t)=>({x:0,y:0,width:e,height:t})),eot=j.createContext(null),ao=()=>j.useContext(eot)!=null,Nk=e=>e.brush,Ck=ze([Nk,Vi,voe],(e,t,r)=>({height:e.height,x:Wt(e.x)?e.x:t.left,y:Wt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Wt(e.width)?e.width:t.width})),wL=()=>{var e,t=ao(),r=$t(Zst),n=$t(Ck),a=(e=$t(Nk))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},tot={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},woe=()=>{var e;return(e=$t(Vi))!==null&&e!==void 0?e:tot},bL=()=>$t(Vd),_L=()=>$t(zd),rot=()=>$t(e=>e.layout.margin),Ur=e=>e.layout.layoutType,gb=()=>$t(Ur),not={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},boe=Vl({name:"legend",initialState:not,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=dd(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:JW,setLegendSettings:aot,addLegendPayload:_oe,removeLegendPayload:Soe}=boe.actions,iot=boe.reducer,sot=["contextPayload"];function JI(){return JI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JI.apply(null,arguments)}function ZW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function e1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZW(Object(r),!0).forEach(function(n){SL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZW(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SL(e,t,r){return(t=oot(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oot(e){var t=lot(e,"string");return typeof t=="symbol"?t:t+""}function lot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cot(e,t){if(e==null)return{};var r,n,a=uot(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uot(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fot(e){return e.value}function dot(e){var{contextPayload:t}=e,r=cot(e,sot),n=Cse(t,e.payloadUniqBy,fot),a=e1(e1({},r),{},{payload:n});return j.isValidElement(e.content)?j.cloneElement(e.content,a):typeof e.content=="function"?j.createElement(e.content,a):j.createElement(tL,a)}function hot(e,t,r,n,a,i){var{layout:s,align:o,verticalAlign:l}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((n||0)-i.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((a||0)-i.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),e1(e1({},c),u)}function pot(e){var t=ja();return j.useEffect(()=>{t(aot(e))},[t,e]),null}function mot(e){var t=ja();return j.useEffect(()=>(t(JW(e)),()=>{t(JW({width:0,height:0}))}),[t,e]),null}function got(e){var t=xit(),r=Vnt(),n=rot(),{width:a,height:i,wrapperStyle:s,portal:o}=e,[l,c]=Use([t]),u=bL(),f=_L();if(u==null||f==null)return null;var h=u-(n.left||0)-(n.right||0),p=Pk.getWidthOrHeight(e.layout,i,a,h),m=o?s:e1(e1({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||i||"auto"},hot(s,e,n,u,f,l)),s),g=o??r;if(g==null)return null;var v=j.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:c},j.createElement(pot,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),j.createElement(mot,{width:l.width,height:l.height}),j.createElement(dot,JI({},e,p,{margin:n,chartWidth:u,chartHeight:f,contextPayload:t})));return RA.createPortal(v,g)}class Pk extends j.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&Wt(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return j.createElement(got,this.props)}}SL(Pk,"displayName","Legend");SL(Pk,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function ZI(){return ZI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZI.apply(null,arguments)}function eH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eH(Object(r),!0).forEach(function(n){vot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vot(e,t,r){return(t=yot(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yot(e){var t=xot(e,"string");return typeof t=="symbol"?t:t+""}function xot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wot(e){return Array.isArray(e)&&hf(e[0])&&hf(e[1])?e.join(" ~ "):e}var bot=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(i&&i.length){var I={padding:0,margin:0},P=(o?wk(i,o):i).map((A,S)=>{if(A.type==="none")return null;var k=A.formatter||s||wot,{value:O,name:T}=A,C=O,D=T;if(k){var B=k(O,T,A,S,i);if(Array.isArray(B))[C,D]=B;else if(B!=null)C=B;else return null}var Y=jC({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},n);return j.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:Y},hf(D)?j.createElement("span",{className:"recharts-tooltip-item-name"},D):null,hf(D)?j.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,j.createElement("span",{className:"recharts-tooltip-item-value"},C),j.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return j.createElement("ul",{className:"recharts-tooltip-item-list",style:I},P)}return null},m=jC({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=jC({margin:0},a),v=!ca(u),y=v?u:"",x=Gr("recharts-default-tooltip",l),w=Gr("recharts-tooltip-label",c);v&&f&&i!==void 0&&i!==null&&(y=f(u,i));var E=h?{role:"status","aria-live":"assertive"}:{};return j.createElement("div",ZI({className:x,style:m},E),j.createElement("p",{className:w,style:g},j.isValidElement(y)?y:"".concat(y)),p())},My="recharts-tooltip-wrapper",_ot={visibility:"hidden"};function Sot(e){var{coordinate:t,translateX:r,translateY:n}=e;return Gr(My,{["".concat(My,"-right")]:Wt(r)&&t&&Wt(t.x)&&r>=t.x,["".concat(My,"-left")]:Wt(r)&&t&&Wt(t.x)&&r<t.x,["".concat(My,"-bottom")]:Wt(n)&&t&&Wt(t.y)&&n>=t.y,["".concat(My,"-top")]:Wt(n)&&t&&Wt(t.y)&&n<t.y})}function tH(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(i&&Wt(i[n]))return i[n];var u=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return s[n]?u:f;var h=l[n];if(h==null)return 0;if(s[n]){var p=u,m=h;return p<m?Math.max(f,h):Math.max(u,h)}if(c==null)return 0;var g=f+o,v=h+c;return g>v?Math.max(u,h):Math.max(f,h)}function Eot(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Aot(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,u,f;return s.height>0&&s.width>0&&r?(u=tH({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=tH({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=Eot({translateX:u,translateY:f,useTranslate3d:o})):c=_ot,{cssProperties:c,cssClasses:Sot({translateX:u,translateY:f,coordinate:r})}}function rH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rH(Object(r),!0).forEach(function(n){eO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eO(e,t,r){return(t=Tot(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tot(e){var t=kot(e,"string");return typeof t=="symbol"?t:t+""}function kot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Not extends j.PureComponent{constructor(){super(...arguments),eO(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),eO(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:g,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:w}=Aot({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:p}),E=y?{}:iS(iS({transition:l&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),I=iS(iS({},E),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},m);return j.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:I,ref:v},i)}}var Cot=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Wd={devToolsEnabled:!1,isSsr:Cot()},Eoe=()=>$t(e=>e.rootProps.accessibilityLayer);function As(e){return Number.isFinite(e)}function t1(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function tO(){return tO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tO.apply(null,arguments)}function nH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nH(Object(r),!0).forEach(function(n){Pot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pot(e,t,r){return(t=Iot(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iot(e){var t=Oot(e,"string");return typeof t=="symbol"?t:t+""}function Oot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iH={curveBasisClosed:oat,curveBasisOpen:lat,curveBasis:sat,curveBumpX:qnt,curveBumpY:Gnt,curveLinearClosed:cat,curveLinear:gk,curveMonotoneX:uat,curveMonotoneY:fat,curveNatural:dat,curveStep:hat,curveStepAfter:mat,curveStepBefore:pat},sS=e=>As(e.x)&&As(e.y),Fy=e=>e.x,By=e=>e.y,Dot=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(fb(e));return(r==="curveMonotone"||r==="curveBump")&&t?iH["".concat(r).concat(t==="vertical"?"Y":"X")]:iH[r]||gk},jot=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=Dot(t,a),o=i?r.filter(sS):r,l;if(Array.isArray(n)){var c=i?n.filter(f=>sS(f)):n,u=o.map((f,h)=>aH(aH({},f),{},{base:c[h]}));return a==="vertical"?l=J_().y(By).x1(Fy).x0(f=>f.base.x):l=J_().x(Fy).y1(By).y0(f=>f.base.y),l.defined(sS).curve(s),l(u)}return a==="vertical"&&Wt(n)?l=J_().y(By).x1(Fy).x0(n):Wt(n)?l=J_().x(Fy).y1(By).y0(n):l=tse().x(Fy).y(By),l.defined(sS).curve(s),l(o)},bv=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?jot(e):n;return j.createElement("path",tO({},Dc(e),GR(e),{className:Gr("recharts-curve",t),d:i===null?void 0:i,ref:a}))},Rot=["x","y","top","left","width","height","className"];function rO(){return rO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rO.apply(null,arguments)}function sH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sH(Object(r),!0).forEach(function(n){Mot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mot(e,t,r){return(t=Fot(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fot(e){var t=Bot(e,"string");return typeof t=="symbol"?t:t+""}function Bot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $ot(e,t){if(e==null)return{};var r,n,a=Uot(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Uot(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Vot=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),zot=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=e,l=$ot(e,Rot),c=Lot({x:t,y:r,top:n,left:a,width:i,height:s},l);return!Wt(t)||!Wt(r)||!Wt(i)||!Wt(s)||!Wt(n)||!Wt(a)?null:j.createElement("path",rO({},fa(c,!0),{className:Gr("recharts-cross",o),d:Vot(t,r,i,s,n,a)}))};function Wot(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function oH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oH(Object(r),!0).forEach(function(n){qot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qot(e,t,r){return(t=Got(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Got(e){var t=Kot(e,"string");return typeof t=="symbol"?t:t+""}function Kot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zi(e,t){var r=Hot({},e),n=t,a=Object.keys(t),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}function Yot(){}function lH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lH(Object(r),!0).forEach(function(n){Xot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xot(e,t,r){return(t=Qot(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qot(e){var t=Jot(e,"string");return typeof t=="symbol"?t:t+""}function Jot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zot=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Aoe=(e,t,r)=>e.map(n=>"".concat(Zot(n)," ").concat(t,"ms ").concat(r)).join(","),elt=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),cw=(e,t)=>Object.keys(t).reduce((r,n)=>cH(cH({},r),{},{[n]:e(n,t[n])}),{});function uH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uH(Object(r),!0).forEach(function(n){tlt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tlt(e,t,r){return(t=rlt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rlt(e){var t=nlt(e,"string");return typeof t=="symbol"?t:t+""}function nlt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q5=(e,t,r)=>e+(t-e)*r,nO=e=>{var{from:t,to:r}=e;return t!==r},Toe=(e,t,r)=>{var n=cw((a,i)=>{if(nO(i)){var[s,o]=e(i.from,i.to,i.velocity);return vs(vs({},i),{},{from:s,velocity:o})}return i},t);return r<1?cw((a,i)=>nO(i)?vs(vs({},i),{},{velocity:q5(i.velocity,n[a].velocity,r),from:q5(i.from,n[a].from,r)}):i,t):Toe(e,n,r-1)};function alt(e,t,r,n,a,i){var s,o=n.reduce((h,p)=>vs(vs({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>cw((h,p)=>p.from,o),c=()=>!Object.values(o).filter(nO).length,u=null,f=h=>{s||(s=h);var p=h-s,m=p/r.dt;o=Toe(r,o,m),a(vs(vs(vs({},e),t),l())),s=h,c()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function ilt(e,t,r,n,a,i,s){var o=null,l=a.reduce((f,h)=>vs(vs({},f),{},{[h]:[e[h],t[h]]}),{}),c,u=f=>{c||(c=f);var h=(f-c)/n,p=cw((g,v)=>q5(...v,r(h)),l);if(i(vs(vs(vs({},e),t),p)),h<1)o=s.setTimeout(u);else{var m=cw((g,v)=>q5(...v,r(1)),l);i(vs(vs(vs({},e),t),m))}};return()=>(o=s.setTimeout(u),()=>{o()})}const slt=(e,t,r,n,a,i)=>{var s=elt(e,t);return r.isStepper===!0?alt(e,t,r,s,a,i):ilt(e,t,r,n,s,a,i)};var G5=1e-4,koe=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Noe=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),fH=(e,t)=>r=>{var n=koe(e,t);return Noe(n,r)},olt=(e,t)=>r=>{var n=koe(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return Noe(a,r)},dH=function(){for(var t,r,n,a,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,a]=l[1].split(")")[0].split(",").map(m=>parseFloat(m)))}}else s.length===4&&([t,n,r,a]=s);var c=fH(t,r),u=fH(n,a),f=olt(t,r),h=m=>m>1?1:m<0?0:m,p=m=>{for(var g=m>1?1:m,v=g,y=0;y<8;++y){var x=c(v)-g,w=f(v);if(Math.abs(x-g)<G5||w<G5)return u(v);v=h(v-x/w)}return u(v)};return p.isStepper=!1,p},llt=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,o,l)=>{var c=-(s-o)*r,u=l*n,f=l+(c-u)*a/1e3,h=l*a/1e3+s;return Math.abs(h-o)<G5&&Math.abs(f)<G5?[o,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},clt=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return dH(e);case"spring":return llt();default:if(e.split("(")[0]==="cubic-bezier")return dH(e)}return typeof e=="function"?e:null};function ult(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){a=e.setTimeout(i.bind(null,c),l);return}i(l),a=e.setTimeout(i.bind(null,c));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class flt{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function dlt(){return ult(new flt)}var hlt=j.createContext(dlt);function plt(e,t){var r=j.useContext(hlt);return j.useMemo(()=>t??r(e),[e,t,r])}var mlt={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},hH={t:0},RC={t:1};function V1(e){var t=zi(e,mlt),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,u=plt(t.animationId,t.animationManager),[f,h]=j.useState(r?hH:RC),p=j.useRef(null);return j.useEffect(()=>{r||h(RC)},[r]),j.useEffect(()=>{if(!r||!n)return Yot;var m=slt(hH,RC,clt(i),a,h,u.getTimeoutController()),g=()=>{p.current=m()};return u.start([l,s,g,a,o]),()=>{u.stop(),p.current&&p.current(),o()}},[r,n,a,i,s,l,o,u]),c(f.t)}function z1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=j.useRef(sw(t)),n=j.useRef(e);return n.current!==e&&(r.current=sw(t),n.current=e),r.current}function pH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pH(Object(r),!0).forEach(function(n){glt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pH(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function glt(e,t,r){return(t=vlt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vlt(e){var t=ylt(e,"string");return typeof t=="symbol"?t:t+""}function ylt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function K5(){return K5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K5.apply(null,arguments)}var gH=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],f=0,h=4;f<h;f++)u[f]=a[f]>i?i:a[f];c="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+o*u[0],",").concat(t)),c+="L ".concat(e+r-o*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*u[1])),c+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+r-o*u[2],",").concat(t+n)),c+="L ".concat(e+o*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*u[3])),c+="Z"}else if(i>0&&a===+a&&a>0){var p=Math.min(i,a);c="M ".concat(e,",").concat(t+s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*p,`
            L `).concat(e+r,",").concat(t+n-s*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},xlt={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Coe=e=>{var t=zi(e,xlt),r=j.useRef(null),[n,a]=j.useState(-1);j.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var B=r.current.getTotalLength();B&&a(B)}catch{}},[]);var{x:i,y:s,width:o,height:l,radius:c,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=t,v=j.useRef(o),y=j.useRef(l),x=j.useRef(i),w=j.useRef(s),E=j.useMemo(()=>({x:i,y:s,width:o,height:l,radius:c}),[i,s,o,l,c]),I=z1(E,"rectangle-");if(i!==+i||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var P=Gr("recharts-rectangle",u);if(!g)return j.createElement("path",K5({},fa(t,!0),{className:P,d:gH(i,s,o,l,c)}));var A=v.current,S=y.current,k=x.current,O=w.current,T="0px ".concat(n===-1?1:n,"px"),C="".concat(n,"px 0px"),D=Aoe(["strokeDasharray"],h,typeof f=="string"?f:void 0);return j.createElement(V1,{animationId:I,key:I,canBegin:n>0,duration:h,easing:f,isActive:g,begin:p},B=>{var Y=jn(A,o,B),ee=jn(S,l,B),re=jn(k,i,B),G=jn(O,s,B);r.current&&(v.current=Y,y.current=ee,x.current=re,w.current=G);var q;return m?B>0?q={transition:D,strokeDasharray:C}:q={strokeDasharray:T}:q={strokeDasharray:C},j.createElement("path",K5({},fa(t,!0),{className:P,d:gH(re,G,Y,ee,c),ref:r,style:mH(mH({},q),t.style)}))})};function Poe(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=Ti(t,r,n,a),o=Ti(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function aO(){return aO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aO.apply(null,arguments)}var wlt=(e,t)=>{var r=ts(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},oS=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+n,u=Math.asin(o/c)/W5,f=l?a:a+i*u,h=Ti(t,r,c,f),p=Ti(t,r,n,f),m=l?a-i*u:a,g=Ti(t,r,c*Math.cos(u*W5),m);return{center:h,circleTangency:p,lineTangency:g,theta:u}},Ioe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=wlt(i,s),l=i+o,c=Ti(t,r,a,i),u=Ti(t,r,a,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=Ti(t,r,n,i),p=Ti(t,r,n,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},blt=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=ts(c-l),{circleTangency:f,lineTangency:h,theta:p}=oS({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:m,lineTangency:g,theta:v}=oS({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:o}),y=o?Math.abs(l-c):Math.abs(l-c)-p-v;if(y<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):Ioe({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:E,theta:I}=oS({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:P,lineTangency:A,theta:S}=oS({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),k=o?Math.abs(l-c):Math.abs(l-c)-I-S;if(k<0&&i===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(A.x,",").concat(A.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(k>180),",").concat(+(u>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},_lt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ooe=e=>{var t=zi(e,_lt),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=t;if(i<a||c===u)return null;var h=Gr("recharts-sector",f),p=i-a,m=Xs(s,p,0,!0),g;return m>0&&Math.abs(c-u)<360?g=blt({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(m,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):g=Ioe({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u}),j.createElement("path",aO({},fa(t,!0),{className:h,d:g}))};function Slt(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:f}=t,h=Ti(o,l,c,f),p=Ti(o,l,u,f);n=h.x,a=h.y,i=p.x,s=p.y}else return Poe(t);return[{x:n,y:a},{x:i,y:s}]}var Doe={},joe={},Roe={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dL;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(Roe);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Roe;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(joe);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hL,r=joe;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=a,a+=s;return l}e.range=n})(Doe);var Elt=Doe.range;const Loe=Xa(Elt);function n0(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Alt(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function EL(e){let t,r,n;e.length!==2?(t=n0,r=(o,l)=>n0(e(o),l),n=(o,l)=>e(o)-l):(t=e===n0||e===Alt?e:Tlt,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function Tlt(){return 0}function Moe(e){return e===null?NaN:+e}function*klt(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Nlt=EL(n0),vb=Nlt.right;EL(Moe).center;class vH extends Map{constructor(t,r=Ilt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(yH(this,t))}has(t){return super.has(yH(this,t))}set(t,r){return super.set(Clt(this,t),r)}delete(t){return super.delete(Plt(this,t))}}function yH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Clt({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Plt({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Ilt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Olt(e=n0){if(e===n0)return Foe;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Foe(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Dlt=Math.sqrt(50),jlt=Math.sqrt(10),Rlt=Math.sqrt(2);function Y5(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Dlt?10:i>=jlt?5:i>=Rlt?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Y5(e,t,r*2):[o,l,c]}function iO(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Y5(t,e,r):Y5(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function sO(e,t,r){return t=+t,e=+e,r=+r,Y5(e,t,r)[2]}function oO(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?sO(t,e,r):sO(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function xH(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function wH(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Boe(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Foe:Olt(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));Boe(e,t,p,m,a)}const i=e[t];let s=r,o=n;for($y(e,r,t),a(e[n],i)>0&&$y(e,r,n);s<o;){for($y(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?$y(e,r,o):(++o,$y(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function $y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Llt(e,t,r){if(e=Float64Array.from(klt(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return wH(e);if(t>=1)return xH(e);var n,a=(n-1)*t,i=Math.floor(a),s=xH(Boe(e,i).subarray(0,i+1)),o=wH(e.subarray(i+1));return s+(o-s)*(a-i)}}function Mlt(e,t,r=Moe){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function Flt(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function jc(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Hd(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const lO=Symbol("implicit");function AL(){var e=new vH,t=[],r=[],n=lO;function a(i){let s=e.get(i);if(s===void 0){if(n!==lO)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new vH;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return AL(t,r).unknown(n)},jc.apply(a,arguments),a}function TL(){var e=AL().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,g=p?n:a;i=(g-m)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),m+=(g-m-i*(h-l))*u,s=i*(1-l),o&&(m=Math.round(m),s=Math.round(s));var v=Flt(h).map(function(y){return m+i*y});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return TL(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},jc.apply(f(),arguments)}function $oe(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return $oe(t())},e}function Blt(){return $oe(TL.apply(null,arguments).paddingInner(1))}function kL(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Uoe(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function yb(){}var uw=.7,X5=1/uw,_v="\\s*([+-]?\\d+)\\s*",fw="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$lt=/^#([0-9a-f]{3,8})$/,Ult=new RegExp(`^rgb\\(${_v},${_v},${_v}\\)$`),Vlt=new RegExp(`^rgb\\(${cf},${cf},${cf}\\)$`),zlt=new RegExp(`^rgba\\(${_v},${_v},${_v},${fw}\\)$`),Wlt=new RegExp(`^rgba\\(${cf},${cf},${cf},${fw}\\)$`),Hlt=new RegExp(`^hsl\\(${fw},${cf},${cf}\\)$`),qlt=new RegExp(`^hsla\\(${fw},${cf},${cf},${fw}\\)$`),bH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};kL(yb,dw,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_H,formatHex:_H,formatHex8:Glt,formatHsl:Klt,formatRgb:SH,toString:SH});function _H(){return this.rgb().formatHex()}function Glt(){return this.rgb().formatHex8()}function Klt(){return Voe(this).formatHsl()}function SH(){return this.rgb().formatRgb()}function dw(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$lt.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?EH(t):r===3?new Vo(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?lS(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?lS(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ult.exec(e))?new Vo(t[1],t[2],t[3],1):(t=Vlt.exec(e))?new Vo(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zlt.exec(e))?lS(t[1],t[2],t[3],t[4]):(t=Wlt.exec(e))?lS(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Hlt.exec(e))?kH(t[1],t[2]/100,t[3]/100,1):(t=qlt.exec(e))?kH(t[1],t[2]/100,t[3]/100,t[4]):bH.hasOwnProperty(e)?EH(bH[e]):e==="transparent"?new Vo(NaN,NaN,NaN,0):null}function EH(e){return new Vo(e>>16&255,e>>8&255,e&255,1)}function lS(e,t,r,n){return n<=0&&(e=t=r=NaN),new Vo(e,t,r,n)}function Ylt(e){return e instanceof yb||(e=dw(e)),e?(e=e.rgb(),new Vo(e.r,e.g,e.b,e.opacity)):new Vo}function cO(e,t,r,n){return arguments.length===1?Ylt(e):new Vo(e,t,r,n??1)}function Vo(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}kL(Vo,cO,Uoe(yb,{brighter(e){return e=e==null?X5:Math.pow(X5,e),new Vo(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?uw:Math.pow(uw,e),new Vo(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Vo(Yp(this.r),Yp(this.g),Yp(this.b),Q5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:AH,formatHex:AH,formatHex8:Xlt,formatRgb:TH,toString:TH}));function AH(){return`#${Dp(this.r)}${Dp(this.g)}${Dp(this.b)}`}function Xlt(){return`#${Dp(this.r)}${Dp(this.g)}${Dp(this.b)}${Dp((isNaN(this.opacity)?1:this.opacity)*255)}`}function TH(){const e=Q5(this.opacity);return`${e===1?"rgb(":"rgba("}${Yp(this.r)}, ${Yp(this.g)}, ${Yp(this.b)}${e===1?")":`, ${e})`}`}function Q5(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Yp(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dp(e){return e=Yp(e),(e<16?"0":"")+e.toString(16)}function kH(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new eu(e,t,r,n)}function Voe(e){if(e instanceof eu)return new eu(e.h,e.s,e.l,e.opacity);if(e instanceof yb||(e=dw(e)),!e)return new eu;if(e instanceof eu)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new eu(s,o,l,e.opacity)}function Qlt(e,t,r,n){return arguments.length===1?Voe(e):new eu(e,t,r,n??1)}function eu(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}kL(eu,Qlt,Uoe(yb,{brighter(e){return e=e==null?X5:Math.pow(X5,e),new eu(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?uw:Math.pow(uw,e),new eu(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Vo(LC(e>=240?e-240:e+120,a,n),LC(e,a,n),LC(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new eu(NH(this.h),cS(this.s),cS(this.l),Q5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Q5(this.opacity);return`${e===1?"hsl(":"hsla("}${NH(this.h)}, ${cS(this.s)*100}%, ${cS(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NH(e){return e=(e||0)%360,e<0?e+360:e}function cS(e){return Math.max(0,Math.min(1,e||0))}function LC(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const NL=e=>()=>e;function Jlt(e,t){return function(r){return e+r*t}}function Zlt(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ect(e){return(e=+e)==1?zoe:function(t,r){return r-t?Zlt(t,r,e):NL(isNaN(t)?r:t)}}function zoe(e,t){var r=t-e;return r?Jlt(e,r):NL(isNaN(e)?t:e)}const CH=function e(t){var r=ect(t);function n(a,i){var s=r((a=cO(a)).r,(i=cO(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=zoe(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function tct(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function rct(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function nct(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=W1(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function act(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function J5(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function ict(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=W1(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var uO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,MC=new RegExp(uO.source,"g");function sct(e){return function(){return e}}function oct(e){return function(t){return e(t)+""}}function lct(e,t){var r=uO.lastIndex=MC.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=uO.exec(e))&&(a=MC.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:J5(n,a)})),r=MC.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?oct(l[0].x):sct(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function W1(e,t){var r=typeof t,n;return t==null||r==="boolean"?NL(t):(r==="number"?J5:r==="string"?(n=dw(t))?(t=n,CH):lct:t instanceof dw?CH:t instanceof Date?act:rct(t)?tct:Array.isArray(t)?nct:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ict:J5)(e,t)}function CL(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function cct(e,t){t===void 0&&(t=e,e=W1);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function uct(e){return function(){return e}}function Z5(e){return+e}var PH=[0,1];function bo(e){return e}function fO(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:uct(isNaN(t)?NaN:.5)}function fct(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function dct(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=fO(a,n),i=r(s,i)):(n=fO(n,a),i=r(i,s)),function(o){return i(n(o))}}function hct(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=fO(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=vb(e,o,1,n)-1;return i[l](a[l](o))}}function xb(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ik(){var e=PH,t=PH,r=W1,n,a,i,s=bo,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==bo&&(s=fct(e[0],e[h-1])),o=h>2?hct:dct,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),J5)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Z5),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=CL,u()},f.clamp=function(h){return arguments.length?(s=h?!0:bo,u()):s!==bo},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,p){return n=h,a=p,u()}}function PL(){return Ik()(bo,bo)}function pct(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function eA(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function r1(e){return e=eA(Math.abs(e)),e?e[1]:NaN}function mct(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function gct(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var vct=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hw(e){if(!(t=vct.exec(e)))throw new Error("invalid format: "+e);var t;return new IL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hw.prototype=IL.prototype;function IL(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}IL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yct(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Woe;function xct(e,t){var r=eA(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(Woe=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+eA(e,Math.max(0,t+i-1))[0]}function IH(e,t){var r=eA(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const OH={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pct,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>IH(e*100,t),r:IH,s:xct,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function DH(e){return e}var jH=Array.prototype.map,RH=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function wct(e){var t=e.grouping===void 0||e.thousands===void 0?DH:mct(jH.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?DH:gct(jH.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=hw(f);var h=f.fill,p=f.align,m=f.sign,g=f.symbol,v=f.zero,y=f.width,x=f.comma,w=f.precision,E=f.trim,I=f.type;I==="n"?(x=!0,I="g"):OH[I]||(w===void 0&&(w=12),E=!0,I="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var P=g==="$"?r:g==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",A=g==="$"?n:/[%p]/.test(I)?s:"",S=OH[I],k=/[defgprs%]/.test(I);w=w===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function O(T){var C=P,D=A,B,Y,ee;if(I==="c")D=S(T)+D,T="";else{T=+T;var re=T<0||1/T<0;if(T=isNaN(T)?l:S(Math.abs(T),w),E&&(T=yct(T)),re&&+T==0&&m!=="+"&&(re=!1),C=(re?m==="("?m:o:m==="-"||m==="("?"":m)+C,D=(I==="s"?RH[8+Woe/3]:"")+D+(re&&m==="("?")":""),k){for(B=-1,Y=T.length;++B<Y;)if(ee=T.charCodeAt(B),48>ee||ee>57){D=(ee===46?a+T.slice(B+1):T.slice(B))+D,T=T.slice(0,B);break}}}x&&!v&&(T=t(T,1/0));var G=C.length+T.length+D.length,q=G<y?new Array(y-G+1).join(h):"";switch(x&&v&&(T=t(q+T,q.length?y-D.length:1/0),q=""),p){case"<":T=C+T+D+q;break;case"=":T=C+q+T+D;break;case"^":T=q.slice(0,G=q.length>>1)+C+T+D+q.slice(G);break;default:T=q+C+T+D;break}return i(T)}return O.toString=function(){return f+""},O}function u(f,h){var p=c((f=hw(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(r1(h)/3)))*3,g=Math.pow(10,-m),v=RH[8+m/3];return function(y){return p(g*y)+v}}return{format:c,formatPrefix:u}}var uS,OL,Hoe;bct({thousands:",",grouping:[3],currency:["$",""]});function bct(e){return uS=wct(e),OL=uS.format,Hoe=uS.formatPrefix,uS}function _ct(e){return Math.max(0,-r1(Math.abs(e)))}function Sct(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(r1(t)/3)))*3-r1(Math.abs(e)))}function Ect(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,r1(t)-r1(e))+1}function qoe(e,t,r,n){var a=oO(e,t,r),i;switch(n=hw(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Sct(a,s))&&(n.precision=i),Hoe(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=Ect(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=_ct(a))&&(n.precision=i-(n.type==="%")*2);break}}return OL(n)}function q0(e){var t=e.domain;return e.ticks=function(r){var n=t();return iO(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return qoe(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=sO(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Goe(){var e=PL();return e.copy=function(){return xb(e,Goe())},jc.apply(e,arguments),q0(e)}function Koe(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Z5),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Koe(e).unknown(t)},e=arguments.length?Array.from(e,Z5):[0,1],q0(r)}function Yoe(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function LH(e){return Math.log(e)}function MH(e){return Math.exp(e)}function Act(e){return-Math.log(-e)}function Tct(e){return-Math.exp(-e)}function kct(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Nct(e){return e===10?kct:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Cct(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function FH(e){return(t,r)=>-e(-t,r)}function DL(e){const t=e(LH,MH),r=t.domain;let n=10,a,i;function s(){return a=Cct(n),i=Nct(n),r()[0]<0?(a=FH(a),i=FH(i),e(Act,Tct)):e(LH,MH),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),p=a(u),m,g;const v=o==null?10:+o;let y=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(g=h<0?m/i(-h):m*i(h),!(g<c)){if(g>u)break;y.push(g)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(g=h>0?m/i(-h):m*i(h),!(g<c)){if(g>u)break;y.push(g)}y.length*2<v&&(y=iO(c,u,v))}else y=iO(h,p,Math.min(p-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=hw(l)).precision==null&&(l.trim=!0),l=OL(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(Yoe(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function Xoe(){const e=DL(Ik()).domain([1,10]);return e.copy=()=>xb(e,Xoe()).base(e.base()),jc.apply(e,arguments),e}function BH(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $H(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function jL(e){var t=1,r=e(BH(t),$H(t));return r.constant=function(n){return arguments.length?e(BH(t=+n),$H(t)):t},q0(r)}function Qoe(){var e=jL(Ik());return e.copy=function(){return xb(e,Qoe()).constant(e.constant())},jc.apply(e,arguments)}function UH(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Pct(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Ict(e){return e<0?-e*e:e*e}function RL(e){var t=e(bo,bo),r=1;function n(){return r===1?e(bo,bo):r===.5?e(Pct,Ict):e(UH(r),UH(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},q0(t)}function LL(){var e=RL(Ik());return e.copy=function(){return xb(e,LL()).exponent(e.exponent())},jc.apply(e,arguments),e}function Oct(){return LL.apply(null,arguments).exponent(.5)}function VH(e){return Math.sign(e)*e*e}function Dct(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function Joe(){var e=PL(),t=[0,1],r=!1,n;function a(i){var s=Dct(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(VH(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Z5)).map(VH)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Joe(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},jc.apply(a,arguments),q0(a)}function Zoe(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=Mlt(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[vb(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(n0),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Zoe().domain(e).range(t).unknown(n)},jc.apply(i,arguments)}function ele(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[vb(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return ele().domain([e,t]).range(a).unknown(i)},jc.apply(q0(s),arguments)}function tle(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[vb(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return tle().domain(e).range(t).unknown(r)},jc.apply(a,arguments)}const FC=new Date,BC=new Date;function Wi(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Wi(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(FC.setTime(+i),BC.setTime(+s),e(FC),e(BC),Math.floor(r(FC,BC))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const tA=Wi(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);tA.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Wi(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):tA);tA.range;const ed=1e3,gc=ed*60,td=gc*60,Dd=td*24,ML=Dd*7,zH=Dd*30,$C=Dd*365,jp=Wi(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ed)},(e,t)=>(t-e)/ed,e=>e.getUTCSeconds());jp.range;const FL=Wi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ed)},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getMinutes());FL.range;const BL=Wi(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getUTCMinutes());BL.range;const $L=Wi(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ed-e.getMinutes()*gc)},(e,t)=>{e.setTime(+e+t*td)},(e,t)=>(t-e)/td,e=>e.getHours());$L.range;const UL=Wi(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*td)},(e,t)=>(t-e)/td,e=>e.getUTCHours());UL.range;const wb=Wi(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*gc)/Dd,e=>e.getDate()-1);wb.range;const Ok=Wi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dd,e=>e.getUTCDate()-1);Ok.range;const rle=Wi(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dd,e=>Math.floor(e/Dd));rle.range;function Zm(e){return Wi(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*gc)/ML)}const Dk=Zm(0),rA=Zm(1),jct=Zm(2),Rct=Zm(3),n1=Zm(4),Lct=Zm(5),Mct=Zm(6);Dk.range;rA.range;jct.range;Rct.range;n1.range;Lct.range;Mct.range;function eg(e){return Wi(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ML)}const jk=eg(0),nA=eg(1),Fct=eg(2),Bct=eg(3),a1=eg(4),$ct=eg(5),Uct=eg(6);jk.range;nA.range;Fct.range;Bct.range;a1.range;$ct.range;Uct.range;const VL=Wi(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());VL.range;const zL=Wi(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());zL.range;const jd=Wi(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());jd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wi(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});jd.range;const Rd=Wi(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Rd.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Wi(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Rd.range;function nle(e,t,r,n,a,i){const s=[[jp,1,ed],[jp,5,5*ed],[jp,15,15*ed],[jp,30,30*ed],[i,1,gc],[i,5,5*gc],[i,15,15*gc],[i,30,30*gc],[a,1,td],[a,3,3*td],[a,6,6*td],[a,12,12*td],[n,1,Dd],[n,2,2*Dd],[r,1,ML],[t,1,zH],[t,3,3*zH],[e,1,$C]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,p=EL(([,,v])=>v).right(s,h);if(p===s.length)return e.every(oO(c/$C,u/$C,f));if(p===0)return tA.every(Math.max(oO(c,u,f),1));const[m,g]=s[h/s[p-1][2]<s[p][2]/h?p-1:p];return m.every(g)}return[o,l]}const[Vct,zct]=nle(Rd,zL,jk,rle,UL,BL),[Wct,Hct]=nle(jd,VL,Dk,wb,$L,FL);function UC(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function VC(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uy(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function qct(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Vy(a),u=zy(a),f=Vy(i),h=zy(i),p=Vy(s),m=zy(s),g=Vy(o),v=zy(o),y=Vy(l),x=zy(l),w={a:re,A:G,b:q,B:be,c:null,d:YH,e:YH,f:mut,g:Aut,G:kut,H:dut,I:hut,j:put,L:ale,m:gut,M:vut,p:_e,q:R,Q:JH,s:ZH,S:yut,u:xut,U:wut,V:but,w:_ut,W:Sut,x:null,X:null,y:Eut,Y:Tut,Z:Nut,"%":QH},E={a:U,A:z,b:W,B:Z,c:null,d:XH,e:XH,f:Out,g:Vut,G:Wut,H:Cut,I:Put,j:Iut,L:sle,m:Dut,M:jut,p:le,q:he,Q:JH,s:ZH,S:Rut,u:Lut,U:Mut,V:Fut,w:But,W:$ut,x:null,X:null,y:Uut,Y:zut,Z:Hut,"%":QH},I={a:O,A:T,b:C,B:D,c:B,d:GH,e:GH,f:lut,g:qH,G:HH,H:KH,I:KH,j:aut,L:out,m:nut,M:iut,p:k,q:rut,Q:uut,s:fut,S:sut,u:Qct,U:Jct,V:Zct,w:Xct,W:eut,x:Y,X:ee,y:qH,Y:HH,Z:tut,"%":cut};w.x=P(r,w),w.X=P(n,w),w.c=P(t,w),E.x=P(r,E),E.X=P(n,E),E.c=P(t,E);function P(ae,pe){return function(ke){var K=[],qe=-1,Ae=0,ue=ae.length,ot,$e,pt;for(ke instanceof Date||(ke=new Date(+ke));++qe<ue;)ae.charCodeAt(qe)===37&&(K.push(ae.slice(Ae,qe)),($e=WH[ot=ae.charAt(++qe)])!=null?ot=ae.charAt(++qe):$e=ot==="e"?" ":"0",(pt=pe[ot])&&(ot=pt(ke,$e)),K.push(ot),Ae=qe+1);return K.push(ae.slice(Ae,qe)),K.join("")}}function A(ae,pe){return function(ke){var K=Uy(1900,void 0,1),qe=S(K,ae,ke+="",0),Ae,ue;if(qe!=ke.length)return null;if("Q"in K)return new Date(K.Q);if("s"in K)return new Date(K.s*1e3+("L"in K?K.L:0));if(pe&&!("Z"in K)&&(K.Z=0),"p"in K&&(K.H=K.H%12+K.p*12),K.m===void 0&&(K.m="q"in K?K.q:0),"V"in K){if(K.V<1||K.V>53)return null;"w"in K||(K.w=1),"Z"in K?(Ae=VC(Uy(K.y,0,1)),ue=Ae.getUTCDay(),Ae=ue>4||ue===0?nA.ceil(Ae):nA(Ae),Ae=Ok.offset(Ae,(K.V-1)*7),K.y=Ae.getUTCFullYear(),K.m=Ae.getUTCMonth(),K.d=Ae.getUTCDate()+(K.w+6)%7):(Ae=UC(Uy(K.y,0,1)),ue=Ae.getDay(),Ae=ue>4||ue===0?rA.ceil(Ae):rA(Ae),Ae=wb.offset(Ae,(K.V-1)*7),K.y=Ae.getFullYear(),K.m=Ae.getMonth(),K.d=Ae.getDate()+(K.w+6)%7)}else("W"in K||"U"in K)&&("w"in K||(K.w="u"in K?K.u%7:"W"in K?1:0),ue="Z"in K?VC(Uy(K.y,0,1)).getUTCDay():UC(Uy(K.y,0,1)).getDay(),K.m=0,K.d="W"in K?(K.w+6)%7+K.W*7-(ue+5)%7:K.w+K.U*7-(ue+6)%7);return"Z"in K?(K.H+=K.Z/100|0,K.M+=K.Z%100,VC(K)):UC(K)}}function S(ae,pe,ke,K){for(var qe=0,Ae=pe.length,ue=ke.length,ot,$e;qe<Ae;){if(K>=ue)return-1;if(ot=pe.charCodeAt(qe++),ot===37){if(ot=pe.charAt(qe++),$e=I[ot in WH?pe.charAt(qe++):ot],!$e||(K=$e(ae,ke,K))<0)return-1}else if(ot!=ke.charCodeAt(K++))return-1}return K}function k(ae,pe,ke){var K=c.exec(pe.slice(ke));return K?(ae.p=u.get(K[0].toLowerCase()),ke+K[0].length):-1}function O(ae,pe,ke){var K=p.exec(pe.slice(ke));return K?(ae.w=m.get(K[0].toLowerCase()),ke+K[0].length):-1}function T(ae,pe,ke){var K=f.exec(pe.slice(ke));return K?(ae.w=h.get(K[0].toLowerCase()),ke+K[0].length):-1}function C(ae,pe,ke){var K=y.exec(pe.slice(ke));return K?(ae.m=x.get(K[0].toLowerCase()),ke+K[0].length):-1}function D(ae,pe,ke){var K=g.exec(pe.slice(ke));return K?(ae.m=v.get(K[0].toLowerCase()),ke+K[0].length):-1}function B(ae,pe,ke){return S(ae,t,pe,ke)}function Y(ae,pe,ke){return S(ae,r,pe,ke)}function ee(ae,pe,ke){return S(ae,n,pe,ke)}function re(ae){return s[ae.getDay()]}function G(ae){return i[ae.getDay()]}function q(ae){return l[ae.getMonth()]}function be(ae){return o[ae.getMonth()]}function _e(ae){return a[+(ae.getHours()>=12)]}function R(ae){return 1+~~(ae.getMonth()/3)}function U(ae){return s[ae.getUTCDay()]}function z(ae){return i[ae.getUTCDay()]}function W(ae){return l[ae.getUTCMonth()]}function Z(ae){return o[ae.getUTCMonth()]}function le(ae){return a[+(ae.getUTCHours()>=12)]}function he(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var pe=P(ae+="",w);return pe.toString=function(){return ae},pe},parse:function(ae){var pe=A(ae+="",!1);return pe.toString=function(){return ae},pe},utcFormat:function(ae){var pe=P(ae+="",E);return pe.toString=function(){return ae},pe},utcParse:function(ae){var pe=A(ae+="",!0);return pe.toString=function(){return ae},pe}}}var WH={"-":"",_:" ",0:"0"},is=/^\s*\d+/,Gct=/^%/,Kct=/[\\^$*+?|[\]().{}]/g;function fn(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function Yct(e){return e.replace(Kct,"\\$&")}function Vy(e){return new RegExp("^(?:"+e.map(Yct).join("|")+")","i")}function zy(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Xct(e,t,r){var n=is.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Qct(e,t,r){var n=is.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Jct(e,t,r){var n=is.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Zct(e,t,r){var n=is.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function eut(e,t,r){var n=is.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function HH(e,t,r){var n=is.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function qH(e,t,r){var n=is.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function tut(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function rut(e,t,r){var n=is.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function nut(e,t,r){var n=is.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function GH(e,t,r){var n=is.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function aut(e,t,r){var n=is.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function KH(e,t,r){var n=is.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function iut(e,t,r){var n=is.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function sut(e,t,r){var n=is.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function out(e,t,r){var n=is.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function lut(e,t,r){var n=is.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function cut(e,t,r){var n=Gct.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function uut(e,t,r){var n=is.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function fut(e,t,r){var n=is.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function YH(e,t){return fn(e.getDate(),t,2)}function dut(e,t){return fn(e.getHours(),t,2)}function hut(e,t){return fn(e.getHours()%12||12,t,2)}function put(e,t){return fn(1+wb.count(jd(e),e),t,3)}function ale(e,t){return fn(e.getMilliseconds(),t,3)}function mut(e,t){return ale(e,t)+"000"}function gut(e,t){return fn(e.getMonth()+1,t,2)}function vut(e,t){return fn(e.getMinutes(),t,2)}function yut(e,t){return fn(e.getSeconds(),t,2)}function xut(e){var t=e.getDay();return t===0?7:t}function wut(e,t){return fn(Dk.count(jd(e)-1,e),t,2)}function ile(e){var t=e.getDay();return t>=4||t===0?n1(e):n1.ceil(e)}function but(e,t){return e=ile(e),fn(n1.count(jd(e),e)+(jd(e).getDay()===4),t,2)}function _ut(e){return e.getDay()}function Sut(e,t){return fn(rA.count(jd(e)-1,e),t,2)}function Eut(e,t){return fn(e.getFullYear()%100,t,2)}function Aut(e,t){return e=ile(e),fn(e.getFullYear()%100,t,2)}function Tut(e,t){return fn(e.getFullYear()%1e4,t,4)}function kut(e,t){var r=e.getDay();return e=r>=4||r===0?n1(e):n1.ceil(e),fn(e.getFullYear()%1e4,t,4)}function Nut(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fn(t/60|0,"0",2)+fn(t%60,"0",2)}function XH(e,t){return fn(e.getUTCDate(),t,2)}function Cut(e,t){return fn(e.getUTCHours(),t,2)}function Put(e,t){return fn(e.getUTCHours()%12||12,t,2)}function Iut(e,t){return fn(1+Ok.count(Rd(e),e),t,3)}function sle(e,t){return fn(e.getUTCMilliseconds(),t,3)}function Out(e,t){return sle(e,t)+"000"}function Dut(e,t){return fn(e.getUTCMonth()+1,t,2)}function jut(e,t){return fn(e.getUTCMinutes(),t,2)}function Rut(e,t){return fn(e.getUTCSeconds(),t,2)}function Lut(e){var t=e.getUTCDay();return t===0?7:t}function Mut(e,t){return fn(jk.count(Rd(e)-1,e),t,2)}function ole(e){var t=e.getUTCDay();return t>=4||t===0?a1(e):a1.ceil(e)}function Fut(e,t){return e=ole(e),fn(a1.count(Rd(e),e)+(Rd(e).getUTCDay()===4),t,2)}function But(e){return e.getUTCDay()}function $ut(e,t){return fn(nA.count(Rd(e)-1,e),t,2)}function Uut(e,t){return fn(e.getUTCFullYear()%100,t,2)}function Vut(e,t){return e=ole(e),fn(e.getUTCFullYear()%100,t,2)}function zut(e,t){return fn(e.getUTCFullYear()%1e4,t,4)}function Wut(e,t){var r=e.getUTCDay();return e=r>=4||r===0?a1(e):a1.ceil(e),fn(e.getUTCFullYear()%1e4,t,4)}function Hut(){return"+0000"}function QH(){return"%"}function JH(e){return+e}function ZH(e){return Math.floor(+e/1e3)}var yg,lle,cle;qut({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qut(e){return yg=qct(e),lle=yg.format,yg.parse,cle=yg.utcFormat,yg.utcParse,yg}function Gut(e){return new Date(e)}function Kut(e){return e instanceof Date?+e:+new Date(+e)}function WL(e,t,r,n,a,i,s,o,l,c){var u=PL(),f=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),g=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),x=c("%b %d"),w=c("%B"),E=c("%Y");function I(P){return(l(P)<P?p:o(P)<P?m:s(P)<P?g:i(P)<P?v:n(P)<P?a(P)<P?y:x:r(P)<P?w:E)(P)}return u.invert=function(P){return new Date(f(P))},u.domain=function(P){return arguments.length?h(Array.from(P,Kut)):h().map(Gut)},u.ticks=function(P){var A=h();return e(A[0],A[A.length-1],P??10)},u.tickFormat=function(P,A){return A==null?I:c(A)},u.nice=function(P){var A=h();return(!P||typeof P.range!="function")&&(P=t(A[0],A[A.length-1],P??10)),P?h(Yoe(A,P)):u},u.copy=function(){return xb(u,WL(e,t,r,n,a,i,s,o,l,c))},u}function Yut(){return jc.apply(WL(Wct,Hct,jd,VL,Dk,wb,$L,FL,jp,lle).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Xut(){return jc.apply(WL(Vct,zct,Rd,zL,jk,Ok,UL,BL,jp,cle).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rk(){var e=0,t=1,r,n,a,i,s=bo,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,s=f(p,m),c):[s(0),s(1)]}}return c.range=u(W1),c.rangeRound=u(CL),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function G0(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ule(){var e=q0(Rk()(bo));return e.copy=function(){return G0(e,ule())},Hd.apply(e,arguments)}function fle(){var e=DL(Rk()).domain([1,10]);return e.copy=function(){return G0(e,fle()).base(e.base())},Hd.apply(e,arguments)}function dle(){var e=jL(Rk());return e.copy=function(){return G0(e,dle()).constant(e.constant())},Hd.apply(e,arguments)}function HL(){var e=RL(Rk());return e.copy=function(){return G0(e,HL()).exponent(e.exponent())},Hd.apply(e,arguments)}function Qut(){return HL.apply(null,arguments).exponent(.5)}function hle(){var e=[],t=bo;function r(n){if(n!=null&&!isNaN(n=+n))return t((vb(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(n0),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Llt(e,i/n))},r.copy=function(){return hle(t).domain(e)},Hd.apply(r,arguments)}function Lk(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=bo,u,f=!1,h;function p(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-i)*(n*g<n*i?o:l),c(f?Math.max(0,Math.min(1,g)):g))}p.domain=function(g){return arguments.length?([e,t,r]=g,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p):[e,t,r]},p.clamp=function(g){return arguments.length?(f=!!g,p):f},p.interpolator=function(g){return arguments.length?(c=g,p):c};function m(g){return function(v){var y,x,w;return arguments.length?([y,x,w]=v,c=cct(g,[y,x,w]),p):[c(0),c(.5),c(1)]}}return p.range=m(W1),p.rangeRound=m(CL),p.unknown=function(g){return arguments.length?(h=g,p):h},function(g){return u=g,a=g(e),i=g(t),s=g(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,p}}function ple(){var e=q0(Lk()(bo));return e.copy=function(){return G0(e,ple())},Hd.apply(e,arguments)}function mle(){var e=DL(Lk()).domain([.1,1,10]);return e.copy=function(){return G0(e,mle()).base(e.base())},Hd.apply(e,arguments)}function gle(){var e=jL(Lk());return e.copy=function(){return G0(e,gle()).constant(e.constant())},Hd.apply(e,arguments)}function qL(){var e=RL(Lk());return e.copy=function(){return G0(e,qL()).exponent(e.exponent())},Hd.apply(e,arguments)}function Jut(){return qL.apply(null,arguments).exponent(.5)}const ox=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:TL,scaleDiverging:ple,scaleDivergingLog:mle,scaleDivergingPow:qL,scaleDivergingSqrt:Jut,scaleDivergingSymlog:gle,scaleIdentity:Koe,scaleImplicit:lO,scaleLinear:Goe,scaleLog:Xoe,scaleOrdinal:AL,scalePoint:Blt,scalePow:LL,scaleQuantile:Zoe,scaleQuantize:ele,scaleRadial:Joe,scaleSequential:ule,scaleSequentialLog:fle,scaleSequentialPow:HL,scaleSequentialQuantile:hle,scaleSequentialSqrt:Qut,scaleSequentialSymlog:dle,scaleSqrt:Oct,scaleSymlog:Qoe,scaleThreshold:tle,scaleTime:Yut,scaleUtc:Xut,tickFormat:qoe},Symbol.toStringTag,{value:"Module"}));var K0=e=>e.chartData,GL=ze([K0],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),bb=(e,t,r,n)=>n?GL(e):K0(e);function i1(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(As(t)&&As(r))return!0}return!1}function eq(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Zut(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(As(r))a=r;else if(typeof r=="function")return;if(As(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(i1(s))return s}}function eft(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(i1(n))return eq(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,o;if(a==="auto")t!=null&&(s=Math.min(...t));else if(Wt(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&KW.test(a)){var l=KW.exec(a);if(l==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(Wt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&YW.test(i)){var u=YW.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(i1(h))return t==null?h:eq(h,t,r)}}}var H1=1e9,tft={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},YL,xa=!0,Nc="[DecimalError] ",Xp=Nc+"Invalid argument: ",KL=Nc+"Exponent out of range: ",q1=Math.floor,xp=Math.pow,rft=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Tl,Yi=1e7,ra=7,vle=9007199254740991,aA=q1(vle/ra),jt={};jt.absoluteValue=jt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};jt.comparedTo=jt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};jt.decimalPlaces=jt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ra;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};jt.dividedBy=jt.div=function(e){return hd(this,new this.constructor(e))};jt.dividedToIntegerBy=jt.idiv=function(e){var t=this,r=t.constructor;return Vn(hd(t,new r(e),0,1),r.precision)};jt.equals=jt.eq=function(e){return!this.cmp(e)};jt.exponent=function(){return ki(this)};jt.greaterThan=jt.gt=function(e){return this.cmp(e)>0};jt.greaterThanOrEqualTo=jt.gte=function(e){return this.cmp(e)>=0};jt.isInteger=jt.isint=function(){return this.e>this.d.length-2};jt.isNegative=jt.isneg=function(){return this.s<0};jt.isPositive=jt.ispos=function(){return this.s>0};jt.isZero=function(){return this.s===0};jt.lessThan=jt.lt=function(e){return this.cmp(e)<0};jt.lessThanOrEqualTo=jt.lte=function(e){return this.cmp(e)<1};jt.logarithm=jt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Tl))throw Error(Nc+"NaN");if(r.s<1)throw Error(Nc+(r.s?"NaN":"-Infinity"));return r.eq(Tl)?new n(0):(xa=!1,t=hd(pw(r,i),pw(e,i),i),xa=!0,Vn(t,a))};jt.minus=jt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wle(t,e):yle(t,(e.s=-e.s,e))};jt.modulo=jt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Nc+"NaN");return r.s?(xa=!1,t=hd(r,e,0,1).times(e),xa=!0,r.minus(t)):Vn(new n(r),a)};jt.naturalExponential=jt.exp=function(){return xle(this)};jt.naturalLogarithm=jt.ln=function(){return pw(this)};jt.negated=jt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};jt.plus=jt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?yle(t,e):wle(t,(e.s=-e.s,e))};jt.precision=jt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xp+e);if(t=ki(a)+1,n=a.d.length-1,r=n*ra+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};jt.squareRoot=jt.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Nc+"NaN")}for(e=ki(o),xa=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Ku(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=q1((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(hd(o,i,s+2)).times(.5),Ku(i.d).slice(0,s)===(t=Ku(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(Vn(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return xa=!0,Vn(n,r)};jt.times=jt.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(i=h,h=p,p=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+p[n]*h[a-n-1]+t,i[a--]=o%Yi|0,t=o/Yi|0;i[a]=(i[a]+t)%Yi|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,xa?Vn(e,f.precision):e};jt.toDecimalPlaces=jt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(pf(e,0,H1),t===void 0?t=n.rounding:pf(t,0,8),Vn(r,e+ki(r)+1,t))};jt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Dm(n,!0):(pf(e,0,H1),t===void 0?t=a.rounding:pf(t,0,8),n=Vn(new a(n),e+1,t),r=Dm(n,!0,e+1)),r};jt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Dm(a):(pf(e,0,H1),t===void 0?t=i.rounding:pf(t,0,8),n=Vn(new i(a),e+ki(a)+1,t),r=Dm(n.abs(),!1,e+ki(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};jt.toInteger=jt.toint=function(){var e=this,t=e.constructor;return Vn(new t(e),ki(e)+1,t.rounding)};jt.toNumber=function(){return+this};jt.toPower=jt.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Tl);if(o=new l(o),!o.s){if(e.s<1)throw Error(Nc+"Infinity");return o}if(o.eq(Tl))return o;if(n=l.precision,e.eq(Tl))return Vn(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=vle){for(a=new l(Tl),t=Math.ceil(n/ra+4),xa=!1;r%2&&(a=a.times(o),rq(a.d,t)),r=q1(r/2),r!==0;)o=o.times(o),rq(o.d,t);return xa=!0,e.s<0?new l(Tl).div(a):Vn(a,n)}}else if(i<0)throw Error(Nc+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,xa=!1,a=e.times(pw(o,n+c)),xa=!0,a=xle(a),a.s=i,a};jt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ki(a),n=Dm(a,r<=i.toExpNeg||r>=i.toExpPos)):(pf(e,1,H1),t===void 0?t=i.rounding:pf(t,0,8),a=Vn(new i(a),e,t),r=ki(a),n=Dm(a,e<=r||r<=i.toExpNeg,e)),n};jt.toSignificantDigits=jt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(pf(e,1,H1),t===void 0?t=n.rounding:pf(t,0,8)),Vn(new n(r),e,t)};jt.toString=jt.valueOf=jt.val=jt.toJSON=jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ki(e),r=e.constructor;return Dm(e,t<=r.toExpNeg||t>=r.toExpPos)};function yle(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),xa?Vn(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/ra),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Yi|0,l[i]%=Yi;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,xa?Vn(t,f):t}function pf(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Xp+e)}function Ku(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=ra-n.length,r&&(i+=kh(r)),i+=n;s=e[t],n=s+"",r=ra-n.length,r&&(i+=kh(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var hd=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Yi|0,s=i/Yi|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Yi+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,p,m,g,v,y,x,w,E,I,P,A,S,k=n.constructor,O=n.s==a.s?1:-1,T=n.d,C=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Nc+"Division by zero");for(l=n.e-a.e,A=C.length,I=T.length,p=new k(O),m=p.d=[],c=0;C[c]==(T[c]||0);)++c;if(C[c]>(T[c]||0)&&--l,i==null?x=i=k.precision:s?x=i+(ki(n)-ki(a))+1:x=i,x<0)return new k(0);if(x=x/ra+2|0,c=0,A==1)for(u=0,C=C[0],x++;(c<I||u)&&x--;c++)w=u*Yi+(T[c]||0),m[c]=w/C|0,u=w%C|0;else{for(u=Yi/(C[0]+1)|0,u>1&&(C=e(C,u),T=e(T,u),A=C.length,I=T.length),E=A,g=T.slice(0,A),v=g.length;v<A;)g[v++]=0;S=C.slice(),S.unshift(0),P=C[0],C[1]>=Yi/2&&++P;do u=0,o=t(C,g,A,v),o<0?(y=g[0],A!=v&&(y=y*Yi+(g[1]||0)),u=y/P|0,u>1?(u>=Yi&&(u=Yi-1),f=e(C,u),h=f.length,v=g.length,o=t(f,g,h,v),o==1&&(u--,r(f,A<h?S:C,h))):(u==0&&(o=u=1),f=C.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),o==-1&&(v=g.length,o=t(C,g,A,v),o<1&&(u++,r(g,A<v?S:C,v))),v=g.length):o===0&&(u++,g=[0]),m[c++]=u,o&&g[0]?g[v++]=T[E]||0:(g=[T[E]],v=1);while((E++<I||g[0]!==void 0)&&x--)}return m[0]||m.shift(),p.e=l,Vn(p,s?i+ki(p)+1:i)}}();function xle(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(ki(e)>16)throw Error(KL+ki(e));if(!e.s)return new u(Tl);for(xa=!1,o=f,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(xp(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Tl),u.precision=o;;){if(a=Vn(a.times(e),o),r=r.times(++l),s=i.plus(hd(a,r,o)),Ku(s.d).slice(0,o)===Ku(i.d).slice(0,o)){for(;c--;)i=Vn(i.times(i),o);return u.precision=f,t==null?(xa=!0,Vn(i,f)):i}i=s}}function ki(e){for(var t=e.e*ra,r=e.d[0];r>=10;r/=10)t++;return t}function zC(e,t,r){if(t>e.LN10.sd())throw xa=!0,r&&(e.precision=r),Error(Nc+"LN10 precision limit exceeded");return Vn(new e(e.LN10),t)}function kh(e){for(var t="";e--;)t+="0";return t}function pw(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,p=e,m=p.d,g=p.constructor,v=g.precision;if(p.s<1)throw Error(Nc+(p.s?"NaN":"-Infinity"));if(p.eq(Tl))return new g(0);if(t==null?(xa=!1,c=v):c=t,p.eq(10))return t==null&&(xa=!0),zC(g,c);if(c+=h,g.precision=c,r=Ku(m),n=r.charAt(0),i=ki(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ku(p.d),n=r.charAt(0),f++;i=ki(p),n>1?(p=new g("0."+r),i++):p=new g(n+"."+r.slice(1))}else return l=zC(g,c+2,v).times(i+""),p=pw(new g(n+"."+r.slice(1)),c-h).plus(l),g.precision=v,t==null?(xa=!0,Vn(p,v)):p;for(o=s=p=hd(p.minus(Tl),p.plus(Tl),c),u=Vn(p.times(p),c),a=3;;){if(s=Vn(s.times(u),c),l=o.plus(hd(s,new g(a),c)),Ku(l.d).slice(0,c)===Ku(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(zC(g,c+2,v).times(i+""))),o=hd(o,new g(f),c),g.precision=v,t==null?(xa=!0,Vn(o,v)):o;o=l,a+=2}}function tq(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=q1(r/ra),e.d=[],n=(r+1)%ra,r<0&&(n+=ra),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=ra;n<a;)e.d.push(+t.slice(n,n+=ra));t=t.slice(n),n=ra-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),xa&&(e.e>aA||e.e<-aA))throw Error(KL+r)}else e.s=0,e.e=0,e.d=[0];return e}function Vn(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=ra,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/ra),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=ra,a=n-ra+s}if(r!==void 0&&(i=xp(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/xp(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ki(e),f.length=1,t=t-i-1,f[0]=xp(10,(ra-t%ra)%ra),e.e=q1(-t/ra)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=xp(10,ra-n),f[u]=a>0?(c/xp(10,s-a)%xp(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Yi&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Yi)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(xa&&(e.e>aA||e.e<-aA))throw Error(KL+ki(e));return e}function wle(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),xa?Vn(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(p/ra),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Yi-1;--l[i],l[a]+=Yi}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,xa?Vn(t,p):t):new h(0)}function Dm(e,t,r){var n,a=ki(e),i=Ku(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+kh(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+kh(-a-1)+i,r&&(n=r-s)>0&&(i+=kh(n))):a>=s?(i+=kh(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+kh(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=kh(n))),e.s<0?"-"+i:i}function rq(e,t){if(e.length>t)return e.length=t,!0}function ble(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Xp+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return tq(s,i.toString())}else if(typeof i!="string")throw Error(Xp+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,rft.test(i))tq(s,i);else throw Error(Xp+i)}if(a.prototype=jt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=ble,a.config=a.set=nft,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function nft(e){if(!e||typeof e!="object")throw Error(Nc+"Object expected");var t,r,n,a=["precision",1,H1,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(q1(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Xp+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Xp+r+": "+n);return this}var YL=ble(tft);Tl=new YL(1);const Nn=YL;var aft=e=>e,_le={},Sle=e=>e===_le,nq=e=>function t(){return arguments.length===0||arguments.length===1&&Sle(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},Ele=(e,t)=>e===1?t:nq(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==_le).length;return i>=e?t(...n):Ele(e-i,nq(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=n.map(u=>Sle(u)?o.shift():u);return t(...c,...o)}))}),Mk=e=>Ele(e.length,e),dO=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},ift=Mk((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),sft=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return aft;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,l)=>l(o),i(...arguments))}},hO=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),Ale=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((s,o)=>{var l;return s===((l=t)===null||l===void 0?void 0:l[o])})||(t=a,r=e(...a)),r}};function Tle(e){var t;return e===0?t=1:t=Math.floor(new Nn(e).abs().log(10).toNumber())+1,t}function kle(e,t,r){for(var n=new Nn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Mk((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Mk((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Mk((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var Nle=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},Cle=(e,t,r)=>{if(e.lte(0))return new Nn(0);var n=Tle(e.toNumber()),a=new Nn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Nn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?new Nn(l.toNumber()):new Nn(Math.ceil(l.toNumber()))},oft=(e,t,r)=>{var n=new Nn(1),a=new Nn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Nn(10).pow(Tle(e)-1),a=new Nn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Nn(Math.floor(e)))}else e===0?a=new Nn(Math.floor((t-1)/2)):r||(a=new Nn(Math.floor(e)));var s=Math.floor((t-1)/2),o=sft(ift(l=>a.add(new Nn(l-s).mul(n)).toNumber()),dO);return o(0,t)},Ple=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Nn(0),tickMin:new Nn(0),tickMax:new Nn(0)};var s=Cle(new Nn(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new Nn(0):(o=new Nn(t).add(r).div(2),o=o.sub(new Nn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Nn(r).sub(o).div(s).toNumber()),u=l+c+1;return u>n?Ple(t,r,n,a,i+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:s,tickMin:o.sub(new Nn(l).mul(s)),tickMax:o.add(new Nn(c).mul(s))})};function lft(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[s,o]=Nle([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...dO(0,n-1).map(()=>1/0)]:[...dO(0,n-1).map(()=>-1/0),o];return t>r?hO(l):l}if(s===o)return oft(s,n,a);var{step:c,tickMin:u,tickMax:f}=Ple(s,o,i,a,0),h=kle(u,f.add(new Nn(.1).mul(c)),c);return t>r?hO(h):h}function cft(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=Nle([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var o=Math.max(t,2),l=Cle(new Nn(s).sub(i).div(o-1),a,0),c=[...kle(new Nn(i),new Nn(s),l),s];return a===!1&&(c=c.map(u=>Math.round(u))),r>n?hO(c):c}var uft=Ale(lft),fft=Ale(cft),Ile=e=>e.rootProps.maxBarSize,dft=e=>e.rootProps.barGap,Ole=e=>e.rootProps.barCategoryGap,hft=e=>e.rootProps.barSize,_b=e=>e.rootProps.stackOffset,XL=e=>e.options.chartName,QL=e=>e.rootProps.syncId,Dle=e=>e.rootProps.syncMethod,JL=e=>e.options.eventEmitter,Hf={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},yl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Fk=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},pft={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Hf.angleAxisId,includeHidden:!1,name:void 0,reversed:Hf.reversed,scale:Hf.scale,tick:Hf.tick,tickCount:void 0,ticks:void 0,type:Hf.type,unit:void 0},mft={allowDataOverflow:yl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:yl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yl.scale,tick:yl.tick,tickCount:yl.tickCount,ticks:void 0,type:yl.type,unit:void 0},gft={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Hf.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hf.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hf.scale,tick:Hf.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},vft={allowDataOverflow:yl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:yl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yl.scale,tick:yl.tick,tickCount:yl.tickCount,ticks:void 0,type:"category",unit:void 0},ZL=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?gft:pft,eM=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?vft:mft,Bk=e=>e.polarOptions,tM=ze([Vd,zd,Vi],doe),jle=ze([Bk,tM],(e,t)=>{if(e!=null)return Xs(e.innerRadius,t,0)}),Rle=ze([Bk,tM],(e,t)=>{if(e!=null)return Xs(e.outerRadius,t,t*.8)}),yft=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},Lle=ze([Bk],yft);ze([ZL,Lle],Fk);var Mle=ze([tM,jle,Rle],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ze([eM,Mle],Fk);var Fle=ze([Ur,Bk,jle,Rle,Vd,zd],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:Xs(s,a,a/2),cy:Xs(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),ba=(e,t)=>t,Sb=(e,t,r)=>r;function $k(e){return e==null?void 0:e.id}var Hi=e=>{var t=Ur(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},G1=e=>e.tooltip.settings.axisId,ss=e=>{var t=Hi(e),r=G1(e);return Eb(e,t,r)},Ble=ze([ss],e=>e==null?void 0:e.dataKey);function $le(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=$k(o);c.forEach((f,h)=>{var p=i==null||a?h:String(Ln(f,i,null)),m=Ln(f,o.dataKey,0),g;s.has(p)?g=s.get(p):g={},Object.assign(g,{[u]:m}),s.set(p,g)})}}),Array.from(s.values())}function Uk(e){return e.stackId!=null&&e.dataKey!=null}function aq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aq(Object(r),!0).forEach(function(n){xft(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xft(e,t,r){return(t=wft(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wft(e){var t=bft(e,"string");return typeof t=="symbol"?t:t+""}function bft(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pO=[0,"auto"],ml={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ule=(e,t)=>e.cartesianAxis.xAxis[t],qd=(e,t)=>{var r=Ule(e,t);return r??ml},gl={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:pO,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:mb},Vle=(e,t)=>e.cartesianAxis.yAxis[t],Gd=(e,t)=>{var r=Vle(e,t);return r??gl},_ft={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},rM=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??_ft},di=(e,t,r)=>{switch(t){case"xAxis":return qd(e,r);case"yAxis":return Gd(e,r);case"zAxis":return rM(e,r);case"angleAxis":return ZL(e,r);case"radiusAxis":return eM(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Sft=(e,t,r)=>{switch(t){case"xAxis":return qd(e,r);case"yAxis":return Gd(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Eb=(e,t,r)=>{switch(t){case"xAxis":return qd(e,r);case"yAxis":return Gd(e,r);case"angleAxis":return ZL(e,r);case"radiusAxis":return eM(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zle=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function nM(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ab=e=>e.graphicalItems.cartesianItems,Eft=ze([ba,Sb],nM),aM=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Tb=ze([Ab,di,Eft],aM),Wle=ze([Tb],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Uk)),Hle=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),qle=ze([Tb],Hle),iM=e=>e.map(t=>t.data).filter(Boolean).flat(1),Aft=ze([Tb],iM),sM=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},oM=ze([Aft,bb],sM),lM=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ln(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Ln(a,n)}))):e.map(n=>({value:n})),Vk=ze([oM,di,Tb],lM);function Gle(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function tg(e){return e.filter(t=>hf(t)||t instanceof Date).map(Number).filter(t=>tl(t)===!1)}function Tft(e,t,r){return!r||typeof t!="number"||tl(t)?[]:r.length?tg(r.flatMap(n=>{var a=Ln(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!As(i)||!As(s)))return[t-i,t+s]})):[]}var kft=ze([Wle,bb,ss],$le),Kle=(e,t,r)=>{var n={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[s,o]=i,l=o.map($k);return[s,{stackedData:Lst(e,l,r),graphicalItems:o}]}))},mw=ze([kft,Wle,_b],Kle),Yle=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=$st(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Nft=ze([mw,K0,ba],Yle),Xle=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(s=>{var o,l,c=(o=n[s.id])===null||o===void 0?void 0:o.filter(f=>Gle(a,f)),u=Ln(i,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:u,errorDomain:Tft(i,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Ln(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),zk=e=>e.errorBars,Qle=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>Gle(r,n));ze([qle,zk,ba],Qle);var Cft=ze([oM,di,qle,zk,ba],Xle);function Pft(e){var{value:t}=e;if(hf(t)||t instanceof Date)return t}var iq=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=tg(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Ift=(e,t,r)=>{var n=e.map(Pft).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&Hie(n))?Loe(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},cM=e=>{var t;if(e==null||!("domain"in e))return pO;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=tg(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:pO},sA=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},Jle=e=>e.referenceElements.dots,K1=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Oft=ze([Jle,ba,Sb],K1),Zle=e=>e.referenceElements.areas,Dft=ze([Zle,ba,Sb],K1),ece=e=>e.referenceElements.lines,jft=ze([ece,ba,Sb],K1),tce=(e,t)=>{var r=tg(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Rft=ze(Oft,ba,tce),rce=(e,t)=>{var r=tg(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Lft=ze([Dft,ba],rce),nce=(e,t)=>{var r=tg(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Mft=ze(jft,ba,nce),Fft=ze(Rft,Mft,Lft,(e,t,r)=>sA(e,r,t)),ace=ze([di],cM),uM=(e,t,r,n,a,i,s)=>{var o=Zut(t,e.allowDataOverflow);if(o!=null)return o;var l=i==="vertical"&&s==="xAxis"||i==="horizontal"&&s==="yAxis",c=l?sA(r,a,iq(n)):sA(a,iq(n));return eft(t,c,e.allowDataOverflow)},Bft=ze([di,ace,Nft,Cft,Fft,Ur,ba],uM),$ft=[0,1],fM=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=Ef(t,i);return c&&o==null?Loe(0,r.length):l==="category"?Ift(n,e,c):a==="expand"?$ft:s}},dM=ze([di,Ur,oM,Vk,_b,ba,Bft],fM),ice=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(fb(i));return o in ox?o:"point"}}},Y1=ze([di,Ur,zle,XL,ba],ice);function Uft(e){if(e!=null){if(e in ox)return ox[e]();var t="scale".concat(fb(e));if(t in ox)return ox[t]()}}function hM(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Uft(t);if(a!=null){var i=a.domain(r).range(n);return Ist(i),i}}}var pM=(e,t,r)=>{var n=cM(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&i1(e))return uft(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&i1(e))return fft(e,t.tickCount,t.allowDecimals)}},mM=ze([dM,Eb,Y1],pM),gM=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&i1(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},Vft=ze([di,dM,mM,ba],gM),zft=ze(Vk,di,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(tg(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),sce=ze(zft,Ur,Ole,Vi,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!As(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=Xs(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),Wft=(e,t)=>{var r=qd(e,t);return r==null||typeof r.padding!="string"?0:sce(e,"xAxis",t,r.padding)},Hft=(e,t)=>{var r=Gd(e,t);return r==null||typeof r.padding!="string"?0:sce(e,"yAxis",t,r.padding)},qft=ze(qd,Wft,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Gft=ze(Gd,Hft,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Kft=ze([Vi,qft,Ck,Nk,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),Yft=ze([Vi,Ur,Gft,Ck,Nk,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),kb=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Kft(e,r,n);case"yAxis":return Yft(e,r,n);case"zAxis":return(a=rM(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return Lle(e);case"radiusAxis":return Mle(e,r);default:return}},oce=ze([di,kb],Fk),X1=ze([di,Y1,Vft,oce],hM);ze([Tb,zk,ba],Qle);function lce(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Wk=(e,t)=>t,Hk=(e,t,r)=>r,Xft=ze(Tk,Wk,Hk,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(lce)),Qft=ze(kk,Wk,Hk,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(lce)),cce=(e,t)=>({width:e.width,height:t.height}),Jft=(e,t)=>{var r=typeof t.width=="number"?t.width:mb;return{width:r,height:e.height}},uce=ze(Vi,qd,cce),Zft=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},edt=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},tdt=ze(zd,Vi,Xft,Wk,Hk,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var l=cce(t,o);s==null&&(s=Zft(t,n,e));var c=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),i}),rdt=ze(Vd,Vi,Qft,Wk,Hk,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var l=Jft(t,o);s==null&&(s=edt(t,n,e));var c=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),i}),ndt=(e,t)=>{var r=qd(e,t);if(r!=null)return tdt(e,r.orientation,r.mirror)},adt=ze([Vi,qd,ndt,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),idt=(e,t)=>{var r=Gd(e,t);if(r!=null)return rdt(e,r.orientation,r.mirror)},sdt=ze([Vi,Gd,idt,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),fce=ze(Vi,Gd,(e,t)=>{var r=typeof t.width=="number"?t.width:mb;return{width:r,height:e.height}}),sq=(e,t,r)=>{switch(t){case"xAxis":return uce(e,r).width;case"yAxis":return fce(e,r).height;default:return}},dce=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=Ef(e,n),l=t.map(c=>c.value);if(s&&o&&i==="category"&&a&&Hie(l))return l}},vM=ze([Ur,Vk,di,ba],dce),hce=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=Ef(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},yM=ze([Ur,Vk,Eb,ba],hce),oq=ze([Ur,Sft,Y1,X1,vM,yM,kb,mM,ba],(e,t,r,n,a,i,s,o,l)=>{if(t==null)return null;var c=Ef(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}),odt=(e,t,r,n,a,i,s,o,l)=>{if(!(t==null||n==null)){var c=Ef(e,l),{type:u,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/p:0;m=l==="angleAxis"&&i!=null&&i.length>=2?ts(i[0]-i[1])*2*m:m;var g=f||a;if(g){var v=g.map((y,x)=>{var w=s?s.indexOf(y):y;return{index:x,coordinate:n(w)+m,value:y,offset:m}});return v.filter(y=>!tl(y.coordinate))}return c&&o?o.map((y,x)=>({coordinate:n(y)+m,value:y,index:x,offset:m})):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+m,value:y,offset:m})):n.domain().map((y,x)=>({coordinate:n(y)+m,value:s?s[y]:y,index:x,offset:m}))}},pce=ze([Ur,Eb,Y1,X1,mM,kb,vM,yM,ba],odt),ldt=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Ef(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(n==null?void 0:n.length)>=2?ts(n[0]-n[1])*2*c:c,o&&i?i.map((u,f)=>({coordinate:r(u)+c,value:u,index:f,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,f)=>({coordinate:r(u)+c,value:a?a[u]:u,index:f,offset:c}))}},mf=ze([Ur,Eb,X1,kb,vM,yM,ba],ldt),gf=ze(di,X1,(e,t)=>{if(!(e==null||t==null))return iA(iA({},e),{},{scale:t})}),cdt=ze([di,Y1,dM,oce],hM);ze((e,t,r)=>rM(e,r),cdt,(e,t)=>{if(!(e==null||t==null))return iA(iA({},e),{},{scale:t})});var udt=ze([Ur,Tk,kk],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),mce=e=>e.options.defaultTooltipEventType,gce=e=>e.options.validateTooltipEventTypes;function vce(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function xM(e,t){var r=mce(e),n=gce(e);return vce(t,r,n)}function fdt(e){return $t(t=>xM(t,e))}var yce=(e,t)=>{var r,n=Number(t);if(!(tl(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},ddt=e=>e.tooltip.settings,Rh={active:!1,index:null,dataKey:void 0,coordinate:void 0},hdt={itemInteraction:{click:Rh,hover:Rh},axisInteraction:{click:Rh,hover:Rh},keyboardInteraction:Rh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},xce=Vl({name:"tooltip",initialState:hdt,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=dd(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:pdt,removeTooltipEntrySettings:mdt,setTooltipSettingsState:gdt,setActiveMouseOverItemIndex:wce,mouseLeaveItem:vdt,mouseLeaveChart:bce,setActiveClickItemIndex:ydt,setMouseOverAxisIndex:_ce,setMouseClickAxisIndex:xdt,setSyncInteraction:mO,setKeyboardInteraction:gO}=xce.actions,wdt=xce.reducer;function lq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lq(Object(r),!0).forEach(function(n){bdt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bdt(e,t,r){return(t=_dt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _dt(e){var t=Sdt(e,"string");return typeof t=="symbol"?t:t+""}function Sdt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Edt(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Adt(e){return e.index!=null}var Sce=(e,t,r,n)=>{if(t==null)return Rh;var a=Edt(e,t,r);if(a==null)return Rh;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(Adt(a)){if(i)return fS(fS({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return fS(fS({},Rh),{},{coordinate:a.coordinate})},wM=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!As(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},Ece=(e,t,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,i);if(c!=null)return c;var u=a==null?void 0:a[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},Ace=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},Nb=e=>e.options.tooltipPayloadSearcher,Q1=e=>e.tooltip;function cq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cq(Object(r),!0).forEach(function(n){Tdt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tdt(e,t,r){return(t=kdt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kdt(e){var t=Ndt(e,"string");return typeof t=="symbol"?t:t+""}function Ndt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cdt(e,t){return e??t}var Tce=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,f=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:g,settings:v}=p,y=Cdt(g,o),x=Array.isArray(y)?hoe(y,c,u):y,w=(m=v==null?void 0:v.dataKey)!==null&&m!==void 0?m:n,E=v==null?void 0:v.nameKey,I;if(n&&Array.isArray(x)&&!Array.isArray(x[0])&&s==="axis"?I=qie(x,n,a):I=i(x,t,l,E),Array.isArray(I))I.forEach(A=>{var S=uq(uq({},v),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});h.push(XW({tooltipEntrySettings:S,dataKey:A.dataKey,payload:A.payload,value:Ln(A.payload,A.dataKey),name:A.name}))});else{var P;h.push(XW({tooltipEntrySettings:v,dataKey:w,payload:I,value:Ln(I,w),name:(P=Ln(I,E))!==null&&P!==void 0?P:v==null?void 0:v.name}))}return h},f)}},bM=ze([ss,Ur,zle,XL,Hi],ice),Pdt=ze([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Idt=ze([Hi,G1],nM),Cb=ze([Pdt,ss,Idt],aM),Odt=ze([Cb],e=>e.filter(Uk)),Ddt=ze([Cb],iM),J1=ze([Ddt,K0],sM),jdt=ze([Odt,K0,ss],$le),_M=ze([J1,ss,Cb],lM),Rdt=ze([ss],cM),Ldt=ze([Cb],e=>e.filter(Uk)),Mdt=ze([jdt,Ldt,_b],Kle),Fdt=ze([Mdt,K0,Hi],Yle),Bdt=ze([Cb],Hle),$dt=ze([J1,ss,Bdt,zk,Hi],Xle),Udt=ze([Jle,Hi,G1],K1),Vdt=ze([Udt,Hi],tce),zdt=ze([Zle,Hi,G1],K1),Wdt=ze([zdt,Hi],rce),Hdt=ze([ece,Hi,G1],K1),qdt=ze([Hdt,Hi],nce),Gdt=ze([Vdt,qdt,Wdt],sA),Kdt=ze([ss,Rdt,Fdt,$dt,Gdt,Ur,Hi],uM),kce=ze([ss,Ur,J1,_M,_b,Hi,Kdt],fM),Ydt=ze([kce,ss,bM],pM),Xdt=ze([ss,kce,Ydt,Hi],gM),Nce=e=>{var t=Hi(e),r=G1(e),n=!1;return kb(e,t,r,n)},Cce=ze([ss,Nce],Fk),Pce=ze([ss,bM,Xdt,Cce],hM),Qdt=ze([Ur,_M,ss,Hi],dce),Jdt=ze([Ur,_M,ss,Hi],hce),Zdt=(e,t,r,n,a,i,s,o)=>{if(t){var{type:l}=t,c=Ef(e,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ts(a[0]-a[1])*2*f:f,c&&s?s.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:i?i[h]:h,index:p,offset:f}))}}},Kd=ze([Ur,ss,bM,Pce,Nce,Qdt,Jdt,Hi],Zdt),SM=ze([mce,gce,ddt],(e,t,r)=>vce(r.shared,e,t)),Ice=e=>e.tooltip.settings.trigger,EM=e=>e.tooltip.settings.defaultIndex,qk=ze([Q1,SM,Ice,EM],Sce),T0=ze([qk,J1],wM),Oce=ze([Kd,T0],yce),Dce=ze([qk],e=>{if(e)return e.dataKey}),jce=ze([Q1,SM,Ice,EM],Ace),eht=ze([Vd,zd,Ur,Vi,Kd,EM,jce,Nb],Ece),tht=ze([qk,eht],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),rht=ze([qk],e=>e.active),nht=ze([jce,T0,K0,Ble,Oce,Nb,SM],Tce),aht=ze([nht],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function fq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fq(Object(r),!0).forEach(function(n){iht(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iht(e,t,r){return(t=sht(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sht(e){var t=oht(e,"string");return typeof t=="symbol"?t:t+""}function oht(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lht=()=>$t(ss),cht=()=>{var e=lht(),t=$t(Kd),r=$t(Pce);return Om(dq(dq({},e),{},{scale:r}),t)},Rce=()=>$t(XL),AM=(e,t)=>t,Lce=(e,t,r)=>r,TM=(e,t,r,n)=>n,uht=ze(Kd,e=>wk(e,t=>t.coordinate)),kM=ze([Q1,AM,Lce,TM],Sce),Mce=ze([kM,J1],wM),fht=(e,t,r)=>{if(t!=null){var n=Q1(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Fce=ze([Q1,AM,Lce,TM],Ace),oA=ze([Vd,zd,Ur,Vi,Kd,TM,Fce,Nb],Ece),dht=ze([kM,oA],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Bce=ze(Kd,Mce,yce),hht=ze([Fce,Mce,K0,Ble,Bce,Nb,AM],Tce),pht=ze([kM],e=>({isActive:e.active,activeIndex:e.index})),mht=(e,t,r,n,a,i,s,o)=>{if(!(!e||!t||!n||!a||!i)){var l=Ust(e.chartX,e.chartY,t,r,o);if(l){var c=zst(l,t),u=Cst(c,s,i,n,a),f=Vst(t,i,u,l);return{activeIndex:String(u),activeCoordinate:f}}}};function vO(){return vO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vO.apply(null,arguments)}function hq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hq(Object(r),!0).forEach(function(n){ght(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ght(e,t,r){return(t=vht(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vht(e){var t=yht(e,"string");return typeof t=="symbol"?t:t+""}function yht(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xht(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:s,cursor:o,tooltipEventType:l,chartName:c}=e,u=t,f=r,h=n;if(!o||!u||c!=="ScatterChart"&&l!=="axis")return null;var p,m;if(c==="ScatterChart")p=u,m=zot;else if(c==="BarChart")p=Wot(s,u,a,i),m=Coe;else if(s==="radial"){var{cx:g,cy:v,radius:y,startAngle:x,endAngle:w}=Poe(u);p={cx:g,cy:v,startAngle:x,endAngle:w,innerRadius:y,outerRadius:y},m=Ooe}else p={points:Slt(s,u,a)},m=bv;var E=typeof o=="object"&&"className"in o?o.className:void 0,I=dS(dS(dS(dS({stroke:"#ccc",pointerEvents:"none"},a),p),fa(o,!1)),{},{payload:f,payloadIndex:h,className:Gr("recharts-tooltip-cursor",E)});return j.isValidElement(o)?j.cloneElement(o,I):j.createElement(m,I)}function wht(e){var t=cht(),r=woe(),n=gb(),a=Rce();return j.createElement(xht,vO({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var $ce=j.createContext(null),bht=()=>j.useContext($ce),Uce={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,m){var g=r?r+c:c;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,x,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,p),!0;case 6:return v.fn.call(v.context,u,f,h,p,m),!0}for(w=1,x=new Array(y-1);w<y;w++)x[w-1]=arguments[w];v.fn.apply(v.context,x)}else{var E=v.length,I;for(w=0;w<E;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,f);break;case 4:v[w].fn.call(v[w].context,u,f,h);break;default:if(!x)for(I=1,x=new Array(y-1);I<y;I++)x[I-1]=arguments[I];v[w].fn.apply(v[w].context,x)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return s(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&s(this,p);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==u||h&&!m[g].once||f&&m[g].context!==f)&&v.push(m[g]);v.length?this._events[p]=v.length===1?v[0]:v:s(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(Uce);var _ht=Uce.exports;const Sht=Xa(_ht);var gw=new Sht,yO="recharts.syncEvent.tooltip",pq="recharts.syncEvent.brush";function Gk(e,t){if(t){var r=Number.parseInt(t,10);if(!tl(r))return e==null?void 0:e[r]}}var Eht={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Vce=Vl({name:"options",initialState:Eht,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Aht=Vce.reducer,{createEventEmitter:Tht}=Vce.actions;function kht(e){return e.tooltip.syncInteraction}var Nht={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},zce=Vl({name:"chartData",initialState:Nht,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:mq,setDataStartEndIndexes:Cht,setComputedData:Txt}=zce.actions,Pht=zce.reducer,Iht=["x","y"];function gq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gq(Object(r),!0).forEach(function(n){Oht(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oht(e,t,r){return(t=Dht(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dht(e){var t=jht(e,"string");return typeof t=="symbol"?t:t+""}function jht(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rht(e,t){if(e==null)return{};var r,n,a=Lht(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lht(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Wce=()=>{};function Mht(){var e=$t(QL),t=$t(JL),r=ja(),n=$t(Dle),a=$t(Kd),i=gb(),s=wL(),o=$t(l=>l.rootProps.className);j.useEffect(()=>{if(e==null)return Wce;var l=(c,u,f)=>{if(t!==f&&e===c){if(n==="index"){var h;if(s&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate){var p=u.payload.coordinate,{x:m,y:g}=p,v=Rht(p,Iht),y=cp(cp(cp({},v),typeof m=="number"&&{x:Math.max(s.x,Math.min(m,s.x+s.width))}),typeof g=="number"&&{y:Math.max(s.y,Math.min(g,s.y+s.height))}),x=cp(cp({},u),{},{payload:cp(cp({},u.payload),{},{coordinate:y})});r(x)}else r(u);return}if(a!=null){var w;if(typeof n=="function"){var E={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},I=n(a,E);w=a[I]}else n==="value"&&(w=a.find(D=>String(D.value)===u.payload.label));var{coordinate:P}=u.payload;if(w==null||u.payload.active===!1||P==null||s==null){r(mO({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:A,y:S}=P,k=Math.min(A,s.x+s.width),O=Math.min(S,s.y+s.height),T={x:i==="horizontal"?w.coordinate:k,y:i==="horizontal"?O:w.coordinate},C=mO({active:u.payload.active,coordinate:T,dataKey:u.payload.dataKey,index:String(w.index),label:u.payload.label});r(C)}}};return gw.on(yO,l),()=>{gw.off(yO,l)}},[o,r,t,e,n,a,i,s])}function Fht(){var e=$t(QL),t=$t(JL),r=ja();j.useEffect(()=>{if(e==null)return Wce;var n=(a,i,s)=>{t!==s&&e===a&&r(Cht(i))};return gw.on(pq,n),()=>{gw.off(pq,n)}},[r,t,e])}function Bht(){var e=ja();j.useEffect(()=>{e(Tht())},[e]),Mht(),Fht()}function $ht(e,t,r,n,a,i){var s=$t(h=>fht(h,e,t)),o=$t(JL),l=$t(QL),c=$t(Dle),u=$t(kht),f=u==null?void 0:u.active;j.useEffect(()=>{if(!f&&l!=null&&o!=null){var h=mO({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n});gw.emit(yO,l,h,o)}},[f,r,s,a,n,o,l,c,i])}function vq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vq(Object(r),!0).forEach(function(n){Uht(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uht(e,t,r){return(t=Vht(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vht(e){var t=zht(e,"string");return typeof t=="symbol"?t:t+""}function zht(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wht(e){return e.dataKey}function Hht(e,t){return j.isValidElement(e)?j.cloneElement(e,t):typeof e=="function"?j.createElement(e,t):j.createElement(bot,t)}var xq=[],qht={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Wd.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function rd(e){var t=zi(e,qht),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:s,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:u,position:f,reverseDirection:h,useTranslate3d:p,wrapperStyle:m,cursor:g,shared:v,trigger:y,defaultIndex:x,portal:w,axisId:E}=t,I=ja(),P=typeof x=="number"?String(x):x;j.useEffect(()=>{I(gdt({shared:v,trigger:y,axisId:E,active:r,defaultIndex:P}))},[I,v,y,E,r,P]);var A=wL(),S=Eoe(),k=fdt(v),{activeIndex:O,isActive:T}=$t(W=>pht(W,k,y,P)),C=$t(W=>hht(W,k,y,P)),D=$t(W=>Bce(W,k,y,P)),B=$t(W=>dht(W,k,y,P)),Y=C,ee=bht(),re=r??T,[G,q]=Use([Y,re]),be=k==="axis"?D:void 0;$ht(k,y,B,be,O,re);var _e=w??ee;if(_e==null)return null;var R=Y??xq;re||(R=xq),o&&R.length&&(R=Cse(Y.filter(W=>W.value!=null&&(W.hide!==!0||t.includeHidden)),u,Wht));var U=R.length>0,z=j.createElement(Not,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:l,active:re,coordinate:B,hasPayload:U,offset:c,position:f,reverseDirection:h,useTranslate3d:p,viewBox:A,wrapperStyle:m,lastBoundingBox:G,innerRef:q,hasPortalFromProps:!!w},Hht(s,yq(yq({},t),{},{payload:R,label:be,active:re,coordinate:B,accessibilityLayer:S})));return j.createElement(j.Fragment,null,RA.createPortal(z,_e),re&&j.createElement(wht,{cursor:g,tooltipEventType:k,coordinate:B,payload:Y,index:O}))}var Hce={},qce={},Gce={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,o=null;const l=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),u=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{c&&u(),g()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},m=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{m(),s=void 0,o=null},v=()=>{u()},y=function(...x){if(a!=null&&a.aborted)return;s=this,o=x;const w=h==null;p(),l&&w&&u()};return y.schedule=p,y.cancel=g,y.flush=v,a==null||a.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(Gce);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gce;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:l}=i,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let u,f=null;const h=t.debounce(function(...g){u=n.apply(this,g),f=null},a,{edges:c}),p=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,g),u)},m=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=m,p}e.debounce=r})(qce);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qce;function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:o})}e.throttle=r})(Hce);var Ght=Hce.throttle;const Kht=Xa(Ght);var Wx=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function wq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wq(Object(r),!0).forEach(function(n){Yht(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yht(e,t,r){return(t=Xht(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xht(e){var t=Qht(e,"string");return typeof t=="symbol"?t:t+""}function Qht(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nd=j.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:h,onResize:p,style:m={}}=e,g=j.useRef(null),v=j.useRef();v.current=p,j.useImperativeHandle(t,()=>g.current);var[y,x]=j.useState({containerWidth:n.width,containerHeight:n.height}),w=j.useCallback((I,P)=>{x(A=>{var S=Math.round(I),k=Math.round(P);return A.containerWidth===S&&A.containerHeight===k?A:{containerWidth:S,containerHeight:k}})},[]);j.useEffect(()=>{var I=k=>{var O,{width:T,height:C}=k[0].contentRect;w(T,C),(O=v.current)===null||O===void 0||O.call(v,T,C)};u>0&&(I=Kht(I,u,{trailing:!0,leading:!1}));var P=new ResizeObserver(I),{width:A,height:S}=g.current.getBoundingClientRect();return w(A,S),P.observe(g.current),()=>{P.disconnect()}},[w,u]);var E=j.useMemo(()=>{var{containerWidth:I,containerHeight:P}=y;if(I<0||P<0)return null;Wx(Op(a)||Op(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),Wx(!r||r>0,"The aspect(%s) must be greater than zero.",r);var A=Op(a)?I:a,S=Op(i)?P:i;return r&&r>0&&(A?S=A/r:S&&(A=S*r),l&&S>l&&(S=l)),Wx(A>0||S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,S,a,i,s,o,r),j.Children.map(c,k=>j.cloneElement(k,{width:A,height:S,style:WC({width:A,height:S},k.props.style)}))},[r,c,i,l,o,s,y,a]);return j.createElement("div",{id:f?"".concat(f):void 0,className:Gr("recharts-responsive-container",h),style:WC(WC({},m),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:l}),ref:g},j.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),Z1=e=>null;Z1.displayName="Cell";function Jht(e,t,r){return(t=Zht(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zht(e){var t=e0t(e,"string");return typeof t=="symbol"?t:t+""}function e0t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class t0t{constructor(t){Jht(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function bq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r0t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bq(Object(r),!0).forEach(function(n){n0t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n0t(e,t,r){return(t=a0t(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a0t(e){var t=i0t(e,"string");return typeof t=="symbol"?t:t+""}function i0t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s0t={cacheSize:2e3,enableCache:!0},Kce=r0t({},s0t),_q=new t0t(Kce.cacheSize),o0t={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Sq="recharts_measurement_span";function l0t(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}var Eq=(e,t)=>{try{var r=document.getElementById(Sq);r||(r=document.createElement("span"),r.setAttribute("id",Sq),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,o0t,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Hx=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Wd.isSsr)return{width:0,height:0};if(!Kce.enableCache)return Eq(t,r);var n=l0t(t,r),a=_q.get(n);if(a)return a;var i=Eq(t,r);return _q.set(n,i),i},Aq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Tq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,c0t=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,u0t=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Yce={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},f0t=Object.keys(Yce),Xg="NaN";function d0t(e,t){return e*Yce[t]}class Ro{static parse(t){var r,[,n,a]=(r=u0t.exec(t))!==null&&r!==void 0?r:[];return new Ro(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,tl(t)&&(this.unit=""),r!==""&&!c0t.test(r)&&(this.num=NaN,this.unit=""),f0t.includes(r)&&(this.num=d0t(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ro(NaN,""):new Ro(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ro(NaN,""):new Ro(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ro(NaN,""):new Ro(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ro(NaN,""):new Ro(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return tl(this.num)}}function Xce(e){if(e.includes(Xg))return Xg;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=Aq.exec(t))!==null&&r!==void 0?r:[],s=Ro.parse(n??""),o=Ro.parse(i??""),l=a==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Xg;t=t.replace(Aq,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,f,h]=(c=Tq.exec(t))!==null&&c!==void 0?c:[],p=Ro.parse(u??""),m=Ro.parse(h??""),g=f==="+"?p.add(m):p.subtract(m);if(g.isNaN())return Xg;t=t.replace(Tq,g.toString())}return t}var kq=/\(([^()]*)\)/;function h0t(e){for(var t=e,r;(r=kq.exec(t))!=null;){var[,n]=r;t=t.replace(kq,Xce(n))}return t}function p0t(e){var t=e.replace(/\s+/g,"");return t=h0t(t),t=Xce(t),t}function m0t(e){try{return p0t(e)}catch{return Xg}}function HC(e){var t=m0t(e.slice(5,-1));return t===Xg?"":t}var g0t=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],v0t=["dx","dy","angle","className","breakAll"];function xO(){return xO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xO.apply(null,arguments)}function Nq(e,t){if(e==null)return{};var r,n,a=y0t(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function y0t(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qce=/[ \f\n\r\t\v\u2028\u2029]+/,Jce=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];ca(t)||(r?a=t.toString().split(""):a=t.toString().split(Qce));var i=a.map(o=>({word:o,width:Hx(o,n).width})),s=r?0:Hx(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},x0t=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:l}=e,c=Wt(i),u=s,f=function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return T.reduce((C,D)=>{var{word:B,width:Y}=D,ee=C[C.length-1];if(ee&&(n==null||a||ee.width+Y+r<Number(n)))ee.words.push(B),ee.width+=Y+r;else{var re={words:[B],width:Y};C.push(re)}return C},[])},h=f(t),p=O=>O.reduce((T,C)=>T.width>C.width?T:C);if(!c||a)return h;var m=h.length>i||p(h).width>Number(n);if(!m)return h;for(var g="…",v=O=>{var T=u.slice(0,O),C=Jce({breakAll:l,style:o,children:T+g}).wordsWithComputedWidth,D=f(C),B=D.length>i||p(D).width>Number(n);return[B,D]},y=0,x=u.length-1,w=0,E;y<=x&&w<=u.length-1;){var I=Math.floor((y+x)/2),P=I-1,[A,S]=v(P),[k]=v(I);if(!A&&!k&&(y=I+1),A&&k&&(x=I-1),!A&&k){E=S;break}w++}return E||h},Cq=e=>{var t=ca(e)?[]:e.toString().split(Qce);return[{words:t}]},w0t=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!Wd.isSsr){var o,l,c=Jce({breakAll:i,children:n,style:a});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return Cq(n);return x0t({breakAll:i,children:n,maxLines:s,style:a},o,l,t,r)}return Cq(n)},Pq="#808080",Kk=j.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=Pq}=e,u=Nq(e,g0t),f=j.useMemo(()=>w0t({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:s,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,s,u.style,u.width]),{dx:h,dy:p,angle:m,className:g,breakAll:v}=u,y=Nq(u,v0t);if(!hf(r)||!hf(n)||f.length===0)return null;var x=r+(Wt(h)?h:0),w=n+(Wt(p)?p:0),E;switch(l){case"start":E=HC("calc(".concat(i,")"));break;case"middle":E=HC("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:E=HC("calc(".concat(f.length-1," * -").concat(a,")"));break}var I=[];if(s){var P=f[0].width,{width:A}=u;I.push("scale(".concat(Wt(A)?A/P:1,")"))}return m&&I.push("rotate(".concat(m,", ").concat(x,", ").concat(w,")")),I.length&&(y.transform=I.join(" ")),j.createElement("text",xO({},fa(y,!0),{ref:t,x,y:w,className:Gr("recharts-text",g),textAnchor:o,fill:c.includes("url")?Pq:c}),f.map((S,k)=>{var O=S.words.join(v?"":" ");return j.createElement("tspan",{x,dy:k===0?E:a,key:"".concat(O,"-").concat(k)},O)}))});Kk.displayName="Text";var b0t=["labelRef"];function _0t(e,t){if(e==null)return{};var r,n,a=S0t(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function S0t(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Iq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Iq(Object(r),!0).forEach(function(n){E0t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Iq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E0t(e,t,r){return(t=A0t(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A0t(e){var t=T0t(e,"string");return typeof t=="symbol"?t:t+""}function T0t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qf.apply(null,arguments)}var Zce=j.createContext(null),k0t=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,s=j.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return j.createElement(Zce.Provider,{value:s},i)},eue=()=>{var e=j.useContext(Zce),t=wL();return e||t},N0t=j.createContext(null),C0t=()=>{var e=j.useContext(N0t),t=$t(Fle);return e||t},P0t=e=>{var{value:t,formatter:r}=e,n=ca(e.children)?t:e.children;return typeof r=="function"?r(n):n},NM=e=>e!=null&&typeof e=="function",I0t=(e,t)=>{var r=ts(t-e),n=Math.min(Math.abs(t-e),360);return r*n},O0t=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:h,clockWise:p}=a,m=(c+u)/2,g=I0t(f,h),v=g>=0?1:-1,y,x;switch(t){case"insideStart":y=f+v*i,x=p;break;case"insideEnd":y=h-v*i,x=!p;break;case"end":y=h+v*i,x=p;break;default:throw new Error("Unsupported position ".concat(t))}x=g<=0?x:!x;var w=Ti(o,l,m,y),E=Ti(o,l,m,y+(x?1:-1)*359),I="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(x?0:1,`,
    `).concat(E.x,",").concat(E.y),P=ca(e.id)?sw("recharts-radial-line-"):e.id;return j.createElement("text",qf({},n,{dominantBaseline:"central",className:Gr("recharts-radial-bar-label",s)}),j.createElement("defs",null,j.createElement("path",{id:P,d:I})),j.createElement("textPath",{xlinkHref:"#".concat(P)},r))},D0t=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(r==="outside"){var{x:u,y:f}=Ti(n,a,s+t,c);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:p,y:m}=Ti(n,a,h,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},tue=e=>"cx"in e&&Wt(e.cx),j0t=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!tue(r)&&(i=r);var{x:s,y:o,width:l,height:c}=t,u=c>=0?1:-1,f=u*n,h=u>0?"end":"start",p=u>0?"start":"end",m=l>=0?1:-1,g=m*n,v=m>0?"end":"start",y=m>0?"start":"end";if(a==="top"){var x={x:s+l/2,y:o-u*n,textAnchor:"middle",verticalAnchor:h};return ri(ri({},x),i?{height:Math.max(o-i.y,0),width:l}:{})}if(a==="bottom"){var w={x:s+l/2,y:o+c+f,textAnchor:"middle",verticalAnchor:p};return ri(ri({},w),i?{height:Math.max(i.y+i.height-(o+c),0),width:l}:{})}if(a==="left"){var E={x:s-g,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return ri(ri({},E),i?{width:Math.max(E.x-i.x,0),height:c}:{})}if(a==="right"){var I={x:s+l+g,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return ri(ri({},I),i?{width:Math.max(i.x+i.width-I.x,0),height:c}:{})}var P=i?{width:l,height:c}:{};return a==="insideLeft"?ri({x:s+g,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},P):a==="insideRight"?ri({x:s+l-g,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},P):a==="insideTop"?ri({x:s+l/2,y:o+f,textAnchor:"middle",verticalAnchor:p},P):a==="insideBottom"?ri({x:s+l/2,y:o+c-f,textAnchor:"middle",verticalAnchor:h},P):a==="insideTopLeft"?ri({x:s+g,y:o+f,textAnchor:y,verticalAnchor:p},P):a==="insideTopRight"?ri({x:s+l-g,y:o+f,textAnchor:v,verticalAnchor:p},P):a==="insideBottomLeft"?ri({x:s+g,y:o+c-f,textAnchor:y,verticalAnchor:h},P):a==="insideBottomRight"?ri({x:s+l-g,y:o+c-f,textAnchor:v,verticalAnchor:h},P):a&&typeof a=="object"&&(Wt(a.x)||Op(a.x))&&(Wt(a.y)||Op(a.y))?ri({x:s+Xs(a.x,l),y:o+Xs(a.y,c),textAnchor:"end",verticalAnchor:"end"},P):ri({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},P)},R0t={offset:5};function Nh(e){var t=zi(e,R0t),{viewBox:r,position:n,value:a,children:i,content:s,className:o="",textBreakAll:l,labelRef:c}=t,u=C0t(),f=eue(),h=n==="center"?f:u??f,p=r||h;if(!p||ca(a)&&ca(i)&&!j.isValidElement(s)&&typeof s!="function")return null;var m=ri(ri({},t),{},{viewBox:p});if(j.isValidElement(s)){var{labelRef:g}=m,v=_0t(m,b0t);return j.cloneElement(s,v)}var y;if(typeof s=="function"){if(y=j.createElement(s,m),j.isValidElement(y))return y}else y=P0t(t);var x=tue(p),w=fa(t,!0);if(x&&(n==="insideStart"||n==="insideEnd"||n==="end"))return O0t(t,n,y,w,p);var E=x?D0t(p,t.offset,t.position):j0t(t,p);return j.createElement(Kk,qf({ref:c,className:Gr("recharts-label",o)},w,E,{breakAll:l}),y)}Nh.displayName="Label";var L0t=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?j.createElement(Nh,qf({key:"label-implicit"},n)):hf(e)?j.createElement(Nh,qf({key:"label-implicit",value:e},n)):j.isValidElement(e)?e.type===Nh?j.cloneElement(e,ri({key:"label-implicit"},n)):j.createElement(Nh,qf({key:"label-implicit",content:e},n)):NM(e)?j.createElement(Nh,qf({key:"label-implicit",content:e},n)):e&&typeof e=="object"?j.createElement(Nh,qf({},e,{key:"label-implicit"},n)):null};function M0t(e){var{label:t}=e,r=eue();return L0t(t,r)||null}var rue={},nue={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(nue);var aue={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(aue);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nue,r=aue,n=yk;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(rue);var F0t=rue.last;const B0t=Xa(F0t);var $0t=["valueAccessor"],U0t=["dataKey","clockWise","id","textBreakAll"];function lA(){return lA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lA.apply(null,arguments)}function Oq(e,t){if(e==null)return{};var r,n,a=V0t(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function V0t(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var z0t=e=>Array.isArray(e.value)?B0t(e.value):e.value,iue=j.createContext(void 0),CM=iue.Provider,sue=j.createContext(void 0),W0t=sue.Provider;function H0t(){return j.useContext(iue)}function q0t(){return j.useContext(sue)}function JS(e){var{valueAccessor:t=z0t}=e,r=Oq(e,$0t),{dataKey:n,clockWise:a,id:i,textBreakAll:s}=r,o=Oq(r,U0t),l=H0t(),c=q0t(),u=l||c;return!u||!u.length?null:j.createElement(Ya,{className:"recharts-label-list"},u.map((f,h)=>{var p,m=ca(n)?t(f,h):Ln(f&&f.payload,n),g=ca(i)?{}:{id:"".concat(i,"-").concat(h)};return j.createElement(Nh,lA({},fa(f,!0),o,g,{fill:(p=r.fill)!==null&&p!==void 0?p:f.fill,parentViewBox:f.parentViewBox,value:m,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}JS.displayName="LabelList";function Yk(e){var{label:t}=e;return t?t===!0?j.createElement(JS,{key:"labelList-implicit"}):j.isValidElement(t)||NM(t)?j.createElement(JS,{key:"labelList-implicit",content:t}):typeof t=="object"?j.createElement(JS,lA({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function wO(){return wO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wO.apply(null,arguments)}var PM=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Gr("recharts-dot",a);return t===+t&&r===+r&&n===+n?j.createElement("circle",wO({},Dc(e),GR(e),{className:i,cx:t,cy:r,r:n})):null},oue=e=>e.graphicalItems.polarItems,G0t=ze([ba,Sb],nM),IM=ze([oue,di,G0t],aM),K0t=ze([IM],iM),OM=ze([K0t,GL],sM),Y0t=ze([OM,di,IM],lM),X0t=ze([OM,di,IM],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,s=Ln(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ln(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),Dq=()=>{},Q0t=ze([di,ace,Dq,X0t,Dq,Ur,ba],uM),lue=ze([di,Ur,OM,Y0t,_b,ba,Q0t],fM),J0t=ze([lue,di,Y1],pM);ze([di,lue,J0t,ba],gM);var Z0t={radiusAxis:{},angleAxis:{}},cue=Vl({name:"polarAxis",initialState:Z0t,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kxt,removeRadiusAxis:Nxt,addAngleAxis:Cxt,removeAngleAxis:Pxt}=cue.actions,ept=cue.reducer;function jq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jq(Object(r),!0).forEach(function(n){tpt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tpt(e,t,r){return(t=rpt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rpt(e){var t=npt(e,"string");return typeof t=="symbol"?t:t+""}function npt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var apt=(e,t)=>t,DM=ze([oue,apt],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),ipt=[],jM=(e,t,r)=>(r==null?void 0:r.length)===0?ipt:r,uue=ze([GL,DM,jM],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>Rq(Rq({},t.presentationProps),i.props))),a!=null)return a}}),spt=ze([uue,DM,jM],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,s=Ln(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:H0(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),opt=ze([uue,DM,jM,Vi],(e,t,r,n)=>{if(!(t==null||e==null))return rmt({offset:n,pieSettings:t,displayedData:e,cells:r})}),fue={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(fue);var lpt=fue.isPlainObject;const cpt=Xa(lpt);function Lq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lq(Object(r),!0).forEach(function(n){upt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function upt(e,t,r){return(t=fpt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fpt(e){var t=dpt(e,"string");return typeof t=="symbol"?t:t+""}function dpt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cA(){return cA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cA.apply(null,arguments)}var Fq=(e,t,r,n,a)=>{var i=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},hpt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ppt=e=>{var t=zi(e,hpt),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=t,h=j.useRef(),[p,m]=j.useState(-1),g=j.useRef(a),v=j.useRef(i),y=j.useRef(s),x=j.useRef(r),w=j.useRef(n),E=z1(e,"trapezoid-");if(j.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var B=h.current.getTotalLength();B&&m(B)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var I=Gr("recharts-trapezoid",o);if(!f)return j.createElement("g",null,j.createElement("path",cA({},fa(t,!0),{className:I,d:Fq(r,n,a,i,s)})));var P=g.current,A=v.current,S=y.current,k=x.current,O=w.current,T="0px ".concat(p===-1?1:p,"px"),C="".concat(p,"px 0px"),D=Aoe(["strokeDasharray"],c,l);return j.createElement(V1,{animationId:E,key:E,canBegin:p>0,duration:c,easing:l,isActive:f,begin:u},B=>{var Y=jn(P,a,B),ee=jn(A,i,B),re=jn(S,s,B),G=jn(k,r,B),q=jn(O,n,B);h.current&&(g.current=Y,v.current=ee,y.current=re,x.current=G,w.current=q);var be=B>0?{transition:D,strokeDasharray:C}:{strokeDasharray:T};return j.createElement("path",cA({},fa(t,!0),{className:I,d:Fq(G,q,Y,ee,re),ref:h,style:Mq(Mq({},be),t.style)}))})},mpt=["option","shapeType","propTransformer","activeClassName","isActive"];function gpt(e,t){if(e==null)return{};var r,n,a=vpt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vpt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Bq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bq(Object(r),!0).forEach(function(n){ypt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ypt(e,t,r){return(t=xpt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xpt(e){var t=wpt(e,"string");return typeof t=="symbol"?t:t+""}function wpt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bpt(e,t){return uA(uA({},t),e)}function _pt(e,t){return e==="symbols"}function $q(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return j.createElement(Coe,r);case"trapezoid":return j.createElement(ppt,r);case"sector":return j.createElement(Ooe,r);case"symbols":if(_pt(t))return j.createElement(ZR,r);break;default:return null}}function Spt(e){return j.isValidElement(e)?e.props:e}function due(e){var{option:t,shapeType:r,propTransformer:n=bpt,activeClassName:a="recharts-active-shape",isActive:i}=e,s=gpt(e,mpt),o;if(j.isValidElement(t))o=j.cloneElement(t,uA(uA({},s),Spt(t)));else if(typeof t=="function")o=t(s);else if(cpt(t)&&typeof t!="boolean"){var l=n(t,s);o=j.createElement($q,{shapeType:r,elementProps:l})}else{var c=s;o=j.createElement($q,{shapeType:r,elementProps:c})}return i?j.createElement(Ya,{className:a},o):o}var RM=(e,t)=>{var r=ja();return(n,a)=>i=>{e==null||e(n,a,i),r(wce({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},LM=e=>{var t=ja();return(r,n)=>a=>{e==null||e(r,n,a),t(vdt())}},MM=(e,t)=>{var r=ja();return(n,a)=>i=>{e==null||e(n,a,i),r(ydt({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Xk(e){var{fn:t,args:r}=e,n=ja(),a=ao();return j.useEffect(()=>{if(!a){var i=t(r);return n(pdt(i)),()=>{n(mdt(i))}}},[t,r,n,a]),null}var hue=()=>{};function FM(e){var{legendPayload:t}=e,r=ja(),n=ao();return j.useEffect(()=>n?hue:(r(_oe(t)),()=>{r(Soe(t))}),[r,n,t]),null}function Ept(e){var{legendPayload:t}=e,r=ja(),n=$t(Ur);return j.useEffect(()=>n!=="centric"&&n!=="radial"?hue:(r(_oe(t)),()=>{r(Soe(t))}),[r,n,t]),null}var qC,Apt=()=>{var[e]=j.useState(()=>sw("uid-"));return e},Tpt=(qC=tde.useId)!==null&&qC!==void 0?qC:Apt;function kpt(e,t){var r=Tpt();return t||(e?"".concat(e,"-").concat(r):r)}var Npt=j.createContext(void 0),Qk=e=>{var{id:t,type:r,children:n}=e,a=kpt("recharts-".concat(r),t);return j.createElement(Npt.Provider,{value:a},n(a))},Cpt={cartesianItems:[],polarItems:[]},pue=Vl({name:"graphicalItems",initialState:Cpt,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=dd(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=dd(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=dd(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Ppt,replaceCartesianGraphicalItem:Ipt,removeCartesianGraphicalItem:Opt,addPolarGraphicalItem:Dpt,removePolarGraphicalItem:jpt}=pue.actions,Rpt=pue.reducer;function BM(e){var t=ja(),r=j.useRef(null);return j.useEffect(()=>{r.current===null?t(Ppt(e)):r.current!==e&&t(Ipt({prev:r.current,next:e})),r.current=e},[t,e]),j.useEffect(()=>()=>{r.current&&(t(Opt(r.current)),r.current=null)},[t]),null}function Lpt(e){var t=ja();return j.useEffect(()=>(t(Dpt(e)),()=>{t(jpt(e))}),[t,e]),null}var Mpt=["onMouseEnter","onClick","onMouseLeave"],Fpt=["id"],Bpt=["id"];function $M(e,t){if(e==null)return{};var r,n,a=$pt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $pt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Uq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uq(Object(r),!0).forEach(function(n){Upt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Upt(e,t,r){return(t=Vpt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vpt(e){var t=zpt(e,"string");return typeof t=="symbol"?t:t+""}function zpt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(null,arguments)}function Wpt(e){var t=j.useMemo(()=>KR(e.children,Z1),[e.children]),r=$t(n=>spt(n,e.id,t));return r==null?null:j.createElement(Ept,{legendPayload:r})}function Hpt(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:n.map(u=>u.tooltipPayload),positions:n.map(u=>u.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:H0(o,t),hide:l,type:c,color:s,unit:""}}}var qpt=(e,t)=>e>t?"start":e<t?"end":"middle",Gpt=(e,t,r)=>Xs(typeof t=="function"?t(e):t,r,r*.8),Kpt=(e,t,r)=>{var{top:n,left:a,width:i,height:s}=t,o=doe(i,s),l=a+Xs(e.cx,i,i/2),c=n+Xs(e.cy,s,s/2),u=Xs(e.innerRadius,o,0),f=Gpt(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}},Ypt=(e,t)=>{var r=ts(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Xpt(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Qpt=(e,t)=>{if(j.isValidElement(e))return j.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Gr("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return j.createElement(bv,k0({},t,{type:"linear",className:r}))},Jpt=(e,t,r)=>{if(j.isValidElement(e))return j.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),j.isValidElement(n)))return n;var a=Gr("recharts-pie-label-text",Xpt(e));return j.createElement(Kk,k0({},t,{alignmentBaseline:"middle",className:a}),n)};function Zpt(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:s}=r;if(!n||!a||!t)return null;var o=Dc(r),l=fa(a,!1),c=fa(i,!1),u=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,p)=>{var m=(h.startAngle+h.endAngle)/2,g=Ti(h.cx,h.cy,h.outerRadius+u,m),v=ga(ga(ga(ga({},o),h),{},{stroke:"none"},l),{},{index:p,textAnchor:qpt(g.x,h.cx)},g),y=ga(ga(ga(ga({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:p,points:[Ti(h.cx,h.cy,h.outerRadius,m),g],key:"line"});return j.createElement(Ya,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},i&&Qpt(i,y),Jpt(a,v,Ln(h,s)))});return j.createElement(Ya,{className:"recharts-pie-labels"},f)}function emt(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?j.createElement(Yk,{label:a}):j.createElement(Zpt,{sectors:t,props:r,showLabels:n})}function tmt(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=$t(T0),{onMouseEnter:s,onClick:o,onMouseLeave:l}=a,c=$M(a,Mpt),u=RM(s,a.dataKey),f=LM(l),h=MM(o,a.dataKey);return t==null||t.length===0?null:j.createElement(j.Fragment,null,t.map((p,m)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var g=r&&String(m)===i,v=i?n:null,y=g?r:v,x=ga(ga({},p),{},{stroke:p.stroke,tabIndex:-1,[yoe]:m,[xoe]:a.dataKey});return j.createElement(Ya,k0({tabIndex:-1,className:"recharts-pie-sector"},db(c,p,m),{onMouseEnter:u(p,m),onMouseLeave:f(p,m),onClick:h(p,m),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(m)}),j.createElement(due,k0({option:y,isActive:g,shapeType:"sector"},x)))}))}function rmt(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=r,h=Math.abs(r.minAngle),p=Ypt(o,l),m=Math.abs(p),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(P=>Ln(P,c,0)!==0).length,y=(m>=360?v:v-1)*g,x=m-v*h-y,w=n.reduce((P,A)=>{var S=Ln(A,c,0);return P+(Wt(S)?S:0)},0),E;if(w>0){var I;E=n.map((P,A)=>{var S=Ln(P,c,0),k=Ln(P,u,A),O=Kpt(r,i,P),T=(Wt(S)?S:0)/w,C,D=ga(ga({},P),a&&a[A]&&a[A].props);A?C=I.endAngle+ts(p)*g*(S!==0?1:0):C=o;var B=C+ts(p)*((S!==0?h:0)+T*x),Y=(C+B)/2,ee=(O.innerRadius+O.outerRadius)/2,re=[{name:k,value:S,payload:D,dataKey:c,type:f}],G=Ti(O.cx,O.cy,ee,Y);return I=ga(ga(ga(ga({},r.presentationProps),{},{percent:T,cornerRadius:s,name:k,tooltipPayload:re,midAngle:Y,middleRadius:ee,tooltipPosition:G},D),O),{},{value:S,startAngle:C,endAngle:B,payload:D,paddingAngle:ts(p)*g}),I})}return E}function nmt(e){var{showLabels:t,sectors:r,children:n}=e,a=j.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return j.createElement(W0t,{value:t?a:void 0},n)}function amt(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:f}=t,h=z1(t,"recharts-pie-"),p=r.current,[m,g]=j.useState(!1),v=j.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),y=j.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return j.createElement(nmt,{showLabels:!m,sectors:n},j.createElement(V1,{animationId:h,begin:i,duration:s,isActive:a,easing:o,onAnimationStart:y,onAnimationEnd:v,key:h},x=>{var w=[],E=n&&n[0],I=E==null?void 0:E.startAngle;return n==null||n.forEach((P,A)=>{var S=p&&p[A],k=A>0?Cm(P,"paddingAngle",0):0;if(S){var O=jn(S.endAngle-S.startAngle,P.endAngle-P.startAngle,x),T=ga(ga({},P),{},{startAngle:I+k,endAngle:I+O+k});w.push(T),I=T.endAngle}else{var{endAngle:C,startAngle:D}=P,B=jn(0,C-D,x),Y=ga(ga({},P),{},{startAngle:I+k,endAngle:I+B+k});w.push(Y),I=Y.endAngle}}),r.current=w,j.createElement(Ya,null,j.createElement(tmt,{sectors:w,activeShape:l,inactiveShape:c,allOtherPieProps:t}))}),j.createElement(emt,{showLabels:!m,sectors:n,props:t}),t.children)}var imt={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Wd.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function smt(e){var{id:t}=e,r=$M(e,Fpt),{hide:n,className:a,rootTabIndex:i}=e,s=j.useMemo(()=>KR(e.children,Z1),[e.children]),o=$t(u=>opt(u,t,s)),l=j.useRef(null),c=Gr("recharts-pie",a);return n||o==null?(l.current=null,j.createElement(Ya,{tabIndex:i,className:c})):j.createElement(j.Fragment,null,j.createElement(Xk,{fn:Hpt,args:ga(ga({},e),{},{sectors:o})}),j.createElement(Ya,{tabIndex:i,className:c},j.createElement(amt,{props:ga(ga({},r),{},{sectors:o}),previousSectorsRef:l})))}function UM(e){var t=zi(e,imt),{id:r}=t,n=$M(t,Bpt),a=Dc(n);return j.createElement(Qk,{id:r,type:"pie"},i=>j.createElement(j.Fragment,null,j.createElement(Lpt,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),j.createElement(Wpt,k0({},n,{id:i})),j.createElement(smt,k0({},n,{id:i}))))}UM.displayName="Pie";function Vq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vq(Object(r),!0).forEach(function(n){omt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function omt(e,t,r){return(t=lmt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lmt(e){var t=cmt(e,"string");return typeof t=="symbol"?t:t+""}function cmt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var umt={xAxis:{},yAxis:{},zAxis:{}},mue=Vl({name:"cartesianAxis",initialState:umt,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=zq(zq({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:fmt,removeXAxis:dmt,addYAxis:hmt,removeYAxis:pmt,addZAxis:Ixt,removeZAxis:Oxt,updateYAxisWidth:mmt}=mue.actions,gmt=mue.reducer,vmt=ze([Vi],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),ymt=ze([vmt,Vd,zd],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Jk=()=>$t(ymt),xmt=()=>$t(aht);function Wq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wq(Object(r),!0).forEach(function(n){wmt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wmt(e,t,r){return(t=bmt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bmt(e){var t=_mt(e,"string");return typeof t=="symbol"?t:t+""}function _mt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Smt=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var s=Hq(Hq({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},fa(a,!1)),GR(a)),o;return j.isValidElement(a)?o=j.cloneElement(a,s):typeof a=="function"?o=a(s):o=j.createElement(PM,s),j.createElement(Ya,{className:"recharts-active-dot"},o)};function bO(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=$t(T0),s=xmt();if(t==null||s==null)return null;var o=t.find(l=>s.includes(l.payload));return ca(o)?null:Smt({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var Emt="Invariant failed";function Amt(e,t){throw new Error(Emt)}var Tmt=["x","y"];function _O(){return _O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_O.apply(null,arguments)}function qq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qq(Object(r),!0).forEach(function(n){kmt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kmt(e,t,r){return(t=Nmt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nmt(e){var t=Cmt(e,"string");return typeof t=="symbol"?t:t+""}function Cmt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pmt(e,t){if(e==null)return{};var r,n,a=Imt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Imt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Omt(e,t){var{x:r,y:n}=e,a=Pmt(e,Tmt),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Wy(Wy(Wy(Wy(Wy({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function VM(e){return j.createElement(due,_O({shapeType:"rectangle",propTransformer:Omt,activeClassName:"recharts-active-bar"},e))}var Dmt=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Wt(t))return t;var i=Wt(n)||ca(n);return i?t(n,a):(i||Amt(),r)}},jmt={},gue=Vl({name:"errorBars",initialState:jmt,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Dxt,replaceErrorBar:jxt,removeErrorBar:Rxt}=gue.actions,Rmt=gue.reducer,Lmt=["children"];function Mmt(e,t){if(e==null)return{};var r,n,a=Fmt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fmt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bmt={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$mt=j.createContext(Bmt);function vue(e){var{children:t}=e,r=Mmt(e,Lmt);return j.createElement($mt.Provider,{value:r},t)}function Zk(e,t){var r,n,a=$t(c=>qd(c,e)),i=$t(c=>Gd(c,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ml.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:gl.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function zM(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Jk(),{needClipX:i,needClipY:s,needClip:o}=Zk(t,r);if(!o)return null;var{x:l,y:c,width:u,height:f}=a;return j.createElement("clipPath",{id:"clipPath-".concat(n)},j.createElement("rect",{x:i?l:l-u/2,y:s?c:c-f/2,width:i?u:u*2,height:s?f:f*2}))}var Umt=["onMouseEnter","onMouseLeave","onClick"],Vmt=["value","background","tooltipPosition"],zmt=["id"],Wmt=["onMouseEnter","onClick","onMouseLeave"];function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N0.apply(null,arguments)}function Gq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gq(Object(r),!0).forEach(function(n){Hmt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hmt(e,t,r){return(t=qmt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qmt(e){var t=Gmt(e,"string");return typeof t=="symbol"?t:t+""}function Gmt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fA(e,t){if(e==null)return{};var r,n,a=Kmt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kmt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ymt=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:H0(r,t),payload:e}]};function Xmt(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:H0(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function Qmt(e){var t=$t(T0),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=i,c=fA(i,Umt),u=RM(s,n),f=LM(o),h=MM(l,n);if(!a||r==null)return null;var p=fa(a,!1);return j.createElement(j.Fragment,null,r.map((m,g)=>{var{value:v,background:y,tooltipPosition:x}=m,w=fA(m,Vmt);if(!y)return null;var E=u(m,g),I=f(m,g),P=h(m,g),A=yo(yo(yo(yo(yo({option:a,isActive:String(g)===t},w),{},{fill:"#eee"},y),p),db(c,m,g)),{},{onMouseEnter:E,onMouseLeave:I,onClick:P,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return j.createElement(VM,N0({key:"background-bar-".concat(A.index)},A))}))}function Jmt(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:i.width,height:i.height};return yo(yo({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return j.createElement(CM,{value:t?a:void 0},r)}function Zmt(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,o=$t(T0),l=$t(Dce),c=r&&String(i)===o&&(l==null||s===l),u=c?r:t;return j.createElement(VM,N0({},n,a,{isActive:c,option:u,index:i,dataKey:s}))}function egt(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return j.createElement(VM,N0({},r,n,{isActive:!1,option:t,index:a,dataKey:i}))}function tgt(e){var{data:t,props:r}=e,n=Dc(r),{id:a}=n,i=fA(n,zmt),{shape:s,dataKey:o,activeBar:l}=r,{onMouseEnter:c,onClick:u,onMouseLeave:f}=r,h=fA(r,Wmt),p=RM(c,o),m=LM(f),g=MM(u,o);return t?j.createElement(j.Fragment,null,t.map((v,y)=>j.createElement(Ya,N0({className:"recharts-bar-rectangle"},db(h,v,y),{onMouseEnter:p(v,y),onMouseLeave:m(v,y),onClick:g(v,y),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(y)}),l?j.createElement(Zmt,{shape:s,activeBar:l,baseProps:i,entry:v,index:y,dataKey:o}):j.createElement(egt,{shape:s,baseProps:i,entry:v,index:y,dataKey:o})))):null}function rgt(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,f=r.current,h=z1(t,"recharts-bar-"),[p,m]=j.useState(!1),g=!p,v=j.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),y=j.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return j.createElement(Jmt,{showLabels:g,rects:n},j.createElement(V1,{animationId:h,begin:s,duration:o,isActive:i,easing:l,onAnimationEnd:v,onAnimationStart:y,key:h},x=>{var w=x===1?n:n==null?void 0:n.map((E,I)=>{var P=f&&f[I];if(P)return yo(yo({},E),{},{x:jn(P.x,E.x,x),y:jn(P.y,E.y,x),width:jn(P.width,E.width,x),height:jn(P.height,E.height,x)});if(a==="horizontal"){var A=jn(0,E.height,x);return yo(yo({},E),{},{y:E.y+E.height-A,height:A})}var S=jn(0,E.width,x);return yo(yo({},E),{},{width:S})});return x>0&&(r.current=w??null),w==null?null:j.createElement(Ya,null,j.createElement(tgt,{props:t,data:w}))}),j.createElement(Yk,{label:t.label}),t.children)}function ngt(e){var t=j.useRef(null);return j.createElement(rgt,{previousRectanglesRef:t,props:e})}var yue=0,agt=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ln(e,t)}};class igt extends j.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(t||r==null)return null;var u=Gr("recharts-bar",a),f=c;return j.createElement(Ya,{className:u,id:c},o&&j.createElement("defs",null,j.createElement(zM,{clipPathId:f,xAxisId:i,yAxisId:s})),j.createElement(Ya,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},j.createElement(Qmt,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),j.createElement(ngt,this.props)))}}var sgt={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Wd.isSsr,legendType:"rect",minPointSize:yue,xAxisId:0,yAxisId:0};function ogt(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:f}=Zk(t,r),h=gb(),p=ao(),m=KR(e.children,Z1),g=$t(x=>Rgt(x,t,r,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var v,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?v=0:v=h==="vertical"?y.height/2:y.width/2,j.createElement(vue,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:agt,errorBarOffset:v},j.createElement(igt,N0({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function lgt(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:h,cells:p,parentViewBox:m}=e,g=t==="horizontal"?o:s,v=u?g.scale.domain():null,y=Mst({numericAxis:g});return f.map((x,w)=>{var E,I,P,A,S,k;u?E=Ost(u[w],v):(E=Ln(x,r),Array.isArray(E)||(E=[y,E]));var O=Dmt(n,yue)(E[1],w);if(t==="horizontal"){var T,[C,D]=[o.scale(E[0]),o.scale(E[1])];I=GW({axis:s,ticks:l,bandSize:i,offset:a.offset,entry:x,index:w}),P=(T=D??C)!==null&&T!==void 0?T:void 0,A=a.size;var B=C-D;if(S=tl(B)?0:B,k={x:I,y:h.top,width:A,height:h.height},Math.abs(O)>0&&Math.abs(S)<Math.abs(O)){var Y=ts(S||O)*(Math.abs(O)-Math.abs(S));P-=Y,S+=Y}}else{var[ee,re]=[s.scale(E[0]),s.scale(E[1])];if(I=ee,P=GW({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:x,index:w}),A=re-ee,S=a.size,k={x:h.left,y:P,width:h.width,height:S},Math.abs(O)>0&&Math.abs(A)<Math.abs(O)){var G=ts(A||O)*(Math.abs(O)-Math.abs(A));A+=G}}if(I==null||P==null||A==null||S==null)return null;var q=yo(yo({},x),{},{x:I,y:P,width:A,height:S,value:u?E:E[1],payload:x,background:k,tooltipPosition:{x:I+A/2,y:P+S/2},parentViewBox:m},p&&p[w]&&p[w].props);return q}).filter(Boolean)}function cgt(e){var t=zi(e,sgt),r=ao();return j.createElement(Qk,{id:t.id,type:"bar"},n=>j.createElement(j.Fragment,null,j.createElement(FM,{legendPayload:Ymt(t)}),j.createElement(Xk,{fn:Xmt,args:t}),j.createElement(BM,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:goe(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),j.createElement(ogt,N0({},t,{id:n}))))}var vw=j.memo(cgt);vw.displayName="Bar";function Kq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kq(Object(r),!0).forEach(function(n){ugt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ugt(e,t,r){return(t=fgt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fgt(e){var t=dgt(e,"string");return typeof t=="symbol"?t:t+""}function dgt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hgt=(e,t)=>t,pgt=(e,t,r)=>r,mgt=(e,t,r,n)=>n,ggt=(e,t,r,n,a)=>a,Pb=ze([Ab,ggt],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),vgt=ze([Pb],e=>e==null?void 0:e.maxBarSize),ygt=(e,t,r,n,a,i)=>i,Yq=(e,t,r)=>{var n=r??e;if(!ca(n))return Xs(n,t,0)},xgt=ze([Ur,Ab,hgt,pgt,mgt],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),wgt=(e,t,r,n)=>{var a=Ur(e);return a==="horizontal"?mw(e,"yAxis",r,n):mw(e,"xAxis",t,n)},bgt=(e,t,r)=>{var n=Ur(e);return n==="horizontal"?sq(e,"xAxis",t):sq(e,"yAxis",r)},_gt=(e,t,r)=>{var n={},a=e.filter(Uk),i=e.filter(c=>c.stackId==null),s=a.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),o=Object.entries(s).map(c=>{var[u,f]=c,h=f.map(m=>m.dataKey),p=Yq(t,r,f[0].barSize);return{stackId:u,dataKeys:h,barSize:p}}),l=i.map(c=>{var u=[c.dataKey].filter(h=>h!=null),f=Yq(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...l]},Sgt=ze([xgt,hft,bgt],_gt),Egt=(e,t,r,n,a)=>{var i,s,o=Pb(e,t,r,n,a);if(o!=null){var l=Ur(e),c=Ile(e),{maxBarSize:u}=o,f=ca(u)?c:u,h,p;return l==="horizontal"?(h=gf(e,"xAxis",t,n),p=mf(e,"xAxis",t,n)):(h=gf(e,"yAxis",r,n),p=mf(e,"yAxis",r,n)),(i=(s=Om(h,p,!0))!==null&&s!==void 0?s:f)!==null&&i!==void 0?i:0}},xue=(e,t,r,n)=>{var a=Ur(e),i,s;return a==="horizontal"?(i=gf(e,"xAxis",t,n),s=mf(e,"xAxis",t,n)):(i=gf(e,"yAxis",r,n),s=mf(e,"yAxis",r,n)),Om(i,s)};function Agt(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=Xs(e,r,0,!0),o,l=[];if(As(n[0].barSize)){var c=!1,u=r/i,f=n.reduce((y,x)=>y+(x.barSize||0),0);f+=(i-1)*s,f>=r&&(f-=(i-1)*s,s=0),f>=r&&u>0&&(c=!0,u*=.9,f=i*u);var h=(r-f)/2>>0,p={offset:h-s,size:0};o=n.reduce((y,x)=>{var w,E={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p.offset+p.size+s,size:c?u:(w=x.barSize)!==null&&w!==void 0?w:0}},I=[...y,E];return p=I[I.length-1].position,I},l)}else{var m=Xs(t,r,0,!0);r-2*m-(i-1)*s<=0&&(s=0);var g=(r-2*m-(i-1)*s)/i;g>1&&(g>>=0);var v=As(a)?Math.min(g,a):g;o=n.reduce((y,x,w)=>[...y,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m+(g+s)*w+(g-v)/2,size:v}}],l)}return o}}var Tgt=(e,t,r,n,a,i,s)=>{var o=ca(s)?t:s,l=Agt(r,n,a!==i?a:i,e,o);return a!==i&&l!=null&&(l=l.map(c=>hS(hS({},c),{},{position:hS(hS({},c.position),{},{offset:c.position.offset-a/2})}))),l},kgt=ze([Sgt,Ile,dft,Ole,Egt,xue,vgt],Tgt),Ngt=(e,t,r,n)=>gf(e,"xAxis",t,n),Cgt=(e,t,r,n)=>gf(e,"yAxis",r,n),Pgt=(e,t,r,n)=>mf(e,"xAxis",t,n),Igt=(e,t,r,n)=>mf(e,"yAxis",r,n),Ogt=ze([kgt,Pb],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Dgt=(e,t)=>{var r=$k(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}},jgt=ze([wgt,Pb],Dgt),Rgt=ze([Vi,xL,Ngt,Cgt,Pgt,Igt,Ogt,Ur,bb,xue,jgt,Pb,ygt],(e,t,r,n,a,i,s,o,l,c,u,f,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:g}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||c==null)){var{data:v}=f,y;if(v!=null&&v.length>0?y=v:y=p==null?void 0:p.slice(m,g+1),y!=null)return lgt({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:u,displayedData:y,offset:e,cells:h})}}),wue=e=>{var{chartData:t}=e,r=ja(),n=ao();return j.useEffect(()=>n?()=>{}:(r(mq(t)),()=>{r(mq(void 0))}),[t,r,n]),null},Xq={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},bue=Vl({name:"brush",initialState:Xq,reducers:{setBrushSettings(e,t){return t.payload==null?Xq:t.payload}}}),{setBrushSettings:Lxt}=bue.actions,Lgt=bue.reducer;function Mgt(e,t,r){return(t=Fgt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fgt(e){var t=Bgt(e,"string");return typeof t=="symbol"?t:t+""}function Bgt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class WM{static create(t){return new WM(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}Mgt(WM,"EPS",1e-4);function $gt(e){return(e%180+180)%180}var Ugt=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=$gt(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Vgt={dots:[],areas:[],lines:[]},_ue=Vl({name:"referenceElements",initialState:Vgt,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=dd(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=dd(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=dd(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:Mxt,removeDot:Fxt,addArea:Bxt,removeArea:$xt,addLine:Uxt,removeLine:Vxt}=_ue.actions,zgt=_ue.reducer,Wgt=j.createContext(void 0),Hgt=e=>{var{children:t}=e,[r]=j.useState("".concat(sw("recharts"),"-clip")),n=Jk();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return j.createElement(Wgt.Provider,{value:r},j.createElement("defs",null,j.createElement("clipPath",{id:r},j.createElement("rect",{x:a,y:i,height:o,width:s}))),t)};function s1(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Sue(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function qgt(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Ugt(n,r)}function Ggt(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:o}=e;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function dA(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function Kgt(e,t){return Sue(e,t+1)}function Ygt(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:o}=t,l=0,c=1,u=s,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:Sue(n,c)};var g=l,v,y=()=>(v===void 0&&(v=r(m,g)),v),x=m.coordinate,w=l===0||dA(e,x,y,u,o);w||(l=0,u=s,c+=1),w&&(u=x+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function Qq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qq(Object(r),!0).forEach(function(n){Xgt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xgt(e,t,r){return(t=Qgt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qgt(e){var t=Jgt(e,"string");return typeof t=="symbol"?t:t+""}function Jgt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zgt(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:l}=t,c=function(h){var p=i[h],m,g=()=>(m===void 0&&(m=r(p,h)),m);if(h===s-1){var v=e*(p.coordinate+e*g()/2-l);i[h]=p=Fs(Fs({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=Fs(Fs({},p),{},{tickCoord:p.coordinate});var y=dA(e,p.tickCoord,g,o,l);y&&(l=p.tickCoord-e*(g()/2+a),i[h]=Fs(Fs({},p),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function evt(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:l,end:c}=t;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=Fs(Fs({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var p=dA(e,u.tickCoord,()=>f,l,c);p&&(c=u.tickCoord-e*(f/2+a),s[o-1]=Fs(Fs({},u),{},{isShow:!0}))}for(var m=i?o-1:o,g=function(x){var w=s[x],E,I=()=>(E===void 0&&(E=r(w,x)),E);if(x===0){var P=e*(w.coordinate-e*I()/2-l);s[x]=w=Fs(Fs({},w),{},{tickCoord:P<0?w.coordinate-P*e:w.coordinate})}else s[x]=w=Fs(Fs({},w),{},{tickCoord:w.coordinate});var A=dA(e,w.tickCoord,I,l,c);A&&(l=w.tickCoord+e*(I()/2+a),s[x]=Fs(Fs({},w),{},{isShow:!0}))},v=0;v<m;v++)g(v);return s}function HM(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=e;if(!a||!a.length||!n)return[];if(Wt(l)||Wd.isSsr){var h;return(h=Kgt(a,Wt(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=o==="top"||o==="bottom"?"width":"height",g=u&&m==="width"?Hx(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(w,E)=>{var I=typeof c=="function"?c(w.value,E):w.value;return m==="width"?qgt(Hx(I,{fontSize:t,letterSpacing:r}),g,f):Hx(I,{fontSize:t,letterSpacing:r})[m]},y=a.length>=2?ts(a[1].coordinate-a[0].coordinate):1,x=Ggt(i,y,m);return l==="equidistantPreserveStart"?Ygt(y,x,v,a,s):(l==="preserveStart"||l==="preserveStartEnd"?p=evt(y,x,v,a,s,l==="preserveStartEnd"):p=Zgt(y,x,v,a,s),p.filter(w=>w.isShow))}var tvt=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=a+i,c=s+l+o+(r?n:0);return Math.round(c)}return 0},rvt=["axisLine","width","height","className","hide","ticks"],nvt=["viewBox"],avt=["viewBox"];function SO(e,t){if(e==null)return{};var r,n,a=ivt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ivt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jm.apply(null,arguments)}function Jq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jq(Object(r),!0).forEach(function(n){svt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function svt(e,t,r){return(t=ovt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ovt(e){var t=lvt(e,"string");return typeof t=="symbol"?t:t+""}function lvt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qM={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function cvt(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=ji(ji(ji({},l),fa(o,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!s||i==="bottom"&&s);c=ji(ji({},c),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);c=ji(ji({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return j.createElement("line",jm({},c,{className:Gr("recharts-cartesian-axis-line",Cm(o,"className"))}))}function uvt(e,t,r,n,a,i,s,o,l){var c,u,f,h,p,m,g=o?-1:1,v=e.tickSize||s,y=Wt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=u=e.coordinate,h=r+ +!o*a,f=h-g*v,m=f-g*l,p=y;break;case"left":f=h=e.coordinate,u=t+ +!o*n,c=u-g*v,p=c-g*l,m=y;break;case"right":f=h=e.coordinate,u=t+ +o*n,c=u+g*v,p=c+g*l,m=y;break;default:c=u=e.coordinate,h=r+ +o*a,f=h+g*v,m=f+g*l,p=y;break}return{line:{x1:c,y1:f,x2:u,y2:h},tick:{x:p,y:m}}}function fvt(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function dvt(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function hvt(e){var{option:t,tickProps:r,value:n}=e,a,i=Gr(r.className,"recharts-cartesian-axis-tick-value");if(j.isValidElement(t))a=j.cloneElement(t,ji(ji({},r),{},{className:i}));else if(typeof t=="function")a=t(ji(ji({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Gr(s,t==null?void 0:t.className)),a=j.createElement(Kk,jm({},r,{className:s}),n)}return a}function pvt(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:s,padding:o,tickTextProps:l,orientation:c,mirror:u,x:f,y:h,width:p,height:m,tickSize:g,tickMargin:v,fontSize:y,letterSpacing:x,getTicksConfig:w,events:E}=e,I=HM(ji(ji({},w),{},{ticks:t}),y,x),P=fvt(c,u),A=dvt(c,u),S=Dc(w),k=fa(r,!1),O=ji(ji({},S),{},{fill:"none"},fa(n,!1)),T=I.map((C,D)=>{var{line:B,tick:Y}=uvt(C,f,h,p,m,c,g,u,v),ee=ji(ji(ji(ji({textAnchor:P,verticalAnchor:A},S),{},{stroke:"none",fill:a},k),Y),{},{index:D,payload:C,visibleTicksCount:I.length,tickFormatter:i,padding:o},l);return j.createElement(Ya,jm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},db(E,C,D)),n&&j.createElement("line",jm({},O,B,{className:Gr("recharts-cartesian-axis-tick-line",Cm(n,"className"))})),r&&j.createElement(hvt,{option:r,tickProps:ee,value:"".concat(typeof i=="function"?i(C.value,D):C.value).concat(s||"")}))});return T.length>0?j.createElement("g",{className:"recharts-cartesian-axis-ticks"},T):null}var mvt=j.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:o}=e,l=SO(e,rvt),[c,u]=j.useState(""),[f,h]=j.useState(""),p=j.useRef([]);j.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return tvt({ticks:p.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var m=j.useCallback(g=>{if(g){var v=g.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=Array.from(v);var y=v[0];if(y){var x=window.getComputedStyle(y),w=x.fontSize,E=x.letterSpacing;(w!==c||E!==f)&&(u(w),h(E))}}},[c,f]);return s||n!=null&&n<=0||a!=null&&a<=0?null:j.createElement(Ya,{className:Gr("recharts-cartesian-axis",i),ref:m},j.createElement(cvt,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Dc(e)}),j.createElement(pvt,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:f,getTicksConfig:e,events:l}),j.createElement(k0t,{x:e.x,y:e.y,width:e.width,height:e.height},j.createElement(M0t,{label:e.label}),e.children))}),gvt=j.memo(mvt,(e,t)=>{var{viewBox:r}=e,n=SO(e,nvt),{viewBox:a}=t,i=SO(t,avt);return s1(r,a)&&s1(n,i)}),GM=j.forwardRef((e,t)=>{var r=zi(e,qM);return j.createElement(gvt,jm({},r,{ref:t}))});GM.displayName="CartesianAxis";var vvt=["x1","y1","x2","y2","key"],yvt=["offset"],xvt=["xAxisId","yAxisId"],wvt=["xAxisId","yAxisId"];function Zq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zq(Object(r),!0).forEach(function(n){bvt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bvt(e,t,r){return(t=_vt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _vt(e){var t=Svt(e,"string");return typeof t=="symbol"?t:t+""}function Svt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rp(){return Rp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rp.apply(null,arguments)}function hA(e,t){if(e==null)return{};var r,n,a=Evt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Evt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Avt=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:o}=e;return j.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Eue(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:s,key:o}=t,l=hA(t,vvt),c=Dc(l),{offset:u}=c,f=hA(c,yvt);r=j.createElement("line",Rp({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function Tvt(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=hA(e,xvt),l=a.map((c,u)=>{var f=Hs(Hs({},o),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return Eue(n,f)});return j.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function kvt(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=hA(e,wvt),l=a.map((c,u)=>{var f=Hs(Hs({},o),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return Eue(n,f)});return j.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Nvt(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var p=!c[h+1],m=p?a+s-f:c[h+1]-f;if(m<=0)return null;var g=h%t.length;return j.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:m,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Cvt(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var p=!c[h+1],m=p?a+s-f:c[h+1]-f;if(m<=0)return null;var g=h%r.length;return j.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:m,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return j.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Pvt=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return poe(HM(Hs(Hs(Hs({},qM),r),{},{ticks:moe(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},Ivt=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return poe(HM(Hs(Hs(Hs({},qM),r),{},{ticks:moe(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Ovt={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function a0(e){var t=bL(),r=_L(),n=woe(),a=Hs(Hs({},zi(e,Ovt)),{},{x:Wt(e.x)?e.x:n.left,y:Wt(e.y)?e.y:n.top,width:Wt(e.width)?e.width:n.width,height:Wt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:p}=a,m=ao(),g=$t(k=>oq(k,"xAxis",i,m)),v=$t(k=>oq(k,"yAxis",s,m));if(!Wt(c)||c<=0||!Wt(u)||u<=0||!Wt(o)||o!==+o||!Wt(l)||l!==+l)return null;var y=a.verticalCoordinatesGenerator||Pvt,x=a.horizontalCoordinatesGenerator||Ivt,{horizontalPoints:w,verticalPoints:E}=a;if((!w||!w.length)&&typeof x=="function"){var I=h&&h.length,P=x({yAxis:v?Hs(Hs({},v),{},{ticks:I?h:v.ticks}):void 0,width:t,height:r,offset:n},I?!0:f);Wx(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(w=P)}if((!E||!E.length)&&typeof y=="function"){var A=p&&p.length,S=y({xAxis:g?Hs(Hs({},g),{},{ticks:A?p:g.ticks}):void 0,width:t,height:r,offset:n},A?!0:f);Wx(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(E=S)}return j.createElement("g",{className:"recharts-cartesian-grid"},j.createElement(Avt,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),j.createElement(Nvt,Rp({},a,{horizontalPoints:w})),j.createElement(Cvt,Rp({},a,{verticalPoints:E})),j.createElement(Tvt,Rp({},a,{offset:n,horizontalPoints:w,xAxis:g,yAxis:v})),j.createElement(kvt,Rp({},a,{offset:n,verticalPoints:E,xAxis:g,yAxis:v})))}a0.displayName="CartesianGrid";var Aue=(e,t,r,n)=>gf(e,"xAxis",t,n),Tue=(e,t,r,n)=>mf(e,"xAxis",t,n),kue=(e,t,r,n)=>gf(e,"yAxis",r,n),Nue=(e,t,r,n)=>mf(e,"yAxis",r,n),Dvt=ze([Ur,Aue,kue,Tue,Nue],(e,t,r,n,a)=>Ef(e,"xAxis")?Om(t,n,!1):Om(r,a,!1)),jvt=(e,t,r,n,a)=>a;function Rvt(e){return e.type==="line"}var Lvt=ze([Ab,jvt],(e,t)=>e.filter(Rvt).find(r=>r.id===t)),Mvt=ze([Ur,Aue,kue,Tue,Nue,Lvt,Dvt,bb],(e,t,r,n,a,i,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{dataKey:f,data:h}=i,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(c,u+1),p!=null)return i1t({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:p})}}),Fvt=["id"],Bvt=["type","layout","connectNulls","needClip"],$vt=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function eG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eG(Object(r),!0).forEach(function(n){Uvt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uvt(e,t,r){return(t=Vvt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vvt(e){var t=zvt(e,"string");return typeof t=="symbol"?t:t+""}function zvt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KM(e,t){if(e==null)return{};var r,n,a=Wvt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wvt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(null,arguments)}var Hvt=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:H0(r,t),payload:e}]};function qvt(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:H0(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var Cue=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Gvt(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Kvt=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return Cue(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>i){o=[...r.slice(0,l),i-c];break}var u=o.length%2===0?[0,s]:[s];return[...Gvt(r,a),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function Yvt(e,t){var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Gr("recharts-line-dot",typeof e!="boolean"?e.className:"");r=j.createElement(PM,Rm({},t,{className:n}))}return r}function Xvt(e,t){return e==null?!1:t?!0:e.length===1}function Qvt(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n;if(!Xvt(r,a))return null;var{id:o}=n,l=KM(n,Fvt),c=pk(a),u=Dc(l),f=fa(a,!0),h=r.map((m,g)=>{var v=bl(bl(bl({key:"dot-".concat(g),r:3},u),f),{},{index:g,cx:m.x,cy:m.y,dataKey:i,value:m.value,payload:m.payload,points:r});return Yvt(a,v)}),p={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return j.createElement(Ya,Rm({className:"recharts-line-dots",key:"dots"},p),h)}function Jvt(e){var{showLabels:t,children:r,points:n}=e,a=j.useMemo(()=>n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return bl(bl({},s),{},{value:i.value,payload:i.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return j.createElement(CM,{value:t?a:null},r)}function tG(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:o,connectNulls:l,needClip:c}=i,u=KM(i,Bvt),f=bl(bl({},fa(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return j.createElement(j.Fragment,null,(n==null?void 0:n.length)>1&&j.createElement(bv,Rm({},f,{pathRef:r})),j.createElement(Qvt,{points:n,clipPathId:t,props:i}))}function Zvt(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function e1t(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:h,width:p,height:m,onAnimationEnd:g,onAnimationStart:v}=r,y=a.current,x=z1(r,"recharts-line-"),[w,E]=j.useState(!1),I=!w,P=j.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),A=j.useCallback(()=>{typeof v=="function"&&v(),E(!0)},[v]),S=Zvt(n.current),k=i.current;return j.createElement(Jvt,{points:s,showLabels:I},r.children,j.createElement(V1,{animationId:x,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:P,onAnimationStart:A,key:x},O=>{var T=jn(k,S+k,O),C=Math.min(T,S),D;if(l)if(o){var B="".concat(o).split(/[,\s]+/gim).map(re=>parseFloat(re));D=Kvt(C,S,B)}else D=Cue(S,C);else D=o==null?void 0:String(o);if(y){var Y=y.length/s.length,ee=O===1?s:s.map((re,G)=>{var q=Math.floor(G*Y);if(y[q]){var be=y[q];return bl(bl({},re),{},{x:jn(be.x,re.x,O),y:jn(be.y,re.y,O)})}return h?bl(bl({},re),{},{x:jn(p*2,re.x,O),y:jn(m/2,re.y,O)}):bl(bl({},re),{},{x:re.x,y:re.y})});return a.current=ee,j.createElement(tG,{props:r,points:ee,clipPathId:t,pathRef:n,strokeDasharray:D})}return O>0&&S>0&&(a.current=s,i.current=C),j.createElement(tG,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:D})}),j.createElement(Yk,{label:r.label}))}function t1t(e){var{clipPathId:t,props:r}=e,n=j.useRef(null),a=j.useRef(0),i=j.useRef(null);return j.createElement(e1t,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var r1t=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ln(e.payload,t)});class n1t extends j.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:f,id:h,needClip:p}=this.props;if(r)return null;var m=Gr("recharts-line",i),g=h,{r:v=3,strokeWidth:y=2}=(t=fa(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},x=pk(n),w=v*2+y;return j.createElement(j.Fragment,null,j.createElement(Ya,{className:m},p&&j.createElement("defs",null,j.createElement(zM,{clipPathId:g,xAxisId:s,yAxisId:o}),!x&&j.createElement("clipPath",{id:"clipPath-dots-".concat(g)},j.createElement("rect",{x:c-w/2,y:l-w/2,width:u+w,height:f+w}))),j.createElement(vue,{xAxisId:s,yAxisId:o,data:a,dataPointFormatter:r1t,errorBarOffset:0},j.createElement(t1t,{props:this.props,clipPathId:g}))),j.createElement(bO,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var Pue={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Wd.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function a1t(e){var t=zi(e,Pue),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:f,legendType:h,xAxisId:p,yAxisId:m,id:g}=t,v=KM(t,$vt),{needClip:y}=Zk(p,m),x=Jk(),w=gb(),E=ao(),I=$t(O=>Mvt(O,p,m,E,g));if(w!=="horizontal"&&w!=="vertical"||I==null||x==null)return null;var{height:P,width:A,x:S,y:k}=x;return j.createElement(n1t,Rm({},v,{id:g,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:u,hide:c,label:f,legendType:h,xAxisId:p,yAxisId:m,points:I,layout:w,height:P,width:A,left:S,top:k,needClip:y}))}function i1t(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,u)=>{var f=Ln(c,s);if(t==="horizontal"){var h=H5({axis:r,ticks:a,bandSize:o,entry:c,index:u}),p=ca(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:c}}var m=ca(f)?null:r.scale(f),g=H5({axis:n,ticks:i,bandSize:o,entry:c,index:u});return m==null||g==null?null:{x:m,y:g,value:f,payload:c}}).filter(Boolean)}function s1t(e){var t=zi(e,Pue),r=ao();return j.createElement(Qk,{id:t.id,type:"line"},n=>j.createElement(j.Fragment,null,j.createElement(FM,{legendPayload:Hvt(t)}),j.createElement(Xk,{fn:qvt,args:t}),j.createElement(BM,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),j.createElement(a1t,Rm({},t,{id:n}))))}var YM=j.memo(s1t);YM.displayName="Line";var Iue=(e,t,r,n)=>gf(e,"xAxis",t,n),Oue=(e,t,r,n)=>mf(e,"xAxis",t,n),Due=(e,t,r,n)=>gf(e,"yAxis",r,n),jue=(e,t,r,n)=>mf(e,"yAxis",r,n),o1t=ze([Ur,Iue,Due,Oue,jue],(e,t,r,n,a)=>Ef(e,"xAxis")?Om(t,n,!1):Om(r,a,!1)),l1t=(e,t,r,n,a)=>a,Rue=ze([Ab,l1t],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),c1t=(e,t,r,n,a)=>{var i,s=Rue(e,t,r,n,a);if(s!=null){var o=Ur(e),l=Ef(o,"xAxis"),c;if(l?c=mw(e,"yAxis",r,n):c=mw(e,"xAxis",t,n),c!=null){var{stackId:u}=s,f=$k(s);if(!(u==null||f==null)){var h=(i=c[u])===null||i===void 0?void 0:i.stackedData;return h==null?void 0:h.find(p=>p.key===f)}}}},u1t=ze([Ur,Iue,Due,Oue,jue,c1t,bb,o1t,Rue],(e,t,r,n,a,i,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:f}=s;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{data:h}=l,p;if(h&&h.length>0?p=h:p=c==null?void 0:c.slice(u,f+1),p!=null){var m=void 0;return I1t({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:u,areaSettings:l,stackedData:i,displayedData:p,chartBaseValue:m,bandSize:o})}}}),f1t=["id"],d1t=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Lue(e,t){if(e==null)return{};var r,n,a=h1t(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function h1t(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rG(Object(r),!0).forEach(function(n){p1t(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p1t(e,t,r){return(t=m1t(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m1t(e){var t=g1t(e,"string");return typeof t=="symbol"?t:t+""}function g1t(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pd(){return pd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pd.apply(null,arguments)}function pA(e,t){return e&&e!=="none"?e:t}var v1t=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:pA(n,a),value:H0(r,t),payload:e}]};function y1t(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:H0(s,t),hide:o,type:e.tooltipType,color:pA(n,i),unit:l}}}var x1t=(e,t)=>{var r;if(j.isValidElement(e))r=j.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Gr("recharts-area-dot",typeof e!="boolean"?e.className:"");r=j.createElement(PM,pd({},t,{className:n}))}return r};function w1t(e,t){return e==null?!1:t?!0:e.length===1}function b1t(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:s}=n;if(!w1t(r,i))return null;var o=pk(i),l=Dc(n),c=fa(i,!0),u=r.map((h,p)=>{var m=ad(ad(ad({key:"dot-".concat(p),r:3},l),c),{},{index:p,cx:h.x,cy:h.y,dataKey:s,value:h.value,payload:h.payload,points:r});return x1t(i,m)}),f={clipPath:a?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return j.createElement(Ya,pd({className:"recharts-area-dots"},f),u)}function _1t(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return ad(ad({},s),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:s,fill:void 0})});return j.createElement(CM,{value:t?a:null},r)}function nG(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:s,type:o,stroke:l,connectNulls:c,isRange:u}=i,{id:f}=i,h=Lue(i,f1t),p=Dc(h);return j.createElement(j.Fragment,null,(t==null?void 0:t.length)>1&&j.createElement(Ya,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},j.createElement(bv,pd({},p,{id:f,points:t,connectNulls:c,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&j.createElement(bv,pd({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:t})),l!=="none"&&u&&j.createElement(bv,pd({},p,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:r}))),j.createElement(b1t,{points:t,props:h,clipPathId:a}))}function S1t(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,s=n[n.length-1].y;if(!As(i)||!As(s))return null;var o=t*Math.abs(i-s),l=Math.max(...n.map(c=>c.x||0));return Wt(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.x||0),l)),Wt(l)?j.createElement("rect",{x:0,y:i<s?i:i-o,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(o)}):null}function E1t(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,s=n[n.length-1].x;if(!As(i)||!As(s))return null;var o=t*Math.abs(i-s),l=Math.max(...n.map(c=>c.y||0));return Wt(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.y||0),l)),Wt(l)?j.createElement("rect",{x:i<s?i:i-o,y:0,width:o,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}function A1t(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?j.createElement(S1t,{alpha:t,points:n,baseLine:a,strokeWidth:i}):j.createElement(E1t,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function T1t(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:s,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=n,m=z1(n,"recharts-area-"),[g,v]=j.useState(!1),y=!g,x=j.useCallback(()=>{typeof p=="function"&&p(),v(!1)},[p]),w=j.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]),E=a.current,I=i.current;return j.createElement(_1t,{showLabels:y,points:s},n.children,j.createElement(V1,{animationId:m,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:x,onAnimationStart:w,key:m},P=>{if(E){var A=E.length/s.length,S=P===1?s:s.map((O,T)=>{var C=Math.floor(T*A);if(E[C]){var D=E[C];return ad(ad({},O),{},{x:jn(D.x,O.x,P),y:jn(D.y,O.y,P)})}return O}),k;return Wt(o)?k=jn(I,o,P):ca(o)||tl(o)?k=jn(I,0,P):k=o.map((O,T)=>{var C=Math.floor(T*A);if(Array.isArray(I)&&I[C]){var D=I[C];return ad(ad({},O),{},{x:jn(D.x,O.x,P),y:jn(D.y,O.y,P)})}return O}),P>0&&(a.current=S,i.current=k),j.createElement(nG,{points:S,baseLine:k,needClip:t,clipPathId:r,props:n})}return P>0&&(a.current=s,i.current=o),j.createElement(Ya,null,l&&j.createElement("defs",null,j.createElement("clipPath",{id:"animationClipPath-".concat(r)},j.createElement(A1t,{alpha:P,points:s,baseLine:o,layout:n.layout,strokeWidth:n.strokeWidth}))),j.createElement(Ya,{clipPath:"url(#animationClipPath-".concat(r,")")},j.createElement(nG,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n})))}),j.createElement(Yk,{label:n.label}))}function k1t(e){var{needClip:t,clipPathId:r,props:n}=e,a=j.useRef(null),i=j.useRef();return j.createElement(T1t,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class N1t extends j.PureComponent{render(){var t,{hide:r,dot:n,points:a,className:i,top:s,left:o,needClip:l,xAxisId:c,yAxisId:u,width:f,height:h,id:p,baseLine:m}=this.props;if(r)return null;var g=Gr("recharts-area",i),v=p,{r:y=3,strokeWidth:x=2}=(t=fa(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},w=pk(n),E=y*2+x;return j.createElement(j.Fragment,null,j.createElement(Ya,{className:g},l&&j.createElement("defs",null,j.createElement(zM,{clipPathId:v,xAxisId:c,yAxisId:u}),!w&&j.createElement("clipPath",{id:"clipPath-dots-".concat(v)},j.createElement("rect",{x:o-E/2,y:s-E/2,width:f+E,height:h+E}))),j.createElement(k1t,{needClip:l,clipPathId:v,props:this.props})),j.createElement(bO,{points:a,mainColor:pA(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(m)&&j.createElement(bO,{points:m,mainColor:pA(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var Mue={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Wd.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function C1t(e){var t,r=zi(e,Mue),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:f,isAnimationActive:h,legendType:p,stroke:m,xAxisId:g,yAxisId:v}=r,y=Lue(r,d1t),x=gb(),w=Rce(),{needClip:E}=Zk(g,v),I=ao(),{points:P,isRange:A,baseLine:S}=(t=$t(B=>u1t(B,g,v,I,e.id)))!==null&&t!==void 0?t:{},k=Jk();if(x!=="horizontal"&&x!=="vertical"||k==null||w!=="AreaChart"&&w!=="ComposedChart")return null;var{height:O,width:T,x:C,y:D}=k;return!P||!P.length?null:j.createElement(N1t,pd({},y,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,baseLine:S,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:O,hide:f,layout:x,isAnimationActive:h,isRange:A,legendType:p,needClip:E,points:P,stroke:m,width:T,left:C,top:D,xAxisId:g,yAxisId:v}))}var P1t=(e,t,r,n,a)=>{var i=r??t;if(Wt(i))return i;var s=e==="horizontal"?a:n,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return i==="dataMin"?c:i==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function I1t(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:f,yAxisTicks:h,bandSize:p}=e,m=a&&a.length,g=P1t(i,s,r,o,l),v=i==="horizontal",y=!1,x=c.map((E,I)=>{var P;m?P=a[u+I]:(P=Ln(E,n),Array.isArray(P)?y=!0:P=[g,P]);var A=P[1]==null||m&&!t&&Ln(E,n)==null;return v?{x:H5({axis:o,ticks:f,bandSize:p,entry:E,index:I}),y:A?null:l.scale(P[1]),value:P,payload:E}:{x:A?null:o.scale(P[1]),y:H5({axis:l,ticks:h,bandSize:p,entry:E,index:I}),value:P,payload:E}}),w;return m||y?w=x.map(E=>{var I=Array.isArray(E.value)?E.value[0]:null;return v?{x:E.x,y:I!=null&&E.y!=null?l.scale(I):null,payload:E.payload}:{x:I!=null?o.scale(I):null,y:E.y,payload:E.payload}}):w=v?l.scale(g):o.scale(g),{points:x,baseLine:w,isRange:y}}function O1t(e){var t=zi(e,Mue),r=ao();return j.createElement(Qk,{id:t.id,type:"area"},n=>j.createElement(j.Fragment,null,j.createElement(FM,{legendPayload:v1t(t)}),j.createElement(Xk,{fn:y1t,args:t}),j.createElement(BM,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:goe(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),j.createElement(C1t,pd({},t,{id:n}))))}var EO=j.memo(O1t);EO.displayName="Area";var D1t=["dangerouslySetInnerHTML","ticks"],j1t=["id"],R1t=["domain"],L1t=["domain"];function AO(){return AO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AO.apply(null,arguments)}function mA(e,t){if(e==null)return{};var r,n,a=M1t(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function M1t(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function F1t(e){var t=ja();return j.useEffect(()=>(t(fmt(e)),()=>{t(dmt(e))}),[e,t]),null}var B1t=e=>{var{xAxisId:t,className:r}=e,n=$t(xL),a=ao(),i="xAxis",s=$t(v=>X1(v,i,t,a)),o=$t(v=>pce(v,i,t,a)),l=$t(v=>uce(v,t)),c=$t(v=>adt(v,t)),u=$t(v=>Ule(v,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,p=mA(e,D1t),{id:m}=u,g=mA(u,j1t);return j.createElement(GM,AO({},p,g,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:Gr("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},$1t={allowDataOverflow:ml.allowDataOverflow,allowDecimals:ml.allowDecimals,allowDuplicatedCategory:ml.allowDuplicatedCategory,height:ml.height,hide:!1,mirror:ml.mirror,orientation:ml.orientation,padding:ml.padding,reversed:ml.reversed,scale:ml.scale,tickCount:ml.tickCount,type:ml.type,xAxisId:0},U1t=e=>{var t,r,n,a,i,s=zi(e,$1t);return j.createElement(j.Fragment,null,j.createElement(F1t,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),j.createElement(B1t,s))},V1t=(e,t)=>{var{domain:r}=e,n=mA(e,R1t),{domain:a}=t,i=mA(t,L1t);return s1(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:s1({domain:r},{domain:a}):!1},i0=j.memo(U1t,V1t);i0.displayName="XAxis";var z1t=["dangerouslySetInnerHTML","ticks"],W1t=["id"],H1t=["domain"],q1t=["domain"];function TO(){return TO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TO.apply(null,arguments)}function gA(e,t){if(e==null)return{};var r,n,a=G1t(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function G1t(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function K1t(e){var t=ja();return j.useEffect(()=>(t(hmt(e)),()=>{t(pmt(e))}),[e,t]),null}var Y1t=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=j.useRef(null),s=j.useRef(null),o=$t(xL),l=ao(),c=ja(),u="yAxis",f=$t(I=>X1(I,u,t,l)),h=$t(I=>fce(I,t)),p=$t(I=>sdt(I,t)),m=$t(I=>pce(I,u,t,l)),g=$t(I=>Vle(I,t));if(j.useLayoutEffect(()=>{if(!(n!=="auto"||!h||NM(a)||j.isValidElement(a)||g==null)){var I=i.current;if(I){var P=I.getCalculatedWidth();Math.round(h.width)!==Math.round(P)&&c(mmt({id:t,width:P}))}}},[m,h,c,a,t,n,g]),h==null||p==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,x=gA(e,z1t),{id:w}=g,E=gA(g,W1t);return j.createElement(GM,TO({},x,E,{ref:i,labelRef:s,scale:f,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Gr("recharts-".concat(u," ").concat(u),r),viewBox:o,ticks:m}))},X1t={allowDataOverflow:gl.allowDataOverflow,allowDecimals:gl.allowDecimals,allowDuplicatedCategory:gl.allowDuplicatedCategory,hide:!1,mirror:gl.mirror,orientation:gl.orientation,padding:gl.padding,reversed:gl.reversed,scale:gl.scale,tickCount:gl.tickCount,type:gl.type,width:gl.width,yAxisId:0},Q1t=e=>{var t,r,n,a,i,s=zi(e,X1t);return j.createElement(j.Fragment,null,j.createElement(K1t,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),j.createElement(Y1t,s))},J1t=(e,t)=>{var{domain:r}=e,n=gA(e,H1t),{domain:a}=t,i=gA(t,q1t);return s1(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:s1({domain:r},{domain:a}):!1},s0=j.memo(Q1t,J1t);s0.displayName="YAxis";var Z1t={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib=j;function eyt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tyt=typeof Object.is=="function"?Object.is:eyt,ryt=Ib.useSyncExternalStore,nyt=Ib.useRef,ayt=Ib.useEffect,iyt=Ib.useMemo,syt=Ib.useDebugValue;Z1t.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=nyt(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=iyt(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),a!==void 0&&s.hasValue){var m=s.value;if(a(m,p))return f=m}return f=p}if(m=f,tyt(u,p))return m;var g=n(p);return a!==void 0&&a(m,g)?(u=p,m):(u=p,f=g)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=ryt(e,i[0],i[1]);return ayt(function(){s.hasValue=!0,s.value=o},[o]),syt(o),o};function oyt(e){e()}function lyt(){let e=null,t=null;return{clear(){e=null,t=null},notify(){oyt(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var aG={notify(){},get:()=>[]};function cyt(e,t){let r,n=aG,a=0,i=!1;function s(g){u();const v=n.subscribe(g);let y=!1;return()=>{y||(y=!0,v(),f())}}function o(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return i}function u(){a++,r||(r=e.subscribe(l),n=lyt())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=aG)}function h(){i||(i=!0,u())}function p(){i&&(i=!1,f())}const m={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return m}var uyt=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fyt=uyt(),dyt=()=>typeof navigator<"u"&&navigator.product==="ReactNative",hyt=dyt(),pyt=()=>fyt||hyt?j.useLayoutEffect:j.useEffect,myt=pyt(),GC=Symbol.for("react-redux-context"),KC=typeof globalThis<"u"?globalThis:{};function gyt(){if(!j.createContext)return{};const e=KC[GC]??(KC[GC]=new Map);let t=e.get(j.createContext);return t||(t=j.createContext(null),e.set(j.createContext,t)),t}var vyt=gyt();function yyt(e){const{children:t,context:r,serverState:n,store:a}=e,i=j.useMemo(()=>{const l=cyt(a);return{store:a,subscription:l,getServerState:n?()=>n:void 0}},[a,n]),s=j.useMemo(()=>a.getState(),[a]);myt(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,s]);const o=r||vyt;return j.createElement(o.Provider,{value:i},t)}var xyt=yyt,wyt=(e,t)=>t,XM=ze([wyt,Ur,Fle,Hi,Cce,Kd,uht,Vi],mht),QM=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Fue=kc("mouseClick"),Bue=pb();Bue.startListening({actionCreator:Fue,effect:(e,t)=>{var r=e.payload,n=XM(t.getState(),QM(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(xdt({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var kO=kc("mouseMove"),$ue=pb();$ue.startListening({actionCreator:kO,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=xM(n,n.tooltip.settings.shared),i=XM(n,QM(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(_ce({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(bce()))}});var iG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},Uue=Vl({name:"rootProps",initialState:iG,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:iG.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),byt=Uue.reducer,{updateOptions:_yt}=Uue.actions,Vue=Vl({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Syt}=Vue.actions,Eyt=Vue.reducer,zue=kc("keyDown"),Wue=kc("focus"),JM=pb();JM.startListening({actionCreator:zue,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(wM(a,J1(r))),o=Kd(r);if(i==="Enter"){var l=oA(r,"axis","hover",String(a.index));t.dispatch(gO({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:l}));return}var c=udt(r),u=c==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=s+f*u;if(!(o==null||h>=o.length||h<0)){var p=oA(r,"axis","hover",String(h));t.dispatch(gO({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:p}))}}}}});JM.startListening({actionCreator:Wue,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=oA(r,"axis","hover",String(i));t.dispatch(gO({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var nc=kc("externalEvent"),Hue=pb();Hue.startListening({actionCreator:nc,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:tht(r),activeDataKey:Dce(r),activeIndex:T0(r),activeLabel:Oce(r),activeTooltipIndex:T0(r),isTooltipActive:rht(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Ayt=ze([Q1],e=>e.tooltipItemPayloads),Tyt=ze([Ayt,Nb,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),que=kc("touchMove"),Gue=pb();Gue.startListening({actionCreator:que,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=xM(n,n.tooltip.settings.shared);if(a==="axis"){var i=XM(n,QM({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(_ce({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(yoe),u=(s=l.getAttribute(xoe))!==null&&s!==void 0?s:void 0,f=Tyt(t.getState(),c,u);t.dispatch(wce({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}});var kyt=zse({brush:Lgt,cartesianAxis:gmt,chartData:Pht,errorBars:Rmt,graphicalItems:Rpt,layout:gst,legend:iot,options:Aht,polarAxis:ept,polarOptions:Eyt,referenceElements:zgt,rootProps:byt,tooltip:wdt}),Nyt=function(t){return Uit({reducer:kyt,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([Bue.middleware,$ue.middleware,JM.middleware,Hue.middleware,Gue.middleware]),devTools:Wd.devToolsEnabled})};function Kue(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=ao(),i=j.useRef(null);if(a)return r;i.current==null&&(i.current=Nyt(t));var s=fL;return j.createElement(xyt,{context:s,store:i.current},r)}function Yue(e){var{layout:t,width:r,height:n,margin:a}=e,i=ja(),s=ao();return j.useEffect(()=>{s||(i(hst(t)),i(pst({width:r,height:n})),i(dst(a)))},[i,s,t,r,n,a]),null}function Xue(e){var t=ja();return j.useEffect(()=>{t(_yt(e))},[t,e]),null}var Cyt=["children"];function Pyt(e,t){if(e==null)return{};var r,n,a=Iyt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Iyt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vA(){return vA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vA.apply(null,arguments)}var Oyt={width:"100%",height:"100%"},Dyt=j.forwardRef((e,t)=>{var r=bL(),n=_L(),a=Eoe();if(!t1(r)||!t1(n))return null;var{children:i,otherAttributes:s,title:o,desc:l}=e,c,u;return typeof s.tabIndex=="number"?c=s.tabIndex:c=a?0:void 0,typeof s.role=="string"?u=s.role:u=a?"application":void 0,j.createElement(YR,vA({},s,{title:o,desc:l,role:u,tabIndex:c,width:r,height:n,style:Oyt,ref:t}),i)}),jyt=e=>{var{children:t}=e,r=$t(Ck);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return j.createElement(YR,{width:n,height:a,x:s,y:i},t)},sG=j.forwardRef((e,t)=>{var{children:r}=e,n=Pyt(e,Cyt),a=ao();return a?j.createElement(jyt,null,r):j.createElement(Dyt,vA({ref:t},n),r)});function Ryt(){var e=ja(),[t,r]=j.useState(null),n=$t(Wst);return j.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;As(i)&&i!==n&&e(mst(i))}},[t,e,n]),r}function oG(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lyt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oG(Object(r),!0).forEach(function(n){Myt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oG(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Myt(e,t,r){return(t=Fyt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fyt(e){var t=Byt(e,"string");return typeof t=="symbol"?t:t+""}function Byt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $yt=j.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:v,width:y}=e,x=ja(),[w,E]=j.useState(null),[I,P]=j.useState(null);Bht();var A=Ryt(),S=j.useCallback(R=>{A(R),typeof t=="function"&&t(R),E(R),P(R)},[A,t,E,P]),k=j.useCallback(R=>{x(Fue(R)),x(nc({handler:i,reactEvent:R}))},[x,i]),O=j.useCallback(R=>{x(kO(R)),x(nc({handler:c,reactEvent:R}))},[x,c]),T=j.useCallback(R=>{x(bce()),x(nc({handler:u,reactEvent:R}))},[x,u]),C=j.useCallback(R=>{x(kO(R)),x(nc({handler:f,reactEvent:R}))},[x,f]),D=j.useCallback(()=>{x(Wue())},[x]),B=j.useCallback(R=>{x(zue(R.key))},[x]),Y=j.useCallback(R=>{x(nc({handler:s,reactEvent:R}))},[x,s]),ee=j.useCallback(R=>{x(nc({handler:o,reactEvent:R}))},[x,o]),re=j.useCallback(R=>{x(nc({handler:l,reactEvent:R}))},[x,l]),G=j.useCallback(R=>{x(nc({handler:h,reactEvent:R}))},[x,h]),q=j.useCallback(R=>{x(nc({handler:g,reactEvent:R}))},[x,g]),be=j.useCallback(R=>{x(que(R)),x(nc({handler:m,reactEvent:R}))},[x,m]),_e=j.useCallback(R=>{x(nc({handler:p,reactEvent:R}))},[x,p]);return j.createElement($ce.Provider,{value:w},j.createElement(Yie.Provider,{value:I},j.createElement("div",{className:Gr("recharts-wrapper",n),style:Lyt({position:"relative",cursor:"default",width:y,height:a},v),onClick:k,onContextMenu:Y,onDoubleClick:ee,onFocus:D,onKeyDown:B,onMouseDown:re,onMouseEnter:O,onMouseLeave:T,onMouseMove:C,onMouseUp:G,onTouchEnd:_e,onTouchMove:be,onTouchStart:q,ref:S},r)))}),Uyt=["children","className","width","height","style","compact","title","desc"];function Vyt(e,t){if(e==null)return{};var r,n,a=zyt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zyt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Que=j.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:s,compact:o,title:l,desc:c}=e,u=Vyt(e,Uyt),f=Dc(u);return o?j.createElement(sG,{otherAttributes:f,title:l,desc:c},r):j.createElement($yt,{className:n,style:s,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},j.createElement(sG,{otherAttributes:f,title:l,desc:c,ref:t},j.createElement(Hgt,null,r)))}),Wyt=["width","height"];function NO(){return NO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NO.apply(null,arguments)}function Hyt(e,t){if(e==null)return{};var r,n,a=qyt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qyt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Gyt={top:5,right:5,bottom:5,left:5},Kyt={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Gyt,reverseStackOrder:!1,syncMethod:"index"},ZM=j.forwardRef(function(t,r){var n,a=zi(t.categoricalChartProps,Kyt),{width:i,height:s}=a,o=Hyt(a,Wyt);if(!t1(i)||!t1(s))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,p={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return j.createElement(Kue,{preloadedState:{options:p},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:l},j.createElement(wue,{chartData:h.data}),j.createElement(Yue,{width:i,height:s,layout:a.layout,margin:a.margin}),j.createElement(Xue,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),j.createElement(Que,NO({},o,{width:i,height:s,ref:r})))}),Yyt=["axis"],Jue=j.forwardRef((e,t)=>j.createElement(ZM,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Yyt,tooltipPayloadSearcher:Gk,categoricalChartProps:e,ref:t})),Xyt=["axis","item"],yA=j.forwardRef((e,t)=>j.createElement(ZM,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xyt,tooltipPayloadSearcher:Gk,categoricalChartProps:e,ref:t}));function Qyt(e){var t=ja();return j.useEffect(()=>{t(Syt(e))},[t,e]),null}var Jyt=["width","height","layout"];function CO(){return CO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CO.apply(null,arguments)}function Zyt(e,t){if(e==null)return{};var r,n,a=ext(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ext(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var txt={top:5,right:5,bottom:5,left:5},rxt={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:txt,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},nxt=j.forwardRef(function(t,r){var n,a=zi(t.categoricalChartProps,rxt),{width:i,height:s,layout:o}=a,l=Zyt(a,Jyt);if(!t1(i)||!t1(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,p={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return j.createElement(Kue,{preloadedState:{options:p},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:c},j.createElement(wue,{chartData:a.data}),j.createElement(Yue,{width:i,height:s,layout:o,margin:a.margin}),j.createElement(Xue,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),j.createElement(Qyt,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),j.createElement(Que,CO({width:i,height:s},l,{ref:r})))}),axt=["item"],ixt={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Zue=j.forwardRef((e,t)=>{var r=zi(e,ixt);return j.createElement(nxt,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:axt,tooltipPayloadSearcher:Gk,categoricalChartProps:r,ref:t})}),sxt=["axis"],oxt=j.forwardRef((e,t)=>j.createElement(ZM,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:sxt,tooltipPayloadSearcher:Gk,categoricalChartProps:e,ref:t}));const yw=Pe.forwardRef(({className:e,value:t,...r},n)=>d.jsx("div",{ref:n,className:U0("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:d.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));yw.displayName="Progress";const lxt={"Al día":"#10b981",Pendiente:"#f59e0b",Urgente:"#ef4444"},cxt={monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday:"Domingo"};function lG(){const{globalMetrics:e,teleoperadorasMetrics:t,beneficiariosMetrics:r,noAsignadosMetrics:n,loading:a,errors:i,initializeListeners:s,cleanup:o,getSummaryStats:l,getTopOperators:c,getBeneficiariesByStatus:u}=AT(),f=$R(),h=i.global||!e||e.totalCalls===0;j.useEffect(()=>(s(),o),[s,o]);const p=h?f.getSummaryStats():l(),m=h?f.getTopOperators(5):c(5),g=h?f.getBeneficiariesByStatus("Urgente"):u("Urgente"),v=h?f.globalMetrics:e,y=()=>{if(!v)return{dayData:[],hourData:[],statusData:[]};const S=Object.entries(v.dayDistribution||{}).map(([T,C])=>({day:cxt[T.toLowerCase()]||T,llamadas:C})),k=Object.entries(v.hourDistribution||{}).map(([T,C])=>({hora:`${T}:00`,llamadas:C})).sort((T,C)=>parseInt(T.hora)-parseInt(C.hora)),O=Object.entries(p.beneficiariesByStatus).map(([T,C])=>({name:T,value:C,color:lxt[T]||"#8884d8"}));return{dayData:S,hourData:k,statusData:O}},{dayData:x,hourData:w,statusData:E}=y(),I=S=>{const k=Math.floor(S/60),O=Math.round(S%60);return k>0?`${k}h ${O}m`:`${O}m`},P=S=>`${Math.round(S*100)/100}%`,A=({title:S,value:k,subtitle:O,icon:T,trend:C,color:D="blue"})=>d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs(rn,{children:[d.jsxs(nn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(an,{className:"text-sm font-medium",children:S}),d.jsx(T,{className:`h-4 w-4 text-${D}-600`})]}),d.jsxs(sn,{children:[d.jsx("div",{className:"text-2xl font-bold",children:k}),O&&d.jsx("p",{className:"text-xs text-muted-foreground",children:O}),C&&d.jsxs("div",{className:`flex items-center pt-1 text-xs ${C>0?"text-green-600":"text-red-600"}`,children:[d.jsx(am,{className:"h-3 w-3 mr-1"}),C>0?"+":"",P(C)," vs período anterior"]})]})]})});return a.global?d.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-2",children:"Cargando métricas..."})]}):i.global?d.jsx("div",{className:"flex items-center justify-center min-h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx(Go,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error cargando métricas"}),d.jsx("p",{className:"text-gray-500",children:i.global})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs(rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard Global"}),h&&d.jsx(Uo,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Modo Demo"})]}),d.jsx("p",{className:"text-muted-foreground",children:h?"Mostrando datos simulados - Inicialice la base de datos para datos reales":"Resumen general de métricas y análisis de llamadas"}),(v==null?void 0:v.lastUpdated)&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Última actualización: ",new Date(v.lastUpdated).toLocaleString("es-ES")]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[d.jsx(A,{title:"Total de Llamadas",value:p.totalCalls.toLocaleString(),subtitle:"Llamadas registradas",icon:q3,color:"blue"}),d.jsx(A,{title:"Tasa de Éxito",value:P(p.successRate),subtitle:`${(e==null?void 0:e.successfulCalls)||0} llamadas exitosas`,icon:wa,color:"green"}),d.jsx(A,{title:"Duración Total",value:I((e==null?void 0:e.totalDuration)||0),subtitle:`Promedio: ${I((e==null?void 0:e.averageDuration)||0)}`,icon:ws,color:"purple"}),d.jsx(A,{title:"Teleoperadoras",value:p.totalOperators,subtitle:"Activas en el sistema",icon:ai,color:"orange"})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsx(A,{title:"Beneficiarios Al Día",value:p.beneficiariesByStatus["Al día"]||0,subtitle:"Contactados recientemente",icon:wa,color:"green"}),d.jsx(A,{title:"Beneficiarios Pendientes",value:p.beneficiariesByStatus.Pendiente||0,subtitle:"Requieren seguimiento",icon:ws,color:"yellow"}),d.jsx(A,{title:"Beneficiarios Urgentes",value:p.beneficiariesByStatus.Urgente||0,subtitle:"Atención prioritaria",icon:Go,color:"red"})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsx(rt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Llamadas por Día de la Semana"}),d.jsx(Ri,{children:"Distribución de llamadas durante la semana"})]}),d.jsx(sn,{children:d.jsx(nd,{width:"100%",height:300,children:d.jsxs(yA,{data:x,children:[d.jsx(a0,{strokeDasharray:"3 3"}),d.jsx(i0,{dataKey:"day"}),d.jsx(s0,{}),d.jsx(rd,{}),d.jsx(vw,{dataKey:"llamadas",fill:"#3b82f6"})]})})})]})}),d.jsx(rt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Llamadas por Hora del Día"}),d.jsx(Ri,{children:"Distribución horaria de la actividad"})]}),d.jsx(sn,{children:d.jsx(nd,{width:"100%",height:300,children:d.jsxs(Jue,{data:w,children:[d.jsx(a0,{strokeDasharray:"3 3"}),d.jsx(i0,{dataKey:"hora"}),d.jsx(s0,{}),d.jsx(rd,{}),d.jsx(YM,{type:"monotone",dataKey:"llamadas",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981"}})]})})})]})})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Estado de Beneficiarios"}),d.jsx(Ri,{children:"Distribución por estado de seguimiento"})]}),d.jsx(sn,{children:d.jsx(nd,{width:"100%",height:300,children:d.jsxs(Zue,{children:[d.jsx(UM,{data:E,cx:"50%",cy:"50%",labelLine:!1,label:({name:S,percent:k})=>`${S} ${(k*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:E.map((S,k)=>d.jsx(Z1,{fill:S.color},`cell-${k}`))}),d.jsx(rd,{})]})})})]})}),d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Top Teleoperadoras"}),d.jsx(Ri,{children:"Mejores performance por tasa de éxito"})]}),d.jsx(sn,{className:"space-y-4",children:m.slice(0,5).map((S,k)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-blue-600",children:k+1})})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:S.nombreOriginal}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.totalCalls," llamadas"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx(Uo,{variant:S.successRate>=80?"success":S.successRate>=60?"warning":"danger",children:P(S.successRate)}),d.jsx(yw,{value:S.successRate,className:"w-20 h-2 mt-1"})]})]},S.id))})]})})]}),g.length>0&&d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:d.jsxs(rn,{className:"border-red-200 bg-red-50",children:[d.jsxs(nn,{children:[d.jsxs(an,{className:"text-red-800 flex items-center",children:[d.jsx(Go,{className:"h-5 w-5 mr-2"}),"Beneficiarios Urgentes"]}),d.jsx(Ri,{className:"text-red-600",children:"Requieren atención inmediata - Sin contacto exitoso en más de 30 días"})]}),d.jsx(sn,{children:d.jsx("div",{className:"grid gap-2 max-h-64 overflow-y-auto",children:g.slice(0,10).map(S=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg shadow-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:S.nombreOriginal}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Última llamada: ",S.lastCall?new Date(S.lastCall).toLocaleDateString("es-ES"):"Nunca"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx(Uo,{variant:"danger",children:"Urgente"}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[S.totalCalls," llamadas"]})]})]},S.id))})})]})}),n&&n.totalUnassigned>0&&d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},children:d.jsxs(rn,{className:"border-yellow-200 bg-yellow-50",children:[d.jsxs(nn,{children:[d.jsxs(an,{className:"text-yellow-800 flex items-center",children:[d.jsx(ai,{className:"h-5 w-5 mr-2"}),"Beneficiarios No Asignados"]}),d.jsxs(Ri,{className:"text-yellow-600",children:[n.totalUnassigned," beneficiarios sin teleoperadora asignada"]})]}),d.jsx(sn,{children:d.jsxs("p",{className:"text-sm",children:["Total de llamadas no asignadas: ",n.totalUnassignedCalls]})})]})})]})}function uxt({operatorId:e}){const{getTeleoperadoraMetrics:t,getBeneficiariesByOperator:r,loading:n,errors:a}=AT(),[i,s]=j.useState("7"),[o,l]=j.useState(""),[c,u]=j.useState("all"),f=$R(),h=t(e),p=r(e),m=a.teleoperadoras||!h,g=m?f.getTeleoperadoraMetrics(e):h,v=m?f.getBeneficiariesByOperator(e):p,y=()=>{if(!(g!=null&&g.calls))return[];const S=new Date,k=new Date(S.getTime()-parseInt(i)*24*60*60*1e3),O=g.calls.filter(C=>new Date(C.fecha)>=k),T={};return O.forEach(C=>{const D=new Date(C.fecha).toLocaleDateString("es-ES");T[D]||(T[D]={date:D,total:0,successful:0,failed:0,duration:0}),T[D].total++,C.exitosa?T[D].successful++:T[D].failed++,T[D].duration+=C.duracion||0}),Object.values(T).sort((C,D)=>new Date(C.date)-new Date(D.date))},x=()=>{if(!(g!=null&&g.calls))return[];let S=[...g.calls];if(o){const k=o.toLowerCase();S=S.filter(O=>{var T,C;return((T=O.beneficiario)==null?void 0:T.toLowerCase().includes(k))||((C=O.observaciones)==null?void 0:C.toLowerCase().includes(k))})}return c==="successful"?S=S.filter(k=>k.exitosa):c==="failed"&&(S=S.filter(k=>!k.exitosa)),S.sort((k,O)=>new Date(O.fecha)-new Date(k.fecha))},w=y(),E=x(),I=S=>{const k=Math.floor(S/60),O=Math.round(S%60);return k>0?`${k}h ${O}m`:`${O}m`},P=S=>`${Math.round(S*100)/100}%`,A=({title:S,value:k,subtitle:O,icon:T,color:C="blue",progress:D})=>d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs(rn,{children:[d.jsxs(nn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(an,{className:"text-sm font-medium",children:S}),d.jsx(T,{className:`h-4 w-4 text-${C}-600`})]}),d.jsxs(sn,{children:[d.jsx("div",{className:"text-2xl font-bold",children:k}),O&&d.jsx("p",{className:"text-xs text-muted-foreground",children:O}),D!==void 0&&d.jsx(yw,{value:D,className:"mt-2"})]})]})});return n.teleoperadoras?d.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-2",children:"Cargando datos de teleoperadora..."})]}):h?d.jsxs("div",{className:"space-y-6",children:[d.jsx(rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:g.nombreOriginal}),m&&d.jsx(Uo,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Modo Demo"})]}),d.jsx("p",{className:"text-muted-foreground",children:m?"Mostrando datos simulados - Inicialice la base de datos para datos reales":"Dashboard individual de teleoperadora"}),g.lastUpdated&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Última actualización: ",new Date(g.lastUpdated).toLocaleString("es-ES")]})]}),d.jsxs(Uo,{variant:g.successRate>=80?"success":g.successRate>=60?"warning":"danger",children:[P(g.successRate)," de éxito"]})]})}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[d.jsx(A,{title:"Total de Llamadas",value:g.totalCalls.toLocaleString(),subtitle:"Llamadas realizadas",icon:q3,color:"blue"}),d.jsx(A,{title:"Llamadas Exitosas",value:g.successfulCalls.toLocaleString(),subtitle:`${P(g.successRate)} de éxito`,icon:wa,color:"green",progress:g.successRate}),d.jsx(A,{title:"Tiempo Total",value:I(g.totalDuration),subtitle:`Promedio: ${I(g.averageDuration)}`,icon:ws,color:"purple"}),d.jsx(A,{title:"Beneficiarios Atendidos",value:v.length,subtitle:"Clientes únicos",icon:Ss,color:"orange"})]}),d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:d.jsxs(rn,{children:[d.jsx(nn,{children:d.jsx(an,{children:"Filtros y Período"})}),d.jsx(sn,{children:d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Js,{className:"h-4 w-4"}),d.jsxs("select",{value:i,onChange:S=>s(S.target.value),className:"border rounded px-3 py-1 text-sm",children:[d.jsx("option",{value:"7",children:"Últimos 7 días"}),d.jsx("option",{value:"15",children:"Últimos 15 días"}),d.jsx("option",{value:"30",children:"Últimos 30 días"}),d.jsx("option",{value:"90",children:"Últimos 3 meses"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2 flex-1 max-w-md",children:[d.jsx(xo,{className:"h-4 w-4"}),d.jsx("input",{type:"text",placeholder:"Buscar beneficiario o observaciones...",value:o,onChange:S=>l(S.target.value),className:"border rounded px-3 py-1 text-sm w-full"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Ew,{className:"h-4 w-4"}),d.jsxs("select",{value:c,onChange:S=>u(S.target.value),className:"border rounded px-3 py-1 text-sm",children:[d.jsx("option",{value:"all",children:"Todas las llamadas"}),d.jsx("option",{value:"successful",children:"Solo exitosas"}),d.jsx("option",{value:"failed",children:"Solo fallidas"})]})]})]})})]})}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsx(rt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Evolución de Llamadas"}),d.jsxs(Ri,{children:["Progreso diario en los últimos ",i," días"]})]}),d.jsx(sn,{children:d.jsx(nd,{width:"100%",height:300,children:d.jsxs(oxt,{data:w,children:[d.jsx(a0,{strokeDasharray:"3 3"}),d.jsx(i0,{dataKey:"date"}),d.jsx(s0,{}),d.jsx(rd,{}),d.jsx(Pk,{}),d.jsx(EO,{type:"monotone",dataKey:"successful",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.8,name:"Exitosas"}),d.jsx(EO,{type:"monotone",dataKey:"failed",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.8,name:"Fallidas"})]})})})]})}),d.jsx(rt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Duración de Llamadas"}),d.jsx(Ri,{children:"Tiempo total por día (minutos)"})]}),d.jsx(sn,{children:d.jsx(nd,{width:"100%",height:300,children:d.jsxs(yA,{data:w,children:[d.jsx(a0,{strokeDasharray:"3 3"}),d.jsx(i0,{dataKey:"date"}),d.jsx(s0,{}),d.jsx(rd,{}),d.jsx(vw,{dataKey:"duration",fill:"#8b5cf6"})]})})})]})})]}),d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Historial de Llamadas"}),d.jsxs(Ri,{children:[E.length," llamadas ",c==="all"?"":c==="successful"?"exitosas":"fallidas",o&&` con "${o}"`]})]}),d.jsx(sn,{children:d.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[E.slice(0,50).map((S,k)=>d.jsx(rt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:k*.05},className:`border rounded-lg p-4 ${S.exitosa?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx("h4",{className:"font-medium",children:S.beneficiario}),d.jsx(Uo,{variant:S.exitosa?"success":"danger",children:S.exitosa?"Exitosa":"Fallida"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Fecha y hora:"}),d.jsx("p",{children:new Date(S.fecha).toLocaleString("es-ES")})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Duración:"}),d.jsx("p",{children:I(S.duracion||0)})]})]}),S.observaciones&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-muted-foreground text-sm",children:"Observaciones:"}),d.jsx("p",{className:"text-sm",children:S.observaciones})]})]}),d.jsx("div",{className:"flex items-center space-x-2",children:S.exitosa?d.jsx(wa,{className:"h-5 w-5 text-green-600"}):d.jsx(rm,{className:"h-5 w-5 text-red-600"})})]})},S.id||k)),E.length===0&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx(q3,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"No hay llamadas que coincidan con los filtros"})]}),E.length>50&&d.jsx("div",{className:"text-center py-4",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando primeras 50 de ",E.length," llamadas"]})})]})})]})}),d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Beneficiarios Atendidos"}),d.jsx(Ri,{children:"Lista de beneficiarios con sus respectivos estados"})]}),d.jsx(sn,{children:d.jsxs("div",{className:"grid gap-3 max-h-64 overflow-y-auto",children:[v.slice(0,20).map((S,k)=>d.jsxs(rt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:k*.05},className:"flex items-center justify-between p-3 border rounded-lg",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:S.nombreOriginal}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.totalCalls," llamadas • Última: ",S.lastCall?new Date(S.lastCall).toLocaleDateString("es-ES"):"Nunca"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx(Uo,{variant:S.status==="Al día"?"success":S.status==="Pendiente"?"warning":"danger",children:S.status}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[P(S.successRate)," éxito"]})]})]},S.id)),v.length>20&&d.jsx("div",{className:"text-center py-2",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando primeros 20 de ",v.length," beneficiarios"]})})]})})]})})]}):d.jsx("div",{className:"flex items-center justify-center min-h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx(Ss,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Teleoperadora no encontrada"}),d.jsx("p",{className:"text-gray-500",children:"No se encontraron datos para esta teleoperadora"})]})})}const fxt={"Al día":"#10b981",Pendiente:"#f59e0b",Urgente:"#ef4444"};function dxt({beneficiaryId:e}){var P,A,S,k,O;const{getBeneficiaryMetrics:t,beneficiariosMetrics:r,searchBeneficiaries:n,getBeneficiariesByStatus:a,loading:i,errors:s}=AT(),[o,l]=j.useState(""),[c,u]=j.useState("all"),[f,h]=j.useState(null);j.useEffect(()=>{if(e){const T=t(e);h(T)}},[e,t]);const p=()=>{let T=Object.values(r);return o&&(T=n(o)),c!=="all"&&(T=T.filter(C=>C.status===c)),T.sort((C,D)=>{if(C.status!==D.status){const ee={Urgente:3,Pendiente:2,"Al día":1};return ee[D.status]-ee[C.status]}const B=C.lastCall?new Date(C.lastCall):new Date(0);return(D.lastCall?new Date(D.lastCall):new Date(0))-B})},m=T=>{if(!(T!=null&&T.calls))return{timelineData:[],operatorData:[]};const C=T.calls.slice(-10).map((Y,ee)=>({index:ee+1,fecha:new Date(Y.fecha).toLocaleDateString("es-ES"),exitosa:Y.exitosa?1:0,duracion:Y.duracion||0,teleoperadora:Y.teleoperadora})),D={};T.calls.forEach(Y=>{const ee=Y.teleoperadora||"Sin asignar";D[ee]||(D[ee]={name:ee,total:0,exitosas:0}),D[ee].total++,Y.exitosa&&D[ee].exitosas++});const B=Object.values(D).map(Y=>({...Y,successRate:Y.total>0?Y.exitosas/Y.total*100:0}));return{timelineData:C,operatorData:B}},g=()=>{const T=Object.values(r),C=T.reduce((ee,re)=>(ee[re.status]=(ee[re.status]||0)+1,ee),{}),D=Object.entries(C).map(([ee,re])=>({name:ee,value:re,color:fxt[ee]||"#8884d8"})),B={};T.forEach(ee=>{var re;(re=ee.calls)==null||re.forEach(G=>{const q=new Date(G.fecha).toLocaleDateString("es-ES",{weekday:"long"});B[q]=(B[q]||0)+1})});const Y=Object.entries(B).map(([ee,re])=>({day:ee,llamadas:re}));return{statusData:D,dayData:Y}},v=p(),{statusData:y,dayData:x}=g(),w=T=>{const C=Math.floor(T/60),D=Math.round(T%60);return C>0?`${C}h ${D}m`:`${D}m`},E=T=>`${Math.round(T*100)/100}%`,I=T=>{switch(T){case"Al día":return d.jsx(wa,{className:"h-4 w-4"});case"Pendiente":return d.jsx(ws,{className:"h-4 w-4"});case"Urgente":return d.jsx(Go,{className:"h-4 w-4"});default:return d.jsx(Ss,{className:"h-4 w-4"})}};if(i.beneficiarios)return d.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-2",children:"Cargando datos de beneficiarios..."})]});if(f){const{timelineData:T,operatorData:C}=m(f);return d.jsxs("div",{className:"space-y-6",children:[d.jsx(rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("button",{onClick:()=>h(null),className:"text-blue-600 hover:text-blue-800 mb-2 flex items-center",children:"← Volver a la lista"}),d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:f.nombreOriginal}),d.jsx("p",{className:"text-muted-foreground",children:"Historial detallado del beneficiario"})]}),d.jsxs(Uo,{variant:f.status==="Al día"?"success":f.status==="Pendiente"?"warning":"danger",className:"text-lg px-4 py-2",children:[I(f.status),d.jsx("span",{className:"ml-2",children:f.status})]})]})}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[d.jsxs(rn,{children:[d.jsxs(nn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(an,{className:"text-sm font-medium",children:"Total de Llamadas"}),d.jsx(Ha,{className:"h-4 w-4 text-blue-600"})]}),d.jsxs(sn,{children:[d.jsx("div",{className:"text-2xl font-bold",children:f.totalCalls}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.successfulCalls," exitosas"]})]})]}),d.jsxs(rn,{children:[d.jsxs(nn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(an,{className:"text-sm font-medium",children:"Tasa de Éxito"}),d.jsx(am,{className:"h-4 w-4 text-green-600"})]}),d.jsxs(sn,{children:[d.jsx("div",{className:"text-2xl font-bold",children:E(f.successRate)}),d.jsx(yw,{value:f.successRate,className:"mt-2"})]})]}),d.jsxs(rn,{children:[d.jsxs(nn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(an,{className:"text-sm font-medium",children:"Última Llamada"}),d.jsx(Js,{className:"h-4 w-4 text-purple-600"})]}),d.jsxs(sn,{children:[d.jsx("div",{className:"text-lg font-bold",children:f.lastCall?new Date(f.lastCall).toLocaleDateString("es-ES"):"Nunca"}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Exitosa: ",f.lastSuccessfulCall?new Date(f.lastSuccessfulCall).toLocaleDateString("es-ES"):"Nunca"]})]})]}),d.jsxs(rn,{children:[d.jsxs(nn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(an,{className:"text-sm font-medium",children:"Teléfonos"}),d.jsx(Ha,{className:"h-4 w-4 text-orange-600"})]}),d.jsxs(sn,{children:[d.jsx("div",{className:"text-lg font-bold",children:((P=f.telefonos)==null?void 0:P.length)||0}),d.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[(A=f.telefonos)==null?void 0:A.slice(0,2).map((D,B)=>d.jsx("div",{children:D},B)),((S=f.telefonos)==null?void 0:S.length)>2&&d.jsxs("div",{children:["+",f.telefonos.length-2," más"]})]})]})]})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Últimas Llamadas"}),d.jsx(Ri,{children:"Historial reciente de contactos"})]}),d.jsx(sn,{children:d.jsx(nd,{width:"100%",height:300,children:d.jsxs(Jue,{data:T,children:[d.jsx(a0,{strokeDasharray:"3 3"}),d.jsx(i0,{dataKey:"fecha"}),d.jsx(s0,{}),d.jsx(rd,{}),d.jsx(YM,{type:"monotone",dataKey:"exitosa",stroke:"#10b981",strokeWidth:2,name:"Éxito"})]})})})]}),d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Teleoperadoras"}),d.jsx(Ri,{children:"Rendimiento por operadora"})]}),d.jsx(sn,{children:d.jsx(nd,{width:"100%",height:300,children:d.jsxs(yA,{data:C,children:[d.jsx(a0,{strokeDasharray:"3 3"}),d.jsx(i0,{dataKey:"name"}),d.jsx(s0,{}),d.jsx(rd,{}),d.jsx(vw,{dataKey:"successRate",fill:"#3b82f6",name:"% Éxito"})]})})})]})]}),d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Historial Completo de Llamadas"}),d.jsxs(Ri,{children:[((k=f.calls)==null?void 0:k.length)||0," llamadas registradas"]})]}),d.jsx(sn,{children:d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:(O=f.calls)==null?void 0:O.map((D,B)=>d.jsx(rt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:B*.05},className:`border rounded-lg p-4 ${D.exitosa?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx(Uo,{variant:D.exitosa?"success":"danger",children:D.exitosa?"Exitosa":"Fallida"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:D.teleoperadora||"Sin asignar"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Fecha:"}),d.jsx("p",{children:new Date(D.fecha).toLocaleString("es-ES")})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Duración:"}),d.jsx("p",{children:w(D.duracion||0)})]})]}),D.observaciones&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-muted-foreground text-sm",children:"Observaciones:"}),d.jsx("p",{className:"text-sm",children:D.observaciones})]})]}),D.exitosa?d.jsx(wa,{className:"h-5 w-5 text-green-600"}):d.jsx(rm,{className:"h-5 w-5 text-red-600"})]})},B))})})]})]})}return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard de Beneficiarios"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestión y seguimiento de beneficiarios del sistema"})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsxs(rn,{children:[d.jsxs(nn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(an,{className:"text-sm font-medium",children:"Total Beneficiarios"}),d.jsx(ai,{className:"h-4 w-4 text-blue-600"})]}),d.jsxs(sn,{children:[d.jsx("div",{className:"text-2xl font-bold",children:Object.keys(r).length}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Registrados en el sistema"})]})]}),d.jsxs(rn,{children:[d.jsxs(nn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(an,{className:"text-sm font-medium",children:"Urgentes"}),d.jsx(Go,{className:"h-4 w-4 text-red-600"})]}),d.jsxs(sn,{children:[d.jsx("div",{className:"text-2xl font-bold text-red-600",children:a("Urgente").length}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Requieren atención inmediata"})]})]}),d.jsxs(rn,{children:[d.jsxs(nn,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(an,{className:"text-sm font-medium",children:"Al Día"}),d.jsx(wa,{className:"h-4 w-4 text-green-600"})]}),d.jsxs(sn,{children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:a("Al día").length}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Contactados recientemente"})]})]})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Distribución por Estado"}),d.jsx(Ri,{children:"Estado actual de los beneficiarios"})]}),d.jsx(sn,{children:d.jsx(nd,{width:"100%",height:300,children:d.jsxs(Zue,{children:[d.jsx(UM,{data:y,cx:"50%",cy:"50%",labelLine:!1,label:({name:T,percent:C})=>`${T} ${(C*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:y.map((T,C)=>d.jsx(Z1,{fill:T.color},`cell-${C}`))}),d.jsx(rd,{})]})})})]}),d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Actividad por Día"}),d.jsx(Ri,{children:"Llamadas realizadas por día de la semana"})]}),d.jsx(sn,{children:d.jsx(nd,{width:"100%",height:300,children:d.jsxs(yA,{data:x,children:[d.jsx(a0,{strokeDasharray:"3 3"}),d.jsx(i0,{dataKey:"day"}),d.jsx(s0,{}),d.jsx(rd,{}),d.jsx(vw,{dataKey:"llamadas",fill:"#3b82f6"})]})})})]})]}),d.jsxs(rn,{children:[d.jsx(nn,{children:d.jsx(an,{children:"Buscar Beneficiarios"})}),d.jsx(sn,{children:d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("div",{className:"flex items-center space-x-2 flex-1 max-w-md",children:[d.jsx(xo,{className:"h-4 w-4"}),d.jsx("input",{type:"text",placeholder:"Buscar por nombre o teléfono...",value:o,onChange:T=>l(T.target.value),className:"border rounded px-3 py-2 text-sm w-full"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Ew,{className:"h-4 w-4"}),d.jsxs("select",{value:c,onChange:T=>u(T.target.value),className:"border rounded px-3 py-2 text-sm",children:[d.jsx("option",{value:"all",children:"Todos los estados"}),d.jsx("option",{value:"Al día",children:"Al día"}),d.jsx("option",{value:"Pendiente",children:"Pendiente"}),d.jsx("option",{value:"Urgente",children:"Urgente"})]})]})]})})]}),d.jsxs(rn,{children:[d.jsxs(nn,{children:[d.jsx(an,{children:"Lista de Beneficiarios"}),d.jsxs(Ri,{children:[v.length," beneficiarios encontrados"]})]}),d.jsx(sn,{children:d.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[v.slice(0,50).map((T,C)=>{var D;return d.jsx(rt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:C*.02},className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>h(T),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx("h4",{className:"font-medium",children:T.nombreOriginal}),d.jsxs(Uo,{variant:T.status==="Al día"?"success":T.status==="Pendiente"?"warning":"danger",children:[I(T.status),d.jsx("span",{className:"ml-1",children:T.status})]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Llamadas:"}),d.jsxs("p",{children:[T.totalCalls," (",T.successfulCalls," exitosas)"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Tasa de éxito:"}),d.jsx("p",{children:E(T.successRate)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Última llamada:"}),d.jsx("p",{children:T.lastCall?new Date(T.lastCall).toLocaleDateString("es-ES"):"Nunca"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Teléfonos:"}),d.jsxs("p",{children:[((D=T.telefonos)==null?void 0:D.length)||0," registrados"]})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(yw,{value:T.successRate,className:"w-20 h-2"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:E(T.successRate)})]})]})},T.id)}),v.length===0&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx(Ss,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"No hay beneficiarios que coincidan con los filtros"})]}),v.length>50&&d.jsx("div",{className:"text-center py-4",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando primeros 50 de ",v.length," beneficiarios"]})})]})})]})]})}const hxt=()=>{const[e,t]=j.useState(!0),[r,n]=j.useState(!0),{globalMetrics:a,teleoperadorasMetrics:i,beneficiariosMetrics:s,noAsignadosMetrics:o,loading:l,errors:c}=AT(),u=$R();j.useEffect(()=>{const h=setTimeout(()=>{t(!1);const p=a&&a.totalCalls>0&&!c.global;n(!p),console.log(p?"📊 Datos reales cargados correctamente":"📊 Sistema iniciado en modo demo - datos de fallback activos")},800);return()=>clearTimeout(h)},[a,c.global]);const f=r||!a?{globalMetrics:u.globalMetrics,teleoperadorasMetrics:u.teleoperadoraMetrics,beneficiariesMetrics:u.beneficiaryMetrics,noAsignadosMetrics:u.noAsignadosMetrics||null}:{globalMetrics:a,teleoperadorasMetrics:i,beneficiariesMetrics:s,noAsignadosMetrics:o};return{loading:e,isUsingFallback:r,hasRealData:!r,...f,loadingStates:{global:e,teleoperadoras:e,beneficiarios:e,noAsignados:e},errors:r?{global:null,teleoperadoras:null,beneficiarios:null,noAsignados:null}:c,getSummaryStats:()=>u.getSummaryStats(),getTopOperators:(h=5)=>u.getTopOperators(h),getBeneficiariesByStatus:h=>u.getBeneficiariesByStatus(h),getTeleoperadoraMetrics:h=>u.getTeleoperadoraMetrics(h),getBeneficiariesByOperator:h=>u.getBeneficiariesByOperator(h)}};function pxt(){var u;const[e,t]=j.useState("global"),{loading:r,isUsingFallback:n,getSummaryStats:a,getTopOperators:i}=hxt();if(r)return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:d.jsxs(rt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-xl p-8 text-center max-w-md",children:[d.jsx(rt.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Inicializando Sistema de Métricas"}),d.jsx("p",{className:"text-gray-600",children:"Cargando dashboards y verificando conexión..."}),d.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Esto solo tomará unos segundos"})]})});const s=a(),o=i(10),l=[{id:"global",label:"Dashboard Global",description:"Métricas generales del sistema",icon:fc,component:lG},{id:"teleoperadoras",label:"Teleoperadoras",description:"Análisis por teleoperadora",icon:ai,component:uxt,badge:n?"4":(o==null?void 0:o.length)||"0"},{id:"beneficiarios",label:"Beneficiarios",description:"Gestión de beneficiarios",icon:Fpe,component:dxt,badge:n?"85":(s==null?void 0:s.uniqueBeneficiaries)||"0"}],c=((u=l.find(f=>f.id===e))==null?void 0:u.component)||lG;return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[d.jsx("div",{className:"bg-white shadow-sm border-b",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center py-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(fc,{className:"h-8 w-8 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sistema de Métricas"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Dashboard avanzado para análisis de llamadas"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[n?d.jsxs("div",{className:"flex items-center space-x-2 bg-amber-100 text-amber-800 px-3 py-1.5 rounded-full text-sm font-medium",children:[d.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),d.jsx("span",{children:"Modo Demo"})]}):d.jsxs("div",{className:"flex items-center space-x-2 bg-green-100 text-green-800 px-3 py-1.5 rounded-full text-sm font-medium",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),d.jsx("span",{children:"Datos en Tiempo Real"})]}),d.jsx("button",{onClick:()=>t("config"),className:`p-2 rounded-lg transition-colors ${e==="config"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:d.jsx(nm,{className:"h-5 w-5"})})]})]})})}),d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:d.jsxs("div",{className:"flex gap-6",children:[d.jsxs("div",{className:"w-64 space-y-2",children:[l.map(f=>{const h=f.icon,p=e===f.id;return d.jsx(rt.button,{onClick:()=>t(f.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full text-left p-4 rounded-xl transition-all duration-200 ${p?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(h,{className:`h-5 w-5 ${p?"text-white":"text-gray-500"}`}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:f.label}),d.jsx("div",{className:`text-sm ${p?"text-blue-100":"text-gray-500"}`,children:f.description})]})]}),f.badge&&d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${p?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"}`,children:f.badge})]})},f.id)}),d.jsx(rt.button,{onClick:()=>t("config"),whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full text-left p-4 rounded-xl transition-all duration-200 ${e==="config"?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/25":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(nm,{className:`h-5 w-5 ${e==="config"?"text-white":"text-gray-500"}`}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:"Configuración"}),d.jsx("div",{className:`text-sm ${e==="config"?"text-indigo-100":"text-gray-500"}`,children:"Herramientas del sistema"})]})]})})]}),d.jsx("div",{className:"flex-1",children:d.jsx(Rl,{mode:"wait",children:d.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e==="config"?d.jsx(Yne,{}):d.jsx(c,{})},e)})})]})})]})}function mxt(){const[e,t]=j.useState("teleasistencia"),r=[{id:"teleasistencia",name:"Central Teleoperadores",description:"Sistema principal de gestión",icon:X0e,component:Uie},{id:"metrics",name:"Sistema de Métricas",description:"Dashboard de análisis automatizado",icon:fc,component:pxt,badge:"Beta"}],n=r.find(i=>i.id===e),a=n==null?void 0:n.component;return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:d.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Central Teleoperadores"}),d.jsx("div",{className:"flex space-x-1",children:r.map(i=>{const s=i.icon,o=e===i.id;return d.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[d.jsx(s,{className:"h-4 w-4"}),d.jsx("span",{children:i.name}),i.badge&&d.jsx(Uo,{variant:"secondary",className:"text-xs",children:i.badge})]},i.id)})})]}),d.jsx("div",{className:"text-sm text-gray-500",children:n==null?void 0:n.description})]})}),d.jsx("div",{className:"w-full",children:a&&d.jsx(a,{})})]})}const gxt=()=>{const[e,t]=j.useState(!0),[r,n]=j.useState(!1),[a,i]=j.useState({email:"",password:"",confirmPassword:"",displayName:""}),[s,o]=j.useState(!1),{login:l,register:c,error:u,clearError:f}=$l(),h=v=>{const{name:y,value:x}=v.target;i(w=>({...w,[y]:x})),f()},p=async v=>{v.preventDefault(),o(!0);try{if(e)await l(a.email,a.password);else{if(a.password!==a.confirmPassword)throw new Error("Las contraseñas no coinciden");if(a.password.length<6)throw new Error("La contraseña debe tener al menos 6 caracteres");if(!a.displayName.trim())throw new Error("El nombre es requerido");await c(a.email,a.password,a.displayName)}}catch(y){console.error("Error en autenticación:",y)}finally{o(!1)}},m=()=>{t(!e),i({email:"",password:"",confirmPassword:"",displayName:""}),f()},g=v=>v?v.includes("user-not-found")?"Usuario no encontrado":v.includes("wrong-password")?"Contraseña incorrecta":v.includes("email-already-in-use")?"Este email ya está registrado":v.includes("weak-password")?"La contraseña es muy débil":v.includes("invalid-email")?"Email inválido":v.includes("too-many-requests")?"Demasiados intentos. Intenta más tarde":v:"";return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Ha,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Mistatas - Seguimiento de llamadas"}),d.jsx("p",{className:"text-gray-600",children:e?"Inicia sesión en tu cuenta":"Crea tu cuenta nueva"})]}),u&&d.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[d.jsx(_i,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-800 text-sm font-medium",children:"Error de autenticación"}),d.jsx("p",{className:"text-red-600 text-sm mt-1",children:g(u)})]})]}),d.jsxs("form",{onSubmit:p,className:"space-y-6",children:[!e&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",name:"displayName",value:a.displayName,onChange:h,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tu nombre completo",required:!e})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrónico"}),d.jsxs("div",{className:"relative",children:[d.jsx(kY,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"email",name:"email",value:a.email,onChange:h,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tu@email.com",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),d.jsxs("div",{className:"relative",children:[d.jsx(H3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:r?"text":"password",name:"password",value:a.password,onChange:h,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••",required:!0}),d.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?d.jsx(TY,{className:"w-5 h-5"}):d.jsx(A6,{className:"w-5 h-5"})})]})]}),!e&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar contraseña"}),d.jsxs("div",{className:"relative",children:[d.jsx(H3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:r?"text":"password",name:"confirmPassword",value:a.confirmPassword,onChange:h,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••",required:!e})]})]}),d.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:s?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e?"Iniciando sesión...":"Creando cuenta..."]}):d.jsx(d.Fragment,{children:e?"Iniciar Sesión":"Crear Cuenta"})})]}),d.jsxs("div",{className:"mt-8 text-center",children:[d.jsx("p",{className:"text-gray-600",children:e?"¿No tienes cuenta?":"¿Ya tienes cuenta?"}),d.jsx("button",{onClick:m,className:"mt-2 text-blue-600 hover:text-blue-700 font-medium transition-colors",children:e?"Crear cuenta nueva":"Iniciar sesión"})]}),d.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(wa,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-800 text-sm font-medium",children:"Seguridad garantizada"}),d.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"Tus datos están protegidos con encriptación de nivel empresarial mediante Firebase Authentication."})]})]})})]})})},vxt=()=>d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-white rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6 shadow-lg",children:d.jsx(Ha,{className:"w-10 h-10 text-blue-600 animate-pulse"})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Mistatas - Seguimiento de llamadas"}),d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),d.jsx("p",{className:"text-gray-600 mt-4",children:"Verificando autenticación..."})]})}),yxt=localStorage.getItem("showMetricsApp")==="true"||window.location.search.includes("metrics=true"),xxt=()=>{const{user:e,loading:t}=$l();return t?d.jsx(vxt,{}):e?yxt?d.jsx(mxt,{}):d.jsx(Uie,{}):d.jsx(gxt,{})};YC.createRoot(document.getElementById("root")).render(d.jsx(Pe.StrictMode,{children:d.jsx(qPe,{children:d.jsx(xxt,{})})}));export{Sp as _,ma as a,r0 as b,Ct as c,Lr as d,Qr as e,Ei as f,_1 as g,pc as h,Xa as i,ta as q,br as s,Gn as w};
