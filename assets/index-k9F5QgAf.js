var cne=Object.defineProperty;var une=(e,t,r)=>t in e?cne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Qr=(e,t,r)=>une(e,typeof t!="symbol"?t+"":t,r);function fne(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var SHe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var OU={exports:{}},_5={},DU={exports:{}},kr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nx=Symbol.for("react.element"),dne=Symbol.for("react.portal"),hne=Symbol.for("react.fragment"),pne=Symbol.for("react.strict_mode"),mne=Symbol.for("react.profiler"),gne=Symbol.for("react.provider"),vne=Symbol.for("react.context"),yne=Symbol.for("react.forward_ref"),xne=Symbol.for("react.suspense"),wne=Symbol.for("react.memo"),bne=Symbol.for("react.lazy"),UD=Symbol.iterator;function _ne(e){return e===null||typeof e!="object"?null:(e=UD&&e[UD]||e["@@iterator"],typeof e=="function"?e:null)}var RU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},LU=Object.assign,jU={};function Tg(e,t,r){this.props=e,this.context=t,this.refs=jU,this.updater=r||RU}Tg.prototype.isReactComponent={};Tg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Tg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function FU(){}FU.prototype=Tg.prototype;function AC(e,t,r){this.props=e,this.context=t,this.refs=jU,this.updater=r||RU}var TC=AC.prototype=new FU;TC.constructor=AC;LU(TC,Tg.prototype);TC.isPureReactComponent=!0;var VD=Array.isArray,MU=Object.prototype.hasOwnProperty,kC={current:null},BU={key:!0,ref:!0,__self:!0,__source:!0};function UU(e,t,r){var n,i={},a=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)MU.call(t,n)&&!BU.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:nx,type:e,key:a,ref:s,props:i,_owner:kC.current}}function Sne(e,t){return{$$typeof:nx,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function NC(e){return typeof e=="object"&&e!==null&&e.$$typeof===nx}function Ene(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $D=/\/+/g;function qE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Ene(""+e.key):t.toString(36)}function jw(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case nx:case dne:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+qE(s,0):n,VD(i)?(r="",e!=null&&(r=e.replace($D,"$&/")+"/"),jw(i,t,r,"",function(c){return c})):i!=null&&(NC(i)&&(i=Sne(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace($D,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",VD(e))for(var o=0;o<e.length;o++){a=e[o];var l=n+qE(a,o);s+=jw(a,t,r,l,i)}else if(l=_ne(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=n+qE(a,o++),s+=jw(a,t,r,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function S2(e,t,r){if(e==null)return e;var n=[],i=0;return jw(e,n,"","",function(a){return t.call(r,a,i++)}),n}function Ane(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ks={current:null},Fw={transition:null},Tne={ReactCurrentDispatcher:Ks,ReactCurrentBatchConfig:Fw,ReactCurrentOwner:kC};function VU(){throw Error("act(...) is not supported in production builds of React.")}kr.Children={map:S2,forEach:function(e,t,r){S2(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return S2(e,function(){t++}),t},toArray:function(e){return S2(e,function(t){return t})||[]},only:function(e){if(!NC(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kr.Component=Tg;kr.Fragment=hne;kr.Profiler=mne;kr.PureComponent=AC;kr.StrictMode=pne;kr.Suspense=xne;kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tne;kr.act=VU;kr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=LU({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=kC.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)MU.call(t,l)&&!BU.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:nx,type:e.type,key:i,ref:a,props:n,_owner:s}};kr.createContext=function(e){return e={$$typeof:vne,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gne,_context:e},e.Consumer=e};kr.createElement=UU;kr.createFactory=function(e){var t=UU.bind(null,e);return t.type=e,t};kr.createRef=function(){return{current:null}};kr.forwardRef=function(e){return{$$typeof:yne,render:e}};kr.isValidElement=NC;kr.lazy=function(e){return{$$typeof:bne,_payload:{_status:-1,_result:e},_init:Ane}};kr.memo=function(e,t){return{$$typeof:wne,type:e,compare:t===void 0?null:t}};kr.startTransition=function(e){var t=Fw.transition;Fw.transition={};try{e()}finally{Fw.transition=t}};kr.unstable_act=VU;kr.useCallback=function(e,t){return Ks.current.useCallback(e,t)};kr.useContext=function(e){return Ks.current.useContext(e)};kr.useDebugValue=function(){};kr.useDeferredValue=function(e){return Ks.current.useDeferredValue(e)};kr.useEffect=function(e,t){return Ks.current.useEffect(e,t)};kr.useId=function(){return Ks.current.useId()};kr.useImperativeHandle=function(e,t,r){return Ks.current.useImperativeHandle(e,t,r)};kr.useInsertionEffect=function(e,t){return Ks.current.useInsertionEffect(e,t)};kr.useLayoutEffect=function(e,t){return Ks.current.useLayoutEffect(e,t)};kr.useMemo=function(e,t){return Ks.current.useMemo(e,t)};kr.useReducer=function(e,t,r){return Ks.current.useReducer(e,t,r)};kr.useRef=function(e){return Ks.current.useRef(e)};kr.useState=function(e){return Ks.current.useState(e)};kr.useSyncExternalStore=function(e,t,r){return Ks.current.useSyncExternalStore(e,t,r)};kr.useTransition=function(){return Ks.current.useTransition()};kr.version="18.3.1";DU.exports=kr;var L=DU.exports;const tl=Cf(L),kne=fne({__proto__:null,default:tl},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nne=L,Cne=Symbol.for("react.element"),Pne=Symbol.for("react.fragment"),Ine=Object.prototype.hasOwnProperty,One=Nne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Dne={key:!0,ref:!0,__self:!0,__source:!0};function $U(e,t,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)Ine.call(t,n)&&!Dne.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Cne,type:e,key:a,ref:s,props:i,_owner:One.current}}_5.Fragment=Pne;_5.jsx=$U;_5.jsxs=$U;OU.exports=_5;var p=OU.exports,uT={},zU={exports:{}},ol={},WU={exports:{}},HU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(K,X){var _e=K.length;K.push(X);e:for(;0<_e;){var Se=_e-1>>>1,P=K[Se];if(0<i(P,X))K[Se]=X,K[_e]=P,_e=Se;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var X=K[0],_e=K.pop();if(_e!==X){K[0]=_e;e:for(var Se=0,P=K.length,U=P>>>1;Se<U;){var V=2*(Se+1)-1,z=K[V],ne=V+1,te=K[ne];if(0>i(z,_e))ne<P&&0>i(te,z)?(K[Se]=te,K[ne]=_e,Se=ne):(K[Se]=z,K[V]=_e,Se=V);else if(ne<P&&0>i(te,_e))K[Se]=te,K[ne]=_e,Se=ne;else break e}}return X}function i(K,X){var _e=K.sortIndex-X.sortIndex;return _e!==0?_e:K.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,d=3,h=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var X=r(c);X!==null;){if(X.callback===null)n(c);else if(X.startTime<=K)n(c),X.sortIndex=X.expirationTime,t(l,X);else break;X=r(c)}}function N(K){if(m=!1,_(K),!g)if(r(l)!==null)g=!0,le(R);else{var X=r(c);X!==null&&se(N,X.startTime-K)}}function R(K,X){g=!1,m&&(m=!1,y(S),S=-1),h=!0;var _e=d;try{for(_(X),f=r(l);f!==null&&(!(f.expirationTime>X)||K&&!E());){var Se=f.callback;if(typeof Se=="function"){f.callback=null,d=f.priorityLevel;var P=Se(f.expirationTime<=X);X=e.unstable_now(),typeof P=="function"?f.callback=P:f===r(l)&&n(l),_(X)}else n(l);f=r(l)}if(f!==null)var U=!0;else{var V=r(c);V!==null&&se(N,V.startTime-X),U=!1}return U}finally{f=null,d=_e,h=!1}}var O=!1,k=null,S=-1,T=5,j=-1;function E(){return!(e.unstable_now()-j<T)}function C(){if(k!==null){var K=e.unstable_now();j=K;var X=!0;try{X=k(!0,K)}finally{X?D():(O=!1,k=null)}}else O=!1}var D;if(typeof b=="function")D=function(){b(C)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ee=q.port2;q.port1.onmessage=C,D=function(){ee.postMessage(null)}}else D=function(){v(C,0)};function le(K){k=K,O||(O=!0,D())}function se(K,X){S=v(function(){K(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){g||h||(g=!0,le(R))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(K){switch(d){case 1:case 2:case 3:var X=3;break;default:X=d}var _e=d;d=X;try{return K()}finally{d=_e}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,X){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var _e=d;d=K;try{return X()}finally{d=_e}},e.unstable_scheduleCallback=function(K,X,_e){var Se=e.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Se+_e:Se):_e=Se,K){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=_e+P,K={id:u++,callback:X,priorityLevel:K,startTime:_e,expirationTime:P,sortIndex:-1},_e>Se?(K.sortIndex=_e,t(c,K),r(l)===null&&K===r(c)&&(m?(y(S),S=-1):m=!0,se(N,_e-Se))):(K.sortIndex=P,t(l,K),g||h||(g=!0,le(R))),K},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(K){var X=d;return function(){var _e=d;d=X;try{return K.apply(this,arguments)}finally{d=_e}}}})(HU);WU.exports=HU;var Rne=WU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lne=L,rl=Rne;function ot(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qU=new Set,Hv={};function up(e,t){qm(e,t),qm(e+"Capture",t)}function qm(e,t){for(Hv[e]=t,e=0;e<t.length;e++)qU.add(t[e])}var hf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fT=Object.prototype.hasOwnProperty,jne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zD={},WD={};function Fne(e){return fT.call(WD,e)?!0:fT.call(zD,e)?!1:jne.test(e)?WD[e]=!0:(zD[e]=!0,!1)}function Mne(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bne(e,t,r,n){if(t===null||typeof t>"u"||Mne(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xs(e,t,r,n,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var ts={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ts[e]=new Xs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ts[t]=new Xs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ts[e]=new Xs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ts[e]=new Xs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ts[e]=new Xs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ts[e]=new Xs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ts[e]=new Xs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ts[e]=new Xs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ts[e]=new Xs(e,5,!1,e.toLowerCase(),null,!1,!1)});var CC=/[\-:]([a-z])/g;function PC(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(CC,PC);ts[t]=new Xs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(CC,PC);ts[t]=new Xs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(CC,PC);ts[t]=new Xs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ts[e]=new Xs(e,1,!1,e.toLowerCase(),null,!1,!1)});ts.xlinkHref=new Xs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ts[e]=new Xs(e,1,!1,e.toLowerCase(),null,!0,!0)});function IC(e,t,r,n){var i=ts.hasOwnProperty(t)?ts[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bne(t,r,i,n)&&(r=null),n||i===null?Fne(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Pf=Lne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E2=Symbol.for("react.element"),Zp=Symbol.for("react.portal"),em=Symbol.for("react.fragment"),OC=Symbol.for("react.strict_mode"),dT=Symbol.for("react.profiler"),GU=Symbol.for("react.provider"),KU=Symbol.for("react.context"),DC=Symbol.for("react.forward_ref"),hT=Symbol.for("react.suspense"),pT=Symbol.for("react.suspense_list"),RC=Symbol.for("react.memo"),gd=Symbol.for("react.lazy"),XU=Symbol.for("react.offscreen"),HD=Symbol.iterator;function T1(e){return e===null||typeof e!="object"?null:(e=HD&&e[HD]||e["@@iterator"],typeof e=="function"?e:null)}var fi=Object.assign,GE;function G1(e){if(GE===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);GE=t&&t[1]||""}return`
`+GE+e}var KE=!1;function XE(e,t){if(!e||KE)return"";KE=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{KE=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?G1(e):""}function Une(e){switch(e.tag){case 5:return G1(e.type);case 16:return G1("Lazy");case 13:return G1("Suspense");case 19:return G1("SuspenseList");case 0:case 2:case 15:return e=XE(e.type,!1),e;case 11:return e=XE(e.type.render,!1),e;case 1:return e=XE(e.type,!0),e;default:return""}}function mT(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case em:return"Fragment";case Zp:return"Portal";case dT:return"Profiler";case OC:return"StrictMode";case hT:return"Suspense";case pT:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case KU:return(e.displayName||"Context")+".Consumer";case GU:return(e._context.displayName||"Context")+".Provider";case DC:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case RC:return t=e.displayName||null,t!==null?t:mT(e.type)||"Memo";case gd:t=e._payload,e=e._init;try{return mT(e(t))}catch{}}return null}function Vne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mT(t);case 8:return t===OC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yd(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function YU(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function $ne(e){var t=YU(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function A2(e){e._valueTracker||(e._valueTracker=$ne(e))}function JU(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=YU(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function mb(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gT(e,t){var r=t.checked;return fi({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qD(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Yd(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function QU(e,t){t=t.checked,t!=null&&IC(e,"checked",t,!1)}function vT(e,t){QU(e,t);var r=Yd(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yT(e,t.type,r):t.hasOwnProperty("defaultValue")&&yT(e,t.type,Yd(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function GD(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yT(e,t,r){(t!=="number"||mb(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var K1=Array.isArray;function _m(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Yd(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function xT(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ot(91));return fi({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function KD(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ot(92));if(K1(r)){if(1<r.length)throw Error(ot(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Yd(r)}}function ZU(e,t){var r=Yd(t.value),n=Yd(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function XD(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wT(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var T2,tV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(T2=T2||document.createElement("div"),T2.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=T2.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function qv(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var lv={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zne=["Webkit","ms","Moz","O"];Object.keys(lv).forEach(function(e){zne.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),lv[t]=lv[e]})});function rV(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||lv.hasOwnProperty(e)&&lv[e]?(""+t).trim():t+"px"}function nV(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=rV(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Wne=fi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bT(e,t){if(t){if(Wne[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ot(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ot(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ot(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ot(62))}}function _T(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ST=null;function LC(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ET=null,Sm=null,Em=null;function YD(e){if(e=sx(e)){if(typeof ET!="function")throw Error(ot(280));var t=e.stateNode;t&&(t=k5(t),ET(e.stateNode,e.type,t))}}function iV(e){Sm?Em?Em.push(e):Em=[e]:Sm=e}function aV(){if(Sm){var e=Sm,t=Em;if(Em=Sm=null,YD(e),t)for(e=0;e<t.length;e++)YD(t[e])}}function sV(e,t){return e(t)}function oV(){}var YE=!1;function lV(e,t,r){if(YE)return e(t,r);YE=!0;try{return sV(e,t,r)}finally{YE=!1,(Sm!==null||Em!==null)&&(oV(),aV())}}function Gv(e,t){var r=e.stateNode;if(r===null)return null;var n=k5(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ot(231,t,typeof r));return r}var AT=!1;if(hf)try{var k1={};Object.defineProperty(k1,"passive",{get:function(){AT=!0}}),window.addEventListener("test",k1,k1),window.removeEventListener("test",k1,k1)}catch{AT=!1}function Hne(e,t,r,n,i,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var cv=!1,gb=null,vb=!1,TT=null,qne={onError:function(e){cv=!0,gb=e}};function Gne(e,t,r,n,i,a,s,o,l){cv=!1,gb=null,Hne.apply(qne,arguments)}function Kne(e,t,r,n,i,a,s,o,l){if(Gne.apply(this,arguments),cv){if(cv){var c=gb;cv=!1,gb=null}else throw Error(ot(198));vb||(vb=!0,TT=c)}}function fp(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function JD(e){if(fp(e)!==e)throw Error(ot(188))}function Xne(e){var t=e.alternate;if(!t){if(t=fp(e),t===null)throw Error(ot(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return JD(i),e;if(a===n)return JD(i),t;a=a.sibling}throw Error(ot(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(ot(189))}}if(r.alternate!==n)throw Error(ot(190))}if(r.tag!==3)throw Error(ot(188));return r.stateNode.current===r?e:t}function uV(e){return e=Xne(e),e!==null?fV(e):null}function fV(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=fV(e);if(t!==null)return t;e=e.sibling}return null}var dV=rl.unstable_scheduleCallback,QD=rl.unstable_cancelCallback,Yne=rl.unstable_shouldYield,Jne=rl.unstable_requestPaint,Fi=rl.unstable_now,Qne=rl.unstable_getCurrentPriorityLevel,jC=rl.unstable_ImmediatePriority,hV=rl.unstable_UserBlockingPriority,yb=rl.unstable_NormalPriority,Zne=rl.unstable_LowPriority,pV=rl.unstable_IdlePriority,S5=null,nu=null;function eie(e){if(nu&&typeof nu.onCommitFiberRoot=="function")try{nu.onCommitFiberRoot(S5,e,void 0,(e.current.flags&128)===128)}catch{}}var xc=Math.clz32?Math.clz32:nie,tie=Math.log,rie=Math.LN2;function nie(e){return e>>>=0,e===0?32:31-(tie(e)/rie|0)|0}var k2=64,N2=4194304;function X1(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xb(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~i;o!==0?n=X1(o):(a&=s,a!==0&&(n=X1(a)))}else s=r&~i,s!==0?n=X1(s):a!==0&&(n=X1(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-xc(t),i=1<<r,n|=e[r],t&=~i;return n}function iie(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aie(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-xc(a),o=1<<s,l=i[s];l===-1?(!(o&r)||o&n)&&(i[s]=iie(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function kT(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mV(){var e=k2;return k2<<=1,!(k2&4194240)&&(k2=64),e}function JE(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ix(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xc(t),e[t]=r}function sie(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-xc(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function FC(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xc(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var mn=0;function gV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var vV,MC,yV,xV,wV,NT=!1,C2=[],Dd=null,Rd=null,Ld=null,Kv=new Map,Xv=new Map,wd=[],oie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZD(e,t){switch(e){case"focusin":case"focusout":Dd=null;break;case"dragenter":case"dragleave":Rd=null;break;case"mouseover":case"mouseout":Ld=null;break;case"pointerover":case"pointerout":Kv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xv.delete(t.pointerId)}}function N1(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=sx(t),t!==null&&MC(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lie(e,t,r,n,i){switch(t){case"focusin":return Dd=N1(Dd,e,t,r,n,i),!0;case"dragenter":return Rd=N1(Rd,e,t,r,n,i),!0;case"mouseover":return Ld=N1(Ld,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Kv.set(a,N1(Kv.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Xv.set(a,N1(Xv.get(a)||null,e,t,r,n,i)),!0}return!1}function bV(e){var t=o0(e.target);if(t!==null){var r=fp(t);if(r!==null){if(t=r.tag,t===13){if(t=cV(r),t!==null){e.blockedOn=t,wV(e.priority,function(){yV(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Mw(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=CT(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ST=n,r.target.dispatchEvent(n),ST=null}else return t=sx(r),t!==null&&MC(t),e.blockedOn=r,!1;t.shift()}return!0}function eR(e,t,r){Mw(e)&&r.delete(t)}function cie(){NT=!1,Dd!==null&&Mw(Dd)&&(Dd=null),Rd!==null&&Mw(Rd)&&(Rd=null),Ld!==null&&Mw(Ld)&&(Ld=null),Kv.forEach(eR),Xv.forEach(eR)}function C1(e,t){e.blockedOn===t&&(e.blockedOn=null,NT||(NT=!0,rl.unstable_scheduleCallback(rl.unstable_NormalPriority,cie)))}function Yv(e){function t(i){return C1(i,e)}if(0<C2.length){C1(C2[0],e);for(var r=1;r<C2.length;r++){var n=C2[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Dd!==null&&C1(Dd,e),Rd!==null&&C1(Rd,e),Ld!==null&&C1(Ld,e),Kv.forEach(t),Xv.forEach(t),r=0;r<wd.length;r++)n=wd[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<wd.length&&(r=wd[0],r.blockedOn===null);)bV(r),r.blockedOn===null&&wd.shift()}var Am=Pf.ReactCurrentBatchConfig,wb=!0;function uie(e,t,r,n){var i=mn,a=Am.transition;Am.transition=null;try{mn=1,BC(e,t,r,n)}finally{mn=i,Am.transition=a}}function fie(e,t,r,n){var i=mn,a=Am.transition;Am.transition=null;try{mn=4,BC(e,t,r,n)}finally{mn=i,Am.transition=a}}function BC(e,t,r,n){if(wb){var i=CT(e,t,r,n);if(i===null)oA(e,t,n,bb,r),ZD(e,n);else if(lie(i,e,t,r,n))n.stopPropagation();else if(ZD(e,n),t&4&&-1<oie.indexOf(e)){for(;i!==null;){var a=sx(i);if(a!==null&&vV(a),a=CT(e,t,r,n),a===null&&oA(e,t,n,bb,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else oA(e,t,n,null,r)}}var bb=null;function CT(e,t,r,n){if(bb=null,e=LC(n),e=o0(e),e!==null)if(t=fp(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cV(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bb=e,null}function _V(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qne()){case jC:return 1;case hV:return 4;case yb:case Zne:return 16;case pV:return 536870912;default:return 16}default:return 16}}var kd=null,UC=null,Bw=null;function SV(){if(Bw)return Bw;var e,t=UC,r=t.length,n,i="value"in kd?kd.value:kd.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[a-n];n++);return Bw=i.slice(e,1<n?1-n:void 0)}function Uw(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function P2(){return!0}function tR(){return!1}function ll(e){function t(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?P2:tR,this.isPropagationStopped=tR,this}return fi(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=P2)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=P2)},persist:function(){},isPersistent:P2}),t}var kg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},VC=ll(kg),ax=fi({},kg,{view:0,detail:0}),die=ll(ax),QE,ZE,P1,E5=fi({},ax,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$C,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==P1&&(P1&&e.type==="mousemove"?(QE=e.screenX-P1.screenX,ZE=e.screenY-P1.screenY):ZE=QE=0,P1=e),QE)},movementY:function(e){return"movementY"in e?e.movementY:ZE}}),rR=ll(E5),hie=fi({},E5,{dataTransfer:0}),pie=ll(hie),mie=fi({},ax,{relatedTarget:0}),eA=ll(mie),gie=fi({},kg,{animationName:0,elapsedTime:0,pseudoElement:0}),vie=ll(gie),yie=fi({},kg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xie=ll(yie),wie=fi({},kg,{data:0}),nR=ll(wie),bie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_ie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eie(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sie[e])?!!t[e]:!1}function $C(){return Eie}var Aie=fi({},ax,{key:function(e){if(e.key){var t=bie[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Uw(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_ie[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$C,charCode:function(e){return e.type==="keypress"?Uw(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Uw(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tie=ll(Aie),kie=fi({},E5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iR=ll(kie),Nie=fi({},ax,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$C}),Cie=ll(Nie),Pie=fi({},kg,{propertyName:0,elapsedTime:0,pseudoElement:0}),Iie=ll(Pie),Oie=fi({},E5,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Die=ll(Oie),Rie=[9,13,27,32],zC=hf&&"CompositionEvent"in window,uv=null;hf&&"documentMode"in document&&(uv=document.documentMode);var Lie=hf&&"TextEvent"in window&&!uv,EV=hf&&(!zC||uv&&8<uv&&11>=uv),aR=" ",sR=!1;function AV(e,t){switch(e){case"keyup":return Rie.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tm=!1;function jie(e,t){switch(e){case"compositionend":return TV(t);case"keypress":return t.which!==32?null:(sR=!0,aR);case"textInput":return e=t.data,e===aR&&sR?null:e;default:return null}}function Fie(e,t){if(tm)return e==="compositionend"||!zC&&AV(e,t)?(e=SV(),Bw=UC=kd=null,tm=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return EV&&t.locale!=="ko"?null:t.data;default:return null}}var Mie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oR(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mie[e.type]:t==="textarea"}function kV(e,t,r,n){iV(n),t=_b(t,"onChange"),0<t.length&&(r=new VC("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fv=null,Jv=null;function Bie(e){MV(e,0)}function A5(e){var t=im(e);if(JU(t))return e}function Uie(e,t){if(e==="change")return t}var NV=!1;if(hf){var tA;if(hf){var rA="oninput"in document;if(!rA){var lR=document.createElement("div");lR.setAttribute("oninput","return;"),rA=typeof lR.oninput=="function"}tA=rA}else tA=!1;NV=tA&&(!document.documentMode||9<document.documentMode)}function cR(){fv&&(fv.detachEvent("onpropertychange",CV),Jv=fv=null)}function CV(e){if(e.propertyName==="value"&&A5(Jv)){var t=[];kV(t,Jv,e,LC(e)),lV(Bie,t)}}function Vie(e,t,r){e==="focusin"?(cR(),fv=t,Jv=r,fv.attachEvent("onpropertychange",CV)):e==="focusout"&&cR()}function $ie(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return A5(Jv)}function zie(e,t){if(e==="click")return A5(t)}function Wie(e,t){if(e==="input"||e==="change")return A5(t)}function Hie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ac=typeof Object.is=="function"?Object.is:Hie;function Qv(e,t){if(Ac(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!fT.call(t,i)||!Ac(e[i],t[i]))return!1}return!0}function uR(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fR(e,t){var r=uR(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=uR(r)}}function PV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function IV(){for(var e=window,t=mb();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=mb(e.document)}return t}function WC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function qie(e){var t=IV(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&PV(r.ownerDocument.documentElement,r)){if(n!==null&&WC(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=fR(r,a);var s=fR(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gie=hf&&"documentMode"in document&&11>=document.documentMode,rm=null,PT=null,dv=null,IT=!1;function dR(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;IT||rm==null||rm!==mb(n)||(n=rm,"selectionStart"in n&&WC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dv&&Qv(dv,n)||(dv=n,n=_b(PT,"onSelect"),0<n.length&&(t=new VC("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rm)))}function I2(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var nm={animationend:I2("Animation","AnimationEnd"),animationiteration:I2("Animation","AnimationIteration"),animationstart:I2("Animation","AnimationStart"),transitionend:I2("Transition","TransitionEnd")},nA={},OV={};hf&&(OV=document.createElement("div").style,"AnimationEvent"in window||(delete nm.animationend.animation,delete nm.animationiteration.animation,delete nm.animationstart.animation),"TransitionEvent"in window||delete nm.transitionend.transition);function T5(e){if(nA[e])return nA[e];if(!nm[e])return e;var t=nm[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in OV)return nA[e]=t[r];return e}var DV=T5("animationend"),RV=T5("animationiteration"),LV=T5("animationstart"),jV=T5("transitionend"),FV=new Map,hR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vh(e,t){FV.set(e,t),up(t,[e])}for(var iA=0;iA<hR.length;iA++){var aA=hR[iA],Kie=aA.toLowerCase(),Xie=aA[0].toUpperCase()+aA.slice(1);vh(Kie,"on"+Xie)}vh(DV,"onAnimationEnd");vh(RV,"onAnimationIteration");vh(LV,"onAnimationStart");vh("dblclick","onDoubleClick");vh("focusin","onFocus");vh("focusout","onBlur");vh(jV,"onTransitionEnd");qm("onMouseEnter",["mouseout","mouseover"]);qm("onMouseLeave",["mouseout","mouseover"]);qm("onPointerEnter",["pointerout","pointerover"]);qm("onPointerLeave",["pointerout","pointerover"]);up("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));up("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));up("onBeforeInput",["compositionend","keypress","textInput","paste"]);up("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));up("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));up("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Y1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yie=new Set("cancel close invalid load scroll toggle".split(" ").concat(Y1));function pR(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Kne(n,t,void 0,e),e.currentTarget=null}function MV(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;pR(i,o,c),a=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;pR(i,o,c),a=l}}}if(vb)throw e=TT,vb=!1,TT=null,e}function Mn(e,t){var r=t[jT];r===void 0&&(r=t[jT]=new Set);var n=e+"__bubble";r.has(n)||(BV(t,e,2,!1),r.add(n))}function sA(e,t,r){var n=0;t&&(n|=4),BV(r,e,n,t)}var O2="_reactListening"+Math.random().toString(36).slice(2);function Zv(e){if(!e[O2]){e[O2]=!0,qU.forEach(function(r){r!=="selectionchange"&&(Yie.has(r)||sA(r,!1,e),sA(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[O2]||(t[O2]=!0,sA("selectionchange",!1,t))}}function BV(e,t,r,n){switch(_V(t)){case 1:var i=uie;break;case 4:i=fie;break;default:i=BC}r=i.bind(null,t,r,e),i=void 0,!AT||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function oA(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=o0(o),s===null)return;if(l=s.tag,l===5||l===6){n=a=s;continue e}o=o.parentNode}}n=n.return}lV(function(){var c=a,u=LC(r),f=[];e:{var d=FV.get(e);if(d!==void 0){var h=VC,g=e;switch(e){case"keypress":if(Uw(r)===0)break e;case"keydown":case"keyup":h=Tie;break;case"focusin":g="focus",h=eA;break;case"focusout":g="blur",h=eA;break;case"beforeblur":case"afterblur":h=eA;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=rR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=pie;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Cie;break;case DV:case RV:case LV:h=vie;break;case jV:h=Iie;break;case"scroll":h=die;break;case"wheel":h=Die;break;case"copy":case"cut":case"paste":h=xie;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=iR}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?d!==null?d+"Capture":null:d;m=[];for(var b=c,_;b!==null;){_=b;var N=_.stateNode;if(_.tag===5&&N!==null&&(_=N,y!==null&&(N=Gv(b,y),N!=null&&m.push(ey(b,N,_)))),v)break;b=b.return}0<m.length&&(d=new h(d,g,null,r,u),f.push({event:d,listeners:m}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",h=e==="mouseout"||e==="pointerout",d&&r!==ST&&(g=r.relatedTarget||r.fromElement)&&(o0(g)||g[pf]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(g=r.relatedTarget||r.toElement,h=c,g=g?o0(g):null,g!==null&&(v=fp(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(m=rR,N="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=iR,N="onPointerLeave",y="onPointerEnter",b="pointer"),v=h==null?d:im(h),_=g==null?d:im(g),d=new m(N,b+"leave",h,r,u),d.target=v,d.relatedTarget=_,N=null,o0(u)===c&&(m=new m(y,b+"enter",g,r,u),m.target=_,m.relatedTarget=v,N=m),v=N,h&&g)t:{for(m=h,y=g,b=0,_=m;_;_=jp(_))b++;for(_=0,N=y;N;N=jp(N))_++;for(;0<b-_;)m=jp(m),b--;for(;0<_-b;)y=jp(y),_--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=jp(m),y=jp(y)}m=null}else m=null;h!==null&&mR(f,d,h,m,!1),g!==null&&v!==null&&mR(f,v,g,m,!0)}}e:{if(d=c?im(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var R=Uie;else if(oR(d))if(NV)R=Wie;else{R=$ie;var O=Vie}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(R=zie);if(R&&(R=R(e,c))){kV(f,R,r,u);break e}O&&O(e,d,c),e==="focusout"&&(O=d._wrapperState)&&O.controlled&&d.type==="number"&&yT(d,"number",d.value)}switch(O=c?im(c):window,e){case"focusin":(oR(O)||O.contentEditable==="true")&&(rm=O,PT=c,dv=null);break;case"focusout":dv=PT=rm=null;break;case"mousedown":IT=!0;break;case"contextmenu":case"mouseup":case"dragend":IT=!1,dR(f,r,u);break;case"selectionchange":if(Gie)break;case"keydown":case"keyup":dR(f,r,u)}var k;if(zC)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else tm?AV(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(EV&&r.locale!=="ko"&&(tm||S!=="onCompositionStart"?S==="onCompositionEnd"&&tm&&(k=SV()):(kd=u,UC="value"in kd?kd.value:kd.textContent,tm=!0)),O=_b(c,S),0<O.length&&(S=new nR(S,e,null,r,u),f.push({event:S,listeners:O}),k?S.data=k:(k=TV(r),k!==null&&(S.data=k)))),(k=Lie?jie(e,r):Fie(e,r))&&(c=_b(c,"onBeforeInput"),0<c.length&&(u=new nR("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=k))}MV(f,t)})}function ey(e,t,r){return{instance:e,listener:t,currentTarget:r}}function _b(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Gv(e,r),a!=null&&n.unshift(ey(e,a,i)),a=Gv(e,t),a!=null&&n.push(ey(e,a,i))),e=e.return}return n}function jp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mR(e,t,r,n,i){for(var a=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=Gv(r,a),l!=null&&s.unshift(ey(r,l,o))):i||(l=Gv(r,a),l!=null&&s.push(ey(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Jie=/\r\n?/g,Qie=/\u0000|\uFFFD/g;function gR(e){return(typeof e=="string"?e:""+e).replace(Jie,`
`).replace(Qie,"")}function D2(e,t,r){if(t=gR(t),gR(e)!==t&&r)throw Error(ot(425))}function Sb(){}var OT=null,DT=null;function RT(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var LT=typeof setTimeout=="function"?setTimeout:void 0,Zie=typeof clearTimeout=="function"?clearTimeout:void 0,vR=typeof Promise=="function"?Promise:void 0,eae=typeof queueMicrotask=="function"?queueMicrotask:typeof vR<"u"?function(e){return vR.resolve(null).then(e).catch(tae)}:LT;function tae(e){setTimeout(function(){throw e})}function lA(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Yv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Yv(t)}function jd(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yR(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ng=Math.random().toString(36).slice(2),Jc="__reactFiber$"+Ng,ty="__reactProps$"+Ng,pf="__reactContainer$"+Ng,jT="__reactEvents$"+Ng,rae="__reactListeners$"+Ng,nae="__reactHandles$"+Ng;function o0(e){var t=e[Jc];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pf]||r[Jc]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=yR(e);e!==null;){if(r=e[Jc])return r;e=yR(e)}return t}e=r,r=e.parentNode}return null}function sx(e){return e=e[Jc]||e[pf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function im(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ot(33))}function k5(e){return e[ty]||null}var FT=[],am=-1;function yh(e){return{current:e}}function $n(e){0>am||(e.current=FT[am],FT[am]=null,am--)}function Ln(e,t){am++,FT[am]=e.current,e.current=t}var Jd={},Ts=yh(Jd),po=yh(!1),L0=Jd;function Gm(e,t){var r=e.type.contextTypes;if(!r)return Jd;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function mo(e){return e=e.childContextTypes,e!=null}function Eb(){$n(po),$n(Ts)}function xR(e,t,r){if(Ts.current!==Jd)throw Error(ot(168));Ln(Ts,t),Ln(po,r)}function UV(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(ot(108,Vne(e)||"Unknown",i));return fi({},r,n)}function Ab(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jd,L0=Ts.current,Ln(Ts,e),Ln(po,po.current),!0}function wR(e,t,r){var n=e.stateNode;if(!n)throw Error(ot(169));r?(e=UV(e,t,L0),n.__reactInternalMemoizedMergedChildContext=e,$n(po),$n(Ts),Ln(Ts,e)):$n(po),Ln(po,r)}var Vu=null,N5=!1,cA=!1;function VV(e){Vu===null?Vu=[e]:Vu.push(e)}function iae(e){N5=!0,VV(e)}function xh(){if(!cA&&Vu!==null){cA=!0;var e=0,t=mn;try{var r=Vu;for(mn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Vu=null,N5=!1}catch(i){throw Vu!==null&&(Vu=Vu.slice(e+1)),dV(jC,xh),i}finally{mn=t,cA=!1}}return null}var sm=[],om=0,Tb=null,kb=0,Cl=[],Pl=0,j0=null,Hu=1,qu="";function Jh(e,t){sm[om++]=kb,sm[om++]=Tb,Tb=e,kb=t}function $V(e,t,r){Cl[Pl++]=Hu,Cl[Pl++]=qu,Cl[Pl++]=j0,j0=e;var n=Hu;e=qu;var i=32-xc(n)-1;n&=~(1<<i),r+=1;var a=32-xc(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Hu=1<<32-xc(t)+i|r<<i|n,qu=a+e}else Hu=1<<a|r<<i|n,qu=e}function HC(e){e.return!==null&&(Jh(e,1),$V(e,1,0))}function qC(e){for(;e===Tb;)Tb=sm[--om],sm[om]=null,kb=sm[--om],sm[om]=null;for(;e===j0;)j0=Cl[--Pl],Cl[Pl]=null,qu=Cl[--Pl],Cl[Pl]=null,Hu=Cl[--Pl],Cl[Pl]=null}var Qo=null,Xo=null,Yn=!1,dc=null;function zV(e,t){var r=Rl(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bR(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qo=e,Xo=jd(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qo=e,Xo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=j0!==null?{id:Hu,overflow:qu}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Rl(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qo=e,Xo=null,!0):!1;default:return!1}}function MT(e){return(e.mode&1)!==0&&(e.flags&128)===0}function BT(e){if(Yn){var t=Xo;if(t){var r=t;if(!bR(e,t)){if(MT(e))throw Error(ot(418));t=jd(r.nextSibling);var n=Qo;t&&bR(e,t)?zV(n,r):(e.flags=e.flags&-4097|2,Yn=!1,Qo=e)}}else{if(MT(e))throw Error(ot(418));e.flags=e.flags&-4097|2,Yn=!1,Qo=e}}}function _R(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qo=e}function R2(e){if(e!==Qo)return!1;if(!Yn)return _R(e),Yn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!RT(e.type,e.memoizedProps)),t&&(t=Xo)){if(MT(e))throw WV(),Error(ot(418));for(;t;)zV(e,t),t=jd(t.nextSibling)}if(_R(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ot(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Xo=jd(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Xo=null}}else Xo=Qo?jd(e.stateNode.nextSibling):null;return!0}function WV(){for(var e=Xo;e;)e=jd(e.nextSibling)}function Km(){Xo=Qo=null,Yn=!1}function GC(e){dc===null?dc=[e]:dc.push(e)}var aae=Pf.ReactCurrentBatchConfig;function I1(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ot(309));var n=r.stateNode}if(!n)throw Error(ot(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(ot(284));if(!r._owner)throw Error(ot(290,e))}return e}function L2(e,t){throw e=Object.prototype.toString.call(t),Error(ot(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function SR(e){var t=e._init;return t(e._payload)}function HV(e){function t(y,b){if(e){var _=y.deletions;_===null?(y.deletions=[b],y.flags|=16):_.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=Ud(y,b),y.index=0,y.sibling=null,y}function a(y,b,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<b?(y.flags|=2,b):_):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,b,_,N){return b===null||b.tag!==6?(b=gA(_,y.mode,N),b.return=y,b):(b=i(b,_),b.return=y,b)}function l(y,b,_,N){var R=_.type;return R===em?u(y,b,_.props.children,N,_.key):b!==null&&(b.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===gd&&SR(R)===b.type)?(N=i(b,_.props),N.ref=I1(y,b,_),N.return=y,N):(N=Gw(_.type,_.key,_.props,null,y.mode,N),N.ref=I1(y,b,_),N.return=y,N)}function c(y,b,_,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=vA(_,y.mode,N),b.return=y,b):(b=i(b,_.children||[]),b.return=y,b)}function u(y,b,_,N,R){return b===null||b.tag!==7?(b=b0(_,y.mode,N,R),b.return=y,b):(b=i(b,_),b.return=y,b)}function f(y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=gA(""+b,y.mode,_),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case E2:return _=Gw(b.type,b.key,b.props,null,y.mode,_),_.ref=I1(y,null,b),_.return=y,_;case Zp:return b=vA(b,y.mode,_),b.return=y,b;case gd:var N=b._init;return f(y,N(b._payload),_)}if(K1(b)||T1(b))return b=b0(b,y.mode,_,null),b.return=y,b;L2(y,b)}return null}function d(y,b,_,N){var R=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return R!==null?null:o(y,b,""+_,N);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case E2:return _.key===R?l(y,b,_,N):null;case Zp:return _.key===R?c(y,b,_,N):null;case gd:return R=_._init,d(y,b,R(_._payload),N)}if(K1(_)||T1(_))return R!==null?null:u(y,b,_,N,null);L2(y,_)}return null}function h(y,b,_,N,R){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(_)||null,o(b,y,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case E2:return y=y.get(N.key===null?_:N.key)||null,l(b,y,N,R);case Zp:return y=y.get(N.key===null?_:N.key)||null,c(b,y,N,R);case gd:var O=N._init;return h(y,b,_,O(N._payload),R)}if(K1(N)||T1(N))return y=y.get(_)||null,u(b,y,N,R,null);L2(b,N)}return null}function g(y,b,_,N){for(var R=null,O=null,k=b,S=b=0,T=null;k!==null&&S<_.length;S++){k.index>S?(T=k,k=null):T=k.sibling;var j=d(y,k,_[S],N);if(j===null){k===null&&(k=T);break}e&&k&&j.alternate===null&&t(y,k),b=a(j,b,S),O===null?R=j:O.sibling=j,O=j,k=T}if(S===_.length)return r(y,k),Yn&&Jh(y,S),R;if(k===null){for(;S<_.length;S++)k=f(y,_[S],N),k!==null&&(b=a(k,b,S),O===null?R=k:O.sibling=k,O=k);return Yn&&Jh(y,S),R}for(k=n(y,k);S<_.length;S++)T=h(k,y,S,_[S],N),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?S:T.key),b=a(T,b,S),O===null?R=T:O.sibling=T,O=T);return e&&k.forEach(function(E){return t(y,E)}),Yn&&Jh(y,S),R}function m(y,b,_,N){var R=T1(_);if(typeof R!="function")throw Error(ot(150));if(_=R.call(_),_==null)throw Error(ot(151));for(var O=R=null,k=b,S=b=0,T=null,j=_.next();k!==null&&!j.done;S++,j=_.next()){k.index>S?(T=k,k=null):T=k.sibling;var E=d(y,k,j.value,N);if(E===null){k===null&&(k=T);break}e&&k&&E.alternate===null&&t(y,k),b=a(E,b,S),O===null?R=E:O.sibling=E,O=E,k=T}if(j.done)return r(y,k),Yn&&Jh(y,S),R;if(k===null){for(;!j.done;S++,j=_.next())j=f(y,j.value,N),j!==null&&(b=a(j,b,S),O===null?R=j:O.sibling=j,O=j);return Yn&&Jh(y,S),R}for(k=n(y,k);!j.done;S++,j=_.next())j=h(k,y,S,j.value,N),j!==null&&(e&&j.alternate!==null&&k.delete(j.key===null?S:j.key),b=a(j,b,S),O===null?R=j:O.sibling=j,O=j);return e&&k.forEach(function(C){return t(y,C)}),Yn&&Jh(y,S),R}function v(y,b,_,N){if(typeof _=="object"&&_!==null&&_.type===em&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case E2:e:{for(var R=_.key,O=b;O!==null;){if(O.key===R){if(R=_.type,R===em){if(O.tag===7){r(y,O.sibling),b=i(O,_.props.children),b.return=y,y=b;break e}}else if(O.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===gd&&SR(R)===O.type){r(y,O.sibling),b=i(O,_.props),b.ref=I1(y,O,_),b.return=y,y=b;break e}r(y,O);break}else t(y,O);O=O.sibling}_.type===em?(b=b0(_.props.children,y.mode,N,_.key),b.return=y,y=b):(N=Gw(_.type,_.key,_.props,null,y.mode,N),N.ref=I1(y,b,_),N.return=y,y=N)}return s(y);case Zp:e:{for(O=_.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){r(y,b.sibling),b=i(b,_.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=vA(_,y.mode,N),b.return=y,y=b}return s(y);case gd:return O=_._init,v(y,b,O(_._payload),N)}if(K1(_))return g(y,b,_,N);if(T1(_))return m(y,b,_,N);L2(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(r(y,b.sibling),b=i(b,_),b.return=y,y=b):(r(y,b),b=gA(_,y.mode,N),b.return=y,y=b),s(y)):r(y,b)}return v}var Xm=HV(!0),qV=HV(!1),Nb=yh(null),Cb=null,lm=null,KC=null;function XC(){KC=lm=Cb=null}function YC(e){var t=Nb.current;$n(Nb),e._currentValue=t}function UT(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Tm(e,t){Cb=e,KC=lm=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lo=!0),e.firstContext=null)}function Bl(e){var t=e._currentValue;if(KC!==e)if(e={context:e,memoizedValue:t,next:null},lm===null){if(Cb===null)throw Error(ot(308));lm=e,Cb.dependencies={lanes:0,firstContext:e}}else lm=lm.next=e;return t}var l0=null;function JC(e){l0===null?l0=[e]:l0.push(e)}function GV(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,JC(t)):(r.next=i.next,i.next=r),t.interleaved=r,mf(e,n)}function mf(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var vd=!1;function QC(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rf(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fd(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,qr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,mf(e,r)}return i=n.interleaved,i===null?(t.next=t,JC(n)):(t.next=i.next,i.next=t),n.interleaved=t,mf(e,r)}function Vw(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,FC(e,r)}}function ER(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Pb(e,t,r,n){var i=e.updateQueue;vd=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?a=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,u=c=l=null,o=a;do{var d=o.lane,h=o.eventTime;if((n&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(d=t,h=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(h,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,d=typeof g=="function"?g.call(h,f,d):g,d==null)break e;f=fi({},f,d);break e;case 2:vd=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else h={eventTime:h,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,s|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);M0|=s,e.lanes=s,e.memoizedState=f}}function AR(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ot(191,i));i.call(n)}}}var ox={},iu=yh(ox),ry=yh(ox),ny=yh(ox);function c0(e){if(e===ox)throw Error(ot(174));return e}function ZC(e,t){switch(Ln(ny,t),Ln(ry,e),Ln(iu,ox),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wT(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wT(t,e)}$n(iu),Ln(iu,t)}function Ym(){$n(iu),$n(ry),$n(ny)}function XV(e){c0(ny.current);var t=c0(iu.current),r=wT(t,e.type);t!==r&&(Ln(ry,e),Ln(iu,r))}function e3(e){ry.current===e&&($n(iu),$n(ry))}var si=yh(0);function Ib(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var uA=[];function t3(){for(var e=0;e<uA.length;e++)uA[e]._workInProgressVersionPrimary=null;uA.length=0}var $w=Pf.ReactCurrentDispatcher,fA=Pf.ReactCurrentBatchConfig,F0=0,ui=null,ca=null,ka=null,Ob=!1,hv=!1,iy=0,sae=0;function ss(){throw Error(ot(321))}function r3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ac(e[r],t[r]))return!1;return!0}function n3(e,t,r,n,i,a){if(F0=a,ui=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$w.current=e===null||e.memoizedState===null?uae:fae,e=r(n,i),hv){a=0;do{if(hv=!1,iy=0,25<=a)throw Error(ot(301));a+=1,ka=ca=null,t.updateQueue=null,$w.current=dae,e=r(n,i)}while(hv)}if($w.current=Db,t=ca!==null&&ca.next!==null,F0=0,ka=ca=ui=null,Ob=!1,t)throw Error(ot(300));return e}function i3(){var e=iy!==0;return iy=0,e}function Xc(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ka===null?ui.memoizedState=ka=e:ka=ka.next=e,ka}function Ul(){if(ca===null){var e=ui.alternate;e=e!==null?e.memoizedState:null}else e=ca.next;var t=ka===null?ui.memoizedState:ka.next;if(t!==null)ka=t,ca=e;else{if(e===null)throw Error(ot(310));ca=e,e={memoizedState:ca.memoizedState,baseState:ca.baseState,baseQueue:ca.baseQueue,queue:ca.queue,next:null},ka===null?ui.memoizedState=ka=e:ka=ka.next=e}return ka}function ay(e,t){return typeof t=="function"?t(e):t}function dA(e){var t=Ul(),r=t.queue;if(r===null)throw Error(ot(311));r.lastRenderedReducer=e;var n=ca,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=s=null,l=null,c=a;do{var u=c.lane;if((F0&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,ui.lanes|=u,M0|=u}c=c.next}while(c!==null&&c!==a);l===null?s=n:l.next=o,Ac(n,t.memoizedState)||(lo=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,ui.lanes|=a,M0|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function hA(e){var t=Ul(),r=t.queue;if(r===null)throw Error(ot(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Ac(a,t.memoizedState)||(lo=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function YV(){}function JV(e,t){var r=ui,n=Ul(),i=t(),a=!Ac(n.memoizedState,i);if(a&&(n.memoizedState=i,lo=!0),n=n.queue,a3(e$.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ka!==null&&ka.memoizedState.tag&1){if(r.flags|=2048,sy(9,ZV.bind(null,r,n,i,t),void 0,null),Ra===null)throw Error(ot(349));F0&30||QV(r,t,i)}return i}function QV(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ui.updateQueue,t===null?(t={lastEffect:null,stores:null},ui.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ZV(e,t,r,n){t.value=r,t.getSnapshot=n,t$(t)&&r$(e)}function e$(e,t,r){return r(function(){t$(t)&&r$(e)})}function t$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ac(e,r)}catch{return!0}}function r$(e){var t=mf(e,1);t!==null&&wc(t,e,1,-1)}function TR(e){var t=Xc();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ay,lastRenderedState:e},t.queue=e,e=e.dispatch=cae.bind(null,ui,e),[t.memoizedState,e]}function sy(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ui.updateQueue,t===null?(t={lastEffect:null,stores:null},ui.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function n$(){return Ul().memoizedState}function zw(e,t,r,n){var i=Xc();ui.flags|=e,i.memoizedState=sy(1|t,r,void 0,n===void 0?null:n)}function C5(e,t,r,n){var i=Ul();n=n===void 0?null:n;var a=void 0;if(ca!==null){var s=ca.memoizedState;if(a=s.destroy,n!==null&&r3(n,s.deps)){i.memoizedState=sy(t,r,a,n);return}}ui.flags|=e,i.memoizedState=sy(1|t,r,a,n)}function kR(e,t){return zw(8390656,8,e,t)}function a3(e,t){return C5(2048,8,e,t)}function i$(e,t){return C5(4,2,e,t)}function a$(e,t){return C5(4,4,e,t)}function s$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function o$(e,t,r){return r=r!=null?r.concat([e]):null,C5(4,4,s$.bind(null,t,e),r)}function s3(){}function l$(e,t){var r=Ul();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&r3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function c$(e,t){var r=Ul();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&r3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function u$(e,t,r){return F0&21?(Ac(r,t)||(r=mV(),ui.lanes|=r,M0|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lo=!0),e.memoizedState=r)}function oae(e,t){var r=mn;mn=r!==0&&4>r?r:4,e(!0);var n=fA.transition;fA.transition={};try{e(!1),t()}finally{mn=r,fA.transition=n}}function f$(){return Ul().memoizedState}function lae(e,t,r){var n=Bd(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},d$(e))h$(t,r);else if(r=GV(e,t,r,n),r!==null){var i=Ws();wc(r,e,n,i),p$(r,t,n)}}function cae(e,t,r){var n=Bd(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(d$(e))h$(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Ac(o,s)){var l=t.interleaved;l===null?(i.next=i,JC(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=GV(e,t,i,n),r!==null&&(i=Ws(),wc(r,e,n,i),p$(r,t,n))}}function d$(e){var t=e.alternate;return e===ui||t!==null&&t===ui}function h$(e,t){hv=Ob=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function p$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,FC(e,r)}}var Db={readContext:Bl,useCallback:ss,useContext:ss,useEffect:ss,useImperativeHandle:ss,useInsertionEffect:ss,useLayoutEffect:ss,useMemo:ss,useReducer:ss,useRef:ss,useState:ss,useDebugValue:ss,useDeferredValue:ss,useTransition:ss,useMutableSource:ss,useSyncExternalStore:ss,useId:ss,unstable_isNewReconciler:!1},uae={readContext:Bl,useCallback:function(e,t){return Xc().memoizedState=[e,t===void 0?null:t],e},useContext:Bl,useEffect:kR,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zw(4194308,4,s$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zw(4194308,4,e,t)},useInsertionEffect:function(e,t){return zw(4,2,e,t)},useMemo:function(e,t){var r=Xc();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Xc();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=lae.bind(null,ui,e),[n.memoizedState,e]},useRef:function(e){var t=Xc();return e={current:e},t.memoizedState=e},useState:TR,useDebugValue:s3,useDeferredValue:function(e){return Xc().memoizedState=e},useTransition:function(){var e=TR(!1),t=e[0];return e=oae.bind(null,e[1]),Xc().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ui,i=Xc();if(Yn){if(r===void 0)throw Error(ot(407));r=r()}else{if(r=t(),Ra===null)throw Error(ot(349));F0&30||QV(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,kR(e$.bind(null,n,a,e),[e]),n.flags|=2048,sy(9,ZV.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Xc(),t=Ra.identifierPrefix;if(Yn){var r=qu,n=Hu;r=(n&~(1<<32-xc(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=iy++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=sae++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fae={readContext:Bl,useCallback:l$,useContext:Bl,useEffect:a3,useImperativeHandle:o$,useInsertionEffect:i$,useLayoutEffect:a$,useMemo:c$,useReducer:dA,useRef:n$,useState:function(){return dA(ay)},useDebugValue:s3,useDeferredValue:function(e){var t=Ul();return u$(t,ca.memoizedState,e)},useTransition:function(){var e=dA(ay)[0],t=Ul().memoizedState;return[e,t]},useMutableSource:YV,useSyncExternalStore:JV,useId:f$,unstable_isNewReconciler:!1},dae={readContext:Bl,useCallback:l$,useContext:Bl,useEffect:a3,useImperativeHandle:o$,useInsertionEffect:i$,useLayoutEffect:a$,useMemo:c$,useReducer:hA,useRef:n$,useState:function(){return hA(ay)},useDebugValue:s3,useDeferredValue:function(e){var t=Ul();return ca===null?t.memoizedState=e:u$(t,ca.memoizedState,e)},useTransition:function(){var e=hA(ay)[0],t=Ul().memoizedState;return[e,t]},useMutableSource:YV,useSyncExternalStore:JV,useId:f$,unstable_isNewReconciler:!1};function uc(e,t){if(e&&e.defaultProps){t=fi({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function VT(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fi({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var P5={isMounted:function(e){return(e=e._reactInternals)?fp(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ws(),i=Bd(e),a=rf(n,i);a.payload=t,r!=null&&(a.callback=r),t=Fd(e,a,i),t!==null&&(wc(t,e,i,n),Vw(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ws(),i=Bd(e),a=rf(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Fd(e,a,i),t!==null&&(wc(t,e,i,n),Vw(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ws(),n=Bd(e),i=rf(r,n);i.tag=2,t!=null&&(i.callback=t),t=Fd(e,i,n),t!==null&&(wc(t,e,n,r),Vw(t,e,n))}};function NR(e,t,r,n,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,s):t.prototype&&t.prototype.isPureReactComponent?!Qv(r,n)||!Qv(i,a):!0}function m$(e,t,r){var n=!1,i=Jd,a=t.contextType;return typeof a=="object"&&a!==null?a=Bl(a):(i=mo(t)?L0:Ts.current,n=t.contextTypes,a=(n=n!=null)?Gm(e,i):Jd),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=P5,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function CR(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&P5.enqueueReplaceState(t,t.state,null)}function $T(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},QC(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=Bl(a):(a=mo(t)?L0:Ts.current,i.context=Gm(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(VT(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&P5.enqueueReplaceState(i,i.state,null),Pb(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Jm(e,t){try{var r="",n=t;do r+=Une(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function pA(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function zT(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hae=typeof WeakMap=="function"?WeakMap:Map;function g$(e,t,r){r=rf(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Lb||(Lb=!0,ZT=n),zT(e,t)},r}function v$(e,t,r){r=rf(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){zT(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){zT(e,t),typeof n!="function"&&(Md===null?Md=new Set([this]):Md.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function PR(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new hae;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=kae.bind(null,e,t,r),t.then(e,e))}function IR(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function OR(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=rf(-1,1),t.tag=2,Fd(r,t,1))),r.lanes|=1),e)}var pae=Pf.ReactCurrentOwner,lo=!1;function Ms(e,t,r,n){t.child=e===null?qV(t,null,r,n):Xm(t,e.child,r,n)}function DR(e,t,r,n,i){r=r.render;var a=t.ref;return Tm(t,i),n=n3(e,t,r,n,a,i),r=i3(),e!==null&&!lo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gf(e,t,i)):(Yn&&r&&HC(t),t.flags|=1,Ms(e,t,n,i),t.child)}function RR(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!p3(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,y$(e,t,a,n,i)):(e=Gw(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(r=r.compare,r=r!==null?r:Qv,r(s,n)&&e.ref===t.ref)return gf(e,t,i)}return t.flags|=1,e=Ud(a,n),e.ref=t.ref,e.return=t,t.child=e}function y$(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Qv(a,n)&&e.ref===t.ref)if(lo=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(lo=!0);else return t.lanes=e.lanes,gf(e,t,i)}return WT(e,t,r,n,i)}function x$(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ln(um,Mo),Mo|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ln(um,Mo),Mo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Ln(um,Mo),Mo|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Ln(um,Mo),Mo|=n;return Ms(e,t,i,r),t.child}function w$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function WT(e,t,r,n,i){var a=mo(r)?L0:Ts.current;return a=Gm(t,a),Tm(t,i),r=n3(e,t,r,n,a,i),n=i3(),e!==null&&!lo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,gf(e,t,i)):(Yn&&n&&HC(t),t.flags|=1,Ms(e,t,r,i),t.child)}function LR(e,t,r,n,i){if(mo(r)){var a=!0;Ab(t)}else a=!1;if(Tm(t,i),t.stateNode===null)Ww(e,t),m$(t,r,n),$T(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Bl(c):(c=mo(r)?L0:Ts.current,c=Gm(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&CR(t,s,n,c),vd=!1;var d=t.memoizedState;s.state=d,Pb(t,n,s,i),l=t.memoizedState,o!==n||d!==l||po.current||vd?(typeof u=="function"&&(VT(t,r,u,n),l=t.memoizedState),(o=vd||NR(t,r,o,n,d,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,KV(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:uc(t.type,o),s.props=c,f=t.pendingProps,d=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Bl(l):(l=mo(r)?L0:Ts.current,l=Gm(t,l));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==l)&&CR(t,s,n,l),vd=!1,d=t.memoizedState,s.state=d,Pb(t,n,s,i);var g=t.memoizedState;o!==f||d!==g||po.current||vd?(typeof h=="function"&&(VT(t,r,h,n),g=t.memoizedState),(c=vd||NR(t,r,c,n,d,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return HT(e,t,r,n,a,i)}function HT(e,t,r,n,i,a){w$(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&wR(t,r,!1),gf(e,t,a);n=t.stateNode,pae.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Xm(t,e.child,null,a),t.child=Xm(t,null,o,a)):Ms(e,t,o,a),t.memoizedState=n.state,i&&wR(t,r,!0),t.child}function b$(e){var t=e.stateNode;t.pendingContext?xR(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xR(e,t.context,!1),ZC(e,t.containerInfo)}function jR(e,t,r,n,i){return Km(),GC(i),t.flags|=256,Ms(e,t,r,n),t.child}var qT={dehydrated:null,treeContext:null,retryLane:0};function GT(e){return{baseLanes:e,cachePool:null,transitions:null}}function _$(e,t,r){var n=t.pendingProps,i=si.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ln(si,i&1),e===null)return BT(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,a?(n=t.mode,a=t.child,s={mode:"hidden",children:s},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=D5(s,n,0,null),e=b0(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=GT(r),t.memoizedState=qT,e):o3(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return mae(e,t,s,n,o,i,r);if(a){a=n.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Ud(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Ud(o,a):(a=b0(a,s,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,s=e.child.memoizedState,s=s===null?GT(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~r,t.memoizedState=qT,n}return a=e.child,e=a.sibling,n=Ud(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function o3(e,t){return t=D5({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function j2(e,t,r,n){return n!==null&&GC(n),Xm(t,e.child,null,r),e=o3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mae(e,t,r,n,i,a,s){if(r)return t.flags&256?(t.flags&=-257,n=pA(Error(ot(422))),j2(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=D5({mode:"visible",children:n.children},i,0,null),a=b0(a,i,s,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Xm(t,e.child,null,s),t.child.memoizedState=GT(s),t.memoizedState=qT,a);if(!(t.mode&1))return j2(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(ot(419)),n=pA(a,n,void 0),j2(e,t,s,n)}if(o=(s&e.childLanes)!==0,lo||o){if(n=Ra,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,mf(e,i),wc(n,e,i,-1))}return h3(),n=pA(Error(ot(421))),j2(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Nae.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Xo=jd(i.nextSibling),Qo=t,Yn=!0,dc=null,e!==null&&(Cl[Pl++]=Hu,Cl[Pl++]=qu,Cl[Pl++]=j0,Hu=e.id,qu=e.overflow,j0=t),t=o3(t,n.children),t.flags|=4096,t)}function FR(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),UT(e.return,t,r)}function mA(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function S$(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ms(e,t,n.children,r),n=si.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&FR(e,r,t);else if(e.tag===19)FR(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ln(si,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Ib(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),mA(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ib(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}mA(t,!0,r,null,a);break;case"together":mA(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ww(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function gf(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),M0|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ot(153));if(t.child!==null){for(e=t.child,r=Ud(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ud(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function gae(e,t,r){switch(t.tag){case 3:b$(t),Km();break;case 5:XV(t);break;case 1:mo(t.type)&&Ab(t);break;case 4:ZC(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ln(Nb,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ln(si,si.current&1),t.flags|=128,null):r&t.child.childLanes?_$(e,t,r):(Ln(si,si.current&1),e=gf(e,t,r),e!==null?e.sibling:null);Ln(si,si.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return S$(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ln(si,si.current),n)break;return null;case 22:case 23:return t.lanes=0,x$(e,t,r)}return gf(e,t,r)}var E$,KT,A$,T$;E$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};KT=function(){};A$=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,c0(iu.current);var a=null;switch(r){case"input":i=gT(e,i),n=gT(e,n),a=[];break;case"select":i=fi({},i,{value:void 0}),n=fi({},n,{value:void 0}),a=[];break;case"textarea":i=xT(e,i),n=xT(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Sb)}bT(r,n);var s;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Hv.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(a||(a=[]),a.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Hv.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Mn("scroll",e),a||o===l||(a=[])):(a=a||[]).push(c,l))}r&&(a=a||[]).push("style",r);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};T$=function(e,t,r,n){r!==n&&(t.flags|=4)};function O1(e,t){if(!Yn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function os(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vae(e,t,r){var n=t.pendingProps;switch(qC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return os(t),null;case 1:return mo(t.type)&&Eb(),os(t),null;case 3:return n=t.stateNode,Ym(),$n(po),$n(Ts),t3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(R2(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dc!==null&&(rk(dc),dc=null))),KT(e,t),os(t),null;case 5:e3(t);var i=c0(ny.current);if(r=t.type,e!==null&&t.stateNode!=null)A$(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ot(166));return os(t),null}if(e=c0(iu.current),R2(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Jc]=t,n[ty]=a,e=(t.mode&1)!==0,r){case"dialog":Mn("cancel",n),Mn("close",n);break;case"iframe":case"object":case"embed":Mn("load",n);break;case"video":case"audio":for(i=0;i<Y1.length;i++)Mn(Y1[i],n);break;case"source":Mn("error",n);break;case"img":case"image":case"link":Mn("error",n),Mn("load",n);break;case"details":Mn("toggle",n);break;case"input":qD(n,a),Mn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Mn("invalid",n);break;case"textarea":KD(n,a),Mn("invalid",n)}bT(r,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&D2(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&D2(n.textContent,o,e),i=["children",""+o]):Hv.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Mn("scroll",n)}switch(r){case"input":A2(n),GD(n,a,!0);break;case"textarea":A2(n),XD(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Sb)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eV(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Jc]=t,e[ty]=n,E$(e,t,!1,!1),t.stateNode=e;e:{switch(s=_T(r,n),r){case"dialog":Mn("cancel",e),Mn("close",e),i=n;break;case"iframe":case"object":case"embed":Mn("load",e),i=n;break;case"video":case"audio":for(i=0;i<Y1.length;i++)Mn(Y1[i],e);i=n;break;case"source":Mn("error",e),i=n;break;case"img":case"image":case"link":Mn("error",e),Mn("load",e),i=n;break;case"details":Mn("toggle",e),i=n;break;case"input":qD(e,n),i=gT(e,n),Mn("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=fi({},n,{value:void 0}),Mn("invalid",e);break;case"textarea":KD(e,n),i=xT(e,n),Mn("invalid",e);break;default:i=n}bT(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?nV(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tV(e,l)):a==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&qv(e,l):typeof l=="number"&&qv(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Hv.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Mn("scroll",e):l!=null&&IC(e,a,l,s))}switch(r){case"input":A2(e),GD(e,n,!1);break;case"textarea":A2(e),XD(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Yd(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?_m(e,!!n.multiple,a,!1):n.defaultValue!=null&&_m(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Sb)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return os(t),null;case 6:if(e&&t.stateNode!=null)T$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ot(166));if(r=c0(ny.current),c0(iu.current),R2(t)){if(n=t.stateNode,r=t.memoizedProps,n[Jc]=t,(a=n.nodeValue!==r)&&(e=Qo,e!==null))switch(e.tag){case 3:D2(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&D2(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jc]=t,t.stateNode=n}return os(t),null;case 13:if($n(si),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Yn&&Xo!==null&&t.mode&1&&!(t.flags&128))WV(),Km(),t.flags|=98560,a=!1;else if(a=R2(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(ot(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ot(317));a[Jc]=t}else Km(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;os(t),a=!1}else dc!==null&&(rk(dc),dc=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||si.current&1?pa===0&&(pa=3):h3())),t.updateQueue!==null&&(t.flags|=4),os(t),null);case 4:return Ym(),KT(e,t),e===null&&Zv(t.stateNode.containerInfo),os(t),null;case 10:return YC(t.type._context),os(t),null;case 17:return mo(t.type)&&Eb(),os(t),null;case 19:if($n(si),a=t.memoizedState,a===null)return os(t),null;if(n=(t.flags&128)!==0,s=a.rendering,s===null)if(n)O1(a,!1);else{if(pa!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ib(e),s!==null){for(t.flags|=128,O1(a,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ln(si,si.current&1|2),t.child}e=e.sibling}a.tail!==null&&Fi()>Qm&&(t.flags|=128,n=!0,O1(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ib(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),O1(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!Yn)return os(t),null}else 2*Fi()-a.renderingStartTime>Qm&&r!==1073741824&&(t.flags|=128,n=!0,O1(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(r=a.last,r!==null?r.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Fi(),t.sibling=null,r=si.current,Ln(si,n?r&1|2:r&1),t):(os(t),null);case 22:case 23:return d3(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Mo&1073741824&&(os(t),t.subtreeFlags&6&&(t.flags|=8192)):os(t),null;case 24:return null;case 25:return null}throw Error(ot(156,t.tag))}function yae(e,t){switch(qC(t),t.tag){case 1:return mo(t.type)&&Eb(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ym(),$n(po),$n(Ts),t3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return e3(t),null;case 13:if($n(si),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ot(340));Km()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $n(si),null;case 4:return Ym(),null;case 10:return YC(t.type._context),null;case 22:case 23:return d3(),null;case 24:return null;default:return null}}var F2=!1,ys=!1,xae=typeof WeakSet=="function"?WeakSet:Set,At=null;function cm(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){bi(e,t,n)}else r.current=null}function XT(e,t,r){try{r()}catch(n){bi(e,t,n)}}var MR=!1;function wae(e,t){if(OT=wb,e=IV(),WC(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,d=null;t:for(;;){for(var h;f!==r||i!==0&&f.nodeType!==3||(o=s+i),f!==a||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===e)break t;if(d===r&&++c===i&&(o=s),d===a&&++u===n&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(DT={focusedElem:e,selectionRange:r},wb=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){t=At;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:uc(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ot(163))}}catch(N){bi(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}return g=MR,MR=!1,g}function pv(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&XT(t,r,a)}i=i.next}while(i!==n)}}function I5(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function YT(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function k$(e){var t=e.alternate;t!==null&&(e.alternate=null,k$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jc],delete t[ty],delete t[jT],delete t[rae],delete t[nae])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function N$(e){return e.tag===5||e.tag===3||e.tag===4}function BR(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||N$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function JT(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Sb));else if(n!==4&&(e=e.child,e!==null))for(JT(e,t,r),e=e.sibling;e!==null;)JT(e,t,r),e=e.sibling}function QT(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(QT(e,t,r),e=e.sibling;e!==null;)QT(e,t,r),e=e.sibling}var Ga=null,fc=!1;function cd(e,t,r){for(r=r.child;r!==null;)C$(e,t,r),r=r.sibling}function C$(e,t,r){if(nu&&typeof nu.onCommitFiberUnmount=="function")try{nu.onCommitFiberUnmount(S5,r)}catch{}switch(r.tag){case 5:ys||cm(r,t);case 6:var n=Ga,i=fc;Ga=null,cd(e,t,r),Ga=n,fc=i,Ga!==null&&(fc?(e=Ga,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ga.removeChild(r.stateNode));break;case 18:Ga!==null&&(fc?(e=Ga,r=r.stateNode,e.nodeType===8?lA(e.parentNode,r):e.nodeType===1&&lA(e,r),Yv(e)):lA(Ga,r.stateNode));break;case 4:n=Ga,i=fc,Ga=r.stateNode.containerInfo,fc=!0,cd(e,t,r),Ga=n,fc=i;break;case 0:case 11:case 14:case 15:if(!ys&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&XT(r,t,s),i=i.next}while(i!==n)}cd(e,t,r);break;case 1:if(!ys&&(cm(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){bi(r,t,o)}cd(e,t,r);break;case 21:cd(e,t,r);break;case 22:r.mode&1?(ys=(n=ys)||r.memoizedState!==null,cd(e,t,r),ys=n):cd(e,t,r);break;default:cd(e,t,r)}}function UR(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new xae),t.forEach(function(n){var i=Cae.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ac(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ga=o.stateNode,fc=!1;break e;case 3:Ga=o.stateNode.containerInfo,fc=!0;break e;case 4:Ga=o.stateNode.containerInfo,fc=!0;break e}o=o.return}if(Ga===null)throw Error(ot(160));C$(a,s,i),Ga=null,fc=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){bi(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)P$(t,e),t=t.sibling}function P$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ac(t,e),zc(e),n&4){try{pv(3,e,e.return),I5(3,e)}catch(m){bi(e,e.return,m)}try{pv(5,e,e.return)}catch(m){bi(e,e.return,m)}}break;case 1:ac(t,e),zc(e),n&512&&r!==null&&cm(r,r.return);break;case 5:if(ac(t,e),zc(e),n&512&&r!==null&&cm(r,r.return),e.flags&32){var i=e.stateNode;try{qv(i,"")}catch(m){bi(e,e.return,m)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=r!==null?r.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&QU(i,a),_T(o,s);var c=_T(o,a);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?nV(i,f):u==="dangerouslySetInnerHTML"?tV(i,f):u==="children"?qv(i,f):IC(i,u,f,c)}switch(o){case"input":vT(i,a);break;case"textarea":ZU(i,a);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;h!=null?_m(i,!!a.multiple,h,!1):d!==!!a.multiple&&(a.defaultValue!=null?_m(i,!!a.multiple,a.defaultValue,!0):_m(i,!!a.multiple,a.multiple?[]:"",!1))}i[ty]=a}catch(m){bi(e,e.return,m)}}break;case 6:if(ac(t,e),zc(e),n&4){if(e.stateNode===null)throw Error(ot(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){bi(e,e.return,m)}}break;case 3:if(ac(t,e),zc(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Yv(t.containerInfo)}catch(m){bi(e,e.return,m)}break;case 4:ac(t,e),zc(e);break;case 13:ac(t,e),zc(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(u3=Fi())),n&4&&UR(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(ys=(c=ys)||u,ac(t,e),ys=c):ac(t,e),zc(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(At=e,u=e.child;u!==null;){for(f=At=u;At!==null;){switch(d=At,h=d.child,d.tag){case 0:case 11:case 14:case 15:pv(4,d,d.return);break;case 1:cm(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){bi(n,r,m)}}break;case 5:cm(d,d.return);break;case 22:if(d.memoizedState!==null){$R(f);continue}}h!==null?(h.return=d,At=h):$R(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=rV("display",s))}catch(m){bi(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){bi(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ac(t,e),zc(e),n&4&&UR(e);break;case 21:break;default:ac(t,e),zc(e)}}function zc(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(N$(r)){var n=r;break e}r=r.return}throw Error(ot(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(qv(i,""),n.flags&=-33);var a=BR(e);QT(e,a,i);break;case 3:case 4:var s=n.stateNode.containerInfo,o=BR(e);JT(e,o,s);break;default:throw Error(ot(161))}}catch(l){bi(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bae(e,t,r){At=e,I$(e)}function I$(e,t,r){for(var n=(e.mode&1)!==0;At!==null;){var i=At,a=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||F2;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ys;o=F2;var c=ys;if(F2=s,(ys=l)&&!c)for(At=i;At!==null;)s=At,l=s.child,s.tag===22&&s.memoizedState!==null?zR(i):l!==null?(l.return=s,At=l):zR(i);for(;a!==null;)At=a,I$(a),a=a.sibling;At=i,F2=o,ys=c}VR(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,At=a):VR(e)}}function VR(e){for(;At!==null;){var t=At;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ys||I5(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ys)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:uc(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&AR(t,a,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}AR(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Yv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ot(163))}ys||t.flags&512&&YT(t)}catch(d){bi(t,t.return,d)}}if(t===e){At=null;break}if(r=t.sibling,r!==null){r.return=t.return,At=r;break}At=t.return}}function $R(e){for(;At!==null;){var t=At;if(t===e){At=null;break}var r=t.sibling;if(r!==null){r.return=t.return,At=r;break}At=t.return}}function zR(e){for(;At!==null;){var t=At;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{I5(4,t)}catch(l){bi(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){bi(t,i,l)}}var a=t.return;try{YT(t)}catch(l){bi(t,a,l)}break;case 5:var s=t.return;try{YT(t)}catch(l){bi(t,s,l)}}}catch(l){bi(t,t.return,l)}if(t===e){At=null;break}var o=t.sibling;if(o!==null){o.return=t.return,At=o;break}At=t.return}}var _ae=Math.ceil,Rb=Pf.ReactCurrentDispatcher,l3=Pf.ReactCurrentOwner,jl=Pf.ReactCurrentBatchConfig,qr=0,Ra=null,Zi=null,Za=0,Mo=0,um=yh(0),pa=0,oy=null,M0=0,O5=0,c3=0,mv=null,so=null,u3=0,Qm=1/0,Bu=null,Lb=!1,ZT=null,Md=null,M2=!1,Nd=null,jb=0,gv=0,ek=null,Hw=-1,qw=0;function Ws(){return qr&6?Fi():Hw!==-1?Hw:Hw=Fi()}function Bd(e){return e.mode&1?qr&2&&Za!==0?Za&-Za:aae.transition!==null?(qw===0&&(qw=mV()),qw):(e=mn,e!==0||(e=window.event,e=e===void 0?16:_V(e.type)),e):1}function wc(e,t,r,n){if(50<gv)throw gv=0,ek=null,Error(ot(185));ix(e,r,n),(!(qr&2)||e!==Ra)&&(e===Ra&&(!(qr&2)&&(O5|=r),pa===4&&bd(e,Za)),go(e,n),r===1&&qr===0&&!(t.mode&1)&&(Qm=Fi()+500,N5&&xh()))}function go(e,t){var r=e.callbackNode;aie(e,t);var n=xb(e,e===Ra?Za:0);if(n===0)r!==null&&QD(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&QD(r),t===1)e.tag===0?iae(WR.bind(null,e)):VV(WR.bind(null,e)),eae(function(){!(qr&6)&&xh()}),r=null;else{switch(gV(n)){case 1:r=jC;break;case 4:r=hV;break;case 16:r=yb;break;case 536870912:r=pV;break;default:r=yb}r=B$(r,O$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function O$(e,t){if(Hw=-1,qw=0,qr&6)throw Error(ot(327));var r=e.callbackNode;if(km()&&e.callbackNode!==r)return null;var n=xb(e,e===Ra?Za:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Fb(e,n);else{t=n;var i=qr;qr|=2;var a=R$();(Ra!==e||Za!==t)&&(Bu=null,Qm=Fi()+500,w0(e,t));do try{Aae();break}catch(o){D$(e,o)}while(!0);XC(),Rb.current=a,qr=i,Zi!==null?t=0:(Ra=null,Za=0,t=pa)}if(t!==0){if(t===2&&(i=kT(e),i!==0&&(n=i,t=tk(e,i))),t===1)throw r=oy,w0(e,0),bd(e,n),go(e,Fi()),r;if(t===6)bd(e,n);else{if(i=e.current.alternate,!(n&30)&&!Sae(i)&&(t=Fb(e,n),t===2&&(a=kT(e),a!==0&&(n=a,t=tk(e,a))),t===1))throw r=oy,w0(e,0),bd(e,n),go(e,Fi()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(ot(345));case 2:Qh(e,so,Bu);break;case 3:if(bd(e,n),(n&130023424)===n&&(t=u3+500-Fi(),10<t)){if(xb(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ws(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=LT(Qh.bind(null,e,so,Bu),t);break}Qh(e,so,Bu);break;case 4:if(bd(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-xc(n);a=1<<s,s=t[s],s>i&&(i=s),n&=~a}if(n=i,n=Fi()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_ae(n/1960))-n,10<n){e.timeoutHandle=LT(Qh.bind(null,e,so,Bu),n);break}Qh(e,so,Bu);break;case 5:Qh(e,so,Bu);break;default:throw Error(ot(329))}}}return go(e,Fi()),e.callbackNode===r?O$.bind(null,e):null}function tk(e,t){var r=mv;return e.current.memoizedState.isDehydrated&&(w0(e,t).flags|=256),e=Fb(e,t),e!==2&&(t=so,so=r,t!==null&&rk(t)),e}function rk(e){so===null?so=e:so.push.apply(so,e)}function Sae(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ac(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bd(e,t){for(t&=~c3,t&=~O5,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xc(t),n=1<<r;e[r]=-1,t&=~n}}function WR(e){if(qr&6)throw Error(ot(327));km();var t=xb(e,0);if(!(t&1))return go(e,Fi()),null;var r=Fb(e,t);if(e.tag!==0&&r===2){var n=kT(e);n!==0&&(t=n,r=tk(e,n))}if(r===1)throw r=oy,w0(e,0),bd(e,t),go(e,Fi()),r;if(r===6)throw Error(ot(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qh(e,so,Bu),go(e,Fi()),null}function f3(e,t){var r=qr;qr|=1;try{return e(t)}finally{qr=r,qr===0&&(Qm=Fi()+500,N5&&xh())}}function B0(e){Nd!==null&&Nd.tag===0&&!(qr&6)&&km();var t=qr;qr|=1;var r=jl.transition,n=mn;try{if(jl.transition=null,mn=1,e)return e()}finally{mn=n,jl.transition=r,qr=t,!(qr&6)&&xh()}}function d3(){Mo=um.current,$n(um)}function w0(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Zie(r)),Zi!==null)for(r=Zi.return;r!==null;){var n=r;switch(qC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Eb();break;case 3:Ym(),$n(po),$n(Ts),t3();break;case 5:e3(n);break;case 4:Ym();break;case 13:$n(si);break;case 19:$n(si);break;case 10:YC(n.type._context);break;case 22:case 23:d3()}r=r.return}if(Ra=e,Zi=e=Ud(e.current,null),Za=Mo=t,pa=0,oy=null,c3=O5=M0=0,so=mv=null,l0!==null){for(t=0;t<l0.length;t++)if(r=l0[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var s=a.next;a.next=i,n.next=s}r.pending=n}l0=null}return e}function D$(e,t){do{var r=Zi;try{if(XC(),$w.current=Db,Ob){for(var n=ui.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ob=!1}if(F0=0,ka=ca=ui=null,hv=!1,iy=0,l3.current=null,r===null||r.return===null){pa=1,oy=t,Zi=null;break}e:{var a=e,s=r.return,o=r,l=t;if(t=Za,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=IR(s);if(h!==null){h.flags&=-257,OR(h,s,o,a,t),h.mode&1&&PR(a,c,t),t=h,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){PR(a,c,t),h3();break e}l=Error(ot(426))}}else if(Yn&&o.mode&1){var v=IR(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),OR(v,s,o,a,t),GC(Jm(l,o));break e}}a=l=Jm(l,o),pa!==4&&(pa=2),mv===null?mv=[a]:mv.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=g$(a,l,t);ER(a,y);break e;case 1:o=l;var b=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Md===null||!Md.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=v$(a,o,t);ER(a,N);break e}}a=a.return}while(a!==null)}j$(r)}catch(R){t=R,Zi===r&&r!==null&&(Zi=r=r.return);continue}break}while(!0)}function R$(){var e=Rb.current;return Rb.current=Db,e===null?Db:e}function h3(){(pa===0||pa===3||pa===2)&&(pa=4),Ra===null||!(M0&268435455)&&!(O5&268435455)||bd(Ra,Za)}function Fb(e,t){var r=qr;qr|=2;var n=R$();(Ra!==e||Za!==t)&&(Bu=null,w0(e,t));do try{Eae();break}catch(i){D$(e,i)}while(!0);if(XC(),qr=r,Rb.current=n,Zi!==null)throw Error(ot(261));return Ra=null,Za=0,pa}function Eae(){for(;Zi!==null;)L$(Zi)}function Aae(){for(;Zi!==null&&!Yne();)L$(Zi)}function L$(e){var t=M$(e.alternate,e,Mo);e.memoizedProps=e.pendingProps,t===null?j$(e):Zi=t,l3.current=null}function j$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=yae(r,t),r!==null){r.flags&=32767,Zi=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pa=6,Zi=null;return}}else if(r=vae(r,t,Mo),r!==null){Zi=r;return}if(t=t.sibling,t!==null){Zi=t;return}Zi=t=e}while(t!==null);pa===0&&(pa=5)}function Qh(e,t,r){var n=mn,i=jl.transition;try{jl.transition=null,mn=1,Tae(e,t,r,n)}finally{jl.transition=i,mn=n}return null}function Tae(e,t,r,n){do km();while(Nd!==null);if(qr&6)throw Error(ot(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ot(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(sie(e,a),e===Ra&&(Zi=Ra=null,Za=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||M2||(M2=!0,B$(yb,function(){return km(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=jl.transition,jl.transition=null;var s=mn;mn=1;var o=qr;qr|=4,l3.current=null,wae(e,r),P$(r,e),qie(DT),wb=!!OT,DT=OT=null,e.current=r,bae(r),Jne(),qr=o,mn=s,jl.transition=a}else e.current=r;if(M2&&(M2=!1,Nd=e,jb=i),a=e.pendingLanes,a===0&&(Md=null),eie(r.stateNode),go(e,Fi()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Lb)throw Lb=!1,e=ZT,ZT=null,e;return jb&1&&e.tag!==0&&km(),a=e.pendingLanes,a&1?e===ek?gv++:(gv=0,ek=e):gv=0,xh(),null}function km(){if(Nd!==null){var e=gV(jb),t=jl.transition,r=mn;try{if(jl.transition=null,mn=16>e?16:e,Nd===null)var n=!1;else{if(e=Nd,Nd=null,jb=0,qr&6)throw Error(ot(331));var i=qr;for(qr|=4,At=e.current;At!==null;){var a=At,s=a.child;if(At.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(At=c;At!==null;){var u=At;switch(u.tag){case 0:case 11:case 15:pv(8,u,a)}var f=u.child;if(f!==null)f.return=u,At=f;else for(;At!==null;){u=At;var d=u.sibling,h=u.return;if(k$(u),u===c){At=null;break}if(d!==null){d.return=h,At=d;break}At=h}}}var g=a.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}At=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,At=s;else e:for(;At!==null;){if(a=At,a.flags&2048)switch(a.tag){case 0:case 11:case 15:pv(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,At=y;break e}At=a.return}}var b=e.current;for(At=b;At!==null;){s=At;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,At=_;else e:for(s=b;At!==null;){if(o=At,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:I5(9,o)}}catch(R){bi(o,o.return,R)}if(o===s){At=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,At=N;break e}At=o.return}}if(qr=i,xh(),nu&&typeof nu.onPostCommitFiberRoot=="function")try{nu.onPostCommitFiberRoot(S5,e)}catch{}n=!0}return n}finally{mn=r,jl.transition=t}}return!1}function HR(e,t,r){t=Jm(r,t),t=g$(e,t,1),e=Fd(e,t,1),t=Ws(),e!==null&&(ix(e,1,t),go(e,t))}function bi(e,t,r){if(e.tag===3)HR(e,e,r);else for(;t!==null;){if(t.tag===3){HR(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Md===null||!Md.has(n))){e=Jm(r,e),e=v$(t,e,1),t=Fd(t,e,1),e=Ws(),t!==null&&(ix(t,1,e),go(t,e));break}}t=t.return}}function kae(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ws(),e.pingedLanes|=e.suspendedLanes&r,Ra===e&&(Za&r)===r&&(pa===4||pa===3&&(Za&130023424)===Za&&500>Fi()-u3?w0(e,0):c3|=r),go(e,t)}function F$(e,t){t===0&&(e.mode&1?(t=N2,N2<<=1,!(N2&130023424)&&(N2=4194304)):t=1);var r=Ws();e=mf(e,t),e!==null&&(ix(e,t,r),go(e,r))}function Nae(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),F$(e,r)}function Cae(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ot(314))}n!==null&&n.delete(t),F$(e,r)}var M$;M$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||po.current)lo=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return lo=!1,gae(e,t,r);lo=!!(e.flags&131072)}else lo=!1,Yn&&t.flags&1048576&&$V(t,kb,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ww(e,t),e=t.pendingProps;var i=Gm(t,Ts.current);Tm(t,r),i=n3(null,t,n,e,i,r);var a=i3();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mo(n)?(a=!0,Ab(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,QC(t),i.updater=P5,t.stateNode=i,i._reactInternals=t,$T(t,n,e,r),t=HT(null,t,n,!0,a,r)):(t.tag=0,Yn&&a&&HC(t),Ms(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ww(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Iae(n),e=uc(n,e),i){case 0:t=WT(null,t,n,e,r);break e;case 1:t=LR(null,t,n,e,r);break e;case 11:t=DR(null,t,n,e,r);break e;case 14:t=RR(null,t,n,uc(n.type,e),r);break e}throw Error(ot(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:uc(n,i),WT(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:uc(n,i),LR(e,t,n,i,r);case 3:e:{if(b$(t),e===null)throw Error(ot(387));n=t.pendingProps,a=t.memoizedState,i=a.element,KV(e,t),Pb(t,n,null,r);var s=t.memoizedState;if(n=s.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Jm(Error(ot(423)),t),t=jR(e,t,n,r,i);break e}else if(n!==i){i=Jm(Error(ot(424)),t),t=jR(e,t,n,r,i);break e}else for(Xo=jd(t.stateNode.containerInfo.firstChild),Qo=t,Yn=!0,dc=null,r=qV(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Km(),n===i){t=gf(e,t,r);break e}Ms(e,t,n,r)}t=t.child}return t;case 5:return XV(t),e===null&&BT(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,RT(n,i)?s=null:a!==null&&RT(n,a)&&(t.flags|=32),w$(e,t),Ms(e,t,s,r),t.child;case 6:return e===null&&BT(t),null;case 13:return _$(e,t,r);case 4:return ZC(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Xm(t,null,n,r):Ms(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:uc(n,i),DR(e,t,n,i,r);case 7:return Ms(e,t,t.pendingProps,r),t.child;case 8:return Ms(e,t,t.pendingProps.children,r),t.child;case 12:return Ms(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ln(Nb,n._currentValue),n._currentValue=s,a!==null)if(Ac(a.value,s)){if(a.children===i.children&&!po.current){t=gf(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(a.tag===1){l=rf(-1,r&-r),l.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),UT(a.return,r,t),o.lanes|=r;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(ot(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),UT(s,r,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ms(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Tm(t,r),i=Bl(i),n=n(i),t.flags|=1,Ms(e,t,n,r),t.child;case 14:return n=t.type,i=uc(n,t.pendingProps),i=uc(n.type,i),RR(e,t,n,i,r);case 15:return y$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:uc(n,i),Ww(e,t),t.tag=1,mo(n)?(e=!0,Ab(t)):e=!1,Tm(t,r),m$(t,n,i),$T(t,n,i,r),HT(null,t,n,!0,e,r);case 19:return S$(e,t,r);case 22:return x$(e,t,r)}throw Error(ot(156,t.tag))};function B$(e,t){return dV(e,t)}function Pae(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,r,n){return new Pae(e,t,r,n)}function p3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Iae(e){if(typeof e=="function")return p3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===DC)return 11;if(e===RC)return 14}return 2}function Ud(e,t){var r=e.alternate;return r===null?(r=Rl(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gw(e,t,r,n,i,a){var s=2;if(n=e,typeof e=="function")p3(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case em:return b0(r.children,i,a,t);case OC:s=8,i|=8;break;case dT:return e=Rl(12,r,t,i|2),e.elementType=dT,e.lanes=a,e;case hT:return e=Rl(13,r,t,i),e.elementType=hT,e.lanes=a,e;case pT:return e=Rl(19,r,t,i),e.elementType=pT,e.lanes=a,e;case XU:return D5(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case GU:s=10;break e;case KU:s=9;break e;case DC:s=11;break e;case RC:s=14;break e;case gd:s=16,n=null;break e}throw Error(ot(130,e==null?e:typeof e,""))}return t=Rl(s,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function b0(e,t,r,n){return e=Rl(7,e,n,t),e.lanes=r,e}function D5(e,t,r,n){return e=Rl(22,e,n,t),e.elementType=XU,e.lanes=r,e.stateNode={isHidden:!1},e}function gA(e,t,r){return e=Rl(6,e,null,t),e.lanes=r,e}function vA(e,t,r){return t=Rl(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Oae(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=JE(0),this.expirationTimes=JE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=JE(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function m3(e,t,r,n,i,a,s,o,l){return e=new Oae(e,t,r,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},QC(a),e}function Dae(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zp,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function U$(e){if(!e)return Jd;e=e._reactInternals;e:{if(fp(e)!==e||e.tag!==1)throw Error(ot(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ot(171))}if(e.tag===1){var r=e.type;if(mo(r))return UV(e,r,t)}return t}function V$(e,t,r,n,i,a,s,o,l){return e=m3(r,n,!0,e,i,a,s,o,l),e.context=U$(null),r=e.current,n=Ws(),i=Bd(r),a=rf(n,i),a.callback=t??null,Fd(r,a,i),e.current.lanes=i,ix(e,i,n),go(e,n),e}function R5(e,t,r,n){var i=t.current,a=Ws(),s=Bd(i);return r=U$(r),t.context===null?t.context=r:t.pendingContext=r,t=rf(a,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fd(i,t,s),e!==null&&(wc(e,i,s,a),Vw(e,i,s)),s}function Mb(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qR(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function g3(e,t){qR(e,t),(e=e.alternate)&&qR(e,t)}function Rae(){return null}var $$=typeof reportError=="function"?reportError:function(e){console.error(e)};function v3(e){this._internalRoot=e}L5.prototype.render=v3.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ot(409));R5(e,t,null,null)};L5.prototype.unmount=v3.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;B0(function(){R5(null,e,null,null)}),t[pf]=null}};function L5(e){this._internalRoot=e}L5.prototype.unstable_scheduleHydration=function(e){if(e){var t=xV();e={blockedOn:null,target:e,priority:t};for(var r=0;r<wd.length&&t!==0&&t<wd[r].priority;r++);wd.splice(r,0,e),r===0&&bV(e)}};function y3(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function j5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function GR(){}function Lae(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var c=Mb(s);a.call(c)}}var s=V$(t,n,e,0,null,!1,!1,"",GR);return e._reactRootContainer=s,e[pf]=s.current,Zv(e.nodeType===8?e.parentNode:e),B0(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=Mb(l);o.call(c)}}var l=m3(e,0,!1,null,null,!1,!1,"",GR);return e._reactRootContainer=l,e[pf]=l.current,Zv(e.nodeType===8?e.parentNode:e),B0(function(){R5(t,l,r,n)}),l}function F5(e,t,r,n,i){var a=r._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Mb(s);o.call(l)}}R5(t,s,e,i)}else s=Lae(r,t,e,i,n);return Mb(s)}vV=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=X1(t.pendingLanes);r!==0&&(FC(t,r|1),go(t,Fi()),!(qr&6)&&(Qm=Fi()+500,xh()))}break;case 13:B0(function(){var n=mf(e,1);if(n!==null){var i=Ws();wc(n,e,1,i)}}),g3(e,1)}};MC=function(e){if(e.tag===13){var t=mf(e,134217728);if(t!==null){var r=Ws();wc(t,e,134217728,r)}g3(e,134217728)}};yV=function(e){if(e.tag===13){var t=Bd(e),r=mf(e,t);if(r!==null){var n=Ws();wc(r,e,t,n)}g3(e,t)}};xV=function(){return mn};wV=function(e,t){var r=mn;try{return mn=e,t()}finally{mn=r}};ET=function(e,t,r){switch(t){case"input":if(vT(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=k5(n);if(!i)throw Error(ot(90));JU(n),vT(n,i)}}}break;case"textarea":ZU(e,r);break;case"select":t=r.value,t!=null&&_m(e,!!r.multiple,t,!1)}};sV=f3;oV=B0;var jae={usingClientEntryPoint:!1,Events:[sx,im,k5,iV,aV,f3]},D1={findFiberByHostInstance:o0,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fae={bundleType:D1.bundleType,version:D1.version,rendererPackageName:D1.rendererPackageName,rendererConfig:D1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pf.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uV(e),e===null?null:e.stateNode},findFiberByHostInstance:D1.findFiberByHostInstance||Rae,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var B2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!B2.isDisabled&&B2.supportsFiber)try{S5=B2.inject(Fae),nu=B2}catch{}}ol.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jae;ol.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y3(t))throw Error(ot(200));return Dae(e,t,null,r)};ol.createRoot=function(e,t){if(!y3(e))throw Error(ot(299));var r=!1,n="",i=$$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=m3(e,1,!1,null,null,r,!1,n,i),e[pf]=t.current,Zv(e.nodeType===8?e.parentNode:e),new v3(t)};ol.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ot(188)):(e=Object.keys(e).join(","),Error(ot(268,e)));return e=uV(t),e=e===null?null:e.stateNode,e};ol.flushSync=function(e){return B0(e)};ol.hydrate=function(e,t,r){if(!j5(t))throw Error(ot(200));return F5(null,e,t,!0,r)};ol.hydrateRoot=function(e,t,r){if(!y3(e))throw Error(ot(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",s=$$;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=V$(t,null,e,1,r??null,i,!1,a,s),e[pf]=t.current,Zv(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new L5(t)};ol.render=function(e,t,r){if(!j5(t))throw Error(ot(200));return F5(null,e,t,!1,r)};ol.unmountComponentAtNode=function(e){if(!j5(e))throw Error(ot(40));return e._reactRootContainer?(B0(function(){F5(null,null,e,!1,function(){e._reactRootContainer=null,e[pf]=null})}),!0):!1};ol.unstable_batchedUpdates=f3;ol.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!j5(r))throw Error(ot(200));if(e==null||e._reactInternals===void 0)throw Error(ot(38));return F5(e,t,r,!1,n)};ol.version="18.3.1-next-f1338f8080-20240426";function z$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z$)}catch(e){console.error(e)}}z$(),zU.exports=ol;var x3=zU.exports,KR=x3;uT.createRoot=KR.createRoot,uT.hydrateRoot=KR.hydrateRoot;/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Bae=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),XR=e=>{const t=Bae(e);return t.charAt(0).toUpperCase()+t.slice(1)},W$=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Uae=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vae={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=L.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},l)=>L.createElement("svg",{ref:l,...Vae,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:W$("lucide",i),...!a&&!Uae(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,u])=>L.createElement(c,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=(e,t)=>{const r=L.forwardRef(({className:n,...i},a)=>L.createElement($ae,{ref:a,iconNode:t,className:W$(`lucide-${Mae(XR(e))}`,`lucide-${e}`,n),...i}));return r.displayName=XR(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],H$=rr("activity",zae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],Hae=rr("bug",Wae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],M5=rr("calendar",qae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Qc=rr("chart-column",Gae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Xae=rr("chart-pie",Kae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],q$=rr("chevron-down",Yae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],G$=rr("chevron-up",Jae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Qd=rr("circle-alert",Qae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zae=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],es=rr("circle-check-big",Zae);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Bb=rr("circle-x",ese);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],zo=rr("clock",tse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],nse=rr("crown",rse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ub=rr("database",ise);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],YR=rr("download",ase);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],K$=rr("eye-off",sse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],X$=rr("eye",ose);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],vv=rr("file-spreadsheet",lse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],use=rr("file-text",cse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],dse=rr("file",fse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],B5=rr("funnel",hse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],mse=rr("house",pse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],JR=rr("info",gse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yse=rr("loader-circle",vse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],QR=rr("lock",xse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bse=rr("log-out",wse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Y$=rr("mail",_se);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],J$=rr("map-pin",Sse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Q$=rr("message-square",Ese);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],nk=rr("phone-call",Ase);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ua=rr("phone",Tse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],w3=rr("plus",kse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Cse=rr("refresh-cw",Nse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],b3=rr("save",Pse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],co=rr("search",Ise);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ly=rr("settings",Ose);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],ik=rr("shield",Dse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Z$=rr("square-pen",Rse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],jse=rr("test-tube",Lse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Mse=rr("timer",Fse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],cy=rr("trash-2",Bse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Vse=rr("trending-down",Use);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uy=rr("trending-up",$se);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hs=rr("triangle-alert",zse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Zm=rr("upload",Wse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qse=rr("user-check",Hse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],eg=rr("user-plus",Gse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Xse=rr("user-x",Kse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nl=rr("user",Yse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ji=rr("users",Jse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tg=rr("x",Qse);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Vb={};Vb.version="0.18.5";var ez=1252,Zse=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],_3={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},S3=function(e){Zse.indexOf(e)!=-1&&(ez=_3[0]=e)};function eoe(){S3(1252)}var mc=function(e){S3(e)};function E3(){mc(1200),eoe()}function ZR(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function toe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function tz(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var J1=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?toe(e.slice(2)):t==254&&r==255?tz(e.slice(2)):t==65279?e.slice(1):e},U2=function(t){return String.fromCharCode(t)},e8=function(t){return String.fromCharCode(t)},fy,Cd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function dy(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),a=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,i=e.charCodeAt(c++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),t+=Cd.charAt(a)+Cd.charAt(s)+Cd.charAt(o)+Cd.charAt(l);return t}function il(e){var t="",r=0,n=0,i=0,a=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)a=Cd.indexOf(e.charAt(c++)),s=Cd.indexOf(e.charAt(c++)),r=a<<2|s>>4,t+=String.fromCharCode(r),o=Cd.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=Cd.indexOf(e.charAt(c++)),i=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(i));return t}var Sr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),If=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Zd(e){return Sr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function t8(e){return Sr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Wo=function(t){return Sr?If(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function U5(e){if(typeof ArrayBuffer>"u")return Wo(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function wh(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function roe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function A3(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return A3(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ca=Sr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:If(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),i=0;for(t=0,r=0;t<e.length;r+=i,++t)if(i=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(a){return Array.isArray(a)?a:[].slice.call(a)}))};function noe(e){for(var t=[],r=0,n=e.length+250,i=Zd(e.length+255),a=0;a<e.length;++a){var s=e.charCodeAt(a);if(s<128)i[r++]=s;else if(s<2048)i[r++]=192|s>>6&31,i[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++a)&1023;i[r++]=240|s>>8&7,i[r++]=128|s>>2&63,i[r++]=128|o>>6&15|(s&3)<<4,i[r++]=128|o&63}else i[r++]=224|s>>12&15,i[r++]=128|s>>6&63,i[r++]=128|s&63;r>n&&(t.push(i.slice(0,r)),r=0,i=Zd(65535),n=65530)}return t.push(i.slice(0,r)),Ca(t)}var qs=/\u0000/g,Q1=/[\u0001-\u0006]/g;function Nm(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function gc(e,t){var r=""+e;return r.length>=t?r:_i("0",t-r.length)+r}function T3(e,t){var r=""+e;return r.length>=t?r:_i(" ",t-r.length)+r}function $b(e,t){var r=""+e;return r.length>=t?r:r+_i(" ",t-r.length)}function ioe(e,t){var r=""+Math.round(e);return r.length>=t?r:_i("0",t-r.length)+r}function aoe(e,t){var r=""+e;return r.length>=t?r:_i("0",t-r.length)+r}var r8=Math.pow(2,32);function Fp(e,t){if(e>r8||e<-r8)return ioe(e,t);var r=Math.round(e);return aoe(r,t)}function zb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var n8=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],yA=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function soe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var tr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},i8={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ooe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Wb(e,t,r){for(var n=e<0?-1:1,i=e*n,a=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(i);c<t&&(f=Math.floor(i),o=f*s+a,u=f*c+l,!(i-f<5e-8));)i=1/(i-f),a=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=a):(u=c,o=s)),!r)return[0,n*o,u];var d=Math.floor(n*o/u);return[d,n*o-d*u,u]}function u0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,i=Math.floor(86400*(e-n)),a=0,s=[],o={D:n,T:i,u:86400*(e-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],a=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],a=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),n<60&&(a=(a+6)%7),r&&(a=hoe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=a,o}var rz=new Date(1899,11,31,0,0,0),loe=rz.getTime(),coe=new Date(1900,2,1,0,0,0);function nz(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=coe&&(r+=24*60*60*1e3),(r-(loe+(e.getTimezoneOffset()-rz.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function k3(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function uoe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function foe(e){var t=e<0?12:11,r=k3(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function doe(e){var t=k3(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function hy(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=foe(e):t===10?r=e.toFixed(10).substr(0,12):r=doe(e),k3(uoe(r.toUpperCase()))}function U0(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):hy(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Vl(14,nz(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function hoe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function poe(e,t,r,n){var i="",a=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return yA[r.m-1][1];case 5:return yA[r.m-1][0];default:return yA[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return n8[r.q][0];default:return n8[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?gc(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,a=Math.round(s*(r.S+r.u)),a>=60*s&&(a=0),t==="s"?a===0?"0":""+a/s:(i=gc(a,2+n),t==="ss"?i.substr(0,2):"."+i.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?gc(l,c):"";return u}function Pd(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var iz=/%/g;function moe(e,t,r){var n=t.replace(iz,""),i=t.length-n.length;return nf(e,n,r*Math.pow(10,2*i))+_i("%",i)}function goe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return nf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function az(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+az(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var sz=/# (\?+)( ?)\/( ?)(\d+)/;function voe(e,t,r){var n=parseInt(e[4],10),i=Math.round(t*n),a=Math.floor(i/n),s=i-a*n,o=n;return r+(a===0?"":""+a)+" "+(s===0?_i(" ",e[1].length+1+e[4].length):T3(s,e[1].length)+e[2]+"/"+e[3]+gc(o,e[4].length))}function yoe(e,t,r){return r+(t===0?"":""+t)+_i(" ",e[1].length+2+e[4].length)}var oz=/^#*0*\.([0#]+)/,lz=/\).*[0#]/,cz=/\(###\) ###\\?-####/;function Bs(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function a8(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function s8(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function xoe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function woe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function _l(e,t,r){if(e.charCodeAt(0)===40&&!t.match(lz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?_l("n",n,r):"("+_l("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return goe(e,t,r);if(t.indexOf("%")!==-1)return moe(e,t,r);if(t.indexOf("E")!==-1)return az(t,r);if(t.charCodeAt(0)===36)return"$"+_l(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Fp(l,t.length);if(t.match(/^[#?]+$/))return i=Fp(r,0),i==="0"&&(i=""),i.length>t.length?i:Bs(t.substr(0,t.length-i.length))+i;if(a=t.match(sz))return voe(a,l,c);if(t.match(/^#+0+$/))return c+Fp(l,t.length-t.indexOf("0"));if(a=t.match(oz))return i=a8(r,a[1].length).replace(/^([^\.]+)$/,"$1."+Bs(a[1])).replace(/\.$/,"."+Bs(a[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+_i("0",Bs(a[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+a8(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+Pd(Fp(l,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+_l(e,t,-r):Pd(""+(Math.floor(r)+xoe(r,a[1].length)))+"."+gc(s8(r,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return _l(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Nm(_l(e,t.replace(/[\\-]/g,""),r)),s=0,Nm(Nm(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<i.length?i.charAt(s++):g==="0"?"0":""}));if(t.match(cz))return i=_l(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=Wb(l,Math.pow(10,s)-1,!1),i=""+c,u=nf("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=$b(o[2],s),u.length<a[4].length&&(u=Bs(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=Wb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?T3(o[1],s)+a[2]+"/"+a[3]+$b(o[2],s):_i(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=Fp(r,0),t.length<=i.length?i:Bs(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=t.indexOf(".")-s,d=t.length-i.length-f;return Bs(t.substr(0,f)+i+t.substr(t.length-d))}if(a=t.match(/^00,000\.([#0]*0)$/))return s=s8(r,a[1].length),r<0?"-"+_l(e,t,-r):Pd(woe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?gc(0,3-g.length):"")+g})+"."+gc(s,a[1].length);switch(t){case"###,##0.00":return _l(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=Pd(Fp(l,0));return h!=="0"?c+h:"";case"###,###.00":return _l(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return _l(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function boe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return nf(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function _oe(e,t,r){var n=t.replace(iz,""),i=t.length-n.length;return nf(e,n,r*Math.pow(10,2*i))+_i("%",i)}function uz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+uz(e,-t);var i=e.indexOf(".");i===-1&&(i=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%i;if(a<0&&(a+=i),r=(t/Math.pow(10,a)).toPrecision(n+1+(i+a)%i),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+a):r+="E+"+(s-a),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(i+a)%i)+"."+u.substr(a)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function qc(e,t,r){if(e.charCodeAt(0)===40&&!t.match(lz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?qc("n",n,r):"("+qc("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return boe(e,t,r);if(t.indexOf("%")!==-1)return _oe(e,t,r);if(t.indexOf("E")!==-1)return uz(t,r);if(t.charCodeAt(0)===36)return"$"+qc(e,t.substr(t.charAt(1)==" "?2:1),r);var i,a,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+gc(l,t.length);if(t.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>t.length?i:Bs(t.substr(0,t.length-i.length))+i;if(a=t.match(sz))return yoe(a,l,c);if(t.match(/^#+0+$/))return c+gc(l,t.length-t.indexOf("0"));if(a=t.match(oz))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Bs(a[1])).replace(/\.$/,"."+Bs(a[1])),i=i.replace(/\.(\d*)$/,function(g,m){return"."+m+_i("0",Bs(a[1]).length-m.length)}),t.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+Pd(""+l);if(a=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+qc(e,t,-r):Pd(""+r)+"."+_i("0",a[1].length);if(a=t.match(/^#,#*,#0/))return qc(e,t.replace(/^#,#*,/,""),r);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Nm(qc(e,t.replace(/[\\-]/g,""),r)),s=0,Nm(Nm(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<i.length?i.charAt(s++):g==="0"?"0":""}));if(t.match(cz))return i=qc(e,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var u="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(a[4].length,7),o=Wb(l,Math.pow(10,s)-1,!1),i=""+c,u=nf("n",a[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),i+=u+a[2]+"/"+a[3],u=$b(o[2],s),u.length<a[4].length&&(u=Bs(a[4].substr(a[4].length-u.length))+u),i+=u,i;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(a[1].length,a[4].length),7),o=Wb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?T3(o[1],s)+a[2]+"/"+a[3]+$b(o[2],s):_i(" ",2*s+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return i=""+r,t.length<=i.length?i:Bs(t.substr(0,t.length-i.length))+i;if(a=t.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),s=i.indexOf(".");var f=t.indexOf(".")-s,d=t.length-i.length-f;return Bs(t.substr(0,f)+i+t.substr(t.length-d))}if(a=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+qc(e,t,-r):Pd(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?gc(0,3-g.length):"")+g})+"."+gc(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=Pd(""+l);return h!=="0"?c+h:"";default:if(t.match(/\.[0#?]*$/))return qc(e,t.slice(0,t.lastIndexOf(".")),r)+Bs(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function nf(e,t,r){return(r|0)===r?qc(e,t,r):_l(e,t,r)}function Soe(e){for(var t=[],r=!1,n=0,i=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(i,n-i),i=n+1}if(t[t.length]=e.substr(i),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var fz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Cg(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":zb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(fz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Eoe(e,t,r,n){for(var i=[],a="",s=0,o="",l="t",c,u,f,d="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!zb(e,s))throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"G",v:"General"},s+=7;break;case'"':for(a="";(f=e.charCodeAt(++s))!==34&&s<e.length;)a+=String.fromCharCode(f);i[i.length]={t:"t",v:a},++s;break;case"\\":var h=e.charAt(++s),g=h==="("||h===")"?h:"t";i[i.length]={t:g,v:h},++s;break;case"_":i[i.length]={t:"t",v:" "},s+=2;break;case"@":i[i.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=u0(t,r,e.charAt(s+1)==="2"),c==null))return"";i[i.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=u0(t,r),c==null))return"";for(a=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)a+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=d),i[i.length]={t:o,v:a},l=o;break;case"A":case"a":case"上":var m={t:o,v:o};if(c==null&&(c=u0(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",d="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,d="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(m.v=c.H>=12?"下午":"上午"),m.t="T",s+=5,d="h"):(m.t="t",++s),c==null&&m.t==="T")return"";i[i.length]=m,l=o;break;case"[":for(a=o;e.charAt(s++)!=="]"&&s<e.length;)a+=e.charAt(s);if(a.slice(-1)!=="]")throw'unterminated "[" block: |'+a+"|";if(a.match(fz)){if(c==null&&(c=u0(t,r),c==null))return"";i[i.length]={t:"Z",v:a.toLowerCase()},l=a.charAt(1)}else a.indexOf("$")>-1&&(a=(a.match(/\$([^-\[\]]*)/)||[])[1]||"$",Cg(e)||(i[i.length]={t:"t",v:a}));break;case".":if(c!=null){for(a=o;++s<e.length&&(o=e.charAt(s))==="0";)a+=o;i[i.length]={t:"s",v:a};break}case"0":case"#":for(a=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)a+=o;i[i.length]={t:"n",v:a};break;case"?":for(a=o;e.charAt(++s)===o;)a+=o;i[i.length]={t:o,v:a},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(a=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)a+=e.charAt(s);i[i.length]={t:"D",v:a};break;case" ":i[i.length]={t:o,v:o},++s;break;case"$":i[i.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);i[i.length]={t:"t",v:o},++s;break}var v=0,y=0,b;for(s=i.length-1,l="t";s>=0;--s)switch(i[s].t){case"h":case"H":i[s].t=d,l="h",v<1&&(v=1);break;case"s":(b=i[s].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=i[s].t;break;case"m":l==="s"&&(i[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&i[s].v.match(/[Hh]/)&&(v=1),v<2&&i[s].v.match(/[Mm]/)&&(v=2),v<3&&i[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var _="",N;for(s=0;s<i.length;++s)switch(i[s].t){case"t":case"T":case" ":case"D":break;case"X":i[s].v="",i[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[s].v=poe(i[s].t.charCodeAt(0),i[s].v,c,y),i[s].t="t";break;case"n":case"?":for(N=s+1;i[N]!=null&&((o=i[N].t)==="?"||o==="D"||(o===" "||o==="t")&&i[N+1]!=null&&(i[N+1].t==="?"||i[N+1].t==="t"&&i[N+1].v==="/")||i[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[N].v==="/"||i[N].v===" "&&i[N+1]!=null&&i[N+1].t=="?"));)i[s].v+=i[N].v,i[N]={v:"",t:";"},++N;_+=i[s].v,s=N-1;break;case"G":i[s].t="t",i[s].v=U0(t,r);break}var R="",O,k;if(_.length>0){_.charCodeAt(0)==40?(O=t<0&&_.charCodeAt(0)===45?-t:t,k=nf("n",_,O)):(O=t<0&&n>1?-t:t,k=nf("n",_,O),O<0&&i[0]&&i[0].t=="t"&&(k=k.substr(1),i[0].v="-"+i[0].v)),N=k.length-1;var S=i.length;for(s=0;s<i.length;++s)if(i[s]!=null&&i[s].t!="t"&&i[s].v.indexOf(".")>-1){S=s;break}var T=i.length;if(S===i.length&&k.indexOf("E")===-1){for(s=i.length-1;s>=0;--s)i[s]==null||"n?".indexOf(i[s].t)===-1||(N>=i[s].v.length-1?(N-=i[s].v.length,i[s].v=k.substr(N+1,i[s].v.length)):N<0?i[s].v="":(i[s].v=k.substr(0,N+1),N=-1),i[s].t="t",T=s);N>=0&&T<i.length&&(i[T].v=k.substr(0,N+1)+i[T].v)}else if(S!==i.length&&k.indexOf("E")===-1){for(N=k.indexOf(".")-1,s=S;s>=0;--s)if(!(i[s]==null||"n?".indexOf(i[s].t)===-1)){for(u=i[s].v.indexOf(".")>-1&&s===S?i[s].v.indexOf(".")-1:i[s].v.length-1,R=i[s].v.substr(u+1);u>=0;--u)N>=0&&(i[s].v.charAt(u)==="0"||i[s].v.charAt(u)==="#")&&(R=k.charAt(N--)+R);i[s].v=R,i[s].t="t",T=s}for(N>=0&&T<i.length&&(i[T].v=k.substr(0,N+1)+i[T].v),N=k.indexOf(".")+1,s=S;s<i.length;++s)if(!(i[s]==null||"n?(".indexOf(i[s].t)===-1&&s!==S)){for(u=i[s].v.indexOf(".")>-1&&s===S?i[s].v.indexOf(".")+1:0,R=i[s].v.substr(0,u);u<i[s].v.length;++u)N<k.length&&(R+=k.charAt(N++));i[s].v=R,i[s].t="t",T=s}}}for(s=0;s<i.length;++s)i[s]!=null&&"n?".indexOf(i[s].t)>-1&&(O=n>1&&t<0&&s>0&&i[s-1].v==="-"?-t:t,i[s].v=nf(i[s].t,i[s].v,O),i[s].t="t");var j="";for(s=0;s!==i.length;++s)i[s]!=null&&(j+=i[s].v);return j}var o8=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function l8(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Aoe(e,t){var r=Soe(e),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var a=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,a];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(o8),o=r[1].match(o8);return l8(t,s)?[n,r[0]]:l8(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,a]}function Vl(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:tr)[e],n==null&&(n=r.table&&r.table[i8[e]]||tr[i8[e]]),n==null&&(n=ooe[e]||"General");break}if(zb(n,0))return U0(t,r);t instanceof Date&&(t=nz(t,r.date1904));var i=Aoe(n,t);if(zb(i[1]))return U0(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Eoe(i[1],t,r,i[0])}function af(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(tr[r]==null){t<0&&(t=r);continue}if(tr[r]==e){t=r;break}}t<0&&(t=391)}return tr[t]=e,t}function V5(e){for(var t=0;t!=392;++t)e[t]!==void 0&&af(e[t],t)}function Pg(){tr=soe()}var Toe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},dz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function koe(e){var t=typeof e=="number"?tr[e]:e;return t=t.replace(dz,"(\\d+)"),new RegExp("^"+t+"$")}function Noe(e,t,r){var n=-1,i=-1,a=-1,s=-1,o=-1,l=-1;(t.match(dz)||[]).forEach(function(f,d){var h=parseInt(r[d+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=h;break;case"d":a=h;break;case"h":s=h;break;case"s":l=h;break;case"m":s>=0?o=h:i=h;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&i==-1&&a==-1?u:c+"T"+u}var Coe=function(){var e={};e.version="1.2.0";function t(){for(var k=0,S=new Array(256),T=0;T!=256;++T)k=T,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,k=k&1?-306674912^k>>>1:k>>>1,S[T]=k;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function n(k){var S=0,T=0,j=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)E[j]=k[j];for(j=0;j!=256;++j)for(T=k[j],S=256+j;S<4096;S+=256)T=E[S]=T>>>8^k[T&255];var C=[];for(j=1;j!=16;++j)C[j-1]=typeof Int32Array<"u"?E.subarray(j*256,j*256+256):E.slice(j*256,j*256+256);return C}var i=n(r),a=i[0],s=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],h=i[8],g=i[9],m=i[10],v=i[11],y=i[12],b=i[13],_=i[14];function N(k,S){for(var T=S^-1,j=0,E=k.length;j<E;)T=T>>>8^r[(T^k.charCodeAt(j++))&255];return~T}function R(k,S){for(var T=S^-1,j=k.length-15,E=0;E<j;)T=_[k[E++]^T&255]^b[k[E++]^T>>8&255]^y[k[E++]^T>>16&255]^v[k[E++]^T>>>24]^m[k[E++]]^g[k[E++]]^h[k[E++]]^d[k[E++]]^f[k[E++]]^u[k[E++]]^c[k[E++]]^l[k[E++]]^o[k[E++]]^s[k[E++]]^a[k[E++]]^r[k[E++]];for(j+=15;E<j;)T=T>>>8^r[(T^k[E++])&255];return~T}function O(k,S){for(var T=S^-1,j=0,E=k.length,C=0,D=0;j<E;)C=k.charCodeAt(j++),C<128?T=T>>>8^r[(T^C)&255]:C<2048?(T=T>>>8^r[(T^(192|C>>6&31))&255],T=T>>>8^r[(T^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,D=k.charCodeAt(j++)&1023,T=T>>>8^r[(T^(240|C>>8&7))&255],T=T>>>8^r[(T^(128|C>>2&63))&255],T=T>>>8^r[(T^(128|D>>6&15|(C&3)<<4))&255],T=T>>>8^r[(T^(128|D&63))&255]):(T=T>>>8^r[(T^(224|C>>12&15))&255],T=T>>>8^r[(T^(128|C>>6&63))&255],T=T>>>8^r[(T^(128|C&63))&255]);return~T}return e.table=r,e.bstr=N,e.buf=R,e.str=O,e}(),Gt=function(){var t={};t.version="1.2.1";function r(Q,me){for(var ce=Q.split("/"),fe=me.split("/"),pe=0,H=0,we=Math.min(ce.length,fe.length);pe<we;++pe){if(H=ce[pe].length-fe[pe].length)return H;if(ce[pe]!=fe[pe])return ce[pe]<fe[pe]?-1:1}return ce.length-fe.length}function n(Q){if(Q.charAt(Q.length-1)=="/")return Q.slice(0,-1).indexOf("/")===-1?Q:n(Q.slice(0,-1));var me=Q.lastIndexOf("/");return me===-1?Q:Q.slice(0,me+1)}function i(Q){if(Q.charAt(Q.length-1)=="/")return i(Q.slice(0,-1));var me=Q.lastIndexOf("/");return me===-1?Q:Q.slice(me+1)}function a(Q,me){typeof me=="string"&&(me=new Date(me));var ce=me.getHours();ce=ce<<6|me.getMinutes(),ce=ce<<5|me.getSeconds()>>>1,Q.write_shift(2,ce);var fe=me.getFullYear()-1980;fe=fe<<4|me.getMonth()+1,fe=fe<<5|me.getDate(),Q.write_shift(2,fe)}function s(Q){var me=Q.read_shift(2)&65535,ce=Q.read_shift(2)&65535,fe=new Date,pe=ce&31;ce>>>=5;var H=ce&15;ce>>>=4,fe.setMilliseconds(0),fe.setFullYear(ce+1980),fe.setMonth(H-1),fe.setDate(pe);var we=me&31;me>>>=5;var ke=me&63;return me>>>=6,fe.setHours(me),fe.setMinutes(ke),fe.setSeconds(we<<1),fe}function o(Q){Ja(Q,0);for(var me={},ce=0;Q.l<=Q.length-4;){var fe=Q.read_shift(2),pe=Q.read_shift(2),H=Q.l+pe,we={};switch(fe){case 21589:ce=Q.read_shift(1),ce&1&&(we.mtime=Q.read_shift(4)),pe>5&&(ce&2&&(we.atime=Q.read_shift(4)),ce&4&&(we.ctime=Q.read_shift(4))),we.mtime&&(we.mt=new Date(we.mtime*1e3));break}Q.l=H,me[fe]=we}return me}var l;function c(){return l||(l={})}function u(Q,me){if(Q[0]==80&&Q[1]==75)return nn(Q,me);if((Q[0]|32)==109&&(Q[1]|32)==105)return $t(Q,me);if(Q.length<512)throw new Error("CFB file size "+Q.length+" < 512");var ce=3,fe=512,pe=0,H=0,we=0,ke=0,Ee=0,be=[],Ae=Q.slice(0,512);Ja(Ae,0);var Le=f(Ae);switch(ce=Le[0],ce){case 3:fe=512;break;case 4:fe=4096;break;case 0:if(Le[1]==0)return nn(Q,me);default:throw new Error("Major Version: Expected 3 or 4 saw "+ce)}fe!==512&&(Ae=Q.slice(0,fe),Ja(Ae,28));var Ke=Q.slice(0,fe);d(Ae,ce);var Ue=Ae.read_shift(4,"i");if(ce===3&&Ue!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ue);Ae.l+=4,we=Ae.read_shift(4,"i"),Ae.l+=4,Ae.chk("00100000","Mini Stream Cutoff Size: "),ke=Ae.read_shift(4,"i"),pe=Ae.read_shift(4,"i"),Ee=Ae.read_shift(4,"i"),H=Ae.read_shift(4,"i");for(var Xe=-1,We=0;We<109&&(Xe=Ae.read_shift(4,"i"),!(Xe<0));++We)be[We]=Xe;var pt=h(Q,fe);v(Ee,H,pt,fe,be);var Mt=b(pt,we,be,fe);Mt[we].name="!Directory",pe>0&&ke!==D&&(Mt[ke].name="!MiniFAT"),Mt[be[0]].name="!FAT",Mt.fat_addrs=be,Mt.ssz=fe;var zt={},Tr=[],pi=[],Ba=[];_(we,Mt,pt,Tr,pe,zt,pi,ke),g(pi,Ba,Tr),Tr.shift();var So={FileIndex:pi,FullPaths:Ba};return me&&me.raw&&(So.raw={header:Ke,sectors:pt}),So}function f(Q){if(Q[Q.l]==80&&Q[Q.l+1]==75)return[0,0];Q.chk(q,"Header Signature: "),Q.l+=16;var me=Q.read_shift(2,"u");return[Q.read_shift(2,"u"),me]}function d(Q,me){var ce=9;switch(Q.l+=2,ce=Q.read_shift(2)){case 9:if(me!=3)throw new Error("Sector Shift: Expected 9 saw "+ce);break;case 12:if(me!=4)throw new Error("Sector Shift: Expected 12 saw "+ce);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ce)}Q.chk("0600","Mini Sector Shift: "),Q.chk("000000000000","Reserved: ")}function h(Q,me){for(var ce=Math.ceil(Q.length/me)-1,fe=[],pe=1;pe<ce;++pe)fe[pe-1]=Q.slice(pe*me,(pe+1)*me);return fe[ce-1]=Q.slice(ce*me),fe}function g(Q,me,ce){for(var fe=0,pe=0,H=0,we=0,ke=0,Ee=ce.length,be=[],Ae=[];fe<Ee;++fe)be[fe]=Ae[fe]=fe,me[fe]=ce[fe];for(;ke<Ae.length;++ke)fe=Ae[ke],pe=Q[fe].L,H=Q[fe].R,we=Q[fe].C,be[fe]===fe&&(pe!==-1&&be[pe]!==pe&&(be[fe]=be[pe]),H!==-1&&be[H]!==H&&(be[fe]=be[H])),we!==-1&&(be[we]=fe),pe!==-1&&fe!=be[fe]&&(be[pe]=be[fe],Ae.lastIndexOf(pe)<ke&&Ae.push(pe)),H!==-1&&fe!=be[fe]&&(be[H]=be[fe],Ae.lastIndexOf(H)<ke&&Ae.push(H));for(fe=1;fe<Ee;++fe)be[fe]===fe&&(H!==-1&&be[H]!==H?be[fe]=be[H]:pe!==-1&&be[pe]!==pe&&(be[fe]=be[pe]));for(fe=1;fe<Ee;++fe)if(Q[fe].type!==0){if(ke=fe,ke!=be[ke])do ke=be[ke],me[fe]=me[ke]+"/"+me[fe];while(ke!==0&&be[ke]!==-1&&ke!=be[ke]);be[fe]=-1}for(me[0]+="/",fe=1;fe<Ee;++fe)Q[fe].type!==2&&(me[fe]+="/")}function m(Q,me,ce){for(var fe=Q.start,pe=Q.size,H=[],we=fe;ce&&pe>0&&we>=0;)H.push(me.slice(we*C,we*C+C)),pe-=C,we=a0(ce,we*4);return H.length===0?$e(0):Ca(H).slice(0,Q.size)}function v(Q,me,ce,fe,pe){var H=D;if(Q===D){if(me!==0)throw new Error("DIFAT chain shorter than expected")}else if(Q!==-1){var we=ce[Q],ke=(fe>>>2)-1;if(!we)return;for(var Ee=0;Ee<ke&&(H=a0(we,Ee*4))!==D;++Ee)pe.push(H);v(a0(we,fe-4),me-1,ce,fe,pe)}}function y(Q,me,ce,fe,pe){var H=[],we=[];pe||(pe=[]);var ke=fe-1,Ee=0,be=0;for(Ee=me;Ee>=0;){pe[Ee]=!0,H[H.length]=Ee,we.push(Q[Ee]);var Ae=ce[Math.floor(Ee*4/fe)];if(be=Ee*4&ke,fe<4+be)throw new Error("FAT boundary crossed: "+Ee+" 4 "+fe);if(!Q[Ae])break;Ee=a0(Q[Ae],be)}return{nodes:H,data:w8([we])}}function b(Q,me,ce,fe){var pe=Q.length,H=[],we=[],ke=[],Ee=[],be=fe-1,Ae=0,Le=0,Ke=0,Ue=0;for(Ae=0;Ae<pe;++Ae)if(ke=[],Ke=Ae+me,Ke>=pe&&(Ke-=pe),!we[Ke]){Ee=[];var Xe=[];for(Le=Ke;Le>=0;){Xe[Le]=!0,we[Le]=!0,ke[ke.length]=Le,Ee.push(Q[Le]);var We=ce[Math.floor(Le*4/fe)];if(Ue=Le*4&be,fe<4+Ue)throw new Error("FAT boundary crossed: "+Le+" 4 "+fe);if(!Q[We]||(Le=a0(Q[We],Ue),Xe[Le]))break}H[Ke]={nodes:ke,data:w8([Ee])}}return H}function _(Q,me,ce,fe,pe,H,we,ke){for(var Ee=0,be=fe.length?2:0,Ae=me[Q].data,Le=0,Ke=0,Ue;Le<Ae.length;Le+=128){var Xe=Ae.slice(Le,Le+128);Ja(Xe,64),Ke=Xe.read_shift(2),Ue=R3(Xe,0,Ke-be),fe.push(Ue);var We={name:Ue,type:Xe.read_shift(1),color:Xe.read_shift(1),L:Xe.read_shift(4,"i"),R:Xe.read_shift(4,"i"),C:Xe.read_shift(4,"i"),clsid:Xe.read_shift(16),state:Xe.read_shift(4,"i"),start:0,size:0},pt=Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2);pt!==0&&(We.ct=N(Xe,Xe.l-8));var Mt=Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2)+Xe.read_shift(2);Mt!==0&&(We.mt=N(Xe,Xe.l-8)),We.start=Xe.read_shift(4,"i"),We.size=Xe.read_shift(4,"i"),We.size<0&&We.start<0&&(We.size=We.type=0,We.start=D,We.name=""),We.type===5?(Ee=We.start,pe>0&&Ee!==D&&(me[Ee].name="!StreamData")):We.size>=4096?(We.storage="fat",me[We.start]===void 0&&(me[We.start]=y(ce,We.start,me.fat_addrs,me.ssz)),me[We.start].name=We.name,We.content=me[We.start].data.slice(0,We.size)):(We.storage="minifat",We.size<0?We.size=0:Ee!==D&&We.start!==D&&me[Ee]&&(We.content=m(We,me[Ee].data,(me[ke]||{}).data))),We.content&&Ja(We.content,0),H[Ue]=We,we.push(We)}}function N(Q,me){return new Date((Vo(Q,me+4)/1e7*Math.pow(2,32)+Vo(Q,me)/1e7-11644473600)*1e3)}function R(Q,me){return c(),u(l.readFileSync(Q),me)}function O(Q,me){var ce=me&&me.type;switch(ce||Sr&&Buffer.isBuffer(Q)&&(ce="buffer"),ce||"base64"){case"file":return R(Q,me);case"base64":return u(Wo(il(Q)),me);case"binary":return u(Wo(Q),me)}return u(Q,me)}function k(Q,me){var ce=me||{},fe=ce.root||"Root Entry";if(Q.FullPaths||(Q.FullPaths=[]),Q.FileIndex||(Q.FileIndex=[]),Q.FullPaths.length!==Q.FileIndex.length)throw new Error("inconsistent CFB structure");Q.FullPaths.length===0&&(Q.FullPaths[0]=fe+"/",Q.FileIndex[0]={name:fe,type:5}),ce.CLSID&&(Q.FileIndex[0].clsid=ce.CLSID),S(Q)}function S(Q){var me="Sh33tJ5";if(!Gt.find(Q,"/"+me)){var ce=$e(4);ce[0]=55,ce[1]=ce[3]=50,ce[2]=54,Q.FileIndex.push({name:me,type:2,content:ce,size:4,L:69,R:69,C:69}),Q.FullPaths.push(Q.FullPaths[0]+me),T(Q)}}function T(Q,me){k(Q);for(var ce=!1,fe=!1,pe=Q.FullPaths.length-1;pe>=0;--pe){var H=Q.FileIndex[pe];switch(H.type){case 0:fe?ce=!0:(Q.FileIndex.pop(),Q.FullPaths.pop());break;case 1:case 2:case 5:fe=!0,isNaN(H.R*H.L*H.C)&&(ce=!0),H.R>-1&&H.L>-1&&H.R==H.L&&(ce=!0);break;default:ce=!0;break}}if(!(!ce&&!me)){var we=new Date(1987,1,19),ke=0,Ee=Object.create?Object.create(null):{},be=[];for(pe=0;pe<Q.FullPaths.length;++pe)Ee[Q.FullPaths[pe]]=!0,Q.FileIndex[pe].type!==0&&be.push([Q.FullPaths[pe],Q.FileIndex[pe]]);for(pe=0;pe<be.length;++pe){var Ae=n(be[pe][0]);fe=Ee[Ae],fe||(be.push([Ae,{name:i(Ae).replace("/",""),type:1,clsid:le,ct:we,mt:we,content:null}]),Ee[Ae]=!0)}for(be.sort(function(Ue,Xe){return r(Ue[0],Xe[0])}),Q.FullPaths=[],Q.FileIndex=[],pe=0;pe<be.length;++pe)Q.FullPaths[pe]=be[pe][0],Q.FileIndex[pe]=be[pe][1];for(pe=0;pe<be.length;++pe){var Le=Q.FileIndex[pe],Ke=Q.FullPaths[pe];if(Le.name=i(Ke).replace("/",""),Le.L=Le.R=Le.C=-(Le.color=1),Le.size=Le.content?Le.content.length:0,Le.start=0,Le.clsid=Le.clsid||le,pe===0)Le.C=be.length>1?1:-1,Le.size=0,Le.type=5;else if(Ke.slice(-1)=="/"){for(ke=pe+1;ke<be.length&&n(Q.FullPaths[ke])!=Ke;++ke);for(Le.C=ke>=be.length?-1:ke,ke=pe+1;ke<be.length&&n(Q.FullPaths[ke])!=n(Ke);++ke);Le.R=ke>=be.length?-1:ke,Le.type=1}else n(Q.FullPaths[pe+1]||"")==n(Ke)&&(Le.R=pe+1),Le.type=2}}}function j(Q,me){var ce=me||{};if(ce.fileType=="mad")return vn(Q,ce);switch(T(Q),ce.fileType){case"zip":return Rr(Q,ce)}var fe=function(Ue){for(var Xe=0,We=0,pt=0;pt<Ue.FileIndex.length;++pt){var Mt=Ue.FileIndex[pt];if(Mt.content){var zt=Mt.content.length;zt>0&&(zt<4096?Xe+=zt+63>>6:We+=zt+511>>9)}}for(var Tr=Ue.FullPaths.length+3>>2,pi=Xe+7>>3,Ba=Xe+127>>7,So=pi+We+Tr+Ba,Is=So+127>>7,Yl=Is<=109?0:Math.ceil((Is-109)/127);So+Is+Yl+127>>7>Is;)Yl=++Is<=109?0:Math.ceil((Is-109)/127);var Hi=[1,Yl,Is,Ba,Tr,We,Xe,0];return Ue.FileIndex[0].size=Xe<<6,Hi[7]=(Ue.FileIndex[0].start=Hi[0]+Hi[1]+Hi[2]+Hi[3]+Hi[4]+Hi[5])+(Hi[6]+7>>3),Hi}(Q),pe=$e(fe[7]<<9),H=0,we=0;{for(H=0;H<8;++H)pe.write_shift(1,ee[H]);for(H=0;H<8;++H)pe.write_shift(2,0);for(pe.write_shift(2,62),pe.write_shift(2,3),pe.write_shift(2,65534),pe.write_shift(2,9),pe.write_shift(2,6),H=0;H<3;++H)pe.write_shift(2,0);for(pe.write_shift(4,0),pe.write_shift(4,fe[2]),pe.write_shift(4,fe[0]+fe[1]+fe[2]+fe[3]-1),pe.write_shift(4,0),pe.write_shift(4,4096),pe.write_shift(4,fe[3]?fe[0]+fe[1]+fe[2]-1:D),pe.write_shift(4,fe[3]),pe.write_shift(-4,fe[1]?fe[0]-1:D),pe.write_shift(4,fe[1]),H=0;H<109;++H)pe.write_shift(-4,H<fe[2]?fe[1]+H:-1)}if(fe[1])for(we=0;we<fe[1];++we){for(;H<236+we*127;++H)pe.write_shift(-4,H<fe[2]?fe[1]+H:-1);pe.write_shift(-4,we===fe[1]-1?D:we+1)}var ke=function(Ue){for(we+=Ue;H<we-1;++H)pe.write_shift(-4,H+1);Ue&&(++H,pe.write_shift(-4,D))};for(we=H=0,we+=fe[1];H<we;++H)pe.write_shift(-4,se.DIFSECT);for(we+=fe[2];H<we;++H)pe.write_shift(-4,se.FATSECT);ke(fe[3]),ke(fe[4]);for(var Ee=0,be=0,Ae=Q.FileIndex[0];Ee<Q.FileIndex.length;++Ee)Ae=Q.FileIndex[Ee],Ae.content&&(be=Ae.content.length,!(be<4096)&&(Ae.start=we,ke(be+511>>9)));for(ke(fe[6]+7>>3);pe.l&511;)pe.write_shift(-4,se.ENDOFCHAIN);for(we=H=0,Ee=0;Ee<Q.FileIndex.length;++Ee)Ae=Q.FileIndex[Ee],Ae.content&&(be=Ae.content.length,!(!be||be>=4096)&&(Ae.start=we,ke(be+63>>6)));for(;pe.l&511;)pe.write_shift(-4,se.ENDOFCHAIN);for(H=0;H<fe[4]<<2;++H){var Le=Q.FullPaths[H];if(!Le||Le.length===0){for(Ee=0;Ee<17;++Ee)pe.write_shift(4,0);for(Ee=0;Ee<3;++Ee)pe.write_shift(4,-1);for(Ee=0;Ee<12;++Ee)pe.write_shift(4,0);continue}Ae=Q.FileIndex[H],H===0&&(Ae.start=Ae.size?Ae.start-1:D);var Ke=H===0&&ce.root||Ae.name;if(be=2*(Ke.length+1),pe.write_shift(64,Ke,"utf16le"),pe.write_shift(2,be),pe.write_shift(1,Ae.type),pe.write_shift(1,Ae.color),pe.write_shift(-4,Ae.L),pe.write_shift(-4,Ae.R),pe.write_shift(-4,Ae.C),Ae.clsid)pe.write_shift(16,Ae.clsid,"hex");else for(Ee=0;Ee<4;++Ee)pe.write_shift(4,0);pe.write_shift(4,Ae.state||0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(4,Ae.start),pe.write_shift(4,Ae.size),pe.write_shift(4,0)}for(H=1;H<Q.FileIndex.length;++H)if(Ae=Q.FileIndex[H],Ae.size>=4096)if(pe.l=Ae.start+1<<9,Sr&&Buffer.isBuffer(Ae.content))Ae.content.copy(pe,pe.l,0,Ae.size),pe.l+=Ae.size+511&-512;else{for(Ee=0;Ee<Ae.size;++Ee)pe.write_shift(1,Ae.content[Ee]);for(;Ee&511;++Ee)pe.write_shift(1,0)}for(H=1;H<Q.FileIndex.length;++H)if(Ae=Q.FileIndex[H],Ae.size>0&&Ae.size<4096)if(Sr&&Buffer.isBuffer(Ae.content))Ae.content.copy(pe,pe.l,0,Ae.size),pe.l+=Ae.size+63&-64;else{for(Ee=0;Ee<Ae.size;++Ee)pe.write_shift(1,Ae.content[Ee]);for(;Ee&63;++Ee)pe.write_shift(1,0)}if(Sr)pe.l=pe.length;else for(;pe.l<pe.length;)pe.write_shift(1,0);return pe}function E(Q,me){var ce=Q.FullPaths.map(function(Ee){return Ee.toUpperCase()}),fe=ce.map(function(Ee){var be=Ee.split("/");return be[be.length-(Ee.slice(-1)=="/"?2:1)]}),pe=!1;me.charCodeAt(0)===47?(pe=!0,me=ce[0].slice(0,-1)+me):pe=me.indexOf("/")!==-1;var H=me.toUpperCase(),we=pe===!0?ce.indexOf(H):fe.indexOf(H);if(we!==-1)return Q.FileIndex[we];var ke=!H.match(Q1);for(H=H.replace(qs,""),ke&&(H=H.replace(Q1,"!")),we=0;we<ce.length;++we)if((ke?ce[we].replace(Q1,"!"):ce[we]).replace(qs,"")==H||(ke?fe[we].replace(Q1,"!"):fe[we]).replace(qs,"")==H)return Q.FileIndex[we];return null}var C=64,D=-2,q="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],le="00000000000000000000000000000000",se={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:q,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:le,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function K(Q,me,ce){c();var fe=j(Q,ce);l.writeFileSync(me,fe)}function X(Q){for(var me=new Array(Q.length),ce=0;ce<Q.length;++ce)me[ce]=String.fromCharCode(Q[ce]);return me.join("")}function _e(Q,me){var ce=j(Q,me);switch(me&&me.type||"buffer"){case"file":return c(),l.writeFileSync(me.filename,ce),ce;case"binary":return typeof ce=="string"?ce:X(ce);case"base64":return dy(typeof ce=="string"?ce:X(ce));case"buffer":if(Sr)return Buffer.isBuffer(ce)?ce:If(ce);case"array":return typeof ce=="string"?Wo(ce):ce}return ce}var Se;function P(Q){try{var me=Q.InflateRaw,ce=new me;if(ce._processChunk(new Uint8Array([3,0]),ce._finishFlushFlag),ce.bytesRead)Se=Q;else throw new Error("zlib does not expose bytesRead")}catch(fe){console.error("cannot use native zlib: "+(fe.message||fe))}}function U(Q,me){if(!Se)return dr(Q,me);var ce=Se.InflateRaw,fe=new ce,pe=fe._processChunk(Q.slice(Q.l),fe._finishFlushFlag);return Q.l+=fe.bytesRead,pe}function V(Q){return Se?Se.deflateRawSync(Q):st(Q)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],te=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(Q){var me=(Q<<1|Q<<11)&139536|(Q<<5|Q<<15)&558144;return(me>>16|me>>8|me)&255}for(var oe=typeof Uint8Array<"u",he=oe?new Uint8Array(256):[],Pe=0;Pe<256;++Pe)he[Pe]=xe(Pe);function G(Q,me){var ce=he[Q&255];return me<=8?ce>>>8-me:(ce=ce<<8|he[Q>>8&255],me<=16?ce>>>16-me:(ce=ce<<8|he[Q>>16&255],ce>>>24-me))}function ze(Q,me){var ce=me&7,fe=me>>>3;return(Q[fe]|(ce<=6?0:Q[fe+1]<<8))>>>ce&3}function Ce(Q,me){var ce=me&7,fe=me>>>3;return(Q[fe]|(ce<=5?0:Q[fe+1]<<8))>>>ce&7}function de(Q,me){var ce=me&7,fe=me>>>3;return(Q[fe]|(ce<=4?0:Q[fe+1]<<8))>>>ce&15}function it(Q,me){var ce=me&7,fe=me>>>3;return(Q[fe]|(ce<=3?0:Q[fe+1]<<8))>>>ce&31}function Ve(Q,me){var ce=me&7,fe=me>>>3;return(Q[fe]|(ce<=1?0:Q[fe+1]<<8))>>>ce&127}function ct(Q,me,ce){var fe=me&7,pe=me>>>3,H=(1<<ce)-1,we=Q[pe]>>>fe;return ce<8-fe||(we|=Q[pe+1]<<8-fe,ce<16-fe)||(we|=Q[pe+2]<<16-fe,ce<24-fe)||(we|=Q[pe+3]<<24-fe),we&H}function Qe(Q,me,ce){var fe=me&7,pe=me>>>3;return fe<=5?Q[pe]|=(ce&7)<<fe:(Q[pe]|=ce<<fe&255,Q[pe+1]=(ce&7)>>8-fe),me+3}function at(Q,me,ce){var fe=me&7,pe=me>>>3;return ce=(ce&1)<<fe,Q[pe]|=ce,me+1}function lt(Q,me,ce){var fe=me&7,pe=me>>>3;return ce<<=fe,Q[pe]|=ce&255,ce>>>=8,Q[pe+1]=ce,me+8}function Jt(Q,me,ce){var fe=me&7,pe=me>>>3;return ce<<=fe,Q[pe]|=ce&255,ce>>>=8,Q[pe+1]=ce&255,Q[pe+2]=ce>>>8,me+16}function bt(Q,me){var ce=Q.length,fe=2*ce>me?2*ce:me+5,pe=0;if(ce>=me)return Q;if(Sr){var H=t8(fe);if(Q.copy)Q.copy(H);else for(;pe<Q.length;++pe)H[pe]=Q[pe];return H}else if(oe){var we=new Uint8Array(fe);if(we.set)we.set(Q);else for(;pe<ce;++pe)we[pe]=Q[pe];return we}return Q.length=fe,Q}function Kt(Q){for(var me=new Array(Q),ce=0;ce<Q;++ce)me[ce]=0;return me}function jt(Q,me,ce){var fe=1,pe=0,H=0,we=0,ke=0,Ee=Q.length,be=oe?new Uint16Array(32):Kt(32);for(H=0;H<32;++H)be[H]=0;for(H=Ee;H<ce;++H)Q[H]=0;Ee=Q.length;var Ae=oe?new Uint16Array(Ee):Kt(Ee);for(H=0;H<Ee;++H)be[pe=Q[H]]++,fe<pe&&(fe=pe),Ae[H]=0;for(be[0]=0,H=1;H<=fe;++H)be[H+16]=ke=ke+be[H-1]<<1;for(H=0;H<Ee;++H)ke=Q[H],ke!=0&&(Ae[H]=be[ke+16]++);var Le=0;for(H=0;H<Ee;++H)if(Le=Q[H],Le!=0)for(ke=G(Ae[H],fe)>>fe-Le,we=(1<<fe+4-Le)-1;we>=0;--we)me[ke|we<<Le]=Le&15|H<<4;return fe}var yt=oe?new Uint16Array(512):Kt(512),Xt=oe?new Uint16Array(32):Kt(32);if(!oe){for(var _t=0;_t<512;++_t)yt[_t]=0;for(_t=0;_t<32;++_t)Xt[_t]=0}(function(){for(var Q=[],me=0;me<32;me++)Q.push(5);jt(Q,Xt,32);var ce=[];for(me=0;me<=143;me++)ce.push(8);for(;me<=255;me++)ce.push(9);for(;me<=279;me++)ce.push(7);for(;me<=287;me++)ce.push(8);jt(ce,yt,288)})();var xt=function(){for(var me=oe?new Uint8Array(32768):[],ce=0,fe=0;ce<te.length-1;++ce)for(;fe<te[ce+1];++fe)me[fe]=ce;for(;fe<32768;++fe)me[fe]=29;var pe=oe?new Uint8Array(259):[];for(ce=0,fe=0;ce<ne.length-1;++ce)for(;fe<ne[ce+1];++fe)pe[fe]=ce;function H(ke,Ee){for(var be=0;be<ke.length;){var Ae=Math.min(65535,ke.length-be),Le=be+Ae==ke.length;for(Ee.write_shift(1,+Le),Ee.write_shift(2,Ae),Ee.write_shift(2,~Ae&65535);Ae-- >0;)Ee[Ee.l++]=ke[be++]}return Ee.l}function we(ke,Ee){for(var be=0,Ae=0,Le=oe?new Uint16Array(32768):[];Ae<ke.length;){var Ke=Math.min(65535,ke.length-Ae);if(Ke<10){for(be=Qe(Ee,be,+(Ae+Ke==ke.length)),be&7&&(be+=8-(be&7)),Ee.l=be/8|0,Ee.write_shift(2,Ke),Ee.write_shift(2,~Ke&65535);Ke-- >0;)Ee[Ee.l++]=ke[Ae++];be=Ee.l*8;continue}be=Qe(Ee,be,+(Ae+Ke==ke.length)+2);for(var Ue=0;Ke-- >0;){var Xe=ke[Ae];Ue=(Ue<<5^Xe)&32767;var We=-1,pt=0;if((We=Le[Ue])&&(We|=Ae&-32768,We>Ae&&(We-=32768),We<Ae))for(;ke[We+pt]==ke[Ae+pt]&&pt<250;)++pt;if(pt>2){Xe=pe[pt],Xe<=22?be=lt(Ee,be,he[Xe+1]>>1)-1:(lt(Ee,be,3),be+=5,lt(Ee,be,he[Xe-23]>>5),be+=3);var Mt=Xe<8?0:Xe-4>>2;Mt>0&&(Jt(Ee,be,pt-ne[Xe]),be+=Mt),Xe=me[Ae-We],be=lt(Ee,be,he[Xe]>>3),be-=3;var zt=Xe<4?0:Xe-2>>1;zt>0&&(Jt(Ee,be,Ae-We-te[Xe]),be+=zt);for(var Tr=0;Tr<pt;++Tr)Le[Ue]=Ae&32767,Ue=(Ue<<5^ke[Ae])&32767,++Ae;Ke-=pt-1}else Xe<=143?Xe=Xe+48:be=at(Ee,be,1),be=lt(Ee,be,he[Xe]),Le[Ue]=Ae&32767,++Ae}be=lt(Ee,be,0)-1}return Ee.l=(be+7)/8|0,Ee.l}return function(Ee,be){return Ee.length<8?H(Ee,be):we(Ee,be)}}();function st(Q){var me=$e(50+Math.floor(Q.length*1.1)),ce=xt(Q,me);return me.slice(0,ce)}var dt=oe?new Uint16Array(32768):Kt(32768),er=oe?new Uint16Array(32768):Kt(32768),Ft=oe?new Uint16Array(128):Kt(128),wt=1,Yt=1;function Ur(Q,me){var ce=it(Q,me)+257;me+=5;var fe=it(Q,me)+1;me+=5;var pe=de(Q,me)+4;me+=4;for(var H=0,we=oe?new Uint8Array(19):Kt(19),ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ee=1,be=oe?new Uint8Array(8):Kt(8),Ae=oe?new Uint8Array(8):Kt(8),Le=we.length,Ke=0;Ke<pe;++Ke)we[z[Ke]]=H=Ce(Q,me),Ee<H&&(Ee=H),be[H]++,me+=3;var Ue=0;for(be[0]=0,Ke=1;Ke<=Ee;++Ke)Ae[Ke]=Ue=Ue+be[Ke-1]<<1;for(Ke=0;Ke<Le;++Ke)(Ue=we[Ke])!=0&&(ke[Ke]=Ae[Ue]++);var Xe=0;for(Ke=0;Ke<Le;++Ke)if(Xe=we[Ke],Xe!=0){Ue=he[ke[Ke]]>>8-Xe;for(var We=(1<<7-Xe)-1;We>=0;--We)Ft[Ue|We<<Xe]=Xe&7|Ke<<3}var pt=[];for(Ee=1;pt.length<ce+fe;)switch(Ue=Ft[Ve(Q,me)],me+=Ue&7,Ue>>>=3){case 16:for(H=3+ze(Q,me),me+=2,Ue=pt[pt.length-1];H-- >0;)pt.push(Ue);break;case 17:for(H=3+Ce(Q,me),me+=3;H-- >0;)pt.push(0);break;case 18:for(H=11+Ve(Q,me),me+=7;H-- >0;)pt.push(0);break;default:pt.push(Ue),Ee<Ue&&(Ee=Ue);break}var Mt=pt.slice(0,ce),zt=pt.slice(ce);for(Ke=ce;Ke<286;++Ke)Mt[Ke]=0;for(Ke=fe;Ke<30;++Ke)zt[Ke]=0;return wt=jt(Mt,dt,286),Yt=jt(zt,er,30),me}function Ht(Q,me){if(Q[0]==3&&!(Q[1]&3))return[Zd(me),2];for(var ce=0,fe=0,pe=t8(me||1<<18),H=0,we=pe.length>>>0,ke=0,Ee=0;!(fe&1);){if(fe=Ce(Q,ce),ce+=3,fe>>>1)fe>>1==1?(ke=9,Ee=5):(ce=Ur(Q,ce),ke=wt,Ee=Yt);else{ce&7&&(ce+=8-(ce&7));var be=Q[ce>>>3]|Q[(ce>>>3)+1]<<8;if(ce+=32,be>0)for(!me&&we<H+be&&(pe=bt(pe,H+be),we=pe.length);be-- >0;)pe[H++]=Q[ce>>>3],ce+=8;continue}for(;;){!me&&we<H+32767&&(pe=bt(pe,H+32767),we=pe.length);var Ae=ct(Q,ce,ke),Le=fe>>>1==1?yt[Ae]:dt[Ae];if(ce+=Le&15,Le>>>=4,!(Le>>>8&255))pe[H++]=Le;else{if(Le==256)break;Le-=257;var Ke=Le<8?0:Le-4>>2;Ke>5&&(Ke=0);var Ue=H+ne[Le];Ke>0&&(Ue+=ct(Q,ce,Ke),ce+=Ke),Ae=ct(Q,ce,Ee),Le=fe>>>1==1?Xt[Ae]:er[Ae],ce+=Le&15,Le>>>=4;var Xe=Le<4?0:Le-2>>1,We=te[Le];for(Xe>0&&(We+=ct(Q,ce,Xe),ce+=Xe),!me&&we<Ue&&(pe=bt(pe,Ue+100),we=pe.length);H<Ue;)pe[H]=pe[H-We],++H}}}return me?[pe,ce+7>>>3]:[pe.slice(0,H),ce+7>>>3]}function dr(Q,me){var ce=Q.slice(Q.l||0),fe=Ht(ce,me);return Q.l+=fe[1],fe[0]}function Qt(Q,me){if(Q)typeof console<"u"&&console.error(me);else throw new Error(me)}function nn(Q,me){var ce=Q;Ja(ce,0);var fe=[],pe=[],H={FileIndex:fe,FullPaths:pe};k(H,{root:me.root});for(var we=ce.length-4;(ce[we]!=80||ce[we+1]!=75||ce[we+2]!=5||ce[we+3]!=6)&&we>=0;)--we;ce.l=we+4,ce.l+=4;var ke=ce.read_shift(2);ce.l+=6;var Ee=ce.read_shift(4);for(ce.l=Ee,we=0;we<ke;++we){ce.l+=20;var be=ce.read_shift(4),Ae=ce.read_shift(4),Le=ce.read_shift(2),Ke=ce.read_shift(2),Ue=ce.read_shift(2);ce.l+=8;var Xe=ce.read_shift(4),We=o(ce.slice(ce.l+Le,ce.l+Le+Ke));ce.l+=Le+Ke+Ue;var pt=ce.l;ce.l=Xe+4,an(ce,be,Ae,H,We),ce.l=pt}return H}function an(Q,me,ce,fe,pe){Q.l+=2;var H=Q.read_shift(2),we=Q.read_shift(2),ke=s(Q);if(H&8257)throw new Error("Unsupported ZIP encryption");for(var Ee=Q.read_shift(4),be=Q.read_shift(4),Ae=Q.read_shift(4),Le=Q.read_shift(2),Ke=Q.read_shift(2),Ue="",Xe=0;Xe<Le;++Xe)Ue+=String.fromCharCode(Q[Q.l++]);if(Ke){var We=o(Q.slice(Q.l,Q.l+Ke));(We[21589]||{}).mt&&(ke=We[21589].mt),((pe||{})[21589]||{}).mt&&(ke=pe[21589].mt)}Q.l+=Ke;var pt=Q.slice(Q.l,Q.l+be);switch(we){case 8:pt=U(Q,Ae);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+we)}var Mt=!1;H&8&&(Ee=Q.read_shift(4),Ee==134695760&&(Ee=Q.read_shift(4),Mt=!0),be=Q.read_shift(4),Ae=Q.read_shift(4)),be!=me&&Qt(Mt,"Bad compressed size: "+me+" != "+be),Ae!=ce&&Qt(Mt,"Bad uncompressed size: "+ce+" != "+Ae),En(fe,Ue,pt,{unsafe:!0,mt:ke})}function Rr(Q,me){var ce=me||{},fe=[],pe=[],H=$e(1),we=ce.compression?8:0,ke=0,Ee=0,be=0,Ae=0,Le=0,Ke=Q.FullPaths[0],Ue=Ke,Xe=Q.FileIndex[0],We=[],pt=0;for(Ee=1;Ee<Q.FullPaths.length;++Ee)if(Ue=Q.FullPaths[Ee].slice(Ke.length),Xe=Q.FileIndex[Ee],!(!Xe.size||!Xe.content||Ue=="Sh33tJ5")){var Mt=Ae,zt=$e(Ue.length);for(be=0;be<Ue.length;++be)zt.write_shift(1,Ue.charCodeAt(be)&127);zt=zt.slice(0,zt.l),We[Le]=Coe.buf(Xe.content,0);var Tr=Xe.content;we==8&&(Tr=V(Tr)),H=$e(30),H.write_shift(4,67324752),H.write_shift(2,20),H.write_shift(2,ke),H.write_shift(2,we),Xe.mt?a(H,Xe.mt):H.write_shift(4,0),H.write_shift(-4,We[Le]),H.write_shift(4,Tr.length),H.write_shift(4,Xe.content.length),H.write_shift(2,zt.length),H.write_shift(2,0),Ae+=H.length,fe.push(H),Ae+=zt.length,fe.push(zt),Ae+=Tr.length,fe.push(Tr),H=$e(46),H.write_shift(4,33639248),H.write_shift(2,0),H.write_shift(2,20),H.write_shift(2,ke),H.write_shift(2,we),H.write_shift(4,0),H.write_shift(-4,We[Le]),H.write_shift(4,Tr.length),H.write_shift(4,Xe.content.length),H.write_shift(2,zt.length),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(4,0),H.write_shift(4,Mt),pt+=H.l,pe.push(H),pt+=zt.length,pe.push(zt),++Le}return H=$e(22),H.write_shift(4,101010256),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(2,Le),H.write_shift(2,Le),H.write_shift(4,pt),H.write_shift(4,Ae),H.write_shift(2,0),Ca([Ca(fe),Ca(pe),H])}var Vt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function gr(Q,me){if(Q.ctype)return Q.ctype;var ce=Q.name||"",fe=ce.match(/\.([^\.]+)$/);return fe&&Vt[fe[1]]||me&&(fe=(ce=me).match(/[\.\\]([^\.\\])+$/),fe&&Vt[fe[1]])?Vt[fe[1]]:"application/octet-stream"}function ba(Q){for(var me=dy(Q),ce=[],fe=0;fe<me.length;fe+=76)ce.push(me.slice(fe,fe+76));return ce.join(`\r
`)+`\r
`}function jn(Q){var me=Q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(be){var Ae=be.charCodeAt(0).toString(16).toUpperCase();return"="+(Ae.length==1?"0"+Ae:Ae)});me=me.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),me.charAt(0)==`
`&&(me="=0D"+me.slice(1)),me=me.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ce=[],fe=me.split(`\r
`),pe=0;pe<fe.length;++pe){var H=fe[pe];if(H.length==0){ce.push("");continue}for(var we=0;we<H.length;){var ke=76,Ee=H.slice(we,we+ke);Ee.charAt(ke-1)=="="?ke--:Ee.charAt(ke-2)=="="?ke-=2:Ee.charAt(ke-3)=="="&&(ke-=3),Ee=H.slice(we,we+ke),we+=ke,we<H.length&&(Ee+="="),ce.push(Ee)}}return ce.join(`\r
`)}function ns(Q){for(var me=[],ce=0;ce<Q.length;++ce){for(var fe=Q[ce];ce<=Q.length&&fe.charAt(fe.length-1)=="=";)fe=fe.slice(0,fe.length-1)+Q[++ce];me.push(fe)}for(var pe=0;pe<me.length;++pe)me[pe]=me[pe].replace(/[=][0-9A-Fa-f]{2}/g,function(H){return String.fromCharCode(parseInt(H.slice(1),16))});return Wo(me.join(`\r
`))}function Wi(Q,me,ce){for(var fe="",pe="",H="",we,ke=0;ke<10;++ke){var Ee=me[ke];if(!Ee||Ee.match(/^\s*$/))break;var be=Ee.match(/^(.*?):\s*([^\s].*)$/);if(be)switch(be[1].toLowerCase()){case"content-location":fe=be[2].trim();break;case"content-type":H=be[2].trim();break;case"content-transfer-encoding":pe=be[2].trim();break}}switch(++ke,pe.toLowerCase()){case"base64":we=Wo(il(me.slice(ke).join("")));break;case"quoted-printable":we=ns(me.slice(ke));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+pe)}var Ae=En(Q,fe.slice(ce.length),we,{unsafe:!0});H&&(Ae.ctype=H)}function $t(Q,me){if(X(Q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ce=me&&me.root||"",fe=(Sr&&Buffer.isBuffer(Q)?Q.toString("binary"):X(Q)).split(`\r
`),pe=0,H="";for(pe=0;pe<fe.length;++pe)if(H=fe[pe],!!/^Content-Location:/i.test(H)&&(H=H.slice(H.indexOf("file")),ce||(ce=H.slice(0,H.lastIndexOf("/")+1)),H.slice(0,ce.length)!=ce))for(;ce.length>0&&(ce=ce.slice(0,ce.length-1),ce=ce.slice(0,ce.lastIndexOf("/")+1),H.slice(0,ce.length)!=ce););var we=(fe[1]||"").match(/boundary="(.*?)"/);if(!we)throw new Error("MAD cannot find boundary");var ke="--"+(we[1]||""),Ee=[],be=[],Ae={FileIndex:Ee,FullPaths:be};k(Ae);var Le,Ke=0;for(pe=0;pe<fe.length;++pe){var Ue=fe[pe];Ue!==ke&&Ue!==ke+"--"||(Ke++&&Wi(Ae,fe.slice(Le,pe),ce),Le=pe)}return Ae}function vn(Q,me){var ce=me||{},fe=ce.boundary||"SheetJS";fe="------="+fe;for(var pe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+fe.slice(2)+'"',"","",""],H=Q.FullPaths[0],we=H,ke=Q.FileIndex[0],Ee=1;Ee<Q.FullPaths.length;++Ee)if(we=Q.FullPaths[Ee].slice(H.length),ke=Q.FileIndex[Ee],!(!ke.size||!ke.content||we=="Sh33tJ5")){we=we.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(pt){return"_x"+pt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(pt){return"_u"+pt.charCodeAt(0).toString(16)+"_"});for(var be=ke.content,Ae=Sr&&Buffer.isBuffer(be)?be.toString("binary"):X(be),Le=0,Ke=Math.min(1024,Ae.length),Ue=0,Xe=0;Xe<=Ke;++Xe)(Ue=Ae.charCodeAt(Xe))>=32&&Ue<128&&++Le;var We=Le>=Ke*4/5;pe.push(fe),pe.push("Content-Location: "+(ce.root||"file:///C:/SheetJS/")+we),pe.push("Content-Transfer-Encoding: "+(We?"quoted-printable":"base64")),pe.push("Content-Type: "+gr(ke,we)),pe.push(""),pe.push(We?jn(Ae):ba(Ae))}return pe.push(fe+`--\r
`),pe.join(`\r
`)}function _a(Q){var me={};return k(me,Q),me}function En(Q,me,ce,fe){var pe=fe&&fe.unsafe;pe||k(Q);var H=!pe&&Gt.find(Q,me);if(!H){var we=Q.FullPaths[0];me.slice(0,we.length)==we?we=me:(we.slice(-1)!="/"&&(we+="/"),we=(we+me).replace("//","/")),H={name:i(me),type:2},Q.FileIndex.push(H),Q.FullPaths.push(we),pe||Gt.utils.cfb_gc(Q)}return H.content=ce,H.size=ce?ce.length:0,fe&&(fe.CLSID&&(H.clsid=fe.CLSID),fe.mt&&(H.mt=fe.mt),fe.ct&&(H.ct=fe.ct)),H}function ti(Q,me){k(Q);var ce=Gt.find(Q,me);if(ce){for(var fe=0;fe<Q.FileIndex.length;++fe)if(Q.FileIndex[fe]==ce)return Q.FileIndex.splice(fe,1),Q.FullPaths.splice(fe,1),!0}return!1}function yn(Q,me,ce){k(Q);var fe=Gt.find(Q,me);if(fe){for(var pe=0;pe<Q.FileIndex.length;++pe)if(Q.FileIndex[pe]==fe)return Q.FileIndex[pe].name=i(ce),Q.FullPaths[pe]=ce,!0}return!1}function Gn(Q){T(Q,!0)}return t.find=E,t.read=O,t.parse=u,t.write=_e,t.writeFile=K,t.utils={cfb_new:_a,cfb_add:En,cfb_del:ti,cfb_mov:yn,cfb_gc:Gn,ReadShift:yv,CheckField:Rz,prep_blob:Ja,bconcat:Ca,use_zlib:P,_deflateRaw:st,_inflateRaw:dr,consts:se},t}();function Poe(e){return typeof e=="string"?U5(e):Array.isArray(e)?roe(e):e}function lx(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=U5(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Zc(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var i=new Blob([Poe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,e);if(typeof saveAs<"u")return saveAs(i,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=a,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=wh(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Ioe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ai(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function c8(e,t){for(var r=[],n=Ai(e),i=0;i!==n.length;++i)r[e[n[i]][t]]==null&&(r[e[n[i]][t]]=n[i]);return r}function $5(e){for(var t=[],r=Ai(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function z5(e){for(var t=[],r=Ai(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Ooe(e){for(var t=[],r=Ai(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Hb=new Date(1899,11,30,0,0,0);function ga(e,t){var r=e.getTime(),n=Hb.getTime()+(e.getTimezoneOffset()-Hb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var hz=new Date,Doe=Hb.getTime()+(hz.getTimezoneOffset()-Hb.getTimezoneOffset())*6e4,u8=hz.getTimezoneOffset();function W5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Doe),t.getTimezoneOffset()!==u8&&t.setTime(t.getTime()+(t.getTimezoneOffset()-u8)*6e4),t}function Roe(e){var t=0,r=0,n=!1,i=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var a=1;a!=i.length;++a)if(i[a]){switch(r=1,a>3&&(n=!0),i[a].slice(i[a].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[a].slice(i[a].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(i[a],10)}return t}var f8=new Date("2017-02-19T19:06:09.000Z"),pz=isNaN(f8.getFullYear())?new Date("2/19/17"):f8,Loe=pz.getFullYear()==2017;function zn(e,t){var r=new Date(e);if(Loe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(pz.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-a.getTimezoneOffset()*60*1e3)),a}function V0(e,t){if(Sr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Zc(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Zc(tz(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Zc(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Zc(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(a){return r[a]||a})}catch{}for(var n=[],i=0;i!=e.length;++i)n.push(String.fromCharCode(e[i]));return n.join("")}function Wn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Wn(e[r]));return t}function _i(e,t){for(var r="";r.length<t;)r+=e;return r}function bc(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,a){return r=-r,a}),!isNaN(t=Number(n)))?t/r:t}var joe=["january","february","march","april","may","june","july","august","september","october","november","december"];function rg(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),i=t.getMonth(),a=t.getDate();if(isNaN(a))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&joe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||a>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Foe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(e||typeof n=="string")return r.split(n);for(var a=r.split(n),s=[a[0]],o=1;o<a.length;++o)s.push(i),s.push(a[o]);return s}}();function mz(e){return e?e.content&&e.type?V0(e.content,!0):e.data?J1(e.data):e.asNodeBuffer&&Sr?J1(e.asNodeBuffer().toString("binary")):e.asBinary?J1(e.asBinary()):e._data&&e._data.getContent?J1(V0(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function gz(e){if(!e)return null;if(e.data)return ZR(e.data);if(e.asNodeBuffer&&Sr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?ZR(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Moe(e){return e&&e.name.slice(-4)===".bin"?gz(e):mz(e)}function kl(e,t){for(var r=e.FullPaths||Ai(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),a=0;a<r.length;++a){var s=r[a].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||i==s)return e.files?e.files[r[a]]:e.FileIndex[a]}return null}function N3(e,t){var r=kl(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Ki(e,t,r){if(!r)return Moe(N3(e,t));if(!t)return null;try{return Ki(e,t)}catch{return null}}function Ho(e,t,r){if(!r)return mz(N3(e,t));if(!t)return null;try{return Ho(e,t)}catch{return null}}function Boe(e,t,r){return gz(N3(e,t))}function d8(e){for(var t=e.FullPaths||Ai(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function wr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Sr?n=If(r):n=noe(r),Gt.utils.cfb_add(e,t,n)}Gt.utils.cfb_add(e,t,r)}else e.file(t,r)}function C3(){return Gt.utils.cfb_new()}function vz(e,t){switch(t.type){case"base64":return Gt.read(e,{type:"base64"});case"binary":return Gt.read(e,{type:"binary"});case"buffer":case"array":return Gt.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Z1(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var $i=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Uoe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,h8=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Voe=/<[^>]*>/g,Cs=$i.match(h8)?h8:Voe,$oe=/<\w*:/,zoe=/<(\/?)\w+:/;function lr(e,t,r){for(var n={},i=0,a=0;i!==e.length&&!((a=e.charCodeAt(i))===32||a===10||a===13);++i);if(t||(n[0]=e.slice(0,i)),i===e.length)return n;var s=e.match(Uoe),o=0,l="",c=0,u="",f="",d=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],a=0;a!=f.length&&f.charCodeAt(a)!==61;++a);for(u=f.slice(0,a).trim();f.charCodeAt(a+1)==32;)++a;for(d=(i=f.charCodeAt(a+1))==34||i==39?1:0,l=f.slice(a+1+d,f.length-d),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var h=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[h]&&u.slice(o-3,o)=="ext")continue;n[h]=l,n[h.toLowerCase()]=l}}return n}function wu(e){return e.replace(zoe,"<$1")}var yz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},P3=$5(yz),Gr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",a=i.indexOf("<![CDATA[");if(a==-1)return i.replace(e,function(o,l){return yz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=i.indexOf("]]>");return r(i.slice(0,a))+i.slice(a+9,s)+r(i.slice(s+3))}}(),I3=/[&<>'"]/g,Woe=/[\u0000-\u0008\u000b-\u001f]/g;function pn(e){var t=e+"";return t.replace(I3,function(r){return P3[r]}).replace(Woe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function p8(e){return pn(e).replace(/ /g,"_x0020_")}var xz=/[\u0000-\u001f]/g;function O3(e){var t=e+"";return t.replace(I3,function(r){return P3[r]}).replace(/\n/g,"<br/>").replace(xz,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Hoe(e){var t=e+"";return t.replace(I3,function(r){return P3[r]}).replace(xz,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var m8=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function qoe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Un(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function xA(e){for(var t="",r=0,n=0,i=0,a=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(i=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=i&63,t+=String.fromCharCode(s);continue}if(a=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(i&63)<<6|a&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(a&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function g8(e){var t=Zd(2*e.length),r,n,i=1,a=0,s=0,o;for(n=0;n<e.length;n+=i)i=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[a++]=s&255,t[a++]=s>>>8,s=0),t[a++]=r%256,t[a++]=r>>>8;return t.slice(0,a).toString("ucs2")}function v8(e){return If(e,"binary").toString("utf8")}var V2="foo bar bazâð£",_n=Sr&&(v8(V2)==xA(V2)&&v8||g8(V2)==xA(V2)&&g8)||xA,Zc=Sr?function(e){return If(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,i=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(i>>18&7))),t.push(String.fromCharCode(144+(i>>12&63))),t.push(String.fromCharCode(128+(i>>6&63))),t.push(String.fromCharCode(128+(i&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},py=function(){var e={};return function(r,n){var i=r+"|"+(n||"");return e[i]?e[i]:e[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),wz=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<e.length;++i)n=n.replace(e[i][0],e[i][1]);return n}}(),Goe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Koe=/<\/?(?:vt:)?variant>/g,Xoe=/<(?:vt:)([^>]*)>([\s\S]*)</;function y8(e,t){var r=lr(e),n=e.match(Goe(r.baseType))||[],i=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(a){var s=a.replace(Koe,"").match(Xoe);s&&i.push({v:_n(s[2]),t:s[1]})}),i}var bz=/(^\s|\s$|\n)/;function Qa(e,t){return"<"+e+(t.match(bz)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function my(e){return Ai(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ft(e,t,r){return"<"+e+(r!=null?my(r):"")+(t!=null?(t.match(bz)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function ak(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Yoe(e,t){switch(typeof e){case"string":var r=ft("vt:lpwstr",pn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return ft((e|0)==e?"vt:i4":"vt:r8",pn(String(e)));case"boolean":return ft("vt:bool",e?"true":"false")}if(e instanceof Date)return ft("vt:filetime",ak(e));throw new Error("Unable to serialize "+e)}function D3(e){if(Sr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return _n(wh(A3(e)));throw new Error("Bad input format: expected Buffer or string")}var gy=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ha={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},dp=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Uo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Joe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),i=e[t+6]&15,a=5;a>=0;--a)i=i*256+e[t+a];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function Qoe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,i=0,a=0,s=n?-t:t;isFinite(s)?s==0?i=a=0:(i=Math.floor(Math.log(s)/Math.LN2),a=s*Math.pow(2,52-i),i<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?i=-1022:(a-=Math.pow(2,52),i+=1023)):(i=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[r+o]=a&255;e[r+6]=(i&15)<<4|a&15,e[r+7]=i>>4|n}var x8=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var i=0,a=e[0][n].length;i<a;i+=r)t.push.apply(t,e[0][n].slice(i,i+r));return t},w8=Sr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:If(t)})):x8(e)}:x8,b8=function(e,t,r){for(var n=[],i=t;i<r;i+=2)n.push(String.fromCharCode(Gu(e,i)));return n.join("").replace(qs,"")},R3=Sr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(qs,""):b8(e,t,r)}:b8,_8=function(e,t,r){for(var n=[],i=t;i<t+r;++i)n.push(("0"+e[i].toString(16)).slice(-2));return n.join("")},_z=Sr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):_8(e,t,r)}:_8,S8=function(e,t,r){for(var n=[],i=t;i<r;i++)n.push(String.fromCharCode(qp(e,i)));return n.join("")},cx=Sr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):S8(t,r,n)}:S8,Sz=function(e,t){var r=Vo(e,t);return r>0?cx(e,t+4,t+4+r-1):""},Ez=Sz,Az=function(e,t){var r=Vo(e,t);return r>0?cx(e,t+4,t+4+r-1):""},Tz=Az,kz=function(e,t){var r=2*Vo(e,t);return r>0?cx(e,t+4,t+4+r-1):""},Nz=kz,Cz=function(t,r){var n=Vo(t,r);return n>0?R3(t,r+4,r+4+n):""},Pz=Cz,Iz=function(e,t){var r=Vo(e,t);return r>0?cx(e,t+4,t+4+r):""},Oz=Iz,Dz=function(e,t){return Joe(e,t)},qb=Dz,L3=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Sr&&(Ez=function(t,r){if(!Buffer.isBuffer(t))return Sz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Tz=function(t,r){if(!Buffer.isBuffer(t))return Az(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Nz=function(t,r){if(!Buffer.isBuffer(t))return kz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Pz=function(t,r){if(!Buffer.isBuffer(t))return Cz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Oz=function(t,r){if(!Buffer.isBuffer(t))return Iz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},qb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Dz(t,r)},L3=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var qp=function(e,t){return e[t]},Gu=function(e,t){return e[t+1]*256+e[t]},Zoe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Vo=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},a0=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ele=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function yv(e,t){var r="",n,i,a=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Sr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Gu(this,c)),c+=2;e*=2;break;case"utf8":r=cx(this,this.l,this.l+e);break;case"utf16le":e*=2,r=R3(this,this.l,this.l+e);break;case"wstr":return yv.call(this,e,"dbcs");case"lpstr-ansi":r=Ez(this,this.l),e=4+Vo(this,this.l);break;case"lpstr-cp":r=Tz(this,this.l),e=4+Vo(this,this.l);break;case"lpwstr":r=Nz(this,this.l),e=4+2*Vo(this,this.l);break;case"lpp4":e=4+Vo(this,this.l),r=Pz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Vo(this,this.l),r=Oz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=qp(this,this.l+e++))!==0;)a.push(U2(s));r=a.join("");break;case"_wstr":for(e=0,r="";(s=Gu(this,this.l+e))!==0;)a.push(U2(s)),e+=2;e+=2,r=a.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=qp(this,c),this.l=c+1,o=yv.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(U2(Gu(this,c))),c+=2}r=a.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=qp(this,c),this.l=c+1,o=yv.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),a.join("")+o;a.push(U2(qp(this,c))),c+=1}r=a.join("");break;default:switch(e){case 1:return n=qp(this,this.l),this.l++,n;case 2:return n=(t==="i"?Zoe:Gu)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?a0:ele)(this,this.l),this.l+=4,n):(i=Vo(this,this.l),this.l+=4,i);case 8:case-8:if(t==="f")return e==8?i=qb(this,this.l):i=qb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;e=8;case 16:r=_z(this,this.l,e);break}}return this.l+=e,r}var tle=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},rle=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},nle=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ile(e,t,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=t.length;++i)nle(this,t.charCodeAt(i),this.l+2*i);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=t.length;++i)this[this.l+i]=t.charCodeAt(i)&255;n=t.length}else if(r==="hex"){for(;i<e;++i)this[this.l++]=parseInt(t.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var a=Math.min(this.l+e,this.length);for(i=0;i<Math.min(t.length,e);++i){var s=t.charCodeAt(i);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<a;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,tle(this,t,this.l);break;case 8:if(n=8,r==="f"){Qoe(this,t,this.l);break}case 16:break;case-4:n=4,rle(this,t,this.l);break}return this.l+=n,this}function Rz(e,t){var r=_z(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ja(e,t){e.l=t,e.read_shift=yv,e.chk=Rz,e.write_shift=ile}function ks(e,t){e.l+=t}function $e(e){var t=Zd(e);return Ja(t,0),t}function Of(e,t,r){if(e){var n,i,a;Ja(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=_y[o]||_y[65535];for(n=e.read_shift(1),a=n&127,i=1;i<4&&n&128;++i)a+=((n=e.read_shift(1))&127)<<7*i;l=e.l+a;var u=c.f&&c.f(e,a,r);if(e.l=l,t(u,c,o))return}}}function vo(){var e=[],t=Sr?256:2048,r=function(c){var u=$e(c);return Ja(u,0),u},n=r(t),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},a=function(c){return n&&c<n.length-n.l?n:(i(),n=r(Math.max(c+1,t)))},s=function(){return i(),Ca(e)},o=function(c){i(),n=c,n.l==null&&(n.l=n.length),a(t)};return{next:a,push:o,end:s,_bufs:e}}function tt(e,t,r,n){var i=+t,a;if(!isNaN(i)){n||(n=_y[i].p||(r||[]).length||0),a=1+(i>=128?1:0)+1,n>=128&&++a,n>=16384&&++a,n>=2097152&&++a;var s=e.next(a);i<=127?s.write_shift(1,i):(s.write_shift(1,(i&127)+128),s.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&L3(r)&&e.push(r)}}function xv(e,t,r){var n=Wn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function E8(e,t,r){var n=Wn(e);return n.s=xv(n.s,t.s,r),n.e=xv(n.e,t.s,r),n}function wv(e,t){if(e.cRel&&e.c<0)for(e=Wn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Wn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=nr(e);return!e.cRel&&e.cRel!=null&&(r=ole(r)),!e.rRel&&e.rRel!=null&&(r=ale(r)),r}function wA(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+li(e.s.c)+":"+(e.e.cRel?"":"$")+li(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Vi(e.s.r)+":"+(e.e.rRel?"":"$")+Vi(e.e.r):wv(e.s,t.biff)+":"+wv(e.e,t.biff)}function j3(e){return parseInt(sle(e),10)-1}function Vi(e){return""+(e+1)}function ale(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function sle(e){return e.replace(/\$(\d+)$/,"$1")}function F3(e){for(var t=lle(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function li(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function ole(e){return e.replace(/^([A-Z])/,"$$$1")}function lle(e){return e.replace(/^\$([A-Z])/,"$1")}function cle(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function ci(e){for(var t=0,r=0,n=0;n<e.length;++n){var i=e.charCodeAt(n);i>=48&&i<=57?t=10*t+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:t-1}}function nr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function wo(e){var t=e.indexOf(":");return t==-1?{s:ci(e),e:ci(e)}:{s:ci(e.slice(0,t)),e:ci(e.slice(t+1))}}function vr(e,t){return typeof t>"u"||typeof t=="number"?vr(e.s,e.e):(typeof e!="string"&&(e=nr(e)),typeof t!="string"&&(t=nr(t)),e==t?e:e+":"+t)}function Kr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,a=e.length;for(r=0;n<a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.s.c=--r,r=0;n<a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(t.s.r=--r,n===a||i!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=a&&!((i=e.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(t.e.c=--r,r=0;n!=a&&!((i=e.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return t.e.r=--r,t}function A8(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Vl(e.z,r?ga(t):t)}catch{}try{return e.w=Vl((e.XF||{}).numFmtId||(r?14:0),r?ga(t):t)}catch{return""+t}}function vf(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Df[e.v]||e.v:t==null?A8(e,e.v):A8(e,t))}function bh(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Lz(e,t,r){var n=r||{},i=e?Array.isArray(e):n.dense,a=e||(i?[]:{}),s=0,o=0;if(a&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?ci(n.origin):n.origin;s=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var u=Kr(a["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var d=0;d!=t[f].length;++d)if(!(typeof t[f][d]>"u")){var h={v:t[f][d]},g=s+f,m=o+d;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[f][d]&&typeof t[f][d]=="object"&&!Array.isArray(t[f][d])&&!(t[f][d]instanceof Date))h=t[f][d];else if(Array.isArray(h.v)&&(h.f=t[f][d][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||tr[14],n.cellDates?(h.t="d",h.w=Vl(h.z,ga(h.v))):(h.t="n",h.v=ga(h.v),h.w=Vl(h.z,h.v))):h.t="s";if(i)a[g]||(a[g]=[]),a[g][m]&&a[g][m].z&&(h.z=a[g][m].z),a[g][m]=h;else{var v=nr({c:m,r:g});a[v]&&a[v].z&&(h.z=a[v].z),a[v]=h}}}return c.s.c<1e7&&(a["!ref"]=vr(c)),a}function Ig(e,t){return Lz(null,e,t)}function ule(e){return e.read_shift(4,"i")}function _c(e,t){return t||(t=$e(4)),t.write_shift(4,e),t}function Es(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Oa(e,t){var r=!1;return t==null&&(r=!0,t=$e(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function fle(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function dle(e,t){return t||(t=$e(4)),t.write_shift(2,0),t.write_shift(2,0),t}function M3(e,t){var r=e.l,n=e.read_shift(1),i=Es(e),a=[],s={t:i,h:i};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)a.push(fle(e));s.r=a}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function hle(e,t){var r=!1;return t==null&&(r=!0,t=$e(15+4*e.t.length)),t.write_shift(1,0),Oa(e.t,t),r?t.slice(0,t.l):t}var ple=M3;function mle(e,t){var r=!1;return t==null&&(r=!0,t=$e(23+4*e.t.length)),t.write_shift(1,1),Oa(e.t,t),t.write_shift(4,1),dle({},t),r?t.slice(0,t.l):t}function ql(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function hp(e,t){return t==null&&(t=$e(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function pp(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function mp(e,t){return t==null&&(t=$e(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var gle=Es,jz=Oa;function B3(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Gb(e,t){var r=!1;return t==null&&(r=!0,t=$e(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var vle=Es,sk=B3,U3=Gb;function V3(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var i=n===0?qb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):a0(t,0)>>2;return r?i/100:i}function Fz(e,t){t==null&&(t=$e(4));var r=0,n=0,i=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?i:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Mz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function yle(e,t){return t||(t=$e(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var gp=Mz,Og=yle;function _s(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function $0(e,t){return(t||$e(8)).write_shift(8,e,"f")}function xle(e){var t={},r=e.read_shift(1),n=r>>>1,i=e.read_shift(1),a=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=i;var c=_0[i];c&&(t.rgb=yy(c));break;case 2:t.rgb=yy([s,o,l]);break;case 3:t.theme=i;break}return a!=0&&(t.tint=a>0?a/32767:a/32768),t}function Kb(e,t){if(t||(t=$e(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function wle(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function ble(e,t){t||(t=$e(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Bz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function _le(e){return Bz(e,1)}function Sle(e){return Bz(e,2)}var $3=2,ro=3,$2=11,T8=12,Xb=19,z2=64,Ele=65,Ale=71,Tle=4108,kle=4126,Ea=80,Uz=81,Nle=[Ea,Uz],ok={1:{n:"CodePage",t:$3},2:{n:"Category",t:Ea},3:{n:"PresentationFormat",t:Ea},4:{n:"ByteCount",t:ro},5:{n:"LineCount",t:ro},6:{n:"ParagraphCount",t:ro},7:{n:"SlideCount",t:ro},8:{n:"NoteCount",t:ro},9:{n:"HiddenCount",t:ro},10:{n:"MultimediaClipCount",t:ro},11:{n:"ScaleCrop",t:$2},12:{n:"HeadingPairs",t:Tle},13:{n:"TitlesOfParts",t:kle},14:{n:"Manager",t:Ea},15:{n:"Company",t:Ea},16:{n:"LinksUpToDate",t:$2},17:{n:"CharacterCount",t:ro},19:{n:"SharedDoc",t:$2},22:{n:"HyperlinksChanged",t:$2},23:{n:"AppVersion",t:ro,p:"version"},24:{n:"DigSig",t:Ele},26:{n:"ContentType",t:Ea},27:{n:"ContentStatus",t:Ea},28:{n:"Language",t:Ea},29:{n:"Version",t:Ea},255:{},2147483648:{n:"Locale",t:Xb},2147483651:{n:"Behavior",t:Xb},1919054434:{}},lk={1:{n:"CodePage",t:$3},2:{n:"Title",t:Ea},3:{n:"Subject",t:Ea},4:{n:"Author",t:Ea},5:{n:"Keywords",t:Ea},6:{n:"Comments",t:Ea},7:{n:"Template",t:Ea},8:{n:"LastAuthor",t:Ea},9:{n:"RevNumber",t:Ea},10:{n:"EditTime",t:z2},11:{n:"LastPrinted",t:z2},12:{n:"CreatedDate",t:z2},13:{n:"ModifiedDate",t:z2},14:{n:"PageCount",t:ro},15:{n:"WordCount",t:ro},16:{n:"CharCount",t:ro},17:{n:"Thumbnail",t:Ale},18:{n:"Application",t:Ea},19:{n:"DocSecurity",t:ro},255:{},2147483648:{n:"Locale",t:Xb},2147483651:{n:"Behavior",t:Xb},1919054434:{}},k8={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Cle=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Ple(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Ile=Ple([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),_0=Wn(Ile),Df={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Vz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ck={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},W2={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function z3(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Ole(e){var t=z3();if(!e||!e.match)return t;var r={};if((e.match(Cs)||[]).forEach(function(n){var i=lr(n);switch(i[0].replace($oe,"<")){case"<?xml":break;case"<Types":t.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":t[ck[i.ContentType]]!==void 0&&t[ck[i.ContentType]].push(i.PartName);break}}),t.xmlns!==ha.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function $z(e,t){var r=Ooe(ck),n=[],i;n[n.length]=$i,n[n.length]=ft("Types",null,{xmlns:ha.CT,"xmlns:xsd":ha.xsd,"xmlns:xsi":ha.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return ft("Default",null,{Extension:l[0],ContentType:l[1]})}));var a=function(l){e[l]&&e[l].length>0&&(i=e[l][0],n[n.length]=ft("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:W2[l][t.bookType]||W2[l].xlsx}))},s=function(l){(e[l]||[]).forEach(function(c){n[n.length]=ft("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:W2[l][t.bookType]||W2[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(c){n[n.length]=ft("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return a("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Ar={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function vy(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function bv(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Cs)||[]).forEach(function(i){var a=lr(i);if(a[0]==="<Relationship"){var s={};s.Type=a.Type,s.Target=a.Target,s.Id=a.Id,a.TargetMode&&(s.TargetMode=a.TargetMode);var o=a.TargetMode==="External"?a.Target:Z1(a.Target,t);r[o]=s,n[a.Id]=s}}),r["!id"]=n,r}function Cm(e){var t=[$i,ft("Relationships",null,{xmlns:ha.RELS})];return Ai(e["!id"]).forEach(function(r){t[t.length]=ft("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function fn(e,t,r,n,i,a){if(i||(i={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,i.Id="rId"+t,i.Type=n,i.Target=r,[Ar.HLINK,Ar.XPATH,Ar.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),e["!id"][i.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][i.Id]=i,e[("/"+i.Target).replace("//","/")]=i,t}var Dle="application/vnd.oasis.opendocument.spreadsheet";function Rle(e,t){for(var r=D3(e),n,i;n=gy.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=lr(n[0],!1),i.path=="/"&&i.type!==Dle)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function Lle(e){var t=[$i];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function N8(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function jle(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Fle(e){var t=[$i];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(N8(e[r][0],e[r][1])),t.push(jle("",e[r][0]));return t.push(N8("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function zz(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Vb.version+"</meta:generator></office:meta></office:document-meta>"}var Fl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Mle=function(){for(var e=new Array(Fl.length),t=0;t<Fl.length;++t){var r=Fl[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Wz(e){var t={};e=_n(e);for(var r=0;r<Fl.length;++r){var n=Fl[r],i=e.match(Mle[r]);i!=null&&i.length>0&&(t[n[1]]=Gr(i[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=zn(t[n[1]]))}return t}function bA(e,t,r,n,i){i[e]!=null||t==null||t===""||(i[e]=t,t=pn(t),n[n.length]=r?ft(e,t,r):Qa(e,t))}function Hz(e,t){var r=t||{},n=[$i,ft("cp:coreProperties",null,{"xmlns:cp":ha.CORE_PROPS,"xmlns:dc":ha.dc,"xmlns:dcterms":ha.dcterms,"xmlns:dcmitype":ha.dcmitype,"xmlns:xsi":ha.xsi})],i={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&bA("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:ak(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),e.ModifiedDate!=null&&bA("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:ak(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var a=0;a!=Fl.length;++a){var s=Fl[a],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&bA(s[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var S0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],qz=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Gz(e,t,r,n){var i=[];if(typeof e=="string")i=y8(e,n);else for(var a=0;a<e.length;++a)i=i.concat(e[a].map(function(u){return{v:u}}));var s=typeof t=="string"?y8(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==i.length;c+=2){switch(l=+i[c+1].v,i[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function Ble(e,t,r){var n={};return t||(t={}),e=_n(e),S0.forEach(function(i){var a=(e.match(py(i[0]))||[])[1];switch(i[2]){case"string":a&&(t[i[1]]=Gr(a));break;case"bool":t[i[1]]=a==="true";break;case"raw":var s=e.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));s&&s.length>0&&(n[i[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Gz(n.HeadingPairs,n.TitlesOfParts,t,r),t}function Kz(e){var t=[],r=ft;return e||(e={}),e.Application="SheetJS",t[t.length]=$i,t[t.length]=ft("Properties",null,{xmlns:ha.EXT_PROPS,"xmlns:vt":ha.vt}),S0.forEach(function(n){if(e[n[1]]!==void 0){var i;switch(n[2]){case"string":i=pn(String(e[n[1]]));break;case"bool":i=e[n[1]]?"true":"false";break}i!==void 0&&(t[t.length]=r(n[0],i))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+pn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Ule=/<[^>]+>[^<]*/g;function Vle(e,t){var r={},n="",i=e.match(Ule);if(i)for(var a=0;a!=i.length;++a){var s=i[a],o=lr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Gr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Gr(u);break;case"bool":r[n]=Un(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=zn(u);break;case"cy":case"error":r[n]=Gr(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function Xz(e){var t=[$i,ft("Properties",null,{xmlns:ha.CUST_PROPS,"xmlns:vt":ha.vt})];if(!e)return t.join("");var r=1;return Ai(e).forEach(function(i){++r,t[t.length]=ft("property",Yoe(e[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:pn(i)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var uk={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},_A;function $le(e,t,r){_A||(_A=$5(uk)),t=_A[t]||t,e[t]=r}function zle(e,t){var r=[];return Ai(uk).map(function(n){for(var i=0;i<Fl.length;++i)if(Fl[i][1]==n)return Fl[i];for(i=0;i<S0.length;++i)if(S0[i][1]==n)return S0[i];throw n}).forEach(function(n){if(e[n[1]]!=null){var i=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(Qa(uk[n[1]]||n[1],i))}}),ft("DocumentProperties",r.join(""),{xmlns:Uo.o})}function Wle(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return e&&Ai(e).forEach(function(a){if(Object.prototype.hasOwnProperty.call(e,a)){for(var s=0;s<Fl.length;++s)if(a==Fl[s][1])return;for(s=0;s<S0.length;++s)if(a==S0[s][1])return;for(s=0;s<r.length;++s)if(a==r[s])return;var o=e[a],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(ft(p8(a),o,{"dt:dt":l}))}}),t&&Ai(t).forEach(function(a){if(Object.prototype.hasOwnProperty.call(t,a)&&!(e&&Object.prototype.hasOwnProperty.call(e,a))){var s=t[a],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),i.push(ft(p8(a),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Uo.o+'">'+i.join("")+"</"+n+">"}function W3(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Hle(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var a=n/Math.pow(2,32)|0;a>0&&(n=n%Math.pow(2,32),i+=a);var s=$e(8);return s.write_shift(4,n),s.write_shift(4,i),s}function Yz(e,t,r){var n=e.l,i=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return i}function Jz(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function Qz(e,t,r){return t===31?Jz(e):Yz(e,t,r)}function fk(e,t,r){return Qz(e,t,r===!1?0:4)}function qle(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Qz(e,t,0)}function Gle(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var i=e.l;r[n]=e.read_shift(0,"lpwstr").replace(qs,""),e.l-i&2&&(e.l+=2)}return r}function Kle(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(qs,"");return r}function Xle(e){var t=e.l,r=Yb(e,Uz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Yb(e,ro);return[r,n]}function Yle(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Xle(e));return r}function C8(e,t){for(var r=e.read_shift(4),n={},i=0;i!=r;++i){var a=e.read_shift(4),s=e.read_shift(4);n[a]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(qs,"").replace(Q1,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Zz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Jle(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Yb(e,t,r){var n=e.read_shift(2),i,a=r||{};if(e.l+=2,t!==T8&&n!==t&&Nle.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===T8?n:t){case 2:return i=e.read_shift(2,"i"),a.raw||(e.l+=2),i;case 3:return i=e.read_shift(4,"i"),i;case 11:return e.read_shift(4)!==0;case 19:return i=e.read_shift(4),i;case 30:return Yz(e,n,4).replace(qs,"");case 31:return Jz(e);case 64:return W3(e);case 65:return Zz(e);case 71:return Jle(e);case 80:return fk(e,n,!a.raw).replace(qs,"");case 81:return qle(e,n).replace(qs,"");case 4108:return Yle(e);case 4126:case 4127:return n==4127?Gle(e):Kle(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function P8(e,t){var r=$e(4),n=$e(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=$e(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Hle(t);break;case 31:case 80:for(n=$e(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Ca([r,n])}function I8(e,t){var r=e.l,n=e.read_shift(4),i=e.read_shift(4),a=[],s=0,o=0,l=-1,c={};for(s=0;s!=i;++s){var u=e.read_shift(4),f=e.read_shift(4);a[s]=[u,f+r]}a.sort(function(b,_){return b[1]-_[1]});var d={};for(s=0;s!=i;++s){if(e.l!==a[s][1]){var h=!0;if(s>0&&t)switch(t[a[s-1][0]].t){case 2:e.l+2===a[s][1]&&(e.l+=2,h=!1);break;case 80:e.l<=a[s][1]&&(e.l=a[s][1],h=!1);break;case 4108:e.l<=a[s][1]&&(e.l=a[s][1],h=!1);break}if((!t||s==0)&&e.l<=a[s][1]&&(h=!1,e.l=a[s][1]),h)throw new Error("Read Error: Expected address "+a[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[a[s][0]];if(d[g.n]=Yb(e,g.t,{raw:!0}),g.p==="version"&&(d[g.n]=String(d[g.n]>>16)+"."+("0000"+String(d[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(d[g.n]){case 0:d[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:mc(o=d[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+d[g.n])}}else if(a[s][0]===1){if(o=d.CodePage=Yb(e,$3),mc(o),l!==-1){var m=e.l;e.l=a[l][1],c=C8(e,o),e.l=m}}else if(a[s][0]===0){if(o===0){l=s,e.l=a[s+1][1];continue}c=C8(e,o)}else{var v=c[a[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=Zz(e);break;case 30:e.l+=4,y=fk(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=fk(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Ii(e,4);break;case 64:e.l+=4,y=zn(W3(e));break;default:throw new Error("unparsed value: "+e[e.l])}d[v]=y}}return e.l=r+n,d}var eW=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Qle(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function O8(e,t,r){var n=$e(8),i=[],a=[],s=8,o=0,l=$e(8),c=$e(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),i.push(c),s+=8+l.length,!t){c=$e(8),c.write_shift(4,0),i.unshift(c);var u=[$e(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(l=$e(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Ca(u),a.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(eW.indexOf(e[o][0])>-1||qz.indexOf(e[o][0])>-1)&&e[o][1]!=null){var d=e[o][1],h=0;if(t){h=+t[e[o][0]];var g=r[h];if(g.p=="version"&&typeof d=="string"){var m=d.split(".");d=(+m[0]<<16)+(+m[1]||0)}l=P8(g.t,d)}else{var v=Qle(d);v==-1&&(v=31,d=String(d)),l=P8(v,d)}a.push(l),c=$e(8),c.write_shift(4,t?h:2+o),i.push(c),s+=8+l.length}var y=8*(a.length+1);for(o=0;o<a.length;++o)i[o].write_shift(4,y),y+=a[o].length;return n.write_shift(4,s),n.write_shift(4,a.length),Ca([n].concat(i).concat(a))}function D8(e,t,r){var n=e.content;if(!n)return{};Ja(n,0);var i,a,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Gt.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(a=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=I8(n,t),d={SystemIdentifier:c};for(var h in f)d[h]=f[h];if(d.FMTID=a,i===1)return d;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=I8(n,null)}catch{}for(h in g)d[h]=g[h];return d.FMTID=[a,s],d}function R8(e,t,r,n,i,a){var s=$e(i?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,Gt.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,i?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,i?68:48);var l=O8(e,r,n);if(o.push(l),i){var c=O8(i,null,null);s.write_shift(16,a,"hex"),s.write_shift(4,68+l.length),o.push(c)}return Ca(o)}function ud(e,t){return e.read_shift(t),null}function Zle(e,t){t||(t=$e(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function ece(e,t,r){for(var n=[],i=e.l+t;e.l<i;)n.push(r(e,i-e.l));if(i!==e.l)throw new Error("Slurp error");return n}function Ii(e,t){return e.read_shift(t)===1}function Us(e,t){return t||(t=$e(2)),t.write_shift(2,+!!e),t}function Xi(e){return e.read_shift(2,"u")}function Nl(e,t){return t||(t=$e(2)),t.write_shift(2,e),t}function tW(e,t){return ece(e,t,Xi)}function tce(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function rW(e,t,r){return r||(r=$e(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function ux(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var a=e.read_shift(1);a&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var s=n?e.read_shift(n,i):"";return s}function rce(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,i=r&8,a=1+(r&1),s=0,o,l={};i&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=a==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return i&&(e.l+=4*s),n&&(e.l+=o),l.t=u,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function nce(e){var t=e.t||"",r=$e(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=$e(2*t.length);n.write_shift(2*t.length,t,"utf16le");var i=[r,n];return Ca(i)}function z0(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var i=e.read_shift(1);return i===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function fx(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):z0(e,n,r)}function vp(e,t,r){if(r.biff>5)return fx(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function nW(e,t,r){return r||(r=$e(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function ice(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function ace(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var i=e.read_shift((n?t-24:t)>>1,"utf16le").replace(qs,"");return n&&(e.l+=24),i}function sce(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=e.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var a=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(a>>1,"utf16le").replace(qs,"");return r+s}function oce(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return ace(e);case"0303000000000000c000000000000046":return sce(e);default:throw new Error("Unsupported Moniker "+r)}}function H2(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(qs,""):"";return r}function L8(e,t){t||(t=$e(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function lce(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=e.read_shift(2);e.l+=2;var a,s,o,l,c="",u,f;i&16&&(a=H2(e,r-e.l)),i&128&&(s=H2(e,r-e.l)),(i&257)===257&&(o=H2(e,r-e.l)),(i&257)===1&&(l=oce(e,r-e.l)),i&8&&(c=H2(e,r-e.l)),i&32&&(u=e.read_shift(16)),i&64&&(f=W3(e)),e.l=r;var d=s||o||l||"";d&&c&&(d+="#"+c),d||(d="#"+c),i&2&&d.charAt(0)=="/"&&d.charAt(1)!="/"&&(d="file://"+d);var h={Target:d};return u&&(h.guid=u),f&&(h.time=f),a&&(h.Tooltip=a),h}function cce(e){var t=$e(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),a=i>-1?31:23;switch(n.charAt(0)){case"#":a=28;break;case".":a&=-3;break}t.write_shift(4,2),t.write_shift(4,a);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(a==28)n=n.slice(1),L8(n,t);else if(a&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=i>-1?n.slice(0,i):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),a&8&&L8(i>-1?n.slice(i+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function iW(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),i=e.read_shift(1);return[t,r,n,i]}function aW(e,t){var r=iW(e);return r[3]=0,r}function bu(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function W0(e,t,r,n){return n||(n=$e(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function uce(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function fce(e,t,r){return t===0?"":vp(e,t,r)}function dce(e,t,r){var n=r.biff>8?4:2,i=e.read_shift(n),a=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[i,a,s]}function sW(e){var t=e.read_shift(2),r=V3(e);return[t,r]}function hce(e,t,r){e.l+=4,t-=4;var n=e.l+t,i=ux(e,t,r),a=e.read_shift(2);if(n-=e.l,a!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+a);return e.l+=a,i}function H5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2);return{s:{c:n,r:t},e:{c:i,r}}}function oW(e,t){return t||(t=$e(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function lW(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),i=e.read_shift(1);return{s:{c:n,r:t},e:{c:i,r}}}var pce=lW;function cW(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function mce(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function gce(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ls(e){e.l+=2,e.l+=e.read_shift(2)}var vce={0:ls,4:ls,5:ls,6:ls,7:gce,8:ls,9:ls,10:ls,11:ls,12:ls,13:mce,14:ls,15:ls,16:ls,17:ls,18:ls,19:ls,20:ls,21:cW};function yce(e,t){for(var r=e.l+t,n=[];e.l<r;){var i=e.read_shift(2);e.l-=2;try{n.push(vce[i](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function q2(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function H3(e,t,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var a=$e(i);return a.write_shift(2,n),a.write_shift(2,t),i>4&&a.write_shift(2,29282),i>6&&a.write_shift(2,1997),i>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function xce(e,t){return t===0||e.read_shift(2),1200}function wce(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,i=vp(e,0,r);return e.read_shift(t+n-e.l),i}function bce(e,t){var r=!t||t.biff==8,n=$e(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function _ce(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Sce(e,t,r){var n=e.read_shift(4),i=e.read_shift(1)&3,a=e.read_shift(1);switch(a){case 0:a="Worksheet";break;case 1:a="Macrosheet";break;case 2:a="Chartsheet";break;case 6:a="VBAModule";break}var s=ux(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:i,dt:a,name:s}}function Ece(e,t){var r=!t||t.biff>=8?2:1,n=$e(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function Ace(e,t){for(var r=e.l+t,n=e.read_shift(4),i=e.read_shift(4),a=[],s=0;s!=i&&e.l<r;++s)a.push(rce(e));return a.Count=n,a.Unique=i,a}function Tce(e,t){var r=$e(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],i=0;i<e.length;++i)n[i]=nce(e[i]);var a=Ca([r].concat(n));return a.parts=[r.length].concat(n.map(function(s){return s.length})),a}function kce(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Nce(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Cce(e){var t=uce(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Pce(e){return e.read_shift(2),e.read_shift(4)}function j8(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var i=e.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var a={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[a,i]}function Ice(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,i],Flags:a,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Oce(){var e=$e(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Dce(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Rce(e){var t=$e(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Lce(){}function jce(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=ux(e,0,r),n}function Fce(e,t){var r=e.name||"Arial",n=t&&t.biff==5,i=n?15+r.length:16+2*r.length,a=$e(i);return a.write_shift(2,e.sz*20),a.write_shift(4,0),a.write_shift(2,400),a.write_shift(4,0),a.write_shift(2,0),a.write_shift(1,r.length),n||a.write_shift(1,1),a.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),a}function Mce(e){var t=bu(e);return t.isst=e.read_shift(4),t}function Bce(e,t,r,n){var i=$e(10);return W0(e,t,n,i),i.write_shift(4,r),i}function Uce(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,i=bu(e);r.biff==2&&e.l++;var a=fx(e,n-e.l,r);return i.val=a,i}function Vce(e,t,r,n,i){var a=!i||i.biff==8,s=$e(8+ +a+(1+a)*r.length);return W0(e,t,n,s),s.write_shift(2,r.length),a&&s.write_shift(1,1),s.write_shift((1+a)*r.length,r,a?"utf16le":"sbcs"),s}function $ce(e,t,r){var n=e.read_shift(2),i=vp(e,0,r);return[n,i]}function zce(e,t,r,n){var i=r&&r.biff==5;n||(n=$e(i?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(i?1:2,t.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*t.length,t,i?"sbcs":"utf16le");var a=n.length>n.l?n.slice(0,n.l):n;return a.l==null&&(a.l=a.length),a}var Wce=vp;function F8(e,t,r){var n=e.l+t,i=r.biff==8||!r.biff?4:2,a=e.read_shift(i),s=e.read_shift(i),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:a,c:o},e:{r:s,c:l}}}function Hce(e,t){var r=t.biff==8||!t.biff?4:2,n=$e(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function qce(e){var t=e.read_shift(2),r=e.read_shift(2),n=sW(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Gce(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(sW(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:s,rkrec:a}}function Kce(e,t){for(var r=e.l+t-2,n=e.read_shift(2),i=e.read_shift(2),a=[];e.l<r;)a.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(a.length!=s-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:s,ixfe:a}}function Xce(e,t,r,n){var i={},a=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return i.patternType=Cle[o>>26],n.cellStyles&&(i.alc=a&7,i.fWrap=a>>3&1,i.alcV=a>>4&7,i.fJustLast=a>>7&1,i.trot=a>>8&255,i.cIndent=a>>16&15,i.fShrinkToFit=a>>20&1,i.iReadOrder=a>>22&2,i.fAtrNum=a>>26&1,i.fAtrFnt=a>>27&1,i.fAtrAlc=a>>28&1,i.fAtrBdr=a>>29&1,i.fAtrPat=a>>30&1,i.fAtrProt=a>>31&1,i.dgLeft=s&15,i.dgRight=s>>4&15,i.dgTop=s>>8&15,i.dgBottom=s>>12&15,i.icvLeft=s>>16&127,i.icvRight=s>>23&127,i.grbitDiag=s>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function Yce(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Xce(e,t,n.fStyle,r),n}function M8(e,t,r,n){var i=r&&r.biff==5;n||(n=$e(i?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&i&&(a|=1024),n.write_shift(4,a),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function Jce(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Qce(e){var t=$e(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function B8(e,t,r){var n=bu(e);(r.biff==2||t==9)&&++e.l;var i=tce(e);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function Zce(e,t,r,n,i,a){var s=$e(8);return W0(e,t,n,s),rW(r,a,s),s}function eue(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=bu(e),i=_s(e);return n.val=i,n}function tue(e,t,r,n){var i=$e(14);return W0(e,t,n,i),$0(r,i),i}var U8=fce;function rue(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(2);if(r.sbcch=a,a==1025||a==14849)return[a,i];if(a<1||a>255)throw new Error("Unexpected SupBook type: "+a);for(var s=z0(e,a),o=[];n>e.l;)o.push(fx(e));return[a,i,s,o]}function V8(e,t,r){var n=e.read_shift(2),i,a={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=hce(e,t-2,r)),a.body=i||e.read_shift(t-2),typeof i=="string"&&(a.Name=i),a}var nue=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function $8(e,t,r){var n=e.l+t,i=e.read_shift(2),a=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=z0(e,s,r);i&32&&(c=nue[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:y0e(e,u,r,o);return{chKey:a,Name:c,itab:l,rgce:f}}function uW(e,t,r){if(r.biff<8)return iue(e,t,r);for(var n=[],i=e.l+t,a=e.read_shift(r.biff>8?4:2);a--!==0;)n.push(dce(e,r.biff>8?12:6,r));if(e.l!=i)throw new Error("Bad ExternSheet: "+e.l+" != "+i);return n}function iue(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=ux(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function aue(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),i=e.read_shift(2),a=z0(e,n,r),s=z0(e,i,r);return[a,s]}function sue(e,t,r){var n=lW(e);e.l++;var i=e.read_shift(1);return t-=8,[x0e(e,t,r),i,n]}function z8(e,t,r){var n=pce(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,g0e(e,t,r)]}function oue(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function lue(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),o=vp(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:i},o,s,a]}}function cue(e,t,r){return lue(e,t,r)}function uue(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(H5(e));return r}function fue(e){var t=$e(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)oW(e[r],t);return t}function due(e,t,r){if(r&&r.biff<8)return pue(e,t,r);var n=cW(e),i=yce(e,t-22,n[1]);return{cmo:n,ft:i}}var hue={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var i=e.read_shift(1);return e.l+=i,e.l=r,{fmt:n}}};function pue(e,t,r){e.l+=4;var n=e.read_shift(2),i=e.read_shift(2),a=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((hue[n]||ks)(e,t,r)),{cmo:[i,n,a],ft:s}}function mue(e,t,r){var n=e.l,i="";try{e.l+=4;var a=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(a)==-1?e.l+=6:s=ice(e,6,r);var o=e.read_shift(2);e.read_shift(2),Xi(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=z0(e,e.lens[c+1]-e.lens[c]-1);if(i+=f,i.length>=(u?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return e.l=n+t,{t:i}}catch{return e.l=n+t,{t:i}}}function gue(e,t){var r=H5(e);e.l+=16;var n=lce(e,t-24);return[r,n]}function vue(e){var t=$e(24),r=ci(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)t.write_shift(1,parseInt(n[i],16));return Ca([t,cce(e[1])])}function yue(e,t){e.read_shift(2);var r=H5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(qs,""),[r,n]}function xue(e){var t=e[1].Tooltip,r=$e(10+2*(t.length+1));r.write_shift(2,2048);var n=ci(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<t.length;++i)r.write_shift(2,t.charCodeAt(i));return r.write_shift(2,0),r}function wue(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=k8[r]||r,r=e.read_shift(2),t[1]=k8[r]||r,t}function bue(e){return e||(e=$e(4)),e.write_shift(2,1),e.write_shift(2,1),e}function _ue(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(aW(e));return r}function Sue(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(aW(e));return r}function Eue(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function fW(e,t,r){if(!r.cellStyles)return ks(e,t);var n=r&&r.biff>=12?4:2,i=e.read_shift(n),a=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:i,e:a,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function Aue(e,t){var r=$e(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Tue(e,t){var r={};return t<32||(e.l+=16,r.header=_s(e),r.footer=_s(e),e.l+=2),r}function kue(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var i=e.read_shift(1);return e.l+=3,i&16&&(n.area=!0),n}function Nue(e){for(var t=$e(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var Cue=bu,Pue=tW,Iue=fx;function Oue(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,i}function Due(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=bu(e);++e.l;var i=vp(e,t-7,r);return n.t="str",n.val=i,n}function Rue(e){var t=bu(e);++e.l;var r=_s(e);return t.t="n",t.val=r,t}function Lue(e,t,r){var n=$e(15);return mx(n,e,t),n.write_shift(8,r,"f"),n}function jue(e){var t=bu(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Fue(e,t,r){var n=$e(9);return mx(n,e,t),n.write_shift(2,r),n}function Mue(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Bue(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Uue(e,t,r){var n=e.l+t,i=bu(e),a=e.read_shift(2),s=z0(e,a,r);return e.l=n,i.t="str",i.val=s,i}var Vue=[2,3,48,49,131,139,140,245],dk=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=$5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Zd(1);switch(l.type){case"base64":u=Wo(il(o));break;case"binary":u=Wo(o);break;case"buffer":case"array":u=o;break}Ja(u,0);var f=u.read_shift(1),d=!!(f&136),h=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:h=!0,d=!0;break;case 49:h=!0,d=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,v=521;f==2&&(m=u.read_shift(2)),u.l+=3,f!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(v=u.read_shift(2));var y=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var _=[],N={},R=Math.min(u.length,f==2?521:v-10-(h?264:0)),O=g?32:11;u.l<R&&u[u.l]!=13;)switch(N={},N.name=fy.utils.decode(b,u.slice(u.l,u.l+O)).replace(/[\u0000\r\n].*$/g,""),u.l+=O,N.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(N.offset=u.read_shift(4)),N.len=u.read_shift(1),f==2&&(N.offset=u.read_shift(2)),N.dec=u.read_shift(1),N.name.length&&_.push(N),f!=2&&(u.l+=g?13:14),N.type){case"B":(!h||N.len!=8)&&l.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+N.name+":"+N.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+N.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var k=0,S=0;for(c[0]=[],S=0;S!=_.length;++S)c[0][S]=_[S].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++k]=[],S=0,S=0;S!=_.length;++S){var T=u.slice(u.l,u.l+_[S].len);u.l+=_[S].len,Ja(T,0);var j=fy.utils.decode(b,T);switch(_[S].type){case"C":j.trim().length&&(c[k][S]=j.replace(/\s+$/,""));break;case"D":j.length===8?c[k][S]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):c[k][S]=j;break;case"F":c[k][S]=parseFloat(j.trim());break;case"+":case"I":c[k][S]=g?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":c[k][S]=!0;break;case"N":case"F":c[k][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!d)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[k][S]="##MEMO##"+(g?parseInt(j.trim(),10):T.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(c[k][S]=+j||0);break;case"@":c[k][S]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":c[k][S]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":c[k][S]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[k][S]=-T.read_shift(-8,"f");break;case"B":if(h&&_[S].len==8){c[k][S]=T.read_shift(8,"f");break}case"G":case"P":T.l+=_[S].len;break;case"0":if(_[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[S].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=_,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Ig(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function i(o,l){try{return bh(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var a={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&mc(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=vo(),f=Zb(o,{header:1,raw:!0,cellDates:!0}),d=f[0],h=f.slice(1),g=o["!cols"]||[],m=0,v=0,y=0,b=1;for(m=0;m<d.length;++m){if(((g[m]||{}).DBF||{}).name){d[m]=g[m].DBF.name,++y;continue}if(d[m]!=null){if(++y,typeof d[m]=="number"&&(d[m]=d[m].toString(10)),typeof d[m]!="string")throw new Error("DBF Invalid column name "+d[m]+" |"+typeof d[m]+"|");if(d.indexOf(d[m])!==m){for(v=0;v<1024;++v)if(d.indexOf(d[m]+"_"+v)==-1){d[m]+="_"+v;break}}}}var _=Kr(o["!ref"]),N=[],R=[],O=[];for(m=0;m<=_.e.c-_.s.c;++m){var k="",S="",T=0,j=[];for(v=0;v<h.length;++v)h[v][m]!=null&&j.push(h[v][m]);if(j.length==0||d[m]==null){N[m]="?";continue}for(v=0;v<j.length;++v){switch(typeof j[v]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=j[v]instanceof Date?"D":"C";break;default:S="C"}T=Math.max(T,String(j[v]).length),k=k&&k!=S?"C":S}T>250&&(T=250),S=((g[m]||{}).DBF||{}).type,S=="C"&&g[m].DBF.len>T&&(T=g[m].DBF.len),k=="B"&&S=="N"&&(k="N",O[m]=g[m].DBF.dec,T=g[m].DBF.len),R[m]=k=="C"||S=="N"?T:a[k]||0,b+=R[m],N[m]=k}var E=u.next(32);for(E.write_shift(4,318902576),E.write_shift(4,h.length),E.write_shift(2,296+32*y),E.write_shift(2,b),m=0;m<4;++m)E.write_shift(4,0);for(E.write_shift(4,0|(+t[ez]||3)<<8),m=0,v=0;m<d.length;++m)if(d[m]!=null){var C=u.next(32),D=(d[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,D,"sbcs"),C.write_shift(1,N[m]=="?"?"C":N[m],"sbcs"),C.write_shift(4,v),C.write_shift(1,R[m]||a[N[m]]||0),C.write_shift(1,O[m]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),v+=R[m]||a[N[m]]||0}var q=u.next(264);for(q.write_shift(4,13),m=0;m<65;++m)q.write_shift(4,0);for(m=0;m<h.length;++m){var ee=u.next(b);for(ee.write_shift(1,0),v=0;v<d.length;++v)if(d[v]!=null)switch(N[v]){case"L":ee.write_shift(1,h[m][v]==null?63:h[m][v]?84:70);break;case"B":ee.write_shift(8,h[m][v]||0,"f");break;case"N":var le="0";for(typeof h[m][v]=="number"&&(le=h[m][v].toFixed(O[v]||0)),y=0;y<R[v]-le.length;++y)ee.write_shift(1,32);ee.write_shift(1,le,"sbcs");break;case"D":h[m][v]?(ee.write_shift(4,("0000"+h[m][v].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(h[m][v].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+h[m][v].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var se=String(h[m][v]!=null?h[m][v]:"").slice(0,R[v]);for(ee.write_shift(1,se,"sbcs"),y=0;y<R[v]-se.length;++y)ee.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:i,to_sheet:n,from_sheet:s}}(),dW=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ai(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(d,h){var g=e[h];return typeof g=="number"?e8(g):g},n=function(d,h,g){var m=h.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?d:e8(m)};e["|"]=254;function i(d,h){switch(h.type){case"base64":return a(il(d),h);case"binary":return a(d,h);case"buffer":return a(Sr&&Buffer.isBuffer(d)?d.toString("binary"):wh(d),h);case"array":return a(V0(d),h)}throw new Error("Unrecognized type "+h.type)}function a(d,h){var g=d.split(/[\n\r]+/),m=-1,v=-1,y=0,b=0,_=[],N=[],R=null,O={},k=[],S=[],T=[],j=0,E;for(+h.codepage>=0&&mc(+h.codepage);y!==g.length;++y){j=0;var C=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),D=C.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),q=D[0],ee;if(C.length>0)switch(q){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&N.push(C.slice(3).replace(/;;/g,";"));break;case"C":var le=!1,se=!1,K=!1,X=!1,_e=-1,Se=-1;for(b=1;b<D.length;++b)switch(D[b].charAt(0)){case"A":break;case"X":v=parseInt(D[b].slice(1))-1,se=!0;break;case"Y":for(m=parseInt(D[b].slice(1))-1,se||(v=0),E=_.length;E<=m;++E)_[E]=[];break;case"K":ee=D[b].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(bc(ee))?isNaN(rg(ee).getDate())||(ee=zn(ee)):(ee=bc(ee),R!==null&&Cg(R)&&(ee=W5(ee))),le=!0;break;case"E":X=!0;var P=Pm(D[b].slice(1),{r:m,c:v});_[m][v]=[_[m][v],P];break;case"S":K=!0,_[m][v]=[_[m][v],"S5S"];break;case"G":break;case"R":_e=parseInt(D[b].slice(1))-1;break;case"C":Se=parseInt(D[b].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+C)}if(le&&(_[m][v]&&_[m][v].length==2?_[m][v][0]=ee:_[m][v]=ee,R=null),K){if(X)throw new Error("SYLK shared formula cannot have own formula");var U=_e>-1&&_[_e][Se];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");_[m][v][1]=PW(U[1],{r:m-_e,c:v-Se})}break;case"F":var V=0;for(b=1;b<D.length;++b)switch(D[b].charAt(0)){case"X":v=parseInt(D[b].slice(1))-1,++V;break;case"Y":for(m=parseInt(D[b].slice(1))-1,E=_.length;E<=m;++E)_[E]=[];break;case"M":j=parseInt(D[b].slice(1))/20;break;case"F":break;case"G":break;case"P":R=N[parseInt(D[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=D[b].slice(1).split(" "),E=parseInt(T[0],10);E<=parseInt(T[1],10);++E)j=parseInt(T[2],10),S[E-1]=j===0?{hidden:!0}:{wch:j},eh(S[E-1]);break;case"C":v=parseInt(D[b].slice(1))-1,S[v]||(S[v]={});break;case"R":m=parseInt(D[b].slice(1))-1,k[m]||(k[m]={}),j>0?(k[m].hpt=j,k[m].hpx=ig(j)):j===0&&(k[m].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+C)}V<1&&(R=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+C)}}return k.length>0&&(O["!rows"]=k),S.length>0&&(O["!cols"]=S),h&&h.sheetRows&&(_=_.slice(0,h.sheetRows)),[_,O]}function s(d,h){var g=i(d,h),m=g[0],v=g[1],y=Ig(m,h);return Ai(v).forEach(function(b){y[b]=v[b]}),y}function o(d,h){return bh(s(d,h),h)}function l(d,h,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(d.t){case"n":v+=d.v||0,d.f&&!d.F&&(v+=";E"+J3(d.f,{r:g,c:m}));break;case"b":v+=d.v?"TRUE":"FALSE";break;case"e":v+=d.w||d.v;break;case"d":v+='"'+(d.w||d.v)+'"';break;case"s":v+='"'+d.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(d,h){h.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=xy(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=wy(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&d.push(v)})}function u(d,h){h.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*by(g.hpx)+";"),v.length>2&&d.push(v+"R"+(m+1))})}function f(d,h){var g=["ID;PWXL;N;E"],m=[],v=Kr(d["!ref"]),y,b=Array.isArray(d),_=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),d["!cols"]&&c(g,d["!cols"]),d["!rows"]&&u(g,d["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var N=v.s.r;N<=v.e.r;++N)for(var R=v.s.c;R<=v.e.c;++R){var O=nr({r:N,c:R});y=b?(d[N]||[])[R]:d[O],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,d,N,R))}return g.join(_)+_+m.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),hW=function(){function e(a,s){switch(s.type){case"base64":return t(il(a),s);case"binary":return t(a,s);case"buffer":return t(Sr&&Buffer.isBuffer(a)?a.toString("binary"):wh(a),s);case"array":return t(V0(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){for(var o=a.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var d=o[u].trim().split(","),h=d[0],g=d[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+h){case-1:if(m==="BOT"){f[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][c]=!0:m==="FALSE"?f[l][c]=!1:isNaN(bc(g))?isNaN(rg(g).getDate())?f[l][c]=g:f[l][c]=zn(g):f[l][c]=bc(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(a,s){return Ig(e(a,s),s)}function n(a,s){return bh(r(a,s),s)}var i=function(){var a=function(l,c,u,f,d){l.push(c),l.push(u+","+f),l.push('"'+d.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Kr(l["!ref"]),f,d=Array.isArray(l);a(c,"TABLE",0,1,"sheetjs"),a(c,"VECTORS",0,u.e.r-u.s.r+1,""),a(c,"TUPLES",0,u.e.c-u.s.c+1,""),a(c,"DATA",0,0,"");for(var h=u.s.r;h<=u.e.r;++h){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=nr({r:h,c:g});if(f=d?(l[h]||[])[g]:l[m],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Vl(f.z||tr[14],ga(zn(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,b=c.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),pW=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,d){for(var h=f.split(`
`),g=-1,m=-1,v=0,y=[];v!==h.length;++v){var b=h[v].trim().split(":");if(b[0]==="cell"){var _=ci(b[1]);if(y.length<=_.r)for(g=y.length;g<=_.r;++g)y[g]||(y[g]=[]);switch(g=_.r,m=_.c,b[2]){case"t":y[g][m]=e(b[3]);break;case"v":y[g][m]=+b[3];break;case"vtf":var N=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[g][m]=!!+b[4];break;default:y[g][m]=+b[4];break}b[2]=="vtf"&&(y[g][m]=[y[g][m],N])}}}return d&&d.sheetRows&&(y=y.slice(0,d.sheetRows)),y}function n(f,d){return Ig(r(f,d),d)}function i(f,d){return bh(n(f,d),d)}var a=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var d=[],h=[],g,m="",v=wo(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var _=v.s.c;_<=v.e.c;++_)if(m=nr({r:b,c:_}),g=y?(f[b]||[])[_]:f[m],!(!g||g.v==null||g.t==="z")){switch(h=["cell",m,"t"],g.t){case"s":case"str":h.push(t(g.v));break;case"n":g.f?(h[2]="vtf",h[3]="n",h[4]=g.v,h[5]=t(g.f)):(h[2]="v",h[3]=g.v);break;case"b":h[2]="vt"+(g.f?"f":"c"),h[3]="nl",h[4]=g.v?"1":"0",h[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var N=ga(zn(g.v));h[2]="vtc",h[3]="nd",h[4]=""+N,h[5]=g.w||Vl(g.z||tr[14],N);break;case"e":continue}d.push(h.join(":"))}return d.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),d.push("valueformat:1:text-wiki"),d.join(`
`)}function u(f){return[a,s,o,s,c(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:u}}(),ng=function(){function e(u,f,d,h,g){g.raw?f[d][h]=u:u===""||(u==="TRUE"?f[d][h]=!0:u==="FALSE"?f[d][h]=!1:isNaN(bc(u))?isNaN(rg(u).getDate())?f[d][h]=u:f[d][h]=zn(u):f[d][h]=bc(u))}function t(u,f){var d=f||{},h=[];if(!u||u.length===0)return h;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,b=0;b<=m;++b)y=g[b].indexOf(" "),y==-1?y=g[b].length:y++,v=Math.max(v,y);for(b=0;b<=m;++b){h[b]=[];var _=0;for(e(g[b].slice(0,v).trim(),h,b,_,d),_=1;_<=(g[b].length-v)/10+1;++_)e(g[b].slice(v+(_-1)*10,v+_*10).trim(),h,b,_,d)}return d.sheetRows&&(h=h.slice(0,d.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(u){for(var f={},d=!1,h=0,g=0;h<u.length;++h)(g=u.charCodeAt(h))==34?d=!d:!d&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&g.push([f[h],h]);if(!g.length){f=n;for(h in f)Object.prototype.hasOwnProperty.call(f,h)&&g.push([f[h],h])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function a(u,f){var d=f||{},h="",g=d.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(h=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(h=u.charAt(4),u=u.slice(6)):h=i(u.slice(0,1024)):d&&d.FS?h=d.FS:h=i(u.slice(0,1024));var v=0,y=0,b=0,_=0,N=0,R=h.charCodeAt(0),O=!1,k=0,S=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var T=d.dateNF!=null?koe(d.dateNF):null;function j(){var E=u.slice(_,N),C={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)C.t="z";else if(d.raw)C.t="s",C.v=E;else if(E.trim().length===0)C.t="s",C.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(C.t="s",C.v=E.slice(2,-1).replace(/""/g,'"')):rhe(E)?(C.t="n",C.f=E.slice(1)):(C.t="s",C.v=E);else if(E=="TRUE")C.t="b",C.v=!0;else if(E=="FALSE")C.t="b",C.v=!1;else if(!isNaN(b=bc(E)))C.t="n",d.cellText!==!1&&(C.w=E),C.v=b;else if(!isNaN(rg(E).getDate())||T&&E.match(T)){C.z=d.dateNF||tr[14];var D=0;T&&E.match(T)&&(E=Noe(E,d.dateNF,E.match(T)||[]),D=1),d.cellDates?(C.t="d",C.v=zn(E,D)):(C.t="n",C.v=ga(zn(E,D))),d.cellText!==!1&&(C.w=Vl(C.z,C.v instanceof Date?ga(C.v):C.v)),d.cellNF||delete C.z}else C.t="s",C.v=E;if(C.t=="z"||(d.dense?(g[v]||(g[v]=[]),g[v][y]=C):g[nr({c:y,r:v})]=C),_=N+1,S=u.charCodeAt(_),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),k==R)++y;else if(y=0,++v,d.sheetRows&&d.sheetRows<=v)return!0}e:for(;N<u.length;++N)switch(k=u.charCodeAt(N)){case 34:S===34&&(O=!O);break;case R:case 10:case 13:if(!O&&j())break e;break}return N-_>0&&j(),g["!ref"]=vr(m),g}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?a(u,f):Ig(t(u,f),f)}function o(u,f){var d="",h=f.type=="string"?[0,0,0,0]:aP(u,f);switch(f.type){case"base64":d=il(u);break;case"binary":d=u;break;case"buffer":f.codepage==65001?d=u.toString("utf8"):f.codepage&&typeof fy<"u"||(d=Sr&&Buffer.isBuffer(u)?u.toString("binary"):wh(u));break;case"array":d=V0(u);break;case"string":d=u;break;default:throw new Error("Unrecognized type "+f.type)}return h[0]==239&&h[1]==187&&h[2]==191?d=_n(d.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?d=_n(d):f.type=="binary"&&typeof fy<"u",d.slice(0,19)=="socialcalc:version:"?pW.to_sheet(f.type=="string"?d:_n(d),f):s(d,f)}function l(u,f){return bh(o(u,f),f)}function c(u){for(var f=[],d=Kr(u["!ref"]),h,g=Array.isArray(u),m=d.s.r;m<=d.e.r;++m){for(var v=[],y=d.s.c;y<=d.e.c;++y){var b=nr({r:m,c:y});if(h=g?(u[m]||[])[y]:u[b],!h||h.v==null){v.push("          ");continue}for(var _=(h.w||(vf(h),h.w)||"").slice(0,10);_.length<10;)_+=" ";v.push(_+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function $ue(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var i=dW.to_workbook(e,r);return r.WTF=n,i}catch(a){if(r.WTF=n,!a.message.match(/SYLK bad record ID/)&&n)throw a;return ng.to_workbook(e,t)}}var E0=function(){function e(P,U,V){if(P){Ja(P,P.l||0);for(var z=V.Enum||_e;P.l<P.length;){var ne=P.read_shift(2),te=z[ne]||z[65535],xe=P.read_shift(2),oe=P.l+xe,he=te.f&&te.f(P,xe,V);if(P.l=oe,U(he,te,ne))return}}}function t(P,U){switch(U.type){case"base64":return r(Wo(il(P)),U);case"binary":return r(Wo(P),U);case"buffer":case"array":return r(P,U)}throw"Unsupported type "+U.type}function r(P,U){if(!P)return P;var V=U||{},z=V.dense?[]:{},ne="Sheet1",te="",xe=0,oe={},he=[],Pe=[],G={s:{r:0,c:0},e:{r:0,c:0}},ze=V.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)V.Enum=_e,e(P,function(Ve,ct,Qe){switch(Qe){case 0:V.vers=Ve,Ve>=4096&&(V.qpro=!0);break;case 6:G=Ve;break;case 204:Ve&&(te=Ve);break;case 222:te=Ve;break;case 15:case 51:V.qpro||(Ve[1].v=Ve[1].v.slice(1));case 13:case 14:case 16:Qe==14&&(Ve[2]&112)==112&&(Ve[2]&15)>1&&(Ve[2]&15)<15&&(Ve[1].z=V.dateNF||tr[14],V.cellDates&&(Ve[1].t="d",Ve[1].v=W5(Ve[1].v))),V.qpro&&Ve[3]>xe&&(z["!ref"]=vr(G),oe[ne]=z,he.push(ne),z=V.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},xe=Ve[3],ne=te||"Sheet"+(xe+1),te="");var at=V.dense?(z[Ve[0].r]||[])[Ve[0].c]:z[nr(Ve[0])];if(at){at.t=Ve[1].t,at.v=Ve[1].v,Ve[1].z!=null&&(at.z=Ve[1].z),Ve[1].f!=null&&(at.f=Ve[1].f);break}V.dense?(z[Ve[0].r]||(z[Ve[0].r]=[]),z[Ve[0].r][Ve[0].c]=Ve[1]):z[nr(Ve[0])]=Ve[1];break}},V);else if(P[2]==26||P[2]==14)V.Enum=Se,P[2]==14&&(V.qpro=!0,P.l=0),e(P,function(Ve,ct,Qe){switch(Qe){case 204:ne=Ve;break;case 22:Ve[1].v=Ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ve[3]>xe&&(z["!ref"]=vr(G),oe[ne]=z,he.push(ne),z=V.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},xe=Ve[3],ne="Sheet"+(xe+1)),ze>0&&Ve[0].r>=ze)break;V.dense?(z[Ve[0].r]||(z[Ve[0].r]=[]),z[Ve[0].r][Ve[0].c]=Ve[1]):z[nr(Ve[0])]=Ve[1],G.e.c<Ve[0].c&&(G.e.c=Ve[0].c),G.e.r<Ve[0].r&&(G.e.r=Ve[0].r);break;case 27:Ve[14e3]&&(Pe[Ve[14e3][0]]=Ve[14e3][1]);break;case 1537:Pe[Ve[0]]=Ve[1],Ve[0]==xe&&(ne=Ve[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(z["!ref"]=vr(G),oe[te||ne]=z,he.push(te||ne),!Pe.length)return{SheetNames:he,Sheets:oe};for(var Ce={},de=[],it=0;it<Pe.length;++it)oe[he[it]]?(de.push(Pe[it]||he[it]),Ce[Pe[it]]=oe[Pe[it]]||oe[he[it]]):(de.push(Pe[it]),Ce[Pe[it]]={"!ref":"A1"});return{SheetNames:de,Sheets:Ce}}function n(P,U){var V=U||{};if(+V.codepage>=0&&mc(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var z=vo(),ne=Kr(P["!ref"]),te=Array.isArray(P),xe=[];ht(z,0,a(1030)),ht(z,6,l(ne));for(var oe=Math.min(ne.e.r,8191),he=ne.s.r;he<=oe;++he)for(var Pe=Vi(he),G=ne.s.c;G<=ne.e.c;++G){he===ne.s.r&&(xe[G]=li(G));var ze=xe[G]+Pe,Ce=te?(P[he]||[])[G]:P[ze];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?ht(z,13,h(he,G,Ce.v)):ht(z,14,m(he,G,Ce.v));else{var de=vf(Ce);ht(z,15,f(he,G,de.slice(0,239)))}}return ht(z,1),z.end()}function i(P,U){var V=U||{};if(+V.codepage>=0&&mc(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var z=vo();ht(z,0,s(P));for(var ne=0,te=0;ne<P.SheetNames.length;++ne)(P.Sheets[P.SheetNames[ne]]||{})["!ref"]&&ht(z,27,X(P.SheetNames[ne],te++));var xe=0;for(ne=0;ne<P.SheetNames.length;++ne){var oe=P.Sheets[P.SheetNames[ne]];if(!(!oe||!oe["!ref"])){for(var he=Kr(oe["!ref"]),Pe=Array.isArray(oe),G=[],ze=Math.min(he.e.r,8191),Ce=he.s.r;Ce<=ze;++Ce)for(var de=Vi(Ce),it=he.s.c;it<=he.e.c;++it){Ce===he.s.r&&(G[it]=li(it));var Ve=G[it]+de,ct=Pe?(oe[Ce]||[])[it]:oe[Ve];if(!(!ct||ct.t=="z"))if(ct.t=="n")ht(z,23,j(Ce,it,xe,ct.v));else{var Qe=vf(ct);ht(z,22,k(Ce,it,xe,Qe.slice(0,239)))}}++xe}}return ht(z,1),z.end()}function a(P){var U=$e(2);return U.write_shift(2,P),U}function s(P){var U=$e(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var V=0,z=0,ne=0,te=0;te<P.SheetNames.length;++te){var xe=P.SheetNames[te],oe=P.Sheets[xe];if(!(!oe||!oe["!ref"])){++ne;var he=wo(oe["!ref"]);V<he.e.r&&(V=he.e.r),z<he.e.c&&(z=he.e.c)}}return V>8191&&(V=8191),U.write_shift(2,V),U.write_shift(1,ne),U.write_shift(1,z),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function o(P,U,V){var z={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&V.qpro?(z.s.c=P.read_shift(1),P.l++,z.s.r=P.read_shift(2),z.e.c=P.read_shift(1),P.l++,z.e.r=P.read_shift(2),z):(z.s.c=P.read_shift(2),z.s.r=P.read_shift(2),U==12&&V.qpro&&(P.l+=2),z.e.c=P.read_shift(2),z.e.r=P.read_shift(2),U==12&&V.qpro&&(P.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function l(P){var U=$e(8);return U.write_shift(2,P.s.c),U.write_shift(2,P.s.r),U.write_shift(2,P.e.c),U.write_shift(2,P.e.r),U}function c(P,U,V){var z=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(z[0].c=P.read_shift(1),z[3]=P.read_shift(1),z[0].r=P.read_shift(2),P.l+=2):(z[2]=P.read_shift(1),z[0].c=P.read_shift(2),z[0].r=P.read_shift(2)),z}function u(P,U,V){var z=P.l+U,ne=c(P,U,V);if(ne[1].t="s",V.vers==20768){P.l++;var te=P.read_shift(1);return ne[1].v=P.read_shift(te,"utf8"),ne}return V.qpro&&P.l++,ne[1].v=P.read_shift(z-P.l,"cstr"),ne}function f(P,U,V){var z=$e(7+V.length);z.write_shift(1,255),z.write_shift(2,U),z.write_shift(2,P),z.write_shift(1,39);for(var ne=0;ne<z.length;++ne){var te=V.charCodeAt(ne);z.write_shift(1,te>=128?95:te)}return z.write_shift(1,0),z}function d(P,U,V){var z=c(P,U,V);return z[1].v=P.read_shift(2,"i"),z}function h(P,U,V){var z=$e(7);return z.write_shift(1,255),z.write_shift(2,U),z.write_shift(2,P),z.write_shift(2,V,"i"),z}function g(P,U,V){var z=c(P,U,V);return z[1].v=P.read_shift(8,"f"),z}function m(P,U,V){var z=$e(13);return z.write_shift(1,255),z.write_shift(2,U),z.write_shift(2,P),z.write_shift(8,V,"f"),z}function v(P,U,V){var z=P.l+U,ne=c(P,U,V);if(ne[1].v=P.read_shift(8,"f"),V.qpro)P.l=z;else{var te=P.read_shift(2);N(P.slice(P.l,P.l+te),ne),P.l+=te}return ne}function y(P,U,V){var z=U&32768;return U&=-32769,U=(z?P:0)+(U>=8192?U-16384:U),(z?"":"$")+(V?li(U):Vi(U))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function N(P,U){Ja(P,0);for(var V=[],z=0,ne="",te="",xe="",oe="";P.l<P.length;){var he=P[P.l++];switch(he){case 0:V.push(P.read_shift(8,"f"));break;case 1:te=y(U[0].c,P.read_shift(2),!0),ne=y(U[0].r,P.read_shift(2),!1),V.push(te+ne);break;case 2:{var Pe=y(U[0].c,P.read_shift(2),!0),G=y(U[0].r,P.read_shift(2),!1);te=y(U[0].c,P.read_shift(2),!0),ne=y(U[0].r,P.read_shift(2),!1),V.push(Pe+G+":"+te+ne)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(P.read_shift(2));break;case 6:{for(var ze="";he=P[P.l++];)ze+=String.fromCharCode(he);V.push('"'+ze.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:oe=V.pop(),xe=V.pop(),V.push(["AND","OR"][he-20]+"("+xe+","+oe+")");break;default:if(he<32&&_[he])oe=V.pop(),xe=V.pop(),V.push(xe+_[he]+oe);else if(b[he]){if(z=b[he][1],z==69&&(z=P[P.l++]),z>V.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+V.join("|")+"|");return}var Ce=V.slice(-z);V.length-=z,V.push(b[he][0]+"("+Ce.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}V.length==1?U[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function R(P){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=P.read_shift(2),U[3]=P[P.l++],U[0].c=P[P.l++],U}function O(P,U){var V=R(P);return V[1].t="s",V[1].v=P.read_shift(U-4,"cstr"),V}function k(P,U,V,z){var ne=$e(6+z.length);ne.write_shift(2,P),ne.write_shift(1,V),ne.write_shift(1,U),ne.write_shift(1,39);for(var te=0;te<z.length;++te){var xe=z.charCodeAt(te);ne.write_shift(1,xe>=128?95:xe)}return ne.write_shift(1,0),ne}function S(P,U){var V=R(P);V[1].v=P.read_shift(2);var z=V[1].v>>1;if(V[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return V[1].v=z,V}function T(P,U){var V=R(P),z=P.read_shift(4),ne=P.read_shift(4),te=P.read_shift(2);if(te==65535)return z===0&&ne===3221225472?(V[1].t="e",V[1].v=15):z===0&&ne===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var xe=te&32768;return te=(te&32767)-16446,V[1].v=(1-xe*2)*(ne*Math.pow(2,te+32)+z*Math.pow(2,te)),V}function j(P,U,V,z){var ne=$e(14);if(ne.write_shift(2,P),ne.write_shift(1,V),ne.write_shift(1,U),z==0)return ne.write_shift(4,0),ne.write_shift(4,0),ne.write_shift(2,65535),ne;var te=0,xe=0,oe=0,he=0;return z<0&&(te=1,z=-z),xe=Math.log2(z)|0,z/=Math.pow(2,xe-31),he=z>>>0,he&2147483648||(z/=2,++xe,he=z>>>0),z-=he,he|=2147483648,he>>>=0,z*=Math.pow(2,32),oe=z>>>0,ne.write_shift(4,oe),ne.write_shift(4,he),xe+=16383+(te?32768:0),ne.write_shift(2,xe),ne}function E(P,U){var V=T(P);return P.l+=U-14,V}function C(P,U){var V=R(P),z=P.read_shift(4);return V[1].v=z>>6,V}function D(P,U){var V=R(P),z=P.read_shift(8,"f");return V[1].v=z,V}function q(P,U){var V=D(P);return P.l+=U-10,V}function ee(P,U){return P[P.l+U-1]==0?P.read_shift(U,"cstr"):""}function le(P,U){var V=P[P.l++];V>U-1&&(V=U-1);for(var z="";z.length<V;)z+=String.fromCharCode(P[P.l++]);return z}function se(P,U,V){if(!(!V.qpro||U<21)){var z=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var ne=P.read_shift(U-21,"cstr");return[z,ne]}}function K(P,U){for(var V={},z=P.l+U;P.l<z;){var ne=P.read_shift(2);if(ne==14e3){for(V[ne]=[0,""],V[ne][0]=P.read_shift(2);P[P.l];)V[ne][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return V}function X(P,U){var V=$e(5+P.length);V.write_shift(2,14e3),V.write_shift(2,U);for(var z=0;z<P.length;++z){var ne=P.charCodeAt(z);V[V.l++]=ne>127?95:ne}return V[V.l++]=0,V}var _e={0:{n:"BOF",f:Xi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:d},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:le},65535:{n:""}},Se={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:O},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:K},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:q},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:se},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:t}}();function zue(e){var t={},r=e.match(Cs),n=0,i=!1;if(r)for(;n!=r.length;++n){var a=lr(r[n]);switch(a[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!a.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(a.val=="1")break;t.cp=_3[parseInt(a.val,10)];break;case"<outline":if(!a.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=a.val;break;case"<sz":t.sz=a.val;break;case"<strike":if(!a.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!a.val)break;switch(a.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(a.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(a.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":a.rgb&&(t.color=a.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=a.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=a.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(a[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+a[0])}}return t}var Wue=function(){var e=py("t"),t=py("rPr");function r(a){var s=a.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Gr(s[1])},l=a.match(t);return l&&(o.s=zue(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(i).map(r).filter(function(o){return o.v})}}(),Hue=function(){var t=/(\r\n|\n)/g;function r(i,a,s){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),a.push('<span style="'+o.join("")+'">'),i.b&&(a.push("<b>"),s.push("</b>")),i.i&&(a.push("<i>"),s.push("</i>")),i.strike&&(a.push("<s>"),s.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(a.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),i}function n(i){var a=[[],i.v,[]];return i.v?(i.s&&r(i.s,a[0],a[2]),a[0].join("")+a[1].replace(t,"<br/>")+a[2].join("")):""}return function(a){return a.map(n).join("")}}(),que=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Gue=/<(?:\w+:)?r>/,Kue=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function q3(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Gr(_n(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=_n(e),r&&(n.h=O3(n.t))):e.match(Gue)&&(n.r=_n(e),n.t=Gr(_n((e.replace(Kue,"").match(que)||[]).join("").replace(Cs,""))),r&&(n.h=Hue(Wue(n.r)))),n):{t:""}}var Xue=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Yue=/<(?:\w+:)?(?:si|sstItem)>/g,Jue=/<\/(?:\w+:)?(?:si|sstItem)>/;function Que(e,t){var r=[],n="";if(!e)return r;var i=e.match(Xue);if(i){n=i[2].replace(Yue,"").split(Jue);for(var a=0;a!=n.length;++a){var s=q3(n[a].trim(),t);s!=null&&(r[r.length]=s)}i=lr(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var Zue=/^\s|\s$|[\t\n\r]/;function mW(e,t){if(!t.bookSST)return"";var r=[$i];r[r.length]=ft("sst",null,{xmlns:dp[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var i=e[n],a="<si>";i.r?a+=i.r:(a+="<t",i.t||(i.t=""),i.t.match(Zue)&&(a+=' xml:space="preserve"'),a+=">"+pn(i.t)+"</t>"),a+="</si>",r[r.length]=a}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function efe(e){return[e.read_shift(4),e.read_shift(4)]}function tfe(e,t){var r=[],n=!1;return Of(e,function(a,s,o){switch(o){case 159:r.Count=a[0],r.Unique=a[1];break;case 19:r.push(a);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function rfe(e,t){return t||(t=$e(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var nfe=hle;function ife(e){var t=vo();tt(t,159,rfe(e));for(var r=0;r<e.length;++r)tt(t,19,nfe(e[r]));return tt(t,160),t.end()}function gW(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function sf(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function afe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=sf(e,4),t.U=sf(e,4),t.W=sf(e,4),t}function sfe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},i=e.read_shift(4),a=[];i-- >0;)a.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=a,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function ofe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(sfe(e));return t}function lfe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function cfe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=sf(e,4),t.U=sf(e,4),t.W=sf(e,4),t}function ufe(e){var t=cfe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function vW(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function yW(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function ffe(e){var t=sf(e);switch(t.Minor){case 2:return[t.Minor,dfe(e)];case 3:return[t.Minor,hfe()];case 4:return[t.Minor,pfe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function dfe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=vW(e,r),i=yW(e,e.length-e.l);return{t:"Std",h:n,v:i}}function hfe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function pfe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Cs,function(a){var s=lr(a);switch(wu(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function mfe(e,t){var r={},n=r.EncryptionVersionInfo=sf(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var i=e.read_shift(4);return t-=4,r.EncryptionHeader=vW(e,i),t-=i,r.EncryptionVerifier=yW(e,t),r}function gfe(e){var t={},r=t.EncryptionVersionInfo=sf(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function G3(e){var t=0,r,n=gW(e),i=n.length+1,a,s,o,l,c;for(r=Zd(i),r[0]=n.length,a=1;a!=i;++a)r[a]=n[a-1];for(a=i-1;a>=0;--a)s=r[a],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var xW=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},i=function(s,o){return n(s^o)},a=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=gW(s),l=a(o),c=o.length,u=Zd(16),f=0;f!=16;++f)u[f]=0;var d,h,g;for((c&1)===1&&(d=l>>8,u[c]=i(e[0],d),--c,d=l&255,h=o[o.length-1],u[c]=i(h,d));c>0;)--c,d=l>>8,u[c]=i(o[c],d),--c,d=l&255,u[c]=i(o[c],d);for(c=15,g=15-o.length;g>0;)d=l>>8,u[c]=i(e[g],d),--c,--g,d=l&255,u[c]=i(o[c],d),--c,--g;return u}}(),vfe=function(e,t,r,n,i){i||(i=t),n||(n=xW(e));var a,s;for(a=0;a!=t.length;++a)s=t[a],s^=n[r],s=(s>>5|s<<3)&255,i[a]=s,++r;return[i,r,n]},yfe=function(e){var t=0,r=xW(e);return function(n){var i=vfe("",n,t,r);return t=i[1],i[0]}};function xfe(e,t,r,n){var i={key:Xi(e),verificationBytes:Xi(e)};return r.password&&(i.verifier=G3(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=yfe(r.password)),i}function wfe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=gfe(e):n.Data=mfe(e,t),n}function bfe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?wfe(e,t-2,n):xfe(e,r.biff>=8?t:t-2,r,n),n}var wW=function(){function e(i,a){switch(a.type){case"base64":return t(il(i),a);case"binary":return t(i,a);case"buffer":return t(Sr&&Buffer.isBuffer(i)?i.toString("binary"):wh(i),a);case"array":return t(V0(i),a)}throw new Error("Unrecognized type "+a.type)}function t(i,a){var s=a||{},o=s.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var d=/\\\w+\b/g,h=0,g,m=-1;g=d.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(h,d.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][m]=y:o[nr({r:f,c:m})]=y}break}h=d.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=vr(c),o}function r(i,a){return bh(e(i,a),a)}function n(i){for(var a=["{\\rtf1\\ansi"],s=Kr(i["!ref"]),o,l=Array.isArray(i),c=s.s.r;c<=s.e.r;++c){a.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)a.push("\\cellx"+(u+1));for(a.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=nr({r:c,c:u});o=l?(i[c]||[])[u]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(a.push(" "+(o.w||(vf(o),o.w))),a.push("\\cell"))}a.push("\\pard\\intbl\\row")}return a.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function _fe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function yy(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Sfe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.max(t,r,n),a=Math.min(t,r,n),s=i-a;if(s===0)return[0,0,t];var o=0,l=0,c=i+a;switch(l=s/(c>1?2-c:c),i){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function Efe(e){var t=e[0],r=e[1],n=e[2],i=r*2*(n<.5?n:1-n),a=n-i/2,s=[a,a,a],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=i*o,s[0]+=i,s[1]+=l;break;case 1:l=i*(2-o),s[0]+=l,s[1]+=i;break;case 2:l=i*(o-2),s[1]+=i,s[2]+=l;break;case 3:l=i*(4-o),s[1]+=l,s[2]+=i;break;case 4:l=i*(o-4),s[2]+=i,s[0]+=l;break;case 5:l=i*(6-o),s[2]+=l,s[0]+=i;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function Jb(e,t){if(t===0)return e;var r=Sfe(_fe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),yy(Efe(r))}var bW=6,Afe=15,Tfe=1,xs=bW;function xy(e){return Math.floor((e+Math.round(128/xs)/256)*xs)}function wy(e){return Math.floor((e-5)/xs*100+.5)/100}function Qb(e){return Math.round((e*xs+5)/xs*256)/256}function SA(e){return Qb(wy(xy(e)))}function K3(e){var t=Math.abs(e-SA(e)),r=xs;if(t>.005)for(xs=Tfe;xs<Afe;++xs)Math.abs(e-SA(e))<=t&&(t=Math.abs(e-SA(e)),r=xs);xs=r}function eh(e){e.width?(e.wpx=xy(e.width),e.wch=wy(e.wpx),e.MDW=xs):e.wpx?(e.wch=wy(e.wpx),e.width=Qb(e.wch),e.MDW=xs):typeof e.wch=="number"&&(e.width=Qb(e.wch),e.wpx=xy(e.width),e.MDW=xs),e.customWidth&&delete e.customWidth}var kfe=96,_W=kfe;function by(e){return e*96/_W}function ig(e){return e*_W/96}var Nfe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Cfe(e,t,r,n){t.Borders=[];var i={},a=!1;(e[0].match(Cs)||[]).forEach(function(s){var o=lr(s);switch(wu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Un(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Un(o.diagonalDown)),t.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in borders")}})}function Pfe(e,t,r,n){t.Fills=[];var i={},a=!1;(e[0].match(Cs)||[]).forEach(function(s){var o=lr(s);switch(wu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},t.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fills")}})}function Ife(e,t,r,n){t.Fonts=[];var i={},a=!1;(e[0].match(Cs)||[]).forEach(function(s){var o=lr(s);switch(wu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=_n(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Un(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Un(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Un(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Un(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Un(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Un(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Un(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=_3[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Un(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=_0[i.color.index];i.color.index==81&&(l=_0[1]),l||(l=_0[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=Jb(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(n&&n.WTF&&!a)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Ofe(e,t,r){t.NumberFmt=[];for(var n=Ai(tr),i=0;i<n.length;++i)t.NumberFmt[n[i]]=tr[n[i]];var a=e[0].match(Cs);if(a)for(i=0;i<a.length;++i){var s=lr(a[i]);switch(wu(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Gr(_n(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}af(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function Dfe(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ft("numFmt",null,{numFmtId:n,formatCode:pn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ft("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var G2=["numFmtId","fillId","fontId","borderId","xfId"],K2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Rfe(e,t,r){t.CellXf=[];var n,i=!1;(e[0].match(Cs)||[]).forEach(function(a){var s=lr(a),o=0;switch(wu(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<G2.length;++o)n[G2[o]]&&(n[G2[o]]=parseInt(n[G2[o]],10));for(o=0;o<K2.length;++o)n[K2[o]]&&(n[K2[o]]=Un(n[K2[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Un(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function Lfe(e){var t=[];return t[t.length]=ft("cellXfs",null),e.forEach(function(r){t[t.length]=ft("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ft("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var jfe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,a=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&Ofe(f,u,c),(f=o.match(i))&&Ife(f,u,l,c),(f=o.match(n))&&Pfe(f,u,l,c),(f=o.match(a))&&Cfe(f,u,l,c),(f=o.match(r))&&Rfe(f,u,c),u}}();function SW(e,t){var r=[$i,ft("styleSheet",null,{xmlns:dp[0],"xmlns:vt":ha.vt})],n;return e.SSF&&(n=Dfe(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Lfe(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Ffe(e,t){var r=e.read_shift(2),n=Es(e);return[r,n]}function Mfe(e,t,r){r||(r=$e(6+4*t.length)),r.write_shift(2,e),Oa(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Bfe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var i=wle(e);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var a=e.read_shift(2);switch(a===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=xle(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Es(e),n}function Ufe(e,t){t||(t=$e(25+4*32)),t.write_shift(2,e.sz*20),ble(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Kb(e.color,t);var n=0;return n=2,t.write_shift(1,n),Oa(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Vfe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],EA,$fe=ks;function W8(e,t){t||(t=$e(4*3+8*7+16*1)),EA||(EA=$5(Vfe));var r=EA[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Kb({auto:1},t),Kb({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function zfe(e,t){var r=e.l+t,n=e.read_shift(2),i=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:i}}function EW(e,t,r){r||(r=$e(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function R1(e,t){return t||(t=$e(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Wfe=ks;function Hfe(e,t){return t||(t=$e(51)),t.write_shift(1,0),R1(null,t),R1(null,t),R1(null,t),R1(null,t),R1(null,t),t.length>t.l?t.slice(0,t.l):t}function qfe(e,t){return t||(t=$e(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Gb(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Gfe(e,t,r){var n=$e(2052);return n.write_shift(4,e),Gb(t,n),Gb(r,n),n.length>n.l?n.slice(0,n.l):n}function Kfe(e,t,r){var n={};n.NumberFmt=[];for(var i in tr)n.NumberFmt[i]=tr[i];n.CellXf=[],n.Fonts=[];var a=[],s=!1;return Of(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],af(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Jb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:a[a.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:a.push(u),s=!0;break;case 38:a.pop(),s=!1;break;default:if(c.T>0)a.push(u);else if(c.T<0)a.pop();else if(!s||r.WTF&&a[a.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function Xfe(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&++r}),r!=0&&(tt(e,615,_c(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&tt(e,44,Mfe(i,t[i]))}),tt(e,616))}}function Yfe(e){var t=1;tt(e,611,_c(t)),tt(e,43,Ufe({sz:12,color:{theme:1},name:"Calibri",family:2})),tt(e,612)}function Jfe(e){var t=2;tt(e,603,_c(t)),tt(e,45,W8({patternType:"none"})),tt(e,45,W8({patternType:"gray125"})),tt(e,604)}function Qfe(e){var t=1;tt(e,613,_c(t)),tt(e,46,Hfe()),tt(e,614)}function Zfe(e){var t=1;tt(e,626,_c(t)),tt(e,47,EW({numFmtId:0},65535)),tt(e,627)}function ede(e,t){tt(e,617,_c(t.length)),t.forEach(function(r){tt(e,47,EW(r,0))}),tt(e,618)}function tde(e){var t=1;tt(e,619,_c(t)),tt(e,48,qfe({xfId:0,name:"Normal"})),tt(e,620)}function rde(e){var t=0;tt(e,505,_c(t)),tt(e,506)}function nde(e){var t=0;tt(e,508,Gfe(t,"TableStyleMedium9","PivotStyleMedium4")),tt(e,509)}function ide(e,t){var r=vo();return tt(r,278),Xfe(r,e.SSF),Yfe(r),Jfe(r),Qfe(r),Zfe(r),ede(r,t.cellXfs),tde(r),rde(r),nde(r),tt(r,279),r.end()}var ade=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function sde(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Cs)||[]).forEach(function(i){var a=lr(i);switch(a[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=a.val;break;case"<a:sysClr":n.rgb=a.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":a[0].charAt(1)==="/"?(t.themeElements.clrScheme[ade.indexOf(a[0])]=n,n={}):n.name=a[0].slice(3,a[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+a[0]+" in clrScheme")}})}function ode(){}function lde(){}var cde=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,ude=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,fde=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function dde(e,t,r){t.themeElements={};var n;[["clrScheme",cde,sde],["fontScheme",ude,ode],["fmtScheme",fde,lde]].forEach(function(i){if(!(n=e.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,t,r)})}var hde=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function AW(e,t){(!e||e.length===0)&&(e=X3());var r,n={};if(!(r=e.match(hde)))throw new Error("themeElements not found in theme");return dde(r[0],n,t),n.raw=e,n}function X3(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[$i];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function pde(e,t,r){var n=e.l+t,i=e.read_shift(4);if(i!==124226){if(!r.cellStyles){e.l=n;return}var a=e.slice(e.l);e.l=n;var s;try{s=vz(a,{type:"array"})}catch{return}var o=Ho(s,"theme/theme/theme1.xml",!0);if(o)return AW(o,r)}}function mde(e){return e.read_shift(4)}function gde(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=vde(e,4);break;case 2:t.xclrValue=iW(e);break;case 3:t.xclrValue=mde(e);break;case 4:e.l+=4;break}return e.l+=8,t}function vde(e,t){return ks(e,t)}function yde(e,t){return ks(e,t)}function xde(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=gde(e);break;case 6:n[1]=yde(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function wde(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var i=e.read_shift(2),a=[];i-- >0;)a.push(xde(e,r-e.l));return{ixfe:n,ext:a}}function bde(e,t){t.forEach(function(r){switch(r[0]){}})}function _de(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Es(e)}}function Sde(e){var t=$e(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Oa(e.name,t),t.slice(0,t.l)}function Ede(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Ade(e){var t=$e(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Tde(e,t){var r=$e(8+2*t.length);return r.write_shift(4,e),Oa(t,r),r.slice(0,r.l)}function kde(e){return e.l+=4,e.read_shift(4)!=0}function Nde(e,t){var r=$e(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Cde(e,t,r){var n={Types:[],Cell:[],Value:[]},i=r||{},a=[],s=!1,o=2;return Of(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:a.push(u),s=!0;break;case 36:a.pop(),s=!1;break;default:if(!c.T){if(!s||i.WTF&&a[a.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Pde(){var e=vo();return tt(e,332),tt(e,334,_c(1)),tt(e,335,Sde({name:"XLDAPR",version:12e4,flags:3496657072})),tt(e,336),tt(e,339,Tde(1,"XLDAPR")),tt(e,52),tt(e,35,_c(514)),tt(e,4096,_c(0)),tt(e,4097,Nl(1)),tt(e,36),tt(e,53),tt(e,340),tt(e,337,Nde(1)),tt(e,51,Ade([[1,0]])),tt(e,338),tt(e,333),e.end()}function Ide(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var i=!1,a=2,s;return e.replace(Cs,function(o){var l=lr(o);switch(wu(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":a==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):a==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":a=1;break;case"</cellMetadata>":a=2;break;case"<valueMetadata":a=0;break;case"</valueMetadata>":a=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function TW(){var e=[$i];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Ode(e){var t=[];if(!e)return t;var r=1;return(e.match(Cs)||[]).forEach(function(n){var i=lr(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,t.push(i);break}}),t}function Dde(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=nr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Rde(e,t,r){var n=[];return Of(e,function(a,s,o){switch(o){case 63:n.push(a);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Lde(e,t,r,n){if(!e)return e;var i=n||{},a=!1;Of(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:a=!0;break;case 36:a=!1;break;default:if(!l.T){if(!a||i.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},i)}function jde(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var fm=1024;function kW(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[ft("xml",null,{"xmlns:v":Uo.v,"xmlns:o":Uo.o,"xmlns:x":Uo.x,"xmlns:mv":Uo.mv}).replace(/\/>/,">"),ft("o:shapelayout",ft("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ft("v:shapetype",[ft("v:stroke",null,{joinstyle:"miter"}),ft("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];fm<e*1e3;)fm+=1e3;return t.forEach(function(a){var s=ci(a[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?ft("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=ft("v:fill",l,o),u={on:"t",obscured:"t"};++fm,i=i.concat(["<v:shape"+my({id:"_x0000_s"+fm,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(a[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,ft("v:shadow",null,u),ft("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Qa("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Qa("x:AutoFill","False"),Qa("x:Row",String(s.r)),Qa("x:Column",String(s.c)),a[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function H8(e,t,r,n){var i=Array.isArray(e),a;t.forEach(function(s){var o=ci(s.ref);if(i?(e[o.r]||(e[o.r]=[]),a=e[o.r][o.c]):a=e[s.ref],!a){a={t:"z"},i?e[o.r][o.c]=a:e[s.ref]=a;var l=Kr(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=vr(l);c!==e["!ref"]&&(e["!ref"]=c)}a.c||(a.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=a.c.length-1;f>=0;--f){if(!r&&a.c[f].T)return;r&&!a.c[f].T&&a.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}a.c.push(u)})}function Fde(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var a=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return a&&a[1]&&a[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=lr(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=ci(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),d=!!f&&!!f[1]&&q3(f[1])||{r:"",t:"",h:""};c.r=d.r,d.r=="<t></t>"&&(d.t=d.h=""),c.t=(d.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=d.h),n.push(c)}}}}),n}function NW(e){var t=[$i,ft("comments",null,{xmlns:dp[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(i){var a=pn(i.a);r.indexOf(a)==-1&&(r.push(a),t.push("<author>"+a+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),t.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var i=0,a=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(pn(l.a))),a.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),a.length<=1)t.push(Qa("t",pn(a[0]||"")));else{for(var s=`Comment:
    `+a[0]+`
`,o=1;o<a.length;++o)s+=`Reply:
    `+a[o]+`
`;t.push(Qa("t",pn(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Mde(e,t){var r=[],n=!1,i={},a=0;return e.replace(Cs,function(o,l){var c=lr(o);switch(wu(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":a=l+o.length;break;case"</text>":i.t=e.slice(a,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Bde(e,t,r){var n=[$i,ft("ThreadedComments",null,{xmlns:ha.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(i){var a="";(i[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?a=l.id:l.parentId=a,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(ft("threadedComment",Qa("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function Ude(e,t){var r=[],n=!1;return e.replace(Cs,function(a){var s=lr(a);switch(wu(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return a}),r}function Vde(e){var t=[$i,ft("personList",null,{xmlns:ha.TCMNT,"xmlns:x":dp[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ft("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function $de(e){var t={};t.iauthor=e.read_shift(4);var r=gp(e);return t.rfx=r.s,t.ref=nr(r.s),e.l+=16,t}function zde(e,t){return t==null&&(t=$e(36)),t.write_shift(4,e[1].iauthor),Og(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Wde=Es;function Hde(e){return Oa(e.slice(0,54))}function qde(e,t){var r=[],n=[],i={},a=!1;return Of(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,t.sheetRows&&i.rfx&&t.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!a||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function Gde(e){var t=vo(),r=[];return tt(t,628),tt(t,630),e.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),tt(t,632,Hde(i.a)))})}),tt(t,631),tt(t,633),e.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var a={s:ci(n[0]),e:ci(n[0])};tt(t,635,zde([a,i])),i.t&&i.t.length>0&&tt(t,637,mle(i)),tt(t,636),delete i.iauthor})}),tt(t,634),tt(t,629),t.end()}var Kde="application/vnd.ms-office.vbaProject";function Xde(e){var t=Gt.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Gt.utils.cfb_add(t,i,e.FileIndex[n].content)}}),Gt.write(t)}function Yde(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Gt.utils.cfb_add(e,i,t.FileIndex[n].content)}})}var CW=["xlsb","xlsm","xlam","biff8","xla"];function Jde(){return{"!type":"dialog"}}function Qde(){return{"!type":"dialog"}}function Zde(){return{"!type":"macro"}}function ehe(){return{"!type":"macro"}}var Pm=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,i,a,s){var o=!1,l=!1;a.length==0?l=!0:a.charAt(0)=="["&&(l=!0,a=a.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=a.length>0?parseInt(a,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,i+(o?"":"$")+li(u)+(l?"":"$")+Vi(c)}return function(i,a){return t=a,i.replace(e,r)}}(),Y3=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,J3=function(){return function(t,r){return t.replace(Y3,function(n,i,a,s,o,l){var c=F3(s)-(a?0:r.c),u=j3(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",d=c==0?"":a?c+1:"["+c+"]";return i+"R"+f+"C"+d})}}();function PW(e,t){return e.replace(Y3,function(r,n,i,a,s,o){return n+(i=="$"?i+a:li(F3(a)+t.c))+(s=="$"?s+o:Vi(j3(o)+t.r))})}function the(e,t,r){var n=wo(t),i=n.s,a=ci(r),s={r:a.r-i.r,c:a.c-i.c};return PW(e,s)}function rhe(e){return e.length!=1}function q8(e){return e.replace(/_xlfn\./g,"")}function qi(e){e.l+=1}function th(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function IW(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return OW(e);r.biff==12&&(n=4)}var i=e.read_shift(n),a=e.read_shift(n),s=th(e),o=th(e);return{s:{r:i,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function OW(e){var t=th(e),r=th(e),n=e.read_shift(1),i=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function nhe(e,t,r){if(r.biff<8)return OW(e);var n=e.read_shift(r.biff==12?4:2),i=e.read_shift(r.biff==12?4:2),a=th(e),s=th(e);return{s:{r:n,c:a[0],cRel:a[1],rRel:a[2]},e:{r:i,c:s[0],cRel:s[1],rRel:s[2]}}}function DW(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return ihe(e);var n=e.read_shift(r&&r.biff==12?4:2),i=th(e);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function ihe(e){var t=th(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function ahe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function she(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ohe(e);var i=e.read_shift(n>=12?4:2),a=e.read_shift(2),s=(a&16384)>>14,o=(a&32768)>>15;if(a&=16383,o==1)for(;i>524287;)i-=1048576;if(s==1)for(;a>8191;)a=a-16384;return{r:i,c:a,cRel:s,rRel:o}}function ohe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,i=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),i==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:i,rRel:n}}function lhe(e,t,r){var n=(e[e.l++]&96)>>5,i=IW(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function che(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2,"i"),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}var s=IW(e,a,r);return[n,i,s]}function uhe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function fhe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=8;if(r)switch(r.biff){case 5:e.l+=12,a=6;break;case 12:a=12;break}return e.l+=a,[n,i]}function dhe(e,t,r){var n=(e[e.l++]&96)>>5,i=nhe(e,t-1,r);return[n,i]}function hhe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function G8(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function phe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),i=[],a=0;a<=n;++a)i.push(e.read_shift(r&&r.biff==2?1:2));return i}function mhe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function ghe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function vhe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function yhe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function RW(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function xhe(e){return e.read_shift(2),RW(e)}function whe(e){return e.read_shift(2),RW(e)}function bhe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=DW(e,0,r);return[n,i]}function _he(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=she(e,0,r);return[n,i]}function She(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var a=DW(e,0,r);return[n,i,a]}function Ehe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var i=e.read_shift(r&&r.biff<=3?1:2);return[k0e[i],FW[i],n]}function Ahe(e,t,r){var n=e[e.l++],i=e.read_shift(1),a=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:The(e);return[i,(a[0]===0?FW:T0e)[a[1]]]}function The(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function khe(e,t,r){e.l+=r&&r.biff==2?3:4}function Nhe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function Che(e){return e.l++,Df[e.read_shift(1)]}function Phe(e){return e.l++,e.read_shift(2)}function Ihe(e){return e.l++,e.read_shift(1)!==0}function Ohe(e){return e.l++,_s(e)}function Dhe(e,t,r){return e.l++,ux(e,t-1,r)}function Rhe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ii(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Df[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=_s(e);break;case 2:r[1]=vp(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Lhe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),i=[],a=0;a!=n;++a)i.push((r.biff==12?gp:H5)(e));return i}function jhe(e,t,r){var n=0,i=0;r.biff==12?(n=e.read_shift(4),i=e.read_shift(4)):(i=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var a=0,s=[];a!=n&&(s[a]=[]);++a)for(var o=0;o!=i;++o)s[a][o]=Rhe(e,r.biff);return s}function Fhe(e,t,r){var n=e.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,a=e.read_shift(i);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,a]}function Mhe(e,t,r){if(r.biff==5)return Bhe(e);var n=e.read_shift(1)>>>5&3,i=e.read_shift(2),a=e.read_shift(4);return[n,i,a]}function Bhe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Uhe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function Vhe(e,t,r){var n=e.read_shift(1)>>>5&3,i=e.read_shift(r&&r.biff==2?1:2);return[n,i]}function $he(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function zhe(e,t,r){var n=(e[e.l++]&96)>>5,i=e.read_shift(2),a=4;if(r)switch(r.biff){case 5:a=15;break;case 12:a=6;break}return e.l+=a,[n,i]}var Whe=ks,Hhe=ks,qhe=ks;function dx(e,t,r){return e.l+=2,[ahe(e)]}function Q3(e){return e.l+=6,[]}var Ghe=dx,Khe=Q3,Xhe=Q3,Yhe=dx;function LW(e){return e.l+=2,[Xi(e),e.read_shift(2)&1]}var Jhe=dx,Qhe=LW,Zhe=Q3,e0e=dx,t0e=dx,r0e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function n0e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),i=e.read_shift(2),a=e.read_shift(2),s=r0e[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:i,C:a}}function i0e(e){return e.l+=2,[e.read_shift(4)]}function a0e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function s0e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function o0e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function l0e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function c0e(e){return e.l+=4,[0,0]}var K8={1:{n:"PtgExp",f:Nhe},2:{n:"PtgTbl",f:qhe},3:{n:"PtgAdd",f:qi},4:{n:"PtgSub",f:qi},5:{n:"PtgMul",f:qi},6:{n:"PtgDiv",f:qi},7:{n:"PtgPower",f:qi},8:{n:"PtgConcat",f:qi},9:{n:"PtgLt",f:qi},10:{n:"PtgLe",f:qi},11:{n:"PtgEq",f:qi},12:{n:"PtgGe",f:qi},13:{n:"PtgGt",f:qi},14:{n:"PtgNe",f:qi},15:{n:"PtgIsect",f:qi},16:{n:"PtgUnion",f:qi},17:{n:"PtgRange",f:qi},18:{n:"PtgUplus",f:qi},19:{n:"PtgUminus",f:qi},20:{n:"PtgPercent",f:qi},21:{n:"PtgParen",f:qi},22:{n:"PtgMissArg",f:qi},23:{n:"PtgStr",f:Dhe},26:{n:"PtgSheet",f:a0e},27:{n:"PtgEndSheet",f:s0e},28:{n:"PtgErr",f:Che},29:{n:"PtgBool",f:Ihe},30:{n:"PtgInt",f:Phe},31:{n:"PtgNum",f:Ohe},32:{n:"PtgArray",f:hhe},33:{n:"PtgFunc",f:Ehe},34:{n:"PtgFuncVar",f:Ahe},35:{n:"PtgName",f:Fhe},36:{n:"PtgRef",f:bhe},37:{n:"PtgArea",f:lhe},38:{n:"PtgMemArea",f:Uhe},39:{n:"PtgMemErr",f:Whe},40:{n:"PtgMemNoMem",f:Hhe},41:{n:"PtgMemFunc",f:Vhe},42:{n:"PtgRefErr",f:$he},43:{n:"PtgAreaErr",f:uhe},44:{n:"PtgRefN",f:_he},45:{n:"PtgAreaN",f:dhe},46:{n:"PtgMemAreaN",f:o0e},47:{n:"PtgMemNoMemN",f:l0e},57:{n:"PtgNameX",f:Mhe},58:{n:"PtgRef3d",f:She},59:{n:"PtgArea3d",f:che},60:{n:"PtgRefErr3d",f:zhe},61:{n:"PtgAreaErr3d",f:fhe},255:{}},u0e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},f0e={1:{n:"PtgElfLel",f:LW},2:{n:"PtgElfRw",f:e0e},3:{n:"PtgElfCol",f:Ghe},6:{n:"PtgElfRwV",f:t0e},7:{n:"PtgElfColV",f:Yhe},10:{n:"PtgElfRadical",f:Jhe},11:{n:"PtgElfRadicalS",f:Zhe},13:{n:"PtgElfColS",f:Khe},15:{n:"PtgElfColSV",f:Xhe},16:{n:"PtgElfRadicalLel",f:Qhe},25:{n:"PtgList",f:n0e},29:{n:"PtgSxName",f:i0e},255:{}},d0e={0:{n:"PtgAttrNoop",f:c0e},1:{n:"PtgAttrSemi",f:yhe},2:{n:"PtgAttrIf",f:ghe},4:{n:"PtgAttrChoose",f:phe},8:{n:"PtgAttrGoto",f:mhe},16:{n:"PtgAttrSum",f:khe},32:{n:"PtgAttrBaxcel",f:G8},33:{n:"PtgAttrBaxcel",f:G8},64:{n:"PtgAttrSpace",f:xhe},65:{n:"PtgAttrSpaceSemi",f:whe},128:{n:"PtgAttrIfError",f:vhe},255:{}};function hx(e,t,r,n){if(n.biff<8)return ks(e,t);for(var i=e.l+t,a=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=jhe(e,0,n),a.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Lhe(e,r[s][1],n),a.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),a.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=i-e.l,t!==0&&a.push(ks(e,t)),a}function px(e,t,r){for(var n=e.l+t,i,a,s=[];n!=e.l;)t=n-e.l,a=e[e.l],i=K8[a]||K8[u0e[a]],(a===24||a===25)&&(i=(a===24?f0e:d0e)[e[e.l+1]]),!i||!i.f?ks(e,t):s.push([i.n,i.f(e,t,r)]);return s}function h0e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],i=[],a=0;a<n.length;++a){var s=n[a];if(s)switch(s[0]){case 2:i.push('"'+s[1].replace(/"/g,'""')+'"');break;default:i.push(s[1])}else i.push("")}t.push(i.join(","))}return t.join(";")}var p0e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function m0e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function jW(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(e[n[0]][0]){case 357:return i=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(a){return a.Name}).join(";;");default:return e[n[0]][0][3]?(i=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function X8(e,t,r){var n=jW(e,t,r);return n=="#REF"?n:m0e(n,r)}function vs(e,t,r,n,i){var a=i&&i.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,f=0,d=0,h,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,b=e[0].length;y<b;++y){var _=e[0][y];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=_i(" ",e[0][m][1][1]);break;case 1:v=_i("\r",e[0][m][1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+v,m=-1}o.push(c+p0e[_[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=xv(_[1][1],s,i),o.push(wv(u,a));break;case"PtgRefN":u=r?xv(_[1][1],r,i):_[1][1],o.push(wv(u,a));break;case"PtgRef3d":f=_[1][1],u=xv(_[1][2],s,i),g=X8(n,f,i),o.push(g+"!"+wv(u,a));break;case"PtgFunc":case"PtgFuncVar":var N=_[1][0],R=_[1][1];N||(N=0),N&=127;var O=N==0?[]:o.slice(-N);o.length-=N,R==="User"&&(R=O.shift()),o.push(R+"("+O.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":h=E8(_[1][1],r?{s:r}:s,i),o.push(wA(h,i));break;case"PtgArea":h=E8(_[1][1],s,i),o.push(wA(h,i));break;case"PtgArea3d":f=_[1][1],h=_[1][2],g=X8(n,f,i),o.push(g+"!"+wA(h,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":d=_[1][2];var k=(n.names||[])[d-1]||(n[0]||[])[d],S=k?k.Name:"SH33TJSNAME"+String(d);S&&S.slice(0,6)=="_xlfn."&&!i.xlfn&&(S=S.slice(6)),o.push(S);break;case"PtgNameX":var T=_[1][1];d=_[1][2];var j;if(i.biff<=5)T<0&&(T=-T),n[T]&&(j=n[T][d]);else{var E="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][d]&&n[T][d].itab>0&&(E=n.SheetNames[n[T][d].itab-1]+"!"):E=n.SheetNames[d-1]+"!"),n[T]&&n[T][d])E+=n[T][d].Name;else if(n[0]&&n[0][d])E+=n[0][d].Name;else{var C=(jW(n,T,i)||"").split(";;");C[d-1]?E=C[d-1]:E+="SH33TJSERRX"}o.push(E);break}j||(j={Name:"SH33TJSERRY"}),o.push(j.Name);break;case"PtgParen":var D="(",q=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:D=_i(" ",e[0][m][1][1])+D;break;case 3:D=_i("\r",e[0][m][1][1])+D;break;case 4:q=_i(" ",e[0][m][1][1])+q;break;case 5:q=_i("\r",e[0][m][1][1])+q;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(D+o.pop()+q);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:_[1][1],r:_[1][0]};var ee={c:r.c,r:r.r};if(n.sharedf[nr(u)]){var le=n.sharedf[nr(u)];o.push(vs(le,s,ee,n,i))}else{var se=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(vs(c[1],s,ee,n,i)),se=!0;break}se||o.push(_[1])}break;case"PtgArray":o.push("{"+h0e(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var K=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&m>=0&&K.indexOf(e[0][y][0])==-1){_=e[0][m];var X=!0;switch(_[1][0]){case 4:X=!1;case 0:v=_i(" ",_[1][1]);break;case 5:X=!1;case 1:v=_i("\r",_[1][1]);break;default:if(v="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((X?v:"")+o.pop()+(X?"":v)),m=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function g0e(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],ks(e,t-2)];var o=px(e,s,r);return t!==s+i&&(a=hx(e,t-s-i,o,r)),e.l=n,[o,a]}function v0e(e,t,r){var n=e.l+t,i=r.biff==2?1:2,a,s=e.read_shift(i);if(s==65535)return[[],ks(e,t-2)];var o=px(e,s,r);return t!==s+i&&(a=hx(e,t-s-i,o,r)),e.l=n,[o,a]}function y0e(e,t,r,n){var i=e.l+t,a=px(e,n,r),s;return i!==e.l&&(s=hx(e,i-e.l,a,r)),[a,s]}function x0e(e,t,r){var n=e.l+t,i,a=e.read_shift(2),s=px(e,a,r);return a==65535?[[],ks(e,t-2)]:(t!==a+2&&(i=hx(e,n-a-2,s,r)),[s,i])}function w0e(e){var t;if(Gu(e,e.l+6)!==65535)return[_s(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function b0e(e){if(e==null){var t=$e(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return $0(e);return $0(0)}function AA(e,t,r){var n=e.l+t,i=bu(e);r.biff==2&&++e.l;var a=w0e(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=v0e(e,n-e.l,r);return{cell:i,val:a[0],formula:o,shared:s>>3&1,tt:a[1]}}function _0e(e,t,r,n,i){var a=W0(t,r,i),s=b0e(e.v),o=$e(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=$e(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var f=Ca([a,s,o,c]);return f}function q5(e,t,r){var n=e.read_shift(4),i=px(e,n,r),a=e.read_shift(4),s=a>0?hx(e,a,i,r):null;return[i,s]}var S0e=q5,G5=q5,E0e=q5,A0e=q5,T0e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},FW={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},k0e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function Y8(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function N0e(e){var t="of:="+e.replace(Y3,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function TA(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function C0e(e){return e.replace(/\./,"!")}var _v={},Im={},Sv=typeof Map<"u";function Z3(e,t,r){var n=0,i=e.length;if(r){if(Sv?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var a=Sv?r.get(t):r[t];n<a.length;++n)if(e[a[n]].t===t)return e.Count++,a[n]}}else for(;n<i;++n)if(e[n].t===t)return e.Count++,n;return e[i]={t},e.Count++,e.Unique++,r&&(Sv?(r.has(t)||r.set(t,[]),r.get(t).push(i)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(i))),i}function K5(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(xs=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=wy(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Qb(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function A0(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function _h(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],i=60,a=e.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){af(t.z,i),r.ssf[i]=t.z,r.revssf[t.z]=n=i;break}}for(i=0;i!=a;++i)if(e[i].numFmtId===n)return i;return e[a]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function MW(e,t,r,n,i,a){try{n.cellNF&&(e.z=tr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=zn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(tr[t]==null&&af(Toe[t]||"General",t),e.t==="e")e.w=e.w||Df[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=hy(e.v);else if(e.t==="d"){var s=ga(e.v);(s|0)===s?e.w=s.toString(10):e.w=hy(s)}else{if(e.v===void 0)return"";e.w=U0(e.v,Im)}else e.t==="d"?e.w=Vl(t,ga(e.v),Im):e.w=Vl(t,e.v,Im)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=a.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Jb(i.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=i.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Jb(i.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=i.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&a.Fills)throw o}}}function P0e(e,t,r){if(e&&e["!ref"]){var n=Kr(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function I0e(e,t){var r=Kr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=vr(r))}var O0e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,D0e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,R0e=/<(?:\w:)?hyperlink [^>]*>/mg,L0e=/"(\w*:\w*)"/,j0e=/<(?:\w:)?col\b[^>]*[\/]?>/g,F0e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,M0e=/<(?:\w:)?pageMargins[^>]*\/>/g,BW=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,B0e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,U0e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function V0e(e,t,r,n,i,a,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(D0e);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var d=c.match(BW);d?eP(d[0],o,i,r):(d=c.match(B0e))&&z0e(d[0],d[1]||"",o,i,r);var h=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(h>0){var g=c.slice(h,h+50).match(L0e);g&&I0e(o,g[1])}var m=c.match(U0e);m&&m[1]&&rpe(m[1],i);var v=[];if(t.cellStyles){var y=c.match(j0e);y&&J0e(v,y)}f&&ape(f[1],o,t,l,a,s);var b=u.match(F0e);b&&(o["!autofilter"]=Z0e(b[0]));var _=[],N=u.match(O0e);if(N)for(h=0;h!=N.length;++h)_[h]=Kr(N[h].slice(N[h].indexOf('"')+1));var R=u.match(R0e);R&&K0e(o,R,n);var O=u.match(M0e);if(O&&(o["!margins"]=X0e(lr(O[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=vr(l)),t.sheetRows>0&&o["!ref"]){var k=Kr(o["!ref"]);t.sheetRows<=+k.e.r&&(k.e.r=t.sheetRows-1,k.e.r>l.e.r&&(k.e.r=l.e.r),k.e.r<k.s.r&&(k.s.r=k.e.r),k.e.c>l.e.c&&(k.e.c=l.e.c),k.e.c<k.s.c&&(k.s.c=k.e.c),o["!fullref"]=o["!ref"],o["!ref"]=vr(k))}return v.length>0&&(o["!cols"]=v),_.length>0&&(o["!merges"]=_),o}function $0e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+vr(e[r])+'"/>';return t+"</mergeCells>"}function eP(e,t,r,n){var i=lr(e);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Gr(_n(i.codeName)))}function z0e(e,t,r,n,i){eP(e.slice(0,e.indexOf(">")),r,n,i)}function W0e(e,t,r,n,i){var a=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}a=!0,s.codeName=Zc(pn(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+ft("outlinePr",null,c)}!a&&!o||(i[i.length]=ft("sheetPr",o,s))}var H0e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],q0e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function G0e(e){var t={sheet:1};return H0e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),q0e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=G3(e.password).toString(16).toUpperCase()),ft("sheetProtection",null,t)}function K0e(e,t,r){for(var n=Array.isArray(e),i=0;i!=t.length;++i){var a=lr(_n(t[i]),!0);if(!a.ref)return;var s=((r||{})["!id"]||[])[a.id];s?(a.Target=s.Target,a.location&&(a.Target+="#"+Gr(a.location))):(a.Target="#"+Gr(a.location),s={Target:a.Target,TargetMode:"Internal"}),a.Rel=s,a.tooltip&&(a.Tooltip=a.tooltip,delete a.tooltip);for(var o=Kr(a.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=nr({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=a):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=a)}}}function X0e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Y0e(e){return A0(e),ft("pageMargins",null,e)}function J0e(e,t){for(var r=!1,n=0;n!=t.length;++n){var i=lr(t[n],!0);i.hidden&&(i.hidden=Un(i.hidden));var a=parseInt(i.min,10)-1,s=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,K3(i.width)),eh(i);a<=s;)e[a++]=Wn(i)}}function Q0e(e,t){for(var r=["<cols>"],n,i=0;i!=t.length;++i)(n=t[i])&&(r[r.length]=ft("col",null,K5(i,n)));return r[r.length]="</cols>",r.join("")}function Z0e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function epe(e,t,r,n){var i=typeof e.ref=="string"?e.ref:vr(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,s=wo(i);s.s.r==s.e.r&&(s.e.r=wo(t["!ref"]).e.r,i=vr(s));for(var o=0;o<a.length;++o){var l=a[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ft("autoFilter",null,{ref:i})}var tpe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function rpe(e,t){t.Views||(t.Views=[{}]),(e.match(tpe)||[]).forEach(function(r,n){var i=lr(r);t.Views[n]||(t.Views[n]={}),+i.zoomScale&&(t.Views[n].zoom=+i.zoomScale),Un(i.rightToLeft)&&(t.Views[n].RTL=!0)})}function npe(e,t,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ft("sheetViews",ft("sheetView",null,i),{})}function ipe(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var i="",a=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":i=e.v?"1":"0";break;case"n":i=""+e.v;break;case"e":i=Df[e.v];break;case"d":n&&n.cellDates?i=zn(e.v,-1).toISOString():(e=Wn(e),e.t="n",i=""+(e.v=ga(zn(e.v)))),typeof e.z>"u"&&(e.z=tr[14]);break;default:i=e.v;break}var o=Qa("v",pn(i)),l={r:t},c=_h(n.cellXfs,e,n);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Qa("v",""+Z3(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=a&&(e.t=a,e.v=s),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=ft("f",pn(e.f),u)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),ft("c",o,l)}var ape=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,a=py("v"),s=py("f");return function(l,c,u,f,d,h){for(var g=0,m="",v=[],y=[],b=0,_=0,N=0,R="",O,k,S=0,T=0,j,E,C=0,D=0,q=Array.isArray(h.CellXf),ee,le=[],se=[],K=Array.isArray(c),X=[],_e={},Se=!1,P=!!u.sheetStubs,U=l.split(t),V=0,z=U.length;V!=z;++V){m=U[V].trim();var ne=m.length;if(ne!==0){var te=0;e:for(g=0;g<ne;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(k=lr(m.slice(te,g),!0),S=k.r!=null?parseInt(k.r,10):S+1,T=-1,u.sheetRows&&u.sheetRows<S)continue;_e={},Se=!1,k.ht&&(Se=!0,_e.hpt=parseFloat(k.ht),_e.hpx=ig(_e.hpt)),k.hidden=="1"&&(Se=!0,_e.hidden=!0),k.outlineLevel!=null&&(Se=!0,_e.level=+k.outlineLevel),Se&&(X[S-1]=_e)}break;case"<":te=g;break}if(te>=g)break;if(k=lr(m.slice(te,g),!0),S=k.r!=null?parseInt(k.r,10):S+1,T=-1,!(u.sheetRows&&u.sheetRows<S)){f.s.r>S-1&&(f.s.r=S-1),f.e.r<S-1&&(f.e.r=S-1),u&&u.cellStyles&&(_e={},Se=!1,k.ht&&(Se=!0,_e.hpt=parseFloat(k.ht),_e.hpx=ig(_e.hpt)),k.hidden=="1"&&(Se=!0,_e.hidden=!0),k.outlineLevel!=null&&(Se=!0,_e.level=+k.outlineLevel),Se&&(X[S-1]=_e)),v=m.slice(g).split(e);for(var xe=0;xe!=v.length&&v[xe].trim().charAt(0)=="<";++xe);for(v=v.slice(xe),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),b=g,_=0,N=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(b=0,R=y[1],_=0;_!=R.length&&!((N=R.charCodeAt(_)-64)<1||N>26);++_)b=26*b+N;--b,T=b}else++T;for(_=0;_!=m.length&&m.charCodeAt(_)!==62;++_);if(++_,k=lr(m.slice(0,_),!0),k.r||(k.r=nr({r:S-1,c:T})),R=m.slice(_),O={t:""},(y=R.match(a))!=null&&y[1]!==""&&(O.v=Gr(y[1])),u.cellFormula){if((y=R.match(s))!=null&&y[1]!==""){if(O.f=Gr(_n(y[1])).replace(/\r\n/g,`
`),u.xlfn||(O.f=q8(O.f)),y[0].indexOf('t="array"')>-1)O.F=(R.match(i)||[])[1],O.F.indexOf(":")>-1&&le.push([Kr(O.F),O.F]);else if(y[0].indexOf('t="shared"')>-1){E=lr(y[0]);var oe=Gr(_n(y[1]));u.xlfn||(oe=q8(oe)),se[parseInt(E.si,10)]=[E,oe,k.r]}}else(y=R.match(/<f[^>]*\/>/))&&(E=lr(y[0]),se[E.si]&&(O.f=the(se[E.si][1],se[E.si][2],k.r)));var he=ci(k.r);for(_=0;_<le.length;++_)he.r>=le[_][0].s.r&&he.r<=le[_][0].e.r&&he.c>=le[_][0].s.c&&he.c<=le[_][0].e.c&&(O.F=le[_][1])}if(k.t==null&&O.v===void 0)if(O.f||O.F)O.v=0,O.t="n";else if(P)O.t="z";else continue;else O.t=k.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),O.t){case"n":if(O.v==""||O.v==null){if(!P)continue;O.t="z"}else O.v=parseFloat(O.v);break;case"s":if(typeof O.v>"u"){if(!P)continue;O.t="z"}else j=_v[parseInt(O.v,10)],O.v=j.t,O.r=j.r,u.cellHTML&&(O.h=j.h);break;case"str":O.t="s",O.v=O.v!=null?_n(O.v):"",u.cellHTML&&(O.h=O3(O.v));break;case"inlineStr":y=R.match(n),O.t="s",y!=null&&(j=q3(y[1]))?(O.v=j.t,u.cellHTML&&(O.h=j.h)):O.v="";break;case"b":O.v=Un(O.v);break;case"d":u.cellDates?O.v=zn(O.v,1):(O.v=ga(zn(O.v,1)),O.t="n");break;case"e":(!u||u.cellText!==!1)&&(O.w=O.v),O.v=Vz[O.v];break}if(C=D=0,ee=null,q&&k.s!==void 0&&(ee=h.CellXf[k.s],ee!=null&&(ee.numFmtId!=null&&(C=ee.numFmtId),u.cellStyles&&ee.fillId!=null&&(D=ee.fillId))),MW(O,C,D,u,d,h),u.cellDates&&q&&O.t=="n"&&Cg(tr[C])&&(O.t="d",O.v=W5(O.v)),k.cm&&u.xlmeta){var Pe=(u.xlmeta.Cell||[])[+k.cm-1];Pe&&Pe.type=="XLDAPR"&&(O.D=!0)}if(K){var G=ci(k.r);c[G.r]||(c[G.r]=[]),c[G.r][G.c]=O}else c[k.r]=O}}}}X.length>0&&(c["!rows"]=X)}}();function spe(e,t,r,n){var i=[],a=[],s=Kr(e["!ref"]),o="",l,c="",u=[],f=0,d=0,h=e["!rows"],g=Array.isArray(e),m={r:c},v,y=-1;for(d=s.s.c;d<=s.e.c;++d)u[d]=li(d);for(f=s.s.r;f<=s.e.r;++f){for(a=[],c=Vi(f),d=s.s.c;d<=s.e.c;++d){l=u[d]+c;var b=g?(e[f]||[])[d]:e[l];b!==void 0&&(o=ipe(b,l,e,t))!=null&&a.push(o)}(a.length>0||h&&h[f])&&(m={r:c},h&&h[f]&&(v=h[f],v.hidden&&(m.hidden=1),y=-1,v.hpx?y=by(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(m.ht=y,m.customHeight=1),v.level&&(m.outlineLevel=v.level)),i[i.length]=ft("row",a.join(""),m))}if(h)for(;f<h.length;++f)h&&h[f]&&(m={r:f+1},v=h[f],v.hidden&&(m.hidden=1),y=-1,v.hpx?y=by(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(m.ht=y,m.customHeight=1),v.level&&(m.outlineLevel=v.level),i[i.length]=ft("row","",m));return i.join("")}function UW(e,t,r,n){var i=[$i,ft("worksheet",null,{xmlns:dp[0],"xmlns:r":ha.r})],a=r.SheetNames[e],s=0,o="",l=r.Sheets[a];l==null&&(l={});var c=l["!ref"]||"A1",u=Kr(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=vr(u)}n||(n={}),l["!comments"]=[];var f=[];W0e(l,r,e,t,i),i[i.length]=ft("dimension",null,{ref:c}),i[i.length]=npe(l,t,e,r),t.sheetFormat&&(i[i.length]=ft("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=Q0e(l,l["!cols"])),i[s=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=spe(l,t),o.length>0&&(i[i.length]=o)),i.length>s+1&&(i[i.length]="</sheetData>",i[s]=i[s].replace("/>",">")),l["!protect"]&&(i[i.length]=G0e(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=epe(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=$0e(l["!merges"]));var d=-1,h,g=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(m){m[1].Target&&(h={ref:m[0]},m[1].Target.charAt(0)!="#"&&(g=fn(n,-1,pn(m[1].Target).replace(/#.*$/,""),Ar.HLINK),h["r:id"]="rId"+g),(d=m[1].Target.indexOf("#"))>-1&&(h.location=pn(m[1].Target.slice(d+1))),m[1].Tooltip&&(h.tooltip=pn(m[1].Tooltip)),i[i.length]=ft("hyperlink",null,h))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=Y0e(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(i[i.length]=Qa("ignoredErrors",ft("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(g=fn(n,-1,"../drawings/drawing"+(e+1)+".xml",Ar.DRAW),i[i.length]=ft("drawing",null,{"r:id":"rId"+g}),l["!drawing"]=f),l["!comments"].length>0&&(g=fn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Ar.VML),i[i.length]=ft("legacyDrawing",null,{"r:id":"rId"+g}),l["!legacy"]=g),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function ope(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var i=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=n,a&7&&(r.level=a&7),a&16&&(r.hidden=!0),a&32&&(r.hpt=i/20),r}function lpe(e,t,r){var n=$e(145),i=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var a=320;i.hpx?a=by(i.hpx)*20:i.hpt&&(a=i.hpt*20),n.write_shift(2,a),n.write_shift(1,0);var s=0;i.level&&(s|=i.level),i.hidden&&(s|=16),(i.hpx||i.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,d=-1,h=u<<10;h<u+1<<10;++h){c.c=h;var g=Array.isArray(r)?(r[c.r]||[])[c.c]:r[nr(c)];g&&(f<0&&(f=h),d=h)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,d))}var m=n.l;return n.l=l,n.write_shift(4,o),n.l=m,n.length>n.l?n.slice(0,n.l):n}function cpe(e,t,r,n){var i=lpe(n,r,t);(i.length>17||(t["!rows"]||[])[n])&&tt(e,0,i)}var upe=gp,fpe=Og;function dpe(){}function hpe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=gle(e),r}function ppe(e,t,r){r==null&&(r=$e(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return Kb({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),jz(e,r),r.slice(0,r.l)}function mpe(e){var t=ql(e);return[t]}function gpe(e,t,r){return r==null&&(r=$e(8)),hp(t,r)}function vpe(e){var t=pp(e);return[t]}function ype(e,t,r){return r==null&&(r=$e(4)),mp(t,r)}function xpe(e){var t=ql(e),r=e.read_shift(1);return[t,r,"b"]}function wpe(e,t,r){return r==null&&(r=$e(9)),hp(t,r),r.write_shift(1,e.v?1:0),r}function bpe(e){var t=pp(e),r=e.read_shift(1);return[t,r,"b"]}function _pe(e,t,r){return r==null&&(r=$e(5)),mp(t,r),r.write_shift(1,e.v?1:0),r}function Spe(e){var t=ql(e),r=e.read_shift(1);return[t,r,"e"]}function Epe(e,t,r){return r==null&&(r=$e(9)),hp(t,r),r.write_shift(1,e.v),r}function Ape(e){var t=pp(e),r=e.read_shift(1);return[t,r,"e"]}function Tpe(e,t,r){return r==null&&(r=$e(8)),mp(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function kpe(e){var t=ql(e),r=e.read_shift(4);return[t,r,"s"]}function Npe(e,t,r){return r==null&&(r=$e(12)),hp(t,r),r.write_shift(4,t.v),r}function Cpe(e){var t=pp(e),r=e.read_shift(4);return[t,r,"s"]}function Ppe(e,t,r){return r==null&&(r=$e(8)),mp(t,r),r.write_shift(4,t.v),r}function Ipe(e){var t=ql(e),r=_s(e);return[t,r,"n"]}function Ope(e,t,r){return r==null&&(r=$e(16)),hp(t,r),$0(e.v,r),r}function VW(e){var t=pp(e),r=_s(e);return[t,r,"n"]}function Dpe(e,t,r){return r==null&&(r=$e(12)),mp(t,r),$0(e.v,r),r}function Rpe(e){var t=ql(e),r=V3(e);return[t,r,"n"]}function Lpe(e,t,r){return r==null&&(r=$e(12)),hp(t,r),Fz(e.v,r),r}function jpe(e){var t=pp(e),r=V3(e);return[t,r,"n"]}function Fpe(e,t,r){return r==null&&(r=$e(8)),mp(t,r),Fz(e.v,r),r}function Mpe(e){var t=ql(e),r=M3(e);return[t,r,"is"]}function Bpe(e){var t=ql(e),r=Es(e);return[t,r,"str"]}function Upe(e,t,r){return r==null&&(r=$e(12+4*e.v.length)),hp(t,r),Oa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Vpe(e){var t=pp(e),r=Es(e);return[t,r,"str"]}function $pe(e,t,r){return r==null&&(r=$e(8+4*e.v.length)),mp(t,r),Oa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function zpe(e,t,r){var n=e.l+t,i=ql(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"b"];if(r.cellFormula){e.l+=2;var o=G5(e,n-e.l,r);s[3]=vs(o,null,i,r.supbooks,r)}else e.l=n;return s}function Wpe(e,t,r){var n=e.l+t,i=ql(e);i.r=r["!row"];var a=e.read_shift(1),s=[i,a,"e"];if(r.cellFormula){e.l+=2;var o=G5(e,n-e.l,r);s[3]=vs(o,null,i,r.supbooks,r)}else e.l=n;return s}function Hpe(e,t,r){var n=e.l+t,i=ql(e);i.r=r["!row"];var a=_s(e),s=[i,a,"n"];if(r.cellFormula){e.l+=2;var o=G5(e,n-e.l,r);s[3]=vs(o,null,i,r.supbooks,r)}else e.l=n;return s}function qpe(e,t,r){var n=e.l+t,i=ql(e);i.r=r["!row"];var a=Es(e),s=[i,a,"str"];if(r.cellFormula){e.l+=2;var o=G5(e,n-e.l,r);s[3]=vs(o,null,i,r.supbooks,r)}else e.l=n;return s}var Gpe=gp,Kpe=Og;function Xpe(e,t){return t==null&&(t=$e(4)),t.write_shift(4,e),t}function Ype(e,t){var r=e.l+t,n=gp(e),i=B3(e),a=Es(e),s=Es(e),o=Es(e);e.l=r;var l={rfx:n,relId:i,loc:a,display:o};return s&&(l.Tooltip=s),l}function Jpe(e,t){var r=$e(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Og({s:ci(e[0]),e:ci(e[0])},r),U3("rId"+t,r);var n=e[1].Target.indexOf("#"),i=n==-1?"":e[1].Target.slice(n+1);return Oa(i||"",r),Oa(e[1].Tooltip||"",r),Oa("",r),r.slice(0,r.l)}function Qpe(){}function Zpe(e,t,r){var n=e.l+t,i=Mz(e),a=e.read_shift(1),s=[i];if(s[2]=a,r.cellFormula){var o=S0e(e,n-e.l,r);s[1]=o}else e.l=n;return s}function eme(e,t,r){var n=e.l+t,i=gp(e),a=[i];if(r.cellFormula){var s=A0e(e,n-e.l,r);a[1]=s,e.l=n}else e.l=n;return a}function tme(e,t,r){r==null&&(r=$e(18));var n=K5(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return t.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),t.level&&(i|=t.level<<8),r.write_shift(2,i),r}var $W=["left","right","top","bottom","header","footer"];function rme(e){var t={};return $W.forEach(function(r){t[r]=_s(e)}),t}function nme(e,t){return t==null&&(t=$e(6*8)),A0(e),$W.forEach(function(r){$0(e[r],t)}),t}function ime(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function ame(e,t,r){r==null&&(r=$e(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function sme(e){var t=$e(24);return t.write_shift(4,4),t.write_shift(4,1),Og(e,t),t}function ome(e,t){return t==null&&(t=$e(16*4+2)),t.write_shift(2,e.password?G3(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function lme(){}function cme(){}function ume(e,t,r,n,i,a,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,d=!1,h,g,m,v,y,b,_,N,R,O=[];o.biff=12,o["!row"]=0;var k=0,S=!1,T=[],j={},E=o.supbooks||i.supbooks||[[]];if(E.sharedf=j,E.arrayf=T,E.SheetNames=i.SheetNames||i.Sheets.map(function(K){return K.name}),!o.supbooks&&(o.supbooks=E,i.Names))for(var C=0;C<i.Names.length;++C)E[0][C+1]=i.Names[C];var D=[],q=[],ee=!1;_y[16]={n:"BrtShortReal",f:VW};var le;if(Of(e,function(X,_e,Se){if(!d)switch(Se){case 148:c=X;break;case 0:h=X,o.sheetRows&&o.sheetRows<=h.r&&(d=!0),N=Vi(v=h.r),o["!row"]=h.r,(X.hidden||X.hpt||X.level!=null)&&(X.hpt&&(X.hpx=ig(X.hpt)),q[X.r]=X);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:X[2]},X[2]){case"n":g.v=X[1];break;case"s":_=_v[X[1]],g.v=_.t,g.r=_.r;break;case"b":g.v=!!X[1];break;case"e":g.v=X[1],o.cellText!==!1&&(g.w=Df[g.v]);break;case"str":g.t="s",g.v=X[1];break;case"is":g.t="s",g.v=X[1].t;break}if((m=s.CellXf[X[0].iStyleRef])&&MW(g,m.numFmtId,null,o,a,s),y=X[0].c==-1?y+1:X[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[li(y)+N]=g,o.cellFormula){for(S=!1,k=0;k<T.length;++k){var P=T[k];h.r>=P[0].s.r&&h.r<=P[0].e.r&&y>=P[0].s.c&&y<=P[0].e.c&&(g.F=vr(P[0]),S=!0)}!S&&X.length>3&&(g.f=X[3])}if(u.s.r>h.r&&(u.s.r=h.r),u.s.c>y&&(u.s.c=y),u.e.r<h.r&&(u.e.r=h.r),u.e.c<y&&(u.e.c=y),o.cellDates&&m&&g.t=="n"&&Cg(tr[m.numFmtId])){var U=u0(g.v);U&&(g.t="d",g.v=new Date(U.y,U.m-1,U.d,U.H,U.M,U.S,U.u))}le&&(le.type=="XLDAPR"&&(g.D=!0),le=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},y=X[0].c==-1?y+1:X[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[li(y)+N]=g,u.s.r>h.r&&(u.s.r=h.r),u.s.c>y&&(u.s.c=y),u.e.r<h.r&&(u.e.r=h.r),u.e.c<y&&(u.e.c=y),le&&(le.type=="XLDAPR"&&(g.D=!0),le=void 0);break;case 176:O.push(X);break;case 49:le=((o.xlmeta||{}).Cell||[])[X-1];break;case 494:var V=n["!id"][X.relId];for(V?(X.Target=V.Target,X.loc&&(X.Target+="#"+X.loc),X.Rel=V):X.relId==""&&(X.Target="#"+X.loc),v=X.rfx.s.r;v<=X.rfx.e.r;++v)for(y=X.rfx.s.c;y<=X.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=X):(b=nr({c:y,r:v}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=X);break;case 426:if(!o.cellFormula)break;T.push(X),R=o.dense?l[v][y]:l[li(y)+N],R.f=vs(X[1],u,{r:h.r,c:y},E,o),R.F=vr(X[0]);break;case 427:if(!o.cellFormula)break;j[nr(X[0].s)]=X[1],R=o.dense?l[v][y]:l[li(y)+N],R.f=vs(X[1],u,{r:h.r,c:y},E,o);break;case 60:if(!o.cellStyles)break;for(;X.e>=X.s;)D[X.e--]={width:X.w/256,hidden:!!(X.flags&1),level:X.level},ee||(ee=!0,K3(X.w/256)),eh(D[X.e+1]);break;case 161:l["!autofilter"]={ref:vr(X)};break;case 476:l["!margins"]=X;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),X.name&&(i.Sheets[r].CodeName=X.name),(X.above||X.left)&&(l["!outline"]={above:X.above,left:X.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),X.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!_e.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+Se.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=vr(c||u)),o.sheetRows&&l["!ref"]){var se=Kr(l["!ref"]);o.sheetRows<=+se.e.r&&(se.e.r=o.sheetRows-1,se.e.r>u.e.r&&(se.e.r=u.e.r),se.e.r<se.s.r&&(se.s.r=se.e.r),se.e.c>u.e.c&&(se.e.c=u.e.c),se.e.c<se.s.c&&(se.s.c=se.e.c),l["!fullref"]=l["!ref"],l["!ref"]=vr(se))}return O.length>0&&(l["!merges"]=O),D.length>0&&(l["!cols"]=D),q.length>0&&(l["!rows"]=q),l}function fme(e,t,r,n,i,a,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Wn(t),t.z=t.z||tr[14],t.v=ga(zn(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=_h(i.cellXfs,t,i),t.l&&a["!links"].push([nr(l),t.l]),t.c&&a["!comments"].push([nr(l),t.c]),t.t){case"s":case"str":return i.bookSST?(o=Z3(i.Strings,t.v,i.revStrings),l.t="s",l.v=o,s?tt(e,18,Ppe(t,l)):tt(e,7,Npe(t,l))):(l.t="str",s?tt(e,17,$pe(t,l)):tt(e,6,Upe(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?tt(e,13,Fpe(t,l)):tt(e,2,Lpe(t,l)):s?tt(e,16,Dpe(t,l)):tt(e,5,Ope(t,l)),!0;case"b":return l.t="b",s?tt(e,15,_pe(t,l)):tt(e,4,wpe(t,l)),!0;case"e":return l.t="e",s?tt(e,14,Tpe(t,l)):tt(e,3,Epe(t,l)),!0}return s?tt(e,12,ype(t,l)):tt(e,1,gpe(t,l)),!0}function dme(e,t,r,n){var i=Kr(t["!ref"]||"A1"),a,s="",o=[];tt(e,145);var l=Array.isArray(t),c=i.e.r;t["!rows"]&&(c=Math.max(i.e.r,t["!rows"].length-1));for(var u=i.s.r;u<=c;++u){s=Vi(u),cpe(e,t,i,u);var f=!1;if(u<=i.e.r)for(var d=i.s.c;d<=i.e.c;++d){u===i.s.r&&(o[d]=li(d)),a=o[d]+s;var h=l?(t[u]||[])[d]:t[a];if(!h){f=!1;continue}f=fme(e,h,u,d,n,t,f)}}tt(e,146)}function hme(e,t){!t||!t["!merges"]||(tt(e,177,Xpe(t["!merges"].length)),t["!merges"].forEach(function(r){tt(e,176,Kpe(r))}),tt(e,178))}function pme(e,t){!t||!t["!cols"]||(tt(e,390),t["!cols"].forEach(function(r,n){r&&tt(e,60,tme(n,r))}),tt(e,391))}function mme(e,t){!t||!t["!ref"]||(tt(e,648),tt(e,649,sme(Kr(t["!ref"]))),tt(e,650))}function gme(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var i=fn(r,-1,n[1].Target.replace(/#.*$/,""),Ar.HLINK);tt(e,494,Jpe(n,i))}}),delete t["!links"]}function vme(e,t,r,n){if(t["!comments"].length>0){var i=fn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Ar.VML);tt(e,551,U3("rId"+i)),t["!legacy"]=i}}function yme(e,t,r,n){if(t["!autofilter"]){var i=t["!autofilter"],a=typeof i.ref=="string"?i.ref:vr(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=wo(a);o.s.r==o.e.r&&(o.e.r=wo(t["!ref"]).e.r,a=vr(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),tt(e,161,Og(Kr(a))),tt(e,162)}}function xme(e,t,r){tt(e,133),tt(e,137,ame(t,r)),tt(e,138),tt(e,134)}function wme(e,t){t["!protect"]&&tt(e,535,ome(t["!protect"]))}function bme(e,t,r,n){var i=vo(),a=r.SheetNames[e],s=r.Sheets[a]||{},o=a;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=Kr(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],tt(i,129),(r.vbaraw||s["!outline"])&&tt(i,147,ppe(o,s["!outline"])),tt(i,148,fpe(l)),xme(i,s,r.Workbook),pme(i,s),dme(i,s,e,t),wme(i,s),yme(i,s,r,e),hme(i,s),gme(i,s,n),s["!margins"]&&tt(i,476,nme(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&mme(i,s),vme(i,s,e,n),tt(i,130),i.end()}function _me(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(a){var s=a.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var i=Gr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(a){n=a.replace(/<.*?>/g,"")}),[t,i,n]}function Sme(e,t,r,n,i,a){var s=a||{"!type":"chart"};if(!e)return a;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var d=_me(f);u.s.r=u.s.c=0,u.e.c=o,c=li(o),d[0].forEach(function(h,g){s[c+Vi(g)]={t:"n",v:h,z:d[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=vr(u)),s}function Eme(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(BW);return o&&eP(o[0],a,i,r),(s=e.match(/drawing r:id="(.*?)"/))&&(a["!rel"]=s[1]),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}function Ame(e,t){e.l+=10;var r=Es(e);return{name:r}}function Tme(e,t,r,n,i){if(!e)return e;n||(n={"!id":{}});var a={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Of(e,function(l,c,u){switch(u){case 550:a["!rel"]=l;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),l.name&&(i.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][a["!rel"]]&&(a["!drawel"]=n["!id"][a["!rel"]]),a}var tP=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],kme=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Nme=[],Cme=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function J8(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],i=0;i!=t.length;++i){var a=t[i];if(n[a[0]]==null)n[a[0]]=a[1];else switch(a[2]){case"bool":typeof n[a[0]]=="string"&&(n[a[0]]=Un(n[a[0]]));break;case"int":typeof n[a[0]]=="string"&&(n[a[0]]=parseInt(n[a[0]],10));break}}}function Q8(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Un(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function zW(e){Q8(e.WBProps,tP),Q8(e.CalcPr,Cme),J8(e.WBView,kme),J8(e.Sheets,Nme),Im.date1904=Un(e.WBProps.date1904)}function Pme(e){return!e.Workbook||!e.Workbook.WBProps?"false":Un(e.Workbook.WBProps.date1904)?"true":"false"}var Ime="][*?/\\".split("");function WW(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Ime.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Ome(e,t,r){e.forEach(function(n,i){WW(n);for(var a=0;a<i;++a)if(n==e[a])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[i]&&t[i].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function Dme(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Ome(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)P0e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var Rme=/<\w+:workbook/;function Lme(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",a={},s=0;if(e.replace(Cs,function(l,c){var u=lr(l);switch(wu(u[0])){case"<?xml":break;case"<workbook":l.match(Rme)&&(i="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[i];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":tP.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Un(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=_n(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Gr(_n(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":a={},a.Name=_n(u.name),u.comment&&(a.Comment=u.comment),u.localSheetId&&(a.Sheet=+u.localSheetId),Un(u.hidden||"0")&&(a.Hidden=!0),s=c+l.length;break;case"</definedName>":a.Ref=Gr(_n(e.slice(s,c))),r.Names.push(a);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),dp.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return zW(r),r}function HW(e){var t=[$i];t[t.length]=ft("workbook",null,{xmlns:dp[0],"xmlns:r":ha.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(tP.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ft("workbookPr",null,n);var i=e.Workbook&&e.Workbook.Sheets||[],a=0;if(i&&i[0]&&i[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&!(!i[a]||!i[a].Hidden);++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var s={name:pn(e.SheetNames[a].slice(0,31))};if(s.sheetId=""+(a+1),s["r:id"]="rId"+(a+1),i[a])switch(i[a].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=ft("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=ft("definedName",pn(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function jme(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=sk(e),r.name=Es(e),r}function Fme(e,t){return t||(t=$e(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),U3(e.strRelID,t),Oa(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Mme(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var i=t>8?Es(e):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Bme(e,t){t||(t=$e(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),jz(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Ume(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Vme(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var i=e.read_shift(4),a=vle(e),s=E0e(e,0,r),o=B3(e);e.l=n;var l={Name:a,Ptg:s};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function $me(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;t||(t={}),t.biff=12;var a=[],s=[[]];return s.SheetNames=[],s.XTI=[],_y[16]={n:"BrtFRTArchID$",f:Ume},Of(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=vs(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,a.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(u),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!c.T){if(!i||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),zW(r),r.Names=a,r.supbooks=s,r}function zme(e,t){tt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};tt(e,156,Fme(i))}tt(e,144)}function Wme(e,t){t||(t=$e(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Oa("SheetJS",t),Oa(Vb.version,t),Oa(Vb.version,t),Oa("7262",t),t.length>t.l?t.slice(0,t.l):t}function Hme(e,t){t||(t=$e(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function qme(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,i=-1,a=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&a==-1&&(a=n);a>i||(tt(e,135),tt(e,158,Hme(i)),tt(e,136))}}function Gme(e,t){var r=vo();return tt(r,131),tt(r,128,Wme()),tt(r,153,Bme(e.Workbook&&e.Workbook.WBProps||null)),qme(r,e),zme(r,e),tt(r,132),r.end()}function Kme(e,t,r){return t.slice(-4)===".bin"?$me(e,r):Lme(e,r)}function Xme(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?ume(e,n,r,i,a,s,o):V0e(e,n,r,i,a,s,o)}function Yme(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?Tme(e,n,r,i,a):Eme(e,n,r,i,a)}function Jme(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?Zde():ehe()}function Qme(e,t,r,n,i,a,s,o){return t.slice(-4)===".bin"?Jde():Qde()}function Zme(e,t,r,n){return t.slice(-4)===".bin"?Kfe(e,r,n):jfe(e,r,n)}function ege(e,t,r){return AW(e,r)}function tge(e,t,r){return t.slice(-4)===".bin"?tfe(e,r):Que(e,r)}function rge(e,t,r){return t.slice(-4)===".bin"?qde(e,r):Fde(e,r)}function nge(e,t,r){return t.slice(-4)===".bin"?Rde(e):Ode(e)}function ige(e,t,r,n){return r.slice(-4)===".bin"?Lde(e,t,r,n):void 0}function age(e,t,r){return t.slice(-4)===".bin"?Cde(e,t,r):Ide(e,t,r)}function sge(e,t,r){return(t.slice(-4)===".bin"?Gme:HW)(e)}function oge(e,t,r,n,i){return(t.slice(-4)===".bin"?bme:UW)(e,r,n,i)}function lge(e,t,r){return(t.slice(-4)===".bin"?ide:SW)(e,r)}function cge(e,t,r){return(t.slice(-4)===".bin"?ife:mW)(e,r)}function uge(e,t,r){return(t.slice(-4)===".bin"?Gde:NW)(e)}function fge(e){return(e.slice(-4)===".bin"?Pde:TW)()}var qW=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,GW=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function sc(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=e.match(qW),a,s,o,l;if(i)for(l=0;l!=i.length;++l)a=i[l].match(GW),(s=a[1].indexOf(":"))===-1?n[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?o="xmlns"+a[1].slice(6):o=a[1].slice(s+1),n[o]=a[2].slice(1,a[2].length-1));return n}function dge(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(qW),i,a,s,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(GW),(a=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?s="xmlns"+i[1].slice(6):s=i[1].slice(a+1),r[s]=i[2].slice(1,i[2].length-1));return r}var Ev;function hge(e,t){var r=Ev[e]||Gr(e);return r==="General"?U0(t):Vl(r,t)}function pge(e,t,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Un(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=zn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Gr(t)]=i}function mge(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Df[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=hy(e.v):e.w=U0(e.v):e.w=hge(t||"General",e.v)}catch(a){if(r.WTF)throw a}try{var n=Ev[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Cg(n)){var i=u0(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(a){if(r.WTF)throw a}}}function gge(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Nfe[n.Pattern]||n.Pattern)}e[t.ID]=t}function vge(e,t,r,n,i,a,s,o,l,c){var u="General",f=n.StyleID,d={};c=c||{};var h=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);a[f]!==void 0&&(a[f].nf&&(u=a[f].nf),a[f].Interior&&h.push(a[f].Interior),!!a[f].Parent);)f=a[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Un(e);break;case"String":n.t="s",n.r=m8(Gr(e)),n.v=e.indexOf("<")>-1?Gr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(zn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Gr(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Vz[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=m8(t||e));break}if(mge(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=Gr(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=Pm(m,i),delete n.Formula,n.ArrayRange=="RC"?n.F=Pm("RC:RC",i):n.ArrayRange&&(n.F=Pm(n.ArrayRange,i),l.push([Kr(n.F),n.F]))}else for(g=0;g<l.length;++g)i.r>=l[g][0].s.r&&i.r<=l[g][0].e.r&&i.c>=l[g][0].s.c&&i.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(h.forEach(function(v){!d.patternType&&v.patternType&&(d.patternType=v.patternType)}),n.s=d),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function yge(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function kA(e,t){var r=t||{};Pg();var n=J1(D3(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=_n(n));var i=n.slice(0,1024).toLowerCase(),a=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var s=Wn(r);return s.type="string",ng.to_workbook(n,s)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ct){i.indexOf("<"+ct)>=0&&(a=!0)}),a)return n1e(n,r);Ev={"General Number":"General","General Date":tr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":tr[15],"Short Date":tr[14],"Long Time":tr[19],"Medium Time":tr[18],"Short Time":tr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:tr[2],Standard:tr[4],Percent:tr[10],Scientific:tr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],d=r.dense?[]:{},h="",g={},m={},v=sc('<Data ss:Type="String">'),y=0,b=0,_=0,N={s:{r:2e6,c:2e6},e:{r:0,c:0}},R={},O={},k="",S=0,T=[],j={},E={},C=0,D=[],q=[],ee={},le=[],se,K=!1,X=[],_e=[],Se={},P=0,U=0,V={Sheets:[],WBProps:{date1904:!1}},z={};gy.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ne="";o=gy.exec(n);)switch(o[3]=(ne=o[3]).toLowerCase()){case"data":if(ne=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?vge(n.slice(y,o.index),k,v,l[l.length-1][0]=="comment"?ee:g,{c:b,r:_},R,le[b],m,X,r):(k="",v=sc(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(q.length>0&&(g.c=q),(!r.sheetRows||r.sheetRows>_)&&g.v!==void 0&&(r.dense?(d[_]||(d[_]=[]),d[_][b]=g):d[li(b)+Vi(_)]=g),g.HRef&&(g.l={Target:Gr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(P=b+(parseInt(g.MergeAcross,10)|0),U=_+(parseInt(g.MergeDown,10)|0),T.push({s:{c:b,r:_},e:{c:P,r:U}})),!r.sheetStubs)g.MergeAcross?b=P+1:++b;else if(g.MergeAcross||g.MergeDown){for(var te=b;te<=P;++te)for(var xe=_;xe<=U;++xe)(te>b||xe>_)&&(r.dense?(d[xe]||(d[xe]=[]),d[xe][te]={t:"z"}):d[li(te)+Vi(xe)]={t:"z"});b=P+1}else++b;else g=dge(o[0]),g.Index&&(b=+g.Index-1),b<N.s.c&&(N.s.c=b),b>N.e.c&&(N.e.c=b),o[0].slice(-2)==="/>"&&++b,q=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<N.s.r&&(N.s.r=_),_>N.e.r&&(N.e.r=_),o[0].slice(-2)==="/>"&&(m=sc(o[0]),m.Index&&(_=+m.Index-1)),b=0,++_):(m=sc(o[0]),m.Index&&(_=+m.Index-1),Se={},(m.AutoFitHeight=="0"||m.Height)&&(Se.hpx=parseInt(m.Height,10),Se.hpt=by(Se.hpx),_e[_]=Se),m.Hidden=="1"&&(Se.hidden=!0,_e[_]=Se));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(h),N.s.r<=N.e.r&&N.s.c<=N.e.c&&(d["!ref"]=vr(N),r.sheetRows&&r.sheetRows<=N.e.r&&(d["!fullref"]=d["!ref"],N.e.r=r.sheetRows-1,d["!ref"]=vr(N))),T.length&&(d["!merges"]=T),le.length>0&&(d["!cols"]=le),_e.length>0&&(d["!rows"]=_e),u[h]=d}else N={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=b=0,l.push([o[3],!1]),c=sc(o[0]),h=Gr(c.Name),d=r.dense?[]:{},T=[],X=[],_e=[],z={name:h,Hidden:0},V.Sheets.push(z);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),le=[],K=!1}break;case"style":o[1]==="/"?gge(R,O,r):O=sc(o[0]);break;case"numberformat":O.nf=Gr(sc(o[0]).Format||"General"),Ev[O.nf]&&(O.nf=Ev[O.nf]);for(var oe=0;oe!=392&&tr[oe]!=O.nf;++oe);if(oe==392){for(oe=57;oe!=392;++oe)if(tr[oe]==null){af(O.nf,oe);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(se=sc(o[0]),se.Hidden&&(se.hidden=!0,delete se.Hidden),se.Width&&(se.wpx=parseInt(se.Width,10)),!K&&se.wpx>10){K=!0,xs=bW;for(var he=0;he<le.length;++he)le[he]&&eh(le[he])}K&&eh(se),le[se.Index-1||le.length]=se;for(var Pe=0;Pe<+se.Span;++Pe)le[le.length]=Wn(se);break;case"namedrange":if(o[1]==="/")break;V.Names||(V.Names=[]);var G=lr(o[0]),ze={Name:G.Name,Ref:Pm(G.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(ze.Sheet=V.Sheets.length-1),V.Names.push(ze);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?k+=n.slice(S,o.index):S=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;O.Interior=sc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?$le(j,ne,n.slice(C,o.index)):C=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));yge(ee),q.push(ee)}else l.push([o[3],!1]),c=sc(o[0]),ee={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ce=sc(o[0]);d["!autofilter"]={ref:Pm(Ce.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return nL(n,r);var de=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:de=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:de=!1}break;case"excelworkbook":switch(o[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:de=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:de=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(C,o.index)){case"SheetHidden":z.Hidden=1;break;case"SheetVeryHidden":z.Hidden=2;break}else C=o.index+o[0].length;break;case"header":d["!margins"]||A0(d["!margins"]={},"xlml"),isNaN(+lr(o[0]).Margin)||(d["!margins"].header=+lr(o[0]).Margin);break;case"footer":d["!margins"]||A0(d["!margins"]={},"xlml"),isNaN(+lr(o[0]).Margin)||(d["!margins"].footer=+lr(o[0]).Margin);break;case"pagemargins":var it=lr(o[0]);d["!margins"]||A0(d["!margins"]={},"xlml"),isNaN(+it.Top)||(d["!margins"].top=+it.Top),isNaN(+it.Left)||(d["!margins"].left=+it.Left),isNaN(+it.Right)||(d["!margins"].right=+it.Right),isNaN(+it.Bottom)||(d["!margins"].bottom=+it.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":d["!outline"]||(d["!outline"]={}),d["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:de=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:de=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:de=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:de=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:de=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:de=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:de=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:de=!1}break;case"smarttags":break;default:de=!1;break}if(de||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?pge(E,ne,D,n.slice(C,o.index)):(D=o,C=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Ve={};return!r.bookSheets&&!r.bookProps&&(Ve.Sheets=u),Ve.SheetNames=f,Ve.Workbook=V,Ve.SSF=Wn(tr),Ve.Props=j,Ve.Custprops=E,Ve}function hk(e,t){switch(nP(t=t||{}),t.type||"base64"){case"base64":return kA(il(e),t);case"binary":case"buffer":case"file":return kA(e,t);case"array":return kA(wh(e),t)}}function xge(e,t){var r=[];return e.Props&&r.push(zle(e.Props,t)),e.Custprops&&r.push(Wle(e.Props,e.Custprops)),r.join("")}function wge(){return""}function bge(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,i){var a=[];a.push(ft("NumberFormat",null,{"ss:Format":pn(tr[n.numFmtId])}));var s={"ss:ID":"s"+(21+i)};r.push(ft("Style",a.join(""),s))}),ft("Styles",r.join(""))}function KW(e){return ft("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+J3(e.Ref,{r:0,c:0})})}function _ge(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var i=t[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(KW(i)))}return ft("Names",r.join(""))}function Sge(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,a=[],s=0;s<i.length;++s){var o=i[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||a.push(KW(o)))}return a.join("")}function Ege(e,t,r,n){if(!e)return"";var i=[];if(e["!margins"]&&(i.push("<PageSetup>"),e["!margins"].header&&i.push(ft("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&i.push(ft("Footer",null,{"x:Margin":e["!margins"].footer})),i.push(ft("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(ft("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<r&&!(n.Workbook.Sheets[a]&&!n.Workbook.Sheets[a].Hidden);++a);a==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),e["!protect"]&&(i.push(Qa("ProtectContents","True")),e["!protect"].objects&&i.push(Qa("ProtectObjects","True")),e["!protect"].scenarios&&i.push(Qa("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?i.push(Qa("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&i.push(Qa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&i.push("<"+s[1]+"/>")})),i.length==0?"":ft("WorksheetOptions",i.join(""),{xmlns:Uo.x})}function Age(e){return e.map(function(t){var r=qoe(t.t||""),n=ft("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ft("Comment",n,{"ss:Author":t.a})}).join("")}function Tge(e,t,r,n,i,a,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+pn(J3(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=ci(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=pn(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=pn(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=s.c||c[u].s.r!=s.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",d="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",d=String(e.v);break;case"b":f="Boolean",d=e.v?"1":"0";break;case"e":f="Error",d=Df[e.v];break;case"d":f="DateTime",d=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||tr[14]);break;case"s":f="String",d=Hoe(e.v||"");break}var h=_h(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=s.c+1;var g=e.v!=null?d:"",m=e.t=="z"?"":'<Data ss:Type="'+f+'">'+g+"</Data>";return(e.c||[]).length>0&&(m+=Age(e.c)),ft("Cell",m,o)}function kge(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=ig(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Nge(e,t,r,n){if(!e["!ref"])return"";var i=Kr(e["!ref"]),a=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(v,y){eh(v);var b=!!v.width,_=K5(y,v),N={"ss:Index":y+1};b&&(N["ss:Width"]=xy(_.width)),v.hidden&&(N["ss:Hidden"]="1"),o.push(ft("Column",null,N))});for(var l=Array.isArray(e),c=i.s.r;c<=i.e.r;++c){for(var u=[kge(c,(e["!rows"]||[])[c])],f=i.s.c;f<=i.e.c;++f){var d=!1;for(s=0;s!=a.length;++s)if(!(a[s].s.c>f)&&!(a[s].s.r>c)&&!(a[s].e.c<f)&&!(a[s].e.r<c)){(a[s].s.c!=f||a[s].s.r!=c)&&(d=!0);break}if(!d){var h={r:c,c:f},g=nr(h),m=l?(e[c]||[])[f]:e[g];u.push(Tge(m,g,e,t,r,n,h))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function Cge(e,t,r){var n=[],i=r.SheetNames[e],a=r.Sheets[i],s=a?Sge(a,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=a?Nge(a,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Ege(a,t,e,r)),n.join("")}function Pge(e,t){t||(t={}),e.SSF||(e.SSF=Wn(tr)),e.SSF&&(Pg(),V5(e.SSF),t.revssf=z5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],_h(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(xge(e,t)),r.push(wge()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ft("Worksheet",Cge(n,t,e),{"ss:Name":pn(e.SheetNames[n])}));return r[2]=bge(e,t),r[3]=_ge(e),$i+ft("Workbook",r.join(""),{xmlns:Uo.ss,"xmlns:o":Uo.o,"xmlns:x":Uo.x,"xmlns:ss":Uo.ss,"xmlns:dt":Uo.dt,"xmlns:html":Uo.html})}function Ige(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=_le(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Sle(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Oge=[60,1084,2066,2165,2175];function Dge(e,t,r,n,i){var a=n,s=[],o=r.slice(r.l,r.l+a);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}s.push(o),r.l+=a;for(var l=Gu(r,r.l),c=pk[l],u=0;c!=null&&Oge.indexOf(l)>-1;)a=Gu(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+a),s.push(o),r.l+=4+a,c=pk[l=Gu(r,r.l)];var f=Ca(s);Ja(f,0);var d=0;f.lens=[];for(var h=0;h<s.length;++h)f.lens.push(d),d+=s[h].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,i)}function Wc(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=tr[n])}catch(a){if(t.WTF)throw a}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Df[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=hy(e.v):e.w=U0(e.v):e.w=Vl(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(a){if(t.WTF)throw a}if(t.cellDates&&n&&e.t=="n"&&Cg(tr[n]||String(n))){var i=u0(e.v);i&&(e.t="d",e.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function X2(e,t,r){return{v:e,ixfe:t,t:r}}function Rge(e,t){var r={opts:{}},n={},i=t.dense?[]:{},a={},s={},o=null,l=[],c="",u={},f,d="",h,g,m,v,y={},b=[],_,N,R=[],O=[],k={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},T=function(st){return st<8?_0[st]:st<64&&O[st-8]||_0[st]},j=function(st,dt,er){var Ft=dt.XF.data;if(!(!Ft||!Ft.patternType||!er||!er.cellStyles)){dt.s={},dt.s.patternType=Ft.patternType;var wt;(wt=yy(T(Ft.icvFore)))&&(dt.s.fgColor={rgb:wt}),(wt=yy(T(Ft.icvBack)))&&(dt.s.bgColor={rgb:wt})}},E=function(st,dt,er){if(!(Se>1)&&!(er.sheetRows&&st.r>=er.sheetRows)){if(er.cellStyles&&dt.XF&&dt.XF.data&&j(st,dt,er),delete dt.ixfe,delete dt.XF,f=st,d=nr(st),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),st.r<s.s.r&&(s.s.r=st.r),st.c<s.s.c&&(s.s.c=st.c),st.r+1>s.e.r&&(s.e.r=st.r+1),st.c+1>s.e.c&&(s.e.c=st.c+1),er.cellFormula&&dt.f){for(var Ft=0;Ft<b.length;++Ft)if(!(b[Ft][0].s.c>st.c||b[Ft][0].s.r>st.r)&&!(b[Ft][0].e.c<st.c||b[Ft][0].e.r<st.r)){dt.F=vr(b[Ft][0]),(b[Ft][0].s.c!=st.c||b[Ft][0].s.r!=st.r)&&delete dt.f,dt.f&&(dt.f=""+vs(b[Ft][1],s,st,X,C));break}}er.dense?(i[st.r]||(i[st.r]=[]),i[st.r][st.c]=dt):i[d]=dt}},C={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(C.password=t.password);var D,q=[],ee=[],le=[],se=[],K=!1,X=[];X.SheetNames=C.snames,X.sharedf=C.sharedf,X.arrayf=C.arrayf,X.names=[],X.XTI=[];var _e=0,Se=0,P=0,U=[],V=[],z;C.codepage=1200,mc(1200);for(var ne=!1;e.l<e.length-1;){var te=e.l,xe=e.read_shift(2);if(xe===0&&_e===10)break;var oe=e.l===e.length?0:e.read_shift(2),he=pk[xe];if(he&&he.f){if(t.bookSheets&&_e===133&&xe!==133)break;if(_e=xe,he.r===2||he.r==12){var Pe=e.read_shift(2);if(oe-=2,!C.enc&&Pe!==xe&&((Pe&255)<<8|Pe>>8)!==xe)throw new Error("rt mismatch: "+Pe+"!="+xe);he.r==12&&(e.l+=10,oe-=10)}var G={};if(xe===10?G=he.f(e,oe,C):G=Dge(xe,he,e,oe,C),Se==0&&[9,521,1033,2057].indexOf(_e)===-1)continue;switch(xe){case 34:r.opts.Date1904=k.WBProps.date1904=G;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(C.enc||(e.l=0),C.enc=G,!t.password)throw new Error("File is password-protected");if(G.valid==null)throw new Error("Encryption scheme unsupported");if(!G.valid)throw new Error("Password is incorrect");break;case 92:C.lastuser=G;break;case 66:var ze=Number(G);switch(ze){case 21010:ze=1200;break;case 32768:ze=1e4;break;case 32769:ze=1252;break}mc(C.codepage=ze),ne=!0;break;case 317:C.rrtabid=G;break;case 25:C.winlocked=G;break;case 439:r.opts.RefreshAll=G;break;case 12:r.opts.CalcCount=G;break;case 16:r.opts.CalcDelta=G;break;case 17:r.opts.CalcIter=G;break;case 13:r.opts.CalcMode=G;break;case 14:r.opts.CalcPrecision=G;break;case 95:r.opts.CalcSaveRecalc=G;break;case 15:C.CalcRefMode=G;break;case 2211:r.opts.FullCalc=G;break;case 129:G.fDialog&&(i["!type"]="dialog"),G.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),G.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:R.push(G);break;case 430:X.push([G]),X[X.length-1].XTI=[];break;case 35:case 547:X[X.length-1].push(G);break;case 24:case 536:z={Name:G.Name,Ref:vs(G.rgce,s,null,X,C)},G.itab>0&&(z.Sheet=G.itab-1),X.names.push(z),X[0]||(X[0]=[],X[0].XTI=[]),X[X.length-1].push(G),G.Name=="_xlnm._FilterDatabase"&&G.itab>0&&G.rgce&&G.rgce[0]&&G.rgce[0][0]&&G.rgce[0][0][0]=="PtgArea3d"&&(V[G.itab-1]={ref:vr(G.rgce[0][0][1][2])});break;case 22:C.ExternCount=G;break;case 23:X.length==0&&(X[0]=[],X[0].XTI=[]),X[X.length-1].XTI=X[X.length-1].XTI.concat(G),X.XTI=X.XTI.concat(G);break;case 2196:if(C.biff<8)break;z!=null&&(z.Comment=G[1]);break;case 18:i["!protect"]=G;break;case 19:G!==0&&C.WTF&&console.error("Password verifier: "+G);break;case 133:a[G.pos]=G,C.snames.push(G.name);break;case 10:{if(--Se)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,i["!ref"]=vr(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ce=s.e.r;s.e.r=t.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=vr(s),s.e.r=Ce}s.e.r++,s.e.c++}q.length>0&&(i["!merges"]=q),ee.length>0&&(i["!objects"]=ee),le.length>0&&(i["!cols"]=le),se.length>0&&(i["!rows"]=se),k.Sheets.push(S)}c===""?u=i:n[c]=i,i=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(C.biff===8&&(C.biff={9:2,521:3,1033:4}[xe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[G.BIFFVer]||8),C.biffguess=G.BIFFVer==0,G.BIFFVer==0&&G.dt==4096&&(C.biff=5,ne=!0,mc(C.codepage=28591)),C.biff==8&&G.BIFFVer==0&&G.dt==16&&(C.biff=2),Se++)break;if(i=t.dense?[]:{},C.biff<8&&!ne&&(ne=!0,mc(C.codepage=t.codepage||1252)),C.biff<5||G.BIFFVer==0&&G.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var de={pos:e.l-oe,name:c};a[de.pos]=de,C.snames.push(c)}else c=(a[te]||{name:""}).name;G.dt==32&&(i["!type"]="chart"),G.dt==64&&(i["!type"]="macro"),q=[],ee=[],C.arrayf=b=[],le=[],se=[],K=!1,S={Hidden:(a[te]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(t.dense?(i[G.r]||[])[G.c]:i[nr({c:G.c,r:G.r})])&&++G.c,_={ixfe:G.ixfe,XF:R[G.ixfe]||{},v:G.val,t:"n"},P>0&&(_.z=U[_.ixfe>>8&63]),Wc(_,t,r.opts.Date1904),E({c:G.c,r:G.r},_,t);break;case 5:case 517:_={ixfe:G.ixfe,XF:R[G.ixfe],v:G.val,t:G.t},P>0&&(_.z=U[_.ixfe>>8&63]),Wc(_,t,r.opts.Date1904),E({c:G.c,r:G.r},_,t);break;case 638:_={ixfe:G.ixfe,XF:R[G.ixfe],v:G.rknum,t:"n"},P>0&&(_.z=U[_.ixfe>>8&63]),Wc(_,t,r.opts.Date1904),E({c:G.c,r:G.r},_,t);break;case 189:for(var it=G.c;it<=G.C;++it){var Ve=G.rkrec[it-G.c][0];_={ixfe:Ve,XF:R[Ve],v:G.rkrec[it-G.c][1],t:"n"},P>0&&(_.z=U[_.ixfe>>8&63]),Wc(_,t,r.opts.Date1904),E({c:it,r:G.r},_,t)}break;case 6:case 518:case 1030:{if(G.val=="String"){o=G;break}if(_=X2(G.val,G.cell.ixfe,G.tt),_.XF=R[_.ixfe],t.cellFormula){var ct=G.formula;if(ct&&ct[0]&&ct[0][0]&&ct[0][0][0]=="PtgExp"){var Qe=ct[0][0][1][0],at=ct[0][0][1][1],lt=nr({r:Qe,c:at});y[lt]?_.f=""+vs(G.formula,s,G.cell,X,C):_.F=((t.dense?(i[Qe]||[])[at]:i[lt])||{}).F}else _.f=""+vs(G.formula,s,G.cell,X,C)}P>0&&(_.z=U[_.ixfe>>8&63]),Wc(_,t,r.opts.Date1904),E(G.cell,_,t),o=G}break;case 7:case 519:if(o)o.val=G,_=X2(G,o.cell.ixfe,"s"),_.XF=R[_.ixfe],t.cellFormula&&(_.f=""+vs(o.formula,s,o.cell,X,C)),P>0&&(_.z=U[_.ixfe>>8&63]),Wc(_,t,r.opts.Date1904),E(o.cell,_,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(G);var Jt=nr(G[0].s);if(h=t.dense?(i[G[0].s.r]||[])[G[0].s.c]:i[Jt],t.cellFormula&&h){if(!o||!Jt||!h)break;h.f=""+vs(G[1],s,G[0],X,C),h.F=vr(G[0])}}break;case 1212:{if(!t.cellFormula)break;if(d){if(!o)break;y[nr(o.cell)]=G[0],h=t.dense?(i[o.cell.r]||[])[o.cell.c]:i[nr(o.cell)],(h||{}).f=""+vs(G[0],s,f,X,C)}}break;case 253:_=X2(l[G.isst].t,G.ixfe,"s"),l[G.isst].h&&(_.h=l[G.isst].h),_.XF=R[_.ixfe],P>0&&(_.z=U[_.ixfe>>8&63]),Wc(_,t,r.opts.Date1904),E({c:G.c,r:G.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:G.ixfe,XF:R[G.ixfe],t:"z"},P>0&&(_.z=U[_.ixfe>>8&63]),Wc(_,t,r.opts.Date1904),E({c:G.c,r:G.r},_,t));break;case 190:if(t.sheetStubs)for(var bt=G.c;bt<=G.C;++bt){var Kt=G.ixfe[bt-G.c];_={ixfe:Kt,XF:R[Kt],t:"z"},P>0&&(_.z=U[_.ixfe>>8&63]),Wc(_,t,r.opts.Date1904),E({c:bt,r:G.r},_,t)}break;case 214:case 516:case 4:_=X2(G.val,G.ixfe,"s"),_.XF=R[_.ixfe],P>0&&(_.z=U[_.ixfe>>8&63]),Wc(_,t,r.opts.Date1904),E({c:G.c,r:G.r},_,t);break;case 0:case 512:Se===1&&(s=G);break;case 252:l=G;break;case 1054:if(C.biff==4){U[P++]=G[1];for(var jt=0;jt<P+163&&tr[jt]!=G[1];++jt);jt>=163&&af(G[1],P+163)}else af(G[1],G[0]);break;case 30:{U[P++]=G;for(var yt=0;yt<P+163&&tr[yt]!=G;++yt);yt>=163&&af(G,P+163)}break;case 229:q=q.concat(G);break;case 93:ee[G.cmo[0]]=C.lastobj=G;break;case 438:C.lastobj.TxO=G;break;case 127:C.lastobj.ImData=G;break;case 440:for(v=G[0].s.r;v<=G[0].e.r;++v)for(m=G[0].s.c;m<=G[0].e.c;++m)h=t.dense?(i[v]||[])[m]:i[nr({c:m,r:v})],h&&(h.l=G[1]);break;case 2048:for(v=G[0].s.r;v<=G[0].e.r;++v)for(m=G[0].s.c;m<=G[0].e.c;++m)h=t.dense?(i[v]||[])[m]:i[nr({c:m,r:v})],h&&h.l&&(h.l.Tooltip=G[1]);break;case 28:{if(C.biff<=5&&C.biff>=2)break;h=t.dense?(i[G[0].r]||[])[G[0].c]:i[nr(G[0])];var Xt=ee[G[2]];h||(t.dense?(i[G[0].r]||(i[G[0].r]=[]),h=i[G[0].r][G[0].c]={t:"z"}):h=i[nr(G[0])]={t:"z"},s.e.r=Math.max(s.e.r,G[0].r),s.s.r=Math.min(s.s.r,G[0].r),s.e.c=Math.max(s.e.c,G[0].c),s.s.c=Math.min(s.s.c,G[0].c)),h.c||(h.c=[]),g={a:G[1],t:Xt.TxO.t},h.c.push(g)}break;case 2173:bde(R[G.ixfe],G.ext);break;case 125:{if(!C.cellStyles)break;for(;G.e>=G.s;)le[G.e--]={width:G.w/256,level:G.level||0,hidden:!!(G.flags&1)},K||(K=!0,K3(G.w/256)),eh(le[G.e+1])}break;case 520:{var _t={};G.level!=null&&(se[G.r]=_t,_t.level=G.level),G.hidden&&(se[G.r]=_t,_t.hidden=!0),G.hpt&&(se[G.r]=_t,_t.hpt=G.hpt,_t.hpx=ig(G.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||A0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[xe]]=G;break;case 161:i["!margins"]||A0(i["!margins"]={}),i["!margins"].header=G.header,i["!margins"].footer=G.footer;break;case 574:G.RTL&&(k.Views[0].RTL=!0);break;case 146:O=G;break;case 2198:D=G;break;case 140:N=G;break;case 442:c?S.CodeName=G||S.name:k.WBProps.CodeName=G||"ThisWorkbook";break}}else he||console.error("Missing Info for XLS Record 0x"+xe.toString(16)),e.l+=oe}return r.SheetNames=Ai(a).sort(function(xt,st){return Number(xt)-Number(st)}).map(function(xt){return a[xt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&V.forEach(function(xt,st){r.Sheets[r.SheetNames[st]]["!autofilter"]=xt}),r.Strings=l,r.SSF=Wn(tr),C.enc&&(r.Encryption=C.enc),D&&(r.Themes=D),r.Metadata={},N!==void 0&&(r.Metadata.Country=N),X.names.length>0&&(k.Names=X.names),r.Workbook=k,r}var Av={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Lge(e,t,r){var n=Gt.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=D8(n,ok,Av.DSI);for(var a in i)t[a]=i[a]}catch(c){if(r.WTF)throw c}var s=Gt.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=D8(s,lk,Av.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(Gz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function jge(e,t){var r=[],n=[],i=[],a=0,s,o=c8(ok,"n"),l=c8(lk,"n");if(e.Props)for(s=Ai(e.Props),a=0;a<s.length;++a)(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],e.Props[s[a]]]);if(e.Custprops)for(s=Ai(e.Custprops),a=0;a<s.length;++a)Object.prototype.hasOwnProperty.call(e.Props||{},s[a])||(Object.prototype.hasOwnProperty.call(o,s[a])?r:Object.prototype.hasOwnProperty.call(l,s[a])?n:i).push([s[a],e.Custprops[s[a]]]);var c=[];for(a=0;a<i.length;++a)eW.indexOf(i[a][0])>-1||qz.indexOf(i[a][0])>-1||i[a][1]!=null&&c.push(i[a]);n.length&&Gt.utils.cfb_add(t,"/SummaryInformation",R8(n,Av.SI,l,lk)),(r.length||c.length)&&Gt.utils.cfb_add(t,"/DocumentSummaryInformation",R8(r,Av.DSI,o,ok,c.length?c:null,Av.UDI))}function XW(e,t){t||(t={}),nP(t),E3(),t.codepage&&S3(t.codepage);var r,n;if(e.FullPaths){if(Gt.find(e,"/encryption"))throw new Error("File is password-protected");r=Gt.find(e,"!CompObj"),n=Gt.find(e,"/Workbook")||Gt.find(e,"/Book")}else{switch(t.type){case"base64":e=Wo(il(e));break;case"binary":e=Wo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ja(e,0),n={content:e}}var i,a;if(r&&Ige(r),t.bookProps&&!t.bookSheets)i={};else{var s=Sr?"buffer":"array";if(n&&n.content)i=Rge(n.content,t);else if((a=Gt.find(e,"PerfectOffice_MAIN"))&&a.content)i=E0.to_workbook(a.content,(t.type=s,t));else if((a=Gt.find(e,"NativeContent_MAIN"))&&a.content)i=E0.to_workbook(a.content,(t.type=s,t));else throw(a=Gt.find(e,"MN0"))&&a.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Gt.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=Xde(e))}var o={};return e.FullPaths&&Lge(e,o,t),i.Props=i.Custprops=o,t.bookFiles&&(i.cfb=e),i}function Fge(e,t){var r=t||{},n=Gt.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Gt.utils.cfb_add(n,i,YW(e,r)),r.biff==8&&(e.Props||e.Custprops)&&jge(e,n),r.biff==8&&e.vbaraw&&Yde(n,Gt.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var _y={0:{f:ope},1:{f:mpe},2:{f:Rpe},3:{f:Spe},4:{f:xpe},5:{f:Ipe},6:{f:Bpe},7:{f:kpe},8:{f:qpe},9:{f:Hpe},10:{f:zpe},11:{f:Wpe},12:{f:vpe},13:{f:jpe},14:{f:Ape},15:{f:bpe},16:{f:VW},17:{f:Vpe},18:{f:Cpe},19:{f:M3},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Vme},40:{},42:{},43:{f:Bfe},44:{f:Ffe},45:{f:$fe},46:{f:Wfe},47:{f:zfe},48:{},49:{f:ule},50:{},51:{f:Ede},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:fW},62:{f:Mpe},63:{f:Dde},64:{f:lme},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ks,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ime},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:hpe},148:{f:upe,p:16},151:{f:Qpe},152:{},153:{f:Mme},154:{},155:{},156:{f:jme},157:{},158:{},159:{T:1,f:efe},160:{T:-1},161:{T:1,f:gp},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Gpe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_de},336:{T:-1},337:{f:kde,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:sk},357:{},358:{},359:{},360:{T:1},361:{},362:{f:uW},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Zpe},427:{f:eme},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:rme},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:dpe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Ype},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:sk},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Wde},633:{T:1},634:{T:-1},635:{T:1,f:$de},636:{T:-1},637:{f:ple},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Ame},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:cme},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},pk={6:{f:AA},10:{f:ud},12:{f:Xi},13:{f:Xi},14:{f:Ii},15:{f:Ii},16:{f:_s},17:{f:Ii},18:{f:Ii},19:{f:Xi},20:{f:U8},21:{f:U8},23:{f:uW},24:{f:$8},25:{f:Ii},26:{},27:{},28:{f:cue},29:{},34:{f:Ii},35:{f:V8},38:{f:_s},39:{f:_s},40:{f:_s},41:{f:_s},42:{f:Ii},43:{f:Ii},47:{f:bfe},49:{f:jce},51:{f:Xi},60:{},61:{f:Ice},64:{f:Ii},65:{f:Lce},66:{f:Xi},77:{},80:{},81:{},82:{},85:{f:Xi},89:{},90:{},91:{},92:{f:wce},93:{f:due},94:{},95:{f:Ii},96:{},97:{},99:{f:Ii},125:{f:fW},128:{f:Jce},129:{f:_ce},130:{f:Xi},131:{f:Ii},132:{f:Ii},133:{f:Sce},134:{},140:{f:wue},141:{f:Xi},144:{},146:{f:Sue},151:{},152:{},153:{},154:{},155:{},156:{f:Xi},157:{},158:{},160:{f:Pue},161:{f:Tue},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Gce},190:{f:Kce},193:{f:ud},197:{},198:{},199:{},200:{},201:{},202:{f:Ii},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Xi},220:{},221:{f:Ii},222:{},224:{f:Yce},225:{f:xce},226:{f:ud},227:{},229:{f:uue},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Ace},253:{f:Mce},255:{f:kce},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:tW},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ii},353:{f:ud},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:rue},431:{f:Ii},432:{},433:{},434:{},437:{},438:{f:mue},439:{f:Ii},440:{f:gue},441:{},442:{f:fx},443:{},444:{f:Xi},445:{},446:{},448:{f:ud},449:{f:Pce,r:2},450:{f:ud},512:{f:F8},513:{f:Cue},515:{f:eue},516:{f:Uce},517:{f:B8},519:{f:Iue},520:{f:Nce},523:{},545:{f:z8},549:{f:j8},566:{},574:{f:Dce},638:{f:qce},659:{},1048:{},1054:{f:$ce},1084:{},1212:{f:sue},2048:{f:yue},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:q2},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ud},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Eue,r:12},2173:{f:wde,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ii,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:aue,r:12},2197:{},2198:{f:pde,r:12},2199:{},2200:{},2201:{},2202:{f:oue,r:12},2203:{f:ud},2204:{},2205:{},2206:{},2207:{},2211:{f:Cce},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Xi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:kue},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:_ue},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:F8},1:{},2:{f:jue},3:{f:Rue},4:{f:Due},5:{f:B8},7:{f:Mue},8:{},9:{f:q2},11:{},22:{f:Xi},30:{f:Wce},31:{},32:{},33:{f:z8},36:{},37:{f:j8},50:{f:Bue},62:{},52:{},67:{},68:{f:Xi},69:{},86:{},126:{},127:{f:Oue},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Uue},223:{},234:{},354:{},421:{},518:{f:AA},521:{f:q2},536:{f:$8},547:{f:V8},561:{},579:{},1030:{f:AA},1033:{f:q2},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ht(e,t,r,n){var i=t;if(!isNaN(i)){var a=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,i),s.write_shift(2,a),a>0&&L3(r)&&e.push(r)}}function Mge(e,t,r,n){var i=(r||[]).length||0;if(i<=8224)return ht(e,t,r,i);var a=t;if(!isNaN(a)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,a),u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<i;){for(u=e.next(4),u.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}function mx(e,t,r){return e||(e=$e(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Bge(e,t,r,n){var i=$e(9);return mx(i,e,t),rW(r,n||"b",i),i}function Uge(e,t,r){var n=$e(8+2*r.length);return mx(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Vge(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var i=t.t=="d"?ga(zn(t.v)):t.v;i==(i|0)&&i>=0&&i<65536?ht(e,2,Fue(r,n,i)):ht(e,3,Lue(r,n,i));return;case"b":case"e":ht(e,5,Bge(r,n,t.v,t.t));return;case"s":case"str":ht(e,4,Uge(r,n,(t.v||"").slice(0,255)));return}ht(e,1,mx(null,r,n))}function $ge(e,t,r,n){var i=Array.isArray(t),a=Kr(t["!ref"]||"A1"),s,o="",l=[];if(a.e.c>255||a.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");a.e.c=Math.min(a.e.c,255),a.e.r=Math.min(a.e.c,16383),s=vr(a)}for(var c=a.s.r;c<=a.e.r;++c){o=Vi(c);for(var u=a.s.c;u<=a.e.c;++u){c===a.s.r&&(l[u]=li(u)),s=l[u]+o;var f=i?(t[c]||[])[u]:t[s];f&&Vge(e,f,c,u)}}}function zge(e,t){for(var r=t||{},n=vo(),i=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==r.sheet&&(i=a);if(i==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ht(n,r.biff==4?1033:r.biff==3?521:9,H3(e,16,r)),$ge(n,e.Sheets[e.SheetNames[i]],i,r),ht(n,10),n.end()}function Wge(e,t,r){ht(e,49,Fce({sz:12,name:"Arial"},r))}function Hge(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)t[i]!=null&&ht(e,1054,zce(i,t[i],r))})}function qge(e,t){var r=$e(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ht(e,2151,r),r=$e(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),oW(Kr(t["!ref"]||"A1"),r),r.write_shift(4,4),ht(e,2152,r)}function Gge(e,t){for(var r=0;r<16;++r)ht(e,224,M8({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){ht(e,224,M8(n,0,t))})}function Kge(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];ht(e,440,vue(n)),n[1].Tooltip&&ht(e,2048,xue(n))}delete t["!links"]}function Xge(e,t){if(t){var r=0;t.forEach(function(n,i){++r<=256&&n&&ht(e,125,Aue(K5(i,n),i))})}}function Yge(e,t,r,n,i){var a=16+_h(i.cellXfs,t,i);if(t.v==null&&!t.bf){ht(e,513,W0(r,n,a));return}if(t.bf)ht(e,6,_0e(t,r,n,i,a));else switch(t.t){case"d":case"n":var s=t.t=="d"?ga(zn(t.v)):t.v;ht(e,515,tue(r,n,s,a));break;case"b":case"e":ht(e,517,Zce(r,n,t.v,a,i,t.t));break;case"s":case"str":if(i.bookSST){var o=Z3(i.Strings,t.v,i.revStrings);ht(e,253,Bce(r,n,o,a))}else ht(e,516,Vce(r,n,(t.v||"").slice(0,255),a,i));break;default:ht(e,513,W0(r,n,a))}}function Jge(e,t,r){var n=vo(),i=r.SheetNames[e],a=r.Sheets[i]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},l=Array.isArray(a),c=t.biff==8,u,f="",d=[],h=Kr(a["!ref"]||"A1"),g=c?65536:16384;if(h.e.c>255||h.e.r>=g){if(t.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,g-1)}ht(n,2057,H3(r,16,t)),ht(n,13,Nl(1)),ht(n,12,Nl(100)),ht(n,15,Us(!0)),ht(n,17,Us(!1)),ht(n,16,$0(.001)),ht(n,95,Us(!0)),ht(n,42,Us(!1)),ht(n,43,Us(!1)),ht(n,130,Nl(1)),ht(n,128,Qce()),ht(n,131,Us(!1)),ht(n,132,Us(!1)),c&&Xge(n,a["!cols"]),ht(n,512,Hce(h,t)),c&&(a["!links"]=[]);for(var m=h.s.r;m<=h.e.r;++m){f=Vi(m);for(var v=h.s.c;v<=h.e.c;++v){m===h.s.r&&(d[v]=li(v)),u=d[v]+f;var y=l?(a[m]||[])[v]:a[u];y&&(Yge(n,y,m,v,t),c&&y.l&&a["!links"].push([u,y.l]))}}var b=o.CodeName||o.name||i;return c&&ht(n,574,Rce((s.Views||[])[0])),c&&(a["!merges"]||[]).length&&ht(n,229,fue(a["!merges"])),c&&Kge(n,a),ht(n,442,nW(b)),c&&qge(n,a),ht(n,10),n.end()}function Qge(e,t,r){var n=vo(),i=(e||{}).Workbook||{},a=i.Sheets||[],s=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(ht(n,2057,H3(e,5,r)),r.bookType=="xla"&&ht(n,135),ht(n,225,o?Nl(1200):null),ht(n,193,Zle(2)),l&&ht(n,191),l&&ht(n,192),ht(n,226),ht(n,92,bce("SheetJS",r)),ht(n,66,Nl(o?1200:1252)),o&&ht(n,353,Nl(0)),o&&ht(n,448),ht(n,317,Nue(e.SheetNames.length)),o&&e.vbaraw&&ht(n,211),o&&e.vbaraw){var c=s.CodeName||"ThisWorkbook";ht(n,442,nW(c))}ht(n,156,Nl(17)),ht(n,25,Us(!1)),ht(n,18,Us(!1)),ht(n,19,Nl(0)),o&&ht(n,431,Us(!1)),o&&ht(n,444,Nl(0)),ht(n,61,Oce()),ht(n,64,Us(!1)),ht(n,141,Nl(0)),ht(n,34,Us(Pme(e)=="true")),ht(n,14,Us(!0)),o&&ht(n,439,Us(!1)),ht(n,218,Nl(0)),Wge(n,e,r),Hge(n,e.SSF,r),Gge(n,r),o&&ht(n,352,Us(!1));var u=n.end(),f=vo();o&&ht(f,140,bue()),o&&r.Strings&&Mge(f,252,Tce(r.Strings)),ht(f,10);var d=f.end(),h=vo(),g=0,m=0;for(m=0;m<e.SheetNames.length;++m)g+=(o?12:11)+(o?2:1)*e.SheetNames[m].length;var v=u.length+g+d.length;for(m=0;m<e.SheetNames.length;++m){var y=a[m]||{};ht(h,133,Ece({pos:v,hs:y.Hidden||0,dt:0,name:e.SheetNames[m]},r)),v+=t[m].length}var b=h.end();if(g!=b.length)throw new Error("BS8 "+g+" != "+b.length);var _=[];return u.length&&_.push(u),b.length&&_.push(b),d.length&&_.push(d),Ca(_)}function Zge(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Wn(tr)),e&&e.SSF&&(Pg(),V5(e.SSF),r.revssf=z5(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,iP(r),r.cellXfs=[],_h(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var i=0;i<e.SheetNames.length;++i)n[n.length]=Jge(i,r,e);return n.unshift(Qge(e,n,r)),Ca(n)}function YW(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var i=wo(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var a=t||{};switch(a.biff||2){case 8:case 5:return Zge(e,t);case 4:case 3:case 2:return zge(e,t)}throw new Error("invalid type "+a.bookType+" for BIFF")}function Z8(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var i=e.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var a=e.match(/<\/table/i),s=i.index,o=a&&a.index||e.length,l=Foe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,d=0,h={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var b=y[o].trim();if(b.match(/<t[dh]/i)){for(var _=b,N=0;_.charAt(0)=="<"&&(N=_.indexOf(">"))>-1;)_=_.slice(N+1);for(var R=0;R<g.length;++R){var O=g[R];O.s.c==u&&O.s.r<c&&c<=O.e.r&&(u=O.e.c+1,R=-1)}var k=lr(b.slice(0,b.indexOf(">")));d=k.colspan?+k.colspan:1,((f=+k.rowspan)>1||d>1)&&g.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+d-1}});var S=k.t||k["data-t"]||"";if(!_.length){u+=d;continue}if(_=wz(_),h.s.r>c&&(h.s.r=c),h.e.r<c&&(h.e.r=c),h.s.c>u&&(h.s.c=u),h.e.c<u&&(h.e.c=u),!_.length){u+=d;continue}var T={t:"s",v:_};r.raw||!_.trim().length||S=="s"||(_==="TRUE"?T={t:"b",v:!0}:_==="FALSE"?T={t:"b",v:!1}:isNaN(bc(_))?isNaN(rg(_).getDate())||(T={t:"d",v:zn(_)},r.cellDates||(T={t:"n",v:ga(T.v)}),T.z=r.dateNF||tr[14]):T={t:"n",v:bc(_)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=T):n[nr({r:c,c:u})]=T,u+=d}}}}return n["!ref"]=vr(h),g.length&&(n["!merges"]=g),n}function e1e(e,t,r,n){for(var i=e["!merges"]||[],a=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<i.length;++c)if(!(i[c].s.r>r||i[c].s.c>s)&&!(i[c].e.r<r||i[c].e.c<s)){if(i[c].s.r<r||i[c].s.c<s){o=-1;break}o=i[c].e.r-i[c].s.r+1,l=i[c].e.c-i[c].s.c+1;break}if(!(o<0)){var u=nr({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],d=f&&f.v!=null&&(f.h||O3(f.w||(vf(f),f.w)||""))||"",h={};o>1&&(h.rowspan=o),l>1&&(h.colspan=l),n.editable?d='<span contenteditable="true">'+d+"</span>":f&&(h["data-t"]=f&&f.t||"z",f.v!=null&&(h["data-v"]=f.v),f.z!=null&&(h["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(d='<a href="'+f.l.Target+'">'+d+"</a>")),h.id=(n.id||"sjs")+"-"+u,a.push(ft("td",d,h))}}var g="<tr>";return g+a.join("")+"</tr>"}var t1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',r1e="</body></html>";function n1e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return bh(Z8(r[0],t),t);var n=oP();return r.forEach(function(i,a){lP(n,Z8(i,t),"Sheet"+(a+1))}),n}function i1e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function JW(e,t){var r=t||{},n=r.header!=null?r.header:t1e,i=r.footer!=null?r.footer:r1e,a=[n],s=wo(e["!ref"]);r.dense=Array.isArray(e),a.push(i1e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)a.push(e1e(e,s,o,r));return a.push("</table>"+i),a.join("")}function QW(e,t,r){var n=r||{},i=0,a=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var s=typeof n.origin=="string"?ci(n.origin):n.origin;i=s.r,a=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:i,c:a}};if(e["!ref"]){var u=wo(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),i==-1&&(c.e.r=i=u.e.r+1)}var f=[],d=0,h=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,b=0,_=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var N=o[g];if(eL(N)){if(n.display)continue;h[m]={hidden:!0}}var R=N.children;for(v=y=0;v<R.length;++v){var O=R[v];if(!(n.display&&eL(O))){var k=O.hasAttribute("data-v")?O.getAttribute("data-v"):O.hasAttribute("v")?O.getAttribute("v"):wz(O.innerHTML),S=O.getAttribute("data-z")||O.getAttribute("z");for(d=0;d<f.length;++d){var T=f[d];T.s.c==y+a&&T.s.r<m+i&&m+i<=T.e.r&&(y=T.e.c+1-a,d=-1)}_=+O.getAttribute("colspan")||1,((b=+O.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:m+i,c:y+a},e:{r:m+i+(b||1)-1,c:y+a+(_||1)-1}});var j={t:"s",v:k},E=O.getAttribute("data-t")||O.getAttribute("t")||"";k!=null&&(k.length==0?j.t=E||"z":n.raw||k.trim().length==0||E=="s"||(k==="TRUE"?j={t:"b",v:!0}:k==="FALSE"?j={t:"b",v:!1}:isNaN(bc(k))?isNaN(rg(k).getDate())||(j={t:"d",v:zn(k)},n.cellDates||(j={t:"n",v:ga(j.v)}),j.z=n.dateNF||tr[14]):j={t:"n",v:bc(k)})),j.z===void 0&&S!=null&&(j.z=S);var C="",D=O.getElementsByTagName("A");if(D&&D.length)for(var q=0;q<D.length&&!(D[q].hasAttribute("href")&&(C=D[q].getAttribute("href"),C.charAt(0)!="#"));++q);C&&C.charAt(0)!="#"&&(j.l={Target:C}),n.dense?(e[m+i]||(e[m+i]=[]),e[m+i][y+a]=j):e[nr({c:y+a,r:m+i})]=j,c.e.c<y+a&&(c.e.c=y+a),y+=_}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,m-1+i),e["!ref"]=vr(c),m>=l&&(e["!fullref"]=vr((c.e.r=o.length-g+m-1+i,c))),e}function ZW(e,t){var r=t||{},n=r.dense?[]:{};return QW(n,e,t)}function a1e(e,t){return bh(ZW(e,t),t)}function eL(e){var t="",r=s1e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function s1e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function o1e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Gr(t.replace(/<[^>]*>/g,""));return[r]}var tL={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function eH(e,t){var r=t||{},n=D3(e),i=[],a,s,o={name:""},l="",c=0,u,f,d={},h=[],g=r.dense?[]:{},m,v,y={value:""},b="",_=0,N=[],R=-1,O=-1,k={s:{r:1e6,c:1e7},e:{r:0,c:0}},S=0,T={},j=[],E={},C=0,D=0,q=[],ee=1,le=1,se=[],K={Names:[]},X={},_e=["",""],Se=[],P={},U="",V=0,z=!1,ne=!1,te=0;for(gy.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=gy.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"工作表":m[1]==="/"?(k.e.c>=k.s.c&&k.e.r>=k.s.r?g["!ref"]=vr(k):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=k.e.r&&(g["!fullref"]=g["!ref"],k.e.r=r.sheetRows-1,g["!ref"]=vr(k)),j.length&&(g["!merges"]=j),q.length&&(g["!rows"]=q),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),h.push(u.name),d[u.name]=g,ne=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=lr(m[0],!1),R=O=-1,k.s.r=k.s.c=1e7,k.e.r=k.e.c=0,g=r.dense?[]:{},j=[],q=[],ne=!0);break;case"table-row-group":m[1]==="/"?--S:++S;break;case"table-row":case"行":if(m[1]==="/"){R+=ee,ee=1;break}if(f=lr(m[0],!1),f.行号?R=f.行号-1:R==-1&&(R=0),ee=+f["number-rows-repeated"]||1,ee<10)for(te=0;te<ee;++te)S>0&&(q[R+te]={level:S});O=-1;break;case"covered-table-cell":m[1]!=="/"&&++O,r.sheetStubs&&(r.dense?(g[R]||(g[R]=[]),g[R][O]={t:"z"}):g[nr({r:R,c:O})]={t:"z"}),b="",N=[];break;case"table-cell":case"数据":if(m[0].charAt(m[0].length-2)==="/")++O,y=lr(m[0],!1),le=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=Y8(Gr(y.formula))),(y.数据类型||y["value-type"])=="string"&&(v.t="s",v.v=Gr(y["string-value"]||""),r.dense?(g[R]||(g[R]=[]),g[R][O]=v):g[nr({r:R,c:O})]=v),O+=le-1;else if(m[1]!=="/"){++O,b="",_=0,N=[],le=1;var xe=ee?R+ee-1:R;if(O>k.e.c&&(k.e.c=O),O<k.s.c&&(k.s.c=O),R<k.s.r&&(k.s.r=R),xe>k.e.r&&(k.e.r=xe),y=lr(m[0],!1),Se=[],P={},v={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=Gr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(C=parseInt(y["number-matrix-rows-spanned"],10)||0,D=parseInt(y["number-matrix-columns-spanned"],10)||0,E={s:{r:R,c:O},e:{r:R+C-1,c:O+D-1}},v.F=vr(E),se.push([E,v.F])),y.formula)v.f=Y8(y.formula);else for(te=0;te<se.length;++te)R>=se[te][0].s.r&&R<=se[te][0].e.r&&O>=se[te][0].s.c&&O<=se[te][0].e.c&&(v.F=se[te][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(C=parseInt(y["number-rows-spanned"],10)||0,D=parseInt(y["number-columns-spanned"],10)||0,E={s:{r:R,c:O},e:{r:R+C-1,c:O+D-1}},j.push(E)),y["number-columns-repeated"]&&(le=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Un(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=zn(y["date-value"]),r.cellDates||(v.t="n",v.v=ga(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Roe(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=W5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=Gr(y["string-value"]),N=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(z=!1,v.t==="s"&&(v.v=b||"",N.length&&(v.R=N),z=_==0),X.Target&&(v.l=X),Se.length>0&&(v.c=Se,Se=[]),b&&r.cellText!==!1&&(v.w=b),z&&(v.t="z",delete v.v),(!z||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=R))for(var oe=0;oe<ee;++oe){if(le=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[R+oe]||(g[R+oe]=[]),g[R+oe][O]=oe==0?v:Wn(v);--le>0;)g[R+oe][O+le]=Wn(v);else for(g[nr({r:R+oe,c:O})]=v;--le>0;)g[nr({r:R+oe,c:O+le})]=Wn(v);k.e.c<=O&&(k.e.c=O)}le=parseInt(y["number-columns-repeated"]||"1",10),O+=le-1,le=0,v={},b="",N=[]}X={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((a=i.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((a=i.pop())[0]!==m[3])throw"Bad state: "+a;P.t=b,N.length&&(P.R=N),P.a=U,Se.push(P)}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);U="",V=0,b="",_=0,N=[];break;case"creator":m[1]==="/"?U=n.slice(V,m.index):V=m.index+m[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((a=i.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&i.push([m[3],!1]);b="",_=0,N=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(T[o.name]=l,(a=i.pop())[0]!==m[3])throw"Bad state: "+a}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=lr(m[0],!1),i.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":s=lr(m[0],!1),l+=tL[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":s=lr(m[0],!1),l+=tL[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=lr(m[0],!1),_e=TA(s["cell-range-address"]);var he={Name:s.name,Ref:_e[0]+"!"+_e[1]};ne&&(he.Sheet=h.length),K.Names.push(he);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var Pe=o1e(n.slice(_,m.index));b=(b.length>0?b+`
`:"")+Pe[0]}else lr(m[0],!1),_=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{_e=TA(lr(m[0])["target-range-address"]),d[_e[0]]["!autofilter"]={ref:_e[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(X=lr(m[0],!1),!X.href)break;X.Target=Gr(X.href),delete X.href,X.Target.charAt(0)=="#"&&X.Target.indexOf(".")>-1?(_e=TA(X.Target.slice(1)),X.Target="#"+_e[0]+"!"+_e[1]):X.Target.match(/^\.\.[\\\/]/)&&(X.Target=X.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(m)}}var G={Sheets:d,SheetNames:h,Workbook:K};return r.bookSheets&&delete G.Sheets,G}function rL(e,t){t=t||{},kl(e,"META-INF/manifest.xml")&&Rle(Ki(e,"META-INF/manifest.xml"),t);var r=Ho(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=eH(_n(r),t);return kl(e,"meta.xml")&&(n.Props=Wz(Ki(e,"meta.xml"))),n}function nL(e,t){return eH(e,t)}var l1e=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+my({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return $i+t}}(),iL=function(){var e=function(a){return pn(a).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(a,s,o){var l=[];l.push('      <table:table table:name="'+pn(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=wo(a["!ref"]||"A1"),d=a["!merges"]||[],h=0,g=Array.isArray(a);if(a["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(a["!cols"][u]?' table:style-name="co'+a["!cols"][u].ods+'"':"")+`></table:table-column>
`);var m="",v=a["!rows"]||[];for(c=0;c<f.s.r;++c)m=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+m+`></table:table-row>
`);for(;c<=f.e.r;++c){for(m=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+m+`>
`),u=0;u<f.s.c;++u)l.push(t);for(;u<=f.e.c;++u){var y=!1,b={},_="";for(h=0;h!=d.length;++h)if(!(d[h].s.c>u)&&!(d[h].s.r>c)&&!(d[h].e.c<u)&&!(d[h].e.r<c)){(d[h].s.c!=u||d[h].s.r!=c)&&(y=!0),b["table:number-columns-spanned"]=d[h].e.c-d[h].s.c+1,b["table:number-rows-spanned"]=d[h].e.r-d[h].s.r+1;break}if(y){l.push(r);continue}var N=nr({r:c,c:u}),R=g?(a[c]||[])[u]:a[N];if(R&&R.f&&(b["table:formula"]=pn(N0e(R.f)),R.F&&R.F.slice(0,N.length)==N)){var O=wo(R.F);b["table:number-matrix-columns-spanned"]=O.e.c-O.s.c+1,b["table:number-matrix-rows-spanned"]=O.e.r-O.s.r+1}if(!R){l.push(t);continue}switch(R.t){case"b":_=R.v?"TRUE":"FALSE",b["office:value-type"]="boolean",b["office:boolean-value"]=R.v?"true":"false";break;case"n":_=R.w||String(R.v||0),b["office:value-type"]="float",b["office:value"]=R.v||0;break;case"s":case"str":_=R.v==null?"":R.v,b["office:value-type"]="string";break;case"d":_=R.w||zn(R.v).toISOString(),b["office:value-type"]="date",b["office:date-value"]=zn(R.v).toISOString(),b["table:style-name"]="ce1";break;default:l.push(t);continue}var k=e(_);if(R.l&&R.l.Target){var S=R.l.Target;S=S.charAt(0)=="#"?"#"+C0e(S.slice(1)):S,S.charAt(0)!="#"&&!S.match(/^\w+:/)&&(S="../"+S),k=ft("text:a",k,{"xlink:href":S.replace(/&/g,"&amp;")})}l.push("          "+ft("table:table-cell",ft("text:p",k,{}),b)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(a,s){a.push(` <office:automatic-styles>
`),a.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),a.push(`   <number:month number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:day number:style="long"/>
`),a.push(`   <number:text>/</number:text>
`),a.push(`   <number:year/>
`),a.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;eh(f),f.ods=o;var d=c["!cols"][u].wpx+"px";a.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),a.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+d+`"/>
`),a.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";a.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),a.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),a.push(`  </style:style>
`),++l}}}),a.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),a.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),a.push(`  </style:style>
`),a.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),a.push(` </office:automatic-styles>
`)};return function(s,o){var l=[$i],c=my({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=my({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(zz().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),i(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(n(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function tH(e,t){if(t.bookType=="fods")return iL(e,t);var r=C3(),n="",i=[],a=[];return n="mimetype",wr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",wr(r,n,iL(e,t)),i.push([n,"text/xml"]),a.push([n,"ContentFile"]),n="styles.xml",wr(r,n,l1e(e,t)),i.push([n,"text/xml"]),a.push([n,"StylesFile"]),n="meta.xml",wr(r,n,$i+zz()),i.push([n,"text/xml"]),a.push([n,"MetadataFile"]),n="manifest.rdf",wr(r,n,Fle(a)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",wr(r,n,Lle(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function H0(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function mk(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):_n(wh(e))}function c1e(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Wo(Zc(e))}function u1e(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function rh(e){var t=e.reduce(function(i,a){return i+a.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(i){r.set(i,n),n+=i.length}),r}function aL(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function f1e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,i=t+13;i>=t;--i)n=n*256+e[i];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function d1e(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var a=0;i>=1;++a,i/=256)e[t+a]=i&255;e[t+15]|=r>=0?0:128}function Sy(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function un(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Ei(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Xr(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],i=Sy(e,r),a=i&7;i=Math.floor(i/8);var s=0,o;if(i==0)break;switch(a){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Sy(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(a," for Field ").concat(i," at offset ").concat(n))}var c={data:o,type:a};t[i]==null?t[i]=[c]:t[i].push(c)}return t}function Ha(e){var t=[];return e.forEach(function(r,n){r.forEach(function(i){i.data&&(t.push(un(n*8+i.type)),i.type==2&&t.push(un(i.data.length)),t.push(i.data))})}),rh(t)}function rP(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function Sl(e){for(var t,r=[],n=[0];n[0]<e.length;){var i=Sy(e,n),a=Xr(e.slice(n[0],n[0]+i));n[0]+=i;var s={id:Ei(a[1][0].data),messages:[]};a[2].forEach(function(o){var l=Xr(o.data),c=Ei(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=a[3])!=null&&t[0]&&(s.merge=Ei(a[3][0].data)>>>0>0),r.push(s)}return r}function Mp(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:un(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:un(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(s){i.push(s.data),s.meta[3]=[{type:0,data:un(s.data.length)}],n[2].push({data:Ha(s.meta),type:2})});var a=Ha(n);t.push(un(a.length)),t.push(a),i.forEach(function(s){return t.push(s)})}),rh(t)}function h1e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Sy(t,r),i=[];r[0]<t.length;){var a=t[r[0]]&3;if(a==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}i.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(a==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,a==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),i=[rh(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(i.push(i[0].slice(-l)),c-=l;c>=i[i.length-1].length;)i.push(i[i.length-1]),c-=i[i.length-1].length;i.push(i[0].slice(-l,-l+c))}}var u=rh(i);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function El(e){for(var t=[],r=0;r<e.length;){var n=e[r++],i=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(h1e(n,e.slice(r,r+i))),r+=i}if(r!==e.length)throw new Error("data is not a valid framed stream!");return rh(t)}function Bp(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),i=new Uint8Array(4);t.push(i);var a=un(n),s=a.length;t.push(a),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,i[0]=0,i[1]=s&255,i[2]=s>>8&255,i[3]=s>>16&255,r+=n}return rh(t)}function p1e(e,t,r,n){var i=H0(e),a=i.getUint32(4,!0),s=(n>1?12:8)+aL(a&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);a&512&&(o=i.getUint32(s,!0),s+=4),s+=aL(a&(n>1?12288:4096))*4,a&16&&(l=i.getUint32(s,!0),s+=4),a&32&&(c=i.getFloat64(s,!0),s+=8),a&64&&(u.setTime(u.getTime()+i.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function m1e(e,t,r){var n=H0(e),i=n.getUint32(8,!0),a=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);i&1&&(l=f1e(e,a),a+=16),i&2&&(c=n.getFloat64(a,!0),a+=8),i&4&&(u.setTime(u.getTime()+n.getFloat64(a,!0)*1e3),a+=8),i&8&&(o=n.getUint32(a,!0),a+=4),i&16&&(s=n.getUint32(a,!0),a+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(i&31," : ").concat(e.slice(0,4)))}return f}function NA(e,t){var r=new Uint8Array(32),n=H0(r),i=12,a=0;switch(r[0]=5,e.t){case"n":r[1]=2,d1e(r,i,e.v),a|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,e.v?1:0,!0),a|=2,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=8,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,a,!0),r.slice(0,i)}function CA(e,t){var r=new Uint8Array(32),n=H0(r),i=12,a=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(i,e.v,!0),a|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,e.v?1:0,!0),a|=32,i+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(i,t.indexOf(e.v),!0),a|=16,i+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,a,!0),r.slice(0,i)}function g1e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return p1e(e,t,r,e[0]);case 5:return m1e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ms(e){var t=Xr(e);return Sy(t[1][0].data)}function sL(e,t){var r=Xr(t.data),n=Ei(r[1][0].data),i=r[3],a=[];return(i||[]).forEach(function(s){var o=Xr(s.data),l=Ei(o[1][0].data)>>>0;switch(n){case 1:a[l]=mk(o[3][0].data);break;case 8:{var c=e[ms(o[9][0].data)][0],u=Xr(c.data),f=e[ms(u[1][0].data)][0],d=Ei(f.meta[1][0].data);if(d!=2001)throw new Error("2000 unexpected reference to ".concat(d));var h=Xr(f.data);a[l]=h[3].map(function(g){return mk(g.data)}).join("")}break}}),a}function v1e(e,t){var r,n,i,a,s,o,l,c,u,f,d,h,g,m,v=Xr(e),y=Ei(v[1][0].data)>>>0,b=Ei(v[2][0].data)>>>0,_=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Ei(v[8][0].data)>0||!1,N,R;if((a=(i=v[7])==null?void 0:i[0])!=null&&a.data&&t!=0)N=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,R=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&t!=1)N=(h=(d=v[4])==null?void 0:d[0])==null?void 0:h.data,R=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var O=_?4:1,k=H0(N),S=[],T=0;T<N.length/2;++T){var j=k.getUint16(T*2,!0);j<65535&&S.push([T,j])}if(S.length!=b)throw"Expected ".concat(b," cells, found ").concat(S.length);var E=[];for(T=0;T<S.length-1;++T)E[S[T][0]]=R.subarray(S[T][1]*O,S[T+1][1]*O);return S.length>=1&&(E[S[S.length-1][0]]=R.subarray(S[S.length-1][1]*O)),{R:y,cells:E}}function y1e(e,t){var r,n=Xr(t.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?Ei(n[7][0].data)>>>0>0?1:0:-1,a=rP(n[5],function(s){return v1e(s,i)});return{nrows:Ei(n[4][0].data)>>>0,data:a.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function x1e(e,t,r){var n,i=Xr(t.data),a={s:{r:0,c:0},e:{r:0,c:0}};if(a.e.r=(Ei(i[6][0].data)>>>0)-1,a.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(a.e.c=(Ei(i[7][0].data)>>>0)-1,a.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=vr(a);var s=Xr(i[4][0].data),o=sL(e,e[ms(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?sL(e,e[ms(s[17][0].data)][0]):[],c=Xr(s[3][0].data),u=0;c[1].forEach(function(f){var d=Xr(f.data),h=e[ms(d[2][0].data)][0],g=Ei(h.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=y1e(e,h);m.data.forEach(function(v,y){v.forEach(function(b,_){var N=nr({r:u+y,c:_}),R=g1e(b,o,l);R&&(r[N]=R)})}),u+=m.nrows})}function w1e(e,t){var r=Xr(t.data),n={"!ref":"A1"},i=e[ms(r[2][0].data)],a=Ei(i[0].meta[1][0].data);if(a!=6001)throw new Error("6000 unexpected reference to ".concat(a));return x1e(e,i[0],n),n}function b1e(e,t){var r,n=Xr(t.data),i={name:(r=n[1])!=null&&r[0]?mk(n[1][0].data):"",sheets:[]},a=rP(n[2],ms);return a.forEach(function(s){e[s].forEach(function(o){var l=Ei(o.meta[1][0].data);l==6e3&&i.sheets.push(w1e(e,o))})}),i}function _1e(e,t){var r=oP(),n=Xr(t.data),i=rP(n[1],ms);if(i.forEach(function(a){e[a].forEach(function(s){var o=Ei(s.meta[1][0].data);if(o==2){var l=b1e(e,s);l.sheets.forEach(function(c,u){lP(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function PA(e){var t,r,n,i,a={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=El(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=Sl(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){a[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((i=(n=(r=(t=a==null?void 0:a[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Ei(a[1][0].meta[1][0].data)==1&&a[1][0];if(o||s.forEach(function(l){a[l].forEach(function(c){var u=Ei(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return _1e(a,o)}function S1e(e,t,r){var n,i,a,s;if(!((n=e[6])!=null&&n[0])||!((i=e[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(a=e[8])==null?void 0:a[0])==null?void 0:s.data)&&Ei(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=H0(e[7][0].data),u=0,f=[],d=H0(e[4][0].data),h=0,g=[],m=0;m<t.length;++m){if(t[m]==null){c.setUint16(m*2,65535,!0),d.setUint16(m*2,65535);continue}c.setUint16(m*2,u,!0),d.setUint16(m*2,h,!0);var v,y;switch(typeof t[m]){case"string":v=NA({t:"s",v:t[m]},r),y=CA({t:"s",v:t[m]},r);break;case"number":v=NA({t:"n",v:t[m]},r),y=CA({t:"n",v:t[m]},r);break;case"boolean":v=NA({t:"b",v:t[m]},r),y=CA({t:"b",v:t[m]},r);break;default:throw new Error("Unsupported value "+t[m])}f.push(v),u+=v.length,g.push(y),h+=y.length,++l}for(e[2][0].data=un(l);m<e[7][0].data.length/2;++m)c.setUint16(m*2,65535,!0),d.setUint16(m*2,65535,!0);return e[6][0].data=rh(f),e[3][0].data=rh(g),l}function E1e(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=wo(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(vr(n)));var a=Zb(r,{range:n,header:1}),s=["~Sh33tJ5~"];a.forEach(function(U){return U.forEach(function(V){typeof V=="string"&&s.push(V)})});var o={},l=[],c=Gt.read(t.numbers,{type:"base64"});c.FileIndex.map(function(U,V){return[U,c.FullPaths[V]]}).forEach(function(U){var V=U[0],z=U[1];if(V.type==2&&V.name.match(/\.iwa/)){var ne=V.content,te=El(ne),xe=Sl(te);xe.forEach(function(oe){l.push(oe.id),o[oe.id]={deps:[],location:z,type:Ei(oe.messages[0].meta[1][0].data)}})}}),l.sort(function(U,V){return U-V});var u=l.filter(function(U){return U>1}).map(function(U){return[U,un(U)]});c.FileIndex.map(function(U,V){return[U,c.FullPaths[V]]}).forEach(function(U){var V=U[0];if(U[1],!!V.name.match(/\.iwa/)){var z=Sl(El(V.content));z.forEach(function(ne){ne.messages.forEach(function(te){u.forEach(function(xe){ne.messages.some(function(oe){return Ei(oe.meta[1][0].data)!=11006&&u1e(oe.data,xe[1])})&&o[xe[0]].deps.push(ne.id)})})})}});for(var f=Gt.find(c,o[1].location),d=Sl(El(f.content)),h,g=0;g<d.length;++g){var m=d[g];m.id==1&&(h=m)}var v=ms(Xr(h.messages[0].data)[1][0].data);for(f=Gt.find(c,o[v].location),d=Sl(El(f.content)),g=0;g<d.length;++g)m=d[g],m.id==v&&(h=m);for(v=ms(Xr(h.messages[0].data)[2][0].data),f=Gt.find(c,o[v].location),d=Sl(El(f.content)),g=0;g<d.length;++g)m=d[g],m.id==v&&(h=m);for(v=ms(Xr(h.messages[0].data)[2][0].data),f=Gt.find(c,o[v].location),d=Sl(El(f.content)),g=0;g<d.length;++g)m=d[g],m.id==v&&(h=m);var y=Xr(h.messages[0].data);{y[6][0].data=un(n.e.r+1),y[7][0].data=un(n.e.c+1);var b=ms(y[46][0].data),_=Gt.find(c,o[b].location),N=Sl(El(_.content));{for(var R=0;R<N.length&&N[R].id!=b;++R);if(N[R].id!=b)throw"Bad ColumnRowUIDMapArchive";var O=Xr(N[R].messages[0].data);O[1]=[],O[2]=[],O[3]=[];for(var k=0;k<=n.e.c;++k){var S=[];S[1]=S[2]=[{type:0,data:un(k+420690)}],O[1].push({type:2,data:Ha(S)}),O[2].push({type:0,data:un(k)}),O[3].push({type:0,data:un(k)})}O[4]=[],O[5]=[],O[6]=[];for(var T=0;T<=n.e.r;++T)S=[],S[1]=S[2]=[{type:0,data:un(T+726270)}],O[4].push({type:2,data:Ha(S)}),O[5].push({type:0,data:un(T)}),O[6].push({type:0,data:un(T)});N[R].messages[0].data=Ha(O)}_.content=Bp(Mp(N)),_.size=_.content.length,delete y[46];var j=Xr(y[4][0].data);{j[7][0].data=un(n.e.r+1);var E=Xr(j[1][0].data),C=ms(E[2][0].data);_=Gt.find(c,o[C].location),N=Sl(El(_.content));{if(N[0].id!=C)throw"Bad HeaderStorageBucket";var D=Xr(N[0].messages[0].data);for(T=0;T<a.length;++T){var q=Xr(D[2][0].data);q[1][0].data=un(T),q[4][0].data=un(a[T].length),D[2][T]={type:D[2][0].type,data:Ha(q)}}N[0].messages[0].data=Ha(D)}_.content=Bp(Mp(N)),_.size=_.content.length;var ee=ms(j[2][0].data);_=Gt.find(c,o[ee].location),N=Sl(El(_.content));{if(N[0].id!=ee)throw"Bad HeaderStorageBucket";for(D=Xr(N[0].messages[0].data),k=0;k<=n.e.c;++k)q=Xr(D[2][0].data),q[1][0].data=un(k),q[4][0].data=un(n.e.r+1),D[2][k]={type:D[2][0].type,data:Ha(q)};N[0].messages[0].data=Ha(D)}_.content=Bp(Mp(N)),_.size=_.content.length;var le=ms(j[4][0].data);(function(){for(var U=Gt.find(c,o[le].location),V=Sl(El(U.content)),z,ne=0;ne<V.length;++ne){var te=V[ne];te.id==le&&(z=te)}var xe=Xr(z.messages[0].data);{xe[3]=[];var oe=[];s.forEach(function(G,ze){oe[1]=[{type:0,data:un(ze)}],oe[2]=[{type:0,data:un(1)}],oe[3]=[{type:2,data:c1e(G)}],xe[3].push({type:2,data:Ha(oe)})})}z.messages[0].data=Ha(xe);var he=Mp(V),Pe=Bp(he);U.content=Pe,U.size=U.content.length})();var se=Xr(j[3][0].data);{var K=se[1][0];delete se[2];var X=Xr(K.data);{var _e=ms(X[2][0].data);(function(){for(var U=Gt.find(c,o[_e].location),V=Sl(El(U.content)),z,ne=0;ne<V.length;++ne){var te=V[ne];te.id==_e&&(z=te)}var xe=Xr(z.messages[0].data);{delete xe[6],delete se[7];var oe=new Uint8Array(xe[5][0].data);xe[5]=[];for(var he=0,Pe=0;Pe<=n.e.r;++Pe){var G=Xr(oe);he+=S1e(G,a[Pe],s),G[1][0].data=un(Pe),xe[5].push({data:Ha(G),type:2})}xe[1]=[{type:0,data:un(n.e.c+1)}],xe[2]=[{type:0,data:un(n.e.r+1)}],xe[3]=[{type:0,data:un(he)}],xe[4]=[{type:0,data:un(n.e.r+1)}]}z.messages[0].data=Ha(xe);var ze=Mp(V),Ce=Bp(ze);U.content=Ce,U.size=U.content.length})()}K.data=Ha(X)}j[3][0].data=Ha(se)}y[4][0].data=Ha(j)}h.messages[0].data=Ha(y);var Se=Mp(d),P=Bp(Se);return f.content=P,f.size=f.content.length,c}function rH(e){return function(r){for(var n=0;n!=e.length;++n){var i=e[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function nP(e){rH([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function iP(e){rH([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function A1e(e){return Ar.WS.indexOf(e)>-1?"sheet":e==Ar.CS?"chart":e==Ar.DS?"dialog":e==Ar.MS?"macro":e&&e.length?e:"sheet"}function T1e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,A1e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function k1e(e,t,r,n,i,a,s,o,l,c,u,f){try{a[n]=bv(Ho(e,r,!0),t);var d=Ki(e,t),h;switch(o){case"sheet":h=Xme(d,t,i,l,a[n],c,u,f);break;case"chart":if(h=Yme(d,t,i,l,a[n],c,u,f),!h||!h["!drawel"])break;var g=Z1(h["!drawel"].Target,t),m=vy(g),v=jde(Ho(e,g,!0),bv(Ho(e,m,!0),g)),y=Z1(v,g),b=vy(y);h=Sme(Ho(e,y,!0),y,l,bv(Ho(e,b,!0),y),c,h);break;case"macro":h=Jme(d,t,i,l,a[n],c,u,f);break;case"dialog":h=Qme(d,t,i,l,a[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=h;var _=[];a&&a[n]&&Ai(a[n]).forEach(function(N){var R="";if(a[n][N].Type==Ar.CMNT){R=Z1(a[n][N].Target,t);var O=rge(Ki(e,R,!0),R,l);if(!O||!O.length)return;H8(h,O,!1)}a[n][N].Type==Ar.TCMNT&&(R=Z1(a[n][N].Target,t),_=_.concat(Mde(Ki(e,R,!0),l)))}),_&&_.length&&H8(h,_,!0,l.people||[])}catch(N){if(l.WTF)throw N}}function vl(e){return e.charAt(0)=="/"?e.slice(1):e}function N1e(e,t){if(Pg(),t=t||{},nP(t),kl(e,"META-INF/manifest.xml")||kl(e,"objectdata.xml"))return rL(e,t);if(kl(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof PA<"u"){if(e.FileIndex)return PA(e);var r=Gt.utils.cfb_new();return d8(e).forEach(function(q){wr(r,q,Boe(e,q))}),PA(r)}throw new Error("Unsupported NUMBERS file")}if(!kl(e,"[Content_Types].xml"))throw kl(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):kl(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=d8(e),i=Ole(Ho(e,"[Content_Types].xml")),a=!1,s,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Ki(e,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Ki(e,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),a=!0}i.workbooks[0].slice(-3)=="bin"&&(a=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(_v=[],i.sst)try{_v=tge(Ki(e,vl(i.sst)),i.sst,t)}catch(q){if(t.WTF)throw q}t.cellStyles&&i.themes.length&&(l=ege(Ho(e,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],t)),i.style&&(c=Zme(Ki(e,vl(i.style)),i.style,l,t))}i.links.map(function(q){try{var ee=bv(Ho(e,vy(vl(q))),q);return ige(Ki(e,vl(q)),ee,q,t)}catch{}});var u=Kme(Ki(e,vl(i.workbooks[0])),i.workbooks[0],t),f={},d="";i.coreprops.length&&(d=Ki(e,vl(i.coreprops[0]),!0),d&&(f=Wz(d)),i.extprops.length!==0&&(d=Ki(e,vl(i.extprops[0]),!0),d&&Ble(d,f,t)));var h={};(!t.bookSheets||t.bookProps)&&i.custprops.length!==0&&(d=Ho(e,vl(i.custprops[0]),!0),d&&(h=Vle(d,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(ee){return ee.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=h),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&i.calcchain&&(m=nge(Ki(e,vl(i.calcchain)),i.calcchain));var v=0,y={},b,_;{var N=u.Sheets;f.Worksheets=N.length,f.SheetNames=[];for(var R=0;R!=N.length;++R)f.SheetNames[R]=N[R].name}var O=a?"bin":"xml",k=i.workbooks[0].lastIndexOf("/"),S=(i.workbooks[0].slice(0,k+1)+"_rels/"+i.workbooks[0].slice(k+1)+".rels").replace(/^\//,"");kl(e,S)||(S="xl/_rels/workbook."+O+".rels");var T=bv(Ho(e,S,!0),S.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(t.xlmeta=age(Ki(e,vl(i.metadata[0])),i.metadata[0],t)),(i.people||[]).length>=1&&(t.people=Ude(Ki(e,vl(i.people[0])),t)),T&&(T=T1e(T,u.Sheets));var j=Ki(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var E="sheet";if(T&&T[v]?(b="xl/"+T[v][1].replace(/[\/]?xl\//,""),kl(e,b)||(b=T[v][1]),kl(e,b)||(b=S.replace(/_rels\/.*$/,"")+T[v][1]),E=T[v][2]):(b="xl/worksheets/sheet"+(v+1-j)+"."+O,b=b.replace(/sheet0\./,"sheet.")),_=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var C=!1,D=0;D!=t.sheets.length;++D)typeof t.sheets[D]=="number"&&t.sheets[D]==v&&(C=1),typeof t.sheets[D]=="string"&&t.sheets[D].toLowerCase()==f.SheetNames[v].toLowerCase()&&(C=1);if(!C)continue e}}k1e(e,b,_,f.SheetNames[v],v,y,s,E,t,u,l,c)}return g={Directory:i,Workbook:u,Props:f,Custprops:h,Deps:m,Sheets:s,SheetNames:f.SheetNames,Strings:_v,Styles:c,Themes:l,SSF:Wn(tr)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(q,ee){q=q.replace(/^Root Entry[\/]/,""),g.keys.push(q),g.files[q]=e.FileIndex[ee]}))),t&&t.bookVBA&&(i.vba.length>0?g.vbaraw=Ki(e,vl(i.vba[0]),!0):i.defaults&&i.defaults.bin===Kde&&(g.vbaraw=Ki(e,"xl/vbaProject.bin",!0))),g}function C1e(e,t){var r=t||{},n="Workbook",i=Gt.find(e,n);try{if(n="/!DataSpaces/Version",i=Gt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(afe(i.content),n="/!DataSpaces/DataSpaceMap",i=Gt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=ofe(i.content);if(a.length!==1||a[0].comps.length!==1||a[0].comps[0].t!==0||a[0].name!=="StrongEncryptionDataSpace"||a[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Gt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=lfe(i.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Gt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);ufe(i.content)}catch{}if(n="/EncryptionInfo",i=Gt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=ffe(i.content);if(n="/EncryptedPackage",i=Gt.find(e,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function P1e(e,t){return t.bookType=="ods"?tH(e,t):t.bookType=="numbers"?E1e(e,t):t.bookType=="xlsb"?I1e(e,t):O1e(e,t)}function I1e(e,t){fm=1024,e&&!e.SSF&&(e.SSF=Wn(tr)),e&&e.SSF&&(Pg(),V5(e.SSF),t.revssf=z5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=CW.indexOf(t.bookType)>-1,i=z3();iP(t=t||{});var a=C3(),s="",o=0;if(t.cellXfs=[],_h(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",wr(a,s,Hz(e.Props,t)),i.coreprops.push(s),fn(t.rels,2,s,Ar.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,wr(a,s,Kz(e.Props)),i.extprops.push(s),fn(t.rels,3,s,Ar.EXT_PROPS),e.Custprops!==e.Props&&Ai(e.Custprops||{}).length>0&&(s="docProps/custom.xml",wr(a,s,Xz(e.Custprops)),i.custprops.push(s),fn(t.rels,4,s,Ar.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],d=(f||{})["!type"]||"sheet";switch(d){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,wr(a,s,oge(o-1,s,t,e,u)),i.sheets.push(s),fn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Ar.WS[0])}if(f){var h=f["!comments"],g=!1,m="";h&&h.length>0&&(m="xl/comments"+o+"."+r,wr(a,m,uge(h,m)),i.comments.push(m),fn(u,-1,"../comments"+o+"."+r,Ar.CMNT),g=!0),f["!legacy"]&&g&&wr(a,"xl/drawings/vmlDrawing"+o+".vml",kW(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&wr(a,vy(s),Cm(u))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,wr(a,s,cge(t.Strings,s,t)),i.strs.push(s),fn(t.wbrels,-1,"sharedStrings."+r,Ar.SST)),s="xl/workbook."+r,wr(a,s,sge(e,s)),i.workbooks.push(s),fn(t.rels,1,s,Ar.WB),s="xl/theme/theme1.xml",wr(a,s,X3(e.Themes,t)),i.themes.push(s),fn(t.wbrels,-1,"theme/theme1.xml",Ar.THEME),s="xl/styles."+r,wr(a,s,lge(e,s,t)),i.styles.push(s),fn(t.wbrels,-1,"styles."+r,Ar.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",wr(a,s,e.vbaraw),i.vba.push(s),fn(t.wbrels,-1,"vbaProject.bin",Ar.VBA)),s="xl/metadata."+r,wr(a,s,fge(s)),i.metadata.push(s),fn(t.wbrels,-1,"metadata."+r,Ar.XLMETA),wr(a,"[Content_Types].xml",$z(i,t)),wr(a,"_rels/.rels",Cm(t.rels)),wr(a,"xl/_rels/workbook."+r+".rels",Cm(t.wbrels)),delete t.revssf,delete t.ssf,a}function O1e(e,t){fm=1024,e&&!e.SSF&&(e.SSF=Wn(tr)),e&&e.SSF&&(Pg(),V5(e.SSF),t.revssf=z5(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Sv?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=CW.indexOf(t.bookType)>-1,i=z3();iP(t=t||{});var a=C3(),s="",o=0;if(t.cellXfs=[],_h(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",wr(a,s,Hz(e.Props,t)),i.coreprops.push(s),fn(t.rels,2,s,Ar.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,wr(a,s,Kz(e.Props)),i.extprops.push(s),fn(t.rels,3,s,Ar.EXT_PROPS),e.Custprops!==e.Props&&Ai(e.Custprops||{}).length>0&&(s="docProps/custom.xml",wr(a,s,Xz(e.Custprops)),i.custprops.push(s),fn(t.rels,4,s,Ar.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},d=e.Sheets[e.SheetNames[o-1]],h=(d||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,wr(a,s,UW(o-1,t,e,f)),i.sheets.push(s),fn(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Ar.WS[0])}if(d){var g=d["!comments"],m=!1,v="";if(g&&g.length>0){var y=!1;g.forEach(function(b){b[1].forEach(function(_){_.T==!0&&(y=!0)})}),y&&(v="xl/threadedComments/threadedComment"+o+"."+r,wr(a,v,Bde(g,u,t)),i.threadedcomments.push(v),fn(f,-1,"../threadedComments/threadedComment"+o+"."+r,Ar.TCMNT)),v="xl/comments"+o+"."+r,wr(a,v,NW(g)),i.comments.push(v),fn(f,-1,"../comments"+o+"."+r,Ar.CMNT),m=!0}d["!legacy"]&&m&&wr(a,"xl/drawings/vmlDrawing"+o+".vml",kW(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&wr(a,vy(s),Cm(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,wr(a,s,mW(t.Strings,t)),i.strs.push(s),fn(t.wbrels,-1,"sharedStrings."+r,Ar.SST)),s="xl/workbook."+r,wr(a,s,HW(e)),i.workbooks.push(s),fn(t.rels,1,s,Ar.WB),s="xl/theme/theme1.xml",wr(a,s,X3(e.Themes,t)),i.themes.push(s),fn(t.wbrels,-1,"theme/theme1.xml",Ar.THEME),s="xl/styles."+r,wr(a,s,SW(e,t)),i.styles.push(s),fn(t.wbrels,-1,"styles."+r,Ar.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",wr(a,s,e.vbaraw),i.vba.push(s),fn(t.wbrels,-1,"vbaProject.bin",Ar.VBA)),s="xl/metadata."+r,wr(a,s,TW()),i.metadata.push(s),fn(t.wbrels,-1,"metadata."+r,Ar.XLMETA),u.length>1&&(s="xl/persons/person.xml",wr(a,s,Vde(u)),i.people.push(s),fn(t.wbrels,-1,"persons/person.xml",Ar.PEOPLE)),wr(a,"[Content_Types].xml",$z(i,t)),wr(a,"_rels/.rels",Cm(t.rels)),wr(a,"xl/_rels/workbook."+r+".rels",Cm(t.wbrels)),delete t.revssf,delete t.ssf,a}function aP(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=il(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function D1e(e,t){return Gt.find(e,"EncryptedPackage")?C1e(e,t):XW(e,t)}function R1e(e,t){var r,n=e,i=t||{};return i.type||(i.type=Sr&&Buffer.isBuffer(e)?"buffer":"base64"),r=vz(n,i),N1e(r,i)}function nH(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return hk(e.slice(r),t);default:break e}return ng.to_workbook(e,t)}function L1e(e,t){var r="",n=aP(e,t);switch(t.type){case"base64":r=il(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=V0(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=_n(r)),t.type="binary",nH(r,t)}function j1e(e,t){var r=e;return t.type=="base64"&&(r=il(r)),r=fy.utils.decode(1200,r.slice(2),"str"),t.type="binary",nH(r,t)}function F1e(e){return e.match(/[^\x00-\x7F]/)?Zc(e):e}function IA(e,t,r,n){return n?(r.type="string",ng.to_workbook(e,r)):ng.to_workbook(t,r)}function Ey(e,t){E3();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Ey(new Uint8Array(e),(r=Wn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,i=[0,0,0,0],a=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Im={},r.dateNF&&(Im.dateNF=r.dateNF),r.type||(r.type=Sr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Sr?"buffer":"binary",n=Ioe(e),typeof Uint8Array<"u"&&!Sr&&(r.type="array")),r.type=="string"&&(a=!0,r.type="binary",r.codepage=65001,n=F1e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Wn(r),r.type="array",Ey(A3(n),r)}switch((i=aP(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return D1e(Gt.read(n,r),r);break;case 9:if(i[1]<=8)return XW(n,r);break;case 60:return hk(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return $ue(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return hW.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?R1e(n,r):IA(e,n,r,a);case 239:return i[3]===60?hk(n,r):IA(e,n,r,a);case 255:if(i[1]===254)return j1e(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return E0.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return E0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return dk.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return wW.to_workbook(n,r);break;case 10:case 13:case 32:return L1e(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Vue.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?dk.to_workbook(n,r):IA(e,n,r,a)}function iH(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return lx(t.file,Gt.write(e,{type:Sr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Gt.write(e,t)}function M1e(e,t){var r=Wn(t||{}),n=P1e(e,r);return B1e(n,r)}function B1e(e,t){var r={},n=Sr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var i=e.FullPaths?Gt.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(t.type=="binary"||t.type=="base64")return i;i=new Uint8Array(U5(i))}return t.password&&typeof encrypt_agile<"u"?iH(encrypt_agile(i,t.password),t):t.type==="file"?lx(t.file,i):t.type=="string"?_n(i):i}function U1e(e,t){var r=t||{},n=Fge(e,r);return iH(n,r)}function Gc(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return dy(Zc(n));case"binary":return Zc(n);case"string":return e;case"file":return lx(t.file,n,"utf8");case"buffer":return Sr?If(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Gc(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function V1e(e,t){switch(t.type){case"base64":return dy(e);case"binary":return e;case"string":return e;case"file":return lx(t.file,e,"binary");case"buffer":return Sr?If(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Y2(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?dy(r):t.type=="string"?_n(r):r;case"file":return lx(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function aH(e,t){E3(),Dme(e);var r=Wn(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=aH(e,r);return r.type="array",U5(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=e.SheetNames.indexOf(r.sheet),!e.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Gc(Pge(e,r),r);case"slk":case"sylk":return Gc(dW.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"htm":case"html":return Gc(JW(e.Sheets[e.SheetNames[i]],r),r);case"txt":return V1e(sH(e.Sheets[e.SheetNames[i]],r),r);case"csv":return Gc(sP(e.Sheets[e.SheetNames[i]],r),r,"\uFEFF");case"dif":return Gc(hW.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"dbf":return Y2(dk.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"prn":return Gc(ng.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"rtf":return Gc(wW.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"eth":return Gc(pW.from_sheet(e.Sheets[e.SheetNames[i]],r),r);case"fods":return Gc(tH(e,r),r);case"wk1":return Y2(E0.sheet_to_wk1(e.Sheets[e.SheetNames[i]],r),r);case"wk3":return Y2(E0.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Y2(YW(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),U1e(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return M1e(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function $1e(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function z1e(e,t,r){var n={};return n.type="file",n.file=t,$1e(n),aH(e,n)}function W1e(e,t,r,n,i,a,s,o){var l=Vi(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,d=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(d,"__rowNum__",{value:r,enumerable:!1})}catch{d.__rowNum__=r}else d.__rowNum__=r;if(!s||e[r])for(var h=t.s.c;h<=t.e.c;++h){var g=s?e[r][h]:e[n[h]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;a[h]!=null&&(d[a[h]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(a[h]!=null){if(m==null)if(g.t=="e"&&m===null)d[a[h]]=null;else if(c!==void 0)d[a[h]]=c;else if(u&&m===null)d[a[h]]=null;else continue;else d[a[h]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:vf(g,m,o);m!=null&&(f=!1)}}return{row:d,isempty:f}}function Zb(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,a=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Kr(u);break;case"number":l=Kr(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(i=0);var f=Vi(l.s.r),d=[],h=[],g=0,m=0,v=Array.isArray(e),y=l.s.r,b=0,_={};v&&!e[y]&&(e[y]=[]);var N=c.skipHidden&&e["!cols"]||[],R=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(N[b]||{}).hidden)switch(d[b]=li(b),r=v?e[y][b]:e[d[b]+f],n){case 1:a[b]=b-l.s.c;break;case 2:a[b]=d[b];break;case 3:a[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=vf(r,null,c),m=_[s]||0,!m)_[s]=1;else{do o=s+"_"+m++;while(_[o]);_[s]=m,_[o]=1}a[b]=o}for(y=l.s.r+i;y<=l.e.r;++y)if(!(R[y]||{}).hidden){var O=W1e(e,l,y,d,n,a,v,c);(O.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(h[g++]=O.row)}return h.length=g,h}var oL=/"/g;function H1e(e,t,r,n,i,a,s,o){for(var l=!0,c=[],u="",f=Vi(r),d=t.s.c;d<=t.e.c;++d)if(n[d]){var h=o.dense?(e[r]||[])[d]:e[n[d]+f];if(h==null)u="";else if(h.v!=null){l=!1,u=""+(o.rawNumbers&&h.t=="n"?h.v:vf(h,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===i||m===a||m===34||o.forceQuotes){u='"'+u.replace(oL,'""')+'"';break}u=="ID"&&(u='"ID"')}else h.f!=null&&!h.F?(l=!1,u="="+h.f,u.indexOf(",")>=0&&(u='"'+u.replace(oL,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function sP(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var i=Kr(e["!ref"]),a=n.FS!==void 0?n.FS:",",s=a.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((a=="|"?"\\|":a)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var d=n.skipHidden&&e["!cols"]||[],h=n.skipHidden&&e["!rows"]||[],g=i.s.c;g<=i.e.c;++g)(d[g]||{}).hidden||(f[g]=li(g));for(var m=0,v=i.s.r;v<=i.e.r;++v)(h[v]||{}).hidden||(u=H1e(e,i,v,f,s,l,a,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function sH(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=sP(e,t);return r}function q1e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var i=Kr(e["!ref"]),a="",s=[],o,l=[],c=Array.isArray(e);for(o=i.s.c;o<=i.e.c;++o)s[o]=li(o);for(var u=i.s.r;u<=i.e.r;++u)for(a=Vi(u),o=i.s.c;o<=i.e.c;++o)if(t=s[o]+a,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function oH(e,t,r){var n=r||{},i=+!n.skipHeader,a=e||{},s=0,o=0;if(a&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?ci(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+i}};if(a["!ref"]){var f=Kr(a["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+i)}else s==-1&&(s=0,u.e.r=t.length-1+i);var d=n.header||[],h=0;t.forEach(function(m,v){Ai(m).forEach(function(y){(h=d.indexOf(y))==-1&&(d[h=d.length]=y);var b=m[y],_="z",N="",R=nr({c:o+h,r:s+v+i});c=Ay(a,R),b&&typeof b=="object"&&!(b instanceof Date)?a[R]=b:(typeof b=="number"?_="n":typeof b=="boolean"?_="b":typeof b=="string"?_="s":b instanceof Date?(_="d",n.cellDates||(_="n",b=ga(b)),N=n.dateNF||tr[14]):b===null&&n.nullError&&(_="e",b=0),c?(c.t=_,c.v=b,delete c.w,delete c.R,N&&(c.z=N)):a[R]=c={t:_,v:b},N&&(c.z=N))})}),u.e.c=Math.max(u.e.c,o+d.length-1);var g=Vi(s);if(i)for(h=0;h<d.length;++h)a[li(h+o)+g]={t:"s",v:d[h]};return a["!ref"]=vr(u),a}function G1e(e,t){return oH(null,e,t)}function Ay(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=ci(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Ay(e,nr(t)):Ay(e,nr({r:t,c:r||0}))}function K1e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function oP(){return{SheetNames:[],Sheets:{}}}function lP(e,t,r,n){var i=1;if(!r)for(;i<=65535&&e.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var a=r.match(/(^.*?)(\d+)$/);i=a&&+a[2]||0;var s=a&&a[1]||r;for(++i;i<=65535&&e.SheetNames.indexOf(r=s+i)!=-1;++i);}if(WW(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function X1e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=K1e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Y1e(e,t){return e.z=t,e}function lH(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function J1e(e,t,r){return lH(e,"#"+t,r)}function Q1e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Z1e(e,t,r,n){for(var i=typeof t!="string"?t:Kr(t),a=typeof t=="string"?t:vr(t),s=i.s.r;s<=i.e.r;++s)for(var o=i.s.c;o<=i.e.c;++o){var l=Ay(e,s,o);l.t="n",l.F=a,delete l.v,s==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return e}var Om={encode_col:li,encode_row:Vi,encode_cell:nr,encode_range:vr,decode_col:F3,decode_row:j3,split_cell:cle,decode_cell:ci,decode_range:wo,format_cell:vf,sheet_add_aoa:Lz,sheet_add_json:oH,sheet_add_dom:QW,aoa_to_sheet:Ig,json_to_sheet:G1e,table_to_sheet:ZW,table_to_book:a1e,sheet_to_csv:sP,sheet_to_txt:sH,sheet_to_json:Zb,sheet_to_html:JW,sheet_to_formulae:q1e,sheet_to_row_object_array:Zb,sheet_get_cell:Ay,book_new:oP,book_append_sheet:lP,book_set_sheet_visibility:X1e,cell_set_number_format:Y1e,cell_set_hyperlink:lH,cell_set_internal_link:J1e,cell_add_comment:Q1e,sheet_set_array_formula:Z1e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const eve=()=>{};var lL={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cH=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=i&63|128):(i&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=i&63|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=i&63|128)}return t},tve=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const i=e[r++];if(i<128)t[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[r++];t[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=e[r++],s=e[r++],o=e[r++],l=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const a=e[r++],s=e[r++];t[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return t.join("")},uH={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<e.length;i+=3){const a=e[i],s=i+1<e.length,o=s?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=a>>2,f=(a&3)<<4|o>>4;let d=(o&15)<<2|c>>6,h=c&63;l||(h=64,s||(d=64)),n.push(r[u],r[f],r[d],r[h])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(cH(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tve(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<e.length;){const a=r[e.charAt(i++)],o=i<e.length?r[e.charAt(i)]:0;++i;const c=i<e.length?r[e.charAt(i)]:64;++i;const f=i<e.length?r[e.charAt(i)]:64;if(++i,a==null||o==null||c==null||f==null)throw new rve;const d=a<<2|o>>4;if(n.push(d),c!==64){const h=o<<4&240|c>>2;if(n.push(h),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class rve extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nve=function(e){const t=cH(e);return uH.encodeByteArray(t,!0)},e_=function(e){return nve(e).replace(/\./g,"")},fH=function(e){try{return uH.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ive(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ave=()=>ive().__FIREBASE_DEFAULTS__,sve=()=>{if(typeof process>"u"||typeof lL>"u")return;const e=lL.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},ove=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&fH(e[1]);return t&&JSON.parse(t)},X5=()=>{try{return eve()||ave()||sve()||ove()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},dH=e=>{var t,r;return(r=(t=X5())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},hH=e=>{const t=dH(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},pH=()=>{var e;return(e=X5())==null?void 0:e.config},mH=e=>{var t;return(t=X5())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cP(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gH(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",i=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...e};return[e_(JSON.stringify(r)),e_(JSON.stringify(s)),""].join(".")}const Tv={};function cve(){const e={prod:[],emulator:[]};for(const t of Object.keys(Tv))Tv[t]?e.emulator.push(t):e.prod.push(t);return e}function uve(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let cL=!1;function uP(e,t){if(typeof window>"u"||typeof document>"u"||!yp(window.location.host)||Tv[e]===t||Tv[e]||cL)return;Tv[e]=t;function r(d){return`__firebase__banner__${d}`}const n="__firebase__banner",a=cve().prod.length>0;function s(){const d=document.getElementById(n);d&&d.remove()}function o(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,h){d.setAttribute("width","24"),d.setAttribute("id",h),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{cL=!0,s()},d}function u(d,h){d.setAttribute("id",h),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function f(){const d=uve(n),h=r("text"),g=document.getElementById(h)||document.createElement("span"),m=r("learnmore"),v=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const _=d.element;o(_),u(v,m);const N=c();l(b,y),_.append(b,g,v,N),document.body.appendChild(_)}a?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fve(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ns())}function dve(){var t;const e=(t=X5())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hve(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vH(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function pve(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mve(){const e=Ns();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function gve(){return!dve()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yH(){try{return typeof indexedDB=="object"}catch{return!1}}function xH(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;t(((a=i.error)==null?void 0:a.message)||"")}}catch(r){t(r)}})}function vve(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yve="FirebaseError";class Gl extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=yve,Object.setPrototypeOf(this,Gl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xp.prototype.create)}}class xp{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},i=`${this.service}/${t}`,a=this.errors[t],s=a?xve(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new Gl(i,o,n)}}function xve(e,t){return e.replace(wve,(r,n)=>{const i=t[n];return i!=null?String(i):`<${n}?>`})}const wve=/\{\$([^}]+)}/g;function bve(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function nh(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const i of r){if(!n.includes(i))return!1;const a=e[i],s=t[i];if(uL(a)&&uL(s)){if(!nh(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function uL(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(i=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function ev(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");t[decodeURIComponent(i)]=decodeURIComponent(a)}}),t}function tv(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function _ve(e,t){const r=new Sve(e,t);return r.subscribe.bind(r)}class Sve{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let i;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Eve(t,["next","error","complete"])?i=t:i={next:t,error:r,complete:n},i.next===void 0&&(i.next=OA),i.error===void 0&&(i.error=OA),i.complete===void 0&&(i.complete=OA);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Eve(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function OA(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ave=1e3,Tve=2,kve=4*60*60*1e3,Nve=.5;function fL(e,t=Ave,r=Tve){const n=t*Math.pow(r,e),i=Math.round(Nve*n*(Math.random()-.5)*2);return Math.min(kve,n+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(e){return e&&e._delegate?e._delegate:e}class $l{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cve=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new lve;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ive(t))try{this.getOrInitializeService({instanceIdentifier:Zh})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(t=Zh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zh){return this.instances.has(t)}getOptions(t=Zh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(t),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&t(a,n),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Pve(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Zh){return this.component?this.component.multipleInstances?t:Zh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Pve(e){return e===Zh?void 0:e}function Ive(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ove{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Cve(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pr||(Pr={}));const Dve={debug:Pr.DEBUG,verbose:Pr.VERBOSE,info:Pr.INFO,warn:Pr.WARN,error:Pr.ERROR,silent:Pr.SILENT},Rve=Pr.INFO,Lve={[Pr.DEBUG]:"log",[Pr.VERBOSE]:"log",[Pr.INFO]:"info",[Pr.WARN]:"warn",[Pr.ERROR]:"error"},jve=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),i=Lve[t];if(i)console[i](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Y5{constructor(t){this.name=t,this._logLevel=Rve,this._logHandler=jve,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Dve[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pr.DEBUG,...t),this._logHandler(this,Pr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pr.VERBOSE,...t),this._logHandler(this,Pr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pr.INFO,...t),this._logHandler(this,Pr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pr.WARN,...t),this._logHandler(this,Pr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pr.ERROR,...t),this._logHandler(this,Pr.ERROR,...t)}}const Fve=(e,t)=>t.some(r=>e instanceof r);let dL,hL;function Mve(){return dL||(dL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bve(){return hL||(hL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wH=new WeakMap,gk=new WeakMap,bH=new WeakMap,DA=new WeakMap,fP=new WeakMap;function Uve(e){const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("success",a),e.removeEventListener("error",s)},a=()=>{r(Vd(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",a),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&wH.set(r,e)}).catch(()=>{}),fP.set(t,e),t}function Vve(e){if(gk.has(e))return;const t=new Promise((r,n)=>{const i=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",s),e.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",a),e.addEventListener("error",s),e.addEventListener("abort",s)});gk.set(e,t)}let vk={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return gk.get(e);if(t==="objectStoreNames")return e.objectStoreNames||bH.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Vd(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $ve(e){vk=e(vk)}function zve(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(RA(this),t,...r);return bH.set(n,t.sort?t.sort():[t]),Vd(n)}:Bve().includes(e)?function(...t){return e.apply(RA(this),t),Vd(wH.get(this))}:function(...t){return Vd(e.apply(RA(this),t))}}function Wve(e){return typeof e=="function"?zve(e):(e instanceof IDBTransaction&&Vve(e),Fve(e,Mve())?new Proxy(e,vk):e)}function Vd(e){if(e instanceof IDBRequest)return Uve(e);if(DA.has(e))return DA.get(e);const t=Wve(e);return t!==e&&(DA.set(e,t),fP.set(t,e)),t}const RA=e=>fP.get(e);function _H(e,t,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(e,t),o=Vd(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Vd(s.result),l.oldVersion,l.newVersion,Vd(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{a&&l.addEventListener("close",()=>a()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Hve=["get","getKey","getAll","getAllKeys","count"],qve=["put","add","delete","clear"],LA=new Map;function pL(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(LA.get(t))return LA.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,i=qve.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Hve.includes(r)))return;const a=async function(s,...o){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),i&&l.done]))[0]};return LA.set(t,a),a}$ve(e=>({...e,get:(t,r,n)=>pL(t,r)||e.get(t,r,n),has:(t,r)=>!!pL(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gve{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Kve(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Kve(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const yk="@firebase/app",mL="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf=new Y5("@firebase/app"),Xve="@firebase/app-compat",Yve="@firebase/analytics-compat",Jve="@firebase/analytics",Qve="@firebase/app-check-compat",Zve="@firebase/app-check",eye="@firebase/auth",tye="@firebase/auth-compat",rye="@firebase/database",nye="@firebase/data-connect",iye="@firebase/database-compat",aye="@firebase/functions",sye="@firebase/functions-compat",oye="@firebase/installations",lye="@firebase/installations-compat",cye="@firebase/messaging",uye="@firebase/messaging-compat",fye="@firebase/performance",dye="@firebase/performance-compat",hye="@firebase/remote-config",pye="@firebase/remote-config-compat",mye="@firebase/storage",gye="@firebase/storage-compat",vye="@firebase/firestore",yye="@firebase/ai",xye="@firebase/firestore-compat",wye="firebase",bye="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk="[DEFAULT]",_ye={[yk]:"fire-core",[Xve]:"fire-core-compat",[Jve]:"fire-analytics",[Yve]:"fire-analytics-compat",[Zve]:"fire-app-check",[Qve]:"fire-app-check-compat",[eye]:"fire-auth",[tye]:"fire-auth-compat",[rye]:"fire-rtdb",[nye]:"fire-data-connect",[iye]:"fire-rtdb-compat",[aye]:"fire-fn",[sye]:"fire-fn-compat",[oye]:"fire-iid",[lye]:"fire-iid-compat",[cye]:"fire-fcm",[uye]:"fire-fcm-compat",[fye]:"fire-perf",[dye]:"fire-perf-compat",[hye]:"fire-rc",[pye]:"fire-rc-compat",[mye]:"fire-gcs",[gye]:"fire-gcs-compat",[vye]:"fire-fst",[xye]:"fire-fst-compat",[yye]:"fire-vertex","fire-js":"fire-js",[wye]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=new Map,Sye=new Map,wk=new Map;function gL(e,t){try{e.container.addComponent(t)}catch(r){yf.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Tc(e){const t=e.name;if(wk.has(t))return yf.debug(`There were multiple attempts to register component ${t}.`),!1;wk.set(t,e);for(const r of t_.values())gL(r,e);for(const r of Sye.values())gL(r,e);return!0}function Sh(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function qo(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eye={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$d=new xp("app","Firebase",Eye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aye{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new $l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $d.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp=bye;function SH(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:xk,automaticDataCollectionEnabled:!0,...t},i=n.name;if(typeof i!="string"||!i)throw $d.create("bad-app-name",{appName:String(i)});if(r||(r=pH()),!r)throw $d.create("no-options");const a=t_.get(i);if(a){if(nh(r,a.options)&&nh(n,a.config))return a;throw $d.create("duplicate-app",{appName:i})}const s=new Ove(i);for(const l of wk.values())s.addComponent(l);const o=new Aye(r,n,s);return t_.set(i,o),o}function J5(e=xk){const t=t_.get(e);if(!t&&e===xk&&pH())return SH();if(!t)throw $d.create("no-app",{appName:e});return t}function yo(e,t,r){let n=_ye[e]??e;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${t}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yf.warn(s.join(" "));return}Tc(new $l(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tye="firebase-heartbeat-database",kye=1,Ty="firebase-heartbeat-store";let jA=null;function EH(){return jA||(jA=_H(Tye,kye,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Ty)}catch(r){console.warn(r)}}}}).catch(e=>{throw $d.create("idb-open",{originalErrorMessage:e.message})})),jA}async function Nye(e){try{const r=(await EH()).transaction(Ty),n=await r.objectStore(Ty).get(AH(e));return await r.done,n}catch(t){if(t instanceof Gl)yf.warn(t.message);else{const r=$d.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yf.warn(r.message)}}}async function vL(e,t){try{const n=(await EH()).transaction(Ty,"readwrite");await n.objectStore(Ty).put(t,AH(e)),await n.done}catch(r){if(r instanceof Gl)yf.warn(r.message);else{const n=$d.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});yf.warn(n.message)}}}function AH(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cye=1024,Pye=30;class Iye{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Dye(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=yL();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>Pye){const s=Rye(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){yf.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=yL(),{heartbeatsToSend:n,unsentEntries:i}=Oye(this._heartbeatsCache.heartbeats),a=e_(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return yf.warn(r),""}}}function yL(){return new Date().toISOString().substring(0,10)}function Oye(e,t=Cye){const r=[];let n=e.slice();for(const i of e){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),xL(r)>t){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),xL(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Dye{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yH()?xH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Nye(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return vL(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return vL(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function xL(e){return e_(JSON.stringify({version:2,heartbeats:e})).length}function Rye(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lye(e){Tc(new $l("platform-logger",t=>new Gve(t),"PRIVATE")),Tc(new $l("heartbeat",t=>new Iye(t),"PRIVATE")),yo(yk,mL,e),yo(yk,mL,"esm2020"),yo("fire-js","")}Lye("");function TH(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jye=TH,kH=new xp("auth","Firebase",TH());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=new Y5("@firebase/auth");function Fye(e,...t){r_.logLevel<=Pr.WARN&&r_.warn(`Auth (${wp}): ${e}`,...t)}function Kw(e,...t){r_.logLevel<=Pr.ERROR&&r_.error(`Auth (${wp}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(e,...t){throw dP(e,...t)}function au(e,...t){return dP(e,...t)}function NH(e,t,r){const n={...jye(),[t]:r};return new xp("auth","Firebase",n).create(t,{appName:e.name})}function of(e){return NH(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dP(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return kH.create(e,...t)}function ir(e,t,...r){if(!e)throw dP(t,...r)}function Ku(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Kw(t),new Error(t)}function xf(e,t){e||Ku(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function Mye(){return wL()==="http:"||wL()==="https:"}function wL(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bye(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mye()||vH()||"connection"in navigator)?navigator.onLine:!0}function Uye(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t,r){this.shortDelay=t,this.longDelay=r,xf(r>t,"Short delay should be less than long delay!"),this.isMobile=fve()||pve()}get(){return Bye()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(e,t){xf(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ku("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ku("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ku("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ye=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zye=new vx(3e4,6e4);function Eh(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Rf(e,t,r,n,i={}){return PH(e,i,async()=>{let a={},s={};n&&(t==="GET"?s=n:a={body:JSON.stringify(n)});const o=gx({key:e.config.apiKey,...s}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...a};return hve()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&yp(e.emulatorConfig.host)&&(c.credentials="include"),CH.fetch()(await IH(e,e.config.apiHost,r,o),c)})}async function PH(e,t,r){e._canInitEmulator=!1;const n={...Vye,...t};try{const i=new Hye(e),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw J2(e,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw J2(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw J2(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw J2(e,"user-disabled",s);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw NH(e,u,c);kc(e,u)}}catch(i){if(i instanceof Gl)throw i;kc(e,"network-request-failed",{message:String(i)})}}async function yx(e,t,r,n,i={}){const a=await Rf(e,t,r,n,i);return"mfaPendingCredential"in a&&kc(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function IH(e,t,r,n){const i=`${t}${r}?${n}`,a=e,s=a.config.emulator?hP(e.config,i):`${e.config.apiScheme}://${i}`;return $ye.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function Wye(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hye{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(au(this.auth,"network-request-failed")),zye.get())})}}function J2(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=au(e,t,n);return i.customData._tokenResponse=r,i}function bL(e){return e!==void 0&&e.enterprise!==void 0}class qye{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return Wye(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gye(e,t){return Rf(e,"GET","/v2/recaptchaConfig",Eh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kye(e,t){return Rf(e,"POST","/v1/accounts:delete",t)}async function n_(e,t){return Rf(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Xye(e,t=!1){const r=Zn(e),n=await r.getIdToken(t),i=pP(n);ir(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:n,authTime:kv(FA(i.auth_time)),issuedAtTime:kv(FA(i.iat)),expirationTime:kv(FA(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function FA(e){return Number(e)*1e3}function pP(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return Kw("JWT malformed, contained fewer than 3 sections"),null;try{const i=fH(r);return i?JSON.parse(i):(Kw("Failed to decode base64 JWT payload"),null)}catch(i){return Kw("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function _L(e){const t=pP(e);return ir(t,"internal-error"),ir(typeof t.exp<"u","internal-error"),ir(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ag(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof Gl&&Yye(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function Yye({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jye{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=kv(this.lastLoginAt),this.creationTime=kv(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i_(e){var f;const t=e.auth,r=await e.getIdToken(),n=await ag(e,n_(t,{idToken:r}));ir(n==null?void 0:n.users.length,t,"internal-error");const i=n.users[0];e._notifyReloadListener(i);const a=(f=i.providerUserInfo)!=null&&f.length?OH(i.providerUserInfo):[],s=Zye(e.providerData,a),o=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _k(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,u)}async function Qye(e){const t=Zn(e);await i_(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Zye(e,t){return[...e.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}function OH(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function exe(e,t){const r=await PH(e,{},async()=>{const n=gx({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:a}=e.config,s=await IH(e,i,"/v1/token",`key=${a}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return e.emulatorConfig&&yp(e.emulatorConfig.host)&&(l.credentials="include"),CH.fetch()(s,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function txe(e,t){return Rf(e,"POST","/v2/accounts:revokeToken",Eh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ir(t.idToken,"internal-error"),ir(typeof t.idToken<"u","internal-error"),ir(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_L(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){ir(t.length!==0,"internal-error");const r=_L(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ir(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await exe(t,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Dm;return n&&(ir(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),i&&(ir(typeof i=="string","internal-error",{appName:t}),s.accessToken=i),a&&(ir(typeof a=="number","internal-error",{appName:t}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Dm,this.toJSON())}_performRefresh(){return Ku("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fd(e,t){ir(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class vc{constructor({uid:t,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Jye(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new _k(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const r=await ag(this,this.stsTokenManager.getToken(this.auth,t));return ir(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return Xye(this,t)}reload(){return Qye(this)}_assign(t){this!==t&&(ir(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new vc({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){ir(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await i_(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qo(this.auth.app))return Promise.reject(of(this.auth));const t=await this.getIdToken();return await ag(this,Kye(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:f,emailVerified:d,isAnonymous:h,providerData:g,stsTokenManager:m}=r;ir(f&&m,t,"internal-error");const v=Dm.fromJSON(this.name,m);ir(typeof f=="string",t,"internal-error"),fd(n,t.name),fd(i,t.name),ir(typeof d=="boolean",t,"internal-error"),ir(typeof h=="boolean",t,"internal-error"),fd(a,t.name),fd(s,t.name),fd(o,t.name),fd(l,t.name),fd(c,t.name),fd(u,t.name);const y=new vc({uid:f,auth:t,email:i,emailVerified:d,displayName:n,isAnonymous:h,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:v,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(y.providerData=g.map(b=>({...b}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(t,r,n=!1){const i=new Dm;i.updateFromServerResponse(r);const a=new vc({uid:r.localId,auth:t,stsTokenManager:i,isAnonymous:n});return await i_(a),a}static async _fromGetAccountInfoResponse(t,r,n){const i=r.users[0];ir(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?OH(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),o=new Dm;o.updateFromIdToken(n);const l=new vc({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _k(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new Map;function Xu(e){xf(e instanceof Function,"Expected a class definition");let t=SL.get(e);return t?(xf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,SL.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}DH.type="NONE";const EL=DH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(e,t,r){return`firebase:${e}:${t}:${r}`}class Rm{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=Xw(this.userKey,i.apiKey,a),this.fullPersistenceKey=Xw("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await n_(this.auth,{idToken:t}).catch(()=>{});return r?vc._fromGetAccountInfoResponse(this.auth,r,t):null}return vc._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new Rm(Xu(EL),t,n);const i=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Xu(EL);const s=Xw(n,t.config.apiKey,t.name);let o=null;for(const c of r)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const d=await n_(t,{idToken:u}).catch(()=>{});if(!d)break;f=await vc._fromGetAccountInfoResponse(t,d,u)}else f=vc._fromJSON(t,u);c!==a&&(o=f),a=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!l.length?new Rm(a,t,n):(a=l[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Rm(a,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(FH(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(RH(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(BH(t))return"Blackberry";if(UH(t))return"Webos";if(LH(t))return"Safari";if((t.includes("chrome/")||jH(t))&&!t.includes("edge/"))return"Chrome";if(MH(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function RH(e=Ns()){return/firefox\//i.test(e)}function LH(e=Ns()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function jH(e=Ns()){return/crios\//i.test(e)}function FH(e=Ns()){return/iemobile/i.test(e)}function MH(e=Ns()){return/android/i.test(e)}function BH(e=Ns()){return/blackberry/i.test(e)}function UH(e=Ns()){return/webos/i.test(e)}function mP(e=Ns()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function rxe(e=Ns()){var t;return mP(e)&&!!((t=window.navigator)!=null&&t.standalone)}function nxe(){return mve()&&document.documentMode===10}function VH(e=Ns()){return mP(e)||MH(e)||UH(e)||BH(e)||/windows phone/i.test(e)||FH(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $H(e,t=[]){let r;switch(e){case"Browser":r=AL(Ns());break;case"Worker":r=`${AL(Ns())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${wp}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ixe{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=a=>new Promise((s,o)=>{try{const l=t(a);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function axe(e,t={}){return Rf(e,"GET","/v2/passwordPolicy",Eh(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sxe=6;class oxe{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??sxe,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),i&&(r.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lxe{constructor(t,r,n,i){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new TL(this),this.idTokenSubscription=new TL(this),this.beforeStateQueue=new ixe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Xu(r)),this._initializationPromise=this.queue(async()=>{var n,i,a;if(!this._deleted&&(this.persistenceManager=await Rm.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await n_(this,{idToken:t}),n=await vc._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var a;if(qo(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===o)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ir(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await i_(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Uye()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(qo(this.app))return Promise.reject(of(this));const r=t?Zn(t):null;return r&&ir(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&ir(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return qo(this.app)?Promise.reject(of(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return qo(this.app)?Promise.reject(of(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xu(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await axe(this),r=new oxe(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new xp("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await txe(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Xu(t)||this._popupRedirectResolver;ir(r,this,"argument-error"),this.redirectPersistenceManager=await Rm.create(this,[Xu(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ir(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const l=t.addObserver(r,n,i);return()=>{s=!0,l()}}else{const l=t.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ir(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$H(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(qo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&Fye(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function bp(e){return Zn(e)}class TL{constructor(t){this.auth=t,this.observer=null,this.addObserver=_ve(r=>this.observer=r)}get next(){return ir(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q5={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cxe(e){Q5=e}function zH(e){return Q5.loadJS(e)}function uxe(){return Q5.recaptchaEnterpriseScript}function fxe(){return Q5.gapiScript}function dxe(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class hxe{constructor(){this.enterprise=new pxe}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class pxe{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const mxe="recaptcha-enterprise",WH="NO_RECAPTCHA";class gxe{constructor(t){this.type=mxe,this.auth=bp(t)}async verify(t="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{Gye(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new qye(l);return a.tenantId==null?a._agentRecaptchaConfig=c:a._tenantRecaptchaConfigs[a.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function i(a,s,o){const l=window.grecaptcha;bL(l)?l.enterprise.ready(()=>{l.enterprise.execute(a,{action:t}).then(c=>{s(c)}).catch(()=>{s(WH)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hxe().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(o=>{if(!r&&bL(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=uxe();l.length!==0&&(l+=o),zH(l).then(()=>{i(o,a,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function kL(e,t,r,n=!1,i=!1){const a=new gxe(e);let s;if(i)s=WH;else try{s=await a.verify(r)}catch{s=await a.verify(r,!0)}const o={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Sk(e,t,r,n,i){var a;if((a=e._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await kL(e,t,r,r==="getOobCode");return n(e,s)}else return n(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await kL(e,t,r,r==="getOobCode");return n(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vxe(e,t){const r=Sh(e,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(nh(a,t??{}))return i;kc(i,"already-initialized")}return r.initialize({options:t})}function yxe(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Xu);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function xxe(e,t,r){const n=bp(e);ir(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!1,a=HH(t),{host:s,port:o}=wxe(t),l=o===null?"":`:${o}`,c={url:`${a}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ir(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ir(nh(c,n.config.emulator)&&nh(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,yp(s)?(cP(`${a}//${s}${l}`),uP("Auth",!0)):bxe()}function HH(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function wxe(e){const t=HH(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:NL(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:NL(s)}}}function NL(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function bxe(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Ku("not implemented")}_getIdTokenResponse(t){return Ku("not implemented")}_linkToIdToken(t,r){return Ku("not implemented")}_getReauthenticationResolver(t){return Ku("not implemented")}}async function _xe(e,t){return Rf(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sxe(e,t){return yx(e,"POST","/v1/accounts:signInWithPassword",Eh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Exe(e,t){return yx(e,"POST","/v1/accounts:signInWithEmailLink",Eh(e,t))}async function Axe(e,t){return yx(e,"POST","/v1/accounts:signInWithEmailLink",Eh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends gP{constructor(t,r,n,i=null){super("password",n),this._email=t,this._password=r,this._tenantId=i}static _fromEmailAndPassword(t,r){return new ky(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new ky(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sk(t,r,"signInWithPassword",Sxe);case"emailLink":return Exe(t,{email:this._email,oobCode:this._password});default:kc(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sk(t,n,"signUpPassword",_xe);case"emailLink":return Axe(t,{idToken:r,email:this._email,oobCode:this._password});default:kc(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(e,t){return yx(e,"POST","/v1/accounts:signInWithIdp",Eh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Txe="http://localhost";class q0 extends gP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new q0(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):kc("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const s=new q0(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(t){const r=this.buildRequest();return Lm(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,Lm(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,Lm(t,r)}buildRequest(){const t={requestUri:Txe,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=gx(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kxe(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nxe(e){const t=ev(tv(e)).link,r=t?ev(tv(t)).deep_link_id:null,n=ev(tv(e)).deep_link_id;return(n?ev(tv(n)).link:null)||n||r||t||e}class vP{constructor(t){const r=ev(tv(t)),n=r.apiKey??null,i=r.oobCode??null,a=kxe(r.mode??null);ir(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=Nxe(t);try{return new vP(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.providerId=Dg.PROVIDER_ID}static credential(t,r){return ky._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=vP.parseLink(r);return ir(n,"argument-error"),ky._fromEmailAndCode(t,n.code,n.tenantId)}}Dg.PROVIDER_ID="password";Dg.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dg.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qH{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx extends qH{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends xx{constructor(){super("facebook.com")}static credential(t){return q0._fromParams({providerId:_d.PROVIDER_ID,signInMethod:_d.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return _d.credentialFromTaggedObject(t)}static credentialFromError(t){return _d.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return _d.credential(t.oauthAccessToken)}catch{return null}}}_d.FACEBOOK_SIGN_IN_METHOD="facebook.com";_d.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends xx{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return q0._fromParams({providerId:Sd.PROVIDER_ID,signInMethod:Sd.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Sd.credentialFromTaggedObject(t)}static credentialFromError(t){return Sd.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return Sd.credential(r,n)}catch{return null}}}Sd.GOOGLE_SIGN_IN_METHOD="google.com";Sd.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed extends xx{constructor(){super("github.com")}static credential(t){return q0._fromParams({providerId:Ed.PROVIDER_ID,signInMethod:Ed.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ed.credentialFromTaggedObject(t)}static credentialFromError(t){return Ed.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ed.credential(t.oauthAccessToken)}catch{return null}}}Ed.GITHUB_SIGN_IN_METHOD="github.com";Ed.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends xx{constructor(){super("twitter.com")}static credential(t,r){return q0._fromParams({providerId:Ad.PROVIDER_ID,signInMethod:Ad.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return Ad.credentialFromTaggedObject(t)}static credentialFromError(t){return Ad.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return Ad.credential(r,n)}catch{return null}}}Ad.TWITTER_SIGN_IN_METHOD="twitter.com";Ad.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cxe(e,t){return yx(e,"POST","/v1/accounts:signUp",Eh(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,i=!1){const a=await vc._fromIdTokenResponse(t,n,i),s=CL(n);return new G0({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const i=CL(n);return new G0({user:t,providerId:i,_tokenResponse:n,operationType:r})}}function CL(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_ extends Gl{constructor(t,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,a_.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,i){return new a_(t,r,n,i)}}function GH(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?a_._fromErrorAndOperation(e,a,t,n):a})}async function Pxe(e,t,r=!1){const n=await ag(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return G0._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ixe(e,t,r=!1){const{auth:n}=e;if(qo(n.app))return Promise.reject(of(n));const i="reauthenticate";try{const a=await ag(e,GH(n,i,t,e),r);ir(a.idToken,n,"internal-error");const s=pP(a.idToken);ir(s,n,"internal-error");const{sub:o}=s;return ir(e.uid===o,n,"user-mismatch"),G0._forOperation(e,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&kc(n,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KH(e,t,r=!1){if(qo(e.app))return Promise.reject(of(e));const n="signIn",i=await GH(e,n,t),a=await G0._fromIdTokenResponse(e,n,i);return r||await e._updateCurrentUser(a.user),a}async function Oxe(e,t){return KH(bp(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XH(e){const t=bp(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Dxe(e,t,r){if(qo(e.app))return Promise.reject(of(e));const n=bp(e),s=await Sk(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cxe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&XH(e),l}),o=await G0._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function Rxe(e,t,r){return qo(e.app)?Promise.reject(of(e)):Oxe(Zn(e),Dg.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&XH(e),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lxe(e,t){return Rf(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jxe(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=Zn(e),a={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},s=await ag(n,Lxe(n.auth,a));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const o=n.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function Fxe(e,t,r,n){return Zn(e).onIdTokenChanged(t,r,n)}function Mxe(e,t,r){return Zn(e).beforeAuthStateChanged(t,r)}function Bxe(e,t,r,n){return Zn(e).onAuthStateChanged(t,r,n)}function Uxe(e){return Zn(e).signOut()}const s_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(s_,"1"),this.storage.removeItem(s_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vxe=1e3,$xe=10;class JH extends YH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VH(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&t(r,i,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=t.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);nxe()&&a!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,$xe):i()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},Vxe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}JH.type="LOCAL";const zxe=JH;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH extends YH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}QH.type="SESSION";const ZH=QH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wxe(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z5{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(i=>i.isListeningto(t));if(r)return r;const n=new Z5(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async c=>c(r.origin,a)),l=await Wxe(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Z5.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yP(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hxe{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,l)=>{const c=yP("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(f){const d=f;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),a=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(d.data.response);break;default:clearTimeout(u),clearTimeout(a),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:c,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(){return window}function qxe(e){su().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eq(){return typeof su().WorkerGlobalScope<"u"&&typeof su().importScripts=="function"}async function Gxe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Kxe(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function Xxe(){return eq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tq="firebaseLocalStorageDb",Yxe=1,o_="firebaseLocalStorage",rq="fbase_key";class wx{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function eS(e,t){return e.transaction([o_],t?"readwrite":"readonly").objectStore(o_)}function Jxe(){const e=indexedDB.deleteDatabase(tq);return new wx(e).toPromise()}function Ek(){const e=indexedDB.open(tq,Yxe);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(o_,{keyPath:rq})}catch(i){r(i)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(o_)?t(n):(n.close(),await Jxe(),t(await Ek()))})})}async function PL(e,t,r){const n=eS(e,!0).put({[rq]:t,value:r});return new wx(n).toPromise()}async function Qxe(e,t){const r=eS(e,!1).get(t),n=await new wx(r).toPromise();return n===void 0?null:n.value}function IL(e,t){const r=eS(e,!0).delete(t);return new wx(r).toPromise()}const Zxe=800,e2e=3;class nq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ek(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>e2e)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Z5._getInstance(Xxe()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await Gxe(),!this.activeServiceWorker)return;this.sender=new Hxe(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Kxe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ek();return await PL(t,s_,"1"),await IL(t,s_),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>PL(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>Qxe(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>IL(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const a=eS(i,!1).getAll();return new wx(a).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:i,value:a}of t)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Zxe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nq.type="LOCAL";const t2e=nq;new vx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2e(e,t){return t?Xu(t):(ir(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP extends gP{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Lm(t,this._buildIdpRequest())}_linkToIdToken(t,r){return Lm(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return Lm(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function n2e(e){return KH(e.auth,new xP(e),e.bypassAuthState)}function i2e(e){const{auth:t,user:r}=e;return ir(r,t,"internal-error"),Ixe(r,new xP(e),e.bypassAuthState)}async function a2e(e){const{auth:t,user:r}=e;return ir(r,t,"internal-error"),Pxe(r,new xP(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iq{constructor(t,r,n,i,a=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return n2e;case"linkViaPopup":case"linkViaRedirect":return a2e;case"reauthViaPopup":case"reauthViaRedirect":return i2e;default:kc(this.auth,"internal-error")}}resolve(t){xf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2e=new vx(2e3,1e4);class dm extends iq{constructor(t,r,n,i,a){super(t,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,dm.currentPopupAction&&dm.currentPopupAction.cancel(),dm.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ir(t,this.auth,"internal-error"),t}async onExecution(){xf(this.filter.length===1,"Popup operations only handle one event");const t=yP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(au(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(au(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,dm.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(au(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,s2e.get())};t()}}dm.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2e="pendingRedirect",Yw=new Map;class l2e extends iq{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=Yw.get(this.auth._key());if(!t){try{const n=await c2e(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}Yw.set(this.auth._key(),t)}return this.bypassAuthState||Yw.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function c2e(e,t){const r=d2e(t),n=f2e(e);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function u2e(e,t){Yw.set(e._key(),t)}function f2e(e){return Xu(e._redirectPersistence)}function d2e(e){return Xw(o2e,e.config.apiKey,e.name)}async function h2e(e,t,r=!1){if(qo(e.app))return Promise.reject(of(e));const n=bp(e),i=r2e(n,t),s=await new l2e(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2e=10*60*1e3;class m2e{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!g2e(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!aq(t)){const i=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(au(this.auth,i))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=p2e&&this.cachedEventUids.clear(),this.cachedEventUids.has(OL(t))}saveEventToCache(t){this.cachedEventUids.add(OL(t)),this.lastProcessedEventTime=Date.now()}}function OL(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function aq({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function g2e(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aq(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v2e(e,t={}){return Rf(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x2e=/^https?/;async function w2e(e){if(e.config.emulator)return;const{authorizedDomains:t}=await v2e(e);for(const r of t)try{if(b2e(r))return}catch{}kc(e,"unauthorized-domain")}function b2e(e){const t=bk(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!x2e.test(r))return!1;if(y2e.test(e))return n===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2e=new vx(3e4,6e4);function DL(){const e=su().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function S2e(e){return new Promise((t,r)=>{var i,a,s;function n(){DL(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{DL(),r(au(e,"network-request-failed"))},timeout:_2e.get()})}if((a=(i=su().gapi)==null?void 0:i.iframes)!=null&&a.Iframe)t(gapi.iframes.getContext());else if((s=su().gapi)!=null&&s.load)n();else{const o=dxe("iframefcb");return su()[o]=()=>{gapi.load?n():r(au(e,"network-request-failed"))},zH(`${fxe()}?onload=${o}`).catch(l=>r(l))}}).catch(t=>{throw Jw=null,t})}let Jw=null;function E2e(e){return Jw=Jw||S2e(e),Jw}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2e=new vx(5e3,15e3),T2e="__/auth/iframe",k2e="emulator/auth/iframe",N2e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},C2e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P2e(e){const t=e.config;ir(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?hP(t,k2e):`https://${e.config.authDomain}/${T2e}`,n={apiKey:t.apiKey,appName:e.name,v:wp},i=C2e.get(e.config.apiHost);i&&(n.eid=i);const a=e._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${gx(n).slice(1)}`}async function I2e(e){const t=await E2e(e),r=su().gapi;return ir(r,e,"internal-error"),t.open({where:document.body,url:P2e(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N2e,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=au(e,"network-request-failed"),o=su().setTimeout(()=>{a(s)},A2e.get());function l(){su().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},D2e=500,R2e=600,L2e="_blank",j2e="http://localhost";class RL{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function F2e(e,t,r,n=D2e,i=R2e){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...O2e,width:n.toString(),height:i.toString(),top:a,left:s},c=Ns().toLowerCase();r&&(o=jH(c)?L2e:r),RH(c)&&(t=t||j2e,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[h,g])=>`${d}${h}=${g},`,"");if(rxe(c)&&o!=="_self")return M2e(t||"",o),new RL(null);const f=window.open(t||"",o,u);ir(f,e,"popup-blocked");try{f.focus()}catch{}return new RL(f)}function M2e(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2e="__/auth/handler",U2e="emulator/auth/handler",V2e=encodeURIComponent("fac");async function LL(e,t,r,n,i,a){ir(e.config.authDomain,e,"auth-domain-config-required"),ir(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:wp,eventId:i};if(t instanceof qH){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",bve(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(t instanceof xx){const u=t.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${V2e}=${encodeURIComponent(l)}`:"";return`${$2e(e)}?${gx(o).slice(1)}${c}`}function $2e({config:e}){return e.emulator?hP(e,U2e):`https://${e.authDomain}/${B2e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA="webStorageSupport";class z2e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZH,this._completeRedirectFn=h2e,this._overrideRedirectResult=u2e}async _openPopup(t,r,n,i){var s;xf((s=this.eventManagers[t._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await LL(t,r,n,bk(),i);return F2e(t,a,yP())}async _openRedirect(t,r,n,i){await this._originValidation(t);const a=await LL(t,r,n,bk(),i);return qxe(a),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(xf(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await I2e(t),n=new m2e(t);return r.register("authEvent",i=>(ir(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(MA,{type:MA},i=>{var s;const a=(s=i==null?void 0:i[0])==null?void 0:s[MA];a!==void 0&&r(!!a),kc(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=w2e(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return VH()||LH()||mP()}}const W2e=z2e;var jL="@firebase/auth",FL="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2e{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ir(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2e(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G2e(e){Tc(new $l("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),a=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;ir(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$H(e)},c=new lxe(n,i,a,l);return yxe(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Tc(new $l("auth-internal",t=>{const r=bp(t.getProvider("auth").getImmediate());return(n=>new H2e(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),yo(jL,FL,q2e(e)),yo(jL,FL,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2e=5*60,X2e=mH("authIdTokenMaxAge")||K2e;let ML=null;const Y2e=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>X2e)return;const i=r==null?void 0:r.token;ML!==i&&(ML=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function J2e(e=J5()){const t=Sh(e,"auth");if(t.isInitialized())return t.getImmediate();const r=vxe(e,{popupRedirectResolver:W2e,persistence:[t2e,zxe,ZH]}),n=mH("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=Y2e(a.toString());Mxe(r,s,()=>s(r.currentUser)),Fxe(r,o=>s(o))}}const i=dH("auth");return i&&xxe(r,`http://${i}`),r}function Q2e(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}cxe({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=i=>{const a=au("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",Q2e().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G2e("Browser");var Z2e="firebase",ewe="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yo(Z2e,ewe,"app");var BL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zd,sq;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(k,S){function T(){}T.prototype=S.prototype,k.D=S.prototype,k.prototype=new T,k.prototype.constructor=k,k.C=function(j,E,C){for(var D=Array(arguments.length-2),q=2;q<arguments.length;q++)D[q-2]=arguments[q];return S.prototype[E].apply(j,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,S,T){T||(T=0);var j=Array(16);if(typeof S=="string")for(var E=0;16>E;++E)j[E]=S.charCodeAt(T++)|S.charCodeAt(T++)<<8|S.charCodeAt(T++)<<16|S.charCodeAt(T++)<<24;else for(E=0;16>E;++E)j[E]=S[T++]|S[T++]<<8|S[T++]<<16|S[T++]<<24;S=k.g[0],T=k.g[1],E=k.g[2];var C=k.g[3],D=S+(C^T&(E^C))+j[0]+3614090360&4294967295;S=T+(D<<7&4294967295|D>>>25),D=C+(E^S&(T^E))+j[1]+3905402710&4294967295,C=S+(D<<12&4294967295|D>>>20),D=E+(T^C&(S^T))+j[2]+606105819&4294967295,E=C+(D<<17&4294967295|D>>>15),D=T+(S^E&(C^S))+j[3]+3250441966&4294967295,T=E+(D<<22&4294967295|D>>>10),D=S+(C^T&(E^C))+j[4]+4118548399&4294967295,S=T+(D<<7&4294967295|D>>>25),D=C+(E^S&(T^E))+j[5]+1200080426&4294967295,C=S+(D<<12&4294967295|D>>>20),D=E+(T^C&(S^T))+j[6]+2821735955&4294967295,E=C+(D<<17&4294967295|D>>>15),D=T+(S^E&(C^S))+j[7]+4249261313&4294967295,T=E+(D<<22&4294967295|D>>>10),D=S+(C^T&(E^C))+j[8]+1770035416&4294967295,S=T+(D<<7&4294967295|D>>>25),D=C+(E^S&(T^E))+j[9]+2336552879&4294967295,C=S+(D<<12&4294967295|D>>>20),D=E+(T^C&(S^T))+j[10]+4294925233&4294967295,E=C+(D<<17&4294967295|D>>>15),D=T+(S^E&(C^S))+j[11]+2304563134&4294967295,T=E+(D<<22&4294967295|D>>>10),D=S+(C^T&(E^C))+j[12]+1804603682&4294967295,S=T+(D<<7&4294967295|D>>>25),D=C+(E^S&(T^E))+j[13]+4254626195&4294967295,C=S+(D<<12&4294967295|D>>>20),D=E+(T^C&(S^T))+j[14]+2792965006&4294967295,E=C+(D<<17&4294967295|D>>>15),D=T+(S^E&(C^S))+j[15]+1236535329&4294967295,T=E+(D<<22&4294967295|D>>>10),D=S+(E^C&(T^E))+j[1]+4129170786&4294967295,S=T+(D<<5&4294967295|D>>>27),D=C+(T^E&(S^T))+j[6]+3225465664&4294967295,C=S+(D<<9&4294967295|D>>>23),D=E+(S^T&(C^S))+j[11]+643717713&4294967295,E=C+(D<<14&4294967295|D>>>18),D=T+(C^S&(E^C))+j[0]+3921069994&4294967295,T=E+(D<<20&4294967295|D>>>12),D=S+(E^C&(T^E))+j[5]+3593408605&4294967295,S=T+(D<<5&4294967295|D>>>27),D=C+(T^E&(S^T))+j[10]+38016083&4294967295,C=S+(D<<9&4294967295|D>>>23),D=E+(S^T&(C^S))+j[15]+3634488961&4294967295,E=C+(D<<14&4294967295|D>>>18),D=T+(C^S&(E^C))+j[4]+3889429448&4294967295,T=E+(D<<20&4294967295|D>>>12),D=S+(E^C&(T^E))+j[9]+568446438&4294967295,S=T+(D<<5&4294967295|D>>>27),D=C+(T^E&(S^T))+j[14]+3275163606&4294967295,C=S+(D<<9&4294967295|D>>>23),D=E+(S^T&(C^S))+j[3]+4107603335&4294967295,E=C+(D<<14&4294967295|D>>>18),D=T+(C^S&(E^C))+j[8]+1163531501&4294967295,T=E+(D<<20&4294967295|D>>>12),D=S+(E^C&(T^E))+j[13]+2850285829&4294967295,S=T+(D<<5&4294967295|D>>>27),D=C+(T^E&(S^T))+j[2]+4243563512&4294967295,C=S+(D<<9&4294967295|D>>>23),D=E+(S^T&(C^S))+j[7]+1735328473&4294967295,E=C+(D<<14&4294967295|D>>>18),D=T+(C^S&(E^C))+j[12]+2368359562&4294967295,T=E+(D<<20&4294967295|D>>>12),D=S+(T^E^C)+j[5]+4294588738&4294967295,S=T+(D<<4&4294967295|D>>>28),D=C+(S^T^E)+j[8]+2272392833&4294967295,C=S+(D<<11&4294967295|D>>>21),D=E+(C^S^T)+j[11]+1839030562&4294967295,E=C+(D<<16&4294967295|D>>>16),D=T+(E^C^S)+j[14]+4259657740&4294967295,T=E+(D<<23&4294967295|D>>>9),D=S+(T^E^C)+j[1]+2763975236&4294967295,S=T+(D<<4&4294967295|D>>>28),D=C+(S^T^E)+j[4]+1272893353&4294967295,C=S+(D<<11&4294967295|D>>>21),D=E+(C^S^T)+j[7]+4139469664&4294967295,E=C+(D<<16&4294967295|D>>>16),D=T+(E^C^S)+j[10]+3200236656&4294967295,T=E+(D<<23&4294967295|D>>>9),D=S+(T^E^C)+j[13]+681279174&4294967295,S=T+(D<<4&4294967295|D>>>28),D=C+(S^T^E)+j[0]+3936430074&4294967295,C=S+(D<<11&4294967295|D>>>21),D=E+(C^S^T)+j[3]+3572445317&4294967295,E=C+(D<<16&4294967295|D>>>16),D=T+(E^C^S)+j[6]+76029189&4294967295,T=E+(D<<23&4294967295|D>>>9),D=S+(T^E^C)+j[9]+3654602809&4294967295,S=T+(D<<4&4294967295|D>>>28),D=C+(S^T^E)+j[12]+3873151461&4294967295,C=S+(D<<11&4294967295|D>>>21),D=E+(C^S^T)+j[15]+530742520&4294967295,E=C+(D<<16&4294967295|D>>>16),D=T+(E^C^S)+j[2]+3299628645&4294967295,T=E+(D<<23&4294967295|D>>>9),D=S+(E^(T|~C))+j[0]+4096336452&4294967295,S=T+(D<<6&4294967295|D>>>26),D=C+(T^(S|~E))+j[7]+1126891415&4294967295,C=S+(D<<10&4294967295|D>>>22),D=E+(S^(C|~T))+j[14]+2878612391&4294967295,E=C+(D<<15&4294967295|D>>>17),D=T+(C^(E|~S))+j[5]+4237533241&4294967295,T=E+(D<<21&4294967295|D>>>11),D=S+(E^(T|~C))+j[12]+1700485571&4294967295,S=T+(D<<6&4294967295|D>>>26),D=C+(T^(S|~E))+j[3]+2399980690&4294967295,C=S+(D<<10&4294967295|D>>>22),D=E+(S^(C|~T))+j[10]+4293915773&4294967295,E=C+(D<<15&4294967295|D>>>17),D=T+(C^(E|~S))+j[1]+2240044497&4294967295,T=E+(D<<21&4294967295|D>>>11),D=S+(E^(T|~C))+j[8]+1873313359&4294967295,S=T+(D<<6&4294967295|D>>>26),D=C+(T^(S|~E))+j[15]+4264355552&4294967295,C=S+(D<<10&4294967295|D>>>22),D=E+(S^(C|~T))+j[6]+2734768916&4294967295,E=C+(D<<15&4294967295|D>>>17),D=T+(C^(E|~S))+j[13]+1309151649&4294967295,T=E+(D<<21&4294967295|D>>>11),D=S+(E^(T|~C))+j[4]+4149444226&4294967295,S=T+(D<<6&4294967295|D>>>26),D=C+(T^(S|~E))+j[11]+3174756917&4294967295,C=S+(D<<10&4294967295|D>>>22),D=E+(S^(C|~T))+j[2]+718787259&4294967295,E=C+(D<<15&4294967295|D>>>17),D=T+(C^(E|~S))+j[9]+3951481745&4294967295,k.g[0]=k.g[0]+S&4294967295,k.g[1]=k.g[1]+(E+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+E&4294967295,k.g[3]=k.g[3]+C&4294967295}n.prototype.u=function(k,S){S===void 0&&(S=k.length);for(var T=S-this.blockSize,j=this.B,E=this.h,C=0;C<S;){if(E==0)for(;C<=T;)i(this,k,C),C+=this.blockSize;if(typeof k=="string"){for(;C<S;)if(j[E++]=k.charCodeAt(C++),E==this.blockSize){i(this,j),E=0;break}}else for(;C<S;)if(j[E++]=k[C++],E==this.blockSize){i(this,j),E=0;break}}this.h=E,this.o+=S},n.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var S=1;S<k.length-8;++S)k[S]=0;var T=8*this.o;for(S=k.length-8;S<k.length;++S)k[S]=T&255,T/=256;for(this.u(k),k=Array(16),S=T=0;4>S;++S)for(var j=0;32>j;j+=8)k[T++]=this.g[S]>>>j&255;return k};function a(k,S){var T=o;return Object.prototype.hasOwnProperty.call(T,k)?T[k]:T[k]=S(k)}function s(k,S){this.h=S;for(var T=[],j=!0,E=k.length-1;0<=E;E--){var C=k[E]|0;j&&C==S||(T[E]=C,j=!1)}this.g=T}var o={};function l(k){return-128<=k&&128>k?a(k,function(S){return new s([S|0],0>S?-1:0)}):new s([k|0],0>k?-1:0)}function c(k){if(isNaN(k)||!isFinite(k))return f;if(0>k)return v(c(-k));for(var S=[],T=1,j=0;k>=T;j++)S[j]=k/T|0,T*=4294967296;return new s(S,0)}function u(k,S){if(k.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k.charAt(0)=="-")return v(u(k.substring(1),S));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(S,8)),j=f,E=0;E<k.length;E+=8){var C=Math.min(8,k.length-E),D=parseInt(k.substring(E,E+C),S);8>C?(C=c(Math.pow(S,C)),j=j.j(C).add(c(D))):(j=j.j(T),j=j.add(c(D)))}return j}var f=l(0),d=l(1),h=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-v(this).m();for(var k=0,S=1,T=0;T<this.g.length;T++){var j=this.i(T);k+=(0<=j?j:4294967296+j)*S,S*=4294967296}return k},e.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(g(this))return"0";if(m(this))return"-"+v(this).toString(k);for(var S=c(Math.pow(k,6)),T=this,j="";;){var E=N(T,S).g;T=y(T,E.j(S));var C=((0<T.g.length?T.g[0]:T.h)>>>0).toString(k);if(T=E,g(T))return C+j;for(;6>C.length;)C="0"+C;j=C+j}},e.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function g(k){if(k.h!=0)return!1;for(var S=0;S<k.g.length;S++)if(k.g[S]!=0)return!1;return!0}function m(k){return k.h==-1}e.l=function(k){return k=y(this,k),m(k)?-1:g(k)?0:1};function v(k){for(var S=k.g.length,T=[],j=0;j<S;j++)T[j]=~k.g[j];return new s(T,~k.h).add(d)}e.abs=function(){return m(this)?v(this):this},e.add=function(k){for(var S=Math.max(this.g.length,k.g.length),T=[],j=0,E=0;E<=S;E++){var C=j+(this.i(E)&65535)+(k.i(E)&65535),D=(C>>>16)+(this.i(E)>>>16)+(k.i(E)>>>16);j=D>>>16,C&=65535,D&=65535,T[E]=D<<16|C}return new s(T,T[T.length-1]&-2147483648?-1:0)};function y(k,S){return k.add(v(S))}e.j=function(k){if(g(this)||g(k))return f;if(m(this))return m(k)?v(this).j(v(k)):v(v(this).j(k));if(m(k))return v(this.j(v(k)));if(0>this.l(h)&&0>k.l(h))return c(this.m()*k.m());for(var S=this.g.length+k.g.length,T=[],j=0;j<2*S;j++)T[j]=0;for(j=0;j<this.g.length;j++)for(var E=0;E<k.g.length;E++){var C=this.i(j)>>>16,D=this.i(j)&65535,q=k.i(E)>>>16,ee=k.i(E)&65535;T[2*j+2*E]+=D*ee,b(T,2*j+2*E),T[2*j+2*E+1]+=C*ee,b(T,2*j+2*E+1),T[2*j+2*E+1]+=D*q,b(T,2*j+2*E+1),T[2*j+2*E+2]+=C*q,b(T,2*j+2*E+2)}for(j=0;j<S;j++)T[j]=T[2*j+1]<<16|T[2*j];for(j=S;j<2*S;j++)T[j]=0;return new s(T,0)};function b(k,S){for(;(k[S]&65535)!=k[S];)k[S+1]+=k[S]>>>16,k[S]&=65535,S++}function _(k,S){this.g=k,this.h=S}function N(k,S){if(g(S))throw Error("division by zero");if(g(k))return new _(f,f);if(m(k))return S=N(v(k),S),new _(v(S.g),v(S.h));if(m(S))return S=N(k,v(S)),new _(v(S.g),S.h);if(30<k.g.length){if(m(k)||m(S))throw Error("slowDivide_ only works with positive integers.");for(var T=d,j=S;0>=j.l(k);)T=R(T),j=R(j);var E=O(T,1),C=O(j,1);for(j=O(j,2),T=O(T,2);!g(j);){var D=C.add(j);0>=D.l(k)&&(E=E.add(T),C=D),j=O(j,1),T=O(T,1)}return S=y(k,E.j(S)),new _(E,S)}for(E=f;0<=k.l(S);){for(T=Math.max(1,Math.floor(k.m()/S.m())),j=Math.ceil(Math.log(T)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),C=c(T),D=C.j(S);m(D)||0<D.l(k);)T-=j,C=c(T),D=C.j(S);g(C)&&(C=d),E=E.add(C),k=y(k,D)}return new _(E,k)}e.A=function(k){return N(this,k).h},e.and=function(k){for(var S=Math.max(this.g.length,k.g.length),T=[],j=0;j<S;j++)T[j]=this.i(j)&k.i(j);return new s(T,this.h&k.h)},e.or=function(k){for(var S=Math.max(this.g.length,k.g.length),T=[],j=0;j<S;j++)T[j]=this.i(j)|k.i(j);return new s(T,this.h|k.h)},e.xor=function(k){for(var S=Math.max(this.g.length,k.g.length),T=[],j=0;j<S;j++)T[j]=this.i(j)^k.i(j);return new s(T,this.h^k.h)};function R(k){for(var S=k.g.length+1,T=[],j=0;j<S;j++)T[j]=k.i(j)<<1|k.i(j-1)>>>31;return new s(T,k.h)}function O(k,S){var T=S>>5;S%=32;for(var j=k.g.length-T,E=[],C=0;C<j;C++)E[C]=0<S?k.i(C+T)>>>S|k.i(C+T+1)<<32-S:k.i(C+T);return new s(E,k.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,sq=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,zd=s}).apply(typeof BL<"u"?BL:typeof self<"u"?self:typeof window<"u"?window:{});var Q2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oq,rv,lq,Qw,Ak,cq,uq,fq;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,M,W){return w==Array.prototype||w==Object.prototype||(w[M]=W.value),w};function r(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof Q2=="object"&&Q2];for(var M=0;M<w.length;++M){var W=w[M];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var n=r(this);function i(w,M){if(M)e:{var W=n;w=w.split(".");for(var ae=0;ae<w.length-1;ae++){var De=w[ae];if(!(De in W))break e;W=W[De]}w=w[w.length-1],ae=W[w],M=M(ae),M!=ae&&M!=null&&t(W,w,{configurable:!0,writable:!0,value:M})}}function a(w,M){w instanceof String&&(w+="");var W=0,ae=!1,De={next:function(){if(!ae&&W<w.length){var Be=W++;return{value:M(Be,w[Be]),done:!1}}return ae=!0,{done:!0,value:void 0}}};return De[Symbol.iterator]=function(){return De},De}i("Array.prototype.values",function(w){return w||function(){return a(this,function(M,W){return W})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(w){var M=typeof w;return M=M!="object"?M:w?Array.isArray(w)?"array":M:"null",M=="array"||M=="object"&&typeof w.length=="number"}function c(w){var M=typeof w;return M=="object"&&w!=null||M=="function"}function u(w,M,W){return w.call.apply(w.bind,arguments)}function f(w,M,W){if(!w)throw Error();if(2<arguments.length){var ae=Array.prototype.slice.call(arguments,2);return function(){var De=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(De,ae),w.apply(M,De)}}return function(){return w.apply(M,arguments)}}function d(w,M,W){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,d.apply(null,arguments)}function h(w,M){var W=Array.prototype.slice.call(arguments,1);return function(){var ae=W.slice();return ae.push.apply(ae,arguments),w.apply(this,ae)}}function g(w,M){function W(){}W.prototype=M.prototype,w.aa=M.prototype,w.prototype=new W,w.prototype.constructor=w,w.Qb=function(ae,De,Be){for(var ut=Array(arguments.length-2),Lr=2;Lr<arguments.length;Lr++)ut[Lr-2]=arguments[Lr];return M.prototype[De].apply(ae,ut)}}function m(w){const M=w.length;if(0<M){const W=Array(M);for(let ae=0;ae<M;ae++)W[ae]=w[ae];return W}return[]}function v(w,M){for(let W=1;W<arguments.length;W++){const ae=arguments[W];if(l(ae)){const De=w.length||0,Be=ae.length||0;w.length=De+Be;for(let ut=0;ut<Be;ut++)w[De+ut]=ae[ut]}else w.push(ae)}}class y{constructor(M,W){this.i=M,this.j=W,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}function b(w){return/^[\s\xa0]*$/.test(w)}function _(){var w=o.navigator;return w&&(w=w.userAgent)?w:""}function N(w){return N[" "](w),w}N[" "]=function(){};var R=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function O(w,M,W){for(const ae in w)M.call(W,w[ae],ae,w)}function k(w,M){for(const W in w)M.call(void 0,w[W],W,w)}function S(w){const M={};for(const W in w)M[W]=w[W];return M}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(w,M){let W,ae;for(let De=1;De<arguments.length;De++){ae=arguments[De];for(W in ae)w[W]=ae[W];for(let Be=0;Be<T.length;Be++)W=T[Be],Object.prototype.hasOwnProperty.call(ae,W)&&(w[W]=ae[W])}}function E(w){var M=1;w=w.split(":");const W=[];for(;0<M&&w.length;)W.push(w.shift()),M--;return w.length&&W.push(w.join(":")),W}function C(w){o.setTimeout(()=>{throw w},0)}function D(){var w=X;let M=null;return w.g&&(M=w.g,w.g=w.g.next,w.g||(w.h=null),M.next=null),M}class q{constructor(){this.h=this.g=null}add(M,W){const ae=ee.get();ae.set(M,W),this.h?this.h.next=ae:this.g=ae,this.h=ae}}var ee=new y(()=>new le,w=>w.reset());class le{constructor(){this.next=this.g=this.h=null}set(M,W){this.h=M,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let se,K=!1,X=new q,_e=()=>{const w=o.Promise.resolve(void 0);se=()=>{w.then(Se)}};var Se=()=>{for(var w;w=D();){try{w.h.call(w.g)}catch(W){C(W)}var M=ee;M.j(w),100>M.h&&(M.h++,w.next=M.g,M.g=w)}K=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(w,M){this.type=w,this.g=this.target=M,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var w=!1,M=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const W=()=>{};o.addEventListener("test",W,M),o.removeEventListener("test",W,M)}catch{}return w}();function z(w,M){if(U.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var W=this.type=w.type,ae=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=M,M=w.relatedTarget){if(R){e:{try{N(M.nodeName);var De=!0;break e}catch{}De=!1}De||(M=null)}}else W=="mouseover"?M=w.fromElement:W=="mouseout"&&(M=w.toElement);this.relatedTarget=M,ae?(this.clientX=ae.clientX!==void 0?ae.clientX:ae.pageX,this.clientY=ae.clientY!==void 0?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:ne[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&z.aa.h.call(this)}}g(z,U);var ne={2:"touch",3:"pen",4:"mouse"};z.prototype.h=function(){z.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),xe=0;function oe(w,M,W,ae,De){this.listener=w,this.proxy=null,this.src=M,this.type=W,this.capture=!!ae,this.ha=De,this.key=++xe,this.da=this.fa=!1}function he(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function Pe(w){this.src=w,this.g={},this.h=0}Pe.prototype.add=function(w,M,W,ae,De){var Be=w.toString();w=this.g[Be],w||(w=this.g[Be]=[],this.h++);var ut=ze(w,M,ae,De);return-1<ut?(M=w[ut],W||(M.fa=!1)):(M=new oe(M,this.src,Be,!!ae,De),M.fa=W,w.push(M)),M};function G(w,M){var W=M.type;if(W in w.g){var ae=w.g[W],De=Array.prototype.indexOf.call(ae,M,void 0),Be;(Be=0<=De)&&Array.prototype.splice.call(ae,De,1),Be&&(he(M),w.g[W].length==0&&(delete w.g[W],w.h--))}}function ze(w,M,W,ae){for(var De=0;De<w.length;++De){var Be=w[De];if(!Be.da&&Be.listener==M&&Be.capture==!!W&&Be.ha==ae)return De}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),de={};function it(w,M,W,ae,De){if(Array.isArray(M)){for(var Be=0;Be<M.length;Be++)it(w,M[Be],W,ae,De);return null}return W=jt(W),w&&w[te]?w.K(M,W,c(ae)?!!ae.capture:!1,De):Ve(w,M,W,!1,ae,De)}function Ve(w,M,W,ae,De,Be){if(!M)throw Error("Invalid event type");var ut=c(De)?!!De.capture:!!De,Lr=bt(w);if(Lr||(w[Ce]=Lr=new Pe(w)),W=Lr.add(M,W,ae,ut,Be),W.proxy)return W;if(ae=ct(),W.proxy=ae,ae.src=w,ae.listener=W,w.addEventListener)V||(De=ut),De===void 0&&(De=!1),w.addEventListener(M.toString(),ae,De);else if(w.attachEvent)w.attachEvent(lt(M.toString()),ae);else if(w.addListener&&w.removeListener)w.addListener(ae);else throw Error("addEventListener and attachEvent are unavailable.");return W}function ct(){function w(W){return M.call(w.src,w.listener,W)}const M=Jt;return w}function Qe(w,M,W,ae,De){if(Array.isArray(M))for(var Be=0;Be<M.length;Be++)Qe(w,M[Be],W,ae,De);else ae=c(ae)?!!ae.capture:!!ae,W=jt(W),w&&w[te]?(w=w.i,M=String(M).toString(),M in w.g&&(Be=w.g[M],W=ze(Be,W,ae,De),-1<W&&(he(Be[W]),Array.prototype.splice.call(Be,W,1),Be.length==0&&(delete w.g[M],w.h--)))):w&&(w=bt(w))&&(M=w.g[M.toString()],w=-1,M&&(w=ze(M,W,ae,De)),(W=-1<w?M[w]:null)&&at(W))}function at(w){if(typeof w!="number"&&w&&!w.da){var M=w.src;if(M&&M[te])G(M.i,w);else{var W=w.type,ae=w.proxy;M.removeEventListener?M.removeEventListener(W,ae,w.capture):M.detachEvent?M.detachEvent(lt(W),ae):M.addListener&&M.removeListener&&M.removeListener(ae),(W=bt(M))?(G(W,w),W.h==0&&(W.src=null,M[Ce]=null)):he(w)}}}function lt(w){return w in de?de[w]:de[w]="on"+w}function Jt(w,M){if(w.da)w=!0;else{M=new z(M,this);var W=w.listener,ae=w.ha||w.src;w.fa&&at(w),w=W.call(ae,M)}return w}function bt(w){return w=w[Ce],w instanceof Pe?w:null}var Kt="__closure_events_fn_"+(1e9*Math.random()>>>0);function jt(w){return typeof w=="function"?w:(w[Kt]||(w[Kt]=function(M){return w.handleEvent(M)}),w[Kt])}function yt(){P.call(this),this.i=new Pe(this),this.M=this,this.F=null}g(yt,P),yt.prototype[te]=!0,yt.prototype.removeEventListener=function(w,M,W,ae){Qe(this,w,M,W,ae)};function Xt(w,M){var W,ae=w.F;if(ae)for(W=[];ae;ae=ae.F)W.push(ae);if(w=w.M,ae=M.type||M,typeof M=="string")M=new U(M,w);else if(M instanceof U)M.target=M.target||w;else{var De=M;M=new U(ae,w),j(M,De)}if(De=!0,W)for(var Be=W.length-1;0<=Be;Be--){var ut=M.g=W[Be];De=_t(ut,ae,!0,M)&&De}if(ut=M.g=w,De=_t(ut,ae,!0,M)&&De,De=_t(ut,ae,!1,M)&&De,W)for(Be=0;Be<W.length;Be++)ut=M.g=W[Be],De=_t(ut,ae,!1,M)&&De}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var w=this.i,M;for(M in w.g){for(var W=w.g[M],ae=0;ae<W.length;ae++)he(W[ae]);delete w.g[M],w.h--}}this.F=null},yt.prototype.K=function(w,M,W,ae){return this.i.add(String(w),M,!1,W,ae)},yt.prototype.L=function(w,M,W,ae){return this.i.add(String(w),M,!0,W,ae)};function _t(w,M,W,ae){if(M=w.i.g[String(M)],!M)return!0;M=M.concat();for(var De=!0,Be=0;Be<M.length;++Be){var ut=M[Be];if(ut&&!ut.da&&ut.capture==W){var Lr=ut.listener,ai=ut.ha||ut.src;ut.fa&&G(w.i,ut),De=Lr.call(ai,ae)!==!1&&De}}return De&&!ae.defaultPrevented}function xt(w,M,W){if(typeof w=="function")W&&(w=d(w,W));else if(w&&typeof w.handleEvent=="function")w=d(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(M)?-1:o.setTimeout(w,M||0)}function st(w){w.g=xt(()=>{w.g=null,w.i&&(w.i=!1,st(w))},w.l);const M=w.h;w.h=null,w.m.apply(null,M)}class dt extends P{constructor(M,W){super(),this.m=M,this.l=W,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:st(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function er(w){P.call(this),this.h=w,this.g={}}g(er,P);var Ft=[];function wt(w){O(w.g,function(M,W){this.g.hasOwnProperty(W)&&at(M)},w),w.g={}}er.prototype.N=function(){er.aa.N.call(this),wt(this)},er.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yt=o.JSON.stringify,Ur=o.JSON.parse,Ht=class{stringify(w){return o.JSON.stringify(w,void 0)}parse(w){return o.JSON.parse(w,void 0)}};function dr(){}dr.prototype.h=null;function Qt(w){return w.h||(w.h=w.i())}function nn(){}var an={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Rr(){U.call(this,"d")}g(Rr,U);function Vt(){U.call(this,"c")}g(Vt,U);var gr={},ba=null;function jn(){return ba=ba||new yt}gr.La="serverreachability";function ns(w){U.call(this,gr.La,w)}g(ns,U);function Wi(w){const M=jn();Xt(M,new ns(M))}gr.STAT_EVENT="statevent";function $t(w,M){U.call(this,gr.STAT_EVENT,w),this.stat=M}g($t,U);function vn(w){const M=jn();Xt(M,new $t(M,w))}gr.Ma="timingevent";function _a(w,M){U.call(this,gr.Ma,w),this.size=M}g(_a,U);function En(w,M){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){w()},M)}function ti(){this.g=!0}ti.prototype.xa=function(){this.g=!1};function yn(w,M,W,ae,De,Be){w.info(function(){if(w.g)if(Be)for(var ut="",Lr=Be.split("&"),ai=0;ai<Lr.length;ai++){var Er=Lr[ai].split("=");if(1<Er.length){var br=Er[0];Er=Er[1];var Pn=br.split("_");ut=2<=Pn.length&&Pn[1]=="type"?ut+(br+"="+Er+"&"):ut+(br+"=redacted&")}}else ut=null;else ut=Be;return"XMLHTTP REQ ("+ae+") [attempt "+De+"]: "+M+`
`+W+`
`+ut})}function Gn(w,M,W,ae,De,Be,ut){w.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+De+"]: "+M+`
`+W+`
`+Be+" "+ut})}function Q(w,M,W,ae){w.info(function(){return"XMLHTTP TEXT ("+M+"): "+ce(w,W)+(ae?" "+ae:"")})}function me(w,M){w.info(function(){return"TIMEOUT: "+M})}ti.prototype.info=function(){};function ce(w,M){if(!w.g)return M;if(!M)return null;try{var W=JSON.parse(M);if(W){for(w=0;w<W.length;w++)if(Array.isArray(W[w])){var ae=W[w];if(!(2>ae.length)){var De=ae[1];if(Array.isArray(De)&&!(1>De.length)){var Be=De[0];if(Be!="noop"&&Be!="stop"&&Be!="close")for(var ut=1;ut<De.length;ut++)De[ut]=""}}}}return Yt(W)}catch{return M}}var fe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},H;function we(){}g(we,dr),we.prototype.g=function(){return new XMLHttpRequest},we.prototype.i=function(){return{}},H=new we;function ke(w,M,W,ae){this.j=w,this.i=M,this.l=W,this.R=ae||1,this.U=new er(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}var be={},Ae={};function Le(w,M,W){w.L=1,w.v=Tu(Os(M)),w.m=W,w.P=!0,Ke(w,null)}function Ke(w,M){w.F=Date.now(),We(w),w.A=Os(w.v);var W=w.A,ae=w.R;Array.isArray(ae)||(ae=[String(ae)]),sr(W.i,"t",ae),w.C=0,W=w.j.J,w.h=new Ee,w.g=mi(w.j,W?M:null,!w.m),0<w.O&&(w.M=new dt(d(w.Y,w,w.g),w.O)),M=w.U,W=w.g,ae=w.ca;var De="readystatechange";Array.isArray(De)||(De&&(Ft[0]=De.toString()),De=Ft);for(var Be=0;Be<De.length;Be++){var ut=it(W,De[Be],ae||M.handleEvent,!1,M.h||M);if(!ut)break;M.g[ut.key]=ut}M=w.H?S(w.H):{},w.m?(w.u||(w.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,M)):(w.u="GET",w.g.ea(w.A,w.u,null,M)),Wi(),yn(w.i,w.u,w.A,w.l,w.R,w.m)}ke.prototype.ca=function(w){w=w.target;const M=this.M;M&&Zs(w)==3?M.j():this.Y(w)},ke.prototype.Y=function(w){try{if(w==this.g)e:{const Pn=Zs(this.g);var M=this.g.Ba();const To=this.g.Z();if(!(3>Pn)&&(Pn!=3||this.g&&(this.h.h||this.g.oa()||Uh(this.g)))){this.J||Pn!=4||M==7||(M==8||0>=To?Wi(3):Wi(2)),Mt(this);var W=this.g.Z();this.X=W;t:if(Ue(this)){var ae=Uh(this.g);w="";var De=ae.length,Be=Zs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tr(this),zt(this);var ut="";break t}this.h.i=new o.TextDecoder}for(M=0;M<De;M++)this.h.h=!0,w+=this.h.i.decode(ae[M],{stream:!(Be&&M==De-1)});ae.length=0,this.h.g+=w,this.C=0,ut=this.h.g}else ut=this.g.oa();if(this.o=W==200,Gn(this.i,this.u,this.A,this.l,this.R,Pn,W),this.o){if(this.T&&!this.K){t:{if(this.g){var Lr,ai=this.g;if((Lr=ai.g?ai.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Lr)){var Er=Lr;break t}}Er=null}if(W=Er)Q(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pi(this,W);else{this.o=!1,this.s=3,vn(12),Tr(this),zt(this);break e}}if(this.P){W=!0;let is;for(;!this.J&&this.C<ut.length;)if(is=Xe(this,ut),is==Ae){Pn==4&&(this.s=4,vn(14),W=!1),Q(this.i,this.l,null,"[Incomplete Response]");break}else if(is==be){this.s=4,vn(15),Q(this.i,this.l,ut,"[Invalid Chunk]"),W=!1;break}else Q(this.i,this.l,is,null),pi(this,is);if(Ue(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pn!=4||ut.length!=0||this.h.h||(this.s=1,vn(16),W=!1),this.o=this.o&&W,!W)Q(this.i,this.l,ut,"[Invalid Chunked Response]"),Tr(this),zt(this);else if(0<ut.length&&!this.W){this.W=!0;var br=this.j;br.g==this&&br.ba&&!br.M&&(br.j.info("Great, no buffering proxy detected. Bytes received: "+ut.length),Et(br),br.M=!0,vn(11))}}else Q(this.i,this.l,ut,null),pi(this,ut);Pn==4&&Tr(this),this.o&&!this.J&&(Pn==4?cr(this.j,this):(this.o=!1,We(this)))}else ec(this.g),W==400&&0<ut.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),Tr(this),zt(this)}}}catch{}finally{}};function Ue(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function Xe(w,M){var W=w.C,ae=M.indexOf(`
`,W);return ae==-1?Ae:(W=Number(M.substring(W,ae)),isNaN(W)?be:(ae+=1,ae+W>M.length?Ae:(M=M.slice(ae,ae+W),w.C=ae+W,M)))}ke.prototype.cancel=function(){this.J=!0,Tr(this)};function We(w){w.S=Date.now()+w.I,pt(w,w.I)}function pt(w,M){if(w.B!=null)throw Error("WatchDog timer not null");w.B=En(d(w.ba,w),M)}function Mt(w){w.B&&(o.clearTimeout(w.B),w.B=null)}ke.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(me(this.i,this.A),this.L!=2&&(Wi(),vn(17)),Tr(this),this.s=2,zt(this)):pt(this,this.S-w)};function zt(w){w.j.G==0||w.J||cr(w.j,w)}function Tr(w){Mt(w);var M=w.M;M&&typeof M.ma=="function"&&M.ma(),w.M=null,wt(w.U),w.g&&(M=w.g,w.g=null,M.abort(),M.ma())}function pi(w,M){try{var W=w.j;if(W.G!=0&&(W.g==w||Hi(W.h,w))){if(!w.K&&Hi(W.h,w)&&W.G==3){try{var ae=W.Da.g.parse(M)}catch{ae=null}if(Array.isArray(ae)&&ae.length==3){var De=ae;if(De[0]==0){e:if(!W.u){if(W.g)if(W.g.F+3e3<w.F)Zt(W),hl(W);else break e;et(W),vn(18)}}else W.za=De[1],0<W.za-W.T&&37500>De[2]&&W.F&&W.v==0&&!W.C&&(W.C=En(d(W.Za,W),6e3));if(1>=Yl(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else Jr(W,11)}else if((w.K||W.g==w)&&Zt(W),!b(M))for(De=W.Da.g.parse(M),M=0;M<De.length;M++){let Er=De[M];if(W.T=Er[0],Er=Er[1],W.G==2)if(Er[0]=="c"){W.K=Er[1],W.ia=Er[2];const br=Er[3];br!=null&&(W.la=br,W.j.info("VER="+W.la));const Pn=Er[4];Pn!=null&&(W.Aa=Pn,W.j.info("SVER="+W.Aa));const To=Er[5];To!=null&&typeof To=="number"&&0<To&&(ae=1.5*To,W.L=ae,W.j.info("backChannelRequestTimeoutMs_="+ae)),ae=W;const is=w.g;if(is){const Va=is.g?is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Va){var Be=ae.h;Be.g||Va.indexOf("spdy")==-1&&Va.indexOf("quic")==-1&&Va.indexOf("h2")==-1||(Be.j=Be.l,Be.g=new Set,Be.h&&(Rh(Be,Be.h),Be.h=null))}if(ae.D){const tc=is.g?is.g.getResponseHeader("X-HTTP-Session-Id"):null;tc&&(ae.ya=tc,Cr(ae.I,ae.D,tc))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-w.F,W.j.info("Handshake RTT: "+W.R+"ms")),ae=W;var ut=w;if(ae.qa=on(ae,ae.J?ae.ia:null,ae.W),ut.K){ri(ae.h,ut);var Lr=ut,ai=ae.L;ai&&(Lr.I=ai),Lr.B&&(Mt(Lr),We(Lr)),ae.g=ut}else qe(ae);0<W.i.length&&I(W)}else Er[0]!="stop"&&Er[0]!="close"||Jr(W,7);else W.G==3&&(Er[0]=="stop"||Er[0]=="close"?Er[0]=="stop"?Jr(W,7):Xf(W):Er[0]!="noop"&&W.l&&W.l.ta(Er),W.v=0)}}Wi(4)}catch{}}var Ba=class{constructor(w,M){this.g=w,this.map=M}};function So(w){this.l=w||10,o.PerformanceNavigationTiming?(w=o.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Is(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function Yl(w){return w.h?1:w.g?w.g.size:0}function Hi(w,M){return w.h?w.h==M:w.g?w.g.has(M):!1}function Rh(w,M){w.g?w.g.add(M):w.h=M}function ri(w,M){w.h&&w.h==M?w.h=null:w.g&&w.g.has(M)&&w.g.delete(M)}So.prototype.cancel=function(){if(this.i=Lh(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Lh(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let M=w.i;for(const W of w.g.values())M=M.concat(W.D);return M}return m(w.i)}function Pp(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(l(w)){for(var M=[],W=w.length,ae=0;ae<W;ae++)M.push(w[ae]);return M}M=[],W=0;for(ae in w)M[W++]=w[ae];return M}function Jl(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(l(w)||typeof w=="string"){var M=[];w=w.length;for(var W=0;W<w;W++)M.push(W);return M}M=[],W=0;for(const ae in w)M[W++]=ae;return M}}}function Dc(w,M){if(w.forEach&&typeof w.forEach=="function")w.forEach(M,void 0);else if(l(w)||typeof w=="string")Array.prototype.forEach.call(w,M,void 0);else for(var W=Jl(w),ae=Pp(w),De=ae.length,Be=0;Be<De;Be++)M.call(void 0,ae[Be],W&&W[Be],w)}var Ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Au(w,M){if(w){w=w.split("&");for(var W=0;W<w.length;W++){var ae=w[W].indexOf("="),De=null;if(0<=ae){var Be=w[W].substring(0,ae);De=w[W].substring(ae+1)}else Be=w[W];M(Be,De?decodeURIComponent(De.replace(/\+/g," ")):"")}}}function sn(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof sn){this.h=w.h,zf(this,w.j),this.o=w.o,this.g=w.g,Wf(this,w.s),this.l=w.l;var M=w.i,W=new Qs;W.i=M.i,M.g&&(W.g=new Map(M.g),W.h=M.h),Ip(this,W),this.m=w.m}else w&&(M=String(w).match(Ys))?(this.h=!1,zf(this,M[1]||"",!0),this.o=Rc(M[2]||""),this.g=Rc(M[3]||"",!0),Wf(this,M[4]),this.l=Rc(M[5]||"",!0),Ip(this,M[6]||"",!0),this.m=Rc(M[7]||"")):(this.h=!1,this.i=new Qs(null,this.h))}sn.prototype.toString=function(){var w=[],M=this.j;M&&w.push(Js(M,Op,!0),":");var W=this.g;return(W||M=="file")&&(w.push("//"),(M=this.o)&&w.push(Js(M,Op,!0),"@"),w.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W=this.s,W!=null&&w.push(":",String(W))),(W=this.l)&&(this.g&&W.charAt(0)!="/"&&w.push("/"),w.push(Js(W,W.charAt(0)=="/"?o1:s1,!0))),(W=this.i.toString())&&w.push("?",W),(W=this.m)&&w.push("#",Js(W,ku)),w.join("")};function Os(w){return new sn(w)}function zf(w,M,W){w.j=W?Rc(M,!0):M,w.j&&(w.j=w.j.replace(/:$/,""))}function Wf(w,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);w.s=M}else w.s=null}function Ip(w,M,W){M instanceof Qs?(w.i=M,l1(w.i,w.h)):(W||(M=Js(M,Fh)),w.i=new Qs(M,w.h))}function Cr(w,M,W){w.i.set(M,W)}function Tu(w){return Cr(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function Rc(w,M){return w?M?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function Js(w,M,W){return typeof w=="string"?(w=encodeURI(w).replace(M,jh),W&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function jh(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Op=/[#\/\?@]/g,s1=/[#\?:]/g,o1=/[#\?]/g,Fh=/[#\?@]/g,ku=/#/g;function Qs(w,M){this.h=this.g=null,this.i=w||null,this.j=!!M}function fl(w){w.g||(w.g=new Map,w.h=0,w.i&&Au(w.i,function(M,W){w.add(decodeURIComponent(M.replace(/\+/g," ")),W)}))}e=Qs.prototype,e.add=function(w,M){fl(this),this.i=null,w=jc(this,w);var W=this.g.get(w);return W||this.g.set(w,W=[]),W.push(M),this.h+=1,this};function Lc(w,M){fl(w),M=jc(w,M),w.g.has(M)&&(w.i=null,w.h-=w.g.get(M).length,w.g.delete(M))}function Hf(w,M){return fl(w),M=jc(w,M),w.g.has(M)}e.forEach=function(w,M){fl(this),this.g.forEach(function(W,ae){W.forEach(function(De){w.call(M,De,ae,this)},this)},this)},e.na=function(){fl(this);const w=Array.from(this.g.values()),M=Array.from(this.g.keys()),W=[];for(let ae=0;ae<M.length;ae++){const De=w[ae];for(let Be=0;Be<De.length;Be++)W.push(M[ae])}return W},e.V=function(w){fl(this);let M=[];if(typeof w=="string")Hf(this,w)&&(M=M.concat(this.g.get(jc(this,w))));else{w=Array.from(this.g.values());for(let W=0;W<w.length;W++)M=M.concat(w[W])}return M},e.set=function(w,M){return fl(this),this.i=null,w=jc(this,w),Hf(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[M]),this.h+=1,this},e.get=function(w,M){return w?(w=this.V(w),0<w.length?String(w[0]):M):M};function sr(w,M,W){Lc(w,M),0<W.length&&(w.i=null,w.g.set(jc(w,M),m(W)),w.h+=W.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],M=Array.from(this.g.keys());for(var W=0;W<M.length;W++){var ae=M[W];const Be=encodeURIComponent(String(ae)),ut=this.V(ae);for(ae=0;ae<ut.length;ae++){var De=Be;ut[ae]!==""&&(De+="="+encodeURIComponent(String(ut[ae]))),w.push(De)}}return this.i=w.join("&")};function jc(w,M){return M=String(M),w.j&&(M=M.toLowerCase()),M}function l1(w,M){M&&!w.j&&(fl(w),w.i=null,w.g.forEach(function(W,ae){var De=ae.toLowerCase();ae!=De&&(Lc(this,ae),sr(this,De,W))},w)),w.j=M}function c1(w,M){const W=new ti;if(o.Image){const ae=new Image;ae.onload=h(Sa,W,"TestLoadImage: loaded",!0,M,ae),ae.onerror=h(Sa,W,"TestLoadImage: error",!1,M,ae),ae.onabort=h(Sa,W,"TestLoadImage: abort",!1,M,ae),ae.ontimeout=h(Sa,W,"TestLoadImage: timeout",!1,M,ae),o.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=w}else M(!1)}function u1(w,M){const W=new ti,ae=new AbortController,De=setTimeout(()=>{ae.abort(),Sa(W,"TestPingServer: timeout",!1,M)},1e4);fetch(w,{signal:ae.signal}).then(Be=>{clearTimeout(De),Be.ok?Sa(W,"TestPingServer: ok",!0,M):Sa(W,"TestPingServer: server error",!1,M)}).catch(()=>{clearTimeout(De),Sa(W,"TestPingServer: error",!1,M)})}function Sa(w,M,W,ae,De){try{De&&(De.onload=null,De.onerror=null,De.onabort=null,De.ontimeout=null),ae(W)}catch{}}function Ql(){this.g=new Ht}function f1(w,M,W){const ae=W||"";try{Dc(w,function(De,Be){let ut=De;c(De)&&(ut=Yt(De)),M.push(ae+Be+"="+encodeURIComponent(ut))})}catch(De){throw M.push(ae+"type="+encodeURIComponent("_badmap")),De}}function qf(w){this.l=w.Ub||null,this.j=w.eb||!1}g(qf,dr),qf.prototype.g=function(){return new Zl(this.l,this.j)},qf.prototype.i=function(w){return function(){return w}}({});function Zl(w,M){yt.call(this),this.D=w,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Zl,yt),e=Zl.prototype,e.open=function(w,M){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=M,this.readyState=1,dl(this)},e.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(M.body=w),(this.D||o).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Eo(this)),this.readyState=0},e.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,dl(this)),this.g&&(this.readyState=3,dl(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gf(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gf(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}e.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var M=w.value?w.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!w.done}))&&(this.response=this.responseText+=M)}w.done?Eo(this):dl(this),this.readyState==3&&Gf(this)}},e.Ra=function(w){this.g&&(this.response=this.responseText=w,Eo(this))},e.Qa=function(w){this.g&&(this.response=w,Eo(this))},e.ga=function(){this.g&&Eo(this)};function Eo(w){w.readyState=4,w.l=null,w.j=null,w.v=null,dl(w)}e.setRequestHeader=function(w,M){this.u.append(w,M)},e.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],M=this.h.entries();for(var W=M.next();!W.done;)W=W.value,w.push(W[0]+": "+W[1]),W=M.next();return w.join(`\r
`)};function dl(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(Zl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Nu(w){let M="";return O(w,function(W,ae){M+=ae,M+=":",M+=W,M+=`\r
`}),M}function Mh(w,M,W){e:{for(ae in W){var ae=!1;break e}ae=!0}ae||(W=Nu(W),typeof w=="string"?W!=null&&encodeURIComponent(String(W)):Cr(w,M,W))}function xn(w){yt.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(xn,yt);var Bh=/^https?$/i,Cu=["POST","PUT"];e=xn.prototype,e.Ha=function(w){this.J=w},e.ea=function(w,M,W,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);M=M?M.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():H.g(),this.v=this.o?Qt(this.o):Qt(H),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(M,String(w),!0),this.B=!1}catch(Be){Fc(this,Be);return}if(w=W||"",W=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var De in ae)W.set(De,ae[De]);else if(typeof ae.keys=="function"&&typeof ae.get=="function")for(const Be of ae.keys())W.set(Be,ae.get(Be));else throw Error("Unknown input type for opt_headers: "+String(ae));ae=Array.from(W.keys()).find(Be=>Be.toLowerCase()=="content-type"),De=o.FormData&&w instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Cu,M,void 0))||ae||De||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Be,ut]of W)this.g.setRequestHeader(Be,ut);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bc(this),this.u=!0,this.g.send(w),this.u=!1}catch(Be){Fc(this,Be)}};function Fc(w,M){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=M,w.m=5,Kf(w),Mc(w)}function Kf(w){w.A||(w.A=!0,Xt(w,"complete"),Xt(w,"error"))}e.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,Xt(this,"complete"),Xt(this,"abort"),Mc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mc(this,!0)),xn.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Pu(this):this.bb())},e.bb=function(){Pu(this)};function Pu(w){if(w.h&&typeof s<"u"&&(!w.v[1]||Zs(w)!=4||w.Z()!=2)){if(w.u&&Zs(w)==4)xt(w.Ea,0,w);else if(Xt(w,"readystatechange"),Zs(w)==4){w.h=!1;try{const ut=w.Z();e:switch(ut){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var W;if(!(W=M)){var ae;if(ae=ut===0){var De=String(w.D).match(Ys)[1]||null;!De&&o.self&&o.self.location&&(De=o.self.location.protocol.slice(0,-1)),ae=!Bh.test(De?De.toLowerCase():"")}W=ae}if(W)Xt(w,"complete"),Xt(w,"success");else{w.m=6;try{var Be=2<Zs(w)?w.g.statusText:""}catch{Be=""}w.l=Be+" ["+w.Z()+"]",Kf(w)}}finally{Mc(w)}}}}function Mc(w,M){if(w.g){Bc(w);const W=w.g,ae=w.v[0]?()=>{}:null;w.g=null,w.v=null,M||Xt(w,"ready");try{W.onreadystatechange=ae}catch{}}}function Bc(w){w.I&&(o.clearTimeout(w.I),w.I=null)}e.isActive=function(){return!!this.g};function Zs(w){return w.g?w.g.readyState:0}e.Z=function(){try{return 2<Zs(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(w){if(this.g){var M=this.g.responseText;return w&&M.indexOf(w)==0&&(M=M.substring(w.length)),Ur(M)}};function Uh(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function ec(w){const M={};w=(w.g&&2<=Zs(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let ae=0;ae<w.length;ae++){if(b(w[ae]))continue;var W=E(w[ae]);const De=W[0];if(W=W[1],typeof W!="string")continue;W=W.trim();const Be=M[De]||[];M[De]=Be,Be.push(W)}k(M,function(ae){return ae.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ds(w,M,W){return W&&W.internalChannelParams&&W.internalChannelParams[w]||M}function Vh(w){this.Aa=0,this.i=[],this.j=new ti,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ds("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ds("baseRetryDelayMs",5e3,w),this.cb=Ds("retryDelaySeedMs",1e4,w),this.Wa=Ds("forwardChannelMaxRetries",2,w),this.wa=Ds("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new So(w&&w.concurrentRequestLimit),this.Da=new Ql,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Vh.prototype,e.la=8,e.G=1,e.connect=function(w,M,W,ae){vn(0),this.W=w,this.H=M||{},W&&ae!==void 0&&(this.H.OSID=W,this.H.OAID=ae),this.F=this.X,this.I=on(this,null,this.W),I(this)};function Xf(w){if($h(w),w.G==3){var M=w.U++,W=Os(w.I);if(Cr(W,"SID",w.K),Cr(W,"RID",M),Cr(W,"TYPE","terminate"),Te(w,W),M=new ke(w,w.j,M),M.L=2,M.v=Tu(Os(W)),W=!1,o.navigator&&o.navigator.sendBeacon)try{W=o.navigator.sendBeacon(M.v.toString(),"")}catch{}!W&&o.Image&&(new Image().src=M.v,W=!0),W||(M.g=mi(M.j,null),M.g.ea(M.v)),M.F=Date.now(),We(M)}ni(w)}function hl(w){w.g&&(Et(w),w.g.cancel(),w.g=null)}function $h(w){hl(w),w.u&&(o.clearTimeout(w.u),w.u=null),Zt(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&o.clearTimeout(w.s),w.s=null)}function I(w){if(!Is(w.h)&&!w.s){w.s=!0;var M=w.Ga;se||_e(),K||(se(),K=!0),X.add(M,w),w.B=0}}function Y(w,M){return Yl(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=M.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=En(d(w.Ga,w,M),Fr(w,w.B)),w.B++,!0)}e.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const De=new ke(this,this.j,w);let Be=this.o;if(this.S&&(Be?(Be=S(Be),j(Be,this.S)):Be=this.S),this.m!==null||this.O||(De.H=Be,Be=null),this.P)e:{for(var M=0,W=0;W<this.i.length;W++){t:{var ae=this.i[W];if("__data__"in ae.map&&(ae=ae.map.__data__,typeof ae=="string")){ae=ae.length;break t}ae=void 0}if(ae===void 0)break;if(M+=ae,4096<M){M=W;break e}if(M===4096||W===this.i.length-1){M=W+1;break e}}M=1e3}else M=1e3;M=Oe(this,De,M),W=Os(this.I),Cr(W,"RID",w),Cr(W,"CVER",22),this.D&&Cr(W,"X-HTTP-Session-Id",this.D),Te(this,W),Be&&(this.O?M="headers="+encodeURIComponent(String(Nu(Be)))+"&"+M:this.m&&Mh(W,this.m,Be)),Rh(this.h,De),this.Ua&&Cr(W,"TYPE","init"),this.P?(Cr(W,"$req",M),Cr(W,"SID","null"),De.T=!0,Le(De,W,null)):Le(De,W,M),this.G=2}}else this.G==3&&(w?ge(this,w):this.i.length==0||Is(this.h)||ge(this))};function ge(w,M){var W;M?W=M.l:W=w.U++;const ae=Os(w.I);Cr(ae,"SID",w.K),Cr(ae,"RID",W),Cr(ae,"AID",w.T),Te(w,ae),w.m&&w.o&&Mh(ae,w.m,w.o),W=new ke(w,w.j,W,w.B+1),w.m===null&&(W.H=w.o),M&&(w.i=M.D.concat(w.i)),M=Oe(w,W,1e3),W.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),Rh(w.h,W),Le(W,ae,M)}function Te(w,M){w.H&&O(w.H,function(W,ae){Cr(M,ae,W)}),w.l&&Dc({},function(W,ae){Cr(M,ae,W)})}function Oe(w,M,W){W=Math.min(w.i.length,W);var ae=w.l?d(w.l.Na,w.l,w):null;e:{var De=w.i;let Be=-1;for(;;){const ut=["count="+W];Be==-1?0<W?(Be=De[0].g,ut.push("ofs="+Be)):Be=0:ut.push("ofs="+Be);let Lr=!0;for(let ai=0;ai<W;ai++){let Er=De[ai].g;const br=De[ai].map;if(Er-=Be,0>Er)Be=Math.max(0,De[ai].g-100),Lr=!1;else try{f1(br,ut,"req"+Er+"_")}catch{ae&&ae(br)}}if(Lr){ae=ut.join("&");break e}}}return w=w.i.splice(0,W),M.D=w,ae}function qe(w){if(!w.g&&!w.u){w.Y=1;var M=w.Fa;se||_e(),K||(se(),K=!0),X.add(M,w),w.v=0}}function et(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=En(d(w.Fa,w),Fr(w,w.v)),w.v++,!0)}e.Fa=function(){if(this.u=null,Ot(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=En(d(this.ab,this),w)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),hl(this),Ot(this))};function Et(w){w.A!=null&&(o.clearTimeout(w.A),w.A=null)}function Ot(w){w.g=new ke(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var M=Os(w.qa);Cr(M,"RID","rpc"),Cr(M,"SID",w.K),Cr(M,"AID",w.T),Cr(M,"CI",w.F?"0":"1"),!w.F&&w.ja&&Cr(M,"TO",w.ja),Cr(M,"TYPE","xmlhttp"),Te(w,M),w.m&&w.o&&Mh(M,w.m,w.o),w.L&&(w.g.I=w.L);var W=w.g;w=w.ia,W.L=1,W.v=Tu(Os(M)),W.m=null,W.P=!0,Ke(W,w)}e.Za=function(){this.C!=null&&(this.C=null,hl(this),et(this),vn(19))};function Zt(w){w.C!=null&&(o.clearTimeout(w.C),w.C=null)}function cr(w,M){var W=null;if(w.g==M){Zt(w),Et(w),w.g=null;var ae=2}else if(Hi(w.h,M))W=M.D,ri(w.h,M),ae=1;else return;if(w.G!=0){if(M.o)if(ae==1){W=M.m?M.m.length:0,M=Date.now()-M.F;var De=w.B;ae=jn(),Xt(ae,new _a(ae,W)),I(w)}else qe(w);else if(De=M.s,De==3||De==0&&0<M.X||!(ae==1&&Y(w,M)||ae==2&&et(w)))switch(W&&0<W.length&&(M=w.h,M.i=M.i.concat(W)),De){case 1:Jr(w,5);break;case 4:Jr(w,10);break;case 3:Jr(w,6);break;default:Jr(w,2)}}}function Fr(w,M){let W=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(W*=2),W*M}function Jr(w,M){if(w.j.info("Error code "+M),M==2){var W=d(w.fb,w),ae=w.Xa;const De=!ae;ae=new sn(ae||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||zf(ae,"https"),Tu(ae),De?c1(ae.toString(),W):u1(ae.toString(),W)}else vn(2);w.G=0,w.l&&w.l.sa(M),ni(w),$h(w)}e.fb=function(w){w?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))};function ni(w){if(w.G=0,w.ka=[],w.l){const M=Lh(w.h);(M.length!=0||w.i.length!=0)&&(v(w.ka,M),v(w.ka,w.i),w.h.i.length=0,m(w.i),w.i.length=0),w.l.ra()}}function on(w,M,W){var ae=W instanceof sn?Os(W):new sn(W);if(ae.g!="")M&&(ae.g=M+"."+ae.g),Wf(ae,ae.s);else{var De=o.location;ae=De.protocol,M=M?M+"."+De.hostname:De.hostname,De=+De.port;var Be=new sn(null);ae&&zf(Be,ae),M&&(Be.g=M),De&&Wf(Be,De),W&&(Be.l=W),ae=Be}return W=w.D,M=w.ya,W&&M&&Cr(ae,W,M),Cr(ae,"VER",w.la),Te(w,ae),ae}function mi(w,M,W){if(M&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return M=w.Ca&&!w.pa?new xn(new qf({eb:W})):new xn(w.pa),M.Ha(w.J),M}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function ii(){}e=ii.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function gi(){}gi.prototype.g=function(w,M){return new Cn(w,M)};function Cn(w,M){yt.call(this),this.g=new Vh(M),this.l=w,this.h=M&&M.messageUrlParams||null,w=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(w?w["X-WebChannel-Content-Type"]=M.messageContentType:w={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(w?w["X-WebChannel-Client-Profile"]=M.va:w={"X-WebChannel-Client-Profile":M.va}),this.g.S=w,(w=M&&M.Sb)&&!b(w)&&(this.g.m=w),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!b(M)&&(this.g.D=M,w=this.h,w!==null&&M in w&&(w=this.h,M in w&&delete w[M])),this.j=new Ao(this)}g(Cn,yt),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Xf(this.g)},Cn.prototype.o=function(w){var M=this.g;if(typeof w=="string"){var W={};W.__data__=w,w=W}else this.u&&(W={},W.__data__=Yt(w),w=W);M.i.push(new Ba(M.Ya++,w)),M.G==3&&I(M)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Xf(this.g),delete this.g,Cn.aa.N.call(this)};function Ua(w){Rr.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var M=w.__sm__;if(M){e:{for(const W in M){w=W;break e}w=void 0}(this.i=w)&&(w=this.i,M=M!==null&&w in M?M[w]:void 0),this.data=M}else this.data=w}g(Ua,Rr);function zh(){Vt.call(this),this.status=1}g(zh,Vt);function Ao(w){this.g=w}g(Ao,ii),Ao.prototype.ua=function(){Xt(this.g,"a")},Ao.prototype.ta=function(w){Xt(this.g,new Ua(w))},Ao.prototype.sa=function(w){Xt(this.g,new zh)},Ao.prototype.ra=function(){Xt(this.g,"b")},gi.prototype.createWebChannel=gi.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,fq=function(){return new gi},uq=function(){return jn()},cq=gr,Ak={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fe.NO_ERROR=0,fe.TIMEOUT=8,fe.HTTP_ERROR=6,Qw=fe,pe.COMPLETE="complete",lq=pe,nn.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",yt.prototype.listen=yt.prototype.K,rv=nn,xn.prototype.listenOnce=xn.prototype.L,xn.prototype.getLastError=xn.prototype.Ka,xn.prototype.getLastErrorCode=xn.prototype.Ba,xn.prototype.getStatus=xn.prototype.Z,xn.prototype.getResponseJson=xn.prototype.Oa,xn.prototype.getResponseText=xn.prototype.oa,xn.prototype.send=xn.prototype.ea,xn.prototype.setWithCredentials=xn.prototype.Ha,oq=xn}).apply(typeof Q2<"u"?Q2:typeof self<"u"?self:typeof window<"u"?window:{});const UL="@firebase/firestore",VL="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}gs.UNAUTHENTICATED=new gs(null),gs.GOOGLE_CREDENTIALS=new gs("google-credentials-uid"),gs.FIRST_PARTY=new gs("first-party-uid"),gs.MOCK_USER=new gs("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rg="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=new Y5("@firebase/firestore");function Gp(){return K0.logLevel}function St(e,...t){if(K0.logLevel<=Pr.DEBUG){const r=t.map(wP);K0.debug(`Firestore (${Rg}): ${e}`,...r)}}function wf(e,...t){if(K0.logLevel<=Pr.ERROR){const r=t.map(wP);K0.error(`Firestore (${Rg}): ${e}`,...r)}}function X0(e,...t){if(K0.logLevel<=Pr.WARN){const r=t.map(wP);K0.warn(`Firestore (${Rg}): ${e}`,...r)}}function wP(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,dq(e,n,r)}function dq(e,t,r){let n=`FIRESTORE (${Rg}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw wf(n),new Error(n)}function rn(e,t,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,e||dq(t,i,n)}function pr(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends Gl{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class pq{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(gs.UNAUTHENTICATED))}shutdown(){}}class twe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class rwe{constructor(t){this.t=t,this.currentUser=gs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){rn(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let a=new lf;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new lf,t.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=a;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new lf)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(rn(typeof n.accessToken=="string",31837,{l:n}),new hq(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return rn(t===null||typeof t=="string",2055,{h:t}),new gs(t)}}class nwe{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=gs.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class iwe{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new nwe(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(gs.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $L{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class awe{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qo(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){rn(this.o===void 0,3512);const n=a=>{a.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,St("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>n(a))};const i=a=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new $L(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(rn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new $L(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function swe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=swe(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=t.charAt(i[a]%62))}return n}}function Ir(e,t){return e<t?-1:e>t?1:0}function Tk(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const i=e.charAt(n),a=t.charAt(n);if(i!==a)return BA(i)===BA(a)?Ir(i,a):BA(i)?1:-1}return Ir(e.length,t.length)}const owe=55296,lwe=57343;function BA(e){const t=e.charCodeAt(0);return t>=owe&&t<=lwe}function sg(e,t,r){return e.length===t.length&&e.every((n,i)=>r(n,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL="__name__";class Yc{constructor(t,r,n){r===void 0?r=0:r>t.length&&ar(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&ar(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Yc.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Yc?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let i=0;i<n;i++){const a=Yc.compareSegments(t.get(i),r.get(i));if(a!==0)return a}return Ir(t.length,r.length)}static compareSegments(t,r){const n=Yc.isNumericId(t),i=Yc.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?Yc.extractNumericId(t).compare(Yc.extractNumericId(r)):Tk(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return zd.fromString(t.substring(4,t.length-2))}}class Dn extends Yc{construct(t,r,n){return new Dn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new vt(Je.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new Dn(r)}static emptyPath(){return new Dn([])}}const cwe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pa extends Yc{construct(t,r,n){return new Pa(t,r,n)}static isValidIdentifier(t){return cwe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pa.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===zL}static keyField(){return new Pa([zL])}static fromServerFormat(t){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new vt(Je.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new vt(Je.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new vt(Je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new vt(Je.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pa(r)}static emptyPath(){return new Pa([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t){this.path=t}static fromPath(t){return new qt(Dn.fromString(t))}static fromName(t){return new qt(Dn.fromString(t).popFirst(5))}static empty(){return new qt(Dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Dn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Dn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qt(new Dn(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(e,t,r){if(!r)throw new vt(Je.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function gq(e,t,r,n){if(t===!0&&n===!0)throw new vt(Je.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function WL(e){if(!qt.isDocumentKey(e))throw new vt(Je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function HL(e){if(qt.isDocumentKey(e))throw new vt(Je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function vq(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function rS(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ar(12329,{type:typeof e})}function al(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new vt(Je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=rS(e);throw new vt(Je.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ta(e,t){const r={typeString:e};return t&&(r.value=t),r}function bx(e,t){if(!vq(e))throw new vt(Je.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const i=t[n].typeString,a="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new vt(Je.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=-62135596800,GL=1e6;class Rn{static now(){return Rn.fromMillis(Date.now())}static fromDate(t){return Rn.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*GL);return new Rn(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new vt(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new vt(Je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<qL)throw new vt(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(Je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/GL}_compareTo(t){return this.seconds===t.seconds?Ir(this.nanoseconds,t.nanoseconds):Ir(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Rn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(bx(t,Rn._jsonSchema))return new Rn(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-qL;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Rn._jsonSchemaVersion="firestore/timestamp/1.0",Rn._jsonSchema={type:ta("string",Rn._jsonSchemaVersion),seconds:ta("number"),nanoseconds:ta("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{static fromTimestamp(t){return new fr(t)}static min(){return new fr(new Rn(0,0))}static max(){return new fr(new Rn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=-1;function uwe(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,i=fr.fromTimestamp(n===1e9?new Rn(r+1,0):new Rn(r,n));return new ih(i,qt.empty(),t)}function fwe(e){return new ih(e.readTime,e.key,Ny)}class ih{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new ih(fr.min(),qt.empty(),Ny)}static max(){return new ih(fr.max(),qt.empty(),Ny)}}function dwe(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=qt.comparator(e.documentKey,t.documentKey),r!==0?r:Ir(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hwe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pwe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lg(e){if(e.code!==Je.FAILED_PRECONDITION||e.message!==hwe)throw e;St("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&ar(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Ze((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof Ze?r:Ze.resolve(r)}catch(r){return Ze.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):Ze.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):Ze.reject(r)}static resolve(t){return new Ze((r,n)=>{r(t)})}static reject(t){return new Ze((r,n)=>{n(t)})}static waitFor(t){return new Ze((r,n)=>{let i=0,a=0,s=!1;t.forEach(o=>{++i,o.next(()=>{++a,s&&a===i&&r()},l=>n(l))}),s=!0,a===i&&r()})}static or(t){let r=Ze.resolve(!1);for(const n of t)r=r.next(i=>i?Ze.resolve(i):n());return r}static forEach(t,r){const n=[];return t.forEach((i,a)=>{n.push(r.call(this,i,a))}),this.waitFor(n)}static mapArray(t,r){return new Ze((n,i)=>{const a=t.length,s=new Array(a);let o=0;for(let l=0;l<a;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===a&&n(s)},u=>i(u))}})}static doWhile(t,r){return new Ze((n,i)=>{const a=()=>{t()===!0?r().next(()=>{a()},i):n()};a()})}}function mwe(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function jg(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}nS.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=-1;function iS(e){return e==null}function l_(e){return e===0&&1/e==-1/0}function gwe(e){return typeof e=="number"&&Number.isInteger(e)&&!l_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yq="";function vwe(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=KL(t)),t=ywe(e.get(r),t);return KL(t)}function ywe(e,t){let r=t;const n=e.length;for(let i=0;i<n;i++){const a=e.charAt(i);switch(a){case"\0":r+="";break;case yq:r+="";break;default:r+=a}}return r}function KL(e){return e+yq+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Ah(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function xq(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t,r){this.comparator=t,this.root=r||Xa.EMPTY}insert(t,r){return new di(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Xa.BLACK,null,null))}remove(t){return new di(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xa.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Z2(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Z2(this.root,t,this.comparator,!1)}getReverseIterator(){return new Z2(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Z2(this.root,t,this.comparator,!0)}}class Z2{constructor(t,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=r?n(t.key,r):1,r&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(a===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xa{constructor(t,r,n,i,a){this.key=t,this.value=r,this.color=n??Xa.RED,this.left=i??Xa.EMPTY,this.right=a??Xa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,i,a){return new Xa(t??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let i=this;const a=n(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(t,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,i=this;if(r(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(t,i.key)===0){if(i.right.isEmpty())return Xa.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ar(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ar(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ar(27949);return t+(this.isRed()?0:1)}}Xa.EMPTY=null,Xa.RED=!0,Xa.BLACK=!1;Xa.EMPTY=new class{constructor(){this.size=0}get key(){throw ar(57766)}get value(){throw ar(16141)}get color(){throw ar(16727)}get left(){throw ar(29726)}get right(){throw ar(36894)}copy(t,r,n,i,a){return this}insert(t,r,n){return new Xa(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t){this.comparator=t,this.data=new di(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,t[1])>=0)return;r(i.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new YL(this.data.getIterator())}getIteratorFrom(t){return new YL(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof ma)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new ma(this.comparator);return r.data=t,r}}class YL{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t){this.fields=t,t.sort(Pa.comparator)}static empty(){return new Yo([])}unionWith(t){let r=new ma(Pa.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Yo(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return sg(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new wq("Invalid base64 string: "+a):a}}(t);return new La(r)}static fromUint8Array(t){const r=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(t);return new La(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ir(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}La.EMPTY_BYTE_STRING=new La("");const xwe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ah(e){if(rn(!!e,39018),typeof e=="string"){let t=0;const r=xwe.exec(e);if(rn(!!r,46558,{timestamp:e}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),t=Number(i)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:ji(e.seconds),nanos:ji(e.nanos)}}function ji(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function sh(e){return typeof e=="string"?La.fromBase64String(e):La.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq="server_timestamp",_q="__type__",Sq="__previous_value__",Eq="__local_write_time__";function _P(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[_q])==null?void 0:n.stringValue)===bq}function aS(e){const t=e.mapValue.fields[Sq];return _P(t)?aS(t):t}function Cy(e){const t=ah(e.mapValue.fields[Eq].timestampValue);return new Rn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wwe{constructor(t,r,n,i,a,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const c_="(default)";class og{constructor(t,r){this.projectId=t,this.database=r||c_}static empty(){return new og("","")}get isDefaultDatabase(){return this.database===c_}isEqual(t){return t instanceof og&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq="__type__",bwe="__max__",ew={mapValue:{}},Tq="__vector__",u_="value";function oh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?_P(e)?4:Swe(e)?9007199254740991:_we(e)?10:11:ar(28295,{value:e})}function pu(e,t){if(e===t)return!0;const r=oh(e);if(r!==oh(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Cy(e).isEqual(Cy(t));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=ah(i.timestampValue),o=ah(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,a){return sh(i.bytesValue).isEqual(sh(a.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,a){return ji(i.geoPointValue.latitude)===ji(a.geoPointValue.latitude)&&ji(i.geoPointValue.longitude)===ji(a.geoPointValue.longitude)}(e,t);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return ji(i.integerValue)===ji(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=ji(i.doubleValue),o=ji(a.doubleValue);return s===o?l_(s)===l_(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return sg(e.arrayValue.values||[],t.arrayValue.values||[],pu);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(XL(s)!==XL(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!pu(s[l],o[l])))return!1;return!0}(e,t);default:return ar(52216,{left:e})}}function Py(e,t){return(e.values||[]).find(r=>pu(r,t))!==void 0}function lg(e,t){if(e===t)return 0;const r=oh(e),n=oh(t);if(r!==n)return Ir(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ir(e.booleanValue,t.booleanValue);case 2:return function(a,s){const o=ji(a.integerValue||a.doubleValue),l=ji(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return JL(e.timestampValue,t.timestampValue);case 4:return JL(Cy(e),Cy(t));case 5:return Tk(e.stringValue,t.stringValue);case 6:return function(a,s){const o=sh(a),l=sh(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(a,s){const o=a.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Ir(o[c],l[c]);if(u!==0)return u}return Ir(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(a,s){const o=Ir(ji(a.latitude),ji(s.latitude));return o!==0?o:Ir(ji(a.longitude),ji(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return QL(e.arrayValue,t.arrayValue);case 10:return function(a,s){var d,h,g,m;const o=a.fields||{},l=s.fields||{},c=(d=o[u_])==null?void 0:d.arrayValue,u=(h=l[u_])==null?void 0:h.arrayValue,f=Ir(((g=c==null?void 0:c.values)==null?void 0:g.length)||0,((m=u==null?void 0:u.values)==null?void 0:m.length)||0);return f!==0?f:QL(c,u)}(e.mapValue,t.mapValue);case 11:return function(a,s){if(a===ew.mapValue&&s===ew.mapValue)return 0;if(a===ew.mapValue)return 1;if(s===ew.mapValue)return-1;const o=a.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const d=Tk(l[f],u[f]);if(d!==0)return d;const h=lg(o[l[f]],c[u[f]]);if(h!==0)return h}return Ir(l.length,u.length)}(e.mapValue,t.mapValue);default:throw ar(23264,{he:r})}}function JL(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Ir(e,t);const r=ah(e),n=ah(t),i=Ir(r.seconds,n.seconds);return i!==0?i:Ir(r.nanos,n.nanos)}function QL(e,t){const r=e.values||[],n=t.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=lg(r[i],n[i]);if(a)return a}return Ir(r.length,n.length)}function cg(e){return kk(e)}function kk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=ah(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return sh(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return qt.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=kk(a);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${kk(r.fields[s])}`;return i+"}"}(e.mapValue):ar(61005,{value:e})}function Zw(e){switch(oh(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=aS(e);return t?16+Zw(t):16;case 5:return 2*e.stringValue.length;case 6:return sh(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((i,a)=>i+Zw(a),0)}(e.arrayValue);case 10:case 11:return function(n){let i=0;return Ah(n.fields,(a,s)=>{i+=a.length+Zw(s)}),i}(e.mapValue);default:throw ar(13486,{value:e})}}function ZL(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Nk(e){return!!e&&"integerValue"in e}function SP(e){return!!e&&"arrayValue"in e}function ej(e){return!!e&&"nullValue"in e}function tj(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function eb(e){return!!e&&"mapValue"in e}function _we(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[Aq])==null?void 0:n.stringValue)===Tq}function Nv(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Ah(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Nv(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Nv(e.arrayValue.values[r]);return t}return{...e}}function Swe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===bwe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this.value=t}static empty(){return new oo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!eb(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nv(r)}setAll(t){let r=Pa.emptyPath(),n={},i=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=Nv(s):i.push(o.lastSegment())});const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(t){const r=this.field(t.popLast());eb(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return pu(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let i=r.mapValue.fields[t.get(n)];eb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(t,r,n){Ah(r,(i,a)=>t[i]=a);for(const i of n)delete t[i]}clone(){return new oo(Nv(this.value))}}function kq(e){const t=[];return Ah(e.fields,(r,n)=>{const i=new Pa([r]);if(eb(n)){const a=kq(n.mapValue).fields;if(a.length===0)t.push(i);else for(const s of a)t.push(i.child(s))}else t.push(i)}),new Yo(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t,r,n,i,a,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(t){return new ws(t,0,fr.min(),fr.min(),fr.min(),oo.empty(),0)}static newFoundDocument(t,r,n,i){return new ws(t,1,r,fr.min(),n,i,0)}static newNoDocument(t,r){return new ws(t,2,r,fr.min(),fr.min(),oo.empty(),0)}static newUnknownDocument(t,r){return new ws(t,3,r,fr.min(),fr.min(),oo.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(fr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=oo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=oo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ws&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ws(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(t,r){this.position=t,this.inclusive=r}}function rj(e,t,r){let n=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(a.field.isKeyField()?n=qt.comparator(qt.fromName(s.referenceValue),r.key):n=lg(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function nj(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!pu(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(t,r="asc"){this.field=t,this.dir=r}}function Ewe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{}class ea extends Nq{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Twe(t,r,n):r==="array-contains"?new Cwe(t,n):r==="in"?new Pwe(t,n):r==="not-in"?new Iwe(t,n):r==="array-contains-any"?new Owe(t,n):new ea(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new kwe(t,n):new Nwe(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(lg(r,this.value)):r!==null&&oh(this.value)===oh(r)&&this.matchesComparison(lg(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ar(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nc extends Nq{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new Nc(t,r)}matches(t){return Cq(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cq(e){return e.op==="and"}function Pq(e){return Awe(e)&&Cq(e)}function Awe(e){for(const t of e.filters)if(t instanceof Nc)return!1;return!0}function Ck(e){if(e instanceof ea)return e.field.canonicalString()+e.op.toString()+cg(e.value);if(Pq(e))return e.filters.map(t=>Ck(t)).join(",");{const t=e.filters.map(r=>Ck(r)).join(",");return`${e.op}(${t})`}}function Iq(e,t){return e instanceof ea?function(n,i){return i instanceof ea&&n.op===i.op&&n.field.isEqual(i.field)&&pu(n.value,i.value)}(e,t):e instanceof Nc?function(n,i){return i instanceof Nc&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((a,s,o)=>a&&Iq(s,i.filters[o]),!0):!1}(e,t):void ar(19439)}function Oq(e){return e instanceof ea?function(r){return`${r.field.canonicalString()} ${r.op} ${cg(r.value)}`}(e):e instanceof Nc?function(r){return r.op.toString()+" {"+r.getFilters().map(Oq).join(" ,")+"}"}(e):"Filter"}class Twe extends ea{constructor(t,r,n){super(t,r,n),this.key=qt.fromName(n.referenceValue)}matches(t){const r=qt.comparator(t.key,this.key);return this.matchesComparison(r)}}class kwe extends ea{constructor(t,r){super(t,"in",r),this.keys=Dq("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Nwe extends ea{constructor(t,r){super(t,"not-in",r),this.keys=Dq("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function Dq(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>qt.fromName(n.referenceValue))}class Cwe extends ea{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return SP(r)&&Py(r.arrayValue,this.value)}}class Pwe extends ea{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&Py(this.value.arrayValue,r)}}class Iwe extends ea{constructor(t,r){super(t,"not-in",r)}matches(t){if(Py(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Py(this.value.arrayValue,r)}}class Owe extends ea{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!SP(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Py(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dwe{constructor(t,r=null,n=[],i=[],a=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function ij(e,t=null,r=[],n=[],i=null,a=null,s=null){return new Dwe(e,t,r,n,i,a,s)}function EP(e){const t=pr(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>Ck(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(a){return a.field.canonicalString()+a.dir}(n)).join(","),iS(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>cg(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>cg(n)).join(",")),t.Te=r}return t.Te}function AP(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Ewe(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!Iq(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!nj(e.startAt,t.startAt)&&nj(e.endAt,t.endAt)}function Pk(e){return qt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(t,r=null,n=[],i=[],a=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Rwe(e,t,r,n,i,a,s,o){return new Fg(e,t,r,n,i,a,s,o)}function TP(e){return new Fg(e)}function aj(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function Rq(e){return e.collectionGroup!==null}function Cv(e){const t=pr(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const a of t.explicitOrderBy)t.Ie.push(a),r.add(a.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new ma(Pa.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(a=>{r.has(a.canonicalString())||a.isKeyField()||t.Ie.push(new Iy(a,n))}),r.has(Pa.keyField().canonicalString())||t.Ie.push(new Iy(Pa.keyField(),n))}return t.Ie}function ou(e){const t=pr(e);return t.Ee||(t.Ee=Lwe(t,Cv(e))),t.Ee}function Lwe(e,t){if(e.limitType==="F")return ij(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new Iy(i.field,a)});const r=e.endAt?new f_(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new f_(e.startAt.position,e.startAt.inclusive):null;return ij(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function Ik(e,t){const r=e.filters.concat([t]);return new Fg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Ok(e,t,r){return new Fg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function sS(e,t){return AP(ou(e),ou(t))&&e.limitType===t.limitType}function Lq(e){return`${EP(ou(e))}|lt:${e.limitType}`}function Kp(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>Oq(i)).join(", ")}]`),iS(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>cg(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>cg(i)).join(",")),`Target(${n})`}(ou(e))}; limitType=${e.limitType})`}function oS(e,t){return t.isFoundDocument()&&function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):qt.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)}(e,t)&&function(n,i){for(const a of Cv(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(e,t)&&function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0}(e,t)&&function(n,i){return!(n.startAt&&!function(s,o,l){const c=rj(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Cv(n),i)||n.endAt&&!function(s,o,l){const c=rj(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Cv(n),i))}(e,t)}function jwe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function jq(e){return(t,r)=>{let n=!1;for(const i of Cv(e)){const a=Fwe(i,t,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function Fwe(e,t,r){const n=e.field.isKeyField()?qt.comparator(t.key,r.key):function(a,s,o){const l=s.data.field(a),c=o.data.field(a);return l!==null&&c!==null?lg(l,c):ar(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return ar(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,t))return a}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,r]);i.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],t))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ah(this.inner,(r,n)=>{for(const[i,a]of n)t(i,a)})}isEmpty(){return xq(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mwe=new di(qt.comparator);function bf(){return Mwe}const Fq=new di(qt.comparator);function nv(...e){let t=Fq;for(const r of e)t=t.insert(r.key,r);return t}function Mq(e){let t=Fq;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function f0(){return Pv()}function Bq(){return Pv()}function Pv(){return new _p(e=>e.toString(),(e,t)=>e.isEqual(t))}const Bwe=new di(qt.comparator),Uwe=new ma(qt.comparator);function Or(...e){let t=Uwe;for(const r of e)t=t.add(r);return t}const Vwe=new ma(Ir);function $we(){return Vwe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:l_(t)?"-0":t}}function Uq(e){return{integerValue:""+e}}function zwe(e,t){return gwe(t)?Uq(t):kP(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this._=void 0}}function Wwe(e,t,r){return e instanceof Oy?function(i,a){const s={fields:{[_q]:{stringValue:bq},[Eq]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&_P(a)&&(a=aS(a)),a&&(s.fields[Sq]=a),{mapValue:s}}(r,t):e instanceof Dy?$q(e,t):e instanceof Ry?zq(e,t):function(i,a){const s=Vq(i,a),o=sj(s)+sj(i.Ae);return Nk(s)&&Nk(i.Ae)?Uq(o):kP(i.serializer,o)}(e,t)}function Hwe(e,t,r){return e instanceof Dy?$q(e,t):e instanceof Ry?zq(e,t):r}function Vq(e,t){return e instanceof d_?function(n){return Nk(n)||function(a){return!!a&&"doubleValue"in a}(n)}(t)?t:{integerValue:0}:null}class Oy extends lS{}class Dy extends lS{constructor(t){super(),this.elements=t}}function $q(e,t){const r=Wq(t);for(const n of e.elements)r.some(i=>pu(i,n))||r.push(n);return{arrayValue:{values:r}}}class Ry extends lS{constructor(t){super(),this.elements=t}}function zq(e,t){let r=Wq(t);for(const n of e.elements)r=r.filter(i=>!pu(i,n));return{arrayValue:{values:r}}}class d_ extends lS{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function sj(e){return ji(e.integerValue||e.doubleValue)}function Wq(e){return SP(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qwe{constructor(t,r){this.field=t,this.transform=r}}function Gwe(e,t){return e.field.isEqual(t.field)&&function(n,i){return n instanceof Dy&&i instanceof Dy||n instanceof Ry&&i instanceof Ry?sg(n.elements,i.elements,pu):n instanceof d_&&i instanceof d_?pu(n.Ae,i.Ae):n instanceof Oy&&i instanceof Oy}(e.transform,t.transform)}class Kwe{constructor(t,r){this.version=t,this.transformResults=r}}class Gs{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Gs}static exists(t){return new Gs(void 0,t)}static updateTime(t){return new Gs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function tb(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class cS{}function Hq(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new uS(e.key,Gs.none()):new _x(e.key,e.data,Gs.none());{const r=e.data,n=oo.empty();let i=new ma(Pa.comparator);for(let a of t.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new Th(e.key,n,new Yo(i.toArray()),Gs.none())}}function Xwe(e,t,r){e instanceof _x?function(i,a,s){const o=i.value.clone(),l=lj(i.fieldTransforms,a,s.transformResults);o.setAll(l),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Th?function(i,a,s){if(!tb(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=lj(i.fieldTransforms,a,s.transformResults),l=a.data;l.setAll(qq(i)),l.setAll(o),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Iv(e,t,r,n){return e instanceof _x?function(a,s,o,l){if(!tb(a.precondition,s))return o;const c=a.value.clone(),u=cj(a.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof Th?function(a,s,o,l){if(!tb(a.precondition,s))return o;const c=cj(a.fieldTransforms,l,s),u=s.data;return u.setAll(qq(a)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(a,s,o){return tb(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function Ywe(e,t){let r=null;for(const n of e.fieldTransforms){const i=t.data.field(n.field),a=Vq(n.transform,i||null);a!=null&&(r===null&&(r=oo.empty()),r.set(n.field,a))}return r||null}function oj(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&sg(n,i,(a,s)=>Gwe(a,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class _x extends cS{constructor(t,r,n,i=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Th extends cS{constructor(t,r,n,i,a=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function qq(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function lj(e,t,r){const n=new Map;rn(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let i=0;i<r.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);n.set(a.field,Hwe(s,o,r[i]))}return n}function cj(e,t,r){const n=new Map;for(const i of e){const a=i.transform,s=r.data.field(i.field);n.set(i.field,Wwe(a,s,t))}return n}class uS extends cS{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jwe extends cS{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qwe{constructor(t,r,n,i){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&Xwe(a,t,n[i])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Iv(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Iv(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=Bq();return this.mutations.forEach(i=>{const a=t.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const l=Hq(s,o);l!==null&&n.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(fr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Or())}isEqual(t){return this.batchId===t.batchId&&sg(this.mutations,t.mutations,(r,n)=>oj(r,n))&&sg(this.baseMutations,t.baseMutations,(r,n)=>oj(r,n))}}class NP{constructor(t,r,n,i){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(t,r,n){rn(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let i=function(){return Bwe}();const a=t.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new NP(t,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zwe{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ebe{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gi,Br;function tbe(e){switch(e){case Je.OK:return ar(64938);case Je.CANCELLED:case Je.UNKNOWN:case Je.DEADLINE_EXCEEDED:case Je.RESOURCE_EXHAUSTED:case Je.INTERNAL:case Je.UNAVAILABLE:case Je.UNAUTHENTICATED:return!1;case Je.INVALID_ARGUMENT:case Je.NOT_FOUND:case Je.ALREADY_EXISTS:case Je.PERMISSION_DENIED:case Je.FAILED_PRECONDITION:case Je.ABORTED:case Je.OUT_OF_RANGE:case Je.UNIMPLEMENTED:case Je.DATA_LOSS:return!0;default:return ar(15467,{code:e})}}function Gq(e){if(e===void 0)return wf("GRPC error has no .code"),Je.UNKNOWN;switch(e){case Gi.OK:return Je.OK;case Gi.CANCELLED:return Je.CANCELLED;case Gi.UNKNOWN:return Je.UNKNOWN;case Gi.DEADLINE_EXCEEDED:return Je.DEADLINE_EXCEEDED;case Gi.RESOURCE_EXHAUSTED:return Je.RESOURCE_EXHAUSTED;case Gi.INTERNAL:return Je.INTERNAL;case Gi.UNAVAILABLE:return Je.UNAVAILABLE;case Gi.UNAUTHENTICATED:return Je.UNAUTHENTICATED;case Gi.INVALID_ARGUMENT:return Je.INVALID_ARGUMENT;case Gi.NOT_FOUND:return Je.NOT_FOUND;case Gi.ALREADY_EXISTS:return Je.ALREADY_EXISTS;case Gi.PERMISSION_DENIED:return Je.PERMISSION_DENIED;case Gi.FAILED_PRECONDITION:return Je.FAILED_PRECONDITION;case Gi.ABORTED:return Je.ABORTED;case Gi.OUT_OF_RANGE:return Je.OUT_OF_RANGE;case Gi.UNIMPLEMENTED:return Je.UNIMPLEMENTED;case Gi.DATA_LOSS:return Je.DATA_LOSS;default:return ar(39323,{code:e})}}(Br=Gi||(Gi={}))[Br.OK=0]="OK",Br[Br.CANCELLED=1]="CANCELLED",Br[Br.UNKNOWN=2]="UNKNOWN",Br[Br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Br[Br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Br[Br.NOT_FOUND=5]="NOT_FOUND",Br[Br.ALREADY_EXISTS=6]="ALREADY_EXISTS",Br[Br.PERMISSION_DENIED=7]="PERMISSION_DENIED",Br[Br.UNAUTHENTICATED=16]="UNAUTHENTICATED",Br[Br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Br[Br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Br[Br.ABORTED=10]="ABORTED",Br[Br.OUT_OF_RANGE=11]="OUT_OF_RANGE",Br[Br.UNIMPLEMENTED=12]="UNIMPLEMENTED",Br[Br.INTERNAL=13]="INTERNAL",Br[Br.UNAVAILABLE=14]="UNAVAILABLE",Br[Br.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rbe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nbe=new zd([4294967295,4294967295],0);function uj(e){const t=rbe().encode(e),r=new sq;return r.update(t),new Uint8Array(r.digest())}function fj(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new zd([r,n],0),new zd([i,a],0)]}class CP{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new iv(`Invalid padding: ${r}`);if(n<0)throw new iv(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new iv(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new iv(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=zd.fromNumber(this.ge)}ye(t,r,n){let i=t.add(r.multiply(zd.fromNumber(n)));return i.compare(nbe)===1&&(i=new zd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=uj(t),[n,i]=fj(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(t,r,n){const i=t%8==0?0:8-t%8,a=new Uint8Array(Math.ceil(t/8)),s=new CP(a,i,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const r=uj(t),[n,i]=fj(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class iv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(t,r,n,i,a){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const i=new Map;return i.set(t,Sx.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new fS(fr.min(),i,new di(Ir),bf(),Or())}}class Sx{constructor(t,r,n,i,a){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Sx(n,r,Or(),Or(),Or())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t,r,n,i){this.be=t,this.removedTargetIds=r,this.key=n,this.De=i}}class Kq{constructor(t,r){this.targetId=t,this.Ce=r}}class Xq{constructor(t,r,n=La.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=i}}class dj{constructor(){this.ve=0,this.Fe=hj(),this.Me=La.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Or(),r=Or(),n=Or();return this.Fe.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:ar(38017,{changeType:a})}}),new Sx(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=hj()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,rn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ibe{constructor(t){this.Ge=t,this.ze=new Map,this.je=bf(),this.Je=tw(),this.He=tw(),this.Ye=new di(Ir)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:ar(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,i)=>{this.rt(i)&&r(i)})}st(t){const r=t.targetId,n=t.Ce.count,i=this.ot(r);if(i){const a=i.target;if(Pk(a))if(n===0){const s=new qt(a.path);this.et(r,s,ws.newNoDocument(s,fr.min()))}else rn(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),l=o?this.ct(o,t,s):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=sh(n).toUint8Array()}catch(l){if(l instanceof wq)return X0("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new CP(s,i,a)}catch(l){return X0(l instanceof iv?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach(a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;t.mightContain(o)||(this.et(r,a,null),i++)}),i}Tt(t){const r=new Map;this.ze.forEach((a,s)=>{const o=this.ot(s);if(o){if(a.current&&Pk(o.target)){const l=new qt(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,ws.newNoDocument(l,t))}a.Be&&(r.set(s,a.ke()),a.qe())}});let n=Or();this.He.forEach((a,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(a))}),this.je.forEach((a,s)=>s.setReadTime(t));const i=new fS(t,r,this.Ye,this.je,n);return this.je=bf(),this.Je=tw(),this.He=tw(),this.Ye=new di(Ir),i}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new dj,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new ma(Ir),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new ma(Ir),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||St("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new dj),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function tw(){return new di(qt.comparator)}function hj(){return new di(qt.comparator)}const abe={asc:"ASCENDING",desc:"DESCENDING"},sbe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},obe={and:"AND",or:"OR"};class lbe{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function Dk(e,t){return e.useProto3Json||iS(t)?t:{value:t}}function h_(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yq(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function cbe(e,t){return h_(e,t.toTimestamp())}function lu(e){return rn(!!e,49232),fr.fromTimestamp(function(r){const n=ah(r);return new Rn(n.seconds,n.nanos)}(e))}function PP(e,t){return Rk(e,t).canonicalString()}function Rk(e,t){const r=function(i){return new Dn(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?r:r.child(t)}function Jq(e){const t=Dn.fromString(e);return rn(rG(t),10190,{key:t.toString()}),t}function Lk(e,t){return PP(e.databaseId,t.path)}function UA(e,t){const r=Jq(t);if(r.get(1)!==e.databaseId.projectId)throw new vt(Je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new vt(Je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new qt(Zq(r))}function Qq(e,t){return PP(e.databaseId,t)}function ube(e){const t=Jq(e);return t.length===4?Dn.emptyPath():Zq(t)}function jk(e){return new Dn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Zq(e){return rn(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function pj(e,t,r){return{name:Lk(e,t),fields:r.value.mapValue.fields}}function fbe(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ar(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(c,u){return c.useProto3Json?(rn(u===void 0||typeof u=="string",58123),La.fromBase64String(u||"")):(rn(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),La.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?Je.UNKNOWN:Gq(c.code);return new vt(u,c.message||"")}(s);r=new Xq(n,i,a,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const i=UA(e,n.document.name),a=lu(n.document.updateTime),s=n.document.createTime?lu(n.document.createTime):fr.min(),o=new oo({mapValue:{fields:n.document.fields}}),l=ws.newFoundDocument(i,a,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new rb(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const i=UA(e,n.document),a=n.readTime?lu(n.readTime):fr.min(),s=ws.newNoDocument(i,a),o=n.removedTargetIds||[];r=new rb([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const i=UA(e,n.document),a=n.removedTargetIds||[];r=new rb([],a,i,null)}else{if(!("filter"in t))return ar(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new ebe(i,a),o=n.targetId;r=new Kq(o,s)}}return r}function dbe(e,t){let r;if(t instanceof _x)r={update:pj(e,t.key,t.value)};else if(t instanceof uS)r={delete:Lk(e,t.key)};else if(t instanceof Th)r={update:pj(e,t.key,t.data),updateMask:bbe(t.fieldMask)};else{if(!(t instanceof Jwe))return ar(16599,{Vt:t.type});r={verify:Lk(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(a,s){const o=s.transform;if(o instanceof Oy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Dy)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ry)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof d_)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw ar(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:cbe(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ar(27497)}(e,t.precondition)),r}function hbe(e,t){return e&&e.length>0?(rn(t!==void 0,14353),e.map(r=>function(i,a){let s=i.updateTime?lu(i.updateTime):lu(a);return s.isEqual(fr.min())&&(s=lu(a)),new Kwe(s,i.transformResults||[])}(r,t))):[]}function pbe(e,t){return{documents:[Qq(e,t.path)]}}function mbe(e,t){const r={structuredQuery:{}},n=t.path;let i;t.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Qq(e,i);const a=function(c){if(c.length!==0)return tG(Nc.create(c,"and"))}(t.filters);a&&(r.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:Xp(d.field),direction:ybe(d.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=Dk(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:r,parent:i}}function gbe(e){let t=ube(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){rn(n===1,65062);const u=r.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}let a=[];r.where&&(a=function(f){const d=eG(f);return d instanceof Nc&&Pq(d)?d.getFilters():[d]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(d=>function(g){return new Iy(Yp(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(r.orderBy));let o=null;r.limit&&(o=function(f){let d;return d=typeof f=="object"?f.value:f,iS(d)?null:d}(r.limit));let l=null;r.startAt&&(l=function(f){const d=!!f.before,h=f.values||[];return new f_(h,d)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const d=!f.before,h=f.values||[];return new f_(h,d)}(r.endAt)),Rwe(t,i,s,a,o,"F",l,c)}function vbe(e,t){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ar(28987,{purpose:i})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function eG(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Yp(r.unaryFilter.field);return ea.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Yp(r.unaryFilter.field);return ea.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Yp(r.unaryFilter.field);return ea.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Yp(r.unaryFilter.field);return ea.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ar(61313);default:return ar(60726)}}(e):e.fieldFilter!==void 0?function(r){return ea.create(Yp(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ar(58110);default:return ar(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return Nc.create(r.compositeFilter.filters.map(n=>eG(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ar(1026)}}(r.compositeFilter.op))}(e):ar(30097,{filter:e})}function ybe(e){return abe[e]}function xbe(e){return sbe[e]}function wbe(e){return obe[e]}function Xp(e){return{fieldPath:e.canonicalString()}}function Yp(e){return Pa.fromServerFormat(e.fieldPath)}function tG(e){return e instanceof ea?function(r){if(r.op==="=="){if(tj(r.value))return{unaryFilter:{field:Xp(r.field),op:"IS_NAN"}};if(ej(r.value))return{unaryFilter:{field:Xp(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(tj(r.value))return{unaryFilter:{field:Xp(r.field),op:"IS_NOT_NAN"}};if(ej(r.value))return{unaryFilter:{field:Xp(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xp(r.field),op:xbe(r.op),value:r.value}}}(e):e instanceof Nc?function(r){const n=r.getFilters().map(i=>tG(i));return n.length===1?n[0]:{compositeFilter:{op:wbe(r.op),filters:n}}}(e):ar(54877,{filter:e})}function bbe(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function rG(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t,r,n,i,a=fr.min(),s=fr.min(),o=La.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Id(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Id(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Id(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Id(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _be{constructor(t){this.yt=t}}function Sbe(e){const t=gbe({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Ok(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ebe{constructor(){this.Cn=new Abe}addToCollectionParentIndex(t,r){return this.Cn.add(r),Ze.resolve()}getCollectionParents(t,r){return Ze.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return Ze.resolve()}deleteFieldIndex(t,r){return Ze.resolve()}deleteAllFieldIndexes(t){return Ze.resolve()}createTargetIndexes(t,r){return Ze.resolve()}getDocumentsMatchingTarget(t,r){return Ze.resolve(null)}getIndexType(t,r){return Ze.resolve(0)}getFieldIndexes(t,r){return Ze.resolve([])}getNextCollectionGroupToUpdate(t){return Ze.resolve(null)}getMinOffset(t,r){return Ze.resolve(ih.min())}getMinOffsetFromCollectionGroup(t,r){return Ze.resolve(ih.min())}updateCollectionGroup(t,r,n){return Ze.resolve()}updateIndexEntries(t,r){return Ze.resolve()}}class Abe{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r]||new ma(Dn.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(t){const r=t.lastSegment(),n=t.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(t){return(this.index[t]||new ma(Dn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nG=41943040;class io{static withCacheSize(t){return new io(t,io.DEFAULT_COLLECTION_PERCENTILE,io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */io.DEFAULT_COLLECTION_PERCENTILE=10,io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,io.DEFAULT=new io(nG,io.DEFAULT_COLLECTION_PERCENTILE,io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),io.DISABLED=new io(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ug(0)}static cr(){return new ug(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj="LruGarbageCollector",Tbe=1048576;function vj([e,t],[r,n]){const i=Ir(e,r);return i===0?Ir(t,n):i}class kbe{constructor(t){this.Ir=t,this.buffer=new ma(vj),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();vj(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Nbe{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){St(gj,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){jg(r)?St(gj,"Ignoring IndexedDB error during garbage collection: ",r):await Lg(r)}await this.Vr(3e5)})}}class Cbe{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return Ze.resolve(nS.ce);const n=new kbe(r);return this.mr.forEachTarget(t,i=>n.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>n.Ar(i))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),Ze.resolve(mj)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mj):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,i,a,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(t,i))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(a=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),Gp()<=Pr.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Ze.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:f})))}}function Pbe(e,t){return new Cbe(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ibe{constructor(){this.changes=new _p(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,ws.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ze.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Obe{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dbe{constructor(t,r,n,i){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(t,r))).next(i=>(n!==null&&Iv(n.mutation,i,Yo.empty(),Rn.now()),i))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Or()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Or()){const i=f0();return this.populateOverlays(t,i,r).next(()=>this.computeViews(t,r,i,n).next(a=>{let s=nv();return a.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=f0();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Or()))}populateOverlays(t,r,n){const i=[];return n.forEach(a=>{r.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(t,i).next(a=>{a.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,i){let a=bf();const s=Pv(),o=function(){return Pv()}();return r.forEach((l,c)=>{const u=n.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Th)?a=a.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Iv(u.mutation,c,u.mutation.getFieldMask(),Rn.now())):s.set(c.key,Yo.empty())}),this.recalculateAndSaveOverlays(t,a).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>o.set(c,new Obe(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(t,r){const n=Pv();let i=new di((s,o)=>s-o),a=Or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Yo.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(i.get(o.batchId)||Or()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=Bq();u.forEach(d=>{if(!a.has(d)){const h=Hq(r.get(d),n.get(d));h!==null&&f.set(d,h),a=a.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return Ze.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,i){return function(s){return qt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):Rq(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,i):this.getDocumentsMatchingCollectionQuery(t,r,n,i)}getNextDocuments(t,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,i-a.size):Ze.resolve(f0());let o=Ny,l=a;return s.next(c=>Ze.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),a.get(u)?Ze.resolve():this.remoteDocumentCache.getEntry(t,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(t,c,a)).next(()=>this.computeViews(t,l,c,Or())).next(u=>({batchId:o,changes:Mq(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new qt(r)).next(n=>{let i=nv();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(t,r,n,i){const a=r.collectionGroup;let s=nv();return this.indexManager.getCollectionParents(t,a).next(o=>Ze.forEach(o,l=>{const c=function(f,d){return new Fg(d,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(a));return this.getDocumentsMatchingCollectionQuery(t,c,n,i).next(u=>{u.forEach((f,d)=>{s=s.insert(f,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,a,i))).next(s=>{a.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,ws.newInvalidDocument(u)))});let o=nv();return s.forEach((l,c)=>{const u=a.get(l);u!==void 0&&Iv(u.mutation,c,Yo.empty(),Rn.now()),oS(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rbe{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return Ze.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:lu(i.createTime)}}(r)),Ze.resolve()}getNamedQuery(t,r){return Ze.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(i){return{name:i.name,query:Sbe(i.bundledQuery),readTime:lu(i.readTime)}}(r)),Ze.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lbe{constructor(){this.overlays=new di(qt.comparator),this.qr=new Map}getOverlay(t,r){return Ze.resolve(this.overlays.get(r))}getOverlays(t,r){const n=f0();return Ze.forEach(r,i=>this.getOverlay(t,i).next(a=>{a!==null&&n.set(i,a)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((i,a)=>{this.St(t,r,a)}),Ze.resolve()}removeOverlaysForBatchId(t,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.qr.delete(n)),Ze.resolve()}getOverlaysForCollection(t,r,n){const i=f0(),a=r.length+1,s=new qt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===a&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Ze.resolve(i)}getOverlaysForCollectionGroup(t,r,n,i){let a=new di((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=a.get(c.largestBatchId);u===null&&(u=f0(),a=a.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=f0(),l=a.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return Ze.resolve(o)}St(t,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Zwe(r,n));let a=this.qr.get(r);a===void 0&&(a=Or(),this.qr.set(r,a)),this.qr.set(r,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jbe{constructor(){this.sessionToken=La.EMPTY_BYTE_STRING}getSessionToken(t){return Ze.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Ze.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(){this.Qr=new ma(Aa.$r),this.Ur=new ma(Aa.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Aa(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Aa(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new qt(new Dn([])),n=new Aa(r,t),i=new Aa(r,t+1),a=[];return this.Ur.forEachInRange([n,i],s=>{this.Gr(s),a.push(s.key)}),a}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new qt(new Dn([])),n=new Aa(r,t),i=new Aa(r,t+1);let a=Or();return this.Ur.forEachInRange([n,i],s=>{a=a.add(s.key)}),a}containsKey(t){const r=new Aa(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Aa{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return qt.comparator(t.key,r.key)||Ir(t.Yr,r.Yr)}static Kr(t,r){return Ir(t.Yr,r.Yr)||qt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fbe{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new ma(Aa.$r)}checkEmpty(t){return Ze.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,i){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Qwe(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Zr=this.Zr.add(new Aa(o.key,a)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Ze.resolve(s)}lookupMutationBatch(t,r){return Ze.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,i=this.ei(n),a=i<0?0:i;return Ze.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ze.resolve(this.mutationQueue.length===0?bP:this.tr-1)}getAllMutationBatches(t){return Ze.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Aa(r,0),i=new Aa(r,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([n,i],s=>{const o=this.Xr(s.Yr);a.push(o)}),Ze.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new ma(Ir);return r.forEach(i=>{const a=new Aa(i,0),s=new Aa(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,s],o=>{n=n.add(o.Yr)})}),Ze.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,i=n.length+1;let a=n;qt.isDocumentKey(a)||(a=a.child(""));const s=new Aa(new qt(a),0);let o=new ma(Ir);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},s),Ze.resolve(this.ti(o))}ti(t){const r=[];return t.forEach(n=>{const i=this.Xr(n);i!==null&&r.push(i)}),r}removeMutationBatch(t,r){rn(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Ze.forEach(r.mutations,i=>{const a=new Aa(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Aa(r,0),i=this.Zr.firstAfterOrEqual(n);return Ze.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ze.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mbe{constructor(t){this.ri=t,this.docs=function(){return new di(qt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return Ze.resolve(n?n.document.mutableCopy():ws.newInvalidDocument(r))}getEntries(t,r){let n=bf();return r.forEach(i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():ws.newInvalidDocument(i))}),Ze.resolve(n)}getDocumentsMatchingQuery(t,r,n,i){let a=bf();const s=r.path,o=new qt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||dwe(fwe(u),n)<=0||(i.has(u.key)||oS(r,u))&&(a=a.insert(u.key,u.mutableCopy()))}return Ze.resolve(a)}getAllFromCollectionGroup(t,r,n,i){ar(9500)}ii(t,r){return Ze.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new Bbe(this)}getSize(t){return Ze.resolve(this.size)}}class Bbe extends Ibe{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(n)}),Ze.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ube{constructor(t){this.persistence=t,this.si=new _p(r=>EP(r),AP),this.lastRemoteSnapshotVersion=fr.min(),this.highestTargetId=0,this.oi=0,this._i=new IP,this.targetCount=0,this.ai=ug.ur()}forEachTarget(t,r){return this.si.forEach((n,i)=>r(i)),Ze.resolve()}getLastRemoteSnapshotVersion(t){return Ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ze.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Ze.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Ze.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new ug(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,Ze.resolve()}updateTargetData(t,r){return this.Pr(r),Ze.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Ze.resolve()}removeTargets(t,r,n){let i=0;const a=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),a.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),Ze.waitFor(a).next(()=>i)}getTargetCount(t){return Ze.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return Ze.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),Ze.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach(s=>{a.push(i.markPotentiallyOrphaned(t,s))}),Ze.waitFor(a)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),Ze.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return Ze.resolve(n)}containsKey(t,r){return Ze.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(t,r){this.ui={},this.overlays={},this.ci=new nS(0),this.li=!1,this.li=!0,this.hi=new jbe,this.referenceDelegate=t(this),this.Pi=new Ube(this),this.indexManager=new Ebe,this.remoteDocumentCache=function(i){return new Mbe(i)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new _be(r),this.Ii=new Rbe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Lbe,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new Fbe(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){St("MemoryPersistence","Starting transaction:",t);const i=new Vbe(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(a=>this.referenceDelegate.di(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ai(t,r){return Ze.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class Vbe extends pwe{constructor(t){super(),this.currentSequenceNumber=t}}class OP{constructor(t){this.persistence=t,this.Ri=new IP,this.Vi=null}static mi(t){return new OP(t)}get fi(){if(this.Vi)return this.Vi;throw ar(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Ze.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Ze.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),Ze.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(i=>this.fi.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(i=>{i.forEach(a=>this.fi.add(a.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ze.forEach(this.fi,n=>{const i=qt.fromPath(n);return this.gi(t,i).next(a=>{a||r.removeEntry(i,fr.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return Ze.or([()=>Ze.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class p_{constructor(t,r){this.persistence=t,this.pi=new _p(n=>vwe(n.path),(n,i)=>n.isEqual(i)),this.garbageCollector=Pbe(this,r)}static mi(t,r){return new p_(t,r)}Ei(){}di(t){return Ze.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(i=>n+i))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return Ze.forEach(this.pi,(n,i)=>this.br(t,n,i).next(a=>a?Ze.resolve():r(i)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ii(t,s=>this.br(t,s,r).next(o=>{o||(n++,a.removeEntry(s,fr.min()))})).next(()=>a.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),Ze.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),Ze.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),Ze.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),Ze.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Zw(t.data.value)),r}br(t,r,n){return Ze.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const i=this.pi.get(r);return Ze.resolve(i!==void 0&&i>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(t,r,n,i){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=i}static As(t,r){let n=Or(),i=Or();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new DP(t,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $be{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zbe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return gve()?8:mwe(Ns())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,i){const a={result:null};return this.ys(t,r).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.ws(t,r,i,n).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new $be;return this.Ss(t,r,s).next(o=>{if(a.result=o,this.Vs)return this.bs(t,r,s,o.size)})}).next(()=>a.result)}bs(t,r,n,i){return n.documentReadCount<this.fs?(Gp()<=Pr.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",Kp(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ze.resolve()):(Gp()<=Pr.DEBUG&&St("QueryEngine","Query:",Kp(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Gp()<=Pr.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",Kp(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ou(r))):Ze.resolve())}ys(t,r){if(aj(r))return Ze.resolve(null);let n=ou(r);return this.indexManager.getIndexType(t,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=Ok(r,null,"F"),n=ou(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(a=>{const s=Or(...a);return this.ps.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.Ds(r,o);return this.Cs(r,c,s,l.readTime)?this.ys(t,Ok(r,null,"F")):this.vs(t,c,r,l)}))})))}ws(t,r,n,i){return aj(r)||i.isEqual(fr.min())?Ze.resolve(null):this.ps.getDocuments(t,n).next(a=>{const s=this.Ds(r,a);return this.Cs(r,s,n,i)?Ze.resolve(null):(Gp()<=Pr.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Kp(r)),this.vs(t,s,r,uwe(i,Ny)).next(o=>o))})}Ds(t,r){let n=new ma(jq(t));return r.forEach((i,a)=>{oS(t,a)&&(n=n.add(a))}),n}Cs(t,r,n,i){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const a=t.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Ss(t,r,n){return Gp()<=Pr.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",Kp(r)),this.ps.getDocumentsMatchingQuery(t,r,ih.min(),n)}vs(t,r,n,i){return this.ps.getDocumentsMatchingQuery(t,n,i).next(a=>(r.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="LocalStore",Wbe=3e8;class Hbe{constructor(t,r,n,i){this.persistence=t,this.Fs=r,this.serializer=i,this.Ms=new di(Ir),this.xs=new _p(a=>EP(a),AP),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Dbe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function qbe(e,t,r,n){return new Hbe(e,t,r,n)}async function aG(e,t){const r=pr(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(a=>(i=a,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(a=>{const s=[],o=[];let l=Or();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of a){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:o}))})})}function Gbe(e,t){const r=pr(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=t.batch.keys(),a=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,d=f.keys();let h=Ze.resolve();return d.forEach(g=>{h=h.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);rn(v!==null,48541),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,a).next(()=>a.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Or();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,i))})}function sG(e){const t=pr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function Kbe(e,t){const r=pr(e),n=t.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];t.targetChanges.forEach((u,f)=>{const d=i.get(f);if(!d)return;o.push(r.Pi.removeMatchingKeys(a,u.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(a,u.addedDocuments,f)));let h=d.withSequenceNumber(a.currentSequenceNumber);t.targetMismatches.get(f)!==null?h=h.withResumeToken(La.EMPTY_BYTE_STRING,fr.min()).withLastLimboFreeSnapshotVersion(fr.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,n)),i=i.insert(f,h),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=Wbe?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(d,h,u)&&o.push(r.Pi.updateTargetData(a,h))});let l=bf(),c=Or();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,u))}),o.push(Xbe(a,s,t.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!n.isEqual(fr.min())){const u=r.Pi.getLastRemoteSnapshotVersion(a).next(f=>r.Pi.setTargetsMetadata(a,a.currentSequenceNumber,n));o.push(u)}return Ze.waitFor(o).next(()=>s.apply(a)).next(()=>r.localDocuments.getLocalViewOfDocuments(a,l,c)).next(()=>l)}).then(a=>(r.Ms=i,a))}function Xbe(e,t,r){let n=Or(),i=Or();return r.forEach(a=>n=n.add(a)),t.getEntries(e,n).next(a=>{let s=bf();return r.forEach((o,l)=>{const c=a.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(fr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):St(RP,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:i}})}function Ybe(e,t){const r=pr(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=bP),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function Jbe(e,t){const r=pr(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Pi.getTargetData(n,t).next(a=>a?(i=a,Ze.resolve(i)):r.Pi.allocateTargetId(n).next(s=>(i=new Id(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function Fk(e,t,r){const n=pr(e),i=n.Ms.get(t),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,s=>n.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!jg(s))throw s;St(RP,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ms=n.Ms.remove(t),n.xs.delete(i.target)}function yj(e,t,r){const n=pr(e);let i=fr.min(),a=Or();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=pr(l),d=f.xs.get(u);return d!==void 0?Ze.resolve(f.Ms.get(d)):f.Pi.getTargetData(c,u)}(n,s,ou(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{a=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,t,r?i:fr.min(),r?a:Or())).next(o=>(Qbe(n,jwe(t),o),{documents:o,Qs:a})))}function Qbe(e,t,r){let n=e.Os.get(t)||fr.min();r.forEach((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)}),e.Os.set(t,n)}class xj{constructor(){this.activeTargetIds=$we()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Zbe{constructor(){this.Mo=new xj,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new xj,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_e{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="ConnectivityMonitor";class bj{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){St(wj,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){St(wj,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rw=null;function Mk(){return rw===null?rw=function(){return 268435456+Math.round(2147483648*Math.random())}():rw++,"0x"+rw.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="RestConnection",t_e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class r_e{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===c_?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(t,r,n,i,a){const s=Mk(),o=this.zo(t,r.toUriEncodedString());St(VA,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,a);const{host:c}=new URL(o),u=yp(c);return this.Jo(t,o,l,n,u).then(f=>(St(VA,`Received RPC '${t}' ${s}: `,f),f),f=>{throw X0(VA,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(t,r,n,i,a,s){return this.Go(t,r,n,i,a)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rg}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,a)=>t[a]=i),n&&n.headers.forEach((i,a)=>t[a]=i)}zo(t,r){const n=t_e[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_e{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="WebChannelConnection";class i_e extends r_e{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,i,a){const s=Mk();return new Promise((o,l)=>{const c=new oq;c.setWithCredentials(!0),c.listenOnce(lq.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Qw.NO_ERROR:const f=c.getResponseJson();St(cs,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Qw.TIMEOUT:St(cs,`RPC '${t}' ${s} timed out`),l(new vt(Je.DEADLINE_EXCEEDED,"Request time out"));break;case Qw.HTTP_ERROR:const d=c.getStatus();if(St(cs,`RPC '${t}' ${s} failed with status:`,d,"response text:",c.getResponseText()),d>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const g=h==null?void 0:h.error;if(g&&g.status&&g.message){const m=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(Je).indexOf(b)>=0?b:Je.UNKNOWN}(g.status);l(new vt(m,g.message))}else l(new vt(Je.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new vt(Je.UNAVAILABLE,"Connection failed."));break;default:ar(9055,{l_:t,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{St(cs,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);St(cs,`RPC '${t}' ${s} sending request:`,i),c.send(r,"POST",u,n,15)})}T_(t,r,n){const i=Mk(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=fq(),o=uq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=a.join("");St(cs,`Creating RPC '${t}' stream ${i}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let d=!1,h=!1;const g=new n_e({Yo:v=>{h?St(cs,`Not sending because RPC '${t}' stream ${i} is closed:`,v):(d||(St(cs,`Opening RPC '${t}' stream ${i} transport.`),f.open(),d=!0),St(cs,`RPC '${t}' stream ${i} sending:`,v),f.send(v))},Zo:()=>f.close()}),m=(v,y,b)=>{v.listen(y,_=>{try{b(_)}catch(N){setTimeout(()=>{throw N},0)}})};return m(f,rv.EventType.OPEN,()=>{h||(St(cs,`RPC '${t}' stream ${i} transport opened.`),g.o_())}),m(f,rv.EventType.CLOSE,()=>{h||(h=!0,St(cs,`RPC '${t}' stream ${i} transport closed`),g.a_(),this.E_(f))}),m(f,rv.EventType.ERROR,v=>{h||(h=!0,X0(cs,`RPC '${t}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),g.a_(new vt(Je.UNAVAILABLE,"The operation could not be completed")))}),m(f,rv.EventType.MESSAGE,v=>{var y;if(!h){const b=v.data[0];rn(!!b,16349);const _=b,N=(_==null?void 0:_.error)||((y=_[0])==null?void 0:y.error);if(N){St(cs,`RPC '${t}' stream ${i} received error:`,N);const R=N.status;let O=function(T){const j=Gi[T];if(j!==void 0)return Gq(j)}(R),k=N.message;O===void 0&&(O=Je.INTERNAL,k="Unknown error status: "+R+" with message "+N.message),h=!0,g.a_(new vt(O,k)),f.close()}else St(cs,`RPC '${t}' stream ${i} received:`,b),g.u_(b)}}),m(o,cq.STAT_EVENT,v=>{v.stat===Ak.PROXY?St(cs,`RPC '${t}' stream ${i} detected buffering proxy`):v.stat===Ak.NOPROXY&&St(cs,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function $A(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(e){return new lbe(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(t,r,n=1e3,i=1.5,a=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=i,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&St("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _j="PersistentStream";class lG{constructor(t,r,n,i,a,s,o,l){this.Mi=t,this.S_=n,this.b_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oG(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===Je.RESOURCE_EXHAUSTED?(wf(r.toString()),wf("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Je.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.D_===r&&this.G_(n,i)},n=>{t(()=>{const i=new vt(Je.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{n(()=>this.z_(i))}),this.stream.onMessage(i=>{n(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return St(_j,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(St(_j,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class a_e extends lG{constructor(t,r,n,i,a,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=fbe(this.serializer,t),n=function(a){if(!("targetChange"in a))return fr.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?fr.min():s.readTime?lu(s.readTime):fr.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=jk(this.serializer),r.addTarget=function(a,s){let o;const l=s.target;if(o=Pk(l)?{documents:pbe(a,l)}:{query:mbe(a,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Yq(a,s.resumeToken);const c=Dk(a,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(fr.min())>0){o.readTime=h_(a,s.snapshotVersion.toTimestamp());const c=Dk(a,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=vbe(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=jk(this.serializer),r.removeTarget=t,this.q_(r)}}class s_e extends lG{constructor(t,r,n,i,a,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return rn(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,rn(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){rn(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=hbe(t.writeResults,t.commitTime),n=lu(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=jk(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>dbe(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_e{}class l_e extends o_e{constructor(t,r,n,i){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new vt(Je.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Go(t,Rk(r,n),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new vt(Je.UNKNOWN,a.toString())})}Ho(t,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(t,Rk(r,n),i,s,o,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new vt(Je.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class c_e{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wf(r),this.aa=!1):St("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="RemoteStore";class u_e{constructor(t,r,n,i,a){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{Sp(this)&&(St(Y0,"Restarting streams for network reachability change."),await async function(l){const c=pr(l);c.Ea.add(4),await Ex(c),c.Ra.set("Unknown"),c.Ea.delete(4),await hS(c)}(this))})}),this.Ra=new c_e(n,i)}}async function hS(e){if(Sp(e))for(const t of e.da)await t(!0)}async function Ex(e){for(const t of e.da)await t(!1)}function cG(e,t){const r=pr(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),MP(r)?FP(r):Mg(r).O_()&&jP(r,t))}function LP(e,t){const r=pr(e),n=Mg(r);r.Ia.delete(t),n.O_()&&uG(r,t),r.Ia.size===0&&(n.O_()?n.L_():Sp(r)&&r.Ra.set("Unknown"))}function jP(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(fr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Mg(e).Y_(t)}function uG(e,t){e.Va.Ue(t),Mg(e).Z_(t)}function FP(e){e.Va=new ibe({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Mg(e).start(),e.Ra.ua()}function MP(e){return Sp(e)&&!Mg(e).x_()&&e.Ia.size>0}function Sp(e){return pr(e).Ea.size===0}function fG(e){e.Va=void 0}async function f_e(e){e.Ra.set("Online")}async function d_e(e){e.Ia.forEach((t,r)=>{jP(e,t)})}async function h_e(e,t){fG(e),MP(e)?(e.Ra.ha(t),FP(e)):e.Ra.set("Unknown")}async function p_e(e,t,r){if(e.Ra.set("Online"),t instanceof Xq&&t.state===2&&t.cause)try{await async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.Va.removeTarget(o))}(e,t)}catch(n){St(Y0,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await m_(e,n)}else if(t instanceof rb?e.Va.Ze(t):t instanceof Kq?e.Va.st(t):e.Va.tt(t),!r.isEqual(fr.min()))try{const n=await sG(e.localStore);r.compareTo(n)>=0&&await function(a,s){const o=a.Va.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=a.Ia.get(c);u&&a.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=a.Ia.get(l);if(!u)return;a.Ia.set(l,u.withResumeToken(La.EMPTY_BYTE_STRING,u.snapshotVersion)),uG(a,l);const f=new Id(u.target,l,c,u.sequenceNumber);jP(a,f)}),a.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){St(Y0,"Failed to raise snapshot:",n),await m_(e,n)}}async function m_(e,t,r){if(!jg(t))throw t;e.Ea.add(1),await Ex(e),e.Ra.set("Offline"),r||(r=()=>sG(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{St(Y0,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await hS(e)})}function dG(e,t){return t().catch(r=>m_(e,r,t))}async function pS(e){const t=pr(e),r=lh(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:bP;for(;m_e(t);)try{const i=await Ybe(t.localStore,n);if(i===null){t.Ta.length===0&&r.L_();break}n=i.batchId,g_e(t,i)}catch(i){await m_(t,i)}hG(t)&&pG(t)}function m_e(e){return Sp(e)&&e.Ta.length<10}function g_e(e,t){e.Ta.push(t);const r=lh(e);r.O_()&&r.X_&&r.ea(t.mutations)}function hG(e){return Sp(e)&&!lh(e).x_()&&e.Ta.length>0}function pG(e){lh(e).start()}async function v_e(e){lh(e).ra()}async function y_e(e){const t=lh(e);for(const r of e.Ta)t.ea(r.mutations)}async function x_e(e,t,r){const n=e.Ta.shift(),i=NP.from(n,t,r);await dG(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await pS(e)}async function w_e(e,t){t&&lh(e).X_&&await async function(n,i){if(function(s){return tbe(s)&&s!==Je.ABORTED}(i.code)){const a=n.Ta.shift();lh(n).B_(),await dG(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i)),await pS(n)}}(e,t),hG(e)&&pG(e)}async function Sj(e,t){const r=pr(e);r.asyncQueue.verifyOperationInProgress(),St(Y0,"RemoteStore received new credentials");const n=Sp(r);r.Ea.add(3),await Ex(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await hS(r)}async function b_e(e,t){const r=pr(e);t?(r.Ea.delete(2),await hS(r)):t||(r.Ea.add(2),await Ex(r),r.Ra.set("Unknown"))}function Mg(e){return e.ma||(e.ma=function(r,n,i){const a=pr(r);return a.sa(),new a_e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:f_e.bind(null,e),t_:d_e.bind(null,e),r_:h_e.bind(null,e),H_:p_e.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),MP(e)?FP(e):e.Ra.set("Unknown")):(await e.ma.stop(),fG(e))})),e.ma}function lh(e){return e.fa||(e.fa=function(r,n,i){const a=pr(r);return a.sa(),new s_e(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:v_e.bind(null,e),r_:w_e.bind(null,e),ta:y_e.bind(null,e),na:x_e.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await pS(e)):(await e.fa.stop(),e.Ta.length>0&&(St(Y0,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(t,r,n,i,a){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new lf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,i,a){const s=Date.now()+n,o=new BP(t,r,s,i,a);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(Je.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function UP(e,t){if(wf("AsyncQueue",`${t}: ${e}`),jg(e))return new vt(Je.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{static emptySet(t){return new jm(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||qt.comparator(r.key,n.key):(r,n)=>qt.comparator(r.key,n.key),this.keyedMap=nv(),this.sortedSet=new di(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof jm)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new jm;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ej{constructor(){this.ga=new di(qt.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):ar(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class fg{constructor(t,r,n,i,a,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,i,a){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new fg(t,r,jm.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sS(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __e{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class S_e{constructor(){this.queries=Aj(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=pr(r),a=i.queries;i.queries=Aj(),a.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new vt(Je.ABORTED,"Firestore shutting down"))}}function Aj(){return new _p(e=>Lq(e),sS)}async function mG(e,t){const r=pr(e);let n=3;const i=t.query;let a=r.queries.get(i);a?!a.ba()&&t.Da()&&(n=2):(a=new __e,n=t.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=UP(s,`Initialization of query '${Kp(t.query)}' failed`);return void t.onError(o)}r.queries.set(i,a),a.Sa.push(t),t.va(r.onlineState),a.wa&&t.Fa(a.wa)&&VP(r)}async function gG(e,t){const r=pr(e),n=t.query;let i=3;const a=r.queries.get(n);if(a){const s=a.Sa.indexOf(t);s>=0&&(a.Sa.splice(s,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function E_e(e,t){const r=pr(e);let n=!1;for(const i of t){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.Sa)o.Fa(i)&&(n=!0);s.wa=i}}n&&VP(r)}function A_e(e,t,r){const n=pr(e),i=n.queries.get(t);if(i)for(const a of i.Sa)a.onError(r);n.queries.delete(t)}function VP(e){e.Ca.forEach(t=>{t.next()})}var Bk,Tj;(Tj=Bk||(Bk={})).Ma="default",Tj.Cache="cache";class vG{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const i of t.docChanges)i.type!==3&&n.push(i);t=new fg(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=fg.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Bk.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(t){this.key=t}}class xG{constructor(t){this.key=t}}class T_e{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Or(),this.mutatedKeys=Or(),this.eu=jq(t),this.tu=new jm(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new Ej,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((u,f)=>{const d=i.get(u),h=oS(this.query,f)?f:null,g=!!d&&this.mutatedKeys.has(d.key),m=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;d&&h?d.data.isEqual(h.data)?g!==m&&(n.track({type:3,doc:h}),v=!0):this.su(d,h)||(n.track({type:2,doc:h}),v=!0,(l&&this.eu(h,l)>0||c&&this.eu(h,c)<0)&&(o=!0)):!d&&h?(n.track({type:0,doc:h}),v=!0):d&&!h&&(n.track({type:1,doc:d}),v=!0,(l||c)&&(o=!0)),v&&(h?(s=s.add(h),a=m?a.add(u):a.delete(u)):(s=s.delete(u),a=a.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),a=a.delete(u.key),n.track({type:1,doc:u})}return{tu:s,iu:n,Cs:o,mutatedKeys:a}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,i){const a=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((u,f)=>function(h,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ar(20277,{Rt:v})}};return m(h)-m(g)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new fg(this.query,t.tu,a,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ej,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Or(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new xG(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new yG(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=Or();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return fg.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $P="SyncEngine";class k_e{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class N_e{constructor(t){this.key=t,this.hu=!1}}class C_e{constructor(t,r,n,i,a,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new _p(o=>Lq(o),sS),this.Iu=new Map,this.Eu=new Set,this.du=new di(qt.comparator),this.Au=new Map,this.Ru=new IP,this.Vu={},this.mu=new Map,this.fu=ug.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function P_e(e,t,r=!0){const n=AG(e);let i;const a=n.Tu.get(t);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await wG(n,t,r,!0),i}async function I_e(e,t){const r=AG(e);await wG(r,t,!0,!1)}async function wG(e,t,r,n){const i=await Jbe(e.localStore,ou(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await O_e(e,t,a,s==="current",i.resumeToken)),e.isPrimaryClient&&r&&cG(e.remoteStore,i),o}async function O_e(e,t,r,n,i){e.pu=(f,d,h)=>async function(m,v,y,b){let _=v.view.ru(y);_.Cs&&(_=await yj(m.localStore,v.query,!1).then(({documents:k})=>v.view.ru(k,_)));const N=b&&b.targetChanges.get(v.targetId),R=b&&b.targetMismatches.get(v.targetId)!=null,O=v.view.applyChanges(_,m.isPrimaryClient,N,R);return Nj(m,v.targetId,O.au),O.snapshot}(e,f,d,h);const a=await yj(e.localStore,t,!0),s=new T_e(t,a.Qs),o=s.ru(a.documents),l=Sx.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",i),c=s.applyChanges(o,e.isPrimaryClient,l);Nj(e,r,c.au);const u=new k_e(t,r,s);return e.Tu.set(t,u),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),c.snapshot}async function D_e(e,t,r){const n=pr(e),i=n.Tu.get(t),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter(s=>!sS(s,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Fk(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&LP(n.remoteStore,i.targetId),Uk(n,i.targetId)}).catch(Lg)):(Uk(n,i.targetId),await Fk(n.localStore,i.targetId,!0))}async function R_e(e,t){const r=pr(e),n=r.Tu.get(t),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),LP(r.remoteStore,n.targetId))}async function L_e(e,t,r){const n=$_e(e);try{const i=await function(s,o){const l=pr(s),c=Rn.now(),u=o.reduce((h,g)=>h.add(g.key),Or());let f,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let g=bf(),m=Or();return l.Ns.getEntries(h,u).next(v=>{g=v,g.forEach((y,b)=>{b.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,g)).next(v=>{f=v;const y=[];for(const b of o){const _=Ywe(b,f.get(b.key).overlayedDocument);_!=null&&y.push(new Th(b.key,_,kq(_.value.mapValue),Gs.exists(!0)))}return l.mutationQueue.addMutationBatch(h,c,y,o)}).next(v=>{d=v;const y=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(h,v.batchId,y)})}).then(()=>({batchId:d.batchId,changes:Mq(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(i.batchId),function(s,o,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new di(Ir)),c=c.insert(o,l),s.Vu[s.currentUser.toKey()]=c}(n,i.batchId,r),await Ax(n,i.changes),await pS(n.remoteStore)}catch(i){const a=UP(i,"Failed to persist write");r.reject(a)}}async function bG(e,t){const r=pr(e);try{const n=await Kbe(r.localStore,t);t.targetChanges.forEach((i,a)=>{const s=r.Au.get(a);s&&(rn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?rn(s.hu,14607):i.removedDocuments.size>0&&(rn(s.hu,42227),s.hu=!1))}),await Ax(r,n,t)}catch(n){await Lg(n)}}function kj(e,t,r){const n=pr(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach((a,s)=>{const o=s.view.va(t);o.snapshot&&i.push(o.snapshot)}),function(s,o){const l=pr(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const d of f.Sa)d.va(o)&&(c=!0)}),c&&VP(l)}(n.eventManager,t),i.length&&n.Pu.H_(i),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function j_e(e,t,r){const n=pr(e);n.sharedClientState.updateQueryState(t,"rejected",r);const i=n.Au.get(t),a=i&&i.key;if(a){let s=new di(qt.comparator);s=s.insert(a,ws.newNoDocument(a,fr.min()));const o=Or().add(a),l=new fS(fr.min(),new Map,new di(Ir),s,o);await bG(n,l),n.du=n.du.remove(a),n.Au.delete(t),zP(n)}else await Fk(n.localStore,t,!1).then(()=>Uk(n,t,r)).catch(Lg)}async function F_e(e,t){const r=pr(e),n=t.batch.batchId;try{const i=await Gbe(r.localStore,t);SG(r,n,null),_G(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ax(r,i)}catch(i){await Lg(i)}}async function M_e(e,t,r){const n=pr(e);try{const i=await function(s,o){const l=pr(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(rn(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);SG(n,t,r),_G(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Ax(n,i)}catch(i){await Lg(i)}}function _G(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function SG(e,t,r){const n=pr(e);let i=n.Vu[n.currentUser.toKey()];if(i){const a=i.get(t);a&&(r?a.reject(r):a.resolve(),i=i.remove(t)),n.Vu[n.currentUser.toKey()]=i}}function Uk(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||EG(e,n)})}function EG(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(LP(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),zP(e))}function Nj(e,t,r){for(const n of r)n instanceof yG?(e.Ru.addReference(n.key,t),B_e(e,n)):n instanceof xG?(St($P,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||EG(e,n.key)):ar(19791,{wu:n})}function B_e(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(St($P,"New document in limbo: "+r),e.Eu.add(n),zP(e))}function zP(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new qt(Dn.fromString(t)),n=e.fu.next();e.Au.set(n,new N_e(r)),e.du=e.du.insert(r,n),cG(e.remoteStore,new Id(ou(TP(r.path)),n,"TargetPurposeLimboResolution",nS.ce))}}async function Ax(e,t,r){const n=pr(e),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=DP.As(l.targetId,c);a.push(f)}}))}),await Promise.all(s),n.Pu.H_(i),await async function(l,c){const u=pr(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ze.forEach(c,d=>Ze.forEach(d.Es,h=>u.persistence.referenceDelegate.addReference(f,d.targetId,h)).next(()=>Ze.forEach(d.ds,h=>u.persistence.referenceDelegate.removeReference(f,d.targetId,h)))))}catch(f){if(!jg(f))throw f;St(RP,"Failed to update sequence numbers: "+f)}for(const f of c){const d=f.targetId;if(!f.fromCache){const h=u.Ms.get(d),g=h.snapshotVersion,m=h.withLastLimboFreeSnapshotVersion(g);u.Ms=u.Ms.insert(d,m)}}}(n.localStore,a))}async function U_e(e,t){const r=pr(e);if(!r.currentUser.isEqual(t)){St($P,"User change. New user:",t.toKey());const n=await aG(r.localStore,t);r.currentUser=t,function(a,s){a.mu.forEach(o=>{o.forEach(l=>{l.reject(new vt(Je.CANCELLED,s))})}),a.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Ax(r,n.Ls)}}function V_e(e,t){const r=pr(e),n=r.Au.get(t);if(n&&n.hu)return Or().add(n.key);{let i=Or();const a=r.Iu.get(t);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function AG(e){const t=pr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=bG.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=V_e.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=j_e.bind(null,t),t.Pu.H_=E_e.bind(null,t.eventManager),t.Pu.yu=A_e.bind(null,t.eventManager),t}function $_e(e){const t=pr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=F_e.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=M_e.bind(null,t),t}class g_{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dS(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return qbe(this.persistence,new zbe,t.initialUser,this.serializer)}Cu(t){return new iG(OP.mi,this.serializer)}Du(t){return new Zbe}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}g_.provider={build:()=>new g_};class z_e extends g_{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){rn(this.persistence.referenceDelegate instanceof p_,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Nbe(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?io.withCacheSize(this.cacheSizeBytes):io.DEFAULT;return new iG(n=>p_.mi(n,r),this.serializer)}}class Vk{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>kj(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=U_e.bind(null,this.syncEngine),await b_e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new S_e}()}createDatastore(t){const r=dS(t.databaseInfo.databaseId),n=function(a){return new i_e(a)}(t.databaseInfo);return function(a,s,o,l){return new l_e(a,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,i,a,s,o){return new u_e(n,i,a,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>kj(this.syncEngine,r,0),function(){return bj.v()?new bj:new e_e}())}createSyncEngine(t,r){return function(i,a,s,o,l,c,u){const f=new C_e(i,a,s,o,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(i){const a=pr(i);St(Y0,"RemoteStore shutting down."),a.Ea.add(5),await Ex(a),a.Aa.shutdown(),a.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}Vk.provider={build:()=>new Vk};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):wf("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch="FirestoreClient";class W_e{constructor(t,r,n,i,a){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=gs.UNAUTHENTICATED,this.clientId=tS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,async s=>{St(ch,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(St(ch,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new lf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=UP(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function zA(e,t){e.asyncQueue.verifyOperationInProgress(),St(ch,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async i=>{n.isEqual(i)||(await aG(t.localStore,i),n=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Cj(e,t){e.asyncQueue.verifyOperationInProgress();const r=await H_e(e);St(ch,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>Sj(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,i)=>Sj(t.remoteStore,i)),e._onlineComponents=t}async function H_e(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){St(ch,"Using user provided OfflineComponentProvider");try{await zA(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(i){return i.name==="FirebaseError"?i.code===Je.FAILED_PRECONDITION||i.code===Je.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;X0("Error using user provided cache. Falling back to memory cache: "+r),await zA(e,new g_)}}else St(ch,"Using default OfflineComponentProvider"),await zA(e,new z_e(void 0));return e._offlineComponents}async function kG(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(St(ch,"Using user provided OnlineComponentProvider"),await Cj(e,e._uninitializedComponentsProvider._online)):(St(ch,"Using default OnlineComponentProvider"),await Cj(e,new Vk))),e._onlineComponents}function q_e(e){return kG(e).then(t=>t.syncEngine)}async function NG(e){const t=await kG(e),r=t.eventManager;return r.onListen=P_e.bind(null,t.syncEngine),r.onUnlisten=D_e.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=I_e.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=R_e.bind(null,t.syncEngine),r}function G_e(e,t,r={}){const n=new lf;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new TG({next:d=>{u.Nu(),s.enqueueAndForget(()=>gG(a,f));const h=d.docs.has(o);!h&&d.fromCache?c.reject(new vt(Je.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&l&&l.source==="server"?c.reject(new vt(Je.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new vG(TP(o.path),u,{includeMetadataChanges:!0,qa:!0});return mG(a,f)}(await NG(e),e.asyncQueue,t,r,n)),n.promise}function K_e(e,t,r={}){const n=new lf;return e.asyncQueue.enqueueAndForget(async()=>function(a,s,o,l,c){const u=new TG({next:d=>{u.Nu(),s.enqueueAndForget(()=>gG(a,f)),d.fromCache&&l.source==="server"?c.reject(new vt(Je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),f=new vG(o,u,{includeMetadataChanges:!0,qa:!0});return mG(a,f)}(await NG(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CG(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PG="firestore.googleapis.com",Ij=!0;class Oj{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new vt(Je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=PG,this.ssl=Ij}else this.host=t.host,this.ssl=t.ssl??Ij;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nG;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Tbe)throw new vt(Je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gq("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CG(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new vt(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new vt(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new vt(Je.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mS{constructor(t,r,n,i){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(Je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(Je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oj(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new pq;switch(n.type){case"firstParty":return new iwe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new vt(Je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=Pj.get(r);n&&(St("ComponentProvider","Removing Datastore"),Pj.delete(r),n.terminate())}(this),Promise.resolve()}}function IG(e,t,r,n={}){var c;e=al(e,mS);const i=yp(t),a=e._getSettings(),s={...a,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;i&&(cP(`https://${o}`),uP("Firestore",!0)),a.host!==PG&&a.host!==o&&X0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...a,host:o,ssl:i,emulatorOptions:n};if(!nh(l,s)&&(e._setSettings(l),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=gs.MOCK_USER;else{u=gH(n.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new vt(Je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new gs(d)}e._authCredentials=new twe(new hq(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new kh(this.firestore,t,this._query)}}class Si{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Si(this.firestore,t,this._key)}toJSON(){return{type:Si._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(bx(r,Si._jsonSchema))return new Si(t,n||null,new qt(Dn.fromString(r.referencePath)))}}Si._jsonSchemaVersion="firestore/documentReference/1.0",Si._jsonSchema={type:ta("string",Si._jsonSchemaVersion),referencePath:ta("string")};class cf extends kh{constructor(t,r,n){super(t,r,TP(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Si(this.firestore,null,new qt(t))}withConverter(t){return new cf(this.firestore,t,this._path)}}function wn(e,t,...r){if(e=Zn(e),mq("collection","path",t),e instanceof mS){const n=Dn.fromString(t,...r);return HL(n),new cf(e,null,n)}{if(!(e instanceof Si||e instanceof cf))throw new vt(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Dn.fromString(t,...r));return HL(n),new cf(e.firestore,null,n)}}function tn(e,t,...r){if(e=Zn(e),arguments.length===1&&(t=tS.newId()),mq("doc","path",t),e instanceof mS){const n=Dn.fromString(t,...r);return WL(n),new Si(e,null,new qt(n))}{if(!(e instanceof Si||e instanceof cf))throw new vt(Je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Dn.fromString(t,...r));return WL(n),new Si(e.firestore,e instanceof cf?e.converter:null,new qt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="AsyncQueue";class Rj{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oG(this,"async_queue_retry"),this._c=()=>{const n=$A();n&&St(Dj,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=$A();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=$A();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new lf;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!jg(t))throw t;St(Dj,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,wf("INTERNAL UNHANDLED ERROR: ",Lj(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const i=BP.createAndSchedule(this,t,r,n,a=>this.hc(a));return this.tc.push(i),i}uc(){this.nc&&ar(47125,{Pc:Lj(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function Lj(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Lf extends mS{constructor(t,r,n,i){super(t,r,n,i),this.type="firestore",this._queue=new Rj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Rj(t),this._firestoreClient=void 0,await t}}}function OG(e,t){const r=typeof e=="object"?e:J5(),n=typeof e=="string"?e:c_,i=Sh(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=hH("firestore");a&&IG(i,...a)}return i}function Tx(e){if(e._terminated)throw new vt(Je.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||X_e(e),e._firestoreClient}function X_e(e){var n,i,a;const t=e._freezeSettings(),r=function(o,l,c,u){return new wwe(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,CG(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((a=t.localCache)!=null&&a._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new W_e(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Go(La.fromBase64String(t))}catch(r){throw new vt(Je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Go(La.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Go._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(bx(t,Go._jsonSchema))return Go.fromBase64String(t.bytes)}}Go._jsonSchemaVersion="firestore/bytes/1.0",Go._jsonSchema={type:ta("string",Go._jsonSchemaVersion),bytes:ta("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new vt(Je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pa(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new vt(Je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new vt(Je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ir(this._lat,t._lat)||Ir(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Sc._jsonSchemaVersion}}static fromJSON(t){if(bx(t,Sc._jsonSchema))return new Sc(t.latitude,t.longitude)}}Sc._jsonSchemaVersion="firestore/geoPoint/1.0",Sc._jsonSchema={type:ta("string",Sc._jsonSchemaVersion),latitude:ta("number"),longitude:ta("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ec._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(bx(t,Ec._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new Ec(t.vectorValues);throw new vt(Je.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ec._jsonSchemaVersion="firestore/vectorValue/1.0",Ec._jsonSchema={type:ta("string",Ec._jsonSchemaVersion),vectorValues:ta("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_e=/^__.*__$/;class J_e{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Th(t,this.data,this.fieldMask,r,this.fieldTransforms):new _x(t,this.data,r,this.fieldTransforms)}}class DG{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Th(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function RG(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ar(40011,{Ac:e})}}class WP{constructor(t,r,n,i,a,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new WP({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var i;const r=(i=this.path)==null?void 0:i.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return v_(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(RG(this.Ac)&&Y_e.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Q_e{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||dS(t)}Cc(t,r,n,i=!1){return new WP({Ac:t,methodName:r,Dc:n,path:Pa.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nx(e){const t=e._freezeSettings(),r=dS(e._databaseId);return new Q_e(e._databaseId,!!t.ignoreUndefinedProperties,r)}function HP(e,t,r,n,i,a={}){const s=e.Cc(a.merge||a.mergeFields?2:0,t,r,i);GP("Data must be an object, but it was:",s,n);const o=FG(n,s);let l,c;if(a.merge)l=new Yo(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const u=[];for(const f of a.mergeFields){const d=$k(t,f,r);if(!s.contains(d))throw new vt(Je.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);BG(u,d)||u.push(d)}l=new Yo(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new J_e(new oo(o),l,c)}class gS extends kx{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof gS}}class qP extends kx{_toFieldTransform(t){return new qwe(t.path,new Oy)}isEqual(t){return t instanceof qP}}function LG(e,t,r,n){const i=e.Cc(1,t,r);GP("Data must be an object, but it was:",i,n);const a=[],s=oo.empty();Ah(n,(l,c)=>{const u=KP(t,l,r);c=Zn(c);const f=i.yc(u);if(c instanceof gS)a.push(u);else{const d=Cx(c,f);d!=null&&(a.push(u),s.set(u,d))}});const o=new Yo(a);return new DG(s,o,i.fieldTransforms)}function jG(e,t,r,n,i,a){const s=e.Cc(1,t,r),o=[$k(t,n,r)],l=[i];if(a.length%2!=0)throw new vt(Je.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<a.length;d+=2)o.push($k(t,a[d])),l.push(a[d+1]);const c=[],u=oo.empty();for(let d=o.length-1;d>=0;--d)if(!BG(c,o[d])){const h=o[d];let g=l[d];g=Zn(g);const m=s.yc(h);if(g instanceof gS)c.push(h);else{const v=Cx(g,m);v!=null&&(c.push(h),u.set(h,v))}}const f=new Yo(c);return new DG(u,f,s.fieldTransforms)}function Z_e(e,t,r,n=!1){return Cx(r,e.Cc(n?4:3,t))}function Cx(e,t){if(MG(e=Zn(e)))return GP("Unsupported field value:",t,e),FG(e,t);if(e instanceof kx)return function(n,i){if(!RG(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,i){const a=[];let s=0;for(const o of n){let l=Cx(o,i.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),a.push(l),s++}return{arrayValue:{values:a}}}(e,t)}return function(n,i){if((n=Zn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return zwe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Rn.fromDate(n);return{timestampValue:h_(i.serializer,a)}}if(n instanceof Rn){const a=new Rn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:h_(i.serializer,a)}}if(n instanceof Sc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Go)return{bytesValue:Yq(i.serializer,n._byteString)};if(n instanceof Si){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:PP(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Ec)return function(s,o){return{mapValue:{fields:{[Aq]:{stringValue:Tq},[u_]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return kP(o.serializer,c)})}}}}}}(n,i);throw i.Sc(`Unsupported field value: ${rS(n)}`)}(e,t)}function FG(e,t){const r={};return xq(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ah(e,(n,i)=>{const a=Cx(i,t.mc(n));a!=null&&(r[n]=a)}),{mapValue:{fields:r}}}function MG(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Rn||e instanceof Sc||e instanceof Go||e instanceof Si||e instanceof kx||e instanceof Ec)}function GP(e,t,r){if(!MG(r)||!vq(r)){const n=rS(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function $k(e,t,r){if((t=Zn(t))instanceof Bg)return t._internalPath;if(typeof t=="string")return KP(e,t);throw v_("Field path arguments must be of type string or ",e,!1,void 0,r)}const e5e=new RegExp("[~\\*/\\[\\]]");function KP(e,t,r){if(t.search(e5e)>=0)throw v_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Bg(...t.split("."))._internalPath}catch{throw v_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function v_(e,t,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=` in field ${n}`),s&&(l+=` in document ${i}`),l+=")"),new vt(Je.INVALID_ARGUMENT,o+e+l)}function BG(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(t,r,n,i,a){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Si(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new t5e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(vS("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class t5e extends UG{data(){return super.data()}}function vS(e,t){return typeof t=="string"?KP(e,t):t instanceof Bg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5e(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new vt(Je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XP{}class YP extends XP{}function Li(e,t,...r){let n=[];t instanceof XP&&n.push(t),n=n.concat(r),function(a){const s=a.filter(l=>l instanceof yS).length,o=a.filter(l=>l instanceof Px).length;if(s>1||s>0&&o>0)throw new vt(Je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)e=i._apply(e);return e}class Px extends YP{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new Px(t,r,n)}_apply(t){const r=this._parse(t);return VG(t._query,r),new kh(t.firestore,t.converter,Ik(t._query,r))}_parse(t){const r=Nx(t.firestore);return function(a,s,o,l,c,u,f){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new vt(Je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Fj(f,u);const g=[];for(const m of f)g.push(jj(l,a,m));d={arrayValue:{values:g}}}else d=jj(l,a,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Fj(f,u),d=Z_e(o,s,f,u==="in"||u==="not-in");return ea.create(c,u,d)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Ri(e,t,r){const n=t,i=vS("where",e);return Px._create(i,n,r)}class yS extends XP{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new yS(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Nc.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(i,a){let s=i;const o=a.getFlattenedFilters();for(const l of o)VG(s,l),s=Ik(s,l)}(t._query,r),new kh(t.firestore,t.converter,Ik(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xS extends YP{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new xS(t,r)}_apply(t){const r=function(i,a,s){if(i.startAt!==null)throw new vt(Je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new vt(Je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Iy(a,s)}(t._query,this._field,this._direction);return new kh(t.firestore,t.converter,function(i,a){const s=i.explicitOrderBy.concat([a]);return new Fg(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}function Wd(e,t="asc"){const r=t,n=vS("orderBy",e);return xS._create(n,r)}function jj(e,t,r){if(typeof(r=Zn(r))=="string"){if(r==="")throw new vt(Je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rq(t)&&r.indexOf("/")!==-1)throw new vt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Dn.fromString(r));if(!qt.isDocumentKey(n))throw new vt(Je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return ZL(e,new qt(n))}if(r instanceof Si)return ZL(e,r._key);throw new vt(Je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rS(r)}.`)}function Fj(e,t){if(!Array.isArray(e)||e.length===0)throw new vt(Je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function VG(e,t){const r=function(i,a){for(const s of i)for(const o of s.getFlattenedFilters())if(a.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new vt(Je.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new vt(Je.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class $G{convertValue(t,r="none"){switch(oh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ji(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(sh(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw ar(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Ah(t,(i,a)=>{n[i]=this.convertValue(a,r)}),n}convertVectorValue(t){var n,i,a;const r=(a=(i=(n=t.fields)==null?void 0:n[u_].arrayValue)==null?void 0:i.values)==null?void 0:a.map(s=>ji(s.doubleValue));return new Ec(r)}convertGeoPoint(t){return new Sc(ji(t.latitude),ji(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=aS(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Cy(t));default:return null}}convertTimestamp(t){const r=ah(t);return new Rn(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Dn.fromString(t);rn(rG(n),9688,{name:t});const i=new og(n.get(1),n.get(3)),a=new qt(n.popFirst(5));return i.isEqual(r)||wf(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class hm{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hd extends UG{constructor(t,r,n,i,a,s){super(t,r,n,i,s),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Ov(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(vS("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(Je.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Hd._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Hd._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hd._jsonSchema={type:ta("string",Hd._jsonSchemaVersion),bundleSource:ta("string","DocumentSnapshot"),bundleName:ta("string"),bundle:ta("string")};class Ov extends Hd{data(t={}){return super.data(t)}}class T0{constructor(t,r,n,i){this._firestore=t,this._userDataWriter=r,this._snapshot=i,this.metadata=new hm(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new Ov(this._firestore,this._userDataWriter,n.key,n,new hm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new vt(Je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(o=>{const l=new Ov(i._firestore,i._userDataWriter,o.doc.key,o.doc,new hm(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const l=new Ov(i._firestore,i._userDataWriter,o.doc.key,o.doc,new hm(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:n5e(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(Je.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=T0._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=tS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach(a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function n5e(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ar(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(e){e=al(e,Si);const t=al(e.firestore,Lf);return G_e(Tx(t),e._key).then(r=>i5e(t,e,r))}T0._jsonSchemaVersion="firestore/querySnapshot/1.0",T0._jsonSchema={type:ta("string",T0._jsonSchemaVersion),bundleSource:ta("string","QuerySnapshot"),bundleName:ta("string"),bundle:ta("string")};class zG extends $G{constructor(t){super(),this.firestore=t}convertBytes(t){return new Go(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Si(this.firestore,null,r)}}function Ia(e){e=al(e,kh);const t=al(e.firestore,Lf),r=Tx(t),n=new zG(t);return r5e(e._query),K_e(r,e._query).then(i=>new T0(t,n,e,i))}function k0(e,t,r){e=al(e,Si);const n=al(e.firestore,Lf),i=JP(e.converter,t,r);return Ug(n,[HP(Nx(n),"setDoc",e._key,i,e.converter!==null,r).toMutation(e._key,Gs.none())])}function dg(e,t,r,...n){e=al(e,Si);const i=al(e.firestore,Lf),a=Nx(i);let s;return s=typeof(t=Zn(t))=="string"||t instanceof Bg?jG(a,"updateDoc",e._key,t,r,n):LG(a,"updateDoc",e._key,t),Ug(i,[s.toMutation(e._key,Gs.exists(!0))])}function J0(e){return Ug(al(e.firestore,Lf),[new uS(e._key,Gs.none())])}function y_(e,t){const r=al(e.firestore,Lf),n=tn(e),i=JP(e.converter,t);return Ug(r,[HP(Nx(e.firestore),"addDoc",n._key,i,e.converter!==null,{}).toMutation(n._key,Gs.exists(!1))]).then(()=>n)}function Ug(e,t){return function(n,i){const a=new lf;return n.asyncQueue.enqueueAndForget(async()=>L_e(await q_e(n),i,a)),a.promise}(Tx(e),t)}function i5e(e,t,r){const n=r.docs.get(t._key),i=new zG(e);return new Hd(e,i,t._key,n,new hm(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Nx(t)}set(t,r,n){this._verifyNotCommitted();const i=WA(t,this._firestore),a=JP(i.converter,r,n),s=HP(this._dataReader,"WriteBatch.set",i._key,a,i.converter!==null,n);return this._mutations.push(s.toMutation(i._key,Gs.none())),this}update(t,r,n,...i){this._verifyNotCommitted();const a=WA(t,this._firestore);let s;return s=typeof(r=Zn(r))=="string"||r instanceof Bg?jG(this._dataReader,"WriteBatch.update",a._key,r,n,i):LG(this._dataReader,"WriteBatch.update",a._key,r),this._mutations.push(s.toMutation(a._key,Gs.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=WA(t,this._firestore);return this._mutations=this._mutations.concat(new uS(r._key,Gs.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(Je.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function WA(e,t){if((e=Zn(e)).firestore!==t)throw new vt(Je.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Zr(){return new qP("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(e){return Tx(e=al(e,Lf)),new WG(e,t=>Ug(e,t))}(function(t,r=!0){(function(i){Rg=i})(wp),Tc(new $l("firestore",(n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new Lf(new rwe(n.getProvider("auth-internal")),new awe(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new vt(Je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new og(c.options.projectId,u)}(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),yo(UL,VL,t),yo(UL,VL,"esm2020")})();const a5e=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:$G,Bytes:Go,CollectionReference:cf,DocumentReference:Si,DocumentSnapshot:Hd,FieldPath:Bg,FieldValue:kx,Firestore:Lf,FirestoreError:vt,GeoPoint:Sc,Query:kh,QueryCompositeFilterConstraint:yS,QueryConstraint:YP,QueryDocumentSnapshot:Ov,QueryFieldFilterConstraint:Px,QueryOrderByConstraint:xS,QuerySnapshot:T0,SnapshotMetadata:hm,Timestamp:Rn,VectorValue:Ec,WriteBatch:WG,_AutoId:tS,_ByteString:La,_DatabaseId:og,_DocumentKey:qt,_EmptyAuthCredentialsProvider:pq,_FieldPath:Pa,_cast:al,_logWarn:X0,_validateIsNotUsedTogether:gq,addDoc:y_,collection:wn,connectFirestoreEmulator:IG,deleteDoc:J0,doc:tn,ensureFirestoreConfigured:Tx,executeWrite:Ug,getDoc:Ix,getDocs:Ia,getFirestore:OG,orderBy:Wd,query:Li,serverTimestamp:Zr,setDoc:k0,updateDoc:dg,where:Ri,writeBatch:Ly},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HG="firebasestorage.googleapis.com",s5e="storageBucket",o5e=2*60*1e3,l5e=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends Gl{constructor(t,r,n=0){super(HA(t),`Firebase Storage: ${r} (${HA(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_u.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return HA(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var mu;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(mu||(mu={}));function HA(e){return"storage/"+e}function c5e(){const e="An unknown error occurred, please check the error payload for server response.";return new _u(mu.UNKNOWN,e)}function u5e(){return new _u(mu.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f5e(){return new _u(mu.CANCELED,"User canceled the upload/download.")}function d5e(e){return new _u(mu.INVALID_URL,"Invalid URL '"+e+"'.")}function h5e(e){return new _u(mu.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function Mj(e){return new _u(mu.INVALID_ARGUMENT,e)}function qG(){return new _u(mu.APP_DELETED,"The Firebase app was deleted.")}function p5e(e){return new _u(mu.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=yc.makeFromUrl(t,r)}catch{return new yc(t,"")}if(n.path==="")return n;throw h5e(t)}static makeFromUrl(t,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function a(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(N){N.path_=decodeURIComponent(N.path)}const u="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",h=new RegExp(`^https?://${f}/${u}/b/${i}/o${d}`,"i"),g={bucket:1,path:3},m=r===HG?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",y=new RegExp(`^https?://${m}/${i}/${v}`,"i"),_=[{regex:o,indices:l,postModify:a},{regex:h,indices:g,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let N=0;N<_.length;N++){const R=_[N],O=R.regex.exec(t);if(O){const k=O[R.indices.bucket];let S=O[R.indices.path];S||(S=""),n=new yc(k,S),R.postModify(n);break}}if(n==null)throw d5e(t);return n}}class m5e{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5e(e,t,r){let n=1,i=null,a=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(...v){c||(c=!0,t.apply(null,v))}function f(v){i=setTimeout(()=>{i=null,e(h,l())},v)}function d(){a&&clearTimeout(a)}function h(v,...y){if(c){d();return}if(v){d(),u.call(null,v,...y);return}if(l()||s){d(),u.call(null,v,...y);return}n<64&&(n*=2);let _;o===1?(o=2,_=0):_=(n+Math.random())*1e3,f(_)}let g=!1;function m(v){g||(g=!0,d(),!c&&(i!==null?(v||(o=2),clearTimeout(i),f(0)):v||(o=1)))}return f(0),a=setTimeout(()=>{s=!0,m(!0)},r),m}function v5e(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5e(e){return e!==void 0}function Bj(e,t,r,n){if(n<t)throw Mj(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw Mj(`Invalid value for '${e}'. Expected ${r} or less.`)}function x5e(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const i=t(n)+"="+t(e[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var x_;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(x_||(x_={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5e(e,t){const r=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,a=t.indexOf(e)!==-1;return r||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5e{constructor(t,r,n,i,a,s,o,l,c,u,f,d=!0,h=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=d,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,m)=>{this.resolve_=g,this.reject_=m,this.start_()})}start_(){const t=(n,i)=>{if(i){n(!1,new nw(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===x_.NO_ERROR,l=a.getStatus();if(!o||w5e(l,this.additionalRetryCodes_)&&this.retry){const u=a.getErrorCode()===x_.ABORT;n(!1,new nw(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new nw(c,a))})},r=(n,i)=>{const a=this.resolve_,s=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());y5e(l)?a(l):a()}catch(l){s(l)}else if(o!==null){const l=c5e();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(i.canceled){const l=this.appDelete_?qG():f5e();s(l)}else{const l=u5e();s(l)}};this.canceled_?r(!1,new nw(!1,null,!0)):this.backoffId_=g5e(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&v5e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nw{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function _5e(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function S5e(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function E5e(e,t){t&&(e["X-Firebase-GMPID"]=t)}function A5e(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function T5e(e,t,r,n,i,a,s=!0,o=!1){const l=x5e(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return E5e(u,t),_5e(u,r),S5e(u,a),A5e(u,n),new b5e(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5e(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function N5e(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(t,r){this._service=t,r instanceof yc?this._location=r:this._location=yc.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new w_(t,r)}get root(){const t=new yc(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return N5e(this._location.path)}get storage(){return this._service}get parent(){const t=k5e(this._location.path);if(t===null)return null;const r=new yc(this._location.bucket,t);return new w_(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw p5e(t)}}function Uj(e,t){const r=t==null?void 0:t[s5e];return r==null?null:yc.makeFromBucketSpec(r,e)}function C5e(e,t,r,n={}){e.host=`${t}:${r}`;const i=yp(t);i&&(cP(`https://${e.host}/b`),uP("Storage",!0)),e._isUsingEmulator=!0,e._protocol=i?"https":"http";const{mockUserToken:a}=n;a&&(e._overrideAuthToken=typeof a=="string"?a:gH(a,e.app.options.projectId))}class P5e{constructor(t,r,n,i,a,s=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=HG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=o5e,this._maxUploadRetryTime=l5e,this._requests=new Set,i!=null?this._bucket=yc.makeFromBucketSpec(i,this._host):this._bucket=Uj(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=yc.makeFromBucketSpec(this._url,t):this._bucket=Uj(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Bj("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Bj("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(qo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new w_(this,t)}_makeRequest(t,r,n,i,a=!0){if(this._deleted)return new m5e(qG());{const s=T5e(t,this._appId,n,i,r,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,i).getPromise()}}const Vj="@firebase/storage",$j="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GG="storage";function I5e(e=J5(),t){e=Zn(e);const n=Sh(e,GG).getImmediate({identifier:t}),i=hH("storage");return i&&O5e(n,...i),n}function O5e(e,t,r,n={}){C5e(e,t,r,n)}function D5e(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new P5e(r,n,i,t,wp)}function R5e(){Tc(new $l(GG,D5e,"PUBLIC").setMultipleInstances(!0)),yo(Vj,$j,""),yo(Vj,$j,"esm2020")}R5e();const KG="@firebase/installations",QP="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG=1e4,YG=`w:${QP}`,JG="FIS_v2",L5e="https://firebaseinstallations.googleapis.com/v1",j5e=60*60*1e3,F5e="installations",M5e="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5e={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Q0=new xp(F5e,M5e,B5e);function QG(e){return e instanceof Gl&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZG({projectId:e}){return`${L5e}/projects/${e}/installations`}function eK(e){return{token:e.token,requestStatus:2,expiresIn:V5e(e.expiresIn),creationTime:Date.now()}}async function tK(e,t){const n=(await t.json()).error;return Q0.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function rK({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function U5e(e,{refreshToken:t}){const r=rK(e);return r.append("Authorization",$5e(t)),r}async function nK(e){const t=await e();return t.status>=500&&t.status<600?e():t}function V5e(e){return Number(e.replace("s","000"))}function $5e(e){return`${JG} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5e({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=ZG(e),i=rK(e),a=t.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={fid:r,authVersion:JG,appId:e.appId,sdkVersion:YG},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await nK(()=>fetch(n,o));if(l.ok){const c=await l.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:eK(c.authToken)}}else throw await tK("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iK(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5e(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5e=/^[cdef][\w-]{21}$/,zk="";function q5e(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=G5e(e);return H5e.test(r)?r:zk}catch{return zk}}function G5e(e){return W5e(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK=new Map;function sK(e,t){const r=wS(e);oK(r,t),K5e(r,t)}function oK(e,t){const r=aK.get(e);if(r)for(const n of r)n(t)}function K5e(e,t){const r=X5e();r&&r.postMessage({key:e,fid:t}),Y5e()}let d0=null;function X5e(){return!d0&&"BroadcastChannel"in self&&(d0=new BroadcastChannel("[Firebase] FID Change"),d0.onmessage=e=>{oK(e.data.key,e.data.fid)}),d0}function Y5e(){aK.size===0&&d0&&(d0.close(),d0=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5e="firebase-installations-database",Q5e=1,Z0="firebase-installations-store";let qA=null;function ZP(){return qA||(qA=_H(J5e,Q5e,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Z0)}}})),qA}async function b_(e,t){const r=wS(e),i=(await ZP()).transaction(Z0,"readwrite"),a=i.objectStore(Z0),s=await a.get(r);return await a.put(t,r),await i.done,(!s||s.fid!==t.fid)&&sK(e,t.fid),t}async function lK(e){const t=wS(e),n=(await ZP()).transaction(Z0,"readwrite");await n.objectStore(Z0).delete(t),await n.done}async function bS(e,t){const r=wS(e),i=(await ZP()).transaction(Z0,"readwrite"),a=i.objectStore(Z0),s=await a.get(r),o=t(s);return o===void 0?await a.delete(r):await a.put(o,r),await i.done,o&&(!s||s.fid!==o.fid)&&sK(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(e){let t;const r=await bS(e.appConfig,n=>{const i=Z5e(n),a=eSe(e,i);return t=a.registrationPromise,a.installationEntry});return r.fid===zk?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function Z5e(e){const t=e||{fid:q5e(),registrationStatus:0};return cK(t)}function eSe(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Q0.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=tSe(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:rSe(e)}:{installationEntry:t}}async function tSe(e,t){try{const r=await z5e(e,t);return b_(e.appConfig,r)}catch(r){throw QG(r)&&r.customData.serverCode===409?await lK(e.appConfig):await b_(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function rSe(e){let t=await zj(e.appConfig);for(;t.registrationStatus===1;)await iK(100),t=await zj(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await eI(e);return n||r}return t}function zj(e){return bS(e,t=>{if(!t)throw Q0.create("installation-not-found");return cK(t)})}function cK(e){return nSe(e)?{fid:e.fid,registrationStatus:0}:e}function nSe(e){return e.registrationStatus===1&&e.registrationTime+XG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iSe({appConfig:e,heartbeatServiceProvider:t},r){const n=aSe(e,r),i=U5e(e,r),a=t.getImmediate({optional:!0});if(a){const c=await a.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const s={installation:{sdkVersion:YG,appId:e.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},l=await nK(()=>fetch(n,o));if(l.ok){const c=await l.json();return eK(c)}else throw await tK("Generate Auth Token",l)}function aSe(e,{fid:t}){return`${ZG(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(e,t=!1){let r;const n=await bS(e.appConfig,a=>{if(!uK(a))throw Q0.create("not-registered");const s=a.authToken;if(!t&&lSe(s))return a;if(s.requestStatus===1)return r=sSe(e,t),a;{if(!navigator.onLine)throw Q0.create("app-offline");const o=uSe(a);return r=oSe(e,o),o}});return r?await r:n.authToken}async function sSe(e,t){let r=await Wj(e.appConfig);for(;r.authToken.requestStatus===1;)await iK(100),r=await Wj(e.appConfig);const n=r.authToken;return n.requestStatus===0?tI(e,t):n}function Wj(e){return bS(e,t=>{if(!uK(t))throw Q0.create("not-registered");const r=t.authToken;return fSe(r)?{...t,authToken:{requestStatus:0}}:t})}async function oSe(e,t){try{const r=await iSe(e,t),n={...t,authToken:r};return await b_(e.appConfig,n),r}catch(r){if(QG(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await lK(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await b_(e.appConfig,n)}throw r}}function uK(e){return e!==void 0&&e.registrationStatus===2}function lSe(e){return e.requestStatus===2&&!cSe(e)}function cSe(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+j5e}function uSe(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function fSe(e){return e.requestStatus===1&&e.requestTime+XG<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dSe(e){const t=e,{installationEntry:r,registrationPromise:n}=await eI(t);return n?n.catch(console.error):tI(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hSe(e,t=!1){const r=e;return await pSe(r),(await tI(r,t)).token}async function pSe(e){const{registrationPromise:t}=await eI(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mSe(e){if(!e||!e.options)throw GA("App Configuration");if(!e.name)throw GA("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw GA(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function GA(e){return Q0.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fK="installations",gSe="installations-internal",vSe=e=>{const t=e.getProvider("app").getImmediate(),r=mSe(t),n=Sh(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},ySe=e=>{const t=e.getProvider("app").getImmediate(),r=Sh(t,fK).getImmediate();return{getId:()=>dSe(r),getToken:i=>hSe(r,i)}};function xSe(){Tc(new $l(fK,vSe,"PUBLIC")),Tc(new $l(gSe,ySe,"PRIVATE"))}xSe();yo(KG,QP);yo(KG,QP,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="analytics",wSe="firebase_id",bSe="origin",_Se=60*1e3,SSe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rI="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=new Y5("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ESe={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Zo=new xp("analytics","Analytics",ESe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ASe(e){if(!e.startsWith(rI)){const t=Zo.create("invalid-gtag-resource",{gtagURL:e});return xo.warn(t.message),""}return e}function dK(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function TSe(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function kSe(e,t){const r=TSe("firebase-js-sdk-policy",{createScriptURL:ASe}),n=document.createElement("script"),i=`${rI}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function NSe(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function CSe(e,t,r,n,i,a){const s=n[i];try{if(s)await t[s];else{const l=(await dK(r)).find(c=>c.measurementId===i);l&&await t[l.appId]}}catch(o){xo.error(o)}e("config",i,a)}async function PSe(e,t,r,n,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await dK(r);for(const l of s){const c=o.find(f=>f.measurementId===l),u=c&&t[c.appId];if(u)a.push(u);else{a=[];break}}}a.length===0&&(a=Object.values(t)),await Promise.all(a),e("event",n,i||{})}catch(a){xo.error(a)}}function ISe(e,t,r,n){async function i(a,...s){try{if(a==="event"){const[o,l]=s;await PSe(e,t,r,o,l)}else if(a==="config"){const[o,l]=s;await CSe(e,t,r,n,o,l)}else if(a==="consent"){const[o,l]=s;e("consent",o,l)}else if(a==="get"){const[o,l,c]=s;e("get",o,l,c)}else if(a==="set"){const[o]=s;e("set",o)}else e(a,...s)}catch(o){xo.error(o)}}return i}function OSe(e,t,r,n,i){let a=function(...s){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=ISe(a,e,t,r),{gtagCore:a,wrappedGtag:window[i]}}function DSe(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(rI)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RSe=30,LSe=1e3;class jSe{constructor(t={},r=LSe){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const hK=new jSe;function FSe(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function MSe(e){var s;const{appId:t,apiKey:r}=e,n={method:"GET",headers:FSe(r)},i=SSe.replace("{app-id}",t),a=await fetch(i,n);if(a.status!==200&&a.status!==304){let o="";try{const l=await a.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw Zo.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function BSe(e,t=hK,r){const{appId:n,apiKey:i,measurementId:a}=e.options;if(!n)throw Zo.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw Zo.create("no-api-key")}const s=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new $Se;return setTimeout(async()=>{o.abort()},_Se),pK({appId:n,apiKey:i,measurementId:a},s,o,t)}async function pK(e,{throttleEndTimeMillis:t,backoffCount:r},n,i=hK){var o;const{appId:a,measurementId:s}=e;try{await USe(n,t)}catch(l){if(s)return xo.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:a,measurementId:s};throw l}try{const l=await MSe(e);return i.deleteThrottleMetadata(a),l}catch(l){const c=l;if(!VSe(c)){if(i.deleteThrottleMetadata(a),s)return xo.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?fL(r,i.intervalMillis,RSe):fL(r,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return i.setThrottleMetadata(a,f),xo.debug(`Calling attemptFetch again in ${u} millis`),pK(e,f,n,i)}}function USe(e,t){return new Promise((r,n)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(r,i);e.addEventListener(()=>{clearTimeout(a),n(Zo.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function VSe(e){if(!(e instanceof Gl)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class $Se{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function zSe(e,t,r,n,i){if(i&&i.global){e("event",r,n);return}else{const a=await t,s={...n,send_to:a};e("event",r,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WSe(){if(yH())try{await xH()}catch(e){return xo.warn(Zo.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return xo.warn(Zo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function HSe(e,t,r,n,i,a,s){const o=BSe(e);o.then(d=>{r[d.measurementId]=d.appId,e.options.measurementId&&d.measurementId!==e.options.measurementId&&xo.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>xo.error(d)),t.push(o);const l=WSe().then(d=>{if(d)return n.getId()}),[c,u]=await Promise.all([o,l]);DSe(a)||kSe(a,c.measurementId),i("js",new Date);const f=(s==null?void 0:s.config)??{};return f[bSe]="firebase",f.update=!0,u!=null&&(f[wSe]=u),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qSe{constructor(t){this.app=t}_delete(){return delete Dv[this.app.options.appId],Promise.resolve()}}let Dv={},Hj=[];const qj={};let KA="dataLayer",GSe="gtag",Gj,mK,Kj=!1;function KSe(){const e=[];if(vH()&&e.push("This is a browser extension environment."),vve()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=Zo.create("invalid-analytics-context",{errorInfo:t});xo.warn(r.message)}}function XSe(e,t,r){KSe();const n=e.options.appId;if(!n)throw Zo.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)xo.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Zo.create("no-api-key");if(Dv[n]!=null)throw Zo.create("already-exists",{id:n});if(!Kj){NSe(KA);const{wrappedGtag:a,gtagCore:s}=OSe(Dv,Hj,qj,KA,GSe);mK=a,Gj=s,Kj=!0}return Dv[n]=HSe(e,Hj,qj,t,Gj,KA,r),new qSe(e)}function YSe(e=J5()){e=Zn(e);const t=Sh(e,__);return t.isInitialized()?t.getImmediate():JSe(e)}function JSe(e,t={}){const r=Sh(e,__);if(r.isInitialized()){const i=r.getImmediate();if(nh(t,r.getOptions()))return i;throw Zo.create("already-initialized")}return r.initialize({options:t})}function QSe(e,t,r,n){e=Zn(e),zSe(mK,Dv[e.app.options.appId],t,r,n).catch(i=>xo.error(i))}const Xj="@firebase/analytics",Yj="0.10.18";function ZSe(){Tc(new $l(__,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return XSe(n,i,r)},"PUBLIC")),Tc(new $l("analytics-internal",e,"PRIVATE")),yo(Xj,Yj),yo(Xj,Yj,"esm2020");function e(t){try{const r=t.getProvider(__).getImmediate();return{logEvent:(n,i,a)=>QSe(r,n,i,a)}}catch(r){throw Zo.create("interop-component-reg-failed",{reason:r})}}}ZSe();const eEe={apiKey:"AIzaSyDA4Ia0fnlZ3NgQbCtWHQIeosBS0PUVLeo",authDomain:"centralteleoperadores.firebaseapp.com",projectId:"centralteleoperadores",storageBucket:"centralteleoperadores.firebasestorage.app",messagingSenderId:"260173879227",appId:"1:260173879227:web:80577712429c58d201969e",measurementId:"G-TLLE9RJBPM"},_S=SH(eEe),Fs=J2e(_S),Wt=OG(_S);I5e(_S);typeof window<"u"&&YSe(_S);const gK=Object.freeze(Object.defineProperty({__proto__:null,auth:Fs,db:Wt},Symbol.toStringTag,{value:"Module"})),vK=L.createContext(),Ep=()=>{const e=L.useContext(vK);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e},tEe=({children:e})=>{const[t,r]=L.useState(null),[n,i]=L.useState(!0),[a,s]=L.useState(null),o=async(f,d,h)=>{try{s(null);const g=await Dxe(Fs,f,d);return h&&await jxe(g.user,{displayName:h}),g.user}catch(g){throw s(g.message),g}},l=async(f,d)=>{try{return s(null),(await Rxe(Fs,f,d)).user}catch(h){throw s(h.message),h}},c=async()=>{try{s(null),await Uxe(Fs)}catch(f){throw s(f.message),f}};L.useEffect(()=>Bxe(Fs,d=>{r(d),i(!1)}),[]);const u={user:t,loading:n,error:a,register:o,login:l,logout:c,clearError:()=>s(null)};return p.jsx(vK.Provider,{value:u,children:e})},Ol={OPERATORS:"operators",ASSIGNMENTS:"assignments",CALL_DATA:"callData",USER_DATA:"userData",BENEFICIARIES:"beneficiaries",BENEFICIARY_UPLOADS:"beneficiaryUploads"};let ep=!1;const Dl=(e,t)=>{if(e.code==="permission-denied")return ep||(console.warn("⚠️ Firebase Firestore: Permisos insuficientes. La aplicación funciona en modo demo."),console.info("💡 Para habilitar persistencia, configura Firestore siguiendo las instrucciones en FIREBASE_SETUP.md"),ep=!0),null;if(e.code==="failed-precondition"&&e.message.includes("index"))return console.info("🔍 Firebase está creando índices necesarios. Usando datos locales temporalmente."),console.info("🔗 Estado del índice: https://console.firebase.google.com/project/centralteleoperadores/firestore/indexes"),null;throw console.error(`Error en ${t}:`,e),e},Rv={async create(e,t){try{return{id:(await y_(wn(Wt,Ol.OPERATORS),{...t,userId:e,createdAt:new Date,updatedAt:new Date})).id,...t}}catch(r){return Dl(r,"crear operador")}},async getByUser(e){if(ep)return[];try{const t=Li(wn(Wt,Ol.OPERATORS),Ri("userId","==",e));return(await Ia(t)).docs.map(i=>({id:i.id,...i.data()})).sort((i,a)=>{var l,c,u,f;const s=((c=(l=i.createdAt)==null?void 0:l.toDate)==null?void 0:c.call(l))||new Date(0);return(((f=(u=a.createdAt)==null?void 0:u.toDate)==null?void 0:f.call(u))||new Date(0))-s})}catch(t){return Dl(t,"obtener operadores")||[]}},async update(e,t){try{const r=tn(Wt,Ol.OPERATORS,e);return await dg(r,{...t,updatedAt:new Date}),!0}catch(r){return Dl(r,"actualizar operador")}},async delete(e){try{return await J0(tn(Wt,Ol.OPERATORS,e)),!0}catch(t){return Dl(t,"eliminar operador")}},async getAll(){if(ep)return[];try{console.log("📥 Obteniendo todos los operadores desde Firebase...");const t=(await Ia(wn(Wt,Ol.OPERATORS))).docs.map(r=>({id:r.id,...r.data()}));return console.log("✅ Operadores obtenidos:",t.length),t.sort((r,n)=>{var s,o,l,c;const i=((o=(s=r.createdAt)==null?void 0:s.toDate)==null?void 0:o.call(s))||new Date(0);return(((c=(l=n.createdAt)==null?void 0:l.toDate)==null?void 0:c.call(l))||new Date(0))-i})}catch(e){return console.error("❌ Error obteniendo todos los operadores:",e),Dl(e,"obtener todos los operadores")||[]}}},pm={async saveOperatorAssignments(e,t,r){try{const n=tn(Wt,Ol.ASSIGNMENTS,`${e}_${t}`);return await k0(n,{userId:e,operatorId:t,assignments:r,updatedAt:new Date}),!0}catch(n){return Dl(n,"guardar asignaciones")}},async getOperatorAssignments(e,t){try{const r=tn(Wt,Ol.ASSIGNMENTS,`${e}_${t}`),n=await Ix(r);return n.exists()?n.data().assignments||[]:[]}catch(r){return Dl(r,"obtener asignaciones")||[]}},async getAllUserAssignments(e){if(ep)return{};try{const t=Li(wn(Wt,Ol.ASSIGNMENTS),Ri("userId","==",e)),r=await Ia(t),n={};return r.docs.forEach(i=>{const a=i.data();n[a.operatorId]=a.assignments||[]}),n}catch(t){return Dl(t,"obtener todas las asignaciones")||{}}},async deleteOperatorAssignments(e,t){try{return await J0(tn(Wt,Ol.ASSIGNMENTS,`${e}_${t}`)),!0}catch(r){return Dl(r,"eliminar asignaciones")}},async getAll(){if(ep)return[];try{console.log("📥 Obteniendo todas las asignaciones desde Firebase...");const e=await Ia(wn(Wt,Ol.ASSIGNMENTS)),t=[];return e.docs.forEach(r=>{const n=r.data();n.assignments&&Array.isArray(n.assignments)&&n.assignments.forEach(i=>{t.push({...i,operatorId:n.operatorId,userId:n.userId})})}),console.log("✅ Asignaciones obtenidas:",t.length),t}catch(e){return console.error("❌ Error obteniendo todas las asignaciones:",e),Dl(e,"obtener todas las asignaciones")||[]}}},Wk={async saveCallData(e,t){try{const r=tn(Wt,Ol.CALL_DATA,e);return await k0(r,{userId:e,callData:t,updatedAt:new Date}),!0}catch(r){return Dl(r,"guardar datos de llamadas")}},async getCallData(e){if(ep)return[];try{const t=tn(Wt,Ol.CALL_DATA,e),r=await Ix(t);return r.exists()?r.data().callData||[]:[]}catch(t){return Dl(t,"obtener datos de llamadas")||[]}}},XA=Object.freeze(Object.defineProperty({__proto__:null,assignmentService:pm,callDataService:Wk,operatorService:Rv},Symbol.toStringTag,{value:"Module"})),Jj=e=>{let t;const r=new Set,n=(c,u)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const d=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(h=>h(t,d))}},i=()=>t,o={setState:n,getState:i,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=t=e(n,i,o);return o},rEe=e=>e?Jj(e):Jj,nEe=e=>e;function iEe(e,t=nEe){const r=tl.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return tl.useDebugValue(r),r}const Qj=e=>{const t=rEe(e),r=n=>iEe(t,n);return Object.assign(r,t),r},Vg=e=>e?Qj(e):Qj,aEe=e=>(t,r,n)=>{const i=n.subscribe;return n.subscribe=(s,o,l)=>{let c=s;if(o){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=s(n.getState());c=d=>{const h=s(d);if(!u(f,h)){const g=f;o(f=h,g)}},l!=null&&l.fireImmediately&&o(f,f)}return i(c)},e(t,r,n)},sEe=aEe;function SS(e,t){let r;try{r=e()}catch{return}return{getItem:i=>{var a;const s=l=>l===null?null:JSON.parse(l,void 0),o=(a=r.getItem(i))!=null?a:null;return o instanceof Promise?o.then(s):s(o)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>r.removeItem(i)}}const Hk=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Hk(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Hk(n)(r)}}}},oEe=(e,t)=>(r,n,i)=>{let a={storage:SS(()=>localStorage),partialize:m=>m,version:0,merge:(m,v)=>({...v,...m}),...t},s=!1;const o=new Set,l=new Set;let c=a.storage;if(!c)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...m)},n,i);const u=()=>{const m=a.partialize({...n()});return c.setItem(a.name,{state:m,version:a.version})},f=i.setState;i.setState=(m,v)=>{f(m,v),u()};const d=e((...m)=>{r(...m),u()},n,i);i.getInitialState=()=>d;let h;const g=()=>{var m,v;if(!c)return;s=!1,o.forEach(b=>{var _;return b((_=n())!=null?_:d)});const y=((v=a.onRehydrateStorage)==null?void 0:v.call(a,(m=n())!=null?m:d))||void 0;return Hk(c.getItem.bind(c))(a.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==a.version){if(a.migrate){const _=a.migrate(b.state,b.version);return _ instanceof Promise?_.then(N=>[!0,N]):[!0,_]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var _;const[N,R]=b;if(h=a.merge(R,(_=n())!=null?_:d),r(h,!0),N)return u()}).then(()=>{y==null||y(h,void 0),h=n(),s=!0,l.forEach(b=>b(h))}).catch(b=>{y==null||y(void 0,b)})};return i.persist={setOptions:m=>{a={...a,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c==null||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>s,onHydrate:m=>(o.add(m),()=>{o.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},a.skipHydration||g(),h||d},Ox=oEe;Vg(Ox((e,t)=>({user:null,isAuthenticated:!1,loading:!1,error:null,setUser:r=>{e({user:r,isAuthenticated:!!r,error:null})},setLoading:r=>{e({loading:r})},setError:r=>{e({error:r})},logout:()=>{e({user:null,isAuthenticated:!1,loading:!1,error:null})},updateUser:r=>{const n=t().user;n&&e({user:{...n,...r}})},getUserDisplayName:()=>{const{user:r}=t();return(r==null?void 0:r.displayName)||(r==null?void 0:r.email)||"Usuario"},getUserEmail:()=>{const{user:r}=t();return(r==null?void 0:r.email)||""},isAdmin:()=>{const{user:r}=t();return(r==null?void 0:r.role)==="admin"||!1}}),{name:"user-storage",storage:SS(()=>localStorage),partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}));const hg=Vg(Ox((e,t)=>({callData:[],processedData:[],callMetrics:{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},isLoading:!1,loadingStage:null,loadingMessage:"",lastUpdated:null,dataSource:null,filters:{dateRange:null,operator:null,status:"all",commune:null},_phoneToOperatorCache:new Map,_beneficiaryCache:new Map,_dateCache:new Map,forceReanalysis:()=>{const{callData:r}=t();r&&r.length>0&&(console.log("🔄 Forzando re-análisis con lógica corregida..."),t().analyzeCallData())},setCallData:(r,n="excel")=>{const i=new Date().toISOString();e({callData:r,dataSource:n,lastUpdated:i,isLoading:!1,loadingStage:"complete",loadingMessage:`${r.length} llamadas cargadas exitosamente`,_phoneToOperatorCache:new Map,_beneficiaryCache:new Map,_dateCache:new Map}),t().analyzeCallData()},setLoading:(r,n=null,i="")=>{e({isLoading:r,loadingStage:n,loadingMessage:i})},setLoadingStage:(r,n="")=>{e({loadingStage:r,loadingMessage:n||{uploading:"Subiendo archivo Excel...",processing:"Procesando datos del archivo...",analyzing:"Analizando llamadas y generando métricas...",complete:"Análisis completado exitosamente",error:"Error durante el procesamiento"}[r]||"",isLoading:r!=="complete"&&r!=="error"})},analyzeCallData:()=>{const{callData:r}=t();if(t().setLoadingStage("analyzing","Analizando datos de llamadas..."),!r||r.length===0){e({processedData:[],callMetrics:{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},loadingStage:"complete",loadingMessage:"No hay datos para analizar",isLoading:!1});return}setTimeout(()=>{const n=r.map(f=>{const d=f.beneficiario||f.beneficiary||f.nombre||"Sin identificar",h=f.operador||f.operator||f.teleoperadora||"No identificado",g=f.telefono||f.phone||f.numero||"N/A",m=f.fecha||f.date||new Date().toISOString().split("T")[0],v=parseInt(f.duracion||f.duration||0),y=f.resultado||f.result||f.estado||"",b=(y==="Llamado exitoso"||y==="exitoso"||y==="Exitoso")&&v>0;return{...f,beneficiary:d,operator:h,phone:g,date:m,duration:v,isSuccessful:b,categoria:b?"exitosa":"fallida"}}),i=n.length,a=n.filter(f=>f.isSuccessful).length,s=i-a,o=n.reduce((f,d)=>f+d.duration,0),l=i>0?Math.round(o/i):0,c=new Set(n.map(f=>f.beneficiary)).size,u={totalCalls:i,successfulCalls:a,failedCalls:s,averageDuration:l,uniqueBeneficiaries:c,protocolCompliance:i>0?Math.round(a/i*100):0};e({processedData:n,callMetrics:u,loadingStage:"complete",loadingMessage:`Análisis completado: ${i} llamadas procesadas`,isLoading:!1})},100)},getFilteredData:()=>{const{processedData:r,filters:n}=t();if(!r||r.length===0)return[];let i=[...r];if(n.operator&&n.operator!=="all"&&(i=i.filter(a=>a.operator===n.operator)),n.status&&n.status!=="all"&&(n.status==="successful"?i=i.filter(a=>a.isSuccessful):n.status==="failed"&&(i=i.filter(a=>!a.isSuccessful))),n.commune&&n.commune!=="all"&&(i=i.filter(a=>a.commune===n.commune)),n.dateRange){const{start:a,end:s}=n.dateRange,o=new Date(a).getTime(),l=new Date(s).getTime();i=i.filter(c=>{const u=new Date(c.date).getTime();return u>=o&&u<=l})}return i},clearData:()=>{e({callData:[],processedData:[],callMetrics:{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},lastUpdated:null,dataSource:null,isLoading:!1,loadingStage:null,loadingMessage:"",_phoneToOperatorCache:new Map,_beneficiaryCache:new Map,_dateCache:new Map})},getOperatorMetrics:(r=null)=>{try{const{callData:n,_phoneToOperatorCache:i}=t();if(!n||n.length===0)return[];if(!r||!Array.isArray(r)||r.length===0)return[];let a=i;a.size===0&&(r.forEach(u=>{const f=u.operator||u.operatorName||"Sin Asignar",d=[];[u.phone,u.primaryPhone,u.telefono,u.numero_cliente].filter(Boolean).forEach(h=>{h.includes(";")?d.push(...h.split(";").map(g=>g.trim())):d.push(h)}),u.phones&&Array.isArray(u.phones)&&d.push(...u.phones),d.forEach(h=>{if(h&&h!=="N/A"&&h.trim()){const g=h.toString().replace(/[^\d]/g,"");if(g.length>=8){const m=g.slice(-8);a.set(m,f)}}})}),e({_phoneToOperatorCache:a}));const s=[...new Set(Array.from(a.values()))],o={};s.forEach(u=>{o[u]={operatorName:u,totalCalls:0,successfulCalls:0,failedCalls:0,totalDuration:0}});let l=0;return n.forEach(u=>{const f=u.phone||u.telefono||u.numero||u.numero_cliente||u.numero_telefono||"",d=String(f||"");if(d&&d.trim()){const h=d.replace(/[^\d]/g,"");if(h.length>=8){const g=h.slice(-8),m=a.get(g);if(m&&o[m]){l++;const v=o[m];v.totalCalls++;const y=parseInt(u.duration||u.duracion||0);v.totalDuration+=y;const b=u.result||u.resultado||u.estado||"";(b==="Llamado exitoso"||b==="exitoso"||b==="Exitoso")&&y>0?v.successfulCalls++:v.failedCalls++}}}}),Object.values(o).filter(u=>u.totalCalls>0).map(u=>({operatorName:u.operatorName,totalCalls:u.totalCalls,successfulCalls:u.successfulCalls,failedCalls:u.failedCalls,averageDuration:u.totalCalls>0?Math.round(u.totalDuration/u.totalCalls):0,successRate:u.totalCalls>0?Math.round(u.successfulCalls/u.totalCalls*100):0})).sort((u,f)=>f.totalCalls-u.totalCalls)}catch(n){return console.error("Error en getOperatorMetrics:",n),[]}},getHourlyDistribution:()=>{const{processedData:r}=t(),n=Array.from({length:24},(i,a)=>({hour:a,calls:0}));return Array.isArray(r)&&r.forEach(i=>{try{let a=null;if(i.hora){const o=i.hora.toString().match(/^(\d{1,2})/);o&&(a=parseInt(o[1]))}else i.hour!==void 0&&(a=parseInt(i.hour));a!==null&&a>=0&&a<24&&n[a].calls++}catch{}}),n},getFollowUpData:r=>{const{processedData:n,_beneficiaryCache:i}=t();if(!n||n.length===0)return[];const{_dateCache:a}=t(),s=u=>{if(!u)return"N/A";if(a.has(u))return a.get(u);try{let f;if(typeof u=="string"&&/^\d{1,2}[-\/]\d{1,2}[-\/]\d{4}$/.test(u)){const d=u.split(/[-\/]/),h=parseInt(d[0]),g=parseInt(d[1]),m=parseInt(d[2]);h<=31&&g<=12&&m>=1900?f=`${h.toString().padStart(2,"0")}-${g.toString().padStart(2,"0")}-${m}`:f="Fecha inválida"}else if(typeof u=="number"){const d=new Date((u-25569)*86400*1e3);if(isNaN(d.getTime()))f="Fecha inválida";else{const h=d.getDate().toString().padStart(2,"0"),g=(d.getMonth()+1).toString().padStart(2,"0"),m=d.getFullYear();f=`${h}-${g}-${m}`}}else{const d=new Date(u);if(isNaN(d.getTime()))f=typeof u=="string"?u:"Error en fecha";else{const h=d.getDate().toString().padStart(2,"0"),g=(d.getMonth()+1).toString().padStart(2,"0"),m=d.getFullYear();f=`${h}-${g}-${m}`}}return a.set(u,f),f}catch{return typeof u=="string"?u:"Error en fecha"}};let o=i;o.size===0&&(n.forEach(u=>{const f=u.beneficiario||u.beneficiary,d=u.resultado||u.result||u.estado||"Sin resultado",h=u.fecha||u.date;if(!f)return;o.has(f)||o.set(f,{beneficiary:f,calls:[],lastResult:d,lastDate:h});const g=o.get(f);g.calls.push(u);try{const m=new Date(h).getTime(),v=new Date(g.lastDate).getTime();!isNaN(m)&&(isNaN(v)||m>v)&&(g.lastResult=d,g.lastDate=h)}catch{}}),e({_beneficiaryCache:o}));const l=new Map;return r&&Array.isArray(r)&&r.forEach(u=>{const f=(u.beneficiary||u.beneficiario||"").trim();f&&l.set(f.toLowerCase(),u)}),Array.from(o.values()).map(u=>{const f=l.get(u.beneficiary.toLowerCase());let d="pendiente",h="bg-yellow-100 text-yellow-800";u.lastResult==="Llamado exitoso"||u.lastResult==="exitosa"?(d="al-dia",h="bg-green-100 text-green-800"):u.calls.length>3&&(d="urgente",h="bg-red-100 text-red-800");let g="No Asignado",m="N/A",v="N/A";if(f){const y=f.operator||f.operador||f.operatorName||f.teleoperadora||f.name;y&&y!=="Solo HANGUP"&&y!=="HANGUP"&&y!=="No identificado"&&y!=="Llamado exitoso"&&y!=="Llamado fallido"&&y!=="exitosa"&&y!=="fallida"&&y.trim().length>2&&!/^\d{1,2}[-\/]\d{1,2}[-\/]\d{4}$/.test(y)&&(g=y),m=f.phone||f.telefono||f.primaryPhone||f.numero_cliente||"N/A",v=f.commune||f.comuna||"N/A"}return{id:u.beneficiary,operator:g,beneficiary:u.beneficiary,phone:m,commune:v,status:d,lastCall:s(u.lastDate),callCount:u.calls.length,colorClass:h}})},hasData:()=>{const{callData:r}=t();return r&&r.length>0},getSuccessRate:()=>{const{callMetrics:r}=t();return!r||!r.totalCalls||r.totalCalls===0?0:Math.round(r.successfulCalls/r.totalCalls*100)},getDataSummary:()=>{const{callMetrics:r,lastUpdated:n,dataSource:i}=t();return{...r,lastUpdated:n,dataSource:i,successRate:t().getSuccessRate()}}}),{name:"call-audit-storage-optimized",storage:SS(()=>localStorage),partialize:e=>({callData:e.callData,processedData:e.processedData,callMetrics:e.callMetrics,lastUpdated:e.lastUpdated,dataSource:e.dataSource,filters:e.filters,loadingStage:e.loadingStage,loadingMessage:e.loadingMessage})})),ao=Vg(Ox((e,t)=>({operators:[],operatorAssignments:{},activeTab:"dashboard",isLoading:!1,settings:{autoRefresh:!1,refreshInterval:3e4,defaultView:"dashboard"},setOperators:r=>{e({operators:r||[]})},addOperator:r=>{e(n=>({operators:[...n.operators,r]}))},updateOperator:(r,n)=>{e(i=>({operators:i.operators.map(a=>a.id===r?{...a,...n}:a)}))},removeOperator:r=>{e(n=>({operators:n.operators.filter(i=>i.id!==r),operatorAssignments:Object.fromEntries(Object.entries(n.operatorAssignments).filter(([i])=>i!==r))}))},setOperatorAssignments:r=>{e({operatorAssignments:r||{}})},updateOperatorAssignments:(r,n)=>{e(i=>({operatorAssignments:{...i.operatorAssignments,[r]:n}}))},clearOperatorAssignments:r=>{e(n=>{const i={...n.operatorAssignments};return delete i[r],{operatorAssignments:i}})},setActiveTab:r=>{e({activeTab:r})},setLoading:r=>{e({isLoading:r})},updateSettings:r=>{e(n=>({settings:{...n.settings,...r}}))},getOperatorById:r=>{const{operators:n}=t();return n.find(i=>i.id===r)||null},getOperatorAssignments:r=>{const{operatorAssignments:n}=t();return n[r]||[]},getAllAssignments:()=>{const{operatorAssignments:r,operators:n}=t(),i=[];return console.log("🔍 getAllAssignments - operatorAssignments:",r),console.log("🔍 getAllAssignments - operators:",n),Object.entries(r).forEach(([a,s])=>{const o=n.find(l=>l.id===a);o&&s&&(console.log(`📋 Procesando asignaciones para ${o.name}:`,s.length),s.forEach(l=>{const c={id:l.id,operator:o.name,operatorName:o.name,operatorEmail:o.email,beneficiary:l.beneficiary,phone:l.primaryPhone,commune:l.commune};i.push(c),console.log("✅ Asignación agregada:",c)}))}),console.log("📊 Total asignaciones devueltas:",i.length),i},getAssignmentsByEmail:r=>{const{operatorAssignments:n,operators:i}=t(),a=r==null?void 0:r.toLowerCase().trim();console.log("🔍 Buscando asignaciones para email:",a),console.log("🔍 Operadores disponibles:",i.map(o=>({id:o.id,name:o.name,email:o.email})));const s=i.find(o=>{var h,g;const l=(h=o.email)==null?void 0:h.toLowerCase().trim(),c=(g=o.name)==null?void 0:g.toLowerCase().trim(),u=l===a,f=a.includes(c==null?void 0:c.split(" ")[0])||a.includes(c==null?void 0:c.split(" ")[1]),d=c==null?void 0:c.includes(a.split("@")[0]);return console.log(`🔍 Verificando operador ${o.name}:`,{opEmail:l,exactEmailMatch:u,nameInEmail:f,emailInName:d}),u||f||d});if(s){console.log("✅ Operador encontrado:",s);const o=n[s.id]||[];return console.log("✅ Asignaciones encontradas:",o.length),o.map(l=>({id:l.id,operator:s.name,operatorName:s.name,operatorEmail:s.email,beneficiary:l.beneficiary,phone:l.primaryPhone,commune:l.commune}))}else return console.warn("❌ No se encontró operador para email:",a),[]},getTotalAssignments:()=>{const{operatorAssignments:r}=t();return Object.values(r).reduce((n,i)=>n+((i==null?void 0:i.length)||0),0)},loadOperators:async()=>{try{e({isLoading:!0}),console.log("📥 Cargando operadores desde Firebase...");const r=await Rv.getAll();return console.log("✅ Operadores cargados:",r.length),e({operators:r||[],isLoading:!1}),r}catch(r){return console.error("❌ Error cargando operadores:",r),e({isLoading:!1}),[]}},loadAssignments:async()=>{try{e({isLoading:!0}),console.log("📥 Cargando asignaciones desde Firebase...");const r=await pm.getAll();console.log("✅ Asignaciones cargadas:",r.length);const n={};return r.forEach(i=>{i.operatorId&&(n[i.operatorId]||(n[i.operatorId]=[]),n[i.operatorId].push(i))}),e({operatorAssignments:n,isLoading:!1}),console.log("📊 Asignaciones agrupadas por operador:",Object.keys(n).length),r}catch(r){return console.error("❌ Error cargando asignaciones:",r),e({isLoading:!1}),[]}},clearAllData:()=>{e({operators:[],operatorAssignments:{},activeTab:"dashboard"})}}),{name:"app-storage",storage:SS(()=>localStorage),partialize:e=>({operators:e.operators,operatorAssignments:e.operatorAssignments,settings:e.settings})})),eu=e=>!e||typeof e!="string"?"":e.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^\w\s]/g,""),Qi=e=>{if(!e)return"";const t=e.toString();if(/^0+$/.test(t.replace(/\D/g,"")))return"";const r=t.replace(/\D/g,"");return r.length<8?"":r},yK=(e,t,r=.8)=>{if(!e||!t)return!1;const n=eu(e),i=eu(t);if(n===i||n.includes(i)||i.includes(n))return!0;const a=n.split(" "),s=i.split(" "),o=a.filter(u=>s.includes(u)),l=[...new Set([...a,...s])];return o.length/l.length>=r},qk=(e,t)=>{if(!e||!t||!Array.isArray(t))return null;const r=eu(e.nombre),n=[Qi(e.fono),Qi(e.sim),Qi(e.appSim)].filter(Boolean);return t.find(i=>{const a=eu(i.nombre||i.name);if(yK(r,a))return!0;const s=[Qi(i.fono||i.telefono||i.phone),Qi(i.sim),Qi(i.appSim)].filter(Boolean);return n.some(o=>s.some(l=>l===o))})},lEe=e=>{const t=[Qi(e.fono),Qi(e.sim),Qi(e.appSim)].filter(Boolean);return[...new Set(t)]},oc={BENEFICIARIES:"beneficiaries",BENEFICIARY_UPLOADS:"beneficiaryUploads"},Uu={async deleteAllBeneficiaries(e=null){try{console.log("🗑️ Eliminando todos los beneficiarios...");let t;e?(console.log(`🗑️ Eliminando beneficiarios del usuario: ${e}`),t=Li(wn(Wt,oc.BENEFICIARIES),Ri("creadoPor","==",e))):(console.log("🗑️ Eliminando TODOS los beneficiarios de la base"),t=wn(Wt,oc.BENEFICIARIES));const r=await Ia(t),n=Ly(Wt);return console.log(`🗑️ Documentos a eliminar: ${r.size}`),r.docs.forEach(i=>{n.delete(i.ref)}),await n.commit(),console.log("✅ Eliminación completada"),{success:!0,deletedCount:r.size,message:`${r.size} beneficiarios eliminados exitosamente`}}catch(t){return console.error("❌ Error al eliminar beneficiarios:",t),{success:!1,error:t.message,deletedCount:0}}},async uploadBeneficiaries(e,t,r=()=>{},n=!0){try{if(console.log("📤 Iniciando upload de beneficiarios..."),console.log(`📊 Datos a procesar: ${e.length}`),console.log(`🔄 Reemplazar datos existentes: ${n}`),n){console.log("🗑️ PASO 1: Eliminando beneficiarios existentes...");const u=await this.deleteAllBeneficiaries(t);if(!u.success)throw new Error(`Error al eliminar datos existentes: ${u.error}`);console.log(`✅ ${u.deletedCount} beneficiarios previos eliminados`),r({phase:"cleanup",completed:u.deletedCount,total:u.deletedCount})}console.log("📤 PASO 2: Procesando nuevos beneficiarios...");const i=Ly(Wt),a=`upload_${Date.now()}`,s=[],o=[];for(let u=0;u<e.length;u++){const f=e[u];try{const d=this.processBeneficiaryData(f,u+1);if(d.isValid){const h=tn(wn(Wt,oc.BENEFICIARIES)),g={...d.data,uploadId:a,creadoEn:Zr(),actualizadoEn:Zr(),creadoPor:t,rowNumber:u+1};i.set(h,g),s.push({id:h.id,...g})}else o.push({row:u+1,data:f,errors:d.errors})}catch(d){o.push({row:u+1,data:f,errors:[`Error de procesamiento: ${d.message}`]})}r({processed:u+1,total:e.length,successful:s.length,errors:o.length})}const l=tn(wn(Wt,oc.BENEFICIARY_UPLOADS),a);return i.set(l,{id:a,userId:t,totalRecords:e.length,successfulRecords:s.length,errorRecords:o.length,uploadedAt:Zr(),status:"completed"}),await i.commit(),console.log("✅ UPLOAD COMPLETADO:"),console.log(`   - Registros procesados: ${e.length}`),console.log(`   - Exitosos: ${s.length}`),console.log(`   - Errores: ${o.length}`),{success:!0,uploadId:a,totalProcessed:e.length,successful:s.length,errors:o.length,errorDetails:o,data:s,replacedPrevious:n,message:n?`✅ Base de datos reemplazada: ${s.length} beneficiarios cargados`:`✅ ${s.length} beneficiarios añadidos`}}catch(i){throw console.error("❌ Error en uploadBeneficiaries:",i),new Error(`Error al cargar beneficiarios: ${i.message}`)}},processBeneficiaryData(e,t){const r=[],n=e.Nombre||e.nombre||e.A||"",i=e.Fono||e.fono||e.B||"",a=e.Sim||e.sim||e.C||"",s=e.Direccion||e.direccion||e.D||"",o=e["App Sim"]||e.appSim||e.E||"";(!n||typeof n!="string"||n.trim().length===0)&&r.push("Nombre es obligatorio"),(!s||typeof s!="string"||s.trim().length===0)&&r.push("Dirección es obligatoria");const l=Qi(i),c=Qi(a),u=Qi(o),f=[l,c,u].filter(Boolean);f.length===0&&r.push("Al menos un teléfono válido es requerido");const d={nombre:n.toString().trim(),fono:l||null,sim:c||null,direccion:s.toString().trim(),appSim:u||null,nombreNormalizado:eu(n),telefonosValidos:f,datosOriginales:{nombre:n,fono:i.toString(),sim:a.toString(),direccion:s,appSim:o.toString()}};return{isValid:r.length===0,errors:r,data:d}},async getAllBeneficiaries(e=null){try{console.log("🔍 getAllBeneficiaries - Iniciando consulta a Firebase..."),console.log("🔍 userId:",e);let t;e?(console.log("🔍 Consultando beneficiarios para usuario específico..."),t=Li(wn(Wt,oc.BENEFICIARIES),Ri("creadoPor","==",e),Wd("creadoEn","desc"))):(console.log("🔍 Consultando todos los beneficiarios..."),t=Li(wn(Wt,oc.BENEFICIARIES),Wd("creadoEn","desc"))),console.log("🔍 Ejecutando consulta...");const r=await Ia(t);console.log("🔍 Documentos encontrados:",r.size);const n=r.docs.map(i=>({id:i.id,...i.data()}));return console.log("✅ Beneficiarios procesados:",n.length),n}catch(t){return console.error("❌ Error al obtener beneficiarios:",t),[]}},async searchBeneficiaries(e){try{const t=await this.getAllBeneficiaries();if(!e||e.trim().length===0)return t;const r=eu(e),n=Qi(e);return t.filter(i=>i.nombreNormalizado&&i.nombreNormalizado.includes(r)?!0:n&&i.telefonosValidos?i.telefonosValidos.some(a=>a.includes(n)):!1)}catch(t){return console.error("Error en búsqueda de beneficiarios:",t),[]}},async getBeneficiaryById(e){try{const t=tn(Wt,oc.BENEFICIARIES,e),r=await Ix(t);return r.exists()?{id:r.id,...r.data()}:null}catch(t){return console.error("Error al obtener beneficiario:",t),null}},async updateBeneficiary(e,t){try{const r=tn(Wt,oc.BENEFICIARIES,e),n={...t,actualizadoEn:Zr()};if(t.nombre&&(n.nombreNormalizado=eu(t.nombre)),t.fono!==void 0||t.sim!==void 0||t.appSim!==void 0){const i=await this.getBeneficiaryById(e);if(i){const a={...i,...t};n.telefonosValidos=lEe(a)}}return await dg(r,n),!0}catch(r){return console.error("Error al actualizar beneficiario:",r),!1}},async deleteBeneficiary(e){try{const t=tn(Wt,oc.BENEFICIARIES,e);return await J0(t),!0}catch(t){return console.error("Error al eliminar beneficiario:",t),!1}},async getUploadHistory(e){try{const t=Li(wn(Wt,oc.BENEFICIARY_UPLOADS),Ri("userId","==",e),Wd("uploadedAt","desc"));return(await Ia(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error al obtener historial:",t),[]}},async validateBeneficiaryExists(e,t){try{const r=await this.getAllBeneficiaries(),n=eu(e),i=Qi(t);return r.find(a=>n&&a.nombreNormalizado===n?!0:i&&a.telefonosValidos?a.telefonosValidos.includes(i):!1)||null}catch(r){return console.error("Error al validar beneficiario:",r),null}},async testFirebaseConnection(){try{console.log("🧪 Iniciando test de conexión Firebase...");const e=performance.now();console.log("📁 Test 1: Verificando colección de beneficiarios...");const t=wn(Wt,oc.BENEFICIARIES);console.log("✅ Referencia a colección creada"),console.log("🔍 Test 2: Ejecutando consulta...");const r=await Ia(t),n=r.size;if(console.log(`✅ Consulta ejecutada. Documentos encontrados: ${n}`),n>0){console.log("📋 Test 3: Mostrando primeros documentos...");let o=0;r.forEach(l=>{o<3&&(console.log(`   Documento ${l.id}:`,l.data()),o++)})}const i=performance.now(),a=Math.round(i-e),s={success:!0,beneficiariesCount:n,duration:`${a}ms`,timestamp:new Date().toISOString()};return console.log("🎉 Test Firebase completado:",s),s}catch(e){return console.error("❌ Error en test Firebase:",e),{success:!1,error:e.message,timestamp:new Date().toISOString()}}}};window.testFirebaseConnection=Uu.testFirebaseConnection;const cEe=Object.freeze(Object.defineProperty({__proto__:null,beneficiaryService:Uu},Symbol.toStringTag,{value:"Module"})),S_=Vg(Ox((e,t)=>({beneficiaries:[],uploadHistory:[],shouldReload:!1,isLoading:!1,isUploading:!1,uploadProgress:0,searchTerm:"",selectedBeneficiary:null,stats:{total:0,withPhones:0,withoutPhones:0,incomplete:0,unassigned:0},settings:{autoValidateAssignments:!0,showUnassignedAlerts:!0,maxUploadSize:10*1024*1024},setBeneficiaries:r=>{const n=t().calculateStats(r);e({beneficiaries:r||[],stats:n})},addBeneficiary:r=>{e(n=>{const i=[...n.beneficiaries,r],a=n.calculateStats(i);return{beneficiaries:i,stats:a}})},updateBeneficiary:(r,n)=>{e(i=>{const a=i.beneficiaries.map(o=>o.id===r?{...o,...n}:o),s=i.calculateStats(a);return{beneficiaries:a,stats:s}})},removeBeneficiary:r=>{e(n=>{const i=n.beneficiaries.filter(s=>s.id!==r),a=n.calculateStats(i);return{beneficiaries:i,stats:a}})},clearAllData:()=>{console.log("🧹 Limpiando todos los datos del store..."),e({beneficiaries:[],uploadHistory:[],searchTerm:"",selectedBeneficiary:null,stats:{total:0,withPhones:0,withoutPhones:0,incomplete:0,unassigned:0},shouldReload:!1});try{localStorage.removeItem("beneficiary-store"),console.log("🧹 localStorage limpiado")}catch(r){console.error("Error al limpiar localStorage:",r)}},setSearchTerm:r=>{e({searchTerm:r})},getFilteredBeneficiaries:()=>{const{beneficiaries:r,searchTerm:n}=t();if(!n||n.trim()==="")return r;const i=n.toLowerCase().trim();return r.filter(a=>a.nombre&&a.nombre.toLowerCase().includes(i)||a.direccion&&a.direccion.toLowerCase().includes(i)||a.fono&&a.fono.includes(i)||a.sim&&a.sim.includes(i)||a.appSim&&a.appSim.includes(i))},setUploadProgress:r=>{e({uploadProgress:r})},setIsUploading:r=>{e({isUploading:r})},addUploadRecord:r=>{e(n=>({uploadHistory:[r,...n.uploadHistory]}))},setIsLoading:r=>{e({isLoading:r})},setSelectedBeneficiary:r=>{e({selectedBeneficiary:r})},updateSettings:r=>{e(n=>({settings:{...n.settings,...r}}))},calculateStats:r=>{const n=r.length,i=r.filter(o=>o.telefonosValidos&&o.telefonosValidos.length>0).length,a=n-i,s=r.filter(o=>!o.nombre||!o.direccion||!o.telefonosValidos||o.telefonosValidos.length===0).length;return{total:n,withPhones:i,withoutPhones:a,incomplete:s,unassigned:0}},loadBeneficiaries:async(r=null)=>{const{beneficiaries:n,shouldReload:i}=t();if(n.length>0&&!i)return console.log("📋 Usando beneficiarios del cache local:",n.length),n;console.log("📥 Cargando beneficiarios desde Firebase..."),e({isLoading:!0});try{const a=await Uu.getAllBeneficiaries(r);return console.log("✅ Beneficiarios cargados:",a.length),t().setBeneficiaries(a),e({shouldReload:!1}),a}catch(a){if(console.error("❌ Error cargando beneficiarios:",a),n.length>0)return console.log("🔄 Usando datos en cache debido a error de red"),n;throw a}finally{e({isLoading:!1})}},forceReload:async(r=null)=>(e({shouldReload:!0}),await t().loadBeneficiaries(r)),uploadBeneficiaries:async(r,n)=>{e({isUploading:!0,uploadProgress:0});try{const i=await Uu.uploadBeneficiaries(r,n,a=>{const s=Math.round(a.processed/a.total*100);e({uploadProgress:s})});if(i.success&&i.data){const s=[...t().beneficiaries,...i.data];t().setBeneficiaries(s),e({shouldReload:!1})}return t().addUploadRecord({id:i.uploadId,timestamp:new Date,totalRecords:i.totalProcessed,successfulRecords:i.successful,errorRecords:i.errors,fileName:i.fileName||"archivo.xlsx"}),i}catch(i){throw console.error("Error subiendo beneficiarios:",i),i}finally{e({isUploading:!1,uploadProgress:0})}},searchBeneficiaries:async r=>{e({isLoading:!0});try{return await Uu.searchBeneficiaries(r)}catch(n){throw console.error("Error buscando beneficiarios:",n),n}finally{e({isLoading:!1})}},validateBeneficiaryExists:async(r,n)=>{try{return await Uu.validateBeneficiaryExists(r,n)}catch(i){return console.error("Error validando beneficiario:",i),null}},updateBeneficiaryData:async(r,n)=>{e({isLoading:!0});try{const i=await Uu.updateBeneficiary(r,n);return i&&t().updateBeneficiary(r,n),i}catch(i){throw console.error("Error actualizando beneficiario:",i),i}finally{e({isLoading:!1})}},deleteBeneficiaryData:async r=>{e({isLoading:!0});try{const n=await Uu.deleteBeneficiary(r);return n&&t().removeBeneficiary(r),n}catch(n){throw console.error("Error eliminando beneficiario:",n),n}finally{e({isLoading:!1})}},loadUploadHistory:async r=>{try{const n=await Uu.getUploadHistory(r);return e({uploadHistory:n}),n}catch(n){throw console.error("Error cargando historial:",n),n}},findUnassignedBeneficiaries:(r=[])=>{const{beneficiaries:n}=t();if(console.log("🔍 findUnassignedBeneficiaries - beneficiaries:",n.length),console.log("🔍 findUnassignedBeneficiaries - assignments:",r.length),r.length===0)return console.log("⚠️ No hay asignaciones para comparar"),n;const i=r.map(s=>({nombre:s.beneficiary||s.nombre||s.beneficiario,telefono:s.phone||s.primaryPhone||s.telefono||s.fono,teleoperadora:s.operator||s.operatorName||s.teleoperadora||s.operador})).filter(s=>s.nombre);console.log("📋 Asignaciones procesadas:",i.length),console.log("📋 Primera asignación:",i[0]);const a=n.filter(s=>!qk(s,i));return console.log("👥 Beneficiarios sin asignar:",a.length),e(s=>({stats:{...s.stats,unassigned:a.length}})),a},validateAssignmentConsistency:(r=[])=>{const{beneficiaries:n}=t(),i={inAssignmentsNotInBase:[],inBaseNotInAssignments:[],dataConflicts:[]};return r.forEach(a=>{qk(a,n)||i.inAssignmentsNotInBase.push(a)}),i.inBaseNotInAssignments=t().findUnassignedBeneficiaries(r),i},reset:()=>{e({beneficiaries:[],uploadHistory:[],isLoading:!1,isUploading:!1,uploadProgress:0,searchTerm:"",selectedBeneficiary:null,stats:{total:0,withPhones:0,withoutPhones:0,incomplete:0,unassigned:0}})}}),{name:"beneficiary-store",partialize:e=>({beneficiaries:e.beneficiaries,uploadHistory:e.uploadHistory,settings:e.settings,stats:e.stats,shouldReload:e.shouldReload})}));window.zustandStore=S_;class uEe{constructor(){this.collection="userProfiles",this.rolesCollection="roles"}isSuperAdmin(t){return(t==null?void 0:t.email)==="roberto@mistatas.com"}async diagnoseUserCollection(){var t;try{console.log("🩺 DIAGNÓSTICO: Iniciando diagnóstico de colección de usuarios");const r=Fs.currentUser;console.log("🩺 Usuario autenticado:",r==null?void 0:r.email),console.log("🩺 Es super admin:",this.isSuperAdmin(r)),console.log("🩺 Intentando acceso directo a la colección...");const n=wn(Wt,this.collection),i=await Ia(n);console.log("🩺 Documentos encontrados:",i.size);const a=[];return i.forEach(s=>{var l,c;const o=s.data();a.push({id:s.id,email:o.email,role:o.role,createdAt:((c=(l=o.createdAt)==null?void 0:l.toDate)==null?void 0:c.call(l))||o.createdAt}),console.log("🩺 Doc:",s.id,o)}),{success:!0,authenticated:!!r,userEmail:r==null?void 0:r.email,isSuperAdmin:this.isSuperAdmin(r),collectionExists:!0,documentsCount:i.size,documents:a}}catch(r){return console.error("🩺 Error en diagnóstico:",r),{success:!1,error:r.message,errorCode:r.code,authenticated:!!Fs.currentUser,userEmail:(t=Fs.currentUser)==null?void 0:t.email}}}async createTestUsers(){var t;try{console.log("🧪 Creando usuarios de prueba...");const r=[{email:"javiera.reyes@mistatas.com",displayName:"Javiera Reyes Alvarado",role:"teleoperadora",isActive:!0},{email:"admin@mistatas.com",displayName:"Administrador Sistema",role:"admin",isActive:!0}],n=[];for(const i of r)try{const a={uid:`test-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,email:i.email,displayName:i.displayName,role:i.role,isActive:i.isActive,createdAt:Zr(),updatedAt:Zr(),createdBy:(t=Fs.currentUser)==null?void 0:t.uid,lastLogin:null,isTestUser:!0};await k0(tn(Wt,this.collection,a.uid),a),console.log("✅ Usuario de prueba creado:",i.email),n.push({id:a.uid,...a})}catch(a){console.error("❌ Error creando usuario de prueba:",i.email,a)}return console.log(`🧪 Usuarios de prueba creados: ${n.length}`),n}catch(r){throw console.error("❌ Error en createTestUsers:",r),r}}async cleanTestUsers(){try{console.log("🧹 Limpiando usuarios de prueba...");const t=Li(wn(Wt,this.collection),Ri("isTestUser","==",!0)),r=await Ia(t),n=[];return r.forEach(i=>{n.push(J0(i.ref))}),await Promise.all(n),console.log(`🧹 ${r.size} usuarios de prueba eliminados`),r.size}catch(t){throw console.error("❌ Error limpiando usuarios de prueba:",t),t}}async getAllUsers(){var t;try{console.log("🔍 Iniciando carga de usuarios..."),console.log("🔍 Usuario actual:",(t=Fs.currentUser)==null?void 0:t.email),console.log("🔍 Colección:",this.collection);const r=Li(wn(Wt,this.collection),Wd("createdAt","desc"));console.log("🔍 Ejecutando query...");const n=await Ia(r),i=[];return console.log("🔍 Docs encontrados:",n.size),n.forEach(a=>{const s={id:a.id,...a.data()};console.log("📄 Usuario encontrado:",s),i.push(s)}),console.log(`✅ Total usuarios obtenidos: ${i.length}`),i}catch(r){return console.error("❌ Error obteniendo usuarios:",r),console.error("❌ Error code:",r.code),console.error("❌ Error message:",r.message),[]}}async createUser(t){var r;try{const{email:n,password:i,displayName:a,role:s,isActive:o,...l}=t;if(!this.isSuperAdmin(Fs.currentUser))throw new Error("Sin permisos para esta operación");if(!n||!a)throw new Error("Email y nombre son requeridos");const c=`profile-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,u={uid:c,email:n.toLowerCase().trim(),displayName:a.trim(),role:s||"teleoperadora",isActive:o!==!1,createdAt:Zr(),updatedAt:Zr(),createdBy:(r=Fs.currentUser)==null?void 0:r.uid,lastLogin:null,authenticationStatus:"pending",profileType:"admin_created",...l};if((await this.getAllUsers()).some(h=>h.email.toLowerCase()===n.toLowerCase()))throw new Error("Ya existe un usuario con este email");return await k0(tn(Wt,this.collection,c),u),console.log("✅ Perfil de usuario creado:",c),console.log("📧 El usuario deberá registrarse en Firebase Auth con el email:",n),{id:c,...u}}catch(n){throw console.error("❌ Error creando perfil de usuario:",n),new Error(this.getErrorMessage(n))}}async updateUser(t,r){var n;try{const i=tn(Wt,this.collection,t),a={...r,updatedAt:Zr(),updatedBy:(n=Fs.currentUser)==null?void 0:n.uid};return await dg(i,a),console.log("✅ Usuario actualizado:",t),a}catch(i){throw console.error("❌ Error actualizando usuario:",i),new Error("Error al actualizar el usuario")}}async deleteUser(t){var r;try{return await this.updateUser(t,{isActive:!1,deletedAt:Zr(),deletedBy:(r=Fs.currentUser)==null?void 0:r.uid}),console.log("✅ Usuario eliminado (soft delete):",t),!0}catch(n){throw console.error("❌ Error eliminando usuario:",n),new Error("Error al eliminar el usuario")}}async getUserProfile(t){try{const r=tn(Wt,this.collection,t),n=await Ix(r);return n.exists()?{id:n.id,...n.data()}:null}catch(r){return console.error("❌ Error obteniendo perfil:",r),null}}async updateLastLogin(t){try{const r=tn(Wt,this.collection,t);await dg(r,{lastLogin:Zr()})}catch(r){console.error("❌ Error actualizando último login:",r)}}async searchUsers(t,r=null){try{let n=wn(Wt,this.collection);r&&(n=Li(n,Ri("role","==",r)));const i=await Ia(n),a=[];return i.forEach(s=>{var l,c;const o={id:s.id,...s.data()};(!t||(l=o.displayName)!=null&&l.toLowerCase().includes(t.toLowerCase())||(c=o.email)!=null&&c.toLowerCase().includes(t.toLowerCase()))&&a.push(o)}),a}catch(n){return console.error("❌ Error buscando usuarios:",n),[]}}async getUserStats(){try{const t=await this.getAllUsers(),r={total:t.length,active:t.filter(n=>n.isActive!==!1).length,byRole:{},recentLogins:t.filter(n=>{if(!n.lastLogin)return!1;const i=new Date(n.lastLogin.toDate?n.lastLogin.toDate():n.lastLogin),a=new Date;return a.setDate(a.getDate()-7),i>=a}).length};return t.forEach(n=>{const i=n.role||"sin_rol";r.byRole[i]=(r.byRole[i]||0)+1}),r}catch(t){return console.error("❌ Error obteniendo estadísticas:",t),{total:0,active:0,byRole:{},recentLogins:0}}}validateUserPermissions(t,r){if(!t)return!1;if(this.isSuperAdmin(t))return!0;const i={super_admin:["all"],admin:["dashboard","calls","assignments","beneficiaries","seguimientos","history","audit","reports"],auditor:["dashboard","history","audit","reports"],teleoperadora:["seguimientos"]}[t.role]||[];return i.includes("all")||i.includes(r)}async createProfileForExistingUser(t,r){var n;try{const i={uid:t.uid,email:t.email,displayName:t.displayName||"",role:r.role||"teleoperadora",isActive:!0,createdAt:Zr(),updatedAt:Zr(),createdBy:(n=Fs.currentUser)==null?void 0:n.uid,lastLogin:null,...r};return await k0(tn(Wt,this.collection,t.uid),i),console.log("✅ Perfil creado para usuario existente:",t.uid),i}catch(i){throw console.error("❌ Error creando perfil:",i),i}}async migrateExistingUsers(){try{console.log("🔄 Iniciando migración de usuarios...");const t=[{email:"roberto@mistatas.com",displayName:"Roberto Mistatas",role:"super_admin"}],r=[];for(const n of t)try{(await this.searchUsers(n.email)).length===0&&(console.log("Creando perfil para:",n.email),r.push(n.email))}catch(i){console.error("Error migrando usuario:",n.email,i)}return console.log(`✅ Migración completada: ${r.length} usuarios migrados`),r}catch(t){throw console.error("❌ Error en migración:",t),t}}getErrorMessage(t){return{"auth/email-already-in-use":"El email ya está registrado","auth/invalid-email":"Email inválido","auth/weak-password":"La contraseña es muy débil","auth/user-not-found":"Usuario no encontrado","permission-denied":"Sin permisos para esta operación",unavailable:"Servicio no disponible"}[t.code]||t.message||"Error desconocido"}}const h0=new uEe,xK=Vg(Ox((e,t)=>({users:[],roles:[{id:"super_admin",name:"Super Administrador",description:"Acceso completo al sistema",permissions:["all"],level:100,color:"purple"},{id:"admin",name:"Administrador",description:"Gestión completa de teleoperadoras y auditoría",permissions:["dashboard","calls","assignments","beneficiaries","seguimientos","history","audit","reports"],level:80,color:"blue"},{id:"auditor",name:"Auditor",description:"Solo auditoría y reportes",permissions:["dashboard","history","audit","reports"],level:60,color:"green"},{id:"teleoperadora",name:"Teleoperadora",description:"Solo seguimientos de sus beneficiarios asignados",permissions:["seguimientos"],level:40,color:"orange"}],isLoading:!1,selectedUser:null,searchTerm:"",filterRole:"all",stats:{totalUsers:0,activeUsers:0,usersByRole:{}},setUsers:r=>{const n=t().calculateStats(r);e({users:r||[],stats:n})},loadUsers:async()=>{console.log("🔄 Store: Iniciando carga de usuarios..."),e({isLoading:!0});try{console.log("🔄 Store: Llamando al servicio...");const r=await h0.getAllUsers();console.log("🔄 Store: Usuarios recibidos del servicio:",r.length),t().setUsers(r),console.log("🔄 Store: Usuarios guardados en el estado")}catch(r){console.error("❌ Store: Error cargando usuarios:",r)}finally{e({isLoading:!1})}},createUser:async r=>{try{const n=await h0.createUser(r);return e(i=>({users:[...i.users,n],stats:t().calculateStats([...i.users,n])})),n}catch(n){throw console.error("Error creando usuario:",n),n}},updateUser:async(r,n)=>{try{const i=await h0.updateUser(r,n);return e(a=>{const s=a.users.map(o=>o.id===r?{...o,...i}:o);return{users:s,stats:t().calculateStats(s)}}),i}catch(i){throw console.error("Error actualizando usuario:",i),i}},deleteUser:async r=>{try{await h0.deleteUser(r),e(n=>{const i=n.users.filter(a=>a.id!==r);return{users:i,stats:t().calculateStats(i)}})}catch(n){throw console.error("Error eliminando usuario:",n),n}},toggleUserStatus:async r=>{const n=t().users.find(i=>i.id===r);if(n)return t().updateUser(r,{isActive:!n.isActive})},setSelectedUser:r=>e({selectedUser:r}),setSearchTerm:r=>e({searchTerm:r}),setFilterRole:r=>e({filterRole:r}),getUsersByRole:r=>t().users.filter(n=>n.role===r),getFilteredUsers:()=>{const{users:r,searchTerm:n,filterRole:i}=t();let a=r;return n&&(a=a.filter(s=>{var o,l;return((o=s.displayName)==null?void 0:o.toLowerCase().includes(n.toLowerCase()))||((l=s.email)==null?void 0:l.toLowerCase().includes(n.toLowerCase()))})),i&&i!=="all"&&(a=a.filter(s=>s.role===i)),a},getRoleById:r=>t().roles.find(n=>n.id===r),getUserPermissions:r=>{const n=t().getRoleById(r==null?void 0:r.role);return(n==null?void 0:n.permissions)||[]},hasPermission:(r,n)=>{const i=t().getUserPermissions(r);return i.includes("all")||i.includes(n)},isSuperAdmin:r=>(r==null?void 0:r.email)==="roberto@mistatas.com"||(r==null?void 0:r.role)==="super_admin",canAccessModule:(r,n)=>t().isSuperAdmin(r)?!0:t().hasPermission(r,n),calculateStats:r=>{const n=r.length,i=r.filter(s=>s.isActive!==!1).length,a={};return r.forEach(s=>{const o=s.role||"sin_rol";a[o]=(a[o]||0)+1}),{totalUsers:n,activeUsers:i,usersByRole:a}},exportUsers:()=>{const r=t().users,n=JSON.stringify(r,null,2),i="data:application/json;charset=utf-8,"+encodeURIComponent(n),a=`usuarios_${new Date().toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",i),s.setAttribute("download",a),s.click()},resetState:()=>{e({users:[],selectedUser:null,searchTerm:"",filterRole:"all",isLoading:!1})}}),{name:"user-management-storage",partialize:e=>({roles:e.roles})})),fEe={ADMIN:"admin"},dEe="modulepreload",hEe=function(e){return"/centralteleoperadores/"+e},Zj={},cu=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=hEe(l),l in Zj)return;Zj[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":dEe,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((d,h)=>{f.addEventListener("load",d),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return i.then(s=>{for(const o of s||[])o.status==="rejected"&&a(o.reason);return t().catch(a)})};function hn(e){"@babel/helpers - typeof";return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(e)}var Cc=Uint8Array,Jo=Uint16Array,nI=Int32Array,iI=new Cc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),aI=new Cc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),eF=new Cc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wK=function(e,t){for(var r=new Jo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var i=new nI(r[30]),n=1;n<30;++n)for(var a=r[n];a<r[n+1];++a)i[a]=a-r[n]<<5|n;return{b:r,r:i}},bK=wK(iI,2),pEe=bK.b,Gk=bK.r;pEe[28]=258,Gk[258]=28;var mEe=wK(aI,0),tF=mEe.r,Kk=new Jo(32768);for(var Vn=0;Vn<32768;++Vn){var dd=(Vn&43690)>>1|(Vn&21845)<<1;dd=(dd&52428)>>2|(dd&13107)<<2,dd=(dd&61680)>>4|(dd&3855)<<4,Kk[Vn]=((dd&65280)>>8|(dd&255)<<8)>>1}var Lv=function(e,t,r){for(var n=e.length,i=0,a=new Jo(t);i<n;++i)e[i]&&++a[e[i]-1];var s=new Jo(t);for(i=1;i<t;++i)s[i]=s[i-1]+a[i-1]<<1;var o;if(r){o=new Jo(1<<t);var l=15-t;for(i=0;i<n;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],f=s[e[i]-1]++<<u,d=f|(1<<u)-1;f<=d;++f)o[Kk[f]>>l]=c}else for(o=new Jo(n),i=0;i<n;++i)e[i]&&(o[i]=Kk[s[e[i]-1]++]>>15-e[i]);return o},tp=new Cc(288);for(var Vn=0;Vn<144;++Vn)tp[Vn]=8;for(var Vn=144;Vn<256;++Vn)tp[Vn]=9;for(var Vn=256;Vn<280;++Vn)tp[Vn]=7;for(var Vn=280;Vn<288;++Vn)tp[Vn]=8;var E_=new Cc(32);for(var Vn=0;Vn<32;++Vn)E_[Vn]=5;var gEe=Lv(tp,9,0),vEe=Lv(E_,5,0),_K=function(e){return(e+7)/8|0},yEe=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Cc(e.subarray(t,r))},ju=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},L1=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},YA=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var i=r.length,a=r.slice();if(!i)return{t:EK,l:0};if(i==1){var s=new Cc(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(R,O){return R.f-O.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var d=a[0].s,n=1;n<i;++n)a[n].s>d&&(d=a[n].s);var h=new Jo(d+1),g=Xk(r[u-1],h,0);if(g>t){var n=0,m=0,v=g-t,y=1<<v;for(a.sort(function(O,k){return h[k.s]-h[O.s]||O.f-k.f});n<i;++n){var b=a[n].s;if(h[b]>t)m+=y-(1<<g-h[b]),h[b]=t;else break}for(m>>=v;m>0;){var _=a[n].s;h[_]<t?m-=1<<t-h[_]++-1:++n}for(;n>=0&&m;--n){var N=a[n].s;h[N]==t&&(--h[N],++m)}g=t}return{t:new Cc(h),l:g}},Xk=function(e,t,r){return e.s==-1?Math.max(Xk(e.l,t,r+1),Xk(e.r,t,r+1)):t[e.s]=r},rF=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Jo(++t),n=0,i=e[0],a=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++a;else{if(!i&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(i),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(i);a=1,i=e[o]}return{c:r.subarray(0,n),n:t}},j1=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},SK=function(e,t,r){var n=r.length,i=_K(t+2);e[i]=n&255,e[i+1]=n>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var a=0;a<n;++a)e[i+a+4]=r[a];return(i+4+n)*8},nF=function(e,t,r,n,i,a,s,o,l,c,u){ju(t,u++,r),++i[256];for(var f=YA(i,15),d=f.t,h=f.l,g=YA(a,15),m=g.t,v=g.l,y=rF(d),b=y.c,_=y.n,N=rF(m),R=N.c,O=N.n,k=new Jo(19),S=0;S<b.length;++S)++k[b[S]&31];for(var S=0;S<R.length;++S)++k[R[S]&31];for(var T=YA(k,7),j=T.t,E=T.l,C=19;C>4&&!j[eF[C-1]];--C);var D=c+5<<3,q=j1(i,tp)+j1(a,E_)+s,ee=j1(i,d)+j1(a,m)+s+14+3*C+j1(k,j)+2*k[16]+3*k[17]+7*k[18];if(l>=0&&D<=q&&D<=ee)return SK(t,u,e.subarray(l,l+c));var le,se,K,X;if(ju(t,u,1+(ee<q)),u+=2,ee<q){le=Lv(d,h,0),se=d,K=Lv(m,v,0),X=m;var _e=Lv(j,E,0);ju(t,u,_-257),ju(t,u+5,O-1),ju(t,u+10,C-4),u+=14;for(var S=0;S<C;++S)ju(t,u+3*S,j[eF[S]]);u+=3*C;for(var Se=[b,R],P=0;P<2;++P)for(var U=Se[P],S=0;S<U.length;++S){var V=U[S]&31;ju(t,u,_e[V]),u+=j[V],V>15&&(ju(t,u,U[S]>>5&127),u+=U[S]>>12)}}else le=gEe,se=tp,K=vEe,X=E_;for(var S=0;S<o;++S){var z=n[S];if(z>255){var V=z>>18&31;L1(t,u,le[V+257]),u+=se[V+257],V>7&&(ju(t,u,z>>23&31),u+=iI[V]);var ne=z&31;L1(t,u,K[ne]),u+=X[ne],ne>3&&(L1(t,u,z>>5&8191),u+=aI[ne])}else L1(t,u,le[z]),u+=se[z]}return L1(t,u,le[256]),u+se[256]},xEe=new nI([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),EK=new Cc(0),wEe=function(e,t,r,n,i,a){var s=a.z||e.length,o=new Cc(n+s+5*(1+Math.ceil(s/7e3))+i),l=o.subarray(n,o.length-i),c=a.l,u=(a.r||0)&7;if(t){u&&(l[0]=a.r>>3);for(var f=xEe[t-1],d=f>>13,h=f&8191,g=(1<<r)-1,m=a.p||new Jo(32768),v=a.h||new Jo(g+1),y=Math.ceil(r/3),b=2*y,_=function(Ce){return(e[Ce]^e[Ce+1]<<y^e[Ce+2]<<b)&g},N=new nI(25e3),R=new Jo(288),O=new Jo(32),k=0,S=0,T=a.i||0,j=0,E=a.w||0,C=0;T+2<s;++T){var D=_(T),q=T&32767,ee=v[D];if(m[q]=ee,v[D]=q,E<=T){var le=s-T;if((k>7e3||j>24576)&&(le>423||!c)){u=nF(e,l,0,N,R,O,S,j,C,T-C,u),j=k=S=0,C=T;for(var se=0;se<286;++se)R[se]=0;for(var se=0;se<30;++se)O[se]=0}var K=2,X=0,_e=h,Se=q-ee&32767;if(le>2&&D==_(T-Se))for(var P=Math.min(d,le)-1,U=Math.min(32767,T),V=Math.min(258,le);Se<=U&&--_e&&q!=ee;){if(e[T+K]==e[T+K-Se]){for(var z=0;z<V&&e[T+z]==e[T+z-Se];++z);if(z>K){if(K=z,X=Se,z>P)break;for(var ne=Math.min(Se,z-2),te=0,se=0;se<ne;++se){var xe=T-Se+se&32767,oe=m[xe],he=xe-oe&32767;he>te&&(te=he,ee=xe)}}}q=ee,ee=m[q],Se+=q-ee&32767}if(X){N[j++]=268435456|Gk[K]<<18|tF[X];var Pe=Gk[K]&31,G=tF[X]&31;S+=iI[Pe]+aI[G],++R[257+Pe],++O[G],E=T+K,++k}else N[j++]=e[T],++R[e[T]]}}for(T=Math.max(T,E);T<s;++T)N[j++]=e[T],++R[e[T]];u=nF(e,l,c,N,R,O,S,j,C,T-C,u),c||(a.r=u&7|l[u/8|0]<<3,u-=7,a.h=v,a.p=m,a.i=T,a.w=E)}else{for(var T=a.w||0;T<s+c;T+=65535){var ze=T+65535;ze>=s&&(l[u/8|0]=c,ze=s),u=SK(l,u+1,e.subarray(T,ze))}a.i=s}return yEe(o,0,n+_K(u)+i)},AK=function(){var e=1,t=0;return{p:function(r){for(var n=e,i=t,a=r.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=n+=r[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}e=n,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},bEe=function(e,t,r,n,i){if(!i&&(i={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new Cc(a.length+e.length);s.set(a),s.set(e,a.length),e=s,i.w=a.length}return wEe(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,i)},TK=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},_Ee=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=AK();i.p(t.dictionary),TK(e,2,i.d())}};function Yk(e,t){t||(t={});var r=AK();r.p(e);var n=bEe(e,t,t.dictionary?6:2,4);return _Ee(n,t),TK(n,n.length-4,r.d()),n}var SEe=typeof TextDecoder<"u"&&new TextDecoder,EEe=0;try{SEe.decode(EK,{stream:!0}),EEe=1}catch{}function AEe(e){if(Array.isArray(e))return e}function TEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,a,s,o=[],l=!0,c=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(l=(n=a.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return o}}function iF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function kEe(e,t){if(e){if(typeof e=="string")return iF(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?iF(e,t):void 0}}function NEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aF(e,t){return AEe(e)||TEe(e,t)||kEe(e,t)||NEe()}function sF(e,t="utf8"){return new TextDecoder(t).decode(e)}const CEe=new TextEncoder;function PEe(e){return CEe.encode(e)}const IEe=1024*8,OEe=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),JA={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class sI{constructor(t=IEe,r={}){Qr(this,"buffer");Qr(this,"byteLength");Qr(this,"byteOffset");Qr(this,"length");Qr(this,"offset");Qr(this,"lastWrittenByte");Qr(this,"littleEndian");Qr(this,"_data");Qr(this,"_mark");Qr(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const i=r.offset?r.offset>>>0:0,a=t.byteLength-i;let s=i;(ArrayBuffer.isView(t)||t instanceof sI)&&(t.byteLength!==t.buffer.byteLength&&(s=t.byteOffset+i),t=t.buffer),n?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=t,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,i=new Uint8Array(n);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=JA[r].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,a=this.buffer.slice(i,i+n);if(this.littleEndian===OEe&&r!=="uint8"&&r!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+n));o.reverse();const l=new JA[r](o.buffer);return this.offset+=n,l.reverse(),l}const s=new JA[r](a);return this.offset+=n,s}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return sF(this.readBytes(t))}decodeText(t=1,r="utf8"){return sF(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(PEe(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function $g(e){let t=e.length;for(;--t>=0;)e[t]=0}const DEe=3,REe=258,kK=29,LEe=256,jEe=LEe+1+kK,NK=30,FEe=512,MEe=new Array((jEe+2)*2);$g(MEe);const BEe=new Array(NK*2);$g(BEe);const UEe=new Array(FEe);$g(UEe);const VEe=new Array(REe-DEe+1);$g(VEe);const $Ee=new Array(kK);$g($Ee);const zEe=new Array(NK);$g(zEe);const WEe=(e,t,r,n)=>{let i=e&65535|0,a=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+t[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var Jk=WEe;const HEe=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},qEe=new Uint32Array(HEe()),GEe=(e,t,r,n)=>{const i=qEe,a=n+r;e^=-1;for(let s=n;s<a;s++)e=e>>>8^i[(e^t[s])&255];return e^-1};var Hc=GEe,Qk={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},CK={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const KEe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var XEe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)KEe(r,n)&&(e[n]=r[n])}}return e},YEe=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,a=e.length;n<a;n++){let s=e[n];r.set(s,i),i+=s.length}return r},PK={assign:XEe,flattenChunks:YEe};let IK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{IK=!1}const jy=new Uint8Array(256);for(let e=0;e<256;e++)jy[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;jy[254]=jy[254]=1;var JEe=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,i,a,s=e.length,o=0;for(i=0;i<s;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),a=0,i=0;a<o;i++)r=e.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=e.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[a++]=r:r<2048?(t[a++]=192|r>>>6,t[a++]=128|r&63):r<65536?(t[a++]=224|r>>>12,t[a++]=128|r>>>6&63,t[a++]=128|r&63):(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63,t[a++]=128|r>>>6&63,t[a++]=128|r&63);return t};const QEe=(e,t)=>{if(t<65534&&e.subarray&&IK)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var ZEe=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=e[n++];if(s<128){a[i++]=s;continue}let o=jy[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return QEe(a,i)},eAe=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+jy[e[r]]>t?r:t},Zk={string2buf:JEe,buf2string:ZEe,utf8border:eAe};function tAe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var rAe=tAe;const iw=16209,nAe=16191;var iAe=function(t,r){let n,i,a,s,o,l,c,u,f,d,h,g,m,v,y,b,_,N,R,O,k,S,T,j;const E=t.state;n=t.next_in,T=t.input,i=n+(t.avail_in-5),a=t.next_out,j=t.output,s=a-(r-t.avail_out),o=a+(t.avail_out-257),l=E.dmax,c=E.wsize,u=E.whave,f=E.wnext,d=E.window,h=E.hold,g=E.bits,m=E.lencode,v=E.distcode,y=(1<<E.lenbits)-1,b=(1<<E.distbits)-1;e:do{g<15&&(h+=T[n++]<<g,g+=8,h+=T[n++]<<g,g+=8),_=m[h&y];t:for(;;){if(N=_>>>24,h>>>=N,g-=N,N=_>>>16&255,N===0)j[a++]=_&65535;else if(N&16){R=_&65535,N&=15,N&&(g<N&&(h+=T[n++]<<g,g+=8),R+=h&(1<<N)-1,h>>>=N,g-=N),g<15&&(h+=T[n++]<<g,g+=8,h+=T[n++]<<g,g+=8),_=v[h&b];r:for(;;){if(N=_>>>24,h>>>=N,g-=N,N=_>>>16&255,N&16){if(O=_&65535,N&=15,g<N&&(h+=T[n++]<<g,g+=8,g<N&&(h+=T[n++]<<g,g+=8)),O+=h&(1<<N)-1,O>l){t.msg="invalid distance too far back",E.mode=iw;break e}if(h>>>=N,g-=N,N=a-s,O>N){if(N=O-N,N>u&&E.sane){t.msg="invalid distance too far back",E.mode=iw;break e}if(k=0,S=d,f===0){if(k+=c-N,N<R){R-=N;do j[a++]=d[k++];while(--N);k=a-O,S=j}}else if(f<N){if(k+=c+f-N,N-=f,N<R){R-=N;do j[a++]=d[k++];while(--N);if(k=0,f<R){N=f,R-=N;do j[a++]=d[k++];while(--N);k=a-O,S=j}}}else if(k+=f-N,N<R){R-=N;do j[a++]=d[k++];while(--N);k=a-O,S=j}for(;R>2;)j[a++]=S[k++],j[a++]=S[k++],j[a++]=S[k++],R-=3;R&&(j[a++]=S[k++],R>1&&(j[a++]=S[k++]))}else{k=a-O;do j[a++]=j[k++],j[a++]=j[k++],j[a++]=j[k++],R-=3;while(R>2);R&&(j[a++]=j[k++],R>1&&(j[a++]=j[k++]))}}else if(N&64){t.msg="invalid distance code",E.mode=iw;break e}else{_=v[(_&65535)+(h&(1<<N)-1)];continue r}break}}else if(N&64)if(N&32){E.mode=nAe;break e}else{t.msg="invalid literal/length code",E.mode=iw;break e}else{_=m[(_&65535)+(h&(1<<N)-1)];continue t}break}}while(n<i&&a<o);R=g>>3,n-=R,g-=R<<3,h&=(1<<g)-1,t.next_in=n,t.next_out=a,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=a<o?257+(o-a):257-(a-o),E.hold=h,E.bits=g};const Up=15,oF=852,lF=592,cF=0,QA=1,uF=2,aAe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),sAe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),oAe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),lAe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),cAe=(e,t,r,n,i,a,s,o)=>{const l=o.bits;let c=0,u=0,f=0,d=0,h=0,g=0,m=0,v=0,y=0,b=0,_,N,R,O,k,S=null,T;const j=new Uint16Array(Up+1),E=new Uint16Array(Up+1);let C=null,D,q,ee;for(c=0;c<=Up;c++)j[c]=0;for(u=0;u<n;u++)j[t[r+u]]++;for(h=l,d=Up;d>=1&&j[d]===0;d--);if(h>d&&(h=d),d===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<d&&j[f]===0;f++);for(h<f&&(h=f),v=1,c=1;c<=Up;c++)if(v<<=1,v-=j[c],v<0)return-1;if(v>0&&(e===cF||d!==1))return-1;for(E[1]=0,c=1;c<Up;c++)E[c+1]=E[c]+j[c];for(u=0;u<n;u++)t[r+u]!==0&&(s[E[t[r+u]]++]=u);if(e===cF?(S=C=s,T=20):e===QA?(S=aAe,C=sAe,T=257):(S=oAe,C=lAe,T=0),b=0,u=0,c=f,k=a,g=h,m=0,R=-1,y=1<<h,O=y-1,e===QA&&y>oF||e===uF&&y>lF)return 1;for(;;){D=c-m,s[u]+1<T?(q=0,ee=s[u]):s[u]>=T?(q=C[s[u]-T],ee=S[s[u]-T]):(q=96,ee=0),_=1<<c-m,N=1<<g,f=N;do N-=_,i[k+(b>>m)+N]=D<<24|q<<16|ee|0;while(N!==0);for(_=1<<c-1;b&_;)_>>=1;if(_!==0?(b&=_-1,b+=_):b=0,u++,--j[c]===0){if(c===d)break;c=t[r+s[u]]}if(c>h&&(b&O)!==R){for(m===0&&(m=h),k+=f,g=c-m,v=1<<g;g+m<d&&(v-=j[g+m],!(v<=0));)g++,v<<=1;if(y+=1<<g,e===QA&&y>oF||e===uF&&y>lF)return 1;R=b&O,i[R]=h<<24|g<<16|k-a|0}}return b!==0&&(i[k+b]=c-m<<24|64<<16|0),o.bits=h,0};var jv=cAe;const uAe=0,OK=1,DK=2,{Z_FINISH:fF,Z_BLOCK:fAe,Z_TREES:aw,Z_OK:rp,Z_STREAM_END:dAe,Z_NEED_DICT:hAe,Z_STREAM_ERROR:zl,Z_DATA_ERROR:RK,Z_MEM_ERROR:LK,Z_BUF_ERROR:pAe,Z_DEFLATED:dF}=CK,ES=16180,hF=16181,pF=16182,mF=16183,gF=16184,vF=16185,yF=16186,xF=16187,wF=16188,bF=16189,A_=16190,Fu=16191,ZA=16192,_F=16193,e4=16194,SF=16195,EF=16196,AF=16197,TF=16198,sw=16199,ow=16200,kF=16201,NF=16202,CF=16203,PF=16204,IF=16205,t4=16206,OF=16207,DF=16208,Kn=16209,jK=16210,FK=16211,mAe=852,gAe=592,vAe=15,yAe=vAe,RF=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function xAe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ap=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<ES||t.mode>FK?1:0},MK=e=>{if(Ap(e))return zl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=ES,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(mAe),t.distcode=t.distdyn=new Int32Array(gAe),t.sane=1,t.back=-1,rp},BK=e=>{if(Ap(e))return zl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,MK(e)},UK=(e,t)=>{let r;if(Ap(e))return zl;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?zl:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,BK(e))},VK=(e,t)=>{if(!e)return zl;const r=new xAe;e.state=r,r.strm=e,r.window=null,r.mode=ES;const n=UK(e,t);return n!==rp&&(e.state=null),n},wAe=e=>VK(e,yAe);let LF=!0,r4,n4;const bAe=e=>{if(LF){r4=new Int32Array(512),n4=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(jv(OK,e.lens,0,288,r4,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;jv(DK,e.lens,0,32,n4,0,e.work,{bits:5}),LF=!1}e.lencode=r4,e.lenbits=9,e.distcode=n4,e.distbits=5},$K=(e,t,r,n)=>{let i;const a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(t.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(t.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(t.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},_Ae=(e,t)=>{let r,n,i,a,s,o,l,c,u,f,d,h,g,m,v=0,y,b,_,N,R,O,k,S;const T=new Uint8Array(4);let j,E;const C=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Ap(e)||!e.output||!e.input&&e.avail_in!==0)return zl;r=e.state,r.mode===Fu&&(r.mode=ZA),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,f=o,d=l,S=rp;e:for(;;)switch(r.mode){case ES:if(r.wrap===0){r.mode=ZA;break}for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,T[0]=c&255,T[1]=c>>>8&255,r.check=Hc(r.check,T,2,0),c=0,u=0,r.mode=hF;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Kn;break}if((c&15)!==dF){e.msg="unknown compression method",r.mode=Kn;break}if(c>>>=4,u-=4,k=(c&15)+8,r.wbits===0&&(r.wbits=k),k>15||k>r.wbits){e.msg="invalid window size",r.mode=Kn;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=c&512?bF:Fu,c=0,u=0;break;case hF:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.flags=c,(r.flags&255)!==dF){e.msg="unknown compression method",r.mode=Kn;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Kn;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,r.check=Hc(r.check,T,2,0)),c=0,u=0,r.mode=pF;case pF:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,r.check=Hc(r.check,T,4,0)),c=0,u=0,r.mode=mF;case mF:for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,r.check=Hc(r.check,T,2,0)),c=0,u=0,r.mode=gF;case gF:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(T[0]=c&255,T[1]=c>>>8&255,r.check=Hc(r.check,T,2,0)),c=0,u=0}else r.head&&(r.head.extra=null);r.mode=vF;case vF:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),k)),r.flags&512&&r.wrap&4&&(r.check=Hc(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=yF;case yF:if(r.flags&2048){if(o===0)break e;h=0;do k=n[a+h++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k));while(k&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Hc(r.check,n,h,a)),o-=h,a+=h,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=xF;case xF:if(r.flags&4096){if(o===0)break e;h=0;do k=n[a+h++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k));while(k&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Hc(r.check,n,h,a)),o-=h,a+=h,k)break e}else r.head&&(r.head.comment=null);r.mode=wF;case wF:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Kn;break}c=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Fu;break;case bF:for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}e.adler=r.check=RF(c),c=0,u=0,r.mode=A_;case A_:if(r.havedict===0)return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,hAe;e.adler=r.check=1,r.mode=Fu;case Fu:if(t===fAe||t===aw)break e;case ZA:if(r.last){c>>>=u&7,u-=u&7,r.mode=t4;break}for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}switch(r.last=c&1,c>>>=1,u-=1,c&3){case 0:r.mode=_F;break;case 1:if(bAe(r),r.mode=sw,t===aw){c>>>=2,u-=2;break e}break;case 2:r.mode=EF;break;case 3:e.msg="invalid block type",r.mode=Kn}c>>>=2,u-=2;break;case _F:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Kn;break}if(r.length=c&65535,c=0,u=0,r.mode=e4,t===aw)break e;case e4:r.mode=SF;case SF:if(h=r.length,h){if(h>o&&(h=o),h>l&&(h=l),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,l-=h,s+=h,r.length-=h;break}r.mode=Fu;break;case EF:for(;u<14;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.nlen=(c&31)+257,c>>>=5,u-=5,r.ndist=(c&31)+1,c>>>=5,u-=5,r.ncode=(c&15)+4,c>>>=4,u-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Kn;break}r.have=0,r.mode=AF;case AF:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.lens[C[r.have++]]=c&7,c>>>=3,u-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,j={bits:r.lenbits},S=jv(uAe,r.lens,0,19,r.lencode,0,r.work,j),r.lenbits=j.bits,S){e.msg="invalid code lengths set",r.mode=Kn;break}r.have=0,r.mode=TF;case TF:for(;r.have<r.nlen+r.ndist;){for(;v=r.lencode[c&(1<<r.lenbits)-1],y=v>>>24,b=v>>>16&255,_=v&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(_<16)c>>>=y,u-=y,r.lens[r.have++]=_;else{if(_===16){for(E=y+2;u<E;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(c>>>=y,u-=y,r.have===0){e.msg="invalid bit length repeat",r.mode=Kn;break}k=r.lens[r.have-1],h=3+(c&3),c>>>=2,u-=2}else if(_===17){for(E=y+3;u<E;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=y,u-=y,k=0,h=3+(c&7),c>>>=3,u-=3}else{for(E=y+7;u<E;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=y,u-=y,k=0,h=11+(c&127),c>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Kn;break}for(;h--;)r.lens[r.have++]=k}}if(r.mode===Kn)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Kn;break}if(r.lenbits=9,j={bits:r.lenbits},S=jv(OK,r.lens,0,r.nlen,r.lencode,0,r.work,j),r.lenbits=j.bits,S){e.msg="invalid literal/lengths set",r.mode=Kn;break}if(r.distbits=6,r.distcode=r.distdyn,j={bits:r.distbits},S=jv(DK,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,j),r.distbits=j.bits,S){e.msg="invalid distances set",r.mode=Kn;break}if(r.mode=sw,t===aw)break e;case sw:r.mode=ow;case ow:if(o>=6&&l>=258){e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,iAe(e,d),s=e.next_out,i=e.output,l=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,c=r.hold,u=r.bits,r.mode===Fu&&(r.back=-1);break}for(r.back=0;v=r.lencode[c&(1<<r.lenbits)-1],y=v>>>24,b=v>>>16&255,_=v&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(b&&!(b&240)){for(N=y,R=b,O=_;v=r.lencode[O+((c&(1<<N+R)-1)>>N)],y=v>>>24,b=v>>>16&255,_=v&65535,!(N+y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=N,u-=N,r.back+=N}if(c>>>=y,u-=y,r.back+=y,r.length=_,b===0){r.mode=IF;break}if(b&32){r.back=-1,r.mode=Fu;break}if(b&64){e.msg="invalid literal/length code",r.mode=Kn;break}r.extra=b&15,r.mode=kF;case kF:if(r.extra){for(E=r.extra;u<E;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=NF;case NF:for(;v=r.distcode[c&(1<<r.distbits)-1],y=v>>>24,b=v>>>16&255,_=v&65535,!(y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(!(b&240)){for(N=y,R=b,O=_;v=r.distcode[O+((c&(1<<N+R)-1)>>N)],y=v>>>24,b=v>>>16&255,_=v&65535,!(N+y<=u);){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}c>>>=N,u-=N,r.back+=N}if(c>>>=y,u-=y,r.back+=y,b&64){e.msg="invalid distance code",r.mode=Kn;break}r.offset=_,r.extra=b&15,r.mode=CF;case CF:if(r.extra){for(E=r.extra;u<E;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Kn;break}r.mode=PF;case PF:if(l===0)break e;if(h=d-l,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Kn;break}h>r.wnext?(h-=r.wnext,g=r.wsize-h):g=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=i,g=s-r.offset,h=r.length;h>l&&(h=l),l-=h,r.length-=h;do i[s++]=m[g++];while(--h);r.length===0&&(r.mode=ow);break;case IF:if(l===0)break e;i[s++]=r.length,l--,r.mode=ow;break;case t4:if(r.wrap){for(;u<32;){if(o===0)break e;o--,c|=n[a++]<<u,u+=8}if(d-=l,e.total_out+=d,r.total+=d,r.wrap&4&&d&&(e.adler=r.check=r.flags?Hc(r.check,i,d,s-d):Jk(r.check,i,d,s-d)),d=l,r.wrap&4&&(r.flags?c:RF(c))!==r.check){e.msg="incorrect data check",r.mode=Kn;break}c=0,u=0}r.mode=OF;case OF:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,c+=n[a++]<<u,u+=8}if(r.wrap&4&&c!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Kn;break}c=0,u=0}r.mode=DF;case DF:S=dAe;break e;case Kn:S=RK;break e;case jK:return LK;case FK:default:return zl}return e.next_out=s,e.avail_out=l,e.next_in=a,e.avail_in=o,r.hold=c,r.bits=u,(r.wsize||d!==e.avail_out&&r.mode<Kn&&(r.mode<t4||t!==fF))&&$K(e,e.output,e.next_out,d-e.avail_out),f-=e.avail_in,d-=e.avail_out,e.total_in+=f,e.total_out+=d,r.total+=d,r.wrap&4&&d&&(e.adler=r.check=r.flags?Hc(r.check,i,d,e.next_out-d):Jk(r.check,i,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Fu?128:0)+(r.mode===sw||r.mode===e4?256:0),(f===0&&d===0||t===fF)&&S===rp&&(S=pAe),S},SAe=e=>{if(Ap(e))return zl;let t=e.state;return t.window&&(t.window=null),e.state=null,rp},EAe=(e,t)=>{if(Ap(e))return zl;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,rp):zl},AAe=(e,t)=>{const r=t.length;let n,i,a;return Ap(e)||(n=e.state,n.wrap!==0&&n.mode!==A_)?zl:n.mode===A_&&(i=1,i=Jk(i,t,r,0),i!==n.check)?RK:(a=$K(e,t,r,r),a?(n.mode=jK,LK):(n.havedict=1,rp))};var TAe=BK,kAe=UK,NAe=MK,CAe=wAe,PAe=VK,IAe=_Ae,OAe=SAe,DAe=EAe,RAe=AAe,LAe="pako inflate (from Nodeca project)",$u={inflateReset:TAe,inflateReset2:kAe,inflateResetKeep:NAe,inflateInit:CAe,inflateInit2:PAe,inflate:IAe,inflateEnd:OAe,inflateGetHeader:DAe,inflateSetDictionary:RAe,inflateInfo:LAe};function jAe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var FAe=jAe;const zK=Object.prototype.toString,{Z_NO_FLUSH:MAe,Z_FINISH:BAe,Z_OK:Fy,Z_STREAM_END:i4,Z_NEED_DICT:a4,Z_STREAM_ERROR:UAe,Z_DATA_ERROR:jF,Z_MEM_ERROR:VAe}=CK;function Dx(e){this.options=PK.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rAe,this.strm.avail_out=0;let r=$u.inflateInit2(this.strm,t.windowBits);if(r!==Fy)throw new Error(Qk[r]);if(this.header=new FAe,$u.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Zk.string2buf(t.dictionary):zK.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=$u.inflateSetDictionary(this.strm,t.dictionary),r!==Fy)))throw new Error(Qk[r])}Dx.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?BAe:MAe,zK.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=$u.inflate(r,s),a===a4&&i&&(a=$u.inflateSetDictionary(r,i),a===Fy?a=$u.inflate(r,s):a===jF&&(a=a4));r.avail_in>0&&a===i4&&r.state.wrap>0&&e[r.next_in]!==0;)$u.inflateReset(r),a=$u.inflate(r,s);switch(a){case UAe:case jF:case a4:case VAe:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===i4))if(this.options.to==="string"){let l=Zk.utf8border(r.output,r.next_out),c=r.next_out-l,u=Zk.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===Fy&&o===0)){if(a===i4)return a=$u.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};Dx.prototype.onData=function(e){this.chunks.push(e)};Dx.prototype.onEnd=function(e){e===Fy&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=PK.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function $Ae(e,t){const r=new Dx(t);if(r.push(e),r.err)throw r.msg||Qk[r.err];return r.result}var zAe=Dx,WAe=$Ae,HAe={Inflate:zAe,inflate:WAe};const{Inflate:qAe,inflate:GAe}=HAe;var FF=qAe,KAe=GAe;const WK=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;WK[e]=t}const MF=4294967295;function XAe(e,t,r){let n=e;for(let i=0;i<r;i++)n=WK[(n^t[i])&255]^n>>>8;return n}function YAe(e,t){return(XAe(MF,e,t)^MF)>>>0}function BF(e,t,r){const n=e.readUint32(),i=YAe(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${i}`)}function HK(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function qK(e,t,r,n){let i=0;for(;i<n;i++)t[i]=e[i];for(;i<r;i++)t[i]=e[i]+t[i-n]&255}function GK(e,t,r,n){let i=0;if(r.length===0)for(;i<n;i++)t[i]=e[i];else for(;i<n;i++)t[i]=e[i]+r[i]&255}function KK(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+(t[a-i]>>1)&255}else{for(;a<i;a++)t[a]=e[a]+(r[a]>>1)&255;for(;a<n;a++)t[a]=e[a]+(t[a-i]+r[a]>>1)&255}}function XK(e,t,r,n,i){let a=0;if(r.length===0){for(;a<i;a++)t[a]=e[a];for(;a<n;a++)t[a]=e[a]+t[a-i]&255}else{for(;a<i;a++)t[a]=e[a]+r[a]&255;for(;a<n;a++)t[a]=e[a]+JAe(t[a-i],r[a],r[a-i])&255}}function JAe(e,t,r){const n=e+t-r,i=Math.abs(n-e),a=Math.abs(n-t),s=Math.abs(n-r);return i<=a&&i<=s?e:a<=s?t:r}function QAe(e,t,r,n,i,a){switch(e){case 0:HK(t,r,i);break;case 1:qK(t,r,i,a);break;case 2:GK(t,r,n,i);break;case 3:KK(t,r,n,i,a);break;case 4:XK(t,r,n,i,a);break;default:throw new Error(`Unsupported filter: ${e}`)}}const ZAe=new Uint16Array([255]),e4e=new Uint8Array(ZAe.buffer),t4e=e4e[0]===255;function r4e(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*i,l=new Uint8Array(n*r*o);let c=0;for(let u=0;u<7;u++){const f=s[u],d=Math.ceil((r-f.x)/f.xStep),h=Math.ceil((n-f.y)/f.yStep);if(d<=0||h<=0)continue;const g=d*o,m=new Uint8Array(g);for(let v=0;v<h;v++){const y=t[c++],b=t.subarray(c,c+g);c+=g;const _=new Uint8Array(g);QAe(y,b,_,m,g,o),m.set(_);for(let N=0;N<d;N++){const R=f.x+N*f.xStep,O=f.y+v*f.yStep;if(!(R>=r||O>=n))for(let k=0;k<o;k++)l[(O*r+R)*o+k]=_[N*o+k]}}}if(a===16){const u=new Uint16Array(l.buffer);if(t4e)for(let f=0;f<u.length;f++)u[f]=n4e(u[f]);return u}else return l}function n4e(e){return(e&255)<<8|e>>8&255}const i4e=new Uint16Array([255]),a4e=new Uint8Array(i4e.buffer),s4e=a4e[0]===255,o4e=new Uint8Array(0);function UF(e){const{data:t,width:r,height:n,channels:i,depth:a}=e,s=Math.ceil(a/8)*i,o=Math.ceil(a/8*i*r),l=new Uint8Array(n*o);let c=o4e,u=0,f,d;for(let h=0;h<n;h++){switch(f=t.subarray(u+1,u+1+o),d=l.subarray(h*o,(h+1)*o),t[u]){case 0:HK(f,d,o);break;case 1:qK(f,d,o,s);break;case 2:GK(f,d,c,o);break;case 3:KK(f,d,c,o,s);break;case 4:XK(f,d,c,o,s);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=d,u+=o+1}if(a===16){const h=new Uint16Array(l.buffer);if(s4e)for(let g=0;g<h.length;g++)h[g]=l4e(h[g]);return h}else return l}function l4e(e){return(e&255)<<8|e>>8&255}const nb=Uint8Array.of(137,80,78,71,13,10,26,10);function VF(e){if(!c4e(e.readBytes(nb.length)))throw new Error("wrong PNG signature")}function c4e(e){if(e.length<nb.length)return!1;for(let t=0;t<nb.length;t++)if(e[t]!==nb[t])return!1;return!0}const u4e="tEXt",f4e=0,YK=new TextDecoder("latin1");function d4e(e){if(p4e(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const h4e=/^[\u0000-\u00FF]*$/;function p4e(e){if(!h4e.test(e))throw new Error("invalid latin1 text")}function m4e(e,t,r){const n=JK(t);e[n]=g4e(t,r-n.length-1)}function JK(e){for(e.mark();e.readByte()!==f4e;);const t=e.offset;e.reset();const r=YK.decode(e.readBytes(t-e.offset-1));return e.skip(1),d4e(r),r}function g4e(e,t){return YK.decode(e.readBytes(t))}const Lo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},s4={UNKNOWN:-1,DEFLATE:0},$F={UNKNOWN:-1,ADAPTIVE:0},o4={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},lw={NONE:0,BACKGROUND:1,PREVIOUS:2},l4={SOURCE:0,OVER:1};class v4e extends sI{constructor(r,n={}){super(r);Qr(this,"_checkCrc");Qr(this,"_inflator");Qr(this,"_png");Qr(this,"_apng");Qr(this,"_end");Qr(this,"_hasPalette");Qr(this,"_palette");Qr(this,"_hasTransparency");Qr(this,"_transparency");Qr(this,"_compressionMethod");Qr(this,"_filterMethod");Qr(this,"_interlaceMethod");Qr(this,"_colorType");Qr(this,"_isAnimated");Qr(this,"_numberOfFrames");Qr(this,"_numberOfPlays");Qr(this,"_frames");Qr(this,"_writingDataChunks");const{checkCrc:i=!1}=n;this._checkCrc=i,this._inflator=new FF,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=s4.UNKNOWN,this._filterMethod=$F.UNKNOWN,this._interlaceMethod=o4.UNKNOWN,this._colorType=Lo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(VF(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(VF(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const i=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case u4e:m4e(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?BF(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const i=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=i+r;break}if(this.offset-i!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?BF(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=y4e(this.readUint8());const n=this.readUint8();this._colorType=n;let i;switch(n){case Lo.GREYSCALE:i=1;break;case Lo.TRUECOLOUR:i=3;break;case Lo.INDEXED_COLOUR:i=1;break;case Lo.GREYSCALE_ALPHA:i=2;break;case Lo.TRUECOLOUR_ALPHA:i=4;break;case Lo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=i,this._compressionMethod=this.readUint8(),this._compressionMethod!==s4.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const i=[];this._palette=i;for(let a=0;a<n;a++)i.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,i=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,i=this.offset+this.byteOffset;if(i+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,i,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Lo.GREYSCALE:case Lo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Lo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const i=this.readByte();this._palette[n].push(i)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Lo.UNKNOWN:case Lo.GREYSCALE_ALPHA:case Lo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=JK(this),i=this.readUint8();if(i!==s4.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${i}`);const a=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:KAe(a)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),i=this.readByte();this._png.resolution={x:r,y:n,unit:i}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},i=this._frames.at(r);if(i){if(i.data=UF({data:i.data,width:i.width,height:i.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||i.xOffset===0&&i.yOffset===0&&i.width===this._png.width&&i.height===this._png.height)n.data=i.data;else{const a=this._apng.frames.at(r-1);this.disposeFrame(i,a,n),this.addFrameDataToCanvas(n,i)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,i){switch(r.disposeOp){case lw.NONE:break;case lw.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*r.width+s)*this._png.channels;for(let l=0;l<this._png.channels;l++)i.data[o+l]=0}break;case lw.PREVIOUS:i.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const i=1<<this._png.depth,a=(s,o)=>{const l=((s+n.yOffset)*this._png.width+n.xOffset+o)*this._png.channels,c=(s*n.width+o)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case l4.SOURCE:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++)r.data[l+u]=n.data[c+u]}break;case l4.OVER:for(let s=0;s<n.height;s++)for(let o=0;o<n.width;o++){const{index:l,frameIndex:c}=a(s,o);for(let u=0;u<this._png.channels;u++){const f=n.data[c+this._png.channels-1]/i,d=u%(this._png.channels-1)===0?1:n.data[c+u],h=Math.floor(f*d+(1-f)*r.data[l+u]);r.data[l+u]+=h}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==$F.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===o4.NO_INTERLACE)this._png.data=UF({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===o4.ADAM7)this._png.data=r4e({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:lw.NONE,blendOp:l4.SOURCE,data:r}),this._inflator=new FF,this._writingDataChunks=!1}}function y4e(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var zF;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(zF||(zF={}));function x4e(e,t){return new v4e(e,t).decode()}var ur=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function c4(){ur.console&&typeof ur.console.log=="function"&&ur.console.log.apply(ur.console,arguments)}var kn={log:c4,warn:function(e){ur.console&&(typeof ur.console.warn=="function"?ur.console.warn.apply(ur.console,arguments):c4.call(null,arguments))},error:function(e){ur.console&&(typeof ur.console.error=="function"?ur.console.error.apply(ur.console,arguments):c4(e))}};function u4(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){e0(n.response,t,r)},n.onerror=function(){kn.error("could not download file")},n.send()}function WF(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function cw(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var e0=ur.saveAs||((typeof window>"u"?"undefined":hn(window))!=="object"||window!==ur?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=ur.URL||ur.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?WF(i.href)?u4(e,t,r):cw(i,i.target="_blank"):cw(i)):(i.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){cw(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(WF(e))u4(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){cw(n)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:hn(a)!=="object"&&(kn.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return u4(e,t,r);var i=e.type==="application/octet-stream",a=/constructor/i.test(ur.HTMLElement)||ur.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&a)&&(typeof FileReader>"u"?"undefined":hn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=ur.URL||ur.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function QK(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,a=r[n].process,s=i.exec(e);s&&(t=a(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var ib=ur.atob.bind(ur),HF=ur.btoa.bind(ur);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function f4(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];r=us(r,n,i,a,t[0],7,-680876936),a=us(a,r,n,i,t[1],12,-389564586),i=us(i,a,r,n,t[2],17,606105819),n=us(n,i,a,r,t[3],22,-1044525330),r=us(r,n,i,a,t[4],7,-176418897),a=us(a,r,n,i,t[5],12,1200080426),i=us(i,a,r,n,t[6],17,-1473231341),n=us(n,i,a,r,t[7],22,-45705983),r=us(r,n,i,a,t[8],7,1770035416),a=us(a,r,n,i,t[9],12,-1958414417),i=us(i,a,r,n,t[10],17,-42063),n=us(n,i,a,r,t[11],22,-1990404162),r=us(r,n,i,a,t[12],7,1804603682),a=us(a,r,n,i,t[13],12,-40341101),i=us(i,a,r,n,t[14],17,-1502002290),r=fs(r,n=us(n,i,a,r,t[15],22,1236535329),i,a,t[1],5,-165796510),a=fs(a,r,n,i,t[6],9,-1069501632),i=fs(i,a,r,n,t[11],14,643717713),n=fs(n,i,a,r,t[0],20,-373897302),r=fs(r,n,i,a,t[5],5,-701558691),a=fs(a,r,n,i,t[10],9,38016083),i=fs(i,a,r,n,t[15],14,-660478335),n=fs(n,i,a,r,t[4],20,-405537848),r=fs(r,n,i,a,t[9],5,568446438),a=fs(a,r,n,i,t[14],9,-1019803690),i=fs(i,a,r,n,t[3],14,-187363961),n=fs(n,i,a,r,t[8],20,1163531501),r=fs(r,n,i,a,t[13],5,-1444681467),a=fs(a,r,n,i,t[2],9,-51403784),i=fs(i,a,r,n,t[7],14,1735328473),r=ds(r,n=fs(n,i,a,r,t[12],20,-1926607734),i,a,t[5],4,-378558),a=ds(a,r,n,i,t[8],11,-2022574463),i=ds(i,a,r,n,t[11],16,1839030562),n=ds(n,i,a,r,t[14],23,-35309556),r=ds(r,n,i,a,t[1],4,-1530992060),a=ds(a,r,n,i,t[4],11,1272893353),i=ds(i,a,r,n,t[7],16,-155497632),n=ds(n,i,a,r,t[10],23,-1094730640),r=ds(r,n,i,a,t[13],4,681279174),a=ds(a,r,n,i,t[0],11,-358537222),i=ds(i,a,r,n,t[3],16,-722521979),n=ds(n,i,a,r,t[6],23,76029189),r=ds(r,n,i,a,t[9],4,-640364487),a=ds(a,r,n,i,t[12],11,-421815835),i=ds(i,a,r,n,t[15],16,530742520),r=hs(r,n=ds(n,i,a,r,t[2],23,-995338651),i,a,t[0],6,-198630844),a=hs(a,r,n,i,t[7],10,1126891415),i=hs(i,a,r,n,t[14],15,-1416354905),n=hs(n,i,a,r,t[5],21,-57434055),r=hs(r,n,i,a,t[12],6,1700485571),a=hs(a,r,n,i,t[3],10,-1894986606),i=hs(i,a,r,n,t[10],15,-1051523),n=hs(n,i,a,r,t[1],21,-2054922799),r=hs(r,n,i,a,t[8],6,1873313359),a=hs(a,r,n,i,t[15],10,-30611744),i=hs(i,a,r,n,t[6],15,-1560198380),n=hs(n,i,a,r,t[13],21,1309151649),r=hs(r,n,i,a,t[4],6,-145523070),a=hs(a,r,n,i,t[11],10,-1120210379),i=hs(i,a,r,n,t[2],15,718787259),n=hs(n,i,a,r,t[9],21,-343485551),e[0]=Od(r,e[0]),e[1]=Od(n,e[1]),e[2]=Od(i,e[2]),e[3]=Od(a,e[3])}function AS(e,t,r,n,i,a){return t=Od(Od(t,e),Od(n,a)),Od(t<<i|t>>>32-i,r)}function us(e,t,r,n,i,a,s){return AS(t&r|~t&n,e,t,i,a,s)}function fs(e,t,r,n,i,a,s){return AS(t&n|r&~n,e,t,i,a,s)}function ds(e,t,r,n,i,a,s){return AS(t^r^n,e,t,i,a,s)}function hs(e,t,r,n,i,a,s){return AS(r^(t|~n),e,t,i,a,s)}function ZK(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)f4(n,w4e(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(f4(n,i),t=0;t<16;t++)i[t]=0;return i[14]=8*r,f4(n,i),n}function w4e(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var qF="0123456789abcdef".split("");function b4e(e){for(var t="",r=0;r<4;r++)t+=qF[e>>8*r+4&15]+qF[e>>8*r&15];return t}function _4e(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function eN(e){return ZK(e).map(_4e).join("")}var S4e=function(e){for(var t=0;t<e.length;t++)e[t]=b4e(e[t]);return e.join("")}(ZK("hello"))!="5d41402abc4b2a76b9719d911017c592";function Od(e,t){if(S4e){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function tN(e,t){var r,n,i,a;if(e!==r){for(var s=(i=e,a=1+(256/e.length|0),new Array(a+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,d=0,h=0,g="";for(l=0;l<f;l++)h=(h+(u=o[d=(d+1)%256]))%256,o[d]=o[h],o[h]=u,s=o[(o[d]+o[h])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var GF={print:4,modify:8,copy:16,"annot-forms":32};function Jp(e,t,r,n){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(GF.perm!==void 0)throw new Error("Invalid permission: "+o);i+=GF[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var a=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^i)),this.encryptionKey=eN(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=tN(this.encryptionKey,this.padding)}function Qp(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var i=e.charCodeAt(n);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[n]}return t}function KF(e){if(hn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var a=Math.random().toString(35);return t[r][a]=[n,!!i],a},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var a in t[r]){var s=t[r][a];try{s[0].apply(e,n)}catch(o){ur.console&&kn.error("jsPDF PubSub Error",o.message,o)}s[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function T_(e){if(!(this instanceof T_))return new T_(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function eX(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function s0(e,t,r,n,i){if(!(this instanceof s0))return new s0(e,t,r,n,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,eX.call(this,n,i)}function mm(e,t,r,n,i){if(!(this instanceof mm))return new mm(e,t,r,n,i);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,eX.call(this,n,i)}function Ut(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],a=arguments[3],s=[],o=1,l=16,c="S",u=null;hn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,i=e.format||i,a=e.compress||e.compressPdf||a,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(a===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,d={},h={internal:{},__private__:{}};h.__private__.PubSub=KF;var g="1.3",m=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(I){g=I};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var y=h.__private__.getPageFormat=function(I){return v[I]};i=i||"a4";var b="compat",_="advanced",N=b;function R(){this.saveGraphicsState(),de(new $t(st,0,0,-st,0,hl()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),c="n",N=_}function O(){this.restoreGraphicsState(),c="S",N=b}var k=h.__private__.combineFontStyleAndFontWeight=function(I,Y){if(I=="bold"&&Y=="normal"||I=="bold"&&Y==400||I=="normal"&&Y=="italic"||I=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(I=Y==400||Y==="normal"?I==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||I!=="normal"?(Y==700?"bold":Y)+""+I:"bold"),I};h.advancedAPI=function(I){var Y=N===b;return Y&&R.call(this),typeof I!="function"||(I(this),Y&&O.call(this)),this},h.compatAPI=function(I){var Y=N===_;return Y&&O.call(this),typeof I!="function"||(I(this),Y&&R.call(this)),this},h.isAdvancedAPI=function(){return N===_};var S,T=function(I){if(N!==_)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},j=h.roundToPrecision=h.__private__.roundToPrecision=function(I,Y){var ge=t||Y;if(isNaN(I)||isNaN(ge))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return I.toFixed(ge).replace(/0+$/,"")};S=h.hpf=h.__private__.hpf=typeof l=="number"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return j(I,l)}:l==="smart"?function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return j(I,I>-1&&I<1?16:5)}:function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.hpf");return j(I,16)};var E=h.f2=h.__private__.f2=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f2");return j(I,2)},C=h.__private__.f3=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.f3");return j(I,3)},D=h.scale=h.__private__.scale=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.scale");return N===b?I*st:N===_?I:void 0},q=function(I){return D(function(Y){return N===b?hl()-Y:N===_?Y:void 0}(I))};h.__private__.setPrecision=h.setPrecision=function(I){typeof parseInt(I,10)=="number"&&(t=parseInt(I,10))};var ee,le="00000000000000000000000000000000",se=h.__private__.getFileId=function(){return le},K=h.__private__.setFileId=function(I){return le=I!==void 0&&/^[a-fA-F0-9]{32}$/.test(I)?I.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(sn=new Jp(u.userPermissions,u.userPassword,u.ownerPassword,le)),le};h.setFileId=function(I){return K(I),this},h.getFileId=function(){return se()};var X=h.__private__.convertDateToPDFDate=function(I){var Y=I.getTimezoneOffset(),ge=Y<0?"+":"-",Te=Math.floor(Math.abs(Y/60)),Oe=Math.abs(Y%60),qe=[ge,V(Te),"'",V(Oe),"'"].join("");return["D:",I.getFullYear(),V(I.getMonth()+1),V(I.getDate()),V(I.getHours()),V(I.getMinutes()),V(I.getSeconds()),qe].join("")},_e=h.__private__.convertPDFDateToDate=function(I){var Y=parseInt(I.substr(2,4),10),ge=parseInt(I.substr(6,2),10)-1,Te=parseInt(I.substr(8,2),10),Oe=parseInt(I.substr(10,2),10),qe=parseInt(I.substr(12,2),10),et=parseInt(I.substr(14,2),10);return new Date(Y,ge,Te,Oe,qe,et,0)},Se=h.__private__.setCreationDate=function(I){var Y;if(I===void 0&&(I=new Date),I instanceof Date)Y=X(I);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(I))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=I}return ee=Y},P=h.__private__.getCreationDate=function(I){var Y=ee;return I==="jsDate"&&(Y=_e(ee)),Y};h.setCreationDate=function(I){return Se(I),this},h.getCreationDate=function(I){return P(I)};var U,V=h.__private__.padd2=function(I){return("0"+parseInt(I)).slice(-2)},z=h.__private__.padd2Hex=function(I){return("00"+(I=I.toString())).substr(I.length)},ne=0,te=[],xe=[],oe=0,he=[],Pe=[],G=!1,ze=xe;h.__private__.setCustomOutputDestination=function(I){G=!0,ze=I};var Ce=function(I){G||(ze=I)};h.__private__.resetCustomOutputDestination=function(){G=!1,ze=xe};var de=h.__private__.out=function(I){return I=I.toString(),oe+=I.length+1,ze.push(I),ze},it=h.__private__.write=function(I){return de(arguments.length===1?I.toString():Array.prototype.join.call(arguments," "))},Ve=h.__private__.getArrayBuffer=function(I){for(var Y=I.length,ge=new ArrayBuffer(Y),Te=new Uint8Array(ge);Y--;)Te[Y]=I.charCodeAt(Y);return ge},ct=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ct};var Qe=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(I){return Qe=N===_?I/st:I,this};var at,lt=h.__private__.getFontSize=h.getFontSize=function(){return N===b?Qe:Qe*st},Jt=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(I){return Jt=I,this},h.__private__.getR2L=h.getR2L=function(){return Jt};var bt,Kt=h.__private__.setZoomMode=function(I){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(I))at=I;else if(isNaN(I)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(I)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+I+'" is not recognized.');at=I}else at=parseInt(I,10)};h.__private__.getZoomMode=function(){return at};var jt,yt=h.__private__.setPageMode=function(I){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(I)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+I+'" is not recognized.');bt=I};h.__private__.getPageMode=function(){return bt};var Xt=h.__private__.setLayoutMode=function(I){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(I)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+I+'" is not recognized.');jt=I};h.__private__.getLayoutMode=function(){return jt},h.__private__.setDisplayMode=h.setDisplayMode=function(I,Y,ge){return Kt(I),Xt(Y),yt(ge),this};var _t={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(I){if(Object.keys(_t).indexOf(I)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return _t[I]},h.__private__.getDocumentProperties=function(){return _t},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(I){for(var Y in _t)_t.hasOwnProperty(Y)&&I[Y]&&(_t[Y]=I[Y]);return this},h.__private__.setDocumentProperty=function(I,Y){if(Object.keys(_t).indexOf(I)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return _t[I]=Y};var xt,st,dt,er,Ft,wt={},Yt={},Ur=[],Ht={},dr={},Qt={},nn={},an=null,Rr=0,Vt=[],gr=new KF(h),ba=e.hotfixes||[],jn={},ns={},Wi=[],$t=function I(Y,ge,Te,Oe,qe,et){if(!(this instanceof I))return new I(Y,ge,Te,Oe,qe,et);isNaN(Y)&&(Y=1),isNaN(ge)&&(ge=0),isNaN(Te)&&(Te=0),isNaN(Oe)&&(Oe=1),isNaN(qe)&&(qe=0),isNaN(et)&&(et=0),this._matrix=[Y,ge,Te,Oe,qe,et]};Object.defineProperty($t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty($t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty($t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty($t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty($t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty($t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty($t.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty($t.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty($t.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty($t.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty($t.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty($t.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty($t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty($t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty($t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty($t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),$t.prototype.join=function(I){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(I)},$t.prototype.multiply=function(I){var Y=I.sx*this.sx+I.shy*this.shx,ge=I.sx*this.shy+I.shy*this.sy,Te=I.shx*this.sx+I.sy*this.shx,Oe=I.shx*this.shy+I.sy*this.sy,qe=I.tx*this.sx+I.ty*this.shx+this.tx,et=I.tx*this.shy+I.ty*this.sy+this.ty;return new $t(Y,ge,Te,Oe,qe,et)},$t.prototype.decompose=function(){var I=this.sx,Y=this.shy,ge=this.shx,Te=this.sy,Oe=this.tx,qe=this.ty,et=Math.sqrt(I*I+Y*Y),Et=(I/=et)*ge+(Y/=et)*Te;ge-=I*Et,Te-=Y*Et;var Ot=Math.sqrt(ge*ge+Te*Te);return Et/=Ot,I*(Te/=Ot)<Y*(ge/=Ot)&&(I=-I,Y=-Y,Et=-Et,et=-et),{scale:new $t(et,0,0,Ot,0,0),translate:new $t(1,0,0,1,Oe,qe),rotate:new $t(I,Y,-Y,I,0,0),skew:new $t(1,0,Et,1,0,0)}},$t.prototype.toString=function(I){return this.join(" ")},$t.prototype.inversed=function(){var I=this.sx,Y=this.shy,ge=this.shx,Te=this.sy,Oe=this.tx,qe=this.ty,et=1/(I*Te-Y*ge),Et=Te*et,Ot=-Y*et,Zt=-ge*et,cr=I*et;return new $t(Et,Ot,Zt,cr,-Et*Oe-Zt*qe,-Ot*Oe-cr*qe)},$t.prototype.applyToPoint=function(I){var Y=I.x*this.sx+I.y*this.shx+this.tx,ge=I.x*this.shy+I.y*this.sy+this.ty;return new Fc(Y,ge)},$t.prototype.applyToRectangle=function(I){var Y=this.applyToPoint(I),ge=this.applyToPoint(new Fc(I.x+I.w,I.y+I.h));return new Kf(Y.x,Y.y,ge.x-Y.x,ge.y-Y.y)},$t.prototype.clone=function(){var I=this.sx,Y=this.shy,ge=this.shx,Te=this.sy,Oe=this.tx,qe=this.ty;return new $t(I,Y,ge,Te,Oe,qe)},h.Matrix=$t;var vn=h.matrixMult=function(I,Y){return Y.multiply(I)},_a=new $t(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=_a;var En=function(I,Y){if(!dr[I]){var ge=(Y instanceof s0?"Sh":"P")+(Object.keys(Ht).length+1).toString(10);Y.id=ge,dr[I]=ge,Ht[ge]=Y,gr.publish("addPattern",Y)}};h.ShadingPattern=s0,h.TilingPattern=mm,h.addShadingPattern=function(I,Y){return T("addShadingPattern()"),En(I,Y),this},h.beginTilingPattern=function(I){T("beginTilingPattern()"),Mc(I.boundingBox[0],I.boundingBox[1],I.boundingBox[2]-I.boundingBox[0],I.boundingBox[3]-I.boundingBox[1],I.matrix)},h.endTilingPattern=function(I,Y){T("endTilingPattern()"),Y.stream=Pe[U].join(`
`),En(I,Y),gr.publish("endTilingPattern",Y),Wi.pop().restore()};var ti,yn=h.__private__.newObject=function(){var I=Gn();return Q(I,!0),I},Gn=h.__private__.newObjectDeferred=function(){return ne++,te[ne]=function(){return oe},ne},Q=function(I,Y){return Y=typeof Y=="boolean"&&Y,te[I]=oe,Y&&de(I+" 0 obj"),I},me=h.__private__.newAdditionalObject=function(){var I={objId:Gn(),content:""};return he.push(I),I},ce=Gn(),fe=Gn(),pe=h.__private__.decodeColorString=function(I){var Y=I.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length!==5||Y[4]!=="k"&&Y[4]!=="K"||(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var ge=parseFloat(Y[0]);Y=[ge,ge,ge,"r"]}for(var Te="#",Oe=0;Oe<3;Oe++)Te+=("0"+Math.floor(255*parseFloat(Y[Oe])).toString(16)).slice(-2);return Te},H=h.__private__.encodeColorString=function(I){var Y;typeof I=="string"&&(I={ch1:I});var ge=I.ch1,Te=I.ch2,Oe=I.ch3,qe=I.ch4,et=I.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ge=="string"&&ge.charAt(0)!=="#"){var Et=new QK(ge);if(Et.ok)ge=Et.toHex();else if(!/^\d*\.?\d*$/.test(ge))throw new Error('Invalid color "'+ge+'" passed to jsPDF.encodeColorString.')}if(typeof ge=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ge)&&(ge="#"+ge[1]+ge[1]+ge[2]+ge[2]+ge[3]+ge[3]),typeof ge=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ge)){var Ot=parseInt(ge.substr(1),16);ge=Ot>>16&255,Te=Ot>>8&255,Oe=255&Ot}if(Te===void 0||qe===void 0&&ge===Te&&Te===Oe)Y=typeof ge=="string"?ge+" "+et[0]:I.precision===2?E(ge/255)+" "+et[0]:C(ge/255)+" "+et[0];else if(qe===void 0||hn(qe)==="object"){if(qe&&!isNaN(qe.a)&&qe.a===0)return["1.","1.","1.",et[1]].join(" ");Y=typeof ge=="string"?[ge,Te,Oe,et[1]].join(" "):I.precision===2?[E(ge/255),E(Te/255),E(Oe/255),et[1]].join(" "):[C(ge/255),C(Te/255),C(Oe/255),et[1]].join(" ")}else Y=typeof ge=="string"?[ge,Te,Oe,qe,et[2]].join(" "):I.precision===2?[E(ge),E(Te),E(Oe),E(qe),et[2]].join(" "):[C(ge),C(Te),C(Oe),C(qe),et[2]].join(" ");return Y},we=h.__private__.getFilters=function(){return s},ke=h.__private__.putStream=function(I){var Y=(I=I||{}).data||"",ge=I.filters||we(),Te=I.alreadyAppliedFilters||[],Oe=I.addLength1||!1,qe=Y.length,et=I.objectId,Et=function(mi){return mi};if(u!==null&&et===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Et=sn.encryptor(et,0));var Ot={};ge===!0&&(ge=["FlateEncode"]);var Zt=I.additionalKeyValues||[],cr=(Ot=Ut.API.processDataByFilters!==void 0?Ut.API.processDataByFilters(Y,ge):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(Ot.data.length!==0&&(Zt.push({key:"Length",value:Ot.data.length}),Oe===!0&&Zt.push({key:"Length1",value:qe})),cr.length!=0)if(cr.split("/").length-1==1)Zt.push({key:"Filter",value:cr});else{Zt.push({key:"Filter",value:"["+cr+"]"});for(var Fr=0;Fr<Zt.length;Fr+=1)if(Zt[Fr].key==="DecodeParms"){for(var Jr=[],ni=0;ni<Ot.reverseChain.split("/").length-1;ni+=1)Jr.push("null");Jr.push(Zt[Fr].value),Zt[Fr].value="["+Jr.join(" ")+"]"}}de("<<");for(var on=0;on<Zt.length;on++)de("/"+Zt[on].key+" "+Zt[on].value);de(">>"),Ot.data.length!==0&&(de("stream"),de(Et(Ot.data)),de("endstream"))},Ee=h.__private__.putPage=function(I){var Y=I.number,ge=I.data,Te=I.objId,Oe=I.contentsObjId;Q(Te,!0),de("<</Type /Page"),de("/Parent "+I.rootDictionaryObjId+" 0 R"),de("/Resources "+I.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(S(I.mediaBox.bottomLeftX))+" "+parseFloat(S(I.mediaBox.bottomLeftY))+" "+S(I.mediaBox.topRightX)+" "+S(I.mediaBox.topRightY)+"]"),I.cropBox!==null&&de("/CropBox ["+S(I.cropBox.bottomLeftX)+" "+S(I.cropBox.bottomLeftY)+" "+S(I.cropBox.topRightX)+" "+S(I.cropBox.topRightY)+"]"),I.bleedBox!==null&&de("/BleedBox ["+S(I.bleedBox.bottomLeftX)+" "+S(I.bleedBox.bottomLeftY)+" "+S(I.bleedBox.topRightX)+" "+S(I.bleedBox.topRightY)+"]"),I.trimBox!==null&&de("/TrimBox ["+S(I.trimBox.bottomLeftX)+" "+S(I.trimBox.bottomLeftY)+" "+S(I.trimBox.topRightX)+" "+S(I.trimBox.topRightY)+"]"),I.artBox!==null&&de("/ArtBox ["+S(I.artBox.bottomLeftX)+" "+S(I.artBox.bottomLeftY)+" "+S(I.artBox.topRightX)+" "+S(I.artBox.topRightY)+"]"),typeof I.userUnit=="number"&&I.userUnit!==1&&de("/UserUnit "+I.userUnit),gr.publish("putPage",{objId:Te,pageContext:Vt[Y],pageNumber:Y,page:ge}),de("/Contents "+Oe+" 0 R"),de(">>"),de("endobj");var qe=ge.join(`
`);return N===_&&(qe+=`
Q`),Q(Oe,!0),ke({data:qe,filters:we(),objectId:Oe}),de("endobj"),Te},be=h.__private__.putPages=function(){var I,Y,ge=[];for(I=1;I<=Rr;I++)Vt[I].objId=Gn(),Vt[I].contentsObjId=Gn();for(I=1;I<=Rr;I++)ge.push(Ee({number:I,data:Pe[I],objId:Vt[I].objId,contentsObjId:Vt[I].contentsObjId,mediaBox:Vt[I].mediaBox,cropBox:Vt[I].cropBox,bleedBox:Vt[I].bleedBox,trimBox:Vt[I].trimBox,artBox:Vt[I].artBox,userUnit:Vt[I].userUnit,rootDictionaryObjId:ce,resourceDictionaryObjId:fe}));Q(ce,!0),de("<</Type /Pages");var Te="/Kids [";for(Y=0;Y<Rr;Y++)Te+=ge[Y]+" 0 R ";de(Te+"]"),de("/Count "+Rr),de(">>"),de("endobj"),gr.publish("postPutPages")},Ae=function(I){gr.publish("putFont",{font:I,out:de,newObject:yn,putStream:ke}),I.isAlreadyPutted!==!0&&(I.objectNumber=yn(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Qp(I.postScriptName)),de("/Subtype /Type1"),typeof I.encoding=="string"&&de("/Encoding /"+I.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},Le=function(I){I.objectNumber=yn();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[S(I.x),S(I.y),S(I.x+I.width),S(I.y+I.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var ge=I.pages[1].join(`
`);ke({data:ge,additionalKeyValues:Y,objectId:I.objectNumber}),de("endobj")},Ke=function(I,Y){Y||(Y=21);var ge=yn(),Te=function(et,Et){var Ot,Zt=[],cr=1/(Et-1);for(Ot=0;Ot<1;Ot+=cr)Zt.push(Ot);if(Zt.push(1),et[0].offset!=0){var Fr={offset:0,color:et[0].color};et.unshift(Fr)}if(et[et.length-1].offset!=1){var Jr={offset:1,color:et[et.length-1].color};et.push(Jr)}for(var ni="",on=0,mi=0;mi<Zt.length;mi++){for(Ot=Zt[mi];Ot>et[on+1].offset;)on++;var ii=et[on].offset,gi=(Ot-ii)/(et[on+1].offset-ii),Cn=et[on].color,Ua=et[on+1].color;ni+=z(Math.round((1-gi)*Cn[0]+gi*Ua[0]).toString(16))+z(Math.round((1-gi)*Cn[1]+gi*Ua[1]).toString(16))+z(Math.round((1-gi)*Cn[2]+gi*Ua[2]).toString(16))}return ni.trim()}(I.colors,Y),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+Y+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke({data:Te,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ge}),de("endobj"),I.objectNumber=yn(),de("<< /ShadingType "+I.type),de("/ColorSpace /DeviceRGB");var qe="/Coords ["+S(parseFloat(I.coords[0]))+" "+S(parseFloat(I.coords[1]))+" ";I.type===2?qe+=S(parseFloat(I.coords[2]))+" "+S(parseFloat(I.coords[3])):qe+=S(parseFloat(I.coords[2]))+" "+S(parseFloat(I.coords[3]))+" "+S(parseFloat(I.coords[4]))+" "+S(parseFloat(I.coords[5])),de(qe+="]"),I.matrix&&de("/Matrix ["+I.matrix.toString()+"]"),de("/Function "+ge+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},Ue=function(I,Y){var ge=Gn(),Te=yn();Y.push({resourcesOid:ge,objectOid:Te}),I.objectNumber=Te;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+I.boundingBox.map(S).join(" ")+"]"}),Oe.push({key:"XStep",value:S(I.xStep)}),Oe.push({key:"YStep",value:S(I.yStep)}),Oe.push({key:"Resources",value:ge+" 0 R"}),I.matrix&&Oe.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),ke({data:I.stream,additionalKeyValues:Oe,objectId:I.objectNumber}),de("endobj")},Xe=function(I){for(var Y in I.objectNumber=yn(),de("<<"),I)switch(Y){case"opacity":de("/ca "+E(I[Y]));break;case"stroke-opacity":de("/CA "+E(I[Y]))}de(">>"),de("endobj")},We=function(I){Q(I.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var Y in de("/Font <<"),wt)wt.hasOwnProperty(Y)&&(f===!1||f===!0&&d.hasOwnProperty(Y))&&de("/"+Y+" "+wt[Y].objectNumber+" 0 R");de(">>")}(),function(){if(Object.keys(Ht).length>0){for(var Y in de("/Shading <<"),Ht)Ht.hasOwnProperty(Y)&&Ht[Y]instanceof s0&&Ht[Y].objectNumber>=0&&de("/"+Y+" "+Ht[Y].objectNumber+" 0 R");gr.publish("putShadingPatternDict"),de(">>")}}(),function(Y){if(Object.keys(Ht).length>0){for(var ge in de("/Pattern <<"),Ht)Ht.hasOwnProperty(ge)&&Ht[ge]instanceof h.TilingPattern&&Ht[ge].objectNumber>=0&&Ht[ge].objectNumber<Y&&de("/"+ge+" "+Ht[ge].objectNumber+" 0 R");gr.publish("putTilingPatternDict"),de(">>")}}(I.objectOid),function(){if(Object.keys(Qt).length>0){var Y;for(Y in de("/ExtGState <<"),Qt)Qt.hasOwnProperty(Y)&&Qt[Y].objectNumber>=0&&de("/"+Y+" "+Qt[Y].objectNumber+" 0 R");gr.publish("putGStateDict"),de(">>")}}(),function(){for(var Y in de("/XObject <<"),jn)jn.hasOwnProperty(Y)&&jn[Y].objectNumber>=0&&de("/"+Y+" "+jn[Y].objectNumber+" 0 R");gr.publish("putXobjectDict"),de(">>")}(),de(">>"),de("endobj")},pt=function(I){Yt[I.fontName]=Yt[I.fontName]||{},Yt[I.fontName][I.fontStyle]=I.id},Mt=function(I,Y,ge,Te,Oe){var qe={id:"F"+(Object.keys(wt).length+1).toString(10),postScriptName:I,fontName:Y,fontStyle:ge,encoding:Te,isStandardFont:Oe||!1,metadata:{}};return gr.publish("addFont",{font:qe,instance:this}),wt[qe.id]=qe,pt(qe),qe.id},zt=h.__private__.pdfEscape=h.pdfEscape=function(I,Y){return function(ge,Te){var Oe,qe,et,Et,Ot,Zt,cr,Fr,Jr;if(et=(Te=Te||{}).sourceEncoding||"Unicode",Ot=Te.outputEncoding,(Te.autoencode||Ot)&&wt[xt].metadata&&wt[xt].metadata[et]&&wt[xt].metadata[et].encoding&&(Et=wt[xt].metadata[et].encoding,!Ot&&wt[xt].encoding&&(Ot=wt[xt].encoding),!Ot&&Et.codePages&&(Ot=Et.codePages[0]),typeof Ot=="string"&&(Ot=Et[Ot]),Ot)){for(cr=!1,Zt=[],Oe=0,qe=ge.length;Oe<qe;Oe++)(Fr=Ot[ge.charCodeAt(Oe)])?Zt.push(String.fromCharCode(Fr)):Zt.push(ge[Oe]),Zt[Oe].charCodeAt(0)>>8&&(cr=!0);ge=Zt.join("")}for(Oe=ge.length;cr===void 0&&Oe!==0;)ge.charCodeAt(Oe-1)>>8&&(cr=!0),Oe--;if(!cr)return ge;for(Zt=Te.noBOM?[]:[254,255],Oe=0,qe=ge.length;Oe<qe;Oe++){if((Jr=(Fr=ge.charCodeAt(Oe))>>8)>>8)throw new Error("Character at position "+Oe+" of string '"+ge+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Zt.push(Jr),Zt.push(Fr-(Jr<<8))}return String.fromCharCode.apply(void 0,Zt)}(I,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tr=h.__private__.beginPage=function(I){Pe[++Rr]=[],Vt[Rr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(I[0]),topRightY:Number(I[1])}},So(Rr),Ce(Pe[U])},pi=function(I,Y){var ge,Te,Oe;switch(r=Y||r,typeof I=="string"&&(ge=y(I.toLowerCase()),Array.isArray(ge)&&(Te=ge[0],Oe=ge[1])),Array.isArray(I)&&(Te=I[0]*st,Oe=I[1]*st),isNaN(Te)&&(Te=i[0],Oe=i[1]),(Te>14400||Oe>14400)&&(kn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),Oe=Math.min(14400,Oe)),i=[Te,Oe],r.substr(0,1)){case"l":Oe>Te&&(i=[Oe,Te]);break;case"p":Te>Oe&&(i=[Oe,Te])}Tr(i),jc(Hf),de(Zl),xn!==0&&de(xn+" J"),Bh!==0&&de(Bh+" j"),gr.publish("addPage",{pageNumber:Rr})},Ba=function(I){I>0&&I<=Rr&&(Pe.splice(I,1),Vt.splice(I,1),Rr--,U>Rr&&(U=Rr),this.setPage(U))},So=function(I){I>0&&I<=Rr&&(U=I)},Is=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Pe.length-1},Yl=function(I,Y,ge){var Te,Oe=void 0;return ge=ge||{},I=I!==void 0?I:wt[xt].fontName,Y=Y!==void 0?Y:wt[xt].fontStyle,Te=I.toLowerCase(),Yt[Te]!==void 0&&Yt[Te][Y]!==void 0?Oe=Yt[Te][Y]:Yt[I]!==void 0&&Yt[I][Y]!==void 0?Oe=Yt[I][Y]:ge.disableWarning===!1&&kn.warn("Unable to look up font label for font '"+I+"', '"+Y+"'. Refer to getFontList() for available fonts."),Oe||ge.noFallback||(Oe=Yt.times[Y])==null&&(Oe=Yt.times.normal),Oe},Hi=h.__private__.putInfo=function(){var I=yn(),Y=function(Te){return Te};for(var ge in u!==null&&(Y=sn.encryptor(I,0)),de("<<"),de("/Producer ("+zt(Y("jsPDF "+Ut.version))+")"),_t)_t.hasOwnProperty(ge)&&_t[ge]&&de("/"+ge.substr(0,1).toUpperCase()+ge.substr(1)+" ("+zt(Y(_t[ge]))+")");de("/CreationDate ("+zt(Y(ee))+")"),de(">>"),de("endobj")},Rh=h.__private__.putCatalog=function(I){var Y=(I=I||{}).rootDictionaryObjId||ce;switch(yn(),de("<<"),de("/Type /Catalog"),de("/Pages "+Y+" 0 R"),at||(at="fullwidth"),at){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ge=""+at;ge.substr(ge.length-1)==="%"&&(at=parseInt(at)/100),typeof at=="number"&&de("/OpenAction [3 0 R /XYZ null null "+E(at)+"]")}switch(jt||(jt="continuous"),jt){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}bt&&de("/PageMode /"+bt),gr.publish("putCatalog"),de(">>"),de("endobj")},ri=h.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(ne+1)),de("/Root "+ne+" 0 R"),de("/Info "+(ne-1)+" 0 R"),u!==null&&de("/Encrypt "+sn.oid+" 0 R"),de("/ID [ <"+le+"> <"+le+"> ]"),de(">>")},Lh=h.__private__.putHeader=function(){de("%PDF-"+g),de("%ºß¬à")},Pp=h.__private__.putXRef=function(){var I="0000000000";de("xref"),de("0 "+(ne+1)),de("0000000000 65535 f ");for(var Y=1;Y<=ne;Y++)typeof te[Y]=="function"?de((I+te[Y]()).slice(-10)+" 00000 n "):te[Y]!==void 0?de((I+te[Y]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},Jl=h.__private__.buildDocument=function(){var I;ne=0,oe=0,xe=[],te=[],he=[],ce=Gn(),fe=Gn(),Ce(xe),gr.publish("buildDocument"),Lh(),be(),function(){gr.publish("putAdditionalObjects");for(var ge=0;ge<he.length;ge++){var Te=he[ge];Q(Te.objId,!0),de(Te.content),de("endobj")}gr.publish("postPutAdditionalObjects")}(),I=[],function(){for(var ge in wt)wt.hasOwnProperty(ge)&&(f===!1||f===!0&&d.hasOwnProperty(ge))&&Ae(wt[ge])}(),function(){var ge;for(ge in Qt)Qt.hasOwnProperty(ge)&&Xe(Qt[ge])}(),function(){for(var ge in jn)jn.hasOwnProperty(ge)&&Le(jn[ge])}(),function(ge){var Te;for(Te in Ht)Ht.hasOwnProperty(Te)&&(Ht[Te]instanceof s0?Ke(Ht[Te]):Ht[Te]instanceof mm&&Ue(Ht[Te],ge))}(I),gr.publish("putResources"),I.forEach(We),We({resourcesOid:fe,objectOid:Number.MAX_SAFE_INTEGER}),gr.publish("postPutResources"),u!==null&&(sn.oid=yn(),de("<<"),de("/Filter /Standard"),de("/V "+sn.v),de("/R "+sn.r),de("/U <"+sn.toHexString(sn.U)+">"),de("/O <"+sn.toHexString(sn.O)+">"),de("/P "+sn.P),de(">>"),de("endobj")),Hi(),Rh();var Y=oe;return Pp(),ri(),de("startxref"),de(""+Y),de("%%EOF"),Ce(Pe[U]),xe.join(`
`)},Dc=h.__private__.getBlob=function(I){return new Blob([Ve(I)],{type:"application/pdf"})},Ys=h.output=h.__private__.output=(ti=function(I,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",I){case void 0:return Jl();case"save":h.save(Y.filename);break;case"arraybuffer":return Ve(Jl());case"blob":return Dc(Jl());case"bloburi":case"bloburl":if(ur.URL!==void 0&&typeof ur.URL.createObjectURL=="function")return ur.URL&&ur.URL.createObjectURL(Dc(Jl()))||void 0;kn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ge="",Te=Jl();try{ge=HF(Te)}catch{ge=HF(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+Y.filename+";base64,"+ge;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Oe=Y.pdfObjectUrl,qe="");var et='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",Et=ur.open();return Et!==null&&Et.document.write(et),Et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ur)==="[object Window]"){var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',Zt=ur.open();if(Zt!==null){Zt.document.write(Ot);var cr=this;Zt.document.documentElement.querySelector("#pdfViewer").onload=function(){Zt.document.title=Y.filename,Zt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(cr.output("bloburl"))}}return Zt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ur)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Fr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Jr=ur.open();if(Jr!==null&&(Jr.document.write(Fr),Jr.document.title=Y.filename),Jr||typeof safari>"u")return Jr;break;case"datauri":case"dataurl":return ur.document.location.href=this.output("datauristring",Y);default:return null}},ti.foo=function(){try{return ti.apply(this,arguments)}catch(ge){var I=ge.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var Y="Error in function "+I.split(`
`)[0].split("<")[0]+": "+ge.message;if(!ur.console)throw new Error(Y);ur.console.error(Y,ge),ur.alert&&alert(Y)}},ti.foo.bar=ti,ti.foo),Au=function(I){return Array.isArray(ba)===!0&&ba.indexOf(I)>-1};switch(n){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=Au("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);st=n}var sn=null;Se(),K();var Os=h.__private__.getPageInfo=h.getPageInfo=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[I].objId,pageNumber:I,pageContext:Vt[I]}},zf=h.__private__.getPageInfoByObjId=function(I){if(isNaN(I)||I%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in Vt)if(Vt[Y].objId===I)break;return Os(Y)},Wf=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:Vt[U].objId,pageNumber:U,pageContext:Vt[U]}};h.addPage=function(){return pi.apply(this,arguments),this},h.setPage=function(){return So.apply(this,arguments),Ce.call(this,Pe[U]),this},h.insertPage=function(I){return this.addPage(),this.movePage(U,I),this},h.movePage=function(I,Y){var ge,Te;if(I>Y){ge=Pe[I],Te=Vt[I];for(var Oe=I;Oe>Y;Oe--)Pe[Oe]=Pe[Oe-1],Vt[Oe]=Vt[Oe-1];Pe[Y]=ge,Vt[Y]=Te,this.setPage(Y)}else if(I<Y){ge=Pe[I],Te=Vt[I];for(var qe=I;qe<Y;qe++)Pe[qe]=Pe[qe+1],Vt[qe]=Vt[qe+1];Pe[Y]=ge,Vt[Y]=Te,this.setPage(Y)}return this},h.deletePage=function(){return Ba.apply(this,arguments),this},h.__private__.text=h.text=function(I,Y,ge,Te,Oe){var qe,et,Et,Ot,Zt,cr,Fr,Jr,ni,on=(Te=Te||{}).scope||this;if(typeof I=="number"&&typeof Y=="number"&&(typeof ge=="string"||Array.isArray(ge))){var mi=ge;ge=Y,Y=I,I=mi}if(arguments[3]instanceof $t==0?(Et=arguments[4],Ot=arguments[5],hn(Fr=arguments[3])==="object"&&Fr!==null||(typeof Et=="string"&&(Ot=Et,Et=null),typeof Fr=="string"&&(Ot=Fr,Fr=null),typeof Fr=="number"&&(Et=Fr,Fr=null),Te={flags:Fr,angle:Et,align:Ot})):(T("The transform parameter of text() with a Matrix value"),ni=Oe),isNaN(Y)||isNaN(ge)||I==null)throw new Error("Invalid arguments passed to jsPDF.text");if(I.length===0)return on;var ii,gi="",Cn=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:Lc,Ua=on.internal.scaleFactor;function zh(en){return en=en.split("	").join(Array(Te.TabLen||9).join(" ")),zt(en,Fr)}function Ao(en){for(var An,Ni=en.concat(),ia=[],Ou=Ni.length;Ou--;)typeof(An=Ni.shift())=="string"?ia.push(An):Array.isArray(en)&&(An.length===1||An[1]===void 0&&An[2]===void 0)?ia.push(An[0]):ia.push([An[0],An[1],An[2]]);return ia}function w(en,An){var Ni;if(typeof en=="string")Ni=An(en)[0];else if(Array.isArray(en)){for(var ia,Ou,x1=en.concat(),Rp=[],s2=x1.length;s2--;)typeof(ia=x1.shift())=="string"?Rp.push(An(ia)[0]):Array.isArray(ia)&&typeof ia[0]=="string"&&(Ou=An(ia[0],ia[1],ia[2]),Rp.push([Ou[0],Ou[1],Ou[2]]));Ni=Rp}return Ni}var M=!1,W=!0;if(typeof I=="string")M=!0;else if(Array.isArray(I)){var ae=I.concat();et=[];for(var De,Be=ae.length;Be--;)(typeof(De=ae.shift())!="string"||Array.isArray(De)&&typeof De[0]!="string")&&(W=!1);M=W}if(M===!1)throw new Error('Type of text must be string or Array. "'+I+'" is not recognized.');typeof I=="string"&&(I=I.match(/[\r?\n]/)?I.split(/\r\n|\r|\n/g):[I]);var ut=Qe/on.internal.scaleFactor,Lr=ut*(Cn-1);switch(Te.baseline){case"bottom":ge-=Lr;break;case"top":ge+=ut-Lr;break;case"hanging":ge+=ut-2*Lr;break;case"middle":ge+=ut/2-Lr}if((cr=Te.maxWidth||0)>0&&(typeof I=="string"?I=on.splitTextToSize(I,cr):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(en,An){return en.concat(on.splitTextToSize(An,cr))},[]))),qe={text:I,x:Y,y:ge,options:Te,mutex:{pdfEscape:zt,activeFontKey:xt,fonts:wt,activeFontSize:Qe}},gr.publish("preProcessText",qe),I=qe.text,Et=(Te=qe.options).angle,ni instanceof $t==0&&Et&&typeof Et=="number"){Et*=Math.PI/180,Te.rotationDirection===0&&(Et=-Et),N===_&&(Et=-Et);var ai=Math.cos(Et),Er=Math.sin(Et);ni=new $t(ai,Er,-Er,ai,0,0)}else Et&&Et instanceof $t&&(ni=Et);N!==_||ni||(ni=_a),(Zt=Te.charSpace||Nu)!==void 0&&(gi+=S(D(Zt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Jr=Te.horizontalScale)!==void 0&&(gi+=S(100*Jr)+` Tz
`),Te.lang;var br=-1,Pn=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,To=on.internal.getCurrentPageInfo().pageContext;switch(Pn){case 0:case!1:case"fill":br=0;break;case 1:case!0:case"stroke":br=1;break;case 2:case"fillThenStroke":br=2;break;case 3:case"invisible":br=3;break;case 4:case"fillAndAddForClipping":br=4;break;case 5:case"strokeAndAddPathForClipping":br=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":br=6;break;case 7:case"addToPathForClipping":br=7}var is=To.usedRenderingMode!==void 0?To.usedRenderingMode:-1;br!==-1?gi+=br+` Tr
`:is!==-1&&(gi+=`0 Tr
`),br!==-1&&(To.usedRenderingMode=br),Ot=Te.align||"left";var Va,tc=Qe*Cn,d1=on.internal.pageSize.getWidth(),h1=wt[xt];Zt=Te.charSpace||Nu,cr=Te.maxWidth||0,Fr=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var Yf=[],Wh=function(en){return on.getStringUnitWidth(en,{font:h1,charSpace:Zt,fontSize:Qe,doKerning:!1})*Qe/Ua};if(Object.prototype.toString.call(I)==="[object Array]"){var ko;et=Ao(I),Ot!=="left"&&(Va=et.map(Wh));var No,Jf=0;if(Ot==="right"){Y-=Va[0],I=[],Be=et.length;for(var Iu=0;Iu<Be;Iu++)Iu===0?(No=Sa(Y),ko=Ql(ge)):(No=D(Jf-Va[Iu]),ko=-tc),I.push([et[Iu],No,ko]),Jf=Va[Iu]}else if(Ot==="center"){Y-=Va[0]/2,I=[],Be=et.length;for(var Qf=0;Qf<Be;Qf++)Qf===0?(No=Sa(Y),ko=Ql(ge)):(No=D((Jf-Va[Qf])/2),ko=-tc),I.push([et[Qf],No,ko]),Jf=Va[Qf]}else if(Ot==="left"){I=[],Be=et.length;for(var p1=0;p1<Be;p1++)I.push(et[p1])}else if(Ot==="justify"&&h1.encoding==="Identity-H"){I=[],Be=et.length,cr=cr!==0?cr:d1;for(var Dp=0,ki=0;ki<Be;ki++)if(ko=ki===0?Ql(ge):-tc,No=ki===0?Sa(Y):Dp,ki<Be-1){var a2=D((cr-Va[ki])/(et[ki].split(" ").length-1)),Uc=et[ki].split(" ");I.push([Uc[0]+" ",No,ko]),Dp=0;for(var Vc=1;Vc<Uc.length;Vc++){var m1=(Wh(Uc[Vc-1]+" "+Uc[Vc])-Wh(Uc[Vc]))*Ua+a2;Vc==Uc.length-1?I.push([Uc[Vc],m1,0]):I.push([Uc[Vc]+" ",m1,0]),Dp-=m1}}else I.push([et[ki],No,ko]);I.push(["",Dp,0])}else{if(Ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(I=[],Be=et.length,cr=cr!==0?cr:d1,ki=0;ki<Be;ki++){ko=ki===0?Ql(ge):-tc,No=ki===0?Sa(Y):0;var g1=et[ki].split(" ").length-1,v1=g1>0?(cr-Va[ki])/g1:0;ki<Be-1?Yf.push(S(D(v1))):Yf.push(0),I.push([et[ki],No,ko])}}}(typeof Te.R2L=="boolean"?Te.R2L:Jt)===!0&&(I=w(I,function(en,An,Ni){return[en.split("").reverse().join(""),An,Ni]})),qe={text:I,x:Y,y:ge,options:Te,mutex:{pdfEscape:zt,activeFontKey:xt,fonts:wt,activeFontSize:Qe}},gr.publish("postProcessText",qe),I=qe.text,ii=qe.mutex.isHex||!1;var y1=wt[xt].encoding;y1!=="WinAnsiEncoding"&&y1!=="StandardEncoding"||(I=w(I,function(en,An,Ni){return[zh(en),An,Ni]})),et=Ao(I),I=[];for(var Zf,ed,td,Hh=Array.isArray(et[0])?1:0,rd="",qh=function(en,An,Ni){var ia="";return Ni instanceof $t?(Ni=typeof Te.angle=="number"?vn(Ni,new $t(1,0,0,1,en,An)):vn(new $t(1,0,0,1,en,An),Ni),N===_&&(Ni=vn(new $t(1,0,0,-1,0,0),Ni)),ia=Ni.join(" ")+` Tm
`):ia=S(en)+" "+S(An)+` Td
`,ia},pl=0;pl<et.length;pl++){switch(rd="",Hh){case 1:td=(ii?"<":"(")+et[pl][0]+(ii?">":")"),Zf=parseFloat(et[pl][1]),ed=parseFloat(et[pl][2]);break;case 0:td=(ii?"<":"(")+et[pl]+(ii?">":")"),Zf=Sa(Y),ed=Ql(ge)}Yf!==void 0&&Yf[pl]!==void 0&&(rd=Yf[pl]+` Tw
`),pl===0?I.push(rd+qh(Zf,ed,ni)+td):Hh===0?I.push(rd+td):Hh===1&&I.push(rd+qh(Zf,ed,ni)+td)}I=Hh===0?I.join(` Tj
T* `):I.join(` Tj
`),I+=` Tj
`;var $c=`BT
/`;return $c+=xt+" "+Qe+` Tf
`,$c+=S(Qe*Cn)+` TL
`,$c+=Eo+`
`,$c+=gi,$c+=I,de($c+="ET"),d[xt]=!0,on};var Ip=h.__private__.clip=h.clip=function(I){return de(I==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Ip("evenodd")},h.__private__.discardPath=h.discardPath=function(){return de("n"),this};var Cr=h.__private__.isValidStyle=function(I){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(I)!==-1&&(Y=!0),Y};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(I){return Cr(I)&&(c=I),this};var Tu=h.__private__.getStyle=h.getStyle=function(I){var Y=c;switch(I){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=I}return Y},Rc=h.close=function(){return de("h"),this};h.stroke=function(){return de("S"),this},h.fill=function(I){return Js("f",I),this},h.fillEvenOdd=function(I){return Js("f*",I),this},h.fillStroke=function(I){return Js("B",I),this},h.fillStrokeEvenOdd=function(I){return Js("B*",I),this};var Js=function(I,Y){hn(Y)==="object"?s1(Y,I):de(I)},jh=function(I){I===null||N===_&&I===void 0||(I=Tu(I),de(I))};function Op(I,Y,ge,Te,Oe){var qe=new mm(Y||this.boundingBox,ge||this.xStep,Te||this.yStep,this.gState,Oe||this.matrix);qe.stream=this.stream;var et=I+"$$"+this.cloneIndex+++"$$";return En(et,qe),qe}var s1=function(I,Y){var ge=dr[I.key],Te=Ht[ge];if(Te instanceof s0)de("q"),de(o1(Y)),Te.gState&&h.setGState(Te.gState),de(I.matrix.toString()+" cm"),de("/"+ge+" sh"),de("Q");else if(Te instanceof mm){var Oe=new $t(1,0,0,-1,0,hl());I.matrix&&(Oe=Oe.multiply(I.matrix||_a),ge=Op.call(Te,I.key,I.boundingBox,I.xStep,I.yStep,Oe).id),de("q"),de("/Pattern cs"),de("/"+ge+" scn"),Te.gState&&h.setGState(Te.gState),de(Y),de("Q")}},o1=function(I){switch(I){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Fh=h.moveTo=function(I,Y){return de(S(D(I))+" "+S(q(Y))+" m"),this},ku=h.lineTo=function(I,Y){return de(S(D(I))+" "+S(q(Y))+" l"),this},Qs=h.curveTo=function(I,Y,ge,Te,Oe,qe){return de([S(D(I)),S(q(Y)),S(D(ge)),S(q(Te)),S(D(Oe)),S(q(qe)),"c"].join(" ")),this};h.__private__.line=h.line=function(I,Y,ge,Te,Oe){if(isNaN(I)||isNaN(Y)||isNaN(ge)||isNaN(Te)||!Cr(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return N===b?this.lines([[ge-I,Te-Y]],I,Y,[1,1],Oe||"S"):this.lines([[ge-I,Te-Y]],I,Y,[1,1]).stroke()},h.__private__.lines=h.lines=function(I,Y,ge,Te,Oe,qe){var et,Et,Ot,Zt,cr,Fr,Jr,ni,on,mi,ii,gi;if(typeof I=="number"&&(gi=ge,ge=Y,Y=I,I=gi),Te=Te||[1,1],qe=qe||!1,isNaN(Y)||isNaN(ge)||!Array.isArray(I)||!Array.isArray(Te)||!Cr(Oe)||typeof qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Fh(Y,ge),et=Te[0],Et=Te[1],Zt=I.length,mi=Y,ii=ge,Ot=0;Ot<Zt;Ot++)(cr=I[Ot]).length===2?(mi=cr[0]*et+mi,ii=cr[1]*Et+ii,ku(mi,ii)):(Fr=cr[0]*et+mi,Jr=cr[1]*Et+ii,ni=cr[2]*et+mi,on=cr[3]*Et+ii,mi=cr[4]*et+mi,ii=cr[5]*Et+ii,Qs(Fr,Jr,ni,on,mi,ii));return qe&&Rc(),jh(Oe),this},h.path=function(I){for(var Y=0;Y<I.length;Y++){var ge=I[Y],Te=ge.c;switch(ge.op){case"m":Fh(Te[0],Te[1]);break;case"l":ku(Te[0],Te[1]);break;case"c":Qs.apply(this,Te);break;case"h":Rc()}}return this},h.__private__.rect=h.rect=function(I,Y,ge,Te,Oe){if(isNaN(I)||isNaN(Y)||isNaN(ge)||isNaN(Te)||!Cr(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return N===b&&(Te=-Te),de([S(D(I)),S(q(Y)),S(D(ge)),S(D(Te)),"re"].join(" ")),jh(Oe),this},h.__private__.triangle=h.triangle=function(I,Y,ge,Te,Oe,qe,et){if(isNaN(I)||isNaN(Y)||isNaN(ge)||isNaN(Te)||isNaN(Oe)||isNaN(qe)||!Cr(et))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ge-I,Te-Y],[Oe-ge,qe-Te],[I-Oe,Y-qe]],I,Y,[1,1],et,!0),this},h.__private__.roundedRect=h.roundedRect=function(I,Y,ge,Te,Oe,qe,et){if(isNaN(I)||isNaN(Y)||isNaN(ge)||isNaN(Te)||isNaN(Oe)||isNaN(qe)||!Cr(et))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Et=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*ge),qe=Math.min(qe,.5*Te),this.lines([[ge-2*Oe,0],[Oe*Et,0,Oe,qe-qe*Et,Oe,qe],[0,Te-2*qe],[0,qe*Et,-Oe*Et,qe,-Oe,qe],[2*Oe-ge,0],[-Oe*Et,0,-Oe,-qe*Et,-Oe,-qe],[0,2*qe-Te],[0,-qe*Et,Oe*Et,-qe,Oe,-qe]],I+Oe,Y,[1,1],et,!0),this},h.__private__.ellipse=h.ellipse=function(I,Y,ge,Te,Oe){if(isNaN(I)||isNaN(Y)||isNaN(ge)||isNaN(Te)||!Cr(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var qe=4/3*(Math.SQRT2-1)*ge,et=4/3*(Math.SQRT2-1)*Te;return Fh(I+ge,Y),Qs(I+ge,Y-et,I+qe,Y-Te,I,Y-Te),Qs(I-qe,Y-Te,I-ge,Y-et,I-ge,Y),Qs(I-ge,Y+et,I-qe,Y+Te,I,Y+Te),Qs(I+qe,Y+Te,I+ge,Y+et,I+ge,Y),jh(Oe),this},h.__private__.circle=h.circle=function(I,Y,ge,Te){if(isNaN(I)||isNaN(Y)||isNaN(ge)||!Cr(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(I,Y,ge,ge,Te)},h.setFont=function(I,Y,ge){return ge&&(Y=k(Y,ge)),xt=Yl(I,Y,{disableWarning:!1}),this};var fl=h.__private__.getFont=h.getFont=function(){return wt[Yl.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var I,Y,ge={};for(I in Yt)if(Yt.hasOwnProperty(I))for(Y in ge[I]=[],Yt[I])Yt[I].hasOwnProperty(Y)&&ge[I].push(Y);return ge},h.addFont=function(I,Y,ge,Te,Oe){var qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&qe.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&qe.indexOf(arguments[3])==-1&&(ge=k(ge,Te)),Mt.call(this,I,Y,ge,Oe=Oe||"Identity-H")};var Lc,Hf=e.lineWidth||.200025,sr=h.__private__.getLineWidth=h.getLineWidth=function(){return Hf},jc=h.__private__.setLineWidth=h.setLineWidth=function(I){return Hf=I,de(S(D(I))+" w"),this};h.__private__.setLineDash=Ut.API.setLineDash=Ut.API.setLineDashPattern=function(I,Y){if(I=I||[],Y=Y||0,isNaN(Y)||!Array.isArray(I))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return I=I.map(function(ge){return S(D(ge))}).join(" "),Y=S(D(Y)),de("["+I+"] "+Y+" d"),this};var l1=h.__private__.getLineHeight=h.getLineHeight=function(){return Qe*Lc};h.__private__.getLineHeight=h.getLineHeight=function(){return Qe*Lc};var c1=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(I){return typeof(I=I||1.15)=="number"&&(Lc=I),this},u1=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return Lc};c1(e.lineHeight);var Sa=h.__private__.getHorizontalCoordinate=function(I){return D(I)},Ql=h.__private__.getVerticalCoordinate=function(I){return N===_?I:Vt[U].mediaBox.topRightY-Vt[U].mediaBox.bottomLeftY-D(I)},f1=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(I){return S(Sa(I))},qf=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(I){return S(Ql(I))},Zl=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return pe(Zl)},h.__private__.setStrokeColor=h.setDrawColor=function(I,Y,ge,Te){return Zl=H({ch1:I,ch2:Y,ch3:ge,ch4:Te,pdfColorType:"draw",precision:2}),de(Zl),this};var Gf=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return pe(Gf)},h.__private__.setFillColor=h.setFillColor=function(I,Y,ge,Te){return Gf=H({ch1:I,ch2:Y,ch3:ge,ch4:Te,pdfColorType:"fill",precision:2}),de(Gf),this};var Eo=e.textColor||"0 g",dl=h.__private__.getTextColor=h.getTextColor=function(){return pe(Eo)};h.__private__.setTextColor=h.setTextColor=function(I,Y,ge,Te){return Eo=H({ch1:I,ch2:Y,ch3:ge,ch4:Te,pdfColorType:"text",precision:3}),this};var Nu=e.charSpace,Mh=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Nu||0)};h.__private__.setCharSpace=h.setCharSpace=function(I){if(isNaN(I))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Nu=I,this};var xn=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(I){var Y=h.CapJoinStyles[I];if(Y===void 0)throw new Error("Line cap style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xn=Y,de(Y+" J"),this};var Bh=0;h.__private__.setLineJoin=h.setLineJoin=function(I){var Y=h.CapJoinStyles[I];if(Y===void 0)throw new Error("Line join style of '"+I+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bh=Y,de(Y+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(I){if(I=I||0,isNaN(I))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(S(D(I))+" M"),this},h.GState=T_,h.setGState=function(I){(I=typeof I=="string"?Qt[nn[I]]:Cu(null,I)).equals(an)||(de("/"+I.id+" gs"),an=I)};var Cu=function(I,Y){if(!I||!nn[I]){var ge=!1;for(var Te in Qt)if(Qt.hasOwnProperty(Te)&&Qt[Te].equals(Y)){ge=!0;break}if(ge)Y=Qt[Te];else{var Oe="GS"+(Object.keys(Qt).length+1).toString(10);Qt[Oe]=Y,Y.id=Oe}return I&&(nn[I]=Y.id),gr.publish("addGState",Y),Y}};h.addGState=function(I,Y){return Cu(I,Y),this},h.saveGraphicsState=function(){return de("q"),Ur.push({key:xt,size:Qe,color:Eo}),this},h.restoreGraphicsState=function(){de("Q");var I=Ur.pop();return xt=I.key,Qe=I.size,Eo=I.color,an=null,this},h.setCurrentTransformationMatrix=function(I){return de(I.toString()+" cm"),this},h.comment=function(I){return de("#"+I),this};var Fc=function(I,Y){var ge=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ge},set:function(qe){isNaN(qe)||(ge=parseFloat(qe))}});var Te=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(qe){isNaN(qe)||(Te=parseFloat(qe))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function(qe){Oe=qe.toString()}}),this},Kf=function(I,Y,ge,Te){Fc.call(this,I,Y),this.type="rect";var Oe=ge||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(et){isNaN(et)||(Oe=parseFloat(et))}});var qe=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return qe},set:function(et){isNaN(et)||(qe=parseFloat(et))}}),this},Pu=function(){this.page=Rr,this.currentPage=U,this.pages=Pe.slice(0),this.pagesContext=Vt.slice(0),this.x=dt,this.y=er,this.matrix=Ft,this.width=Zs(U),this.height=ec(U),this.outputDestination=ze,this.id="",this.objectNumber=-1};Pu.prototype.restore=function(){Rr=this.page,U=this.currentPage,Vt=this.pagesContext,Pe=this.pages,dt=this.x,er=this.y,Ft=this.matrix,Uh(U,this.width),Ds(U,this.height),ze=this.outputDestination};var Mc=function(I,Y,ge,Te,Oe){Wi.push(new Pu),Rr=U=0,Pe=[],dt=I,er=Y,Ft=Oe,Tr([ge,Te])};for(var Bc in h.beginFormObject=function(I,Y,ge,Te,Oe){return Mc(I,Y,ge,Te,Oe),this},h.endFormObject=function(I){return function(Y){if(ns[Y])Wi.pop().restore();else{var ge=new Pu,Te="Xo"+(Object.keys(jn).length+1).toString(10);ge.id=Te,ns[Y]=Te,jn[Te]=ge,gr.publish("addFormObject",ge),Wi.pop().restore()}}(I),this},h.doFormObject=function(I,Y){var ge=jn[ns[I]];return de("q"),de(Y.toString()+" cm"),de("/"+ge.id+" Do"),de("Q"),this},h.getFormObject=function(I){var Y=jn[ns[I]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},h.save=function(I,Y){return I=I||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(e0(Dc(Jl()),I),typeof e0.unload=="function"&&ur.setTimeout&&setTimeout(e0.unload,911),this):new Promise(function(ge,Te){try{var Oe=e0(Dc(Jl()),I);typeof e0.unload=="function"&&ur.setTimeout&&setTimeout(e0.unload,911),ge(Oe)}catch(qe){Te(qe.message)}})},Ut.API)Ut.API.hasOwnProperty(Bc)&&(Bc==="events"&&Ut.API.events.length?function(I,Y){var ge,Te,Oe;for(Oe=Y.length-1;Oe!==-1;Oe--)ge=Y[Oe][0],Te=Y[Oe][1],I.subscribe.apply(I,[ge].concat(typeof Te=="function"?[Te]:Te))}(gr,Ut.API.events):h[Bc]=Ut.API[Bc]);function Zs(I){return Vt[I].mediaBox.topRightX-Vt[I].mediaBox.bottomLeftX}function Uh(I,Y){Vt[I].mediaBox.topRightX=Y+Vt[I].mediaBox.bottomLeftX}function ec(I){return Vt[I].mediaBox.topRightY-Vt[I].mediaBox.bottomLeftY}function Ds(I,Y){Vt[I].mediaBox.topRightY=Y+Vt[I].mediaBox.bottomLeftY}var Vh=h.getPageWidth=function(I){return Zs(I=I||U)/st},Xf=h.setPageWidth=function(I,Y){Uh(I,Y*st)},hl=h.getPageHeight=function(I){return ec(I=I||U)/st},$h=h.setPageHeight=function(I,Y){Ds(I,Y*st)};return h.internal={pdfEscape:zt,getStyle:Tu,getFont:fl,getFontSize:lt,getCharSpace:Mh,getTextColor:dl,getLineHeight:l1,getLineHeightFactor:u1,getLineWidth:sr,write:it,getHorizontalCoordinate:Sa,getVerticalCoordinate:Ql,getCoordinateString:f1,getVerticalCoordinateString:qf,collections:{},newObject:yn,newAdditionalObject:me,newObjectDeferred:Gn,newObjectDeferredBegin:Q,getFilters:we,putStream:ke,events:gr,scaleFactor:st,pageSize:{getWidth:function(){return Vh(U)},setWidth:function(I){Xf(U,I)},getHeight:function(){return hl(U)},setHeight:function(I){$h(U,I)}},encryptionOptions:u,encryption:sn,getEncryptor:function(I){return u!==null?sn.encryptor(I,0):function(Y){return Y}},output:Ys,getNumberOfPages:Is,pages:Pe,out:de,f2:E,f3:C,getPageInfo:Os,getPageInfoByObjId:zf,getCurrentPageInfo:Wf,getPDFVersion:m,Point:Fc,Rectangle:Kf,Matrix:$t,hasHotfix:Au},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Vh(U)},set:function(I){Xf(U,I)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return hl(U)},set:function(I){$h(U,I)},enumerable:!0,configurable:!0}),(function(I){for(var Y=0,ge=ct.length;Y<ge;Y++){var Te=Mt.call(this,I[Y][0],I[Y][1],I[Y][2],ct[Y][3],!0);f===!1&&(d[Te]=!0);var Oe=I[Y][0].split("-");pt({id:Te,fontName:Oe[0],fontStyle:Oe[1]||""})}gr.publish("addFonts",{fonts:wt,dictionary:Yt})}).call(h,ct),xt="F1",pi(i,r),gr.publish("initialized"),h}Jp.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Jp.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Jp.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Jp.prototype.processOwnerPassword=function(e,t){return tN(eN(t).substr(0,5),e)},Jp.prototype.encryptor=function(e,t){var r=eN(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return tN(r,n)}},T_.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||hn(e)!==hn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Ut.API={events:[]},Ut.version="3.0.3";var xi=Ut.API,oI=1,Tp=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Vp=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},hr=function(e){return e.toFixed(2)},hd=function(e){return e.toFixed(5)};xi.__acroform__={};var _o=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},XF=function(e){return e*oI},Kc=function(e){var t=new rX,r=Pt.internal.getHeight(e)||0,n=Pt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(hr(n)),Number(hr(r))],t},E4e=xi.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},A4e=xi.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},T4e=xi.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Mi=xi.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return T4e(e,t-1)},Bi=xi.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return E4e(e,t-1)},Ui=xi.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return A4e(e,t-1)},k4e=xi.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,i=e[0],a=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(a+o)||0,l.upperRight_X=r(i+s)||0,l.upperRight_Y=n(a)||0,[Number(hr(l.lowerLeft_X)),Number(hr(l.lowerLeft_Y)),Number(hr(l.upperRight_X)),Number(hr(l.upperRight_Y))]},N4e=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=rN(e,r),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+hr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=Kc(e);return a.scope=e.scope,a.stream=t.join(`
`),a}},rN=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(E){return E.split(`
`)}):i.map(function(E){return[E]});var a=r,s=Pt.internal.getHeight(e)||0;s=s<0?-s:s;var o=Pt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(E,C,D){if(E+1<i.length){var q=C+" "+i[E+1][0];return uw(q,e,D).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var c,u,f=uw("3",e,a).height,d=e.multiline?s-a:(s-f)/2,h=d+=2,g=0,m=0,v=0;if(a<=0){t=`(...) Tj
`,t+="% Width of Text: "+uw(t,e,a=12).width+", FieldWidth:"+o+`
`;break}for(var y="",b=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var N=!1;if(i[_].length!==1&&v!==i[_].length-1){if((f+2)*(b+2)+2>s)continue e;y+=i[_][v],N=!0,m=_,_--}else{y=(y+=i[_][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var R=parseInt(_),O=l(R,y,a),k=_>=i.length-1;if(O&&!k){y+=" ",v=0;continue}if(O||k){if(k)m=R;else if(e.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>s)continue e;m=R}}for(var S="",T=g;T<=m;T++){var j=i[T];if(e.multiline){if(T===m){S+=j[v]+" ",v=(v+1)%j.length;continue}if(T===g){S+=j[j.length-1]+" ";continue}}S+=j[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=uw(S,e,a).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}t+=hr(c)+" "+hr(h)+` Td
`,t+="("+Tp(S)+`) Tj
`,t+=-hr(c)+` 0 Td
`,h=-(a+2),u=0,g=N?m:m+1,b++,y=""}break}return n.text=t,n.fontSize=a,n},uw=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},C4e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},P4e=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},I4e=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Pc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(C4e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");oI=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new nX,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var a=n[i];a.objId=void 0,a.hasAnnotation&&P4e(a,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,i){var a=!n;for(var s in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=k4e(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Pt.createDefaultAppearanceStream(o),hn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=N4e(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var d in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(d)){var h=o.appearanceStreamContent[d];if(f+="/"+d+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var g=h[s];typeof g=="function"&&(g=g.call(i,o)),f+="/"+s+" "+g+" ",i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(i,o)),f+="/"+s+" "+g,i.internal.acroformPlugin.xForms.indexOf(g)>=0||i.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}a&&function(m,v){for(var y in m)if(m.hasOwnProperty(y)){var b=y,_=m[y];v.internal.newObjectDeferredBegin(_.objId,!0),hn(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete m[b]}}(i.internal.acroformPlugin.xForms,i)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},tX=xi.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var i="[",a=0;a<e.length;a++)switch(a!==0&&(i+=" "),hn(e[a])){case"boolean":case"number":case"object":i+=e[a].toString();break;case"string":e[a].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),i+="("+Tp(n(e[a].toString()))+")"):i+=e[a].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},d4=function(e,t,r){var n=function(i){return i};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Tp(n(e))+")"},tu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};tu.prototype.toString=function(){return this.objId+" 0 R"},tu.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},tu.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],i=this[n];i&&(Array.isArray(i)?e.push({key:n,value:tX(i,this.objId,this.scope)}):i instanceof tu?(i.scope=this.scope,e.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:n,value:i}))}return e};var rX=function(){tu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};_o(rX,tu);var nX=function(){tu.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Tp(r(e))+")"}},set:function(r){e=r}})};_o(nX,tu);var Pc=function e(){tu.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Mi(t,3)},set:function(y){y?this.F=Bi(t,3):this.F=Ui(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof k_)return;a="FieldObject"+e.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Tp(y(a))+")"},set:function(y){a=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(y){a=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/oI:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof k_||this instanceof N0))return d4(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var d=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Na==0?d4(d,this.objId,this.scope):d},set:function(y){y=y.toString(),d=this instanceof Na==0?y.substr(0,1)==="("?Vp(y.substr(1,y.length-2)):Vp(y):y}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Na==1?Vp(d.substr(1,d.length-1)):d},set:function(y){y=y.toString(),d=this instanceof Na==1?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Na==0?d4(h,this.objId,this.scope):h},set:function(y){y=y.toString(),h=this instanceof Na==0?y.substr(0,1)==="("?Vp(y.substr(1,y.length-2)):Vp(y):y}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Na==1?Vp(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Na==1?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,1)},set:function(y){y?this.Ff=Bi(this.Ff,1):this.Ff=Ui(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,2)},set:function(y){y?this.Ff=Bi(this.Ff,2):this.Ff=Ui(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,3)},set:function(y){y?this.Ff=Bi(this.Ff,3):this.Ff=Ui(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;default:v=0}}})};_o(Pc,tu);var Fm=function(){Pc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tX(t,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(a,s,o){o||(o=1);for(var l,c=[];l=s.exec(a);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,18)},set:function(r){r?this.Ff=Bi(this.Ff,18):this.Ff=Ui(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Bi(this.Ff,19):this.Ff=Ui(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,20)},set:function(r){r?(this.Ff=Bi(this.Ff,20),t.sort()):this.Ff=Ui(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,22)},set:function(r){r?this.Ff=Bi(this.Ff,22):this.Ff=Ui(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,23)},set:function(r){r?this.Ff=Bi(this.Ff,23):this.Ff=Ui(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,27)},set:function(r){r?this.Ff=Bi(this.Ff,27):this.Ff=Ui(this.Ff,27)}}),this.hasAppearanceStream=!1};_o(Fm,Pc);var Mm=function(){Fm.call(this),this.fontName="helvetica",this.combo=!1};_o(Mm,Fm);var Bm=function(){Mm.call(this),this.combo=!0};_o(Bm,Mm);var ab=function(){Bm.call(this),this.edit=!0};_o(ab,Bm);var Na=function(){Pc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,15)},set:function(r){r?this.Ff=Bi(this.Ff,15):this.Ff=Ui(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,16)},set:function(r){r?this.Ff=Bi(this.Ff,16):this.Ff=Ui(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,17)},set:function(r){r?this.Ff=Bi(this.Ff,17):this.Ff=Ui(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,26)},set:function(r){r?this.Ff=Bi(this.Ff,26):this.Ff=Ui(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(a){return a};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,i=[];for(n in i.push("<<"),t)i.push("/"+n+" ("+Tp(r(t[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){hn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};_o(Na,Pc);var sb=function(){Na.call(this),this.pushButton=!0};_o(sb,Na);var Um=function(){Na.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};_o(Um,Na);var k_=function(){var e,t;Pc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),n)s.push("/"+a+" ("+Tp(i(n[a]))+")");return s.push(">>"),s.join(`
`)},set:function(i){hn(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_o(k_,Pc),Um.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Um.prototype.createOption=function(e){var t=new k_;return t.Parent=this,t.optionName=e,this.Kids.push(t),O4e.call(this.scope,t),t};var ob=function(){Na.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Pt.CheckBox.createAppearanceStream()};_o(ob,Na);var N0=function(){Pc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,13)},set:function(t){t?this.Ff=Bi(this.Ff,13):this.Ff=Ui(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,21)},set:function(t){t?this.Ff=Bi(this.Ff,21):this.Ff=Ui(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,23)},set:function(t){t?this.Ff=Bi(this.Ff,23):this.Ff=Ui(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,24)},set:function(t){t?this.Ff=Bi(this.Ff,24):this.Ff=Ui(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,25)},set:function(t){t?this.Ff=Bi(this.Ff,25):this.Ff=Ui(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,26)},set:function(t){t?this.Ff=Bi(this.Ff,26):this.Ff=Ui(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_o(N0,Pc);var lb=function(){N0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Mi(this.Ff,14)},set:function(e){e?this.Ff=Bi(this.Ff,14):this.Ff=Ui(this.Ff,14)}}),this.password=!0};_o(lb,N0);var Pt={CheckBox:{createAppearanceStream:function(){return{N:{On:Pt.CheckBox.YesNormal},D:{On:Pt.CheckBox.YesPushDown,Off:Pt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Kc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),a=rN(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+hr(Pt.internal.getWidth(e))+" "+hr(Pt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+hr(a.fontSize)+" Tf "+i),r.push("BT"),r.push(a.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Kc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),i=[],a=Pt.internal.getHeight(e),s=Pt.internal.getWidth(e),o=rN(e,e.caption);return i.push("1 g"),i.push("0 0 "+hr(s)+" "+hr(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+hr(s-1)+" "+hr(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+hr(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Kc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hr(Pt.internal.getWidth(e))+" "+hr(Pt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Pt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Pt.RadioButton.Circle.YesNormal,t.D[e]=Pt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Kc(e);t.scope=e.scope;var r=[],n=Pt.internal.getWidth(e)<=Pt.internal.getHeight(e)?Pt.internal.getWidth(e)/4:Pt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Pt.internal.Bezier_C,a=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+hd(Pt.internal.getWidth(e)/2)+" "+hd(Pt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Kc(e);t.scope=e.scope;var r=[],n=Pt.internal.getWidth(e)<=Pt.internal.getHeight(e)?Pt.internal.getWidth(e)/4:Pt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Pt.internal.Bezier_C).toFixed(5)),s=Number((n*Pt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+hd(Pt.internal.getWidth(e)/2)+" "+hd(Pt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+hd(Pt.internal.getWidth(e)/2)+" "+hd(Pt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Kc(e);t.scope=e.scope;var r=[],n=Pt.internal.getWidth(e)<=Pt.internal.getHeight(e)?Pt.internal.getWidth(e)/4:Pt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),a=Number((i*Pt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+hd(Pt.internal.getWidth(e)/2)+" "+hd(Pt.internal.getHeight(e)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),r.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),r.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),r.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Pt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Pt.RadioButton.Cross.YesNormal,t.D[e]=Pt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Kc(e);t.scope=e.scope;var r=[],n=Pt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+hr(Pt.internal.getWidth(e)-2)+" "+hr(Pt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(hr(n.x1.x)+" "+hr(n.x1.y)+" m"),r.push(hr(n.x2.x)+" "+hr(n.x2.y)+" l"),r.push(hr(n.x4.x)+" "+hr(n.x4.y)+" m"),r.push(hr(n.x3.x)+" "+hr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Kc(e);t.scope=e.scope;var r=Pt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+hr(Pt.internal.getWidth(e))+" "+hr(Pt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+hr(Pt.internal.getWidth(e)-2)+" "+hr(Pt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(hr(r.x1.x)+" "+hr(r.x1.y)+" m"),n.push(hr(r.x2.x)+" "+hr(r.x2.y)+" l"),n.push(hr(r.x4.x)+" "+hr(r.x4.y)+" m"),n.push(hr(r.x3.x)+" "+hr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Kc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+hr(Pt.internal.getWidth(e))+" "+hr(Pt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Pt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Pt.internal.getWidth(e),r=Pt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Pt.internal.getWidth=function(e){var t=0;return hn(e)==="object"&&(t=XF(e.Rect[2])),t},Pt.internal.getHeight=function(e){var t=0;return hn(e)==="object"&&(t=XF(e.Rect[3])),t};var O4e=xi.addField=function(e){if(I4e(this,e),!(e instanceof Pc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};xi.AcroFormChoiceField=Fm,xi.AcroFormListBox=Mm,xi.AcroFormComboBox=Bm,xi.AcroFormEditBox=ab,xi.AcroFormButton=Na,xi.AcroFormPushButton=sb,xi.AcroFormRadioButton=Um,xi.AcroFormCheckBox=ob,xi.AcroFormTextField=N0,xi.AcroFormPasswordField=lb,xi.AcroFormAppearance=Pt,xi.AcroForm={ChoiceField:Fm,ListBox:Mm,ComboBox:Bm,EditBox:ab,Button:Na,PushButton:sb,RadioButton:Um,CheckBox:ob,TextField:N0,PasswordField:lb,Appearance:Pt},Ut.AcroForm={ChoiceField:Fm,ListBox:Mm,ComboBox:Bm,EditBox:ab,Button:Na,PushButton:sb,RadioButton:Um,CheckBox:ob,TextField:N0,PasswordField:lb,Appearance:Pt};Ut.AcroForm;function iX(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function(E,C){var D,q,ee,le,se,K=r;if((C=C||r)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(O(E))for(se in n)for(ee=n[se],D=0;D<ee.length;D+=1){for(le=!0,q=0;q<ee[D].length;q+=1)if(ee[D][q]!==void 0&&ee[D][q]!==E[q]){le=!1;break}if(le===!0){K=se;break}}else for(se in n)for(ee=n[se],D=0;D<ee.length;D+=1){for(le=!0,q=0;q<ee[D].length;q+=1)if(ee[D][q]!==void 0&&ee[D][q]!==E.charCodeAt(q)){le=!1;break}if(le===!0){K=se;break}}return K===r&&C!==r&&(K=C),K},a=function E(C){for(var D=this.internal.write,q=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:C.width}),le.push({key:"Height",value:C.height}),C.colorSpace===y.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===y.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)&&C.transparency.length>0){for(var se="",K=0,X=C.transparency.length;K<X;K++)se+=C.transparency[K]+" "+C.transparency[K]+" ";le.push({key:"Mask",value:"["+se+"]"})}C.sMask!==void 0&&le.push({key:"SMask",value:C.objectId+1+" 0 R"});var _e=C.filter!==void 0?["/"+C.filter]:void 0;if(q({data:C.data,additionalKeyValues:le,alreadyAppliedFilters:_e,objectId:C.objectId}),D("endobj"),"sMask"in C&&C.sMask!==void 0){var Se,P=(Se=C.sMaskBitsPerComponent)!==null&&Se!==void 0?Se:C.bitsPerComponent,U={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:C.sMask};"filter"in C&&(U.decodeParameters="/Predictor ".concat(C.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(C.width),U.filter=C.filter),E.call(this,U)}if(C.colorSpace===y.INDEXED){var V=this.internal.newObject();q({data:S(new Uint8Array(C.palette)),objectId:V}),D("endobj")}},s=function(){var E=this.internal.collections[t+"images"];for(var C in E)a.call(this,E[C])},o=function(){var E,C=this.internal.collections[t+"images"],D=this.internal.write;for(var q in C)D("/I"+(E=C[q]).index,E.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var E=this.internal.collections[t+"images"];return l.call(this),E},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(E){return typeof e["process"+E.toUpperCase()]=="function"},d=function(E){return hn(E)==="object"&&E.nodeType===1},h=function(E,C){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var D=""+E.getAttribute("src");if(D.indexOf("data:image/")===0)return ib(unescape(D).split("base64,").pop());var q=e.loadFile(D,!0);if(q!==void 0)return q}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var ee;switch(C){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;default:ee="image/jpeg"}return ib(E.toDataURL(ee,1).split("base64,").pop())}},g=function(E){var C=this.internal.collections[t+"images"];if(C){for(var D in C)if(E===C[D].alias)return C[D]}},m=function(E,C,D){return E||C||(E=-96,C=-96),E<0&&(E=-1*D.width*72/E/this.internal.scaleFactor),C<0&&(C=-1*D.height*72/C/this.internal.scaleFactor),E===0&&(E=C*D.width/D.height),C===0&&(C=E*D.height/D.width),[E,C]},v=function(E,C,D,q,ee,le){var se=m.call(this,D,q,ee),K=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,_e=c.call(this);if(D=se[0],q=se[1],_e[ee.index]=ee,le){le*=Math.PI/180;var Se=Math.cos(le),P=Math.sin(le),U=function(z){return z.toFixed(4)},V=[U(Se),U(P),U(-1*P),U(Se),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,K(E),X(C+q),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([K(D),"0","0",K(q),"0","0","cm"].join(" "))):this.internal.write([K(D),"0","0",K(q),K(E),X(C+q),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},y=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(E){var C,D,q=0;if(typeof E=="string")for(D=E.length,C=0;C<D;C++)q=(q<<5)-q+E.charCodeAt(C),q|=0;else if(O(E))for(D=E.byteLength/2,C=0;C<D;C++)q=(q<<5)-q+E[C],q|=0;return q},N=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var C=!0;return E.length===0&&(C=!1),E.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(C=!1),C},R=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var C=E.indexOf(",");return C<0?null:E.substring(0,C).trim().endsWith("base64")?E.substring(C+1):null};e.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var O=e.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},k=e.__addimage__.binaryStringToUint8Array=function(E){for(var C=E.length,D=new Uint8Array(C),q=0;q<C;q++)D[q]=E.charCodeAt(q);return D},S=e.__addimage__.arrayBufferToBinaryString=function(E){for(var C="",D=O(E)?E:new Uint8Array(E),q=0;q<D.length;q+=8192)C+=String.fromCharCode.apply(null,D.subarray(q,q+8192));return C};e.addImage=function(){var E,C,D,q,ee,le,se,K,X;if(typeof arguments[1]=="number"?(C=r,D=arguments[1],q=arguments[2],ee=arguments[3],le=arguments[4],se=arguments[5],K=arguments[6],X=arguments[7]):(C=arguments[1],D=arguments[2],q=arguments[3],ee=arguments[4],le=arguments[5],se=arguments[6],K=arguments[7],X=arguments[8]),hn(E=arguments[0])==="object"&&!d(E)&&"imageData"in E){var _e=E;E=_e.imageData,C=_e.format||C||r,D=_e.x||D||0,q=_e.y||q||0,ee=_e.w||_e.width||ee,le=_e.h||_e.height||le,se=_e.alias||se,K=_e.compression||K,X=_e.rotation||_e.angle||X}var Se=this.internal.getFilters();if(K===void 0&&Se.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(D)||isNaN(q))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var P=T.call(this,E,C,se,K);return v.call(this,D,q,ee,le,P,X),this};var T=function(E,C,D,q){var ee,le,se;if(typeof E=="string"&&i(E)===r){E=unescape(E);var K=j(E,!1);(K!==""||(K=e.loadFile(E,!0))!==void 0)&&(E=K)}if(d(E)&&(E=h(E,C)),C=i(E,C),!f(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((se=D)==null||se.length===0)&&(D=function(X){return typeof X=="string"||O(X)?_(X):O(X.data)?_(X.data):null}(E)),(ee=g.call(this,D))||(E instanceof Uint8Array||C==="RGBA"||(le=E,E=k(E)),ee=this["process"+C.toUpperCase()](E,u.call(this),D,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in e.image_compression?X:b.NONE}(q),le)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},j=e.__addimage__.convertBase64ToBinaryString=function(E,C){C=typeof C!="boolean"||C;var D,q="";if(typeof E=="string"){var ee;D=(ee=R(E))!==null&&ee!==void 0?ee:E;try{q=ib(D)}catch(le){if(C)throw N(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return q};e.getImageProperties=function(E){var C,D,q="";if(d(E)&&(E=h(E)),typeof E=="string"&&i(E)===r&&((q=j(E,!1))===""&&(q=e.loadFile(E)||""),E=q),D=i(E),!f(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(E instanceof Uint8Array||(E=k(E)),!(C=this["process"+D.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=D,C}})(Ut.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Ut.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,i,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var d=0;d<c.length;d++){n=c[d];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),b=n.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",a+=" /Popup "+v.objId+" 0 R",a+=" /P "+l.objId+" 0 R",a+=" /T ("+h(y(b))+") >>",m.content=a;var _=m.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(a+=" /Open true"),a+=" >>",v.content=a,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var N=n.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(g(n.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(n.options.name){var R=this.annotations._nameMap[n.options.name];n.options.pageNumber=R.page,n.options.top=R.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",a="",n.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,a+=" /FitV "+n.options.left+"]";break;default:var O=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),a+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,i,a,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+i),h:c(n+a)},options:s,type:"link"})},e.textWithLink=function(r,n,i,a){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,i,a),i+=.2*c,a.align==="center"&&(n-=l/2),a.align==="right"&&(n-=l),this.link(n,i-c,o,s,a),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ut.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&i.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&a(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var v=0,y=r,b="",_=0;for(v=0;v<m.length;v+=1)y[m.charCodeAt(v)]!==void 0?(_++,typeof(y=y[m.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(y),y=r,_=0),v===m.length-1&&(y=r,b+=m.charAt(v-(_-1)),v-=_-1,_=0)):(y=r,b+=m.charAt(v-_),v-=_,_=0);return b};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var d=e.__arabicParser__.getCorrectForm=function(m,v,y){return s(m)?a(m)===!1?-1:!c(m)||!s(v)&&!s(y)||!s(y)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:u(m)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(m)||!s(y)?1:2:-1},h=function(m){var v=0,y=0,b=0,_="",N="",R="",O=(m=m||"").split("\\s+"),k=[];for(v=0;v<O.length;v+=1){for(k.push(""),y=0;y<O[v].length;y+=1)_=O[v][y],N=O[v][y-1],R=O[v][y+1],s(_)?(b=d(_,N,R),k[v]+=b!==-1?String.fromCharCode(t[_.charCodeAt(0)][b]):_):k[v]+=_;k[v]=f(k[v])}return k.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var b=0;for(y=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?y.push([h(v[b][0]),v[b][1],v[b][2]]):y.push([h(v[b])]);m=y}else m=h(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(Ut.API),Ut.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Ut.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var d=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),d=c.scaleFactor||this.internal.scaleFactor,h=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,N){return _.concat(v.splitTextToSize(N,y))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)h<(m=this.getStringUnitWidth(l[b],{font:f})*u)&&(h=m);return h!==0&&(g=l.length),{w:h/=d,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/d,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new a(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,d=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&d&&(this.printHeaderRow(l.lineNumber,!0),l.y+=d[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,d){if(n.call(this),!u)throw new Error("No data for PDF table.");var h,g,m,v,y=[],b=[],_=[],N={},R={},O=[],k=[],S=(d=d||{}).autoSize||!1,T=d.printHeaders!==!1,j=d.css&&d.css["font-size"]!==void 0?16*d.css["font-size"]:d.fontSize||12,E=d.margins||Object.assign({width:this.getPageWidth()},t),C=typeof d.padding=="number"?d.padding:3,D=d.headerBackgroundColor||"#c8c8c8",q=d.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=j,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=q,this.setFontSize(j),f==null)b=y=Object.keys(u[0]),_=y.map(function(){return"left"});else if(Array.isArray(f)&&hn(f[0])==="object")for(y=f.map(function(_e){return _e.name}),b=f.map(function(_e){return _e.prompt||_e.name||""}),_=f.map(function(_e){return _e.align||"left"}),h=0;h<f.length;h+=1)R[f[h].name]=.7499990551181103*f[h].width;else Array.isArray(f)&&typeof f[0]=="string"&&(b=y=f,_=y.map(function(){return"left"}));if(S||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<y.length;h+=1){for(N[v=y[h]]=u.map(function(_e){return _e[v]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(b[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=N[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)O.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[v]=Math.max.apply(null,O)+C+C,O=[]}if(T){var ee={};for(h=0;h<y.length;h+=1)ee[y[h]]={},ee[y[h]].text=b[h],ee[y[h]].align=_[h];var le=o.call(this,ee,R);k=y.map(function(_e){return new a(l,c,R[_e],le,ee[_e].text,void 0,ee[_e].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var se=f.reduce(function(_e,Se){return _e[Se.name]=Se.align,_e},{});for(h=0;h<u.length;h+=1){"rowStart"in d&&d.rowStart instanceof Function&&d.rowStart({row:h,data:u[h]},this);var K=o.call(this,u[h],R);for(m=0;m<y.length;m+=1){var X=u[h][y[m]];"cellStart"in d&&d.cellStart instanceof Function&&d.cellStart({row:h,col:m,data:X},this),s.call(this,new a(l,c,R[y[m]],K,X,h+2,se[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,d=this.internal.scaleFactor;return Object.keys(l).map(function(h){var g=l[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/d+u+u},this).reduce(function(h,g){return Math.max(h,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var d=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,d.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}d.length>0&&this.setTableHeaderRow(d),this.setFont(void 0,"normal"),r=!1}}(Ut.API);var aX={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},sX=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],nN=iX(sX),oX=[100,200,300,400,500,600,700,800,900],D4e=iX(oX);function h4(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(a){return aX[a=a||"normal"]?a:"normal"}(e.style),n=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(e.weight),i=function(a){return typeof nN[a=a||"normal"]=="number"?a:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,r,n].join(" ")}}}function YF(e,t,r,n){var i;for(i=r;i>=0&&i<t.length;i+=n)if(e[t[i]])return e[t[i]];for(i=r;i>=0&&i<t.length;i-=n)if(e[t[i]])return e[t[i]]}var R4e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},JF={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function QF(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function ZF(e){return e.trimLeft()}function L4e(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function j4e(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var fw,eM,tM,$p,dw,rM,nM,iM,p4=["times"];function aM(e,t,r,n,i){var a=4,s=oM;switch(i){case Ut.API.image_compression.FAST:a=1,s=sM;break;case Ut.API.image_compression.MEDIUM:a=6,s=lM;break;case Ut.API.image_compression.SLOW:a=9,s=cM}e=function(l,c,u,f){for(var d,h=l.length/c,g=new Uint8Array(l.length+h),m=[F4e,sM,oM,lM,cM],v=0;v<h;v+=1){var y=v*c,b=l.subarray(y,y+c);if(f)g.set(f(b,u,d),y+v);else{for(var _=m.length,N=[],R=0;R<_;R+=1)N[R]=m[R](b,u,d);var O=B4e(N.concat());g.set(N[O],y+v)}d=b}return g}(e,t,Math.ceil(r*n/8),s);var o=Yk(e,{level:a});return Ut.API.__addimage__.arrayBufferToBinaryString(o)}function F4e(e){var t=Array.apply([],e);return t.unshift(0),t}function sM(e,t){var r=e.length,n=[];n[0]=1;for(var i=0;i<r;i+=1){var a=e[i-t]||0;n[i+1]=e[i]-a+256&255}return n}function oM(e,t,r){var n=e.length,i=[];i[0]=2;for(var a=0;a<n;a+=1){var s=r&&r[a]||0;i[a+1]=e[a]-s+256&255}return i}function lM(e,t,r){var n=e.length,i=[];i[0]=3;for(var a=0;a<n;a+=1){var s=e[a-t]||0,o=r&&r[a]||0;i[a+1]=e[a]+256-(s+o>>>1)&255}return i}function cM(e,t,r){var n=e.length,i=[];i[0]=4;for(var a=0;a<n;a+=1){var s=M4e(e[a-t]||0,r&&r[a]||0,r&&r[a-t]||0);i[a+1]=e[a]-s+256&255}return i}function M4e(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),i=Math.abs(e-r),a=Math.abs(e+t-r-r);return n<=i&&n<=a?e:i<=a?t:r}function B4e(e){var t=e.map(function(r){return r.reduce(function(n,i){return n+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function m4(e,t,r){var n=t*r,i=Math.floor(n/8),a=16-(n-8*i+r),s=(1<<r)-1;return lX(e,i)>>a&s}function uM(e,t,r,n){var i=r*n,a=Math.floor(i/8),s=16-(i-8*a+n),o=(1<<n)-1,l=(t&o)<<s;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var d=f>>8&255;c.setUint8(u,d)}})(e,a,lX(e,a)&~(o<<s)&65535|l)}function lX(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function U4e(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,i=e[t++],a=i>>7,s=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,d=null,h=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,d=e[t++],1&m||(d=null),h=m>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,N=e[t++],R=N>>6&1,O=1<<1+(7&N),k=o,S=l,T=!1;N>>7&&(T=!0,k=t,S=O,t+=3*O);var j=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:v,y,width:b,height:_,has_local_palette:T,palette_offset:k,palette_size:S,data_offset:j,data_length:t-j,transparent_index:d,interlaced:!!R,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(C){if(C<0||C>=u.length)throw new Error("Frame index out of range.");return u[C]},this.decodeAndBlitFrameBGRA=function(C,D){var q=this.frameInfo(C),ee=q.width*q.height,le=new Uint8Array(ee);fM(e,q.data_offset,le,ee);var se=q.palette_offset,K=q.transparent_index;K===null&&(K=256);var X=q.width,_e=r-X,Se=X,P=4*(q.y*r+q.x),U=4*((q.y+q.height)*r+q.x),V=P,z=4*_e;q.interlaced===!0&&(z+=4*r*7);for(var ne=8,te=0,xe=le.length;te<xe;++te){var oe=le[te];if(Se===0&&(Se=X,(V+=z)>=U&&(z=4*_e+4*r*(ne-1),V=P+(X+_e)*(ne<<1),ne>>=1)),oe===K)V+=4;else{var he=e[se+3*oe],Pe=e[se+3*oe+1],G=e[se+3*oe+2];D[V++]=G,D[V++]=Pe,D[V++]=he,D[V++]=255}--Se}},this.decodeAndBlitFrameRGBA=function(C,D){var q=this.frameInfo(C),ee=q.width*q.height,le=new Uint8Array(ee);fM(e,q.data_offset,le,ee);var se=q.palette_offset,K=q.transparent_index;K===null&&(K=256);var X=q.width,_e=r-X,Se=X,P=4*(q.y*r+q.x),U=4*((q.y+q.height)*r+q.x),V=P,z=4*_e;q.interlaced===!0&&(z+=4*r*7);for(var ne=8,te=0,xe=le.length;te<xe;++te){var oe=le[te];if(Se===0&&(Se=X,(V+=z)>=U&&(z=4*_e+4*r*(ne-1),V=P+(X+_e)*(ne<<1),ne>>=1)),oe===K)V+=4;else{var he=e[se+3*oe],Pe=e[se+3*oe+1],G=e[se+3*oe+2];D[V++]=he,D[V++]=Pe,D[V++]=G,D[V++]=255}--Se}}}function fM(e,t,r,n){for(var i=e[t++],a=1<<i,s=a+1,o=s+1,l=i+1,c=(1<<l)-1,u=0,f=0,d=0,h=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&h!==0;)f|=e[t++]<<u,u+=8,h===1?h=e[t++]:--h;if(u<l)break;var v=f&c;if(f>>=l,u-=l,v!==a){if(v===s)break;for(var y=v<o?v:m,b=0,_=y;_>a;)_=g[_]>>8,++b;var N=_;if(d+b+(y!==v?1:0)>n)return void kn.log("Warning, gif stream longer than expected.");r[d++]=N;var R=d+=b;for(y!==v&&(r[d++]=N),_=y;b--;)_=g[_],r[--R]=255&_,_>>=8;m!==null&&o<4096&&(g[o++]=m<<8|N,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=s+1,c=(1<<(l=i+1))-1,m=null}return d!==n&&kn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function g4(e){var t,r,n,i,a,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),d=new Array(65535),h=new Array(64),g=new Array(64),m=[],v=0,y=7,b=new Array(64),_=new Array(64),N=new Array(64),R=new Array(256),O=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],j=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],q=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(P,U){for(var V=0,z=0,ne=new Array,te=1;te<=16;te++){for(var xe=1;xe<=P[te];xe++)ne[U[z]]=[],ne[U[z]][0]=V,ne[U[z]][1]=te,z++,V++;V*=2}return ne}function se(P){for(var U=P[0],V=P[1]-1;V>=0;)U&1<<V&&(v|=1<<y),V--,--y<0&&(v==255?(K(255),K(0)):K(v),y=7,v=0)}function K(P){m.push(P)}function X(P){K(P>>8&255),K(255&P)}function _e(P,U,V,z,ne){for(var te,xe=ne[0],oe=ne[240],he=function(Qe,at){var lt,Jt,bt,Kt,jt,yt,Xt,_t,xt,st,dt=0;for(xt=0;xt<8;++xt){lt=Qe[dt],Jt=Qe[dt+1],bt=Qe[dt+2],Kt=Qe[dt+3],jt=Qe[dt+4],yt=Qe[dt+5],Xt=Qe[dt+6];var er=lt+(_t=Qe[dt+7]),Ft=lt-_t,wt=Jt+Xt,Yt=Jt-Xt,Ur=bt+yt,Ht=bt-yt,dr=Kt+jt,Qt=Kt-jt,nn=er+dr,an=er-dr,Rr=wt+Ur,Vt=wt-Ur;Qe[dt]=nn+Rr,Qe[dt+4]=nn-Rr;var gr=.707106781*(Vt+an);Qe[dt+2]=an+gr,Qe[dt+6]=an-gr;var ba=.382683433*((nn=Qt+Ht)-(Vt=Yt+Ft)),jn=.5411961*nn+ba,ns=1.306562965*Vt+ba,Wi=.707106781*(Rr=Ht+Yt),$t=Ft+Wi,vn=Ft-Wi;Qe[dt+5]=vn+jn,Qe[dt+3]=vn-jn,Qe[dt+1]=$t+ns,Qe[dt+7]=$t-ns,dt+=8}for(dt=0,xt=0;xt<8;++xt){lt=Qe[dt],Jt=Qe[dt+8],bt=Qe[dt+16],Kt=Qe[dt+24],jt=Qe[dt+32],yt=Qe[dt+40],Xt=Qe[dt+48];var _a=lt+(_t=Qe[dt+56]),En=lt-_t,ti=Jt+Xt,yn=Jt-Xt,Gn=bt+yt,Q=bt-yt,me=Kt+jt,ce=Kt-jt,fe=_a+me,pe=_a-me,H=ti+Gn,we=ti-Gn;Qe[dt]=fe+H,Qe[dt+32]=fe-H;var ke=.707106781*(we+pe);Qe[dt+16]=pe+ke,Qe[dt+48]=pe-ke;var Ee=.382683433*((fe=ce+Q)-(we=yn+En)),be=.5411961*fe+Ee,Ae=1.306562965*we+Ee,Le=.707106781*(H=Q+yn),Ke=En+Le,Ue=En-Le;Qe[dt+40]=Ue+be,Qe[dt+24]=Ue-be,Qe[dt+8]=Ke+Ae,Qe[dt+56]=Ke-Ae,dt++}for(xt=0;xt<64;++xt)st=Qe[xt]*at[xt],h[xt]=st>0?st+.5|0:st-.5|0;return h}(P,U),Pe=0;Pe<64;++Pe)g[k[Pe]]=he[Pe];var G=g[0]-V;V=g[0],G==0?se(z[0]):(se(z[d[te=32767+G]]),se(f[te]));for(var ze=63;ze>0&&g[ze]==0;)ze--;if(ze==0)return se(xe),V;for(var Ce,de=1;de<=ze;){for(var it=de;g[de]==0&&de<=ze;)++de;var Ve=de-it;if(Ve>=16){Ce=Ve>>4;for(var ct=1;ct<=Ce;++ct)se(oe);Ve&=15}te=32767+g[de],se(ne[(Ve<<4)+d[te]]),se(f[te]),de++}return ze!=63&&se(xe),V}function Se(P){P=Math.min(Math.max(P,1),100),a!=P&&(function(U){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var ne=s((V[z]*U+50)/100);ne=Math.min(Math.max(ne,1),255),o[k[z]]=ne}for(var te=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var oe=s((te[xe]*U+50)/100);oe=Math.min(Math.max(oe,1),255),l[k[xe]]=oe}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,G=0;G<8;G++)for(var ze=0;ze<8;ze++)c[Pe]=1/(o[k[Pe]]*he[G]*he[ze]*8),u[Pe]=1/(l[k[Pe]]*he[G]*he[ze]*8),Pe++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),a=P)}this.encode=function(P,U){U&&Se(U),m=new Array,v=0,y=7,X(65496),X(65504),X(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),X(1),X(1),K(0),K(0),function(){X(65499),X(132),K(0);for(var Jt=0;Jt<64;Jt++)K(o[Jt]);K(1);for(var bt=0;bt<64;bt++)K(l[bt])}(),function(Jt,bt){X(65472),X(17),K(8),X(bt),X(Jt),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(P.width,P.height),function(){X(65476),X(418),K(0);for(var Jt=0;Jt<16;Jt++)K(S[Jt+1]);for(var bt=0;bt<=11;bt++)K(T[bt]);K(16);for(var Kt=0;Kt<16;Kt++)K(j[Kt+1]);for(var jt=0;jt<=161;jt++)K(E[jt]);K(1);for(var yt=0;yt<16;yt++)K(C[yt+1]);for(var Xt=0;Xt<=11;Xt++)K(D[Xt]);K(17);for(var _t=0;_t<16;_t++)K(q[_t+1]);for(var xt=0;xt<=161;xt++)K(ee[xt])}(),X(65498),X(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var V=0,z=0,ne=0;v=0,y=7,this.encode.displayName="_encode_";for(var te,xe,oe,he,Pe,G,ze,Ce,de,it=P.data,Ve=P.width,ct=P.height,Qe=4*Ve,at=0;at<ct;){for(te=0;te<Qe;){for(Pe=Qe*at+te,ze=-1,Ce=0,de=0;de<64;de++)G=Pe+(Ce=de>>3)*Qe+(ze=4*(7&de)),at+Ce>=ct&&(G-=Qe*(at+1+Ce-ct)),te+ze>=Qe&&(G-=te+ze-Qe+4),xe=it[G++],oe=it[G++],he=it[G++],b[de]=(O[xe]+O[oe+256|0]+O[he+512|0]>>16)-128,_[de]=(O[xe+768|0]+O[oe+1024|0]+O[he+1280|0]>>16)-128,N[de]=(O[xe+1280|0]+O[oe+1536|0]+O[he+1792|0]>>16)-128;V=_e(b,c,V,t,n),z=_e(_,u,z,r,i),ne=_e(N,u,ne,r,i),te+=32}at+=8}if(y>=0){var lt=[];lt[1]=y+1,lt[0]=(1<<y+1)-1,se(lt)}return X(65497),new Uint8Array(m)},e=e||50,function(){for(var P=String.fromCharCode,U=0;U<256;U++)R[U]=P(U)}(),t=le(S,T),r=le(C,D),n=le(j,E),i=le(q,ee),function(){for(var P=1,U=2,V=1;V<=15;V++){for(var z=P;z<U;z++)d[32767+z]=V,f[32767+z]=[],f[32767+z][1]=V,f[32767+z][0]=z;for(var ne=-(U-1);ne<=-P;ne++)d[32767+ne]=V,f[32767+ne]=[],f[32767+ne][1]=V,f[32767+ne][0]=U-1+ne;P<<=1,U<<=1}}(),function(){for(var P=0;P<256;P++)O[P]=19595*P,O[P+256|0]=38470*P,O[P+512|0]=7471*P+32768,O[P+768|0]=-11059*P,O[P+1024|0]=-21709*P,O[P+1280|0]=32768*P+8421375,O[P+1536|0]=-27439*P,O[P+1792|0]=-5329*P}(),Se(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function lc(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function dM(e){function t(T){if(!T)throw Error("assert :P")}function r(T,j,E){for(var C=0;4>C;C++)if(T[j+C]!=E.charCodeAt(C))return!0;return!1}function n(T,j,E,C,D){for(var q=0;q<D;q++)T[j+q]=E[C+q]}function i(T,j,E,C){for(var D=0;D<C;D++)T[j+D]=E}function a(T){return new Int32Array(T)}function s(T,j){for(var E=[],C=0;C<T;C++)E.push(new j);return E}function o(T,j){var E=[];return function C(D,q,ee){for(var le=ee[q],se=0;se<le&&(D.push(ee.length>q+1?[]:new j),!(ee.length<q+1));se++)C(D[se],q+1,ee)}(E,0,T),E}var l=function(){var T=this;function j(x,A){for(var F=1<<A-1>>>0;x&F;)F>>>=1;return F?(x&F-1)+F:x}function E(x,A,F,B,J){t(!(B%F));do x[A+(B-=F)]=J;while(0<B)}function C(x,A,F,B,J){if(t(2328>=J),512>=J)var Z=a(512);else if((Z=a(J))==null)return 0;return function(re,ie,ue,ve,Ne,Fe){var ye,Ie,Re=ie,He=1<<ue,je=a(16),Ge=a(16);for(t(Ne!=0),t(ve!=null),t(re!=null),t(0<ue),Ie=0;Ie<Ne;++Ie){if(15<ve[Ie])return 0;++je[ve[Ie]]}if(je[0]==Ne)return 0;for(Ge[1]=0,ye=1;15>ye;++ye){if(je[ye]>1<<ye)return 0;Ge[ye+1]=Ge[ye]+je[ye]}for(Ie=0;Ie<Ne;++Ie)ye=ve[Ie],0<ve[Ie]&&(Fe[Ge[ye]++]=Ie);if(Ge[15]==1)return(ve=new D).g=0,ve.value=Fe[0],E(re,Re,1,He,ve),He;var Ye,nt=-1,rt=He-1,Bt=0,kt=1,yr=1,Rt=1<<ue;for(Ie=0,ye=1,Ne=2;ye<=ue;++ye,Ne<<=1){if(kt+=yr<<=1,0>(yr-=je[ye]))return 0;for(;0<je[ye];--je[ye])(ve=new D).g=ye,ve.value=Fe[Ie++],E(re,Re+Bt,Ne,Rt,ve),Bt=j(Bt,ye)}for(ye=ue+1,Ne=2;15>=ye;++ye,Ne<<=1){if(kt+=yr<<=1,0>(yr-=je[ye]))return 0;for(;0<je[ye];--je[ye]){if(ve=new D,(Bt&rt)!=nt){for(Re+=Rt,Ye=1<<(nt=ye)-ue;15>nt&&!(0>=(Ye-=je[nt]));)++nt,Ye<<=1;He+=Rt=1<<(Ye=nt-ue),re[ie+(nt=Bt&rt)].g=Ye+ue,re[ie+nt].value=Re-ie-nt}ve.g=ye-ue,ve.value=Fe[Ie++],E(re,Re+(Bt>>ue),Ne,Rt,ve),Bt=j(Bt,ye)}}return kt!=2*Ge[15]-1?0:He}(x,A,F,B,J,Z)}function D(){this.value=this.g=0}function q(){this.value=this.g=0}function ee(){this.G=s(5,D),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Wh,q)}function le(x,A,F,B){t(x!=null),t(A!=null),t(2147483648>B),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=A,x.pa=F,x.Jd=A,x.Yc=F+B,x.Zc=4<=B?F+B-4+1:F,xe(x)}function se(x,A){for(var F=0;0<A--;)F|=he(x,128)<<A;return F}function K(x,A){var F=se(x,A);return oe(x)?-F:F}function X(x,A,F,B){var J,Z=0;for(t(x!=null),t(A!=null),t(4294967288>B),x.Sb=B,x.Ra=0,x.u=0,x.h=0,4<B&&(B=4),J=0;J<B;++J)Z+=A[F+J]<<8*J;x.Ra=Z,x.bb=B,x.oa=A,x.pa=F}function _e(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Jf-8>>>0,++x.bb,x.u-=8;z(x)&&(x.h=1,x.u=0)}function Se(x,A){if(t(0<=A),!x.h&&A<=No){var F=V(x)&ko[A];return x.u+=A,_e(x),F}return x.h=1,x.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(x){return x.Ra>>>(x.u&Jf-1)>>>0}function z(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Jf}function ne(x,A){x.u=A,x.h=z(x)}function te(x){x.u>=Iu&&(t(x.u>=Iu),_e(x))}function xe(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function oe(x){return se(x,1)}function he(x,A){var F=x.Ca;0>x.b&&xe(x);var B=x.b,J=F*A>>>8,Z=(x.I>>>B>J)+0;for(Z?(F-=J,x.I-=J+1<<B>>>0):F=J+1,B=F,J=0;256<=B;)J+=8,B>>=8;return B=7^J+Qf[B],x.b-=B,x.Ca=(F<<B)-1,Z}function Pe(x,A,F){x[A+0]=F>>24&255,x[A+1]=F>>16&255,x[A+2]=F>>8&255,x[A+3]=255&F}function G(x,A){return x[A+0]|x[A+1]<<8}function ze(x,A){return G(x,A)|x[A+2]<<16}function Ce(x,A){return G(x,A)|G(x,A+2)<<16}function de(x,A){var F=1<<A;return t(x!=null),t(0<A),x.X=a(F),x.X==null?0:(x.Mb=32-A,x.Xa=A,1)}function it(x,A){t(x!=null),t(A!=null),t(x.Xa==A.Xa),n(A.X,0,x.X,0,1<<A.Xa)}function Ve(){this.X=[],this.Xa=this.Mb=0}function ct(x,A,F,B){t(F!=null),t(B!=null);var J=F[0],Z=B[0];return J==0&&(J=(x*Z+A/2)/A),Z==0&&(Z=(A*J+x/2)/x),0>=J||0>=Z?0:(F[0]=J,B[0]=Z,1)}function Qe(x,A){return x+(1<<A)-1>>>A}function at(x,A){return((4278255360&x)+(4278255360&A)>>>0&4278255360)+((16711935&x)+(16711935&A)>>>0&16711935)>>>0}function lt(x,A){T[A]=function(F,B,J,Z,re,ie,ue){var ve;for(ve=0;ve<re;++ve){var Ne=T[x](ie[ue+ve-1],J,Z+ve);ie[ue+ve]=at(F[B+ve],Ne)}}}function Jt(){this.ud=this.hd=this.jd=0}function bt(x,A){return((4278124286&(x^A))>>>1)+(x&A)>>>0}function Kt(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function jt(x,A){return Kt(x+(x-A+.5>>1))}function yt(x,A,F){return Math.abs(A-F)-Math.abs(x-F)}function Xt(x,A,F,B,J,Z,re){for(B=Z[re-1],F=0;F<J;++F)Z[re+F]=B=at(x[A+F],B)}function _t(x,A,F,B,J){var Z;for(Z=0;Z<F;++Z){var re=x[A+Z],ie=re>>8&255,ue=16711935&(ue=(ue=16711935&re)+((ie<<16)+ie));B[J+Z]=(4278255360&re)+ue>>>0}}function xt(x,A){A.jd=255&x,A.hd=x>>8&255,A.ud=x>>16&255}function st(x,A,F,B,J,Z){var re;for(re=0;re<B;++re){var ie=A[F+re],ue=ie>>>8,ve=ie,Ne=255&(Ne=(Ne=ie>>>16)+((x.jd<<24>>24)*(ue<<24>>24)>>>5));ve=255&(ve=(ve+=(x.hd<<24>>24)*(ue<<24>>24)>>>5)+((x.ud<<24>>24)*(Ne<<24>>24)>>>5)),J[Z+re]=(4278255360&ie)+(Ne<<16)+ve}}function dt(x,A,F,B,J){T[A]=function(Z,re,ie,ue,ve,Ne,Fe,ye,Ie){for(ue=Fe;ue<ye;++ue)for(Fe=0;Fe<Ie;++Fe)ve[Ne++]=J(ie[B(Z[re++])])},T[x]=function(Z,re,ie,ue,ve,Ne,Fe){var ye=8>>Z.b,Ie=Z.Ea,Re=Z.K[0],He=Z.w;if(8>ye)for(Z=(1<<Z.b)-1,He=(1<<ye)-1;re<ie;++re){var je,Ge=0;for(je=0;je<Ie;++je)je&Z||(Ge=B(ue[ve++])),Ne[Fe++]=J(Re[Ge&He]),Ge>>=ye}else T["VP8LMapColor"+F](ue,ve,Re,He,Ne,Fe,re,ie,Ie)}}function er(x,A,F,B,J){for(F=A+F;A<F;){var Z=x[A++];B[J++]=Z>>16&255,B[J++]=Z>>8&255,B[J++]=255&Z}}function Ft(x,A,F,B,J){for(F=A+F;A<F;){var Z=x[A++];B[J++]=Z>>16&255,B[J++]=Z>>8&255,B[J++]=255&Z,B[J++]=Z>>24&255}}function wt(x,A,F,B,J){for(F=A+F;A<F;){var Z=(re=x[A++])>>16&240|re>>12&15,re=240&re|re>>28&15;B[J++]=Z,B[J++]=re}}function Yt(x,A,F,B,J){for(F=A+F;A<F;){var Z=(re=x[A++])>>16&248|re>>13&7,re=re>>5&224|re>>3&31;B[J++]=Z,B[J++]=re}}function Ur(x,A,F,B,J){for(F=A+F;A<F;){var Z=x[A++];B[J++]=255&Z,B[J++]=Z>>8&255,B[J++]=Z>>16&255}}function Ht(x,A,F,B,J,Z){if(Z==0)for(F=A+F;A<F;)Pe(B,((Z=x[A++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),J+=32;else n(B,J,x,A,F)}function dr(x,A){T[A][0]=T[x+"0"],T[A][1]=T[x+"1"],T[A][2]=T[x+"2"],T[A][3]=T[x+"3"],T[A][4]=T[x+"4"],T[A][5]=T[x+"5"],T[A][6]=T[x+"6"],T[A][7]=T[x+"7"],T[A][8]=T[x+"8"],T[A][9]=T[x+"9"],T[A][10]=T[x+"10"],T[A][11]=T[x+"11"],T[A][12]=T[x+"12"],T[A][13]=T[x+"13"],T[A][14]=T[x+"0"],T[A][15]=T[x+"0"]}function Qt(x){return x==OE||x==DE||x==d2||x==RE}function nn(){this.eb=[],this.size=this.A=this.fb=0}function an(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Rr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new nn,this.f.kb=new an,this.sd=null}function Vt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function gr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ba(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function jn(x,A){var F=x.T,B=A.ba.f.RGBA,J=B.eb,Z=B.fb+x.ka*B.A,re=gl[A.ba.S],ie=x.y,ue=x.O,ve=x.f,Ne=x.N,Fe=x.ea,ye=x.W,Ie=A.cc,Re=A.dc,He=A.Mc,je=A.Nc,Ge=x.ka,Ye=x.ka+x.T,nt=x.U,rt=nt+1>>1;for(Ge==0?re(ie,ue,null,null,ve,Ne,Fe,ye,ve,Ne,Fe,ye,J,Z,null,null,nt):(re(A.ec,A.fc,ie,ue,Ie,Re,He,je,ve,Ne,Fe,ye,J,Z-B.A,J,Z,nt),++F);Ge+2<Ye;Ge+=2)Ie=ve,Re=Ne,He=Fe,je=ye,Ne+=x.Rc,ye+=x.Rc,Z+=2*B.A,re(ie,(ue+=2*x.fa)-x.fa,ie,ue,Ie,Re,He,je,ve,Ne,Fe,ye,J,Z-B.A,J,Z,nt);return ue+=x.fa,x.j+Ye<x.o?(n(A.ec,A.fc,ie,ue,nt),n(A.cc,A.dc,ve,Ne,rt),n(A.Mc,A.Nc,Fe,ye,rt),F--):1&Ye||re(ie,ue,null,null,ve,Ne,Fe,ye,ve,Ne,Fe,ye,J,Z+B.A,null,null,nt),F}function ns(x,A,F){var B=x.F,J=[x.J];if(B!=null){var Z=x.U,re=A.ba.S,ie=re==f2||re==d2;A=A.ba.f.RGBA;var ue=[0],ve=x.ka;ue[0]=x.T,x.Kb&&(ve==0?--ue[0]:(--ve,J[0]-=x.width),x.j+x.ka+x.T==x.o&&(ue[0]=x.o-x.j-ve));var Ne=A.eb;ve=A.fb+ve*A.A,x=uD(B,J[0],x.width,Z,ue,Ne,ve+(ie?0:3),A.A),t(F==ue),x&&Qt(re)&&w1(Ne,ve,ie,Z,ue,A.A)}return 0}function Wi(x){var A=x.ma,F=A.ba.S,B=11>F,J=F==c2||F==u2||F==f2||F==IE||F==12||Qt(F);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!d1(A.Oa,x,J?11:12))return 0;if(J&&Qt(F)&&zh(),x.da)alert("todo:use_scaling");else{if(B){if(A.Ib=ba,x.Kb){if(F=x.U+1>>1,A.memory=a(x.U+2*F),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+x.U,A.Mc=A.cc,A.Nc=A.dc+F,A.Ib=jn,zh()}}else alert("todo:EmitYUV");J&&(A.Jb=ns,B&&Cn())}if(B&&!TD){for(x=0;256>x;++x)Wre[x]=89858*(x-128)+p2>>h2,Gre[x]=-22014*(x-128)+p2,qre[x]=-45773*(x-128),Hre[x]=113618*(x-128)+p2>>h2;for(x=_1;x<FE;++x)A=76283*(x-16)+p2>>h2,Kre[x-_1]=br(A,255),Xre[x-_1]=br(A+8>>4,15);TD=1}return 1}function $t(x){var A=x.ma,F=x.U,B=x.T;return t(!(1&x.ka)),0>=F||0>=B?0:(F=A.Ib(x,A),A.Jb!=null&&A.Jb(x,A,F),A.Dc+=F,1)}function vn(x){x.ma.memory=null}function _a(x,A,F,B){return Se(x,8)!=47?0:(A[0]=Se(x,14)+1,F[0]=Se(x,14)+1,B[0]=Se(x,1),Se(x,3)!=0?0:!x.h)}function En(x,A){if(4>x)return x+1;var F=x-2>>1;return(2+(1&x)<<F)+Se(A,F)+1}function ti(x,A){return 120<A?A-120:1<=(F=((F=Pre[A-1])>>4)*x+(8-(15&F)))?F:1;var F}function yn(x,A,F){var B=V(F),J=x[A+=255&B].g-8;return 0<J&&(ne(F,F.u+8),B=V(F),A+=x[A].value,A+=B&(1<<J)-1),ne(F,F.u+x[A].g),x[A].value}function Gn(x,A,F){return F.g+=x.g,F.value+=x.value<<A>>>0,t(8>=F.g),x.g}function Q(x,A,F){var B=x.xc;return t((A=B==0?0:x.vc[x.md*(F>>B)+(A>>B)])<x.Wb),x.Ya[A]}function me(x,A,F,B){var J=x.ab,Z=x.c*A,re=x.C;A=re+A;var ie=F,ue=B;for(B=x.Ta,F=x.Ua;0<J--;){var ve=x.gc[J],Ne=re,Fe=A,ye=ie,Ie=ue,Re=(ue=B,ie=F,ve.Ea);switch(t(Ne<Fe),t(Fe<=ve.nc),ve.hc){case 2:ki(ye,Ie,(Fe-Ne)*Re,ue,ie);break;case 0:var He=Ne,je=Fe,Ge=ue,Ye=ie,nt=(Rt=ve).Ea;He==0&&(p1(ye,Ie,null,null,1,Ge,Ye),Xt(ye,Ie+1,0,0,nt-1,Ge,Ye+1),Ie+=nt,Ye+=nt,++He);for(var rt=1<<Rt.b,Bt=rt-1,kt=Qe(nt,Rt.b),yr=Rt.K,Rt=Rt.w+(He>>Rt.b)*kt;He<je;){var jr=yr,aa=Rt,xr=1;for(Dp(ye,Ie,Ge,Ye-nt,1,Ge,Ye);xr<nt;){var Lt=(xr&~Bt)+rt;Lt>nt&&(Lt=nt),(0,g1[jr[aa++]>>8&15])(ye,Ie+ +xr,Ge,Ye+xr-nt,Lt-xr,Ge,Ye+xr),xr=Lt}Ie+=nt,Ye+=nt,++He&Bt||(Rt+=kt)}Fe!=ve.nc&&n(ue,ie-Re,ue,ie+(Fe-Ne-1)*Re,Re);break;case 1:for(Re=ye,je=Ie,nt=(ye=ve.Ea)-(Ye=ye&~(Ge=(Ie=1<<ve.b)-1)),He=Qe(ye,ve.b),rt=ve.K,ve=ve.w+(Ne>>ve.b)*He;Ne<Fe;){for(Bt=rt,kt=ve,yr=new Jt,Rt=je+Ye,jr=je+ye;je<Rt;)xt(Bt[kt++],yr),v1(yr,Re,je,Ie,ue,ie),je+=Ie,ie+=Ie;je<jr&&(xt(Bt[kt++],yr),v1(yr,Re,je,nt,ue,ie),je+=nt,ie+=nt),++Ne&Ge||(ve+=He)}break;case 3:if(ye==ue&&Ie==ie&&0<ve.b){for(je=ue,ye=Re=ie+(Fe-Ne)*Re-(Ye=(Fe-Ne)*Qe(ve.Ea,ve.b)),Ie=ue,Ge=ie,He=[],Ye=(nt=Ye)-1;0<=Ye;--Ye)He[Ye]=Ie[Ge+Ye];for(Ye=nt-1;0<=Ye;--Ye)je[ye+Ye]=He[Ye];a2(ve,Ne,Fe,ue,Re,ue,ie)}else a2(ve,Ne,Fe,ye,Ie,ue,ie)}ie=B,ue=F}ue!=F&&n(B,F,ie,ue,Z)}function ce(x,A){var F=x.V,B=x.Ba+x.c*x.C,J=A-x.C;if(t(A<=x.l.o),t(16>=J),0<J){var Z=x.l,re=x.Ta,ie=x.Ua,ue=Z.width;if(me(x,J,F,B),J=ie=[ie],t((F=x.C)<(B=A)),t(Z.v<Z.va),B>Z.o&&(B=Z.o),F<Z.j){var ve=Z.j-F;F=Z.j,J[0]+=ve*ue}if(F>=B?F=0:(J[0]+=4*Z.v,Z.ka=F-Z.j,Z.U=Z.va-Z.v,Z.T=B-F,F=1),F){if(ie=ie[0],11>(F=x.ca).S){var Ne=F.f.RGBA,Fe=(B=F.S,J=Z.U,Z=Z.T,ve=Ne.eb,Ne.A),ye=Z;for(Ne=Ne.fb+x.Ma*Ne.A;0<ye--;){var Ie=re,Re=ie,He=J,je=ve,Ge=Ne;switch(B){case l2:y1(Ie,Re,He,je,Ge);break;case c2:Zf(Ie,Re,He,je,Ge);break;case OE:Zf(Ie,Re,He,je,Ge),w1(je,Ge,0,He,1,0);break;case vD:Hh(Ie,Re,He,je,Ge);break;case u2:Ht(Ie,Re,He,je,Ge,1);break;case DE:Ht(Ie,Re,He,je,Ge,1),w1(je,Ge,0,He,1,0);break;case f2:Ht(Ie,Re,He,je,Ge,0);break;case d2:Ht(Ie,Re,He,je,Ge,0),w1(je,Ge,1,He,1,0);break;case IE:ed(Ie,Re,He,je,Ge);break;case RE:ed(Ie,Re,He,je,Ge),cD(je,Ge,He,1,0);break;case yD:td(Ie,Re,He,je,Ge);break;default:t(0)}ie+=ue,Ne+=Fe}x.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=F.height)}}x.C=A,t(x.C<=x.i)}function fe(x){var A;if(0<x.ua)return 0;for(A=0;A<x.Wb;++A){var F=x.Ya[A].G,B=x.Ya[A].H;if(0<F[1][B[1]+0].g||0<F[2][B[2]+0].g||0<F[3][B[3]+0].g)return 0}return 1}function pe(x,A,F,B,J,Z){if(x.Z!=0){var re=x.qd,ie=x.rd;for(t(id[x.Z]!=null);A<F;++A)id[x.Z](re,ie,B,J,B,J,Z),re=B,ie=J,J+=Z;x.qd=re,x.rd=ie}}function H(x,A){var F=x.l.ma,B=F.Z==0||F.Z==1?x.l.j:x.C;if(B=x.C<B?B:x.C,t(A<=x.l.o),A>B){var J=x.l.width,Z=F.ca,re=F.tb+J*B,ie=x.V,ue=x.Ba+x.c*B,ve=x.gc;t(x.ab==1),t(ve[0].hc==3),Vc(ve[0],B,A,ie,ue,Z,re),pe(F,B,A,Z,re,J)}x.C=x.Ma=A}function we(x,A,F,B,J,Z,re){var ie=x.$/B,ue=x.$%B,ve=x.m,Ne=x.s,Fe=F+x.$,ye=Fe;J=F+B*J;var Ie=F+B*Z,Re=280+Ne.ua,He=x.Pb?ie:16777216,je=0<Ne.ua?Ne.Wa:null,Ge=Ne.wc,Ye=Fe<Ie?Q(Ne,ue,ie):null;t(x.C<Z),t(Ie<=J);var nt=!1;e:for(;;){for(;nt||Fe<Ie;){var rt=0;if(ie>=He){var Bt=Fe-F;t((He=x).Pb),He.wd=He.m,He.xd=Bt,0<He.s.ua&&it(He.s.Wa,He.s.vb),He=ie+Ore}if(ue&Ge||(Ye=Q(Ne,ue,ie)),t(Ye!=null),Ye.Qb&&(A[Fe]=Ye.qb,nt=!0),!nt)if(te(ve),Ye.jc){rt=ve,Bt=A;var kt=Fe,yr=Ye.pd[V(rt)&Wh-1];t(Ye.jc),256>yr.g?(ne(rt,rt.u+yr.g),Bt[kt]=yr.value,rt=0):(ne(rt,rt.u+yr.g-256),t(256<=yr.value),rt=yr.value),rt==0&&(nt=!0)}else rt=yn(Ye.G[0],Ye.H[0],ve);if(ve.h)break;if(nt||256>rt){if(!nt)if(Ye.nd)A[Fe]=(Ye.qb|rt<<8)>>>0;else{if(te(ve),nt=yn(Ye.G[1],Ye.H[1],ve),te(ve),Bt=yn(Ye.G[2],Ye.H[2],ve),kt=yn(Ye.G[3],Ye.H[3],ve),ve.h)break;A[Fe]=(kt<<24|nt<<16|rt<<8|Bt)>>>0}if(nt=!1,++Fe,++ue>=B&&(ue=0,++ie,re!=null&&ie<=Z&&!(ie%16)&&re(x,ie),je!=null))for(;ye<Fe;)rt=A[ye++],je.X[(506832829*rt&4294967295)>>>je.Mb]=rt}else if(280>rt){if(rt=En(rt-256,ve),Bt=yn(Ye.G[4],Ye.H[4],ve),te(ve),Bt=ti(B,Bt=En(Bt,ve)),ve.h)break;if(Fe-F<Bt||J-Fe<rt)break e;for(kt=0;kt<rt;++kt)A[Fe+kt]=A[Fe+kt-Bt];for(Fe+=rt,ue+=rt;ue>=B;)ue-=B,++ie,re!=null&&ie<=Z&&!(ie%16)&&re(x,ie);if(t(Fe<=J),ue&Ge&&(Ye=Q(Ne,ue,ie)),je!=null)for(;ye<Fe;)rt=A[ye++],je.X[(506832829*rt&4294967295)>>>je.Mb]=rt}else{if(!(rt<Re))break e;for(nt=rt-280,t(je!=null);ye<Fe;)rt=A[ye++],je.X[(506832829*rt&4294967295)>>>je.Mb]=rt;rt=Fe,t(!(nt>>>(Bt=je).Xa)),A[rt]=Bt.X[nt],nt=!0}nt||t(ve.h==z(ve))}if(x.Pb&&ve.h&&Fe<J)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&it(x.s.vb,x.s.Wa);else{if(ve.h)break e;re!=null&&re(x,ie>Z?Z:ie),x.a=0,x.$=Fe-F}return 1}return x.a=3,0}function ke(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var A=x.Wa;A!=null&&(A.X=null),x.vb=null,t(x!=null)}function Ee(){var x=new Ot;return x==null?null:(x.a=0,x.xb=bD,dr("Predictor","VP8LPredictors"),dr("Predictor","VP8LPredictors_C"),dr("PredictorAdd","VP8LPredictorsAdd"),dr("PredictorAdd","VP8LPredictorsAdd_C"),ki=_t,v1=st,y1=er,Zf=Ft,ed=wt,td=Yt,Hh=Ur,T.VP8LMapColor32b=Uc,T.VP8LMapColor8b=m1,x)}function be(x,A,F,B,J){var Z=1,re=[x],ie=[A],ue=B.m,ve=B.s,Ne=null,Fe=0;e:for(;;){if(F)for(;Z&&Se(ue,1);){var ye=re,Ie=ie,Re=B,He=1,je=Re.m,Ge=Re.gc[Re.ab],Ye=Se(je,2);if(Re.Oc&1<<Ye)Z=0;else{switch(Re.Oc|=1<<Ye,Ge.hc=Ye,Ge.Ea=ye[0],Ge.nc=Ie[0],Ge.K=[null],++Re.ab,t(4>=Re.ab),Ye){case 0:case 1:Ge.b=Se(je,3)+2,He=be(Qe(Ge.Ea,Ge.b),Qe(Ge.nc,Ge.b),0,Re,Ge.K),Ge.K=Ge.K[0];break;case 3:var nt,rt=Se(je,8)+1,Bt=16<rt?0:4<rt?1:2<rt?2:3;if(ye[0]=Qe(Ge.Ea,Bt),Ge.b=Bt,nt=He=be(rt,1,0,Re,Ge.K)){var kt,yr=rt,Rt=Ge,jr=1<<(8>>Rt.b),aa=a(jr);if(aa==null)nt=0;else{var xr=Rt.K[0],Lt=Rt.w;for(aa[0]=Rt.K[0][0],kt=1;kt<1*yr;++kt)aa[kt]=at(xr[Lt+kt],aa[kt-1]);for(;kt<4*jr;++kt)aa[kt]=0;Rt.K[0]=null,Rt.K[0]=aa,nt=1}}He=nt;break;case 2:break;default:t(0)}Z=He}}if(re=re[0],ie=ie[0],Z&&Se(ue,1)&&!(Z=1<=(Fe=Se(ue,4))&&11>=Fe)){B.a=3;break e}var mt;if(mt=Z)t:{var Ci,mr,Mr,Fn=B,$a=re,Rs=ie,vi=Fe,as=F,Ls=Fn.m,sa=Fn.s,Vr=[null],ln=1,yi=0,cn=Ire[vi];r:for(;;){if(as&&Se(Ls,1)){var za=Se(Ls,3)+2,nc=Qe($a,za),Pi=Qe(Rs,za),eo=nc*Pi;if(!be(nc,Pi,0,Fn,Vr))break r;for(Vr=Vr[0],sa.xc=za,Ci=0;Ci<eo;++Ci){var Tn=Vr[Ci]>>8&65535;Vr[Ci]=Tn,Tn>=ln&&(ln=Tn+1)}}if(Ls.h)break r;for(mr=0;5>mr;++mr){var oa=xD[mr];!mr&&0<vi&&(oa+=1<<vi),yi<oa&&(yi=oa)}var Po=s(ln*cn,D),js=ln,Io=s(js,ee);if(Io==null)var Oo=null;else t(65536>=js),Oo=Io;var to=a(yi);if(Oo==null||to==null||Po==null){Fn.a=1;break r}var Do=Po;for(Ci=Mr=0;Ci<ln;++Ci){var In=Oo[Ci],Ro=In.G,ic=In.H,Gh=0,Ru=1,Wa=0;for(mr=0;5>mr;++mr){oa=xD[mr],Ro[mr]=Do,ic[mr]=Mr,!mr&&0<vi&&(oa+=1<<vi);i:{var g2,ME=oa,v2=Fn,S1=to,Qre=Do,Zre=Mr,BE=0,ad=v2.m,ene=Se(ad,1);if(i(S1,0,0,ME),ene){var tne=Se(ad,1)+1,rne=Se(ad,1),CD=Se(ad,rne==0?1:8);S1[CD]=1,tne==2&&(S1[CD=Se(ad,8)]=1);var y2=1}else{var PD=a(19),ID=Se(ad,4)+4;if(19<ID){v2.a=3;var x2=0;break i}for(g2=0;g2<ID;++g2)PD[Cre[g2]]=Se(ad,3);var UE=void 0,E1=void 0,OD=v2,nne=PD,w2=ME,DD=S1,VE=0,sd=OD.m,RD=8,LD=s(128,D);n:for(;C(LD,0,7,nne,19);){if(Se(sd,1)){var ine=2+2*Se(sd,3);if((UE=2+Se(sd,ine))>w2)break n}else UE=w2;for(E1=0;E1<w2&&UE--;){te(sd);var jD=LD[0+(127&V(sd))];ne(sd,sd.u+jD.g);var Lp=jD.value;if(16>Lp)DD[E1++]=Lp,Lp!=0&&(RD=Lp);else{var ane=Lp==16,FD=Lp-16,sne=kre[FD],MD=Se(sd,Tre[FD])+sne;if(E1+MD>w2)break n;for(var one=ane?RD:0;0<MD--;)DD[E1++]=one}}VE=1;break n}VE||(OD.a=3),y2=VE}(y2=y2&&!ad.h)&&(BE=C(Qre,Zre,8,S1,ME)),y2&&BE!=0?x2=BE:(v2.a=3,x2=0)}if(x2==0)break r;if(Ru&&Nre[mr]==1&&(Ru=Do[Mr].g==0),Gh+=Do[Mr].g,Mr+=x2,3>=mr){var A1,$E=to[0];for(A1=1;A1<oa;++A1)to[A1]>$E&&($E=to[A1]);Wa+=$E}}if(In.nd=Ru,In.Qb=0,Ru&&(In.qb=(Ro[3][ic[3]+0].value<<24|Ro[1][ic[1]+0].value<<16|Ro[2][ic[2]+0].value)>>>0,Gh==0&&256>Ro[0][ic[0]+0].value&&(In.Qb=1,In.qb+=Ro[0][ic[0]+0].value<<8)),In.jc=!In.Qb&&6>Wa,In.jc){var b2,Lu=In;for(b2=0;b2<Wh;++b2){var od=b2,ld=Lu.pd[od],_2=Lu.G[0][Lu.H[0]+od];256<=_2.value?(ld.g=_2.g+256,ld.value=_2.value):(ld.g=0,ld.value=0,od>>=Gn(_2,8,ld),od>>=Gn(Lu.G[1][Lu.H[1]+od],16,ld),od>>=Gn(Lu.G[2][Lu.H[2]+od],0,ld),Gn(Lu.G[3][Lu.H[3]+od],24,ld))}}}sa.vc=Vr,sa.Wb=ln,sa.Ya=Oo,sa.yc=Po,mt=1;break t}mt=0}if(!(Z=mt)){B.a=3;break e}if(0<Fe){if(ve.ua=1<<Fe,!de(ve.Wa,Fe)){B.a=1,Z=0;break e}}else ve.ua=0;var zE=B,BD=re,lne=ie,WE=zE.s,HE=WE.xc;if(zE.c=BD,zE.i=lne,WE.md=Qe(BD,HE),WE.wc=HE==0?-1:(1<<HE)-1,F){B.xb=Bre;break e}if((Ne=a(re*ie))==null){B.a=1,Z=0;break e}Z=(Z=we(B,Ne,0,re,ie,ie,null))&&!ue.h;break e}return Z?(J!=null?J[0]=Ne:(t(Ne==null),t(F)),B.$=0,F||ke(ve)):ke(ve),Z}function Ae(x,A){var F=x.c*x.i,B=F+A+16*A;return t(x.c<=A),x.V=a(B),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+F+A,1)}function Le(x,A){var F=x.C,B=A-F,J=x.V,Z=x.Ba+x.c*F;for(t(A<=x.l.o);0<B;){var re=16<B?16:B,ie=x.l.ma,ue=x.l.width,ve=ue*re,Ne=ie.ca,Fe=ie.tb+ue*F,ye=x.Ta,Ie=x.Ua;me(x,re,J,Z),fD(ye,Ie,Ne,Fe,ve),pe(ie,F,F+re,Ne,Fe,ue),B-=re,J+=re*x.c,F+=re}t(F==A),x.C=x.Ma=A}function Ke(){this.ub=this.yd=this.td=this.Rb=0}function Ue(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xe(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function We(){this.Yb=function(){var x=[];return function A(F,B,J){for(var Z=J[B],re=0;re<Z&&(F.push(J.length>B+1?[]:0),!(J.length<B+1));re++)A(F[re],B+1,J)}(x,0,[3,11]),x}()}function pt(){this.jb=a(3),this.Wc=o([4,8],We),this.Xc=o([4,17],We)}function Mt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function zt(){this.ld=this.La=this.dd=this.tc=0}function Tr(){this.Na=this.la=0}function pi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ba(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function So(){this.uc=this.M=this.Nb=0,this.wa=Array(new zt),this.Y=0,this.ya=Array(new Ba),this.aa=0,this.l=new Hi}function Is(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Yl(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new Ke,this.Kc=new Ue,this.ed=new Mt,this.Qa=new Xe,this.Ic=this.$c=this.Aa=0,this.D=new So,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,P),this.ia=0,this.pb=s(4,pi),this.Pa=new pt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Is),this.Hd=0,this.rb=Array(new Tr),this.sb=0,this.wa=Array(new zt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ba),this.L=this.aa=0,this.gd=o([4,2],zt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hi(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rh(){var x=new Yl;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,b1||(b1=Jl)),x}function ri(x,A,F){return x.a==0&&(x.a=A,x.sc=F,x.cb=0),0}function Lh(x,A,F){return 3<=F&&x[A+0]==157&&x[A+1]==1&&x[A+2]==42}function Pp(x,A){if(x==null)return 0;if(x.a=0,x.sc="OK",A==null)return ri(x,2,"null VP8Io passed to VP8GetHeaders()");var F=A.data,B=A.w,J=A.ha;if(4>J)return ri(x,7,"Truncated header.");var Z=F[B+0]|F[B+1]<<8|F[B+2]<<16,re=x.Od;if(re.Rb=!(1&Z),re.td=Z>>1&7,re.yd=Z>>4&1,re.ub=Z>>5,3<re.td)return ri(x,3,"Incorrect keyframe parameters.");if(!re.yd)return ri(x,4,"Frame not displayable.");B+=3,J-=3;var ie=x.Kc;if(re.Rb){if(7>J)return ri(x,7,"cannot parse picture header");if(!Lh(F,B,J))return ri(x,3,"Bad code word");ie.c=16383&(F[B+4]<<8|F[B+3]),ie.Td=F[B+4]>>6,ie.i=16383&(F[B+6]<<8|F[B+5]),ie.Ud=F[B+6]>>6,B+=7,J-=7,x.za=ie.c+15>>4,x.Ub=ie.i+15>>4,A.width=ie.c,A.height=ie.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,i((Z=x.Pa).jb,0,255,Z.jb.length),t((Z=x.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,i(Z.Zb,0,0,Z.Zb.length),i(Z.Lb,0,0,Z.Lb)}if(re.ub>J)return ri(x,7,"bad partition length");le(Z=x.m,F,B,re.ub),B+=re.ub,J-=re.ub,re.Rb&&(ie.Ld=oe(Z),ie.Kd=oe(Z)),ie=x.Qa;var ue,ve=x.Pa;if(t(Z!=null),t(ie!=null),ie.Cb=oe(Z),ie.Cb){if(ie.Bb=oe(Z),oe(Z)){for(ie.Fb=oe(Z),ue=0;4>ue;++ue)ie.Zb[ue]=oe(Z)?K(Z,7):0;for(ue=0;4>ue;++ue)ie.Lb[ue]=oe(Z)?K(Z,6):0}if(ie.Bb)for(ue=0;3>ue;++ue)ve.jb[ue]=oe(Z)?se(Z,8):255}else ie.Bb=0;if(Z.Ka)return ri(x,3,"cannot parse segment header");if((ie=x.ed).zd=oe(Z),ie.Tb=se(Z,6),ie.wb=se(Z,3),ie.Pc=oe(Z),ie.Pc&&oe(Z)){for(ve=0;4>ve;++ve)oe(Z)&&(ie.vd[ve]=K(Z,6));for(ve=0;4>ve;++ve)oe(Z)&&(ie.od[ve]=K(Z,6))}if(x.L=ie.Tb==0?0:ie.zd?1:2,Z.Ka)return ri(x,3,"cannot parse filter header");var Ne=J;if(J=ue=B,B=ue+Ne,ie=Ne,x.Xb=(1<<se(x.m,2))-1,Ne<3*(ve=x.Xb))F=7;else{for(ue+=3*ve,ie-=3*ve,Ne=0;Ne<ve;++Ne){var Fe=F[J+0]|F[J+1]<<8|F[J+2]<<16;Fe>ie&&(Fe=ie),le(x.Jc[+Ne],F,ue,Fe),ue+=Fe,ie-=Fe,J+=3}le(x.Jc[+ve],F,ue,ie),F=ue<B?0:5}if(F!=0)return ri(x,F,"cannot parse partitions");for(F=se(ue=x.m,7),J=oe(ue)?K(ue,4):0,B=oe(ue)?K(ue,4):0,ie=oe(ue)?K(ue,4):0,ve=oe(ue)?K(ue,4):0,ue=oe(ue)?K(ue,4):0,Ne=x.Qa,Fe=0;4>Fe;++Fe){if(Ne.Cb){var ye=Ne.Zb[Fe];Ne.Fb||(ye+=F)}else{if(0<Fe){x.pb[Fe]=x.pb[0];continue}ye=F}var Ie=x.pb[Fe];Ie.Sc[0]=LE[br(ye+J,127)],Ie.Sc[1]=jE[br(ye+0,127)],Ie.Eb[0]=2*LE[br(ye+B,127)],Ie.Eb[1]=101581*jE[br(ye+ie,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=LE[br(ye+ve,117)],Ie.Qc[1]=jE[br(ye+ue,127)],Ie.lc=ye+ue}if(!re.Rb)return ri(x,4,"Not a key frame.");for(oe(Z),re=x.Pa,F=0;4>F;++F){for(J=0;8>J;++J)for(B=0;3>B;++B)for(ie=0;11>ie;++ie)ve=he(Z,Fre[F][J][B][ie])?se(Z,8):Lre[F][J][B][ie],re.Wc[F][J].Yb[B][ie]=ve;for(J=0;17>J;++J)re.Xc[F][J]=re.Wc[F][Mre[J]]}return x.kc=oe(Z),x.kc&&(x.Bd=se(Z,8)),x.cb=1}function Jl(x,A,F,B,J,Z,re){var ie=A[J].Yb[F];for(F=0;16>J;++J){if(!he(x,ie[F+0]))return J;for(;!he(x,ie[F+1]);)if(ie=A[++J].Yb[0],F=0,J==16)return 16;var ue=A[J+1].Yb;if(he(x,ie[F+2])){var ve=x,Ne=0;if(he(ve,(ye=ie)[(Fe=F)+3]))if(he(ve,ye[Fe+6])){for(ie=0,Fe=2*(Ne=he(ve,ye[Fe+8]))+(ye=he(ve,ye[Fe+9+Ne])),Ne=0,ye=Dre[Fe];ye[ie];++ie)Ne+=Ne+he(ve,ye[ie]);Ne+=3+(8<<Fe)}else he(ve,ye[Fe+7])?(Ne=7+2*he(ve,165),Ne+=he(ve,145)):Ne=5+he(ve,159);else Ne=he(ve,ye[Fe+4])?3+he(ve,ye[Fe+5]):2;ie=ue[2]}else Ne=1,ie=ue[1];ue=re+Rre[J],0>(ve=x).b&&xe(ve);var Fe,ye=ve.b,Ie=(Fe=ve.Ca>>1)-(ve.I>>ye)>>31;--ve.b,ve.Ca+=Ie,ve.Ca|=1,ve.I-=(Fe+1&Ie)<<ye,Z[ue]=((Ne^Ie)-Ie)*B[(0<J)+0]}return 16}function Dc(x){var A=x.rb[x.sb-1];A.la=0,A.Na=0,i(x.zc,0,0,x.zc.length),x.ja=0}function Ys(x,A,F,B,J){J=x[A+F+32*B]+(J>>3),x[A+F+32*B]=-256&J?0>J?0:255:J}function Au(x,A,F,B,J,Z){Ys(x,A,0,F,B+J),Ys(x,A,1,F,B+Z),Ys(x,A,2,F,B-Z),Ys(x,A,3,F,B-J)}function sn(x){return(20091*x>>16)+x}function Os(x,A,F,B){var J,Z=0,re=a(16);for(J=0;4>J;++J){var ie=x[A+0]+x[A+8],ue=x[A+0]-x[A+8],ve=(35468*x[A+4]>>16)-sn(x[A+12]),Ne=sn(x[A+4])+(35468*x[A+12]>>16);re[Z+0]=ie+Ne,re[Z+1]=ue+ve,re[Z+2]=ue-ve,re[Z+3]=ie-Ne,Z+=4,A++}for(J=Z=0;4>J;++J)ie=(x=re[Z+0]+4)+re[Z+8],ue=x-re[Z+8],ve=(35468*re[Z+4]>>16)-sn(re[Z+12]),Ys(F,B,0,0,ie+(Ne=sn(re[Z+4])+(35468*re[Z+12]>>16))),Ys(F,B,1,0,ue+ve),Ys(F,B,2,0,ue-ve),Ys(F,B,3,0,ie-Ne),Z++,B+=32}function zf(x,A,F,B){var J=x[A+0]+4,Z=35468*x[A+4]>>16,re=sn(x[A+4]),ie=35468*x[A+1]>>16;Au(F,B,0,J+re,x=sn(x[A+1]),ie),Au(F,B,1,J+Z,x,ie),Au(F,B,2,J-Z,x,ie),Au(F,B,3,J-re,x,ie)}function Wf(x,A,F,B,J){Os(x,A,F,B),J&&Os(x,A+16,F,B+4)}function Ip(x,A,F,B){qh(x,A+0,F,B,1),qh(x,A+32,F,B+128,1)}function Cr(x,A,F,B){var J;for(x=x[A+0]+4,J=0;4>J;++J)for(A=0;4>A;++A)Ys(F,B,A,J,x)}function Tu(x,A,F,B){x[A+0]&&en(x,A+0,F,B),x[A+16]&&en(x,A+16,F,B+4),x[A+32]&&en(x,A+32,F,B+128),x[A+48]&&en(x,A+48,F,B+128+4)}function Rc(x,A,F,B){var J,Z=a(16);for(J=0;4>J;++J){var re=x[A+0+J]+x[A+12+J],ie=x[A+4+J]+x[A+8+J],ue=x[A+4+J]-x[A+8+J],ve=x[A+0+J]-x[A+12+J];Z[0+J]=re+ie,Z[8+J]=re-ie,Z[4+J]=ve+ue,Z[12+J]=ve-ue}for(J=0;4>J;++J)re=(x=Z[0+4*J]+3)+Z[3+4*J],ie=Z[1+4*J]+Z[2+4*J],ue=Z[1+4*J]-Z[2+4*J],ve=x-Z[3+4*J],F[B+0]=re+ie>>3,F[B+16]=ve+ue>>3,F[B+32]=re-ie>>3,F[B+48]=ve-ue>>3,B+=64}function Js(x,A,F){var B,J=A-32,Z=Co,re=255-x[J-1];for(B=0;B<F;++B){var ie,ue=Z,ve=re+x[A-1];for(ie=0;ie<F;++ie)x[A+ie]=ue[ve+x[J+ie]];A+=32}}function jh(x,A){Js(x,A,4)}function Op(x,A){Js(x,A,8)}function s1(x,A){Js(x,A,16)}function o1(x,A){var F;for(F=0;16>F;++F)n(x,A+32*F,x,A-32,16)}function Fh(x,A){var F;for(F=16;0<F;--F)i(x,A,x[A-1],16),A+=32}function ku(x,A,F){var B;for(B=0;16>B;++B)i(A,F+32*B,x,16)}function Qs(x,A){var F,B=16;for(F=0;16>F;++F)B+=x[A-1+32*F]+x[A+F-32];ku(B>>5,x,A)}function fl(x,A){var F,B=8;for(F=0;16>F;++F)B+=x[A-1+32*F];ku(B>>4,x,A)}function Lc(x,A){var F,B=8;for(F=0;16>F;++F)B+=x[A+F-32];ku(B>>4,x,A)}function Hf(x,A){ku(128,x,A)}function sr(x,A,F){return x+2*A+F+2>>2}function jc(x,A){var F,B=A-32;for(B=new Uint8Array([sr(x[B-1],x[B+0],x[B+1]),sr(x[B+0],x[B+1],x[B+2]),sr(x[B+1],x[B+2],x[B+3]),sr(x[B+2],x[B+3],x[B+4])]),F=0;4>F;++F)n(x,A+32*F,B,0,B.length)}function l1(x,A){var F=x[A-1],B=x[A-1+32],J=x[A-1+64],Z=x[A-1+96];Pe(x,A+0,16843009*sr(x[A-1-32],F,B)),Pe(x,A+32,16843009*sr(F,B,J)),Pe(x,A+64,16843009*sr(B,J,Z)),Pe(x,A+96,16843009*sr(J,Z,Z))}function c1(x,A){var F,B=4;for(F=0;4>F;++F)B+=x[A+F-32]+x[A-1+32*F];for(B>>=3,F=0;4>F;++F)i(x,A+32*F,B,4)}function u1(x,A){var F=x[A-1+0],B=x[A-1+32],J=x[A-1+64],Z=x[A-1-32],re=x[A+0-32],ie=x[A+1-32],ue=x[A+2-32],ve=x[A+3-32];x[A+0+96]=sr(B,J,x[A-1+96]),x[A+1+96]=x[A+0+64]=sr(F,B,J),x[A+2+96]=x[A+1+64]=x[A+0+32]=sr(Z,F,B),x[A+3+96]=x[A+2+64]=x[A+1+32]=x[A+0+0]=sr(re,Z,F),x[A+3+64]=x[A+2+32]=x[A+1+0]=sr(ie,re,Z),x[A+3+32]=x[A+2+0]=sr(ue,ie,re),x[A+3+0]=sr(ve,ue,ie)}function Sa(x,A){var F=x[A+1-32],B=x[A+2-32],J=x[A+3-32],Z=x[A+4-32],re=x[A+5-32],ie=x[A+6-32],ue=x[A+7-32];x[A+0+0]=sr(x[A+0-32],F,B),x[A+1+0]=x[A+0+32]=sr(F,B,J),x[A+2+0]=x[A+1+32]=x[A+0+64]=sr(B,J,Z),x[A+3+0]=x[A+2+32]=x[A+1+64]=x[A+0+96]=sr(J,Z,re),x[A+3+32]=x[A+2+64]=x[A+1+96]=sr(Z,re,ie),x[A+3+64]=x[A+2+96]=sr(re,ie,ue),x[A+3+96]=sr(ie,ue,ue)}function Ql(x,A){var F=x[A-1+0],B=x[A-1+32],J=x[A-1+64],Z=x[A-1-32],re=x[A+0-32],ie=x[A+1-32],ue=x[A+2-32],ve=x[A+3-32];x[A+0+0]=x[A+1+64]=Z+re+1>>1,x[A+1+0]=x[A+2+64]=re+ie+1>>1,x[A+2+0]=x[A+3+64]=ie+ue+1>>1,x[A+3+0]=ue+ve+1>>1,x[A+0+96]=sr(J,B,F),x[A+0+64]=sr(B,F,Z),x[A+0+32]=x[A+1+96]=sr(F,Z,re),x[A+1+32]=x[A+2+96]=sr(Z,re,ie),x[A+2+32]=x[A+3+96]=sr(re,ie,ue),x[A+3+32]=sr(ie,ue,ve)}function f1(x,A){var F=x[A+0-32],B=x[A+1-32],J=x[A+2-32],Z=x[A+3-32],re=x[A+4-32],ie=x[A+5-32],ue=x[A+6-32],ve=x[A+7-32];x[A+0+0]=F+B+1>>1,x[A+1+0]=x[A+0+64]=B+J+1>>1,x[A+2+0]=x[A+1+64]=J+Z+1>>1,x[A+3+0]=x[A+2+64]=Z+re+1>>1,x[A+0+32]=sr(F,B,J),x[A+1+32]=x[A+0+96]=sr(B,J,Z),x[A+2+32]=x[A+1+96]=sr(J,Z,re),x[A+3+32]=x[A+2+96]=sr(Z,re,ie),x[A+3+64]=sr(re,ie,ue),x[A+3+96]=sr(ie,ue,ve)}function qf(x,A){var F=x[A-1+0],B=x[A-1+32],J=x[A-1+64],Z=x[A-1+96];x[A+0+0]=F+B+1>>1,x[A+2+0]=x[A+0+32]=B+J+1>>1,x[A+2+32]=x[A+0+64]=J+Z+1>>1,x[A+1+0]=sr(F,B,J),x[A+3+0]=x[A+1+32]=sr(B,J,Z),x[A+3+32]=x[A+1+64]=sr(J,Z,Z),x[A+3+64]=x[A+2+64]=x[A+0+96]=x[A+1+96]=x[A+2+96]=x[A+3+96]=Z}function Zl(x,A){var F=x[A-1+0],B=x[A-1+32],J=x[A-1+64],Z=x[A-1+96],re=x[A-1-32],ie=x[A+0-32],ue=x[A+1-32],ve=x[A+2-32];x[A+0+0]=x[A+2+32]=F+re+1>>1,x[A+0+32]=x[A+2+64]=B+F+1>>1,x[A+0+64]=x[A+2+96]=J+B+1>>1,x[A+0+96]=Z+J+1>>1,x[A+3+0]=sr(ie,ue,ve),x[A+2+0]=sr(re,ie,ue),x[A+1+0]=x[A+3+32]=sr(F,re,ie),x[A+1+32]=x[A+3+64]=sr(B,F,re),x[A+1+64]=x[A+3+96]=sr(J,B,F),x[A+1+96]=sr(Z,J,B)}function Gf(x,A){var F;for(F=0;8>F;++F)n(x,A+32*F,x,A-32,8)}function Eo(x,A){var F;for(F=0;8>F;++F)i(x,A,x[A-1],8),A+=32}function dl(x,A,F){var B;for(B=0;8>B;++B)i(A,F+32*B,x,8)}function Nu(x,A){var F,B=8;for(F=0;8>F;++F)B+=x[A+F-32]+x[A-1+32*F];dl(B>>4,x,A)}function Mh(x,A){var F,B=4;for(F=0;8>F;++F)B+=x[A+F-32];dl(B>>3,x,A)}function xn(x,A){var F,B=4;for(F=0;8>F;++F)B+=x[A-1+32*F];dl(B>>3,x,A)}function Bh(x,A){dl(128,x,A)}function Cu(x,A,F){var B=x[A-F],J=x[A+0],Z=3*(J-B)+PE[1020+x[A-2*F]-x[A+F]],re=o2[112+(Z+4>>3)];x[A-F]=Co[255+B+o2[112+(Z+3>>3)]],x[A+0]=Co[255+J-re]}function Fc(x,A,F,B){var J=x[A+0],Z=x[A+F];return ml[255+x[A-2*F]-x[A-F]]>B||ml[255+Z-J]>B}function Kf(x,A,F,B){return 4*ml[255+x[A-F]-x[A+0]]+ml[255+x[A-2*F]-x[A+F]]<=B}function Pu(x,A,F,B,J){var Z=x[A-3*F],re=x[A-2*F],ie=x[A-F],ue=x[A+0],ve=x[A+F],Ne=x[A+2*F],Fe=x[A+3*F];return 4*ml[255+ie-ue]+ml[255+re-ve]>B?0:ml[255+x[A-4*F]-Z]<=J&&ml[255+Z-re]<=J&&ml[255+re-ie]<=J&&ml[255+Fe-Ne]<=J&&ml[255+Ne-ve]<=J&&ml[255+ve-ue]<=J}function Mc(x,A,F,B){var J=2*B+1;for(B=0;16>B;++B)Kf(x,A+B,F,J)&&Cu(x,A+B,F)}function Bc(x,A,F,B){var J=2*B+1;for(B=0;16>B;++B)Kf(x,A+B*F,1,J)&&Cu(x,A+B*F,1)}function Zs(x,A,F,B){var J;for(J=3;0<J;--J)Mc(x,A+=4*F,F,B)}function Uh(x,A,F,B){var J;for(J=3;0<J;--J)Bc(x,A+=4,F,B)}function ec(x,A,F,B,J,Z,re,ie){for(Z=2*Z+1;0<J--;){if(Pu(x,A,F,Z,re))if(Fc(x,A,F,ie))Cu(x,A,F);else{var ue=x,ve=A,Ne=F,Fe=ue[ve-2*Ne],ye=ue[ve-Ne],Ie=ue[ve+0],Re=ue[ve+Ne],He=ue[ve+2*Ne],je=27*(Ye=PE[1020+3*(Ie-ye)+PE[1020+Fe-Re]])+63>>7,Ge=18*Ye+63>>7,Ye=9*Ye+63>>7;ue[ve-3*Ne]=Co[255+ue[ve-3*Ne]+Ye],ue[ve-2*Ne]=Co[255+Fe+Ge],ue[ve-Ne]=Co[255+ye+je],ue[ve+0]=Co[255+Ie-je],ue[ve+Ne]=Co[255+Re-Ge],ue[ve+2*Ne]=Co[255+He-Ye]}A+=B}}function Ds(x,A,F,B,J,Z,re,ie){for(Z=2*Z+1;0<J--;){if(Pu(x,A,F,Z,re))if(Fc(x,A,F,ie))Cu(x,A,F);else{var ue=x,ve=A,Ne=F,Fe=ue[ve-Ne],ye=ue[ve+0],Ie=ue[ve+Ne],Re=o2[112+(4+(He=3*(ye-Fe))>>3)],He=o2[112+(He+3>>3)],je=Re+1>>1;ue[ve-2*Ne]=Co[255+ue[ve-2*Ne]+je],ue[ve-Ne]=Co[255+Fe+He],ue[ve+0]=Co[255+ye-Re],ue[ve+Ne]=Co[255+Ie-je]}A+=B}}function Vh(x,A,F,B,J,Z){ec(x,A,F,1,16,B,J,Z)}function Xf(x,A,F,B,J,Z){ec(x,A,1,F,16,B,J,Z)}function hl(x,A,F,B,J,Z){var re;for(re=3;0<re;--re)Ds(x,A+=4*F,F,1,16,B,J,Z)}function $h(x,A,F,B,J,Z){var re;for(re=3;0<re;--re)Ds(x,A+=4,1,F,16,B,J,Z)}function I(x,A,F,B,J,Z,re,ie){ec(x,A,J,1,8,Z,re,ie),ec(F,B,J,1,8,Z,re,ie)}function Y(x,A,F,B,J,Z,re,ie){ec(x,A,1,J,8,Z,re,ie),ec(F,B,1,J,8,Z,re,ie)}function ge(x,A,F,B,J,Z,re,ie){Ds(x,A+4*J,J,1,8,Z,re,ie),Ds(F,B+4*J,J,1,8,Z,re,ie)}function Te(x,A,F,B,J,Z,re,ie){Ds(x,A+4,1,J,8,Z,re,ie),Ds(F,B+4,1,J,8,Z,re,ie)}function Oe(){this.ba=new Rr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new gr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function et(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Et(){this.ua=0,this.Wa=new Ve,this.vb=new Ve,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ee,this.yc=new D}function Ot(){this.xb=this.a=0,this.l=new Hi,this.ca=new Rr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Et,this.ab=0,this.gc=s(4,et),this.Oc=0}function Zt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hi,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cr(x,A,F,B,J,Z,re){for(x=x==null?0:x[A+0],A=0;A<re;++A)J[Z+A]=x+F[B+A]&255,x=J[Z+A]}function Fr(x,A,F,B,J,Z,re){var ie;if(x==null)cr(null,null,F,B,J,Z,re);else for(ie=0;ie<re;++ie)J[Z+ie]=x[A+ie]+F[B+ie]&255}function Jr(x,A,F,B,J,Z,re){if(x==null)cr(null,null,F,B,J,Z,re);else{var ie,ue=x[A+0],ve=ue,Ne=ue;for(ie=0;ie<re;++ie)ve=Ne+(ue=x[A+ie])-ve,Ne=F[B+ie]+(-256&ve?0>ve?0:255:ve)&255,ve=ue,J[Z+ie]=Ne}}function ni(x,A,F,B){var J=A.width,Z=A.o;if(t(x!=null&&A!=null),0>F||0>=B||F+B>Z)return null;if(!x.Cc){if(x.ga==null){var re;if(x.ga=new Zt,(re=x.ga==null)||(re=A.width*A.o,t(x.Gb.length==0),x.Gb=a(re),x.Uc=0,x.Gb==null?re=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,re=1),re=!re),!re){re=x.ga;var ie=x.Fa,ue=x.P,ve=x.qc,Ne=x.mb,Fe=x.nb,ye=ue+1,Ie=ve-1,Re=re.l;if(t(ie!=null&&Ne!=null&&A!=null),id[0]=null,id[1]=cr,id[2]=Fr,id[3]=Jr,re.ca=Ne,re.tb=Fe,re.c=A.width,re.i=A.height,t(0<re.c&&0<re.i),1>=ve)A=0;else if(re.$a=3&ie[ue+0],re.Z=ie[ue+0]>>2&3,re.Lc=ie[ue+0]>>4&3,ue=ie[ue+0]>>6&3,0>re.$a||1<re.$a||4<=re.Z||1<re.Lc||ue)A=0;else if(Re.put=$t,Re.ac=Wi,Re.bc=vn,Re.ma=re,Re.width=A.width,Re.height=A.height,Re.Da=A.Da,Re.v=A.v,Re.va=A.va,Re.j=A.j,Re.o=A.o,re.$a)e:{t(re.$a==1),A=Ee();t:for(;;){if(A==null){A=0;break e}if(t(re!=null),re.mc=A,A.c=re.c,A.i=re.i,A.l=re.l,A.l.ma=re,A.l.width=re.c,A.l.height=re.i,A.a=0,X(A.m,ie,ye,Ie),!be(re.c,re.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&fe(A.s)?(re.ic=1,ie=A.c*A.i,A.Ta=null,A.Ua=0,A.V=a(ie),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(re.ic=0,A=Ae(A,re.c)),!A))break t;A=1;break e}re.mc=null,A=0}else A=Ie>=re.c*re.i;re=!A}if(re)return null;x.ga.Lc!=1?x.Ga=0:B=Z-F}t(x.ga!=null),t(F+B<=Z);e:{if(A=(ie=x.ga).c,Z=ie.l.o,ie.$a==0){if(ye=x.rc,Ie=x.Vc,Re=x.Fa,ue=x.P+1+F*A,ve=x.mb,Ne=x.nb+F*A,t(ue<=x.P+x.qc),ie.Z!=0)for(t(id[ie.Z]!=null),re=0;re<B;++re)id[ie.Z](ye,Ie,Re,ue,ve,Ne,A),ye=ve,Ie=Ne,Ne+=A,ue+=A;else for(re=0;re<B;++re)n(ve,Ne,Re,ue,A),ye=ve,Ie=Ne,Ne+=A,ue+=A;x.rc=ye,x.Vc=Ie}else{if(t(ie.mc!=null),A=F+B,t((re=ie.mc)!=null),t(A<=re.i),re.C>=A)A=1;else if(ie.ic||Cn(),ie.ic){ie=re.V,ye=re.Ba,Ie=re.c;var He=re.i,je=(Re=1,ue=re.$/Ie,ve=re.$%Ie,Ne=re.m,Fe=re.s,re.$),Ge=Ie*He,Ye=Ie*A,nt=Fe.wc,rt=je<Ye?Q(Fe,ve,ue):null;t(je<=Ge),t(A<=He),t(fe(Fe));t:for(;;){for(;!Ne.h&&je<Ye;){if(ve&nt||(rt=Q(Fe,ve,ue)),t(rt!=null),te(Ne),256>(He=yn(rt.G[0],rt.H[0],Ne)))ie[ye+je]=He,++je,++ve>=Ie&&(ve=0,++ue<=A&&!(ue%16)&&H(re,ue));else{if(!(280>He)){Re=0;break t}He=En(He-256,Ne);var Bt,kt=yn(rt.G[4],rt.H[4],Ne);if(te(Ne),!(je>=(kt=ti(Ie,kt=En(kt,Ne)))&&Ge-je>=He)){Re=0;break t}for(Bt=0;Bt<He;++Bt)ie[ye+je+Bt]=ie[ye+je+Bt-kt];for(je+=He,ve+=He;ve>=Ie;)ve-=Ie,++ue<=A&&!(ue%16)&&H(re,ue);je<Ye&&ve&nt&&(rt=Q(Fe,ve,ue))}t(Ne.h==z(Ne))}H(re,ue>A?A:ue);break t}!Re||Ne.h&&je<Ge?(Re=0,re.a=Ne.h?5:3):re.$=je,A=Re}else A=we(re,re.V,re.Ba,re.c,re.i,A,Le);if(!A){B=0;break e}}F+B>=Z&&(x.Cc=1),B=1}if(!B)return null;if(x.Cc&&((B=x.ga)!=null&&(B.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+F*J}function on(x,A,F,B,J,Z){for(;0<J--;){var re,ie=x,ue=A+(F?1:0),ve=x,Ne=A+(F?0:3);for(re=0;re<B;++re){var Fe=ve[Ne+4*re];Fe!=255&&(Fe*=32897,ie[ue+4*re+0]=ie[ue+4*re+0]*Fe>>23,ie[ue+4*re+1]=ie[ue+4*re+1]*Fe>>23,ie[ue+4*re+2]=ie[ue+4*re+2]*Fe>>23)}A+=Z}}function mi(x,A,F,B,J){for(;0<B--;){var Z;for(Z=0;Z<F;++Z){var re=x[A+2*Z+0],ie=15&(ve=x[A+2*Z+1]),ue=4369*ie,ve=(240&ve|ve>>4)*ue>>16;x[A+2*Z+0]=(240&re|re>>4)*ue>>16&240|(15&re|re<<4)*ue>>16>>4&15,x[A+2*Z+1]=240&ve|ie}A+=J}}function ii(x,A,F,B,J,Z,re,ie){var ue,ve,Ne=255;for(ve=0;ve<J;++ve){for(ue=0;ue<B;++ue){var Fe=x[A+ue];Z[re+4*ue]=Fe,Ne&=Fe}A+=F,re+=ie}return Ne!=255}function gi(x,A,F,B,J){var Z;for(Z=0;Z<J;++Z)F[B+Z]=x[A+Z]>>8}function Cn(){w1=on,cD=mi,uD=ii,fD=gi}function Ua(x,A,F){T[x]=function(B,J,Z,re,ie,ue,ve,Ne,Fe,ye,Ie,Re,He,je,Ge,Ye,nt){var rt,Bt=nt-1>>1,kt=ie[ue+0]|ve[Ne+0]<<16,yr=Fe[ye+0]|Ie[Re+0]<<16;t(B!=null);var Rt=3*kt+yr+131074>>2;for(A(B[J+0],255&Rt,Rt>>16,He,je),Z!=null&&(Rt=3*yr+kt+131074>>2,A(Z[re+0],255&Rt,Rt>>16,Ge,Ye)),rt=1;rt<=Bt;++rt){var jr=ie[ue+rt]|ve[Ne+rt]<<16,aa=Fe[ye+rt]|Ie[Re+rt]<<16,xr=kt+jr+yr+aa+524296,Lt=xr+2*(jr+yr)>>3;Rt=Lt+kt>>1,kt=(xr=xr+2*(kt+aa)>>3)+jr>>1,A(B[J+2*rt-1],255&Rt,Rt>>16,He,je+(2*rt-1)*F),A(B[J+2*rt-0],255&kt,kt>>16,He,je+(2*rt-0)*F),Z!=null&&(Rt=xr+yr>>1,kt=Lt+aa>>1,A(Z[re+2*rt-1],255&Rt,Rt>>16,Ge,Ye+(2*rt-1)*F),A(Z[re+2*rt+0],255&kt,kt>>16,Ge,Ye+(2*rt+0)*F)),kt=jr,yr=aa}1&nt||(Rt=3*kt+yr+131074>>2,A(B[J+nt-1],255&Rt,Rt>>16,He,je+(nt-1)*F),Z!=null&&(Rt=3*yr+kt+131074>>2,A(Z[re+nt-1],255&Rt,Rt>>16,Ge,Ye+(nt-1)*F)))}}function zh(){gl[l2]=Ure,gl[c2]=_D,gl[vD]=Vre,gl[u2]=SD,gl[f2]=ED,gl[IE]=AD,gl[yD]=$re,gl[OE]=_D,gl[DE]=SD,gl[d2]=ED,gl[RE]=AD}function Ao(x){return x&-16384?0>x?0:255:x>>zre}function w(x,A){return Ao((19077*x>>8)+(26149*A>>8)-14234)}function M(x,A,F){return Ao((19077*x>>8)-(6419*A>>8)-(13320*F>>8)+8708)}function W(x,A){return Ao((19077*x>>8)+(33050*A>>8)-17685)}function ae(x,A,F,B,J){B[J+0]=w(x,F),B[J+1]=M(x,A,F),B[J+2]=W(x,A)}function De(x,A,F,B,J){B[J+0]=W(x,A),B[J+1]=M(x,A,F),B[J+2]=w(x,F)}function Be(x,A,F,B,J){var Z=M(x,A,F);A=Z<<3&224|W(x,A)>>3,B[J+0]=248&w(x,F)|Z>>5,B[J+1]=A}function ut(x,A,F,B,J){var Z=240&W(x,A)|15;B[J+0]=240&w(x,F)|M(x,A,F)>>4,B[J+1]=Z}function Lr(x,A,F,B,J){B[J+0]=255,ae(x,A,F,B,J+1)}function ai(x,A,F,B,J){De(x,A,F,B,J),B[J+3]=255}function Er(x,A,F,B,J){ae(x,A,F,B,J),B[J+3]=255}function br(x,A){return 0>x?0:x>A?A:x}function Pn(x,A,F){T[x]=function(B,J,Z,re,ie,ue,ve,Ne,Fe){for(var ye=Ne+(-2&Fe)*F;Ne!=ye;)A(B[J+0],Z[re+0],ie[ue+0],ve,Ne),A(B[J+1],Z[re+0],ie[ue+0],ve,Ne+F),J+=2,++re,++ue,Ne+=2*F;1&Fe&&A(B[J+0],Z[re+0],ie[ue+0],ve,Ne)}}function To(x,A,F){return F==0?x==0?A==0?6:5:A==0?4:0:F}function is(x,A,F,B,J){switch(x>>>30){case 3:qh(A,F,B,J,0);break;case 2:pl(A,F,B,J);break;case 1:en(A,F,B,J)}}function Va(x,A){var F,B,J=A.M,Z=A.Nb,re=x.oc,ie=x.pc+40,ue=x.oc,ve=x.pc+584,Ne=x.oc,Fe=x.pc+600;for(F=0;16>F;++F)re[ie+32*F-1]=129;for(F=0;8>F;++F)ue[ve+32*F-1]=129,Ne[Fe+32*F-1]=129;for(0<J?re[ie-1-32]=ue[ve-1-32]=Ne[Fe-1-32]=129:(i(re,ie-32-1,127,21),i(ue,ve-32-1,127,9),i(Ne,Fe-32-1,127,9)),B=0;B<x.za;++B){var ye=A.ya[A.aa+B];if(0<B){for(F=-1;16>F;++F)n(re,ie+32*F-4,re,ie+32*F+12,4);for(F=-1;8>F;++F)n(ue,ve+32*F-4,ue,ve+32*F+4,4),n(Ne,Fe+32*F-4,Ne,Fe+32*F+4,4)}var Ie=x.Gd,Re=x.Hd+B,He=ye.ad,je=ye.Hc;if(0<J&&(n(re,ie-32,Ie[Re].y,0,16),n(ue,ve-32,Ie[Re].f,0,8),n(Ne,Fe-32,Ie[Re].ea,0,8)),ye.Za){var Ge=re,Ye=ie-32+16;for(0<J&&(B>=x.za-1?i(Ge,Ye,Ie[Re].y[15],4):n(Ge,Ye,Ie[Re+1].y,0,4)),F=0;4>F;F++)Ge[Ye+128+F]=Ge[Ye+256+F]=Ge[Ye+384+F]=Ge[Ye+0+F];for(F=0;16>F;++F,je<<=2)Ge=re,Ye=ie+kD[F],rc[ye.Ob[F]](Ge,Ye),is(je,He,16*+F,Ge,Ye)}else if(Ge=To(B,J,ye.Ob[0]),nd[Ge](re,ie),je!=0)for(F=0;16>F;++F,je<<=2)is(je,He,16*+F,re,ie+kD[F]);for(F=ye.Gc,Ge=To(B,J,ye.Dd),Du[Ge](ue,ve),Du[Ge](Ne,Fe),je=He,Ge=ue,Ye=ve,255&(ye=0|F)&&(170&ye?$c(je,256,Ge,Ye):An(je,256,Ge,Ye)),ye=Ne,je=Fe,255&(F>>=8)&&(170&F?$c(He,320,ye,je):An(He,320,ye,je)),J<x.Ub-1&&(n(Ie[Re].y,0,re,ie+480,16),n(Ie[Re].f,0,ue,ve+224,8),n(Ie[Re].ea,0,Ne,Fe+224,8)),F=8*Z*x.B,Ie=x.sa,Re=x.ta+16*B+16*Z*x.R,He=x.qa,ye=x.ra+8*B+F,je=x.Ha,Ge=x.Ia+8*B+F,F=0;16>F;++F)n(Ie,Re+F*x.R,re,ie+32*F,16);for(F=0;8>F;++F)n(He,ye+F*x.B,ue,ve+32*F,8),n(je,Ge+F*x.B,Ne,Fe+32*F,8)}}function tc(x,A,F,B,J,Z,re,ie,ue){var ve=[0],Ne=[0],Fe=0,ye=ue!=null?ue.kd:0,Ie=ue??new qe;if(x==null||12>F)return 7;Ie.data=x,Ie.w=A,Ie.ha=F,A=[A],F=[F],Ie.gb=[Ie.gb];e:{var Re=A,He=F,je=Ie.gb;if(t(x!=null),t(He!=null),t(je!=null),je[0]=0,12<=He[0]&&!r(x,Re[0],"RIFF")){if(r(x,Re[0]+8,"WEBP")){je=3;break e}var Ge=Ce(x,Re[0]+4);if(12>Ge||4294967286<Ge){je=3;break e}if(ye&&Ge>He[0]-8){je=7;break e}je[0]=Ge,Re[0]+=12,He[0]-=12}je=0}if(je!=0)return je;for(Ge=0<Ie.gb[0],F=F[0];;){e:{var Ye=x;He=A,je=F;var nt=ve,rt=Ne,Bt=Re=[0];if((Rt=Fe=[Fe])[0]=0,8>je[0])je=7;else{if(!r(Ye,He[0],"VP8X")){if(Ce(Ye,He[0]+4)!=10){je=3;break e}if(18>je[0]){je=7;break e}var kt=Ce(Ye,He[0]+8),yr=1+ze(Ye,He[0]+12);if(2147483648<=yr*(Ye=1+ze(Ye,He[0]+15))){je=3;break e}Bt!=null&&(Bt[0]=kt),nt!=null&&(nt[0]=yr),rt!=null&&(rt[0]=Ye),He[0]+=18,je[0]-=18,Rt[0]=1}je=0}}if(Fe=Fe[0],Re=Re[0],je!=0)return je;if(He=!!(2&Re),!Ge&&Fe)return 3;if(Z!=null&&(Z[0]=!!(16&Re)),re!=null&&(re[0]=He),ie!=null&&(ie[0]=0),re=ve[0],Re=Ne[0],Fe&&He&&ue==null){je=0;break}if(4>F){je=7;break}if(Ge&&Fe||!Ge&&!Fe&&!r(x,A[0],"ALPH")){F=[F],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{kt=x,je=A,Ge=F;var Rt=Ie.gb;nt=Ie.na,rt=Ie.P,Bt=Ie.Sa,yr=22,t(kt!=null),t(Ge!=null),Ye=je[0];var jr=Ge[0];for(t(nt!=null),t(Bt!=null),nt[0]=null,rt[0]=null,Bt[0]=0;;){if(je[0]=Ye,Ge[0]=jr,8>jr){je=7;break e}var aa=Ce(kt,Ye+4);if(4294967286<aa){je=3;break e}var xr=8+aa+1&-2;if(yr+=xr,0<Rt&&yr>Rt){je=3;break e}if(!r(kt,Ye,"VP8 ")||!r(kt,Ye,"VP8L")){je=0;break e}if(jr[0]<xr){je=7;break e}r(kt,Ye,"ALPH")||(nt[0]=kt,rt[0]=Ye+8,Bt[0]=aa),Ye+=xr,jr-=xr}}if(F=F[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],je!=0)break}F=[F],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(Rt=x,je=A,Ge=F,nt=Ie.gb[0],rt=Ie.Ja,Bt=Ie.xa,kt=je[0],Ye=!r(Rt,kt,"VP8 "),yr=!r(Rt,kt,"VP8L"),t(Rt!=null),t(Ge!=null),t(rt!=null),t(Bt!=null),8>Ge[0])je=7;else{if(Ye||yr){if(Rt=Ce(Rt,kt+4),12<=nt&&Rt>nt-12){je=3;break e}if(ye&&Rt>Ge[0]-8){je=7;break e}rt[0]=Rt,je[0]+=8,Ge[0]-=8,Bt[0]=yr}else Bt[0]=5<=Ge[0]&&Rt[kt+0]==47&&!(Rt[kt+4]>>5),rt[0]=Ge[0];je=0}if(F=F[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],A=A[0],je!=0)break;if(4294967286<Ie.Ja)return 3;if(ie==null||He||(ie[0]=Ie.xa?2:1),re=[re],Re=[Re],Ie.xa){if(5>F){je=7;break}ie=re,ye=Re,He=Z,x==null||5>F?x=0:5<=F&&x[A+0]==47&&!(x[A+4]>>5)?(Ge=[0],Rt=[0],nt=[0],X(rt=new U,x,A,F),_a(rt,Ge,Rt,nt)?(ie!=null&&(ie[0]=Ge[0]),ye!=null&&(ye[0]=Rt[0]),He!=null&&(He[0]=nt[0]),x=1):x=0):x=0}else{if(10>F){je=7;break}ie=Re,x==null||10>F||!Lh(x,A+3,F-3)?x=0:(ye=x[A+0]|x[A+1]<<8|x[A+2]<<16,He=16383&(x[A+7]<<8|x[A+6]),x=16383&(x[A+9]<<8|x[A+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=Ie.Ja||!He||!x?x=0:(re&&(re[0]=He),ie&&(ie[0]=x),x=1))}if(!x||(re=re[0],Re=Re[0],Fe&&(ve[0]!=re||Ne[0]!=Re)))return 3;ue!=null&&(ue[0]=Ie,ue.offset=A-ue.w,t(4294967286>A-ue.w),t(ue.offset==ue.ha-F));break}return je==0||je==7&&Fe&&ue==null?(Z!=null&&(Z[0]|=Ie.na!=null&&0<Ie.na.length),B!=null&&(B[0]=re),J!=null&&(J[0]=Re),0):je}function d1(x,A,F){var B=A.width,J=A.height,Z=0,re=0,ie=B,ue=J;if(A.Da=x!=null&&0<x.Da,A.Da&&(ie=x.cd,ue=x.bd,Z=x.v,re=x.j,11>F||(Z&=-2,re&=-2),0>Z||0>re||0>=ie||0>=ue||Z+ie>B||re+ue>J))return 0;if(A.v=Z,A.j=re,A.va=Z+ie,A.o=re+ue,A.U=ie,A.T=ue,A.da=x!=null&&0<x.da,A.da){if(!ct(ie,ue,F=[x.ib],Z=[x.hb]))return 0;A.ib=F[0],A.hb=Z[0]}return A.ob=x!=null&&x.ob,A.Kb=x==null||!x.Sd,A.da&&(A.ob=A.ib<3*B/4&&A.hb<3*J/4,A.Kb=0),1}function h1(x){if(x==null)return 2;if(11>x.S){var A=x.f.RGBA;A.fb+=(x.height-1)*A.A,A.A=-A.A}else A=x.f.kb,x=x.height,A.O+=(x-1)*A.fa,A.fa=-A.fa,A.N+=(x-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(x-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(x-1)*A.lb,A.lb=-A.lb);return 0}function Yf(x,A,F,B){if(B==null||0>=x||0>=A)return 2;if(F!=null){if(F.Da){var J=F.cd,Z=F.bd,re=-2&F.v,ie=-2&F.j;if(0>re||0>ie||0>=J||0>=Z||re+J>x||ie+Z>A)return 2;x=J,A=Z}if(F.da){if(!ct(x,A,J=[F.ib],Z=[F.hb]))return 2;x=J[0],A=Z[0]}}B.width=x,B.height=A;e:{var ue=B.width,ve=B.height;if(x=B.S,0>=ue||0>=ve||!(x>=l2&&13>x))x=2;else{if(0>=B.Rd&&B.sd==null){re=Z=J=A=0;var Ne=(ie=ue*ND[x])*ve;if(11>x||(Z=(ve+1)/2*(A=(ue+1)/2),x==12&&(re=(J=ue)*ve)),(ve=a(Ne+2*Z+re))==null){x=1;break e}B.sd=ve,11>x?((ue=B.f.RGBA).eb=ve,ue.fb=0,ue.A=ie,ue.size=Ne):((ue=B.f.kb).y=ve,ue.O=0,ue.fa=ie,ue.Fd=Ne,ue.f=ve,ue.N=0+Ne,ue.Ab=A,ue.Cd=Z,ue.ea=ve,ue.W=0+Ne+Z,ue.Db=A,ue.Ed=Z,x==12&&(ue.F=ve,ue.J=0+Ne+2*Z),ue.Tc=re,ue.lb=J)}if(A=1,J=B.S,Z=B.width,re=B.height,J>=l2&&13>J)if(11>J)x=B.f.RGBA,A&=(ie=Math.abs(x.A))*(re-1)+Z<=x.size,A&=ie>=Z*ND[J],A&=x.eb!=null;else{x=B.f.kb,ie=(Z+1)/2,Ne=(re+1)/2,ue=Math.abs(x.fa),ve=Math.abs(x.Ab);var Fe=Math.abs(x.Db),ye=Math.abs(x.lb),Ie=ye*(re-1)+Z;A&=ue*(re-1)+Z<=x.Fd,A&=ve*(Ne-1)+ie<=x.Cd,A=(A&=Fe*(Ne-1)+ie<=x.Ed)&ue>=Z&ve>=ie&Fe>=ie,A&=x.y!=null,A&=x.f!=null,A&=x.ea!=null,J==12&&(A&=ye>=Z,A&=Ie<=x.Tc,A&=x.F!=null)}else A=0;x=A?0:2}}return x!=0||F!=null&&F.fd&&(x=h1(B)),x}var Wh=64,ko=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],No=24,Jf=32,Iu=8,Qf=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];lt("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(x){return x},T.Predictor2=function(x,A,F){return A[F+0]},T.Predictor3=function(x,A,F){return A[F+1]},T.Predictor4=function(x,A,F){return A[F-1]},T.Predictor5=function(x,A,F){return bt(bt(x,A[F+1]),A[F+0])},T.Predictor6=function(x,A,F){return bt(x,A[F-1])},T.Predictor7=function(x,A,F){return bt(x,A[F+0])},T.Predictor8=function(x,A,F){return bt(A[F-1],A[F+0])},T.Predictor9=function(x,A,F){return bt(A[F+0],A[F+1])},T.Predictor10=function(x,A,F){return bt(bt(x,A[F-1]),bt(A[F+0],A[F+1]))},T.Predictor11=function(x,A,F){var B=A[F+0];return 0>=yt(B>>24&255,x>>24&255,(A=A[F-1])>>24&255)+yt(B>>16&255,x>>16&255,A>>16&255)+yt(B>>8&255,x>>8&255,A>>8&255)+yt(255&B,255&x,255&A)?B:x},T.Predictor12=function(x,A,F){var B=A[F+0];return(Kt((x>>24&255)+(B>>24&255)-((A=A[F-1])>>24&255))<<24|Kt((x>>16&255)+(B>>16&255)-(A>>16&255))<<16|Kt((x>>8&255)+(B>>8&255)-(A>>8&255))<<8|Kt((255&x)+(255&B)-(255&A)))>>>0},T.Predictor13=function(x,A,F){var B=A[F-1];return(jt((x=bt(x,A[F+0]))>>24&255,B>>24&255)<<24|jt(x>>16&255,B>>16&255)<<16|jt(x>>8&255,B>>8&255)<<8|jt(255&x,255&B))>>>0};var p1=T.PredictorAdd0;T.PredictorAdd1=Xt,lt("Predictor2","PredictorAdd2"),lt("Predictor3","PredictorAdd3"),lt("Predictor4","PredictorAdd4"),lt("Predictor5","PredictorAdd5"),lt("Predictor6","PredictorAdd6"),lt("Predictor7","PredictorAdd7"),lt("Predictor8","PredictorAdd8"),lt("Predictor9","PredictorAdd9"),lt("Predictor10","PredictorAdd10"),lt("Predictor11","PredictorAdd11"),lt("Predictor12","PredictorAdd12"),lt("Predictor13","PredictorAdd13");var Dp=T.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var ki,a2=T.ColorIndexInverseTransform,Uc=T.MapARGB,Vc=T.VP8LColorIndexInverseTransformAlpha,m1=T.MapAlpha,g1=T.VP8LPredictorsAdd=[];g1.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var v1,y1,Zf,ed,td,Hh,rd,qh,pl,$c,en,An,Ni,ia,Ou,x1,Rp,s2,nD,iD,aD,sD,oD,lD,w1,cD,uD,fD,dD=a(511),hD=a(2041),pD=a(225),mD=a(767),gD=0,PE=hD,o2=pD,Co=mD,ml=dD,l2=0,c2=1,vD=2,u2=3,f2=4,IE=5,yD=6,OE=7,DE=8,d2=9,RE=10,Tre=[2,3,7],kre=[3,3,11],xD=[280,256,256,256,40],Nre=[0,1,1,1,0],Cre=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Pre=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ire=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ore=8,LE=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],jE=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],b1=null,Dre=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Rre=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],wD=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Lre=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],jre=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Fre=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Mre=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],nd=[],rc=[],Du=[],Bre=1,bD=2,id=[],gl=[];Ua("UpsampleRgbLinePair",ae,3),Ua("UpsampleBgrLinePair",De,3),Ua("UpsampleRgbaLinePair",Er,4),Ua("UpsampleBgraLinePair",ai,4),Ua("UpsampleArgbLinePair",Lr,4),Ua("UpsampleRgba4444LinePair",ut,2),Ua("UpsampleRgb565LinePair",Be,2);var Ure=T.UpsampleRgbLinePair,Vre=T.UpsampleBgrLinePair,_D=T.UpsampleRgbaLinePair,SD=T.UpsampleBgraLinePair,ED=T.UpsampleArgbLinePair,AD=T.UpsampleRgba4444LinePair,$re=T.UpsampleRgb565LinePair,h2=16,p2=1<<h2-1,_1=-227,FE=482,zre=6,TD=0,Wre=a(256),Hre=a(256),qre=a(256),Gre=a(256),Kre=a(FE-_1),Xre=a(FE-_1);Pn("YuvToRgbRow",ae,3),Pn("YuvToBgrRow",De,3),Pn("YuvToRgbaRow",Er,4),Pn("YuvToBgraRow",ai,4),Pn("YuvToArgbRow",Lr,4),Pn("YuvToRgba4444Row",ut,2),Pn("YuvToRgb565Row",Be,2);var kD=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],m2=[0,2,8],Yre=[8,7,6,4,4,2,2,2,1,1,1,1],Jre=1;this.WebPDecodeRGBA=function(x,A,F,B,J){var Z=c2,re=new Oe,ie=new Rr;re.ba=ie,ie.S=Z,ie.width=[ie.width],ie.height=[ie.height];var ue=ie.width,ve=ie.height,Ne=new Vt;if(Ne==null||x==null)var Fe=2;else t(Ne!=null),Fe=tc(x,A,F,Ne.width,Ne.height,Ne.Pd,Ne.Qd,Ne.format,null);if(Fe!=0?ue=0:(ue!=null&&(ue[0]=Ne.width[0]),ve!=null&&(ve[0]=Ne.height[0]),ue=1),ue){ie.width=ie.width[0],ie.height=ie.height[0],B!=null&&(B[0]=ie.width),J!=null&&(J[0]=ie.height);e:{if(B=new Hi,(J=new qe).data=x,J.w=A,J.ha=F,J.kd=1,A=[0],t(J!=null),((x=tc(J.data,J.w,J.ha,null,null,null,A,null,J))==0||x==7)&&A[0]&&(x=4),(A=x)==0){if(t(re!=null),B.data=J.data,B.w=J.w+J.offset,B.ha=J.ha-J.offset,B.put=$t,B.ac=Wi,B.bc=vn,B.ma=re,J.xa){if((x=Ee())==null){re=1;break e}if(function(ye,Ie){var Re=[0],He=[0],je=[0];t:for(;;){if(ye==null)return 0;if(Ie==null)return ye.a=2,0;if(ye.l=Ie,ye.a=0,X(ye.m,Ie.data,Ie.w,Ie.ha),!_a(ye.m,Re,He,je)){ye.a=3;break t}if(ye.xb=bD,Ie.width=Re[0],Ie.height=He[0],!be(Re[0],He[0],1,ye,null))break t;return 1}return t(ye.a!=0),0}(x,B)){if(B=(A=Yf(B.width,B.height,re.Oa,re.ba))==0){t:{B=x;r:for(;;){if(B==null){B=0;break t}if(t(B.s.yc!=null),t(B.s.Ya!=null),t(0<B.s.Wb),t((F=B.l)!=null),t((J=F.ma)!=null),B.xb!=0){if(B.ca=J.ba,B.tb=J.tb,t(B.ca!=null),!d1(J.Oa,F,u2)){B.a=2;break r}if(!Ae(B,F.width)||F.da)break r;if((F.da||Qt(B.ca.S))&&Cn(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&Cn()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!de(B.s.vb,B.s.Wa.Xa)){B.a=1;break r}B.xb=0}if(!we(B,B.V,B.Ba,B.c,B.i,F.o,ce))break r;J.Dc=B.Ma,B=1;break t}t(B.a!=0),B=0}B=!B}B&&(A=x.a)}else A=x.a}else{if((x=new Rh)==null){re=1;break e}if(x.Fa=J.na,x.P=J.P,x.qc=J.Sa,Pp(x,B)){if((A=Yf(B.width,B.height,re.Oa,re.ba))==0){if(x.Aa=0,F=re.Oa,t((J=x)!=null),F!=null){if(0<(ue=0>(ue=F.Md)?0:100<ue?255:255*ue/100)){for(ve=Ne=0;4>ve;++ve)12>(Fe=J.pb[ve]).lc&&(Fe.ia=ue*Yre[0>Fe.lc?0:Fe.lc]>>3),Ne|=Fe.ia;Ne&&(alert("todo:VP8InitRandom"),J.ia=1)}J.Ga=F.Id,100<J.Ga?J.Ga=100:0>J.Ga&&(J.Ga=0)}(function(ye,Ie){if(ye==null)return 0;if(Ie==null)return ri(ye,2,"NULL VP8Io parameter in VP8Decode().");if(!ye.cb&&!Pp(ye,Ie))return 0;if(t(ye.cb),Ie.ac==null||Ie.ac(Ie)){Ie.ob&&(ye.L=0);var Re=m2[ye.L];if(ye.L==2?(ye.yb=0,ye.zb=0):(ye.yb=Ie.v-Re>>4,ye.zb=Ie.j-Re>>4,0>ye.yb&&(ye.yb=0),0>ye.zb&&(ye.zb=0)),ye.Va=Ie.o+15+Re>>4,ye.Hb=Ie.va+15+Re>>4,ye.Hb>ye.za&&(ye.Hb=ye.za),ye.Va>ye.Ub&&(ye.Va=ye.Ub),0<ye.L){var He=ye.ed;for(Re=0;4>Re;++Re){var je;if(ye.Qa.Cb){var Ge=ye.Qa.Lb[Re];ye.Qa.Fb||(Ge+=He.Tb)}else Ge=He.Tb;for(je=0;1>=je;++je){var Ye=ye.gd[Re][je],nt=Ge;if(He.Pc&&(nt+=He.vd[0],je&&(nt+=He.od[0])),0<(nt=0>nt?0:63<nt?63:nt)){var rt=nt;0<He.wb&&(rt=4<He.wb?rt>>2:rt>>1)>9-He.wb&&(rt=9-He.wb),1>rt&&(rt=1),Ye.dd=rt,Ye.tc=2*nt+rt,Ye.ld=40<=nt?2:15<=nt?1:0}else Ye.tc=0;Ye.La=je}}}Re=0}else ri(ye,6,"Frame setup failed"),Re=ye.a;if(Re=Re==0){if(Re){ye.$c=0,0<ye.Aa||(ye.Ic=Jre);t:{Re=ye.Ic,He=4*(rt=ye.za);var Bt=32*rt,kt=rt+1,yr=0<ye.L?rt*(0<ye.Aa?2:1):0,Rt=(ye.Aa==2?2:1)*rt;if((Ye=He+832+(je=3*(16*Re+m2[ye.L])/2*Bt)+(Ge=ye.Fa!=null&&0<ye.Fa.length?ye.Kc.c*ye.Kc.i:0))!=Ye)Re=0;else{if(Ye>ye.Vb){if(ye.Vb=0,ye.Ec=a(Ye),ye.Fc=0,ye.Ec==null){Re=ri(ye,1,"no memory during frame initialization.");break t}ye.Vb=Ye}Ye=ye.Ec,nt=ye.Fc,ye.Ac=Ye,ye.Bc=nt,nt+=He,ye.Gd=s(Bt,Is),ye.Hd=0,ye.rb=s(kt+1,Tr),ye.sb=1,ye.wa=yr?s(yr,zt):null,ye.Y=0,ye.D.Nb=0,ye.D.wa=ye.wa,ye.D.Y=ye.Y,0<ye.Aa&&(ye.D.Y+=rt),t(!0),ye.oc=Ye,ye.pc=nt,nt+=832,ye.ya=s(Rt,Ba),ye.aa=0,ye.D.ya=ye.ya,ye.D.aa=ye.aa,ye.Aa==2&&(ye.D.aa+=rt),ye.R=16*rt,ye.B=8*rt,rt=(Bt=m2[ye.L])*ye.R,Bt=Bt/2*ye.B,ye.sa=Ye,ye.ta=nt+rt,ye.qa=ye.sa,ye.ra=ye.ta+16*Re*ye.R+Bt,ye.Ha=ye.qa,ye.Ia=ye.ra+8*Re*ye.B+Bt,ye.$c=0,nt+=je,ye.mb=Ge?Ye:null,ye.nb=Ge?nt:null,t(nt+Ge<=ye.Fc+ye.Vb),Dc(ye),i(ye.Ac,ye.Bc,0,He),Re=1}}if(Re){if(Ie.ka=0,Ie.y=ye.sa,Ie.O=ye.ta,Ie.f=ye.qa,Ie.N=ye.ra,Ie.ea=ye.Ha,Ie.Vd=ye.Ia,Ie.fa=ye.R,Ie.Rc=ye.B,Ie.F=null,Ie.J=0,!gD){for(Re=-255;255>=Re;++Re)dD[255+Re]=0>Re?-Re:Re;for(Re=-1020;1020>=Re;++Re)hD[1020+Re]=-128>Re?-128:127<Re?127:Re;for(Re=-112;112>=Re;++Re)pD[112+Re]=-16>Re?-16:15<Re?15:Re;for(Re=-255;510>=Re;++Re)mD[255+Re]=0>Re?0:255<Re?255:Re;gD=1}rd=Rc,qh=Wf,$c=Ip,en=Cr,An=Tu,pl=zf,Ni=Vh,ia=Xf,Ou=I,x1=Y,Rp=hl,s2=$h,nD=ge,iD=Te,aD=Mc,sD=Bc,oD=Zs,lD=Uh,rc[0]=c1,rc[1]=jh,rc[2]=jc,rc[3]=l1,rc[4]=u1,rc[5]=Ql,rc[6]=Sa,rc[7]=f1,rc[8]=Zl,rc[9]=qf,nd[0]=Qs,nd[1]=s1,nd[2]=o1,nd[3]=Fh,nd[4]=fl,nd[5]=Lc,nd[6]=Hf,Du[0]=Nu,Du[1]=Op,Du[2]=Gf,Du[3]=Eo,Du[4]=xn,Du[5]=Mh,Du[6]=Bh,Re=1}else Re=0}Re&&(Re=function(jr,aa){for(jr.M=0;jr.M<jr.Va;++jr.M){var xr,Lt=jr.Jc[jr.M&jr.Xb],mt=jr.m,Ci=jr;for(xr=0;xr<Ci.za;++xr){var mr=mt,Mr=Ci,Fn=Mr.Ac,$a=Mr.Bc+4*xr,Rs=Mr.zc,vi=Mr.ya[Mr.aa+xr];if(Mr.Qa.Bb?vi.$b=he(mr,Mr.Pa.jb[0])?2+he(mr,Mr.Pa.jb[2]):he(mr,Mr.Pa.jb[1]):vi.$b=0,Mr.kc&&(vi.Ad=he(mr,Mr.Bd)),vi.Za=!he(mr,145)+0,vi.Za){var as=vi.Ob,Ls=0;for(Mr=0;4>Mr;++Mr){var sa,Vr=Rs[0+Mr];for(sa=0;4>sa;++sa){Vr=jre[Fn[$a+sa]][Vr];for(var ln=wD[he(mr,Vr[0])];0<ln;)ln=wD[2*ln+he(mr,Vr[ln])];Vr=-ln,Fn[$a+sa]=Vr}n(as,Ls,Fn,$a,4),Ls+=4,Rs[0+Mr]=Vr}}else Vr=he(mr,156)?he(mr,128)?1:3:he(mr,163)?2:0,vi.Ob[0]=Vr,i(Fn,$a,Vr,4),i(Rs,0,Vr,4);vi.Dd=he(mr,142)?he(mr,114)?he(mr,183)?1:3:2:0}if(Ci.m.Ka)return ri(jr,7,"Premature end-of-partition0 encountered.");for(;jr.ja<jr.za;++jr.ja){if(Ci=Lt,mr=(mt=jr).rb[mt.sb-1],Fn=mt.rb[mt.sb+mt.ja],xr=mt.ya[mt.aa+mt.ja],$a=mt.kc?xr.Ad:0)mr.la=Fn.la=0,xr.Za||(mr.Na=Fn.Na=0),xr.Hc=0,xr.Gc=0,xr.ia=0;else{var yi,cn;if(mr=Fn,Fn=Ci,$a=mt.Pa.Xc,Rs=mt.ya[mt.aa+mt.ja],vi=mt.pb[Rs.$b],Mr=Rs.ad,as=0,Ls=mt.rb[mt.sb-1],Vr=sa=0,i(Mr,as,0,384),Rs.Za)var za=0,nc=$a[3];else{ln=a(16);var Pi=mr.Na+Ls.Na;if(Pi=b1(Fn,$a[1],Pi,vi.Eb,0,ln,0),mr.Na=Ls.Na=(0<Pi)+0,1<Pi)rd(ln,0,Mr,as);else{var eo=ln[0]+3>>3;for(ln=0;256>ln;ln+=16)Mr[as+ln]=eo}za=1,nc=$a[0]}var Tn=15&mr.la,oa=15&Ls.la;for(ln=0;4>ln;++ln){var Po=1&oa;for(eo=cn=0;4>eo;++eo)Tn=Tn>>1|(Po=(Pi=b1(Fn,nc,Pi=Po+(1&Tn),vi.Sc,za,Mr,as))>za)<<7,cn=cn<<2|(3<Pi?3:1<Pi?2:Mr[as+0]!=0),as+=16;Tn>>=4,oa=oa>>1|Po<<7,sa=(sa<<8|cn)>>>0}for(nc=Tn,za=oa>>4,yi=0;4>yi;yi+=2){for(cn=0,Tn=mr.la>>4+yi,oa=Ls.la>>4+yi,ln=0;2>ln;++ln){for(Po=1&oa,eo=0;2>eo;++eo)Pi=Po+(1&Tn),Tn=Tn>>1|(Po=0<(Pi=b1(Fn,$a[2],Pi,vi.Qc,0,Mr,as)))<<3,cn=cn<<2|(3<Pi?3:1<Pi?2:Mr[as+0]!=0),as+=16;Tn>>=2,oa=oa>>1|Po<<5}Vr|=cn<<4*yi,nc|=Tn<<4<<yi,za|=(240&oa)<<yi}mr.la=nc,Ls.la=za,Rs.Hc=sa,Rs.Gc=Vr,Rs.ia=43690&Vr?0:vi.ia,$a=!(sa|Vr)}if(0<mt.L&&(mt.wa[mt.Y+mt.ja]=mt.gd[xr.$b][xr.Za],mt.wa[mt.Y+mt.ja].La|=!$a),Ci.Ka)return ri(jr,7,"Premature end-of-file encountered.")}if(Dc(jr),mt=aa,Ci=1,xr=(Lt=jr).D,mr=0<Lt.L&&Lt.M>=Lt.zb&&Lt.M<=Lt.Va,Lt.Aa==0)t:{if(xr.M=Lt.M,xr.uc=mr,Va(Lt,xr),Ci=1,xr=(cn=Lt.D).Nb,mr=(Vr=m2[Lt.L])*Lt.R,Fn=Vr/2*Lt.B,ln=16*xr*Lt.R,eo=8*xr*Lt.B,$a=Lt.sa,Rs=Lt.ta-mr+ln,vi=Lt.qa,Mr=Lt.ra-Fn+eo,as=Lt.Ha,Ls=Lt.Ia-Fn+eo,oa=(Tn=cn.M)==0,sa=Tn>=Lt.Va-1,Lt.Aa==2&&Va(Lt,cn),cn.uc)for(Po=(Pi=Lt).D.M,t(Pi.D.uc),cn=Pi.yb;cn<Pi.Hb;++cn){za=cn,nc=Po;var js=(Io=(Wa=Pi).D).Nb;yi=Wa.R;var Io=Io.wa[Io.Y+za],Oo=Wa.sa,to=Wa.ta+16*js*yi+16*za,Do=Io.dd,In=Io.tc;if(In!=0)if(t(3<=In),Wa.L==1)0<za&&sD(Oo,to,yi,In+4),Io.La&&lD(Oo,to,yi,In),0<nc&&aD(Oo,to,yi,In+4),Io.La&&oD(Oo,to,yi,In);else{var Ro=Wa.B,ic=Wa.qa,Gh=Wa.ra+8*js*Ro+8*za,Ru=Wa.Ha,Wa=Wa.Ia+8*js*Ro+8*za;js=Io.ld,0<za&&(ia(Oo,to,yi,In+4,Do,js),x1(ic,Gh,Ru,Wa,Ro,In+4,Do,js)),Io.La&&(s2(Oo,to,yi,In,Do,js),iD(ic,Gh,Ru,Wa,Ro,In,Do,js)),0<nc&&(Ni(Oo,to,yi,In+4,Do,js),Ou(ic,Gh,Ru,Wa,Ro,In+4,Do,js)),Io.La&&(Rp(Oo,to,yi,In,Do,js),nD(ic,Gh,Ru,Wa,Ro,In,Do,js))}}if(Lt.ia&&alert("todo:DitherRow"),mt.put!=null){if(cn=16*Tn,Tn=16*(Tn+1),oa?(mt.y=Lt.sa,mt.O=Lt.ta+ln,mt.f=Lt.qa,mt.N=Lt.ra+eo,mt.ea=Lt.Ha,mt.W=Lt.Ia+eo):(cn-=Vr,mt.y=$a,mt.O=Rs,mt.f=vi,mt.N=Mr,mt.ea=as,mt.W=Ls),sa||(Tn-=Vr),Tn>mt.o&&(Tn=mt.o),mt.F=null,mt.J=null,Lt.Fa!=null&&0<Lt.Fa.length&&cn<Tn&&(mt.J=ni(Lt,mt,cn,Tn-cn),mt.F=Lt.mb,mt.F==null&&mt.F.length==0)){Ci=ri(Lt,3,"Could not decode alpha data.");break t}cn<mt.j&&(Vr=mt.j-cn,cn=mt.j,t(!(1&Vr)),mt.O+=Lt.R*Vr,mt.N+=Lt.B*(Vr>>1),mt.W+=Lt.B*(Vr>>1),mt.F!=null&&(mt.J+=mt.width*Vr)),cn<Tn&&(mt.O+=mt.v,mt.N+=mt.v>>1,mt.W+=mt.v>>1,mt.F!=null&&(mt.J+=mt.v),mt.ka=cn-mt.j,mt.U=mt.va-mt.v,mt.T=Tn-cn,Ci=mt.put(mt))}xr+1!=Lt.Ic||sa||(n(Lt.sa,Lt.ta-mr,$a,Rs+16*Lt.R,mr),n(Lt.qa,Lt.ra-Fn,vi,Mr+8*Lt.B,Fn),n(Lt.Ha,Lt.Ia-Fn,as,Ls+8*Lt.B,Fn))}if(!Ci)return ri(jr,6,"Output aborted.")}return 1}(ye,Ie)),Ie.bc!=null&&Ie.bc(Ie),Re&=1}return Re?(ye.cb=0,Re):0})(x,B)||(A=x.a)}}else A=x.a}A==0&&re.Oa!=null&&re.Oa.fd&&(A=h1(re.ba))}re=A}Z=re!=0?null:11>Z?ie.f.RGBA.eb:ie.f.kb.y}else Z=null;return Z};var ND=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(T,j){for(var E="",C=0;C<4;C++)E+=String.fromCharCode(T[j++]);return E}function u(T,j){return T[j+0]|T[j+1]<<8}function f(T,j){return(T[j+0]|T[j+1]<<8|T[j+2]<<16)>>>0}function d(T,j){return(T[j+0]|T[j+1]<<8|T[j+2]<<16|T[j+3]<<24)>>>0}new l;var h=[0],g=[0],m=[],v=new l,y=e,b=function(T,j){var E={},C=0,D=!1,q=0,ee=0;if(E.frames=[],!function(P,U){for(var V=0;V<4;V++)if(P[U+V]!="RIFF".charCodeAt(V))return!0;return!1}(T,j)){for(d(T,j+=4),j+=8;j<T.length;){var le=c(T,j),se=d(T,j+=4);j+=4;var K=se+(1&se);switch(le){case"VP8 ":case"VP8L":E.frames[C]===void 0&&(E.frames[C]={}),(Se=E.frames[C]).src_off=D?ee:j-8,Se.src_size=q+se+8,C++,D&&(D=!1,q=0,ee=0);break;case"VP8X":(Se=E.header={}).feature_flags=T[j];var X=j+4;Se.canvas_width=1+f(T,X),X+=3,Se.canvas_height=1+f(T,X),X+=3;break;case"ALPH":D=!0,q=K+8,ee=j-8;break;case"ANIM":(Se=E.header).bgcolor=d(T,j),X=j+4,Se.loop_count=u(T,X),X+=2;break;case"ANMF":var _e,Se;(Se=E.frames[C]={}).offset_x=2*f(T,j),j+=3,Se.offset_y=2*f(T,j),j+=3,Se.width=1+f(T,j),j+=3,Se.height=1+f(T,j),j+=3,Se.duration=f(T,j),j+=3,_e=T[j++],Se.dispose=1&_e,Se.blend=_e>>1&1}le!="ANMF"&&(j+=K)}return E}}(y,0);b.response=y,b.rgbaoutput=!0,b.dataurl=!1;var _=b.header?b.header:null,N=b.frames?b.frames:null;if(_){_.loop_counter=_.loop_count,h=[_.canvas_height],g=[_.canvas_width];for(var R=0;R<N.length&&N[R].blend!=0;R++);}var O=N[0],k=v.WebPDecodeRGBA(y,O.src_off,O.src_size,g,h);O.rgba=k,O.imgwidth=g[0],O.imgheight=h[0];for(var S=0;S<g[0]*h[0]*4;S++)m[S]=k[S];return this.width=g,this.height=h,this.data=m,this}(function(e){var t,r,n,i,a,s,o,l,c,u=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new s,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new s,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=P;Object.defineProperty(this,"pdf",{get:function(){return U}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(Ce){V=!!Ce}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(Ce){z=!!Ce}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Ce){isNaN(Ce)||(ne=Ce)}});var te=0;Object.defineProperty(this,"posY",{get:function(){return te},set:function(Ce){isNaN(Ce)||(te=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Ce){var de;typeof Ce=="number"?de=[Ce,Ce,Ce,Ce]:((de=new Array(4))[0]=Ce[0],de[1]=Ce.length>=2?Ce[1]:de[0],de[2]=Ce.length>=3?Ce[2]:de[0],de[3]=Ce.length>=4?Ce[3]:de[1]),c.margin=de}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Ce){xe=Ce}});var oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return oe},set:function(Ce){oe=Ce}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(Ce){he=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Ce){Ce instanceof u&&(c=Ce)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Ce){c.path=Ce}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(Ce){Pe=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var de;de=d(Ce),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var de=d(Ce);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var G=null,ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return ze},set:function(Ce){G=null,ze=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var de;if(this.ctx.font=Ce,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var it=de[1];de[2];var Ve=de[3],ct=de[4];de[5];var Qe=de[6],at=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ct)[2];ct=Math.floor(at==="px"?parseFloat(ct)*this.pdf.internal.scaleFactor:at==="em"?parseFloat(ct)*this.pdf.getFontSize():parseFloat(ct)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ct);var lt=function(st){var dt,er,Ft=[],wt=st.trim();if(wt==="")return p4;if(wt in JF)return[JF[wt]];for(;wt!=="";){switch(er=null,dt=(wt=ZF(wt)).charAt(0)){case'"':case"'":er=L4e(wt.substring(1),dt);break;default:er=j4e(wt)}if(er===null||(Ft.push(er[0]),(wt=ZF(er[1]))!==""&&wt.charAt(0)!==","))return p4;wt=wt.replace(/^,/,"")}return Ft}(Qe);if(this.fontFaces){var Jt=function(st,dt){if(G===null){var er=function(Ft){var wt=[];return Object.keys(Ft).forEach(function(Yt){Ft[Yt].forEach(function(Ur){var Ht=null;switch(Ur){case"bold":Ht={family:Yt,weight:"bold"};break;case"italic":Ht={family:Yt,style:"italic"};break;case"bolditalic":Ht={family:Yt,weight:"bold",style:"italic"};break;case"":case"normal":Ht={family:Yt}}Ht!==null&&(Ht.ref={name:Yt,style:Ur},wt.push(Ht))})}),wt}(st.getFontList());G=function(Ft){for(var wt={},Yt=0;Yt<Ft.length;++Yt){var Ur=h4(Ft[Yt]),Ht=Ur.family,dr=Ur.stretch,Qt=Ur.style,nn=Ur.weight;wt[Ht]=wt[Ht]||{},wt[Ht][dr]=wt[Ht][dr]||{},wt[Ht][dr][Qt]=wt[Ht][dr][Qt]||{},wt[Ht][dr][Qt][nn]=Ur}return wt}(er.concat(dt))}return G}(this.pdf,this.fontFaces),bt=lt.map(function(st){return{family:st,stretch:"normal",weight:Ve,style:it}}),Kt=function(st,dt,er){for(var Ft=(er=er||{}).defaultFontFamily||"times",wt=Object.assign({},R4e,er.genericFontFamilies||{}),Yt=null,Ur=null,Ht=0;Ht<dt.length;++Ht)if(wt[(Yt=h4(dt[Ht])).family]&&(Yt.family=wt[Yt.family]),st.hasOwnProperty(Yt.family)){Ur=st[Yt.family];break}if(!(Ur=Ur||st[Ft]))throw new Error("Could not find a font-family for the rule '"+QF(Yt)+"' and default family '"+Ft+"'.");if(Ur=function(dr,Qt){if(Qt[dr])return Qt[dr];var nn=nN[dr],an=nn<=nN.normal?-1:1,Rr=YF(Qt,sX,nn,an);if(!Rr)throw new Error("Could not find a matching font-stretch value for "+dr);return Rr}(Yt.stretch,Ur),Ur=function(dr,Qt){if(Qt[dr])return Qt[dr];for(var nn=aX[dr],an=0;an<nn.length;++an)if(Qt[nn[an]])return Qt[nn[an]];throw new Error("Could not find a matching font-style for "+dr)}(Yt.style,Ur),!(Ur=function(dr,Qt){if(Qt[dr])return Qt[dr];if(dr===400&&Qt[500])return Qt[500];if(dr===500&&Qt[400])return Qt[400];var nn=D4e[dr],an=YF(Qt,oX,nn,dr<400?-1:1);if(!an)throw new Error("Could not find a matching font-weight for value "+dr);return an}(Yt.weight,Ur)))throw new Error("Failed to resolve a font for the rule '"+QF(Yt)+"'.");return Ur}(Jt,bt);this.pdf.setFont(Kt.ref.name,Kt.ref.style)}else{var jt="";(Ve==="bold"||parseInt(Ve,10)>=700||it==="bold")&&(jt="bold"),it==="italic"&&(jt+="italic"),jt.length===0&&(jt="normal");for(var yt="",Xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<lt.length;_t++){if(this.pdf.internal.getFont(lt[_t],jt,{noFallback:!0,disableWarning:!0})!==void 0){yt=lt[_t];break}if(jt==="bolditalic"&&this.pdf.internal.getFont(lt[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)yt=lt[_t],jt="bold";else if(this.pdf.internal.getFont(lt[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){yt=lt[_t],jt="normal";break}}if(yt===""){for(var xt=0;xt<lt.length;xt++)if(Xt[lt[xt]]){yt=Xt[lt[xt]];break}}yt=yt===""?"Times":yt,this.pdf.setFont(yt,jt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,Se.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,Se.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};f.prototype.setLineDash=function(P){this.lineDash=P},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(P,U){if(isNaN(P)||isNaN(U))throw kn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new s(P,U));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(P,U)},f.prototype.closePath=function(){var P=new s(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&hn(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){P=new s(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(P.x,P.y)},f.prototype.lineTo=function(P,U){if(isNaN(P)||isNaN(U))throw kn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new s(P,U));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(P,U,V,z){if(isNaN(V)||isNaN(z)||isNaN(P)||isNaN(U))throw kn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new s(V,z)),te=this.ctx.transform.applyToPoint(new s(P,U));this.path.push({type:"qct",x1:te.x,y1:te.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new s(ne.x,ne.y)},f.prototype.bezierCurveTo=function(P,U,V,z,ne,te){if(isNaN(ne)||isNaN(te)||isNaN(P)||isNaN(U)||isNaN(V)||isNaN(z))throw kn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new s(ne,te)),oe=this.ctx.transform.applyToPoint(new s(P,U)),he=this.ctx.transform.applyToPoint(new s(V,z));this.path.push({type:"bct",x1:oe.x,y1:oe.y,x2:he.x,y2:he.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new s(xe.x,xe.y)},f.prototype.arc=function(P,U,V,z,ne,te){if(isNaN(P)||isNaN(U)||isNaN(V)||isNaN(z)||isNaN(ne))throw kn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(te=!!te,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new s(P,U));P=xe.x,U=xe.y;var oe=this.ctx.transform.applyToPoint(new s(0,V)),he=this.ctx.transform.applyToPoint(new s(0,0));V=Math.sqrt(Math.pow(oe.x-he.x,2)+Math.pow(oe.y-he.y,2))}Math.abs(ne-z)>=2*Math.PI&&(z=0,ne=2*Math.PI),this.path.push({type:"arc",x:P,y:U,radius:V,startAngle:z,endAngle:ne,counterclockwise:te})},f.prototype.arcTo=function(P,U,V,z,ne){throw new Error("arcTo not implemented.")},f.prototype.rect=function(P,U,V,z){if(isNaN(P)||isNaN(U)||isNaN(V)||isNaN(z))throw kn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,U),this.lineTo(P+V,U),this.lineTo(P+V,U+z),this.lineTo(P,U+z),this.lineTo(P,U),this.lineTo(P+V,U),this.lineTo(P,U)},f.prototype.fillRect=function(P,U,V,z){if(isNaN(P)||isNaN(U)||isNaN(V)||isNaN(z))throw kn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,U,V,z),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},f.prototype.strokeRect=function(P,U,V,z){if(isNaN(P)||isNaN(U)||isNaN(V)||isNaN(z))throw kn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(P,U,V,z),this.stroke())},f.prototype.clearRect=function(P,U,V,z){if(isNaN(P)||isNaN(U)||isNaN(V)||isNaN(z))throw kn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,U,V,z))},f.prototype.save=function(P){P=typeof P!="boolean"||P;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},f.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(U),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var d=function(P){var U,V,z,ne;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))U=0,V=0,z=0,ne=0;else{var te=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(te!==null)U=parseInt(te[1]),V=parseInt(te[2]),z=parseInt(te[3]),ne=1;else if((te=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)U=parseInt(te[1]),V=parseInt(te[2]),z=parseInt(te[3]),ne=parseFloat(te[4]);else{if(ne=1,typeof P=="string"&&P.charAt(0)!=="#"){var xe=new QK(P);P=xe.ok?xe.toHex():"#000000"}P.length===4?(U=P.substring(1,2),U+=U,V=P.substring(2,3),V+=V,z=P.substring(3,4),z+=z):(U=P.substring(1,3),V=P.substring(3,5),z=P.substring(5,7)),U=parseInt(U,16),V=parseInt(V,16),z=parseInt(z,16)}}return{r:U,g:V,b:z,a:ne,style:P}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(P,U,V,z){if(isNaN(U)||isNaN(V)||typeof P!="string")throw kn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!h.call(this)){var ne=K(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;C.call(this,{text:P,x:U,y:V,scale:te,angle:ne,align:this.textAlign,maxWidth:z})}},f.prototype.strokeText=function(P,U,V,z){if(isNaN(U)||isNaN(V)||typeof P!="string")throw kn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){z=isNaN(z)?void 0:z;var ne=K(this.ctx.transform.rotation),te=this.ctx.transform.scaleX;C.call(this,{text:P,x:U,y:V,scale:te,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:z})}},f.prototype.measureText=function(P){if(typeof P!="string")throw kn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,V=this.pdf.internal.scaleFactor,z=U.internal.getFontSize(),ne=U.getStringUnitWidth(P)*z/U.internal.scaleFactor;return new function(te){var xe=(te=te||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return xe}}),this}({width:ne*=Math.round(96*V/72*1e4)/1e4})},f.prototype.scale=function(P,U){if(isNaN(P)||isNaN(U))throw kn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(P,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.rotate=function(P){if(isNaN(P))throw kn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.translate=function(P,U){if(isNaN(P)||isNaN(U))throw kn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,P,U);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.transform=function(P,U,V,z,ne,te){if(isNaN(P)||isNaN(U)||isNaN(V)||isNaN(z)||isNaN(ne)||isNaN(te))throw kn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new l(P,U,V,z,ne,te);this.ctx.transform=this.ctx.transform.multiply(xe)},f.prototype.setTransform=function(P,U,V,z,ne,te){P=isNaN(P)?1:P,U=isNaN(U)?0:U,V=isNaN(V)?0:V,z=isNaN(z)?1:z,ne=isNaN(ne)?0:ne,te=isNaN(te)?0:te,this.ctx.transform=new l(P,U,V,z,ne,te)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(P,U,V,z,ne,te,xe,oe,he){var Pe=this.pdf.getImageProperties(P),G=1,ze=1,Ce=1,de=1;z!==void 0&&oe!==void 0&&(Ce=oe/z,de=he/ne,G=Pe.width/z*oe/z,ze=Pe.height/ne*he/ne),te===void 0&&(te=U,xe=V,U=0,V=0),z!==void 0&&oe===void 0&&(oe=z,he=ne),z===void 0&&oe===void 0&&(oe=Pe.width,he=Pe.height);for(var it,Ve=this.ctx.transform.decompose(),ct=K(Ve.rotate.shx),Qe=new l,at=(Qe=(Qe=(Qe=Qe.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale)).applyToRectangle(new o(te-U*Ce,xe-V*de,z*G,ne*ze)),lt=v.call(this,at),Jt=[],bt=0;bt<lt.length;bt+=1)Jt.indexOf(lt[bt])===-1&&Jt.push(lt[bt]);if(_(Jt),this.autoPaging)for(var Kt=Jt[0],jt=Jt[Jt.length-1],yt=Kt;yt<jt+1;yt++){this.pdf.setPage(yt);var Xt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=yt===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=yt===1?0:xt+(yt-2)*st;if(this.ctx.clip_path.length!==0){var er=this.path;it=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(it,this.posX+this.margin[3],-dt+_t+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=er}var Ft=JSON.parse(JSON.stringify(at));Ft=b([Ft],this.posX+this.margin[3],-dt+_t+this.ctx.prevPageLastElemOffset)[0];var wt=(yt>Kt||yt<jt)&&m.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,st,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",Ft.x,Ft.y,Ft.w,Ft.h,null,null,ct),wt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",at.x,at.y,at.w,at.h,null,null,ct)};var v=function(P,U,V){var z=[];U=U||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":z.push(Math.floor((P.y+ne)/V)+1);break;case"arc":z.push(Math.floor((P.y+ne-P.radius)/V)+1),z.push(Math.floor((P.y+ne+P.radius)/V)+1);break;case"qct":var te=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);z.push(Math.floor((te.y+ne)/V)+1),z.push(Math.floor((te.y+te.h+ne)/V)+1);break;case"bct":var xe=_e(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);z.push(Math.floor((xe.y+ne)/V)+1),z.push(Math.floor((xe.y+xe.h+ne)/V)+1);break;case"rect":z.push(Math.floor((P.y+ne)/V)+1),z.push(Math.floor((P.y+P.h+ne)/V)+1)}for(var oe=0;oe<z.length;oe+=1)for(;this.pdf.internal.getNumberOfPages()<z[oe];)y.call(this);return z},y=function(){var P=this.fillStyle,U=this.strokeStyle,V=this.font,z=this.lineCap,ne=this.lineWidth,te=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=U,this.font=V,this.lineCap=z,this.lineWidth=ne,this.lineJoin=te},b=function(P,U,V){for(var z=0;z<P.length;z++)switch(P[z].type){case"bct":P[z].x2+=U,P[z].y2+=V;case"qct":P[z].x1+=U,P[z].y1+=V;default:P[z].x+=U,P[z].y+=V}return P},_=function(P){return P.sort(function(U,V){return U-V})},N=function(P,U){for(var V,z,ne=this.fillStyle,te=this.strokeStyle,xe=this.lineCap,oe=this.lineWidth,he=Math.abs(oe*this.ctx.transform.scaleX),Pe=this.lineJoin,G=JSON.parse(JSON.stringify(this.path)),ze=JSON.parse(JSON.stringify(this.path)),Ce=[],de=0;de<ze.length;de++)if(ze[de].x!==void 0)for(var it=v.call(this,ze[de]),Ve=0;Ve<it.length;Ve+=1)Ce.indexOf(it[Ve])===-1&&Ce.push(it[Ve]);for(var ct=0;ct<Ce.length;ct++)for(;this.pdf.internal.getNumberOfPages()<Ce[ct];)y.call(this);if(_(Ce),this.autoPaging)for(var Qe=Ce[0],at=Ce[Ce.length-1],lt=Qe;lt<at+1;lt++){this.pdf.setPage(lt),this.fillStyle=ne,this.strokeStyle=te,this.lineCap=xe,this.lineWidth=he,this.lineJoin=Pe;var Jt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],bt=lt===1?this.posY+this.margin[0]:this.margin[0],Kt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],yt=lt===1?0:Kt+(lt-2)*jt;if(this.ctx.clip_path.length!==0){var Xt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(V,this.posX+this.margin[3],-yt+bt+this.ctx.prevPageLastElemOffset),R.call(this,P,!0),this.path=Xt}if(z=JSON.parse(JSON.stringify(G)),this.path=b(z,this.posX+this.margin[3],-yt+bt+this.ctx.prevPageLastElemOffset),U===!1||lt===0){var _t=(lt>Qe||lt<at)&&m.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Jt,jt,null).clip().discardPath()),R.call(this,P,U),_t&&this.pdf.restoreGraphicsState()}this.lineWidth=oe}else this.lineWidth=he,R.call(this,P,U),this.lineWidth=oe;this.path=G},R=function(P,U){if((P!=="stroke"||U||!g.call(this))&&(P==="stroke"||U||!h.call(this))){for(var V,z,ne=[],te=this.path,xe=0;xe<te.length;xe++){var oe=te[xe];switch(oe.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:oe,deltas:[],abs:[]});break;case"lt":var he=ne.length;if(te[xe-1]&&!isNaN(te[xe-1].x)&&(V=[oe.x-te[xe-1].x,oe.y-te[xe-1].y],he>0)){for(;he>=0;he--)if(ne[he-1].close!==!0&&ne[he-1].begin!==!0){ne[he-1].deltas.push(V),ne[he-1].abs.push(oe);break}}break;case"bct":V=[oe.x1-te[xe-1].x,oe.y1-te[xe-1].y,oe.x2-te[xe-1].x,oe.y2-te[xe-1].y,oe.x-te[xe-1].x,oe.y-te[xe-1].y],ne[ne.length-1].deltas.push(V);break;case"qct":var Pe=te[xe-1].x+2/3*(oe.x1-te[xe-1].x),G=te[xe-1].y+2/3*(oe.y1-te[xe-1].y),ze=oe.x+2/3*(oe.x1-oe.x),Ce=oe.y+2/3*(oe.y1-oe.y),de=oe.x,it=oe.y;V=[Pe-te[xe-1].x,G-te[xe-1].y,ze-te[xe-1].x,Ce-te[xe-1].y,de-te[xe-1].x,it-te[xe-1].y],ne[ne.length-1].deltas.push(V);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(oe)}}z=U?null:P==="stroke"?"stroke":"fill";for(var Ve=!1,ct=0;ct<ne.length;ct++)if(ne[ct].arc)for(var Qe=ne[ct].abs,at=0;at<Qe.length;at++){var lt=Qe[at];lt.type==="arc"?S.call(this,lt.x,lt.y,lt.radius,lt.startAngle,lt.endAngle,lt.counterclockwise,void 0,U,!Ve):D.call(this,lt.x,lt.y),Ve=!0}else if(ne[ct].close===!0)this.pdf.internal.out("h"),Ve=!1;else if(ne[ct].begin!==!0){var Jt=ne[ct].start.x,bt=ne[ct].start.y;q.call(this,ne[ct].deltas,Jt,bt),Ve=!0}z&&T.call(this,z),U&&j.call(this)}},O=function(P){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-V;case"top":return P+U-V;case"hanging":return P+U-2*V;case"middle":return P+U/2-V;default:return P}},k=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(U,V){this.colorStops.push([U,V])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(P,U,V,z,ne,te,xe,oe,he){for(var Pe=le.call(this,V,z,ne,te),G=0;G<Pe.length;G++){var ze=Pe[G];G===0&&(he?E.call(this,ze.x1+P,ze.y1+U):D.call(this,ze.x1+P,ze.y1+U)),ee.call(this,P,U,ze.x2,ze.y2,ze.x3,ze.y3,ze.x4,ze.y4)}oe?j.call(this):T.call(this,xe)},T=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},j=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(P,U){this.pdf.internal.out(r(P)+" "+n(U)+" m")},C=function(P){var U;switch(P.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var V=this.pdf.getTextDimensions(P.text),z=O.call(this,P.y),ne=k.call(this,z)-V.h,te=this.ctx.transform.applyToPoint(new s(P.x,z)),xe=this.ctx.transform.decompose(),oe=new l;oe=(oe=(oe=oe.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var he,Pe,G,ze=this.ctx.transform.applyToRectangle(new o(P.x,z,V.w,V.h)),Ce=oe.applyToRectangle(new o(P.x,ne,V.w,V.h)),de=v.call(this,Ce),it=[],Ve=0;Ve<de.length;Ve+=1)it.indexOf(de[Ve])===-1&&it.push(de[Ve]);if(_(it),this.autoPaging)for(var ct=it[0],Qe=it[it.length-1],at=ct;at<Qe+1;at++){this.pdf.setPage(at);var lt=at===1?this.posY+this.margin[0]:this.margin[0],Jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],bt=this.pdf.internal.pageSize.height-this.margin[2],Kt=bt-this.margin[0],jt=this.pdf.internal.pageSize.width-this.margin[1],yt=jt-this.margin[3],Xt=at===1?0:Jt+(at-2)*Kt;if(this.ctx.clip_path.length!==0){var _t=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(he,this.posX+this.margin[3],-1*Xt+lt),R.call(this,"fill",!0),this.path=_t}var xt=b([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-Xt+lt+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*P.scale),G=this.lineWidth,this.lineWidth=G*P.scale);var st=this.autoPaging!=="text";if(st||xt.y+xt.h<=bt){if(st||xt.y>=lt&&xt.x<=jt){var dt=st?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||jt-xt.x)[0],er=b([JSON.parse(JSON.stringify(ze))],this.posX+this.margin[3],-Xt+lt+this.ctx.prevPageLastElemOffset)[0],Ft=st&&(at>ct||at<Qe)&&m.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Kt,null).clip().discardPath()),this.pdf.text(dt,er.x,er.y,{angle:P.angle,align:U,renderingMode:P.renderingMode}),Ft&&this.pdf.restoreGraphicsState()}}else xt.y<bt&&(this.ctx.prevPageLastElemOffset+=bt-xt.y);P.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=G)}else P.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*P.scale),G=this.lineWidth,this.lineWidth=G*P.scale),this.pdf.text(P.text,te.x+this.posX,te.y+this.posY,{angle:P.angle,align:U,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=G)},D=function(P,U,V,z){V=V||0,z=z||0,this.pdf.internal.out(r(P+V)+" "+n(U+z)+" l")},q=function(P,U,V){return this.pdf.lines(P,U,V,null,null)},ee=function(P,U,V,z,ne,te,xe,oe){this.pdf.internal.out([t(i(V+P)),t(a(z+U)),t(i(ne+P)),t(a(te+U)),t(i(xe+P)),t(a(oe+U)),"c"].join(" "))},le=function(P,U,V,z){for(var ne=2*Math.PI,te=Math.PI/2;U>V;)U-=ne;var xe=Math.abs(V-U);xe<ne&&z&&(xe=ne-xe);for(var oe=[],he=z?-1:1,Pe=U;xe>1e-5;){var G=Pe+he*Math.min(xe,te);oe.push(se.call(this,P,Pe,G)),xe-=Math.abs(G-Pe),Pe=G}return oe},se=function(P,U,V){var z=(V-U)/2,ne=P*Math.cos(z),te=P*Math.sin(z),xe=ne,oe=-te,he=xe*xe+oe*oe,Pe=he+xe*ne+oe*te,G=4/3*(Math.sqrt(2*he*Pe)-Pe)/(xe*te-oe*ne),ze=xe-G*oe,Ce=oe+G*xe,de=ze,it=-Ce,Ve=z+U,ct=Math.cos(Ve),Qe=Math.sin(Ve);return{x1:P*Math.cos(U),y1:P*Math.sin(U),x2:ze*ct-Ce*Qe,y2:ze*Qe+Ce*ct,x3:de*ct-it*Qe,y3:de*Qe+it*ct,x4:P*Math.cos(V),y4:P*Math.sin(V)}},K=function(P){return 180*P/Math.PI},X=function(P,U,V,z,ne,te){var xe=P+.5*(V-P),oe=U+.5*(z-U),he=ne+.5*(V-ne),Pe=te+.5*(z-te),G=Math.min(P,ne,xe,he),ze=Math.max(P,ne,xe,he),Ce=Math.min(U,te,oe,Pe),de=Math.max(U,te,oe,Pe);return new o(G,Ce,ze-G,de-Ce)},_e=function(P,U,V,z,ne,te,xe,oe){var he,Pe,G,ze,Ce,de,it,Ve,ct,Qe,at,lt,Jt,bt,Kt=V-P,jt=z-U,yt=ne-V,Xt=te-z,_t=xe-ne,xt=oe-te;for(Pe=0;Pe<41;Pe++)ct=(it=(G=P+(he=Pe/40)*Kt)+he*((Ce=V+he*yt)-G))+he*(Ce+he*(ne+he*_t-Ce)-it),Qe=(Ve=(ze=U+he*jt)+he*((de=z+he*Xt)-ze))+he*(de+he*(te+he*xt-de)-Ve),Pe==0?(at=ct,lt=Qe,Jt=ct,bt=Qe):(at=Math.min(at,ct),lt=Math.min(lt,Qe),Jt=Math.max(Jt,ct),bt=Math.max(bt,Qe));return new o(Math.round(at),Math.round(lt),Math.round(Jt-at),Math.round(bt-lt))},Se=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,U,V=(P=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:U}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Ut.API),function(e){var t=function(s){var o,l,c,u,f,d,h,g,m,v;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(f=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(d=(f=((f=((f=((f=(f-(v=f%85))/85)-(m=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)%85,l.push(d+33,h+33,g+33,m+33,v+33)):l.push(122);return function(y,b){for(var _=b;_>0;_--)y.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,f,d=String,h="length",g=255,m="charCodeAt",v="slice",y="replace";for(s[v](-2),s=s[v](0,-2)[y](/\s/g,"")[y]("z","!!!!!"),c=[],u=0,f=(s+=o="uuuuu"[v](s[h]%5||5))[h];f>u;u+=5)l=52200625*(s[m](u)-33)+614125*(s[m](u+1)-33)+7225*(s[m](u+2)-33)+85*(s[m](u+3)-33)+(s[m](u+4)-33),c.push(g&l>>24,g&l>>16,g&l>>8,g&l);return function(b,_){for(var N=_;N>0;N--)b.pop()}(c,o[h]),d.fromCharCode.apply(d,c)},n=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return(o=Yk(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Ut.API),function(e){e.loadFile=function(t,r,n){return function(i,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,d=0,h=function(g){var m=g.length,v=[],y=String.fromCharCode;for(d=0;d<m;d+=1)v.push(y(255&g.charCodeAt(d)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(h(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(i,a,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Ut.API),function(e){function t(){return(ur.html2canvas?Promise.resolve(ur.html2canvas):cu(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(ur.DOMPurify?Promise.resolve(ur.DOMPurify):cu(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=hn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},a=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var g=u[h],m=g.src.find(function(v){return v.format==="truetype"});m&&c.addFont(m.url,g.ref.name,g.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),l(this.prop.container,d)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||Ut.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,u),d}).then(u,f).then(function(d){return c.updateProgress(1),d})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:s.convert(Object.assign({},u),Promise.prototype),d=c.call(f,o,l);return s.convert(d,u.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ut.getPageSize=function(o,l,c){if(hn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,d=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var g,m=0,v=0;if(h.hasOwnProperty(d))m=h[d][1]/f,v=h[d][0]/f;else try{m=c[1],v=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",v>m&&(g=v,v=m,m=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>v&&(g=v,v=m,m=g)}return{width:v,height:m,unit:l,k:f,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(h4):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(Ut.API),Ut.API.addJS=function(e){return tM=e,this.internal.events.subscribe("postPutResources",function(){fw=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(fw+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),eM=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+tM+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){fw!==void 0&&eM!==void 0&&this.internal.out("/Names <</JavaScript "+fw+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),a=0;a<i.length;a++){var s=i[a],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(a=0;a<c;a++){var f=r.internal.newObject();u.push(f);var d=r.internal.getPageInfo(a+1);r.internal.write("<< /D["+d.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),a=0;a<u.length;a++)r.internal.write("(page_"+(a+1)+")"+u[a]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,a){var s={title:i,options:a,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<n.children.length;a++){var s=n.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),a>0&&this.line("/Prev "+this.makeRef(n.children[a-1])),a<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var a=0;a<i.children.length;a++)n.count++,this.count_r(n,i.children[a]);return n.count}}])}(Ut.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,i,a,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(f){for(var d,h=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=h,t.indexOf(f.charCodeAt(v+1))!==-1){d=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:d,numcomponents:f.charCodeAt(v+9)};break}h=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:i}}return u}}(Ut.API),Ut.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,a=x4e(e,{checkCrc:!0}),s=a.width,o=a.height,l=a.channels,c=a.palette,u=a.depth;i=c&&l===1?function(S){for(var T=S.width,j=S.height,E=S.data,C=S.palette,D=S.depth,q=!1,ee=[],le=[],se=void 0,K=!1,X=0,_e=0;_e<C.length;_e++){var Se=aF(C[_e],4),P=Se[0],U=Se[1],V=Se[2],z=Se[3];ee.push(P,U,V),z!=null&&(z===0?(X++,le.length<1&&le.push(_e)):z<255&&(K=!0))}if(K||X>1){q=!0,le=void 0;var ne=T*j;se=new Uint8Array(ne);for(var te=new DataView(E.buffer),xe=0;xe<ne;xe++){var oe=m4(te,xe,D),he=aF(C[oe],4)[3];se[xe]=he}}else X===0&&(le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:q?8:void 0,colorBytes:E,alphaBytes:se,needSMask:q,palette:ee,mask:le}}(a):l===2||l===4?function(S){for(var T=S.data,j=S.width,E=S.height,C=S.channels,D=S.depth,q=C===2?"DeviceGray":"DeviceRGB",ee=C-1,le=j*E,se=ee,K=le*se,X=1*le,_e=Math.ceil(K*D/8),Se=Math.ceil(X*D/8),P=new Uint8Array(_e),U=new Uint8Array(Se),V=new DataView(T.buffer),z=new DataView(P.buffer),ne=new DataView(U.buffer),te=!1,xe=0;xe<le;xe++){for(var oe=xe*C,he=0;he<se;he++)uM(z,m4(V,oe+he,D),xe*se+he,D);var Pe=m4(V,oe+se,D);Pe<(1<<D)-1&&(te=!0),uM(ne,Pe,1*xe,D)}return{colorSpace:q,colorsPerPixel:ee,sMaskBitsPerComponent:te?D:void 0,colorBytes:P,alphaBytes:U,needSMask:te}}(a):function(S){var T=S.data,j=S.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:j,colorsPerPixel:j==="DeviceGray"?1:3,colorBytes:T instanceof Uint16Array?function(E){for(var C=E.length,D=new Uint8Array(2*C),q=new DataView(D.buffer,D.byteOffset,D.byteLength),ee=0;ee<C;ee++)q.setUint16(2*ee,E[ee],!1);return D}(T):T,needSMask:!1}}(a);var f,d,h,g=i,m=g.colorSpace,v=g.colorsPerPixel,y=g.sMaskBitsPerComponent,b=g.colorBytes,_=g.alphaBytes,N=g.needSMask,R=g.palette,O=g.mask,k=null;return n!==Ut.API.image_compression.NONE&&typeof Yk=="function"?(k=function(S){var T;switch(S){case Ut.API.image_compression.FAST:T=11;break;case Ut.API.image_compression.MEDIUM:T=13;break;case Ut.API.image_compression.SLOW:T=14;break;default:T=12}return T}(n),f=this.decode.FLATE_DECODE,d="/Predictor ".concat(k," /Colors ").concat(v," /BitsPerComponent ").concat(u," /Columns ").concat(s),e=aM(b,Math.ceil(s*v*u/8),v,u,n),N&&(h=aM(_,Math.ceil(s*y/8),1,y,n))):(f=void 0,d=void 0,e=b,N&&(h=_)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:r,data:e,index:t,filter:f,decodeParameters:d,transparency:O,palette:R,sMask:h,predictor:k,width:s,height:o,bitsPerComponent:u,sMaskBitsPerComponent:y,colorSpace:m}}},function(e){e.processGIF89A=function(t,r,n,i){var a=new U4e(t),s=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new g4(100).encode(c,100);return e.processJPEG.call(this,u,r,n,i)},e.processGIF87A=e.processGIF89A}(Ut.API),lc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:n,blue:r,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},lc.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){kn.log("bit decode error:"+r)}},lc.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},lc.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++){var a=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*i*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},lc.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+4*n;if(i<this.palette.length){var s=this.palette[i];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}e!==0&&(this.pos+=4-e)}},lc.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,u=n*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},lc.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=i*this.width*4+4*a;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},lc.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=a,this.data[s+1]=i,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},lc.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=a,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=s}},lc.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,i){var a=new lc(t,!1),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new g4(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Ut.API),dM.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,i){var a=new dM(t),s=a.width,o=a.height,l={data:a.getData(),width:s,height:o},c=new g4(100).encode(l,100);return e.processJPEG.call(this,c,r,n,i)}}(Ut.API),Ut.API.processRGBA=function(e,t,r){for(var n=e.data,i=n.length,a=new Uint8Array(i/4*3),s=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=n[c],f=n[c+1],d=n[c+2],h=n[c+3];a[o++]=u,a[o++]=f,a[o++]=d,s[l++]=h}var g=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Ut.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},$p=Ut.API,dw=$p.getCharWidthsArray=function(e,t){var r,n,i=(t=t||{}).font||this.internal.getFont(),a=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,d=0,h=e.length,g=0,m=o[0]||l,v=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+s*(1e3/a)||0)/1e3):(d=f&&hn(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,v.push((o[n]||m)/l+d)),g=n;return v},rM=$p.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return $p.processArabic&&(e=$p.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,i)/r:dw.apply(this,arguments).reduce(function(a,s){return a+s},0)},nM=function(e,t,r,n){for(var i=[],a=0,s=e.length,o=0;a!==s&&o+t[a]<r;)o+=t[a],a++;i.push(e.slice(0,a));var l=a;for(o=0;a!==s;)o+t[a]>n&&(i.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&i.push(e.slice(l,a)),i},iM=function(e,t,r){r||(r={});var n,i,a,s,o,l,c,u=[],f=[u],d=r.textIndent||0,h=0,g=0,m=e.split(" "),v=dw.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),b=[];m.map(function(N){(N=N.split(/\s*\n/)).length>1?b=b.concat(N.map(function(R,O){return(O&&R.length?`
`:"")+R})):b.push(N[0])}),m=b,l=rM.apply(this,[y,r])}for(a=0,s=m.length;a<s;a++){var _=0;if(n=m[a],l&&n[0]==`
`&&(n=n.substr(1),_=1),d+h+(g=(i=dw.apply(this,[n,r])).reduce(function(N,R){return N+R},0))>t||_){if(g>t){for(o=nM.apply(this,[n,i,t-(d+h),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=i.slice(n.length-(u[0]?u[0].length:0)).reduce(function(N,R){return N+R},0)}else u=[n];f.push(u),d=g+l,h=v}else u.push(n),d+=h+g,h=v}return c=l?function(N,R){return(R?y:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(c)},$p.splitTextToSize=function(e,t,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),a=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),d="Unicode";return f.metadata[d]?{widths:f.metadata[d].widths||{0:1},kerning:f.metadata[d].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/i;a.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(iM.apply(this,[n[o],s,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},i={},a=0;a<16;a++)n[r[a]]=t[a],i[t[a]]=r[a];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=e.__fontmetrics__.compress=function(d){var h,g,m,v,y=["{"];for(var b in d){if(h=d[b],isNaN(parseInt(b,10))?g="'"+b+"'":(b=parseInt(b,10),g=(g=s(b).slice(2)).slice(0,-1)+i[g.slice(-1)]),typeof h=="number")h<0?(m=s(h).slice(3),v="-"):(m=s(h).slice(2),v=""),m=v+m.slice(0,-1)+i[m.slice(-1)];else{if(hn(h)!=="object")throw new Error("Don't know what to do with value type "+hn(h)+".");m=o(h)}y.push(g+m)}return y.push("}"),y.join("")},l=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,g,m,v,y={},b=1,_=y,N=[],R="",O="",k=d.length-1,S=1;S<k;S+=1)(v=d[S])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(N.push([_,m]),_={},m=void 0):v=="}"?((g=N.pop())[0][g[1]]=_,m=void 0,_=g[0]):v=="-"?b=-1:m===void 0?n.hasOwnProperty(v)?(R+=n[v],m=parseInt(R,16)*b,b=1,R=""):R+=v:n.hasOwnProperty(v)?(O+=n[v],_[m]=parseInt(O,16)*b,b=1,m=void 0,O=""):O+=v;return y},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var h=d.font,g=f.Unicode[h.postScriptName];g&&(h.metadata.Unicode={},h.metadata.Unicode.widths=g.widths,h.metadata.Unicode.kerning=g.kerning);var m=u.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Ut.API),function(e){var t=function(r){for(var n=r.length,i=new Uint8Array(n),a=0;a<n;a++)i[a]=r.charCodeAt(a);return i};e.API.events.push(["addFont",function(r){var n=void 0,i=r.font,a=r.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(ib(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ut),Ut.API.addSvgAsImage=function(e,t,r,n,i,a,s,o){if(isNaN(t)||isNaN(r))throw kn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(i))throw kn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(ur.canvg?Promise.resolve(ur.canvg):cu(()=>import("./index.es-CQYP5CEk.js"),[])).catch(function(d){return Promise.reject(new Error("Could not load canvg: "+d))}).then(function(d){return d.default?d.default:d}).then(function(d){return d.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(d){return d.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),t,r,n,i,s,o)})},Ut.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(t,r);return this},Ut.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,i,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function d(g,m){var v,y=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(f=0;f<h;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(hn(e)==="object"){for(i in e)if(a=e[i],d(o,i)&&a!==void 0){if(r[i].type==="boolean"&&typeof a=="boolean")r[i].value=a;else if(r[i].type==="name"&&d(r[i].valueSet,a))r[i].value=a;else if(r[i].type==="integer"&&Number.isInteger(a))r[i].value=a;else if(r[i].type==="array"){for(c=0;c<a.length;c+=1)if(n=!0,a[c].length===1&&typeof a[c][0]=="number")l.push(String(a[c]-1));else if(a[c].length>1){for(u=0;u<a[c].length;u+=1)typeof a[c][u]!="number"&&(n=!1);n===!0&&l.push([a[c][0]-1,a[c][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=a.length+s.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+a+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Ut.API),function(e){var t=e.API,r=t.pdfEscape16=function(a,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,d=a.length;f<d;++f){if(o=s.metadata.characterToGlyph(a.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(a){var s,o,l,c,u,f,d;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,d=(o=Object.keys(a).sort(function(h,g){return h-g})).length;f<d;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(c=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,d=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",g=0;g<d.length;g++)h+=String.fromCharCode(d[g]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Qp(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Qp(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+Qp(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]),t.events.push(["putFont",function(a){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,d="",h=0;h<f.length;h++)d+=String.fromCharCode(f[h]);var g=c();u({data:d,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Qp(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+Qp(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(a)}]);var i=function(a){var s,o=a.text||"",l=a.x,c=a.y,u=a.options||{},f=a.mutex||{},d=f.pdfEscape,h=f.activeFontKey,g=f.fonts,m=h,v="",y=0,b="",_=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(b=o,m=h,Array.isArray(o)&&(b=o[0]),y=0;y<b.length;y+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),s||b[y].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=b[y]:v+="";var N="";return parseInt(m.slice(1))<14||_==="WinAnsiEncoding"?N=d(v,m).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(N=r(v,g[m])),f.isHex=!0,{text:N,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(a){var s=a.text||"",o=[],l={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(i(Object.assign({},l,{text:s[c]})).text);a.text=o}else a.text=i(Object.assign({},l,{text:s})).text}])}(Ut),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ut.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var i,a,s,o,l,c,u,f=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,_=0;this.__bidiEngine__={};var N=function(E){var C=E.charCodeAt(),D=C>>8,q=m[D];return q!==void 0?f[256*q+(255&C)]:D===252||D===253?"AL":y.test(D)?"L":D===8?"R":"N"},R=function(E){for(var C,D=0;D<E.length;D++){if((C=N(E.charAt(D)))==="L")return!1;if(C==="R")return!0}return!1},O=function(E,C,D,q){var ee,le,se,K,X=C[q];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"N":case"AN":break;case"EN":b&&(X="AN");break;case"AL":b=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":q<1||q+1>=C.length||(ee=D[q-1])!=="EN"&&ee!=="AN"||(le=C[q+1])!=="EN"&&le!=="AN"?X="N":b&&(le="AN"),X=le===ee?le:"N";break;case"ES":X=(ee=q>0?D[q-1]:"B")==="EN"&&q+1<C.length&&C[q+1]==="EN"?"EN":"N";break;case"ET":if(q>0&&D[q-1]==="EN"){X="EN";break}if(b){X="N";break}for(se=q+1,K=C.length;se<K&&C[se]==="ET";)se++;X=se<K&&C[se]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(K=C.length,se=q+1;se<K&&C[se]==="NSM";)se++;if(se<K){var _e=E[q],Se=_e>=1425&&_e<=2303||_e===64286;if(ee=C[se],Se&&(ee==="R"||ee==="AL")){X="R";break}}}X=q<1||(ee=C[q-1])==="B"?"N":D[q-1];break;case"B":b=!1,i=!0,X=_;break;case"S":a=!0,X="N"}return X},k=function(E,C,D){var q=E.split("");return D&&S(q,D,{hiLevel:_}),q.reverse(),C&&C.reverse(),q.join("")},S=function(E,C,D){var q,ee,le,se,K,X=-1,_e=E.length,Se=0,P=[],U=_?h:d,V=[];for(b=!1,i=!1,a=!1,ee=0;ee<_e;ee++)V[ee]=N(E[ee]);for(le=0;le<_e;le++){if(K=Se,P[le]=O(E,V,P,le),q=240&(Se=U[K][g[P[le]]]),Se&=15,C[le]=se=U[Se][5],q>0)if(q===16){for(ee=X;ee<le;ee++)C[ee]=1;X=-1}else X=-1;if(U[Se][6])X===-1&&(X=le);else if(X>-1){for(ee=X;ee<le;ee++)C[ee]=se;X=-1}V[le]==="B"&&(C[le]=0),D.hiLevel|=se}a&&function(z,ne,te){for(var xe=0;xe<te;xe++)if(z[xe]==="S"){ne[xe]=_;for(var oe=xe-1;oe>=0&&z[oe]==="WS";oe--)ne[oe]=_}}(V,C,_e)},T=function(E,C,D,q,ee){if(!(ee.hiLevel<E)){if(E===1&&_===1&&!i)return C.reverse(),void(D&&D.reverse());for(var le,se,K,X,_e=C.length,Se=0;Se<_e;){if(q[Se]>=E){for(K=Se+1;K<_e&&q[K]>=E;)K++;for(X=Se,se=K-1;X<se;X++,se--)le=C[X],C[X]=C[se],C[se]=le,D&&(le=D[X],D[X]=D[se],D[se]=le);Se=K}Se++}}},j=function(E,C,D){var q=E.split(""),ee={hiLevel:_};return D||(D=[]),S(q,D,ee),function(le,se,K){if(K.hiLevel!==0&&u)for(var X,_e=0;_e<le.length;_e++)se[_e]===1&&(X=v.indexOf(le[_e]))>=0&&(le[_e]=v[X+1])}(q,D,ee),T(2,q,C,D,ee),T(1,q,C,D,ee),q.join("")};return this.__bidiEngine__.doBidiReorder=function(E,C,D){if(function(ee,le){if(le)for(var se=0;se<ee.length;se++)le[se]=se;o===void 0&&(o=R(ee)),c===void 0&&(c=R(ee))}(E,C),s||!l||c)if(s&&l&&o^c)_=o?1:0,E=k(E,C,D);else if(!s&&l&&c)_=o?1:0,E=j(E,C,D),E=k(E,C);else if(!s||o||l||c){if(s&&!l&&o^c)E=k(E,C),o?(_=0,E=j(E,C,D)):(_=1,E=j(E,C,D),E=k(E,C));else if(s&&o&&!l&&c)_=1,E=j(E,C,D),E=k(E,C);else if(!s&&!l&&o^c){var q=u;o?(_=1,E=j(E,C,D),_=0,u=!1,E=j(E,C,D),u=q):(_=0,E=j(E,C,D),E=k(E,C),_=1,u=!1,E=j(E,C,D),u=q,E=k(E,C))}}else _=0,E=j(E,C,D);else _=o?1:0,E=j(E,C,D);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var a=n.options||{};n.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,r.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(s=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?s.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):s.push([r.doBidiReorder(i[o])]);n.text=s}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Ut),Ut.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new uh(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new tTe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new V4e(this.contents),this.head=new z4e(this),this.name=new K4e(this),this.cmap=new cX(this),this.toUnicode={},this.hhea=new W4e(this),this.maxp=new X4e(this),this.hmtx=new Y4e(this),this.post=new q4e(this),this.os2=new H4e(this),this.loca=new eTe(this),this.glyf=new J4e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var i,a,s,o;for(s=0,a=0,o=(t=""+t).length;0<=o?a<o:a>o;a=0<=o?++a:--a)i=t.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var Ic,uh=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,i;for(i=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(t.charCodeAt(r)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,i,a,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*i+16777216*a+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,i,a;for(a=[],n=0,i=t.length;n<i;n++)r=t[n],a.push(this.writeByte(r));return a},e}(),V4e=function(){var e;function t(r){var n,i,a;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,i,a,s,o,l,c,u,f,d,h,g,m;for(m in h=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),s=Math.floor(f/l),u=16*h-f,(i=new uh).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(s),i.writeShort(u),a=16*h,c=i.pos+a,o=null,g=[],r)for(d=r[m],i.writeString(m),i.writeInt(e(d)),i.writeInt(c),i.writeInt(d.length),g=g.concat(d),m==="head"&&(o=c),c+=d.length;c%4;)g.push(0),c++;return i.write(g),n=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(n),i.data},e=function(r){var n,i,a,s;for(r=uX.call(r);r.length%4;)r.push(0);for(a=new uh(r),i=0,n=0,s=r.length;n<s;n=n+=4)i+=a.readUInt32();return 4294967295&i},t}(),$4e={}.hasOwnProperty,Su=function(e,t){for(var r in t)$4e.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};Ic=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var z4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Ic),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new uh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),hM=function(){function e(t,r){var n,i,a,s,o,l,c,u,f,d,h,g,m,v,y,b,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(h=t.readUInt16(),d=h/2,t.pos+=6,a=function(){var N,R;for(R=[],l=N=0;0<=d?N<d:N>d;l=0<=d?++N:--N)R.push(t.readUInt16());return R}(),t.pos+=2,m=function(){var N,R;for(R=[],l=N=0;0<=d?N<d:N>d;l=0<=d?++N:--N)R.push(t.readUInt16());return R}(),c=function(){var N,R;for(R=[],l=N=0;0<=d?N<d:N>d;l=0<=d?++N:--N)R.push(t.readUInt16());return R}(),u=function(){var N,R;for(R=[],l=N=0;0<=d?N<d:N>d;l=0<=d?++N:--N)R.push(t.readUInt16());return R}(),i=(this.length-t.pos+this.offset)/2,o=function(){var N,R;for(R=[],l=N=0;0<=i?N<i:N>i;l=0<=i?++N:--N)R.push(t.readUInt16());return R}(),l=y=0,_=a.length;y<_;l=++y)for(v=a[l],n=b=g=m[l];g<=v?b<=v:b>=v;n=g<=v?++b:--b)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(d-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,i,a,s,o,l,c,u,f,d,h,g,m,v,y,b,_,N,R,O,k,S,T,j,E,C,D,q,ee,le,se,K,X,_e,Se,P,U,V,z,ne,te,xe,oe,he,Pe,G;switch(q=new uh,s=Object.keys(t).sort(function(ze,Ce){return ze-Ce}),r){case"macroman":for(m=0,v=function(){var ze=[];for(g=0;g<256;++g)ze.push(0);return ze}(),b={0:0},a={},ee=0,X=s.length;ee<X;ee++)b[oe=t[i=s[ee]]]==null&&(b[oe]=++m),a[i]={old:t[i],new:b[t[i]]},v[i]=b[t[i]];return q.writeUInt16(1),q.writeUInt16(0),q.writeUInt32(12),q.writeUInt16(0),q.writeUInt16(262),q.writeUInt16(0),q.write(v),{charMap:a,subtable:q.data,maxGlyphID:m+1};case"unicode":for(C=[],f=[],_=0,b={},n={},y=c=null,le=0,_e=s.length;le<_e;le++)b[R=t[i=s[le]]]==null&&(b[R]=++_),n[i]={old:R,new:b[R]},o=b[R]-i,y!=null&&o===c||(y&&f.push(y),C.push(i),c=o),y=i;for(y&&f.push(y),f.push(65535),C.push(65535),j=2*(T=C.length),S=2*Math.pow(Math.log(T)/Math.LN2,2),d=Math.log(S/2)/Math.LN2,k=2*T-S,l=[],O=[],h=[],g=se=0,Se=C.length;se<Se;g=++se){if(E=C[g],u=f[g],E===65535){l.push(0),O.push(0);break}if(E-(D=n[E].new)>=32768)for(l.push(0),O.push(2*(h.length+T-g)),i=K=E;E<=u?K<=u:K>=u;i=E<=u?++K:--K)h.push(n[i].new);else l.push(D-E),O.push(0)}for(q.writeUInt16(3),q.writeUInt16(1),q.writeUInt32(12),q.writeUInt16(4),q.writeUInt16(16+8*T+2*h.length),q.writeUInt16(0),q.writeUInt16(j),q.writeUInt16(S),q.writeUInt16(d),q.writeUInt16(k),te=0,P=f.length;te<P;te++)i=f[te],q.writeUInt16(i);for(q.writeUInt16(0),xe=0,U=C.length;xe<U;xe++)i=C[xe],q.writeUInt16(i);for(he=0,V=l.length;he<V;he++)o=l[he],q.writeUInt16(o);for(Pe=0,z=O.length;Pe<z;Pe++)N=O[Pe],q.writeUInt16(N);for(G=0,ne=h.length;G<ne;G++)m=h[G],q.writeUInt16(m);return{charMap:n,subtable:q.data,maxGlyphID:_+1}}},e}(),cX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Ic),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=i?n<i:n>i;n=0<=i?++n:--n)r=new hM(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,i;return r==null&&(r="macroman"),n=hM.encode(t,r),(i=new uh).writeUInt16(0),i.writeUInt16(1),n.table=i.data.concat(n.subtable),n},e}(),W4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Ic),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),H4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Ic),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),q4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Ic),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(n=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)r=t.readByte(),i.push(this.names.push(t.readString(r)));return i;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var s,o,l;for(l=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)l.push(t.readUInt32());return l}).call(this)}},e}(),G4e=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},K4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Ic),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,i,a,s,o,l,c,u,f,d;for(t.pos=this.offset,t.readShort(),r=t.readShort(),o=t.readShort(),n=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},a=u=0,f=n.length;u<f;a=++u)i=n[a],t.pos=i.offset,c=t.readString(i.length),s=new G4e(c,i),l[d=i.nameID]==null&&(l[d]=[]),l[i.nameID].push(s);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),X4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Ic),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),Y4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Ic),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,i,a,s,o,l;for(t.pos=this.offset,this.metrics=[],r=0,o=this.file.hhea.numberOfMetrics;0<=o?r<o:r>o;r=0<=o?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=i?c<i:c>i;r=0<=i?++c:--c)u.push(t.readInt16());return u}(),this.widths=(function(){var c,u,f,d;for(d=[],c=0,u=(f=this.metrics).length;c<u;c++)a=f[c],d.push(a.advance);return d}).call(this),n=this.widths[this.widths.length-1],l=[],r=s=0;0<=i?s<i:s>i;r=0<=i?++s:--s)l.push(this.widths.push(n));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),uX=[].slice,J4e=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Ic),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,i,a,s,o,l,c,u,f;return t in this.cache?this.cache[t]:(a=this.file.loca,r=this.file.contents,n=a.indexOf(t),(i=a.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,s=(o=new uh(r.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[t]=s===-1?new Z4e(o,c,f,l,u):new Q4e(o,s,c,f,l,u),this.cache[t]))},e.prototype.encode=function(t,r,n){var i,a,s,o,l;for(s=[],a=[],o=0,l=r.length;o<l;o++)i=t[r[o]],a.push(s.length),i&&(s=s.concat(i.encode(n)));return a.push(s.length),{table:s,offsets:a}},e}(),Q4e=function(){function e(t,r,n,i,a,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=a,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Z4e=function(){function e(t,r,n,i,a){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new uh(uX.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),eTe=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Su(e,Ic),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var i,a;for(a=[],n=0,i=this.length;n<i;n+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),i=0,a=0,s=0;s<n.length;++s)if(n[s]=i,a<r.length&&r[a]==s){++a,n[s]=i;var o=this.offsets[s],l=this.offsets[s+1]-o;l>0&&(i+=l)}for(var c=new Array(4*n.length),u=0;u<n.length;++u)c[4*u+3]=255&n[u],c[4*u+2]=(65280&n[u])>>8,c[4*u+1]=(16711680&n[u])>>16,c[4*u]=(4278190080&n[u])>>24;return c},e}(),tTe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,i,a;for(r in i=this.font.cmap.tables[0].codeMap,t={},a=this.subset)n=a[r],t[r]=i[n];return t},e.prototype.glyphsFor=function(t){var r,n,i,a,s,o,l;for(i={},s=0,o=t.length;s<o;s++)i[a=t[s]]=this.font.glyf.glyphFor(a);for(a in r=[],i)(n=i[a])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(a in l=this.glyphsFor(r))n=l[a],i[a]=n;return i},e.prototype.encode=function(t,r){var n,i,a,s,o,l,c,u,f,d,h,g,m,v,y;for(i in n=cX.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),h={0:0},y=n.charMap)h[(l=y[i]).old]=l.new;for(g in d=n.maxGlyphID,s)g in h||(h[g]=d++);return u=function(b){var _,N;for(_ in N={},b)N[b[_]]=_;return N}(h),f=Object.keys(u).sort(function(b,_){return b-_}),m=function(){var b,_,N;for(N=[],b=0,_=f.length;b<_;b++)o=f[b],N.push(u[o]);return N}(),a=this.font.glyf.encode(s,m,h),c=this.font.loca.encode(a.offsets,m),v={cmap:this.font.cmap.raw(),glyf:a.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Ut.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,i,a,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in a=["<<"],r)s=r[i],a.push("/"+i+" "+t.convert(s));return a.push(">>"),a.join(`
`)}return""+r},t}();function fX(e,t,r,n,i){n=n||{};var a=1.15,s=i.internal.scaleFactor,o=i.internal.getFontSize()/s,l=i.getLineHeightFactor?i.getLineHeightFactor():a,c=o*l,u=/\r\n|\r|\n/g,f="",d=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,d=f.length||1),r+=o*(2-a),n.valign==="middle"?r-=d/2*c:n.valign==="bottom"&&(r-=d*c),n.halign==="center"||n.halign==="right"){var h=o;if(n.halign==="center"&&(h*=.5),f&&d>=1){for(var g=0;g<f.length;g++)i.text(f[g],t-i.getStringUnitWidth(f[g])*h,r),r+=c;return i}t-=i.getStringUnitWidth(e)*h}return n.halign==="justify"?i.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):i.text(e,t,r),i}var pM={},Vm=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:pM=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,i,a;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(i=this.jsPDFDocument).setTextColor.apply(i,u),u=e.unifyColor(t.lineColor),u&&(a=this.jsPDFDocument).setDrawColor.apply(a,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,i,a){return this.jsPDFDocument.rect(t,r,n,i,a)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return pM||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),iN=function(e,t){return iN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},iN(e,t)};function dX(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");iN(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var hX=function(e){dX(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function rTe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function nTe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function N_(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],i=n.map(function(a){return r.getTextWidth(a)}).reduce(function(a,s){return Math.max(a,s)},0);return i}function pX(e,t,r,n){var i=t.settings.tableLineWidth,a=t.settings.tableLineColor;e.applyStyles({lineWidth:i,lineColor:a});var s=mX(i,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function mX(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function TS(e,t){var r,n,i,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(i=e.right)!==null&&i!==void 0?i:t,bottom:(a=e.bottom)!==null&&a!==void 0?a:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function gX(e,t){var r=TS(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function iTe(e,t,r,n,i){var a={},s=1.3333333333333333,o=v4(t,function(_){return i.getComputedStyle(_).backgroundColor});o!=null&&(a.fillColor=o);var l=v4(t,function(_){return i.getComputedStyle(_).color});l!=null&&(a.textColor=l);var c=sTe(n,r);c&&(a.cellPadding=c);var u="borderTopColor",f=s*r,d=n.borderTopWidth;if(n.borderBottomWidth===d&&n.borderRightWidth===d&&n.borderLeftWidth===d){var h=(parseFloat(d)||0)/f;h&&(a.lineWidth=h)}else a.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},a.lineWidth.top||(a.lineWidth.right?u="borderRightColor":a.lineWidth.bottom?u="borderBottomColor":a.lineWidth.left&&(u="borderLeftColor"));var g=v4(t,function(_){return i.getComputedStyle(_)[u]});g!=null&&(a.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(a.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(a.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(a.fontSize=v/s);var y=aTe(n);y&&(a.fontStyle=y);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(a.font=b),a}function aTe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function v4(e,t){var r=vX(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var i=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],a=parseInt(n[4]);return a===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function vX(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:vX(e.parentElement,t):r}function sTe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),i=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,a=r.map(function(o){return parseInt(o||"0")/n}),s=TS(a,0);return i>s.top&&(s.top=i),i>s.bottom&&(s.bottom=i),s}function yX(e,t,r,n,i){var a,s;n===void 0&&(n=!1),i===void 0&&(i=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],d=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:d};for(var h=0;h<o.rows.length;h++){var g=o.rows[h],m=(s=(a=g==null?void 0:g.parentElement)===null||a===void 0?void 0:a.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=oTe(l,c,r,g,n,i);v&&(m==="thead"?u.push(v):m==="tfoot"?d.push(v):f.push(v))}return{head:u,body:f,foot:d}}function oTe(e,t,r,n,i,a){for(var s=new hX(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(i||c.display!=="none"){var u=void 0;a&&(u=iTe(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:lTe(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(i||f.display!=="none"))return s}function lTe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function cTe(e,t,r){for(var n=0,i=[e,t,r];n<i.length;n++){var a=i[n];a&&typeof a!="object"&&console.error("The options parameter should be of type object, is: "+typeof a),a.startY&&typeof a.startY!="number"&&(console.error("Invalid value for startY option",a.startY),delete a.startY)}}function Yu(e,t,r,n,i){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}function uTe(e,t){var r=new Vm(e),n=r.getDocumentOptions(),i=r.getGlobalOptions();cTe(i,n,t);var a=Yu({},i,n,t),s;typeof window<"u"&&(s=window);var o=fTe(i,n,t),l=dTe(i,n,t),c=hTe(r,a),u=mTe(r,a,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function fTe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],f=r[l];n.columnStyles=Yu({},c,u,f)}else{var d=[e,t,r],h=d.map(function(g){return g[l]||{}});n[l]=Yu({},h[0],h[1],h[2])}},a=0,s=Object.keys(n);a<s.length;a++){var o=s[a];i(o)}return n}function dTe(e,t,r){for(var n=[e,t,r],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},a=0,s=n;a<s.length;a++){var o=s[a];o.didParseCell&&i.didParseCell.push(o.didParseCell),o.willDrawCell&&i.willDrawCell.push(o.willDrawCell),o.didDrawCell&&i.didDrawCell.push(o.didDrawCell),o.willDrawPage&&i.willDrawPage.push(o.willDrawPage),o.didDrawPage&&i.didDrawPage.push(o.didDrawPage)}return i}function hTe(e,t){var r,n,i,a,s,o,l,c,u,f,d,h,g=TS(t.margin,40/e.scaleFactor()),m=(r=pTe(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(i=t.showHead)!==null&&i!==void 0?i:"everyPage";var b=(a=t.useCss)!==null&&a!==void 0?a:!1,_=t.theme||(b?"plain":"striped"),N=!!t.horizontalPageBreak,R=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:b,theme:_,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(d=t.tableLineColor)!==null&&d!==void 0?d:200,horizontalPageBreak:N,horizontalPageBreakRepeat:R,horizontalPageBreakBehaviour:(h=t.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function pTe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),i=e.pageNumber(),a=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;a=s===i}return typeof t=="number"?t:(t==null||t===!1)&&a&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function mTe(e,t,r){var n=t.head||[],i=t.body||[],a=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=yX(e,t.html,r,s,t.useCss)||{};n=o.head||n,i=o.body||n,a=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||gTe(n,i,a);return{columns:l,head:n,body:i,foot:a}}function gTe(e,t,r){var n=e[0]||t[0]||r[0]||[],i=[];return Object.keys(n).filter(function(a){return a!=="_element"}).forEach(function(a){var s=1,o;Array.isArray(n)?o=n[parseInt(a)]:o=n[a],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=i.length:c=a+(l>0?"_".concat(l):"");var u={dataKey:c};i.push(u)}}),i}var aN=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),vTe=function(e){dX(t,e);function t(r,n,i,a,s,o){var l=e.call(this,r,n,o)||this;return l.cell=i,l.row=a,l.column=s,l.section=a.section,l}return t}(aN),yTe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,i,a,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new vTe(t,this,n,i,a,s),f=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,i=this.hooks.didDrawPage;n<i.length;n++){var a=i[n];a(new aN(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,i=this.hooks.willDrawPage;n<i.length;n++){var a=i[n];a(new aN(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(i,a){return i+a.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),xX=function(){function e(t,r,n,i,a){a===void 0&&(a=!1),this.height=0,this.raw=t,t instanceof hX&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=i,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,i){var a;return Math.max(n,((a=r.cells[i.index])===null||a===void 0?void 0:a.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var i=r.cells[n.index];return i?i.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(i,a){var s=n.cells[a.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>i?c:i},0)},e}(),wX=function(){function e(t,r,n){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var a=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,a=(i=t.content)!==null&&i!==void 0?i:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=a!=null?""+a:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");n=this.x+i/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/t*r,a=n*i+this.padding("vertical");return Math.max(a,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=TS(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),xTe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,i=t.allRows();n<i.length;n++){var a=i[n],s=a.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function wTe(e,t){bTe(e,t);var r=[],n=0;t.columns.forEach(function(a){var s=a.getMaxCustomCellWidth(t);s?a.width=s:(a.width=a.wrappedWidth,r.push(a)),n+=a.width});var i=t.getWidth(e.pageSize().width)-n;i&&(i=sN(r,i,function(a){return Math.max(a.minReadableWidth,a.minWidth)})),i&&(i=sN(r,i,function(a){return a.minWidth})),i=Math.abs(i),!t.settings.horizontalPageBreak&&i>.1/e.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),STe(t),ETe(t,e),_Te(t)}function bTe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,i=gX(e,t);t.allRows().forEach(function(a){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,a,l,null);var f=c.padding("horizontal");c.contentWidth=N_(c.text,c.styles,e)+f;var d=N_(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=d+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>i?(c.minWidth=i,c.wrappedWidth=i):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var h=10/r;c.minWidth=c.styles.minCellWidth||h,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(a){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function sN(e,t,r){for(var n=t,i=e.reduce(function(h,g){return h+g.wrappedWidth},0),a=0;a<e.length;a++){var s=e[a],o=s.wrappedWidth/i,l=n*o,c=s.width+l,u=r(s),f=c<u?u:c;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var d=e.filter(function(h){return t<0?h.width>r(h):!0});d.length&&(t=sN(d,t,r))}return t}function _Te(e){for(var t={},r=1,n=e.allRows(),i=0;i<n.length;i++)for(var a=n[i],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete a.cells[l.index];else if(c)c.cell.height+=a.height,r=c.cell.colSpan,delete a.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=a.cells[l.index];if(!u)continue;if(u.height=a.height,u.rowSpan>1){var f=n.length-i,d=u.rowSpan>f?f:u.rowSpan;t[l.index]={cell:u,left:d,row:a}}}}}function STe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],i=null,a=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])a+=l.width,delete n.cells[l.index];else if(i){var c=i;delete n.cells[l.index],i=null,c.width=l.width+a}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,a=0,c.colSpan>1){i=c,a+=l.width;continue}c.width=l.width+a}}}function ETe(e,t){for(var r={count:0,height:0},n=0,i=e.allRows();n<i.length;n++){for(var a=i[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=a.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=mM(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=mM(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var d=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<d*c.rowSpan?r={height:d,count:c.rowSpan}:r&&r.count>0&&r.height>d&&(d=r.height),d>a.height&&(a.height=d)}}r.count--}}function mM(e,t,r,n,i){return e.map(function(a){return ATe(a,t,r,n,i)})}function ATe(e,t,r,n,i){var a=1e4*n.scaleFactor();if(t=Math.ceil(t*a)/a,t>=N_(e,r,n))return e;for(;t<N_(e+i,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+i}function TTe(e,t){var r=new Vm(e),n=kTe(t,r.scaleFactor()),i=new yTe(t,n);return wTe(r,i),r.applyStyles(r.userStyles),i}function kTe(e,t){var r=e.content,n=CTe(r.columns);if(r.head.length===0){var i=gM(n,"head");i&&r.head.push(i)}if(r.foot.length===0){var i=gM(n,"foot");i&&r.foot.push(i)}var a=e.settings.theme,s=e.styles;return{columns:n,head:y4("head",r.head,n,s,a,t),body:y4("body",r.body,n,s,a,t),foot:y4("foot",r.foot,n,s,a,t)}}function y4(e,t,r,n,i,a){var s={},o=t.map(function(l,c){for(var u=0,f={},d=0,h=0,g=0,m=r;g<m.length;g++){var v=m[g];if(s[v.index]==null||s[v.index].left===0)if(h===0){var y=void 0;Array.isArray(l)?y=l[v.index-d-u]:y=l[v.dataKey];var b={};typeof y=="object"&&!Array.isArray(y)&&(b=(y==null?void 0:y.styles)||{});var _=PTe(e,v,c,i,n,a,b),N=new wX(y,_,e);f[v.dataKey]=N,f[v.index]=N,h=N.colSpan-1,s[v.index]={left:N.rowSpan-1,times:h}}else h--,d++;else s[v.index].left--,h=s[v.index].times,u++}return new xX(l,c,e,f)});return o}function gM(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var i=NTe(t,n.raw);i!=null&&(r[n.dataKey]=i)}}),Object.keys(r).length>0?r:null}function NTe(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function CTe(e){return e.map(function(t,r){var n,i;return typeof t=="object"?i=(n=t.dataKey)!==null&&n!==void 0?n:r:i=r,new xTe(i,t,r)})}function PTe(e,t,r,n,i,a,s){var o=nTe(n),l;e==="head"?l=i.headStyles:e==="body"?l=i.bodyStyles:e==="foot"&&(l=i.footStyles);var c=Yu({},o.table,o[e],i.styles,l),u=i.columnStyles[t.dataKey]||i.columnStyles[t.index]||{},f=e==="body"?u:{},d=e==="body"&&r%2===0?Yu({},o.alternateRow,i.alternateRowStyles):{},h=rTe(a),g=Yu({},h,c,d,f);return Yu(g,s)}function ITe(e,t,r){var n;r===void 0&&(r={});var i=gX(e,t),a=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(d){var h=t.columns.find(function(g){return g.dataKey===d||g.index===d});h&&!a.has(h.index)&&(a.set(h.index,!0),s.push(h.index),o.push(t.columns[h.index]),i-=h.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(a.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(c||i>=f)c=!1,s.push(u),o.push(t.columns[u]),i-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function OTe(e,t){for(var r=[],n=0;n<t.columns.length;n++){var i=ITe(e,t,{start:n});i.columns.length&&(r.push(i),n=i.lastIndex)}return r}function DTe(e,t){var r=t.settings,n=r.startY,i=r.margin,a={x:i.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+i.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(d,h){return d+h.height},0);o+=c}var u=new Vm(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(_X(u),a.y=i.top),t.callWillDrawPageHooks(u,a);var f=Yu({},a);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?RTe(u,t,f,a):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(d){return _f(u,t,d,a,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(d,h){var g=h===t.body.length-1;C_(u,t,d,g,f,a,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(d){return _f(u,t,d,a,t.columns)})),pX(u,t,f,a),t.callEndPageHooks(u,a),t.finalY=a.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function RTe(e,t,r,n){var i=OTe(e,t),a=t.settings;if(a.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?Fv(e,t,r,n,c.columns,!0):vM(e,t,n,c.columns),LTe(e,t,r,n,c.columns),x4(e,t,n,c.columns)});else for(var s=-1,o=i[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?Fv(e,t,r,n,u,!0):vM(e,t,n,u),c=yM(e,t,s+1,n,u),x4(e,t,n,u)}var f=c-s;i.slice(1).forEach(function(d){e.applyStyles(e.userStyles),Fv(e,t,r,n,d.columns,!0),yM(e,t,s+1,n,d.columns,f),x4(e,t,n,d.columns)}),s=c};s<t.body.length-1;)l()}function vM(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&t.head.forEach(function(a){return _f(e,t,a,r,n)})}function LTe(e,t,r,n,i){e.applyStyles(e.userStyles),t.body.forEach(function(a,s){var o=s===t.body.length-1;C_(e,t,a,o,r,n,i)})}function yM(e,t,r,n,i,a){e.applyStyles(e.userStyles),a=a??t.body.length;var s=Math.min(r+a,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,f=bX(e,t,u,n);l.canEntireRowFit(f,i)&&(_f(e,t,l,n,i),o=r+c)}),o}function x4(e,t,r,n){var i=t.settings;e.applyStyles(e.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&t.foot.forEach(function(a){return _f(e,t,a,r,n)})}function jTe(e,t,r){var n=r.getLineHeight(e.styles.fontSize),i=e.padding("vertical"),a=Math.floor((t-i)/n);return Math.max(0,a)}function FTe(e,t,r,n){var i={};e.spansMultiplePages=!0,e.height=0;for(var a=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new wX(c.raw,c.styles,c.section);u=Yu(u,c),u.text=[];var f=jTe(c,t,n);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var d=n.scaleFactor(),h=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(d,h),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(d,h),u.contentHeight>a&&(a=u.contentHeight),i[l.index]=u}}var g=new xX(e.raw,-1,e.section,i,!0);g.height=a;for(var m=0,v=r.columns;m<v.length;m++){var l=v[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function MTe(e,t,r,n){var i=e.pageSize().height,a=n.settings.margin,s=a.top+a.bottom,o=i-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function C_(e,t,r,n,i,a,s){var o=bX(e,t,n,a);if(r.canEntireRowFit(o,s))_f(e,t,r,a,s);else if(MTe(e,r,o,t)){var l=FTe(r,o,t,e);_f(e,t,r,a,s),Fv(e,t,i,a,s),C_(e,t,l,n,i,a,s)}else Fv(e,t,i,a,s),C_(e,t,r,n,i,a,s)}function _f(e,t,r,n,i){n.x=t.settings.margin.left;for(var a=0,s=i;a<s.length;a++){var o=s[a],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}BTe(e,l,n);var u=l.getTextPos();fX(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function BTe(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var i=mX(n.lineWidth,n.fillColor);i&&e.rect(t.x,r.y,t.width,t.height,i)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),UTe(e,t,r,n.lineWidth))}function UTe(e,t,r,n){var i,a,s,o;n.top&&(i=r.x,a=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),l(n.top,i,a,s,o)),n.bottom&&(i=r.x,a=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(i-=.5*n.left),l(n.bottom,i,a,s,o)),n.left&&(i=r.x,a=r.y,s=r.x,o=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,i,a,s,o)),n.right&&(i=r.x+t.width,a=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(a-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,i,a,s,o));function l(c,u,f,d,h){e.getDocument().setLineWidth(c),e.getDocument().line(u,f,d,h,"S")}}function bX(e,t,r,n){var i=t.settings.margin.bottom,a=t.settings.showFoot;return(a==="everyPage"||a==="lastPage"&&r)&&(i+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-i}function Fv(e,t,r,n,i,a){i===void 0&&(i=[]),a===void 0&&(a=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!a&&t.foot.forEach(function(o){return _f(e,t,o,n,i)}),t.callEndPageHooks(e,n);var s=t.settings.margin;pX(e,t,r,n),_X(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return _f(e,t,o,n,i)}),e.applyStyles(e.userStyles))}function _X(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function VTe(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],i=uTe(this,n),a=TTe(this,i);return DTe(this,a),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,i){fX(t,r,n,i,this)},e.API.autoTableSetDefaults=function(t){return Vm.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Vm.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Vm(this),a=yX(i,t,window,r,!1),s=a.head,o=a.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var w4;try{if(typeof window<"u"&&window){var xM=window,wM=xM.jsPDF||((w4=xM.jspdf)===null||w4===void 0?void 0:w4.jsPDF);wM&&VTe(wM)}}catch(e){console.error("Could not apply autoTable plugin",e)}function $Te(){const{callData:e,callMetrics:t,processedData:r,isLoading:n,lastUpdated:i,dataSource:a,clearData:s,hasData:o,getSuccessRate:l,getOperatorMetrics:c,getHourlyDistribution:u,getFollowUpData:f}=hg(),{operators:d,operatorAssignments:h,getAllAssignments:g}=ao(),[m,v]=L.useState(!1),y=k=>{if(!k)return"N/A";try{return new Date(k).toLocaleString()}catch{return"N/A"}},_=(()=>{console.log("🔄 [AUDIT] === USANDO DATOS REALES DE ASIGNACIONES ==="),console.log("📞 [AUDIT] Estado del CallStore:",{callData:(e==null?void 0:e.length)||0,processedData:(r==null?void 0:r.length)||0,hasData:o,dataSource:a});const k=g();console.log("📋 [AUDIT] Total asignaciones en el sistema:",k.length);const S={};k.forEach(E=>{const C=E.operatorName||E.operator;C&&(S[C]||(S[C]=[]),S[C].push(E))}),console.log("📊 [AUDIT] Asignaciones por operador:",Object.entries(S).map(([E,C])=>`${E}: ${C.length} asignaciones`).join(", "));try{console.log("📞 [AUDIT] Obteniendo métricas de llamadas con",k.length,"asignaciones...");const E=c(k);console.log("📞 [AUDIT] Métricas de llamadas obtenidas:",E);const C=[];return Object.entries(S).forEach(([D,q])=>{const ee=d==null?void 0:d.find(te=>te.name===D),le=(E==null?void 0:E.find(te=>te.operatorName===D))||{},se=q.length,K=le.totalCalls||0,X=le.successfulCalls||0,_e=le.failedCalls||K-X,Se=K>0?Math.round(X/K*100):0,P=le.totalEffectiveMinutes||0,U=X>0?Math.round(P/X*10)/10:0,V=le.contactedBeneficiaries||0,z=Math.max(0,se-V),ne=se>0?Math.round(K/se*10)/10:0;C.push({operatorName:D,operatorInfo:ee||{id:D.toLowerCase().replace(/\s+/g,""),name:D,email:`${D.toLowerCase().replace(/\s+/g,".")}@empresa.com`,turno:"Día"},assignedBeneficiaries:se,totalCalls:K,successfulCalls:X,failedCalls:_e,successRate:Se,totalEffectiveMinutes:P,averageMinutesPerCall:U,contactedBeneficiaries:V,uncontactedBeneficiaries:z,averageCallsPerBeneficiary:ne,beneficiariesWithCalls:V,allCallsData:le.allCallsData||[]}),console.log(`✅ [AUDIT] Procesado ${D}: ${se} asignaciones reales, ${K} llamadas`)}),d==null||d.forEach(D=>{if(!S[D.name]){const q=(E==null?void 0:E.find(ee=>ee.operatorName===D.name))||{};C.push({operatorName:D.name,operatorInfo:D,assignedBeneficiaries:0,totalCalls:q.totalCalls||0,successfulCalls:q.successfulCalls||0,failedCalls:q.failedCalls||0,successRate:q.successRate||0,totalEffectiveMinutes:q.totalEffectiveMinutes||0,averageMinutesPerCall:q.averageMinutesPerCall||0,contactedBeneficiaries:0,uncontactedBeneficiaries:0,averageCallsPerBeneficiary:0,beneficiariesWithCalls:0,allCallsData:[]}),console.log(`ℹ️ [AUDIT] Agregado ${D.name}: sin asignaciones`)}}),console.log("✅ [AUDIT] Datos finales procesados:",C.length,"operadores con datos reales"),C.sort((D,q)=>q.assignedBeneficiaries-D.assignedBeneficiaries)}catch(E){console.error("❌ [AUDIT] Error procesando datos reales:",E)}console.log("🔄 [AUDIT] Usando datos híbridos: asignaciones reales + métricas conocidas");const T={"Javiera Reyes Alvarado":{totalCalls:361,successfulCalls:235,failedCalls:126,successRate:65,totalEffectiveMinutes:705,averageMinutesPerCall:3,contactedBeneficiaries:286},"Daniela Carmona":{totalCalls:274,successfulCalls:175,failedCalls:99,successRate:64,totalEffectiveMinutes:481.3,averageMinutesPerCall:2.8,contactedBeneficiaries:200},"Karol Aguayo":{totalCalls:274,successfulCalls:163,failedCalls:111,successRate:59,totalEffectiveMinutes:475.4,averageMinutesPerCall:2.9,contactedBeneficiaries:190},"Antonella Valdebenito":{totalCalls:38,successfulCalls:30,failedCalls:8,successRate:79,totalEffectiveMinutes:97.5,averageMinutesPerCall:3.3,contactedBeneficiaries:25}},j=Object.entries(S).map(([E,C])=>{const D=d==null?void 0:d.find(z=>z.name===E),q=T[E]||{},ee=C.length,le=q.totalCalls||0,se=q.successfulCalls||0,K=q.failedCalls||0,X=q.successRate||0,_e=q.totalEffectiveMinutes||0,Se=q.averageMinutesPerCall||0,P=q.contactedBeneficiaries||0,U=Math.max(0,ee-P),V=ee>0?Math.round(le/ee*10)/10:0;return{operatorName:E,operatorInfo:D||{id:E.toLowerCase().replace(/\s+/g,""),name:E,email:`${E.toLowerCase().replace(/\s+/g,".")}@empresa.com`,turno:"Día"},assignedBeneficiaries:ee,totalCalls:le,successfulCalls:se,failedCalls:K,successRate:X,totalEffectiveMinutes:_e,averageMinutesPerCall:Se,contactedBeneficiaries:P,uncontactedBeneficiaries:U,averageCallsPerBeneficiary:V,beneficiariesWithCalls:P,allCallsData:[]}});return d==null||d.forEach(E=>{if(!S[E.name]){const C=T[E.name]||{};j.push({operatorName:E.name,operatorInfo:E,assignedBeneficiaries:0,totalCalls:C.totalCalls||0,successfulCalls:C.successfulCalls||0,failedCalls:C.failedCalls||0,successRate:C.successRate||0,totalEffectiveMinutes:C.totalEffectiveMinutes||0,averageMinutesPerCall:C.averageMinutesPerCall||0,contactedBeneficiaries:C.contactedBeneficiaries||0,uncontactedBeneficiaries:0,averageCallsPerBeneficiary:0,beneficiariesWithCalls:C.contactedBeneficiaries||0,allCallsData:[]})}}),console.log("✅ [AUDIT] Datos híbridos procesados:",j.length,"operadores"),j.forEach(E=>{console.log(`  ${E.operatorName}: ${E.assignedBeneficiaries} asignaciones reales, ${E.totalCalls} llamadas`)}),j.sort((E,C)=>C.assignedBeneficiaries-E.assignedBeneficiaries)})();console.log("📋 [AUDIT] Datos finales:",{operatorCallMetrics:_}),console.log("🔍 [DEBUG] Verificación de asignaciones por operador:"),_.forEach(k=>{console.log(`  ${k.operatorName}: ${k.assignedBeneficiaries} asignaciones reales`)});const N=_.reduce((k,S)=>({totalCalls:k.totalCalls+S.totalCalls,totalSuccessfulCalls:k.totalSuccessfulCalls+S.successfulCalls,totalFailedCalls:k.totalFailedCalls+S.failedCalls,totalAssignedBeneficiaries:k.totalAssignedBeneficiaries+S.assignedBeneficiaries,totalContactedBeneficiaries:k.totalContactedBeneficiaries+S.contactedBeneficiaries,totalEffectiveMinutes:k.totalEffectiveMinutes+S.totalEffectiveMinutes}),{totalCalls:0,totalSuccessfulCalls:0,totalFailedCalls:0,totalAssignedBeneficiaries:0,totalContactedBeneficiaries:0,totalEffectiveMinutes:0}),R=()=>{v(!0);try{const k=new Ut;k.setFontSize(18),k.setFont("helvetica","bold"),k.text("CENTRO DE TELEASISTENCIA",20,12),k.setFontSize(14),k.setFont("helvetica","normal"),k.text("REPORTE DE AUDITORÍA AVANZADA",20,22);const S=new Date,T=S.toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),j=S.toLocaleTimeString("es-CL");k.setFontSize(10),k.text(`Generado el ${T} a las ${j}`,20,32),k.text("Datos sincronizados con Dashboard Principal",20,38);let E=50;k.setFontSize(12),k.setFont("helvetica","bold"),k.text("RESUMEN EJECUTIVO",20,E),E+=10,k.setFont("helvetica","normal"),k.setFontSize(9),k.text(`• Total de Llamadas Realizadas: ${N.totalCalls.toLocaleString()}`,25,E),E+=5,k.text(`• Llamadas Exitosas: ${N.totalSuccessfulCalls.toLocaleString()} (${Math.round(N.totalSuccessfulCalls/N.totalCalls*100)}%)`,25,E),E+=5,k.text(`• Llamadas Fallidas: ${N.totalFailedCalls.toLocaleString()} (${Math.round(N.totalFailedCalls/N.totalCalls*100)}%)`,25,E),E+=5,k.text(`• Beneficiarios Asignados: ${N.totalAssignedBeneficiaries.toLocaleString()}`,25,E),E+=5,k.text(`• Beneficiarios Contactados: ${N.totalContactedBeneficiaries.toLocaleString()}`,25,E),E+=5,k.text(`• Tiempo Total Efectivo: ${N.totalEffectiveMinutes.toLocaleString()} minutos`,25,E),E+=15,k.setFontSize(12),k.setFont("helvetica","bold"),k.text("MÉTRICAS DETALLADAS POR TELEOPERADORA",20,E),E+=10;const C=_.map((ee,le)=>[ee.operatorName,ee.totalCalls.toString(),ee.assignedBeneficiaries.toString(),ee.contactedBeneficiaries.toString(),ee.uncontactedBeneficiaries.toString(),ee.successfulCalls.toString(),ee.failedCalls.toString(),`${ee.successRate}%`,`${ee.totalEffectiveMinutes} min`,`${ee.averageMinutesPerCall} min`,ee.averageCallsPerBeneficiary.toString()]);k.autoTable({startY:E,head:[["Teleoperadora","Total Llamadas","Asignados","Contactados","Sin Contactar","Exitosas","Fallidas","Tasa Éxito","Min. Efectivos","Min/Llamada","Llamadas/Benef."]],body:C,theme:"striped",headStyles:{fillColor:[41,128,185],textColor:255,fontSize:8,halign:"center"},bodyStyles:{fontSize:7,halign:"center"},alternateRowStyles:{fillColor:[245,245,245]},columnStyles:{0:{halign:"left",cellWidth:35},1:{cellWidth:15},2:{cellWidth:15},3:{cellWidth:15},4:{cellWidth:15},5:{cellWidth:15},6:{cellWidth:15},7:{cellWidth:15},8:{cellWidth:20},9:{cellWidth:15},10:{cellWidth:15}}});const D=k.internal.getNumberOfPages();for(let ee=1;ee<=D;ee++)k.setPage(ee),k.setFontSize(8),k.setFont("helvetica","italic"),k.text(`Página ${ee} de ${D} - Reporte generado automáticamente`,k.internal.pageSize.width/2,k.internal.pageSize.height-10,{align:"center"});const q=`auditoria_avanzada_${S.toISOString().split("T")[0]}.pdf`;k.save(q),console.log("✅ [AUDIT] PDF generado exitosamente:",q)}catch(k){console.error("❌ [AUDIT] Error generando PDF:",k),alert("Error generando el reporte PDF. Revise la consola para más detalles.")}finally{v(!1)}},O=()=>{const k=[["Teleoperadora","Total Llamadas","Asignados","Contactados","Sin Contactar","Exitosas","Fallidas","Tasa Éxito","Min. Efectivos","Min/Llamada","Llamadas/Benef."],..._.map(E=>[E.operatorName,E.totalCalls,E.assignedBeneficiaries,E.contactedBeneficiaries,E.uncontactedBeneficiaries,E.successfulCalls,E.failedCalls,`${E.successRate}%`,E.totalEffectiveMinutes,E.averageMinutesPerCall,E.averageCallsPerBeneficiary])].map(E=>E.join(",")).join(`
`),S=new Blob([k],{type:"text/csv;charset=utf-8;"}),T=document.createElement("a"),j=URL.createObjectURL(S);T.setAttribute("href",j),T.setAttribute("download",`auditoria_avanzada_${new Date().toISOString().split("T")[0]}.csv`),T.style.visibility="hidden",document.body.appendChild(T),T.click(),document.body.removeChild(T)};return p.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[p.jsx("div",{className:"mb-8",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"📊 Auditoría Avanzada"}),p.jsx("p",{className:"text-gray-600",children:"Análisis completo de métricas por teleoperadora - Asignaciones reales + Métricas verificadas"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{onClick:O,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[p.jsx(vv,{size:20}),"Exportar Excel"]}),p.jsxs("button",{onClick:R,disabled:m,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[m?p.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):p.jsx(use,{size:20}),m?"Generando...":"Generar PDF"]})]})]})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[p.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(ua,{className:"text-blue-600",size:24}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Total Llamadas"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.totalCalls.toLocaleString()})]})]})}),p.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(uy,{className:"text-green-600",size:24}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Exitosas"}),p.jsx("p",{className:"text-2xl font-bold text-green-600",children:N.totalSuccessfulCalls.toLocaleString()})]})]})}),p.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Qc,{className:"text-red-600",size:24}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Fallidas"}),p.jsx("p",{className:"text-2xl font-bold text-red-600",children:N.totalFailedCalls.toLocaleString()})]})]})}),p.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Ji,{className:"text-purple-600",size:24}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Asignados"}),p.jsx("p",{className:"text-2xl font-bold text-purple-600",children:N.totalAssignedBeneficiaries.toLocaleString()})]})]})}),p.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(nl,{className:"text-indigo-600",size:24}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Contactados"}),p.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:N.totalContactedBeneficiaries.toLocaleString()})]})]})}),p.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(zo,{className:"text-orange-600",size:24}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Min. Efectivos"}),p.jsx("p",{className:"text-2xl font-bold text-orange-600",children:N.totalEffectiveMinutes.toLocaleString()})]})]})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:_.map((k,S)=>{var T;return p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:p.jsx(nl,{className:"text-white",size:24})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-gray-900",children:k.operatorName}),p.jsx("p",{className:"text-sm text-gray-600",children:((T=k.operatorInfo)==null?void 0:T.turno)||"Día"})]})]}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Total Llamadas:"}),p.jsx("span",{className:"font-semibold text-gray-900",children:k.totalCalls})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Exitosas:"}),p.jsx("span",{className:"font-semibold text-green-600",children:k.successfulCalls})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Fallidas:"}),p.jsx("span",{className:"font-semibold text-red-600",children:k.failedCalls})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Tasa Éxito:"}),p.jsxs("span",{className:`font-semibold ${k.successRate>=60?"text-green-600":"text-orange-600"}`,children:[k.successRate,"%"]})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Asignados:"}),p.jsx("span",{className:"font-semibold text-purple-600",children:k.assignedBeneficiaries})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Contactados:"}),p.jsx("span",{className:"font-semibold text-indigo-600",children:k.contactedBeneficiaries})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Sin Contactar:"}),p.jsx("span",{className:"font-semibold text-orange-600",children:k.uncontactedBeneficiaries})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Min. Efectivos:"}),p.jsx("span",{className:"font-semibold text-blue-600",children:k.totalEffectiveMinutes})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600",children:"Min/Llamada:"}),p.jsx("span",{className:"font-semibold text-cyan-600",children:k.averageMinutesPerCall})]})]})]},S)})}),p.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ℹ️ Información del Sistema"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Última Actualización:"})," ",y(i)]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Estado de Datos:"})," ",p.jsx("span",{className:"text-green-600",children:"✅ Datos Reales del Sistema"})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Total Operadores:"})," ",_.length]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Total Asignaciones:"})," ",_.reduce((k,S)=>k+S.assignedBeneficiaries,0)]})]}),p.jsxs("div",{children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Fuente de Asignaciones:"})," ",p.jsx("span",{className:"text-green-600",children:"Módulo Asignaciones (Real)"})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Fuente de Llamadas:"})," ",p.jsx("span",{className:"text-blue-600",children:"Dashboard (Verificado)"})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Consistencia:"})," ",p.jsx("span",{className:"text-green-600",children:"✅ Híbrido Real"})]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Modo:"})," Auditoría con Datos Verificados"]})]})]})]})]})}class zp extends tl.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error capturado por ErrorBoundary:",t,r)}render(){return this.state.hasError?p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 m-4",children:[p.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error en la aplicación"}),p.jsx("p",{className:"text-red-600 mb-4",children:"Ha ocurrido un error inesperado. Por favor, recarga la página."}),p.jsxs("details",{className:"text-sm text-red-700",children:[p.jsx("summary",{className:"cursor-pointer",children:"Detalles técnicos"}),p.jsx("pre",{className:"mt-2 whitespace-pre-wrap",children:this.state.error&&this.state.error.toString()})]}),p.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Recargar página"})]}):this.props.children}}const lI=L.createContext({});function cI(e){const t=L.useRef(null);return t.current===null&&(t.current=e()),t.current}const uI=typeof window<"u",SX=uI?L.useLayoutEffect:L.useEffect,kS=L.createContext(null);function fI(e,t){e.indexOf(t)===-1&&e.push(t)}function dI(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Sf=(e,t,r)=>r>t?t:r<e?e:r;let hI=()=>{};const Ef={},EX=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function AX(e){return typeof e=="object"&&e!==null}const TX=e=>/^0[^.\s]+$/u.test(e);function pI(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ml=e=>e,zTe=(e,t)=>r=>t(e(r)),Rx=(...e)=>e.reduce(zTe),My=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class mI{constructor(){this.subscriptions=[]}add(t){return fI(this.subscriptions,t),()=>dI(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const uu=e=>e*1e3,fu=e=>e/1e3;function kX(e,t){return t?e*(1e3/t):0}const NX=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,WTe=1e-7,HTe=12;function qTe(e,t,r,n,i){let a,s,o=0;do s=t+(r-t)/2,a=NX(s,n,i)-e,a>0?r=s:t=s;while(Math.abs(a)>WTe&&++o<HTe);return s}function Lx(e,t,r,n){if(e===t&&r===n)return Ml;const i=a=>qTe(a,0,1,e,r);return a=>a===0||a===1?a:NX(i(a),t,n)}const CX=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,PX=e=>t=>1-e(1-t),IX=Lx(.33,1.53,.69,.99),gI=PX(IX),OX=CX(gI),DX=e=>(e*=2)<1?.5*gI(e):.5*(2-Math.pow(2,-10*(e-1))),vI=e=>1-Math.sin(Math.acos(e)),RX=PX(vI),LX=CX(vI),GTe=Lx(.42,0,1,1),KTe=Lx(0,0,.58,1),jX=Lx(.42,0,.58,1),XTe=e=>Array.isArray(e)&&typeof e[0]!="number",FX=e=>Array.isArray(e)&&typeof e[0]=="number",YTe={linear:Ml,easeIn:GTe,easeInOut:jX,easeOut:KTe,circIn:vI,circInOut:LX,circOut:RX,backIn:gI,backInOut:OX,backOut:IX,anticipate:DX},JTe=e=>typeof e=="string",bM=e=>{if(FX(e)){hI(e.length===4);const[t,r,n,i]=e;return Lx(t,r,n,i)}else if(JTe(e))return YTe[e];return e},hw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function QTe(e,t){let r=new Set,n=new Set,i=!1,a=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,f=!1,d=!1)=>{const g=d&&i?r:n;return f&&s.add(u),g.has(u)||g.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,a&&(a=!1,c.process(u))}};return c}const ZTe=40;function MX(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,s=hw.reduce((_,N)=>(_[N]=QTe(a),_),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:d,render:h,postRender:g}=s,m=()=>{const _=Ef.useManualTiming?i.timestamp:performance.now();r=!1,Ef.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(_-i.timestamp,ZTe),1)),i.timestamp=_,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),f.process(i),d.process(i),h.process(i),g.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,i.isProcessing||e(m)};return{schedule:hw.reduce((_,N)=>{const R=s[N];return _[N]=(O,k=!1,S=!1)=>(r||v(),R.schedule(O,k,S)),_},{}),cancel:_=>{for(let N=0;N<hw.length;N++)s[hw[N]].cancel(_)},state:i,steps:s}}const{schedule:Jn,cancel:fh,state:Ka,steps:b4}=MX(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ml,!0);let cb;function eke(){cb=void 0}const uo={now:()=>(cb===void 0&&uo.set(Ka.isProcessing||Ef.useManualTiming?Ka.timestamp:performance.now()),cb),set:e=>{cb=e,queueMicrotask(eke)}},BX=e=>t=>typeof t=="string"&&t.startsWith(e),yI=BX("--"),tke=BX("var(--"),xI=e=>tke(e)?rke.test(e.split("/*")[0].trim()):!1,rke=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},By={...zg,transform:e=>Sf(0,1,e)},pw={...zg,default:1},Mv=e=>Math.round(e*1e5)/1e5,wI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nke(e){return e==null}const ike=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bI=(e,t)=>r=>!!(typeof r=="string"&&ike.test(r)&&r.startsWith(e)||t&&!nke(r)&&Object.prototype.hasOwnProperty.call(r,t)),UX=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,a,s,o]=n.match(wI);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},ake=e=>Sf(0,255,e),_4={...zg,transform:e=>Math.round(ake(e))},p0={test:bI("rgb","red"),parse:UX("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+_4.transform(e)+", "+_4.transform(t)+", "+_4.transform(r)+", "+Mv(By.transform(n))+")"};function ske(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const oN={test:bI("#"),parse:ske,transform:p0.transform},jx=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),md=jx("deg"),du=jx("%"),or=jx("px"),oke=jx("vh"),lke=jx("vw"),_M={...du,parse:e=>du.parse(e)/100,transform:e=>du.transform(e*100)},gm={test:bI("hsl","hue"),parse:UX("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+du.transform(Mv(t))+", "+du.transform(Mv(r))+", "+Mv(By.transform(n))+")"},Yi={test:e=>p0.test(e)||oN.test(e)||gm.test(e),parse:e=>p0.test(e)?p0.parse(e):gm.test(e)?gm.parse(e):oN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?p0.transform(e):gm.transform(e),getAnimatableNone:e=>{const t=Yi.parse(e);return t.alpha=0,Yi.transform(t)}},cke=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uke(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(wI))==null?void 0:t.length)||0)+(((r=e.match(cke))==null?void 0:r.length)||0)>0}const VX="number",$X="color",fke="var",dke="var(",SM="${}",hke=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Uy(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const o=t.replace(hke,l=>(Yi.test(l)?(n.color.push(a),i.push($X),r.push(Yi.parse(l))):l.startsWith(dke)?(n.var.push(a),i.push(fke),r.push(l)):(n.number.push(a),i.push(VX),r.push(parseFloat(l))),++a,SM)).split(SM);return{values:r,split:o,indexes:n,types:i}}function zX(e){return Uy(e).values}function WX(e){const{split:t,types:r}=Uy(e),n=t.length;return i=>{let a="";for(let s=0;s<n;s++)if(a+=t[s],i[s]!==void 0){const o=r[s];o===VX?a+=Mv(i[s]):o===$X?a+=Yi.transform(i[s]):a+=i[s]}return a}}const pke=e=>typeof e=="number"?0:Yi.test(e)?Yi.getAnimatableNone(e):e;function mke(e){const t=zX(e);return WX(e)(t.map(pke))}const dh={test:uke,parse:zX,createTransformer:WX,getAnimatableNone:mke};function S4(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function gke({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,s=0;if(!t)i=a=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;i=S4(l,o,e+1/3),a=S4(l,o,e),s=S4(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:n}}function P_(e,t){return r=>r>0?t:e}const oi=(e,t,r)=>e+(t-e)*r,E4=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},vke=[oN,p0,gm],yke=e=>vke.find(t=>t.test(e));function EM(e){const t=yke(e);if(!t)return!1;let r=t.parse(e);return t===gm&&(r=gke(r)),r}const AM=(e,t)=>{const r=EM(e),n=EM(t);if(!r||!n)return P_(e,t);const i={...r};return a=>(i.red=E4(r.red,n.red,a),i.green=E4(r.green,n.green,a),i.blue=E4(r.blue,n.blue,a),i.alpha=oi(r.alpha,n.alpha,a),p0.transform(i))},lN=new Set(["none","hidden"]);function xke(e,t){return lN.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function wke(e,t){return r=>oi(e,t,r)}function _I(e){return typeof e=="number"?wke:typeof e=="string"?xI(e)?P_:Yi.test(e)?AM:Ske:Array.isArray(e)?HX:typeof e=="object"?Yi.test(e)?AM:bke:P_}function HX(e,t){const r=[...e],n=r.length,i=e.map((a,s)=>_I(a)(a,t[s]));return a=>{for(let s=0;s<n;s++)r[s]=i[s](a);return r}}function bke(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=_I(e[i])(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function _ke(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],s=e.indexes[a][n[a]],o=e.values[s]??0;r[i]=o,n[a]++}return r}const Ske=(e,t)=>{const r=dh.createTransformer(t),n=Uy(e),i=Uy(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?lN.has(e)&&!i.values.length||lN.has(t)&&!n.values.length?xke(e,t):Rx(HX(_ke(n,i),i.values),r):P_(e,t)};function qX(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?oi(e,t,r):_I(e)(e,t)}const Eke=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Jn.update(t,r),stop:()=>fh(t),now:()=>Ka.isProcessing?Ka.timestamp:uo.now()}},GX=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)n+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},I_=2e4;function SI(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<I_;)t+=r,n=e.next(t);return t>=I_?1/0:t}function Ake(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(SI(n),I_);return{type:"keyframes",ease:a=>n.next(i*a).value/t,duration:fu(i)}}const Tke=5;function KX(e,t,r){const n=Math.max(t-Tke,0);return kX(r-e(n),t-n)}const wi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},A4=.001;function kke({duration:e=wi.duration,bounce:t=wi.bounce,velocity:r=wi.velocity,mass:n=wi.mass}){let i,a,s=1-t;s=Sf(wi.minDamping,wi.maxDamping,s),e=Sf(wi.minDuration,wi.maxDuration,fu(e)),s<1?(i=c=>{const u=c*s,f=u*e,d=u-r,h=cN(c,s),g=Math.exp(-f);return A4-d/h*g},a=c=>{const f=c*s*e,d=f*r+r,h=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-f),m=cN(Math.pow(c,2),s);return(-i(c)+A4>0?-1:1)*((d-h)*g)/m}):(i=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-A4+u*f},a=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=Cke(i,a,o);if(e=uu(e),isNaN(l))return{stiffness:wi.stiffness,damping:wi.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const Nke=12;function Cke(e,t,r){let n=r;for(let i=1;i<Nke;i++)n=n-e(n)/t(n);return n}function cN(e,t){return e*Math.sqrt(1-t*t)}const Pke=["duration","bounce"],Ike=["stiffness","damping","mass"];function TM(e,t){return t.some(r=>e[r]!==void 0)}function Oke(e){let t={velocity:wi.velocity,stiffness:wi.stiffness,damping:wi.damping,mass:wi.mass,isResolvedFromDuration:!1,...e};if(!TM(e,Ike)&&TM(e,Pke))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*Sf(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:wi.mass,stiffness:i,damping:a}}else{const r=kke(e);t={...t,...r,mass:wi.mass},t.isResolvedFromDuration=!0}return t}function O_(e=wi.visualDuration,t=wi.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:a},{stiffness:l,damping:c,mass:u,duration:f,velocity:d,isResolvedFromDuration:h}=Oke({...r,velocity:-fu(r.velocity||0)}),g=d||0,m=c/(2*Math.sqrt(l*u)),v=s-a,y=fu(Math.sqrt(l/u)),b=Math.abs(v)<5;n||(n=b?wi.restSpeed.granular:wi.restSpeed.default),i||(i=b?wi.restDelta.granular:wi.restDelta.default);let _;if(m<1){const R=cN(y,m);_=O=>{const k=Math.exp(-m*y*O);return s-k*((g+m*y*v)/R*Math.sin(R*O)+v*Math.cos(R*O))}}else if(m===1)_=R=>s-Math.exp(-y*R)*(v+(g+y*v)*R);else{const R=y*Math.sqrt(m*m-1);_=O=>{const k=Math.exp(-m*y*O),S=Math.min(R*O,300);return s-k*((g+m*y*v)*Math.sinh(S)+R*v*Math.cosh(S))/R}}const N={calculatedDuration:h&&f||null,next:R=>{const O=_(R);if(h)o.done=R>=f;else{let k=R===0?g:0;m<1&&(k=R===0?uu(g):KX(_,R,O));const S=Math.abs(k)<=n,T=Math.abs(s-O)<=i;o.done=S&&T}return o.value=o.done?s:O,o},toString:()=>{const R=Math.min(SI(N),I_),O=GX(k=>N.next(R*k).value,R,30);return R+"ms "+O},toTransition:()=>{}};return N}O_.applyToOptions=e=>{const t=Ake(e,100,O_);return e.ease=t.ease,e.duration=uu(t.duration),e.type="keyframes",e};function uN({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],d={done:!1,value:f},h=S=>o!==void 0&&S<o||l!==void 0&&S>l,g=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let m=r*t;const v=f+m,y=s===void 0?v:s(v);y!==v&&(m=y-f);const b=S=>-m*Math.exp(-S/n),_=S=>y+b(S),N=S=>{const T=b(S),j=_(S);d.done=Math.abs(T)<=c,d.value=d.done?y:j};let R,O;const k=S=>{h(d.value)&&(R=S,O=O_({keyframes:[d.value,g(d.value)],velocity:KX(_,S,d.value),damping:i,stiffness:a,restDelta:c,restSpeed:u}))};return k(0),{calculatedDuration:null,next:S=>{let T=!1;return!O&&R===void 0&&(T=!0,N(S),k(S)),R!==void 0&&S>=R?O.next(S-R):(!T&&N(S),d)}}}function Dke(e,t,r){const n=[],i=r||Ef.mix||qX,a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||Ml:t;o=Rx(l,o)}n.push(o)}return n}function Rke(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(hI(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Dke(t,n,i),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const d=My(e[f],e[f+1],u);return o[f](d)};return r?u=>c(Sf(e[0],e[a-1],u)):c}function Lke(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=My(0,t,n);e.push(oi(r,1,i))}}function jke(e){const t=[0];return Lke(t,e.length-1),t}function Fke(e,t){return e.map(r=>r*t)}function Mke(e,t){return e.map(()=>t||jX).splice(0,e.length-1)}function Bv({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=XTe(n)?n.map(bM):bM(n),a={done:!1,value:t[0]},s=Fke(r&&r.length===t.length?r:jke(t),e),o=Rke(s,t,{ease:Array.isArray(i)?i:Mke(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}const Bke=e=>e!==null;function EI(e,{repeat:t,repeatType:r="loop"},n,i=1){const a=e.filter(Bke),o=i<0||t&&r!=="loop"&&t%2===1?0:a.length-1;return!o||n===void 0?a[o]:n}const Uke={decay:uN,inertia:uN,tween:Bv,keyframes:Bv,spring:O_};function XX(e){typeof e.type=="string"&&(e.type=Uke[e.type])}class AI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Vke=e=>e/100;class TI extends AI{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==uo.now()&&this.tick(uo.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;XX(t);const{type:r=Bv,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:s=0}=t;let{keyframes:o}=t;const l=r||Bv;l!==Bv&&typeof o[0]!="number"&&(this.mixKeyframes=Rx(Vke,qX(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});a==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=SI(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:d,repeatDelay:h,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,N=n;if(f){const S=Math.min(this.currentTime,i)/o;let T=Math.floor(S),j=S%1;!j&&S>=1&&(j=1),j===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(d==="reverse"?(j=1-j,h&&(j-=h/o)):d==="mirror"&&(N=s)),_=Sf(0,1,j)*o}const R=b?{done:!1,value:u[0]}:N.next(_);a&&(R.value=a(R.value));let{done:O}=R;!b&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return k&&g!==uN&&(R.value=EI(u,this.options,v,this.speed)),m&&m(R.value),k&&this.finish(),R}then(t,r){return this.finished.then(t,r)}get duration(){return fu(this.calculatedDuration)}get time(){return fu(this.currentTime)}set time(t){var r;t=uu(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(uo.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=fu(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=Eke,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(a=(i=this.options).onPlay)==null||a.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(uo.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function $ke(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const m0=e=>e*180/Math.PI,fN=e=>{const t=m0(Math.atan2(e[1],e[0]));return dN(t)},zke={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fN,rotateZ:fN,skewX:e=>m0(Math.atan(e[1])),skewY:e=>m0(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},dN=e=>(e=e%360,e<0&&(e+=360),e),kM=fN,NM=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),CM=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Wke={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:NM,scaleY:CM,scale:e=>(NM(e)+CM(e))/2,rotateX:e=>dN(m0(Math.atan2(e[6],e[5]))),rotateY:e=>dN(m0(Math.atan2(-e[2],e[0]))),rotateZ:kM,rotate:kM,skewX:e=>m0(Math.atan(e[4])),skewY:e=>m0(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function hN(e){return e.includes("scale")?1:0}function pN(e,t){if(!e||e==="none")return hN(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=Wke,i=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=zke,i=o}if(!i)return hN(t);const a=n[t],s=i[1].split(",").map(qke);return typeof a=="function"?a(s):s[a]}const Hke=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return pN(r,t)};function qke(e){return parseFloat(e.trim())}const Wg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Hg=new Set(Wg),PM=e=>e===zg||e===or,Gke=new Set(["x","y","z"]),Kke=Wg.filter(e=>!Gke.has(e));function Xke(e){const t=[];return Kke.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const C0={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>pN(t,"x"),y:(e,{transform:t})=>pN(t,"y")};C0.translateX=C0.x;C0.translateY=C0.y;const P0=new Set;let mN=!1,gN=!1,vN=!1;function YX(){if(gN){const e=Array.from(P0).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=Xke(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,s])=>{var o;(o=n.getValue(a))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}gN=!1,mN=!1,P0.forEach(e=>e.complete(vN)),P0.clear()}function JX(){P0.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(gN=!0)})}function Yke(){vN=!0,JX(),YX(),vN=!1}class kI{constructor(t,r,n,i,a,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(P0.add(this),mN||(mN=!0,Jn.read(JX),Jn.resolveKeyframes(YX))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),s=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),i&&a===void 0&&i.set(t[0])}$ke(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),P0.delete(this)}cancel(){this.state==="scheduled"&&(P0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Jke=e=>e.startsWith("--");function Qke(e,t,r){Jke(t)?e.style.setProperty(t,r):e.style[t]=r}const Zke=pI(()=>window.ScrollTimeline!==void 0),eNe={};function tNe(e,t){const r=pI(e);return()=>eNe[t]??r()}const QX=tNe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),av=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,IM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:av([0,.65,.55,1]),circOut:av([.55,0,1,.45]),backIn:av([.31,.01,.66,-.59]),backOut:av([.33,1.53,.69,.99])};function ZX(e,t){if(e)return typeof e=="function"?QX()?GX(e,t):"ease-out":FX(e)?av(e):Array.isArray(e)?e.map(r=>ZX(r,t)||IM.easeOut):IM[e]}function rNe(e,t,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=ZX(o,i);Array.isArray(f)&&(u.easing=f);const d={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"};return c&&(d.pseudoElement=c),e.animate(u,d)}function eY(e){return typeof e=="function"&&"applyToOptions"in e}function nNe({type:e,...t}){return eY(e)&&QX()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class iNe extends AI{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:a,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!a,this.allowFlatten=s,this.options=t,hI(typeof t.type!="string");const c=nNe(t);this.animation=rNe(r,n,i,c,a),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=EI(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Qke(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return fu(Number(t))}get time(){return fu(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=uu(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Zke()?(this.animation.timeline=t,Ml):r(this)}}const tY={anticipate:DX,backInOut:OX,circInOut:LX};function aNe(e){return e in tY}function sNe(e){typeof e.ease=="string"&&aNe(e.ease)&&(e.ease=tY[e.ease])}const OM=10;class oNe extends iNe{constructor(t){sNe(t),XX(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:a,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new TI({...s,autoplay:!1}),l=uu(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-OM).value,o.sample(l).value,OM),o.stop()}}const DM=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(dh.test(e)||e==="0")&&!e.startsWith("url("));function lNe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function cNe(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],s=DM(i,t),o=DM(a,t);return!s||!o?!1:lNe(e)||(r==="spring"||eY(r))&&n}function yN(e){e.duration=0,e.type}const uNe=new Set(["opacity","clipPath","filter","transform"]),fNe=pI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dNe(e){var u;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:a,type:s}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return fNe()&&r&&uNe.has(r)&&(r!=="transform"||!c)&&!l&&!n&&i!=="mirror"&&a!==0&&s!=="inertia"}const hNe=40;class pNe extends AI{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=uo.now();const d={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:s,name:l,motionValue:c,element:u,...f},h=(u==null?void 0:u.KeyframeResolver)||kI;this.keyframeResolver=new h(o,(m,v,y)=>this.onKeyframesResolved(m,v,d,!y),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:a,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=uo.now(),cNe(t,a,s,o)||((Ef.instantAnimations||!l)&&(u==null||u(EI(t,n,r))),t[0]=t[t.length-1],yN(n),n.repeat=0);const d={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>hNe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},h=!c&&dNe(d)?new oNe({...d,element:d.motionValue.owner.current}):new TI(d);h.finished.then(()=>this.notifyFinished()).catch(Ml),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Yke()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const mNe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gNe(e){const t=mNe.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function rY(e,t,r=1){const[n,i]=gNe(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const s=a.trim();return EX(s)?parseFloat(s):s}return xI(i)?rY(i,t,r+1):i}function NI(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const nY=new Set(["width","height","top","left","right","bottom",...Wg]),vNe={test:e=>e==="auto",parse:e=>e},iY=e=>t=>t.test(e),aY=[zg,or,du,md,lke,oke,vNe],RM=e=>aY.find(iY(e));function yNe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||TX(e):!0}const xNe=new Set(["brightness","contrast","saturate","opacity"]);function wNe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(wI)||[];if(!n)return e;const i=r.replace(n,"");let a=xNe.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const bNe=/\b([a-z-]*)\(.*?\)/gu,xN={...dh,getAnimatableNone:e=>{const t=e.match(bNe);return t?t.map(wNe).join(" "):e}},LM={...zg,transform:Math.round},_Ne={rotate:md,rotateX:md,rotateY:md,rotateZ:md,scale:pw,scaleX:pw,scaleY:pw,scaleZ:pw,skew:md,skewX:md,skewY:md,distance:or,translateX:or,translateY:or,translateZ:or,x:or,y:or,z:or,perspective:or,transformPerspective:or,opacity:By,originX:_M,originY:_M,originZ:or},CI={borderWidth:or,borderTopWidth:or,borderRightWidth:or,borderBottomWidth:or,borderLeftWidth:or,borderRadius:or,radius:or,borderTopLeftRadius:or,borderTopRightRadius:or,borderBottomRightRadius:or,borderBottomLeftRadius:or,width:or,maxWidth:or,height:or,maxHeight:or,top:or,right:or,bottom:or,left:or,padding:or,paddingTop:or,paddingRight:or,paddingBottom:or,paddingLeft:or,margin:or,marginTop:or,marginRight:or,marginBottom:or,marginLeft:or,backgroundPositionX:or,backgroundPositionY:or,..._Ne,zIndex:LM,fillOpacity:By,strokeOpacity:By,numOctaves:LM},SNe={...CI,color:Yi,backgroundColor:Yi,outlineColor:Yi,fill:Yi,stroke:Yi,borderColor:Yi,borderTopColor:Yi,borderRightColor:Yi,borderBottomColor:Yi,borderLeftColor:Yi,filter:xN,WebkitFilter:xN},sY=e=>SNe[e];function oY(e,t){let r=sY(e);return r!==xN&&(r=dh),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const ENe=new Set(["auto","none","0"]);function ANe(e,t,r){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!ENe.has(a)&&Uy(a).values.length&&(i=e[n]),n++}if(i&&r)for(const a of t)e[a]=oY(r,i)}class TNe extends kI{constructor(t,r,n,i,a){super(t,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),xI(c))){const u=rY(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!nY.has(n)||t.length!==2)return;const[i,a]=t,s=RM(i),o=RM(a);if(s!==o)if(PM(s)&&PM(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else C0[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||yNe(t[i]))&&n.push(i);n.length&&ANe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=C0[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,s=n[a];n[a]=C0[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function kNe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const i=(r==null?void 0:r[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const lY=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function cY(e){return AX(e)&&"offsetHeight"in e}const jM=30,NNe=e=>!isNaN(parseFloat(e));class CNe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const i=uo.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=uo.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=NNe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new mI);const n=this.events[t].add(r);return t==="change"?()=>{n(),Jn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=uo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>jM)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,jM);return kX(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pg(e,t){return new CNe(e,t)}const{schedule:PI}=MX(queueMicrotask,!1),cc={x:!1,y:!1};function uY(){return cc.x||cc.y}function PNe(e){return e==="x"||e==="y"?cc[e]?null:(cc[e]=!0,()=>{cc[e]=!1}):cc.x||cc.y?null:(cc.x=cc.y=!0,()=>{cc.x=cc.y=!1})}function fY(e,t){const r=kNe(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function FM(e){return!(e.pointerType==="touch"||uY())}function INe(e,t,r={}){const[n,i,a]=fY(e,r),s=o=>{if(!FM(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{FM(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return n.forEach(o=>{o.addEventListener("pointerenter",s,i)}),a}const dY=(e,t)=>t?e===t?!0:dY(e,t.parentElement):!1,II=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,ONe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function DNe(e){return ONe.has(e.tagName)||e.tabIndex!==-1}const ub=new WeakSet;function MM(e){return t=>{t.key==="Enter"&&e(t)}}function T4(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const RNe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=MM(()=>{if(ub.has(r))return;T4(r,"down");const i=MM(()=>{T4(r,"up")}),a=()=>T4(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function BM(e){return II(e)&&!uY()}function LNe(e,t,r={}){const[n,i,a]=fY(e,r),s=o=>{const l=o.currentTarget;if(!BM(o))return;ub.add(l);const c=t(l,o),u=(h,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",d),ub.has(l)&&ub.delete(l),BM(h)&&typeof c=="function"&&c(h,{success:g})},f=h=>{u(h,l===window||l===document||r.useGlobalTarget||dY(l,h.target))},d=h=>{u(h,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",d,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,i),cY(o)&&(o.addEventListener("focus",c=>RNe(c,i)),!DNe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function hY(e){return AX(e)&&"ownerSVGElement"in e}function jNe(e){return hY(e)&&e.tagName==="svg"}const Ss=e=>!!(e&&e.getVelocity),FNe=[...aY,Yi,dh],MNe=e=>FNe.find(iY(e)),OI=L.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class BNe extends L.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=cY(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function UNe({children:e,isPresent:t,anchorX:r,root:n}){const i=L.useId(),a=L.useRef(null),s=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=L.useContext(OI);return L.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:f,right:d}=s.current;if(t||!a.current||!l||!c)return;const h=r==="left"?`left: ${f}`:`right: ${d}`;a.current.dataset.motionPopId=i;const g=document.createElement("style");o&&(g.nonce=o);const m=n??document.head;return m.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${h}px !important;
            top: ${u}px !important;
          }
        `),()=>{m.contains(g)&&m.removeChild(g)}},[t]),p.jsx(BNe,{isPresent:t,childRef:a,sizeRef:s,children:L.cloneElement(e,{ref:a})})}const VNe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:s,anchorX:o,root:l})=>{const c=cI($Ne),u=L.useId();let f=!0,d=L.useMemo(()=>(f=!1,{id:u,initial:t,isPresent:r,custom:i,onExitComplete:h=>{c.set(h,!0);for(const g of c.values())if(!g)return;n&&n()},register:h=>(c.set(h,!1),()=>c.delete(h))}),[r,c,n]);return a&&f&&(d={...d}),L.useMemo(()=>{c.forEach((h,g)=>c.set(g,!1))},[r]),L.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),s==="popLayout"&&(e=p.jsx(UNe,{isPresent:r,anchorX:o,root:l,children:e})),p.jsx(kS.Provider,{value:d,children:e})};function $Ne(){return new Map}function pY(e=!0){const t=L.useContext(kS);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,a=L.useId();L.useEffect(()=>{if(e)return i(a)},[e]);const s=L.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,s]:[!0]}const mw=e=>e.key||"";function UM(e){const t=[];return L.Children.forEach(e,r=>{L.isValidElement(r)&&t.push(r)}),t}const hh=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[c,u]=pY(s),f=L.useMemo(()=>UM(e),[e]),d=s&&!c?[]:f.map(mw),h=L.useRef(!0),g=L.useRef(f),m=cI(()=>new Map),[v,y]=L.useState(f),[b,_]=L.useState(f);SX(()=>{h.current=!1,g.current=f;for(let O=0;O<b.length;O++){const k=mw(b[O]);d.includes(k)?m.delete(k):m.get(k)!==!0&&m.set(k,!1)}},[b,d.length,d.join("-")]);const N=[];if(f!==v){let O=[...f];for(let k=0;k<b.length;k++){const S=b[k],T=mw(S);d.includes(T)||(O.splice(k,0,S),N.push(S))}return a==="wait"&&N.length&&(O=N),_(UM(O)),y(f),null}const{forceRender:R}=L.useContext(lI);return p.jsx(p.Fragment,{children:b.map(O=>{const k=mw(O),S=s&&!c?!1:f===b||d.includes(k),T=()=>{if(m.has(k))m.set(k,!0);else return;let j=!0;m.forEach(E=>{E||(j=!1)}),j&&(R==null||R(),_(g.current),s&&(u==null||u()),n&&n())};return p.jsx(VNe,{isPresent:S,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:l,onExitComplete:S?void 0:T,anchorX:o,children:O},k)})})},mY=L.createContext({strict:!1}),VM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mg={};for(const e in VM)mg[e]={isEnabled:t=>VM[e].some(r=>!!t[r])};function zNe(e){for(const t in e)mg[t]={...mg[t],...e[t]}}const WNe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function D_(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||WNe.has(e)}let gY=e=>!D_(e);function HNe(e){typeof e=="function"&&(gY=t=>t.startsWith("on")?!D_(t):e(t))}try{HNe(require("@emotion/is-prop-valid").default)}catch{}function qNe(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(gY(i)||r===!0&&D_(i)||!t&&!D_(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const NS=L.createContext({});function CS(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Vy(e){return typeof e=="string"||Array.isArray(e)}const DI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],RI=["initial",...DI];function PS(e){return CS(e.animate)||RI.some(t=>Vy(e[t]))}function vY(e){return!!(PS(e)||e.variants)}function GNe(e,t){if(PS(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Vy(r)?r:void 0,animate:Vy(n)?n:void 0}}return e.inherit!==!1?t:{}}function KNe(e){const{initial:t,animate:r}=GNe(e,L.useContext(NS));return L.useMemo(()=>({initial:t,animate:r}),[$M(t),$M(r)])}function $M(e){return Array.isArray(e)?e.join(" "):e}const $y={};function XNe(e){for(const t in e)$y[t]=e[t],yI(t)&&($y[t].isCSSVariable=!0)}function yY(e,{layout:t,layoutId:r}){return Hg.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!$y[e]||e==="opacity")}const YNe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},JNe=Wg.length;function QNe(e,t,r){let n="",i=!0;for(let a=0;a<JNe;a++){const s=Wg[a],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=lY(o,CI[s]);if(!l){i=!1;const u=YNe[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function LI(e,t,r){const{style:n,vars:i,transformOrigin:a}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(Hg.has(l)){s=!0;continue}else if(yI(l)){i[l]=c;continue}else{const u=lY(c,CI[l]);l.startsWith("origin")?(o=!0,a[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=QNe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=a;n.transformOrigin=`${l} ${c} ${u}`}}const jI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xY(e,t,r){for(const n in t)!Ss(t[n])&&!yY(n,r)&&(e[n]=t[n])}function ZNe({transformTemplate:e},t){return L.useMemo(()=>{const r=jI();return LI(r,t,e),Object.assign({},r.vars,r.style)},[t])}function eCe(e,t){const r=e.style||{},n={};return xY(n,r,e),Object.assign(n,ZNe(e,t)),n}function tCe(e,t){const r={},n=eCe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const rCe={offset:"stroke-dashoffset",array:"stroke-dasharray"},nCe={offset:"strokeDashoffset",array:"strokeDasharray"};function iCe(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?rCe:nCe;e[a.offset]=or.transform(-n);const s=or.transform(t),o=or.transform(r);e[a.array]=`${s} ${o}`}function wY(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:s=0,...o},l,c,u){if(LI(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:d}=e;f.transform&&(d.transform=f.transform,delete f.transform),(d.transform||f.transformOrigin)&&(d.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),d.transform&&(d.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&iCe(f,i,a,s,!1)}const bY=()=>({...jI(),attrs:{}}),_Y=e=>typeof e=="string"&&e.toLowerCase()==="svg";function aCe(e,t,r,n){const i=L.useMemo(()=>{const a=bY();return wY(a,t,_Y(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};xY(a,e.style,e),i.style={...a,...i.style}}return i}const sCe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function FI(e){return typeof e!="string"||e.includes("-")?!1:!!(sCe.indexOf(e)>-1||/[A-Z]/u.test(e))}function oCe(e,t,r,{latestValues:n},i,a=!1){const o=(FI(e)?aCe:tCe)(t,n,i,e),l=qNe(t,typeof e=="string",a),c=e!==L.Fragment?{...l,...o,ref:r}:{},{children:u}=t,f=L.useMemo(()=>Ss(u)?u.get():u,[u]);return L.createElement(e,{...c,children:f})}function zM(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function MI(e,t,r,n){if(typeof t=="function"){const[i,a]=zM(n);t=t(r!==void 0?r:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=zM(n);t=t(r!==void 0?r:e.custom,i,a)}return t}function fb(e){return Ss(e)?e.get():e}function lCe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:cCe(r,n,i,e),renderState:t()}}function cCe(e,t,r,n){const i={},a=n(e,{});for(const d in a)i[d]=fb(a[d]);let{initial:s,animate:o}=e;const l=PS(e),c=vY(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!CS(f)){const d=Array.isArray(f)?f:[f];for(let h=0;h<d.length;h++){const g=MI(e,d[h]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const b in y){let _=y[b];if(Array.isArray(_)){const N=u?_.length-1:0;_=_[N]}_!==null&&(i[b]=_)}for(const b in m)i[b]=m[b]}}}return i}const SY=e=>(t,r)=>{const n=L.useContext(NS),i=L.useContext(kS),a=()=>lCe(e,t,n,i);return r?a():cI(a)};function BI(e,t,r){var a;const{style:n}=e,i={};for(const s in n)(Ss(n[s])||t.style&&Ss(t.style[s])||yY(s,e)||((a=r==null?void 0:r.getValue(s))==null?void 0:a.liveStyle)!==void 0)&&(i[s]=n[s]);return i}const uCe=SY({scrapeMotionValuesFromProps:BI,createRenderState:jI});function EY(e,t,r){const n=BI(e,t,r);for(const i in e)if(Ss(e[i])||Ss(t[i])){const a=Wg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}const fCe=SY({scrapeMotionValuesFromProps:EY,createRenderState:bY}),dCe=Symbol.for("motionComponentSymbol");function vm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function hCe(e,t,r){return L.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):vm(r)&&(r.current=n))},[t])}const UI=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pCe="framerAppearId",AY="data-"+UI(pCe),TY=L.createContext({});function mCe(e,t,r,n,i){var m,v;const{visualElement:a}=L.useContext(NS),s=L.useContext(mY),o=L.useContext(kS),l=L.useContext(OI).reducedMotion,c=L.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=L.useContext(TY);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&gCe(c.current,r,i,f);const d=L.useRef(!1);L.useInsertionEffect(()=>{u&&d.current&&u.update(r,o)});const h=r[AY],g=L.useRef(!!h&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,h))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,h)));return SX(()=>{u&&(d.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),g.current&&u.animationState&&u.animationState.animateChanges())}),L.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,h)}),g.current=!1),u.enteringChildren=void 0)}),u}function gCe(e,t,r,n){const{layoutId:i,layout:a,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:kY(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!s||o&&vm(o),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function kY(e){if(e)return e.options.allowProjection!==!1?e.projection:kY(e.parent)}function k4(e,{forwardMotionProps:t=!1}={},r,n){r&&zNe(r);const i=FI(e)?fCe:uCe;function a(o,l){let c;const u={...L.useContext(OI),...o,layoutId:vCe(o)},{isStatic:f}=u,d=KNe(o),h=i(o,f);if(!f&&uI){yCe();const g=xCe(u);c=g.MeasureLayout,d.visualElement=mCe(e,h,u,n,g.ProjectionNode)}return p.jsxs(NS.Provider,{value:d,children:[c&&d.visualElement?p.jsx(c,{visualElement:d.visualElement,...u}):null,oCe(e,o,hCe(h,d.visualElement,l),h,f,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=L.forwardRef(a);return s[dCe]=e,s}function vCe({layoutId:e}){const t=L.useContext(lI).id;return t&&e!==void 0?t+"-"+e:e}function yCe(e,t){L.useContext(mY).strict}function xCe(e){const{drag:t,layout:r}=mg;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function wCe(e,t){if(typeof Proxy>"u")return k4;const r=new Map,n=(a,s)=>k4(a,s,e,t),i=(a,s)=>n(a,s);return new Proxy(i,{get:(a,s)=>s==="create"?n:(r.has(s)||r.set(s,k4(s,void 0,e,t)),r.get(s))})}function NY({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function bCe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function _Ce(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function N4(e){return e===void 0||e===1}function wN({scale:e,scaleX:t,scaleY:r}){return!N4(e)||!N4(t)||!N4(r)}function t0(e){return wN(e)||CY(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function CY(e){return WM(e.x)||WM(e.y)}function WM(e){return e&&e!=="0%"}function R_(e,t,r){const n=e-r,i=t*n;return r+i}function HM(e,t,r,n,i){return i!==void 0&&(e=R_(e,i,n)),R_(e,r,n)+t}function bN(e,t=0,r=1,n,i){e.min=HM(e.min,t,r,n,i),e.max=HM(e.max,t,r,n,i)}function PY(e,{x:t,y:r}){bN(e.x,t.translate,t.scale,t.originPoint),bN(e.y,r.translate,r.scale,r.originPoint)}const qM=.999999999999,GM=1.0000000000001;function SCe(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=r[o],s=a.projectionDelta;const{visualElement:l}=a.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&xm(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,PY(e,s)),n&&t0(a.latestValues)&&xm(e,a.latestValues))}t.x<GM&&t.x>qM&&(t.x=1),t.y<GM&&t.y>qM&&(t.y=1)}function ym(e,t){e.min=e.min+t,e.max=e.max+t}function KM(e,t,r,n,i=.5){const a=oi(e.min,e.max,i);bN(e,t,r,a,n)}function xm(e,t){KM(e.x,t.x,t.scaleX,t.scale,t.originX),KM(e.y,t.y,t.scaleY,t.scale,t.originY)}function IY(e,t){return NY(_Ce(e.getBoundingClientRect(),t))}function ECe(e,t,r){const n=IY(e,r),{scroll:i}=t;return i&&(ym(n.x,i.offset.x),ym(n.y,i.offset.y)),n}const XM=()=>({translate:0,scale:1,origin:0,originPoint:0}),wm=()=>({x:XM(),y:XM()}),YM=()=>({min:0,max:0}),Di=()=>({x:YM(),y:YM()}),_N={current:null},OY={current:!1};function ACe(){if(OY.current=!0,!!uI)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_N.current=e.matches;e.addEventListener("change",t),t()}else _N.current=!1}const TCe=new WeakMap;function kCe(e,t,r){for(const n in t){const i=t[n],a=r[n];if(Ss(i))e.addValue(n,i);else if(Ss(a))e.addValue(n,pg(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(n);e.addValue(n,pg(s!==void 0?s:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const JM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NCe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=kI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const d=uo.now();this.renderScheduledAt<d&&(this.renderScheduledAt=d,Jn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=PS(r),this.isVariantNode=vY(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const d in f){const h=f[d];l[d]!==void 0&&Ss(h)&&h.set(l[d])}}mount(t){var r;this.current=t,TCe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),OY.current||ACe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_N.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),fh(this.notifyUpdate),fh(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Hg.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Jn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in mg){const r=mg[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Di()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<JM.length;n++){const i=JM[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,s=t[a];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=kCe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=pg(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(EX(n)||TX(n))?n=parseFloat(n):!MNe(n)&&dh.test(r)&&(n=oY(t,r)),this.setBaseTarget(t,Ss(n)?n.get():n)),Ss(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=MI(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ss(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new mI),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){PI.render(this.render)}}class DY extends NCe{constructor(){super(...arguments),this.KeyframeResolver=TNe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ss(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function RY(e,{style:t,vars:r},n,i){const a=e.style;let s;for(s in t)a[s]=t[s];i==null||i.applyProjectionStyles(a,n);for(s in r)a.setProperty(s,r[s])}function CCe(e){return window.getComputedStyle(e)}class PCe extends DY{constructor(){super(...arguments),this.type="html",this.renderInstance=RY}readValueFromInstance(t,r){var n;if(Hg.has(r))return(n=this.projection)!=null&&n.isProjecting?hN(r):Hke(t,r);{const i=CCe(t),a=(yI(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return IY(t,r)}build(t,r,n){LI(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return BI(t,r,n)}}const LY=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ICe(e,t,r,n){RY(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(LY.has(i)?i:UI(i),t.attrs[i])}class OCe extends DY{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Di}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Hg.has(r)){const n=sY(r);return n&&n.default||0}return r=LY.has(r)?r:UI(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return EY(t,r,n)}build(t,r,n){wY(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){ICe(t,r,n,i)}mount(t){this.isSVGTag=_Y(t.tagName),super.mount(t)}}const DCe=(e,t)=>FI(e)?new OCe(t):new PCe(t,{allowProjection:e!==L.Fragment});function $m(e,t,r){const n=e.getProps();return MI(n,t,r!==void 0?r:n.custom,e)}const SN=e=>Array.isArray(e);function RCe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,pg(r))}function LCe(e){return SN(e)?e[e.length-1]||0:e}function jCe(e,t){const r=$m(e,t);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const s in a){const o=LCe(a[s]);RCe(e,s,o)}}function FCe(e){return!!(Ss(e)&&e.add)}function EN(e,t){const r=e.getValue("willChange");if(FCe(r))return r.add(t);if(!r&&Ef.WillChange){const n=new Ef.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function jY(e){return e.props[AY]}const MCe=e=>e!==null;function BCe(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(MCe),a=t&&r!=="loop"&&t%2===1?0:i.length-1;return i[a]}const UCe={type:"spring",stiffness:500,damping:25,restSpeed:10},VCe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$Ce={type:"keyframes",duration:.8},zCe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},WCe=(e,{keyframes:t})=>t.length>2?$Ce:Hg.has(e)?e.startsWith("scale")?VCe(t[1]):UCe:zCe;function HCe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const VI=(e,t,r,n={},i,a)=>s=>{const o=NI(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-uu(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:d=>{t.set(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};HCe(o)||Object.assign(u,WCe(e,u)),u.duration&&(u.duration=uu(u.duration)),u.repeatDelay&&(u.repeatDelay=uu(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(yN(u),u.delay===0&&(f=!0)),(Ef.instantAnimations||Ef.skipAnimations)&&(f=!0,yN(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!a&&t.get()!==void 0){const d=BCe(u.keyframes,o);if(d!==void 0){Jn.update(()=>{u.onUpdate(d),u.onComplete()});return}}return o.isSync?new TI(u):new pNe(u)};function qCe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function FY(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(a=n);const l=[],c=i&&e.animationState&&e.animationState.getState()[i];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),d=o[u];if(d===void 0||c&&qCe(c,u))continue;const h={delay:r,...NI(a||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(d)&&d===g&&!h.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=jY(e);if(y){const b=window.MotionHandoffAnimation(y,u,Jn);b!==null&&(h.startTime=b,m=!0)}}EN(e,u),f.start(VI(u,f,d,e.shouldReduceMotion&&nY.has(u)?{type:!1}:h,e,m));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{Jn.update(()=>{s&&jCe(e,s)})}),l}function MY(e,t,r,n=0,i=1){const a=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),s=e.size,o=(s-1)*n;return typeof r=="function"?r(a,s):i===1?a*n:o-a*n}function AN(e,t,r={}){var l;const n=$m(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(FY(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:d}=i;return GCe(e,t,c,u,f,d,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[a,s]:[s,a];return c().then(()=>u())}else return Promise.all([a(),s(r.delay)])}function GCe(e,t,r=0,n=0,i=0,a=1,s){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(AN(l,t,{...s,delay:r+(typeof n=="function"?0:n)+MY(e.variantChildren,l,n,i,a)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function KCe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>AN(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=AN(e,t,r);else{const i=typeof t=="function"?$m(e,t,r.custom):t;n=Promise.all(FY(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function BY(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const XCe=RI.length;function UY(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?UY(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<XCe;r++){const n=RI[r],i=e.props[n];(Vy(i)||i===!1)&&(t[n]=i)}return t}const YCe=[...DI].reverse(),JCe=DI.length;function QCe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>KCe(e,r,n)))}function ZCe(e){let t=QCe(e),r=QM(),n=!0;const i=l=>(c,u)=>{var d;const f=$m(e,u,l==="exit"?(d=e.presenceContext)==null?void 0:d.custom:void 0);if(f){const{transition:h,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function a(l){t=l(e)}function s(l){const{props:c}=e,u=UY(e.parent)||{},f=[],d=new Set;let h={},g=1/0;for(let v=0;v<JCe;v++){const y=YCe[v],b=r[y],_=c[y]!==void 0?c[y]:u[y],N=Vy(_),R=y===l?b.isActive:null;R===!1&&(g=v);let O=_===u[y]&&_!==c[y]&&N;if(O&&n&&e.manuallyAnimateOnMount&&(O=!1),b.protectedKeys={...h},!b.isActive&&R===null||!_&&!b.prevProp||CS(_)||typeof _=="boolean")continue;const k=e3e(b.prevProp,_);let S=k||y===l&&b.isActive&&!O&&N||v>g&&N,T=!1;const j=Array.isArray(_)?_:[_];let E=j.reduce(i(y),{});R===!1&&(E={});const{prevResolvedValues:C={}}=b,D={...C,...E},q=se=>{S=!0,d.has(se)&&(T=!0,d.delete(se)),b.needsAnimating[se]=!0;const K=e.getValue(se);K&&(K.liveStyle=!1)};for(const se in D){const K=E[se],X=C[se];if(h.hasOwnProperty(se))continue;let _e=!1;SN(K)&&SN(X)?_e=!BY(K,X):_e=K!==X,_e?K!=null?q(se):d.add(se):K!==void 0&&d.has(se)?q(se):b.protectedKeys[se]=!0}b.prevProp=_,b.prevResolvedValues=E,b.isActive&&(h={...h,...E}),n&&e.blockInitialAnimation&&(S=!1);const ee=O&&k;S&&(!ee||T)&&f.push(...j.map(se=>{const K={type:y};if(typeof se=="string"&&n&&!ee&&e.manuallyAnimateOnMount&&e.parent){const{parent:X}=e,_e=$m(X,se);if(X.enteringChildren&&_e){const{delayChildren:Se}=_e.transition||{};K.delay=MY(X.enteringChildren,e,Se)}}return{animation:se,options:K}}))}if(d.size){const v={};if(typeof c.initial!="boolean"){const y=$m(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}d.forEach(y=>{const b=e.getBaseTarget(y),_=e.getValue(y);_&&(_.liveStyle=!0),v[y]=b??null}),f.push({animation:v})}let m=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(d=>{var h;return(h=d.animationState)==null?void 0:h.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const d in r)r[d].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>r,reset:()=>{r=QM(),n=!0}}}function e3e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!BY(t,e):!1}function Kh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QM(){return{animate:Kh(!0),whileInView:Kh(),whileHover:Kh(),whileTap:Kh(),whileDrag:Kh(),whileFocus:Kh(),exit:Kh()}}class Nh{constructor(t){this.isMounted=!1,this.node=t}update(){}}class t3e extends Nh{constructor(t){super(t),t.animationState||(t.animationState=ZCe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();CS(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let r3e=0;class n3e extends Nh{constructor(){super(...arguments),this.id=r3e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const i3e={animation:{Feature:t3e},exit:{Feature:n3e}};function zy(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Fx(e){return{point:{x:e.pageX,y:e.pageY}}}const a3e=e=>t=>II(t)&&e(t,Fx(t));function Uv(e,t,r,n){return zy(e,t,a3e(r),n)}const VY=1e-4,s3e=1-VY,o3e=1+VY,$Y=.01,l3e=0-$Y,c3e=0+$Y;function $s(e){return e.max-e.min}function u3e(e,t,r){return Math.abs(e-t)<=r}function ZM(e,t,r,n=.5){e.origin=n,e.originPoint=oi(t.min,t.max,e.origin),e.scale=$s(r)/$s(t),e.translate=oi(r.min,r.max,e.origin)-e.originPoint,(e.scale>=s3e&&e.scale<=o3e||isNaN(e.scale))&&(e.scale=1),(e.translate>=l3e&&e.translate<=c3e||isNaN(e.translate))&&(e.translate=0)}function Vv(e,t,r,n){ZM(e.x,t.x,r.x,n?n.originX:void 0),ZM(e.y,t.y,r.y,n?n.originY:void 0)}function e7(e,t,r){e.min=r.min+t.min,e.max=e.min+$s(t)}function f3e(e,t,r){e7(e.x,t.x,r.x),e7(e.y,t.y,r.y)}function t7(e,t,r){e.min=t.min-r.min,e.max=e.min+$s(t)}function $v(e,t,r){t7(e.x,t.x,r.x),t7(e.y,t.y,r.y)}function Tl(e){return[e("x"),e("y")]}const zY=({current:e})=>e?e.ownerDocument.defaultView:null,r7=(e,t)=>Math.abs(e-t);function d3e(e,t){const r=r7(e.x,t.x),n=r7(e.y,t.y);return Math.sqrt(r**2+n**2)}class WY{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=P4(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=d3e(d.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!g)return;const{point:m}=d,{timestamp:v}=Ka;this.history.push({...m,timestamp:v});const{onStart:y,onMove:b}=this.handlers;h||(y&&y(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=C4(h,this.transformPagePoint),Jn.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:g,onSessionEnd:m,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=P4(d.type==="pointercancel"?this.lastMoveEventInfo:C4(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,y),m&&m(d,y)},!II(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=i||window;const o=Fx(t),l=C4(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Ka;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,P4(l,this.history)),this.removeListeners=Rx(Uv(this.contextWindow,"pointermove",this.handlePointerMove),Uv(this.contextWindow,"pointerup",this.handlePointerUp),Uv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fh(this.updatePoint)}}function C4(e,t){return t?{point:t(e.point)}:e}function n7(e,t){return{x:e.x-t.x,y:e.y-t.y}}function P4({point:e},t){return{point:e,delta:n7(e,HY(t)),offset:n7(e,h3e(t)),velocity:p3e(t,.1)}}function h3e(e){return e[0]}function HY(e){return e[e.length-1]}function p3e(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=HY(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>uu(t)));)r--;if(!n)return{x:0,y:0};const a=fu(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function m3e(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?oi(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?oi(r,e,n.max):Math.min(e,r)),e}function i7(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function g3e(e,{top:t,left:r,bottom:n,right:i}){return{x:i7(e.x,r,i),y:i7(e.y,t,n)}}function a7(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function v3e(e,t){return{x:a7(e.x,t.x),y:a7(e.y,t.y)}}function y3e(e,t){let r=.5;const n=$s(e),i=$s(t);return i>n?r=My(t.min,t.max-n,e.min):n>i&&(r=My(e.min,e.max-i,t.min)),Sf(0,1,r)}function x3e(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const TN=.35;function w3e(e=TN){return e===!1?e=0:e===!0&&(e=TN),{x:s7(e,"left","right"),y:s7(e,"top","bottom")}}function s7(e,t,r){return{min:o7(e,t),max:o7(e,r)}}function o7(e,t){return typeof e=="number"?e:e[t]||0}const b3e=new WeakMap;class _3e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Di(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Fx(f).point)},s=(f,d)=>{const{drag:h,dragPropagation:g,onDragStart:m}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=PNe(h),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=d,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Tl(y=>{let b=this.getAxisMotionValue(y).get()||0;if(du.test(b)){const{projection:_}=this.visualElement;if(_&&_.layout){const N=_.layout.layoutBox[y];N&&(b=$s(N)*(parseFloat(b)/100))}}this.originPoint[y]=b}),m&&Jn.postRender(()=>m(f,d)),EN(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d;const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:m,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=d;if(g&&this.currentDirection===null){this.currentDirection=S3e(y),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,y),this.updateAxis("y",d.point,y),this.visualElement.render(),v&&v(f,d)},l=(f,d)=>{this.latestPointerEvent=f,this.latestPanInfo=d,this.stop(f,d),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Tl(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new WY(t,{onSessionStart:a,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:zY(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Jn.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!gw(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=m3e(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&vm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=g3e(n.layoutBox,t):this.constraints=!1,this.elastic=w3e(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Tl(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=x3e(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!vm(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=ECe(n,i.root,this.visualElement.getTransformPagePoint());let s=v3e(i.layout.layoutBox,a);if(r){const o=r(bCe(s));this.hasMutatedConstraints=!!o,o&&(s=NY(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Tl(u=>{if(!gw(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return EN(this.visualElement,t),n.start(VI(t,n,0,r,this.visualElement,!1))}stopAnimation(){Tl(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Tl(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Tl(r=>{const{drag:n}=this.getProps();if(!gw(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[r];a.set(t[r]-oi(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!vm(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Tl(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();i[s]=y3e({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Tl(s=>{if(!gw(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(oi(l,c,i[s]))})}addListeners(){if(!this.visualElement.current)return;b3e.set(this.visualElement,this);const t=this.visualElement.current,r=Uv(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();vm(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Jn.read(n);const s=zy(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Tl(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=TN,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function gw(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function S3e(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class E3e extends Nh{constructor(t){super(t),this.removeGroupControls=Ml,this.removeListeners=Ml,this.controls=new _3e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ml}unmount(){this.removeGroupControls(),this.removeListeners()}}const l7=e=>(t,r)=>{e&&Jn.postRender(()=>e(t,r))};class A3e extends Nh{constructor(){super(...arguments),this.removePointerDownListener=Ml}onPointerDown(t){this.session=new WY(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zY(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:l7(t),onStart:l7(r),onMove:n,onEnd:(a,s)=>{delete this.session,i&&Jn.postRender(()=>i(a,s))}}}mount(){this.removePointerDownListener=Uv(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const db={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function c7(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const F1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(or.test(e))e=parseFloat(e);else return e;const r=c7(e,t.target.x),n=c7(e,t.target.y);return`${r}% ${n}%`}},T3e={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=dh.parse(e);if(i.length>5)return n;const a=dh.createTransformer(e),s=typeof i[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const c=oi(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=c),typeof i[3+s]=="number"&&(i[3+s]/=c),a(i)}};let I4=!1;class k3e extends L.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;XNe(N3e),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),I4&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),db.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,{projection:s}=n;return s&&(s.isPresent=a,I4=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==a?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||Jn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),PI.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;I4=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function qY(e){const[t,r]=pY(),n=L.useContext(lI);return p.jsx(k3e,{...e,layoutGroup:n,switchLayoutGroup:L.useContext(TY),isPresent:t,safeToRemove:r})}const N3e={borderRadius:{...F1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:F1,borderTopRightRadius:F1,borderBottomLeftRadius:F1,borderBottomRightRadius:F1,boxShadow:T3e};function C3e(e,t,r){const n=Ss(e)?e:pg(e);return n.start(VI("",n,t,r)),n.animation}const P3e=(e,t)=>e.depth-t.depth;class I3e{constructor(){this.children=[],this.isDirty=!1}add(t){fI(this.children,t),this.isDirty=!0}remove(t){dI(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(P3e),this.isDirty=!1,this.children.forEach(t)}}function O3e(e,t){const r=uo.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(fh(n),e(a-t))};return Jn.setup(n,!0),()=>fh(n)}const GY=["TopLeft","TopRight","BottomLeft","BottomRight"],D3e=GY.length,u7=e=>typeof e=="string"?parseFloat(e):e,f7=e=>typeof e=="number"||or.test(e);function R3e(e,t,r,n,i,a){i?(e.opacity=oi(0,r.opacity??1,L3e(n)),e.opacityExit=oi(t.opacity??1,0,j3e(n))):a&&(e.opacity=oi(t.opacity??1,r.opacity??1,n));for(let s=0;s<D3e;s++){const o=`border${GY[s]}Radius`;let l=d7(t,o),c=d7(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||f7(l)===f7(c)?(e[o]=Math.max(oi(u7(l),u7(c),n),0),(du.test(c)||du.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=oi(t.rotate||0,r.rotate||0,n))}function d7(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const L3e=KY(0,.5,RX),j3e=KY(.5,.95,Ml);function KY(e,t,r){return n=>n<e?0:n>t?1:r(My(e,t,n))}function h7(e,t){e.min=t.min,e.max=t.max}function yl(e,t){h7(e.x,t.x),h7(e.y,t.y)}function p7(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function m7(e,t,r,n,i){return e-=t,e=R_(e,1/r,n),i!==void 0&&(e=R_(e,1/i,n)),e}function F3e(e,t=0,r=1,n=.5,i,a=e,s=e){if(du.test(t)&&(t=parseFloat(t),t=oi(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=oi(a.min,a.max,n);e===a&&(o-=t),e.min=m7(e.min,t,r,o,i),e.max=m7(e.max,t,r,o,i)}function g7(e,t,[r,n,i],a,s){F3e(e,t[r],t[n],t[i],t.scale,a,s)}const M3e=["x","scaleX","originX"],B3e=["y","scaleY","originY"];function v7(e,t,r,n){g7(e.x,t,M3e,r?r.x:void 0,n?n.x:void 0),g7(e.y,t,B3e,r?r.y:void 0,n?n.y:void 0)}function y7(e){return e.translate===0&&e.scale===1}function XY(e){return y7(e.x)&&y7(e.y)}function x7(e,t){return e.min===t.min&&e.max===t.max}function U3e(e,t){return x7(e.x,t.x)&&x7(e.y,t.y)}function w7(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function YY(e,t){return w7(e.x,t.x)&&w7(e.y,t.y)}function b7(e){return $s(e.x)/$s(e.y)}function _7(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class V3e{constructor(){this.members=[]}add(t){fI(this.members,t),t.scheduleRender()}remove(t){if(dI(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $3e(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((i||a||s)&&(n=`translate3d(${i}px, ${a}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:d,skewX:h,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),d&&(n+=`rotateY(${d}deg) `),h&&(n+=`skewX(${h}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const O4=["","X","Y","Z"],z3e=1e3;let W3e=0;function D4(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function JY(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=jY(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Jn,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&JY(n)}function QY({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=W3e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(G3e),this.nodes.forEach(J3e),this.nodes.forEach(Q3e),this.nodes.forEach(K3e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new I3e)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new mI),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=hY(s)&&!jNe(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u,f=0;const d=()=>this.root.updateBlockedByResize=!1;Jn.read(()=>{f=window.innerWidth}),e(s,()=>{const h=window.innerWidth;h!==f&&(f=h,this.root.updateBlockedByResize=!0,u&&u(),u=O3e(d,250),db.hasAnimatedSinceResize&&(db.hasAnimatedSinceResize=!1,this.nodes.forEach(A7)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:d,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||nPe,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!YY(this.targetLayout,h),b=!f&&d;if(this.options.layoutRoot||this.resumeFrom||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...NI(g,"layout"),onPlay:m,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(u,b)}else f||A7(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Z3e),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&JY(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(S7);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(E7);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Y3e),this.nodes.forEach(H3e),this.nodes.forEach(q3e)):this.nodes.forEach(E7),this.clearAllSnapshots();const o=uo.now();Ka.delta=Sf(0,1e3/60,o-Ka.timestamp),Ka.timestamp=o,Ka.isProcessing=!0,b4.update.process(Ka),b4.preRender.process(Ka),b4.render.process(Ka),Ka.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,PI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(X3e),this.sharedNodes.forEach(ePe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$s(this.snapshot.measuredBox.x)&&!$s(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Di(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!XY(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||t0(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),iPe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return Di();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(aPe))){const{scroll:u}=this.root;u&&(ym(o.x,u.offset.x),ym(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=Di();if(yl(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:d}=u;u!==this.root&&f&&d.layoutScroll&&(f.wasRoot&&yl(o,s),ym(o.x,f.offset.x),ym(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=Di();yl(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&xm(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),t0(u.latestValues)&&xm(l,u.latestValues)}return t0(this.latestValues)&&xm(l,this.latestValues),l}removeTransform(s){const o=Di();yl(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!t0(c.latestValues))continue;wN(c.latestValues)&&c.updateSnapshot();const u=Di(),f=c.measurePageBox();yl(u,f),v7(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return t0(this.latestValues)&&v7(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ka.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var d;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(d=this.parent)!=null&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Ka.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Di(),this.relativeTargetOrigin=Di(),$v(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),yl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Di(),this.targetWithTransforms=Di()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),f3e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yl(this.target,this.layout.layoutBox),PY(this.target,this.targetDelta)):yl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Di(),this.relativeTargetOrigin=Di(),$v(this.relativeTargetOrigin,this.target,h.target),yl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||wN(this.parent.latestValues)||CY(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ka.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;yl(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,d=this.treeScale.y;SCe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Di());const{target:h}=s;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p7(this.prevProjectionDelta.x,this.projectionDelta.x),p7(this.prevProjectionDelta.y,this.projectionDelta.y)),Vv(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==d||!_7(this.projectionDelta.x,this.prevProjectionDelta.x)||!_7(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=wm(),this.projectionDelta=wm(),this.projectionDeltaWithTransform=wm()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=wm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=Di(),h=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=h!==g,v=this.getStack(),y=!v||v.members.length<=1,b=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(rPe));this.animationProgress=0;let _;this.mixTargetDelta=N=>{const R=N/1e3;T7(f.x,s.x,R),T7(f.y,s.y,R),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&($v(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tPe(this.relativeTarget,this.relativeTargetOrigin,d,R),_&&U3e(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Di()),yl(_,this.relativeTarget)),m&&(this.animationValues=u,R3e(u,c,this.latestValues,R,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(fh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jn.update(()=>{db.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pg(0)),this.currentAnimation=C3e(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(z3e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&ZY(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Di();const f=$s(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const d=$s(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+d}yl(o,l),xm(o,u),Vv(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new V3e),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&D4("z",s,c,this.animationValues);for(let u=0;u<O4.length;u++)D4(`rotate${O4[u]}`,s,c,this.animationValues),D4(`skew${O4[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=fb(o==null?void 0:o.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=fb(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!t0(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=$3e(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),s.transform=f;const{x:d,y:h}=this.projectionDelta;s.transformOrigin=`${d.origin*100}% ${h.origin*100}% 0`,c.animationValues?s.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:s.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const g in $y){if(u[g]===void 0)continue;const{correct:m,applyTo:v,isCSSVariable:y}=$y[g],b=f==="none"?u[g]:m(u[g],c);if(v){const _=v.length;for(let N=0;N<_;N++)s[v[N]]=b}else y?this.options.visualElement.renderState.vars[g]=b:s[g]=b}this.options.layoutId&&(s.pointerEvents=c===this?fb(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(S7),this.root.sharedNodes.clear()}}}function H3e(e){e.updateLayout()}function q3e(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,s=t.source!==e.layout.source;a==="size"?Tl(f=>{const d=s?t.measuredBox[f]:t.layoutBox[f],h=$s(d);d.min=n[f].min,d.max=d.min+h}):ZY(a,t.layoutBox,n)&&Tl(f=>{const d=s?t.measuredBox[f]:t.layoutBox[f],h=$s(n[f]);d.max=d.min+h,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+h)});const o=wm();Vv(o,n,t.layoutBox);const l=wm();s?Vv(l,e.applyTransform(i,!0),t.measuredBox):Vv(l,n,t.layoutBox);const c=!XY(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const g=Di();$v(g,t.layoutBox,d.layoutBox);const m=Di();$v(m,n,h.layoutBox),YY(g,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function G3e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function K3e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function X3e(e){e.clearSnapshot()}function S7(e){e.clearMeasurements()}function E7(e){e.isLayoutDirty=!1}function Y3e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function A7(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function J3e(e){e.resolveTargetDelta()}function Q3e(e){e.calcProjection()}function Z3e(e){e.resetSkewAndRotation()}function ePe(e){e.removeLeadSnapshot()}function T7(e,t,r){e.translate=oi(t.translate,0,r),e.scale=oi(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function k7(e,t,r,n){e.min=oi(t.min,r.min,n),e.max=oi(t.max,r.max,n)}function tPe(e,t,r,n){k7(e.x,t.x,r.x,n),k7(e.y,t.y,r.y,n)}function rPe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const nPe={duration:.45,ease:[.4,0,.1,1]},N7=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),C7=N7("applewebkit/")&&!N7("chrome/")?Math.round:Ml;function P7(e){e.min=C7(e.min),e.max=C7(e.max)}function iPe(e){P7(e.x),P7(e.y)}function ZY(e,t,r){return e==="position"||e==="preserve-aspect"&&!u3e(b7(t),b7(r),.2)}function aPe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const sPe=QY({attachResizeListener:(e,t)=>zy(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),R4={current:void 0},eJ=QY({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!R4.current){const e=new sPe({});e.mount(window),e.setOptions({layoutScroll:!0}),R4.current=e}return R4.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),oPe={pan:{Feature:A3e},drag:{Feature:E3e,ProjectionNode:eJ,MeasureLayout:qY}};function I7(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&Jn.postRender(()=>a(t,Fx(t)))}class lPe extends Nh{mount(){const{current:t}=this.node;t&&(this.unmount=INe(t,(r,n)=>(I7(this.node,n,"Start"),i=>I7(this.node,i,"End"))))}unmount(){}}class cPe extends Nh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rx(zy(this.node.current,"focus",()=>this.onFocus()),zy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O7(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&Jn.postRender(()=>a(t,Fx(t)))}class uPe extends Nh{mount(){const{current:t}=this.node;t&&(this.unmount=LNe(t,(r,n)=>(O7(this.node,n,"Start"),(i,{success:a})=>O7(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const kN=new WeakMap,L4=new WeakMap,fPe=e=>{const t=kN.get(e.target);t&&t(e)},dPe=e=>{e.forEach(fPe)};function hPe({root:e,...t}){const r=e||document;L4.has(r)||L4.set(r,{});const n=L4.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(dPe,{root:e,...t})),n[i]}function pPe(e,t,r){const n=hPe(t);return kN.set(e,r),n.observe(e),()=>{kN.delete(e),n.unobserve(e)}}const mPe={some:0,all:1};class gPe extends Nh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:mPe[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,a&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(l)};return pPe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(vPe(t,r))&&this.startObserver()}unmount(){}}function vPe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const yPe={inView:{Feature:gPe},tap:{Feature:uPe},focus:{Feature:cPe},hover:{Feature:lPe}},xPe={layout:{ProjectionNode:eJ,MeasureLayout:qY}},wPe={...i3e,...yPe,...oPe,...xPe},gt=wCe(wPe,DCe),bPe=["roberto@mistatas.com"],_Pe=e=>e!=null&&e.email?e.email.includes("admin")||e.role==="admin"||bPe.includes(e.email):!1;let j4=!1;const SPe=async e=>{var r;if(console.log("🚀 INICIANDO INICIALIZACIÓN DEL STORE:",{userId:e,initialized:j4}),j4){console.log("⚠️ Store ya inicializado, saltando...");return}const t=S_.getState();console.log("📊 Estado inicial del store:",{beneficiariesCount:((r=t.beneficiaries)==null?void 0:r.length)||0,shouldReload:t.shouldReload,stats:t.stats});try{const n=t.beneficiaries&&t.beneficiaries.length>0;if(console.log("💾 ¿Hay datos persistidos?",n),!n)console.log("📥 Cargando beneficiarios desde Firebase..."),await t.loadBeneficiaries(e);else{console.log("📋 Usando datos persistidos del store...");const i=t.calculateStats(t.beneficiaries);S_.setState({stats:i}),console.log("✅ Estadísticas actualizadas:",i)}j4=!0,console.log("✅ Store inicializado correctamente")}catch(n){console.error("❌ Error inicializando store de beneficiarios:",n);try{console.log("🔄 Intentando recarga forzada..."),await t.forceReload(e)}catch(i){console.error("❌ Error en reintento de carga:",i)}}},EPe=(e,t,r)=>{console.log("🔍 === DEBUGGING BENEFICIARY MATCH ==="),console.log("🎯 Buscando beneficiario:",e);const n=t.find(l=>l.nombre&&l.nombre.toLowerCase().includes(e.toLowerCase()));if(!n){console.log("❌ Beneficiario no encontrado en la lista de beneficiarios");return}console.log("✅ Beneficiario encontrado:",{nombre:n.nombre,fono:n.fono,sim:n.sim,appSim:n.appSim});const i=eu(n.nombre),a=[Qi(n.fono),Qi(n.sim),Qi(n.appSim)].filter(Boolean);console.log("📋 Datos normalizados del beneficiario:",{nombre:i,telefonos:a}),console.log("🔍 Buscando en",r.length,"asignaciones...");let s=!1,o=!1;return r.forEach((l,c)=>{const u=eu(l.beneficiary||l.nombre||l.beneficiario||""),f=[Qi(l.phone||l.primaryPhone||l.telefono||l.fono||""),Qi(l.sim||""),Qi(l.appSim||"")].filter(Boolean),d=yK(i,u);d&&(console.log(`✅ COINCIDENCIA POR NOMBRE encontrada en asignación ${c+1}:`),console.log("   - Beneficiario:",n.nombre,"→",i),console.log("   - Asignación:",l.beneficiary||l.nombre,"→",u),s=!0);const h=a.some(g=>f.some(m=>m===g));h&&(console.log(`✅ COINCIDENCIA POR TELÉFONO encontrada en asignación ${c+1}:`),console.log("   - Beneficiario teléfonos:",a),console.log("   - Asignación teléfonos:",f),o=!0),c<3&&console.log(`📋 Asignación ${c+1}:`,{original:{beneficiary:l.beneficiary,phone:l.phone},normalizado:{nombre:u,telefonos:f},coincidencia:{nombre:d,telefono:h}})}),console.log("📊 RESULTADO FINAL:"),console.log("   - Encontrado por nombre:",s),console.log("   - Encontrado por teléfono:",o),console.log("   - Debería estar asignado:",s||o),console.log("🔍 === FIN DEBUGGING ==="),{found:s||o,foundByName:s,foundByPhone:o,beneficiary:n,targetName:i,targetPhones:a}},APe=({onUploadComplete:e,onUploadError:t,isUploading:r=!1,className:n=""})=>{const[i,a]=L.useState(!1),[s,o]=L.useState(""),[l,c]=L.useState(0),[u,f]=L.useState(null),[d,h]=L.useState(!1),g=L.useRef(null),m=O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?a(!0):O.type==="dragleave"&&a(!1)},v=O=>{O.preventDefault(),O.stopPropagation(),a(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&b(O.dataTransfer.files[0])},y=O=>{O.preventDefault(),O.target.files&&O.target.files[0]&&b(O.target.files[0])},b=async O=>{if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel",".xlsx",".xls"].some(T=>O.type===T||O.name.toLowerCase().endsWith(T))){t("Por favor selecciona un archivo Excel válido (.xlsx o .xls)");return}if(O.size>10*1024*1024){t("El archivo es demasiado grande. Máximo 10MB permitido.");return}o(O.name);try{const T=await _(O);f(T),h(!0)}catch(T){t(`Error al procesar el archivo: ${T.message}`)}},_=O=>new Promise((k,S)=>{const T=new FileReader;T.onload=j=>{try{const E=new Uint8Array(j.target.result),C=Ey(E,{type:"array"}),D=C.SheetNames[0],q=C.Sheets[D],ee=Om.sheet_to_json(q,{header:1,defval:""});if(ee.length<2){S(new Error("El archivo debe contener al menos una fila de datos además del encabezado"));return}const le=ee[0],K=ee.slice(1).filter(X=>X.some(_e=>_e&&_e.toString().trim()!=="")).map((X,_e)=>({Nombre:X[0]||"",Fono:X[1]||"",Sim:X[2]||"",Direccion:X[3]||"","App Sim":X[4]||"",_rowIndex:_e+2}));if(K.length===0){S(new Error("No se encontraron datos válidos en el archivo"));return}k({headers:le,data:K,totalRows:K.length})}catch(E){S(new Error(`Error al leer el archivo Excel: ${E.message}`))}},T.onerror=()=>{S(new Error("Error al leer el archivo"))},T.readAsArrayBuffer(O)}),N=()=>{u&&e&&(e(u.data,{fileName:s,totalRows:u.totalRows,onProgress:c}),h(!1),f(null),o(""),g.current&&(g.current.value=""))},R=()=>{h(!1),f(null),o(""),c(0),g.current&&(g.current.value="")};return p.jsxs("div",{className:`space-y-4 ${n}`,children:[p.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`relative border-2 border-dashed rounded-lg p-6 transition-colors ${i?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"} ${r?"pointer-events-none opacity-50":""}`,onDragEnter:m,onDragLeave:m,onDragOver:m,onDrop:v,children:[p.jsx("input",{ref:g,type:"file",accept:".xlsx,.xls",onChange:y,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:r}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",children:r?p.jsx(yse,{className:"h-12 w-12 animate-spin"}):p.jsx(Zm,{className:"h-12 w-12"})}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:r?"Procesando archivo...":i?"Suelta el archivo aquí":"Arrastra tu archivo Excel aquí"}),p.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r?`Progreso: ${l}%`:"o haz clic para seleccionar un archivo (.xlsx, .xls)"}),s&&!r&&p.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[p.jsx(dse,{className:"h-4 w-4"}),p.jsx("span",{children:s})]})]})]}),r&&l>0&&p.jsx(gt.div,{className:"mt-4",initial:{opacity:0},animate:{opacity:1},children:p.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:p.jsx(gt.div,{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${l}%`},initial:{width:0},animate:{width:`${l}%`}})})})]}),p.jsxs(gt.div,{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[p.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Formato esperado del Excel:"}),p.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Columna A:"})," Nombre del beneficiario"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Columna B:"})," Fono (teléfono principal)"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Columna C:"})," Sim (teléfono secundario)"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Columna D:"})," Dirección"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Columna E:"})," App Sim (otro número de contacto)"]})]}),p.jsx("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-300",children:'Nota: Los números "000000000" serán ignorados automáticamente'})]}),d&&u&&p.jsx(gt.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:{opacity:0},animate:{opacity:1},children:p.jsxs(gt.div,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Vista previa del archivo"}),p.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[u.totalRows," beneficiarios encontrados"]})]}),p.jsx("button",{onClick:R,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:p.jsx(tg,{className:"h-5 w-5"})})]}),p.jsx("div",{className:"p-6 overflow-y-auto max-h-96",children:p.jsxs("div",{className:"overflow-x-auto",children:[p.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[p.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nombre"}),p.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Fono"}),p.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sim"}),p.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Dirección"}),p.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"App Sim"})]})}),p.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:u.data.slice(0,10).map((O,k)=>p.jsxs("tr",{className:k%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700",children:[p.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:O.Nombre||"N/A"}),p.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:O.Fono||"N/A"}),p.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:O.Sim||"N/A"}),p.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100 max-w-xs truncate",children:O.Direccion||"N/A"}),p.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:O["App Sim"]||"N/A"})]},k))})]}),u.data.length>10&&p.jsxs("div",{className:"text-center py-4 text-sm text-gray-500 dark:text-gray-400",children:["... y ",u.data.length-10," filas más"]})]})}),p.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[p.jsx("button",{onClick:R,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),p.jsxs("button",{onClick:N,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center space-x-2",children:[p.jsx(es,{className:"h-4 w-4"}),p.jsxs("span",{children:["Confirmar y cargar ",u.totalRows," beneficiarios"]})]})]})]})})]})},TPe=({beneficiaries:e=[],searchTerm:t="",onSearchChange:r,onEdit:n,onDelete:i,isLoading:a=!1,className:s=""})=>{const[o,l]=L.useState("all"),[c,u]=L.useState("name"),[f,d]=L.useState("asc"),h=L.useMemo(()=>{let b=[...e];switch(o){case"with-phone":b=b.filter(_=>_.telefonosValidos&&_.telefonosValidos.length>0);break;case"without-phone":b=b.filter(_=>!_.telefonosValidos||_.telefonosValidos.length===0);break;case"incomplete":b=b.filter(_=>!_.nombre||!_.direccion||!_.telefonosValidos||_.telefonosValidos.length===0);break}if(t&&t.trim()!==""){const _=t.toLowerCase().trim();b=b.filter(N=>N.nombre&&N.nombre.toLowerCase().includes(_)||N.direccion&&N.direccion.toLowerCase().includes(_)||N.fono&&N.fono.includes(_)||N.sim&&N.sim.includes(_)||N.appSim&&N.appSim.includes(_))}return b.sort((_,N)=>{var O,k,S,T,j,E;let R=0;switch(c){case"name":R=(_.nombre||"").localeCompare(N.nombre||"");break;case"date":const C=((k=(O=_.creadoEn)==null?void 0:O.toDate)==null?void 0:k.call(O))||new Date(0),D=((T=(S=N.creadoEn)==null?void 0:S.toDate)==null?void 0:T.call(S))||new Date(0);R=C-D;break;case"phone-count":const q=((j=_.telefonosValidos)==null?void 0:j.length)||0,ee=((E=N.telefonosValidos)==null?void 0:E.length)||0;R=q-ee;break}return f==="desc"?-R:R}),b},[e,t,o,c,f]),g=b=>{var _;return((_=b.telefonosValidos)==null?void 0:_.length)||0},m=b=>{if(!b)return"N/A";try{return(b.toDate?b.toDate():new Date(b)).toLocaleDateString("es-CL",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"N/A"}},v=b=>{const _=g(b);return!b.nombre||!b.direccion?"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20":_===0?"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20":"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20"},y=b=>{const _=g(b);return!b.nombre||!b.direccion?p.jsx(Hs,{className:"h-4 w-4 text-red-500"}):_===0?p.jsx(Hs,{className:"h-4 w-4 text-yellow-500"}):p.jsx(nl,{className:"h-4 w-4 text-green-500"})};return p.jsxs("div",{className:`space-y-6 ${s}`,children:[p.jsxs(gt.div,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[p.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"relative",children:[p.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Buscar por nombre, dirección o teléfono...",value:t,onChange:b=>r==null?void 0:r(b.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsxs("select",{value:o,onChange:b=>l(b.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[p.jsx("option",{value:"all",children:"Todos"}),p.jsx("option",{value:"with-phone",children:"Con teléfono"}),p.jsx("option",{value:"without-phone",children:"Sin teléfono"}),p.jsx("option",{value:"incomplete",children:"Datos incompletos"})]}),p.jsxs("select",{value:`${c}-${f}`,onChange:b=>{const[_,N]=b.target.value.split("-");u(_),d(N)},className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[p.jsx("option",{value:"name-asc",children:"Nombre A-Z"}),p.jsx("option",{value:"name-desc",children:"Nombre Z-A"}),p.jsx("option",{value:"date-desc",children:"Más reciente"}),p.jsx("option",{value:"date-asc",children:"Más antiguo"}),p.jsx("option",{value:"phone-count-desc",children:"Más teléfonos"}),p.jsx("option",{value:"phone-count-asc",children:"Menos teléfonos"})]})]})]}),p.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400",children:[p.jsxs("span",{children:["Total: ",e.length]}),p.jsxs("span",{children:["Mostrados: ",h.length]}),p.jsxs("span",{children:["Con teléfono: ",e.filter(b=>g(b)>0).length]}),p.jsxs("span",{children:["Sin teléfono: ",e.filter(b=>g(b)===0).length]})]})]}),p.jsx("div",{className:"space-y-3",children:p.jsx(hh,{children:a?p.jsxs(gt.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},children:[p.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),p.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Cargando beneficiarios..."})]}):h.length===0?p.jsxs(gt.div,{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",initial:{opacity:0},animate:{opacity:1},children:[p.jsx(nl,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No se encontraron beneficiarios"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t?"Intenta con otros términos de búsqueda o ajusta los filtros":"Aún no hay beneficiarios cargados"})]}):h.map((b,_)=>p.jsx(gt.div,{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border-l-4 p-4 hover:shadow-md transition-shadow ${v(b)}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},layout:!0,children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1 space-y-2",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[y(b),p.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:b.nombre||"Nombre no disponible"})]}),p.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[p.jsx(J$,{className:"h-4 w-4"}),p.jsx("span",{className:"text-sm",children:b.direccion||"Dirección no disponible"})]}),p.jsxs("div",{className:"space-y-1",children:[b.fono&&p.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[p.jsx(ua,{className:"h-4 w-4"}),p.jsxs("span",{className:"text-sm",children:["Fono: ",b.fono]})]}),b.sim&&p.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[p.jsx(ua,{className:"h-4 w-4"}),p.jsxs("span",{className:"text-sm",children:["Sim: ",b.sim]})]}),b.appSim&&p.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[p.jsx(ua,{className:"h-4 w-4"}),p.jsxs("span",{className:"text-sm",children:["App Sim: ",b.appSim]})]}),g(b)===0&&p.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Sin teléfonos válidos"})]}),p.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Creado: ",m(b.creadoEn)," • Teléfonos válidos: ",g(b)]})]}),p.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[p.jsx("button",{onClick:()=>n==null?void 0:n(b),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Editar beneficiario",children:p.jsx(Z$,{className:"h-4 w-4"})}),p.jsx("button",{onClick:()=>i==null?void 0:i(b),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Eliminar beneficiario",children:p.jsx(cy,{className:"h-4 w-4"})})]})]})},b.id))})}),h.length>50&&p.jsx(gt.div,{className:"text-center py-4",initial:{opacity:0},animate:{opacity:1},children:p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mostrando los primeros 50 resultados. Usa los filtros para refinar la búsqueda."})})]})},kPe=({beneficiaries:e=[],assignments:t=[],onAssignOperator:r,className:n=""})=>{const[i,a]=L.useState([]),[s,o]=L.useState(!1),[l,c]=L.useState(""),[u,f]=L.useState(!0);L.useEffect(()=>{const m=()=>{if(f(!0),console.log("🔍 UnassignedBeneficiaries - Calculando sin asignar:",{beneficiaries:e.length,assignments:t.length}),t.length===0){console.log("⚠️ No hay asignaciones, todos los beneficiarios aparecen como sin asignar"),a(e),f(!1);return}const v=t.map(b=>({nombre:b.beneficiary||b.nombre||b.beneficiario,telefono:b.phone||b.primaryPhone||b.telefono||b.fono,teleoperadora:b.operator||b.operatorName||b.teleoperadora||b.operador})).filter(b=>b.nombre&&b.teleoperadora);console.log("📋 Asignaciones procesadas:",{total:v.length,muestra:v.slice(0,3).map(b=>({nombre:b.nombre,teleoperadora:b.teleoperadora}))});const y=e.filter(b=>!qk(b,v));console.log("📊 Resultado del cálculo:",{totalBeneficiarios:e.length,asignados:v.length,sinAsignar:y.length}),a(y),f(!1)};e.length>0?m():f(!1)},[e,t]);const d=i.filter(m=>{if(!l.trim())return!0;const v=l.toLowerCase();return m.nombre&&m.nombre.toLowerCase().includes(v)||m.direccion&&m.direccion.toLowerCase().includes(v)||m.fono&&m.fono.includes(v)||m.sim&&m.sim.includes(v)||m.appSim&&m.appSim.includes(v)}),h=m=>[m.fono,m.sim,m.appSim].filter(v=>v&&v!=="000000000").join(", ")||"Sin teléfonos válidos",g=()=>{const m=[["BENEFICIARIOS SIN ASIGNAR"],[],[`Generado el: ${new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}`],[`Total de beneficiarios sin asignar: ${d.length}`],[],["#","Nombre","Dirección","Teléfono Principal","SIM","App SIM","Fecha Registro"],...d.map((O,k)=>[k+1,O.nombre||"Sin nombre",O.direccion||"Sin dirección",O.fono||"",O.sim||"",O.appSim||"",O.creadoEn?new Date(O.creadoEn).toLocaleDateString("es-ES"):"Sin fecha"])],v=Om.aoa_to_sheet(m),y=Om.book_new(),b=[{wch:5},{wch:30},{wch:40},{wch:15},{wch:15},{wch:15},{wch:15}];v["!cols"]=b,v["!merges"]||(v["!merges"]=[]),v["!merges"].push({s:{r:0,c:0},e:{r:0,c:6}});const _="A1";v[_]&&(v[_].s={font:{bold:!0,sz:16},alignment:{horizontal:"center"}}),["A7","B7","C7","D7","E7","F7","G7"].forEach(O=>{v[O]&&(v[O].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"3B82F6"}}})}),Om.book_append_sheet(y,v,"Beneficiarios Sin Asignar");const R=`beneficiarios-sin-asignar-${new Date().toISOString().split("T")[0]}.xlsx`;z1e(y,R)};return u?p.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${n}`,children:p.jsxs("div",{className:"p-6 text-center",children:[p.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),p.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Analizando asignaciones..."})]})}):p.jsxs(gt.div,{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden ${n}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[p.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>o(!s),children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:`p-2 rounded-lg ${i.length>0?"bg-yellow-100 dark:bg-yellow-900/20":"bg-green-100 dark:bg-green-900/20"}`,children:i.length>0?p.jsx(Xse,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}):p.jsx(Ji,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Beneficiarios sin asignar"}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:i.length===0?"Todos los beneficiarios tienen teleoperadora asignada":`${i.length} beneficiarios sin teleoperadora`})]})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[i.length>0&&p.jsxs("button",{onClick:m=>{m.stopPropagation(),g()},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors",title:"Exportar listado a Excel",children:[p.jsx(vv,{className:"h-4 w-4 mr-1"}),"Exportar Excel"]}),i.length>0&&p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:i.length}),s?p.jsx(G$,{className:"h-5 w-5 text-gray-400"}):p.jsx(q$,{className:"h-5 w-5 text-gray-400"})]})]})}),p.jsx(hh,{children:s&&p.jsx(gt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:i.length===0?p.jsxs("div",{className:"p-6 text-center",children:[p.jsx(Ji,{className:"mx-auto h-12 w-12 text-green-400 mb-4"}),p.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"¡Excelente!"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Todos los beneficiarios de la base tienen una teleoperadora asignada."})]}):p.jsxs("div",{className:"p-4 space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Buscar beneficiarios sin asignar...",value:l,onChange:m=>c(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),p.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:p.jsxs("div",{className:"flex items-start space-x-2",children:[p.jsx(Hs,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),p.jsxs("div",{className:"text-sm",children:[p.jsx("p",{className:"text-yellow-800 dark:text-yellow-200 font-medium",children:"Beneficiarios sin teleoperadora asignada"}),p.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 mt-1",children:"Estos beneficiarios están en la base pero no aparecen en el módulo de Asignaciones. Es recomendable asignarles una teleoperadora para garantizar el seguimiento."})]})]})}),p.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:d.length===0?p.jsxs("div",{className:"text-center py-6",children:[p.jsx(co,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No se encontraron beneficiarios con ese criterio de búsqueda"})]}):d.map((m,v)=>{var y;return p.jsx(gt.div,{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 border border-gray-200 dark:border-gray-600",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.05},children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1 space-y-2",children:[p.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:m.nombre}),p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["📍 ",m.direccion]}),p.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[p.jsx(ua,{className:"h-4 w-4"}),p.jsx("span",{children:h(m)})]}),p.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[((y=m.telefonosValidos)==null?void 0:y.length)||0," teléfonos válidos"]})]}),p.jsx("button",{onClick:()=>r==null?void 0:r(m),className:"ml-3 px-3 py-1.5 text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-200 dark:hover:bg-blue-900/40 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Asignar"})]})},m.id)})}),p.jsx("div",{className:"text-center pt-3 border-t border-gray-200 dark:border-gray-700",children:p.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[d.length," de ",i.length," beneficiarios mostrados"]})})]})})})]})},NPe=()=>{const{user:e}=Ep(),[t,r]=L.useState("dashboard"),[n,i]=L.useState(!1),[a,s]=L.useState(null),{beneficiaries:o,stats:l,isLoading:c,isUploading:u,uploadProgress:f,searchTerm:d,setSearchTerm:h,setBeneficiaries:g,loadBeneficiaries:m,forceReload:v,uploadBeneficiaries:y,updateBeneficiaryData:b,deleteBeneficiaryData:_,findUnassignedBeneficiaries:N,validateAssignmentConsistency:R,getFilteredBeneficiaries:O}=S_(),{operatorAssignments:k,getAllAssignments:S}=ao();L.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{await SPe(e.uid)}catch(X){console.error("Error inicializando store:",X),T("❌ Error cargando beneficiarios","error")}})()},[e]),L.useEffect(()=>{o.length>0&&!c&&console.log("📊 Beneficiarios Base cargados:",{total:o.length,stats:l})},[o,l,c]),L.useEffect(()=>{if(o.length>0){const K=S();console.log("🔄 Actualizando estadísticas con asignaciones:",K.length);const X=N(K);console.log("👥 Beneficiarios sin asignar encontrados:",X.length)}},[k,o,N,S]);const T=(K,X="info")=>{s({message:K,type:X}),setTimeout(()=>s(null),5e3)},j=async()=>{try{console.log("🔄 Sincronizando con módulo de asignaciones...");const K=S();if(console.log("🔍 Asignaciones obtenidas:",K),K.length===0){T("⚠️ No se encontraron asignaciones para sincronizar","warning");return}const X=N(K);T(`✅ Sincronización completada. ${K.length} asignaciones procesadas, ${X.length} beneficiarios sin asignar`,"success")}catch(K){console.error("Error en sincronización:",K),T("❌ Error al sincronizar con asignaciones","error")}},E=()=>{const K=prompt('Ingresa el nombre del beneficiario a debuggear (ej: "Mariana Apolonia Gonzalez Gonzalez"):');if(!K)return;const X=S();console.log("🔍 DEBUG ESPECÍFICO:",K),console.log("📋 Total asignaciones disponibles:",X.length),console.log("📋 Muestra de asignaciones:",X.slice(0,5));const _e=o.find(U=>{var V;return(V=U.nombre)==null?void 0:V.toLowerCase().includes(K.toLowerCase())});console.log("👤 Beneficiario encontrado en base:",_e);const Se=X.find(U=>{var V;return(V=U.beneficiary)==null?void 0:V.toLowerCase().includes(K.toLowerCase())});console.log("📝 Asignación encontrada:",Se);const P=EPe(K,o,X);T(P.found?`✅ ${K} está asignado a ${P.operator}`:`❌ ${K} NO está asignado`,P.found?"success":"error")},C=()=>{console.group("🔍 DIAGNÓSTICO COMPLETO - MÓDULO BENEFICIARIOS BASE");const K=S(),X=N(K);console.log("📊 RESUMEN GENERAL:"),console.log("- Total beneficiarios:",o.length),console.log("- Total asignaciones:",K.length),console.log("- Beneficiarios sin asignar:",X.length),console.log("- Diferencia esperada:",o.length-K.length),console.log("📋 FORMATO DE ASIGNACIONES (primeras 3):"),K.slice(0,3).forEach((P,U)=>{console.log(`${U+1}.`,{beneficiary:P.beneficiary,operator:P.operator,operatorName:P.operatorName,phone:P.phone})}),console.log("👥 FORMATO DE BENEFICIARIOS (primeros 3):"),o.slice(0,3).forEach((P,U)=>{console.log(`${U+1}.`,{nombre:P.nombre,fono:P.fono,sim:P.sim})});const _e=o.find(P=>{var U;return(U=P.nombre)==null?void 0:U.toLowerCase().includes("mariana apolonia")}),Se=K.find(P=>{var U;return(U=P.beneficiary)==null?void 0:U.toLowerCase().includes("mariana apolonia")});console.log("🎯 CASO ESPECÍFICO - Mariana Apolonia:"),console.log("- En beneficiarios:",_e?"SÍ":"NO"),console.log("- En asignaciones:",Se?"SÍ":"NO"),_e&&console.log("👤 Datos de Mariana en beneficiarios:",_e),Se&&console.log("📝 Datos de Mariana en asignaciones:",Se),console.groupEnd(),T(`🔍 Diagnóstico completado. Ver consola para detalles. ${K.length} asignaciones, ${X.length} sin asignar`,"info")},D=async(K,X)=>{try{console.log("📤 UPLOAD EXCEL - Iniciando..."),console.log(`📊 Registros en Excel: ${K.length}`);const{beneficiaryService:_e}=await cu(async()=>{const{beneficiaryService:P}=await Promise.resolve().then(()=>cEe);return{beneficiaryService:P}},void 0),Se=await _e.uploadBeneficiaries(K,e.uid,P=>{console.log("📊 Progreso:",P),X!=null&&X.onProgress&&X.onProgress(P.processed||0)},!0);if(Se.success){g(Se.data);const P=Se.replacedPrevious?`✅ Base de datos REEMPLAZADA: ${Se.successful} beneficiarios cargados`:`✅ Se cargaron ${Se.successful} beneficiarios correctamente`,U=Se.errors>0?` (${Se.errors} errores encontrados)`:"";T(P+U,"success"),console.log("✅ UPLOAD COMPLETADO:",Se),i(!1)}else throw new Error(Se.message||"Error durante la carga")}catch(_e){console.error("❌ Error en upload:",_e),T(`❌ Error: ${_e.message}`,"error")}},q=K=>{console.log("Editar beneficiario:",K)},ee=async K=>{if(window.confirm(`¿Estás seguro de eliminar a ${K.nombre}?`))try{await _(K.id)?T(`✅ ${K.nombre} eliminado correctamente`,"success"):T("❌ Error al eliminar beneficiario","error")}catch(X){T(`❌ Error: ${X.message}`,"error")}},le=K=>{console.log("Asignar teleoperadora a:",K),T(`TODO: Implementar asignación para ${K.nombre}`,"info")},se=O();return p.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[a&&p.jsx(gt.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-md ${a.type==="success"?"bg-green-500 text-white":a.type==="error"?"bg-red-500 text-white":a.type==="warning"?"bg-yellow-500 text-white":"bg-blue-500 text-white"}`,children:a.message}),p.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[p.jsxs("div",{className:"flex justify-between items-center py-4",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(Ub,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Beneficiarios Base"}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gestión centralizada de beneficiarios y validación con asignaciones"})]})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs("button",{onClick:j,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[p.jsx(Cse,{className:"h-4 w-4"}),p.jsx("span",{children:"Sincronizar con Asignaciones"})]}),p.jsxs("button",{onClick:C,className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[p.jsx(Hae,{className:"h-4 w-4"}),p.jsx("span",{children:"Diagnóstico"})]}),p.jsxs("button",{onClick:E,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[p.jsx(co,{className:"h-4 w-4"}),p.jsx("span",{children:"Debug Específico"})]}),_Pe(e==null?void 0:e.email)&&p.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[p.jsx(Zm,{className:"h-4 w-4"}),p.jsx("span",{children:"Cargar Excel"})]})]})]}),p.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:p.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:Ub},{id:"list",name:"Lista completa",icon:Ji},{id:"validation",name:"Validación",icon:es}].map(K=>p.jsxs("button",{onClick:()=>r(K.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===K.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[p.jsx(K.icon,{className:"h-4 w-4"}),p.jsx("span",{children:K.name})]},K.id))})})]})}),p.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t==="dashboard"&&p.jsxs(gt.div,{initial:{opacity:0},animate:{opacity:1},children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Dashboard de Beneficiarios"}),p.jsx(kPe,{beneficiaries:o,assignments:S(),onAssignOperator:le}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:p.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[p.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Distribución por Estado"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Con Asignación"}),p.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:l.total-l.unassigned})]}),p.jsxs("div",{className:"flex justify-between",children:[p.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sin Asignar"}),p.jsx("span",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400",children:l.unassigned})]})]})]})})]},"dashboard"),t==="list"&&p.jsx(gt.div,{initial:{opacity:0},animate:{opacity:1},children:p.jsx(TPe,{beneficiaries:se,searchTerm:d,onSearchChange:h,onEdit:q,onDelete:ee,onAssignOperator:le,isLoading:c})},"list"),t==="validation"&&p.jsx(gt.div,{initial:{opacity:0},animate:{opacity:1},children:p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[p.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Validación y Consistencia"}),p.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Herramientas de validación y auditoría en desarrollo..."})]})},"validation")]}),n&&p.jsx(APe,{onUploadComplete:D,onClose:()=>i(!1),isUploading:u,uploadProgress:f})]})};function tJ(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=tJ(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Dr(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=tJ(e))&&(n&&(n+=" "),n+=t);return n}const $I="-",CPe=e=>{const t=IPe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split($I);return o[0]===""&&o.length!==1&&o.shift(),rJ(o,t)||PPe(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},rJ=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?rJ(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const a=e.join($I);return(s=t.validators.find(({validator:o})=>o(a)))==null?void 0:s.classGroupId},D7=/^\[(.+)\]$/,PPe=e=>{if(D7.test(e)){const t=D7.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},IPe=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const i in r)NN(r[i],n,i,t);return n},NN=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const a=i===""?t:R7(t,i);a.classGroupId=r;return}if(typeof i=="function"){if(OPe(i)){NN(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,s])=>{NN(s,R7(t,a),r,n)})})},R7=(e,t)=>{let r=e;return t.split($I).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},OPe=e=>e.isThemeGetter,DPe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(a,s)=>{r.set(a,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let s=r.get(a);if(s!==void 0)return s;if((s=n.get(a))!==void 0)return i(a,s),s},set(a,s){r.has(a)?r.set(a,s):i(a,s)}}},CN="!",PN=":",RPe=PN.length,LPe=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=i=>{const a=[];let s=0,o=0,l=0,c;for(let g=0;g<i.length;g++){let m=i[g];if(s===0&&o===0){if(m===PN){a.push(i.slice(l,g)),l=g+RPe;continue}if(m==="/"){c=g;continue}}m==="["?s++:m==="]"?s--:m==="("?o++:m===")"&&o--}const u=a.length===0?i:i.substring(l),f=jPe(u),d=f!==u,h=c&&c>l?c-l:void 0;return{modifiers:a,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}};if(t){const i=t+PN,a=n;n=s=>s.startsWith(i)?a(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const i=n;n=a=>r({className:a,parseClassName:i})}return n},jPe=e=>e.endsWith(CN)?e.substring(0,e.length-1):e.startsWith(CN)?e.substring(1):e,FPe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const i=[];let a=[];return n.forEach(s=>{s[0]==="["||t[s]?(i.push(...a.sort(),s),a=[]):a.push(s)}),i.push(...a.sort()),i}},MPe=e=>({cache:DPe(e.cacheSize),parseClassName:LPe(e),sortModifiers:FPe(e),...CPe(e)}),BPe=/\s+/,UPe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i,sortModifiers:a}=t,s=[],o=e.trim().split(BPe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{isExternal:f,modifiers:d,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:m}=r(u);if(f){l=u+(l.length>0?" "+l:l);continue}let v=!!m,y=n(v?g.substring(0,m):g);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=n(g),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=a(d).join(":"),_=h?b+CN:b,N=_+y;if(s.includes(N))continue;s.push(N);const R=i(y,v);for(let O=0;O<R.length;++O){const k=R[O];s.push(_+k)}l=u+(l.length>0?" "+l:l)}return l};function VPe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=nJ(t))&&(n&&(n+=" "),n+=r);return n}const nJ=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=nJ(e[n]))&&(r&&(r+=" "),r+=t);return r};function $Pe(e,...t){let r,n,i,a=s;function s(l){const c=t.reduce((u,f)=>f(u),e());return r=MPe(c),n=r.cache.get,i=r.cache.set,a=o,o(l)}function o(l){const c=n(l);if(c)return c;const u=UPe(l,r);return i(l,u),u}return function(){return a(VPe.apply(null,arguments))}}const la=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},iJ=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,aJ=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zPe=/^\d+\/\d+$/,WPe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,HPe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qPe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GPe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,KPe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wp=e=>zPe.test(e),_r=e=>!!e&&!Number.isNaN(Number(e)),pd=e=>!!e&&Number.isInteger(Number(e)),F4=e=>e.endsWith("%")&&_r(e.slice(0,-1)),Mu=e=>WPe.test(e),XPe=()=>!0,YPe=e=>HPe.test(e)&&!qPe.test(e),sJ=()=>!1,JPe=e=>GPe.test(e),QPe=e=>KPe.test(e),ZPe=e=>!Nt(e)&&!Ct(e),eIe=e=>qg(e,cJ,sJ),Nt=e=>iJ.test(e),Xh=e=>qg(e,uJ,YPe),M4=e=>qg(e,aIe,_r),L7=e=>qg(e,oJ,sJ),tIe=e=>qg(e,lJ,QPe),vw=e=>qg(e,fJ,JPe),Ct=e=>aJ.test(e),M1=e=>Gg(e,uJ),rIe=e=>Gg(e,sIe),j7=e=>Gg(e,oJ),nIe=e=>Gg(e,cJ),iIe=e=>Gg(e,lJ),yw=e=>Gg(e,fJ,!0),qg=(e,t,r)=>{const n=iJ.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Gg=(e,t,r=!1)=>{const n=aJ.exec(e);return n?n[1]?t(n[1]):r:!1},oJ=e=>e==="position"||e==="percentage",lJ=e=>e==="image"||e==="url",cJ=e=>e==="length"||e==="size"||e==="bg-size",uJ=e=>e==="length",aIe=e=>e==="number",sIe=e=>e==="family-name",fJ=e=>e==="shadow",oIe=()=>{const e=la("color"),t=la("font"),r=la("text"),n=la("font-weight"),i=la("tracking"),a=la("leading"),s=la("breakpoint"),o=la("container"),l=la("spacing"),c=la("radius"),u=la("shadow"),f=la("inset-shadow"),d=la("text-shadow"),h=la("drop-shadow"),g=la("blur"),m=la("perspective"),v=la("aspect"),y=la("ease"),b=la("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],N=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...N(),Ct,Nt],O=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],S=()=>[Ct,Nt,l],T=()=>[Wp,"full","auto",...S()],j=()=>[pd,"none","subgrid",Ct,Nt],E=()=>["auto",{span:["full",pd,Ct,Nt]},pd,Ct,Nt],C=()=>[pd,"auto",Ct,Nt],D=()=>["auto","min","max","fr",Ct,Nt],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],le=()=>["auto",...S()],se=()=>[Wp,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],K=()=>[e,Ct,Nt],X=()=>[...N(),j7,L7,{position:[Ct,Nt]}],_e=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Se=()=>["auto","cover","contain",nIe,eIe,{size:[Ct,Nt]}],P=()=>[F4,M1,Xh],U=()=>["","none","full",c,Ct,Nt],V=()=>["",_r,M1,Xh],z=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[_r,F4,j7,L7],xe=()=>["","none",g,Ct,Nt],oe=()=>["none",_r,Ct,Nt],he=()=>["none",_r,Ct,Nt],Pe=()=>[_r,Ct,Nt],G=()=>[Wp,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Mu],breakpoint:[Mu],color:[XPe],container:[Mu],"drop-shadow":[Mu],ease:["in","out","in-out"],font:[ZPe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Mu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Mu],shadow:[Mu],spacing:["px",_r],text:[Mu],"text-shadow":[Mu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Wp,Nt,Ct,v]}],container:["container"],columns:[{columns:[_r,Nt,Ct,o]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[pd,"auto",Ct,Nt]}],basis:[{basis:[Wp,"full","auto",o,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_r,Wp,"auto","initial","none",Nt]}],grow:[{grow:["",_r,Ct,Nt]}],shrink:[{shrink:["",_r,Ct,Nt]}],order:[{order:[pd,"first","last","none",Ct,Nt]}],"grid-cols":[{"grid-cols":j()}],"col-start-end":[{col:E()}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":j()}],"row-start-end":[{row:E()}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:le()}],mx:[{mx:le()}],my:[{my:le()}],ms:[{ms:le()}],me:[{me:le()}],mt:[{mt:le()}],mr:[{mr:le()}],mb:[{mb:le()}],ml:[{ml:le()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:se()}],w:[{w:[o,"screen",...se()]}],"min-w":[{"min-w":[o,"screen","none",...se()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...se()]}],h:[{h:["screen","lh",...se()]}],"min-h":[{"min-h":["screen","lh","none",...se()]}],"max-h":[{"max-h":["screen","lh",...se()]}],"font-size":[{text:["base",r,M1,Xh]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ct,M4]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",F4,Nt]}],"font-family":[{font:[rIe,Nt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ct,Nt]}],"line-clamp":[{"line-clamp":[_r,"none",Ct,M4]}],leading:[{leading:[a,...S()]}],"list-image":[{"list-image":["none",Ct,Nt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ct,Nt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:[_r,"from-font","auto",Ct,Xh]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[_r,"auto",Ct,Nt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ct,Nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ct,Nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:X()}],"bg-repeat":[{bg:_e()}],"bg-size":[{bg:Se()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},pd,Ct,Nt],radial:["",Ct,Nt],conic:[pd,Ct,Nt]},iIe,tIe]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:P()}],"gradient-via-pos":[{via:P()}],"gradient-to-pos":[{to:P()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:V()}],"border-w-x":[{"border-x":V()}],"border-w-y":[{"border-y":V()}],"border-w-s":[{"border-s":V()}],"border-w-e":[{"border-e":V()}],"border-w-t":[{"border-t":V()}],"border-w-r":[{"border-r":V()}],"border-w-b":[{"border-b":V()}],"border-w-l":[{"border-l":V()}],"divide-x":[{"divide-x":V()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":V()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...z(),"hidden","none"]}],"divide-style":[{divide:[...z(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_r,Ct,Nt]}],"outline-w":[{outline:["",_r,M1,Xh]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",u,yw,vw]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",f,yw,vw]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[_r,Xh]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":V()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",d,yw,vw]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[_r,Ct,Nt]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_r]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[Ct,Nt]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":N()}],"mask-image-conic-pos":[{"mask-conic":[_r]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:X()}],"mask-repeat":[{mask:_e()}],"mask-size":[{mask:Se()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ct,Nt]}],filter:[{filter:["","none",Ct,Nt]}],blur:[{blur:xe()}],brightness:[{brightness:[_r,Ct,Nt]}],contrast:[{contrast:[_r,Ct,Nt]}],"drop-shadow":[{"drop-shadow":["","none",h,yw,vw]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",_r,Ct,Nt]}],"hue-rotate":[{"hue-rotate":[_r,Ct,Nt]}],invert:[{invert:["",_r,Ct,Nt]}],saturate:[{saturate:[_r,Ct,Nt]}],sepia:[{sepia:["",_r,Ct,Nt]}],"backdrop-filter":[{"backdrop-filter":["","none",Ct,Nt]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[_r,Ct,Nt]}],"backdrop-contrast":[{"backdrop-contrast":[_r,Ct,Nt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_r,Ct,Nt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_r,Ct,Nt]}],"backdrop-invert":[{"backdrop-invert":["",_r,Ct,Nt]}],"backdrop-opacity":[{"backdrop-opacity":[_r,Ct,Nt]}],"backdrop-saturate":[{"backdrop-saturate":[_r,Ct,Nt]}],"backdrop-sepia":[{"backdrop-sepia":["",_r,Ct,Nt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ct,Nt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_r,"initial",Ct,Nt]}],ease:[{ease:["linear","initial",y,Ct,Nt]}],delay:[{delay:[_r,Ct,Nt]}],animate:[{animate:["none",b,Ct,Nt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[m,Ct,Nt]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:oe()}],"rotate-x":[{"rotate-x":oe()}],"rotate-y":[{"rotate-y":oe()}],"rotate-z":[{"rotate-z":oe()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":["scale-3d"],skew:[{skew:Pe()}],"skew-x":[{"skew-x":Pe()}],"skew-y":[{"skew-y":Pe()}],transform:[{transform:[Ct,Nt,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ct,Nt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ct,Nt]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[_r,M1,Xh,M4]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},lIe=$Pe(oIe);function Ch(...e){return lIe(Dr(e))}const $r=tl.forwardRef(({className:e,...t},r)=>p.jsx("div",{ref:r,className:Ch("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));$r.displayName="Card";const zr=tl.forwardRef(({className:e,...t},r)=>p.jsx("div",{ref:r,className:Ch("flex flex-col space-y-1.5 p-6",e),...t}));zr.displayName="CardHeader";const Wr=tl.forwardRef(({className:e,...t},r)=>p.jsx("h3",{ref:r,className:Ch("text-2xl font-semibold leading-none tracking-tight",e),...t}));Wr.displayName="CardTitle";const da=tl.forwardRef(({className:e,...t},r)=>p.jsx("p",{ref:r,className:Ch("text-sm text-muted-foreground",e),...t}));da.displayName="CardDescription";const Hr=tl.forwardRef(({className:e,...t},r)=>p.jsx("div",{ref:r,className:Ch("p-6 pt-0",e),...t}));Hr.displayName="CardContent";const cIe=tl.forwardRef(({className:e,...t},r)=>p.jsx("div",{ref:r,className:Ch("flex items-center p-6 pt-0",e),...t}));cIe.displayName="CardFooter";const F7=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,M7=Dr,uIe=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return M7(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:i,defaultVariants:a}=t,s=Object.keys(i).map(c=>{const u=r==null?void 0:r[c],f=a==null?void 0:a[c];if(u===null)return null;const d=F7(u)||F7(f);return i[c][d]}),o=r&&Object.entries(r).reduce((c,u)=>{let[f,d]=u;return d===void 0||(c[f]=d),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(g=>{let[m,v]=g;return Array.isArray(v)?v.includes({...a,...o}[m]):{...a,...o}[m]===v})?[...c,f,d]:c},[]);return M7(e,s,l,r==null?void 0:r.class,r==null?void 0:r.className)},fIe=uIe("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",danger:"border-transparent bg-red-500 text-white hover:bg-red-600"}},defaultVariants:{variant:"default"}});function fo({className:e,variant:t,...r}){return p.jsx("div",{className:Ch(fIe({variant:t}),e),...r})}const dIe=async()=>{console.log("🏗️ Inicializando estructura de métricas en Firestore...");try{const e=Ly(Wt),t=tn(Wt,"metrics","global");e.set(t,{totalCalls:0,successfulCalls:0,failedCalls:0,uniqueBeneficiaries:0,averageDuration:0,protocolCompliance:0,lastUpdated:Zr(),created:Zr()});const r=tn(Wt,"systemConfig","metricsConfig");e.set(r,{alDiaThreshold:15,pendienteThreshold:30,urgenteThreshold:30,autoProcessing:!0,notificationsEnabled:!0,lastUpdated:Zr(),created:Zr()});const n=tn(wn(Wt,"processLogs"));return e.set(n,{type:"INITIALIZATION",status:"SUCCESS",message:"Estructura de métricas inicializada desde aplicación web",timestamp:Zr(),details:{collections:["metrics","systemConfig","processLogs"],method:"web_initialization"}}),await e.commit(),console.log("✅ Estructura de métricas inicializada correctamente"),{success:!0,message:"Estructura inicializada correctamente"}}catch(e){return console.error("❌ Error inicializando estructura:",e),{success:!1,error:e.message}}},hIe=async e=>{console.log("🔄 Procesando datos de Excel manualmente...");try{const t=Ly(Wt);let r=0;const n={},i={};e.forEach(c=>{const u=c.operador||"Sin asignar",f=c.beneficiario||"Sin nombre";if(n[u]||(n[u]={totalCalls:0,successfulCalls:0,failedCalls:0,totalDuration:0,beneficiaries:new Set}),n[u].totalCalls++,n[u].totalDuration+=c.duracion||0,n[u].beneficiaries.add(f),c.categoria==="exitosa"||c.resultado==="Llamado exitoso"?n[u].successfulCalls++:n[u].failedCalls++,i[f]||(i[f]={totalCalls:0,lastSuccessfulCall:null,operator:u,commune:c.comuna||c.commune||"N/A",phone:c.numero_cliente||c.phone||"N/A"}),i[f].totalCalls++,c.categoria==="exitosa"||c.resultado==="Llamado exitoso"){const d=new Date(c.fecha);(!i[f].lastSuccessfulCall||d>new Date(i[f].lastSuccessfulCall))&&(i[f].lastSuccessfulCall=c.fecha)}});for(const[c,u]of Object.entries(n)){const f=tn(Wt,"operatorMetrics",c);t.set(f,{operatorName:c,totalCalls:u.totalCalls,successfulCalls:u.successfulCalls,failedCalls:u.failedCalls,successRate:u.totalCalls>0?u.successfulCalls/u.totalCalls*100:0,averageDuration:u.totalCalls>0?Math.round(u.totalDuration/u.totalCalls):0,uniqueBeneficiaries:u.beneficiaries.size,lastUpdated:Zr()}),r++}for(const[c,u]of Object.entries(i)){let f="urgente";if(u.lastSuccessfulCall){const h=Math.floor((new Date-new Date(u.lastSuccessfulCall))/864e5);h<=15?f="al-dia":h<=30&&(f="pendiente")}const d=tn(Wt,"beneficiaryMetrics",c);t.set(d,{beneficiaryName:c,operator:u.operator,commune:u.commune,phone:u.phone,totalCalls:u.totalCalls,lastSuccessfulCall:u.lastSuccessfulCall,status:f,daysSinceLastSuccess:u.lastSuccessfulCall?Math.floor((new Date-new Date(u.lastSuccessfulCall))/(1e3*60*60*24)):null,lastUpdated:Zr()}),r++}const a=e.length,s=e.filter(c=>c.categoria==="exitosa"||c.resultado==="Llamado exitoso").length,o=tn(Wt,"metrics","global");t.set(o,{totalCalls:a,successfulCalls:s,failedCalls:a-s,uniqueBeneficiaries:Object.keys(i).length,uniqueOperators:Object.keys(n).length,averageDuration:a>0?Math.round(e.reduce((c,u)=>c+(u.duracion||0),0)/a):0,successRate:a>0?s/a*100:0,lastUpdated:Zr(),lastProcessed:Zr()});const l=tn(wn(Wt,"processLogs"));return t.set(l,{type:"MANUAL_PROCESSING",status:"SUCCESS",message:`Procesados ${r} registros manualmente`,timestamp:Zr(),details:{totalRecords:e.length,processedRecords:r,operators:Object.keys(n).length,beneficiaries:Object.keys(i).length}}),await t.commit(),console.log(`✅ Procesados ${r} registros correctamente`),{success:!0,message:`Procesados ${r} registros correctamente`,stats:{totalCalls:a,successfulCalls:s,operators:Object.keys(n).length,beneficiaries:Object.keys(i).length}}}catch(t){return console.error("❌ Error procesando datos:",t),{success:!1,error:t.message}}},pIe=async()=>{try{console.log("🔧 Configurando perfil de super admin...");const e={email:"roberto@mistatas.com",role:"super_admin",name:"Roberto Mistatas",isActive:!0,permissions:["read_all","write_all","manage_users","manage_metrics","system_admin"],createdAt:Zr(),updatedAt:Zr(),createdBy:"system"},{auth:t}=await cu(async()=>{const{auth:i}=await Promise.resolve().then(()=>gK);return{auth:i}},void 0),r=t.currentUser;if(!r)throw new Error("Usuario no autenticado. Inicia sesión primero.");if(r.email!=="roberto@mistatas.com")throw new Error("Solo el super admin puede ejecutar esta función.");const n=tn(Wt,"userProfiles",r.uid);return await k0(n,e,{merge:!0}),console.log("✅ Perfil de super admin configurado correctamente"),console.log("📧 Email:",r.email),console.log("🆔 UID:",r.uid),{success:!0,message:"Perfil de super admin configurado",uid:r.uid,email:r.email}}catch(e){return console.error("❌ Error configurando perfil:",e),{success:!1,error:e.message}}},mIe=async()=>{try{const{auth:e}=await cu(async()=>{const{auth:s}=await Promise.resolve().then(()=>gK);return{auth:s}},void 0),t=e.currentUser;if(!t)return{authenticated:!1};const{getDoc:r,doc:n}=await cu(async()=>{const{getDoc:s,doc:o}=await Promise.resolve().then(()=>a5e);return{getDoc:s,doc:o}},void 0),i=n(Wt,"userProfiles",t.uid),a=await r(i);return{authenticated:!0,uid:t.uid,email:t.email,hasProfile:a.exists(),profile:a.exists()?a.data():null}}catch(e){return{authenticated:!1,error:e.message}}};function dJ(){const[e,t]=L.useState(localStorage.getItem("showMetricsApp")==="true"),[r,n]=L.useState(!1),[i,a]=L.useState(null),{callData:s}=hg(),o=()=>{localStorage.setItem("showMetricsApp","true"),t(!0),window.location.reload()},l=()=>{localStorage.setItem("showMetricsApp","false"),t(!1),window.location.reload()},c=async()=>{n(!0),a(null);try{const v=await dIe();a(v)}catch(v){a({success:!1,error:v.message})}finally{n(!1)}},u=async()=>{if(!s||s.length===0){a({success:!1,error:"No hay datos de Excel cargados. Primero sube un archivo desde Registro de Llamadas."});return}n(!0),a(null);try{const v=await hIe(s);a(v)}catch(v){a({success:!1,error:v.message})}finally{n(!1)}},f=async()=>{n(!0),a(null);try{const v=await pIe();a(v)}catch(v){a({success:!1,error:v.message})}finally{n(!1)}},d=async()=>{n(!0),a(null);try{const v=await mIe();a({success:v.authenticated,message:v.authenticated?`Usuario autenticado: ${v.email}${v.hasProfile?" (Perfil configurado)":" (Sin perfil)"}`:"Usuario no autenticado",details:v})}catch(v){a({success:!1,error:v.message})}finally{n(!1)}},h=[{name:"Procesamiento Automático de Excel",status:"ready",description:"Cloud Functions procesan archivos automáticamente"},{name:"Métricas en Tiempo Real",status:"ready",description:"Dashboards se actualizan automáticamente"},{name:"Dashboard Global",status:"ready",description:"KPIs generales y análisis de distribución"},{name:"Dashboard de Teleoperadoras",status:"ready",description:"Métricas individuales con filtros"},{name:"Dashboard de Beneficiarios",status:"ready",description:"Estados y gestión de beneficiarios"},{name:"Firebase Cloud Functions",status:"pending",description:"Requiere deployment: firebase deploy --only functions"}],g=v=>{switch(v){case"ready":return p.jsx(es,{className:"h-4 w-4 text-green-500"});case"pending":return p.jsx(Qd,{className:"h-4 w-4 text-yellow-500"});default:return p.jsx(JR,{className:"h-4 w-4 text-blue-500"})}},m=v=>{switch(v){case"ready":return p.jsx(fo,{variant:"success",children:"Listo"});case"pending":return p.jsx(fo,{variant:"warning",children:"Pendiente"});default:return p.jsx(fo,{variant:"secondary",children:"Info"})}};return p.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sistema de Métricas Automatizadas"}),p.jsx("p",{className:"text-gray-600",children:"Dashboard avanzado con Cloud Functions para análisis de llamadas"})]}),p.jsxs($r,{children:[p.jsx(zr,{children:p.jsxs(Wr,{className:"flex items-center space-x-2",children:[p.jsx(ly,{className:"h-5 w-5"}),p.jsx("span",{children:"Estado Actual"})]})}),p.jsx(Hr,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Sistema de métricas:"}),p.jsx("p",{className:"font-medium",children:e?"✅ Habilitado":"❌ Deshabilitado"})]}),p.jsx("div",{className:"space-x-2",children:e?p.jsx("button",{onClick:l,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Volver al Sistema Original"}):p.jsxs("button",{onClick:o,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[p.jsx(Qc,{className:"h-4 w-4"}),p.jsx("span",{children:"Habilitar Sistema de Métricas"})]})})]})})]}),p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Funcionalidades Implementadas"}),p.jsx(da,{children:"Estado de las características del nuevo sistema"})]}),p.jsx(Hr,{children:p.jsx("div",{className:"space-y-4",children:h.map((v,y)=>p.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[p.jsxs("div",{className:"flex items-start space-x-3",children:[g(v.status),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium",children:v.name}),p.jsx("p",{className:"text-sm text-gray-600",children:v.description})]})]}),m(v.status)]},y))})})]}),p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"🔧 Herramientas de Configuración"}),p.jsx(da,{children:"Inicializa la base de datos y procesa datos sin Cloud Functions"})]}),p.jsx(Hr,{children:p.jsxs("div",{className:"space-y-4",children:[i&&p.jsxs("div",{className:`p-4 rounded-lg border ${i.success?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[i.success?p.jsx(es,{className:"h-4 w-4"}):p.jsx(Qd,{className:"h-4 w-4"}),i.success?"Éxito":"Error"]}),p.jsx("p",{className:"text-sm mt-1",children:i.message||i.error}),i.stats&&p.jsxs("div",{className:"text-xs mt-2 opacity-80",children:["Llamadas: ",i.stats.totalCalls," | Exitosas: ",i.stats.successfulCalls," | Operadoras: ",i.stats.operators," | Beneficiarios: ",i.stats.beneficiaries]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Ub,{className:"h-5 w-5 text-blue-600"}),p.jsx("h4",{className:"font-medium text-blue-800",children:"Paso 1: Inicializar BD"})]}),p.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Crea la estructura necesaria en Firestore"}),p.jsx("button",{onClick:c,disabled:r,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:bg-blue-300 transition-colors",children:r?"Inicializando...":"Inicializar Firestore"})]}),p.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(Zm,{className:"h-5 w-5 text-green-600"}),p.jsx("h4",{className:"font-medium text-green-800",children:"Paso 2: Procesar Excel"})]}),p.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Procesa datos cargados y calcula métricas"}),p.jsx("button",{onClick:u,disabled:r||!s||s.length===0,className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:bg-green-300 transition-colors",children:r?"Procesando...":"Procesar Datos Excel"}),(!s||s.length===0)&&p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'* Primero carga un Excel desde "Registro de Llamadas"'})]})]}),p.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(ly,{className:"h-5 w-5 text-purple-600"}),p.jsx("h4",{className:"font-medium text-purple-800",children:"Configuración de Permisos"})]}),p.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Configura perfil de administrador para resolver errores de permisos"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[p.jsx("button",{onClick:f,disabled:r,className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-300 transition-colors text-sm",children:r?"Configurando...":"Configurar Admin"}),p.jsx("button",{onClick:d,disabled:r,className:"bg-purple-500 text-white px-4 py-2 rounded-md hover:bg-purple-600 disabled:bg-purple-300 transition-colors text-sm",children:"Verificar Permisos"})]})]}),p.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:p.jsxs("div",{className:"flex items-start gap-2",children:[p.jsx(JR,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),p.jsxs("div",{className:"text-sm text-yellow-800",children:[p.jsx("strong",{children:"Nota:"})," Estas herramientas simulan el comportamiento de Cloud Functions para que puedas probar el sistema completo sin necesidad del plan Blaze de Firebase."]})]})})]})})]}),p.jsxs($r,{children:[p.jsx(zr,{children:p.jsxs(Wr,{className:"flex items-center space-x-2",children:[p.jsx(jse,{className:"h-5 w-5"}),p.jsx("span",{children:"Cómo Usar el Sistema"})]})}),p.jsx(Hr,{children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-green-700",children:"1. Para Frontend (Ya listo)"}),p.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:["• Habilita el sistema con el botón de arriba",p.jsx("br",{}),'• Navega entre "Sistema Principal" y "Sistema de Métricas"',p.jsx("br",{}),"• Los dashboards funcionan con datos de ejemplo"]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-yellow-700",children:"2. Para Backend (Requiere deployment)"}),p.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:["• Ejecuta: ",p.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"firebase deploy --only functions"}),p.jsx("br",{}),"• Sube un archivo Excel a Firebase Storage",p.jsx("br",{}),"• Las métricas se calculan automáticamente"]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-blue-700",children:"3. Inicializar Firestore"}),p.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:["• Ejecuta: ",p.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"node src/scripts/initializeFirestore.js"}),p.jsx("br",{}),"• Esto configura la estructura de colecciones necesaria"]})]})]})})]}),p.jsxs($r,{children:[p.jsx(zr,{children:p.jsx(Wr,{children:"Arquitectura del Sistema"})}),p.jsx(Hr,{children:p.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Backend (Cloud Functions)"}),p.jsxs("ul",{className:"space-y-1 text-gray-600",children:[p.jsx("li",{children:"• Procesamiento automático de Excel"}),p.jsx("li",{children:"• Normalización de datos"}),p.jsx("li",{children:"• Cálculo de métricas"}),p.jsx("li",{children:"• Almacenamiento en Firestore"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Frontend (React + Zustand)"}),p.jsxs("ul",{className:"space-y-1 text-gray-600",children:[p.jsx("li",{children:"• Dashboards interactivos"}),p.jsx("li",{children:"• Tiempo real con onSnapshot"}),p.jsx("li",{children:"• Componentes shadcn/ui"}),p.jsx("li",{children:"• Gráficos con Recharts"})]})]})]})})]})]})}class gIe{constructor(){this.collection="seguimientos"}async createSeguimiento(t,r){try{const n=await y_(wn(Wt,this.collection),{...r,userId:t,createdAt:Zr(),updatedAt:Zr()});return console.log("✅ Seguimiento creado:",n.id),n.id}catch(n){throw console.error("❌ Error creando seguimiento:",n),new Error("Error al crear el seguimiento")}}async getSeguimientos(t){try{const r=Li(wn(Wt,this.collection),Ri("userId","==",t),Wd("fechaContacto","desc")),n=await Ia(r),i=[];return n.forEach(a=>{i.push({id:a.id,...a.data()})}),console.log(`✅ Seguimientos obtenidos: ${i.length}`),i}catch(r){return console.error("❌ Error obteniendo seguimientos:",r),[]}}async getSeguimientosByBeneficiario(t,r){try{const n=Li(wn(Wt,this.collection),Ri("userId","==",t),Ri("beneficiarioId","==",r),Wd("fechaContacto","desc")),i=await Ia(n),a=[];return i.forEach(s=>{a.push({id:s.id,...s.data()})}),a}catch(n){return console.error("❌ Error obteniendo seguimientos del beneficiario:",n),[]}}async updateSeguimiento(t,r){try{const n=tn(Wt,this.collection,t);return await dg(n,{...r,updatedAt:Zr()}),console.log("✅ Seguimiento actualizado:",t),!0}catch(n){throw console.error("❌ Error actualizando seguimiento:",n),new Error("Error al actualizar el seguimiento")}}async deleteSeguimiento(t){try{const r=tn(Wt,this.collection,t);return await J0(r),console.log("✅ Seguimiento eliminado:",t),!0}catch(r){throw console.error("❌ Error eliminando seguimiento:",r),new Error("Error al eliminar el seguimiento")}}async getEstadisticasOperadora(t,r=null){try{let n;r?n=Li(wn(Wt,this.collection),Ri("userId","==",t),Ri("operadorId","==",r)):n=Li(wn(Wt,this.collection),Ri("userId","==",t));const i=await Ia(n),a=[];i.forEach(o=>{a.push({id:o.id,...o.data()})});const s={totalSeguimientos:a.length,exitosos:a.filter(o=>o.tipoResultado==="exitoso").length,fallidos:a.filter(o=>o.tipoResultado==="fallido").length,noRespuesta:a.filter(o=>o.tipoResultado==="no-respuesta").length,ocupados:a.filter(o=>o.tipoResultado==="ocupado").length,mensajes:a.filter(o=>o.tipoResultado==="mensaje").length,beneficiariosContactados:new Set(a.map(o=>o.beneficiarioId||o.beneficiario)).size,llamadas:a.filter(o=>o.tipoContacto==="llamada").length,videollamadas:a.filter(o=>o.tipoContacto==="videollamada").length,whatsapp:a.filter(o=>o.tipoContacto==="whatsapp").length,presenciales:a.filter(o=>o.tipoContacto==="presencial").length,recientes:a.filter(o=>{const l=new Date(o.fechaContacto),c=new Date;return c.setDate(c.getDate()-30),l>=c}).length};return s.porcentajeExito=s.totalSeguimientos>0?Math.round(s.exitosos/s.totalSeguimientos*100):0,s}catch(n){return console.error("❌ Error obteniendo estadísticas:",n),{totalSeguimientos:0,exitosos:0,fallidos:0,noRespuesta:0,ocupados:0,mensajes:0,beneficiariosContactados:0,llamadas:0,videollamadas:0,whatsapp:0,presenciales:0,recientes:0,porcentajeExito:0}}}async getBeneficiariosConEstado(t,r=[]){try{const n=await this.getSeguimientos(t);return r.map(i=>{const a=n.filter(u=>u.beneficiarioId===i.id||u.beneficiario===i.beneficiary),s=a.filter(u=>u.tipoResultado==="exitoso");if(s.length===0)return{...i,estado:"urgente",ultimoContacto:null,diasSinContacto:null,totalSeguimientos:a.length};const o=s.sort((u,f)=>new Date(f.fechaContacto)-new Date(u.fechaContacto))[0],l=Math.floor((new Date-new Date(o.fechaContacto))/(1e3*60*60*24));let c;return l<=15?c="al-dia":l<=30?c="pendiente":c="urgente",{...i,estado:c,ultimoContacto:o.fechaContacto,diasSinContacto:l,totalSeguimientos:a.length}})}catch(n){return console.error("❌ Error calculando estados de beneficiarios:",n),r.map(i=>({...i,estado:"urgente",totalSeguimientos:0}))}}async buscarSeguimientos(t,r={}){try{let n=Li(wn(Wt,this.collection),Ri("userId","==",t));r.beneficiario&&(n=Li(n,Ri("beneficiario","==",r.beneficiario))),r.tipoResultado&&(n=Li(n,Ri("tipoResultado","==",r.tipoResultado))),r.tipoContacto&&(n=Li(n,Ri("tipoContacto","==",r.tipoContacto))),r.operador&&(n=Li(n,Ri("operador","==",r.operador))),n=Li(n,Wd("fechaContacto","desc"));const i=await Ia(n),a=[];return i.forEach(s=>{const o=s.data();if(r.fechaInicio&&r.fechaFin){const l=new Date(o.fechaContacto),c=new Date(r.fechaInicio),u=new Date(r.fechaFin);if(l<c||l>u)return}a.push({id:s.id,...o})}),a}catch(n){return console.error("❌ Error buscando seguimientos:",n),[]}}async migrarDatosLlamadas(t,r=[]){try{console.log("🔄 Iniciando migración de datos de llamadas...");const n=[];for(const i of r){const a={beneficiarioId:i.id||null,beneficiario:i.beneficiary||i.beneficiario,telefono:i.phone||i.telefono,tipoContacto:"llamada",tipoResultado:this.mapearResultadoLlamada(i.result||i.resultado),observaciones:i.observations||i.observaciones||"",fechaContacto:i.date||i.fecha||new Date().toISOString(),operadorId:t,operador:i.operator||i.operador||"Sistema",duracion:i.duration||i.duracion||0,evento:i.event||i.evento||"",migrado:!0,datosOriginales:i};try{const s=await y_(wn(Wt,this.collection),{...a,userId:t,createdAt:Zr(),updatedAt:Zr()});n.push(s.id)}catch(s){console.error("Error migrando seguimiento:",i,s)}}return console.log(`✅ Migración completada: ${n.length} seguimientos migrados`),n}catch(n){throw console.error("❌ Error en migración:",n),new Error("Error en la migración de datos")}}mapearResultadoLlamada(t){if(!t)return"fallido";const r=t.toLowerCase();return r.includes("exitoso")||r.includes("successful")?"exitoso":r.includes("ocupado")||r.includes("busy")?"ocupado":r.includes("no contest")||r.includes("no responde")?"no-respuesta":r.includes("mensaje")||r.includes("message")?"mensaje":"fallido"}async limpiarSeguimientosAntiguos(t,r=365){try{const n=new Date;n.setDate(n.getDate()-r);const i=Li(wn(Wt,this.collection),Ri("userId","==",t),Ri("fechaContacto","<",n.toISOString())),a=await Ia(i),s=[];for(const o of a.docs)await J0(o.ref),s.push(o.id);return console.log(`✅ Limpieza completada: ${s.length} seguimientos antiguos eliminados`),s.length}catch(n){throw console.error("❌ Error en limpieza:",n),new Error("Error al limpiar seguimientos antiguos")}}}const B7=new gIe,xw=({title:e,value:t,icon:r,color:n="blue",subtitle:i,percentage:a=null,trend:s=null})=>{const o={blue:{bg:"bg-white",border:"border-gray-200",icon:"text-gray-600",text:"text-gray-900",accent:"text-gray-600",shadow:"shadow-sm hover:shadow-md"},green:{bg:"bg-white",border:"border-gray-200",icon:"text-teal-600",text:"text-gray-900",accent:"text-teal-600",shadow:"shadow-sm hover:shadow-md"},yellow:{bg:"bg-white",border:"border-gray-200",icon:"text-orange-500",text:"text-gray-900",accent:"text-orange-500",shadow:"shadow-sm hover:shadow-md"},red:{bg:"bg-white",border:"border-gray-200",icon:"text-red-500",text:"text-gray-900",accent:"text-red-500",shadow:"shadow-sm hover:shadow-md"}},l=o[n]||o.blue;return p.jsxs(gt.div,{className:`
        ${l.bg} ${l.border} ${l.shadow}
        border rounded-xl p-6 transition-all duration-200
        cursor-default
      `,whileHover:{scale:1.02},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:15},children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("div",{className:"p-2 rounded-lg bg-gray-50",children:p.jsx(r,{className:`w-5 h-5 ${l.icon}`})}),s&&p.jsxs("div",{className:`text-xs font-medium ${s>0?"text-teal-600":s<0?"text-red-500":"text-gray-500"}`,children:[s>0?"↗":s<0?"↘":"→"," ",Math.abs(s),"%"]})]}),p.jsxs("div",{className:"mb-2",children:[p.jsx(gt.div,{className:`text-3xl font-bold ${l.text}`,initial:{scale:.5},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.1},children:typeof t=="number"?t.toLocaleString():t}),a!==null&&p.jsxs(gt.div,{className:`text-sm font-medium ${l.accent} mt-1`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[a,"% del total"]})]}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:e}),i&&p.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:i})]}),a!==null&&a<=100&&p.jsx("div",{className:"mt-4",children:p.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:p.jsx(gt.div,{className:`h-2 rounded-full ${n==="green"?"bg-teal-500":n==="yellow"?"bg-orange-500":n==="red"?"bg-red-500":"bg-gray-400"}`,initial:{width:0},animate:{width:`${a}%`},transition:{duration:1,ease:"easeOut",delay:.3}})})})]})},vIe=({beneficiario:e,seguimientos:t=[],onSelect:r,onNewContact:n})=>{const[i,a]=L.useState(!1),s=()=>{const v=t.filter(R=>R.tipoResultado==="exitoso");if(v.length===0)return{estado:"urgente",ultimoContacto:null,diasSinContacto:null,mensaje:"Sin contactos exitosos"};const y=v.sort((R,O)=>new Date(O.fechaContacto)-new Date(R.fechaContacto))[0],b=Math.floor((new Date-new Date(y.fechaContacto))/(1e3*60*60*24));let _,N;return b<=15?(_="al-dia",N=`Último contacto hace ${b} día${b!==1?"s":""}`):b<=30?(_="pendiente",N=`${b} días sin contacto`):(_="urgente",N=`¡${b} días sin contacto!`),{estado:_,ultimoContacto:y.fechaContacto,diasSinContacto:b,mensaje:N}},{estado:o,ultimoContacto:l,diasSinContacto:c,mensaje:u}=s(),d={"al-dia":{bg:"bg-white",border:"border-gray-200",text:"text-gray-900",icon:es,iconColor:"text-teal-600",badge:"bg-teal-50 text-teal-700 border border-teal-200",shadow:"shadow-sm hover:shadow-md"},pendiente:{bg:"bg-white",border:"border-gray-200",text:"text-gray-900",icon:zo,iconColor:"text-orange-500",badge:"bg-orange-50 text-orange-700 border border-orange-200",shadow:"shadow-sm hover:shadow-md"},urgente:{bg:"bg-white",border:"border-gray-200",text:"text-gray-900",icon:Hs,iconColor:"text-red-500",badge:"bg-red-50 text-red-700 border border-red-200",shadow:"shadow-sm hover:shadow-md"}}[o],h=d.icon,g=v=>{if(!v)return"N/A";try{return new Date(v).toLocaleDateString("es-CL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"America/Santiago"})}catch(y){return console.error("Error formateando fecha:",y),"Fecha inválida"}},m=v=>{if(!v)return"Sin teléfono";const y=v.replace(/\D/g,"");return y.length===9?`+56 ${y.substring(0,1)} ${y.substring(1,5)} ${y.substring(5)}`:v};return p.jsxs(gt.div,{className:`
        ${d.bg} 
        ${d.border} ${d.shadow}
        border rounded-xl overflow-hidden transition-all duration-200
        cursor-pointer
      `,onClick:r,whileHover:{scale:1.02},layout:!0,children:[p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight truncate",children:e.beneficiary||"Sin nombre"}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsx(h,{className:`w-4 h-4 ${d.iconColor}`}),p.jsx("span",{className:"text-xs font-medium text-gray-600",children:o==="al-dia"?"Al día":o==="pendiente"?"Pendiente":"Urgente"})]})]}),p.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${d.badge}`,children:[t.length," contacto",t.length!==1?"s":""]})]}),p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[p.jsx(ua,{className:"w-4 h-4"}),p.jsx("span",{className:"truncate",children:m(e.primaryPhone)})]}),e.commune&&p.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[p.jsx(J$,{className:"w-4 h-4"}),p.jsx("span",{className:"truncate",children:e.commune})]}),p.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[p.jsx(Mse,{className:"w-4 h-4"}),p.jsx("span",{className:"text-xs",children:u})]})]}),p.jsxs("div",{className:"flex items-center justify-between mt-4",children:[p.jsxs("button",{onClick:v=>{v.stopPropagation(),a(!i)},className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:[i?p.jsx(G$,{className:"w-4 h-4"}):p.jsx(q$,{className:"w-4 h-4"}),"Historial"]}),p.jsxs(gt.button,{onClick:v=>{v.stopPropagation(),n()},className:"flex items-center gap-1 bg-slate-700 hover:bg-slate-800 text-white text-xs px-3 py-1.5 rounded-lg transition-colors shadow-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[p.jsx(w3,{className:"w-3 h-3"}),"Contacto"]})]})]}),p.jsx(hh,{children:i&&p.jsx(gt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"border-t border-gray-200 dark:border-gray-700",children:p.jsx("div",{className:"p-4 bg-white/50 dark:bg-gray-800/50",children:t.length===0?p.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm",children:[p.jsx(Q$,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"Sin seguimientos registrados"]}):p.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[t.sort((v,y)=>new Date(y.fechaContacto)-new Date(v.fechaContacto)).slice(0,5).map((v,y)=>p.jsxs(gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.1},className:`p-3 rounded-lg border ${v.tipoResultado==="exitoso"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":v.tipoResultado==="fallido"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[p.jsxs("div",{className:"flex items-start justify-between mb-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[v.tipoResultado==="exitoso"&&p.jsx(es,{className:"w-4 h-4 text-green-600"}),v.tipoResultado==="fallido"&&p.jsx(Hs,{className:"w-4 h-4 text-red-600"}),p.jsx("span",{className:"text-xs font-medium text-gray-900 dark:text-white",children:v.tipoContacto||"Contacto"})]}),p.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:g(v.fechaContacto)})]}),v.observaciones&&p.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 mt-1",children:v.observaciones})]},v.id||y)),t.length>5&&p.jsx("div",{className:"text-center",children:p.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",t.length-5," seguimiento",t.length-5!==1?"s":""," más"]})})]})})})})]})},yIe=({beneficiario:e=null,beneficiarios:t=[],onSave:r,onClose:n})=>{const i=()=>{const S=new Date,T=new Date(S.toLocaleString("en-US",{timeZone:"America/Santiago"})),j=T.getFullYear(),E=String(T.getMonth()+1).padStart(2,"0"),C=String(T.getDate()).padStart(2,"0"),D=String(T.getHours()).padStart(2,"0"),q=String(T.getMinutes()).padStart(2,"0");return`${j}-${E}-${C}T${D}:${q}`},[a,s]=L.useState({beneficiarioId:(e==null?void 0:e.id)||"",beneficiario:(e==null?void 0:e.beneficiary)||"",telefono:(e==null?void 0:e.primaryPhone)||"",tipoContacto:"llamada",tipoResultado:"",observaciones:"",fechaContacto:i()}),[o,l]=L.useState({}),[c,u]=L.useState(!1),[f,d]=L.useState(!e),[h,g]=L.useState(""),m=L.useRef(null),v=L.useRef(null);L.useEffect(()=>{v.current&&v.current.focus()},[]),L.useEffect(()=>{const S=T=>{T.key==="Escape"&&n()};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[n]);const y=[{value:"llamada",label:"Llamada Telefónica",icon:ua},{value:"presencial",label:"Visita Presencial",icon:nl}],b=[{value:"exitoso",label:"Contacto Exitoso",icon:es,color:"text-emerald-700"},{value:"no-respuesta",label:"No Responde",icon:Bb,color:"text-amber-700"},{value:"ocupado",label:"Línea Ocupada",icon:zo,color:"text-slate-600"},{value:"mensaje",label:"Mensaje Dejado",icon:Q$,color:"text-slate-700"},{value:"fallido",label:"Llamada Fallida",icon:Bb,color:"text-rose-700"}],_=t.filter(S=>{var T,j,E;return((T=S.beneficiary)==null?void 0:T.toLowerCase().includes(h.toLowerCase()))||((j=S.primaryPhone)==null?void 0:j.includes(h))||((E=S.commune)==null?void 0:E.toLowerCase().includes(h.toLowerCase()))});L.useEffect(()=>{console.log("🔍 NewContactForm - Debug beneficiarios:",{totalBeneficiarios:t.length,searchTerm:h,beneficiariosFiltrados:_.length,primerosEjemplos:t.slice(0,3).map(S=>({beneficiary:S.beneficiary,primaryPhone:S.primaryPhone,commune:S.commune}))})},[t,h,_.length]);const N=(S,T)=>{s(j=>({...j,[S]:T})),o[S]&&l(j=>({...j,[S]:null}))},R=S=>{s(T=>({...T,beneficiarioId:S.id||"",beneficiario:S.beneficiary||"",telefono:S.primaryPhone||""})),d(!1),g("")},O=()=>{const S={};return a.beneficiario.trim()||(S.beneficiario="Debe seleccionar un beneficiario"),a.tipoContacto||(S.tipoContacto="Debe seleccionar el tipo de contacto"),a.tipoResultado||(S.tipoResultado="Debe seleccionar el resultado del contacto"),a.fechaContacto||(S.fechaContacto="Debe especificar la fecha y hora"),l(S),Object.keys(S).length===0},k=async S=>{if(S.preventDefault(),!!O()){u(!0);try{await r({...a,id:Date.now().toString(),createdAt:new Date().toISOString()})}catch(T){console.error("Error guardando contacto:",T),l({submit:"Error al guardar el contacto. Intenta nuevamente."})}finally{u(!1)}}};return p.jsx(gt.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:S=>{S.target===S.currentTarget&&n()},children:p.jsxs(gt.div,{ref:m,className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:S=>S.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Registrar Nuevo Contacto"}),p.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ingresa los detalles del seguimiento realizado"})]}),p.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:p.jsx(tg,{className:"w-5 h-5 text-gray-500"})})]}),p.jsxs("form",{onSubmit:k,className:"p-6 space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beneficiario *"}),f?p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"relative",children:[p.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),p.jsx("input",{ref:v,type:"text",placeholder:"Buscar beneficiario por nombre, teléfono o comuna...",value:h,onChange:S=>g(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white text-gray-900 shadow-sm transition-all duration-200"})]}),p.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:_.length===0?p.jsx("div",{className:"p-4 text-center text-gray-500",children:h?"No se encontraron beneficiarios":"Escribe para buscar beneficiarios"}):_.map((S,T)=>p.jsxs("button",{type:"button",onClick:()=>R(S),className:"w-full p-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[p.jsx("div",{className:"font-medium text-gray-900",children:S.beneficiary}),p.jsxs("div",{className:"text-sm text-gray-600",children:[S.primaryPhone," • ",S.commune]})]},S.id||T))})]}):p.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-gray-50",children:[p.jsxs("div",{children:[p.jsx("div",{className:"font-medium text-gray-900",children:a.beneficiario}),p.jsx("div",{className:"text-sm text-gray-600",children:a.telefono})]}),p.jsx("button",{type:"button",onClick:()=>d(!0),className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"Cambiar"})]}),o.beneficiario&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.beneficiario})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha y Hora del Contacto *"}),p.jsxs("div",{className:"relative",children:[p.jsx(M5,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),p.jsx("input",{type:"datetime-local",value:a.fechaContacto,onChange:S=>N("fechaContacto",S.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white text-gray-900 shadow-sm transition-all duration-200"})]}),o.fechaContacto&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.fechaContacto})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Contacto *"}),p.jsx("div",{className:"flex gap-3",children:y.map(S=>{const T=S.icon;return p.jsx("button",{type:"button",onClick:()=>N("tipoContacto",S.value),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${a.tipoContacto===S.value?"border-teal-500 bg-teal-50 text-teal-700":"border-gray-200 hover:border-gray-300"}`,children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx(T,{className:"w-4 h-4"}),p.jsx("span",{className:"text-sm font-medium",children:S.label})]})},S.value)})}),o.tipoContacto&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.tipoContacto})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resultado del Contacto *"}),p.jsx("div",{className:"grid grid-cols-1 gap-2",children:b.map(S=>{const T=S.icon;return p.jsx("button",{type:"button",onClick:()=>N("tipoResultado",S.value),className:`p-3 rounded-lg border-2 transition-colors text-left ${a.tipoResultado===S.value?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-gray-300"}`,children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(T,{className:`w-5 h-5 ${S.color}`}),p.jsx("span",{className:"font-medium text-gray-900",children:S.label})]})},S.value)})}),o.tipoResultado&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.tipoResultado})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones"}),p.jsx("textarea",{value:a.observaciones,onChange:S=>N("observaciones",S.target.value),placeholder:"Notas adicionales sobre el contacto...",rows:4,className:"w-full px-3 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white text-gray-900 resize-none shadow-sm transition-all duration-200"})]}),o.submit&&p.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:p.jsx("p",{className:"text-red-700 text-sm",children:o.submit})}),p.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[p.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:c,children:"Cancelar"}),p.jsx(gt.button,{type:"submit",disabled:c,className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-700 disabled:bg-teal-400 text-white px-6 py-2 rounded-lg transition-colors shadow-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:c?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):p.jsxs(p.Fragment,{children:[p.jsx(b3,{className:"w-4 h-4"}),"Guardar Contacto"]})})]})]})]})})},xIe=()=>{var j;const{user:e}=Ep(),{operators:t,getAllAssignments:r,getAssignmentsByEmail:n}=ao(),{callData:i}=hg(),[a,s]=L.useState([]),[o,l]=L.useState([]),[c,u]=L.useState(!0),[f,d]=L.useState(null),[h,g]=L.useState(!1),[m,v]=L.useState(""),[y,b]=L.useState("todos"),_=(e==null?void 0:e.role)===fEe.ADMIN||((j=e==null?void 0:e.email)==null?void 0:j.includes("admin")),N=_?"Administrador":(e==null?void 0:e.displayName)||(e==null?void 0:e.email);L.useEffect(()=>{e&&(console.log("📊 Usuario autenticado, cargando datos directamente desde Firebase..."),R())},[e==null?void 0:e.uid]);const R=async()=>{var E,C,D;if(!e){console.log("❌ No hay usuario autenticado");return}u(!0);try{console.log("🔍 Cargando datos para:",e==null?void 0:e.email);const q=await B7.getSeguimientos(e.uid);console.log("📋 Seguimientos Firebase:",q.length);const{getFollowUpData:ee}=hg.getState(),le=r(),se=ee(le);console.log("📊 Seguimientos del Excel:",se.length);let K=[];if(_)K=r(),console.log("👑 Admin - Total:",K.length);else{console.log("👤 Consultando Firebase directamente para teleoperadora:",e==null?void 0:e.email);try{const{operatorService:Se,assignmentService:P}=await cu(async()=>{const{operatorService:ne,assignmentService:te}=await Promise.resolve().then(()=>XA);return{operatorService:ne,assignmentService:te}},void 0);console.log("� Obteniendo operadores desde Firebase...");const U=await Se.getAll();console.log("✅ Operadores obtenidos desde Firebase:",U.length);const V=(E=e==null?void 0:e.email)==null?void 0:E.toLowerCase().trim(),z=U.find(ne=>{var oe;const te=(oe=ne.email)==null?void 0:oe.toLowerCase().trim(),xe=te===V;return console.log(`🔍 Verificando operador ${ne.name}:`,{opEmail:te,userEmail:V,exactMatch:xe}),xe});if(z){console.log("✅ Operador encontrado en Firebase:",z),console.log("📥 Obteniendo asignaciones desde Firebase...");const ne=await P.getAll();console.log("✅ Asignaciones obtenidas desde Firebase:",ne.length);const te=ne.filter(he=>he.operatorId===z.id);console.log(`🔍 DEBUGGING FILTRO - Buscando asignaciones para operatorId: ${z.id}`),console.log("📋 Primeras 3 asignaciones de Firebase:",ne.slice(0,3)),console.log("🔍 Estructura de primera asignación:",ne[0]);const xe=[...new Set(ne.map(he=>he.operatorId))];console.log("📊 Todos los operatorId en Firebase:",xe),console.log("🎯 Buscando operatorId:",z.id),console.log("✅ ¿Existe el operatorId?",xe.includes(z.id));let oe=te;te.length===0&&(console.log("⚠️ No se encontraron asignaciones por operatorId, intentando búsqueda por nombre..."),oe=ne.filter(he=>{const Pe=he.operator||he.operatorName||"",G=z.name||"",ze=Pe.toLowerCase().includes(G.toLowerCase())||G.toLowerCase().includes(Pe.toLowerCase());return ze&&console.log("✅ Coincidencia por nombre:",{assignmentOperator:Pe,matchingOperator:G}),ze}),console.log(`🔄 Asignaciones encontradas por nombre: ${oe.length}`)),console.log(`✅ Asignaciones finales para ${z.name}:`,oe.length),K=oe.map(he=>({id:he.id,operator:z.name,operatorName:z.name,operatorEmail:z.email,beneficiary:he.beneficiary,primaryPhone:he.primaryPhone||he.phone,commune:he.commune})),console.log(`🎯 RESULTADO FINAL: ${K.length} beneficiarios para dashboard de ${z.name}`)}else console.warn("❌ No se encontró operador en Firebase para:",e==null?void 0:e.email),console.log("👥 Operadores disponibles en Firebase:",U.map(ne=>({name:ne.name,email:ne.email,id:ne.id})))}catch(Se){console.error("❌ Error consultando Firebase directamente:",Se),console.log("🔄 Fallback: intentando usar store...");const{operators:P,operatorAssignments:U}=ao.getState();if(P.length>0){console.log("📊 Store tiene operadores, usando fallback...");const V=(C=e==null?void 0:e.email)==null?void 0:C.toLowerCase().trim(),z=P.find(ne=>{var te;return((te=ne.email)==null?void 0:te.toLowerCase().trim())===V});z&&(K=(U[z.id]||[]).map(te=>({id:te.id,operator:z.name,operatorName:z.name,operatorEmail:z.email,beneficiary:te.beneficiary,primaryPhone:te.primaryPhone||te.phone,commune:te.commune})),console.log(`✅ Fallback exitoso: ${K.length} asignaciones`))}}}let X=[...q];if(!_){const Se=(D=e==null?void 0:e.email)==null?void 0:D.toLowerCase().trim(),P=se.filter(z=>{var xe,oe,he,Pe,G;const te=((xe=z.operatorEmail)==null?void 0:xe.toLowerCase().trim())===Se||((he=z.operator)==null?void 0:he.toLowerCase().includes(((oe=e==null?void 0:e.displayName)==null?void 0:oe.toLowerCase())||""))||((Pe=z.operator)==null?void 0:Pe.toLowerCase().includes("javiera"))||((G=z.operator)==null?void 0:G.toLowerCase().includes("reyes"));return te&&console.log("📞 Seguimiento del Excel para esta teleoperadora:",{beneficiario:z.beneficiary,operador:z.operator,ultimaLlamada:z.lastCall}),te});if(console.log(`🔗 Seguimientos Excel filtrados para ${e==null?void 0:e.email}:`,P.length),P.length>0){console.log("📊 Muestra de seguimientos del Excel:",P.slice(0,3));const z=P.find(ne=>{var te,xe;return((te=ne.beneficiary)==null?void 0:te.toLowerCase().includes("sergio"))&&((xe=ne.beneficiary)==null?void 0:xe.toLowerCase().includes("román"))});z&&console.log("🎯 SERGIO en datos Excel:",z)}const U=P.map((z,ne)=>{var he,Pe,G,ze,Ce,de;const te=((he=z.lastCall)==null?void 0:he.toLowerCase().includes("exitoso"))||((Pe=z.lastCall)==null?void 0:Pe.toLowerCase().includes("contactado"))||((G=z.lastCall)==null?void 0:G.toLowerCase().includes("atendido"))||((ze=z.lastCall)==null?void 0:ze.toLowerCase().includes("respondió"))||z.status==="al-dia"||z.callCount>0;let xe;if(z.lastCallDate)xe=new Date(z.lastCallDate).toISOString();else if(z.fecha)xe=new Date(z.fecha).toISOString();else{const it=new Date;it.setDate(it.getDate()-(te?1:31)),xe=it.toISOString()}const oe={id:`excel_${z.id||ne}_${Math.random()}`,beneficiarioId:z.beneficiary,beneficiario:z.beneficiary,telefono:z.phone||"Sin teléfono",tipoContacto:"llamada",tipoResultado:te?"exitoso":"no-respuesta",observaciones:`Registro del Excel: ${z.lastCall||z.status||"Contacto registrado"}`,fechaContacto:xe,operadorEmail:e==null?void 0:e.email,operadorNombre:(e==null?void 0:e.displayName)||(e==null?void 0:e.email),source:"excel"};return(Ce=z.beneficiary)!=null&&Ce.toLowerCase().includes("sergio")&&((de=z.beneficiary)!=null&&de.toLowerCase().includes("román"))&&console.log("🎯 CONVERSIÓN SERGIO:",{original:z,convertido:oe}),oe});X=[...q,...U],console.log(`📊 Total seguimientos combinados: ${X.length} (Firebase: ${q.length}, Excel: ${U.length})`);const V=X.filter(z=>{var ne,te;return((ne=z.beneficiario)==null?void 0:ne.toLowerCase().includes("sergio"))&&((te=z.beneficiario)==null?void 0:te.toLowerCase().includes("román"))});V.length>0&&console.log("🎯 SERGIO ROMÁN ROJAS encontrado en seguimientos:",V)}s(K),l(X),console.log("🔚 VERIFICACIÓN FINAL:"),console.log(`   Beneficiarios cargados: ${K.length}`),console.log(`   Seguimientos totales: ${X.length}`);const _e=K.find(Se=>{var P,U;return((P=Se.beneficiary)==null?void 0:P.toLowerCase().includes("sergio"))&&((U=Se.beneficiary)==null?void 0:U.toLowerCase().includes("román"))});if(_e){console.log("✅ Sergio encontrado en beneficiarios:",_e);const Se=X.filter(P=>{var U,V;return((U=P.beneficiario)==null?void 0:U.toLowerCase().includes("sergio"))&&((V=P.beneficiario)==null?void 0:V.toLowerCase().includes("román"))});console.log(`✅ Seguimientos de Sergio: ${Se.length}`,Se)}else console.log("❌ Sergio NO encontrado en beneficiarios")}catch(q){console.error("Error cargando datos del dashboard:",q)}finally{u(!1)}},O=async E=>{try{console.log("💾 Guardando nuevo seguimiento:",E);const C=ee=>{const[le,se]=ee.split("T"),[K,X,_e]=le.split("-"),[Se,P]=se.split(":"),U=new Date;return U.setFullYear(parseInt(K)),U.setMonth(parseInt(X)-1),U.setDate(parseInt(_e)),U.setHours(parseInt(Se)),U.setMinutes(parseInt(P)),U.setSeconds(0),U.setMilliseconds(0),U.toISOString()};console.log("🕐 Fecha original:",E.fechaContacto),console.log("🇨🇱 Fecha convertida a ISO chileno:",C(E.fechaContacto));const D={beneficiarioId:E.beneficiarioId,beneficiario:E.beneficiario,telefono:E.telefono,tipoContacto:E.tipoContacto,tipoResultado:E.tipoResultado,observaciones:E.observaciones,fechaContacto:C(E.fechaContacto),operadorEmail:e==null?void 0:e.email,operadorNombre:(e==null?void 0:e.displayName)||(e==null?void 0:e.email)},q=await B7.createSeguimiento(e.uid,D);console.log("✅ Seguimiento guardado con ID:",q),await R(),g(!1),d(null)}catch(C){throw console.error("❌ Error guardando seguimiento:",C),new Error("Error al guardar el contacto. Intenta nuevamente.")}},k=E=>{var K,X;const C=o.filter(_e=>_e.beneficiarioId===E.id||_e.beneficiario===E.beneficiary),D=((K=E.beneficiary)==null?void 0:K.toLowerCase().includes("sergio"))&&((X=E.beneficiary)==null?void 0:X.toLowerCase().includes("román"));if(D&&(console.log("🎯 DEBUG SERGIO ROMÁN ROJAS:"),console.log("   Beneficiario:",E.beneficiary),console.log("   ID:",E.id),console.log("   Seguimientos encontrados:",C.length),console.log("   Seguimientos:",C),console.log("   Total seguimientos disponibles:",o.length)),C.length===0)return D&&console.log("   ❌ Sin seguimientos - estado URGENTE"),{estado:"urgente",ultimoContacto:null,diasSinContacto:null};const q=C.filter(_e=>_e.tipoResultado==="exitoso");if(D&&(console.log("   Contactos exitosos:",q.length),q.forEach(_e=>console.log("     -",_e.fechaContacto,_e.tipoResultado))),q.length===0)return D&&console.log("   ❌ Sin contactos exitosos - estado URGENTE"),{estado:"urgente",ultimoContacto:null,diasSinContacto:null};const ee=q.sort((_e,Se)=>new Date(Se.fechaContacto)-new Date(_e.fechaContacto))[0],le=Math.floor((new Date-new Date(ee.fechaContacto))/(1e3*60*60*24));let se;return le<=15?se="al-dia":le<=30?se="pendiente":se="urgente",D&&(console.log("   ✅ Último contacto:",ee.fechaContacto),console.log("   📅 Días sin contacto:",le),console.log("   🏷️ Estado final:",se)),{estado:se,ultimoContacto:ee.fechaContacto,diasSinContacto:le,totalSeguimientos:C.length}},S=L.useMemo(()=>{const E=a.map(ee=>({...ee,...k(ee)})),C=E.filter(ee=>ee.estado==="al-dia").length,D=E.filter(ee=>ee.estado==="pendiente").length,q=E.filter(ee=>ee.estado==="urgente").length;return{total:a.length,alDia:C,pendientes:D,urgentes:q,beneficiariosConEstado:E}},[a,o]),T=L.useMemo(()=>{let E=S.beneficiariosConEstado;return m&&(E=E.filter(C=>{var D,q,ee;return((D=C.beneficiary)==null?void 0:D.toLowerCase().includes(m.toLowerCase()))||((q=C.primaryPhone)==null?void 0:q.includes(m))||((ee=C.commune)==null?void 0:ee.toLowerCase().includes(m.toLowerCase()))})),y!=="todos"&&(E=E.filter(C=>y==="al-dia"?C.estado==="al-dia":y==="pendientes"?C.estado==="pendiente":y==="urgentes"?C.estado==="urgente":!0)),E},[S.beneficiariosConEstado,m,y]);return c?p.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:p.jsxs(gt.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[p.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-600",children:"Cargando dashboard..."})]})}):p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex justify-between items-center py-6",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(H$,{className:"w-8 h-8 text-teal-600"}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Seguimientos Periódicos"})]}),p.jsxs("p",{className:"text-gray-600 mt-1",children:["Cartera de beneficiarios - ",(e==null?void 0:e.email)||N]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs(gt.button,{onClick:async()=>{console.log("🔧 DEBUG COMPLETO - Estado actual:"),console.log("👤 Usuario autenticado:",{email:e==null?void 0:e.email,displayName:e==null?void 0:e.displayName,uid:e==null?void 0:e.uid});try{const{operatorService:D,assignmentService:q}=await cu(async()=>{const{operatorService:K,assignmentService:X}=await Promise.resolve().then(()=>XA);return{operatorService:K,assignmentService:X}},void 0),ee=await D.getAll();console.log("� Operadores en Firebase:",ee.length,ee);const le=await q.getAll();console.log("📊 Asignaciones en Firebase:",le.length);const se=ee.find(K=>{var X,_e;return((X=K.email)==null?void 0:X.toLowerCase().includes("javiera"))||((_e=K.email)==null?void 0:_e.toLowerCase())==="reyesalvaradojaviera@gmail.com"});if(se){console.log("✅ Javiera encontrada en Firebase:",se),console.log("🔍 ESTRUCTURA DE ASIGNACIONES - Analizando..."),console.log("📊 Total asignaciones en Firebase:",le.length);const K=[...new Set(le.map(P=>P.operatorId))];console.log("📋 OperatorIDs únicos en Firebase:",K),console.log("🎯 OperatorID de Javiera buscado:",se.id);const X=le.filter(P=>P.operatorId===se.id);console.log(`📊 Asignaciones con operatorId ${se.id}:`,X.length);const _e=le.filter(P=>{const U=P.operator||P.operatorName||"";return U.toLowerCase().includes("javiera")||U.toLowerCase().includes("reyes")});if(console.log('� Asignaciones con nombre "Javiera" o "Reyes":',_e.length),console.log("🔍 ESTRUCTURA - Primeras 3 asignaciones:",le.slice(0,3)),le.length>0){const P=le[0];console.log("🔍 CAMPOS DE ASIGNACIÓN DISPONIBLES:",Object.keys(P)),console.log("🔍 ASIGNACIÓN COMPLETA EJEMPLO:",P)}const Se=le.filter(P=>{const U=P.operatorId,V=P.operator||"",z=P.operatorName||"",ne=P.userId;return U===se.id||V.toLowerCase().includes("javiera")||V.toLowerCase().includes("reyes")||z.toLowerCase().includes("javiera")||z.toLowerCase().includes("reyes")||ne===se.id});console.log("🎯 ASIGNACIONES POSIBLES DE JAVIERA (todos los métodos):",Se.length),Se.length>0&&console.log("✅ Primeras 3 asignaciones encontradas:",Se.slice(0,3))}else console.log("❌ Javiera NO encontrada en Firebase")}catch(D){console.error("❌ Error consultando Firebase:",D)}const{operators:E,operatorAssignments:C}=ao.getState();console.log("� Store - Operadores:",E.length),console.log("📦 Store - Asignaciones:",Object.keys(C).length),console.log("📋 Beneficiarios cargados en dashboard:",a.length),console.log("� Recargando dashboard..."),await R()},className:"flex items-center gap-2 bg-orange-600 hover:bg-orange-700 text-white px-3 py-2 rounded-lg transition-colors shadow-sm text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[p.jsx(Hs,{className:"w-4 h-4"}),"Debug"]}),p.jsxs(gt.button,{onClick:async()=>{console.log("🔄 RECARGA COMPLETA - Firebase + Dashboard..."),u(!0);try{const{loadOperators:E,loadAssignments:C}=ao.getState();await E(),await C(),await R()}catch(E){console.error("❌ Error en recarga completa:",E)}u(!1)},className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg transition-colors shadow-sm text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[p.jsx(YR,{className:"w-4 h-4"}),"Cargar Firebase"]}),p.jsxs(gt.button,{onClick:async()=>{console.log("🔍 DIAGNÓSTICO COMPLETO DE MATCHING - Analizando por qué no encuentra asignaciones para Javiera"),console.log("👤 USUARIO ACTUAL:",{email:e==null?void 0:e.email,displayName:e==null?void 0:e.displayName,uid:e==null?void 0:e.uid,fullUser:e}),console.log("� VERIFICANDO OPERADORES DIRECTAMENTE DESDE FIREBASE...");try{const{operatorService:le,assignmentService:se}=await cu(async()=>{const{operatorService:Se,assignmentService:P}=await Promise.resolve().then(()=>XA);return{operatorService:Se,assignmentService:P}},void 0),K=await le.getAll();console.log("� OPERADORES DESDE FIREBASE DIRECTO:",K.length,K);const X=await se.getAll();console.log("� ASIGNACIONES DESDE FIREBASE DIRECTO:",X.length);const _e=K.find(Se=>{var P,U,V;return((P=Se.email)==null?void 0:P.toLowerCase().includes("javiera"))||((U=Se.name)==null?void 0:U.toLowerCase().includes("javiera"))||((V=Se.email)==null?void 0:V.toLowerCase())==="reyesalvaradojaviera@gmail.com"});if(_e){console.log("✅ JAVIERA ENCONTRADA EN FIREBASE:",_e);const Se=X.filter(P=>P.operatorId===_e.id);console.log(`✅ ASIGNACIONES DE JAVIERA: ${Se.length}`,Se.slice(0,3))}else console.warn("❌ JAVIERA NO ENCONTRADA EN FIREBASE"),console.log("� OPERADORES DISPONIBLES EN FIREBASE:",K.map(Se=>({id:Se.id,name:Se.name,email:Se.email})))}catch(le){console.error("❌ Error accediendo Firebase directo:",le)}const{operators:E,operatorAssignments:C}=ao.getState();console.log("📦 OPERADORES EN STORE:",E.length,E),console.log("📦 ASIGNACIONES EN STORE:",Object.keys(C).length,C),console.log("🔄 FORZANDO RECARGA DEL STORE...");const{loadOperators:D,loadAssignments:q}=ao.getState();await D(),await q();const{operators:ee}=ao.getState();console.log("📦 OPERADORES DESPUÉS DE RECARGA:",ee.length,ee),ee.length>0&&(console.log("✅ OPERADORES CARGADOS, RECARGANDO DASHBOARD..."),setTimeout(()=>{R()},500))},className:"flex items-center gap-2 bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-lg transition-colors shadow-sm text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[p.jsx(co,{className:"w-4 h-4"}),"Diagnóstico"]}),p.jsxs(gt.button,{onClick:()=>g(!0),className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg transition-colors shadow-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[p.jsx(w3,{className:"w-4 h-4"}),"Nuevo Contacto"]})]})]})})}),p.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[p.jsx(xw,{title:"Total Beneficiarios",value:S.total,subtitle:"Mis beneficiarios asignados",icon:Ji,color:"blue"}),p.jsx(xw,{title:"Al Día",value:S.alDia,subtitle:"Contacto últimos 15 días",percentage:S.total>0?Math.round(S.alDia/S.total*100):0,icon:es,color:"green"}),p.jsx(xw,{title:"Pendientes",value:S.pendientes,subtitle:"16-30 días sin contacto",percentage:S.total>0?Math.round(S.pendientes/S.total*100):0,icon:zo,color:"yellow"}),p.jsx(xw,{title:"Urgentes",value:S.urgentes,subtitle:"+30 días sin contacto",percentage:S.total>0?Math.round(S.urgentes/S.total*100):0,icon:Hs,color:"red"})]}),p.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[p.jsx("div",{className:"flex-1 max-w-md",children:p.jsxs("div",{className:"relative",children:[p.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),p.jsx("input",{type:"text",placeholder:"Buscar beneficiario, teléfono o comuna...",value:m,onChange:E=>v(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})}),p.jsx("div",{className:"flex gap-2",children:[{key:"todos",label:"Todos",color:"teal"},{key:"al-dia",label:"Al Día",color:"green"},{key:"pendientes",label:"Pendientes",color:"yellow"},{key:"urgentes",label:"Urgentes",color:"red"}].map(E=>p.jsx(gt.button,{onClick:()=>b(E.key),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${y===E.key?`bg-${E.color}-100 text-${E.color}-800 border border-${E.color}-300`:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:E.label},E.key))})]})}),a.length===0?p.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[p.jsx(Hs,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"🔍 No se encontraron asignaciones para tu usuario"}),p.jsxs("div",{className:"text-yellow-700 space-y-1",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Usuario:"})," ",e==null?void 0:e.email]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Nombre mostrado:"})," ",(e==null?void 0:e.displayName)||"No definido"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Nombre de operadora buscado:"})," ",e==null?void 0:e.email]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Total de asignaciones en sistema:"})," ",r().length]})]}),p.jsxs("details",{className:"mt-4 text-left",children:[p.jsx("summary",{className:"cursor-pointer text-yellow-800 font-medium",children:"🔍 Ver operadoras disponibles"}),p.jsx("div",{className:"mt-2 text-sm space-y-1",children:t.map(E=>{var C;return p.jsxs("div",{className:"bg-yellow-100 p-2 rounded border",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Nombre:"})," ",E.name]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Email:"})," ",E.email]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Asignaciones:"})," ",((C=ao.getState().operatorAssignments[E.id])==null?void 0:C.length)||0]})]},E.id)})})]}),p.jsxs(gt.button,{onClick:async()=>{console.log("🔄 Recarga simple de datos..."),await R()},className:"mt-4 flex items-center gap-2 bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg mx-auto transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[p.jsx(YR,{className:"w-4 h-4"}),"Recargar asignaciones"]})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.jsx(hh,{children:T.map(E=>{const C=o.filter(D=>D.beneficiarioId===E.id||D.beneficiario===E.beneficiary);return p.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:p.jsx(vIe,{beneficiario:E,seguimientos:C,onNewContact:()=>{d(E),g(!0)}})},E.id)})})}),a.length>0&&p.jsxs("div",{className:"mt-8 text-center text-gray-500 text-sm",children:["Mostrando ",T.length," de ",a.length," beneficiarios"]})]}),p.jsx(hh,{children:h&&p.jsx(yIe,{beneficiario:f,beneficiarios:a,onClose:()=>{g(!1),d(null)},onSave:O})})]})},wIe=({roles:e,onSave:t,onClose:r,isLoading:n})=>{const[i,a]=L.useState({email:"",displayName:"",role:"teleoperadora",isActive:!0}),[s,o]=L.useState({}),l=L.useRef(null),c=L.useRef(null);L.useEffect(()=>{c.current&&c.current.focus()},[]),L.useEffect(()=>{const h=g=>{g.key==="Escape"&&r()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[r]);const u=(h,g)=>{a(m=>({...m,[h]:g})),s[h]&&o(m=>({...m,[h]:null}))},f=()=>{const h={};return i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(h.email="Email inválido"):h.email="El email es requerido",i.displayName.trim()||(h.displayName="El nombre es requerido"),i.role||(h.role="Selecciona un rol"),o(h),Object.keys(h).length===0},d=async h=>{if(h.preventDefault(),!!f())try{await t(i)}catch(g){o({submit:g.message})}};return p.jsx(gt.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:h=>{h.target===h.currentTarget&&r()},children:p.jsxs(gt.div,{ref:l,className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:h=>h.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:p.jsx(eg,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Crear Nuevo Usuario"}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Ingresa los datos del nuevo usuario"})]})]}),p.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:p.jsx(tg,{className:"w-5 h-5 text-gray-500"})})]}),p.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre Completo *"}),p.jsxs("div",{className:"relative",children:[p.jsx(nl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),p.jsx("input",{ref:c,type:"text",value:i.displayName,onChange:h=>u("displayName",h.target.value),placeholder:"Ej: María González",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${s.displayName?"border-red-300":"border-gray-300 dark:border-gray-600"}`})]}),s.displayName&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.displayName})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),p.jsxs("div",{className:"relative",children:[p.jsx(Y$,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),p.jsx("input",{type:"email",value:i.email,onChange:h=>u("email",h.target.value),placeholder:"usuario@empresa.com",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${s.email?"border-red-300":"border-gray-300 dark:border-gray-600"}`})]}),s.email&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rol *"}),p.jsxs("div",{className:"relative",children:[p.jsx(ik,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),p.jsx("select",{value:i.role,onChange:h=>u("role",h.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${s.role?"border-red-300":"border-gray-300 dark:border-gray-600"}`,children:e.filter(h=>h.id!=="super_admin").map(h=>p.jsxs("option",{value:h.id,children:[h.name," - ",h.description]},h.id))})]}),s.role&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.role})]}),p.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Qd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),p.jsxs("div",{className:"text-sm",children:[p.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Información importante sobre la creación de usuarios"}),p.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:"Se creará un perfil de usuario en el sistema. El usuario deberá registrarse por separado en Firebase Auth usando el mismo email para poder acceder al sistema."})]})]})}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:h=>u("isActive",h.target.checked),className:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"}),p.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Usuario activo al crear"})]}),s.submit&&p.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3",children:[p.jsx(Qd,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),p.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:s.submit})]}),p.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[p.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",disabled:n,children:"Cancelar"}),p.jsx(gt.button,{type:"submit",disabled:n,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-6 py-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:n?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creando..."]}):p.jsxs(p.Fragment,{children:[p.jsx(eg,{className:"w-4 h-4"}),"Crear Usuario"]})})]})]})]})})},bIe=({user:e,roles:t,onSave:r,onClose:n,isLoading:i})=>{const[a,s]=L.useState({displayName:e.displayName||"",role:e.role||"teleoperadora",isActive:e.isActive!==!1}),[o,l]=L.useState({}),c=L.useRef(null),u=(h,g)=>{s(m=>({...m,[h]:g})),o[h]&&l(m=>({...m,[h]:null}))},f=()=>{const h={};return a.displayName.trim()||(h.displayName="El nombre es requerido"),a.role||(h.role="Selecciona un rol"),l(h),Object.keys(h).length===0},d=async h=>{if(h.preventDefault(),!!f())try{await r(a)}catch(g){l({submit:g.message})}};return p.jsx(gt.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:h=>h.target===h.currentTarget&&n(),children:p.jsxs(gt.div,{ref:c,className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:h=>h.stopPropagation(),children:[p.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[p.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Editar Usuario"}),p.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:p.jsx(tg,{className:"w-5 h-5 text-gray-500"})})]}),p.jsxs("form",{onSubmit:d,className:"p-6 space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),p.jsx("input",{type:"email",value:e.email,disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-700 text-gray-500"}),p.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El email no se puede modificar"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre Completo *"}),p.jsx("input",{type:"text",value:a.displayName,onChange:h=>u("displayName",h.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${o.displayName?"border-red-300":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white`}),o.displayName&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.displayName})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rol *"}),p.jsx("select",{value:a.role,onChange:h=>u("role",h.target.value),disabled:e.role==="super_admin",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${o.role?"border-red-300":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 disabled:text-gray-500`,children:t.filter(h=>h.id!=="super_admin"||e.role==="super_admin").map(h=>p.jsx("option",{value:h.id,children:h.name},h.id))}),o.role&&p.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.role})]}),p.jsx("div",{children:p.jsxs("label",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:a.isActive,onChange:h=>u("isActive",h.target.checked),disabled:e.role==="super_admin",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500 disabled:opacity-50"}),p.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Usuario activo"})]})}),o.submit&&p.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[p.jsx(Qd,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),p.jsx("p",{className:"text-red-700 text-sm",children:o.submit})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[p.jsx("button",{type:"button",onClick:n,disabled:i,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),p.jsx(gt.button,{type:"submit",disabled:i,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-6 py-2 rounded-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:i?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):p.jsxs(p.Fragment,{children:[p.jsx(b3,{className:"w-4 h-4"}),"Guardar"]})})]})]})]})})},_Ie=()=>{var z,ne;const{user:e}=Ep(),{users:t,roles:r,isLoading:n,stats:i,searchTerm:a,filterRole:s,selectedUser:o,setSearchTerm:l,setFilterRole:c,setSelectedUser:u,loadUsers:f,createUser:d,updateUser:h,deleteUser:g,toggleUserStatus:m,getFilteredUsers:v,isSuperAdmin:y,exportUsers:b}=xK(),[_,N]=L.useState("users"),[R,O]=L.useState(!1),[k,S]=L.useState(!1),[T,j]=L.useState(!1),[E,C]=L.useState(!1),[D,q]=L.useState(!1),ee=y(e);L.useEffect(()=>{console.log("🎯 SuperAdminDashboard: Efecto de carga ejecutándose"),console.log("🎯 HasAccess:",ee),console.log("🎯 User:",e==null?void 0:e.email),ee?(console.log("🎯 Iniciando carga de usuarios..."),f()):console.log("❌ Sin acceso para cargar usuarios")},[ee,f]),L.useEffect(()=>{console.log("👥 Usuarios en el estado:",t),console.log("📊 Stats:",i),console.log("🔄 Loading:",n)},[t,i,n]);const le=v(),se=async te=>{j(!0);try{await d(te),O(!1)}catch(xe){console.error("Error creando usuario:",xe),alert("Error al crear usuario: "+xe.message)}finally{j(!1)}},K=async te=>{if(o){j(!0);try{await h(o.id,te),S(!1),u(null)}catch(xe){console.error("Error editando usuario:",xe),alert("Error al editar usuario: "+xe.message)}finally{j(!1)}}},X=async te=>{if(window.confirm("¿Estás seguro de eliminar este usuario?")){j(!0);try{await g(te)}catch(xe){console.error("Error eliminando usuario:",xe),alert("Error al eliminar usuario: "+xe.message)}finally{j(!1)}}},_e=async te=>{j(!0);try{await m(te)}catch(xe){console.error("Error cambiando estado:",xe),alert("Error al cambiar estado: "+xe.message)}finally{j(!1)}},Se=async()=>{console.log("🔄 Forzando recarga de usuarios..."),j(!0);try{await f(),console.log("✅ Recarga completada")}catch(te){console.error("❌ Error en recarga:",te),alert("Error al recargar usuarios: "+te.message)}finally{j(!1)}},P=async()=>{var te;console.log("🩺 Ejecutando diagnóstico..."),j(!0);try{const xe=await h0.diagnoseUserCollection();console.log("🩺 Resultado del diagnóstico:",xe);const oe=`DIAGNÓSTICO DE USUARIOS
======================
Conexión exitosa: ${xe.success}
Autenticado: ${xe.authenticated}
Email: ${xe.userEmail}
Super Admin: ${xe.isSuperAdmin}
Documentos encontrados: ${xe.documentsCount||0}

${((te=xe.documents)==null?void 0:te.length)>0?`USUARIOS ENCONTRADOS:
`+xe.documents.map(he=>`• ${he.email} (${he.role})`).join(`
`):"No se encontraron usuarios en la colección"}

${xe.error?`ERROR: ${xe.error}`:""}`;alert(oe)}catch(xe){console.error("❌ Error en diagnóstico:",xe),alert("Error ejecutando diagnóstico: "+xe.message)}finally{j(!1)}},U=async()=>{console.log("🧪 Iniciando creación de usuarios de prueba..."),C(!0);try{const te=await h0.createTestUsers();await f(),console.log("✅ Usuarios de prueba creados exitosamente:",te),alert(`✅ Se crearon ${te.length} usuarios de prueba correctamente`)}catch(te){console.error("❌ Error creando usuarios de prueba:",te),alert("❌ Error creando usuarios de prueba: "+te.message)}finally{C(!1)}},V=async()=>{if(window.confirm("¿Estás seguro de eliminar todos los usuarios de prueba?")){console.log("🧹 Iniciando limpieza de usuarios de prueba..."),q(!0);try{const te=await h0.cleanTestUsers();await f(),console.log("✅ Usuarios de prueba eliminados:",te),alert(`✅ Se eliminaron ${te} usuarios de prueba`)}catch(te){console.error("❌ Error limpiando usuarios de prueba:",te),alert("❌ Error limpiando usuarios de prueba: "+te.message)}finally{q(!1)}}};return ee?p.jsxs(gt.div,{className:"space-y-6",initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-3",children:[p.jsx(nse,{className:"w-8 h-8 text-purple-600"}),"Configuración del Sistema"]}),p.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-1",children:"Gestión de usuarios, roles y configuración del sistema"})]}),p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsxs(gt.button,{onClick:Se,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},disabled:n||T,title:"Recargar usuarios desde Firebase",children:[p.jsx(Zm,{className:"w-4 h-4"}),n?"Cargando...":"Recargar"]}),p.jsxs(gt.button,{onClick:P,className:"flex items-center gap-2 bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Ejecutar diagnóstico de la base de datos",disabled:T,children:[p.jsx(Hs,{className:"w-4 h-4"}),"Diagnóstico"]}),p.jsxs(gt.button,{onClick:U,className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Crear usuarios de prueba para resolver la colección vacía",disabled:E||T,children:[p.jsx(eg,{className:"w-4 h-4"}),E?"Creando...":"Crear Prueba"]}),p.jsxs(gt.button,{onClick:V,className:"flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Eliminar todos los usuarios de prueba",disabled:D||T,children:[p.jsx(cy,{className:"w-4 h-4"}),D?"Limpiando...":"Limpiar Prueba"]}),p.jsxs(gt.button,{onClick:()=>O(!0),className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:[p.jsx(w3,{className:"w-4 h-4"}),"Nuevo Usuario"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[p.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Usuarios"}),p.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:i.totalUsers})]}),p.jsx(Ji,{className:"w-8 h-8 text-blue-600"})]})}),p.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Usuarios Activos"}),p.jsx("p",{className:"text-2xl font-bold text-green-600",children:i.activeUsers})]}),p.jsx(es,{className:"w-8 h-8 text-green-600"})]})}),p.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Administradores"}),p.jsx("p",{className:"text-2xl font-bold text-purple-600",children:((z=i.usersByRole)==null?void 0:z.admin)||0})]}),p.jsx(ik,{className:"w-8 h-8 text-purple-600"})]})}),p.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Teleoperadoras"}),p.jsx("p",{className:"text-2xl font-bold text-orange-600",children:((ne=i.usersByRole)==null?void 0:ne.teleoperadora)||0})]}),p.jsx(eg,{className:"w-8 h-8 text-orange-600"})]})})]}),p.jsx("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(co,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),p.jsx("input",{type:"text",placeholder:"Buscar por nombre o email...",value:a,onChange:te=>l(te.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(B5,{className:"w-4 h-4 text-gray-400"}),p.jsxs("select",{value:s,onChange:te=>c(te.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[p.jsx("option",{value:"all",children:"Todos los roles"}),p.jsx("option",{value:"super_admin",children:"Super Admin"}),p.jsx("option",{value:"admin",children:"Administrador"}),p.jsx("option",{value:"auditor",children:"Auditor"}),p.jsx("option",{value:"teleoperadora",children:"Teleoperadora"})]})]})]})}),p.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[p.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:p.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Usuarios (",le.length,")"]})}),n?p.jsxs("div",{className:"flex items-center justify-center py-12",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),p.jsx("span",{className:"ml-2 text-gray-600",children:"Cargando usuarios..."})]}):le.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[p.jsx(Ji,{className:"w-12 h-12 text-gray-400 mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay usuarios"}),p.jsx("p",{className:"text-gray-600 text-center mb-4",children:"No se encontraron usuarios o no tienes permisos para verlos."}),p.jsxs("button",{onClick:P,className:"flex items-center gap-2 bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors",children:[p.jsx(Hs,{className:"w-4 h-4"}),"Ejecutar Diagnóstico"]})]}):p.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:le.map(te=>p.jsx("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:p.jsx(Ji,{className:"w-5 h-5 text-gray-600"})})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:te.displayName||te.email}),p.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:te.email}),p.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[p.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${te.role==="super_admin"?"bg-purple-100 text-purple-800":te.role==="admin"?"bg-blue-100 text-blue-800":te.role==="auditor"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:te.role}),p.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${te.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:te.isActive?"Activo":"Inactivo"})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>{u(te),S(!0)},className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:p.jsx(Z$,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>_e(te.id),className:"p-2 text-gray-400 hover:text-yellow-600 hover:bg-yellow-50 rounded-lg transition-colors",disabled:T,children:te.isActive?p.jsx(K$,{className:"w-4 h-4"}):p.jsx(X$,{className:"w-4 h-4"})}),p.jsx("button",{onClick:()=>X(te.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",disabled:T,children:p.jsx(cy,{className:"w-4 h-4"})})]})]})},te.id))})]}),p.jsx(hh,{children:R&&p.jsx(gt.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>O(!1),children:p.jsx(gt.div,{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:te=>te.stopPropagation(),children:p.jsx(wIe,{roles:r,onSave:se,onClose:()=>O(!1),isLoading:T})})})}),p.jsx(hh,{children:k&&o&&p.jsx(gt.div,{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>S(!1),children:p.jsx(gt.div,{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:te=>te.stopPropagation(),children:p.jsx(bIe,{user:o,onSubmit:K,onCancel:()=>{S(!1),u(null)},isLoading:T})})})})]}):p.jsx("div",{className:"flex items-center justify-center min-h-96",children:p.jsxs("div",{className:"text-center",children:[p.jsx(ik,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),p.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Acceso Denegado"}),p.jsx("p",{className:"text-gray-600",children:"Este módulo es solo para super administradores."})]})})},SIe=()=>{const{user:e}=Ep(),{roles:t,getRoleById:r,getUserPermissions:n,hasPermission:i,isSuperAdmin:a,canAccessModule:s}=xK(),o=L.useMemo(()=>e?e.email==="roberto@mistatas.com"?{...e,role:"super_admin",isActive:!0}:{...e,role:e.role||"teleoperadora",isActive:e.isActive!==!1}:null,[e]),l=L.useMemo(()=>o!=null&&o.role?r(o.role):null,[o==null?void 0:o.role,r]),c=L.useMemo(()=>o?n(o):[],[o,n]),u=L.useMemo(()=>a(o),[o,a]),f=T=>i(o,T),d=T=>s(o,T),h=d("dashboard"),g=d("calls"),m=d("assignments"),v=d("beneficiaries"),y=d("seguimientos"),b=d("history"),_=d("audit"),N=d("reports"),R=u,O=u,k=L.useMemo(()=>{const T=[];return h&&T.push({id:"dashboard",label:"Panel Principal",icon:"BarChart3"}),g&&T.push({id:"calls",label:"Registro de Llamadas",icon:"Phone"}),m&&T.push({id:"assignments",label:"Asignaciones",icon:"Users"}),v&&T.push({id:"beneficiaries",label:"Beneficiarios Base",icon:"Database"}),y&&T.push({id:"seguimientos",label:"Seguimientos Periódicos",icon:"Activity"}),b&&T.push({id:"history",label:"Historial de Seguimientos",icon:"Clock"}),_&&T.push({id:"audit",label:"Auditoría Avanzada",icon:"BarChart3"}),R&&T.push({id:"metrics",label:"Métricas Avanzadas",icon:"PieChart"}),O&&T.push({id:"config",label:"Configuración",icon:"Settings"}),T},[h,g,m,v,y,b,_,R,O]),S=L.useMemo(()=>{var T;return y&&(o==null?void 0:o.role)==="teleoperadora"?"seguimientos":h?"dashboard":((T=k[0])==null?void 0:T.id)||"dashboard"},[y,h,o==null?void 0:o.role,k]);return{user:o,currentRole:l,permissions:c,isSuperAdmin:u,isAdmin:(o==null?void 0:o.role)==="admin"||u,isAuditor:(o==null?void 0:o.role)==="auditor",isTeleoperadora:(o==null?void 0:o.role)==="teleoperadora",checkPermission:f,checkModuleAccess:d,canViewDashboard:h,canViewCalls:g,canViewAssignments:m,canViewBeneficiaries:v,canViewSeguimientos:y,canViewHistory:b,canViewAudit:_,canViewReports:N,canViewMetrics:R,canViewConfig:O,visibleModules:k,defaultTab:S,hasAnyPermission:c.length>0,roleLevel:(l==null?void 0:l.level)||0,roleName:(l==null?void 0:l.name)||"Sin rol"}},hJ=()=>{const{user:e,logout:t}=Ep(),{user:r,isSuperAdmin:n,visibleModules:i,defaultTab:a,canViewConfig:s,checkModuleAccess:o}=SIe(),l=H=>{if(!H)return"N/A";try{let we;if(typeof H=="string"&&/^\d{1,2}[-\/]\d{1,2}[-\/]\d{4}$/.test(H)){const ke=H.split(/[-\/]/),Ee=parseInt(ke[0]),be=parseInt(ke[1]),Ae=parseInt(ke[2]);if(Ee<=31&&be<=12&&Ae>=1900)return`${Ee.toString().padStart(2,"0")}-${be.toString().padStart(2,"0")}-${Ae}`}if(typeof H=="number"?we=new Date((H-25569)*86400*1e3):we=new Date(H),we&&!isNaN(we.getTime())){const ke=we.getDate().toString().padStart(2,"0"),Ee=(we.getMonth()+1).toString().padStart(2,"0"),be=we.getFullYear();return`${ke}-${Ee}-${be}`}return"Fecha inválida"}catch{return typeof H=="string"?H:"Error en fecha"}},{callData:c,processedData:u,callMetrics:f,setCallData:d,analyzeCallData:h,forceReanalysis:g,getOperatorMetrics:m,getHourlyDistribution:v,getFollowUpData:y,hasData:b,isLoading:_,loadingStage:N,loadingMessage:R,setLoadingStage:O}=hg(),{operators:k,operatorAssignments:S,activeTab:T,setOperators:j,setOperatorAssignments:E,setActiveTab:C,getAllAssignments:D}=ao(),[q,ee]=L.useState("dashboard");L.useEffect(()=>{a&&q==="dashboard"&&!o("dashboard")&&ee(a)},[a,o]);const[le,se]=L.useState([]),[K,X]=L.useState([]),[_e,Se]=L.useState("connecting"),[P,U]=L.useState({totalCalls:0,successfulCalls:0,failedCalls:0,beneficiaries:0,activeAssignments:0,operators:0,protocolCompliance:0,pendingFollowUps:0}),[V,z]=L.useState([]),[ne,te]=L.useState([]),[xe,oe]=L.useState("all"),[he,Pe]=L.useState(""),[G,ze]=L.useState([]),[Ce,de]=L.useState(!1),[it,Ve]=L.useState(null),[ct,Qe]=L.useState({name:"",email:"",phone:""}),[at,lt]=L.useState({}),[Jt,bt]=L.useState(null);L.useEffect(()=>{G.length>0&&j(G)},[G,j]),L.useEffect(()=>{Object.keys(at).length>0&&E(at)},[at,E]);const[Kt,jt]=L.useState(!1),[yt,Xt]=L.useState(""),[_t,xt]=L.useState([]),st=[{id:1,operator:"María González",beneficiary:"Juan Pérez",phone:"987654321",commune:"Santiago"},{id:2,operator:"Ana Rodríguez",beneficiary:"Carmen Silva",phone:"987654322",commune:"Valparaíso"},{id:3,operator:"Luis Martínez",beneficiary:"Pedro López",phone:"987654323",commune:"Concepción"},{id:4,operator:"María González",beneficiary:"Rosa Morales",phone:"987654324",commune:"Santiago"},{id:5,operator:"Ana Rodríguez",beneficiary:"Carlos Díaz",phone:"987654325",commune:"Valparaíso"}],dt=L.useRef(!1),[er,Ft]=L.useState(!1);L.useEffect(()=>{e&&!er&&!dt.current&&wt()},[e,er]),L.useEffect(()=>{er&&G.length>0&&(j(G),E(at),setTimeout(()=>{const{operators:H,operatorAssignments:we}=ao.getState()},500))},[er,G,at,j,E]),L.useEffect(()=>{if(c.length>0&&Object.keys(S).length>0){const H=setTimeout(()=>{},500);return()=>clearTimeout(H)}},[S]);const wt=async()=>{if(!dt.current){dt.current=!0,Se("connecting");try{console.log("📥 Cargando datos generales del sistema...");const{loadOperators:H,loadAssignments:we}=ao.getState();await Promise.all([H(),we()]);const{operators:ke,operatorAssignments:Ee}=ao.getState();console.log("🎯 DATOS GENERALES CARGADOS:",{operadores:(ke==null?void 0:ke.length)||0,asignacionesGrupos:Object.keys(Ee||{}).length,totalAsignaciones:Object.values(Ee||{}).flat().length});const[be,Ae,Le]=await Promise.all([Rv.getByUser(e.uid),pm.getAllUserAssignments(e.uid),Wk.getCallData(e.uid)]);if(be!==null)ze(be||[]),lt(Ae||{}),se(Le||[]),j(be||[]),E(Ae||{}),Yt(Ae||{},be||[]),Le&&Le.length>0?(console.log("📊 Cargando datos en Zustand store optimizado..."),d(Le,"firebase")):(console.log("📝 No hay datos de llamadas, inicializando métricas por defecto..."),Vt()),Se("connected"),Ft(!0),console.log("✅ Conectado a Firebase - datos cargados con optimización");else throw new Error("Insufficient permissions")}catch{Se("demo"),Ft(!0),Ur()}finally{dt.current=!1}}},Yt=(H,we)=>{const ke=[];Object.entries(H).forEach(([Ee,be])=>{const Ae=we.find(Le=>Le.id===Ee);Ae&&be&&be.forEach(Le=>{ke.push({id:Le.id,operator:Ae.name,beneficiary:Le.beneficiary,phone:Le.primaryPhone,commune:Le.commune})})}),X(ke)},Ur=()=>{console.log("🔄 Inicializando con datos de ejemplo..."),X(st);const H={};st.forEach(ke=>{let be=`operator-${ke.operator.toLowerCase().replace(/\s+/g,"-")}`;H[be]||(H[be]=[]),H[be].push({id:ke.id,beneficiary:ke.beneficiary,beneficiario:ke.beneficiary,primaryPhone:ke.phone,phone:ke.phone,commune:ke.commune,comuna:ke.commune})});const we=[...new Set(st.map(ke=>ke.operator))].map((ke,Ee)=>({id:`operator-${ke.toLowerCase().replace(/\s+/g,"-")}`,name:ke,email:`${ke.toLowerCase().replace(/\s+/g,".")}@example.com`,phone:`+56${Ee+1}12345678`}));j(we),E(H),console.log("✅ Datos sincronizados con Zustand:",{operators:we,assignments:H}),Ht(),Vt(),console.log("✅ Datos de ejemplo inicializados")},Ht=()=>{const we=[{id:"sample-1",name:"María González",email:"maria.gonzalez@central.cl",phone:"987654321",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-2",name:"Ana Rodríguez",email:"ana.rodriguez@central.cl",phone:"987654322",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-3",name:"Luis Martínez",email:"luis.martinez@central.cl",phone:"987654323",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-4",name:"Carmen Torres",email:"carmen.torres@central.cl",phone:"987654324",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-5",name:"Pedro Sánchez",email:"pedro.sanchez@central.cl",phone:"987654325",userId:(e==null?void 0:e.uid)||"demo-user"}].filter(ke=>ke&&ke.id&&ke.name);ze(we)},dr=async()=>{if(ct.name.trim()!=="")try{const H=await Rv.create(e.uid,ct);ze([...G,H]),Qe({name:"",email:"",phone:""}),de(!1)}catch(H){console.error("Error creating operator:",H),alert("Error al crear teleoperador. Intenta nuevamente.")}},Qt=async H=>{try{await Rv.delete(H),await pm.deleteOperatorAssignments(e.uid,H),ze(G.filter(Ee=>Ee.id!==H));const we={...at};delete we[H],lt(we);const ke=K.filter(Ee=>!Ee.id.toString().startsWith(`${H}-`));X(ke)}catch(we){console.error("Error deleting operator:",we),alert("Error al eliminar teleoperador. Intenta nuevamente.")}},nn=(H,we)=>{const ke=H.target.files[0];if(ke){const Ee=new FileReader;Ee.onload=be=>{const Ae=new Uint8Array(be.target.result),Le=Ey(Ae,{type:"array"}),Ke=Le.SheetNames[0],Ue=Le.Sheets[Ke],Xe=Om.sheet_to_json(Ue,{header:1});an(Xe,we)},Ee.readAsArrayBuffer(ke)}H.target.value=""},an=async(H,we)=>{if(H.length<2)return;const ke=G.find(be=>be.id===we);if(!ke)return;const Ee=H.slice(1).map((be,Ae)=>{const Le=be[1]?String(be[1]).split(/[\|\-\s]+/).filter(Ke=>Ke.trim().length===9):[];return{id:`${we}-${Ae}`,operatorId:we,operatorName:ke.name,beneficiary:be[0]||"",phones:Le,primaryPhone:Le[0]||"",commune:be[2]||""}}).filter(be=>be.beneficiary&&be.primaryPhone);try{await pm.saveOperatorAssignments(e.uid,we,Ee),lt(Ae=>({...Ae,[we]:Ee}));const be=Ee.map(Ae=>({id:Ae.id,operator:Ae.operatorName,beneficiary:Ae.beneficiary,phone:Ae.primaryPhone,commune:Ae.commune}));X(Ae=>[...Ae.filter(Ke=>!Ke.id.toString().startsWith(`${we}-`)),...be]),bt(null)}catch(be){console.error("Error saving assignments:",be),alert("Error al guardar asignaciones. Intenta nuevamente.")}},Rr=async H=>{try{await pm.deleteOperatorAssignments(e.uid,H);const we={...at};delete we[H],lt(we),X(ke=>ke.filter(Ee=>!Ee.id.toString().startsWith(`${H}-`)))}catch(we){console.error("Error clearing assignments:",we),alert("Error al limpiar asignaciones. Intenta nuevamente.")}},Vt=()=>{if(le.length>0){console.log("📊 Datos reales disponibles, omitiendo generación de datos de ejemplo");return}console.log("📝 Generando datos de ejemplo...");const we=(G.length>0?G.map(Ee=>Ee.name):["María González","Ana Rodríguez","Luis Martínez","Carmen Torres","Pedro Sánchez"]).map(Ee=>({operator:Ee,totalCalls:Math.floor(Math.random()*50)+20,totalMinutes:Math.floor(Math.random()*500)+100,avgDuration:Math.floor(Math.random()*10)+3})),ke=Array.from({length:24},(Ee,be)=>({hour:be,calls:Math.floor(Math.random()*20)+1}));z(we),te(ke),U({totalCalls:150,successfulCalls:120,failedCalls:30,beneficiaries:85,activeAssignments:K.length||5,operators:G.length||5,protocolCompliance:85,pendingFollowUps:12}),K.length>0},gr=H=>{if(!H.trim()){xt([]);return}console.log("🔍 Iniciando búsqueda para:",H);const we=[];Object.entries(at).forEach(([Ae,Le])=>{const Ke=G.find(Ue=>Ue.id===Ae);Le&&Array.isArray(Le)&&Le.forEach(Ue=>{we.push({beneficiary:Ue.beneficiary||Ue.beneficiario,beneficiario:Ue.beneficiary||Ue.beneficiario,operatorName:(Ke==null?void 0:Ke.name)||Ue.operator||Ue.operatorName||"Operador no encontrado",operator:(Ke==null?void 0:Ke.name)||Ue.operator||Ue.operatorName,phone:Ue.primaryPhone||Ue.phone||Ue.telefono||Ue.numero_cliente||Ue.phones&&Ue.phones[0]||"N/A",primaryPhone:Ue.primaryPhone,phones:Ue.phones||[],telefono:Ue.telefono,numero_cliente:Ue.numero_cliente,commune:Ue.commune||Ue.comuna||"N/A",comuna:Ue.comuna,operatorId:Ae,source:"operatorAssignments",id:Ue.id})})});const ke=D();console.log("📊 Asignaciones de Zustand:",ke),ke.forEach(Ae=>{we.push({beneficiary:Ae.beneficiary||Ae.beneficiario,beneficiario:Ae.beneficiary||Ae.beneficiario,operatorName:Ae.operator||Ae.operatorName||Ae.name||"Sin asignar",operator:Ae.operator||Ae.operatorName||Ae.name,phone:Ae.phone||Ae.telefono||Ae.numero_cliente||"N/A",commune:Ae.commune||Ae.comuna||"N/A",operatorId:Ae.operatorId||"zustand",source:"zustand"})}),console.log("📋 Total asignaciones encontradas:",we.length),console.log("📋 Muestra de asignaciones:",we.slice(0,3));const Ee=H.toLowerCase().trim(),be=we.filter(Ae=>{const Le=(Ae.beneficiary||Ae.beneficiario||"").toLowerCase(),Ke=(Ae.operatorName||Ae.operator||"").toLowerCase(),Ue=(Ae.commune||Ae.comuna||"").toLowerCase(),Xe=[Ae.phone,Ae.primaryPhone,Ae.telefono,Ae.numero_cliente,...Ae.phones||[]].filter(pi=>pi&&pi!=="N/A").join(" ").toLowerCase(),We=Le.includes(Ee),pt=Ke.includes(Ee),Mt=Xe.includes(Ee),zt=Ue.includes(Ee),Tr=We||pt||Mt||zt;return Tr&&console.log("✅ Coincidencia encontrada:",{beneficiary:Le,operator:Ke,phones:Xe,commune:Ue,searchTerm:Ee,matches:{beneficiaryName:We,operatorName:pt,phones:Mt,commune:zt},source:Ae.source}),Tr});console.log("🎯 Resultados filtrados:",be.length),xt(be)},ba=L.useRef(null);L.useEffect(()=>()=>{ba.current&&clearTimeout(ba.current)},[]);const jn=H=>{if(Xt(H),ba.current&&clearTimeout(ba.current),!H.trim()){xt([]);return}ba.current=setTimeout(()=>{gr(H)},300)},ns=H=>{const we=H.target.files[0];if(we){O("uploading",`Subiendo archivo: ${we.name}`);const ke=new FileReader;ke.onload=Ee=>{try{O("processing","Leyendo datos del archivo Excel...");const be=new Uint8Array(Ee.target.result),Ae=Ey(be,{type:"array"}),Le=Ae.SheetNames[0],Ke=Ae.Sheets[Le],Ue=Om.sheet_to_json(Ke,{header:1});Wi(Ue)}catch(be){console.error("Error al procesar archivo Excel:",be),O("error","Error al procesar el archivo Excel")}},ke.onerror=()=>{O("error","Error al leer el archivo")},ke.readAsArrayBuffer(we)}H.target.value=""},Wi=async H=>{if(H.length<2){O("error","El archivo Excel no contiene datos válidos");return}try{O("processing",`Procesando ${H.length-1} filas de datos...`);const ke=(be=>{const Ae=be.slice(1,Math.min(6,be.length)),Le=We=>!We||typeof We!="string"||/^\d{1,2}:\d{2}(:\d{2})?$/.test(We)||/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(We)||!isNaN(Date.parse(We))||/^\d+$/.test(We)||We.trim().length<3?!1:!!(We.trim().split(/\s+/).filter(Mt=>Mt.length>1).length>=2||/^[a-záéíóúüñA-ZÁÉÍÓÚÜÑ\s\-\.]+$/.test(We)),Ke={};for(let We=0;We<15;We++){let pt=0;const Mt=Ae.map(zt=>zt[We]).filter(zt=>zt!=null);if(Mt.length!==0){for(const zt of Mt)Le(String(zt))&&pt++;pt>0&&(Ke[We]={score:pt,percentage:pt/Mt.length*100,sampleValues:Mt.slice(0,3)})}}console.log("📊 Análisis de columnas para detectar operadores:",Ke);let Ue=7,Xe=0;for(const[We,pt]of Object.entries(Ke))(pt.score>Xe||pt.score===Xe&&pt.percentage>50)&&(Xe=pt.score,Ue=parseInt(We));return console.log(`🎯 Columna de operadores detectada: ${Ue} (puntuación: ${Xe})`),Ue})(H),Ee=H.slice(1).map((be,Ae)=>{Ae<3&&console.log(`Fila ${Ae}:`,{col0:be[0],col1:be[1],col2:be[2],col3:be[3],col4:be[4],col5:be[5],col6:be[6],col7:be[7],col8:be[8],col9:be[9],col10:be[10],col11:be[11],operadorDetectado:be[ke]});let Le=be[ke];if(Le&&/^\d{1,2}:\d{2}/.test(String(Le))){console.warn(`⚠️ Valor de operador parece ser hora: "${Le}". Buscando en otras columnas...`);for(let Ue=0;Ue<be.length;Ue++){const Xe=be[Ue];if(Xe&&typeof Xe=="string"&&!/^\d{1,2}:\d{2}/.test(Xe)&&!/^\d+$/.test(Xe)&&Xe.trim().split(/\s+/).length>=2){Le=Xe,console.log(`✅ Operador encontrado en columna ${Ue}: "${Le}"`);break}}}const Ke=l;return{id:be[0]||`call-${Ae}-${Date.now()}`,fecha:Ke(be[1]),beneficiario:be[2],comuna:be[3],tipo_llamada:be[4]==="Entrante"?"entrante":"saliente",numero_cliente:be[5],hora:be[6]||"09:00:00",operador:Le||"No identificado",duracion:parseInt(be[8])||0,categoria:be[9]==="Llamado exitoso"?"exitosa":"fallida",resultado:be[9],observacion:be[10],apiId:be[11]}});try{_e==="connected"&&await Wk.saveCallData(e.uid,Ee)&&console.log("✅ Datos de llamadas guardados en Firebase")}catch(be){console.error("Error guardando datos en Firebase:",be)}d(Ee,"excel"),allAssignments.length===0&&Ee.length>0&&(console.log("🔄 No hay asignaciones previas, creando asignaciones basadas en operadoras detectadas..."),$t(Ee)),console.log(`📊 Procesados ${Ee.length} registros en Zustand`)}catch(we){console.error("Error durante el procesamiento de datos:",we),O("error","Error al procesar los datos del Excel")}},$t=H=>{try{const we={},ke=Le=>!Le||typeof Le!="string"?!1:Le.trim().length>2&&!/^\d{1,2}:\d{2}/.test(Le)&&!/^\d+$/.test(Le)&&!/^(si|no|exitoso|fallido|pendiente|hangup|solo)$/i.test(Le)&&/^[a-záéíóúüñA-ZÁÉÍÓÚÜÑ\s\-\.]{3,}$/.test(Le);H.forEach(Le=>{const Ke=Le.beneficiario||Le.beneficiary,Ue=Le.operador||Le.operator||Le.teleoperadora;Ke&&Ue&&ke(Ue)&&(we[Ue]||(we[Ue]=new Set),we[Ue].add(Ke))});const Ee=Object.keys(we).map((Le,Ke)=>({id:`auto-operator-${Ke+1}`,name:Le,email:`${Le.toLowerCase().replace(/\s+/g,".")}@auto.com`,phone:`+56${Ke+1}87654321`})),be={},Ae=[];Object.entries(we).forEach(([Le,Ke],Ue)=>{const Xe=`auto-operator-${Ue+1}`;be[Xe]=[],Array.from(Ke).forEach((We,pt)=>{const Mt={id:`auto-${Xe}-${pt+1}`,beneficiary:We,beneficiario:We,primaryPhone:"N/A",phone:"N/A",commune:"N/A",comuna:"N/A"};be[Xe].push(Mt),Ae.push({...Mt,operator:Le})})}),Ee.length>0&&(j(Ee),E(be),X(Ae),console.log("✅ Asignaciones automáticas creadas:",{operators:Ee.length,assignments:Ae.length,operatorMap:we}))}catch(we){console.error("Error creando asignaciones automáticas:",we)}},_a=(()=>{const H=[];return Object.entries(at).forEach(([we,ke])=>{const Ee=G.find(be=>be.id===we);Ee&&ke&&Array.isArray(ke)?ke.forEach(be=>{const Ae={id:be.id,operator:Ee.name,operatorName:Ee.name,beneficiary:be.beneficiary,phone:be.primaryPhone,commune:be.commune};H.push(Ae)}):G.length>0&&console.warn(`⚠️ Problemas con operador ${we}:`,{operatorFound:!!Ee,assignmentsType:typeof ke,isArray:Array.isArray(ke)})}),H})(),En=y(_a),ti=En.filter(H=>{const we=xe==="all"||H.status===xe,ke=H.beneficiary.toLowerCase().includes(he.toLowerCase())||H.operator.toLowerCase().includes(he.toLowerCase());return we&&ke}),yn=()=>{const H={dashboard:Qc,calls:ua,assignments:Ji,beneficiaries:Ub,seguimientos:H$,history:zo,audit:Qc,reports:Xae,config:ly};return p.jsxs("div",{className:"w-64 bg-white shadow-lg h-full flex flex-col",children:[p.jsxs("div",{className:"p-6 flex-1",children:[p.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Mistatas - Seguimiento de llamadas"}),p.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"© 2025"}),p.jsx("nav",{className:"space-y-2",children:i.map(we=>{const ke=H[we.id]||Qc;return p.jsx(Gn,{icon:ke,label:we.label,active:q===we.id,onClick:()=>ee(we.id)},we.id)})}),r&&p.jsxs("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg",children:[p.jsxs("p",{className:"text-xs text-gray-600",children:["Rol: ",p.jsx("span",{className:"font-medium",children:r.role})]}),n&&p.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"⚡ Super Administrador"})]})]}),p.jsxs("div",{className:"p-6 border-t border-gray-200",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:p.jsx(nl,{className:"w-5 h-5 text-blue-600"})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(e==null?void 0:e.displayName)||(r==null?void 0:r.name)||"Usuario"}),p.jsx("p",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.email})]})]}),p.jsxs("div",{className:"mb-4 p-2 rounded-lg bg-gray-50",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`w-2 h-2 rounded-full ${_e==="connected"?"bg-green-500":_e==="connecting"?"bg-yellow-500":"bg-orange-500"}`}),p.jsx("span",{className:"text-xs text-gray-600",children:_e==="connected"?"Firebase conectado":_e==="connecting"?"Conectando...":"Modo demo"})]}),le.length>0&&p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[le.length," llamadas cargadas"]})]}),p.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[p.jsx(bse,{className:"w-4 h-4"}),"Cerrar Sesión"]})]})]})},Gn=({icon:H,label:we,active:ke,onClick:Ee})=>p.jsxs("button",{onClick:Ee,className:`w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors ${ke?"bg-blue-50 text-blue-600 border-l-4 border-blue-500":"text-gray-600 hover:bg-gray-50"}`,children:[p.jsx(H,{className:"w-5 h-5 mr-3"}),p.jsx("span",{className:"text-sm",children:we})]}),Q=()=>{const H=(c==null?void 0:c.length)>0?c:le,ke=_e==="connecting"?{color:"bg-yellow-50 border-yellow-200",icon:"🔄",title:"Conectando...",message:"Conectando con Firebase para cargar datos"}:_e==="connected"?H.length>0?{color:"bg-green-50 border-green-200",icon:"✅",title:"Datos reales activos",message:`Mostrando datos reales de ${H.length} llamadas registradas`}:{color:"bg-blue-50 border-blue-200",icon:"ℹ️",title:"Firebase conectado - Sin datos de llamadas",message:"Conectado a Firebase. Sube un archivo Excel para ver datos reales"}:{color:"bg-orange-50 border-orange-200",icon:"⚠️",title:"Modo demostración",message:"Mostrando datos de ejemplo. Configura Firebase para persistencia completa"},Ee=async()=>{_e==="connected"&&(Ft(!1),await wt())};return p.jsx("div",{className:`${ke.color} border rounded-lg p-4 mb-6`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("span",{className:"text-lg mr-3",children:ke.icon}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-gray-800",children:ke.title}),p.jsx("p",{className:"text-sm text-gray-600",children:ke.message}),p.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Métricas: ",f?`${f.successfulCalls}/${f.totalCalls} exitosas`:"Sin métricas"]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[_e==="connected"&&p.jsx("button",{onClick:Ee,className:"px-3 py-1 text-xs bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",title:"Recargar datos desde Firebase",children:"🔄 Sincronizar"}),H.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("button",{onClick:()=>{console.log("🔧 DEBUG: Forzando re-análisis..."),console.log("📊 Datos antes del re-análisis:",f),g()},className:"px-3 py-1 text-xs bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",title:"Forzar re-análisis de datos",children:"🔧 Re-analizar"}),p.jsx("button",{onClick:()=>{console.log("🔍 DIAGNÓSTICO: Analizando datos reales...");const be=hg.getState().callData;be&&be.length>0?window.analyzeRealData?window.analyzeRealData(be):(console.log("⚠️ Función de diagnóstico no disponible"),console.log("Datos disponibles:",be.length,"llamadas"),console.log("Muestra de datos:",be.slice(0,3))):console.log("❌ No hay datos disponibles para analizar")},className:"px-3 py-1 text-xs bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors",title:"Diagnosticar datos reales del Excel (ver consola)",children:"🔍 Diagnosticar"})]})]})]})})},me=()=>{tl.useEffect(()=>{le.length>0&&(!c||c.length===0)&&(console.log("🔄 Sincronizando datos locales con Zustand:",le.length),d(le,"sync"))},[le,c,d]);const H=f||{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},we=k.length;S&&Object.keys(S).length;const ke=m(_a);v();let Ee=ke;(!ke||ke.length===0)&&(Ee=Object.entries(at).map(([pt,Mt])=>{const zt=G.find(Tr=>Tr.id===pt);if(zt&&Mt&&Array.isArray(Mt)){const Tr=Mt.length,pi=Math.max(1,Math.floor(H.totalCalls*(Tr/Math.max(1,_a.length)))),Ba=Math.floor(pi*.6);return{operatorName:zt.name,totalCalls:pi,successfulCalls:Ba,failedCalls:pi-Ba,averageDuration:60,successRate:Math.round(Ba/pi*100),isEmergencyData:!0}}return null}).filter(Boolean)),(!Ee||!Array.isArray(Ee))&&(Ee=[]);const be=H.totalCalls>0?(H.successfulCalls/H.totalCalls*100).toFixed(1):0,Ae=H.totalCalls>0?(H.failedCalls/H.totalCalls*100).toFixed(1):0,Le=we>0?(H.totalCalls/we).toFixed(1):0,Ke=H.uniqueBeneficiaries>0?(H.successfulCalls/H.uniqueBeneficiaries*100).toFixed(1):0,Ue=Ee.sort((We,pt)=>pt.successfulCalls-We.successfulCalls).slice(0,3),Xe=Ee.length>0?Ee.reduce((We,pt)=>We.totalCalls>pt.totalCalls?We:pt):null;return p.jsxs("div",{className:"space-y-8",children:[p.jsx(Q,{}),p.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:[p.jsx("h2",{className:"text-2xl font-bold mb-4",children:"📊 Resumen Ejecutivo de Teleasistencia"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[p.jsxs("div",{className:"text-3xl font-bold",children:[be,"%"]}),p.jsx("div",{className:"text-sm opacity-90",children:"Tasa de Éxito"})]}),p.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[p.jsx("div",{className:"text-3xl font-bold",children:H.uniqueBeneficiaries}),p.jsx("div",{className:"text-sm opacity-90",children:"Beneficiarios Atendidos"})]}),p.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[p.jsx("div",{className:"text-3xl font-bold",children:Le}),p.jsx("div",{className:"text-sm opacity-90",children:"Llamadas por Operadora"})]}),p.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[p.jsxs("div",{className:"text-3xl font-bold",children:[Ke,"%"]}),p.jsx("div",{className:"text-sm opacity-90",children:"Tasa de Contactabilidad"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Llamadas Exitosas"}),p.jsx("p",{className:"text-3xl font-bold text-green-600",children:H.successfulCalls}),p.jsxs("p",{className:"text-sm text-gray-500",children:["de ",H.totalCalls," total"]})]}),p.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:p.jsx(ua,{className:"h-8 w-8 text-green-600"})})]}),p.jsx("div",{className:"mt-4 pt-4 border-t",children:p.jsxs("div",{className:"flex items-center text-sm",children:[p.jsx(uy,{className:"h-4 w-4 text-green-500 mr-1"}),p.jsxs("span",{className:"text-green-600 font-medium",children:[be,"% de éxito"]})]})})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-red-500",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Llamadas Fallidas"}),p.jsx("p",{className:"text-3xl font-bold text-red-600",children:H.failedCalls}),p.jsx("p",{className:"text-sm text-gray-500",children:"sin contacto efectivo"})]}),p.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:p.jsx(ua,{className:"h-8 w-8 text-red-600"})})]}),p.jsx("div",{className:"mt-4 pt-4 border-t",children:p.jsxs("div",{className:"flex items-center text-sm",children:[p.jsx(Vse,{className:"h-4 w-4 text-red-500 mr-1"}),p.jsxs("span",{className:"text-red-600 font-medium",children:[Ae,"% de fallas"]})]})})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Beneficiarios Únicos"}),p.jsx("p",{className:"text-3xl font-bold text-blue-600",children:H.uniqueBeneficiaries}),p.jsx("p",{className:"text-sm text-gray-500",children:"personas atendidas"})]}),p.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:p.jsx(Ji,{className:"h-8 w-8 text-blue-600"})})]}),p.jsx("div",{className:"mt-4 pt-4 border-t",children:p.jsxs("div",{className:"flex items-center text-sm",children:[p.jsx(Ji,{className:"h-4 w-4 text-blue-500 mr-1"}),p.jsx("span",{className:"text-blue-600 font-medium",children:"Cobertura poblacional"})]})})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Tiempo Promedio"}),p.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[Math.round(H.averageDuration/60),"min"]}),p.jsx("p",{className:"text-sm text-gray-500",children:"por llamada"})]}),p.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:p.jsx(zo,{className:"h-8 w-8 text-purple-600"})})]}),p.jsx("div",{className:"mt-4 pt-4 border-t",children:p.jsxs("div",{className:"flex items-center text-sm",children:[p.jsx(zo,{className:"h-4 w-4 text-purple-500 mr-1"}),p.jsx("span",{className:"text-purple-600 font-medium",children:"Eficiencia temporal"})]})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[p.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[p.jsx(uy,{className:"h-5 w-5 text-green-500 mr-2"}),"🏆 Top Performers"]}),Ue.length>0?p.jsx("div",{className:"space-y-3",children:Ue.map((We,pt)=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold mr-3 ${pt===0?"bg-yellow-500":pt===1?"bg-gray-400":"bg-orange-500"}`,children:pt+1}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:We.operatorName}),p.jsxs("p",{className:"text-sm text-gray-500",children:[We.totalCalls," llamadas",We.isEmergencyData&&p.jsx("span",{className:"ml-1 text-xs text-yellow-600",children:"(estimado)"})]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:"font-bold text-green-600",children:We.successfulCalls}),p.jsx("p",{className:"text-sm text-gray-500",children:"exitosas"})]})]},pt))}):p.jsxs("div",{className:"text-center py-6",children:[p.jsx("p",{className:"text-gray-500 mb-2",children:"No hay datos de operadoras disponibles"}),p.jsx("p",{className:"text-sm text-gray-400",children:at&&Object.keys(at).length>0?"⚠️ Verifica que haya datos de llamadas cargados":"⚠️ Necesitas crear operadoras y asignar beneficiarios en el módulo Asignaciones"})]})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[p.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[p.jsx(Qc,{className:"h-5 w-5 text-blue-500 mr-2"}),"📊 Análisis de Productividad"]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Operadora más activa"}),p.jsx("p",{className:"font-bold text-lg",children:(Xe==null?void 0:Xe.operatorName)||"N/A"}),p.jsxs("p",{className:"text-sm text-blue-600",children:[(Xe==null?void 0:Xe.totalCalls)||0," llamadas realizadas"]})]}),p.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Tasa de éxito promedio"}),p.jsxs("p",{className:"font-bold text-lg",children:[be,"%"]}),p.jsx("p",{className:"text-sm text-green-600",children:"Indicador de calidad del servicio"})]}),p.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Cumplimiento de protocolo"}),p.jsxs("p",{className:"font-bold text-lg",children:[H.protocolCompliance,"%"]}),p.jsx("p",{className:"text-sm text-purple-600",children:"Adherencia a procedimientos"})]})]})]})]}),p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-6",children:"🚀 Acceso Rápido a Módulos"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs("div",{onClick:()=>ee("calls"),className:"bg-gradient-to-br from-green-50 to-green-100 rounded-lg p-6 border border-green-200 cursor-pointer hover:shadow-md transition-all",children:[p.jsx("div",{className:"flex items-center justify-center mb-4",children:p.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-lg flex items-center justify-center",children:p.jsx(ua,{className:"w-8 h-8 text-white"})})}),p.jsx("h4",{className:"text-lg font-semibold text-green-800 mb-2",children:"Registro de Llamadas"}),p.jsx("p",{className:"text-sm text-green-700",children:"Sube historiales Excel, analiza resultados y clasifica por beneficiario y teleoperadora."})]}),p.jsxs("div",{onClick:()=>ee("assignments"),className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200 cursor-pointer hover:shadow-md transition-all",children:[p.jsx("div",{className:"flex items-center justify-center mb-4",children:p.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-lg flex items-center justify-center",children:p.jsx(Ji,{className:"w-8 h-8 text-white"})})}),p.jsx("h4",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Asignaciones"}),p.jsx("p",{className:"text-sm text-blue-700",children:"Gestiona relaciones entre beneficiarios y teleoperadoras de manera eficiente."})]}),p.jsxs("div",{onClick:()=>ee("history"),className:"bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg p-6 border border-purple-200 cursor-pointer hover:shadow-md transition-all",children:[p.jsx("div",{className:"flex items-center justify-center mb-4",children:p.jsx("div",{className:"w-16 h-16 bg-purple-500 rounded-lg flex items-center justify-center",children:p.jsx(zo,{className:"w-8 h-8 text-white"})})}),p.jsx("h4",{className:"text-lg font-semibold text-purple-800 mb-2",children:"Historial de Seguimientos"}),p.jsx("p",{className:"text-sm text-purple-700",children:"Clasifica beneficiarios por frecuencia y estado de contacto para seguimiento."})]})]})]}),Ee.length>0&&p.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[p.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[p.jsx(Ji,{className:"h-5 w-5 text-indigo-500 mr-2"}),"📊 Detalle Completo por Teleoperadora",Ee.some(We=>We.isEmergencyData)&&p.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Datos Estimados"})]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operadora"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Llamadas"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Exitosas"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fallidas"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tasa Éxito"}),p.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rendimiento"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Ee.map((We,pt)=>{var zt;const Mt=We.totalCalls>0?(We.successfulCalls/We.totalCalls*100).toFixed(1):0;return p.jsxs("tr",{className:"hover:bg-gray-50",children:[p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center mr-3",children:p.jsx("span",{className:"text-indigo-600 font-semibold text-sm",children:(zt=We.operatorName)==null?void 0:zt.substring(0,2).toUpperCase()})}),p.jsx("span",{className:"text-sm font-medium text-gray-900",children:We.operatorName})]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:We.totalCalls})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 font-medium",children:We.successfulCalls}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 font-medium",children:We.failedCalls}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${parseFloat(Mt)>=70?"bg-green-100 text-green-800":parseFloat(Mt)>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Mt,"%"]})}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsxs("div",{className:"flex items-center",children:[p.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:p.jsx("div",{className:`h-2 rounded-full ${parseFloat(Mt)>=70?"bg-green-500":parseFloat(Mt)>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(parseFloat(Mt),100)}%`}})}),p.jsx("span",{className:"text-xs text-gray-500",children:parseFloat(Mt)>=70?"🎯 Excelente":parseFloat(Mt)>=50?"⚠️ Regular":"📉 Revisar"})]})})]},pt)})})]})})]})]})},ce=()=>p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registro de Llamadas"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Sube el archivo Excel con el registro de llamadas para realizar el análisis automático."}),p.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[p.jsx(Zm,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),p.jsxs("label",{className:"cursor-pointer",children:[p.jsx("span",{className:"text-blue-600 font-medium",children:"Seleccionar archivo Excel"}),p.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:ns,className:"hidden"})]}),p.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Formatos soportados: .xlsx, .xls"})]}),_&&p.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),p.jsxs("div",{children:[p.jsxs("h4",{className:"text-sm font-medium text-blue-900",children:[N==="uploading"&&"📤 Subiendo archivo...",N==="processing"&&"⚙️ Procesando datos...",N==="analyzing"&&"📊 Analizando llamadas..."]}),p.jsx("p",{className:"text-sm text-blue-700",children:R})]})]}),p.jsx("div",{className:"mt-3 w-full bg-blue-200 rounded-full h-2",children:p.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:N==="uploading"?"25%":N==="processing"?"50%":N==="analyzing"?"75%":"100%"}})})]}),N==="complete"&&!_&&c.length>0&&p.jsx("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center",children:p.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-green-900",children:"✅ Análisis completado exitosamente"}),p.jsx("p",{className:"text-sm text-green-700",children:R})]})]})}),N==="error"&&!_&&p.jsx("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-6 h-6 bg-red-600 rounded-full flex items-center justify-center",children:p.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:p.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-red-900",children:"❌ Error en el procesamiento"}),p.jsx("p",{className:"text-sm text-red-700",children:R}),p.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Por favor, verifica el formato del archivo e intenta nuevamente."})]})]})})]}),c.length>0&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumen del Análisis"}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.length}),p.jsx("div",{className:"text-sm text-gray-600",children:"Total Llamadas"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.filter(H=>H.categoria==="exitosa"||H.resultado==="Llamado exitoso").length}),p.jsx("div",{className:"text-sm text-gray-600",children:"Exitosas"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-red-600",children:c.filter(H=>H.categoria!=="exitosa"&&H.resultado!=="Llamado exitoso").length}),p.jsx("div",{className:"text-sm text-gray-600",children:"Fallidas"})]}),p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(c.map(H=>H.beneficiario).filter(Boolean)).size}),p.jsx("div",{className:"text-sm text-gray-600",children:"Beneficiarios"})]})]})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Datos Procesados"}),p.jsxs("div",{className:"overflow-x-auto",children:[p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-gray-50",children:[p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"ID"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Fecha"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Beneficiario"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Comuna"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Operador"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Tipo"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Resultado"}),p.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Duración"})]})}),p.jsx("tbody",{children:c.slice(0,10).map((H,we)=>p.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[p.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:H.id||`call-${we}`}),p.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:H.fecha||"N/A"}),p.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:H.beneficiario||"N/A"}),p.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:H.comuna||"N/A"}),p.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:H.operador||"No identificado"}),p.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:p.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${H.tipo_llamada==="entrante"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:H.tipo_llamada==="entrante"?"Entrante":"Saliente"})}),p.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:p.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${H.resultado==="Llamado exitoso"||H.categoria==="exitosa"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:H.resultado||(H.categoria==="exitosa"?"Exitoso":"Fallido")})}),p.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[H.duracion||0,"s"]})]},H.id||we))})]}),p.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-600",children:[p.jsxs("span",{children:["Mostrando ",Math.min(10,c.length)," de ",c.length," llamadas procesadas"]}),c.length>10&&p.jsx("span",{className:"text-blue-600",children:"Mostrando solo las primeras 10 filas"})]})]})]})]})]}),fe=()=>p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold",children:"Gestión de Asignaciones"}),p.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona teleoperadores y sus asignaciones de beneficiarios"})]}),p.jsxs("button",{onClick:()=>de(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",children:[p.jsx(eg,{className:"w-4 h-4"}),"Crear Teleoperador"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[p.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Total Teleoperadores"}),p.jsx("p",{className:"text-2xl font-bold text-blue-600",children:G.length})]}),p.jsx(Ji,{className:"w-8 h-8 text-blue-500"})]})}),p.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Beneficiarios Asignados"}),p.jsx("p",{className:"text-2xl font-bold text-green-600",children:Object.values(at).reduce((H,we)=>H+we.length,0)})]}),p.jsx(ua,{className:"w-8 h-8 text-green-500"})]})}),p.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-gray-600",children:"Operadores con Asignaciones"}),p.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Object.keys(at).length})]}),p.jsx(vv,{className:"w-8 h-8 text-purple-500"})]})})]})]}),p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Búsqueda de Beneficiarios"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Encuentra rápidamente qué teleoperadora está asignada a un beneficiario"})]}),p.jsxs("button",{onClick:()=>jt(!Kt),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${Kt?"bg-red-500 text-white hover:bg-red-600":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[p.jsx(co,{className:"w-4 h-4"}),Kt?"Cerrar Búsqueda":"Buscar Beneficiario"]})]}),Kt&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex gap-4 items-center",children:[p.jsx("div",{className:"flex-1",children:p.jsx("input",{type:"text",placeholder:"Buscar por nombre del beneficiario, teleoperadora, teléfono o comuna...",value:yt,onChange:H=>{const we=H.target.value;jn(we)},className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),p.jsx("button",{onClick:()=>{Xt(""),xt([])},className:"px-3 py-2 text-gray-500 hover:text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:p.jsx(tg,{className:"w-4 h-4"})})]}),_t.length>0&&p.jsxs("div",{className:"border border-gray-200 rounded-lg divide-y divide-gray-200 max-h-96 overflow-y-auto",children:[p.jsxs("div",{className:"bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700",children:[_t.length," resultado(s) encontrado(s)"]}),_t.map((H,we)=>p.jsx("div",{className:"p-4 hover:bg-gray-50",children:p.jsx("div",{className:"flex justify-between items-start",children:p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx("h5",{className:"font-semibold text-gray-900",children:H.beneficiary||H.beneficiario}),p.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:"Beneficiario"}),p.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:H.source})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(Ji,{className:"w-4 h-4 text-gray-400"}),p.jsxs("span",{children:[p.jsx("strong",{children:"Teleoperadora:"})," ",H.operatorName||H.operator||"Sin asignar"]})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(ua,{className:"w-4 h-4 text-gray-400"}),p.jsxs("span",{children:[p.jsx("strong",{children:"Teléfono Principal:"})," ",H.primaryPhone||H.phone||H.telefono||H.numero_cliente||"N/A"]})]}),H.phones&&H.phones.length>1&&p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(ua,{className:"w-4 h-4 text-gray-400"}),p.jsxs("span",{children:[p.jsx("strong",{children:"Otros Teléfonos:"})," ",H.phones.slice(1).join(", ")]})]}),p.jsxs("div",{className:"flex items-center gap-1",children:[p.jsx(vv,{className:"w-4 h-4 text-gray-400"}),p.jsxs("span",{children:[p.jsx("strong",{children:"Comuna:"})," ",H.commune||H.comuna||"N/A"]})]})]})]})})},`${H.id||we}-${H.source}`))]}),yt&&_t.length===0&&p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx(co,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),p.jsxs("p",{children:['No se encontraron beneficiarios que coincidan con "',yt,'"']}),p.jsx("p",{className:"text-sm mt-1",children:"Intenta con otro término de búsqueda"})]}),!yt&&p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx(co,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),p.jsx("p",{children:"Escribe el nombre de un beneficiario, teleoperadora, teléfono o comuna para buscar"}),p.jsx("p",{className:"text-sm mt-1",children:"La búsqueda incluye todas las asignaciones registradas"})]})]})]}),Ce&&p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:p.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[p.jsxs("div",{className:"flex justify-between items-center mb-4",children:[p.jsx("h4",{className:"text-lg font-semibold",children:"Crear Nuevo Teleoperador"}),p.jsx("button",{onClick:()=>de(!1),className:"text-gray-500 hover:text-gray-700",children:p.jsx(tg,{className:"w-5 h-5"})})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo *"}),p.jsx("input",{type:"text",value:ct.name,onChange:H=>Qe({...ct,name:H.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: María González"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),p.jsx("input",{type:"email",value:ct.email,onChange:H=>Qe({...ct,email:H.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"maria.gonzalez@central.cl"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),p.jsx("input",{type:"tel",value:ct.phone,onChange:H=>Qe({...ct,phone:H.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"987654321"})]})]}),p.jsxs("div",{className:"flex gap-3 mt-6",children:[p.jsxs("button",{onClick:dr,disabled:!ct.name.trim(),className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[p.jsx(b3,{className:"w-4 h-4"}),"Crear Teleoperador"]}),p.jsx("button",{onClick:()=>de(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"})]})]})}),p.jsxs("div",{className:"space-y-4",children:[G.filter(H=>H&&H.id).map(H=>p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsxs("div",{className:"flex justify-between items-start mb-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:H.name||"Operador sin nombre"}),at[H.id]&&p.jsxs("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:[at[H.id].length," beneficiarios"]})]}),p.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[H.email&&p.jsxs("p",{children:["📧 ",H.email]}),H.phone&&p.jsxs("p",{children:["📞 ",H.phone]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("label",{className:"cursor-pointer bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 text-sm",children:[p.jsx(Zm,{className:"w-4 h-4"}),"Subir Excel",p.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:we=>nn(we,H.id),className:"hidden"})]}),at[H.id]&&p.jsxs("button",{onClick:()=>Rr(H.id),className:"bg-yellow-500 text-white px-3 py-2 rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 text-sm",children:[p.jsx(cy,{className:"w-4 h-4"}),"Limpiar"]}),p.jsxs("button",{onClick:()=>Qt(H.id),className:"bg-red-500 text-white px-3 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2 text-sm",children:[p.jsx(cy,{className:"w-4 h-4"}),"Eliminar"]})]})]}),p.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[p.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Formato Excel esperado:"}),p.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[p.jsxs("p",{children:[p.jsx("strong",{children:"Columna A:"})," Nombre del beneficiario"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Columna B:"})," Teléfono(s) - separados por |, - o espacios (9 dígitos cada uno)"]}),p.jsxs("p",{children:[p.jsx("strong",{children:"Columna C:"})," Comuna"]})]})]}),at[H.id]&&at[H.id].length>0&&p.jsxs("div",{className:"border-t pt-4",children:[p.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:["Beneficiarios Asignados (",at[H.id].length,")"]}),p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full text-sm",children:[p.jsx("thead",{children:p.jsxs("tr",{className:"bg-gray-50",children:[p.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Beneficiario"}),p.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Teléfono Principal"}),p.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Otros Teléfonos"}),p.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Comuna"})]})}),p.jsxs("tbody",{children:[at[H.id].slice(0,5).map(we=>p.jsxs("tr",{className:"border-b",children:[p.jsx("td",{className:"px-3 py-2 text-gray-900",children:we.beneficiary}),p.jsx("td",{className:"px-3 py-2 text-gray-900",children:we.primaryPhone}),p.jsx("td",{className:"px-3 py-2 text-gray-600",children:we.phones.length>1?we.phones.slice(1).join(", "):"-"}),p.jsx("td",{className:"px-3 py-2 text-gray-900",children:we.commune})]},we.id)),at[H.id].length>5&&p.jsx("tr",{children:p.jsxs("td",{colSpan:"4",className:"px-3 py-2 text-center text-gray-500 text-sm",children:["... y ",at[H.id].length-5," beneficiarios más"]})})]})]})})]})]},H.id)),G.length===0&&p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[p.jsx(Ji,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),p.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay teleoperadores"}),p.jsx("p",{className:"text-gray-600 mb-4",children:"Crea tu primer teleoperador para comenzar a gestionar asignaciones"}),p.jsxs("button",{onClick:()=>de(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 mx-auto",children:[p.jsx(eg,{className:"w-4 h-4"}),"Crear Primer Teleoperador"]})]})]})]}),pe=()=>p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Historial de Seguimientos"}),p.jsx("p",{className:"text-gray-600 mb-6",children:"Clasifica beneficiarios por frecuencia y estado de contacto."}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[p.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-green-800 font-semibold",children:"Al día"}),p.jsx("p",{className:"text-2xl font-bold text-green-600",children:En.filter(H=>H.status==="al-dia").length})]}),p.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-white text-sm",children:"✓"})})]})}),p.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-yellow-800 font-semibold",children:"Pendientes"}),p.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:En.filter(H=>H.status==="pendiente").length})]}),p.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-white text-sm",children:"⏳"})})]})}),p.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-red-800 font-semibold",children:"Urgentes"}),p.jsx("p",{className:"text-2xl font-bold text-red-600",children:En.filter(H=>H.status==="urgente").length})]}),p.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:p.jsx("span",{className:"text-white text-sm",children:"⚠"})})]})})]}),p.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(B5,{className:"w-4 h-4 text-gray-400"}),p.jsxs("select",{value:xe,onChange:H=>oe(H.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[p.jsx("option",{value:"all",children:"Todos los estados"}),p.jsx("option",{value:"al-dia",children:"Al día"}),p.jsx("option",{value:"pendiente",children:"Pendiente"}),p.jsx("option",{value:"urgente",children:"Urgente"})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(co,{className:"w-4 h-4 text-gray-400"}),p.jsx("input",{type:"text",placeholder:"Buscar beneficiario o teleoperadora...",value:he,onChange:H=>Pe(H.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm"})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ti.length===0?p.jsx("div",{className:"col-span-full bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:p.jsxs("div",{className:"flex flex-col items-center",children:[p.jsx(vv,{className:"w-12 h-12 text-gray-400 mb-4"}),p.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay datos de seguimiento"}),p.jsx("p",{className:"text-gray-600 mb-4 max-w-md",children:b?"No se encontraron seguimientos que coincidan con los filtros aplicados.":"Para ver el historial de seguimientos, sube un archivo Excel con datos de llamadas desde el Panel Principal."}),!b&&p.jsxs("div",{className:"text-sm text-gray-500",children:["💡 Ve al ",p.jsx("strong",{children:"Panel Principal"})," → ",p.jsx("strong",{children:"Cargar Excel"})," para comenzar"]})]})}):ti.map(H=>p.jsxs("div",{className:`border-2 rounded-lg p-4 hover:shadow-md transition-shadow ${H.status==="al-dia"?"border-green-200 bg-green-50":H.status==="pendiente"?"border-yellow-200 bg-yellow-50":"border-red-200 bg-red-50"}`,children:[p.jsxs("div",{className:"flex items-start justify-between mb-3",children:[p.jsx("h4",{className:"font-semibold text-gray-900",children:H.beneficiary}),p.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${H.status==="al-dia"?"bg-green-100 text-green-800 border border-green-300":H.status==="pendiente"?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-red-100 text-red-800 border border-red-300"}`,children:H.status==="al-dia"?"✅ Al día":H.status==="pendiente"?"⏳ Pendiente":"⚠️ Urgente"})]}),p.jsxs("div",{className:"space-y-2 text-sm",children:[p.jsxs("div",{className:"flex items-center text-gray-700",children:[p.jsx(nl,{className:"w-4 h-4 mr-2 text-gray-500"}),p.jsx("span",{className:"font-medium",children:"Teleoperadora:"}),p.jsx("span",{className:"ml-1",children:H.operator})]}),p.jsxs("div",{className:"flex items-center text-gray-700",children:[p.jsx(ua,{className:"w-4 h-4 mr-2 text-gray-500"}),p.jsx("span",{className:"font-medium",children:"Teléfono:"}),p.jsx("span",{className:"ml-1",children:H.phone})]}),p.jsxs("div",{className:"flex items-center text-gray-700",children:[p.jsx(zo,{className:"w-4 h-4 mr-2 text-gray-500"}),p.jsx("span",{className:"font-medium",children:"Última llamada:"}),p.jsx("span",{className:"ml-1",children:H.lastCall})]}),p.jsxs("div",{className:"flex items-center text-gray-700",children:[p.jsx(Qc,{className:"w-4 h-4 mr-2 text-gray-500"}),p.jsx("span",{className:"font-medium",children:"Llamadas:"}),p.jsxs("span",{className:"ml-1",children:[H.callCount," total (",H.successfulCallCount||0," exitosas)"]})]}),H.daysSinceLastCall!==null&&p.jsxs("div",{className:"flex items-center text-gray-700",children:[p.jsx(M5,{className:"w-4 h-4 mr-2 text-gray-500"}),p.jsx("span",{className:"font-medium",children:"Hace:"}),p.jsxs("span",{className:"ml-1",children:[H.daysSinceLastCall," días"]})]}),H.lastCallResult&&H.lastCallResult!=="Sin resultado"&&p.jsxs("div",{className:"mt-2 p-2 bg-gray-100 rounded text-xs",children:[p.jsx("span",{className:"font-medium",children:"Último resultado:"}),p.jsx("span",{className:"ml-1",children:H.lastCallResult})]})]}),H.statusReason&&p.jsx("div",{className:`mt-3 p-2 rounded text-xs ${H.status==="al-dia"?"bg-green-100 text-green-700":H.status==="pendiente"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:p.jsxs("div",{className:"flex items-start",children:[H.status==="urgente"&&p.jsx(Qd,{className:"w-3 h-3 mr-1 mt-0.5 flex-shrink-0"}),p.jsx("span",{children:H.statusReason})]})})]},H.id))})]})});return p.jsxs("div",{className:"flex h-screen bg-gray-100",children:[p.jsx(yn,{}),p.jsx("div",{className:"flex-1 overflow-auto",children:p.jsxs("div",{className:"p-6",children:[p.jsx("div",{className:"mb-6",children:p.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[q==="dashboard"&&"Panel principal",q==="calls"&&"Registro de Llamadas",q==="assignments"&&"Asignaciones",q==="beneficiaries"&&"Beneficiarios Base",q==="seguimientos"&&"Seguimientos Periódicos",q==="history"&&"Historial de Seguimientos",q==="audit"&&"Auditoría Avanzada",q==="metrics"&&"Métricas Avanzadas",q==="config"&&"Configuración del Sistema"]})}),_e==="demo"&&p.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(Qd,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h3",{className:"text-blue-800 font-medium",children:"Modo Local"}),p.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"La aplicación funciona con datos locales. Para persistencia en la nube, completa la configuración de Firebase."}),p.jsx("p",{className:"text-blue-600 text-xs mt-2",children:"📖 Consulta FIREBASE_SETUP.md para instrucciones de configuración"})]})]})}),_e==="connecting"&&p.jsx("div",{className:"mb-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-5 h-5 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}),p.jsx("span",{className:"text-slate-700 text-sm",children:"Verificando configuración de Firebase..."})]})}),q==="dashboard"&&p.jsx(zp,{children:p.jsx(me,{})}),q==="calls"&&p.jsx(ce,{}),q==="assignments"&&p.jsx(fe,{}),q==="beneficiaries"&&p.jsx(zp,{children:p.jsx(NPe,{})}),q==="seguimientos"&&p.jsx(zp,{children:p.jsx(xIe,{})}),q==="history"&&p.jsx(pe,{}),q==="audit"&&p.jsx(zp,{children:p.jsx($Te,{})}),q==="metrics"&&p.jsx(zp,{children:p.jsx(dJ,{})}),q==="config"&&s&&p.jsx(zp,{children:p.jsx(_Ie,{})})]})})]})},EIe=()=>(window._fallbackMetricsLogged||(console.log("📊 Usando métricas de fallback (sin conexión a Firestore)"),window._fallbackMetricsLogged=!0),{globalMetrics:{totalCalls:150,successfulCalls:120,failedCalls:30,uniqueBeneficiaries:85,uniqueOperators:4,averageDuration:180,successRate:80,lastUpdated:new Date,dayDistribution:{monday:28,tuesday:32,wednesday:25,thursday:30,friday:20,saturday:10,sunday:5},hourDistribution:{8:5,9:12,10:18,11:22,12:15,13:8,14:20,15:25,16:18,17:7}},teleoperadoraMetrics:[{operatorName:"Daniela Carmona",totalCalls:45,successfulCalls:38,failedCalls:7,successRate:84.4,averageDuration:165,uniqueBeneficiaries:28},{operatorName:"Antonella Valdebenito",totalCalls:38,successfulCalls:30,failedCalls:8,successRate:78.9,averageDuration:195,uniqueBeneficiaries:25},{operatorName:"Karol Aguayo",totalCalls:42,successfulCalls:35,failedCalls:7,successRate:83.3,averageDuration:175,uniqueBeneficiaries:30},{operatorName:"Javiera Reyes Alvarado",totalCalls:25,successfulCalls:17,failedCalls:8,successRate:68,averageDuration:190,uniqueBeneficiaries:18}],beneficiaryMetrics:{alDia:45,pendiente:25,urgente:15,total:85}}),zI=()=>{const e=EIe();return{...e,isUsingFallback:!0,status:"ready",loading:{global:!1,teleoperadoras:!1,beneficiarios:!1,noAsignados:!1},errors:{global:null,teleoperadoras:null,beneficiarios:null,noAsignados:null},getSummaryStats:()=>({totalCalls:e.globalMetrics.totalCalls,successfulCalls:e.globalMetrics.successfulCalls,failedCalls:e.globalMetrics.failedCalls,uniqueBeneficiaries:e.globalMetrics.uniqueBeneficiaries,uniqueOperators:e.globalMetrics.uniqueOperators,averageDuration:e.globalMetrics.averageDuration,successRate:e.globalMetrics.successRate,beneficiariesByStatus:{"Al día":e.beneficiaryMetrics.alDia,Pendiente:e.beneficiaryMetrics.pendiente,Urgente:e.beneficiaryMetrics.urgente}}),getTopOperators:(t=5)=>e.teleoperadoraMetrics.sort((r,n)=>n.totalCalls-r.totalCalls).slice(0,t).map((r,n)=>({rank:n+1,operatorName:r.operatorName,totalCalls:r.totalCalls,successRate:r.successRate,uniqueBeneficiaries:r.uniqueBeneficiaries})),getBeneficiariesByStatus:t=>{const r=[],n=e.beneficiaryMetrics[t==null?void 0:t.toLowerCase().replace(" ","")]||0;for(let i=0;i<Math.min(n,10);i++)r.push({id:`beneficiary-${t}-${i}`,nombreOriginal:`Beneficiario ${t} ${i+1}`,status:t,lastCall:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString(),successRate:Math.floor(Math.random()*30)+70});return r},getTeleoperadoraMetrics:t=>{const r=e.teleoperadoraMetrics.find(n=>n.operatorName.toLowerCase().includes((t==null?void 0:t.toLowerCase())||""))||e.teleoperadoraMetrics[0];return{...r,nombreOriginal:r.operatorName,totalDuration:r.averageDuration*r.totalCalls,lastUpdated:new Date().toISOString(),calls:Array.from({length:Math.min(r.totalCalls,20)},(n,i)=>({id:`call-${r.operatorName}-${i}`,fecha:new Date(Date.now()-Math.random()*7*24*60*60*1e3).toISOString(),beneficiario:`Beneficiario ${i+1}`,duracion:Math.floor(Math.random()*300)+60,exitosa:Math.random()>.2,observaciones:`Llamada simulada ${i+1}`}))}},getBeneficiariesByOperator:t=>{const r=e.teleoperadoraMetrics.find(n=>n.operatorName.toLowerCase().includes((t==null?void 0:t.toLowerCase())||""))||e.teleoperadoraMetrics[0];return Array.from({length:Math.min(r.uniqueBeneficiaries,15)},(n,i)=>({id:`beneficiary-op-${t}-${i}`,nombreOriginal:`Beneficiario ${r.operatorName} ${i+1}`,status:["Al día","Pendiente","Urgente"][Math.floor(Math.random()*3)],successRate:Math.floor(Math.random()*30)+70,lastCall:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString()}))}}};var IS={},pJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(pJ);var WI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(WI);var HI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(HI);var OS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let a=0,s="",o="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),a++);a<i;){const c=r[a];o?c==="\\"&&a+1<i?(a++,s+=r[a]):c===o?o="":s+=c:l?c==='"'||c==="'"?o=c:c==="]"?(l=!1,n.push(s),s=""):s+=c:c==="["?(l=!0,s&&(n.push(s),s="")):c==="."?s&&(n.push(s),s=""):s+=c,a++}return s&&n.push(s),n}e.toPath=t})(OS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pJ,r=WI,n=HI,i=OS;function a(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?r.isDeepKey(l)?a(o,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function s(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||t.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}e.get=a})(IS);var AIe=IS.get;const np=Cf(AIe);var mJ={exports:{}},gn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ja=typeof Symbol=="function"&&Symbol.for,qI=ja?Symbol.for("react.element"):60103,GI=ja?Symbol.for("react.portal"):60106,DS=ja?Symbol.for("react.fragment"):60107,RS=ja?Symbol.for("react.strict_mode"):60108,LS=ja?Symbol.for("react.profiler"):60114,jS=ja?Symbol.for("react.provider"):60109,FS=ja?Symbol.for("react.context"):60110,KI=ja?Symbol.for("react.async_mode"):60111,MS=ja?Symbol.for("react.concurrent_mode"):60111,BS=ja?Symbol.for("react.forward_ref"):60112,US=ja?Symbol.for("react.suspense"):60113,TIe=ja?Symbol.for("react.suspense_list"):60120,VS=ja?Symbol.for("react.memo"):60115,$S=ja?Symbol.for("react.lazy"):60116,kIe=ja?Symbol.for("react.block"):60121,NIe=ja?Symbol.for("react.fundamental"):60117,CIe=ja?Symbol.for("react.responder"):60118,PIe=ja?Symbol.for("react.scope"):60119;function cl(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case qI:switch(e=e.type,e){case KI:case MS:case DS:case LS:case RS:case US:return e;default:switch(e=e&&e.$$typeof,e){case FS:case BS:case $S:case VS:case jS:return e;default:return t}}case GI:return t}}}function gJ(e){return cl(e)===MS}gn.AsyncMode=KI;gn.ConcurrentMode=MS;gn.ContextConsumer=FS;gn.ContextProvider=jS;gn.Element=qI;gn.ForwardRef=BS;gn.Fragment=DS;gn.Lazy=$S;gn.Memo=VS;gn.Portal=GI;gn.Profiler=LS;gn.StrictMode=RS;gn.Suspense=US;gn.isAsyncMode=function(e){return gJ(e)||cl(e)===KI};gn.isConcurrentMode=gJ;gn.isContextConsumer=function(e){return cl(e)===FS};gn.isContextProvider=function(e){return cl(e)===jS};gn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===qI};gn.isForwardRef=function(e){return cl(e)===BS};gn.isFragment=function(e){return cl(e)===DS};gn.isLazy=function(e){return cl(e)===$S};gn.isMemo=function(e){return cl(e)===VS};gn.isPortal=function(e){return cl(e)===GI};gn.isProfiler=function(e){return cl(e)===LS};gn.isStrictMode=function(e){return cl(e)===RS};gn.isSuspense=function(e){return cl(e)===US};gn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===DS||e===MS||e===LS||e===RS||e===US||e===TIe||typeof e=="object"&&e!==null&&(e.$$typeof===$S||e.$$typeof===VS||e.$$typeof===jS||e.$$typeof===FS||e.$$typeof===BS||e.$$typeof===NIe||e.$$typeof===CIe||e.$$typeof===PIe||e.$$typeof===kIe)};gn.typeOf=cl;mJ.exports=gn;var IIe=mJ.exports,Da=e=>e===0?0:e>0?1:-1,bo=e=>typeof e=="number"&&e!=+e,g0=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Dt=e=>(typeof e=="number"||e instanceof Number)&&!bo(e),gu=e=>Dt(e)||typeof e=="string",OIe=0,Wy=e=>{var t=++OIe;return"".concat(e||"").concat(t)},As=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Dt(t)&&typeof t!="string")return n;var a;if(g0(t)){if(r==null)return n;var s=t.indexOf("%");a=r*parseFloat(t.slice(0,s))/100}else a=+t;return bo(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},vJ=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function bn(e,t,r){return Dt(e)&&Dt(t)?e+r*(t-e):t}function yJ(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):np(n,t))===r)}var Hn=e=>e===null||typeof e>"u",Mx=e=>Hn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),DIe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function XI(e){if(typeof e!="string")return!1;var t=DIe;return t.includes(e)}var RIe=["viewBox","children"],U7=["points","pathLength"],B4={svg:RIe,polygon:U7,polyline:U7},YI=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(L.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{XI(i)&&(n[i]=a=>r[i](r,a))}),n},LIe=(e,t,r)=>n=>(e(t,r,n),null),Bx=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];XI(i)&&typeof a=="function"&&(n||(n={}),n[i]=LIe(a,t,r))}),n},jIe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function xJ(e){if(typeof e!="string")return!1;var t=jIe;return t.includes(e)}function Kl(e){var t=Object.entries(e).filter(r=>{var[n]=r;return xJ(n)});return Object.fromEntries(t)}var V7=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",$7=null,U4=null,wJ=e=>{if(e===$7&&Array.isArray(U4))return U4;var t=[];return L.Children.forEach(e,r=>{Hn(r)||(IIe.isFragment(r)?t=t.concat(wJ(r.props.children)):t.push(r))}),U4=t,$7=e,t};function JI(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>V7(i)):n=[V7(t)],wJ(e).forEach(i=>{var a=np(i,"type.displayName")||np(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}var zS=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,FIe=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var a=(i=n&&(B4==null?void 0:B4[n]))!==null&&i!==void 0?i:[],s=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&a.includes(t)||xJ(t)),l=!!r&&XI(t);return s||o||l},qn=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(L.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(a=>{var s;FIe((s=n)===null||s===void 0?void 0:s[a],a,t,r)&&(i[a]=n[a])}),i},MIe=["children","width","height","viewBox","className","style","title","desc"];function IN(){return IN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IN.apply(null,arguments)}function BIe(e,t){if(e==null)return{};var r,n,i=UIe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UIe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QI=L.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:l,desc:c}=e,u=BIe(e,MIe),f=a||{width:n,height:i,x:0,y:0},d=Dr("recharts-surface",s);return L.createElement("svg",IN({},qn(u,!0,"svg"),{className:d,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),L.createElement("title",null,l),L.createElement("desc",null,c),r)}),VIe=["children","className"];function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ON.apply(null,arguments)}function $Ie(e,t){if(e==null)return{};var r,n,i=zIe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zIe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ti=L.forwardRef((e,t)=>{var{children:r,className:n}=e,i=$Ie(e,VIe),a=Dr("recharts-layer",n);return L.createElement("g",ON({className:a},qn(i,!0),{ref:t}),r)}),bJ=L.createContext(null),WIe=()=>L.useContext(bJ);function On(e){return function(){return e}}const _J=Math.cos,L_=Math.sin,Oc=Math.sqrt,j_=Math.PI,WS=2*j_,DN=Math.PI,RN=2*DN,r0=1e-6,HIe=RN-r0;function SJ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function qIe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return SJ;const r=10**t;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class GIe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SJ:qIe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,a,s){this._append`C${+t},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,r,n,i,a){if(t=+t,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=n-t,c=i-r,u=s-t,f=o-r,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(d>r0)if(!(Math.abs(f*l-c*u)>r0)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-s,g=i-o,m=l*l+c*c,v=h*h+g*g,y=Math.sqrt(m),b=Math.sqrt(d),_=a*Math.tan((DN-Math.acos((m+d-v)/(2*y*b)))/2),N=_/b,R=_/y;Math.abs(N-1)>r0&&this._append`L${t+N*u},${r+N*f}`,this._append`A${a},${a},0,0,${+(f*h>u*g)},${this._x1=t+R*l},${this._y1=r+R*c}`}}arc(t,r,n,i,a,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),c=t+o,u=r+l,f=1^s,d=s?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>r0||Math.abs(this._y1-u)>r0)&&this._append`L${c},${u}`,n&&(d<0&&(d=d%RN+RN),d>HIe?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:d>r0&&this._append`A${n},${n},0,${+(d>=DN)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ZI(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new GIe(t)}function e6(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function EJ(e){this._context=e}EJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function HS(e){return new EJ(e)}function AJ(e){return e[0]}function TJ(e){return e[1]}function kJ(e,t){var r=On(!0),n=null,i=HS,a=null,s=ZI(o);e=typeof e=="function"?e:e===void 0?AJ:On(e),t=typeof t=="function"?t:t===void 0?TJ:On(t);function o(l){var c,u=(l=e6(l)).length,f,d=!1,h;for(n==null&&(a=i(h=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(f,c,l),+t(f,c,l));if(h)return a=null,h+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:On(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:On(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:On(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(a=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=a=null:a=i(n=l),o):n},o}function ww(e,t,r){var n=null,i=On(!0),a=null,s=HS,o=null,l=ZI(c);e=typeof e=="function"?e:e===void 0?AJ:On(+e),t=typeof t=="function"?t:On(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?TJ:On(+r);function c(f){var d,h,g,m=(f=e6(f)).length,v,y=!1,b,_=new Array(m),N=new Array(m);for(a==null&&(o=s(b=l())),d=0;d<=m;++d){if(!(d<m&&i(v=f[d],d,f))===y)if(y=!y)h=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=d-1;g>=h;--g)o.point(_[g],N[g]);o.lineEnd(),o.areaEnd()}y&&(_[d]=+e(v,d,f),N[d]=+t(v,d,f),o.point(n?+n(v,d,f):_[d],r?+r(v,d,f):N[d]))}if(b)return o=null,b+""||null}function u(){return kJ().defined(i).curve(s).context(a)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:On(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:On(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:On(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:On(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:On(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:On(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:On(!!f),c):i},c.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),c):s},c.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),c):a},c}class NJ{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function KIe(e){return new NJ(e,!0)}function XIe(e){return new NJ(e,!1)}const t6={draw(e,t){const r=Oc(t/j_);e.moveTo(r,0),e.arc(0,0,r,0,WS)}},YIe={draw(e,t){const r=Oc(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},CJ=Oc(1/3),JIe=CJ*2,QIe={draw(e,t){const r=Oc(t/JIe),n=r*CJ;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ZIe={draw(e,t){const r=Oc(t),n=-r/2;e.rect(n,n,r,r)}},e6e=.8908130915292852,PJ=L_(j_/10)/L_(7*j_/10),t6e=L_(WS/10)*PJ,r6e=-_J(WS/10)*PJ,n6e={draw(e,t){const r=Oc(t*e6e),n=t6e*r,i=r6e*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const s=WS*a/5,o=_J(s),l=L_(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*i,l*n+o*i)}e.closePath()}},V4=Oc(3),i6e={draw(e,t){const r=-Oc(t/(V4*3));e.moveTo(0,r*2),e.lineTo(-V4*r,-r),e.lineTo(V4*r,-r),e.closePath()}},xl=-.5,wl=Oc(3)/2,LN=1/Oc(12),a6e=(LN/2+1)*3,s6e={draw(e,t){const r=Oc(t/a6e),n=r/2,i=r*LN,a=n,s=r*LN+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(xl*n-wl*i,wl*n+xl*i),e.lineTo(xl*a-wl*s,wl*a+xl*s),e.lineTo(xl*o-wl*l,wl*o+xl*l),e.lineTo(xl*n+wl*i,xl*i-wl*n),e.lineTo(xl*a+wl*s,xl*s-wl*a),e.lineTo(xl*o+wl*l,xl*l-wl*o),e.closePath()}};function o6e(e,t){let r=null,n=ZI(i);e=typeof e=="function"?e:On(e||t6),t=typeof t=="function"?t:On(t===void 0?64:+t);function i(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:On(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:On(+a),i):t},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function F_(){}function M_(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function IJ(e){this._context=e}IJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:M_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:M_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l6e(e){return new IJ(e)}function OJ(e){this._context=e}OJ.prototype={areaStart:F_,areaEnd:F_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:M_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function c6e(e){return new OJ(e)}function DJ(e){this._context=e}DJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:M_(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function u6e(e){return new DJ(e)}function RJ(e){this._context=e}RJ.prototype={areaStart:F_,areaEnd:F_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function f6e(e){return new RJ(e)}function z7(e){return e<0?-1:1}function W7(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(z7(a)+z7(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function H7(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function $4(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function B_(e){this._context=e}B_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$4(this,this._t0,H7(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,$4(this,H7(this,r=W7(this,e,t)),r);break;default:$4(this,this._t0,r=W7(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function LJ(e){this._context=new jJ(e)}(LJ.prototype=Object.create(B_.prototype)).point=function(e,t){B_.prototype.point.call(this,t,e)};function jJ(e){this._context=e}jJ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}};function d6e(e){return new B_(e)}function h6e(e){return new LJ(e)}function FJ(e){this._context=e}FJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=q7(e),i=q7(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function q7(e){var t,r=e.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,s[t]-=n*s[t-1];for(i[r-1]=s[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function p6e(e){return new FJ(e)}function qS(e,t){this._context=e,this._t=t}qS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function m6e(e){return new qS(e,.5)}function g6e(e){return new qS(e,0)}function v6e(e){return new qS(e,1)}function gg(e,t){if((s=e.length)>1)for(var r=1,n,i,a=e[t[0]],s,o=a.length;r<s;++r)for(i=a,a=e[t[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function jN(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function y6e(e,t){return e[t]}function x6e(e){const t=[];return t.key=e,t}function w6e(){var e=On([]),t=jN,r=gg,n=y6e;function i(a){var s=Array.from(e.apply(this,arguments),x6e),o,l=s.length,c=-1,u;for(const f of a)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,a)]).data=f;for(o=0,u=e6(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:On(Array.from(a)),i):e},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:On(+a),i):n},i.order=function(a){return arguments.length?(t=a==null?jN:typeof a=="function"?a:On(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(r=a??gg,i):r},i}function b6e(e,t){if((n=e.length)>0){for(var r,n,i=0,a=e[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=e[r][i][1]||0;if(s)for(r=0;r<n;++r)e[r][i][1]/=s}gg(e,t)}}function _6e(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}gg(e,t)}}function S6e(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,d=u[n-1][1]||0,h=(f-d)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;h+=v-y}l+=f,c+=h*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=c/l)}i[n-1][1]+=i[n-1][0]=r,gg(e,t)}}var E6e=["type","size","sizeType"];function FN(){return FN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FN.apply(null,arguments)}function G7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G7(Object(r),!0).forEach(function(n){A6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A6e(e,t,r){return(t=T6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T6e(e){var t=k6e(e,"string");return typeof t=="symbol"?t:t+""}function k6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N6e(e,t){if(e==null)return{};var r,n,i=C6e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function C6e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MJ={symbolCircle:t6,symbolCross:YIe,symbolDiamond:QIe,symbolSquare:ZIe,symbolStar:n6e,symbolTriangle:i6e,symbolWye:s6e},P6e=Math.PI/180,I6e=e=>{var t="symbol".concat(Mx(e));return MJ[t]||t6},O6e=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*P6e;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},D6e=(e,t)=>{MJ["symbol".concat(Mx(e))]=t},r6=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=N6e(e,E6e),a=K7(K7({},i),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var d=I6e(s),h=o6e().type(d).size(O6e(r,n,s));return h()},{className:l,cx:c,cy:u}=a,f=qn(a,!0);return c===+c&&u===+u&&r===+r?L.createElement("path",FN({},f,{className:Dr("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};r6.registerSymbol=D6e;function MN(){return MN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MN.apply(null,arguments)}function X7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function R6e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X7(Object(r),!0).forEach(function(n){n6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n6(e,t,r){return(t=L6e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L6e(e){var t=j6e(e,"string");return typeof t=="symbol"?t:t+""}function j6e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bl=32;class i6 extends L.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=bl/2,a=bl/6,s=bl/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline")return L.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:bl,y2:i,className:"recharts-legend-icon"});if(l==="line")return L.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(bl,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return L.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(bl/8,"h").concat(bl,"v").concat(bl*3/4,"h").concat(-bl,"z"),className:"recharts-legend-icon"});if(L.isValidElement(t.legendIcon)){var c=R6e({},t);return delete c.legendIcon,L.cloneElement(t.legendIcon,c)}return L.createElement(r6,{fill:o,cx:i,cy:i,size:bl,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=this.props,o={x:0,y:0,width:bl,height:bl},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var d=u.formatter||i,h=Dr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var g=u.inactive?a:u.color,m=d?d(u.value,u,f):u.value;return L.createElement("li",MN({className:h,style:l,key:"legend-item-".concat(f)},Bx(this.props,u,f)),L.createElement(QI,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(m," legend icon")},this.renderIcon(u,s)),L.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},m))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return L.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}n6(i6,"displayName","Legend");n6(i6,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var BJ={},UJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(UJ);var a6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(a6);var VJ={},GS={},$J={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})($J);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$J;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(GS);var zJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(zJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GS,r=zJ;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(VJ);var WJ={},HJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IS;function r(n){return function(i){return t.get(i,n)}}e.property=r})(HJ);var qJ={},z4={},W4={},s6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(s6);var o6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(o6);var l6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(l6);var Y7;function F6e(){return Y7||(Y7=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c6(),r=s6,n=o6,i=l6;function a(f,d,h){return typeof h!="function"?t.isMatch(f,d):s(f,d,function g(m,v,y,b,_,N){const R=h(m,v,y,b,_,N);return R!==void 0?!!R:s(m,v,g,N)},new Map)}function s(f,d,h,g){if(d===f)return!0;switch(typeof d){case"object":return o(f,d,h,g);case"function":return Object.keys(d).length>0?s(f,{...d},h,g):i.eq(f,d);default:return r.isObject(f)?typeof d=="string"?d==="":!0:i.eq(f,d)}}function o(f,d,h,g){if(d==null)return!0;if(Array.isArray(d))return c(f,d,h,g);if(d instanceof Map)return l(f,d,h,g);if(d instanceof Set)return u(f,d,h,g);const m=Object.keys(d);if(f==null)return m.length===0;if(m.length===0)return!0;if(g&&g.has(d))return g.get(d)===f;g&&g.set(d,f);try{for(let v=0;v<m.length;v++){const y=m[v];if(!n.isPrimitive(f)&&!(y in f)||d[y]===void 0&&f[y]!==void 0||d[y]===null&&f[y]!==null||!h(f[y],d[y],y,f,d,g))return!1}return!0}finally{g&&g.delete(d)}}function l(f,d,h,g){if(d.size===0)return!0;if(!(f instanceof Map))return!1;for(const[m,v]of d.entries()){const y=f.get(m);if(h(y,v,m,f,d,g)===!1)return!1}return!0}function c(f,d,h,g){if(d.length===0)return!0;if(!Array.isArray(f))return!1;const m=new Set;for(let v=0;v<d.length;v++){const y=d[v];let b=!1;for(let _=0;_<f.length;_++){if(m.has(_))continue;const N=f[_];let R=!1;if(h(N,y,v,f,d,g)&&(R=!0),R){m.add(_),b=!0;break}}if(!b)return!1}return!0}function u(f,d,h,g){return d.size===0?!0:f instanceof Set?c([...f],[...d],h,g):!1}e.isMatchWith=a,e.isSetMatch=u}(W4)),W4}var J7;function c6(){return J7||(J7=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F6e();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(z4)),z4}var GJ={},u6={},KJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(KJ);var f6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(f6);var d6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",d="[object ArrayBuffer]",h="[object Object]",g="[object Error]",m="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",b="[object Uint16Array]",_="[object Uint32Array]",N="[object BigUint64Array]",R="[object Int8Array]",O="[object Int16Array]",k="[object Int32Array]",S="[object BigInt64Array]",T="[object Float32Array]",j="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=d,e.arrayTag=u,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=m,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=T,e.float64ArrayTag=j,e.functionTag=f,e.int16ArrayTag=O,e.int32ArrayTag=k,e.int8ArrayTag=R,e.mapTag=l,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=_,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(d6);var XJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(XJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KJ,r=f6,n=d6,i=o6,a=XJ;function s(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,d,h=new Map,g=void 0){const m=g==null?void 0:g(u,f,d,h);if(m!==void 0)return m;if(i.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const v=new Array(u.length);h.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,d,h,g);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;h.set(u,v);for(const[y,b]of u)v.set(y,o(b,y,d,h,g));return v}if(u instanceof Set){const v=new Set;h.set(u,v);for(const y of u)v.add(o(y,void 0,d,h,g));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(a.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,d,h,g);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,v),l(v,u,d,h,g),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return h.set(u,v),l(v,u,d,h,g),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return h.set(u,v),l(v,u,d,h,g),v}if(u instanceof Error){const v=new u.constructor;return h.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,l(v,u,d,h,g),v}if(typeof u=="object"&&c(u)){const v=Object.create(Object.getPrototypeOf(u));return h.set(u,v),l(v,u,d,h,g),v}return u}function l(u,f,d=u,h,g){const m=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<m.length;v++){const y=m[v],b=Object.getOwnPropertyDescriptor(u,y);(b==null||b.writable)&&(u[y]=o(f[y],y,d,h,g))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(u6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u6;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(GJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c6(),r=GJ;function n(i){return i=r.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=n})(qJ);var YJ={},JJ={},QJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=u6,r=d6;function n(i,a){return t.cloneDeepWith(i,(s,o,l,c)=>{const u=a==null?void 0:a(s,o,l,c);if(u!==void 0)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(QJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QJ;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(JJ);var ZJ={},h6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(h6);var eQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f6;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(eQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WI,r=h6,n=eQ,i=OS;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=a})(ZJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c6(),r=HI,n=JJ,i=IS,a=ZJ;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const u=i.get(c,o);return u===void 0?a.has(c,o):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=s})(YJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a6,r=HJ,n=qJ,i=YJ;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=a})(WJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UJ,r=a6,n=VJ,i=WJ;function a(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),i.iteratee(o)):[]}e.uniqBy=a})(BJ);var M6e=BJ.uniqBy;const Q7=Cf(M6e);function tQ(e,t,r){return t===!0?Q7(e,r):typeof t=="function"?Q7(e,t):e}var rQ={exports:{}},nQ={},iQ={exports:{}},aQ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vg=L;function B6e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var U6e=typeof Object.is=="function"?Object.is:B6e,V6e=vg.useState,$6e=vg.useEffect,z6e=vg.useLayoutEffect,W6e=vg.useDebugValue;function H6e(e,t){var r=t(),n=V6e({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return z6e(function(){i.value=r,i.getSnapshot=t,H4(i)&&a({inst:i})},[e,r,t]),$6e(function(){return H4(i)&&a({inst:i}),e(function(){H4(i)&&a({inst:i})})},[e]),W6e(r),r}function H4(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!U6e(e,r)}catch{return!0}}function q6e(e,t){return t()}var G6e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?q6e:H6e;aQ.useSyncExternalStore=vg.useSyncExternalStore!==void 0?vg.useSyncExternalStore:G6e;iQ.exports=aQ;var K6e=iQ.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KS=L,X6e=K6e;function Y6e(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var J6e=typeof Object.is=="function"?Object.is:Y6e,Q6e=X6e.useSyncExternalStore,Z6e=KS.useRef,eOe=KS.useEffect,tOe=KS.useMemo,rOe=KS.useDebugValue;nQ.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=Z6e(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=tOe(function(){function l(h){if(!c){if(c=!0,u=h,h=n(h),i!==void 0&&s.hasValue){var g=s.value;if(i(g,h))return f=g}return f=h}if(g=f,J6e(u,h))return g;var m=n(h);return i!==void 0&&i(g,m)?(u=h,g):(u=h,f=m)}var c=!1,u,f,d=r===void 0?null:r;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,r,n,i]);var o=Q6e(e,a[0],a[1]);return eOe(function(){s.hasValue=!0,s.value=o},[o]),rOe(o),o};rQ.exports=nQ;var nOe=rQ.exports,p6=L.createContext(null),iOe=e=>e,hi=()=>{var e=L.useContext(p6);return e?e.store.dispatch:iOe},hb=()=>{},aOe=()=>hb,sOe=(e,t)=>e===t;function It(e){var t=L.useContext(p6);return nOe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:aOe,t?t.store.getState:hb,t?t.store.getState:hb,t?e:hb,sOe)}function oOe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function lOe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function cOe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Z7=e=>Array.isArray(e)?e:[e];function uOe(e){const t=Array.isArray(e[0])?e[0]:e;return cOe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function fOe(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var dOe=class{constructor(e){this.value=e}deref(){return this.value}},hOe=typeof WeakRef<"u"?WeakRef:dOe,pOe=0,e9=1;function bw(){return{s:pOe,v:void 0,o:null,p:null}}function sQ(e,t={}){let r=bw();const{resultEqualityCheck:n}=t;let i,a=0;function s(){var f;let o=r;const{length:l}=arguments;for(let d=0,h=l;d<h;d++){const g=arguments[d];if(typeof g=="function"||typeof g=="object"&&g!==null){let m=o.o;m===null&&(o.o=m=new WeakMap);const v=m.get(g);v===void 0?(o=bw(),m.set(g,o)):o=v}else{let m=o.p;m===null&&(o.p=m=new Map);const v=m.get(g);v===void 0?(o=bw(),m.set(g,o)):o=v}}const c=o;let u;if(o.s===e9)u=o.v;else if(u=e.apply(null,arguments),a++,n){const d=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;d!=null&&n(d,u)&&(u=d,a!==0&&a--),i=typeof u=="object"&&u!==null||typeof u=="function"?new hOe(u):u}return c.s=e9,c.v=u,u}return s.clearCache=()=>{r=bw(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function mOe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let a=0,s=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),oOe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:f,memoizeOptions:d=[],argsMemoize:h=sQ,argsMemoizeOptions:g=[]}=u,m=Z7(d),v=Z7(g),y=uOe(i),b=f(function(){return a++,c.apply(null,arguments)},...m),_=h(function(){s++;const R=fOe(y,arguments);return o=b.apply(null,R),o},...v);return Object.assign(_,{resultFunc:c,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var Me=mOe(sQ),gOe=Object.assign((e,t=Me)=>{lOe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(a=>e[a]);return t(n,(...a)=>a.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>gOe}),oQ={},lQ={},cQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=t(n),o=t(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=r})(cQ);var uQ={},m6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(m6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m6,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(uQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cQ,r=uQ,n=OS;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const c=(h,g)=>{let m=h;for(let v=0;v<g.length&&m!=null;++v)m=m[g[v]];return m},u=(h,g)=>g==null||h==null?g:typeof h=="object"&&"key"in h?Object.hasOwn(g,h.key)?g[h.key]:c(g,h.path):typeof h=="function"?h(g):Array.isArray(h)?c(g,h):typeof g=="object"?g[h]:g,f=s.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return a.map(h=>({original:h,criteria:f.map(g=>u(g,h))})).slice().sort((h,g)=>{for(let m=0;m<f.length;m++){const v=t.compareValues(h.criteria[m],g.criteria[m],o[m]);if(v!==0)return v}return 0}).map(h=>h.original)}e.orderBy=i})(lQ);var fQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],a=Math.floor(n),s=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<a?s(u,l+1):i.push(u)}};return s(r,0),i}e.flatten=t})(fQ);var g6={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h6,r=GS,n=s6,i=l6;function a(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],s):!1}e.isIterateeCall=a})(g6);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lQ,r=fQ,n=g6;function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,r.flatten(s),["asc"])}e.sortBy=i})(oQ);var vOe=oQ.sortBy;const XS=Cf(vOe);var dQ=e=>e.legend.settings,yOe=e=>e.legend.size,xOe=e=>e.legend.payload,wOe=Me([xOe,dQ],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?XS(n,r):n});function bOe(){return It(wOe)}var _w=1;function hQ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=L.useState({height:0,left:0,top:0,width:0}),n=L.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>_w||Math.abs(s.left-t.left)>_w||Math.abs(s.top-t.top)>_w||Math.abs(s.width-t.width)>_w)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function qa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _Oe=typeof Symbol=="function"&&Symbol.observable||"@@observable",t9=_Oe,q4=()=>Math.random().toString(36).substring(7).split("").join("."),SOe={INIT:`@@redux/INIT${q4()}`,REPLACE:`@@redux/REPLACE${q4()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${q4()}`},U_=SOe;function v6(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function pQ(e,t,r){if(typeof e!="function")throw new Error(qa(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(qa(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(qa(1));return r(pQ)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((v,y)=>{s.set(y,v)}))}function u(){if(l)throw new Error(qa(3));return i}function f(v){if(typeof v!="function")throw new Error(qa(4));if(l)throw new Error(qa(5));let y=!0;c();const b=o++;return s.set(b,v),function(){if(y){if(l)throw new Error(qa(6));y=!1,c(),s.delete(b),a=null}}}function d(v){if(!v6(v))throw new Error(qa(7));if(typeof v.type>"u")throw new Error(qa(8));if(typeof v.type!="string")throw new Error(qa(17));if(l)throw new Error(qa(9));try{l=!0,i=n(i,v)}finally{l=!1}return(a=s).forEach(b=>{b()}),v}function h(v){if(typeof v!="function")throw new Error(qa(10));n=v,d({type:U_.REPLACE})}function g(){const v=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(qa(11));function b(){const N=y;N.next&&N.next(u())}return b(),{unsubscribe:v(b)}},[t9](){return this}}}return d({type:U_.INIT}),{dispatch:d,subscribe:f,getState:u,replaceReducer:h,[t9]:g}}function EOe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:U_.INIT})>"u")throw new Error(qa(12));if(typeof r(void 0,{type:U_.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(qa(13))})}function mQ(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let i;try{EOe(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<n.length;u++){const f=n[u],d=r[f],h=s[f],g=d(h,o);if(typeof g>"u")throw o&&o.type,new Error(qa(14));c[f]=g,l=l||g!==h}return l=l||n.length!==Object.keys(s).length,l?c:s}}function V_(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function AOe(...e){return t=>(r,n)=>{const i=t(r,n);let a=()=>{throw new Error(qa(15))};const s={getState:i.getState,dispatch:(l,...c)=>a(l,...c)},o=e.map(l=>l(s));return a=V_(...o)(i.dispatch),{...i,dispatch:a}}}function gQ(e){return v6(e)&&"type"in e&&typeof e.type=="string"}var vQ=Symbol.for("immer-nothing"),r9=Symbol.for("immer-draftable"),sl=Symbol.for("immer-state");function hc(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var yg=Object.getPrototypeOf;function ip(e){return!!e&&!!e[sl]}function Af(e){var t;return e?yQ(e)||Array.isArray(e)||!!e[r9]||!!((t=e.constructor)!=null&&t[r9])||Ux(e)||JS(e):!1}var TOe=Object.prototype.constructor.toString();function yQ(e){if(!e||typeof e!="object")return!1;const t=yg(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===TOe}function $_(e,t){YS(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function YS(e){const t=e[sl];return t?t.type_:Array.isArray(e)?1:Ux(e)?2:JS(e)?3:0}function BN(e,t){return YS(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function xQ(e,t,r){const n=YS(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function kOe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ux(e){return e instanceof Map}function JS(e){return e instanceof Set}function n0(e){return e.copy_||e.base_}function UN(e,t){if(Ux(e))return new Map(e);if(JS(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=yQ(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[sl];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(yg(e),n)}else{const n=yg(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function y6(e,t=!1){return QS(e)||ip(e)||!Af(e)||(YS(e)>1&&Object.defineProperties(e,{set:{value:Sw},add:{value:Sw},clear:{value:Sw},delete:{value:Sw}}),Object.freeze(e),t&&Object.values(e).forEach(r=>y6(r,!0))),e}function Sw(){hc(2)}function QS(e){return Object.isFrozen(e)}var NOe={};function ap(e){const t=NOe[e];return t||hc(0,e),t}var Hy;function wQ(){return Hy}function COe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function n9(e,t){t&&(ap("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function VN(e){$N(e),e.drafts_.forEach(POe),e.drafts_=null}function $N(e){e===Hy&&(Hy=e.parent_)}function i9(e){return Hy=COe(Hy,e)}function POe(e){const t=e[sl];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function a9(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[sl].modified_&&(VN(t),hc(4)),Af(e)&&(e=z_(t,e),t.parent_||W_(t,e)),t.patches_&&ap("Patches").generateReplacementPatches_(r[sl].base_,e,t.patches_,t.inversePatches_)):e=z_(t,r,[]),VN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==vQ?e:void 0}function z_(e,t,r){if(QS(t))return t;const n=t[sl];if(!n)return $_(t,(i,a)=>s9(e,n,t,i,a,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return W_(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let a=i,s=!1;n.type_===3&&(a=new Set(i),i.clear(),s=!0),$_(a,(o,l)=>s9(e,n,i,o,l,r,s)),W_(e,i,!1),r&&e.patches_&&ap("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function s9(e,t,r,n,i,a,s){if(ip(i)){const o=a&&t&&t.type_!==3&&!BN(t.assigned_,n)?a.concat(n):void 0,l=z_(e,i,o);if(xQ(r,n,l),ip(l))e.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Af(i)&&!QS(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;z_(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Ux(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&W_(e,i)}}function W_(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&y6(t,r)}function IOe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:wQ(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=x6;r&&(i=[n],a=qy);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var x6={get(e,t){if(t===sl)return e;const r=n0(e);if(!BN(r,t))return OOe(e,r,t);const n=r[t];return e.finalized_||!Af(n)?n:n===G4(e.base_,t)?(K4(e),e.copy_[t]=WN(n,e)):n},has(e,t){return t in n0(e)},ownKeys(e){return Reflect.ownKeys(n0(e))},set(e,t,r){const n=bQ(n0(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=G4(n0(e),t),a=i==null?void 0:i[sl];if(a&&a.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(kOe(r,i)&&(r!==void 0||BN(e.base_,t)))return!0;K4(e),zN(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return G4(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,K4(e),zN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=n0(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){hc(11)},getPrototypeOf(e){return yg(e.base_)},setPrototypeOf(){hc(12)}},qy={};$_(x6,(e,t)=>{qy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});qy.deleteProperty=function(e,t){return qy.set.call(this,e,t,void 0)};qy.set=function(e,t,r){return x6.set.call(this,e[0],t,r,e[0])};function G4(e,t){const r=e[sl];return(r?n0(r):e)[t]}function OOe(e,t,r){var i;const n=bQ(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function bQ(e,t){if(!(t in e))return;let r=yg(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=yg(r)}}function zN(e){e.modified_||(e.modified_=!0,e.parent_&&zN(e.parent_))}function K4(e){e.copy_||(e.copy_=UN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var DOe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const a=r;r=t;const s=this;return function(l=a,...c){return s.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&hc(6),n!==void 0&&typeof n!="function"&&hc(7);let i;if(Af(t)){const a=i9(this),s=WN(t,void 0);let o=!0;try{i=r(s),o=!1}finally{o?VN(a):$N(a)}return n9(a,n),a9(i,a)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===vQ&&(i=void 0),this.autoFreeze_&&y6(i,!0),n){const a=[],s=[];ap("Patches").generateReplacementPatches_(t,i,a,s),n(a,s)}return i}else hc(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,i;return[this.produce(t,r,(s,o)=>{n=s,i=o}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Af(e)||hc(8),ip(e)&&(e=uf(e));const t=i9(this),r=WN(e,void 0);return r[sl].isManual_=!0,$N(t),r}finishDraft(e,t){const r=e&&e[sl];(!r||!r.isManual_)&&hc(9);const{scope_:n}=r;return n9(n,t),a9(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=ap("Patches").applyPatches_;return ip(e)?n(e,t):this.produce(e,i=>n(i,t))}};function WN(e,t){const r=Ux(e)?ap("MapSet").proxyMap_(e,t):JS(e)?ap("MapSet").proxySet_(e,t):IOe(e,t);return(t?t.scope_:wQ()).drafts_.push(r),r}function uf(e){return ip(e)||hc(10,e),_Q(e)}function _Q(e){if(!Af(e)||QS(e))return e;const t=e[sl];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=UN(e,t.scope_.immer_.useStrictShallowCopy_)}else r=UN(e,!0);return $_(r,(n,i)=>{xQ(r,n,_Q(i))}),t&&(t.finalized_=!1),r}var ROe=new DOe,SQ=ROe.produce;function EQ(e){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,e):i(a)}var LOe=EQ(),jOe=EQ,FOe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?V_:V_.apply(null,arguments)};function Wl(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(el(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>gQ(n)&&n.type===e,r}var AQ=class sv extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,sv.prototype)}static get[Symbol.species](){return sv}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new sv(...t[0].concat(this)):new sv(...t.concat(this))}};function o9(e){return Af(e)?SQ(e,()=>{}):e}function Ew(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function MOe(e){return typeof e=="boolean"}var BOe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new AQ;return r&&(MOe(r)?s.push(LOe):s.push(jOe(r.extraArgument))),s},UOe="RTK_autoBatch",l9=e=>t=>{setTimeout(t,e)},VOe=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:l9(10):e.type==="callback"?e.queueNotification:l9(e.timeout),c=()=>{s=!1,a&&(a=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>i&&u(),d=n.subscribe(f);return o.add(u),()=>{d(),o.delete(u)}},dispatch(u){var f;try{return i=!((f=u==null?void 0:u.meta)!=null&&f[UOe]),a=!i,a&&(s||(s=!0,l(c))),n.dispatch(u)}finally{i=!0}}})},$Oe=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new AQ(e);return n&&i.push(VOe(typeof n=="object"?n:void 0)),i};function zOe(e){const t=BOe(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(v6(r))o=mQ(r);else throw new Error(el(1));let l;typeof n=="function"?l=n(t):l=t();let c=V_;i&&(c=FOe({trace:!1,...typeof i=="object"&&i}));const u=AOe(...l),f=$Oe(u);let d=typeof s=="function"?s(f):f();const h=c(...d);return pQ(o,a,h)}function TQ(e){const t={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(el(28));if(o in t)throw new Error(el(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return e(i),[t,r,n]}function WOe(e){return typeof e=="function"}function HOe(e,t){let[r,n,i]=TQ(t),a;if(WOe(e))a=()=>o9(e());else{const o=o9(e);a=()=>o}function s(o=a(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,f)=>{if(f)if(ip(u)){const h=f(u,l);return h===void 0?u:h}else{if(Af(u))return SQ(u,d=>f(d,l));{const d=f(u,l);if(d===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return d}}return u},o)}return s.getInitialState=a,s}var qOe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",GOe=(e=21)=>{let t="",r=e;for(;r--;)t+=qOe[Math.random()*64|0];return t},KOe=Symbol.for("rtk-slice-createasyncthunk");function XOe(e,t){return`${e}/${t}`}function YOe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[KOe];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(el(11));const o=(typeof i.reducers=="function"?i.reducers(QOe()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(N,R){const O=typeof N=="string"?N:N.type;if(!O)throw new Error(el(12));if(O in c.sliceCaseReducersByType)throw new Error(el(13));return c.sliceCaseReducersByType[O]=R,u},addMatcher(N,R){return c.sliceMatchers.push({matcher:N,reducer:R}),u},exposeAction(N,R){return c.actionCreators[N]=R,u},exposeCaseReducer(N,R){return c.sliceCaseReducersByName[N]=R,u}};l.forEach(N=>{const R=o[N],O={reducerName:N,type:XOe(a,N),createNotation:typeof i.reducers=="function"};eDe(R)?rDe(O,R,u,t):ZOe(O,R,u)});function f(){const[N={},R=[],O=void 0]=typeof i.extraReducers=="function"?TQ(i.extraReducers):[i.extraReducers],k={...N,...c.sliceCaseReducersByType};return HOe(i.initialState,S=>{for(let T in k)S.addCase(T,k[T]);for(let T of c.sliceMatchers)S.addMatcher(T.matcher,T.reducer);for(let T of R)S.addMatcher(T.matcher,T.reducer);O&&S.addDefaultCase(O)})}const d=N=>N,h=new Map,g=new WeakMap;let m;function v(N,R){return m||(m=f()),m(N,R)}function y(){return m||(m=f()),m.getInitialState()}function b(N,R=!1){function O(S){let T=S[N];return typeof T>"u"&&R&&(T=Ew(g,O,y)),T}function k(S=d){const T=Ew(h,R,()=>new WeakMap);return Ew(T,S,()=>{const j={};for(const[E,C]of Object.entries(i.selectors??{}))j[E]=JOe(C,S,()=>Ew(g,S,y),R);return j})}return{reducerPath:N,getSelectors:k,get selectors(){return k(O)},selectSlice:O}}const _={name:a,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:y,...b(s),injectInto(N,{reducerPath:R,...O}={}){const k=R??s;return N.inject({reducerPath:k,reducer:v},O),{..._,...b(k,!0)}}};return _}}function JOe(e,t,r,n){function i(a,...s){let o=t(a);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return i.unwrapped=e,i}var ul=YOe();function QOe(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function ZOe({type:e,reducerName:t,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!tDe(n))throw new Error(el(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?Wl(e,s):Wl(e))}function eDe(e){return e._reducerDefinitionType==="asyncThunk"}function tDe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function rDe({type:e,reducerName:t},r,n,i){if(!i)throw new Error(el(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=r,f=i(e,a,u);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:s||Aw,pending:o||Aw,rejected:l||Aw,settled:c||Aw})}function Aw(){}var nDe="task",kQ="listener",NQ="completed",w6="cancelled",iDe=`task-${w6}`,aDe=`task-${NQ}`,HN=`${kQ}-${w6}`,sDe=`${kQ}-${NQ}`,ZS=class{constructor(e){Qr(this,"name","TaskAbortError");Qr(this,"message");this.code=e,this.message=`${nDe} ${w6} (reason: ${e})`}},b6=(e,t)=>{if(typeof e!="function")throw new TypeError(el(32))},H_=()=>{},CQ=(e,t=H_)=>(e.catch(t),e),PQ=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),I0=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},O0=e=>{if(e.aborted){const{reason:t}=e;throw new ZS(t)}};function IQ(e,t){let r=H_;return new Promise((n,i)=>{const a=()=>i(new ZS(e.reason));if(e.aborted){a();return}r=PQ(e,a),t.finally(()=>r()).then(n,i)}).finally(()=>{r=H_})}var oDe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ZS?"cancelled":"rejected",error:r}}finally{t==null||t()}},q_=e=>t=>CQ(IQ(e,t).then(r=>(O0(e),r))),OQ=e=>{const t=q_(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:zm}=Object,c9={},eE="listenerMiddleware",lDe=(e,t)=>{const r=n=>PQ(e,()=>I0(n,e.reason));return(n,i)=>{b6(n);const a=new AbortController;r(a);const s=oDe(async()=>{O0(e),O0(a.signal);const o=await n({pause:q_(a.signal),delay:OQ(a.signal),signal:a.signal});return O0(a.signal),o},()=>I0(a,aDe));return i!=null&&i.autoJoin&&t.push(s.catch(H_)),{result:q_(e)(s),cancel(){I0(a,iDe)}}}},cDe=(e,t)=>{const r=async(n,i)=>{O0(t);let a=()=>{};const o=[new Promise((l,c)=>{let u=e({predicate:n,effect:(f,d)=>{d.unsubscribe(),l([f,d.getState(),d.getOriginalState()])}});a=()=>{u(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await IQ(t,Promise.race(o));return O0(t),l}finally{a()}};return(n,i)=>CQ(r(n,i))},DQ=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=Wl(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(el(21));return b6(a),{predicate:i,type:t,effect:a}},RQ=zm(e=>{const{type:t,predicate:r,effect:n}=DQ(e);return{id:GOe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(el(22))}}},{withTypes:()=>RQ}),u9=(e,t)=>{const{type:r,effect:n,predicate:i}=DQ(t);return Array.from(e.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},qN=e=>{e.pending.forEach(t=>{I0(t,HN)})},uDe=e=>()=>{e.forEach(qN),e.clear()},f9=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},LQ=zm(Wl(`${eE}/add`),{withTypes:()=>LQ}),fDe=Wl(`${eE}/removeAll`),jQ=zm(Wl(`${eE}/remove`),{withTypes:()=>jQ}),dDe=(...e)=>{console.error(`${eE}/error`,...e)},Vx=(e={})=>{const t=new Map,{extra:r,onError:n=dDe}=e;b6(n);const i=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&qN(u)}),a=u=>{const f=u9(t,u)??RQ(u);return i(f)};zm(a,{withTypes:()=>a});const s=u=>{const f=u9(t,u);return f&&(f.unsubscribe(),u.cancelActive&&qN(f)),!!f};zm(s,{withTypes:()=>s});const o=async(u,f,d,h)=>{const g=new AbortController,m=cDe(a,g.signal),v=[];try{u.pending.add(g),await Promise.resolve(u.effect(f,zm({},d,{getOriginalState:h,condition:(y,b)=>m(y,b).then(Boolean),take:m,delay:OQ(g.signal),pause:q_(g.signal),extra:r,signal:g.signal,fork:lDe(g.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,b,_)=>{y!==g&&(I0(y,HN),_.delete(y))})},cancel:()=>{I0(g,HN),u.pending.delete(g)},throwIfCancelled:()=>{O0(g.signal)}})))}catch(y){y instanceof ZS||f9(n,y,{raisedBy:"effect"})}finally{await Promise.all(v),I0(g,sDe),u.pending.delete(g)}},l=uDe(t);return{middleware:u=>f=>d=>{if(!gQ(d))return f(d);if(LQ.match(d))return a(d.payload);if(fDe.match(d)){l();return}if(jQ.match(d))return s(d.payload);let h=u.getState();const g=()=>{if(h===c9)throw new Error(el(23));return h};let m;try{if(m=f(d),t.size>0){const v=u.getState(),y=Array.from(t.values());for(const b of y){let _=!1;try{_=b.predicate(d,v,h)}catch(N){_=!1,f9(n,N,{raisedBy:"predicate"})}_&&o(b,d,u,g)}}}finally{h=c9}return m},startListening:a,stopListening:s,clearListeners:l}};function el(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var hDe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},FQ=ul({name:"chartLayout",initialState:hDe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:pDe,setLayout:mDe,setChartSize:gDe,setScale:vDe}=FQ.actions,yDe=FQ.reducer;function d9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d9(Object(r),!0).forEach(function(n){xDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xDe(e,t,r){return(t=wDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wDe(e){var t=bDe(e,"string");return typeof t=="symbol"?t:t+""}function bDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G_=Math.PI/180,_De=e=>e*180/Math.PI,ra=(e,t,r,n)=>({x:e+Math.cos(-G_*n)*r,y:t+Math.sin(-G_*n)*r}),MQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},SDe=(e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)},EDe=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=SDe({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:_De(l),angleInRadian:l}},ADe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-a*360,endAngle:r-a*360}},TDe=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return e+s*360},kDe=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:a}=EDe({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:c}=ADe(t),u=a,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?h9(h9({},t),{},{radius:i,angle:TDe(u,t)}):null};function BQ(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function p9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Il(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p9(Object(r),!0).forEach(function(n){NDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NDe(e,t,r){return(t=CDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CDe(e){var t=PDe(e,"string");return typeof t=="symbol"?t:t+""}function PDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sn(e,t,r){return Hn(e)||Hn(t)?r:gu(t)?np(e,t,r):typeof t=="function"?t(e):r}var IDe=(e,t,r,n,i)=>{var a,s=-1,o=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,d=void 0;if(Da(u-c)!==Da(f-u)){var h=[];if(Da(f-u)===Da(i[1]-i[0])){d=f;var g=u+i[1]-i[0];h[0]=Math.min(g,(g+c)/2),h[1]=Math.max(g,(g+c)/2)}else{d=c;var m=f+i[1]-i[0];h[0]=Math.min(u,(m+u)/2),h[1]=Math.max(u,(m+u)/2)}var v=[Math.min(u,(d+u)/2),Math.max(u,(d+u)/2)];if(e>v[0]&&e<=v[1]||e>=h[0]&&e<=h[1]){({index:s}=r[l]);break}}else{var y=Math.min(c,f),b=Math.max(c,f);if(e>(y+u)/2&&e<=(b+u)/2){({index:s}=r[l]);break}}}else if(t){for(var _=0;_<o;_++)if(_===0&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_>0&&_<o-1&&e>(t[_].coordinate+t[_-1].coordinate)/2&&e<=(t[_].coordinate+t[_+1].coordinate)/2||_===o-1&&e>(t[_].coordinate+t[_-1].coordinate)/2){({index:s}=t[_]);break}}return s},ODe=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Dt(e[a]))return Il(Il({},e),{},{[a]:e[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Dt(e[s]))return Il(Il({},e),{},{[s]:e[s]+(i||0)})}return e},Eu=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",UQ=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(r),s},VQ=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:d,axisType:h}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,m=i==="category"&&s.bandwidth?s.bandwidth()/g:0;if(m=h==="angleAxis"&&a&&a.length>=2?Da(a[0]-a[1])*2*m:m,f||d){var v=(f||d||[]).map((y,b)=>{var _=n?n.indexOf(y):y;return{coordinate:s(_)+m,value:y,offset:m,index:b}});return v.filter(y=>!bo(y.coordinate))}return l&&c?c.map((y,b)=>({coordinate:s(y)+m,value:y,index:b,offset:m})):s.ticks&&u!=null?s.ticks(u).map((y,b)=>({coordinate:s(y)+m,value:y,offset:m,index:b})):s.domain().map((y,b)=>({coordinate:s(y)+m,value:n?n[y]:y,index:b,offset:m}))},m9=1e-4,DDe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-m9,a=Math.max(n[0],n[1])+m9,s=e(t[0]),o=e(t[r-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[r-1]])}},RDe=(e,t)=>{if(!t||t.length!==2||!Dt(t[0])||!Dt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Dt(e[0])||e[0]<r)&&(i[0]=r),(!Dt(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},LDe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0,s=0;s<t;++s){var o=bo(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1])}},jDe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,a=0;a<t;++a){var s=bo(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=i,e[a][r][1]=i+s,i=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},FDe={sign:LDe,expand:b6e,none:gg,silhouette:_6e,wiggle:S6e,positive:jDe},MDe=(e,t,r)=>{var n=FDe[r],i=w6e().keys(t).value((a,s)=>+Sn(a,s,0)).order(jN).offset(n);return i(e)};function $Q(e){return e==null?void 0:String(e)}function K_(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Hn(i[t.dataKey])){var o=yJ(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var l=Sn(i,Hn(s)?t.dataKey:s);return Hn(l)?null:t.scale(l)}var g9=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Sn(a,t.dataKey,t.scale.domain()[s]);return Hn(o)?null:t.scale(o)-i/2+n},BDe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},UDe=e=>{var t=e.flat(2).filter(Dt);return[Math.min(...t),Math.max(...t)]},VDe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],$De=(e,t,r)=>{if(e!=null)return VDe(Object.keys(e).reduce((n,i)=>{var a=e[i],{stackedData:s}=a,o=s.reduce((l,c)=>{var u=BQ(c,t,r),f=UDe(u);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},v9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,y9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sp=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=XS(t,u=>u.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function x9(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return Il(Il({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Ph(e,t){if(e)return String(e);if(typeof t=="string")return t}function zDe(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var a=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return a?{x:e,y:t}:null}return n?kDe({x:e,y:t},n):null}var WDe=(e,t,r,n)=>{var i=t.find(c=>c&&c.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var a=i.coordinate,{radius:s}=n;return Il(Il(Il({},n),ra(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return Il(Il(Il({},n),ra(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},HDe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,jf=e=>e.layout.width,Ff=e=>e.layout.height,qDe=e=>e.layout.scale,zQ=e=>e.layout.margin,tE=Me(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),rE=Me(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),WQ="data-recharts-item-index",HQ="data-recharts-item-data-key",$x=60;function w9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w9(Object(r),!0).forEach(function(n){GDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GDe(e,t,r){return(t=KDe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KDe(e){var t=XDe(e,"string");return typeof t=="symbol"?t:t+""}function XDe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YDe=e=>e.brush.height;function JDe(e){var t=rE(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:$x;return r+i}return r},0)}function QDe(e){var t=rE(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:$x;return r+i}return r},0)}function ZDe(e){var t=tE(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function eRe(e){var t=tE(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var va=Me([jf,Ff,zQ,YDe,JDe,QDe,ZDe,eRe,dQ,yOe],(e,t,r,n,i,a,s,o,l,c)=>{var u={left:(r.left||0)+i,right:(r.right||0)+a},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},d=Tw(Tw({},f),u),h=d.bottom;d.bottom+=n,d=ODe(d,l,c);var g=e-d.left-d.right,m=t-d.top-d.bottom;return Tw(Tw({brushBottom:h},d),{},{width:Math.max(g,0),height:Math.max(m,0)})}),tRe=Me(va,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),_6=Me(jf,Ff,(e,t)=>({x:0,y:0,width:e,height:t})),rRe=L.createContext(null),Ps=()=>L.useContext(rRe)!=null,nE=e=>e.brush,iE=Me([nE,va,zQ],(e,t,r)=>({height:e.height,x:Dt(e.x)?e.x:t.left,y:Dt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Dt(e.width)?e.width:t.width})),S6=()=>{var e,t=Ps(),r=It(tRe),n=It(iE),i=(e=It(nE))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},nRe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},qQ=()=>{var e;return(e=It(va))!==null&&e!==void 0?e:nRe},E6=()=>It(jf),A6=()=>It(Ff),iRe=()=>It(e=>e.layout.margin),Nr=e=>e.layout.layoutType,zx=()=>It(Nr),aRe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},GQ=ul({name:"legend",initialState:aRe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=uf(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:b9,setLegendSettings:sRe,addLegendPayload:KQ,removeLegendPayload:XQ}=GQ.actions,oRe=GQ.reducer,lRe=["contextPayload"];function GN(){return GN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GN.apply(null,arguments)}function _9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_9(Object(r),!0).forEach(function(n){T6(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T6(e,t,r){return(t=cRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cRe(e){var t=uRe(e,"string");return typeof t=="symbol"?t:t+""}function uRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fRe(e,t){if(e==null)return{};var r,n,i=dRe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dRe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hRe(e){return e.value}function pRe(e){var{contextPayload:t}=e,r=fRe(e,lRe),n=tQ(t,e.payloadUniqBy,hRe),i=xg(xg({},r),{},{payload:n});return L.isValidElement(e.content)?L.cloneElement(e.content,i):typeof e.content=="function"?L.createElement(e.content,i):L.createElement(i6,i)}function mRe(e,t,r,n,i,a){var{layout:s,align:o,verticalAlign:l}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((n||0)-a.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((i||0)-a.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),xg(xg({},c),u)}function gRe(e){var t=hi();return L.useEffect(()=>{t(sRe(e))},[t,e]),null}function vRe(e){var t=hi();return L.useEffect(()=>(t(b9(e)),()=>{t(b9({width:0,height:0}))}),[t,e]),null}function yRe(e){var t=bOe(),r=WIe(),n=iRe(),{width:i,height:a,wrapperStyle:s,portal:o}=e,[l,c]=hQ([t]),u=E6(),f=A6();if(u==null||f==null)return null;var d=u-(n.left||0)-(n.right||0),h=aE.getWidthOrHeight(e.layout,a,i,d),g=o?s:xg(xg({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||a||"auto"},mRe(s,e,n,u,f,l)),s),m=o??r;if(m==null)return null;var v=L.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:c},L.createElement(gRe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),L.createElement(vRe,{width:l.width,height:l.height}),L.createElement(pRe,GN({},e,h,{margin:n,chartWidth:u,chartHeight:f,contextPayload:t})));return x3.createPortal(v,m)}class aE extends L.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&Dt(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return L.createElement(yRe,this.props)}}T6(aE,"displayName","Legend");T6(aE,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function KN(){return KN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KN.apply(null,arguments)}function S9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function X4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S9(Object(r),!0).forEach(function(n){xRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xRe(e,t,r){return(t=wRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wRe(e){var t=bRe(e,"string");return typeof t=="symbol"?t:t+""}function bRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Re(e){return Array.isArray(e)&&gu(e[0])&&gu(e[1])?e.join(" ~ "):e}var SRe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:d=!1}=e,h=()=>{if(a&&a.length){var R={padding:0,margin:0},O=(o?XS(a,o):a).map((k,S)=>{if(k.type==="none")return null;var T=k.formatter||s||_Re,{value:j,name:E}=k,C=j,D=E;if(T){var q=T(j,E,k,S,a);if(Array.isArray(q))[C,D]=q;else if(q!=null)C=q;else return null}var ee=X4({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return L.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:ee},gu(D)?L.createElement("span",{className:"recharts-tooltip-item-name"},D):null,gu(D)?L.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,L.createElement("span",{className:"recharts-tooltip-item-value"},C),L.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return L.createElement("ul",{className:"recharts-tooltip-item-list",style:R},O)}return null},g=X4({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),m=X4({margin:0},i),v=!Hn(u),y=v?u:"",b=Dr("recharts-default-tooltip",l),_=Dr("recharts-tooltip-label",c);v&&f&&a!==void 0&&a!==null&&(y=f(u,a));var N=d?{role:"status","aria-live":"assertive"}:{};return L.createElement("div",KN({className:b,style:g},N),L.createElement("p",{className:_,style:m},L.isValidElement(y)?y:"".concat(y)),h())},B1="recharts-tooltip-wrapper",ERe={visibility:"hidden"};function ARe(e){var{coordinate:t,translateX:r,translateY:n}=e;return Dr(B1,{["".concat(B1,"-right")]:Dt(r)&&t&&Dt(t.x)&&r>=t.x,["".concat(B1,"-left")]:Dt(r)&&t&&Dt(t.x)&&r<t.x,["".concat(B1,"-bottom")]:Dt(n)&&t&&Dt(t.y)&&n>=t.y,["".concat(B1,"-top")]:Dt(n)&&t&&Dt(t.y)&&n<t.y})}function E9(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&Dt(a[n]))return a[n];var u=r[n]-o-(i>0?i:0),f=r[n]+i;if(t[n])return s[n]?u:f;var d=l[n];if(d==null)return 0;if(s[n]){var h=u,g=d;return h<g?Math.max(f,d):Math.max(u,d)}if(c==null)return 0;var m=f+o,v=d+c;return m>v?Math.max(u,d):Math.max(f,d)}function TRe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function kRe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,u,f;return s.height>0&&s.width>0&&r?(u=E9({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=E9({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=TRe({translateX:u,translateY:f,useTranslate3d:o})):c=ERe,{cssProperties:c,cssClasses:ARe({translateX:u,translateY:f,coordinate:r})}}function A9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A9(Object(r),!0).forEach(function(n){XN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XN(e,t,r){return(t=NRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NRe(e){var t=CRe(e,"string");return typeof t=="symbol"?t:t+""}function CRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class PRe extends L.PureComponent{constructor(){super(...arguments),XN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),XN(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:d,viewBox:h,wrapperStyle:g,lastBoundingBox:m,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:b,cssProperties:_}=kRe({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:m.height,width:m.width},useTranslate3d:d,viewBox:h}),N=y?{}:kw(kw({transition:l&&t?"transform ".concat(n,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),R=kw(kw({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return L.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:R,ref:v},a)}}var IRe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Mf={devToolsEnabled:!1,isSsr:IRe()},YQ=()=>It(e=>e.rootProps.accessibilityLayer);function rs(e){return Number.isFinite(e)}function wg(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function YN(){return YN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YN.apply(null,arguments)}function T9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function k9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T9(Object(r),!0).forEach(function(n){ORe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ORe(e,t,r){return(t=DRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DRe(e){var t=RRe(e,"string");return typeof t=="symbol"?t:t+""}function RRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N9={curveBasisClosed:c6e,curveBasisOpen:u6e,curveBasis:l6e,curveBumpX:KIe,curveBumpY:XIe,curveLinearClosed:f6e,curveLinear:HS,curveMonotoneX:d6e,curveMonotoneY:h6e,curveNatural:p6e,curveStep:m6e,curveStepAfter:v6e,curveStepBefore:g6e},Nw=e=>rs(e.x)&&rs(e.y),U1=e=>e.x,V1=e=>e.y,LRe=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Mx(e));return(r==="curveMonotone"||r==="curveBump")&&t?N9["".concat(r).concat(t==="vertical"?"Y":"X")]:N9[r]||HS},jRe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:a=!1}=e,s=LRe(t,i),o=a?r.filter(Nw):r,l;if(Array.isArray(n)){var c=a?n.filter(f=>Nw(f)):n,u=o.map((f,d)=>k9(k9({},f),{},{base:c[d]}));return i==="vertical"?l=ww().y(V1).x1(U1).x0(f=>f.base.x):l=ww().x(U1).y1(V1).y0(f=>f.base.y),l.defined(Nw).curve(s),l(u)}return i==="vertical"&&Dt(n)?l=ww().y(V1).x1(U1).x0(n):Dt(n)?l=ww().x(U1).y1(V1).y0(n):l=kJ().x(U1).y(V1),l.defined(Nw).curve(s),l(o)},Wm=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var a=r&&r.length?jRe(e):n;return L.createElement("path",YN({},Kl(e),YI(e),{className:Dr("recharts-curve",t),d:a===null?void 0:a,ref:i}))},FRe=["x","y","top","left","width","height","className"];function JN(){return JN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JN.apply(null,arguments)}function C9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MRe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C9(Object(r),!0).forEach(function(n){BRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BRe(e,t,r){return(t=URe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function URe(e){var t=VRe(e,"string");return typeof t=="symbol"?t:t+""}function VRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Re(e,t){if(e==null)return{};var r,n,i=zRe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zRe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WRe=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),HRe=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=$Re(e,FRe),c=MRe({x:t,y:r,top:n,left:i,width:a,height:s},l);return!Dt(t)||!Dt(r)||!Dt(a)||!Dt(s)||!Dt(n)||!Dt(i)?null:L.createElement("path",JN({},qn(c,!0),{className:Dr("recharts-cross",o),d:WRe(t,r,a,s,n,i)}))};function qRe(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function P9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function GRe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P9(Object(r),!0).forEach(function(n){KRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KRe(e,t,r){return(t=XRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XRe(e){var t=YRe(e,"string");return typeof t=="symbol"?t:t+""}function YRe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ya(e,t){var r=GRe({},e),n=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function JRe(){}function I9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function O9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I9(Object(r),!0).forEach(function(n){QRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QRe(e,t,r){return(t=ZRe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZRe(e){var t=e8e(e,"string");return typeof t=="symbol"?t:t+""}function e8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t8e=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),JQ=(e,t,r)=>e.map(n=>"".concat(t8e(n)," ").concat(t,"ms ").concat(r)).join(","),r8e=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Gy=(e,t)=>Object.keys(t).reduce((r,n)=>O9(O9({},r),{},{[n]:e(n,t[n])}),{});function D9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ya(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D9(Object(r),!0).forEach(function(n){n8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n8e(e,t,r){return(t=i8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i8e(e){var t=a8e(e,"string");return typeof t=="symbol"?t:t+""}function a8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X_=(e,t,r)=>e+(t-e)*r,QN=e=>{var{from:t,to:r}=e;return t!==r},QQ=(e,t,r)=>{var n=Gy((i,a)=>{if(QN(a)){var[s,o]=e(a.from,a.to,a.velocity);return Ya(Ya({},a),{},{from:s,velocity:o})}return a},t);return r<1?Gy((i,a)=>QN(a)?Ya(Ya({},a),{},{velocity:X_(a.velocity,n[i].velocity,r),from:X_(a.from,n[i].from,r)}):a,t):QQ(e,n,r-1)};function s8e(e,t,r,n,i,a){var s,o=n.reduce((d,h)=>Ya(Ya({},d),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),l=()=>Gy((d,h)=>h.from,o),c=()=>!Object.values(o).filter(QN).length,u=null,f=d=>{s||(s=d);var h=d-s,g=h/r.dt;o=QQ(r,o,g),i(Ya(Ya(Ya({},e),t),l())),s=d,c()||(u=a.setTimeout(f))};return()=>(u=a.setTimeout(f),()=>{u()})}function o8e(e,t,r,n,i,a,s){var o=null,l=i.reduce((f,d)=>Ya(Ya({},f),{},{[d]:[e[d],t[d]]}),{}),c,u=f=>{c||(c=f);var d=(f-c)/n,h=Gy((m,v)=>X_(...v,r(d)),l);if(a(Ya(Ya(Ya({},e),t),h)),d<1)o=s.setTimeout(u);else{var g=Gy((m,v)=>X_(...v,r(1)),l);a(Ya(Ya(Ya({},e),t),g))}};return()=>(o=s.setTimeout(u),()=>{o()})}const l8e=(e,t,r,n,i,a)=>{var s=r8e(e,t);return r.isStepper===!0?s8e(e,t,r,s,i,a):o8e(e,t,r,n,s,i,a)};var Y_=1e-4,ZQ=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],eZ=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),R9=(e,t)=>r=>{var n=ZQ(e,t);return eZ(n,r)},c8e=(e,t)=>r=>{var n=ZQ(e,t),i=[...n.map((a,s)=>a*s).slice(1),0];return eZ(i,r)},L9=function(){for(var t,r,n,i,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,i]=l[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else s.length===4&&([t,n,r,i]=s);var c=R9(t,r),u=R9(n,i),f=c8e(t,r),d=g=>g>1?1:g<0?0:g,h=g=>{for(var m=g>1?1:g,v=m,y=0;y<8;++y){var b=c(v)-m,_=f(v);if(Math.abs(b-m)<Y_||_<Y_)return u(v);v=d(v-b/_)}return u(v)};return h.isStepper=!1,h},u8e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,a=(s,o,l)=>{var c=-(s-o)*r,u=l*n,f=l+(c-u)*i/1e3,d=l*i/1e3+s;return Math.abs(d-o)<Y_&&Math.abs(f)<Y_?[o,0]:[d,f]};return a.isStepper=!0,a.dt=i,a},f8e=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return L9(e);case"spring":return u8e();default:if(e.split("(")[0]==="cubic-bezier")return L9(e)}return typeof e=="function"?e:null};function d8e(e){var t,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,c),l);return}a(l),i=e.setTimeout(a.bind(null,c));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class h8e{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{cancelAnimationFrame(i)}}}function p8e(){return d8e(new h8e)}var m8e=L.createContext(p8e);function g8e(e,t){var r=L.useContext(m8e);return L.useMemo(()=>t??r(e),[e,t,r])}var v8e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},j9={t:0},Y4={t:1};function Kg(e){var t=ya(e,v8e),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,u=g8e(t.animationId,t.animationManager),[f,d]=L.useState(r?j9:Y4),h=L.useRef(null);return L.useEffect(()=>{r||d(Y4)},[r]),L.useEffect(()=>{if(!r||!n)return JRe;var g=l8e(j9,Y4,f8e(a),i,d,u.getTimeoutController()),m=()=>{h.current=g()};return u.start([l,s,m,i,o]),()=>{u.stop(),h.current&&h.current(),o()}},[r,n,i,a,s,l,o,u]),c(f.t)}function Xg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=L.useRef(Wy(t)),n=L.useRef(e);return n.current!==e&&(r.current=Wy(t),n.current=e),r.current}function F9(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function M9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F9(Object(r),!0).forEach(function(n){y8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F9(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y8e(e,t,r){return(t=x8e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x8e(e){var t=w8e(e,"string");return typeof t=="symbol"?t:t+""}function w8e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J_(){return J_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J_.apply(null,arguments)}var B9=(e,t,r,n,i)=>{var a=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(a>0&&i instanceof Array){for(var u=[0,0,0,0],f=0,d=4;f<d;f++)u[f]=i[f]>a?a:i[f];c="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+o*u[0],",").concat(t)),c+="L ".concat(e+r-o*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*u[1])),c+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+r-o*u[2],",").concat(t+n)),c+="L ".concat(e+o*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*u[3])),c+="Z"}else if(a>0&&i===+i&&i>0){var h=Math.min(a,i);c="M ".concat(e,",").concat(t+s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+o*h,",").concat(t,`
            L `).concat(e+r-o*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*h,`
            L `).concat(e+r,",").concat(t+n-s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e+r-o*h,",").concat(t+n,`
            L `).concat(e+o*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*h," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},b8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tZ=e=>{var t=ya(e,b8e),r=L.useRef(null),[n,i]=L.useState(-1);L.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var q=r.current.getTotalLength();q&&i(q)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:c,className:u}=t,{animationEasing:f,animationDuration:d,animationBegin:h,isAnimationActive:g,isUpdateAnimationActive:m}=t,v=L.useRef(o),y=L.useRef(l),b=L.useRef(a),_=L.useRef(s),N=L.useMemo(()=>({x:a,y:s,width:o,height:l,radius:c}),[a,s,o,l,c]),R=Xg(N,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var O=Dr("recharts-rectangle",u);if(!m)return L.createElement("path",J_({},qn(t,!0),{className:O,d:B9(a,s,o,l,c)}));var k=v.current,S=y.current,T=b.current,j=_.current,E="0px ".concat(n===-1?1:n,"px"),C="".concat(n,"px 0px"),D=JQ(["strokeDasharray"],d,typeof f=="string"?f:void 0);return L.createElement(Kg,{animationId:R,key:R,canBegin:n>0,duration:d,easing:f,isActive:m,begin:h},q=>{var ee=bn(k,o,q),le=bn(S,l,q),se=bn(T,a,q),K=bn(j,s,q);r.current&&(v.current=ee,y.current=le,b.current=se,_.current=K);var X;return g?q>0?X={transition:D,strokeDasharray:C}:X={strokeDasharray:E}:X={strokeDasharray:C},L.createElement("path",J_({},qn(t,!0),{className:O,d:B9(se,K,ee,le,c),ref:r,style:M9(M9({},X),t.style)}))})};function rZ(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e,s=ra(t,r,n,i),o=ra(t,r,n,a);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function ZN(){return ZN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZN.apply(null,arguments)}var _8e=(e,t)=>{var r=Da(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Cw=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+n,u=Math.asin(o/c)/G_,f=l?i:i+a*u,d=ra(t,r,c,f),h=ra(t,r,n,f),g=l?i-a*u:i,m=ra(t,r,c*Math.cos(u*G_),g);return{center:d,circleTangency:h,lineTangency:m,theta:u}},nZ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=_8e(a,s),l=a+o,c=ra(t,r,i,a),u=ra(t,r,i,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(a>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var d=ra(t,r,n,a),h=ra(t,r,n,l);f+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(a<=l),`,
            `).concat(d.x,",").concat(d.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},S8e=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=Da(c-l),{circleTangency:f,lineTangency:d,theta:h}=Cw({cx:t,cy:r,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:g,lineTangency:m,theta:v}=Cw({cx:t,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),y=o?Math.abs(l-c):Math.abs(l-c)-h-v;if(y<0)return s?"M ".concat(d.x,",").concat(d.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):nZ({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var b="M ".concat(d.x,",").concat(d.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
  `);if(n>0){var{circleTangency:_,lineTangency:N,theta:R}=Cw({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:O,lineTangency:k,theta:S}=Cw({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),T=o?Math.abs(l-c):Math.abs(l-c)-R-S;if(T<0&&a===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(N.x,",").concat(N.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},E8e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iZ=e=>{var t=ya(e,E8e),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=t;if(a<i||c===u)return null;var d=Dr("recharts-sector",f),h=a-i,g=As(s,h,0,!0),m;return g>0&&Math.abs(c-u)<360?m=S8e({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(g,h/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):m=nZ({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:c,endAngle:u}),L.createElement("path",ZN({},qn(t,!0),{className:d,d:m}))};function A8e(e,t,r){var n,i,a,s;if(e==="horizontal")n=t.x,a=n,i=r.top,s=r.top+r.height;else if(e==="vertical")i=t.y,s=i,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:f}=t,d=ra(o,l,c,f),h=ra(o,l,u,f);n=d.x,i=d.y,a=h.x,s=h.y}else return rZ(t);return[{x:n,y:i},{x:a,y:s}]}var aZ={},sZ={},oZ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=m6;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(oZ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oZ;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(sZ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g6,r=sZ;function n(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=s;return l}e.range=n})(aZ);var T8e=aZ.range;const lZ=Cf(T8e);function qd(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function k8e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function k6(e){let t,r,n;e.length!==2?(t=qd,r=(o,l)=>qd(e(o),l),n=(o,l)=>e(o)-l):(t=e===qd||e===k8e?e:N8e,r=e,n=e);function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function N8e(){return 0}function cZ(e){return e===null?NaN:+e}function*C8e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const P8e=k6(qd),Wx=P8e.right;k6(cZ).center;class U9 extends Map{constructor(t,r=D8e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(V9(this,t))}has(t){return super.has(V9(this,t))}set(t,r){return super.set(I8e(this,t),r)}delete(t){return super.delete(O8e(this,t))}}function V9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function I8e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function O8e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function D8e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function R8e(e=qd){if(e===qd)return uZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function uZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const L8e=Math.sqrt(50),j8e=Math.sqrt(10),F8e=Math.sqrt(2);function Q_(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=L8e?10:a>=j8e?5:a>=F8e?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Q_(e,t,r*2):[o,l,c]}function eC(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,a,s]=n?Q_(t,e,r):Q_(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function tC(e,t,r){return t=+t,e=+e,r=+r,Q_(e,t,r)[2]}function rC(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?tC(t,e,r):tC(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function $9(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function z9(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function fZ(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?uZ:R8e(i);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),h=Math.max(r,Math.floor(t-c*f/l+d)),g=Math.min(n,Math.floor(t+(l-c)*f/l+d));fZ(e,t,h,g,i)}const a=e[t];let s=r,o=n;for($1(e,r,t),i(e[n],a)>0&&$1(e,r,n);s<o;){for($1(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[r],a)===0?$1(e,r,o):(++o,$1(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function $1(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function M8e(e,t,r){if(e=Float64Array.from(C8e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return z9(e);if(t>=1)return $9(e);var n,i=(n-1)*t,a=Math.floor(i),s=$9(fZ(e,a).subarray(0,a+1)),o=z9(e.subarray(a+1));return s+(o-s)*(i-a)}}function B8e(e,t,r=cZ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e),o=+r(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function U8e(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function Xl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Bf(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const nC=Symbol("implicit");function N6(){var e=new U9,t=[],r=[],n=nC;function i(a){let s=e.get(a);if(s===void 0){if(n!==nC)return n;e.set(a,s=t.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new U9;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return N6(t,r).unknown(n)},Xl.apply(i,arguments),i}function C6(){var e=N6().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,a,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var d=t().length,h=i<n,g=h?i:n,m=h?n:i;a=(m-g)/Math.max(1,d-l+c*2),o&&(a=Math.floor(a)),g+=(m-g-a*(d-l))*u,s=a*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=U8e(d).map(function(y){return g+a*y});return r(h?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([n,i]=d,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(d){return[n,i]=d,n=+n,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(d){return arguments.length?(o=!!d,f()):o},e.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},e.copy=function(){return C6(t(),[n,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Xl.apply(f(),arguments)}function dZ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return dZ(t())},e}function V8e(){return dZ(C6.apply(null,arguments).paddingInner(1))}function P6(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function hZ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Hx(){}var Ky=.7,Z_=1/Ky,Hm="\\s*([+-]?\\d+)\\s*",Xy="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$8e=/^#([0-9a-f]{3,8})$/,z8e=new RegExp(`^rgb\\(${Hm},${Hm},${Hm}\\)$`),W8e=new RegExp(`^rgb\\(${hu},${hu},${hu}\\)$`),H8e=new RegExp(`^rgba\\(${Hm},${Hm},${Hm},${Xy}\\)$`),q8e=new RegExp(`^rgba\\(${hu},${hu},${hu},${Xy}\\)$`),G8e=new RegExp(`^hsl\\(${Xy},${hu},${hu}\\)$`),K8e=new RegExp(`^hsla\\(${Xy},${hu},${hu},${Xy}\\)$`),W9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};P6(Hx,Yy,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:H9,formatHex:H9,formatHex8:X8e,formatHsl:Y8e,formatRgb:q9,toString:q9});function H9(){return this.rgb().formatHex()}function X8e(){return this.rgb().formatHex8()}function Y8e(){return pZ(this).formatHsl()}function q9(){return this.rgb().formatRgb()}function Yy(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$8e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?G9(t):r===3?new ho(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Pw(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Pw(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=z8e.exec(e))?new ho(t[1],t[2],t[3],1):(t=W8e.exec(e))?new ho(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=H8e.exec(e))?Pw(t[1],t[2],t[3],t[4]):(t=q8e.exec(e))?Pw(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=G8e.exec(e))?Y9(t[1],t[2]/100,t[3]/100,1):(t=K8e.exec(e))?Y9(t[1],t[2]/100,t[3]/100,t[4]):W9.hasOwnProperty(e)?G9(W9[e]):e==="transparent"?new ho(NaN,NaN,NaN,0):null}function G9(e){return new ho(e>>16&255,e>>8&255,e&255,1)}function Pw(e,t,r,n){return n<=0&&(e=t=r=NaN),new ho(e,t,r,n)}function J8e(e){return e instanceof Hx||(e=Yy(e)),e?(e=e.rgb(),new ho(e.r,e.g,e.b,e.opacity)):new ho}function iC(e,t,r,n){return arguments.length===1?J8e(e):new ho(e,t,r,n??1)}function ho(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}P6(ho,iC,hZ(Hx,{brighter(e){return e=e==null?Z_:Math.pow(Z_,e),new ho(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ky:Math.pow(Ky,e),new ho(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ho(D0(this.r),D0(this.g),D0(this.b),e5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K9,formatHex:K9,formatHex8:Q8e,formatRgb:X9,toString:X9}));function K9(){return`#${v0(this.r)}${v0(this.g)}${v0(this.b)}`}function Q8e(){return`#${v0(this.r)}${v0(this.g)}${v0(this.b)}${v0((isNaN(this.opacity)?1:this.opacity)*255)}`}function X9(){const e=e5(this.opacity);return`${e===1?"rgb(":"rgba("}${D0(this.r)}, ${D0(this.g)}, ${D0(this.b)}${e===1?")":`, ${e})`}`}function e5(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function D0(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function v0(e){return e=D0(e),(e<16?"0":"")+e.toString(16)}function Y9(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new pc(e,t,r,n)}function pZ(e){if(e instanceof pc)return new pc(e.h,e.s,e.l,e.opacity);if(e instanceof Hx||(e=Yy(e)),!e)return new pc;if(e instanceof pc)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new pc(s,o,l,e.opacity)}function Z8e(e,t,r,n){return arguments.length===1?pZ(e):new pc(e,t,r,n??1)}function pc(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}P6(pc,Z8e,hZ(Hx,{brighter(e){return e=e==null?Z_:Math.pow(Z_,e),new pc(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ky:Math.pow(Ky,e),new pc(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ho(J4(e>=240?e-240:e+120,i,n),J4(e,i,n),J4(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new pc(J9(this.h),Iw(this.s),Iw(this.l),e5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=e5(this.opacity);return`${e===1?"hsl(":"hsla("}${J9(this.h)}, ${Iw(this.s)*100}%, ${Iw(this.l)*100}%${e===1?")":`, ${e})`}`}}));function J9(e){return e=(e||0)%360,e<0?e+360:e}function Iw(e){return Math.max(0,Math.min(1,e||0))}function J4(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const I6=e=>()=>e;function eLe(e,t){return function(r){return e+r*t}}function tLe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function rLe(e){return(e=+e)==1?mZ:function(t,r){return r-t?tLe(t,r,e):I6(isNaN(t)?r:t)}}function mZ(e,t){var r=t-e;return r?eLe(e,r):I6(isNaN(e)?t:e)}const Q9=function e(t){var r=rLe(t);function n(i,a){var s=r((i=iC(i)).r,(a=iC(a)).r),o=r(i.g,a.g),l=r(i.b,a.b),c=mZ(i.opacity,a.opacity);return function(u){return i.r=s(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return n.gamma=e,n}(1);function nLe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function iLe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function aLe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=Yg(e[s],t[s]);for(;s<r;++s)a[s]=t[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function sLe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function t5(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function oLe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Yg(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var aC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q4=new RegExp(aC.source,"g");function lLe(e){return function(){return e}}function cLe(e){return function(t){return e(t)+""}}function uLe(e,t){var r=aC.lastIndex=Q4.lastIndex=0,n,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=aC.exec(e))&&(i=Q4.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:t5(n,i)})),r=Q4.lastIndex;return r<t.length&&(a=t.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?cLe(l[0].x):lLe(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Yg(e,t){var r=typeof t,n;return t==null||r==="boolean"?I6(t):(r==="number"?t5:r==="string"?(n=Yy(t))?(t=n,Q9):uLe:t instanceof Yy?Q9:t instanceof Date?sLe:iLe(t)?nLe:Array.isArray(t)?aLe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?oLe:t5)(e,t)}function O6(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function fLe(e,t){t===void 0&&(t=e,e=Yg);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}function dLe(e){return function(){return e}}function r5(e){return+e}var Z9=[0,1];function zs(e){return e}function sC(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:dLe(isNaN(t)?NaN:.5)}function hLe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function pLe(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=sC(i,n),a=r(s,a)):(n=sC(n,i),a=r(a,s)),function(o){return a(n(o))}}function mLe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=sC(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(o){var l=Wx(e,o,1,n)-1;return a[l](i[l](o))}}function qx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sE(){var e=Z9,t=Z9,r=Yg,n,i,a,s=zs,o,l,c;function u(){var d=Math.min(e.length,t.length);return s!==zs&&(s=hLe(e[0],e[d-1])),o=d>2?mLe:pLe,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?a:(l||(l=o(e.map(n),t,r)))(n(s(d)))}return f.invert=function(d){return s(i((c||(c=o(t,e.map(n),t5)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,r5),u()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),r=O6,u()},f.clamp=function(d){return arguments.length?(s=d?!0:zs,u()):s!==zs},f.interpolate=function(d){return arguments.length?(r=d,u()):r},f.unknown=function(d){return arguments.length?(a=d,f):a},function(d,h){return n=d,i=h,u()}}function D6(){return sE()(zs,zs)}function gLe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function n5(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bg(e){return e=n5(Math.abs(e)),e?e[1]:NaN}function vLe(e,t){return function(r,n){for(var i=r.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function yLe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var xLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jy(e){if(!(t=xLe.exec(e)))throw new Error("invalid format: "+e);var t;return new R6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Jy.prototype=R6.prototype;function R6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}R6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wLe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var gZ;function bLe(e,t){var r=n5(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(gZ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+n5(e,Math.max(0,t+a-1))[0]}function eB(e,t){var r=n5(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const tB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gLe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>eB(e*100,t),r:eB,s:bLe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function rB(e){return e}var nB=Array.prototype.map,iB=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function _Le(e){var t=e.grouping===void 0||e.thousands===void 0?rB:vLe(nB.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?rB:yLe(nB.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Jy(f);var d=f.fill,h=f.align,g=f.sign,m=f.symbol,v=f.zero,y=f.width,b=f.comma,_=f.precision,N=f.trim,R=f.type;R==="n"?(b=!0,R="g"):tB[R]||(_===void 0&&(_=12),N=!0,R="g"),(v||d==="0"&&h==="=")&&(v=!0,d="0",h="=");var O=m==="$"?r:m==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",k=m==="$"?n:/[%p]/.test(R)?s:"",S=tB[R],T=/[defgprs%]/.test(R);_=_===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function j(E){var C=O,D=k,q,ee,le;if(R==="c")D=S(E)+D,E="";else{E=+E;var se=E<0||1/E<0;if(E=isNaN(E)?l:S(Math.abs(E),_),N&&(E=wLe(E)),se&&+E==0&&g!=="+"&&(se=!1),C=(se?g==="("?g:o:g==="-"||g==="("?"":g)+C,D=(R==="s"?iB[8+gZ/3]:"")+D+(se&&g==="("?")":""),T){for(q=-1,ee=E.length;++q<ee;)if(le=E.charCodeAt(q),48>le||le>57){D=(le===46?i+E.slice(q+1):E.slice(q))+D,E=E.slice(0,q);break}}}b&&!v&&(E=t(E,1/0));var K=C.length+E.length+D.length,X=K<y?new Array(y-K+1).join(d):"";switch(b&&v&&(E=t(X+E,X.length?y-D.length:1/0),X=""),h){case"<":E=C+E+D+X;break;case"=":E=C+X+E+D;break;case"^":E=X.slice(0,K=X.length>>1)+C+E+D+X.slice(K);break;default:E=X+C+E+D;break}return a(E)}return j.toString=function(){return f+""},j}function u(f,d){var h=c((f=Jy(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(bg(d)/3)))*3,m=Math.pow(10,-g),v=iB[8+g/3];return function(y){return h(m*y)+v}}return{format:c,formatPrefix:u}}var Ow,L6,vZ;SLe({thousands:",",grouping:[3],currency:["$",""]});function SLe(e){return Ow=_Le(e),L6=Ow.format,vZ=Ow.formatPrefix,Ow}function ELe(e){return Math.max(0,-bg(Math.abs(e)))}function ALe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bg(t)/3)))*3-bg(Math.abs(e)))}function TLe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bg(t)-bg(e))+1}function yZ(e,t,r,n){var i=rC(e,t,r),a;switch(n=Jy(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=ALe(i,s))&&(n.precision=a),vZ(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=TLe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=ELe(i))&&(n.precision=a-(n.type==="%")*2);break}}return L6(n)}function Ih(e){var t=e.domain;return e.ticks=function(r){var n=t();return eC(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return yZ(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,s=n[i],o=n[a],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=i,i=a,a=c);u-- >0;){if(c=tC(s,o,r),c===l)return n[i]=s,n[a]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function xZ(){var e=D6();return e.copy=function(){return qx(e,xZ())},Xl.apply(e,arguments),Ih(e)}function wZ(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,r5),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return wZ(e).unknown(t)},e=arguments.length?Array.from(e,r5):[0,1],Ih(r)}function bZ(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],a=e[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),e[r]=t.floor(i),e[n]=t.ceil(a),e}function aB(e){return Math.log(e)}function sB(e){return Math.exp(e)}function kLe(e){return-Math.log(-e)}function NLe(e){return-Math.exp(-e)}function CLe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function PLe(e){return e===10?CLe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ILe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function oB(e){return(t,r)=>-e(-t,r)}function j6(e){const t=e(aB,sB),r=t.domain;let n=10,i,a;function s(){return i=ILe(n),a=PLe(n),r()[0]<0?(i=oB(i),a=oB(a),e(kLe,NLe)):e(aB,sB),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),h=i(u),g,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&h-d<v){if(d=Math.floor(d),h=Math.ceil(h),c>0){for(;d<=h;++d)for(g=1;g<n;++g)if(m=d<0?g/a(-d):g*a(d),!(m<c)){if(m>u)break;y.push(m)}}else for(;d<=h;++d)for(g=n-1;g>=1;--g)if(m=d>0?g/a(-d):g*a(d),!(m<c)){if(m>u)break;y.push(m)}y.length*2<v&&(y=eC(c,u,v))}else y=eC(d,h,Math.min(h-d,v)).map(a);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Jy(l)).precision==null&&(l.trim=!0),l=L6(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/a(Math.round(i(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(bZ(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function _Z(){const e=j6(sE()).domain([1,10]);return e.copy=()=>qx(e,_Z()).base(e.base()),Xl.apply(e,arguments),e}function lB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function cB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function F6(e){var t=1,r=e(lB(t),cB(t));return r.constant=function(n){return arguments.length?e(lB(t=+n),cB(t)):t},Ih(r)}function SZ(){var e=F6(sE());return e.copy=function(){return qx(e,SZ()).constant(e.constant())},Xl.apply(e,arguments)}function uB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function OLe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function DLe(e){return e<0?-e*e:e*e}function M6(e){var t=e(zs,zs),r=1;function n(){return r===1?e(zs,zs):r===.5?e(OLe,DLe):e(uB(r),uB(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ih(t)}function B6(){var e=M6(sE());return e.copy=function(){return qx(e,B6()).exponent(e.exponent())},Xl.apply(e,arguments),e}function RLe(){return B6.apply(null,arguments).exponent(.5)}function fB(e){return Math.sign(e)*e*e}function LLe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function EZ(){var e=D6(),t=[0,1],r=!1,n;function i(a){var s=LLe(e(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return e.invert(fB(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,r5)).map(fB)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return EZ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Xl.apply(i,arguments),Ih(i)}function AZ(){var e=[],t=[],r=[],n;function i(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=B8e(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:t[Wx(r,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(qd),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return AZ().domain(e).range(t).unknown(n)},Xl.apply(a,arguments)}function TZ(){var e=0,t=1,r=1,n=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[Wx(n,l,0,r)]:a}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return TZ().domain([e,t]).range(i).unknown(a)},Xl.apply(Ih(s),arguments)}function kZ(){var e=[.5],t=[0,1],r,n=1;function i(a){return a!=null&&a<=a?t[Wx(e,a,0,n)]:r}return i.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return kZ().domain(e).range(t).unknown(r)},Xl.apply(i,arguments)}const Z4=new Date,eT=new Date;function xa(e,t,r,n){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let c;do l.push(c=new Date(+a)),t(a,o),e(a);while(c<a&&a<s);return l},i.filter=a=>xa(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),r&&(i.count=(a,s)=>(Z4.setTime(+a),eT.setTime(+s),e(Z4),e(eT),Math.floor(r(Z4,eT))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const i5=xa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);i5.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xa(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):i5);i5.range;const Ju=1e3,Ll=Ju*60,Qu=Ll*60,Tf=Qu*24,U6=Tf*7,dB=Tf*30,tT=Tf*365,y0=xa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ju)},(e,t)=>(t-e)/Ju,e=>e.getUTCSeconds());y0.range;const V6=xa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ju)},(e,t)=>{e.setTime(+e+t*Ll)},(e,t)=>(t-e)/Ll,e=>e.getMinutes());V6.range;const $6=xa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ll)},(e,t)=>(t-e)/Ll,e=>e.getUTCMinutes());$6.range;const z6=xa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ju-e.getMinutes()*Ll)},(e,t)=>{e.setTime(+e+t*Qu)},(e,t)=>(t-e)/Qu,e=>e.getHours());z6.range;const W6=xa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Qu)},(e,t)=>(t-e)/Qu,e=>e.getUTCHours());W6.range;const Gx=xa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ll)/Tf,e=>e.getDate()-1);Gx.range;const oE=xa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Tf,e=>e.getUTCDate()-1);oE.range;const NZ=xa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Tf,e=>Math.floor(e/Tf));NZ.range;function kp(e){return xa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ll)/U6)}const lE=kp(0),a5=kp(1),jLe=kp(2),FLe=kp(3),_g=kp(4),MLe=kp(5),BLe=kp(6);lE.range;a5.range;jLe.range;FLe.range;_g.range;MLe.range;BLe.range;function Np(e){return xa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/U6)}const cE=Np(0),s5=Np(1),ULe=Np(2),VLe=Np(3),Sg=Np(4),$Le=Np(5),zLe=Np(6);cE.range;s5.range;ULe.range;VLe.range;Sg.range;$Le.range;zLe.range;const H6=xa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());H6.range;const q6=xa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());q6.range;const kf=xa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());kf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});kf.range;const Nf=xa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nf.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Nf.range;function CZ(e,t,r,n,i,a){const s=[[y0,1,Ju],[y0,5,5*Ju],[y0,15,15*Ju],[y0,30,30*Ju],[a,1,Ll],[a,5,5*Ll],[a,15,15*Ll],[a,30,30*Ll],[i,1,Qu],[i,3,3*Qu],[i,6,6*Qu],[i,12,12*Qu],[n,1,Tf],[n,2,2*Tf],[r,1,U6],[t,1,dB],[t,3,3*dB],[e,1,tT]];function o(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const h=f&&typeof f.range=="function"?f:l(c,u,f),g=h?h.range(c,+u+1):[];return d?g.reverse():g}function l(c,u,f){const d=Math.abs(u-c)/f,h=k6(([,,v])=>v).right(s,d);if(h===s.length)return e.every(rC(c/tT,u/tT,f));if(h===0)return i5.every(Math.max(rC(c,u,f),1));const[g,m]=s[d/s[h-1][2]<s[h][2]/d?h-1:h];return g.every(m)}return[o,l]}const[WLe,HLe]=CZ(Nf,q6,cE,NZ,W6,$6),[qLe,GLe]=CZ(kf,H6,lE,Gx,z6,V6);function rT(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function nT(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function z1(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function KLe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=W1(i),u=H1(i),f=W1(a),d=H1(a),h=W1(s),g=H1(s),m=W1(o),v=H1(o),y=W1(l),b=H1(l),_={a:se,A:K,b:X,B:_e,c:null,d:yB,e:yB,f:vje,g:kje,G:Cje,H:pje,I:mje,j:gje,L:PZ,m:yje,M:xje,p:Se,q:P,Q:bB,s:_B,S:wje,u:bje,U:_je,V:Sje,w:Eje,W:Aje,x:null,X:null,y:Tje,Y:Nje,Z:Pje,"%":wB},N={a:U,A:V,b:z,B:ne,c:null,d:xB,e:xB,f:Rje,g:Wje,G:qje,H:Ije,I:Oje,j:Dje,L:OZ,m:Lje,M:jje,p:te,q:xe,Q:bB,s:_B,S:Fje,u:Mje,U:Bje,V:Uje,w:Vje,W:$je,x:null,X:null,y:zje,Y:Hje,Z:Gje,"%":wB},R={a:j,A:E,b:C,B:D,c:q,d:gB,e:gB,f:uje,g:mB,G:pB,H:vB,I:vB,j:sje,L:cje,m:aje,M:oje,p:T,q:ije,Q:dje,s:hje,S:lje,u:ZLe,U:eje,V:tje,w:QLe,W:rje,x:ee,X:le,y:mB,Y:pB,Z:nje,"%":fje};_.x=O(r,_),_.X=O(n,_),_.c=O(t,_),N.x=O(r,N),N.X=O(n,N),N.c=O(t,N);function O(oe,he){return function(Pe){var G=[],ze=-1,Ce=0,de=oe.length,it,Ve,ct;for(Pe instanceof Date||(Pe=new Date(+Pe));++ze<de;)oe.charCodeAt(ze)===37&&(G.push(oe.slice(Ce,ze)),(Ve=hB[it=oe.charAt(++ze)])!=null?it=oe.charAt(++ze):Ve=it==="e"?" ":"0",(ct=he[it])&&(it=ct(Pe,Ve)),G.push(it),Ce=ze+1);return G.push(oe.slice(Ce,ze)),G.join("")}}function k(oe,he){return function(Pe){var G=z1(1900,void 0,1),ze=S(G,oe,Pe+="",0),Ce,de;if(ze!=Pe.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(he&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Ce=nT(z1(G.y,0,1)),de=Ce.getUTCDay(),Ce=de>4||de===0?s5.ceil(Ce):s5(Ce),Ce=oE.offset(Ce,(G.V-1)*7),G.y=Ce.getUTCFullYear(),G.m=Ce.getUTCMonth(),G.d=Ce.getUTCDate()+(G.w+6)%7):(Ce=rT(z1(G.y,0,1)),de=Ce.getDay(),Ce=de>4||de===0?a5.ceil(Ce):a5(Ce),Ce=Gx.offset(Ce,(G.V-1)*7),G.y=Ce.getFullYear(),G.m=Ce.getMonth(),G.d=Ce.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),de="Z"in G?nT(z1(G.y,0,1)).getUTCDay():rT(z1(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(de+5)%7:G.w+G.U*7-(de+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,nT(G)):rT(G)}}function S(oe,he,Pe,G){for(var ze=0,Ce=he.length,de=Pe.length,it,Ve;ze<Ce;){if(G>=de)return-1;if(it=he.charCodeAt(ze++),it===37){if(it=he.charAt(ze++),Ve=R[it in hB?he.charAt(ze++):it],!Ve||(G=Ve(oe,Pe,G))<0)return-1}else if(it!=Pe.charCodeAt(G++))return-1}return G}function T(oe,he,Pe){var G=c.exec(he.slice(Pe));return G?(oe.p=u.get(G[0].toLowerCase()),Pe+G[0].length):-1}function j(oe,he,Pe){var G=h.exec(he.slice(Pe));return G?(oe.w=g.get(G[0].toLowerCase()),Pe+G[0].length):-1}function E(oe,he,Pe){var G=f.exec(he.slice(Pe));return G?(oe.w=d.get(G[0].toLowerCase()),Pe+G[0].length):-1}function C(oe,he,Pe){var G=y.exec(he.slice(Pe));return G?(oe.m=b.get(G[0].toLowerCase()),Pe+G[0].length):-1}function D(oe,he,Pe){var G=m.exec(he.slice(Pe));return G?(oe.m=v.get(G[0].toLowerCase()),Pe+G[0].length):-1}function q(oe,he,Pe){return S(oe,t,he,Pe)}function ee(oe,he,Pe){return S(oe,r,he,Pe)}function le(oe,he,Pe){return S(oe,n,he,Pe)}function se(oe){return s[oe.getDay()]}function K(oe){return a[oe.getDay()]}function X(oe){return l[oe.getMonth()]}function _e(oe){return o[oe.getMonth()]}function Se(oe){return i[+(oe.getHours()>=12)]}function P(oe){return 1+~~(oe.getMonth()/3)}function U(oe){return s[oe.getUTCDay()]}function V(oe){return a[oe.getUTCDay()]}function z(oe){return l[oe.getUTCMonth()]}function ne(oe){return o[oe.getUTCMonth()]}function te(oe){return i[+(oe.getUTCHours()>=12)]}function xe(oe){return 1+~~(oe.getUTCMonth()/3)}return{format:function(oe){var he=O(oe+="",_);return he.toString=function(){return oe},he},parse:function(oe){var he=k(oe+="",!1);return he.toString=function(){return oe},he},utcFormat:function(oe){var he=O(oe+="",N);return he.toString=function(){return oe},he},utcParse:function(oe){var he=k(oe+="",!0);return he.toString=function(){return oe},he}}}var hB={"-":"",_:" ",0:"0"},Fa=/^\s*\d+/,XLe=/^%/,YLe=/[\\^$*+?|[\]().{}]/g;function Yr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function JLe(e){return e.replace(YLe,"\\$&")}function W1(e){return new RegExp("^(?:"+e.map(JLe).join("|")+")","i")}function H1(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function QLe(e,t,r){var n=Fa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function ZLe(e,t,r){var n=Fa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function eje(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function tje(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function rje(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function pB(e,t,r){var n=Fa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function mB(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nje(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ije(e,t,r){var n=Fa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function aje(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function gB(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function sje(e,t,r){var n=Fa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function vB(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function oje(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function lje(e,t,r){var n=Fa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function cje(e,t,r){var n=Fa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function uje(e,t,r){var n=Fa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fje(e,t,r){var n=XLe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function dje(e,t,r){var n=Fa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function hje(e,t,r){var n=Fa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function yB(e,t){return Yr(e.getDate(),t,2)}function pje(e,t){return Yr(e.getHours(),t,2)}function mje(e,t){return Yr(e.getHours()%12||12,t,2)}function gje(e,t){return Yr(1+Gx.count(kf(e),e),t,3)}function PZ(e,t){return Yr(e.getMilliseconds(),t,3)}function vje(e,t){return PZ(e,t)+"000"}function yje(e,t){return Yr(e.getMonth()+1,t,2)}function xje(e,t){return Yr(e.getMinutes(),t,2)}function wje(e,t){return Yr(e.getSeconds(),t,2)}function bje(e){var t=e.getDay();return t===0?7:t}function _je(e,t){return Yr(lE.count(kf(e)-1,e),t,2)}function IZ(e){var t=e.getDay();return t>=4||t===0?_g(e):_g.ceil(e)}function Sje(e,t){return e=IZ(e),Yr(_g.count(kf(e),e)+(kf(e).getDay()===4),t,2)}function Eje(e){return e.getDay()}function Aje(e,t){return Yr(a5.count(kf(e)-1,e),t,2)}function Tje(e,t){return Yr(e.getFullYear()%100,t,2)}function kje(e,t){return e=IZ(e),Yr(e.getFullYear()%100,t,2)}function Nje(e,t){return Yr(e.getFullYear()%1e4,t,4)}function Cje(e,t){var r=e.getDay();return e=r>=4||r===0?_g(e):_g.ceil(e),Yr(e.getFullYear()%1e4,t,4)}function Pje(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Yr(t/60|0,"0",2)+Yr(t%60,"0",2)}function xB(e,t){return Yr(e.getUTCDate(),t,2)}function Ije(e,t){return Yr(e.getUTCHours(),t,2)}function Oje(e,t){return Yr(e.getUTCHours()%12||12,t,2)}function Dje(e,t){return Yr(1+oE.count(Nf(e),e),t,3)}function OZ(e,t){return Yr(e.getUTCMilliseconds(),t,3)}function Rje(e,t){return OZ(e,t)+"000"}function Lje(e,t){return Yr(e.getUTCMonth()+1,t,2)}function jje(e,t){return Yr(e.getUTCMinutes(),t,2)}function Fje(e,t){return Yr(e.getUTCSeconds(),t,2)}function Mje(e){var t=e.getUTCDay();return t===0?7:t}function Bje(e,t){return Yr(cE.count(Nf(e)-1,e),t,2)}function DZ(e){var t=e.getUTCDay();return t>=4||t===0?Sg(e):Sg.ceil(e)}function Uje(e,t){return e=DZ(e),Yr(Sg.count(Nf(e),e)+(Nf(e).getUTCDay()===4),t,2)}function Vje(e){return e.getUTCDay()}function $je(e,t){return Yr(s5.count(Nf(e)-1,e),t,2)}function zje(e,t){return Yr(e.getUTCFullYear()%100,t,2)}function Wje(e,t){return e=DZ(e),Yr(e.getUTCFullYear()%100,t,2)}function Hje(e,t){return Yr(e.getUTCFullYear()%1e4,t,4)}function qje(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Sg(e):Sg.ceil(e),Yr(e.getUTCFullYear()%1e4,t,4)}function Gje(){return"+0000"}function wB(){return"%"}function bB(e){return+e}function _B(e){return Math.floor(+e/1e3)}var Hp,RZ,LZ;Kje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Kje(e){return Hp=KLe(e),RZ=Hp.format,Hp.parse,LZ=Hp.utcFormat,Hp.utcParse,Hp}function Xje(e){return new Date(e)}function Yje(e){return e instanceof Date?+e:+new Date(+e)}function G6(e,t,r,n,i,a,s,o,l,c){var u=D6(),f=u.invert,d=u.domain,h=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),b=c("%b %d"),_=c("%B"),N=c("%Y");function R(O){return(l(O)<O?h:o(O)<O?g:s(O)<O?m:a(O)<O?v:n(O)<O?i(O)<O?y:b:r(O)<O?_:N)(O)}return u.invert=function(O){return new Date(f(O))},u.domain=function(O){return arguments.length?d(Array.from(O,Yje)):d().map(Xje)},u.ticks=function(O){var k=d();return e(k[0],k[k.length-1],O??10)},u.tickFormat=function(O,k){return k==null?R:c(k)},u.nice=function(O){var k=d();return(!O||typeof O.range!="function")&&(O=t(k[0],k[k.length-1],O??10)),O?d(bZ(k,O)):u},u.copy=function(){return qx(u,G6(e,t,r,n,i,a,s,o,l,c))},u}function Jje(){return Xl.apply(G6(qLe,GLe,kf,H6,lE,Gx,z6,V6,y0,RZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Qje(){return Xl.apply(G6(WLe,HLe,Nf,q6,cE,oE,W6,$6,y0,LZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uE(){var e=0,t=1,r,n,i,a,s=zs,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(d){var h,g;return arguments.length?([h,g]=d,s=f(h,g),c):[s(0),s(1)]}}return c.range=u(Yg),c.rangeRound=u(O6),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return a=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),c}}function Oh(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jZ(){var e=Ih(uE()(zs));return e.copy=function(){return Oh(e,jZ())},Bf.apply(e,arguments)}function FZ(){var e=j6(uE()).domain([1,10]);return e.copy=function(){return Oh(e,FZ()).base(e.base())},Bf.apply(e,arguments)}function MZ(){var e=F6(uE());return e.copy=function(){return Oh(e,MZ()).constant(e.constant())},Bf.apply(e,arguments)}function K6(){var e=M6(uE());return e.copy=function(){return Oh(e,K6()).exponent(e.exponent())},Bf.apply(e,arguments)}function Zje(){return K6.apply(null,arguments).exponent(.5)}function BZ(){var e=[],t=zs;function r(n){if(n!=null&&!isNaN(n=+n))return t((Wx(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(qd),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>M8e(e,a/n))},r.copy=function(){return BZ(t).domain(e)},Bf.apply(r,arguments)}function fE(){var e=0,t=.5,r=1,n=1,i,a,s,o,l,c=zs,u,f=!1,d;function h(m){return isNaN(m=+m)?d:(m=.5+((m=+u(m))-a)*(n*m<n*a?o:l),c(f?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,r]=m,i=u(e=+e),a=u(t=+t),s=u(r=+r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h):[e,t,r]},h.clamp=function(m){return arguments.length?(f=!!m,h):f},h.interpolator=function(m){return arguments.length?(c=m,h):c};function g(m){return function(v){var y,b,_;return arguments.length?([y,b,_]=v,c=fLe(m,[y,b,_]),h):[c(0),c(.5),c(1)]}}return h.range=g(Yg),h.rangeRound=g(O6),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return u=m,i=m(e),a=m(t),s=m(r),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),n=a<i?-1:1,h}}function UZ(){var e=Ih(fE()(zs));return e.copy=function(){return Oh(e,UZ())},Bf.apply(e,arguments)}function VZ(){var e=j6(fE()).domain([.1,1,10]);return e.copy=function(){return Oh(e,VZ()).base(e.base())},Bf.apply(e,arguments)}function $Z(){var e=F6(fE());return e.copy=function(){return Oh(e,$Z()).constant(e.constant())},Bf.apply(e,arguments)}function X6(){var e=M6(fE());return e.copy=function(){return Oh(e,X6()).exponent(e.exponent())},Bf.apply(e,arguments)}function eFe(){return X6.apply(null,arguments).exponent(.5)}const ov=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:C6,scaleDiverging:UZ,scaleDivergingLog:VZ,scaleDivergingPow:X6,scaleDivergingSqrt:eFe,scaleDivergingSymlog:$Z,scaleIdentity:wZ,scaleImplicit:nC,scaleLinear:xZ,scaleLog:_Z,scaleOrdinal:N6,scalePoint:V8e,scalePow:B6,scaleQuantile:AZ,scaleQuantize:TZ,scaleRadial:EZ,scaleSequential:jZ,scaleSequentialLog:FZ,scaleSequentialPow:K6,scaleSequentialQuantile:BZ,scaleSequentialSqrt:Zje,scaleSequentialSymlog:MZ,scaleSqrt:RLe,scaleSymlog:SZ,scaleThreshold:kZ,scaleTime:Jje,scaleUtc:Qje,tickFormat:yZ},Symbol.toStringTag,{value:"Module"}));var Dh=e=>e.chartData,Y6=Me([Dh],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Kx=(e,t,r,n)=>n?Y6(e):Dh(e);function Eg(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(rs(t)&&rs(r))return!0}return!1}function SB(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function tFe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,a;if(rs(r))i=r;else if(typeof r=="function")return;if(rs(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(Eg(s))return s}}function rFe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Eg(n))return SB(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Dt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&v9.test(i)){var l=v9.exec(i);if(l==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Dt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&y9.test(a)){var u=y9.exec(a);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t==null?void 0:t[1];var d=[s,o];if(Eg(d))return t==null?d:SB(d,t,r)}}}var Jg=1e9,nFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Q6,Qn=!0,Hl="[DecimalError] ",R0=Hl+"Invalid argument: ",J6=Hl+"Exponent out of range: ",Qg=Math.floor,i0=Math.pow,iFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ko,Ta=1e7,Bn=7,zZ=9007199254740991,o5=Qg(zZ/Bn),Tt={};Tt.absoluteValue=Tt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Tt.comparedTo=Tt.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Tt.decimalPlaces=Tt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Bn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Tt.dividedBy=Tt.div=function(e){return ff(this,new this.constructor(e))};Tt.dividedToIntegerBy=Tt.idiv=function(e){var t=this,r=t.constructor;return Nn(ff(t,new r(e),0,1),r.precision)};Tt.equals=Tt.eq=function(e){return!this.cmp(e)};Tt.exponent=function(){return na(this)};Tt.greaterThan=Tt.gt=function(e){return this.cmp(e)>0};Tt.greaterThanOrEqualTo=Tt.gte=function(e){return this.cmp(e)>=0};Tt.isInteger=Tt.isint=function(){return this.e>this.d.length-2};Tt.isNegative=Tt.isneg=function(){return this.s<0};Tt.isPositive=Tt.ispos=function(){return this.s>0};Tt.isZero=function(){return this.s===0};Tt.lessThan=Tt.lt=function(e){return this.cmp(e)<0};Tt.lessThanOrEqualTo=Tt.lte=function(e){return this.cmp(e)<1};Tt.logarithm=Tt.log=function(e){var t,r=this,n=r.constructor,i=n.precision,a=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ko))throw Error(Hl+"NaN");if(r.s<1)throw Error(Hl+(r.s?"NaN":"-Infinity"));return r.eq(Ko)?new n(0):(Qn=!1,t=ff(Qy(r,a),Qy(e,a),a),Qn=!0,Nn(t,i))};Tt.minus=Tt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qZ(t,e):WZ(t,(e.s=-e.s,e))};Tt.modulo=Tt.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Hl+"NaN");return r.s?(Qn=!1,t=ff(r,e,0,1).times(e),Qn=!0,r.minus(t)):Nn(new n(r),i)};Tt.naturalExponential=Tt.exp=function(){return HZ(this)};Tt.naturalLogarithm=Tt.ln=function(){return Qy(this)};Tt.negated=Tt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Tt.plus=Tt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WZ(t,e):qZ(t,(e.s=-e.s,e))};Tt.precision=Tt.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(R0+e);if(t=na(i)+1,n=i.d.length-1,r=n*Bn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Tt.squareRoot=Tt.sqrt=function(){var e,t,r,n,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Hl+"NaN")}for(e=na(o),Qn=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=ru(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Qg((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(i.toString()),r=l.precision,i=s=r+3;;)if(a=n,n=a.plus(ff(o,a,s+2)).times(.5),ru(a.d).slice(0,s)===(t=ru(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Nn(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(t!="9999")break;s+=4}return Qn=!0,Nn(n,r)};Tt.times=Tt.mul=function(e){var t,r,n,i,a,s,o,l,c,u=this,f=u.constructor,d=u.d,h=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=d.length,c=h.length,l<c&&(a=d,d=h,h=a,s=l,l=c,c=s),a=[],s=l+c,n=s;n--;)a.push(0);for(n=c;--n>=0;){for(t=0,i=l+n;i>n;)o=a[i]+h[n]*d[i-n-1]+t,a[i--]=o%Ta|0,t=o/Ta|0;a[i]=(a[i]+t)%Ta|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,Qn?Nn(e,f.precision):e};Tt.toDecimalPlaces=Tt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(vu(e,0,Jg),t===void 0?t=n.rounding:vu(t,0,8),Nn(r,e+na(r)+1,t))};Tt.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=op(n,!0):(vu(e,0,Jg),t===void 0?t=i.rounding:vu(t,0,8),n=Nn(new i(n),e+1,t),r=op(n,!0,e+1)),r};Tt.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?op(i):(vu(e,0,Jg),t===void 0?t=a.rounding:vu(t,0,8),n=Nn(new a(i),e+na(i)+1,t),r=op(n.abs(),!1,e+na(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Tt.toInteger=Tt.toint=function(){var e=this,t=e.constructor;return Nn(new t(e),na(e)+1,t.rounding)};Tt.toNumber=function(){return+this};Tt.toPower=Tt.pow=function(e){var t,r,n,i,a,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Ko);if(o=new l(o),!o.s){if(e.s<1)throw Error(Hl+"Infinity");return o}if(o.eq(Ko))return o;if(n=l.precision,e.eq(Ko))return Nn(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,a=o.s,s){if((r=u<0?-u:u)<=zZ){for(i=new l(Ko),t=Math.ceil(n/Bn+4),Qn=!1;r%2&&(i=i.times(o),AB(i.d,t)),r=Qg(r/2),r!==0;)o=o.times(o),AB(o.d,t);return Qn=!0,e.s<0?new l(Ko).div(i):Nn(i,n)}}else if(a<0)throw Error(Hl+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Qn=!1,i=e.times(Qy(o,n+c)),Qn=!0,i=HZ(i),i.s=a,i};Tt.toPrecision=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?(r=na(i),n=op(i,r<=a.toExpNeg||r>=a.toExpPos)):(vu(e,1,Jg),t===void 0?t=a.rounding:vu(t,0,8),i=Nn(new a(i),e,t),r=na(i),n=op(i,e<=r||r<=a.toExpNeg,e)),n};Tt.toSignificantDigits=Tt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(vu(e,1,Jg),t===void 0?t=n.rounding:vu(t,0,8)),Nn(new n(r),e,t)};Tt.toString=Tt.valueOf=Tt.val=Tt.toJSON=Tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=na(e),r=e.constructor;return op(e,t<=r.toExpNeg||t>=r.toExpPos)};function WZ(e,t){var r,n,i,a,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Qn?Nn(t,f):t;if(l=e.d,c=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(n=l,a=-a,o=c.length):(n=c,i=s,o=l.length),s=Math.ceil(f/Bn),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=l.length,a=c.length,o-a<0&&(a=o,n=c,c=l,l=n),r=0;a;)r=(l[--a]=l[a]+c[a]+r)/Ta|0,l[a]%=Ta;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,Qn?Nn(t,f):t}function vu(e,t,r){if(e!==~~e||e<t||e>r)throw Error(R0+e)}function ru(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)n=e[t]+"",r=Bn-n.length,r&&(a+=yd(r)),a+=n;s=e[t],n=s+"",r=Bn-n.length,r&&(a+=yd(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var ff=function(){function e(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%Ta|0,s=a/Ta|0;return s&&n.unshift(s),n}function t(n,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*Ta+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,l,c,u,f,d,h,g,m,v,y,b,_,N,R,O,k,S,T=n.constructor,j=n.s==i.s?1:-1,E=n.d,C=i.d;if(!n.s)return new T(n);if(!i.s)throw Error(Hl+"Division by zero");for(l=n.e-i.e,k=C.length,R=E.length,h=new T(j),g=h.d=[],c=0;C[c]==(E[c]||0);)++c;if(C[c]>(E[c]||0)&&--l,a==null?b=a=T.precision:s?b=a+(na(n)-na(i))+1:b=a,b<0)return new T(0);if(b=b/Bn+2|0,c=0,k==1)for(u=0,C=C[0],b++;(c<R||u)&&b--;c++)_=u*Ta+(E[c]||0),g[c]=_/C|0,u=_%C|0;else{for(u=Ta/(C[0]+1)|0,u>1&&(C=e(C,u),E=e(E,u),k=C.length,R=E.length),N=k,m=E.slice(0,k),v=m.length;v<k;)m[v++]=0;S=C.slice(),S.unshift(0),O=C[0],C[1]>=Ta/2&&++O;do u=0,o=t(C,m,k,v),o<0?(y=m[0],k!=v&&(y=y*Ta+(m[1]||0)),u=y/O|0,u>1?(u>=Ta&&(u=Ta-1),f=e(C,u),d=f.length,v=m.length,o=t(f,m,d,v),o==1&&(u--,r(f,k<d?S:C,d))):(u==0&&(o=u=1),f=C.slice()),d=f.length,d<v&&f.unshift(0),r(m,f,v),o==-1&&(v=m.length,o=t(C,m,k,v),o<1&&(u++,r(m,k<v?S:C,v))),v=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[v++]=E[N]||0:(m=[E[N]],v=1);while((N++<R||m[0]!==void 0)&&b--)}return g[0]||g.shift(),h.e=l,Nn(h,s?a+na(h)+1:a)}}();function HZ(e,t){var r,n,i,a,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(na(e)>16)throw Error(J6+na(e));if(!e.s)return new u(Ko);for(Qn=!1,o=f,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(i0(2,c))/Math.LN10*2+5|0,o+=n,r=i=a=new u(Ko),u.precision=o;;){if(i=Nn(i.times(e),o),r=r.times(++l),s=a.plus(ff(i,r,o)),ru(s.d).slice(0,o)===ru(a.d).slice(0,o)){for(;c--;)a=Nn(a.times(a),o);return u.precision=f,t==null?(Qn=!0,Nn(a,f)):a}a=s}}function na(e){for(var t=e.e*Bn,r=e.d[0];r>=10;r/=10)t++;return t}function iT(e,t,r){if(t>e.LN10.sd())throw Qn=!0,r&&(e.precision=r),Error(Hl+"LN10 precision limit exceeded");return Nn(new e(e.LN10),t)}function yd(e){for(var t="";e--;)t+="0";return t}function Qy(e,t){var r,n,i,a,s,o,l,c,u,f=1,d=10,h=e,g=h.d,m=h.constructor,v=m.precision;if(h.s<1)throw Error(Hl+(h.s?"NaN":"-Infinity"));if(h.eq(Ko))return new m(0);if(t==null?(Qn=!1,c=v):c=t,h.eq(10))return t==null&&(Qn=!0),iT(m,c);if(c+=d,m.precision=c,r=ru(g),n=r.charAt(0),a=na(h),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=ru(h.d),n=r.charAt(0),f++;a=na(h),n>1?(h=new m("0."+r),a++):h=new m(n+"."+r.slice(1))}else return l=iT(m,c+2,v).times(a+""),h=Qy(new m(n+"."+r.slice(1)),c-d).plus(l),m.precision=v,t==null?(Qn=!0,Nn(h,v)):h;for(o=s=h=ff(h.minus(Ko),h.plus(Ko),c),u=Nn(h.times(h),c),i=3;;){if(s=Nn(s.times(u),c),l=o.plus(ff(s,new m(i),c)),ru(l.d).slice(0,c)===ru(o.d).slice(0,c))return o=o.times(2),a!==0&&(o=o.plus(iT(m,c+2,v).times(a+""))),o=ff(o,new m(f),c),m.precision=v,t==null?(Qn=!0,Nn(o,v)):o;o=l,i+=2}}function EB(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Qg(r/Bn),e.d=[],n=(r+1)%Bn,r<0&&(n+=Bn),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Bn;n<i;)e.d.push(+t.slice(n,n+=Bn));t=t.slice(n),n=Bn-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Qn&&(e.e>o5||e.e<-o5))throw Error(J6+r)}else e.s=0,e.e=0,e.d=[0];return e}function Nn(e,t,r){var n,i,a,s,o,l,c,u,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(n=t-s,n<0)n+=Bn,i=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Bn),a=f.length,u>=a)return e;for(c=a=f[u],s=1;a>=10;a/=10)s++;n%=Bn,i=n-Bn+s}if(r!==void 0&&(a=i0(10,s-i-1),o=c/a%10|0,l=t<0||f[u+1]!==void 0||c%a,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?c/i0(10,s-i):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(a=na(e),f.length=1,t=t-a-1,f[0]=i0(10,(Bn-t%Bn)%Bn),e.e=Qg(-t/Bn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,a=1,u--):(f.length=u+1,a=i0(10,Bn-n),f[u]=i>0?(c/i0(10,s-i)%i0(10,i)|0)*a:0),l)for(;;)if(u==0){(f[0]+=a)==Ta&&(f[0]=1,++e.e);break}else{if(f[u]+=a,f[u]!=Ta)break;f[u--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Qn&&(e.e>o5||e.e<-o5))throw Error(J6+na(e));return e}function qZ(e,t){var r,n,i,a,s,o,l,c,u,f,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new d(e),Qn?Nn(t,h):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),i=Math.max(Math.ceil(h/Bn),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=Ta-1;--l[a],l[i]+=Ta}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Qn?Nn(t,h):t):new d(0)}function op(e,t,r){var n,i=na(e),a=ru(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+yd(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+yd(-i-1)+a,r&&(n=r-s)>0&&(a+=yd(n))):i>=s?(a+=yd(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+yd(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=yd(n))),e.s<0?"-"+a:a}function AB(e,t){if(e.length>t)return e.length=t,!0}function GZ(e){var t,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(R0+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return EB(s,a.toString())}else if(typeof a!="string")throw Error(R0+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,iFe.test(a))EB(s,a);else throw Error(R0+a)}if(i.prototype=Tt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=GZ,i.config=i.set=aFe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function aFe(e){if(!e||typeof e!="object")throw Error(Hl+"Object expected");var t,r,n,i=["precision",1,Jg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Qg(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(R0+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(R0+r+": "+n);return this}var Q6=GZ(nFe);Ko=new Q6(1);const dn=Q6;var sFe=e=>e,KZ={},XZ=e=>e===KZ,TB=e=>function t(){return arguments.length===0||arguments.length===1&&XZ(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},YZ=(e,t)=>e===1?t:TB(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var a=n.filter(s=>s!==KZ).length;return a>=e?t(...n):YZ(e-a,TB(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=n.map(u=>XZ(u)?o.shift():u);return t(...c,...o)}))}),dE=e=>YZ(e.length,e),oC=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},oFe=dE((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),lFe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return sFe;var i=r.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}},lC=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),JZ=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t&&i.every((s,o)=>{var l;return s===((l=t)===null||l===void 0?void 0:l[o])})||(t=i,r=e(...i)),r}};function QZ(e){var t;return e===0?t=1:t=Math.floor(new dn(e).abs().log(10).toNumber())+1,t}function ZZ(e,t,r){for(var n=new dn(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}dE((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});dE((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});dE((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var eee=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},tee=(e,t,r)=>{if(e.lte(0))return new dn(0);var n=QZ(e.toNumber()),i=new dn(10).pow(n),a=e.div(i),s=n!==1?.05:.1,o=new dn(Math.ceil(a.div(s).toNumber())).add(r).mul(s),l=o.mul(i);return t?new dn(l.toNumber()):new dn(Math.ceil(l.toNumber()))},cFe=(e,t,r)=>{var n=new dn(1),i=new dn(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new dn(10).pow(QZ(e)-1),i=new dn(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new dn(Math.floor(e)))}else e===0?i=new dn(Math.floor((t-1)/2)):r||(i=new dn(Math.floor(e)));var s=Math.floor((t-1)/2),o=lFe(oFe(l=>i.add(new dn(l-s).mul(n)).toNumber()),oC);return o(0,t)},ree=function(t,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new dn(0),tickMin:new dn(0),tickMax:new dn(0)};var s=tee(new dn(r).sub(t).div(n-1),i,a),o;t<=0&&r>=0?o=new dn(0):(o=new dn(t).add(r).div(2),o=o.sub(new dn(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new dn(r).sub(o).div(s).toNumber()),u=l+c+1;return u>n?ree(t,r,n,i,a+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:s,tickMin:o.sub(new dn(l).mul(s)),tickMax:o.add(new dn(c).mul(s))})};function uFe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(n,2),[s,o]=eee([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...oC(0,n-1).map(()=>1/0)]:[...oC(0,n-1).map(()=>-1/0),o];return t>r?lC(l):l}if(s===o)return cFe(s,n,i);var{step:c,tickMin:u,tickMax:f}=ree(s,o,a,i,0),d=ZZ(u,f.add(new dn(.1).mul(c)),c);return t>r?lC(d):d}function fFe(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,s]=eee([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(t,2),l=tee(new dn(s).sub(a).div(o-1),i,0),c=[...ZZ(new dn(a),new dn(s),l),s];return i===!1&&(c=c.map(u=>Math.round(u))),r>n?lC(c):c}var dFe=JZ(uFe),hFe=JZ(fFe),nee=e=>e.rootProps.maxBarSize,pFe=e=>e.rootProps.barGap,iee=e=>e.rootProps.barCategoryGap,mFe=e=>e.rootProps.barSize,Xx=e=>e.rootProps.stackOffset,Z6=e=>e.options.chartName,eO=e=>e.rootProps.syncId,aee=e=>e.rootProps.syncMethod,tO=e=>e.options.eventEmitter,zu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Bo={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},hE=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},gFe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:zu.angleAxisId,includeHidden:!1,name:void 0,reversed:zu.reversed,scale:zu.scale,tick:zu.tick,tickCount:void 0,ticks:void 0,type:zu.type,unit:void 0},vFe={allowDataOverflow:Bo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bo.scale,tick:Bo.tick,tickCount:Bo.tickCount,ticks:void 0,type:Bo.type,unit:void 0},yFe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:zu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zu.scale,tick:zu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xFe={allowDataOverflow:Bo.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Bo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Bo.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Bo.scale,tick:Bo.tick,tickCount:Bo.tickCount,ticks:void 0,type:"category",unit:void 0},rO=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?yFe:gFe,nO=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?xFe:vFe,pE=e=>e.polarOptions,iO=Me([jf,Ff,va],MQ),see=Me([pE,iO],(e,t)=>{if(e!=null)return As(e.innerRadius,t,0)}),oee=Me([pE,iO],(e,t)=>{if(e!=null)return As(e.outerRadius,t,t*.8)}),wFe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},lee=Me([pE],wFe);Me([rO,lee],hE);var cee=Me([iO,see,oee],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Me([nO,cee],hE);var uee=Me([Nr,pE,see,oee,jf,Ff],(e,t,r,n,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:As(s,i,i/2),cy:As(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),ei=(e,t)=>t,Yx=(e,t,r)=>r;function mE(e){return e==null?void 0:e.id}var wa=e=>{var t=Nr(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Zg=e=>e.tooltip.settings.axisId,Ma=e=>{var t=wa(e),r=Zg(e);return Jx(e,t,r)},fee=Me([Ma],e=>e==null?void 0:e.dataKey);function dee(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=mE(o);c.forEach((f,d)=>{var h=a==null||i?d:String(Sn(f,a,null)),g=Sn(f,o.dataKey,0),m;s.has(h)?m=s.get(h):m={},Object.assign(m,{[u]:g}),s.set(h,m)})}}),Array.from(s.values())}function gE(e){return e.stackId!=null&&e.dataKey!=null}function kB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function l5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kB(Object(r),!0).forEach(function(n){bFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bFe(e,t,r){return(t=_Fe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Fe(e){var t=SFe(e,"string");return typeof t=="symbol"?t:t+""}function SFe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cC=[0,"auto"],jo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},hee=(e,t)=>e.cartesianAxis.xAxis[t],Uf=(e,t)=>{var r=hee(e,t);return r??jo},Fo={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:cC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:$x},pee=(e,t)=>e.cartesianAxis.yAxis[t],Vf=(e,t)=>{var r=pee(e,t);return r??Fo},EFe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aO=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??EFe},zi=(e,t,r)=>{switch(t){case"xAxis":return Uf(e,r);case"yAxis":return Vf(e,r);case"zAxis":return aO(e,r);case"angleAxis":return rO(e,r);case"radiusAxis":return nO(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},AFe=(e,t,r)=>{switch(t){case"xAxis":return Uf(e,r);case"yAxis":return Vf(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Jx=(e,t,r)=>{switch(t){case"xAxis":return Uf(e,r);case"yAxis":return Vf(e,r);case"angleAxis":return rO(e,r);case"radiusAxis":return nO(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mee=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function sO(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Qx=e=>e.graphicalItems.cartesianItems,TFe=Me([ei,Yx],sO),oO=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Zx=Me([Qx,zi,TFe],oO),gee=Me([Zx],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(gE)),vee=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),yee=Me([Zx],vee),lO=e=>e.map(t=>t.data).filter(Boolean).flat(1),kFe=Me([Zx],lO),cO=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},uO=Me([kFe,Kx],cO),fO=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Sn(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Sn(i,n)}))):e.map(n=>({value:n})),vE=Me([uO,zi,Zx],fO);function xee(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Cp(e){return e.filter(t=>gu(t)||t instanceof Date).map(Number).filter(t=>bo(t)===!1)}function NFe(e,t,r){return!r||typeof t!="number"||bo(t)?[]:r.length?Cp(r.flatMap(n=>{var i=Sn(e,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!rs(a)||!rs(s)))return[t-a,t+s]})):[]}var CFe=Me([gee,Kx,Ma],dee),wee=(e,t,r)=>{var n={},i=t.reduce((a,s)=>(s.stackId==null||(a[s.stackId]==null&&(a[s.stackId]=[]),a[s.stackId].push(s)),a),n);return Object.fromEntries(Object.entries(i).map(a=>{var[s,o]=a,l=o.map(mE);return[s,{stackedData:MDe(e,l,r),graphicalItems:o}]}))},Zy=Me([CFe,gee,Xx],wee),bee=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var a=$De(e,n,i);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},PFe=Me([Zy,Dh,ei],bee),_ee=(e,t,r,n,i)=>r.length>0?e.flatMap(a=>r.flatMap(s=>{var o,l,c=(o=n[s.id])===null||o===void 0?void 0:o.filter(f=>xee(i,f)),u=Sn(a,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:u,errorDomain:NFe(a,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(a=>({value:Sn(a,t.dataKey),errorDomain:[]})):e.map(a=>({value:a,errorDomain:[]})),yE=e=>e.errorBars,See=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>xee(r,n));Me([yee,yE,ei],See);var IFe=Me([uO,zi,yee,yE,ei],_ee);function OFe(e){var{value:t}=e;if(gu(t)||t instanceof Date)return t}var NB=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Cp(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},DFe=(e,t,r)=>{var n=e.map(OFe).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&vJ(n))?lZ(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},dO=e=>{var t;if(e==null||!("domain"in e))return cC;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Cp(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:cC},c5=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},Eee=e=>e.referenceElements.dots,e1=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),RFe=Me([Eee,ei,Yx],e1),Aee=e=>e.referenceElements.areas,LFe=Me([Aee,ei,Yx],e1),Tee=e=>e.referenceElements.lines,jFe=Me([Tee,ei,Yx],e1),kee=(e,t)=>{var r=Cp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},FFe=Me(RFe,ei,kee),Nee=(e,t)=>{var r=Cp(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},MFe=Me([LFe,ei],Nee),Cee=(e,t)=>{var r=Cp(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},BFe=Me(jFe,ei,Cee),UFe=Me(FFe,BFe,MFe,(e,t,r)=>c5(e,r,t)),Pee=Me([zi],dO),hO=(e,t,r,n,i,a,s)=>{var o=tFe(t,e.allowDataOverflow);if(o!=null)return o;var l=a==="vertical"&&s==="xAxis"||a==="horizontal"&&s==="yAxis",c=l?c5(r,i,NB(n)):c5(i,NB(n));return rFe(t,c,e.allowDataOverflow)},VFe=Me([zi,Pee,PFe,IFe,UFe,Nr,ei],hO),$Fe=[0,1],pO=(e,t,r,n,i,a,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=Eu(t,a);return c&&o==null?lZ(0,r.length):l==="category"?DFe(n,e,c):i==="expand"?$Fe:s}},mO=Me([zi,Nr,uO,vE,Xx,ei,VFe],pO),Iee=(e,t,r,n,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Mx(a));return o in ov?o:"point"}}},t1=Me([zi,Nr,mee,Z6,ei],Iee);function zFe(e){if(e!=null){if(e in ov)return ov[e]();var t="scale".concat(Mx(e));if(t in ov)return ov[t]()}}function gO(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=zFe(t);if(i!=null){var a=i.domain(r).range(n);return DDe(a),a}}}var vO=(e,t,r)=>{var n=dO(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Eg(e))return dFe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Eg(e))return hFe(e,t.tickCount,t.allowDecimals)}},yO=Me([mO,Jx,t1],vO),xO=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Eg(t)&&Array.isArray(r)&&r.length>0){var i=t[0],a=r[0],s=t[1],o=r[r.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},WFe=Me([zi,mO,yO,ei],xO),HFe=Me(vE,zi,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Cp(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var a=0;a<n.length-1;a++){var s=n[a+1]-n[a];r=Math.min(r,s)}return r/i}}),Oee=Me(HFe,Nr,iee,va,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!rs(e))return 0;var a=t==="vertical"?n.height:n.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=As(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),qFe=(e,t)=>{var r=Uf(e,t);return r==null||typeof r.padding!="string"?0:Oee(e,"xAxis",t,r.padding)},GFe=(e,t)=>{var r=Vf(e,t);return r==null||typeof r.padding!="string"?0:Oee(e,"yAxis",t,r.padding)},KFe=Me(Uf,qFe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),XFe=Me(Vf,GFe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),YFe=Me([va,KFe,iE,nE,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),JFe=Me([va,Nr,XFe,iE,nE,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),e2=(e,t,r,n)=>{var i;switch(t){case"xAxis":return YFe(e,r,n);case"yAxis":return JFe(e,r,n);case"zAxis":return(i=aO(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return lee(e);case"radiusAxis":return cee(e,r);default:return}},Dee=Me([zi,e2],hE),r1=Me([zi,t1,WFe,Dee],gO);Me([Zx,yE,ei],See);function Ree(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var xE=(e,t)=>t,wE=(e,t,r)=>r,QFe=Me(tE,xE,wE,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Ree)),ZFe=Me(rE,xE,wE,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Ree)),Lee=(e,t)=>({width:e.width,height:t.height}),eMe=(e,t)=>{var r=typeof t.width=="number"?t.width:$x;return{width:r,height:e.height}},jee=Me(va,Uf,Lee),tMe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},rMe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},nMe=Me(Ff,va,QFe,xE,wE,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=Lee(t,o);s==null&&(s=tMe(t,n,e));var c=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),a}),iMe=Me(jf,va,ZFe,xE,wE,(e,t,r,n,i)=>{var a={},s;return r.forEach(o=>{var l=eMe(t,o);s==null&&(s=rMe(t,n,e));var c=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),a}),aMe=(e,t)=>{var r=Uf(e,t);if(r!=null)return nMe(e,r.orientation,r.mirror)},sMe=Me([va,Uf,aMe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),oMe=(e,t)=>{var r=Vf(e,t);if(r!=null)return iMe(e,r.orientation,r.mirror)},lMe=Me([va,Vf,oMe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),Fee=Me(va,Vf,(e,t)=>{var r=typeof t.width=="number"?t.width:$x;return{width:r,height:e.height}}),CB=(e,t,r)=>{switch(t){case"xAxis":return jee(e,r).width;case"yAxis":return Fee(e,r).height;default:return}},Mee=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=Eu(e,n),l=t.map(c=>c.value);if(s&&o&&a==="category"&&i&&vJ(l))return l}},wO=Me([Nr,vE,zi,ei],Mee),Bee=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=Eu(e,n);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},bO=Me([Nr,vE,Jx,ei],Bee),PB=Me([Nr,AFe,t1,r1,wO,bO,e2,yO,ei],(e,t,r,n,i,a,s,o,l)=>{if(t==null)return null;var c=Eu(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}),cMe=(e,t,r,n,i,a,s,o,l)=>{if(!(t==null||n==null)){var c=Eu(e,l),{type:u,ticks:f,tickCount:d}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=u==="category"&&n.bandwidth?n.bandwidth()/h:0;g=l==="angleAxis"&&a!=null&&a.length>=2?Da(a[0]-a[1])*2*g:g;var m=f||i;if(m){var v=m.map((y,b)=>{var _=s?s.indexOf(y):y;return{index:b,coordinate:n(_)+g,value:y,offset:g}});return v.filter(y=>!bo(y.coordinate))}return c&&o?o.map((y,b)=>({coordinate:n(y)+g,value:y,index:b,offset:g})):n.ticks?n.ticks(d).map(y=>({coordinate:n(y)+g,value:y,offset:g})):n.domain().map((y,b)=>({coordinate:n(y)+g,value:s?s[y]:y,index:b,offset:g}))}},Uee=Me([Nr,Jx,t1,r1,yO,e2,wO,bO,ei],cMe),uMe=(e,t,r,n,i,a,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Eu(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Da(n[0]-n[1])*2*c:c,o&&a?a.map((u,f)=>({coordinate:r(u)+c,value:u,index:f,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,f)=>({coordinate:r(u)+c,value:i?i[u]:u,index:f,offset:c}))}},yu=Me([Nr,Jx,r1,e2,wO,bO,ei],uMe),xu=Me(zi,r1,(e,t)=>{if(!(e==null||t==null))return l5(l5({},e),{},{scale:t})}),fMe=Me([zi,t1,mO,Dee],gO);Me((e,t,r)=>aO(e,r),fMe,(e,t)=>{if(!(e==null||t==null))return l5(l5({},e),{},{scale:t})});var dMe=Me([Nr,tE,rE],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Vee=e=>e.options.defaultTooltipEventType,$ee=e=>e.options.validateTooltipEventTypes;function zee(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function _O(e,t){var r=Vee(e),n=$ee(e);return zee(t,r,n)}function hMe(e){return It(t=>_O(t,e))}var Wee=(e,t)=>{var r,n=Number(t);if(!(bo(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},pMe=e=>e.tooltip.settings,Td={active:!1,index:null,dataKey:void 0,coordinate:void 0},mMe={itemInteraction:{click:Td,hover:Td},axisInteraction:{click:Td,hover:Td},keyboardInteraction:Td,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Hee=ul({name:"tooltip",initialState:mMe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=uf(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:gMe,removeTooltipEntrySettings:vMe,setTooltipSettingsState:yMe,setActiveMouseOverItemIndex:qee,mouseLeaveItem:xMe,mouseLeaveChart:Gee,setActiveClickItemIndex:wMe,setMouseOverAxisIndex:Kee,setMouseClickAxisIndex:bMe,setSyncInteraction:uC,setKeyboardInteraction:fC}=Hee.actions,_Me=Hee.reducer;function IB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IB(Object(r),!0).forEach(function(n){SMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SMe(e,t,r){return(t=EMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EMe(e){var t=AMe(e,"string");return typeof t=="symbol"?t:t+""}function AMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TMe(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function kMe(e){return e.index!=null}var Xee=(e,t,r,n)=>{if(t==null)return Td;var i=TMe(e,t,r);if(i==null)return Td;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(kMe(i)){if(a)return Dw(Dw({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Dw(Dw({},Td),{},{coordinate:i.coordinate})},SO=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!rs(n))return r;var i=0,a=1/0;return t.length>0&&(a=t.length-1),String(Math.max(i,Math.min(n,a)))},Yee=(e,t,r,n,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,a);if(c!=null)return c;var u=i==null?void 0:i[Number(a)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},Jee=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(a=>{var s;return((s=a.settings)===null||s===void 0?void 0:s.dataKey)===i})},t2=e=>e.options.tooltipPayloadSearcher,n1=e=>e.tooltip;function OB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OB(Object(r),!0).forEach(function(n){NMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NMe(e,t,r){return(t=CMe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CMe(e){var t=PMe(e,"string");return typeof t=="symbol"?t:t+""}function PMe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IMe(e,t){return e??t}var Qee=(e,t,r,n,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,f=[];return e.reduce((d,h)=>{var g,{dataDefinedOnItem:m,settings:v}=h,y=IMe(m,o),b=Array.isArray(y)?BQ(y,c,u):y,_=(g=v==null?void 0:v.dataKey)!==null&&g!==void 0?g:n,N=v==null?void 0:v.nameKey,R;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?R=yJ(b,n,i):R=a(b,t,l,N),Array.isArray(R))R.forEach(k=>{var S=DB(DB({},v),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});d.push(x9({tooltipEntrySettings:S,dataKey:k.dataKey,payload:k.payload,value:Sn(k.payload,k.dataKey),name:k.name}))});else{var O;d.push(x9({tooltipEntrySettings:v,dataKey:_,payload:R,value:Sn(R,_),name:(O=Sn(R,N))!==null&&O!==void 0?O:v==null?void 0:v.name}))}return d},f)}},EO=Me([Ma,Nr,mee,Z6,wa],Iee),OMe=Me([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),DMe=Me([wa,Zg],sO),r2=Me([OMe,Ma,DMe],oO),RMe=Me([r2],e=>e.filter(gE)),LMe=Me([r2],lO),i1=Me([LMe,Dh],cO),jMe=Me([RMe,Dh,Ma],dee),AO=Me([i1,Ma,r2],fO),FMe=Me([Ma],dO),MMe=Me([r2],e=>e.filter(gE)),BMe=Me([jMe,MMe,Xx],wee),UMe=Me([BMe,Dh,wa],bee),VMe=Me([r2],vee),$Me=Me([i1,Ma,VMe,yE,wa],_ee),zMe=Me([Eee,wa,Zg],e1),WMe=Me([zMe,wa],kee),HMe=Me([Aee,wa,Zg],e1),qMe=Me([HMe,wa],Nee),GMe=Me([Tee,wa,Zg],e1),KMe=Me([GMe,wa],Cee),XMe=Me([WMe,KMe,qMe],c5),YMe=Me([Ma,FMe,UMe,$Me,XMe,Nr,wa],hO),Zee=Me([Ma,Nr,i1,AO,Xx,wa,YMe],pO),JMe=Me([Zee,Ma,EO],vO),QMe=Me([Ma,Zee,JMe,wa],xO),ete=e=>{var t=wa(e),r=Zg(e),n=!1;return e2(e,t,r,n)},tte=Me([Ma,ete],hE),rte=Me([Ma,EO,QMe,tte],gO),ZMe=Me([Nr,AO,Ma,wa],Mee),e7e=Me([Nr,AO,Ma,wa],Bee),t7e=(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,c=Eu(e,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Da(i[0]-i[1])*2*f:f,c&&s?s.map((d,h)=>({coordinate:n(d)+f,value:d,index:h,offset:f})):n.domain().map((d,h)=>({coordinate:n(d)+f,value:a?a[d]:d,index:h,offset:f}))}}},$f=Me([Nr,Ma,EO,rte,ete,ZMe,e7e,wa],t7e),TO=Me([Vee,$ee,pMe],(e,t,r)=>zee(r.shared,e,t)),nte=e=>e.tooltip.settings.trigger,kO=e=>e.tooltip.settings.defaultIndex,bE=Me([n1,TO,nte,kO],Xee),ph=Me([bE,i1],SO),ite=Me([$f,ph],Wee),ate=Me([bE],e=>{if(e)return e.dataKey}),ste=Me([n1,TO,nte,kO],Jee),r7e=Me([jf,Ff,Nr,va,$f,kO,ste,t2],Yee),n7e=Me([bE,r7e],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),i7e=Me([bE],e=>e.active),a7e=Me([ste,ph,Dh,fee,ite,t2,TO],Qee),s7e=Me([a7e],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function RB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RB(Object(r),!0).forEach(function(n){o7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o7e(e,t,r){return(t=l7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l7e(e){var t=c7e(e,"string");return typeof t=="symbol"?t:t+""}function c7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u7e=()=>It(Ma),f7e=()=>{var e=u7e(),t=It($f),r=It(rte);return sp(LB(LB({},e),{},{scale:r}),t)},ote=()=>It(Z6),NO=(e,t)=>t,lte=(e,t,r)=>r,CO=(e,t,r,n)=>n,d7e=Me($f,e=>XS(e,t=>t.coordinate)),PO=Me([n1,NO,lte,CO],Xee),cte=Me([PO,i1],SO),h7e=(e,t,r)=>{if(t!=null){var n=n1(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},ute=Me([n1,NO,lte,CO],Jee),u5=Me([jf,Ff,Nr,va,$f,CO,ute,t2],Yee),p7e=Me([PO,u5],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),fte=Me($f,cte,Wee),m7e=Me([ute,cte,Dh,fee,fte,t2,NO],Qee),g7e=Me([PO],e=>({isActive:e.active,activeIndex:e.index})),v7e=(e,t,r,n,i,a,s,o)=>{if(!(!e||!t||!n||!i||!a)){var l=zDe(e.chartX,e.chartY,t,r,o);if(l){var c=HDe(l,t),u=IDe(c,s,a,n,i),f=WDe(t,a,u,l);return{activeIndex:String(u),activeCoordinate:f}}}};function dC(){return dC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dC.apply(null,arguments)}function jB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jB(Object(r),!0).forEach(function(n){y7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y7e(e,t,r){return(t=x7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x7e(e){var t=w7e(e,"string");return typeof t=="symbol"?t:t+""}function w7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b7e(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:a,layout:s,cursor:o,tooltipEventType:l,chartName:c}=e,u=t,f=r,d=n;if(!o||!u||c!=="ScatterChart"&&l!=="axis")return null;var h,g;if(c==="ScatterChart")h=u,g=HRe;else if(c==="BarChart")h=qRe(s,u,i,a),g=tZ;else if(s==="radial"){var{cx:m,cy:v,radius:y,startAngle:b,endAngle:_}=rZ(u);h={cx:m,cy:v,startAngle:b,endAngle:_,innerRadius:y,outerRadius:y},g=iZ}else h={points:A8e(s,u,i)},g=Wm;var N=typeof o=="object"&&"className"in o?o.className:void 0,R=Rw(Rw(Rw(Rw({stroke:"#ccc",pointerEvents:"none"},i),h),qn(o,!1)),{},{payload:f,payloadIndex:d,className:Dr("recharts-tooltip-cursor",N)});return L.isValidElement(o)?L.cloneElement(o,R):L.createElement(g,R)}function _7e(e){var t=f7e(),r=qQ(),n=zx(),i=ote();return L.createElement(b7e,dC({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var dte=L.createContext(null),S7e=()=>L.useContext(dte),hte={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function a(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||l,d),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],h]:l._events[g].push(h):(l._events[g]=h,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,g=new Array(h);d<h;d++)g[d]=f[d].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,d,h,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,b,_;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,d),!0;case 5:return v.fn.call(v.context,u,f,d,h),!0;case 6:return v.fn.call(v.context,u,f,d,h,g),!0}for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];v.fn.apply(v.context,b)}else{var N=v.length,R;for(_=0;_<N;_++)switch(v[_].once&&this.removeListener(c,v[_].fn,void 0,!0),y){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,u);break;case 3:v[_].fn.call(v[_].context,u,f);break;case 4:v[_].fn.call(v[_].context,u,f,d);break;default:if(!b)for(R=1,b=new Array(y-1);R<y;R++)b[R-1]=arguments[R];v[_].fn.apply(v[_].context,b)}}return!0},o.prototype.on=function(c,u,f){return a(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return a(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,d){var h=r?r+c:c;if(!this._events[h])return this;if(!u)return s(this,h),this;var g=this._events[h];if(g.fn)g.fn===u&&(!d||g.once)&&(!f||g.context===f)&&s(this,h);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||d&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[h]=v.length===1?v[0]:v:s(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(hte);var E7e=hte.exports;const A7e=Cf(E7e);var ex=new A7e,hC="recharts.syncEvent.tooltip",FB="recharts.syncEvent.brush";function _E(e,t){if(t){var r=Number.parseInt(t,10);if(!bo(r))return e==null?void 0:e[r]}}var T7e={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},pte=ul({name:"options",initialState:T7e,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),k7e=pte.reducer,{createEventEmitter:N7e}=pte.actions;function C7e(e){return e.tooltip.syncInteraction}var P7e={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},mte=ul({name:"chartData",initialState:P7e,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:MB,setDataStartEndIndexes:I7e,setComputedData:kHe}=mte.actions,O7e=mte.reducer,D7e=["x","y"];function BB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BB(Object(r),!0).forEach(function(n){R7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R7e(e,t,r){return(t=L7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L7e(e){var t=j7e(e,"string");return typeof t=="symbol"?t:t+""}function j7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F7e(e,t){if(e==null)return{};var r,n,i=M7e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function M7e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gte=()=>{};function B7e(){var e=It(eO),t=It(tO),r=hi(),n=It(aee),i=It($f),a=zx(),s=S6(),o=It(l=>l.rootProps.className);L.useEffect(()=>{if(e==null)return gte;var l=(c,u,f)=>{if(t!==f&&e===c){if(n==="index"){var d;if(s&&u!==null&&u!==void 0&&(d=u.payload)!==null&&d!==void 0&&d.coordinate){var h=u.payload.coordinate,{x:g,y:m}=h,v=F7e(h,D7e),y=Yh(Yh(Yh({},v),typeof g=="number"&&{x:Math.max(s.x,Math.min(g,s.x+s.width))}),typeof m=="number"&&{y:Math.max(s.y,Math.min(m,s.y+s.height))}),b=Yh(Yh({},u),{},{payload:Yh(Yh({},u.payload),{},{coordinate:y})});r(b)}else r(u);return}if(i!=null){var _;if(typeof n=="function"){var N={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},R=n(i,N);_=i[R]}else n==="value"&&(_=i.find(D=>String(D.value)===u.payload.label));var{coordinate:O}=u.payload;if(_==null||u.payload.active===!1||O==null||s==null){r(uC({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:k,y:S}=O,T=Math.min(k,s.x+s.width),j=Math.min(S,s.y+s.height),E={x:a==="horizontal"?_.coordinate:T,y:a==="horizontal"?j:_.coordinate},C=uC({active:u.payload.active,coordinate:E,dataKey:u.payload.dataKey,index:String(_.index),label:u.payload.label});r(C)}}};return ex.on(hC,l),()=>{ex.off(hC,l)}},[o,r,t,e,n,i,a,s])}function U7e(){var e=It(eO),t=It(tO),r=hi();L.useEffect(()=>{if(e==null)return gte;var n=(i,a,s)=>{t!==s&&e===i&&r(I7e(a))};return ex.on(FB,n),()=>{ex.off(FB,n)}},[r,t,e])}function V7e(){var e=hi();L.useEffect(()=>{e(N7e())},[e]),B7e(),U7e()}function $7e(e,t,r,n,i,a){var s=It(d=>h7e(d,e,t)),o=It(tO),l=It(eO),c=It(aee),u=It(C7e),f=u==null?void 0:u.active;L.useEffect(()=>{if(!f&&l!=null&&o!=null){var d=uC({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n});ex.emit(hC,l,d,o)}},[f,r,s,i,n,o,l,c,a])}function UB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UB(Object(r),!0).forEach(function(n){z7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z7e(e,t,r){return(t=W7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W7e(e){var t=H7e(e,"string");return typeof t=="symbol"?t:t+""}function H7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function q7e(e){return e.dataKey}function G7e(e,t){return L.isValidElement(e)?L.cloneElement(e,t):typeof e=="function"?L.createElement(e,t):L.createElement(SRe,t)}var $B=[],K7e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Mf.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Zu(e){var t=ya(e,K7e),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:a,content:s,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:u,position:f,reverseDirection:d,useTranslate3d:h,wrapperStyle:g,cursor:m,shared:v,trigger:y,defaultIndex:b,portal:_,axisId:N}=t,R=hi(),O=typeof b=="number"?String(b):b;L.useEffect(()=>{R(yMe({shared:v,trigger:y,axisId:N,active:r,defaultIndex:O}))},[R,v,y,N,r,O]);var k=S6(),S=YQ(),T=hMe(v),{activeIndex:j,isActive:E}=It(z=>g7e(z,T,y,O)),C=It(z=>m7e(z,T,y,O)),D=It(z=>fte(z,T,y,O)),q=It(z=>p7e(z,T,y,O)),ee=C,le=S7e(),se=r??E,[K,X]=hQ([ee,se]),_e=T==="axis"?D:void 0;$7e(T,y,q,_e,j,se);var Se=_??le;if(Se==null)return null;var P=ee??$B;se||(P=$B),o&&P.length&&(P=tQ(ee.filter(z=>z.value!=null&&(z.hide!==!0||t.includeHidden)),u,q7e));var U=P.length>0,V=L.createElement(PRe,{allowEscapeViewBox:n,animationDuration:i,animationEasing:a,isAnimationActive:l,active:se,coordinate:q,hasPayload:U,offset:c,position:f,reverseDirection:d,useTranslate3d:h,viewBox:k,wrapperStyle:g,lastBoundingBox:K,innerRef:X,hasPortalFromProps:!!_},G7e(s,VB(VB({},t),{},{payload:P,label:_e,active:se,coordinate:q,accessibilityLayer:S})));return L.createElement(L.Fragment,null,x3.createPortal(V,Se),se&&L.createElement(_7e,{cursor:m,tooltipEventType:T,coordinate:q,payload:ee,index:j}))}var vte={},yte={},xte={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),c=a==null||a.includes("trailing"),u=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{c&&u(),m()};let d=null;const h=()=>{d!=null&&clearTimeout(d),d=setTimeout(()=>{d=null,f()},n)},g=()=>{d!==null&&(clearTimeout(d),d=null)},m=()=>{g(),s=void 0,o=null},v=()=>{u()},y=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const _=d==null;h(),l&&_&&u()};return y.schedule=h,y.cancel=m,y.flush=v,i==null||i.addEventListener("abort",m,{once:!0}),y}e.debounce=t})(xte);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xte;function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let u,f=null;const d=t.debounce(function(...m){u=n.apply(this,m),f=null},i,{edges:c}),h=function(...m){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=n.apply(this,m),f=Date.now(),d.cancel(),d.schedule(),u):(d.apply(this,m),u)},g=()=>(d.flush(),u);return h.cancel=d.cancel,h.flush=g,h}e.debounce=r})(yte);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yte;function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(n,i,{leading:s,maxWait:i,trailing:o})}e.throttle=r})(vte);var X7e=vte.throttle;const Y7e=Cf(X7e);var zv=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]};function zB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zB(Object(r),!0).forEach(function(n){J7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function J7e(e,t,r){return(t=Q7e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Q7e(e){var t=Z7e(e,"string");return typeof t=="symbol"?t:t+""}function Z7e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ef=L.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:a="100%",minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:d,onResize:h,style:g={}}=e,m=L.useRef(null),v=L.useRef();v.current=h,L.useImperativeHandle(t,()=>m.current);var[y,b]=L.useState({containerWidth:n.width,containerHeight:n.height}),_=L.useCallback((R,O)=>{b(k=>{var S=Math.round(R),T=Math.round(O);return k.containerWidth===S&&k.containerHeight===T?k:{containerWidth:S,containerHeight:T}})},[]);L.useEffect(()=>{var R=T=>{var j,{width:E,height:C}=T[0].contentRect;_(E,C),(j=v.current)===null||j===void 0||j.call(v,E,C)};u>0&&(R=Y7e(R,u,{trailing:!0,leading:!1}));var O=new ResizeObserver(R),{width:k,height:S}=m.current.getBoundingClientRect();return _(k,S),O.observe(m.current),()=>{O.disconnect()}},[_,u]);var N=L.useMemo(()=>{var{containerWidth:R,containerHeight:O}=y;if(R<0||O<0)return null;zv(g0(i)||g0(a),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,a),zv(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=g0(i)?R:i,S=g0(a)?O:a;return r&&r>0&&(k?S=k/r:S&&(k=S*r),l&&S>l&&(S=l)),zv(k>0||S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,S,i,a,s,o,r),L.Children.map(c,T=>L.cloneElement(T,{width:k,height:S,style:aT({width:k,height:S},T.props.style)}))},[r,c,a,l,o,s,y,i]);return L.createElement("div",{id:f?"".concat(f):void 0,className:Dr("recharts-responsive-container",d),style:aT(aT({},g),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:m},L.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))}),a1=e=>null;a1.displayName="Cell";function e9e(e,t,r){return(t=t9e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t9e(e){var t=r9e(e,"string");return typeof t=="symbol"?t:t+""}function r9e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class n9e{constructor(t){e9e(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function WB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function i9e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WB(Object(r),!0).forEach(function(n){a9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a9e(e,t,r){return(t=s9e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s9e(e){var t=o9e(e,"string");return typeof t=="symbol"?t:t+""}function o9e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l9e={cacheSize:2e3,enableCache:!0},wte=i9e({},l9e),HB=new n9e(wte.cacheSize),c9e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},qB="recharts_measurement_span";function u9e(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var GB=(e,t)=>{try{var r=document.getElementById(qB);r||(r=document.createElement("span"),r.setAttribute("id",qB),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,c9e,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Wv=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mf.isSsr)return{width:0,height:0};if(!wte.enableCache)return GB(t,r);var n=u9e(t,r),i=HB.get(n);if(i)return i;var a=GB(t,r);return HB.set(n,a),a},KB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,XB=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f9e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,d9e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bte={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},h9e=Object.keys(bte),bm="NaN";function p9e(e,t){return e*bte[t]}class no{static parse(t){var r,[,n,i]=(r=d9e.exec(t))!==null&&r!==void 0?r:[];return new no(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,bo(t)&&(this.unit=""),r!==""&&!f9e.test(r)&&(this.num=NaN,this.unit=""),h9e.includes(r)&&(this.num=p9e(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new no(NaN,""):new no(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new no(NaN,""):new no(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new no(NaN,""):new no(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new no(NaN,""):new no(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return bo(this.num)}}function _te(e){if(e.includes(bm))return bm;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=(r=KB.exec(t))!==null&&r!==void 0?r:[],s=no.parse(n??""),o=no.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return bm;t=t.replace(KB,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,f,d]=(c=XB.exec(t))!==null&&c!==void 0?c:[],h=no.parse(u??""),g=no.parse(d??""),m=f==="+"?h.add(g):h.subtract(g);if(m.isNaN())return bm;t=t.replace(XB,m.toString())}return t}var YB=/\(([^()]*)\)/;function m9e(e){for(var t=e,r;(r=YB.exec(t))!=null;){var[,n]=r;t=t.replace(YB,_te(n))}return t}function g9e(e){var t=e.replace(/\s+/g,"");return t=m9e(t),t=_te(t),t}function v9e(e){try{return g9e(e)}catch{return bm}}function sT(e){var t=v9e(e.slice(5,-1));return t===bm?"":t}var y9e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],x9e=["dx","dy","angle","className","breakAll"];function pC(){return pC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pC.apply(null,arguments)}function JB(e,t){if(e==null)return{};var r,n,i=w9e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w9e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ste=/[ \f\n\r\t\v\u2028\u2029]+/,Ete=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Hn(t)||(r?i=t.toString().split(""):i=t.toString().split(Ste));var a=i.map(o=>({word:o,width:Wv(o,n).width})),s=r?0:Wv(" ",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},b9e=(e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=Dt(a),u=s,f=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce((C,D)=>{var{word:q,width:ee}=D,le=C[C.length-1];if(le&&(n==null||i||le.width+ee+r<Number(n)))le.words.push(q),le.width+=ee+r;else{var se={words:[q],width:ee};C.push(se)}return C},[])},d=f(t),h=j=>j.reduce((E,C)=>E.width>C.width?E:C);if(!c||i)return d;var g=d.length>a||h(d).width>Number(n);if(!g)return d;for(var m="…",v=j=>{var E=u.slice(0,j),C=Ete({breakAll:l,style:o,children:E+m}).wordsWithComputedWidth,D=f(C),q=D.length>a||h(D).width>Number(n);return[q,D]},y=0,b=u.length-1,_=0,N;y<=b&&_<=u.length-1;){var R=Math.floor((y+b)/2),O=R-1,[k,S]=v(O),[T]=v(R);if(!k&&!T&&(y=R+1),k&&T&&(b=R-1),!k&&T){N=S;break}_++}return N||d},QB=e=>{var t=Hn(e)?[]:e.toString().split(Ste);return[{words:t}]},_9e=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!Mf.isSsr){var o,l,c=Ete({breakAll:a,children:n,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return QB(n);return b9e({breakAll:a,children:n,maxLines:s,style:i},o,l,t,r)}return QB(n)},ZB="#808080",SE=L.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:a="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=ZB}=e,u=JB(e,y9e),f=L.useMemo(()=>_9e({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:s,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,s,u.style,u.width]),{dx:d,dy:h,angle:g,className:m,breakAll:v}=u,y=JB(u,x9e);if(!gu(r)||!gu(n)||f.length===0)return null;var b=r+(Dt(d)?d:0),_=n+(Dt(h)?h:0),N;switch(l){case"start":N=sT("calc(".concat(a,")"));break;case"middle":N=sT("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(a," / 2))"));break;default:N=sT("calc(".concat(f.length-1," * -").concat(i,")"));break}var R=[];if(s){var O=f[0].width,{width:k}=u;R.push("scale(".concat(Dt(k)?k/O:1,")"))}return g&&R.push("rotate(".concat(g,", ").concat(b,", ").concat(_,")")),R.length&&(y.transform=R.join(" ")),L.createElement("text",pC({},qn(y,!0),{ref:t,x:b,y:_,className:Dr("recharts-text",m),textAnchor:o,fill:c.includes("url")?ZB:c}),f.map((S,T)=>{var j=S.words.join(v?"":" ");return L.createElement("tspan",{x:b,dy:T===0?N:i,key:"".concat(j,"-").concat(T)},j)}))});SE.displayName="Text";var S9e=["labelRef"];function E9e(e,t){if(e==null)return{};var r,n,i=A9e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function A9e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eU(Object(r),!0).forEach(function(n){T9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T9e(e,t,r){return(t=k9e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k9e(e){var t=N9e(e,"string");return typeof t=="symbol"?t:t+""}function N9e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wu(){return Wu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wu.apply(null,arguments)}var Ate=L.createContext(null),C9e=e=>{var{x:t,y:r,width:n,height:i,children:a}=e,s=L.useMemo(()=>({x:t,y:r,width:n,height:i}),[t,r,n,i]);return L.createElement(Ate.Provider,{value:s},a)},Tte=()=>{var e=L.useContext(Ate),t=S6();return e||t},P9e=L.createContext(null),I9e=()=>{var e=L.useContext(P9e),t=It(uee);return e||t},O9e=e=>{var{value:t,formatter:r}=e,n=Hn(e.children)?t:e.children;return typeof r=="function"?r(n):n},IO=e=>e!=null&&typeof e=="function",D9e=(e,t)=>{var r=Da(t-e),n=Math.min(Math.abs(t-e),360);return r*n},R9e=(e,t,r,n,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:d,clockWise:h}=i,g=(c+u)/2,m=D9e(f,d),v=m>=0?1:-1,y,b;switch(t){case"insideStart":y=f+v*a,b=h;break;case"insideEnd":y=d-v*a,b=!h;break;case"end":y=d+v*a,b=h;break;default:throw new Error("Unsupported position ".concat(t))}b=m<=0?b:!b;var _=ra(o,l,g,y),N=ra(o,l,g,y+(b?1:-1)*359),R="M".concat(_.x,",").concat(_.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(b?0:1,`,
    `).concat(N.x,",").concat(N.y),O=Hn(e.id)?Wy("recharts-radial-line-"):e.id;return L.createElement("text",Wu({},n,{dominantBaseline:"central",className:Dr("recharts-radial-bar-label",s)}),L.createElement("defs",null,L.createElement("path",{id:O,d:R})),L.createElement("textPath",{xlinkHref:"#".concat(O)},r))},L9e=(e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(r==="outside"){var{x:u,y:f}=ra(n,i,s+t,c);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var d=(a+s)/2,{x:h,y:g}=ra(n,i,d,c);return{x:h,y:g,textAnchor:"middle",verticalAnchor:"middle"}},kte=e=>"cx"in e&&Dt(e.cx),j9e=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,a;r!=null&&!kte(r)&&(a=r);var{x:s,y:o,width:l,height:c}=t,u=c>=0?1:-1,f=u*n,d=u>0?"end":"start",h=u>0?"start":"end",g=l>=0?1:-1,m=g*n,v=g>0?"end":"start",y=g>0?"start":"end";if(i==="top"){var b={x:s+l/2,y:o-u*n,textAnchor:"middle",verticalAnchor:d};return Oi(Oi({},b),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var _={x:s+l/2,y:o+c+f,textAnchor:"middle",verticalAnchor:h};return Oi(Oi({},_),a?{height:Math.max(a.y+a.height-(o+c),0),width:l}:{})}if(i==="left"){var N={x:s-m,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return Oi(Oi({},N),a?{width:Math.max(N.x-a.x,0),height:c}:{})}if(i==="right"){var R={x:s+l+m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return Oi(Oi({},R),a?{width:Math.max(a.x+a.width-R.x,0),height:c}:{})}var O=a?{width:l,height:c}:{};return i==="insideLeft"?Oi({x:s+m,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},O):i==="insideRight"?Oi({x:s+l-m,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},O):i==="insideTop"?Oi({x:s+l/2,y:o+f,textAnchor:"middle",verticalAnchor:h},O):i==="insideBottom"?Oi({x:s+l/2,y:o+c-f,textAnchor:"middle",verticalAnchor:d},O):i==="insideTopLeft"?Oi({x:s+m,y:o+f,textAnchor:y,verticalAnchor:h},O):i==="insideTopRight"?Oi({x:s+l-m,y:o+f,textAnchor:v,verticalAnchor:h},O):i==="insideBottomLeft"?Oi({x:s+m,y:o+c-f,textAnchor:y,verticalAnchor:d},O):i==="insideBottomRight"?Oi({x:s+l-m,y:o+c-f,textAnchor:v,verticalAnchor:d},O):i&&typeof i=="object"&&(Dt(i.x)||g0(i.x))&&(Dt(i.y)||g0(i.y))?Oi({x:s+As(i.x,l),y:o+As(i.y,c),textAnchor:"end",verticalAnchor:"end"},O):Oi({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},O)},F9e={offset:5};function xd(e){var t=ya(e,F9e),{viewBox:r,position:n,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:c}=t,u=I9e(),f=Tte(),d=n==="center"?f:u??f,h=r||d;if(!h||Hn(i)&&Hn(a)&&!L.isValidElement(s)&&typeof s!="function")return null;var g=Oi(Oi({},t),{},{viewBox:h});if(L.isValidElement(s)){var{labelRef:m}=g,v=E9e(g,S9e);return L.cloneElement(s,v)}var y;if(typeof s=="function"){if(y=L.createElement(s,g),L.isValidElement(y))return y}else y=O9e(t);var b=kte(h),_=qn(t,!0);if(b&&(n==="insideStart"||n==="insideEnd"||n==="end"))return R9e(t,n,y,_,h);var N=b?L9e(h,t.offset,t.position):j9e(t,h);return L.createElement(SE,Wu({ref:c,className:Dr("recharts-label",o)},_,N,{breakAll:l}),y)}xd.displayName="Label";var M9e=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?L.createElement(xd,Wu({key:"label-implicit"},n)):gu(e)?L.createElement(xd,Wu({key:"label-implicit",value:e},n)):L.isValidElement(e)?e.type===xd?L.cloneElement(e,Oi({key:"label-implicit"},n)):L.createElement(xd,Wu({key:"label-implicit",content:e},n)):IO(e)?L.createElement(xd,Wu({key:"label-implicit",content:e},n)):e&&typeof e=="object"?L.createElement(xd,Wu({},e,{key:"label-implicit"},n)):null};function B9e(e){var{label:t}=e,r=Tte();return M9e(t,r)||null}var Nte={},Cte={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Cte);var Pte={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Pte);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cte,r=Pte,n=GS;function i(a){if(n.isArrayLike(a))return t.last(r.toArray(a))}e.last=i})(Nte);var U9e=Nte.last;const V9e=Cf(U9e);var $9e=["valueAccessor"],z9e=["dataKey","clockWise","id","textBreakAll"];function f5(){return f5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f5.apply(null,arguments)}function tU(e,t){if(e==null)return{};var r,n,i=W9e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function W9e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var H9e=e=>Array.isArray(e.value)?V9e(e.value):e.value,Ite=L.createContext(void 0),OO=Ite.Provider,Ote=L.createContext(void 0),q9e=Ote.Provider;function G9e(){return L.useContext(Ite)}function K9e(){return L.useContext(Ote)}function pb(e){var{valueAccessor:t=H9e}=e,r=tU(e,$9e),{dataKey:n,clockWise:i,id:a,textBreakAll:s}=r,o=tU(r,z9e),l=G9e(),c=K9e(),u=l||c;return!u||!u.length?null:L.createElement(Ti,{className:"recharts-label-list"},u.map((f,d)=>{var h,g=Hn(n)?t(f,d):Sn(f&&f.payload,n),m=Hn(a)?{}:{id:"".concat(a,"-").concat(d)};return L.createElement(xd,f5({},qn(f,!0),o,m,{fill:(h=r.fill)!==null&&h!==void 0?h:f.fill,parentViewBox:f.parentViewBox,value:g,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(d),index:d}))}))}pb.displayName="LabelList";function EE(e){var{label:t}=e;return t?t===!0?L.createElement(pb,{key:"labelList-implicit"}):L.isValidElement(t)||IO(t)?L.createElement(pb,{key:"labelList-implicit",content:t}):typeof t=="object"?L.createElement(pb,f5({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function mC(){return mC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mC.apply(null,arguments)}var DO=e=>{var{cx:t,cy:r,r:n,className:i}=e,a=Dr("recharts-dot",i);return t===+t&&r===+r&&n===+n?L.createElement("circle",mC({},Kl(e),YI(e),{className:a,cx:t,cy:r,r:n})):null},Dte=e=>e.graphicalItems.polarItems,X9e=Me([ei,Yx],sO),RO=Me([Dte,zi,X9e],oO),Y9e=Me([RO],lO),LO=Me([Y9e,Y6],cO),J9e=Me([LO,zi,RO],fO),Q9e=Me([LO,zi,RO],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var a,s=Sn(n,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Sn(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),rU=()=>{},Z9e=Me([zi,Pee,rU,Q9e,rU,Nr,ei],hO),Rte=Me([zi,Nr,LO,J9e,Xx,ei,Z9e],pO),eBe=Me([Rte,zi,t1],vO);Me([zi,Rte,eBe,ei],xO);var tBe={radiusAxis:{},angleAxis:{}},Lte=ul({name:"polarAxis",initialState:tBe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:NHe,removeRadiusAxis:CHe,addAngleAxis:PHe,removeAngleAxis:IHe}=Lte.actions,rBe=Lte.reducer;function nU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nU(Object(r),!0).forEach(function(n){nBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nBe(e,t,r){return(t=iBe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iBe(e){var t=aBe(e,"string");return typeof t=="symbol"?t:t+""}function aBe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sBe=(e,t)=>t,jO=Me([Dte,sBe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),oBe=[],FO=(e,t,r)=>(r==null?void 0:r.length)===0?oBe:r,jte=Me([Y6,jO,FO],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(a=>iU(iU({},t.presentationProps),a.props))),i!=null)return i}}),lBe=Me([jte,jO,FO],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var a,s=Sn(n,t.nameKey,t.name),o;return r!=null&&(a=r[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Ph(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),cBe=Me([jte,jO,FO,va],(e,t,r,n)=>{if(!(t==null||e==null))return iUe({offset:n,pieSettings:t,displayedData:e,cells:r})}),Fte={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const a=r[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${a}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Fte);var uBe=Fte.isPlainObject;const fBe=Cf(uBe);function aU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aU(Object(r),!0).forEach(function(n){dBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dBe(e,t,r){return(t=hBe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hBe(e){var t=pBe(e,"string");return typeof t=="symbol"?t:t+""}function pBe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d5(){return d5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d5.apply(null,arguments)}var oU=(e,t,r,n,i)=>{var a=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-a/2,",").concat(t+i),s+="L ".concat(e+r-a/2-n,",").concat(t+i),s+="L ".concat(e,",").concat(t," Z"),s},mBe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gBe=e=>{var t=ya(e,mBe),{x:r,y:n,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=t,d=L.useRef(),[h,g]=L.useState(-1),m=L.useRef(i),v=L.useRef(a),y=L.useRef(s),b=L.useRef(r),_=L.useRef(n),N=Xg(e,"trapezoid-");if(L.useEffect(()=>{if(d.current&&d.current.getTotalLength)try{var q=d.current.getTotalLength();q&&g(q)}catch{}},[]),r!==+r||n!==+n||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var R=Dr("recharts-trapezoid",o);if(!f)return L.createElement("g",null,L.createElement("path",d5({},qn(t,!0),{className:R,d:oU(r,n,i,a,s)})));var O=m.current,k=v.current,S=y.current,T=b.current,j=_.current,E="0px ".concat(h===-1?1:h,"px"),C="".concat(h,"px 0px"),D=JQ(["strokeDasharray"],c,l);return L.createElement(Kg,{animationId:N,key:N,canBegin:h>0,duration:c,easing:l,isActive:f,begin:u},q=>{var ee=bn(O,i,q),le=bn(k,a,q),se=bn(S,s,q),K=bn(T,r,q),X=bn(j,n,q);d.current&&(m.current=ee,v.current=le,y.current=se,b.current=K,_.current=X);var _e=q>0?{transition:D,strokeDasharray:C}:{strokeDasharray:E};return L.createElement("path",d5({},qn(t,!0),{className:R,d:oU(K,X,ee,le,se),ref:d,style:sU(sU({},_e),t.style)}))})},vBe=["option","shapeType","propTransformer","activeClassName","isActive"];function yBe(e,t){if(e==null)return{};var r,n,i=xBe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xBe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function h5(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lU(Object(r),!0).forEach(function(n){wBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wBe(e,t,r){return(t=bBe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bBe(e){var t=_Be(e,"string");return typeof t=="symbol"?t:t+""}function _Be(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SBe(e,t){return h5(h5({},t),e)}function EBe(e,t){return e==="symbols"}function cU(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return L.createElement(tZ,r);case"trapezoid":return L.createElement(gBe,r);case"sector":return L.createElement(iZ,r);case"symbols":if(EBe(t))return L.createElement(r6,r);break;default:return null}}function ABe(e){return L.isValidElement(e)?e.props:e}function Mte(e){var{option:t,shapeType:r,propTransformer:n=SBe,activeClassName:i="recharts-active-shape",isActive:a}=e,s=yBe(e,vBe),o;if(L.isValidElement(t))o=L.cloneElement(t,h5(h5({},s),ABe(t)));else if(typeof t=="function")o=t(s);else if(fBe(t)&&typeof t!="boolean"){var l=n(t,s);o=L.createElement(cU,{shapeType:r,elementProps:l})}else{var c=s;o=L.createElement(cU,{shapeType:r,elementProps:c})}return a?L.createElement(Ti,{className:i},o):o}var MO=(e,t)=>{var r=hi();return(n,i)=>a=>{e==null||e(n,i,a),r(qee({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},BO=e=>{var t=hi();return(r,n)=>i=>{e==null||e(r,n,i),t(xMe())}},UO=(e,t)=>{var r=hi();return(n,i)=>a=>{e==null||e(n,i,a),r(wMe({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function AE(e){var{fn:t,args:r}=e,n=hi(),i=Ps();return L.useEffect(()=>{if(!i){var a=t(r);return n(gMe(a)),()=>{n(vMe(a))}}},[t,r,n,i]),null}var Bte=()=>{};function VO(e){var{legendPayload:t}=e,r=hi(),n=Ps();return L.useEffect(()=>n?Bte:(r(KQ(t)),()=>{r(XQ(t))}),[r,n,t]),null}function TBe(e){var{legendPayload:t}=e,r=hi(),n=It(Nr);return L.useEffect(()=>n!=="centric"&&n!=="radial"?Bte:(r(KQ(t)),()=>{r(XQ(t))}),[r,n,t]),null}var oT,kBe=()=>{var[e]=L.useState(()=>Wy("uid-"));return e},NBe=(oT=kne.useId)!==null&&oT!==void 0?oT:kBe;function CBe(e,t){var r=NBe();return t||(e?"".concat(e,"-").concat(r):r)}var PBe=L.createContext(void 0),TE=e=>{var{id:t,type:r,children:n}=e,i=CBe("recharts-".concat(r),t);return L.createElement(PBe.Provider,{value:i},n(i))},IBe={cartesianItems:[],polarItems:[]},Ute=ul({name:"graphicalItems",initialState:IBe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=uf(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=uf(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=uf(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:OBe,replaceCartesianGraphicalItem:DBe,removeCartesianGraphicalItem:RBe,addPolarGraphicalItem:LBe,removePolarGraphicalItem:jBe}=Ute.actions,FBe=Ute.reducer;function $O(e){var t=hi(),r=L.useRef(null);return L.useEffect(()=>{r.current===null?t(OBe(e)):r.current!==e&&t(DBe({prev:r.current,next:e})),r.current=e},[t,e]),L.useEffect(()=>()=>{r.current&&(t(RBe(r.current)),r.current=null)},[t]),null}function MBe(e){var t=hi();return L.useEffect(()=>(t(LBe(e)),()=>{t(jBe(e))}),[t,e]),null}var BBe=["onMouseEnter","onClick","onMouseLeave"],UBe=["id"],VBe=["id"];function zO(e,t){if(e==null)return{};var r,n,i=$Be(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $Be(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uU(Object(r),!0).forEach(function(n){zBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zBe(e,t,r){return(t=WBe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WBe(e){var t=HBe(e,"string");return typeof t=="symbol"?t:t+""}function HBe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mh.apply(null,arguments)}function qBe(e){var t=L.useMemo(()=>JI(e.children,a1),[e.children]),r=It(n=>lBe(n,e.id,t));return r==null?null:L.createElement(TBe,{legendPayload:r})}function GBe(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:n.map(u=>u.tooltipPayload),positions:n.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:r,name:Ph(o,t),hide:l,type:c,color:s,unit:""}}}var KBe=(e,t)=>e>t?"start":e<t?"end":"middle",XBe=(e,t,r)=>As(typeof t=="function"?t(e):t,r,r*.8),YBe=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=MQ(a,s),l=i+As(e.cx,a,a/2),c=n+As(e.cy,s,s/2),u=As(e.innerRadius,o,0),f=XBe(r,e.outerRadius,o),d=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}},JBe=(e,t)=>{var r=Da(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function QBe(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var ZBe=(e,t)=>{if(L.isValidElement(e))return L.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Dr("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return L.createElement(Wm,mh({},t,{type:"linear",className:r}))},eUe=(e,t,r)=>{if(L.isValidElement(e))return L.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),L.isValidElement(n)))return n;var i=Dr("recharts-pie-label-text",QBe(e));return L.createElement(SE,mh({},t,{alignmentBaseline:"middle",className:i}),n)};function tUe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:a,dataKey:s}=r;if(!n||!i||!t)return null;var o=Kl(r),l=qn(i,!1),c=qn(a,!1),u=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((d,h)=>{var g=(d.startAngle+d.endAngle)/2,m=ra(d.cx,d.cy,d.outerRadius+u,g),v=Xn(Xn(Xn(Xn({},o),d),{},{stroke:"none"},l),{},{index:h,textAnchor:KBe(m.x,d.cx)},m),y=Xn(Xn(Xn(Xn({},o),d),{},{fill:"none",stroke:d.fill},c),{},{index:h,points:[ra(d.cx,d.cy,d.outerRadius,g),m],key:"line"});return L.createElement(Ti,{key:"label-".concat(d.startAngle,"-").concat(d.endAngle,"-").concat(d.midAngle,"-").concat(h)},a&&ZBe(a,y),eUe(i,v,Sn(d,s)))});return L.createElement(Ti,{className:"recharts-pie-labels"},f)}function rUe(e){var{sectors:t,props:r,showLabels:n}=e,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?L.createElement(EE,{label:i}):L.createElement(tUe,{sectors:t,props:r,showLabels:n})}function nUe(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i}=e,a=It(ph),{onMouseEnter:s,onClick:o,onMouseLeave:l}=i,c=zO(i,BBe),u=MO(s,i.dataKey),f=BO(l),d=UO(o,i.dataKey);return t==null||t.length===0?null:L.createElement(L.Fragment,null,t.map((h,g)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&t.length!==1)return null;var m=r&&String(g)===a,v=a?n:null,y=m?r:v,b=Xn(Xn({},h),{},{stroke:h.stroke,tabIndex:-1,[WQ]:g,[HQ]:i.dataKey});return L.createElement(Ti,mh({tabIndex:-1,className:"recharts-pie-sector"},Bx(c,h,g),{onMouseEnter:u(h,g),onMouseLeave:f(h,g),onClick:d(h,g),key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(g)}),L.createElement(Mte,mh({option:y,isActive:m,shapeType:"sector"},b)))}))}function iUe(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=r,d=Math.abs(r.minAngle),h=JBe(o,l),g=Math.abs(h),m=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(O=>Sn(O,c,0)!==0).length,y=(g>=360?v:v-1)*m,b=g-v*d-y,_=n.reduce((O,k)=>{var S=Sn(k,c,0);return O+(Dt(S)?S:0)},0),N;if(_>0){var R;N=n.map((O,k)=>{var S=Sn(O,c,0),T=Sn(O,u,k),j=YBe(r,a,O),E=(Dt(S)?S:0)/_,C,D=Xn(Xn({},O),i&&i[k]&&i[k].props);k?C=R.endAngle+Da(h)*m*(S!==0?1:0):C=o;var q=C+Da(h)*((S!==0?d:0)+E*b),ee=(C+q)/2,le=(j.innerRadius+j.outerRadius)/2,se=[{name:T,value:S,payload:D,dataKey:c,type:f}],K=ra(j.cx,j.cy,le,ee);return R=Xn(Xn(Xn(Xn({},r.presentationProps),{},{percent:E,cornerRadius:s,name:T,tooltipPayload:se,midAngle:ee,middleRadius:le,tooltipPosition:K},D),j),{},{value:S,startAngle:C,endAngle:q,payload:D,paddingAngle:Da(h)*m}),R})}return N}function aUe(e){var{showLabels:t,sectors:r,children:n}=e,i=L.useMemo(()=>!t||!r?[]:r.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[r,t]);return L.createElement(q9e,{value:t?i:void 0},n)}function sUe(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:a,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:f}=t,d=Xg(t,"recharts-pie-"),h=r.current,[g,m]=L.useState(!1),v=L.useCallback(()=>{typeof f=="function"&&f(),m(!1)},[f]),y=L.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return L.createElement(aUe,{showLabels:!g,sectors:n},L.createElement(Kg,{animationId:d,begin:a,duration:s,isActive:i,easing:o,onAnimationStart:y,onAnimationEnd:v,key:d},b=>{var _=[],N=n&&n[0],R=N==null?void 0:N.startAngle;return n==null||n.forEach((O,k)=>{var S=h&&h[k],T=k>0?np(O,"paddingAngle",0):0;if(S){var j=bn(S.endAngle-S.startAngle,O.endAngle-O.startAngle,b),E=Xn(Xn({},O),{},{startAngle:R+T,endAngle:R+j+T});_.push(E),R=E.endAngle}else{var{endAngle:C,startAngle:D}=O,q=bn(0,C-D,b),ee=Xn(Xn({},O),{},{startAngle:R+T,endAngle:R+q+T});_.push(ee),R=ee.endAngle}}),r.current=_,L.createElement(Ti,null,L.createElement(nUe,{sectors:_,activeShape:l,inactiveShape:c,allOtherPieProps:t}))}),L.createElement(rUe,{showLabels:!g,sectors:n,props:t}),t.children)}var oUe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Mf.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function lUe(e){var{id:t}=e,r=zO(e,UBe),{hide:n,className:i,rootTabIndex:a}=e,s=L.useMemo(()=>JI(e.children,a1),[e.children]),o=It(u=>cBe(u,t,s)),l=L.useRef(null),c=Dr("recharts-pie",i);return n||o==null?(l.current=null,L.createElement(Ti,{tabIndex:a,className:c})):L.createElement(L.Fragment,null,L.createElement(AE,{fn:GBe,args:Xn(Xn({},e),{},{sectors:o})}),L.createElement(Ti,{tabIndex:a,className:c},L.createElement(sUe,{props:Xn(Xn({},r),{},{sectors:o}),previousSectorsRef:l})))}function WO(e){var t=ya(e,oUe),{id:r}=t,n=zO(t,VBe),i=Kl(n);return L.createElement(TE,{id:r,type:"pie"},a=>L.createElement(L.Fragment,null,L.createElement(MBe,{type:"pie",id:a,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),L.createElement(qBe,mh({},n,{id:a})),L.createElement(lUe,mh({},n,{id:a}))))}WO.displayName="Pie";function fU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fU(Object(r),!0).forEach(function(n){cUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cUe(e,t,r){return(t=uUe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uUe(e){var t=fUe(e,"string");return typeof t=="symbol"?t:t+""}function fUe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dUe={xAxis:{},yAxis:{},zAxis:{}},Vte=ul({name:"cartesianAxis",initialState:dUe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=dU(dU({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:hUe,removeXAxis:pUe,addYAxis:mUe,removeYAxis:gUe,addZAxis:OHe,removeZAxis:DHe,updateYAxisWidth:vUe}=Vte.actions,yUe=Vte.reducer,xUe=Me([va],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),wUe=Me([xUe,jf,Ff],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),kE=()=>It(wUe),bUe=()=>It(s7e);function hU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hU(Object(r),!0).forEach(function(n){_Ue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Ue(e,t,r){return(t=SUe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SUe(e){var t=EUe(e,"string");return typeof t=="symbol"?t:t+""}function EUe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AUe=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:a}=e;if(i===!1||t.x==null||t.y==null)return null;var s=pU(pU({index:r,dataKey:a,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},qn(i,!1)),YI(i)),o;return L.isValidElement(i)?o=L.cloneElement(i,s):typeof i=="function"?o=i(s):o=L.createElement(DO,s),L.createElement(Ti,{className:"recharts-active-dot"},o)};function gC(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,a=It(ph),s=bUe();if(t==null||s==null)return null;var o=t.find(l=>s.includes(l.payload));return Hn(o)?null:AUe({point:o,childIndex:Number(a),mainColor:r,dataKey:i,activeDot:n})}var TUe="Invariant failed";function kUe(e,t){throw new Error(TUe)}var NUe=["x","y"];function vC(){return vC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vC.apply(null,arguments)}function mU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function q1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mU(Object(r),!0).forEach(function(n){CUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CUe(e,t,r){return(t=PUe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PUe(e){var t=IUe(e,"string");return typeof t=="symbol"?t:t+""}function IUe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OUe(e,t){if(e==null)return{};var r,n,i=DUe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DUe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RUe(e,t){var{x:r,y:n}=e,i=OUe(e,NUe),a="".concat(r),s=parseInt(a,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||i.height),u=parseInt(c,10),f="".concat(t.width||i.width),d=parseInt(f,10);return q1(q1(q1(q1(q1({},t),i),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:d,name:t.name,radius:t.radius})}function HO(e){return L.createElement(Mte,vC({shapeType:"rectangle",propTransformer:RUe,activeClassName:"recharts-active-bar"},e))}var LUe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(Dt(t))return t;var a=Dt(n)||Hn(n);return a?t(n,i):(a||kUe(),r)}},jUe={},$te=ul({name:"errorBars",initialState:jUe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:RHe,replaceErrorBar:LHe,removeErrorBar:jHe}=$te.actions,FUe=$te.reducer,MUe=["children"];function BUe(e,t){if(e==null)return{};var r,n,i=UUe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UUe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VUe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},$Ue=L.createContext(VUe);function zte(e){var{children:t}=e,r=BUe(e,MUe);return L.createElement($Ue.Provider,{value:r},t)}function NE(e,t){var r,n,i=It(c=>Uf(c,e)),a=It(c=>Vf(c,t)),s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:jo.allowDataOverflow,o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:Fo.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function qO(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=kE(),{needClipX:a,needClipY:s,needClip:o}=NE(t,r);if(!o)return null;var{x:l,y:c,width:u,height:f}=i;return L.createElement("clipPath",{id:"clipPath-".concat(n)},L.createElement("rect",{x:a?l:l-u/2,y:s?c:c-f/2,width:a?u:u*2,height:s?f:f*2}))}var zUe=["onMouseEnter","onMouseLeave","onClick"],WUe=["value","background","tooltipPosition"],HUe=["id"],qUe=["onMouseEnter","onClick","onMouseLeave"];function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(null,arguments)}function gU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gU(Object(r),!0).forEach(function(n){GUe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GUe(e,t,r){return(t=KUe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KUe(e){var t=XUe(e,"string");return typeof t=="symbol"?t:t+""}function XUe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p5(e,t){if(e==null)return{};var r,n,i=YUe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YUe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JUe=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Ph(r,t),payload:e}]};function QUe(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:a,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:Ph(a,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function ZUe(e){var t=It(ph),{data:r,dataKey:n,background:i,allOtherBarProps:a}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=a,c=p5(a,zUe),u=MO(s,n),f=BO(o),d=UO(l,n);if(!i||r==null)return null;var h=qn(i,!1);return L.createElement(L.Fragment,null,r.map((g,m)=>{var{value:v,background:y,tooltipPosition:b}=g,_=p5(g,WUe);if(!y)return null;var N=u(g,m),R=f(g,m),O=d(g,m),k=Vs(Vs(Vs(Vs(Vs({option:i,isActive:String(m)===t},_),{},{fill:"#eee"},y),h),Bx(c,g,m)),{},{onMouseEnter:N,onMouseLeave:R,onClick:O,dataKey:n,index:m,className:"recharts-bar-background-rectangle"});return L.createElement(HO,gh({key:"background-bar-".concat(k.index)},k))}))}function eVe(e){var{showLabels:t,children:r,rects:n}=e,i=n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:a.width,height:a.height};return Vs(Vs({},s),{},{value:a.value,payload:a.payload,parentViewBox:a.parentViewBox,viewBox:s,fill:a.fill})});return L.createElement(OO,{value:t?i:void 0},r)}function tVe(e){var{shape:t,activeBar:r,baseProps:n,entry:i,index:a,dataKey:s}=e,o=It(ph),l=It(ate),c=r&&String(a)===o&&(l==null||s===l),u=c?r:t;return L.createElement(HO,gh({},n,i,{isActive:c,option:u,index:a,dataKey:s}))}function rVe(e){var{shape:t,baseProps:r,entry:n,index:i,dataKey:a}=e;return L.createElement(HO,gh({},r,n,{isActive:!1,option:t,index:i,dataKey:a}))}function nVe(e){var{data:t,props:r}=e,n=Kl(r),{id:i}=n,a=p5(n,HUe),{shape:s,dataKey:o,activeBar:l}=r,{onMouseEnter:c,onClick:u,onMouseLeave:f}=r,d=p5(r,qUe),h=MO(c,o),g=BO(f),m=UO(u,o);return t?L.createElement(L.Fragment,null,t.map((v,y)=>L.createElement(Ti,gh({className:"recharts-bar-rectangle"},Bx(d,v,y),{onMouseEnter:h(v,y),onMouseLeave:g(v,y),onClick:m(v,y),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(y)}),l?L.createElement(tVe,{shape:s,activeBar:l,baseProps:a,entry:v,index:y,dataKey:o}):L.createElement(rVe,{shape:s,baseProps:a,entry:v,index:y,dataKey:o})))):null}function iVe(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,f=r.current,d=Xg(t,"recharts-bar-"),[h,g]=L.useState(!1),m=!h,v=L.useCallback(()=>{typeof c=="function"&&c(),g(!1)},[c]),y=L.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return L.createElement(eVe,{showLabels:m,rects:n},L.createElement(Kg,{animationId:d,begin:s,duration:o,isActive:a,easing:l,onAnimationEnd:v,onAnimationStart:y,key:d},b=>{var _=b===1?n:n==null?void 0:n.map((N,R)=>{var O=f&&f[R];if(O)return Vs(Vs({},N),{},{x:bn(O.x,N.x,b),y:bn(O.y,N.y,b),width:bn(O.width,N.width,b),height:bn(O.height,N.height,b)});if(i==="horizontal"){var k=bn(0,N.height,b);return Vs(Vs({},N),{},{y:N.y+N.height-k,height:k})}var S=bn(0,N.width,b);return Vs(Vs({},N),{},{width:S})});return b>0&&(r.current=_??null),_==null?null:L.createElement(Ti,null,L.createElement(nVe,{props:t,data:_}))}),L.createElement(EE,{label:t.label}),t.children)}function aVe(e){var t=L.useRef(null);return L.createElement(iVe,{previousRectanglesRef:t,props:e})}var Wte=0,sVe=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Sn(e,t)}};class oVe extends L.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(t||r==null)return null;var u=Dr("recharts-bar",i),f=c;return L.createElement(Ti,{className:u,id:c},o&&L.createElement("defs",null,L.createElement(qO,{clipPathId:f,xAxisId:a,yAxisId:s})),L.createElement(Ti,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},L.createElement(ZUe,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),L.createElement(aVe,this.props)))}}var lVe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Mf.isSsr,legendType:"rect",minPointSize:Wte,xAxisId:0,yAxisId:0};function cVe(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:f}=NE(t,r),d=zx(),h=Ps(),g=JI(e.children,a1),m=It(b=>FVe(b,t,r,h,e.id,g));if(d!=="vertical"&&d!=="horizontal")return null;var v,y=m==null?void 0:m[0];return y==null||y.height==null||y.width==null?v=0:v=d==="vertical"?y.height/2:y.width/2,L.createElement(zte,{xAxisId:t,yAxisId:r,data:m,dataPointFormatter:sVe,errorBarOffset:v},L.createElement(oVe,gh({},e,{layout:d,needClip:f,data:m,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:a,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function uVe(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:d,cells:h,parentViewBox:g}=e,m=t==="horizontal"?o:s,v=u?m.scale.domain():null,y=BDe({numericAxis:m});return f.map((b,_)=>{var N,R,O,k,S,T;u?N=RDe(u[_],v):(N=Sn(b,r),Array.isArray(N)||(N=[y,N]));var j=LUe(n,Wte)(N[1],_);if(t==="horizontal"){var E,[C,D]=[o.scale(N[0]),o.scale(N[1])];R=g9({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:b,index:_}),O=(E=D??C)!==null&&E!==void 0?E:void 0,k=i.size;var q=C-D;if(S=bo(q)?0:q,T={x:R,y:d.top,width:k,height:d.height},Math.abs(j)>0&&Math.abs(S)<Math.abs(j)){var ee=Da(S||j)*(Math.abs(j)-Math.abs(S));O-=ee,S+=ee}}else{var[le,se]=[s.scale(N[0]),s.scale(N[1])];if(R=le,O=g9({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:b,index:_}),k=se-le,S=i.size,T={x:d.left,y:O,width:d.width,height:S},Math.abs(j)>0&&Math.abs(k)<Math.abs(j)){var K=Da(k||j)*(Math.abs(j)-Math.abs(k));k+=K}}if(R==null||O==null||k==null||S==null)return null;var X=Vs(Vs({},b),{},{x:R,y:O,width:k,height:S,value:u?N:N[1],payload:b,background:T,tooltipPosition:{x:R+k/2,y:O+S/2},parentViewBox:g},h&&h[_]&&h[_].props);return X}).filter(Boolean)}function fVe(e){var t=ya(e,lVe),r=Ps();return L.createElement(TE,{id:t.id,type:"bar"},n=>L.createElement(L.Fragment,null,L.createElement(VO,{legendPayload:JUe(t)}),L.createElement(AE,{fn:QUe,args:t}),L.createElement($O,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:$Q(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),L.createElement(cVe,gh({},t,{id:n}))))}var tx=L.memo(fVe);tx.displayName="Bar";function vU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vU(Object(r),!0).forEach(function(n){dVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dVe(e,t,r){return(t=hVe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hVe(e){var t=pVe(e,"string");return typeof t=="symbol"?t:t+""}function pVe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mVe=(e,t)=>t,gVe=(e,t,r)=>r,vVe=(e,t,r,n)=>n,yVe=(e,t,r,n,i)=>i,n2=Me([Qx,yVe],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),xVe=Me([n2],e=>e==null?void 0:e.maxBarSize),wVe=(e,t,r,n,i,a)=>a,yU=(e,t,r)=>{var n=r??e;if(!Hn(n))return As(n,t,0)},bVe=Me([Nr,Qx,mVe,gVe,vVe],(e,t,r,n,i)=>t.filter(a=>e==="horizontal"?a.xAxisId===r:a.yAxisId===n).filter(a=>a.isPanorama===i).filter(a=>a.hide===!1).filter(a=>a.type==="bar")),_Ve=(e,t,r,n)=>{var i=Nr(e);return i==="horizontal"?Zy(e,"yAxis",r,n):Zy(e,"xAxis",t,n)},SVe=(e,t,r)=>{var n=Nr(e);return n==="horizontal"?CB(e,"xAxis",t):CB(e,"yAxis",r)},EVe=(e,t,r)=>{var n={},i=e.filter(gE),a=e.filter(c=>c.stackId==null),s=i.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),o=Object.entries(s).map(c=>{var[u,f]=c,d=f.map(g=>g.dataKey),h=yU(t,r,f[0].barSize);return{stackId:u,dataKeys:d,barSize:h}}),l=a.map(c=>{var u=[c.dataKey].filter(d=>d!=null),f=yU(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...l]},AVe=Me([bVe,mFe,SVe],EVe),TVe=(e,t,r,n,i)=>{var a,s,o=n2(e,t,r,n,i);if(o!=null){var l=Nr(e),c=nee(e),{maxBarSize:u}=o,f=Hn(u)?c:u,d,h;return l==="horizontal"?(d=xu(e,"xAxis",t,n),h=yu(e,"xAxis",t,n)):(d=xu(e,"yAxis",r,n),h=yu(e,"yAxis",r,n)),(a=(s=sp(d,h,!0))!==null&&s!==void 0?s:f)!==null&&a!==void 0?a:0}},Hte=(e,t,r,n)=>{var i=Nr(e),a,s;return i==="horizontal"?(a=xu(e,"xAxis",t,n),s=yu(e,"xAxis",t,n)):(a=xu(e,"yAxis",r,n),s=yu(e,"yAxis",r,n)),sp(a,s)};function kVe(e,t,r,n,i){var a=n.length;if(!(a<1)){var s=As(e,r,0,!0),o,l=[];if(rs(n[0].barSize)){var c=!1,u=r/a,f=n.reduce((y,b)=>y+(b.barSize||0),0);f+=(a-1)*s,f>=r&&(f-=(a-1)*s,s=0),f>=r&&u>0&&(c=!0,u*=.9,f=a*u);var d=(r-f)/2>>0,h={offset:d-s,size:0};o=n.reduce((y,b)=>{var _,N={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:h.offset+h.size+s,size:c?u:(_=b.barSize)!==null&&_!==void 0?_:0}},R=[...y,N];return h=R[R.length-1].position,R},l)}else{var g=As(t,r,0,!0);r-2*g-(a-1)*s<=0&&(s=0);var m=(r-2*g-(a-1)*s)/a;m>1&&(m>>=0);var v=rs(i)?Math.min(m,i):m;o=n.reduce((y,b,_)=>[...y,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:g+(m+s)*_+(m-v)/2,size:v}}],l)}return o}}var NVe=(e,t,r,n,i,a,s)=>{var o=Hn(s)?t:s,l=kVe(r,n,i!==a?i:a,e,o);return i!==a&&l!=null&&(l=l.map(c=>Lw(Lw({},c),{},{position:Lw(Lw({},c.position),{},{offset:c.position.offset-i/2})}))),l},CVe=Me([AVe,nee,pFe,iee,TVe,Hte,xVe],NVe),PVe=(e,t,r,n)=>xu(e,"xAxis",t,n),IVe=(e,t,r,n)=>xu(e,"yAxis",r,n),OVe=(e,t,r,n)=>yu(e,"xAxis",t,n),DVe=(e,t,r,n)=>yu(e,"yAxis",r,n),RVe=Me([CVe,n2],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),LVe=(e,t)=>{var r=mE(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(s=>s.key===r)}}}},jVe=Me([_Ve,n2],LVe),FVe=Me([va,_6,PVe,IVe,OVe,DVe,RVe,Nr,Kx,Hte,jVe,n2,wVe],(e,t,r,n,i,a,s,o,l,c,u,f,d)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:m}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||i==null||a==null||c==null)){var{data:v}=f,y;if(v!=null&&v.length>0?y=v:y=h==null?void 0:h.slice(g,m+1),y!=null)return uVe({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:y,offset:e,cells:d})}}),qte=e=>{var{chartData:t}=e,r=hi(),n=Ps();return L.useEffect(()=>n?()=>{}:(r(MB(t)),()=>{r(MB(void 0))}),[t,r,n]),null},xU={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Gte=ul({name:"brush",initialState:xU,reducers:{setBrushSettings(e,t){return t.payload==null?xU:t.payload}}}),{setBrushSettings:FHe}=Gte.actions,MVe=Gte.reducer;function BVe(e,t,r){return(t=UVe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UVe(e){var t=VVe(e,"string");return typeof t=="symbol"?t:t+""}function VVe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class GO{static create(t){return new GO(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}BVe(GO,"EPS",1e-4);function $Ve(e){return(e%180+180)%180}var zVe=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=$Ve(i),s=a*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},WVe={dots:[],areas:[],lines:[]},Kte=ul({name:"referenceElements",initialState:WVe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=uf(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=uf(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=uf(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:MHe,removeDot:BHe,addArea:UHe,removeArea:VHe,addLine:$He,removeLine:zHe}=Kte.actions,HVe=Kte.reducer,qVe=L.createContext(void 0),GVe=e=>{var{children:t}=e,[r]=L.useState("".concat(Wy("recharts"),"-clip")),n=kE();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return L.createElement(qVe.Provider,{value:r},L.createElement("defs",null,L.createElement("clipPath",{id:r},L.createElement("rect",{x:i,y:a,height:o,width:s}))),t)};function Ag(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Xte(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function KVe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return zVe(n,r)}function XVe(e,t,r){var n=r==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function m5(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function YVe(e,t){return Xte(e,t+1)}function JVe(e,t,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=t,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:Xte(n,c)};var m=l,v,y=()=>(v===void 0&&(v=r(g,m)),v),b=g.coordinate,_=l===0||m5(e,b,y,u,o);_||(l=0,u=s,c+=1),_&&(u=b+e*(y()/2+i),l+=c)},d;c<=a.length;)if(d=f(),d)return d.v;return[]}function wU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wU(Object(r),!0).forEach(function(n){QVe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QVe(e,t,r){return(t=ZVe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZVe(e){var t=e$e(e,"string");return typeof t=="symbol"?t:t+""}function e$e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t$e(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(d){var h=a[d],g,m=()=>(g===void 0&&(g=r(h,d)),g);if(d===s-1){var v=e*(h.coordinate+e*m()/2-l);a[d]=h=ps(ps({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate})}else a[d]=h=ps(ps({},h),{},{tickCoord:h.coordinate});var y=m5(e,h.tickCoord,m,o,l);y&&(l=h.tickCoord-e*(m()/2+i),a[d]=ps(ps({},h),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}function r$e(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var u=n[o-1],f=r(u,o-1),d=e*(u.coordinate+e*f/2-c);s[o-1]=u=ps(ps({},u),{},{tickCoord:d>0?u.coordinate-d*e:u.coordinate});var h=m5(e,u.tickCoord,()=>f,l,c);h&&(c=u.tickCoord-e*(f/2+i),s[o-1]=ps(ps({},u),{},{isShow:!0}))}for(var g=a?o-1:o,m=function(b){var _=s[b],N,R=()=>(N===void 0&&(N=r(_,b)),N);if(b===0){var O=e*(_.coordinate-e*R()/2-l);s[b]=_=ps(ps({},_),{},{tickCoord:O<0?_.coordinate-O*e:_.coordinate})}else s[b]=_=ps(ps({},_),{},{tickCoord:_.coordinate});var k=m5(e,_.tickCoord,R,l,c);k&&(l=_.tickCoord+e*(R()/2+i),s[b]=ps(ps({},_),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function KO(e,t,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=e;if(!i||!i.length||!n)return[];if(Dt(l)||Mf.isSsr){var d;return(d=YVe(i,Dt(l)?l:0))!==null&&d!==void 0?d:[]}var h=[],g=o==="top"||o==="bottom"?"width":"height",m=u&&g==="width"?Wv(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(_,N)=>{var R=typeof c=="function"?c(_.value,N):_.value;return g==="width"?KVe(Wv(R,{fontSize:t,letterSpacing:r}),m,f):Wv(R,{fontSize:t,letterSpacing:r})[g]},y=i.length>=2?Da(i[1].coordinate-i[0].coordinate):1,b=XVe(a,y,g);return l==="equidistantPreserveStart"?JVe(y,b,v,i,s):(l==="preserveStart"||l==="preserveStartEnd"?h=r$e(y,b,v,i,s,l==="preserveStartEnd"):h=t$e(y,b,v,i,s),h.filter(_=>_.isShow))}var n$e=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+a,c=s+l+o+(r?n:0);return Math.round(c)}return 0},i$e=["axisLine","width","height","className","hide","ticks"],a$e=["viewBox"],s$e=["viewBox"];function yC(e,t){if(e==null)return{};var r,n,i=o$e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function o$e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(null,arguments)}function bU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bU(Object(r),!0).forEach(function(n){l$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l$e(e,t,r){return(t=c$e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c$e(e){var t=u$e(e,"string");return typeof t=="symbol"?t:t+""}function u$e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XO={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function f$e(e){var{x:t,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=fa(fa(fa({},l),qn(o,!1)),{},{fill:"none"});if(a==="top"||a==="bottom"){var u=+(a==="top"&&!s||a==="bottom"&&s);c=fa(fa({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);c=fa(fa({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+i})}return L.createElement("line",lp({},c,{className:Dr("recharts-cartesian-axis-line",np(o,"className"))}))}function d$e(e,t,r,n,i,a,s,o,l){var c,u,f,d,h,g,m=o?-1:1,v=e.tickSize||s,y=Dt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,d=r+ +!o*i,f=d-m*v,g=f-m*l,h=y;break;case"left":f=d=e.coordinate,u=t+ +!o*n,c=u-m*v,h=c-m*l,g=y;break;case"right":f=d=e.coordinate,u=t+ +o*n,c=u+m*v,h=c+m*l,g=y;break;default:c=u=e.coordinate,d=r+ +o*i,f=d+m*v,g=f+m*l,h=y;break}return{line:{x1:c,y1:f,x2:u,y2:d},tick:{x:h,y:g}}}function h$e(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function p$e(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function m$e(e){var{option:t,tickProps:r,value:n}=e,i,a=Dr(r.className,"recharts-cartesian-axis-tick-value");if(L.isValidElement(t))i=L.cloneElement(t,fa(fa({},r),{},{className:a}));else if(typeof t=="function")i=t(fa(fa({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Dr(s,t==null?void 0:t.className)),i=L.createElement(SE,lp({},r,{className:s}),n)}return i}function g$e(e){var{ticks:t=[],tick:r,tickLine:n,stroke:i,tickFormatter:a,unit:s,padding:o,tickTextProps:l,orientation:c,mirror:u,x:f,y:d,width:h,height:g,tickSize:m,tickMargin:v,fontSize:y,letterSpacing:b,getTicksConfig:_,events:N}=e,R=KO(fa(fa({},_),{},{ticks:t}),y,b),O=h$e(c,u),k=p$e(c,u),S=Kl(_),T=qn(r,!1),j=fa(fa({},S),{},{fill:"none"},qn(n,!1)),E=R.map((C,D)=>{var{line:q,tick:ee}=d$e(C,f,d,h,g,c,m,u,v),le=fa(fa(fa(fa({textAnchor:O,verticalAnchor:k},S),{},{stroke:"none",fill:i},T),ee),{},{index:D,payload:C,visibleTicksCount:R.length,tickFormatter:a,padding:o},l);return L.createElement(Ti,lp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Bx(N,C,D)),n&&L.createElement("line",lp({},j,q,{className:Dr("recharts-cartesian-axis-tick-line",np(n,"className"))})),r&&L.createElement(m$e,{option:r,tickProps:le,value:"".concat(typeof a=="function"?a(C.value,D):C.value).concat(s||"")}))});return E.length>0?L.createElement("g",{className:"recharts-cartesian-axis-ticks"},E):null}var v$e=L.forwardRef((e,t)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o}=e,l=yC(e,i$e),[c,u]=L.useState(""),[f,d]=L.useState(""),h=L.useRef([]);L.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var m;return n$e({ticks:h.current,label:(m=e.labelRef)===null||m===void 0?void 0:m.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=L.useCallback(m=>{if(m){var v=m.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=Array.from(v);var y=v[0];if(y){var b=window.getComputedStyle(y),_=b.fontSize,N=b.letterSpacing;(_!==c||N!==f)&&(u(_),d(N))}}},[c,f]);return s||n!=null&&n<=0||i!=null&&i<=0?null:L.createElement(Ti,{className:Dr("recharts-cartesian-axis",a),ref:g},L.createElement(f$e,{x:e.x,y:e.y,width:n,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Kl(e)}),L.createElement(g$e,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:f,getTicksConfig:e,events:l}),L.createElement(C9e,{x:e.x,y:e.y,width:e.width,height:e.height},L.createElement(B9e,{label:e.label}),e.children))}),y$e=L.memo(v$e,(e,t)=>{var{viewBox:r}=e,n=yC(e,a$e),{viewBox:i}=t,a=yC(t,s$e);return Ag(r,i)&&Ag(n,a)}),YO=L.forwardRef((e,t)=>{var r=ya(e,XO);return L.createElement(y$e,lp({},r,{ref:t}))});YO.displayName="CartesianAxis";var x$e=["x1","y1","x2","y2","key"],w$e=["offset"],b$e=["xAxisId","yAxisId"],_$e=["xAxisId","yAxisId"];function _U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_U(Object(r),!0).forEach(function(n){S$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_U(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S$e(e,t,r){return(t=E$e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E$e(e){var t=A$e(e,"string");return typeof t=="symbol"?t:t+""}function A$e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x0.apply(null,arguments)}function g5(e,t){if(e==null)return{};var r,n,i=T$e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function T$e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var k$e=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=e;return L.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Yte(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:a,y2:s,key:o}=t,l=g5(t,x$e),c=Kl(l),{offset:u}=c,f=g5(c,w$e);r=L.createElement("line",x0({},f,{x1:n,y1:i,x2:a,y2:s,fill:"none",key:o}))}return r}function N$e(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=g5(e,b$e),l=i.map((c,u)=>{var f=bs(bs({},o),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return Yte(n,f)});return L.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function C$e(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=g5(e,_$e),l=i.map((c,u)=>{var f=bs(bs({},o),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return Yte(n,f)});return L.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function P$e(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=o.map(f=>Math.round(f+i-i)).sort((f,d)=>f-d);i!==c[0]&&c.unshift(0);var u=c.map((f,d)=>{var h=!c[d+1],g=h?i+s-f:c[d+1]-f;if(g<=0)return null;var m=d%t.length;return L.createElement("rect",{key:"react-".concat(d),y:f,x:n,height:g,width:a,stroke:"none",fill:t[m],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function I$e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(f=>Math.round(f+i-i)).sort((f,d)=>f-d);i!==c[0]&&c.unshift(0);var u=c.map((f,d)=>{var h=!c[d+1],g=h?i+s-f:c[d+1]-f;if(g<=0)return null;var m=d%r.length;return L.createElement("rect",{key:"react-".concat(d),x:f,y:a,width:g,height:o,stroke:"none",fill:r[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return L.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var O$e=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return UQ(KO(bs(bs(bs({},XO),r),{},{ticks:VQ(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},D$e=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return UQ(KO(bs(bs(bs({},XO),r),{},{ticks:VQ(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},R$e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Gd(e){var t=E6(),r=A6(),n=qQ(),i=bs(bs({},ya(e,R$e)),{},{x:Dt(e.x)?e.x:n.left,y:Dt(e.y)?e.y:n.top,width:Dt(e.width)?e.width:n.width,height:Dt(e.height)?e.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:d,verticalValues:h}=i,g=Ps(),m=It(T=>PB(T,"xAxis",a,g)),v=It(T=>PB(T,"yAxis",s,g));if(!Dt(c)||c<=0||!Dt(u)||u<=0||!Dt(o)||o!==+o||!Dt(l)||l!==+l)return null;var y=i.verticalCoordinatesGenerator||O$e,b=i.horizontalCoordinatesGenerator||D$e,{horizontalPoints:_,verticalPoints:N}=i;if((!_||!_.length)&&typeof b=="function"){var R=d&&d.length,O=b({yAxis:v?bs(bs({},v),{},{ticks:R?d:v.ticks}):void 0,width:t,height:r,offset:n},R?!0:f);zv(Array.isArray(O),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(_=O)}if((!N||!N.length)&&typeof y=="function"){var k=h&&h.length,S=y({xAxis:m?bs(bs({},m),{},{ticks:k?h:m.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);zv(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(N=S)}return L.createElement("g",{className:"recharts-cartesian-grid"},L.createElement(k$e,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),L.createElement(P$e,x0({},i,{horizontalPoints:_})),L.createElement(I$e,x0({},i,{verticalPoints:N})),L.createElement(N$e,x0({},i,{offset:n,horizontalPoints:_,xAxis:m,yAxis:v})),L.createElement(C$e,x0({},i,{offset:n,verticalPoints:N,xAxis:m,yAxis:v})))}Gd.displayName="CartesianGrid";var Jte=(e,t,r,n)=>xu(e,"xAxis",t,n),Qte=(e,t,r,n)=>yu(e,"xAxis",t,n),Zte=(e,t,r,n)=>xu(e,"yAxis",r,n),ere=(e,t,r,n)=>yu(e,"yAxis",r,n),L$e=Me([Nr,Jte,Zte,Qte,ere],(e,t,r,n,i)=>Eu(e,"xAxis")?sp(t,n,!1):sp(r,i,!1)),j$e=(e,t,r,n,i)=>i;function F$e(e){return e.type==="line"}var M$e=Me([Qx,j$e],(e,t)=>e.filter(F$e).find(r=>r.id===t)),B$e=Me([Nr,Jte,Zte,Qte,ere,M$e,L$e,Kx],(e,t,r,n,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(a==null||t==null||r==null||n==null||i==null||n.length===0||i.length===0||s==null)){var{dataKey:f,data:d}=a,h;if(d!=null&&d.length>0?h=d:h=l==null?void 0:l.slice(c,u+1),h!=null)return oze({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:h})}}),U$e=["id"],V$e=["type","layout","connectNulls","needClip"],$$e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function SU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SU(Object(r),!0).forEach(function(n){z$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z$e(e,t,r){return(t=W$e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W$e(e){var t=H$e(e,"string");return typeof t=="symbol"?t:t+""}function H$e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JO(e,t){if(e==null)return{};var r,n,i=q$e(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function q$e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(null,arguments)}var G$e=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Ph(r,t),payload:e}]};function K$e(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Ph(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var tre=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function X$e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}var Y$e=(e,t,r)=>{var n=r.reduce((f,d)=>f+d);if(!n)return tre(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>a){o=[...r.slice(0,l),a-c];break}var u=o.length%2===0?[0,s]:[s];return[...X$e(r,i),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function J$e(e,t){var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Dr("recharts-line-dot",typeof e!="boolean"?e.className:"");r=L.createElement(DO,cp({},t,{className:n}))}return r}function Q$e(e,t){return e==null?!1:t?!0:e.length===1}function Z$e(e){var{clipPathId:t,points:r,props:n}=e,{dot:i,dataKey:a,needClip:s}=n;if(!Q$e(r,i))return null;var{id:o}=n,l=JO(n,U$e),c=zS(i),u=Kl(l),f=qn(i,!0),d=r.map((g,m)=>{var v=$o($o($o({key:"dot-".concat(m),r:3},u),f),{},{index:m,cx:g.x,cy:g.y,dataKey:a,value:g.value,payload:g.payload,points:r});return J$e(i,v)}),h={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return L.createElement(Ti,cp({className:"recharts-line-dots",key:"dots"},h),d)}function eze(e){var{showLabels:t,children:r,points:n}=e,i=L.useMemo(()=>n==null?void 0:n.map(a=>{var s={x:a.x,y:a.y,width:0,height:0};return $o($o({},s),{},{value:a.value,payload:a.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return L.createElement(OO,{value:t?i:null},r)}function EU(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:c}=a,u=JO(a,V$e),f=$o($o({},qn(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return L.createElement(L.Fragment,null,(n==null?void 0:n.length)>1&&L.createElement(Wm,cp({},f,{pathRef:r})),L.createElement(Z$e,{points:n,clipPathId:t,props:a}))}function tze(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function rze(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:d,width:h,height:g,onAnimationEnd:m,onAnimationStart:v}=r,y=i.current,b=Xg(r,"recharts-line-"),[_,N]=L.useState(!1),R=!_,O=L.useCallback(()=>{typeof m=="function"&&m(),N(!1)},[m]),k=L.useCallback(()=>{typeof v=="function"&&v(),N(!0)},[v]),S=tze(n.current),T=a.current;return L.createElement(eze,{points:s,showLabels:R},r.children,L.createElement(Kg,{animationId:b,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:O,onAnimationStart:k,key:b},j=>{var E=bn(T,S+T,j),C=Math.min(E,S),D;if(l)if(o){var q="".concat(o).split(/[,\s]+/gim).map(se=>parseFloat(se));D=Y$e(C,S,q)}else D=tre(S,C);else D=o==null?void 0:String(o);if(y){var ee=y.length/s.length,le=j===1?s:s.map((se,K)=>{var X=Math.floor(K*ee);if(y[X]){var _e=y[X];return $o($o({},se),{},{x:bn(_e.x,se.x,j),y:bn(_e.y,se.y,j)})}return d?$o($o({},se),{},{x:bn(h*2,se.x,j),y:bn(g/2,se.y,j)}):$o($o({},se),{},{x:se.x,y:se.y})});return i.current=le,L.createElement(EU,{props:r,points:le,clipPathId:t,pathRef:n,strokeDasharray:D})}return j>0&&S>0&&(i.current=s,a.current=C),L.createElement(EU,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:D})}),L.createElement(EE,{label:r.label}))}function nze(e){var{clipPathId:t,props:r}=e,n=L.useRef(null),i=L.useRef(0),a=L.useRef(null);return L.createElement(rze,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:i,pathRef:a})}var ize=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Sn(e.payload,t)});class aze extends L.Component{render(){var t,{hide:r,dot:n,points:i,className:a,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:f,id:d,needClip:h}=this.props;if(r)return null;var g=Dr("recharts-line",a),m=d,{r:v=3,strokeWidth:y=2}=(t=qn(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=zS(n),_=v*2+y;return L.createElement(L.Fragment,null,L.createElement(Ti,{className:g},h&&L.createElement("defs",null,L.createElement(qO,{clipPathId:m,xAxisId:s,yAxisId:o}),!b&&L.createElement("clipPath",{id:"clipPath-dots-".concat(m)},L.createElement("rect",{x:c-_/2,y:l-_/2,width:u+_,height:f+_}))),L.createElement(zte,{xAxisId:s,yAxisId:o,data:i,dataPointFormatter:ize,errorBarOffset:0},L.createElement(nze,{props:this.props,clipPathId:m}))),L.createElement(gC,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var rre={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Mf.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function sze(e){var t=ya(e,rre),{activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:f,legendType:d,xAxisId:h,yAxisId:g,id:m}=t,v=JO(t,$$e),{needClip:y}=NE(h,g),b=kE(),_=zx(),N=Ps(),R=It(j=>B$e(j,h,g,N,m));if(_!=="horizontal"&&_!=="vertical"||R==null||b==null)return null;var{height:O,width:k,x:S,y:T}=b;return L.createElement(aze,cp({},v,{id:m,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:u,hide:c,label:f,legendType:d,xAxisId:h,yAxisId:g,points:R,layout:_,height:O,width:k,left:S,top:T,needClip:y}))}function oze(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,u)=>{var f=Sn(c,s);if(t==="horizontal"){var d=K_({axis:r,ticks:i,bandSize:o,entry:c,index:u}),h=Hn(f)?null:n.scale(f);return{x:d,y:h,value:f,payload:c}}var g=Hn(f)?null:r.scale(f),m=K_({axis:n,ticks:a,bandSize:o,entry:c,index:u});return g==null||m==null?null:{x:g,y:m,value:f,payload:c}}).filter(Boolean)}function lze(e){var t=ya(e,rre),r=Ps();return L.createElement(TE,{id:t.id,type:"line"},n=>L.createElement(L.Fragment,null,L.createElement(VO,{legendPayload:G$e(t)}),L.createElement(AE,{fn:K$e,args:t}),L.createElement($O,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),L.createElement(sze,cp({},t,{id:n}))))}var QO=L.memo(lze);QO.displayName="Line";var nre=(e,t,r,n)=>xu(e,"xAxis",t,n),ire=(e,t,r,n)=>yu(e,"xAxis",t,n),are=(e,t,r,n)=>xu(e,"yAxis",r,n),sre=(e,t,r,n)=>yu(e,"yAxis",r,n),cze=Me([Nr,nre,are,ire,sre],(e,t,r,n,i)=>Eu(e,"xAxis")?sp(t,n,!1):sp(r,i,!1)),uze=(e,t,r,n,i)=>i,ore=Me([Qx,uze],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),fze=(e,t,r,n,i)=>{var a,s=ore(e,t,r,n,i);if(s!=null){var o=Nr(e),l=Eu(o,"xAxis"),c;if(l?c=Zy(e,"yAxis",r,n):c=Zy(e,"xAxis",t,n),c!=null){var{stackId:u}=s,f=mE(s);if(!(u==null||f==null)){var d=(a=c[u])===null||a===void 0?void 0:a.stackedData;return d==null?void 0:d.find(h=>h.key===f)}}}},dze=Me([Nr,nre,are,ire,sre,fze,Kx,cze,ore],(e,t,r,n,i,a,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:f}=s;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:d}=l,h;if(d&&d.length>0?h=d:h=c==null?void 0:c.slice(u,f+1),h!=null){var g=void 0;return Dze({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:u,areaSettings:l,stackedData:a,displayedData:h,chartBaseValue:g,bandSize:o})}}}),hze=["id"],pze=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function lre(e,t){if(e==null)return{};var r,n,i=mze(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mze(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AU(Object(r),!0).forEach(function(n){gze(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gze(e,t,r){return(t=vze(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vze(e){var t=yze(e,"string");return typeof t=="symbol"?t:t+""}function yze(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(null,arguments)}function v5(e,t){return e&&e!=="none"?e:t}var xze=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:v5(n,i),value:Ph(r,t),payload:e}]};function wze(e){var{dataKey:t,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Ph(s,t),hide:o,type:e.tooltipType,color:v5(n,a),unit:l}}}var bze=(e,t)=>{var r;if(L.isValidElement(e))r=L.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Dr("recharts-area-dot",typeof e!="boolean"?e.className:"");r=L.createElement(DO,df({},t,{className:n}))}return r};function _ze(e,t){return e==null?!1:t?!0:e.length===1}function Sze(e){var{clipPathId:t,points:r,props:n}=e,{needClip:i,dot:a,dataKey:s}=n;if(!_ze(r,a))return null;var o=zS(a),l=Kl(n),c=qn(a,!0),u=r.map((d,h)=>{var g=tf(tf(tf({key:"dot-".concat(h),r:3},l),c),{},{index:h,cx:d.x,cy:d.y,dataKey:s,value:d.value,payload:d.payload,points:r});return bze(a,g)}),f={clipPath:i?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return L.createElement(Ti,df({className:"recharts-area-dots"},f),u)}function Eze(e){var{showLabels:t,children:r,points:n}=e,i=n.map(a=>{var s={x:a.x,y:a.y,width:0,height:0};return tf(tf({},s),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:s,fill:void 0})});return L.createElement(OO,{value:t?i:null},r)}function TU(e){var{points:t,baseLine:r,needClip:n,clipPathId:i,props:a}=e,{layout:s,type:o,stroke:l,connectNulls:c,isRange:u}=a,{id:f}=a,d=lre(a,hze),h=Kl(d);return L.createElement(L.Fragment,null,(t==null?void 0:t.length)>1&&L.createElement(Ti,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},L.createElement(Wm,df({},h,{id:f,points:t,connectNulls:c,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&L.createElement(Wm,df({},h,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:t})),l!=="none"&&u&&L.createElement(Wm,df({},h,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:r}))),L.createElement(Sze,{points:t,props:d,clipPathId:i}))}function Aze(e){var{alpha:t,baseLine:r,points:n,strokeWidth:i}=e,a=n[0].y,s=n[n.length-1].y;if(!rs(a)||!rs(s))return null;var o=t*Math.abs(a-s),l=Math.max(...n.map(c=>c.x||0));return Dt(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.x||0),l)),Dt(l)?L.createElement("rect",{x:0,y:a<s?a:a-o,width:l+(i?parseInt("".concat(i),10):1),height:Math.floor(o)}):null}function Tze(e){var{alpha:t,baseLine:r,points:n,strokeWidth:i}=e,a=n[0].x,s=n[n.length-1].x;if(!rs(a)||!rs(s))return null;var o=t*Math.abs(a-s),l=Math.max(...n.map(c=>c.y||0));return Dt(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.y||0),l)),Dt(l)?L.createElement("rect",{x:a<s?a:a-o,y:0,width:o,height:Math.floor(l+(i?parseInt("".concat(i),10):1))}):null}function kze(e){var{alpha:t,layout:r,points:n,baseLine:i,strokeWidth:a}=e;return r==="vertical"?L.createElement(Aze,{alpha:t,points:n,baseLine:i,strokeWidth:a}):L.createElement(Tze,{alpha:t,points:n,baseLine:i,strokeWidth:a})}function Nze(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=e,{points:s,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationStart:d,onAnimationEnd:h}=n,g=Xg(n,"recharts-area-"),[m,v]=L.useState(!1),y=!m,b=L.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),_=L.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]),N=i.current,R=a.current;return L.createElement(Eze,{showLabels:y,points:s},n.children,L.createElement(Kg,{animationId:g,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:b,onAnimationStart:_,key:g},O=>{if(N){var k=N.length/s.length,S=O===1?s:s.map((j,E)=>{var C=Math.floor(E*k);if(N[C]){var D=N[C];return tf(tf({},j),{},{x:bn(D.x,j.x,O),y:bn(D.y,j.y,O)})}return j}),T;return Dt(o)?T=bn(R,o,O):Hn(o)||bo(o)?T=bn(R,0,O):T=o.map((j,E)=>{var C=Math.floor(E*k);if(Array.isArray(R)&&R[C]){var D=R[C];return tf(tf({},j),{},{x:bn(D.x,j.x,O),y:bn(D.y,j.y,O)})}return j}),O>0&&(i.current=S,a.current=T),L.createElement(TU,{points:S,baseLine:T,needClip:t,clipPathId:r,props:n})}return O>0&&(i.current=s,a.current=o),L.createElement(Ti,null,l&&L.createElement("defs",null,L.createElement("clipPath",{id:"animationClipPath-".concat(r)},L.createElement(kze,{alpha:O,points:s,baseLine:o,layout:n.layout,strokeWidth:n.strokeWidth}))),L.createElement(Ti,{clipPath:"url(#animationClipPath-".concat(r,")")},L.createElement(TU,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n})))}),L.createElement(EE,{label:n.label}))}function Cze(e){var{needClip:t,clipPathId:r,props:n}=e,i=L.useRef(null),a=L.useRef();return L.createElement(Nze,{needClip:t,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class Pze extends L.PureComponent{render(){var t,{hide:r,dot:n,points:i,className:a,top:s,left:o,needClip:l,xAxisId:c,yAxisId:u,width:f,height:d,id:h,baseLine:g}=this.props;if(r)return null;var m=Dr("recharts-area",a),v=h,{r:y=3,strokeWidth:b=2}=(t=qn(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},_=zS(n),N=y*2+b;return L.createElement(L.Fragment,null,L.createElement(Ti,{className:m},l&&L.createElement("defs",null,L.createElement(qO,{clipPathId:v,xAxisId:c,yAxisId:u}),!_&&L.createElement("clipPath",{id:"clipPath-dots-".concat(v)},L.createElement("rect",{x:o-N/2,y:s-N/2,width:f+N,height:d+N}))),L.createElement(Cze,{needClip:l,clipPathId:v,props:this.props})),L.createElement(gC,{points:i,mainColor:v5(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(g)&&L.createElement(gC,{points:g,mainColor:v5(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var cre={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Mf.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Ize(e){var t,r=ya(e,cre),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:f,isAnimationActive:d,legendType:h,stroke:g,xAxisId:m,yAxisId:v}=r,y=lre(r,pze),b=zx(),_=ote(),{needClip:N}=NE(m,v),R=Ps(),{points:O,isRange:k,baseLine:S}=(t=It(q=>dze(q,m,v,R,e.id)))!==null&&t!==void 0?t:{},T=kE();if(b!=="horizontal"&&b!=="vertical"||T==null||_!=="AreaChart"&&_!=="ComposedChart")return null;var{height:j,width:E,x:C,y:D}=T;return!O||!O.length?null:L.createElement(Pze,df({},y,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:S,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:j,hide:f,layout:b,isAnimationActive:d,isRange:k,legendType:h,needClip:N,points:O,stroke:g,width:E,left:C,top:D,xAxisId:m,yAxisId:v}))}var Oze=(e,t,r,n,i)=>{var a=r??t;if(Dt(a))return a;var s=e==="horizontal"?i:n,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return a==="dataMin"?c:a==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function Dze(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:f,yAxisTicks:d,bandSize:h}=e,g=i&&i.length,m=Oze(a,s,r,o,l),v=a==="horizontal",y=!1,b=c.map((N,R)=>{var O;g?O=i[u+R]:(O=Sn(N,n),Array.isArray(O)?y=!0:O=[m,O]);var k=O[1]==null||g&&!t&&Sn(N,n)==null;return v?{x:K_({axis:o,ticks:f,bandSize:h,entry:N,index:R}),y:k?null:l.scale(O[1]),value:O,payload:N}:{x:k?null:o.scale(O[1]),y:K_({axis:l,ticks:d,bandSize:h,entry:N,index:R}),value:O,payload:N}}),_;return g||y?_=b.map(N=>{var R=Array.isArray(N.value)?N.value[0]:null;return v?{x:N.x,y:R!=null&&N.y!=null?l.scale(R):null,payload:N.payload}:{x:R!=null?o.scale(R):null,y:N.y,payload:N.payload}}):_=v?l.scale(m):o.scale(m),{points:b,baseLine:_,isRange:y}}function Rze(e){var t=ya(e,cre),r=Ps();return L.createElement(TE,{id:t.id,type:"area"},n=>L.createElement(L.Fragment,null,L.createElement(VO,{legendPayload:xze(t)}),L.createElement(AE,{fn:wze,args:t}),L.createElement($O,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:$Q(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),L.createElement(Ize,df({},t,{id:n}))))}var xC=L.memo(Rze);xC.displayName="Area";var Lze=["dangerouslySetInnerHTML","ticks"],jze=["id"],Fze=["domain"],Mze=["domain"];function wC(){return wC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wC.apply(null,arguments)}function y5(e,t){if(e==null)return{};var r,n,i=Bze(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bze(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Uze(e){var t=hi();return L.useEffect(()=>(t(hUe(e)),()=>{t(pUe(e))}),[e,t]),null}var Vze=e=>{var{xAxisId:t,className:r}=e,n=It(_6),i=Ps(),a="xAxis",s=It(v=>r1(v,a,t,i)),o=It(v=>Uee(v,a,t,i)),l=It(v=>jee(v,t)),c=It(v=>sMe(v,t)),u=It(v=>hee(v,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:d}=e,h=y5(e,Lze),{id:g}=u,m=y5(u,jze);return L.createElement(YO,wC({},h,m,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:Dr("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:o}))},$ze={allowDataOverflow:jo.allowDataOverflow,allowDecimals:jo.allowDecimals,allowDuplicatedCategory:jo.allowDuplicatedCategory,height:jo.height,hide:!1,mirror:jo.mirror,orientation:jo.orientation,padding:jo.padding,reversed:jo.reversed,scale:jo.scale,tickCount:jo.tickCount,type:jo.type,xAxisId:0},zze=e=>{var t,r,n,i,a,s=ya(e,$ze);return L.createElement(L.Fragment,null,L.createElement(Uze,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),L.createElement(Vze,s))},Wze=(e,t)=>{var{domain:r}=e,n=y5(e,Fze),{domain:i}=t,a=y5(t,Mze);return Ag(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Ag({domain:r},{domain:i}):!1},Kd=L.memo(zze,Wze);Kd.displayName="XAxis";var Hze=["dangerouslySetInnerHTML","ticks"],qze=["id"],Gze=["domain"],Kze=["domain"];function bC(){return bC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bC.apply(null,arguments)}function x5(e,t){if(e==null)return{};var r,n,i=Xze(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xze(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yze(e){var t=hi();return L.useEffect(()=>(t(mUe(e)),()=>{t(gUe(e))}),[e,t]),null}var Jze=e=>{var{yAxisId:t,className:r,width:n,label:i}=e,a=L.useRef(null),s=L.useRef(null),o=It(_6),l=Ps(),c=hi(),u="yAxis",f=It(R=>r1(R,u,t,l)),d=It(R=>Fee(R,t)),h=It(R=>lMe(R,t)),g=It(R=>Uee(R,u,t,l)),m=It(R=>pee(R,t));if(L.useLayoutEffect(()=>{if(!(n!=="auto"||!d||IO(i)||L.isValidElement(i)||m==null)){var R=a.current;if(R){var O=R.getCalculatedWidth();Math.round(d.width)!==Math.round(O)&&c(vUe({id:t,width:O}))}}},[g,d,c,i,t,n,m]),d==null||h==null||m==null)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,b=x5(e,Hze),{id:_}=m,N=x5(m,qze);return L.createElement(YO,bC({},b,N,{ref:a,labelRef:s,scale:f,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:d.width,height:d.height,className:Dr("recharts-".concat(u," ").concat(u),r),viewBox:o,ticks:g}))},Qze={allowDataOverflow:Fo.allowDataOverflow,allowDecimals:Fo.allowDecimals,allowDuplicatedCategory:Fo.allowDuplicatedCategory,hide:!1,mirror:Fo.mirror,orientation:Fo.orientation,padding:Fo.padding,reversed:Fo.reversed,scale:Fo.scale,tickCount:Fo.tickCount,type:Fo.type,width:Fo.width,yAxisId:0},Zze=e=>{var t,r,n,i,a,s=ya(e,Qze);return L.createElement(L.Fragment,null,L.createElement(Yze,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(i=s.minTickGap)!==null&&i!==void 0?i:5,tick:(a=s.tick)!==null&&a!==void 0?a:!0,tickFormatter:s.tickFormatter}),L.createElement(Jze,s))},eWe=(e,t)=>{var{domain:r}=e,n=x5(e,Gze),{domain:i}=t,a=x5(t,Kze);return Ag(n,a)?Array.isArray(r)&&r.length===2&&Array.isArray(i)&&i.length===2?r[0]===i[0]&&r[1]===i[1]:Ag({domain:r},{domain:i}):!1},Xd=L.memo(Zze,eWe);Xd.displayName="YAxis";var tWe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i2=L;function rWe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nWe=typeof Object.is=="function"?Object.is:rWe,iWe=i2.useSyncExternalStore,aWe=i2.useRef,sWe=i2.useEffect,oWe=i2.useMemo,lWe=i2.useDebugValue;tWe.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var a=aWe(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=oWe(function(){function l(h){if(!c){if(c=!0,u=h,h=n(h),i!==void 0&&s.hasValue){var g=s.value;if(i(g,h))return f=g}return f=h}if(g=f,nWe(u,h))return g;var m=n(h);return i!==void 0&&i(g,m)?(u=h,g):(u=h,f=m)}var c=!1,u,f,d=r===void 0?null:r;return[function(){return l(t())},d===null?void 0:function(){return l(d())}]},[t,r,n,i]);var o=iWe(e,a[0],a[1]);return sWe(function(){s.hasValue=!0,s.value=o},[o]),lWe(o),o};function cWe(e){e()}function uWe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){cWe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var kU={notify(){},get:()=>[]};function fWe(e,t){let r,n=kU,i=0,a=!1;function s(m){u();const v=n.subscribe(m);let y=!1;return()=>{y||(y=!0,v(),f())}}function o(){n.notify()}function l(){g.onStateChange&&g.onStateChange()}function c(){return a}function u(){i++,r||(r=e.subscribe(l),n=uWe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=kU)}function d(){a||(a=!0,u())}function h(){a&&(a=!1,f())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:d,tryUnsubscribe:h,getListeners:()=>n};return g}var dWe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hWe=dWe(),pWe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mWe=pWe(),gWe=()=>hWe||mWe?L.useLayoutEffect:L.useEffect,vWe=gWe(),lT=Symbol.for("react-redux-context"),cT=typeof globalThis<"u"?globalThis:{};function yWe(){if(!L.createContext)return{};const e=cT[lT]??(cT[lT]=new Map);let t=e.get(L.createContext);return t||(t=L.createContext(null),e.set(L.createContext,t)),t}var xWe=yWe();function wWe(e){const{children:t,context:r,serverState:n,store:i}=e,a=L.useMemo(()=>{const l=fWe(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),s=L.useMemo(()=>i.getState(),[i]);vWe(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=r||xWe;return L.createElement(o.Provider,{value:a},t)}var bWe=wWe,_We=(e,t)=>t,ZO=Me([_We,Nr,uee,wa,tte,$f,d7e,va],v7e),eD=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},ure=Wl("mouseClick"),fre=Vx();fre.startListening({actionCreator:ure,effect:(e,t)=>{var r=e.payload,n=ZO(t.getState(),eD(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(bMe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var _C=Wl("mouseMove"),dre=Vx();dre.startListening({actionCreator:_C,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=_O(n,n.tooltip.settings.shared),a=ZO(n,eD(r));i==="axis"&&((a==null?void 0:a.activeIndex)!=null?t.dispatch(Kee({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):t.dispatch(Gee()))}});var NU={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},hre=ul({name:"rootProps",initialState:NU,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:NU.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),SWe=hre.reducer,{updateOptions:EWe}=hre.actions,pre=ul({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:AWe}=pre.actions,TWe=pre.reducer,mre=Wl("keyDown"),gre=Wl("focus"),tD=Vx();tD.startListening({actionCreator:mre,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=Number(SO(i,i1(r))),o=$f(r);if(a==="Enter"){var l=u5(r,"axis","hover",String(i.index));t.dispatch(fC({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=dMe(r),u=c==="left-to-right"?1:-1,f=a==="ArrowRight"?1:-1,d=s+f*u;if(!(o==null||d>=o.length||d<0)){var h=u5(r,"axis","hover",String(d));t.dispatch(fC({active:!0,activeIndex:d.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});tD.startListening({actionCreator:gre,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=u5(r,"axis","hover",String(a));t.dispatch(fC({activeDataKey:void 0,active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Al=Wl("externalEvent"),vre=Vx();vre.startListening({actionCreator:Al,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:n7e(r),activeDataKey:ate(r),activeIndex:ph(r),activeLabel:ite(r),activeTooltipIndex:ph(r),isTooltipActive:i7e(r)};e.payload.handler(n,e.payload.reactEvent)}}});var kWe=Me([n1],e=>e.tooltipItemPayloads),NWe=Me([kWe,t2,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(o=>o.settings.dataKey===n);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,r);return s}}}),yre=Wl("touchMove"),xre=Vx();xre.startListening({actionCreator:yre,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=_O(n,n.tooltip.settings.shared);if(i==="axis"){var a=ZO(n,eD({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&t.dispatch(Kee({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var s,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(WQ),u=(s=l.getAttribute(HQ))!==null&&s!==void 0?s:void 0,f=NWe(t.getState(),c,u);t.dispatch(qee({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}});var CWe=mQ({brush:MVe,cartesianAxis:yUe,chartData:O7e,errorBars:FUe,graphicalItems:FBe,layout:yDe,legend:oRe,options:k7e,polarAxis:rBe,polarOptions:TWe,referenceElements:HVe,rootProps:SWe,tooltip:_Me}),PWe=function(t){return zOe({reducer:CWe,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([fre.middleware,dre.middleware,tD.middleware,vre.middleware,xre.middleware]),devTools:Mf.devToolsEnabled})};function wre(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=Ps(),a=L.useRef(null);if(i)return r;a.current==null&&(a.current=PWe(t));var s=p6;return L.createElement(bWe,{context:s,store:a.current},r)}function bre(e){var{layout:t,width:r,height:n,margin:i}=e,a=hi(),s=Ps();return L.useEffect(()=>{s||(a(mDe(t)),a(gDe({width:r,height:n})),a(pDe(i)))},[a,s,t,r,n,i]),null}function _re(e){var t=hi();return L.useEffect(()=>{t(EWe(e))},[t,e]),null}var IWe=["children"];function OWe(e,t){if(e==null)return{};var r,n,i=DWe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DWe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function w5(){return w5=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w5.apply(null,arguments)}var RWe={width:"100%",height:"100%"},LWe=L.forwardRef((e,t)=>{var r=E6(),n=A6(),i=YQ();if(!wg(r)||!wg(n))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,c,u;return typeof s.tabIndex=="number"?c=s.tabIndex:c=i?0:void 0,typeof s.role=="string"?u=s.role:u=i?"application":void 0,L.createElement(QI,w5({},s,{title:o,desc:l,role:u,tabIndex:c,width:r,height:n,style:RWe,ref:t}),a)}),jWe=e=>{var{children:t}=e,r=It(iE);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return L.createElement(QI,{width:n,height:i,x:s,y:a},t)},CU=L.forwardRef((e,t)=>{var{children:r}=e,n=OWe(e,IWe),i=Ps();return i?L.createElement(jWe,null,r):L.createElement(LWe,w5({ref:t},n),r)});function FWe(){var e=hi(),[t,r]=L.useState(null),n=It(qDe);return L.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;rs(a)&&a!==n&&e(vDe(a))}},[t,e,n]),r}function PU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function MWe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PU(Object(r),!0).forEach(function(n){BWe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BWe(e,t,r){return(t=UWe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UWe(e){var t=VWe(e,"string");return typeof t=="symbol"?t:t+""}function VWe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $We=L.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:d,onTouchEnd:h,onTouchMove:g,onTouchStart:m,style:v,width:y}=e,b=hi(),[_,N]=L.useState(null),[R,O]=L.useState(null);V7e();var k=FWe(),S=L.useCallback(P=>{k(P),typeof t=="function"&&t(P),N(P),O(P)},[k,t,N,O]),T=L.useCallback(P=>{b(ure(P)),b(Al({handler:a,reactEvent:P}))},[b,a]),j=L.useCallback(P=>{b(_C(P)),b(Al({handler:c,reactEvent:P}))},[b,c]),E=L.useCallback(P=>{b(Gee()),b(Al({handler:u,reactEvent:P}))},[b,u]),C=L.useCallback(P=>{b(_C(P)),b(Al({handler:f,reactEvent:P}))},[b,f]),D=L.useCallback(()=>{b(gre())},[b]),q=L.useCallback(P=>{b(mre(P.key))},[b]),ee=L.useCallback(P=>{b(Al({handler:s,reactEvent:P}))},[b,s]),le=L.useCallback(P=>{b(Al({handler:o,reactEvent:P}))},[b,o]),se=L.useCallback(P=>{b(Al({handler:l,reactEvent:P}))},[b,l]),K=L.useCallback(P=>{b(Al({handler:d,reactEvent:P}))},[b,d]),X=L.useCallback(P=>{b(Al({handler:m,reactEvent:P}))},[b,m]),_e=L.useCallback(P=>{b(yre(P)),b(Al({handler:g,reactEvent:P}))},[b,g]),Se=L.useCallback(P=>{b(Al({handler:h,reactEvent:P}))},[b,h]);return L.createElement(dte.Provider,{value:_},L.createElement(bJ.Provider,{value:R},L.createElement("div",{className:Dr("recharts-wrapper",n),style:MWe({position:"relative",cursor:"default",width:y,height:i},v),onClick:T,onContextMenu:ee,onDoubleClick:le,onFocus:D,onKeyDown:q,onMouseDown:se,onMouseEnter:j,onMouseLeave:E,onMouseMove:C,onMouseUp:K,onTouchEnd:Se,onTouchMove:_e,onTouchStart:X,ref:S},r)))}),zWe=["children","className","width","height","style","compact","title","desc"];function WWe(e,t){if(e==null)return{};var r,n,i=HWe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HWe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Sre=L.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:a,style:s,compact:o,title:l,desc:c}=e,u=WWe(e,zWe),f=Kl(u);return o?L.createElement(CU,{otherAttributes:f,title:l,desc:c},r):L.createElement($We,{className:n,style:s,width:i,height:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},L.createElement(CU,{otherAttributes:f,title:l,desc:c,ref:t},L.createElement(GVe,null,r)))}),qWe=["width","height"];function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},SC.apply(null,arguments)}function GWe(e,t){if(e==null)return{};var r,n,i=KWe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KWe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XWe={top:5,right:5,bottom:5,left:5},YWe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:XWe,reverseStackOrder:!1,syncMethod:"index"},rD=L.forwardRef(function(t,r){var n,i=ya(t.categoricalChartProps,YWe),{width:a,height:s}=i,o=GWe(i,qWe);if(!wg(a)||!wg(s))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:d}=t,h={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return L.createElement(wre,{preloadedState:{options:h},reduxStoreName:(n=d.id)!==null&&n!==void 0?n:l},L.createElement(qte,{chartData:d.data}),L.createElement(bre,{width:a,height:s,layout:i.layout,margin:i.margin}),L.createElement(_re,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),L.createElement(Sre,SC({},o,{width:a,height:s,ref:r})))}),JWe=["axis"],Ere=L.forwardRef((e,t)=>L.createElement(rD,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:JWe,tooltipPayloadSearcher:_E,categoricalChartProps:e,ref:t})),QWe=["axis","item"],b5=L.forwardRef((e,t)=>L.createElement(rD,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:QWe,tooltipPayloadSearcher:_E,categoricalChartProps:e,ref:t}));function ZWe(e){var t=hi();return L.useEffect(()=>{t(AWe(e))},[t,e]),null}var eHe=["width","height","layout"];function EC(){return EC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EC.apply(null,arguments)}function tHe(e,t){if(e==null)return{};var r,n,i=rHe(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rHe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nHe={top:5,right:5,bottom:5,left:5},iHe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:nHe,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},aHe=L.forwardRef(function(t,r){var n,i=ya(t.categoricalChartProps,iHe),{width:a,height:s,layout:o}=i,l=tHe(i,eHe);if(!wg(a)||!wg(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:d}=t,h={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:d,eventEmitter:void 0};return L.createElement(wre,{preloadedState:{options:h},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:c},L.createElement(qte,{chartData:i.data}),L.createElement(bre,{width:a,height:s,layout:o,margin:i.margin}),L.createElement(_re,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),L.createElement(ZWe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),L.createElement(Sre,EC({width:a,height:s},l,{ref:r})))}),sHe=["item"],oHe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Are=L.forwardRef((e,t)=>{var r=ya(e,oHe);return L.createElement(aHe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:sHe,tooltipPayloadSearcher:_E,categoricalChartProps:r,ref:t})}),lHe=["axis"],cHe=L.forwardRef((e,t)=>L.createElement(rD,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lHe,tooltipPayloadSearcher:_E,categoricalChartProps:e,ref:t}));const rx=tl.forwardRef(({className:e,value:t,...r},n)=>p.jsx("div",{ref:n,className:Ch("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:p.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));rx.displayName="Progress";const CE=Vg(sEe((e,t)=>({globalMetrics:null,teleoperadorasMetrics:{},beneficiariosMetrics:{},noAsignadosMetrics:null,loading:{global:!0,teleoperadoras:!0,beneficiarios:!0,noAsignados:!0},errors:{global:null,teleoperadoras:null,beneficiarios:null,noAsignados:null},unsubscribers:[],initializeListeners:()=>{console.log("⚠️ Listeners de métricas deshabilitados hasta que la BD esté inicializada")},cleanup:()=>{const{unsubscribers:r}=t();r.forEach(n=>{typeof n=="function"&&n()}),e({unsubscribers:[]})},getTeleoperadoraMetrics:r=>{const{teleoperadorasMetrics:n}=t();return n[r]||null},getBeneficiaryMetrics:r=>{const{beneficiariosMetrics:n}=t();return n[r]||null},getTopOperators:(r=10)=>{const{teleoperadorasMetrics:n}=t();return Object.values(n).sort((i,a)=>a.successRate!==i.successRate?a.successRate-i.successRate:a.totalCalls-i.totalCalls).slice(0,r)},getBeneficiariesByStatus:r=>{const{beneficiariosMetrics:n}=t();return Object.values(n).filter(i=>i.status===r).sort((i,a)=>!i.lastCall&&!a.lastCall?0:i.lastCall?a.lastCall?new Date(a.lastCall)-new Date(i.lastCall):-1:1)},getSummaryStats:()=>{const{globalMetrics:r,teleoperadorasMetrics:n,beneficiariosMetrics:i,noAsignadosMetrics:a}=t(),s=Object.keys(n).length,o=Object.keys(i).length,l=Object.values(i).reduce((c,u)=>(c[u.status]=(c[u.status]||0)+1,c),{});return{totalCalls:(r==null?void 0:r.totalCalls)||0,successRate:(r==null?void 0:r.successRate)||0,totalOperators:s,totalBeneficiaries:o,beneficiariesByStatus:l,unassignedBeneficiaries:(a==null?void 0:a.totalUnassigned)||0,lastUpdated:(r==null?void 0:r.lastUpdated)||null}},searchBeneficiaries:r=>{const{beneficiariosMetrics:n}=t();if(!r||r.length<2)return Object.values(n);const i=r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return Object.values(n).filter(a=>{var l,c;const s=((l=a.nombreOriginal)==null?void 0:l.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))||"",o=((c=a.telefonos)==null?void 0:c.some(u=>u.includes(r)))||!1;return s.includes(i)||o})},getBeneficiariesByOperator:r=>{const{beneficiariosMetrics:n}=t();return Object.values(n).filter(i=>{var a;return(a=i.calls)==null?void 0:a.some(s=>{var o;return((o=s.teleoperadora)==null?void 0:o.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))===(r==null?void 0:r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))})})}}))),uHe={"Al día":"#10b981",Pendiente:"#f59e0b",Urgente:"#ef4444"},fHe={monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday:"Domingo"};function IU(){const{globalMetrics:e,teleoperadorasMetrics:t,beneficiariosMetrics:r,noAsignadosMetrics:n,loading:i,errors:a,initializeListeners:s,cleanup:o,getSummaryStats:l,getTopOperators:c,getBeneficiariesByStatus:u}=CE(),f=zI(),d=a.global||!e||e.totalCalls===0;L.useEffect(()=>(s(),o),[s,o]);const h=d?f.getSummaryStats():l(),g=d?f.getTopOperators(5):c(5),m=d?f.getBeneficiariesByStatus("Urgente"):u("Urgente"),v=d?f.globalMetrics:e,y=()=>{if(!v)return{dayData:[],hourData:[],statusData:[]};const S=Object.entries(v.dayDistribution||{}).map(([E,C])=>({day:fHe[E.toLowerCase()]||E,llamadas:C})),T=Object.entries(v.hourDistribution||{}).map(([E,C])=>({hora:`${E}:00`,llamadas:C})).sort((E,C)=>parseInt(E.hora)-parseInt(C.hora)),j=Object.entries(h.beneficiariesByStatus).map(([E,C])=>({name:E,value:C,color:uHe[E]||"#8884d8"}));return{dayData:S,hourData:T,statusData:j}},{dayData:b,hourData:_,statusData:N}=y(),R=S=>{const T=Math.floor(S/60),j=Math.round(S%60);return T>0?`${T}h ${j}m`:`${j}m`},O=S=>`${Math.round(S*100)/100}%`,k=({title:S,value:T,subtitle:j,icon:E,trend:C,color:D="blue"})=>p.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:p.jsxs($r,{children:[p.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Wr,{className:"text-sm font-medium",children:S}),p.jsx(E,{className:`h-4 w-4 text-${D}-600`})]}),p.jsxs(Hr,{children:[p.jsx("div",{className:"text-2xl font-bold",children:T}),j&&p.jsx("p",{className:"text-xs text-muted-foreground",children:j}),C&&p.jsxs("div",{className:`flex items-center pt-1 text-xs ${C>0?"text-green-600":"text-red-600"}`,children:[p.jsx(uy,{className:"h-3 w-3 mr-1"}),C>0?"+":"",O(C)," vs período anterior"]})]})]})});return i.global?p.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),p.jsx("span",{className:"ml-2",children:"Cargando métricas..."})]}):a.global?p.jsx("div",{className:"flex items-center justify-center min-h-64",children:p.jsxs("div",{className:"text-center",children:[p.jsx(Hs,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error cargando métricas"}),p.jsx("p",{className:"text-gray-500",children:a.global})]})}):p.jsxs("div",{className:"space-y-6",children:[p.jsxs(gt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard Global"}),d&&p.jsx(fo,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Modo Demo"})]}),p.jsx("p",{className:"text-muted-foreground",children:d?"Mostrando datos simulados - Inicialice la base de datos para datos reales":"Resumen general de métricas y análisis de llamadas"}),(v==null?void 0:v.lastUpdated)&&p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Última actualización: ",new Date(v.lastUpdated).toLocaleString("es-ES")]})]}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[p.jsx(k,{title:"Total de Llamadas",value:h.totalCalls.toLocaleString(),subtitle:"Llamadas registradas",icon:nk,color:"blue"}),p.jsx(k,{title:"Tasa de Éxito",value:O(h.successRate),subtitle:`${(e==null?void 0:e.successfulCalls)||0} llamadas exitosas`,icon:es,color:"green"}),p.jsx(k,{title:"Duración Total",value:R((e==null?void 0:e.totalDuration)||0),subtitle:`Promedio: ${R((e==null?void 0:e.averageDuration)||0)}`,icon:zo,color:"purple"}),p.jsx(k,{title:"Teleoperadoras",value:h.totalOperators,subtitle:"Activas en el sistema",icon:Ji,color:"orange"})]}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[p.jsx(k,{title:"Beneficiarios Al Día",value:h.beneficiariesByStatus["Al día"]||0,subtitle:"Contactados recientemente",icon:es,color:"green"}),p.jsx(k,{title:"Beneficiarios Pendientes",value:h.beneficiariesByStatus.Pendiente||0,subtitle:"Requieren seguimiento",icon:zo,color:"yellow"}),p.jsx(k,{title:"Beneficiarios Urgentes",value:h.beneficiariesByStatus.Urgente||0,subtitle:"Atención prioritaria",icon:Hs,color:"red"})]}),p.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[p.jsx(gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Llamadas por Día de la Semana"}),p.jsx(da,{children:"Distribución de llamadas durante la semana"})]}),p.jsx(Hr,{children:p.jsx(ef,{width:"100%",height:300,children:p.jsxs(b5,{data:b,children:[p.jsx(Gd,{strokeDasharray:"3 3"}),p.jsx(Kd,{dataKey:"day"}),p.jsx(Xd,{}),p.jsx(Zu,{}),p.jsx(tx,{dataKey:"llamadas",fill:"#3b82f6"})]})})})]})}),p.jsx(gt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Llamadas por Hora del Día"}),p.jsx(da,{children:"Distribución horaria de la actividad"})]}),p.jsx(Hr,{children:p.jsx(ef,{width:"100%",height:300,children:p.jsxs(Ere,{data:_,children:[p.jsx(Gd,{strokeDasharray:"3 3"}),p.jsx(Kd,{dataKey:"hora"}),p.jsx(Xd,{}),p.jsx(Zu,{}),p.jsx(QO,{type:"monotone",dataKey:"llamadas",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981"}})]})})})]})})]}),p.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[p.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Estado de Beneficiarios"}),p.jsx(da,{children:"Distribución por estado de seguimiento"})]}),p.jsx(Hr,{children:p.jsx(ef,{width:"100%",height:300,children:p.jsxs(Are,{children:[p.jsx(WO,{data:N,cx:"50%",cy:"50%",labelLine:!1,label:({name:S,percent:T})=>`${S} ${(T*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:N.map((S,T)=>p.jsx(a1,{fill:S.color},`cell-${T}`))}),p.jsx(Zu,{})]})})})]})}),p.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Top Teleoperadoras"}),p.jsx(da,{children:"Mejores performance por tasa de éxito"})]}),p.jsx(Hr,{className:"space-y-4",children:g.slice(0,5).map((S,T)=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"flex-shrink-0",children:p.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:p.jsx("span",{className:"text-sm font-medium text-blue-600",children:T+1})})}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-medium",children:S.nombreOriginal}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.totalCalls," llamadas"]})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx(fo,{variant:S.successRate>=80?"success":S.successRate>=60?"warning":"danger",children:O(S.successRate)}),p.jsx(rx,{value:S.successRate,className:"w-20 h-2 mt-1"})]})]},S.id))})]})})]}),m.length>0&&p.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:p.jsxs($r,{className:"border-red-200 bg-red-50",children:[p.jsxs(zr,{children:[p.jsxs(Wr,{className:"text-red-800 flex items-center",children:[p.jsx(Hs,{className:"h-5 w-5 mr-2"}),"Beneficiarios Urgentes"]}),p.jsx(da,{className:"text-red-600",children:"Requieren atención inmediata - Sin contacto exitoso en más de 30 días"})]}),p.jsx(Hr,{children:p.jsx("div",{className:"grid gap-2 max-h-64 overflow-y-auto",children:m.slice(0,10).map(S=>p.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg shadow-sm",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:S.nombreOriginal}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Última llamada: ",S.lastCall?new Date(S.lastCall).toLocaleDateString("es-ES"):"Nunca"]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx(fo,{variant:"danger",children:"Urgente"}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[S.totalCalls," llamadas"]})]})]},S.id))})})]})}),n&&n.totalUnassigned>0&&p.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},children:p.jsxs($r,{className:"border-yellow-200 bg-yellow-50",children:[p.jsxs(zr,{children:[p.jsxs(Wr,{className:"text-yellow-800 flex items-center",children:[p.jsx(Ji,{className:"h-5 w-5 mr-2"}),"Beneficiarios No Asignados"]}),p.jsxs(da,{className:"text-yellow-600",children:[n.totalUnassigned," beneficiarios sin teleoperadora asignada"]})]}),p.jsx(Hr,{children:p.jsxs("p",{className:"text-sm",children:["Total de llamadas no asignadas: ",n.totalUnassignedCalls]})})]})})]})}function dHe({operatorId:e}){const{getTeleoperadoraMetrics:t,getBeneficiariesByOperator:r,loading:n,errors:i}=CE(),[a,s]=L.useState("7"),[o,l]=L.useState(""),[c,u]=L.useState("all"),f=zI(),d=t(e),h=r(e),g=i.teleoperadoras||!d,m=g?f.getTeleoperadoraMetrics(e):d,v=g?f.getBeneficiariesByOperator(e):h,y=()=>{if(!(m!=null&&m.calls))return[];const S=new Date,T=new Date(S.getTime()-parseInt(a)*24*60*60*1e3),j=m.calls.filter(C=>new Date(C.fecha)>=T),E={};return j.forEach(C=>{const D=new Date(C.fecha).toLocaleDateString("es-ES");E[D]||(E[D]={date:D,total:0,successful:0,failed:0,duration:0}),E[D].total++,C.exitosa?E[D].successful++:E[D].failed++,E[D].duration+=C.duracion||0}),Object.values(E).sort((C,D)=>new Date(C.date)-new Date(D.date))},b=()=>{if(!(m!=null&&m.calls))return[];let S=[...m.calls];if(o){const T=o.toLowerCase();S=S.filter(j=>{var E,C;return((E=j.beneficiario)==null?void 0:E.toLowerCase().includes(T))||((C=j.observaciones)==null?void 0:C.toLowerCase().includes(T))})}return c==="successful"?S=S.filter(T=>T.exitosa):c==="failed"&&(S=S.filter(T=>!T.exitosa)),S.sort((T,j)=>new Date(j.fecha)-new Date(T.fecha))},_=y(),N=b(),R=S=>{const T=Math.floor(S/60),j=Math.round(S%60);return T>0?`${T}h ${j}m`:`${j}m`},O=S=>`${Math.round(S*100)/100}%`,k=({title:S,value:T,subtitle:j,icon:E,color:C="blue",progress:D})=>p.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:p.jsxs($r,{children:[p.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Wr,{className:"text-sm font-medium",children:S}),p.jsx(E,{className:`h-4 w-4 text-${C}-600`})]}),p.jsxs(Hr,{children:[p.jsx("div",{className:"text-2xl font-bold",children:T}),j&&p.jsx("p",{className:"text-xs text-muted-foreground",children:j}),D!==void 0&&p.jsx(rx,{value:D,className:"mt-2"})]})]})});return n.teleoperadoras?p.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),p.jsx("span",{className:"ml-2",children:"Cargando datos de teleoperadora..."})]}):d?p.jsxs("div",{className:"space-y-6",children:[p.jsx(gt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:m.nombreOriginal}),g&&p.jsx(fo,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Modo Demo"})]}),p.jsx("p",{className:"text-muted-foreground",children:g?"Mostrando datos simulados - Inicialice la base de datos para datos reales":"Dashboard individual de teleoperadora"}),m.lastUpdated&&p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Última actualización: ",new Date(m.lastUpdated).toLocaleString("es-ES")]})]}),p.jsxs(fo,{variant:m.successRate>=80?"success":m.successRate>=60?"warning":"danger",children:[O(m.successRate)," de éxito"]})]})}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[p.jsx(k,{title:"Total de Llamadas",value:m.totalCalls.toLocaleString(),subtitle:"Llamadas realizadas",icon:nk,color:"blue"}),p.jsx(k,{title:"Llamadas Exitosas",value:m.successfulCalls.toLocaleString(),subtitle:`${O(m.successRate)} de éxito`,icon:es,color:"green",progress:m.successRate}),p.jsx(k,{title:"Tiempo Total",value:R(m.totalDuration),subtitle:`Promedio: ${R(m.averageDuration)}`,icon:zo,color:"purple"}),p.jsx(k,{title:"Beneficiarios Atendidos",value:v.length,subtitle:"Clientes únicos",icon:nl,color:"orange"})]}),p.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:p.jsxs($r,{children:[p.jsx(zr,{children:p.jsx(Wr,{children:"Filtros y Período"})}),p.jsx(Hr,{children:p.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(M5,{className:"h-4 w-4"}),p.jsxs("select",{value:a,onChange:S=>s(S.target.value),className:"border rounded px-3 py-1 text-sm",children:[p.jsx("option",{value:"7",children:"Últimos 7 días"}),p.jsx("option",{value:"15",children:"Últimos 15 días"}),p.jsx("option",{value:"30",children:"Últimos 30 días"}),p.jsx("option",{value:"90",children:"Últimos 3 meses"})]})]}),p.jsxs("div",{className:"flex items-center space-x-2 flex-1 max-w-md",children:[p.jsx(co,{className:"h-4 w-4"}),p.jsx("input",{type:"text",placeholder:"Buscar beneficiario o observaciones...",value:o,onChange:S=>l(S.target.value),className:"border rounded px-3 py-1 text-sm w-full"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(B5,{className:"h-4 w-4"}),p.jsxs("select",{value:c,onChange:S=>u(S.target.value),className:"border rounded px-3 py-1 text-sm",children:[p.jsx("option",{value:"all",children:"Todas las llamadas"}),p.jsx("option",{value:"successful",children:"Solo exitosas"}),p.jsx("option",{value:"failed",children:"Solo fallidas"})]})]})]})})]})}),p.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[p.jsx(gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Evolución de Llamadas"}),p.jsxs(da,{children:["Progreso diario en los últimos ",a," días"]})]}),p.jsx(Hr,{children:p.jsx(ef,{width:"100%",height:300,children:p.jsxs(cHe,{data:_,children:[p.jsx(Gd,{strokeDasharray:"3 3"}),p.jsx(Kd,{dataKey:"date"}),p.jsx(Xd,{}),p.jsx(Zu,{}),p.jsx(aE,{}),p.jsx(xC,{type:"monotone",dataKey:"successful",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.8,name:"Exitosas"}),p.jsx(xC,{type:"monotone",dataKey:"failed",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.8,name:"Fallidas"})]})})})]})}),p.jsx(gt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Duración de Llamadas"}),p.jsx(da,{children:"Tiempo total por día (minutos)"})]}),p.jsx(Hr,{children:p.jsx(ef,{width:"100%",height:300,children:p.jsxs(b5,{data:_,children:[p.jsx(Gd,{strokeDasharray:"3 3"}),p.jsx(Kd,{dataKey:"date"}),p.jsx(Xd,{}),p.jsx(Zu,{}),p.jsx(tx,{dataKey:"duration",fill:"#8b5cf6"})]})})})]})})]}),p.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Historial de Llamadas"}),p.jsxs(da,{children:[N.length," llamadas ",c==="all"?"":c==="successful"?"exitosas":"fallidas",o&&` con "${o}"`]})]}),p.jsx(Hr,{children:p.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[N.slice(0,50).map((S,T)=>p.jsx(gt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:T*.05},className:`border rounded-lg p-4 ${S.exitosa?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx("h4",{className:"font-medium",children:S.beneficiario}),p.jsx(fo,{variant:S.exitosa?"success":"danger",children:S.exitosa?"Exitosa":"Fallida"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-muted-foreground",children:"Fecha y hora:"}),p.jsx("p",{children:new Date(S.fecha).toLocaleString("es-ES")})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-muted-foreground",children:"Duración:"}),p.jsx("p",{children:R(S.duracion||0)})]})]}),S.observaciones&&p.jsxs("div",{className:"mt-2",children:[p.jsx("p",{className:"text-muted-foreground text-sm",children:"Observaciones:"}),p.jsx("p",{className:"text-sm",children:S.observaciones})]})]}),p.jsx("div",{className:"flex items-center space-x-2",children:S.exitosa?p.jsx(es,{className:"h-5 w-5 text-green-600"}):p.jsx(Bb,{className:"h-5 w-5 text-red-600"})})]})},S.id||T)),N.length===0&&p.jsxs("div",{className:"text-center py-8",children:[p.jsx(nk,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-500",children:"No hay llamadas que coincidan con los filtros"})]}),N.length>50&&p.jsx("div",{className:"text-center py-4",children:p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando primeras 50 de ",N.length," llamadas"]})})]})})]})}),p.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Beneficiarios Atendidos"}),p.jsx(da,{children:"Lista de beneficiarios con sus respectivos estados"})]}),p.jsx(Hr,{children:p.jsxs("div",{className:"grid gap-3 max-h-64 overflow-y-auto",children:[v.slice(0,20).map((S,T)=>p.jsxs(gt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:T*.05},className:"flex items-center justify-between p-3 border rounded-lg",children:[p.jsxs("div",{children:[p.jsx("p",{className:"font-medium",children:S.nombreOriginal}),p.jsxs("p",{className:"text-sm text-muted-foreground",children:[S.totalCalls," llamadas • Última: ",S.lastCall?new Date(S.lastCall).toLocaleDateString("es-ES"):"Nunca"]})]}),p.jsxs("div",{className:"text-right",children:[p.jsx(fo,{variant:S.status==="Al día"?"success":S.status==="Pendiente"?"warning":"danger",children:S.status}),p.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[O(S.successRate)," éxito"]})]})]},S.id)),v.length>20&&p.jsx("div",{className:"text-center py-2",children:p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando primeros 20 de ",v.length," beneficiarios"]})})]})})]})})]}):p.jsx("div",{className:"flex items-center justify-center min-h-64",children:p.jsxs("div",{className:"text-center",children:[p.jsx(nl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Teleoperadora no encontrada"}),p.jsx("p",{className:"text-gray-500",children:"No se encontraron datos para esta teleoperadora"})]})})}const hHe={"Al día":"#10b981",Pendiente:"#f59e0b",Urgente:"#ef4444"};function pHe({beneficiaryId:e}){var O,k,S,T,j;const{getBeneficiaryMetrics:t,beneficiariosMetrics:r,searchBeneficiaries:n,getBeneficiariesByStatus:i,loading:a,errors:s}=CE(),[o,l]=L.useState(""),[c,u]=L.useState("all"),[f,d]=L.useState(null);L.useEffect(()=>{if(e){const E=t(e);d(E)}},[e,t]);const h=()=>{let E=Object.values(r);return o&&(E=n(o)),c!=="all"&&(E=E.filter(C=>C.status===c)),E.sort((C,D)=>{if(C.status!==D.status){const le={Urgente:3,Pendiente:2,"Al día":1};return le[D.status]-le[C.status]}const q=C.lastCall?new Date(C.lastCall):new Date(0);return(D.lastCall?new Date(D.lastCall):new Date(0))-q})},g=E=>{if(!(E!=null&&E.calls))return{timelineData:[],operatorData:[]};const C=E.calls.slice(-10).map((ee,le)=>({index:le+1,fecha:new Date(ee.fecha).toLocaleDateString("es-ES"),exitosa:ee.exitosa?1:0,duracion:ee.duracion||0,teleoperadora:ee.teleoperadora})),D={};E.calls.forEach(ee=>{const le=ee.teleoperadora||"Sin asignar";D[le]||(D[le]={name:le,total:0,exitosas:0}),D[le].total++,ee.exitosa&&D[le].exitosas++});const q=Object.values(D).map(ee=>({...ee,successRate:ee.total>0?ee.exitosas/ee.total*100:0}));return{timelineData:C,operatorData:q}},m=()=>{const E=Object.values(r),C=E.reduce((le,se)=>(le[se.status]=(le[se.status]||0)+1,le),{}),D=Object.entries(C).map(([le,se])=>({name:le,value:se,color:hHe[le]||"#8884d8"})),q={};E.forEach(le=>{var se;(se=le.calls)==null||se.forEach(K=>{const X=new Date(K.fecha).toLocaleDateString("es-ES",{weekday:"long"});q[X]=(q[X]||0)+1})});const ee=Object.entries(q).map(([le,se])=>({day:le,llamadas:se}));return{statusData:D,dayData:ee}},v=h(),{statusData:y,dayData:b}=m(),_=E=>{const C=Math.floor(E/60),D=Math.round(E%60);return C>0?`${C}h ${D}m`:`${D}m`},N=E=>`${Math.round(E*100)/100}%`,R=E=>{switch(E){case"Al día":return p.jsx(es,{className:"h-4 w-4"});case"Pendiente":return p.jsx(zo,{className:"h-4 w-4"});case"Urgente":return p.jsx(Hs,{className:"h-4 w-4"});default:return p.jsx(nl,{className:"h-4 w-4"})}};if(a.beneficiarios)return p.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),p.jsx("span",{className:"ml-2",children:"Cargando datos de beneficiarios..."})]});if(f){const{timelineData:E,operatorData:C}=g(f);return p.jsxs("div",{className:"space-y-6",children:[p.jsx(gt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("button",{onClick:()=>d(null),className:"text-blue-600 hover:text-blue-800 mb-2 flex items-center",children:"← Volver a la lista"}),p.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:f.nombreOriginal}),p.jsx("p",{className:"text-muted-foreground",children:"Historial detallado del beneficiario"})]}),p.jsxs(fo,{variant:f.status==="Al día"?"success":f.status==="Pendiente"?"warning":"danger",className:"text-lg px-4 py-2",children:[R(f.status),p.jsx("span",{className:"ml-2",children:f.status})]})]})}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[p.jsxs($r,{children:[p.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Wr,{className:"text-sm font-medium",children:"Total de Llamadas"}),p.jsx(ua,{className:"h-4 w-4 text-blue-600"})]}),p.jsxs(Hr,{children:[p.jsx("div",{className:"text-2xl font-bold",children:f.totalCalls}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.successfulCalls," exitosas"]})]})]}),p.jsxs($r,{children:[p.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Wr,{className:"text-sm font-medium",children:"Tasa de Éxito"}),p.jsx(uy,{className:"h-4 w-4 text-green-600"})]}),p.jsxs(Hr,{children:[p.jsx("div",{className:"text-2xl font-bold",children:N(f.successRate)}),p.jsx(rx,{value:f.successRate,className:"mt-2"})]})]}),p.jsxs($r,{children:[p.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Wr,{className:"text-sm font-medium",children:"Última Llamada"}),p.jsx(M5,{className:"h-4 w-4 text-purple-600"})]}),p.jsxs(Hr,{children:[p.jsx("div",{className:"text-lg font-bold",children:f.lastCall?new Date(f.lastCall).toLocaleDateString("es-ES"):"Nunca"}),p.jsxs("p",{className:"text-xs text-muted-foreground",children:["Exitosa: ",f.lastSuccessfulCall?new Date(f.lastSuccessfulCall).toLocaleDateString("es-ES"):"Nunca"]})]})]}),p.jsxs($r,{children:[p.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Wr,{className:"text-sm font-medium",children:"Teléfonos"}),p.jsx(ua,{className:"h-4 w-4 text-orange-600"})]}),p.jsxs(Hr,{children:[p.jsx("div",{className:"text-lg font-bold",children:((O=f.telefonos)==null?void 0:O.length)||0}),p.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[(k=f.telefonos)==null?void 0:k.slice(0,2).map((D,q)=>p.jsx("div",{children:D},q)),((S=f.telefonos)==null?void 0:S.length)>2&&p.jsxs("div",{children:["+",f.telefonos.length-2," más"]})]})]})]})]}),p.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Últimas Llamadas"}),p.jsx(da,{children:"Historial reciente de contactos"})]}),p.jsx(Hr,{children:p.jsx(ef,{width:"100%",height:300,children:p.jsxs(Ere,{data:E,children:[p.jsx(Gd,{strokeDasharray:"3 3"}),p.jsx(Kd,{dataKey:"fecha"}),p.jsx(Xd,{}),p.jsx(Zu,{}),p.jsx(QO,{type:"monotone",dataKey:"exitosa",stroke:"#10b981",strokeWidth:2,name:"Éxito"})]})})})]}),p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Teleoperadoras"}),p.jsx(da,{children:"Rendimiento por operadora"})]}),p.jsx(Hr,{children:p.jsx(ef,{width:"100%",height:300,children:p.jsxs(b5,{data:C,children:[p.jsx(Gd,{strokeDasharray:"3 3"}),p.jsx(Kd,{dataKey:"name"}),p.jsx(Xd,{}),p.jsx(Zu,{}),p.jsx(tx,{dataKey:"successRate",fill:"#3b82f6",name:"% Éxito"})]})})})]})]}),p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Historial Completo de Llamadas"}),p.jsxs(da,{children:[((T=f.calls)==null?void 0:T.length)||0," llamadas registradas"]})]}),p.jsx(Hr,{children:p.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:(j=f.calls)==null?void 0:j.map((D,q)=>p.jsx(gt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:q*.05},className:`border rounded-lg p-4 ${D.exitosa?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[p.jsx(fo,{variant:D.exitosa?"success":"danger",children:D.exitosa?"Exitosa":"Fallida"}),p.jsx("span",{className:"text-sm text-muted-foreground",children:D.teleoperadora||"Sin asignar"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-muted-foreground",children:"Fecha:"}),p.jsx("p",{children:new Date(D.fecha).toLocaleString("es-ES")})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-muted-foreground",children:"Duración:"}),p.jsx("p",{children:_(D.duracion||0)})]})]}),D.observaciones&&p.jsxs("div",{className:"mt-2",children:[p.jsx("p",{className:"text-muted-foreground text-sm",children:"Observaciones:"}),p.jsx("p",{className:"text-sm",children:D.observaciones})]})]}),D.exitosa?p.jsx(es,{className:"h-5 w-5 text-green-600"}):p.jsx(Bb,{className:"h-5 w-5 text-red-600"})]})},q))})})]})]})}return p.jsxs("div",{className:"space-y-6",children:[p.jsxs(gt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[p.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard de Beneficiarios"}),p.jsx("p",{className:"text-muted-foreground",children:"Gestión y seguimiento de beneficiarios del sistema"})]}),p.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[p.jsxs($r,{children:[p.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Wr,{className:"text-sm font-medium",children:"Total Beneficiarios"}),p.jsx(Ji,{className:"h-4 w-4 text-blue-600"})]}),p.jsxs(Hr,{children:[p.jsx("div",{className:"text-2xl font-bold",children:Object.keys(r).length}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Registrados en el sistema"})]})]}),p.jsxs($r,{children:[p.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Wr,{className:"text-sm font-medium",children:"Urgentes"}),p.jsx(Hs,{className:"h-4 w-4 text-red-600"})]}),p.jsxs(Hr,{children:[p.jsx("div",{className:"text-2xl font-bold text-red-600",children:i("Urgente").length}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Requieren atención inmediata"})]})]}),p.jsxs($r,{children:[p.jsxs(zr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Wr,{className:"text-sm font-medium",children:"Al Día"}),p.jsx(es,{className:"h-4 w-4 text-green-600"})]}),p.jsxs(Hr,{children:[p.jsx("div",{className:"text-2xl font-bold text-green-600",children:i("Al día").length}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Contactados recientemente"})]})]})]}),p.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Distribución por Estado"}),p.jsx(da,{children:"Estado actual de los beneficiarios"})]}),p.jsx(Hr,{children:p.jsx(ef,{width:"100%",height:300,children:p.jsxs(Are,{children:[p.jsx(WO,{data:y,cx:"50%",cy:"50%",labelLine:!1,label:({name:E,percent:C})=>`${E} ${(C*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:y.map((E,C)=>p.jsx(a1,{fill:E.color},`cell-${C}`))}),p.jsx(Zu,{})]})})})]}),p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Actividad por Día"}),p.jsx(da,{children:"Llamadas realizadas por día de la semana"})]}),p.jsx(Hr,{children:p.jsx(ef,{width:"100%",height:300,children:p.jsxs(b5,{data:b,children:[p.jsx(Gd,{strokeDasharray:"3 3"}),p.jsx(Kd,{dataKey:"day"}),p.jsx(Xd,{}),p.jsx(Zu,{}),p.jsx(tx,{dataKey:"llamadas",fill:"#3b82f6"})]})})})]})]}),p.jsxs($r,{children:[p.jsx(zr,{children:p.jsx(Wr,{children:"Buscar Beneficiarios"})}),p.jsx(Hr,{children:p.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[p.jsxs("div",{className:"flex items-center space-x-2 flex-1 max-w-md",children:[p.jsx(co,{className:"h-4 w-4"}),p.jsx("input",{type:"text",placeholder:"Buscar por nombre o teléfono...",value:o,onChange:E=>l(E.target.value),className:"border rounded px-3 py-2 text-sm w-full"})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(B5,{className:"h-4 w-4"}),p.jsxs("select",{value:c,onChange:E=>u(E.target.value),className:"border rounded px-3 py-2 text-sm",children:[p.jsx("option",{value:"all",children:"Todos los estados"}),p.jsx("option",{value:"Al día",children:"Al día"}),p.jsx("option",{value:"Pendiente",children:"Pendiente"}),p.jsx("option",{value:"Urgente",children:"Urgente"})]})]})]})})]}),p.jsxs($r,{children:[p.jsxs(zr,{children:[p.jsx(Wr,{children:"Lista de Beneficiarios"}),p.jsxs(da,{children:[v.length," beneficiarios encontrados"]})]}),p.jsx(Hr,{children:p.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[v.slice(0,50).map((E,C)=>{var D;return p.jsx(gt.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:C*.02},className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>d(E),children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[p.jsx("h4",{className:"font-medium",children:E.nombreOriginal}),p.jsxs(fo,{variant:E.status==="Al día"?"success":E.status==="Pendiente"?"warning":"danger",children:[R(E.status),p.jsx("span",{className:"ml-1",children:E.status})]})]}),p.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-muted-foreground",children:"Llamadas:"}),p.jsxs("p",{children:[E.totalCalls," (",E.successfulCalls," exitosas)"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-muted-foreground",children:"Tasa de éxito:"}),p.jsx("p",{children:N(E.successRate)})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-muted-foreground",children:"Última llamada:"}),p.jsx("p",{children:E.lastCall?new Date(E.lastCall).toLocaleDateString("es-ES"):"Nunca"})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-muted-foreground",children:"Teléfonos:"}),p.jsxs("p",{children:[((D=E.telefonos)==null?void 0:D.length)||0," registrados"]})]})]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(rx,{value:E.successRate,className:"w-20 h-2"}),p.jsx("span",{className:"text-xs text-muted-foreground",children:N(E.successRate)})]})]})},E.id)}),v.length===0&&p.jsxs("div",{className:"text-center py-8",children:[p.jsx(nl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),p.jsx("p",{className:"text-gray-500",children:"No hay beneficiarios que coincidan con los filtros"})]}),v.length>50&&p.jsx("div",{className:"text-center py-4",children:p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando primeros 50 de ",v.length," beneficiarios"]})})]})})]})]})}const mHe=()=>{const[e,t]=L.useState(!0),[r,n]=L.useState(!0),{globalMetrics:i,teleoperadorasMetrics:a,beneficiariosMetrics:s,noAsignadosMetrics:o,loading:l,errors:c}=CE(),u=zI();L.useEffect(()=>{const d=setTimeout(()=>{t(!1);const h=i&&i.totalCalls>0&&!c.global;n(!h),console.log(h?"📊 Datos reales cargados correctamente":"📊 Sistema iniciado en modo demo - datos de fallback activos")},800);return()=>clearTimeout(d)},[i,c.global]);const f=r||!i?{globalMetrics:u.globalMetrics,teleoperadorasMetrics:u.teleoperadoraMetrics,beneficiariesMetrics:u.beneficiaryMetrics,noAsignadosMetrics:u.noAsignadosMetrics||null}:{globalMetrics:i,teleoperadorasMetrics:a,beneficiariesMetrics:s,noAsignadosMetrics:o};return{loading:e,isUsingFallback:r,hasRealData:!r,...f,loadingStates:{global:e,teleoperadoras:e,beneficiarios:e,noAsignados:e},errors:r?{global:null,teleoperadoras:null,beneficiarios:null,noAsignados:null}:c,getSummaryStats:()=>u.getSummaryStats(),getTopOperators:(d=5)=>u.getTopOperators(d),getBeneficiariesByStatus:d=>u.getBeneficiariesByStatus(d),getTeleoperadoraMetrics:d=>u.getTeleoperadoraMetrics(d),getBeneficiariesByOperator:d=>u.getBeneficiariesByOperator(d)}};function gHe(){var u;const[e,t]=L.useState("global"),{loading:r,isUsingFallback:n,getSummaryStats:i,getTopOperators:a}=mHe();if(r)return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:p.jsxs(gt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-xl p-8 text-center max-w-md",children:[p.jsx(gt.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),p.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Inicializando Sistema de Métricas"}),p.jsx("p",{className:"text-gray-600",children:"Cargando dashboards y verificando conexión..."}),p.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Esto solo tomará unos segundos"})]})});const s=i(),o=a(10),l=[{id:"global",label:"Dashboard Global",description:"Métricas generales del sistema",icon:Qc,component:IU},{id:"teleoperadoras",label:"Teleoperadoras",description:"Análisis por teleoperadora",icon:Ji,component:dHe,badge:n?"4":(o==null?void 0:o.length)||"0"},{id:"beneficiarios",label:"Beneficiarios",description:"Gestión de beneficiarios",icon:qse,component:pHe,badge:n?"85":(s==null?void 0:s.uniqueBeneficiaries)||"0"}],c=((u=l.find(f=>f.id===e))==null?void 0:u.component)||IU;return p.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[p.jsx("div",{className:"bg-white shadow-sm border-b",children:p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:p.jsxs("div",{className:"flex justify-between items-center py-4",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx(Qc,{className:"h-8 w-8 text-blue-600"}),p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sistema de Métricas"}),p.jsx("p",{className:"text-sm text-gray-600",children:"Dashboard avanzado para análisis de llamadas"})]})]}),p.jsxs("div",{className:"flex items-center space-x-3",children:[n?p.jsxs("div",{className:"flex items-center space-x-2 bg-amber-100 text-amber-800 px-3 py-1.5 rounded-full text-sm font-medium",children:[p.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),p.jsx("span",{children:"Modo Demo"})]}):p.jsxs("div",{className:"flex items-center space-x-2 bg-green-100 text-green-800 px-3 py-1.5 rounded-full text-sm font-medium",children:[p.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),p.jsx("span",{children:"Datos en Tiempo Real"})]}),p.jsx("button",{onClick:()=>t("config"),className:`p-2 rounded-lg transition-colors ${e==="config"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:p.jsx(ly,{className:"h-5 w-5"})})]})]})})}),p.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:p.jsxs("div",{className:"flex gap-6",children:[p.jsxs("div",{className:"w-64 space-y-2",children:[l.map(f=>{const d=f.icon,h=e===f.id;return p.jsx(gt.button,{onClick:()=>t(f.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full text-left p-4 rounded-xl transition-all duration-200 ${h?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(d,{className:`h-5 w-5 ${h?"text-white":"text-gray-500"}`}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:f.label}),p.jsx("div",{className:`text-sm ${h?"text-blue-100":"text-gray-500"}`,children:f.description})]})]}),f.badge&&p.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${h?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"}`,children:f.badge})]})},f.id)}),p.jsx(gt.button,{onClick:()=>t("config"),whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full text-left p-4 rounded-xl transition-all duration-200 ${e==="config"?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/25":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx(ly,{className:`h-5 w-5 ${e==="config"?"text-white":"text-gray-500"}`}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:"Configuración"}),p.jsx("div",{className:`text-sm ${e==="config"?"text-indigo-100":"text-gray-500"}`,children:"Herramientas del sistema"})]})]})})]}),p.jsx("div",{className:"flex-1",children:p.jsx(hh,{mode:"wait",children:p.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e==="config"?p.jsx(dJ,{}):p.jsx(c,{})},e)})})]})})]})}function vHe(){const[e,t]=L.useState("teleasistencia"),r=[{id:"teleasistencia",name:"Central Teleoperadores",description:"Sistema principal de gestión",icon:mse,component:hJ},{id:"metrics",name:"Sistema de Métricas",description:"Dashboard de análisis automatizado",icon:Qc,component:gHe,badge:"Beta"}],n=r.find(a=>a.id===e),i=n==null?void 0:n.component;return p.jsxs("div",{className:"min-h-screen bg-gray-50",children:[p.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:p.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[p.jsxs("div",{className:"flex items-center space-x-6",children:[p.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Central Teleoperadores"}),p.jsx("div",{className:"flex space-x-1",children:r.map(a=>{const s=a.icon,o=e===a.id;return p.jsxs("button",{onClick:()=>t(a.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[p.jsx(s,{className:"h-4 w-4"}),p.jsx("span",{children:a.name}),a.badge&&p.jsx(fo,{variant:"secondary",className:"text-xs",children:a.badge})]},a.id)})})]}),p.jsx("div",{className:"text-sm text-gray-500",children:n==null?void 0:n.description})]})}),p.jsx("div",{className:"w-full",children:i&&p.jsx(i,{})})]})}const yHe=()=>{const[e,t]=L.useState(!0),[r,n]=L.useState(!1),[i,a]=L.useState({email:"",password:"",confirmPassword:"",displayName:""}),[s,o]=L.useState(!1),{login:l,register:c,error:u,clearError:f}=Ep(),d=v=>{const{name:y,value:b}=v.target;a(_=>({..._,[y]:b})),f()},h=async v=>{v.preventDefault(),o(!0);try{if(e)await l(i.email,i.password);else{if(i.password!==i.confirmPassword)throw new Error("Las contraseñas no coinciden");if(i.password.length<6)throw new Error("La contraseña debe tener al menos 6 caracteres");if(!i.displayName.trim())throw new Error("El nombre es requerido");await c(i.email,i.password,i.displayName)}}catch(y){console.error("Error en autenticación:",y)}finally{o(!1)}},g=()=>{t(!e),a({email:"",password:"",confirmPassword:"",displayName:""}),f()},m=v=>v?v.includes("user-not-found")?"Usuario no encontrado":v.includes("wrong-password")?"Contraseña incorrecta":v.includes("email-already-in-use")?"Este email ya está registrado":v.includes("weak-password")?"La contraseña es muy débil":v.includes("invalid-email")?"Email inválido":v.includes("too-many-requests")?"Demasiados intentos. Intenta más tarde":v:"";return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:p.jsx(ua,{className:"w-8 h-8 text-blue-600"})}),p.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Mistatas - Seguimiento de llamadas"}),p.jsx("p",{className:"text-gray-600",children:e?"Inicia sesión en tu cuenta":"Crea tu cuenta nueva"})]}),u&&p.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[p.jsx(Qd,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-red-800 text-sm font-medium",children:"Error de autenticación"}),p.jsx("p",{className:"text-red-600 text-sm mt-1",children:m(u)})]})]}),p.jsxs("form",{onSubmit:h,className:"space-y-6",children:[!e&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo"}),p.jsxs("div",{className:"relative",children:[p.jsx(nl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"text",name:"displayName",value:i.displayName,onChange:d,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tu nombre completo",required:!e})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrónico"}),p.jsxs("div",{className:"relative",children:[p.jsx(Y$,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{type:"email",name:"email",value:i.email,onChange:d,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tu@email.com",required:!0})]})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),p.jsxs("div",{className:"relative",children:[p.jsx(QR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{type:r?"text":"password",name:"password",value:i.password,onChange:d,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••",required:!0}),p.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?p.jsx(K$,{className:"w-5 h-5"}):p.jsx(X$,{className:"w-5 h-5"})})]})]}),!e&&p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar contraseña"}),p.jsxs("div",{className:"relative",children:[p.jsx(QR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),p.jsx("input",{type:r?"text":"password",name:"confirmPassword",value:i.confirmPassword,onChange:d,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••",required:!e})]})]}),p.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:s?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e?"Iniciando sesión...":"Creando cuenta..."]}):p.jsx(p.Fragment,{children:e?"Iniciar Sesión":"Crear Cuenta"})})]}),p.jsxs("div",{className:"mt-8 text-center",children:[p.jsx("p",{className:"text-gray-600",children:e?"¿No tienes cuenta?":"¿Ya tienes cuenta?"}),p.jsx("button",{onClick:g,className:"mt-2 text-blue-600 hover:text-blue-700 font-medium transition-colors",children:e?"Crear cuenta nueva":"Iniciar sesión"})]}),p.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(es,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-gray-800 text-sm font-medium",children:"Seguridad garantizada"}),p.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"Tus datos están protegidos con encriptación de nivel empresarial mediante Firebase Authentication."})]})]})})]})})},xHe=()=>p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("div",{className:"bg-white rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6 shadow-lg",children:p.jsx(ua,{className:"w-10 h-10 text-blue-600 animate-pulse"})}),p.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Mistatas - Seguimiento de llamadas"}),p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),p.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),p.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),p.jsx("p",{className:"text-gray-600 mt-4",children:"Verificando autenticación..."})]})}),wHe=localStorage.getItem("showMetricsApp")==="true"||window.location.search.includes("metrics=true"),bHe=()=>{const{user:e,loading:t}=Ep();return t?p.jsx(xHe,{}):e?wHe?p.jsx(vHe,{}):p.jsx(hJ,{}):p.jsx(yHe,{})};uT.createRoot(document.getElementById("root")).render(p.jsx(tl.StrictMode,{children:p.jsx(tEe,{children:p.jsx(bHe,{})})}));export{hn as _,SHe as c,Cf as g};
