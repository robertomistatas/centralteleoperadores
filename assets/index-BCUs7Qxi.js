var Wre=Object.defineProperty;var Hre=(e,t,r)=>t in e?Wre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var u2=(e,t,r)=>Hre(e,typeof t!="symbol"?t+"":t,r);function Gre(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function on(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zU={exports:{}},C_={},WU={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry=Symbol.for("react.element"),Kre=Symbol.for("react.portal"),qre=Symbol.for("react.fragment"),Yre=Symbol.for("react.strict_mode"),Xre=Symbol.for("react.profiler"),Qre=Symbol.for("react.provider"),Jre=Symbol.for("react.context"),Zre=Symbol.for("react.forward_ref"),ene=Symbol.for("react.suspense"),tne=Symbol.for("react.memo"),rne=Symbol.for("react.lazy"),jR=Symbol.iterator;function nne(e){return e===null||typeof e!="object"?null:(e=jR&&e[jR]||e["@@iterator"],typeof e=="function"?e:null)}var HU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GU=Object.assign,KU={};function um(e,t,r){this.props=e,this.context=t,this.refs=KU,this.updater=r||HU}um.prototype.isReactComponent={};um.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};um.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qU(){}qU.prototype=um.prototype;function BN(e,t,r){this.props=e,this.context=t,this.refs=KU,this.updater=r||HU}var UN=BN.prototype=new qU;UN.constructor=BN;GU(UN,um.prototype);UN.isPureReactComponent=!0;var RR=Array.isArray,YU=Object.prototype.hasOwnProperty,VN={current:null},XU={key:!0,ref:!0,__self:!0,__source:!0};function QU(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)YU.call(t,n)&&!XU.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:ry,type:e,key:i,ref:s,props:a,_owner:VN.current}}function ane(e,t){return{$$typeof:ry,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function zN(e){return typeof e=="object"&&e!==null&&e.$$typeof===ry}function ine(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var MR=/\/+/g;function d2(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ine(""+e.key):t.toString(36)}function j1(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ry:case Kre:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+d2(s,0):n,RR(a)?(r="",e!=null&&(r=e.replace(MR,"$&/")+"/"),j1(a,t,r,"",function(c){return c})):a!=null&&(zN(a)&&(a=ane(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(MR,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",RR(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+d2(i,o);s+=j1(i,t,r,l,a)}else if(l=nne(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+d2(i,o++),s+=j1(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Tx(e,t,r){if(e==null)return e;var n=[],a=0;return j1(e,n,"","",function(i){return t.call(r,i,a++)}),n}function sne(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hi={current:null},R1={transition:null},one={ReactCurrentDispatcher:hi,ReactCurrentBatchConfig:R1,ReactCurrentOwner:VN};function JU(){throw Error("act(...) is not supported in production builds of React.")}kt.Children={map:Tx,forEach:function(e,t,r){Tx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Tx(e,function(){t++}),t},toArray:function(e){return Tx(e,function(t){return t})||[]},only:function(e){if(!zN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kt.Component=um;kt.Fragment=qre;kt.Profiler=Xre;kt.PureComponent=BN;kt.StrictMode=Yre;kt.Suspense=ene;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=one;kt.act=JU;kt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=GU({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=VN.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)YU.call(t,l)&&!XU.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:ry,type:e.type,key:a,ref:i,props:n,_owner:s}};kt.createContext=function(e){return e={$$typeof:Jre,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Qre,_context:e},e.Consumer=e};kt.createElement=QU;kt.createFactory=function(e){var t=QU.bind(null,e);return t.type=e,t};kt.createRef=function(){return{current:null}};kt.forwardRef=function(e){return{$$typeof:Zre,render:e}};kt.isValidElement=zN;kt.lazy=function(e){return{$$typeof:rne,_payload:{_status:-1,_result:e},_init:sne}};kt.memo=function(e,t){return{$$typeof:tne,type:e,compare:t===void 0?null:t}};kt.startTransition=function(e){var t=R1.transition;R1.transition={};try{e()}finally{R1.transition=t}};kt.unstable_act=JU;kt.useCallback=function(e,t){return hi.current.useCallback(e,t)};kt.useContext=function(e){return hi.current.useContext(e)};kt.useDebugValue=function(){};kt.useDeferredValue=function(e){return hi.current.useDeferredValue(e)};kt.useEffect=function(e,t){return hi.current.useEffect(e,t)};kt.useId=function(){return hi.current.useId()};kt.useImperativeHandle=function(e,t,r){return hi.current.useImperativeHandle(e,t,r)};kt.useInsertionEffect=function(e,t){return hi.current.useInsertionEffect(e,t)};kt.useLayoutEffect=function(e,t){return hi.current.useLayoutEffect(e,t)};kt.useMemo=function(e,t){return hi.current.useMemo(e,t)};kt.useReducer=function(e,t,r){return hi.current.useReducer(e,t,r)};kt.useRef=function(e){return hi.current.useRef(e)};kt.useState=function(e){return hi.current.useState(e)};kt.useSyncExternalStore=function(e,t,r){return hi.current.useSyncExternalStore(e,t,r)};kt.useTransition=function(){return hi.current.useTransition()};kt.version="18.3.1";WU.exports=kt;var T=WU.exports;const ne=on(T),lne=Gre({__proto__:null,default:ne},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cne=T,une=Symbol.for("react.element"),dne=Symbol.for("react.fragment"),fne=Object.prototype.hasOwnProperty,hne=cne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mne={key:!0,ref:!0,__self:!0,__source:!0};function ZU(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)fne.call(t,n)&&!mne.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:une,type:e,key:i,ref:s,props:a,_owner:hne.current}}C_.Fragment=dne;C_.jsx=ZU;C_.jsxs=ZU;zU.exports=C_;var d=zU.exports,xA={},e9={exports:{}},os={},t9={exports:{}},r9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,L){var ae=z.length;z.push(L);e:for(;0<ae;){var ue=ae-1>>>1,F=z[ue];if(0<a(F,L))z[ue]=L,z[ae]=F,ae=ue;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var L=z[0],ae=z.pop();if(ae!==L){z[0]=ae;e:for(var ue=0,F=z.length,U=F>>>1;ue<U;){var K=2*(ue+1)-1,Y=z[K],te=K+1,ie=z[te];if(0>a(Y,ae))te<F&&0>a(ie,Y)?(z[ue]=ie,z[te]=ae,ue=te):(z[ue]=Y,z[K]=ae,ue=K);else if(te<F&&0>a(ie,ae))z[ue]=ie,z[te]=ae,ue=te;else break e}}return L}function a(z,L){var ae=z.sortIndex-L.sortIndex;return ae!==0?ae:z.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,m=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var L=r(c);L!==null;){if(L.callback===null)n(c);else if(L.startTime<=z)n(c),L.sortIndex=L.expirationTime,t(l,L);else break;L=r(c)}}function E(z){if(g=!1,b(z),!p)if(r(l)!==null)p=!0,Q(k);else{var L=r(c);L!==null&&W(E,L.startTime-z)}}function k(z,L){p=!1,g&&(g=!1,y(_),_=-1),m=!0;var ae=h;try{for(b(L),f=r(l);f!==null&&(!(f.expirationTime>L)||z&&!N());){var ue=f.callback;if(typeof ue=="function"){f.callback=null,h=f.priorityLevel;var F=ue(f.expirationTime<=L);L=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(l)&&n(l),b(L)}else n(l);f=r(l)}if(f!==null)var U=!0;else{var K=r(c);K!==null&&W(E,K.startTime-L),U=!1}return U}finally{f=null,h=ae,m=!1}}var C=!1,S=null,_=-1,A=5,P=-1;function N(){return!(e.unstable_now()-P<A)}function I(){if(S!==null){var z=e.unstable_now();P=z;var L=!0;try{L=S(!0,z)}finally{L?D():(C=!1,S=null)}}else C=!1}var D;if(typeof w=="function")D=function(){w(I)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ee=M.port2;M.port1.onmessage=I,D=function(){ee.postMessage(null)}}else D=function(){v(I,0)};function Q(z){S=z,C||(C=!0,D())}function W(z,L){_=v(function(){z(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,Q(k))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var ae=h;h=L;try{return z()}finally{h=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,L){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ae=h;h=z;try{return L()}finally{h=ae}},e.unstable_scheduleCallback=function(z,L,ae){var ue=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?ue+ae:ue):ae=ue,z){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ae+F,z={id:u++,callback:L,priorityLevel:z,startTime:ae,expirationTime:F,sortIndex:-1},ae>ue?(z.sortIndex=ae,t(c,z),r(l)===null&&z===r(c)&&(g?(y(_),_=-1):g=!0,W(E,ae-ue))):(z.sortIndex=F,t(l,z),p||m||(p=!0,Q(k))),z},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(z){var L=h;return function(){var ae=h;h=L;try{return z.apply(this,arguments)}finally{h=ae}}}})(r9);t9.exports=r9;var pne=t9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gne=T,rs=pne;function De(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n9=new Set,Ig={};function Qf(e,t){C0(e,t),C0(e+"Capture",t)}function C0(e,t){for(Ig[e]=t,e=0;e<t.length;e++)n9.add(t[e])}var ic=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wA=Object.prototype.hasOwnProperty,vne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,FR={},LR={};function yne(e){return wA.call(LR,e)?!0:wA.call(FR,e)?!1:vne.test(e)?LR[e]=!0:(FR[e]=!0,!1)}function xne(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wne(e,t,r,n){if(t===null||typeof t>"u"||xne(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function mi(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ba={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ba[e]=new mi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ba[t]=new mi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ba[e]=new mi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ba[e]=new mi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ba[e]=new mi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ba[e]=new mi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ba[e]=new mi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ba[e]=new mi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ba[e]=new mi(e,5,!1,e.toLowerCase(),null,!1,!1)});var WN=/[\-:]([a-z])/g;function HN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(WN,HN);ba[t]=new mi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(WN,HN);ba[t]=new mi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(WN,HN);ba[t]=new mi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ba[e]=new mi(e,1,!1,e.toLowerCase(),null,!1,!1)});ba.xlinkHref=new mi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ba[e]=new mi(e,1,!1,e.toLowerCase(),null,!0,!0)});function GN(e,t,r,n){var a=ba.hasOwnProperty(t)?ba[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wne(t,r,a,n)&&(r=null),n||a===null?yne(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Sc=gne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ax=Symbol.for("react.element"),Lh=Symbol.for("react.portal"),$h=Symbol.for("react.fragment"),KN=Symbol.for("react.strict_mode"),bA=Symbol.for("react.profiler"),a9=Symbol.for("react.provider"),i9=Symbol.for("react.context"),qN=Symbol.for("react.forward_ref"),_A=Symbol.for("react.suspense"),EA=Symbol.for("react.suspense_list"),YN=Symbol.for("react.memo"),qc=Symbol.for("react.lazy"),s9=Symbol.for("react.offscreen"),$R=Symbol.iterator;function up(e){return e===null||typeof e!="object"?null:(e=$R&&e[$R]||e["@@iterator"],typeof e=="function"?e:null)}var qr=Object.assign,f2;function Dp(e){if(f2===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);f2=t&&t[1]||""}return`
`+f2+e}var h2=!1;function m2(e,t){if(!e||h2)return"";h2=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{h2=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Dp(e):""}function bne(e){switch(e.tag){case 5:return Dp(e.type);case 16:return Dp("Lazy");case 13:return Dp("Suspense");case 19:return Dp("SuspenseList");case 0:case 2:case 15:return e=m2(e.type,!1),e;case 11:return e=m2(e.type.render,!1),e;case 1:return e=m2(e.type,!0),e;default:return""}}function SA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $h:return"Fragment";case Lh:return"Portal";case bA:return"Profiler";case KN:return"StrictMode";case _A:return"Suspense";case EA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case i9:return(e.displayName||"Context")+".Consumer";case a9:return(e._context.displayName||"Context")+".Provider";case qN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case YN:return t=e.displayName||null,t!==null?t:SA(e.type)||"Memo";case qc:t=e._payload,e=e._init;try{return SA(e(t))}catch{}}return null}function _ne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return SA(t);case 8:return t===KN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Pu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function o9(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ene(e){var t=o9(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cx(e){e._valueTracker||(e._valueTracker=Ene(e))}function l9(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=o9(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function hw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function TA(e,t){var r=t.checked;return qr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function BR(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Pu(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function c9(e,t){t=t.checked,t!=null&&GN(e,"checked",t,!1)}function AA(e,t){c9(e,t);var r=Pu(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?CA(e,t.type,r):t.hasOwnProperty("defaultValue")&&CA(e,t.type,Pu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function UR(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function CA(e,t,r){(t!=="number"||hw(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jp=Array.isArray;function s0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Pu(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function kA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(De(91));return qr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function VR(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(De(92));if(jp(r)){if(1<r.length)throw Error(De(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Pu(r)}}function u9(e,t){var r=Pu(t.value),n=Pu(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function zR(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function d9(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function NA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?d9(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var kx,f9=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(kx=kx||document.createElement("div"),kx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Og(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sne=["Webkit","ms","Moz","O"];Object.keys(Xp).forEach(function(e){Sne.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xp[t]=Xp[e]})});function h9(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xp.hasOwnProperty(e)&&Xp[e]?(""+t).trim():t+"px"}function m9(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=h9(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Tne=qr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function PA(e,t){if(t){if(Tne[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(De(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(De(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(De(61))}if(t.style!=null&&typeof t.style!="object")throw Error(De(62))}}function IA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var OA=null;function XN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var DA=null,o0=null,l0=null;function WR(e){if(e=iy(e)){if(typeof DA!="function")throw Error(De(280));var t=e.stateNode;t&&(t=O_(t),DA(e.stateNode,e.type,t))}}function p9(e){o0?l0?l0.push(e):l0=[e]:o0=e}function g9(){if(o0){var e=o0,t=l0;if(l0=o0=null,WR(e),t)for(e=0;e<t.length;e++)WR(t[e])}}function v9(e,t){return e(t)}function y9(){}var p2=!1;function x9(e,t,r){if(p2)return e(t,r);p2=!0;try{return v9(e,t,r)}finally{p2=!1,(o0!==null||l0!==null)&&(y9(),g9())}}function Dg(e,t){var r=e.stateNode;if(r===null)return null;var n=O_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(De(231,t,typeof r));return r}var jA=!1;if(ic)try{var dp={};Object.defineProperty(dp,"passive",{get:function(){jA=!0}}),window.addEventListener("test",dp,dp),window.removeEventListener("test",dp,dp)}catch{jA=!1}function Ane(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Qp=!1,mw=null,pw=!1,RA=null,Cne={onError:function(e){Qp=!0,mw=e}};function kne(e,t,r,n,a,i,s,o,l){Qp=!1,mw=null,Ane.apply(Cne,arguments)}function Nne(e,t,r,n,a,i,s,o,l){if(kne.apply(this,arguments),Qp){if(Qp){var c=mw;Qp=!1,mw=null}else throw Error(De(198));pw||(pw=!0,RA=c)}}function Jf(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function w9(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function HR(e){if(Jf(e)!==e)throw Error(De(188))}function Pne(e){var t=e.alternate;if(!t){if(t=Jf(e),t===null)throw Error(De(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return HR(a),e;if(i===n)return HR(a),t;i=i.sibling}throw Error(De(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(De(189))}}if(r.alternate!==n)throw Error(De(190))}if(r.tag!==3)throw Error(De(188));return r.stateNode.current===r?e:t}function b9(e){return e=Pne(e),e!==null?_9(e):null}function _9(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_9(e);if(t!==null)return t;e=e.sibling}return null}var E9=rs.unstable_scheduleCallback,GR=rs.unstable_cancelCallback,Ine=rs.unstable_shouldYield,One=rs.unstable_requestPaint,gn=rs.unstable_now,Dne=rs.unstable_getCurrentPriorityLevel,QN=rs.unstable_ImmediatePriority,S9=rs.unstable_UserBlockingPriority,gw=rs.unstable_NormalPriority,jne=rs.unstable_LowPriority,T9=rs.unstable_IdlePriority,k_=null,Jo=null;function Rne(e){if(Jo&&typeof Jo.onCommitFiberRoot=="function")try{Jo.onCommitFiberRoot(k_,e,void 0,(e.current.flags&128)===128)}catch{}}var wo=Math.clz32?Math.clz32:Lne,Mne=Math.log,Fne=Math.LN2;function Lne(e){return e>>>=0,e===0?32:31-(Mne(e)/Fne|0)|0}var Nx=64,Px=4194304;function Rp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vw(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=Rp(o):(i&=s,i!==0&&(n=Rp(i)))}else s=r&~a,s!==0?n=Rp(s):i!==0&&(n=Rp(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-wo(t),a=1<<r,n|=e[r],t&=~a;return n}function $ne(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bne(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-wo(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=$ne(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function MA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function A9(){var e=Nx;return Nx<<=1,!(Nx&4194240)&&(Nx=64),e}function g2(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ny(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wo(t),e[t]=r}function Une(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-wo(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function JN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-wo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var rr=0;function C9(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var k9,ZN,N9,P9,I9,FA=!1,Ix=[],hu=null,mu=null,pu=null,jg=new Map,Rg=new Map,eu=[],Vne="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function KR(e,t){switch(e){case"focusin":case"focusout":hu=null;break;case"dragenter":case"dragleave":mu=null;break;case"mouseover":case"mouseout":pu=null;break;case"pointerover":case"pointerout":jg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rg.delete(t.pointerId)}}function fp(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=iy(t),t!==null&&ZN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function zne(e,t,r,n,a){switch(t){case"focusin":return hu=fp(hu,e,t,r,n,a),!0;case"dragenter":return mu=fp(mu,e,t,r,n,a),!0;case"mouseover":return pu=fp(pu,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return jg.set(i,fp(jg.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Rg.set(i,fp(Rg.get(i)||null,e,t,r,n,a)),!0}return!1}function O9(e){var t=Ld(e.target);if(t!==null){var r=Jf(t);if(r!==null){if(t=r.tag,t===13){if(t=w9(r),t!==null){e.blockedOn=t,I9(e.priority,function(){N9(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function M1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=LA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);OA=n,r.target.dispatchEvent(n),OA=null}else return t=iy(r),t!==null&&ZN(t),e.blockedOn=r,!1;t.shift()}return!0}function qR(e,t,r){M1(e)&&r.delete(t)}function Wne(){FA=!1,hu!==null&&M1(hu)&&(hu=null),mu!==null&&M1(mu)&&(mu=null),pu!==null&&M1(pu)&&(pu=null),jg.forEach(qR),Rg.forEach(qR)}function hp(e,t){e.blockedOn===t&&(e.blockedOn=null,FA||(FA=!0,rs.unstable_scheduleCallback(rs.unstable_NormalPriority,Wne)))}function Mg(e){function t(a){return hp(a,e)}if(0<Ix.length){hp(Ix[0],e);for(var r=1;r<Ix.length;r++){var n=Ix[r];n.blockedOn===e&&(n.blockedOn=null)}}for(hu!==null&&hp(hu,e),mu!==null&&hp(mu,e),pu!==null&&hp(pu,e),jg.forEach(t),Rg.forEach(t),r=0;r<eu.length;r++)n=eu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<eu.length&&(r=eu[0],r.blockedOn===null);)O9(r),r.blockedOn===null&&eu.shift()}var c0=Sc.ReactCurrentBatchConfig,yw=!0;function Hne(e,t,r,n){var a=rr,i=c0.transition;c0.transition=null;try{rr=1,eP(e,t,r,n)}finally{rr=a,c0.transition=i}}function Gne(e,t,r,n){var a=rr,i=c0.transition;c0.transition=null;try{rr=4,eP(e,t,r,n)}finally{rr=a,c0.transition=i}}function eP(e,t,r,n){if(yw){var a=LA(e,t,r,n);if(a===null)A2(e,t,n,xw,r),KR(e,n);else if(zne(a,e,t,r,n))n.stopPropagation();else if(KR(e,n),t&4&&-1<Vne.indexOf(e)){for(;a!==null;){var i=iy(a);if(i!==null&&k9(i),i=LA(e,t,r,n),i===null&&A2(e,t,n,xw,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else A2(e,t,n,null,r)}}var xw=null;function LA(e,t,r,n){if(xw=null,e=XN(n),e=Ld(e),e!==null)if(t=Jf(e),t===null)e=null;else if(r=t.tag,r===13){if(e=w9(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xw=e,null}function D9(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dne()){case QN:return 1;case S9:return 4;case gw:case jne:return 16;case T9:return 536870912;default:return 16}default:return 16}}var ou=null,tP=null,F1=null;function j9(){if(F1)return F1;var e,t=tP,r=t.length,n,a="value"in ou?ou.value:ou.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return F1=a.slice(e,1<n?1-n:void 0)}function L1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ox(){return!0}function YR(){return!1}function ls(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ox:YR,this.isPropagationStopped=YR,this}return qr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ox)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ox)},persist:function(){},isPersistent:Ox}),t}var dm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rP=ls(dm),ay=qr({},dm,{view:0,detail:0}),Kne=ls(ay),v2,y2,mp,N_=qr({},ay,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mp&&(mp&&e.type==="mousemove"?(v2=e.screenX-mp.screenX,y2=e.screenY-mp.screenY):y2=v2=0,mp=e),v2)},movementY:function(e){return"movementY"in e?e.movementY:y2}}),XR=ls(N_),qne=qr({},N_,{dataTransfer:0}),Yne=ls(qne),Xne=qr({},ay,{relatedTarget:0}),x2=ls(Xne),Qne=qr({},dm,{animationName:0,elapsedTime:0,pseudoElement:0}),Jne=ls(Qne),Zne=qr({},dm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eae=ls(Zne),tae=qr({},dm,{data:0}),QR=ls(tae),rae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iae(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=aae[e])?!!t[e]:!1}function nP(){return iae}var sae=qr({},ay,{key:function(e){if(e.key){var t=rae[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=L1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nae[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nP,charCode:function(e){return e.type==="keypress"?L1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?L1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),oae=ls(sae),lae=qr({},N_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),JR=ls(lae),cae=qr({},ay,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nP}),uae=ls(cae),dae=qr({},dm,{propertyName:0,elapsedTime:0,pseudoElement:0}),fae=ls(dae),hae=qr({},N_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mae=ls(hae),pae=[9,13,27,32],aP=ic&&"CompositionEvent"in window,Jp=null;ic&&"documentMode"in document&&(Jp=document.documentMode);var gae=ic&&"TextEvent"in window&&!Jp,R9=ic&&(!aP||Jp&&8<Jp&&11>=Jp),ZR=" ",eM=!1;function M9(e,t){switch(e){case"keyup":return pae.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F9(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bh=!1;function vae(e,t){switch(e){case"compositionend":return F9(t);case"keypress":return t.which!==32?null:(eM=!0,ZR);case"textInput":return e=t.data,e===ZR&&eM?null:e;default:return null}}function yae(e,t){if(Bh)return e==="compositionend"||!aP&&M9(e,t)?(e=j9(),F1=tP=ou=null,Bh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return R9&&t.locale!=="ko"?null:t.data;default:return null}}var xae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tM(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xae[e.type]:t==="textarea"}function L9(e,t,r,n){p9(n),t=ww(t,"onChange"),0<t.length&&(r=new rP("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Zp=null,Fg=null;function wae(e){Y9(e,0)}function P_(e){var t=zh(e);if(l9(t))return e}function bae(e,t){if(e==="change")return t}var $9=!1;if(ic){var w2;if(ic){var b2="oninput"in document;if(!b2){var rM=document.createElement("div");rM.setAttribute("oninput","return;"),b2=typeof rM.oninput=="function"}w2=b2}else w2=!1;$9=w2&&(!document.documentMode||9<document.documentMode)}function nM(){Zp&&(Zp.detachEvent("onpropertychange",B9),Fg=Zp=null)}function B9(e){if(e.propertyName==="value"&&P_(Fg)){var t=[];L9(t,Fg,e,XN(e)),x9(wae,t)}}function _ae(e,t,r){e==="focusin"?(nM(),Zp=t,Fg=r,Zp.attachEvent("onpropertychange",B9)):e==="focusout"&&nM()}function Eae(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return P_(Fg)}function Sae(e,t){if(e==="click")return P_(t)}function Tae(e,t){if(e==="input"||e==="change")return P_(t)}function Aae(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Co=typeof Object.is=="function"?Object.is:Aae;function Lg(e,t){if(Co(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!wA.call(t,a)||!Co(e[a],t[a]))return!1}return!0}function aM(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function iM(e,t){var r=aM(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=aM(r)}}function U9(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?U9(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function V9(){for(var e=window,t=hw();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hw(e.document)}return t}function iP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Cae(e){var t=V9(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&U9(r.ownerDocument.documentElement,r)){if(n!==null&&iP(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=iM(r,i);var s=iM(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var kae=ic&&"documentMode"in document&&11>=document.documentMode,Uh=null,$A=null,eg=null,BA=!1;function sM(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;BA||Uh==null||Uh!==hw(n)||(n=Uh,"selectionStart"in n&&iP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),eg&&Lg(eg,n)||(eg=n,n=ww($A,"onSelect"),0<n.length&&(t=new rP("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Uh)))}function Dx(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vh={animationend:Dx("Animation","AnimationEnd"),animationiteration:Dx("Animation","AnimationIteration"),animationstart:Dx("Animation","AnimationStart"),transitionend:Dx("Transition","TransitionEnd")},_2={},z9={};ic&&(z9=document.createElement("div").style,"AnimationEvent"in window||(delete Vh.animationend.animation,delete Vh.animationiteration.animation,delete Vh.animationstart.animation),"TransitionEvent"in window||delete Vh.transitionend.transition);function I_(e){if(_2[e])return _2[e];if(!Vh[e])return e;var t=Vh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in z9)return _2[e]=t[r];return e}var W9=I_("animationend"),H9=I_("animationiteration"),G9=I_("animationstart"),K9=I_("transitionend"),q9=new Map,oM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qu(e,t){q9.set(e,t),Qf(t,[e])}for(var E2=0;E2<oM.length;E2++){var S2=oM[E2],Nae=S2.toLowerCase(),Pae=S2[0].toUpperCase()+S2.slice(1);Qu(Nae,"on"+Pae)}Qu(W9,"onAnimationEnd");Qu(H9,"onAnimationIteration");Qu(G9,"onAnimationStart");Qu("dblclick","onDoubleClick");Qu("focusin","onFocus");Qu("focusout","onBlur");Qu(K9,"onTransitionEnd");C0("onMouseEnter",["mouseout","mouseover"]);C0("onMouseLeave",["mouseout","mouseover"]);C0("onPointerEnter",["pointerout","pointerover"]);C0("onPointerLeave",["pointerout","pointerover"]);Qf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qf("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Iae=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mp));function lM(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Nne(n,t,void 0,e),e.currentTarget=null}function Y9(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;lM(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;lM(a,o,c),i=l}}}if(pw)throw e=RA,pw=!1,RA=null,e}function Tr(e,t){var r=t[HA];r===void 0&&(r=t[HA]=new Set);var n=e+"__bubble";r.has(n)||(X9(t,e,2,!1),r.add(n))}function T2(e,t,r){var n=0;t&&(n|=4),X9(r,e,n,t)}var jx="_reactListening"+Math.random().toString(36).slice(2);function $g(e){if(!e[jx]){e[jx]=!0,n9.forEach(function(r){r!=="selectionchange"&&(Iae.has(r)||T2(r,!1,e),T2(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jx]||(t[jx]=!0,T2("selectionchange",!1,t))}}function X9(e,t,r,n){switch(D9(t)){case 1:var a=Hne;break;case 4:a=Gne;break;default:a=eP}r=a.bind(null,t,r,e),a=void 0,!jA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function A2(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Ld(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}x9(function(){var c=i,u=XN(r),f=[];e:{var h=q9.get(e);if(h!==void 0){var m=rP,p=e;switch(e){case"keypress":if(L1(r)===0)break e;case"keydown":case"keyup":m=oae;break;case"focusin":p="focus",m=x2;break;case"focusout":p="blur",m=x2;break;case"beforeblur":case"afterblur":m=x2;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=XR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Yne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=uae;break;case W9:case H9:case G9:m=Jne;break;case K9:m=fae;break;case"scroll":m=Kne;break;case"wheel":m=mae;break;case"copy":case"cut":case"paste":m=eae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=JR}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var w=c,b;w!==null;){b=w;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,y!==null&&(E=Dg(w,y),E!=null&&g.push(Bg(w,E,b)))),v)break;w=w.return}0<g.length&&(h=new m(h,p,null,r,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==OA&&(p=r.relatedTarget||r.fromElement)&&(Ld(p)||p[sc]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=c,p=p?Ld(p):null,p!==null&&(v=Jf(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(g=XR,E="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=JR,E="onPointerLeave",y="onPointerEnter",w="pointer"),v=m==null?h:zh(m),b=p==null?h:zh(p),h=new g(E,w+"leave",m,r,u),h.target=v,h.relatedTarget=b,E=null,Ld(u)===c&&(g=new g(y,w+"enter",p,r,u),g.target=b,g.relatedTarget=v,E=g),v=E,m&&p)t:{for(g=m,y=p,w=0,b=g;b;b=_h(b))w++;for(b=0,E=y;E;E=_h(E))b++;for(;0<w-b;)g=_h(g),w--;for(;0<b-w;)y=_h(y),b--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=_h(g),y=_h(y)}g=null}else g=null;m!==null&&cM(f,h,m,g,!1),p!==null&&v!==null&&cM(f,v,p,g,!0)}}e:{if(h=c?zh(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=bae;else if(tM(h))if($9)k=Tae;else{k=Eae;var C=_ae}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Sae);if(k&&(k=k(e,c))){L9(f,k,r,u);break e}C&&C(e,h,c),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&CA(h,"number",h.value)}switch(C=c?zh(c):window,e){case"focusin":(tM(C)||C.contentEditable==="true")&&(Uh=C,$A=c,eg=null);break;case"focusout":eg=$A=Uh=null;break;case"mousedown":BA=!0;break;case"contextmenu":case"mouseup":case"dragend":BA=!1,sM(f,r,u);break;case"selectionchange":if(kae)break;case"keydown":case"keyup":sM(f,r,u)}var S;if(aP)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bh?M9(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(R9&&r.locale!=="ko"&&(Bh||_!=="onCompositionStart"?_==="onCompositionEnd"&&Bh&&(S=j9()):(ou=u,tP="value"in ou?ou.value:ou.textContent,Bh=!0)),C=ww(c,_),0<C.length&&(_=new QR(_,e,null,r,u),f.push({event:_,listeners:C}),S?_.data=S:(S=F9(r),S!==null&&(_.data=S)))),(S=gae?vae(e,r):yae(e,r))&&(c=ww(c,"onBeforeInput"),0<c.length&&(u=new QR("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=S))}Y9(f,t)})}function Bg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ww(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Dg(e,r),i!=null&&n.unshift(Bg(e,i,a)),i=Dg(e,t),i!=null&&n.push(Bg(e,i,a))),e=e.return}return n}function _h(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cM(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=Dg(r,i),l!=null&&s.unshift(Bg(r,l,o))):a||(l=Dg(r,i),l!=null&&s.push(Bg(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Oae=/\r\n?/g,Dae=/\u0000|\uFFFD/g;function uM(e){return(typeof e=="string"?e:""+e).replace(Oae,`
`).replace(Dae,"")}function Rx(e,t,r){if(t=uM(t),uM(e)!==t&&r)throw Error(De(425))}function bw(){}var UA=null,VA=null;function zA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var WA=typeof setTimeout=="function"?setTimeout:void 0,jae=typeof clearTimeout=="function"?clearTimeout:void 0,dM=typeof Promise=="function"?Promise:void 0,Rae=typeof queueMicrotask=="function"?queueMicrotask:typeof dM<"u"?function(e){return dM.resolve(null).then(e).catch(Mae)}:WA;function Mae(e){setTimeout(function(){throw e})}function C2(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Mg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Mg(t)}function gu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fM(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fm=Math.random().toString(36).slice(2),Go="__reactFiber$"+fm,Ug="__reactProps$"+fm,sc="__reactContainer$"+fm,HA="__reactEvents$"+fm,Fae="__reactListeners$"+fm,Lae="__reactHandles$"+fm;function Ld(e){var t=e[Go];if(t)return t;for(var r=e.parentNode;r;){if(t=r[sc]||r[Go]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fM(e);e!==null;){if(r=e[Go])return r;e=fM(e)}return t}e=r,r=e.parentNode}return null}function iy(e){return e=e[Go]||e[sc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(De(33))}function O_(e){return e[Ug]||null}var GA=[],Wh=-1;function Ju(e){return{current:e}}function Pr(e){0>Wh||(e.current=GA[Wh],GA[Wh]=null,Wh--)}function yr(e,t){Wh++,GA[Wh]=e.current,e.current=t}var Iu={},Ha=Ju(Iu),Ti=Ju(!1),df=Iu;function k0(e,t){var r=e.type.contextTypes;if(!r)return Iu;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return e=e.childContextTypes,e!=null}function _w(){Pr(Ti),Pr(Ha)}function hM(e,t,r){if(Ha.current!==Iu)throw Error(De(168));yr(Ha,t),yr(Ti,r)}function Q9(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(De(108,_ne(e)||"Unknown",a));return qr({},r,n)}function Ew(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Iu,df=Ha.current,yr(Ha,e),yr(Ti,Ti.current),!0}function mM(e,t,r){var n=e.stateNode;if(!n)throw Error(De(169));r?(e=Q9(e,t,df),n.__reactInternalMemoizedMergedChildContext=e,Pr(Ti),Pr(Ha),yr(Ha,e)):Pr(Ti),yr(Ti,r)}var Rl=null,D_=!1,k2=!1;function J9(e){Rl===null?Rl=[e]:Rl.push(e)}function $ae(e){D_=!0,J9(e)}function Zu(){if(!k2&&Rl!==null){k2=!0;var e=0,t=rr;try{var r=Rl;for(rr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rl=null,D_=!1}catch(a){throw Rl!==null&&(Rl=Rl.slice(e+1)),E9(QN,Zu),a}finally{rr=t,k2=!1}}return null}var Hh=[],Gh=0,Sw=null,Tw=0,Cs=[],ks=0,ff=null,$l=1,Bl="";function Ad(e,t){Hh[Gh++]=Tw,Hh[Gh++]=Sw,Sw=e,Tw=t}function Z9(e,t,r){Cs[ks++]=$l,Cs[ks++]=Bl,Cs[ks++]=ff,ff=e;var n=$l;e=Bl;var a=32-wo(n)-1;n&=~(1<<a),r+=1;var i=32-wo(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,$l=1<<32-wo(t)+a|r<<a|n,Bl=i+e}else $l=1<<i|r<<a|n,Bl=e}function sP(e){e.return!==null&&(Ad(e,1),Z9(e,1,0))}function oP(e){for(;e===Sw;)Sw=Hh[--Gh],Hh[Gh]=null,Tw=Hh[--Gh],Hh[Gh]=null;for(;e===ff;)ff=Cs[--ks],Cs[ks]=null,Bl=Cs[--ks],Cs[ks]=null,$l=Cs[--ks],Cs[ks]=null}var Zi=null,Qi=null,Mr=!1,fo=null;function eV(e,t){var r=js(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function pM(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Zi=e,Qi=gu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Zi=e,Qi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ff!==null?{id:$l,overflow:Bl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=js(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Zi=e,Qi=null,!0):!1;default:return!1}}function KA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function qA(e){if(Mr){var t=Qi;if(t){var r=t;if(!pM(e,t)){if(KA(e))throw Error(De(418));t=gu(r.nextSibling);var n=Zi;t&&pM(e,t)?eV(n,r):(e.flags=e.flags&-4097|2,Mr=!1,Zi=e)}}else{if(KA(e))throw Error(De(418));e.flags=e.flags&-4097|2,Mr=!1,Zi=e}}}function gM(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Zi=e}function Mx(e){if(e!==Zi)return!1;if(!Mr)return gM(e),Mr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!zA(e.type,e.memoizedProps)),t&&(t=Qi)){if(KA(e))throw tV(),Error(De(418));for(;t;)eV(e,t),t=gu(t.nextSibling)}if(gM(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(De(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Qi=gu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Qi=null}}else Qi=Zi?gu(e.stateNode.nextSibling):null;return!0}function tV(){for(var e=Qi;e;)e=gu(e.nextSibling)}function N0(){Qi=Zi=null,Mr=!1}function lP(e){fo===null?fo=[e]:fo.push(e)}var Bae=Sc.ReactCurrentBatchConfig;function pp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(De(309));var n=r.stateNode}if(!n)throw Error(De(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(De(284));if(!r._owner)throw Error(De(290,e))}return e}function Fx(e,t){throw e=Object.prototype.toString.call(t),Error(De(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vM(e){var t=e._init;return t(e._payload)}function rV(e){function t(y,w){if(e){var b=y.deletions;b===null?(y.deletions=[w],y.flags|=16):b.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function a(y,w){return y=wu(y,w),y.index=0,y.sibling=null,y}function i(y,w,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<w?(y.flags|=2,w):b):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,w,b,E){return w===null||w.tag!==6?(w=R2(b,y.mode,E),w.return=y,w):(w=a(w,b),w.return=y,w)}function l(y,w,b,E){var k=b.type;return k===$h?u(y,w,b.props.children,E,b.key):w!==null&&(w.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===qc&&vM(k)===w.type)?(E=a(w,b.props),E.ref=pp(y,w,b),E.return=y,E):(E=H1(b.type,b.key,b.props,null,y.mode,E),E.ref=pp(y,w,b),E.return=y,E)}function c(y,w,b,E){return w===null||w.tag!==4||w.stateNode.containerInfo!==b.containerInfo||w.stateNode.implementation!==b.implementation?(w=M2(b,y.mode,E),w.return=y,w):(w=a(w,b.children||[]),w.return=y,w)}function u(y,w,b,E,k){return w===null||w.tag!==7?(w=Qd(b,y.mode,E,k),w.return=y,w):(w=a(w,b),w.return=y,w)}function f(y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return w=R2(""+w,y.mode,b),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ax:return b=H1(w.type,w.key,w.props,null,y.mode,b),b.ref=pp(y,null,w),b.return=y,b;case Lh:return w=M2(w,y.mode,b),w.return=y,w;case qc:var E=w._init;return f(y,E(w._payload),b)}if(jp(w)||up(w))return w=Qd(w,y.mode,b,null),w.return=y,w;Fx(y,w)}return null}function h(y,w,b,E){var k=w!==null?w.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:o(y,w,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ax:return b.key===k?l(y,w,b,E):null;case Lh:return b.key===k?c(y,w,b,E):null;case qc:return k=b._init,h(y,w,k(b._payload),E)}if(jp(b)||up(b))return k!==null?null:u(y,w,b,E,null);Fx(y,b)}return null}function m(y,w,b,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(b)||null,o(w,y,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ax:return y=y.get(E.key===null?b:E.key)||null,l(w,y,E,k);case Lh:return y=y.get(E.key===null?b:E.key)||null,c(w,y,E,k);case qc:var C=E._init;return m(y,w,b,C(E._payload),k)}if(jp(E)||up(E))return y=y.get(b)||null,u(w,y,E,k,null);Fx(w,E)}return null}function p(y,w,b,E){for(var k=null,C=null,S=w,_=w=0,A=null;S!==null&&_<b.length;_++){S.index>_?(A=S,S=null):A=S.sibling;var P=h(y,S,b[_],E);if(P===null){S===null&&(S=A);break}e&&S&&P.alternate===null&&t(y,S),w=i(P,w,_),C===null?k=P:C.sibling=P,C=P,S=A}if(_===b.length)return r(y,S),Mr&&Ad(y,_),k;if(S===null){for(;_<b.length;_++)S=f(y,b[_],E),S!==null&&(w=i(S,w,_),C===null?k=S:C.sibling=S,C=S);return Mr&&Ad(y,_),k}for(S=n(y,S);_<b.length;_++)A=m(S,y,_,b[_],E),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?_:A.key),w=i(A,w,_),C===null?k=A:C.sibling=A,C=A);return e&&S.forEach(function(N){return t(y,N)}),Mr&&Ad(y,_),k}function g(y,w,b,E){var k=up(b);if(typeof k!="function")throw Error(De(150));if(b=k.call(b),b==null)throw Error(De(151));for(var C=k=null,S=w,_=w=0,A=null,P=b.next();S!==null&&!P.done;_++,P=b.next()){S.index>_?(A=S,S=null):A=S.sibling;var N=h(y,S,P.value,E);if(N===null){S===null&&(S=A);break}e&&S&&N.alternate===null&&t(y,S),w=i(N,w,_),C===null?k=N:C.sibling=N,C=N,S=A}if(P.done)return r(y,S),Mr&&Ad(y,_),k;if(S===null){for(;!P.done;_++,P=b.next())P=f(y,P.value,E),P!==null&&(w=i(P,w,_),C===null?k=P:C.sibling=P,C=P);return Mr&&Ad(y,_),k}for(S=n(y,S);!P.done;_++,P=b.next())P=m(S,y,_,P.value,E),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?_:P.key),w=i(P,w,_),C===null?k=P:C.sibling=P,C=P);return e&&S.forEach(function(I){return t(y,I)}),Mr&&Ad(y,_),k}function v(y,w,b,E){if(typeof b=="object"&&b!==null&&b.type===$h&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ax:e:{for(var k=b.key,C=w;C!==null;){if(C.key===k){if(k=b.type,k===$h){if(C.tag===7){r(y,C.sibling),w=a(C,b.props.children),w.return=y,y=w;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===qc&&vM(k)===C.type){r(y,C.sibling),w=a(C,b.props),w.ref=pp(y,C,b),w.return=y,y=w;break e}r(y,C);break}else t(y,C);C=C.sibling}b.type===$h?(w=Qd(b.props.children,y.mode,E,b.key),w.return=y,y=w):(E=H1(b.type,b.key,b.props,null,y.mode,E),E.ref=pp(y,w,b),E.return=y,y=E)}return s(y);case Lh:e:{for(C=b.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===b.containerInfo&&w.stateNode.implementation===b.implementation){r(y,w.sibling),w=a(w,b.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=M2(b,y.mode,E),w.return=y,y=w}return s(y);case qc:return C=b._init,v(y,w,C(b._payload),E)}if(jp(b))return p(y,w,b,E);if(up(b))return g(y,w,b,E);Fx(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,w!==null&&w.tag===6?(r(y,w.sibling),w=a(w,b),w.return=y,y=w):(r(y,w),w=R2(b,y.mode,E),w.return=y,y=w),s(y)):r(y,w)}return v}var P0=rV(!0),nV=rV(!1),Aw=Ju(null),Cw=null,Kh=null,cP=null;function uP(){cP=Kh=Cw=null}function dP(e){var t=Aw.current;Pr(Aw),e._currentValue=t}function YA(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function u0(e,t){Cw=e,cP=Kh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bi=!0),e.firstContext=null)}function Bs(e){var t=e._currentValue;if(cP!==e)if(e={context:e,memoizedValue:t,next:null},Kh===null){if(Cw===null)throw Error(De(308));Kh=e,Cw.dependencies={lanes:0,firstContext:e}}else Kh=Kh.next=e;return t}var $d=null;function fP(e){$d===null?$d=[e]:$d.push(e)}function aV(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,fP(t)):(r.next=a.next,a.next=r),t.interleaved=r,oc(e,n)}function oc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Yc=!1;function hP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Bt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,oc(e,r)}return a=n.interleaved,a===null?(t.next=t,fP(n)):(t.next=a.next,a.next=t),n.interleaved=t,oc(e,r)}function $1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,JN(e,r)}}function yM(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function kw(e,t,r,n){var a=e.updateQueue;Yc=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,m=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,m=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=qr({},f,h);break e;case 2:Yc=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);mf|=s,e.lanes=s,e.memoizedState=f}}function xM(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(De(191,a));a.call(n)}}}var sy={},Zo=Ju(sy),Vg=Ju(sy),zg=Ju(sy);function Bd(e){if(e===sy)throw Error(De(174));return e}function mP(e,t){switch(yr(zg,t),yr(Vg,e),yr(Zo,sy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:NA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=NA(t,e)}Pr(Zo),yr(Zo,t)}function I0(){Pr(Zo),Pr(Vg),Pr(zg)}function sV(e){Bd(zg.current);var t=Bd(Zo.current),r=NA(t,e.type);t!==r&&(yr(Vg,e),yr(Zo,r))}function pP(e){Vg.current===e&&(Pr(Zo),Pr(Vg))}var Ur=Ju(0);function Nw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var N2=[];function gP(){for(var e=0;e<N2.length;e++)N2[e]._workInProgressVersionPrimary=null;N2.length=0}var B1=Sc.ReactCurrentDispatcher,P2=Sc.ReactCurrentBatchConfig,hf=0,Kr=null,Rn=null,Jn=null,Pw=!1,tg=!1,Wg=0,Uae=0;function Ca(){throw Error(De(321))}function vP(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Co(e[r],t[r]))return!1;return!0}function yP(e,t,r,n,a,i){if(hf=i,Kr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B1.current=e===null||e.memoizedState===null?Hae:Gae,e=r(n,a),tg){i=0;do{if(tg=!1,Wg=0,25<=i)throw Error(De(301));i+=1,Jn=Rn=null,t.updateQueue=null,B1.current=Kae,e=r(n,a)}while(tg)}if(B1.current=Iw,t=Rn!==null&&Rn.next!==null,hf=0,Jn=Rn=Kr=null,Pw=!1,t)throw Error(De(300));return e}function xP(){var e=Wg!==0;return Wg=0,e}function zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?Kr.memoizedState=Jn=e:Jn=Jn.next=e,Jn}function Us(){if(Rn===null){var e=Kr.alternate;e=e!==null?e.memoizedState:null}else e=Rn.next;var t=Jn===null?Kr.memoizedState:Jn.next;if(t!==null)Jn=t,Rn=e;else{if(e===null)throw Error(De(310));Rn=e,e={memoizedState:Rn.memoizedState,baseState:Rn.baseState,baseQueue:Rn.baseQueue,queue:Rn.queue,next:null},Jn===null?Kr.memoizedState=Jn=e:Jn=Jn.next=e}return Jn}function Hg(e,t){return typeof t=="function"?t(e):t}function I2(e){var t=Us(),r=t.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=e;var n=Rn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((hf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Kr.lanes|=u,mf|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,Co(n,t.memoizedState)||(bi=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Kr.lanes|=i,mf|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function O2(e){var t=Us(),r=t.queue;if(r===null)throw Error(De(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);Co(i,t.memoizedState)||(bi=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function oV(){}function lV(e,t){var r=Kr,n=Us(),a=t(),i=!Co(n.memoizedState,a);if(i&&(n.memoizedState=a,bi=!0),n=n.queue,wP(dV.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Jn!==null&&Jn.memoizedState.tag&1){if(r.flags|=2048,Gg(9,uV.bind(null,r,n,a,t),void 0,null),na===null)throw Error(De(349));hf&30||cV(r,t,a)}return a}function cV(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Kr.updateQueue,t===null?(t={lastEffect:null,stores:null},Kr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function uV(e,t,r,n){t.value=r,t.getSnapshot=n,fV(t)&&hV(e)}function dV(e,t,r){return r(function(){fV(t)&&hV(e)})}function fV(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Co(e,r)}catch{return!0}}function hV(e){var t=oc(e,1);t!==null&&bo(t,e,1,-1)}function wM(e){var t=zo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:e},t.queue=e,e=e.dispatch=Wae.bind(null,Kr,e),[t.memoizedState,e]}function Gg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Kr.updateQueue,t===null?(t={lastEffect:null,stores:null},Kr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function mV(){return Us().memoizedState}function U1(e,t,r,n){var a=zo();Kr.flags|=e,a.memoizedState=Gg(1|t,r,void 0,n===void 0?null:n)}function j_(e,t,r,n){var a=Us();n=n===void 0?null:n;var i=void 0;if(Rn!==null){var s=Rn.memoizedState;if(i=s.destroy,n!==null&&vP(n,s.deps)){a.memoizedState=Gg(t,r,i,n);return}}Kr.flags|=e,a.memoizedState=Gg(1|t,r,i,n)}function bM(e,t){return U1(8390656,8,e,t)}function wP(e,t){return j_(2048,8,e,t)}function pV(e,t){return j_(4,2,e,t)}function gV(e,t){return j_(4,4,e,t)}function vV(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yV(e,t,r){return r=r!=null?r.concat([e]):null,j_(4,4,vV.bind(null,t,e),r)}function bP(){}function xV(e,t){var r=Us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vP(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function wV(e,t){var r=Us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vP(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function bV(e,t,r){return hf&21?(Co(r,t)||(r=A9(),Kr.lanes|=r,mf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bi=!0),e.memoizedState=r)}function Vae(e,t){var r=rr;rr=r!==0&&4>r?r:4,e(!0);var n=P2.transition;P2.transition={};try{e(!1),t()}finally{rr=r,P2.transition=n}}function _V(){return Us().memoizedState}function zae(e,t,r){var n=xu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},EV(e))SV(t,r);else if(r=aV(e,t,r,n),r!==null){var a=ui();bo(r,e,n,a),TV(r,t,n)}}function Wae(e,t,r){var n=xu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(EV(e))SV(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,Co(o,s)){var l=t.interleaved;l===null?(a.next=a,fP(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=aV(e,t,a,n),r!==null&&(a=ui(),bo(r,e,n,a),TV(r,t,n))}}function EV(e){var t=e.alternate;return e===Kr||t!==null&&t===Kr}function SV(e,t){tg=Pw=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function TV(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,JN(e,r)}}var Iw={readContext:Bs,useCallback:Ca,useContext:Ca,useEffect:Ca,useImperativeHandle:Ca,useInsertionEffect:Ca,useLayoutEffect:Ca,useMemo:Ca,useReducer:Ca,useRef:Ca,useState:Ca,useDebugValue:Ca,useDeferredValue:Ca,useTransition:Ca,useMutableSource:Ca,useSyncExternalStore:Ca,useId:Ca,unstable_isNewReconciler:!1},Hae={readContext:Bs,useCallback:function(e,t){return zo().memoizedState=[e,t===void 0?null:t],e},useContext:Bs,useEffect:bM,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,U1(4194308,4,vV.bind(null,t,e),r)},useLayoutEffect:function(e,t){return U1(4194308,4,e,t)},useInsertionEffect:function(e,t){return U1(4,2,e,t)},useMemo:function(e,t){var r=zo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=zo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=zae.bind(null,Kr,e),[n.memoizedState,e]},useRef:function(e){var t=zo();return e={current:e},t.memoizedState=e},useState:wM,useDebugValue:bP,useDeferredValue:function(e){return zo().memoizedState=e},useTransition:function(){var e=wM(!1),t=e[0];return e=Vae.bind(null,e[1]),zo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Kr,a=zo();if(Mr){if(r===void 0)throw Error(De(407));r=r()}else{if(r=t(),na===null)throw Error(De(349));hf&30||cV(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,bM(dV.bind(null,n,i,e),[e]),n.flags|=2048,Gg(9,uV.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=zo(),t=na.identifierPrefix;if(Mr){var r=Bl,n=$l;r=(n&~(1<<32-wo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Wg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Uae++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gae={readContext:Bs,useCallback:xV,useContext:Bs,useEffect:wP,useImperativeHandle:yV,useInsertionEffect:pV,useLayoutEffect:gV,useMemo:wV,useReducer:I2,useRef:mV,useState:function(){return I2(Hg)},useDebugValue:bP,useDeferredValue:function(e){var t=Us();return bV(t,Rn.memoizedState,e)},useTransition:function(){var e=I2(Hg)[0],t=Us().memoizedState;return[e,t]},useMutableSource:oV,useSyncExternalStore:lV,useId:_V,unstable_isNewReconciler:!1},Kae={readContext:Bs,useCallback:xV,useContext:Bs,useEffect:wP,useImperativeHandle:yV,useInsertionEffect:pV,useLayoutEffect:gV,useMemo:wV,useReducer:O2,useRef:mV,useState:function(){return O2(Hg)},useDebugValue:bP,useDeferredValue:function(e){var t=Us();return Rn===null?t.memoizedState=e:bV(t,Rn.memoizedState,e)},useTransition:function(){var e=O2(Hg)[0],t=Us().memoizedState;return[e,t]},useMutableSource:oV,useSyncExternalStore:lV,useId:_V,unstable_isNewReconciler:!1};function co(e,t){if(e&&e.defaultProps){t=qr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function XA(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:qr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var R_={isMounted:function(e){return(e=e._reactInternals)?Jf(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ui(),a=xu(e),i=Xl(n,a);i.payload=t,r!=null&&(i.callback=r),t=vu(e,i,a),t!==null&&(bo(t,e,a,n),$1(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ui(),a=xu(e),i=Xl(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=vu(e,i,a),t!==null&&(bo(t,e,a,n),$1(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ui(),n=xu(e),a=Xl(r,n);a.tag=2,t!=null&&(a.callback=t),t=vu(e,a,n),t!==null&&(bo(t,e,n,r),$1(t,e,n))}};function _M(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Lg(r,n)||!Lg(a,i):!0}function AV(e,t,r){var n=!1,a=Iu,i=t.contextType;return typeof i=="object"&&i!==null?i=Bs(i):(a=Ai(t)?df:Ha.current,n=t.contextTypes,i=(n=n!=null)?k0(e,a):Iu),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=R_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function EM(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&R_.enqueueReplaceState(t,t.state,null)}function QA(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},hP(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Bs(i):(i=Ai(t)?df:Ha.current,a.context=k0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(XA(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&R_.enqueueReplaceState(a,a.state,null),kw(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function O0(e,t){try{var r="",n=t;do r+=bne(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function D2(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function JA(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var qae=typeof WeakMap=="function"?WeakMap:Map;function CV(e,t,r){r=Xl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Dw||(Dw=!0,lC=n),JA(e,t)},r}function kV(e,t,r){r=Xl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){JA(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){JA(e,t),typeof n!="function"&&(yu===null?yu=new Set([this]):yu.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function SM(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new qae;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=lie.bind(null,e,t,r),t.then(e,e))}function TM(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function AM(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Xl(-1,1),t.tag=2,vu(r,t,1))),r.lanes|=1),e)}var Yae=Sc.ReactCurrentOwner,bi=!1;function ti(e,t,r,n){t.child=e===null?nV(t,null,r,n):P0(t,e.child,r,n)}function CM(e,t,r,n,a){r=r.render;var i=t.ref;return u0(t,a),n=yP(e,t,r,n,i,a),r=xP(),e!==null&&!bi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,lc(e,t,a)):(Mr&&r&&sP(t),t.flags|=1,ti(e,t,n,a),t.child)}function kM(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!NP(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,NV(e,t,i,n,a)):(e=H1(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Lg,r(s,n)&&e.ref===t.ref)return lc(e,t,a)}return t.flags|=1,e=wu(i,n),e.ref=t.ref,e.return=t,t.child=e}function NV(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Lg(i,n)&&e.ref===t.ref)if(bi=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(bi=!0);else return t.lanes=e.lanes,lc(e,t,a)}return ZA(e,t,r,n,a)}function PV(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yr(Yh,Vi),Vi|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,yr(Yh,Vi),Vi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,yr(Yh,Vi),Vi|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,yr(Yh,Vi),Vi|=n;return ti(e,t,a,r),t.child}function IV(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ZA(e,t,r,n,a){var i=Ai(r)?df:Ha.current;return i=k0(t,i),u0(t,a),r=yP(e,t,r,n,i,a),n=xP(),e!==null&&!bi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,lc(e,t,a)):(Mr&&n&&sP(t),t.flags|=1,ti(e,t,r,a),t.child)}function NM(e,t,r,n,a){if(Ai(r)){var i=!0;Ew(t)}else i=!1;if(u0(t,a),t.stateNode===null)V1(e,t),AV(t,r,n),QA(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Bs(c):(c=Ai(r)?df:Ha.current,c=k0(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&EM(t,s,n,c),Yc=!1;var h=t.memoizedState;s.state=h,kw(t,n,s,a),l=t.memoizedState,o!==n||h!==l||Ti.current||Yc?(typeof u=="function"&&(XA(t,r,u,n),l=t.memoizedState),(o=Yc||_M(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,iV(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:co(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Bs(l):(l=Ai(r)?df:Ha.current,l=k0(t,l));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&EM(t,s,n,l),Yc=!1,h=t.memoizedState,s.state=h,kw(t,n,s,a);var p=t.memoizedState;o!==f||h!==p||Ti.current||Yc?(typeof m=="function"&&(XA(t,r,m,n),p=t.memoizedState),(c=Yc||_M(t,r,c,n,h,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return eC(e,t,r,n,i,a)}function eC(e,t,r,n,a,i){IV(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&mM(t,r,!1),lc(e,t,i);n=t.stateNode,Yae.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=P0(t,e.child,null,i),t.child=P0(t,null,o,i)):ti(e,t,o,i),t.memoizedState=n.state,a&&mM(t,r,!0),t.child}function OV(e){var t=e.stateNode;t.pendingContext?hM(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hM(e,t.context,!1),mP(e,t.containerInfo)}function PM(e,t,r,n,a){return N0(),lP(a),t.flags|=256,ti(e,t,r,n),t.child}var tC={dehydrated:null,treeContext:null,retryLane:0};function rC(e){return{baseLanes:e,cachePool:null,transitions:null}}function DV(e,t,r){var n=t.pendingProps,a=Ur.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),yr(Ur,a&1),e===null)return qA(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=L_(s,n,0,null),e=Qd(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=rC(r),t.memoizedState=tC,e):_P(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Xae(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=wu(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=wu(o,i):(i=Qd(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?rC(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=tC,n}return i=e.child,e=i.sibling,n=wu(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function _P(e,t){return t=L_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Lx(e,t,r,n){return n!==null&&lP(n),P0(t,e.child,null,r),e=_P(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xae(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=D2(Error(De(422))),Lx(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=L_({mode:"visible",children:n.children},a,0,null),i=Qd(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&P0(t,e.child,null,s),t.child.memoizedState=rC(s),t.memoizedState=tC,i);if(!(t.mode&1))return Lx(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(De(419)),n=D2(i,n,void 0),Lx(e,t,s,n)}if(o=(s&e.childLanes)!==0,bi||o){if(n=na,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,oc(e,a),bo(n,e,a,-1))}return kP(),n=D2(Error(De(421))),Lx(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=cie.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Qi=gu(a.nextSibling),Zi=t,Mr=!0,fo=null,e!==null&&(Cs[ks++]=$l,Cs[ks++]=Bl,Cs[ks++]=ff,$l=e.id,Bl=e.overflow,ff=t),t=_P(t,n.children),t.flags|=4096,t)}function IM(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),YA(e.return,t,r)}function j2(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function jV(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ti(e,t,n.children,r),n=Ur.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&IM(e,r,t);else if(e.tag===19)IM(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(yr(Ur,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Nw(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),j2(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Nw(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}j2(t,!0,r,null,i);break;case"together":j2(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function V1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function lc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),mf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(De(153));if(t.child!==null){for(e=t.child,r=wu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Qae(e,t,r){switch(t.tag){case 3:OV(t),N0();break;case 5:sV(t);break;case 1:Ai(t.type)&&Ew(t);break;case 4:mP(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;yr(Aw,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(yr(Ur,Ur.current&1),t.flags|=128,null):r&t.child.childLanes?DV(e,t,r):(yr(Ur,Ur.current&1),e=lc(e,t,r),e!==null?e.sibling:null);yr(Ur,Ur.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return jV(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),yr(Ur,Ur.current),n)break;return null;case 22:case 23:return t.lanes=0,PV(e,t,r)}return lc(e,t,r)}var RV,nC,MV,FV;RV=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nC=function(){};MV=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,Bd(Zo.current);var i=null;switch(r){case"input":a=TA(e,a),n=TA(e,n),i=[];break;case"select":a=qr({},a,{value:void 0}),n=qr({},n,{value:void 0}),i=[];break;case"textarea":a=kA(e,a),n=kA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=bw)}PA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ig.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ig.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Tr("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};FV=function(e,t,r,n){r!==n&&(t.flags|=4)};function gp(e,t){if(!Mr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ka(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Jae(e,t,r){var n=t.pendingProps;switch(oP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ka(t),null;case 1:return Ai(t.type)&&_w(),ka(t),null;case 3:return n=t.stateNode,I0(),Pr(Ti),Pr(Ha),gP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,fo!==null&&(dC(fo),fo=null))),nC(e,t),ka(t),null;case 5:pP(t);var a=Bd(zg.current);if(r=t.type,e!==null&&t.stateNode!=null)MV(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(De(166));return ka(t),null}if(e=Bd(Zo.current),Mx(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Go]=t,n[Ug]=i,e=(t.mode&1)!==0,r){case"dialog":Tr("cancel",n),Tr("close",n);break;case"iframe":case"object":case"embed":Tr("load",n);break;case"video":case"audio":for(a=0;a<Mp.length;a++)Tr(Mp[a],n);break;case"source":Tr("error",n);break;case"img":case"image":case"link":Tr("error",n),Tr("load",n);break;case"details":Tr("toggle",n);break;case"input":BR(n,i),Tr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Tr("invalid",n);break;case"textarea":VR(n,i),Tr("invalid",n)}PA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Rx(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Rx(n.textContent,o,e),a=["children",""+o]):Ig.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Tr("scroll",n)}switch(r){case"input":Cx(n),UR(n,i,!0);break;case"textarea":Cx(n),zR(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=bw)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=d9(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Go]=t,e[Ug]=n,RV(e,t,!1,!1),t.stateNode=e;e:{switch(s=IA(r,n),r){case"dialog":Tr("cancel",e),Tr("close",e),a=n;break;case"iframe":case"object":case"embed":Tr("load",e),a=n;break;case"video":case"audio":for(a=0;a<Mp.length;a++)Tr(Mp[a],e);a=n;break;case"source":Tr("error",e),a=n;break;case"img":case"image":case"link":Tr("error",e),Tr("load",e),a=n;break;case"details":Tr("toggle",e),a=n;break;case"input":BR(e,n),a=TA(e,n),Tr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=qr({},n,{value:void 0}),Tr("invalid",e);break;case"textarea":VR(e,n),a=kA(e,n),Tr("invalid",e);break;default:a=n}PA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?m9(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&f9(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Og(e,l):typeof l=="number"&&Og(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ig.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Tr("scroll",e):l!=null&&GN(e,i,l,s))}switch(r){case"input":Cx(e),UR(e,n,!1);break;case"textarea":Cx(e),zR(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Pu(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?s0(e,!!n.multiple,i,!1):n.defaultValue!=null&&s0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=bw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ka(t),null;case 6:if(e&&t.stateNode!=null)FV(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(De(166));if(r=Bd(zg.current),Bd(Zo.current),Mx(t)){if(n=t.stateNode,r=t.memoizedProps,n[Go]=t,(i=n.nodeValue!==r)&&(e=Zi,e!==null))switch(e.tag){case 3:Rx(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rx(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Go]=t,t.stateNode=n}return ka(t),null;case 13:if(Pr(Ur),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mr&&Qi!==null&&t.mode&1&&!(t.flags&128))tV(),N0(),t.flags|=98560,i=!1;else if(i=Mx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(De(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(De(317));i[Go]=t}else N0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ka(t),i=!1}else fo!==null&&(dC(fo),fo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ur.current&1?$n===0&&($n=3):kP())),t.updateQueue!==null&&(t.flags|=4),ka(t),null);case 4:return I0(),nC(e,t),e===null&&$g(t.stateNode.containerInfo),ka(t),null;case 10:return dP(t.type._context),ka(t),null;case 17:return Ai(t.type)&&_w(),ka(t),null;case 19:if(Pr(Ur),i=t.memoizedState,i===null)return ka(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)gp(i,!1);else{if($n!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Nw(e),s!==null){for(t.flags|=128,gp(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return yr(Ur,Ur.current&1|2),t.child}e=e.sibling}i.tail!==null&&gn()>D0&&(t.flags|=128,n=!0,gp(i,!1),t.lanes=4194304)}else{if(!n)if(e=Nw(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Mr)return ka(t),null}else 2*gn()-i.renderingStartTime>D0&&r!==1073741824&&(t.flags|=128,n=!0,gp(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=gn(),t.sibling=null,r=Ur.current,yr(Ur,n?r&1|2:r&1),t):(ka(t),null);case 22:case 23:return CP(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Vi&1073741824&&(ka(t),t.subtreeFlags&6&&(t.flags|=8192)):ka(t),null;case 24:return null;case 25:return null}throw Error(De(156,t.tag))}function Zae(e,t){switch(oP(t),t.tag){case 1:return Ai(t.type)&&_w(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return I0(),Pr(Ti),Pr(Ha),gP(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pP(t),null;case 13:if(Pr(Ur),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(De(340));N0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pr(Ur),null;case 4:return I0(),null;case 10:return dP(t.type._context),null;case 22:case 23:return CP(),null;case 24:return null;default:return null}}var $x=!1,Ma=!1,eie=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function qh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Zr(e,t,n)}else r.current=null}function aC(e,t,r){try{r()}catch(n){Zr(e,t,n)}}var OM=!1;function tie(e,t){if(UA=yw,e=V9(),iP(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(VA={focusedElem:e,selectionRange:r},yw=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){t=Ge;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:co(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(E){Zr(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}return p=OM,OM=!1,p}function rg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&aC(t,r,i)}a=a.next}while(a!==n)}}function M_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function iC(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function LV(e){var t=e.alternate;t!==null&&(e.alternate=null,LV(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Go],delete t[Ug],delete t[HA],delete t[Fae],delete t[Lae])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $V(e){return e.tag===5||e.tag===3||e.tag===4}function DM(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$V(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sC(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bw));else if(n!==4&&(e=e.child,e!==null))for(sC(e,t,r),e=e.sibling;e!==null;)sC(e,t,r),e=e.sibling}function oC(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(oC(e,t,r),e=e.sibling;e!==null;)oC(e,t,r),e=e.sibling}var ha=null,uo=!1;function Uc(e,t,r){for(r=r.child;r!==null;)BV(e,t,r),r=r.sibling}function BV(e,t,r){if(Jo&&typeof Jo.onCommitFiberUnmount=="function")try{Jo.onCommitFiberUnmount(k_,r)}catch{}switch(r.tag){case 5:Ma||qh(r,t);case 6:var n=ha,a=uo;ha=null,Uc(e,t,r),ha=n,uo=a,ha!==null&&(uo?(e=ha,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ha.removeChild(r.stateNode));break;case 18:ha!==null&&(uo?(e=ha,r=r.stateNode,e.nodeType===8?C2(e.parentNode,r):e.nodeType===1&&C2(e,r),Mg(e)):C2(ha,r.stateNode));break;case 4:n=ha,a=uo,ha=r.stateNode.containerInfo,uo=!0,Uc(e,t,r),ha=n,uo=a;break;case 0:case 11:case 14:case 15:if(!Ma&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&aC(r,t,s),a=a.next}while(a!==n)}Uc(e,t,r);break;case 1:if(!Ma&&(qh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Zr(r,t,o)}Uc(e,t,r);break;case 21:Uc(e,t,r);break;case 22:r.mode&1?(Ma=(n=Ma)||r.memoizedState!==null,Uc(e,t,r),Ma=n):Uc(e,t,r);break;default:Uc(e,t,r)}}function jM(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new eie),t.forEach(function(n){var a=uie.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function io(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:ha=o.stateNode,uo=!1;break e;case 3:ha=o.stateNode.containerInfo,uo=!0;break e;case 4:ha=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(ha===null)throw Error(De(160));BV(i,s,a),ha=null,uo=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Zr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)UV(t,e),t=t.sibling}function UV(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(io(t,e),$o(e),n&4){try{rg(3,e,e.return),M_(3,e)}catch(g){Zr(e,e.return,g)}try{rg(5,e,e.return)}catch(g){Zr(e,e.return,g)}}break;case 1:io(t,e),$o(e),n&512&&r!==null&&qh(r,r.return);break;case 5:if(io(t,e),$o(e),n&512&&r!==null&&qh(r,r.return),e.flags&32){var a=e.stateNode;try{Og(a,"")}catch(g){Zr(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&c9(a,i),IA(o,s);var c=IA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?m9(a,f):u==="dangerouslySetInnerHTML"?f9(a,f):u==="children"?Og(a,f):GN(a,u,f,c)}switch(o){case"input":AA(a,i);break;case"textarea":u9(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?s0(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?s0(a,!!i.multiple,i.defaultValue,!0):s0(a,!!i.multiple,i.multiple?[]:"",!1))}a[Ug]=i}catch(g){Zr(e,e.return,g)}}break;case 6:if(io(t,e),$o(e),n&4){if(e.stateNode===null)throw Error(De(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){Zr(e,e.return,g)}}break;case 3:if(io(t,e),$o(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Mg(t.containerInfo)}catch(g){Zr(e,e.return,g)}break;case 4:io(t,e),$o(e);break;case 13:io(t,e),$o(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(TP=gn())),n&4&&jM(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ma=(c=Ma)||u,io(t,e),Ma=c):io(t,e),$o(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Ge=e,u=e.child;u!==null;){for(f=Ge=u;Ge!==null;){switch(h=Ge,m=h.child,h.tag){case 0:case 11:case 14:case 15:rg(4,h,h.return);break;case 1:qh(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Zr(n,r,g)}}break;case 5:qh(h,h.return);break;case 22:if(h.memoizedState!==null){MM(f);continue}}m!==null?(m.return=h,Ge=m):MM(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=h9("display",s))}catch(g){Zr(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Zr(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:io(t,e),$o(e),n&4&&jM(e);break;case 21:break;default:io(t,e),$o(e)}}function $o(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($V(r)){var n=r;break e}r=r.return}throw Error(De(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Og(a,""),n.flags&=-33);var i=DM(e);oC(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=DM(e);sC(e,o,s);break;default:throw Error(De(161))}}catch(l){Zr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rie(e,t,r){Ge=e,VV(e)}function VV(e,t,r){for(var n=(e.mode&1)!==0;Ge!==null;){var a=Ge,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||$x;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Ma;o=$x;var c=Ma;if($x=s,(Ma=l)&&!c)for(Ge=a;Ge!==null;)s=Ge,l=s.child,s.tag===22&&s.memoizedState!==null?FM(a):l!==null?(l.return=s,Ge=l):FM(a);for(;i!==null;)Ge=i,VV(i),i=i.sibling;Ge=a,$x=o,Ma=c}RM(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Ge=i):RM(e)}}function RM(e){for(;Ge!==null;){var t=Ge;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ma||M_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ma)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:co(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xM(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xM(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Mg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}Ma||t.flags&512&&iC(t)}catch(h){Zr(t,t.return,h)}}if(t===e){Ge=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ge=r;break}Ge=t.return}}function MM(e){for(;Ge!==null;){var t=Ge;if(t===e){Ge=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ge=r;break}Ge=t.return}}function FM(e){for(;Ge!==null;){var t=Ge;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{M_(4,t)}catch(l){Zr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Zr(t,a,l)}}var i=t.return;try{iC(t)}catch(l){Zr(t,i,l)}break;case 5:var s=t.return;try{iC(t)}catch(l){Zr(t,s,l)}}}catch(l){Zr(t,t.return,l)}if(t===e){Ge=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ge=o;break}Ge=t.return}}var nie=Math.ceil,Ow=Sc.ReactCurrentDispatcher,EP=Sc.ReactCurrentOwner,Ms=Sc.ReactCurrentBatchConfig,Bt=0,na=null,Cn=null,wa=0,Vi=0,Yh=Ju(0),$n=0,Kg=null,mf=0,F_=0,SP=0,ng=null,yi=null,TP=0,D0=1/0,Dl=null,Dw=!1,lC=null,yu=null,Bx=!1,lu=null,jw=0,ag=0,cC=null,z1=-1,W1=0;function ui(){return Bt&6?gn():z1!==-1?z1:z1=gn()}function xu(e){return e.mode&1?Bt&2&&wa!==0?wa&-wa:Bae.transition!==null?(W1===0&&(W1=A9()),W1):(e=rr,e!==0||(e=window.event,e=e===void 0?16:D9(e.type)),e):1}function bo(e,t,r,n){if(50<ag)throw ag=0,cC=null,Error(De(185));ny(e,r,n),(!(Bt&2)||e!==na)&&(e===na&&(!(Bt&2)&&(F_|=r),$n===4&&tu(e,wa)),Ci(e,n),r===1&&Bt===0&&!(t.mode&1)&&(D0=gn()+500,D_&&Zu()))}function Ci(e,t){var r=e.callbackNode;Bne(e,t);var n=vw(e,e===na?wa:0);if(n===0)r!==null&&GR(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&GR(r),t===1)e.tag===0?$ae(LM.bind(null,e)):J9(LM.bind(null,e)),Rae(function(){!(Bt&6)&&Zu()}),r=null;else{switch(C9(n)){case 1:r=QN;break;case 4:r=S9;break;case 16:r=gw;break;case 536870912:r=T9;break;default:r=gw}r=XV(r,zV.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function zV(e,t){if(z1=-1,W1=0,Bt&6)throw Error(De(327));var r=e.callbackNode;if(d0()&&e.callbackNode!==r)return null;var n=vw(e,e===na?wa:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Rw(e,n);else{t=n;var a=Bt;Bt|=2;var i=HV();(na!==e||wa!==t)&&(Dl=null,D0=gn()+500,Xd(e,t));do try{sie();break}catch(o){WV(e,o)}while(!0);uP(),Ow.current=i,Bt=a,Cn!==null?t=0:(na=null,wa=0,t=$n)}if(t!==0){if(t===2&&(a=MA(e),a!==0&&(n=a,t=uC(e,a))),t===1)throw r=Kg,Xd(e,0),tu(e,n),Ci(e,gn()),r;if(t===6)tu(e,n);else{if(a=e.current.alternate,!(n&30)&&!aie(a)&&(t=Rw(e,n),t===2&&(i=MA(e),i!==0&&(n=i,t=uC(e,i))),t===1))throw r=Kg,Xd(e,0),tu(e,n),Ci(e,gn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(De(345));case 2:Cd(e,yi,Dl);break;case 3:if(tu(e,n),(n&130023424)===n&&(t=TP+500-gn(),10<t)){if(vw(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ui(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=WA(Cd.bind(null,e,yi,Dl),t);break}Cd(e,yi,Dl);break;case 4:if(tu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-wo(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=gn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nie(n/1960))-n,10<n){e.timeoutHandle=WA(Cd.bind(null,e,yi,Dl),n);break}Cd(e,yi,Dl);break;case 5:Cd(e,yi,Dl);break;default:throw Error(De(329))}}}return Ci(e,gn()),e.callbackNode===r?zV.bind(null,e):null}function uC(e,t){var r=ng;return e.current.memoizedState.isDehydrated&&(Xd(e,t).flags|=256),e=Rw(e,t),e!==2&&(t=yi,yi=r,t!==null&&dC(t)),e}function dC(e){yi===null?yi=e:yi.push.apply(yi,e)}function aie(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Co(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tu(e,t){for(t&=~SP,t&=~F_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-wo(t),n=1<<r;e[r]=-1,t&=~n}}function LM(e){if(Bt&6)throw Error(De(327));d0();var t=vw(e,0);if(!(t&1))return Ci(e,gn()),null;var r=Rw(e,t);if(e.tag!==0&&r===2){var n=MA(e);n!==0&&(t=n,r=uC(e,n))}if(r===1)throw r=Kg,Xd(e,0),tu(e,t),Ci(e,gn()),r;if(r===6)throw Error(De(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cd(e,yi,Dl),Ci(e,gn()),null}function AP(e,t){var r=Bt;Bt|=1;try{return e(t)}finally{Bt=r,Bt===0&&(D0=gn()+500,D_&&Zu())}}function pf(e){lu!==null&&lu.tag===0&&!(Bt&6)&&d0();var t=Bt;Bt|=1;var r=Ms.transition,n=rr;try{if(Ms.transition=null,rr=1,e)return e()}finally{rr=n,Ms.transition=r,Bt=t,!(Bt&6)&&Zu()}}function CP(){Vi=Yh.current,Pr(Yh)}function Xd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,jae(r)),Cn!==null)for(r=Cn.return;r!==null;){var n=r;switch(oP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_w();break;case 3:I0(),Pr(Ti),Pr(Ha),gP();break;case 5:pP(n);break;case 4:I0();break;case 13:Pr(Ur);break;case 19:Pr(Ur);break;case 10:dP(n.type._context);break;case 22:case 23:CP()}r=r.return}if(na=e,Cn=e=wu(e.current,null),wa=Vi=t,$n=0,Kg=null,SP=F_=mf=0,yi=ng=null,$d!==null){for(t=0;t<$d.length;t++)if(r=$d[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}$d=null}return e}function WV(e,t){do{var r=Cn;try{if(uP(),B1.current=Iw,Pw){for(var n=Kr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Pw=!1}if(hf=0,Jn=Rn=Kr=null,tg=!1,Wg=0,EP.current=null,r===null||r.return===null){$n=1,Kg=t,Cn=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=wa,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=TM(s);if(m!==null){m.flags&=-257,AM(m,s,o,i,t),m.mode&1&&SM(i,c,t),t=m,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){SM(i,c,t),kP();break e}l=Error(De(426))}}else if(Mr&&o.mode&1){var v=TM(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),AM(v,s,o,i,t),lP(O0(l,o));break e}}i=l=O0(l,o),$n!==4&&($n=2),ng===null?ng=[i]:ng.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=CV(i,l,t);yM(i,y);break e;case 1:o=l;var w=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(yu===null||!yu.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=kV(i,o,t);yM(i,E);break e}}i=i.return}while(i!==null)}KV(r)}catch(k){t=k,Cn===r&&r!==null&&(Cn=r=r.return);continue}break}while(!0)}function HV(){var e=Ow.current;return Ow.current=Iw,e===null?Iw:e}function kP(){($n===0||$n===3||$n===2)&&($n=4),na===null||!(mf&268435455)&&!(F_&268435455)||tu(na,wa)}function Rw(e,t){var r=Bt;Bt|=2;var n=HV();(na!==e||wa!==t)&&(Dl=null,Xd(e,t));do try{iie();break}catch(a){WV(e,a)}while(!0);if(uP(),Bt=r,Ow.current=n,Cn!==null)throw Error(De(261));return na=null,wa=0,$n}function iie(){for(;Cn!==null;)GV(Cn)}function sie(){for(;Cn!==null&&!Ine();)GV(Cn)}function GV(e){var t=YV(e.alternate,e,Vi);e.memoizedProps=e.pendingProps,t===null?KV(e):Cn=t,EP.current=null}function KV(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Zae(r,t),r!==null){r.flags&=32767,Cn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$n=6,Cn=null;return}}else if(r=Jae(r,t,Vi),r!==null){Cn=r;return}if(t=t.sibling,t!==null){Cn=t;return}Cn=t=e}while(t!==null);$n===0&&($n=5)}function Cd(e,t,r){var n=rr,a=Ms.transition;try{Ms.transition=null,rr=1,oie(e,t,r,n)}finally{Ms.transition=a,rr=n}return null}function oie(e,t,r,n){do d0();while(lu!==null);if(Bt&6)throw Error(De(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(De(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Une(e,i),e===na&&(Cn=na=null,wa=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bx||(Bx=!0,XV(gw,function(){return d0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ms.transition,Ms.transition=null;var s=rr;rr=1;var o=Bt;Bt|=4,EP.current=null,tie(e,r),UV(r,e),Cae(VA),yw=!!UA,VA=UA=null,e.current=r,rie(r),One(),Bt=o,rr=s,Ms.transition=i}else e.current=r;if(Bx&&(Bx=!1,lu=e,jw=a),i=e.pendingLanes,i===0&&(yu=null),Rne(r.stateNode),Ci(e,gn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Dw)throw Dw=!1,e=lC,lC=null,e;return jw&1&&e.tag!==0&&d0(),i=e.pendingLanes,i&1?e===cC?ag++:(ag=0,cC=e):ag=0,Zu(),null}function d0(){if(lu!==null){var e=C9(jw),t=Ms.transition,r=rr;try{if(Ms.transition=null,rr=16>e?16:e,lu===null)var n=!1;else{if(e=lu,lu=null,jw=0,Bt&6)throw Error(De(331));var a=Bt;for(Bt|=4,Ge=e.current;Ge!==null;){var i=Ge,s=i.child;if(Ge.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ge=c;Ge!==null;){var u=Ge;switch(u.tag){case 0:case 11:case 15:rg(8,u,i)}var f=u.child;if(f!==null)f.return=u,Ge=f;else for(;Ge!==null;){u=Ge;var h=u.sibling,m=u.return;if(LV(u),u===c){Ge=null;break}if(h!==null){h.return=m,Ge=h;break}Ge=m}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Ge=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Ge=s;else e:for(;Ge!==null;){if(i=Ge,i.flags&2048)switch(i.tag){case 0:case 11:case 15:rg(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Ge=y;break e}Ge=i.return}}var w=e.current;for(Ge=w;Ge!==null;){s=Ge;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,Ge=b;else e:for(s=w;Ge!==null;){if(o=Ge,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:M_(9,o)}}catch(k){Zr(o,o.return,k)}if(o===s){Ge=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,Ge=E;break e}Ge=o.return}}if(Bt=a,Zu(),Jo&&typeof Jo.onPostCommitFiberRoot=="function")try{Jo.onPostCommitFiberRoot(k_,e)}catch{}n=!0}return n}finally{rr=r,Ms.transition=t}}return!1}function $M(e,t,r){t=O0(r,t),t=CV(e,t,1),e=vu(e,t,1),t=ui(),e!==null&&(ny(e,1,t),Ci(e,t))}function Zr(e,t,r){if(e.tag===3)$M(e,e,r);else for(;t!==null;){if(t.tag===3){$M(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yu===null||!yu.has(n))){e=O0(r,e),e=kV(t,e,1),t=vu(t,e,1),e=ui(),t!==null&&(ny(t,1,e),Ci(t,e));break}}t=t.return}}function lie(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ui(),e.pingedLanes|=e.suspendedLanes&r,na===e&&(wa&r)===r&&($n===4||$n===3&&(wa&130023424)===wa&&500>gn()-TP?Xd(e,0):SP|=r),Ci(e,t)}function qV(e,t){t===0&&(e.mode&1?(t=Px,Px<<=1,!(Px&130023424)&&(Px=4194304)):t=1);var r=ui();e=oc(e,t),e!==null&&(ny(e,t,r),Ci(e,r))}function cie(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),qV(e,r)}function uie(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(De(314))}n!==null&&n.delete(t),qV(e,r)}var YV;YV=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ti.current)bi=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return bi=!1,Qae(e,t,r);bi=!!(e.flags&131072)}else bi=!1,Mr&&t.flags&1048576&&Z9(t,Tw,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;V1(e,t),e=t.pendingProps;var a=k0(t,Ha.current);u0(t,r),a=yP(null,t,n,e,a,r);var i=xP();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(n)?(i=!0,Ew(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,hP(t),a.updater=R_,t.stateNode=a,a._reactInternals=t,QA(t,n,e,r),t=eC(null,t,n,!0,i,r)):(t.tag=0,Mr&&i&&sP(t),ti(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(V1(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=fie(n),e=co(n,e),a){case 0:t=ZA(null,t,n,e,r);break e;case 1:t=NM(null,t,n,e,r);break e;case 11:t=CM(null,t,n,e,r);break e;case 14:t=kM(null,t,n,co(n.type,e),r);break e}throw Error(De(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:co(n,a),ZA(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:co(n,a),NM(e,t,n,a,r);case 3:e:{if(OV(t),e===null)throw Error(De(387));n=t.pendingProps,i=t.memoizedState,a=i.element,iV(e,t),kw(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=O0(Error(De(423)),t),t=PM(e,t,n,r,a);break e}else if(n!==a){a=O0(Error(De(424)),t),t=PM(e,t,n,r,a);break e}else for(Qi=gu(t.stateNode.containerInfo.firstChild),Zi=t,Mr=!0,fo=null,r=nV(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(N0(),n===a){t=lc(e,t,r);break e}ti(e,t,n,r)}t=t.child}return t;case 5:return sV(t),e===null&&qA(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,zA(n,a)?s=null:i!==null&&zA(n,i)&&(t.flags|=32),IV(e,t),ti(e,t,s,r),t.child;case 6:return e===null&&qA(t),null;case 13:return DV(e,t,r);case 4:return mP(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=P0(t,null,n,r):ti(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:co(n,a),CM(e,t,n,a,r);case 7:return ti(e,t,t.pendingProps,r),t.child;case 8:return ti(e,t,t.pendingProps.children,r),t.child;case 12:return ti(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,yr(Aw,n._currentValue),n._currentValue=s,i!==null)if(Co(i.value,s)){if(i.children===a.children&&!Ti.current){t=lc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Xl(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),YA(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(De(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),YA(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ti(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,u0(t,r),a=Bs(a),n=n(a),t.flags|=1,ti(e,t,n,r),t.child;case 14:return n=t.type,a=co(n,t.pendingProps),a=co(n.type,a),kM(e,t,n,a,r);case 15:return NV(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:co(n,a),V1(e,t),t.tag=1,Ai(n)?(e=!0,Ew(t)):e=!1,u0(t,r),AV(t,n,a),QA(t,n,a,r),eC(null,t,n,!0,e,r);case 19:return jV(e,t,r);case 22:return PV(e,t,r)}throw Error(De(156,t.tag))};function XV(e,t){return E9(e,t)}function die(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(e,t,r,n){return new die(e,t,r,n)}function NP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fie(e){if(typeof e=="function")return NP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qN)return 11;if(e===YN)return 14}return 2}function wu(e,t){var r=e.alternate;return r===null?(r=js(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function H1(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")NP(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case $h:return Qd(r.children,a,i,t);case KN:s=8,a|=8;break;case bA:return e=js(12,r,t,a|2),e.elementType=bA,e.lanes=i,e;case _A:return e=js(13,r,t,a),e.elementType=_A,e.lanes=i,e;case EA:return e=js(19,r,t,a),e.elementType=EA,e.lanes=i,e;case s9:return L_(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case a9:s=10;break e;case i9:s=9;break e;case qN:s=11;break e;case YN:s=14;break e;case qc:s=16,n=null;break e}throw Error(De(130,e==null?e:typeof e,""))}return t=js(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Qd(e,t,r,n){return e=js(7,e,n,t),e.lanes=r,e}function L_(e,t,r,n){return e=js(22,e,n,t),e.elementType=s9,e.lanes=r,e.stateNode={isHidden:!1},e}function R2(e,t,r){return e=js(6,e,null,t),e.lanes=r,e}function M2(e,t,r){return t=js(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hie(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=g2(0),this.expirationTimes=g2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=g2(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function PP(e,t,r,n,a,i,s,o,l){return e=new hie(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=js(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hP(i),e}function mie(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function QV(e){if(!e)return Iu;e=e._reactInternals;e:{if(Jf(e)!==e||e.tag!==1)throw Error(De(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(De(171))}if(e.tag===1){var r=e.type;if(Ai(r))return Q9(e,r,t)}return t}function JV(e,t,r,n,a,i,s,o,l){return e=PP(r,n,!0,e,a,i,s,o,l),e.context=QV(null),r=e.current,n=ui(),a=xu(r),i=Xl(n,a),i.callback=t??null,vu(r,i,a),e.current.lanes=a,ny(e,a,n),Ci(e,n),e}function $_(e,t,r,n){var a=t.current,i=ui(),s=xu(a);return r=QV(r),t.context===null?t.context=r:t.pendingContext=r,t=Xl(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=vu(a,t,s),e!==null&&(bo(e,a,s,i),$1(e,a,s)),s}function Mw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function BM(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function IP(e,t){BM(e,t),(e=e.alternate)&&BM(e,t)}function pie(){return null}var ZV=typeof reportError=="function"?reportError:function(e){console.error(e)};function OP(e){this._internalRoot=e}B_.prototype.render=OP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(De(409));$_(e,t,null,null)};B_.prototype.unmount=OP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pf(function(){$_(null,e,null,null)}),t[sc]=null}};function B_(e){this._internalRoot=e}B_.prototype.unstable_scheduleHydration=function(e){if(e){var t=P9();e={blockedOn:null,target:e,priority:t};for(var r=0;r<eu.length&&t!==0&&t<eu[r].priority;r++);eu.splice(r,0,e),r===0&&O9(e)}};function DP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function U_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function UM(){}function gie(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=Mw(s);i.call(c)}}var s=JV(t,n,e,0,null,!1,!1,"",UM);return e._reactRootContainer=s,e[sc]=s.current,$g(e.nodeType===8?e.parentNode:e),pf(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=Mw(l);o.call(c)}}var l=PP(e,0,!1,null,null,!1,!1,"",UM);return e._reactRootContainer=l,e[sc]=l.current,$g(e.nodeType===8?e.parentNode:e),pf(function(){$_(t,l,r,n)}),l}function V_(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=Mw(s);o.call(l)}}$_(t,s,e,a)}else s=gie(r,t,e,a,n);return Mw(s)}k9=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rp(t.pendingLanes);r!==0&&(JN(t,r|1),Ci(t,gn()),!(Bt&6)&&(D0=gn()+500,Zu()))}break;case 13:pf(function(){var n=oc(e,1);if(n!==null){var a=ui();bo(n,e,1,a)}}),IP(e,1)}};ZN=function(e){if(e.tag===13){var t=oc(e,134217728);if(t!==null){var r=ui();bo(t,e,134217728,r)}IP(e,134217728)}};N9=function(e){if(e.tag===13){var t=xu(e),r=oc(e,t);if(r!==null){var n=ui();bo(r,e,t,n)}IP(e,t)}};P9=function(){return rr};I9=function(e,t){var r=rr;try{return rr=e,t()}finally{rr=r}};DA=function(e,t,r){switch(t){case"input":if(AA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=O_(n);if(!a)throw Error(De(90));l9(n),AA(n,a)}}}break;case"textarea":u9(e,r);break;case"select":t=r.value,t!=null&&s0(e,!!r.multiple,t,!1)}};v9=AP;y9=pf;var vie={usingClientEntryPoint:!1,Events:[iy,zh,O_,p9,g9,AP]},vp={findFiberByHostInstance:Ld,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yie={bundleType:vp.bundleType,version:vp.version,rendererPackageName:vp.rendererPackageName,rendererConfig:vp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=b9(e),e===null?null:e.stateNode},findFiberByHostInstance:vp.findFiberByHostInstance||pie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ux=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ux.isDisabled&&Ux.supportsFiber)try{k_=Ux.inject(yie),Jo=Ux}catch{}}os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vie;os.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DP(t))throw Error(De(200));return mie(e,t,null,r)};os.createRoot=function(e,t){if(!DP(e))throw Error(De(299));var r=!1,n="",a=ZV;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=PP(e,1,!1,null,null,r,!1,n,a),e[sc]=t.current,$g(e.nodeType===8?e.parentNode:e),new OP(t)};os.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(De(188)):(e=Object.keys(e).join(","),Error(De(268,e)));return e=b9(t),e=e===null?null:e.stateNode,e};os.flushSync=function(e){return pf(e)};os.hydrate=function(e,t,r){if(!U_(t))throw Error(De(200));return V_(null,e,t,!0,r)};os.hydrateRoot=function(e,t,r){if(!DP(e))throw Error(De(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=ZV;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=JV(t,null,e,1,r??null,a,!1,i,s),e[sc]=t.current,$g(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new B_(t)};os.render=function(e,t,r){if(!U_(t))throw Error(De(200));return V_(null,e,t,!1,r)};os.unmountComponentAtNode=function(e){if(!U_(e))throw Error(De(40));return e._reactRootContainer?(pf(function(){V_(null,null,e,!1,function(){e._reactRootContainer=null,e[sc]=null})}),!0):!1};os.unstable_batchedUpdates=AP;os.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!U_(r))throw Error(De(200));if(e==null||e._reactInternals===void 0)throw Error(De(38));return V_(e,t,r,!1,n)};os.version="18.3.1-next-f1338f8080-20240426";function e7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e7)}catch(e){console.error(e)}}e7(),e9.exports=os;var z_=e9.exports;const t7=on(z_);var VM=z_;xA.createRoot=VM.createRoot,xA.hydrateRoot=VM.hydrateRoot;const xie="modulepreload",wie=function(e){return"/centralteleoperadores/"+e},zM={},ki=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=wie(l),l in zM)return;zM[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":xie,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_ie=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),WM=e=>{const t=_ie(e);return t.charAt(0).toUpperCase()+t.slice(1)},r7=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),Eie=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Sie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},l)=>T.createElement("svg",{ref:l,...Sie,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:r7("lucide",a),...!i&&!Eie(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,u])=>T.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=(e,t)=>{const r=T.forwardRef(({className:n,...a},i)=>T.createElement(Tie,{ref:i,iconNode:t,className:r7(`lucide-${bie(WM(e))}`,`lucide-${e}`,n),...a}));return r.displayName=WM(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],jP=Qe("activity",Aie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],kie=Qe("bug",Cie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],G1=Qe("building-2",Nie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ga=Qe("calendar",Pie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ps=Qe("chart-column",Iie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Die=Qe("chart-pie",Oie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],n7=Qe("chevron-down",jie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],a7=Qe("chevron-up",Rie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vn=Qe("circle-alert",Mie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$r=Qe("circle-check-big",Fie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],gf=Qe("circle-x",Lie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],fC=Qe("clipboard-list",$ie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xa=Qe("clock",Bie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],i7=Qe("crown",Uie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],qg=Qe("database",Vie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],HM=Qe("download",zie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],s7=Qe("eye-off",Wie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],RP=Qe("eye",Hie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],ig=Qe("file-spreadsheet",Gie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Yg=Qe("file-text",Kie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],Yie=Qe("file",qie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Qie=Qe("flag",Xie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],oy=Qe("funnel",Jie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ese=Qe("globe",Zie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],hC=Qe("heart",tse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rse=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],nse=Qe("house",rse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mC=Qe("info",ase);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ise=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],sse=Qe("list",ise);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ose=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],lse=Qe("loader-circle",ose);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],pC=Qe("lock",cse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const use=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dse=Qe("log-out",use);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],MP=Qe("mail",fse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],o7=Qe("map-pin",hse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ly=Qe("message-square",mse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pse=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],gse=Qe("pen-line",pse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],gC=Qe("phone-call",vse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Vr=Qe("phone",yse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],vC=Qe("pill",xse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wse=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],bse=Qe("play",wse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],W_=Qe("plus",_se);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],l7=Qe("refresh-cw",Ese);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],c7=Qe("repeat",Sse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cy=Qe("save",Tse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oi=Qe("search",Ase);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vf=Qe("settings",Cse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],yf=Qe("shield",kse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],FP=Qe("square-pen",Nse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],GM=Qe("tag",Pse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ise=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],Ose=Qe("test-tube",Ise);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dse=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],jse=Qe("timer",Dse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],el=Qe("trash-2",Rse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mse=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Fse=Qe("trending-down",Mse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],xf=Qe("trending-up",Lse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ni=Qe("triangle-alert",$se);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],yC=Qe("truck",Bse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Vse=Qe("type",Use);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Xg=Qe("upload",zse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hse=Qe("user-check",Wse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Qg=Qe("user-plus",Gse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],qse=Qe("user-x",Kse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],aa=Qe("user",Yse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hn=Qe("users",Xse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cc=Qe("x",Qse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zse=Qe("zap",Jse);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Fw={};Fw.version="0.18.5";var u7=1252,eoe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],LP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},$P=function(e){eoe.indexOf(e)!=-1&&(u7=LP[0]=e)};function toe(){$P(1252)}var go=function(e){$P(e)};function BP(){go(1200),toe()}function KM(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function roe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function d7(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Fp=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?roe(e.slice(2)):t==254&&r==255?d7(e.slice(2)):t==65279?e.slice(1):e},Vx=function(t){return String.fromCharCode(t)},qM=function(t){return String.fromCharCode(t)},Jg,cu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Zg(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=cu.charAt(i)+cu.charAt(s)+cu.charAt(o)+cu.charAt(l);return t}function ns(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=cu.indexOf(e.charAt(c++)),s=cu.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=cu.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=cu.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var St=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Tc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ou(e){return St?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function YM(e){return St?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Ki=function(t){return St?Tc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function H_(e){if(typeof ArrayBuffer>"u")return Ki(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function ed(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function noe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function UP(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return UP(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Zn=St?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Tc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function aoe(e){for(var t=[],r=0,n=e.length+250,a=Ou(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ou(65535),n=65530)}return t.push(a.slice(0,r)),Zn(t)}var di=/\u0000/g,Lp=/[\u0001-\u0006]/g;function f0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function vo(e,t){var r=""+e;return r.length>=t?r:en("0",t-r.length)+r}function VP(e,t){var r=""+e;return r.length>=t?r:en(" ",t-r.length)+r}function Lw(e,t){var r=""+e;return r.length>=t?r:r+en(" ",t-r.length)}function ioe(e,t){var r=""+Math.round(e);return r.length>=t?r:en("0",t-r.length)+r}function soe(e,t){var r=""+e;return r.length>=t?r:en("0",t-r.length)+r}var XM=Math.pow(2,32);function Eh(e,t){if(e>XM||e<-XM)return ioe(e,t);var r=Math.round(e);return soe(r,t)}function $w(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var QM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],F2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function ooe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var ot={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},JM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},loe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Bw(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Ud(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=moe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var f7=new Date(1899,11,31,0,0,0),coe=f7.getTime(),uoe=new Date(1900,2,1,0,0,0);function h7(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=uoe&&(r+=24*60*60*1e3),(r-(coe+(e.getTimezoneOffset()-f7.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function zP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function doe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function foe(e){var t=e<0?12:11,r=zP(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function hoe(e){var t=zP(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function ev(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=foe(e):t===10?r=e.toFixed(10).substr(0,12):r=hoe(e),zP(doe(r.toUpperCase()))}function wf(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):ev(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Vs(14,h7(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function moe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function poe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return F2[r.m-1][1];case 5:return F2[r.m-1][0];default:return F2[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return QM[r.q][0];default:return QM[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?vo(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=vo(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?vo(l,c):"";return u}function uu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var m7=/%/g;function goe(e,t,r){var n=t.replace(m7,""),a=t.length-n.length;return Ql(e,n,r*Math.pow(10,2*a))+en("%",a)}function voe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ql(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function p7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+p7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var g7=/# (\?+)( ?)\/( ?)(\d+)/;function yoe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?en(" ",e[1].length+1+e[4].length):VP(s,e[1].length)+e[2]+"/"+e[3]+vo(o,e[4].length))}function xoe(e,t,r){return r+(t===0?"":""+t)+en(" ",e[1].length+2+e[4].length)}var v7=/^#*0*\.([0#]+)/,y7=/\).*[0#]/,x7=/\(###\) ###\\?-####/;function ri(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function ZM(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function e3(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function woe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function boe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function xs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(y7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?xs("n",n,r):"("+xs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return voe(e,t,r);if(t.indexOf("%")!==-1)return goe(e,t,r);if(t.indexOf("E")!==-1)return p7(t,r);if(t.charCodeAt(0)===36)return"$"+xs(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Eh(l,t.length);if(t.match(/^[#?]+$/))return a=Eh(r,0),a==="0"&&(a=""),a.length>t.length?a:ri(t.substr(0,t.length-a.length))+a;if(i=t.match(g7))return yoe(i,l,c);if(t.match(/^#+0+$/))return c+Eh(l,t.length-t.indexOf("0"));if(i=t.match(v7))return a=ZM(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ri(i[1])).replace(/\.$/,"."+ri(i[1])).replace(/\.(\d*)$/,function(p,g){return"."+g+en("0",ri(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+ZM(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+uu(Eh(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+xs(e,t,-r):uu(""+(Math.floor(r)+woe(r,i[1].length)))+"."+vo(e3(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return xs(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=f0(xs(e,t.replace(/[\\-]/g,""),r)),s=0,f0(f0(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<a.length?a.charAt(s++):p==="0"?"0":""}));if(t.match(x7))return a=xs(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Bw(l,Math.pow(10,s)-1,!1),a=""+c,u=Ql("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Lw(o[2],s),u.length<i[4].length&&(u=ri(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Bw(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?VP(o[1],s)+i[2]+"/"+i[3]+Lw(o[2],s):en(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Eh(r,0),t.length<=a.length?a:ri(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return ri(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=e3(r,i[1].length),r<0?"-"+xs(e,t,-r):uu(boe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?vo(0,3-p.length):"")+p})+"."+vo(s,i[1].length);switch(t){case"###,##0.00":return xs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=uu(Eh(l,0));return m!=="0"?c+m:"";case"###,###.00":return xs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return xs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function _oe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ql(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Eoe(e,t,r){var n=t.replace(m7,""),a=t.length-n.length;return Ql(e,n,r*Math.pow(10,2*a))+en("%",a)}function w7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+w7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Uo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(y7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Uo("n",n,r):"("+Uo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return _oe(e,t,r);if(t.indexOf("%")!==-1)return Eoe(e,t,r);if(t.indexOf("E")!==-1)return w7(t,r);if(t.charCodeAt(0)===36)return"$"+Uo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+vo(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ri(t.substr(0,t.length-a.length))+a;if(i=t.match(g7))return xoe(i,l,c);if(t.match(/^#+0+$/))return c+vo(l,t.length-t.indexOf("0"));if(i=t.match(v7))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ri(i[1])).replace(/\.$/,"."+ri(i[1])),a=a.replace(/\.(\d*)$/,function(p,g){return"."+g+en("0",ri(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+uu(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Uo(e,t,-r):uu(""+r)+"."+en("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Uo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=f0(Uo(e,t.replace(/[\\-]/g,""),r)),s=0,f0(f0(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<a.length?a.charAt(s++):p==="0"?"0":""}));if(t.match(x7))return a=Uo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Bw(l,Math.pow(10,s)-1,!1),a=""+c,u=Ql("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Lw(o[2],s),u.length<i[4].length&&(u=ri(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Bw(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?VP(o[1],s)+i[2]+"/"+i[3]+Lw(o[2],s):en(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ri(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return ri(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Uo(e,t,-r):uu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?vo(0,3-p.length):"")+p})+"."+vo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=uu(""+l);return m!=="0"?c+m:"";default:if(t.match(/\.[0#?]*$/))return Uo(e,t.slice(0,t.lastIndexOf(".")),r)+ri(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ql(e,t,r){return(r|0)===r?Uo(e,t,r):xs(e,t,r)}function Soe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var b7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function hm(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":$w(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(b7))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Toe(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!$w(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var m=e.charAt(++s),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Ud(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Ud(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var g={t:o,v:o};if(c==null&&(c=Ud(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(g.v=c.H>=12?"下午":"上午"),g.t="T",s+=5,h="h"):(g.t="t",++s),c==null&&g.t==="T")return"";a[a.length]=g,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(b7)){if(c==null&&(c=Ud(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",hm(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,w;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(w=a[s].v.match(/\.0+$/))&&(y=Math.max(y,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var b="",E;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=poe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(E=s+1;a[E]!=null&&((o=a[E].t)==="?"||o==="D"||(o===" "||o==="t")&&a[E+1]!=null&&(a[E+1].t==="?"||a[E+1].t==="t"&&a[E+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[E].v==="/"||a[E].v===" "&&a[E+1]!=null&&a[E+1].t=="?"));)a[s].v+=a[E].v,a[E]={v:"",t:";"},++E;b+=a[s].v,s=E-1;break;case"G":a[s].t="t",a[s].v=wf(t,r);break}var k="",C,S;if(b.length>0){b.charCodeAt(0)==40?(C=t<0&&b.charCodeAt(0)===45?-t:t,S=Ql("n",b,C)):(C=t<0&&n>1?-t:t,S=Ql("n",b,C),C<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),E=S.length-1;var _=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){_=s;break}var A=a.length;if(_===a.length&&S.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(E>=a[s].v.length-1?(E-=a[s].v.length,a[s].v=S.substr(E+1,a[s].v.length)):E<0?a[s].v="":(a[s].v=S.substr(0,E+1),E=-1),a[s].t="t",A=s);E>=0&&A<a.length&&(a[A].v=S.substr(0,E+1)+a[A].v)}else if(_!==a.length&&S.indexOf("E")===-1){for(E=S.indexOf(".")-1,s=_;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")-1:a[s].v.length-1,k=a[s].v.substr(u+1);u>=0;--u)E>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(k=S.charAt(E--)+k);a[s].v=k,a[s].t="t",A=s}for(E>=0&&A<a.length&&(a[A].v=S.substr(0,E+1)+a[A].v),E=S.indexOf(".")+1,s=_;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==_)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")+1:0,k=a[s].v.substr(0,u);u<a[s].v.length;++u)E<S.length&&(k+=S.charAt(E++));a[s].v=k,a[s].t="t",A=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(C=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Ql(a[s].t,a[s].v,C),a[s].t="t");var P="";for(s=0;s!==a.length;++s)a[s]!=null&&(P+=a[s].v);return P}var t3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function r3(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Aoe(e,t){var r=Soe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(t3),o=r[1].match(t3);return r3(t,s)?[n,r[0]]:r3(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Vs(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:ot)[e],n==null&&(n=r.table&&r.table[JM[e]]||ot[JM[e]]),n==null&&(n=loe[e]||"General");break}if($w(n,0))return wf(t,r);t instanceof Date&&(t=h7(t,r.date1904));var a=Aoe(n,t);if($w(a[1]))return wf(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Toe(a[1],t,r,a[0])}function Jl(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(ot[r]==null){t<0&&(t=r);continue}if(ot[r]==e){t=r;break}}t<0&&(t=391)}return ot[t]=e,t}function G_(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Jl(e[t],t)}function mm(){ot=ooe()}var Coe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},_7=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function koe(e){var t=typeof e=="number"?ot[e]:e;return t=t.replace(_7,"(\\d+)"),new RegExp("^"+t+"$")}function Noe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(_7)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":s=m;break;case"s":l=m;break;case"m":s>=0?o=m:a=m;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var Poe=function(){var e={};e.version="1.2.0";function t(){for(var S=0,_=new Array(256),A=0;A!=256;++A)S=A,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,_[A]=S;return typeof Int32Array<"u"?new Int32Array(_):_}var r=t();function n(S){var _=0,A=0,P=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)N[P]=S[P];for(P=0;P!=256;++P)for(A=S[P],_=256+P;_<4096;_+=256)A=N[_]=A>>>8^S[A&255];var I=[];for(P=1;P!=16;++P)I[P-1]=typeof Int32Array<"u"?N.subarray(P*256,P*256+256):N.slice(P*256,P*256+256);return I}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],m=a[8],p=a[9],g=a[10],v=a[11],y=a[12],w=a[13],b=a[14];function E(S,_){for(var A=_^-1,P=0,N=S.length;P<N;)A=A>>>8^r[(A^S.charCodeAt(P++))&255];return~A}function k(S,_){for(var A=_^-1,P=S.length-15,N=0;N<P;)A=b[S[N++]^A&255]^w[S[N++]^A>>8&255]^y[S[N++]^A>>16&255]^v[S[N++]^A>>>24]^g[S[N++]]^p[S[N++]]^m[S[N++]]^h[S[N++]]^f[S[N++]]^u[S[N++]]^c[S[N++]]^l[S[N++]]^o[S[N++]]^s[S[N++]]^i[S[N++]]^r[S[N++]];for(P+=15;N<P;)A=A>>>8^r[(A^S[N++])&255];return~A}function C(S,_){for(var A=_^-1,P=0,N=S.length,I=0,D=0;P<N;)I=S.charCodeAt(P++),I<128?A=A>>>8^r[(A^I)&255]:I<2048?(A=A>>>8^r[(A^(192|I>>6&31))&255],A=A>>>8^r[(A^(128|I&63))&255]):I>=55296&&I<57344?(I=(I&1023)+64,D=S.charCodeAt(P++)&1023,A=A>>>8^r[(A^(240|I>>8&7))&255],A=A>>>8^r[(A^(128|I>>2&63))&255],A=A>>>8^r[(A^(128|D>>6&15|(I&3)<<4))&255],A=A>>>8^r[(A^(128|D&63))&255]):(A=A>>>8^r[(A^(224|I>>12&15))&255],A=A>>>8^r[(A^(128|I>>6&63))&255],A=A>>>8^r[(A^(128|I&63))&255]);return~A}return e.table=r,e.bstr=E,e.buf=k,e.str=C,e}(),it=function(){var t={};t.version="1.2.1";function r(B,X){for(var G=B.split("/"),q=X.split("/"),J=0,Z=0,he=Math.min(G.length,q.length);J<he;++J){if(Z=G[J].length-q[J].length)return Z;if(G[J]!=q[J])return G[J]<q[J]?-1:1}return G.length-q.length}function n(B){if(B.charAt(B.length-1)=="/")return B.slice(0,-1).indexOf("/")===-1?B:n(B.slice(0,-1));var X=B.lastIndexOf("/");return X===-1?B:B.slice(0,X+1)}function a(B){if(B.charAt(B.length-1)=="/")return a(B.slice(0,-1));var X=B.lastIndexOf("/");return X===-1?B:B.slice(X+1)}function i(B,X){typeof X=="string"&&(X=new Date(X));var G=X.getHours();G=G<<6|X.getMinutes(),G=G<<5|X.getSeconds()>>>1,B.write_shift(2,G);var q=X.getFullYear()-1980;q=q<<4|X.getMonth()+1,q=q<<5|X.getDate(),B.write_shift(2,q)}function s(B){var X=B.read_shift(2)&65535,G=B.read_shift(2)&65535,q=new Date,J=G&31;G>>>=5;var Z=G&15;G>>>=4,q.setMilliseconds(0),q.setFullYear(G+1980),q.setMonth(Z-1),q.setDate(J);var he=X&31;X>>>=5;var _e=X&63;return X>>>=6,q.setHours(X),q.setMinutes(_e),q.setSeconds(he<<1),q}function o(B){va(B,0);for(var X={},G=0;B.l<=B.length-4;){var q=B.read_shift(2),J=B.read_shift(2),Z=B.l+J,he={};switch(q){case 21589:G=B.read_shift(1),G&1&&(he.mtime=B.read_shift(4)),J>5&&(G&2&&(he.atime=B.read_shift(4)),G&4&&(he.ctime=B.read_shift(4))),he.mtime&&(he.mt=new Date(he.mtime*1e3));break}B.l=Z,X[q]=he}return X}var l;function c(){return l||(l={})}function u(B,X){if(B[0]==80&&B[1]==75)return vd(B,X);if((B[0]|32)==109&&(B[1]|32)==105)return xd(B,X);if(B.length<512)throw new Error("CFB file size "+B.length+" < 512");var G=3,q=512,J=0,Z=0,he=0,_e=0,me=0,pe=[],ve=B.slice(0,512);va(ve,0);var Pe=f(ve);switch(G=Pe[0],G){case 3:q=512;break;case 4:q=4096;break;case 0:if(Pe[1]==0)return vd(B,X);default:throw new Error("Major Version: Expected 3 or 4 saw "+G)}q!==512&&(ve=B.slice(0,q),va(ve,28));var V=B.slice(0,q);h(ve,G);var se=ve.read_shift(4,"i");if(G===3&&se!==0)throw new Error("# Directory Sectors: Expected 0 saw "+se);ve.l+=4,he=ve.read_shift(4,"i"),ve.l+=4,ve.chk("00100000","Mini Stream Cutoff Size: "),_e=ve.read_shift(4,"i"),J=ve.read_shift(4,"i"),me=ve.read_shift(4,"i"),Z=ve.read_shift(4,"i");for(var le=-1,xe=0;xe<109&&(le=ve.read_shift(4,"i"),!(le<0));++xe)pe[xe]=le;var oe=m(B,q);v(me,Z,oe,q,pe);var we=w(oe,he,pe,q);we[he].name="!Directory",J>0&&_e!==D&&(we[_e].name="!MiniFAT"),we[pe[0]].name="!FAT",we.fat_addrs=pe,we.ssz=q;var Te={},ze=[],Me=[],mt=[];b(he,we,oe,ze,J,Te,Me,_e),p(Me,mt,ze),ze.shift();var tt={FileIndex:Me,FullPaths:mt};return X&&X.raw&&(tt.raw={header:V,sectors:oe}),tt}function f(B){if(B[B.l]==80&&B[B.l+1]==75)return[0,0];B.chk(M,"Header Signature: "),B.l+=16;var X=B.read_shift(2,"u");return[B.read_shift(2,"u"),X]}function h(B,X){var G=9;switch(B.l+=2,G=B.read_shift(2)){case 9:if(X!=3)throw new Error("Sector Shift: Expected 9 saw "+G);break;case 12:if(X!=4)throw new Error("Sector Shift: Expected 12 saw "+G);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+G)}B.chk("0600","Mini Sector Shift: "),B.chk("000000000000","Reserved: ")}function m(B,X){for(var G=Math.ceil(B.length/X)-1,q=[],J=1;J<G;++J)q[J-1]=B.slice(J*X,(J+1)*X);return q[G-1]=B.slice(G*X),q}function p(B,X,G){for(var q=0,J=0,Z=0,he=0,_e=0,me=G.length,pe=[],ve=[];q<me;++q)pe[q]=ve[q]=q,X[q]=G[q];for(;_e<ve.length;++_e)q=ve[_e],J=B[q].L,Z=B[q].R,he=B[q].C,pe[q]===q&&(J!==-1&&pe[J]!==J&&(pe[q]=pe[J]),Z!==-1&&pe[Z]!==Z&&(pe[q]=pe[Z])),he!==-1&&(pe[he]=q),J!==-1&&q!=pe[q]&&(pe[J]=pe[q],ve.lastIndexOf(J)<_e&&ve.push(J)),Z!==-1&&q!=pe[q]&&(pe[Z]=pe[q],ve.lastIndexOf(Z)<_e&&ve.push(Z));for(q=1;q<me;++q)pe[q]===q&&(Z!==-1&&pe[Z]!==Z?pe[q]=pe[Z]:J!==-1&&pe[J]!==J&&(pe[q]=pe[J]));for(q=1;q<me;++q)if(B[q].type!==0){if(_e=q,_e!=pe[_e])do _e=pe[_e],X[q]=X[_e]+"/"+X[q];while(_e!==0&&pe[_e]!==-1&&_e!=pe[_e]);pe[q]=-1}for(X[0]+="/",q=1;q<me;++q)B[q].type!==2&&(X[q]+="/")}function g(B,X,G){for(var q=B.start,J=B.size,Z=[],he=q;G&&J>0&&he>=0;)Z.push(X.slice(he*I,he*I+I)),J-=I,he=Rd(G,he*4);return Z.length===0?Ee(0):Zn(Z).slice(0,B.size)}function v(B,X,G,q,J){var Z=D;if(B===D){if(X!==0)throw new Error("DIFAT chain shorter than expected")}else if(B!==-1){var he=G[B],_e=(q>>>2)-1;if(!he)return;for(var me=0;me<_e&&(Z=Rd(he,me*4))!==D;++me)J.push(Z);v(Rd(he,q-4),X-1,G,q,J)}}function y(B,X,G,q,J){var Z=[],he=[];J||(J=[]);var _e=q-1,me=0,pe=0;for(me=X;me>=0;){J[me]=!0,Z[Z.length]=me,he.push(B[me]);var ve=G[Math.floor(me*4/q)];if(pe=me*4&_e,q<4+pe)throw new Error("FAT boundary crossed: "+me+" 4 "+q);if(!B[ve])break;me=Rd(B[ve],pe)}return{nodes:Z,data:m3([he])}}function w(B,X,G,q){var J=B.length,Z=[],he=[],_e=[],me=[],pe=q-1,ve=0,Pe=0,V=0,se=0;for(ve=0;ve<J;++ve)if(_e=[],V=ve+X,V>=J&&(V-=J),!he[V]){me=[];var le=[];for(Pe=V;Pe>=0;){le[Pe]=!0,he[Pe]=!0,_e[_e.length]=Pe,me.push(B[Pe]);var xe=G[Math.floor(Pe*4/q)];if(se=Pe*4&pe,q<4+se)throw new Error("FAT boundary crossed: "+Pe+" 4 "+q);if(!B[xe]||(Pe=Rd(B[xe],se),le[Pe]))break}Z[V]={nodes:_e,data:m3([me])}}return Z}function b(B,X,G,q,J,Z,he,_e){for(var me=0,pe=q.length?2:0,ve=X[B].data,Pe=0,V=0,se;Pe<ve.length;Pe+=128){var le=ve.slice(Pe,Pe+128);va(le,64),V=le.read_shift(2),se=XP(le,0,V-pe),q.push(se);var xe={name:se,type:le.read_shift(1),color:le.read_shift(1),L:le.read_shift(4,"i"),R:le.read_shift(4,"i"),C:le.read_shift(4,"i"),clsid:le.read_shift(16),state:le.read_shift(4,"i"),start:0,size:0},oe=le.read_shift(2)+le.read_shift(2)+le.read_shift(2)+le.read_shift(2);oe!==0&&(xe.ct=E(le,le.l-8));var we=le.read_shift(2)+le.read_shift(2)+le.read_shift(2)+le.read_shift(2);we!==0&&(xe.mt=E(le,le.l-8)),xe.start=le.read_shift(4,"i"),xe.size=le.read_shift(4,"i"),xe.size<0&&xe.start<0&&(xe.size=xe.type=0,xe.start=D,xe.name=""),xe.type===5?(me=xe.start,J>0&&me!==D&&(X[me].name="!StreamData")):xe.size>=4096?(xe.storage="fat",X[xe.start]===void 0&&(X[xe.start]=y(G,xe.start,X.fat_addrs,X.ssz)),X[xe.start].name=xe.name,xe.content=X[xe.start].data.slice(0,xe.size)):(xe.storage="minifat",xe.size<0?xe.size=0:me!==D&&xe.start!==D&&X[me]&&(xe.content=g(xe,X[me].data,(X[_e]||{}).data))),xe.content&&va(xe.content,0),Z[se]=xe,he.push(xe)}}function E(B,X){return new Date((Hi(B,X+4)/1e7*Math.pow(2,32)+Hi(B,X)/1e7-11644473600)*1e3)}function k(B,X){return c(),u(l.readFileSync(B),X)}function C(B,X){var G=X&&X.type;switch(G||St&&Buffer.isBuffer(B)&&(G="buffer"),G||"base64"){case"file":return k(B,X);case"base64":return u(Ki(ns(B)),X);case"binary":return u(Ki(B),X)}return u(B,X)}function S(B,X){var G=X||{},q=G.root||"Root Entry";if(B.FullPaths||(B.FullPaths=[]),B.FileIndex||(B.FileIndex=[]),B.FullPaths.length!==B.FileIndex.length)throw new Error("inconsistent CFB structure");B.FullPaths.length===0&&(B.FullPaths[0]=q+"/",B.FileIndex[0]={name:q,type:5}),G.CLSID&&(B.FileIndex[0].clsid=G.CLSID),_(B)}function _(B){var X="Sh33tJ5";if(!it.find(B,"/"+X)){var G=Ee(4);G[0]=55,G[1]=G[3]=50,G[2]=54,B.FileIndex.push({name:X,type:2,content:G,size:4,L:69,R:69,C:69}),B.FullPaths.push(B.FullPaths[0]+X),A(B)}}function A(B,X){S(B);for(var G=!1,q=!1,J=B.FullPaths.length-1;J>=0;--J){var Z=B.FileIndex[J];switch(Z.type){case 0:q?G=!0:(B.FileIndex.pop(),B.FullPaths.pop());break;case 1:case 2:case 5:q=!0,isNaN(Z.R*Z.L*Z.C)&&(G=!0),Z.R>-1&&Z.L>-1&&Z.R==Z.L&&(G=!0);break;default:G=!0;break}}if(!(!G&&!X)){var he=new Date(1987,1,19),_e=0,me=Object.create?Object.create(null):{},pe=[];for(J=0;J<B.FullPaths.length;++J)me[B.FullPaths[J]]=!0,B.FileIndex[J].type!==0&&pe.push([B.FullPaths[J],B.FileIndex[J]]);for(J=0;J<pe.length;++J){var ve=n(pe[J][0]);q=me[ve],q||(pe.push([ve,{name:a(ve).replace("/",""),type:1,clsid:Q,ct:he,mt:he,content:null}]),me[ve]=!0)}for(pe.sort(function(se,le){return r(se[0],le[0])}),B.FullPaths=[],B.FileIndex=[],J=0;J<pe.length;++J)B.FullPaths[J]=pe[J][0],B.FileIndex[J]=pe[J][1];for(J=0;J<pe.length;++J){var Pe=B.FileIndex[J],V=B.FullPaths[J];if(Pe.name=a(V).replace("/",""),Pe.L=Pe.R=Pe.C=-(Pe.color=1),Pe.size=Pe.content?Pe.content.length:0,Pe.start=0,Pe.clsid=Pe.clsid||Q,J===0)Pe.C=pe.length>1?1:-1,Pe.size=0,Pe.type=5;else if(V.slice(-1)=="/"){for(_e=J+1;_e<pe.length&&n(B.FullPaths[_e])!=V;++_e);for(Pe.C=_e>=pe.length?-1:_e,_e=J+1;_e<pe.length&&n(B.FullPaths[_e])!=n(V);++_e);Pe.R=_e>=pe.length?-1:_e,Pe.type=1}else n(B.FullPaths[J+1]||"")==n(V)&&(Pe.R=J+1),Pe.type=2}}}function P(B,X){var G=X||{};if(G.fileType=="mad")return On(B,G);switch(A(B),G.fileType){case"zip":return yd(B,G)}var q=function(se){for(var le=0,xe=0,oe=0;oe<se.FileIndex.length;++oe){var we=se.FileIndex[oe];if(we.content){var Te=we.content.length;Te>0&&(Te<4096?le+=Te+63>>6:xe+=Te+511>>9)}}for(var ze=se.FullPaths.length+3>>2,Me=le+7>>3,mt=le+127>>7,tt=Me+xe+ze+mt,Ze=tt+127>>7,rt=Ze<=109?0:Math.ceil((Ze-109)/127);tt+Ze+rt+127>>7>Ze;)rt=++Ze<=109?0:Math.ceil((Ze-109)/127);var We=[1,rt,Ze,mt,ze,xe,le,0];return se.FileIndex[0].size=le<<6,We[7]=(se.FileIndex[0].start=We[0]+We[1]+We[2]+We[3]+We[4]+We[5])+(We[6]+7>>3),We}(B),J=Ee(q[7]<<9),Z=0,he=0;{for(Z=0;Z<8;++Z)J.write_shift(1,ee[Z]);for(Z=0;Z<8;++Z)J.write_shift(2,0);for(J.write_shift(2,62),J.write_shift(2,3),J.write_shift(2,65534),J.write_shift(2,9),J.write_shift(2,6),Z=0;Z<3;++Z)J.write_shift(2,0);for(J.write_shift(4,0),J.write_shift(4,q[2]),J.write_shift(4,q[0]+q[1]+q[2]+q[3]-1),J.write_shift(4,0),J.write_shift(4,4096),J.write_shift(4,q[3]?q[0]+q[1]+q[2]-1:D),J.write_shift(4,q[3]),J.write_shift(-4,q[1]?q[0]-1:D),J.write_shift(4,q[1]),Z=0;Z<109;++Z)J.write_shift(-4,Z<q[2]?q[1]+Z:-1)}if(q[1])for(he=0;he<q[1];++he){for(;Z<236+he*127;++Z)J.write_shift(-4,Z<q[2]?q[1]+Z:-1);J.write_shift(-4,he===q[1]-1?D:he+1)}var _e=function(se){for(he+=se;Z<he-1;++Z)J.write_shift(-4,Z+1);se&&(++Z,J.write_shift(-4,D))};for(he=Z=0,he+=q[1];Z<he;++Z)J.write_shift(-4,W.DIFSECT);for(he+=q[2];Z<he;++Z)J.write_shift(-4,W.FATSECT);_e(q[3]),_e(q[4]);for(var me=0,pe=0,ve=B.FileIndex[0];me<B.FileIndex.length;++me)ve=B.FileIndex[me],ve.content&&(pe=ve.content.length,!(pe<4096)&&(ve.start=he,_e(pe+511>>9)));for(_e(q[6]+7>>3);J.l&511;)J.write_shift(-4,W.ENDOFCHAIN);for(he=Z=0,me=0;me<B.FileIndex.length;++me)ve=B.FileIndex[me],ve.content&&(pe=ve.content.length,!(!pe||pe>=4096)&&(ve.start=he,_e(pe+63>>6)));for(;J.l&511;)J.write_shift(-4,W.ENDOFCHAIN);for(Z=0;Z<q[4]<<2;++Z){var Pe=B.FullPaths[Z];if(!Pe||Pe.length===0){for(me=0;me<17;++me)J.write_shift(4,0);for(me=0;me<3;++me)J.write_shift(4,-1);for(me=0;me<12;++me)J.write_shift(4,0);continue}ve=B.FileIndex[Z],Z===0&&(ve.start=ve.size?ve.start-1:D);var V=Z===0&&G.root||ve.name;if(pe=2*(V.length+1),J.write_shift(64,V,"utf16le"),J.write_shift(2,pe),J.write_shift(1,ve.type),J.write_shift(1,ve.color),J.write_shift(-4,ve.L),J.write_shift(-4,ve.R),J.write_shift(-4,ve.C),ve.clsid)J.write_shift(16,ve.clsid,"hex");else for(me=0;me<4;++me)J.write_shift(4,0);J.write_shift(4,ve.state||0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,0),J.write_shift(4,ve.start),J.write_shift(4,ve.size),J.write_shift(4,0)}for(Z=1;Z<B.FileIndex.length;++Z)if(ve=B.FileIndex[Z],ve.size>=4096)if(J.l=ve.start+1<<9,St&&Buffer.isBuffer(ve.content))ve.content.copy(J,J.l,0,ve.size),J.l+=ve.size+511&-512;else{for(me=0;me<ve.size;++me)J.write_shift(1,ve.content[me]);for(;me&511;++me)J.write_shift(1,0)}for(Z=1;Z<B.FileIndex.length;++Z)if(ve=B.FileIndex[Z],ve.size>0&&ve.size<4096)if(St&&Buffer.isBuffer(ve.content))ve.content.copy(J,J.l,0,ve.size),J.l+=ve.size+63&-64;else{for(me=0;me<ve.size;++me)J.write_shift(1,ve.content[me]);for(;me&63;++me)J.write_shift(1,0)}if(St)J.l=J.length;else for(;J.l<J.length;)J.write_shift(1,0);return J}function N(B,X){var G=B.FullPaths.map(function(me){return me.toUpperCase()}),q=G.map(function(me){var pe=me.split("/");return pe[pe.length-(me.slice(-1)=="/"?2:1)]}),J=!1;X.charCodeAt(0)===47?(J=!0,X=G[0].slice(0,-1)+X):J=X.indexOf("/")!==-1;var Z=X.toUpperCase(),he=J===!0?G.indexOf(Z):q.indexOf(Z);if(he!==-1)return B.FileIndex[he];var _e=!Z.match(Lp);for(Z=Z.replace(di,""),_e&&(Z=Z.replace(Lp,"!")),he=0;he<G.length;++he)if((_e?G[he].replace(Lp,"!"):G[he]).replace(di,"")==Z||(_e?q[he].replace(Lp,"!"):q[he]).replace(di,"")==Z)return B.FileIndex[he];return null}var I=64,D=-2,M="d0cf11e0a1b11ae1",ee=[208,207,17,224,161,177,26,225],Q="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:M,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function z(B,X,G){c();var q=P(B,G);l.writeFileSync(X,q)}function L(B){for(var X=new Array(B.length),G=0;G<B.length;++G)X[G]=String.fromCharCode(B[G]);return X.join("")}function ae(B,X){var G=P(B,X);switch(X&&X.type||"buffer"){case"file":return c(),l.writeFileSync(X.filename,G),G;case"binary":return typeof G=="string"?G:L(G);case"base64":return Zg(typeof G=="string"?G:L(G));case"buffer":if(St)return Buffer.isBuffer(G)?G:Tc(G);case"array":return typeof G=="string"?Ki(G):G}return G}var ue;function F(B){try{var X=B.InflateRaw,G=new X;if(G._processChunk(new Uint8Array([3,0]),G._finishFlushFlag),G.bytesRead)ue=B;else throw new Error("zlib does not expose bytesRead")}catch(q){console.error("cannot use native zlib: "+(q.message||q))}}function U(B,X){if(!ue)return hs(B,X);var G=ue.InflateRaw,q=new G,J=q._processChunk(B.slice(B.l),q._finishFlushFlag);return B.l+=q.bytesRead,J}function K(B){return ue?ue.deflateRawSync(B):yt(B)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],te=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function fe(B){var X=(B<<1|B<<11)&139536|(B<<5|B<<15)&558144;return(X>>16|X>>8|X)&255}for(var re=typeof Uint8Array<"u",ce=re?new Uint8Array(256):[],ye=0;ye<256;++ye)ce[ye]=fe(ye);function R(B,X){var G=ce[B&255];return X<=8?G>>>8-X:(G=G<<8|ce[B>>8&255],X<=16?G>>>16-X:(G=G<<8|ce[B>>16&255],G>>>24-X))}function Be(B,X){var G=X&7,q=X>>>3;return(B[q]|(G<=6?0:B[q+1]<<8))>>>G&3}function Re(B,X){var G=X&7,q=X>>>3;return(B[q]|(G<=5?0:B[q+1]<<8))>>>G&7}function qe(B,X){var G=X&7,q=X>>>3;return(B[q]|(G<=4?0:B[q+1]<<8))>>>G&15}function Ue(B,X){var G=X&7,q=X>>>3;return(B[q]|(G<=3?0:B[q+1]<<8))>>>G&31}function Se(B,X){var G=X&7,q=X>>>3;return(B[q]|(G<=1?0:B[q+1]<<8))>>>G&127}function ht(B,X,G){var q=X&7,J=X>>>3,Z=(1<<G)-1,he=B[J]>>>q;return G<8-q||(he|=B[J+1]<<8-q,G<16-q)||(he|=B[J+2]<<16-q,G<24-q)||(he|=B[J+3]<<24-q),he&Z}function wr(B,X,G){var q=X&7,J=X>>>3;return q<=5?B[J]|=(G&7)<<q:(B[J]|=G<<q&255,B[J+1]=(G&7)>>8-q),X+3}function Kt(B,X,G){var q=X&7,J=X>>>3;return G=(G&1)<<q,B[J]|=G,X+1}function ln(B,X,G){var q=X&7,J=X>>>3;return G<<=q,B[J]|=G&255,G>>>=8,B[J+1]=G,X+8}function Za(B,X,G){var q=X&7,J=X>>>3;return G<<=q,B[J]|=G&255,G>>>=8,B[J+1]=G&255,B[J+2]=G>>>8,X+16}function br(B,X){var G=B.length,q=2*G>X?2*G:X+5,J=0;if(G>=X)return B;if(St){var Z=YM(q);if(B.copy)B.copy(Z);else for(;J<B.length;++J)Z[J]=B[J];return Z}else if(re){var he=new Uint8Array(q);if(he.set)he.set(B);else for(;J<G;++J)he[J]=B[J];return he}return B.length=q,B}function hr(B){for(var X=new Array(B),G=0;G<B;++G)X[G]=0;return X}function xt(B,X,G){var q=1,J=0,Z=0,he=0,_e=0,me=B.length,pe=re?new Uint16Array(32):hr(32);for(Z=0;Z<32;++Z)pe[Z]=0;for(Z=me;Z<G;++Z)B[Z]=0;me=B.length;var ve=re?new Uint16Array(me):hr(me);for(Z=0;Z<me;++Z)pe[J=B[Z]]++,q<J&&(q=J),ve[Z]=0;for(pe[0]=0,Z=1;Z<=q;++Z)pe[Z+16]=_e=_e+pe[Z-1]<<1;for(Z=0;Z<me;++Z)_e=B[Z],_e!=0&&(ve[Z]=pe[_e+16]++);var Pe=0;for(Z=0;Z<me;++Z)if(Pe=B[Z],Pe!=0)for(_e=R(ve[Z],q)>>q-Pe,he=(1<<q+4-Pe)-1;he>=0;--he)X[_e|he<<Pe]=Pe&15|Z<<4;return q}var jt=re?new Uint16Array(512):hr(512),_r=re?new Uint16Array(32):hr(32);if(!re){for(var Er=0;Er<512;++Er)jt[Er]=0;for(Er=0;Er<32;++Er)_r[Er]=0}(function(){for(var B=[],X=0;X<32;X++)B.push(5);xt(B,_r,32);var G=[];for(X=0;X<=143;X++)G.push(8);for(;X<=255;X++)G.push(9);for(;X<=279;X++)G.push(7);for(;X<=287;X++)G.push(8);xt(G,jt,288)})();var qn=function(){for(var X=re?new Uint8Array(32768):[],G=0,q=0;G<ie.length-1;++G)for(;q<ie[G+1];++q)X[q]=G;for(;q<32768;++q)X[q]=29;var J=re?new Uint8Array(259):[];for(G=0,q=0;G<te.length-1;++G)for(;q<te[G+1];++q)J[q]=G;function Z(_e,me){for(var pe=0;pe<_e.length;){var ve=Math.min(65535,_e.length-pe),Pe=pe+ve==_e.length;for(me.write_shift(1,+Pe),me.write_shift(2,ve),me.write_shift(2,~ve&65535);ve-- >0;)me[me.l++]=_e[pe++]}return me.l}function he(_e,me){for(var pe=0,ve=0,Pe=re?new Uint16Array(32768):[];ve<_e.length;){var V=Math.min(65535,_e.length-ve);if(V<10){for(pe=wr(me,pe,+(ve+V==_e.length)),pe&7&&(pe+=8-(pe&7)),me.l=pe/8|0,me.write_shift(2,V),me.write_shift(2,~V&65535);V-- >0;)me[me.l++]=_e[ve++];pe=me.l*8;continue}pe=wr(me,pe,+(ve+V==_e.length)+2);for(var se=0;V-- >0;){var le=_e[ve];se=(se<<5^le)&32767;var xe=-1,oe=0;if((xe=Pe[se])&&(xe|=ve&-32768,xe>ve&&(xe-=32768),xe<ve))for(;_e[xe+oe]==_e[ve+oe]&&oe<250;)++oe;if(oe>2){le=J[oe],le<=22?pe=ln(me,pe,ce[le+1]>>1)-1:(ln(me,pe,3),pe+=5,ln(me,pe,ce[le-23]>>5),pe+=3);var we=le<8?0:le-4>>2;we>0&&(Za(me,pe,oe-te[le]),pe+=we),le=X[ve-xe],pe=ln(me,pe,ce[le]>>3),pe-=3;var Te=le<4?0:le-2>>1;Te>0&&(Za(me,pe,ve-xe-ie[le]),pe+=Te);for(var ze=0;ze<oe;++ze)Pe[se]=ve&32767,se=(se<<5^_e[ve])&32767,++ve;V-=oe-1}else le<=143?le=le+48:pe=Kt(me,pe,1),pe=ln(me,pe,ce[le]),Pe[se]=ve&32767,++ve}pe=ln(me,pe,0)-1}return me.l=(pe+7)/8|0,me.l}return function(me,pe){return me.length<8?Z(me,pe):he(me,pe)}}();function yt(B){var X=Ee(50+Math.floor(B.length*1.1)),G=qn(B,X);return X.slice(0,G)}var ar=re?new Uint16Array(32768):hr(32768),cn=re?new Uint16Array(32768):hr(32768),lr=re?new Uint16Array(128):hr(128),ei=1,eo=1;function fs(B,X){var G=Ue(B,X)+257;X+=5;var q=Ue(B,X)+1;X+=5;var J=qe(B,X)+4;X+=4;for(var Z=0,he=re?new Uint8Array(19):hr(19),_e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],me=1,pe=re?new Uint8Array(8):hr(8),ve=re?new Uint8Array(8):hr(8),Pe=he.length,V=0;V<J;++V)he[Y[V]]=Z=Re(B,X),me<Z&&(me=Z),pe[Z]++,X+=3;var se=0;for(pe[0]=0,V=1;V<=me;++V)ve[V]=se=se+pe[V-1]<<1;for(V=0;V<Pe;++V)(se=he[V])!=0&&(_e[V]=ve[se]++);var le=0;for(V=0;V<Pe;++V)if(le=he[V],le!=0){se=ce[_e[V]]>>8-le;for(var xe=(1<<7-le)-1;xe>=0;--xe)lr[se|xe<<le]=le&7|V<<3}var oe=[];for(me=1;oe.length<G+q;)switch(se=lr[Se(B,X)],X+=se&7,se>>>=3){case 16:for(Z=3+Be(B,X),X+=2,se=oe[oe.length-1];Z-- >0;)oe.push(se);break;case 17:for(Z=3+Re(B,X),X+=3;Z-- >0;)oe.push(0);break;case 18:for(Z=11+Se(B,X),X+=7;Z-- >0;)oe.push(0);break;default:oe.push(se),me<se&&(me=se);break}var we=oe.slice(0,G),Te=oe.slice(G);for(V=G;V<286;++V)we[V]=0;for(V=q;V<30;++V)Te[V]=0;return ei=xt(we,ar,286),eo=xt(Te,cn,30),X}function Li(B,X){if(B[0]==3&&!(B[1]&3))return[Ou(X),2];for(var G=0,q=0,J=YM(X||1<<18),Z=0,he=J.length>>>0,_e=0,me=0;!(q&1);){if(q=Re(B,G),G+=3,q>>>1)q>>1==1?(_e=9,me=5):(G=fs(B,G),_e=ei,me=eo);else{G&7&&(G+=8-(G&7));var pe=B[G>>>3]|B[(G>>>3)+1]<<8;if(G+=32,pe>0)for(!X&&he<Z+pe&&(J=br(J,Z+pe),he=J.length);pe-- >0;)J[Z++]=B[G>>>3],G+=8;continue}for(;;){!X&&he<Z+32767&&(J=br(J,Z+32767),he=J.length);var ve=ht(B,G,_e),Pe=q>>>1==1?jt[ve]:ar[ve];if(G+=Pe&15,Pe>>>=4,!(Pe>>>8&255))J[Z++]=Pe;else{if(Pe==256)break;Pe-=257;var V=Pe<8?0:Pe-4>>2;V>5&&(V=0);var se=Z+te[Pe];V>0&&(se+=ht(B,G,V),G+=V),ve=ht(B,G,me),Pe=q>>>1==1?_r[ve]:cn[ve],G+=Pe&15,Pe>>>=4;var le=Pe<4?0:Pe-2>>1,xe=ie[Pe];for(le>0&&(xe+=ht(B,G,le),G+=le),!X&&he<se&&(J=br(J,se+100),he=J.length);Z<se;)J[Z]=J[Z-xe],++Z}}}return X?[J,G+7>>>3]:[J.slice(0,Z),G+7>>>3]}function hs(B,X){var G=B.slice(B.l||0),q=Li(G,X);return B.l+=q[1],q[0]}function to(B,X){if(B)typeof console<"u"&&console.error(X);else throw new Error(X)}function vd(B,X){var G=B;va(G,0);var q=[],J=[],Z={FileIndex:q,FullPaths:J};S(Z,{root:X.root});for(var he=G.length-4;(G[he]!=80||G[he+1]!=75||G[he+2]!=5||G[he+3]!=6)&&he>=0;)--he;G.l=he+4,G.l+=4;var _e=G.read_shift(2);G.l+=6;var me=G.read_shift(4);for(G.l=me,he=0;he<_e;++he){G.l+=20;var pe=G.read_shift(4),ve=G.read_shift(4),Pe=G.read_shift(2),V=G.read_shift(2),se=G.read_shift(2);G.l+=8;var le=G.read_shift(4),xe=o(G.slice(G.l+Pe,G.l+Pe+V));G.l+=Pe+V+se;var oe=G.l;G.l=le+4,Al(G,pe,ve,Z,xe),G.l=oe}return Z}function Al(B,X,G,q,J){B.l+=2;var Z=B.read_shift(2),he=B.read_shift(2),_e=s(B);if(Z&8257)throw new Error("Unsupported ZIP encryption");for(var me=B.read_shift(4),pe=B.read_shift(4),ve=B.read_shift(4),Pe=B.read_shift(2),V=B.read_shift(2),se="",le=0;le<Pe;++le)se+=String.fromCharCode(B[B.l++]);if(V){var xe=o(B.slice(B.l,B.l+V));(xe[21589]||{}).mt&&(_e=xe[21589].mt),((J||{})[21589]||{}).mt&&(_e=J[21589].mt)}B.l+=V;var oe=B.slice(B.l,B.l+pe);switch(he){case 8:oe=U(B,ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+he)}var we=!1;Z&8&&(me=B.read_shift(4),me==134695760&&(me=B.read_shift(4),we=!0),pe=B.read_shift(4),ve=B.read_shift(4)),pe!=X&&to(we,"Bad compressed size: "+X+" != "+pe),ve!=G&&to(we,"Bad uncompressed size: "+G+" != "+ve),no(q,se,oe,{unsafe:!0,mt:_e})}function yd(B,X){var G=X||{},q=[],J=[],Z=Ee(1),he=G.compression?8:0,_e=0,me=0,pe=0,ve=0,Pe=0,V=B.FullPaths[0],se=V,le=B.FileIndex[0],xe=[],oe=0;for(me=1;me<B.FullPaths.length;++me)if(se=B.FullPaths[me].slice(V.length),le=B.FileIndex[me],!(!le.size||!le.content||se=="Sh33tJ5")){var we=ve,Te=Ee(se.length);for(pe=0;pe<se.length;++pe)Te.write_shift(1,se.charCodeAt(pe)&127);Te=Te.slice(0,Te.l),xe[Pe]=Poe.buf(le.content,0);var ze=le.content;he==8&&(ze=K(ze)),Z=Ee(30),Z.write_shift(4,67324752),Z.write_shift(2,20),Z.write_shift(2,_e),Z.write_shift(2,he),le.mt?i(Z,le.mt):Z.write_shift(4,0),Z.write_shift(-4,xe[Pe]),Z.write_shift(4,ze.length),Z.write_shift(4,le.content.length),Z.write_shift(2,Te.length),Z.write_shift(2,0),ve+=Z.length,q.push(Z),ve+=Te.length,q.push(Te),ve+=ze.length,q.push(ze),Z=Ee(46),Z.write_shift(4,33639248),Z.write_shift(2,0),Z.write_shift(2,20),Z.write_shift(2,_e),Z.write_shift(2,he),Z.write_shift(4,0),Z.write_shift(-4,xe[Pe]),Z.write_shift(4,ze.length),Z.write_shift(4,le.content.length),Z.write_shift(2,Te.length),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(4,0),Z.write_shift(4,we),oe+=Z.l,J.push(Z),oe+=Te.length,J.push(Te),++Pe}return Z=Ee(22),Z.write_shift(4,101010256),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(2,Pe),Z.write_shift(2,Pe),Z.write_shift(4,oe),Z.write_shift(4,ve),Z.write_shift(2,0),Zn([Zn(q),Zn(J),Z])}var Fo={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ro(B,X){if(B.ctype)return B.ctype;var G=B.name||"",q=G.match(/\.([^\.]+)$/);return q&&Fo[q[1]]||X&&(q=(G=X).match(/[\.\\]([^\.\\])+$/),q&&Fo[q[1]])?Fo[q[1]]:"application/octet-stream"}function ph(B){for(var X=Zg(B),G=[],q=0;q<X.length;q+=76)G.push(X.slice(q,q+76));return G.join(`\r
`)+`\r
`}function Fc(B){var X=B.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(pe){var ve=pe.charCodeAt(0).toString(16).toUpperCase();return"="+(ve.length==1?"0"+ve:ve)});X=X.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),X.charAt(0)==`
`&&(X="=0D"+X.slice(1)),X=X.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var G=[],q=X.split(`\r
`),J=0;J<q.length;++J){var Z=q[J];if(Z.length==0){G.push("");continue}for(var he=0;he<Z.length;){var _e=76,me=Z.slice(he,he+_e);me.charAt(_e-1)=="="?_e--:me.charAt(_e-2)=="="?_e-=2:me.charAt(_e-3)=="="&&(_e-=3),me=Z.slice(he,he+_e),he+=_e,he<Z.length&&(me+="="),G.push(me)}}return G.join(`\r
`)}function gh(B){for(var X=[],G=0;G<B.length;++G){for(var q=B[G];G<=B.length&&q.charAt(q.length-1)=="=";)q=q.slice(0,q.length-1)+B[++G];X.push(q)}for(var J=0;J<X.length;++J)X[J]=X[J].replace(/[=][0-9A-Fa-f]{2}/g,function(Z){return String.fromCharCode(parseInt(Z.slice(1),16))});return Ki(X.join(`\r
`))}function Cl(B,X,G){for(var q="",J="",Z="",he,_e=0;_e<10;++_e){var me=X[_e];if(!me||me.match(/^\s*$/))break;var pe=me.match(/^(.*?):\s*([^\s].*)$/);if(pe)switch(pe[1].toLowerCase()){case"content-location":q=pe[2].trim();break;case"content-type":Z=pe[2].trim();break;case"content-transfer-encoding":J=pe[2].trim();break}}switch(++_e,J.toLowerCase()){case"base64":he=Ki(ns(X.slice(_e).join("")));break;case"quoted-printable":he=gh(X.slice(_e));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+J)}var ve=no(B,q.slice(G.length),he,{unsafe:!0});Z&&(ve.ctype=Z)}function xd(B,X){if(L(B.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var G=X&&X.root||"",q=(St&&Buffer.isBuffer(B)?B.toString("binary"):L(B)).split(`\r
`),J=0,Z="";for(J=0;J<q.length;++J)if(Z=q[J],!!/^Content-Location:/i.test(Z)&&(Z=Z.slice(Z.indexOf("file")),G||(G=Z.slice(0,Z.lastIndexOf("/")+1)),Z.slice(0,G.length)!=G))for(;G.length>0&&(G=G.slice(0,G.length-1),G=G.slice(0,G.lastIndexOf("/")+1),Z.slice(0,G.length)!=G););var he=(q[1]||"").match(/boundary="(.*?)"/);if(!he)throw new Error("MAD cannot find boundary");var _e="--"+(he[1]||""),me=[],pe=[],ve={FileIndex:me,FullPaths:pe};S(ve);var Pe,V=0;for(J=0;J<q.length;++J){var se=q[J];se!==_e&&se!==_e+"--"||(V++&&Cl(ve,q.slice(Pe,J),G),Pe=J)}return ve}function On(B,X){var G=X||{},q=G.boundary||"SheetJS";q="------="+q;for(var J=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+q.slice(2)+'"',"","",""],Z=B.FullPaths[0],he=Z,_e=B.FileIndex[0],me=1;me<B.FullPaths.length;++me)if(he=B.FullPaths[me].slice(Z.length),_e=B.FileIndex[me],!(!_e.size||!_e.content||he=="Sh33tJ5")){he=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(oe){return"_x"+oe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(oe){return"_u"+oe.charCodeAt(0).toString(16)+"_"});for(var pe=_e.content,ve=St&&Buffer.isBuffer(pe)?pe.toString("binary"):L(pe),Pe=0,V=Math.min(1024,ve.length),se=0,le=0;le<=V;++le)(se=ve.charCodeAt(le))>=32&&se<128&&++Pe;var xe=Pe>=V*4/5;J.push(q),J.push("Content-Location: "+(G.root||"file:///C:/SheetJS/")+he),J.push("Content-Transfer-Encoding: "+(xe?"quoted-printable":"base64")),J.push("Content-Type: "+ro(_e,he)),J.push(""),J.push(xe?Fc(ve):ph(ve))}return J.push(q+`--\r
`),J.join(`\r
`)}function Lo(B){var X={};return S(X,B),X}function no(B,X,G,q){var J=q&&q.unsafe;J||S(B);var Z=!J&&it.find(B,X);if(!Z){var he=B.FullPaths[0];X.slice(0,he.length)==he?he=X:(he.slice(-1)!="/"&&(he+="/"),he=(he+X).replace("//","/")),Z={name:a(X),type:2},B.FileIndex.push(Z),B.FullPaths.push(he),J||it.utils.cfb_gc(B)}return Z.content=G,Z.size=G?G.length:0,q&&(q.CLSID&&(Z.clsid=q.CLSID),q.mt&&(Z.mt=q.mt),q.ct&&(Z.ct=q.ct)),Z}function kl(B,X){S(B);var G=it.find(B,X);if(G){for(var q=0;q<B.FileIndex.length;++q)if(B.FileIndex[q]==G)return B.FileIndex.splice(q,1),B.FullPaths.splice(q,1),!0}return!1}function tp(B,X,G){S(B);var q=it.find(B,X);if(q){for(var J=0;J<B.FileIndex.length;++J)if(B.FileIndex[J]==q)return B.FileIndex[J].name=a(G),B.FullPaths[J]=G,!0}return!1}function rp(B){A(B,!0)}return t.find=N,t.read=C,t.parse=u,t.write=ae,t.writeFile=z,t.utils={cfb_new:Lo,cfb_add:no,cfb_del:kl,cfb_mov:tp,cfb_gc:rp,ReadShift:sg,CheckField:W7,prep_blob:va,bconcat:Zn,use_zlib:F,_deflateRaw:yt,_inflateRaw:hs,consts:W},t}();function Ioe(e){return typeof e=="string"?H_(e):Array.isArray(e)?noe(e):e}function uy(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=H_(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Yo(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([Ioe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=ed(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Ooe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function an(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function n3(e,t){for(var r=[],n=an(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function K_(e){for(var t=[],r=an(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function q_(e){for(var t=[],r=an(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Doe(e){for(var t=[],r=an(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Uw=new Date(1899,11,30,0,0,0);function Un(e,t){var r=e.getTime(),n=Uw.getTime()+(e.getTimezoneOffset()-Uw.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var E7=new Date,joe=Uw.getTime()+(E7.getTimezoneOffset()-Uw.getTimezoneOffset())*6e4,a3=E7.getTimezoneOffset();function Y_(e){var t=new Date;return t.setTime(e*24*60*60*1e3+joe),t.getTimezoneOffset()!==a3&&t.setTime(t.getTime()+(t.getTimezoneOffset()-a3)*6e4),t}function Roe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var i3=new Date("2017-02-19T19:06:09.000Z"),S7=isNaN(i3.getFullYear())?new Date("2/19/17"):i3,Moe=S7.getFullYear()==2017;function Ir(e,t){var r=new Date(e);if(Moe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(S7.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function bf(e,t){if(St&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Yo(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Yo(d7(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Yo(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Yo(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Or(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Or(e[r]));return t}function en(e,t){for(var r="";r.length<t;)r+=e;return r}function _o(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Foe=["january","february","march","april","may","june","july","august","september","october","november","december"];function j0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Foe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Loe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function T7(e){return e?e.content&&e.type?bf(e.content,!0):e.data?Fp(e.data):e.asNodeBuffer&&St?Fp(e.asNodeBuffer().toString("binary")):e.asBinary?Fp(e.asBinary()):e._data&&e._data.getContent?Fp(bf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function A7(e){if(!e)return null;if(e.data)return KM(e.data);if(e.asNodeBuffer&&St)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?KM(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function $oe(e){return e&&e.name.slice(-4)===".bin"?A7(e):T7(e)}function Ss(e,t){for(var r=e.FullPaths||an(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function WP(e,t){var r=Ss(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function En(e,t,r){if(!r)return $oe(WP(e,t));if(!t)return null;try{return En(e,t)}catch{return null}}function qi(e,t,r){if(!r)return T7(WP(e,t));if(!t)return null;try{return qi(e,t)}catch{return null}}function Boe(e,t,r){return A7(WP(e,t))}function s3(e){for(var t=e.FullPaths||an(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function bt(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return St?n=Tc(r):n=aoe(r),it.utils.cfb_add(e,t,n)}it.utils.cfb_add(e,t,r)}else e.file(t,r)}function HP(){return it.utils.cfb_new()}function C7(e,t){switch(t.type){case"base64":return it.read(e,{type:"base64"});case"binary":return it.read(e,{type:"binary"});case"buffer":case"array":return it.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function $p(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var xn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Uoe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,o3=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Voe=/<[^>]*>/g,Ya=xn.match(o3)?o3:Voe,zoe=/<\w*:/,Woe=/<(\/?)\w+:/;function ft(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(Uoe),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var m=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[m]&&u.slice(o-3,o)=="ext")continue;n[m]=l,n[m.toLowerCase()]=l}}return n}function wl(e){return e.replace(Woe,"<$1")}var k7={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},GP=K_(k7),Ut=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return k7[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),KP=/[&<>'"]/g,Hoe=/[\u0000-\u0008\u000b-\u001f]/g;function tr(e){var t=e+"";return t.replace(KP,function(r){return GP[r]}).replace(Hoe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function l3(e){return tr(e).replace(/ /g,"_x0020_")}var N7=/[\u0000-\u001f]/g;function qP(e){var t=e+"";return t.replace(KP,function(r){return GP[r]}).replace(/\n/g,"<br/>").replace(N7,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Goe(e){var t=e+"";return t.replace(KP,function(r){return GP[r]}).replace(N7,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var c3=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Koe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function kr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function L2(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function u3(e){var t=Ou(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function d3(e){return Tc(e,"binary").toString("utf8")}var zx="foo bar bazâð£",sr=St&&(d3(zx)==L2(zx)&&d3||u3(zx)==L2(zx)&&u3)||L2,Yo=St?function(e){return Tc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},tv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),P7=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),qoe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Yoe=/<\/?(?:vt:)?variant>/g,Xoe=/<(?:vt:)([^>]*)>([\s\S]*)</;function f3(e,t){var r=ft(e),n=e.match(qoe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(Yoe,"").match(Xoe);s&&a.push({v:sr(s[2]),t:s[1]})}),a}var I7=/(^\s|\s$|\n)/;function ya(e,t){return"<"+e+(t.match(I7)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function rv(e){return an(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Fe(e,t,r){return"<"+e+(r!=null?rv(r):"")+(t!=null?(t.match(I7)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function xC(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Qoe(e,t){switch(typeof e){case"string":var r=Fe("vt:lpwstr",tr(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Fe((e|0)==e?"vt:i4":"vt:r8",tr(String(e)));case"boolean":return Fe("vt:bool",e?"true":"false")}if(e instanceof Date)return Fe("vt:filetime",xC(e));throw new Error("Unable to serialize "+e)}function YP(e){if(St&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return sr(ed(UP(e)));throw new Error("Bad input format: expected Buffer or string")}var nv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Ln={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Zf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Wi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Joe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Zoe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var h3=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},m3=St?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Tc(t)})):h3(e)}:h3,p3=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Ul(e,a)));return n.join("").replace(di,"")},XP=St?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(di,""):p3(e,t,r)}:p3,g3=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},O7=St?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):g3(e,t,r)}:g3,v3=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Oh(e,a)));return n.join("")},dy=St?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):v3(t,r,n)}:v3,D7=function(e,t){var r=Hi(e,t);return r>0?dy(e,t+4,t+4+r-1):""},j7=D7,R7=function(e,t){var r=Hi(e,t);return r>0?dy(e,t+4,t+4+r-1):""},M7=R7,F7=function(e,t){var r=2*Hi(e,t);return r>0?dy(e,t+4,t+4+r-1):""},L7=F7,$7=function(t,r){var n=Hi(t,r);return n>0?XP(t,r+4,r+4+n):""},B7=$7,U7=function(e,t){var r=Hi(e,t);return r>0?dy(e,t+4,t+4+r):""},V7=U7,z7=function(e,t){return Joe(e,t)},Vw=z7,QP=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};St&&(j7=function(t,r){if(!Buffer.isBuffer(t))return D7(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},M7=function(t,r){if(!Buffer.isBuffer(t))return R7(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},L7=function(t,r){if(!Buffer.isBuffer(t))return F7(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},B7=function(t,r){if(!Buffer.isBuffer(t))return $7(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},V7=function(t,r){if(!Buffer.isBuffer(t))return U7(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Vw=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):z7(t,r)},QP=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Oh=function(e,t){return e[t]},Ul=function(e,t){return e[t+1]*256+e[t]},ele=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Hi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Rd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},tle=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function sg(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,St&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Ul(this,c)),c+=2;e*=2;break;case"utf8":r=dy(this,this.l,this.l+e);break;case"utf16le":e*=2,r=XP(this,this.l,this.l+e);break;case"wstr":return sg.call(this,e,"dbcs");case"lpstr-ansi":r=j7(this,this.l),e=4+Hi(this,this.l);break;case"lpstr-cp":r=M7(this,this.l),e=4+Hi(this,this.l);break;case"lpwstr":r=L7(this,this.l),e=4+2*Hi(this,this.l);break;case"lpp4":e=4+Hi(this,this.l),r=B7(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Hi(this,this.l),r=V7(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Oh(this,this.l+e++))!==0;)i.push(Vx(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=Ul(this,this.l+e))!==0;)i.push(Vx(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Oh(this,c),this.l=c+1,o=sg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Vx(Ul(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Oh(this,c),this.l=c+1,o=sg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Vx(Oh(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=Oh(this,this.l),this.l++,n;case 2:return n=(t==="i"?ele:Ul)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Rd:tle)(this,this.l),this.l+=4,n):(a=Hi(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Vw(this,this.l):a=Vw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=O7(this,this.l,e);break}}return this.l+=e,r}var rle=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},nle=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},ale=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ile(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)ale(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,rle(this,t,this.l);break;case 8:if(n=8,r==="f"){Zoe(this,t,this.l);break}case 16:break;case-4:n=4,nle(this,t,this.l);break}return this.l+=n,this}function W7(e,t){var r=O7(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function va(e,t){e.l=t,e.read_shift=sg,e.chk=W7,e.write_shift=ile}function Ka(e,t){e.l+=t}function Ee(e){var t=Ou(e);return va(t,0),t}function Ac(e,t,r){if(e){var n,a,i;va(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=cv[o]||cv[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function Pi(){var e=[],t=St?256:2048,r=function(c){var u=Ee(c);return va(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Zn(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Ne(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=cv[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&QP(r)&&e.push(r)}}function og(e,t,r){var n=Or(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function y3(e,t,r){var n=Or(e);return n.s=og(n.s,t.s,r),n.e=og(n.e,t.s,r),n}function lg(e,t){if(e.cRel&&e.c<0)for(e=Or(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Or(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=lt(e);return!e.cRel&&e.cRel!=null&&(r=lle(r)),!e.rRel&&e.rRel!=null&&(r=sle(r)),r}function $2(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Wr(e.s.c)+":"+(e.e.cRel?"":"$")+Wr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+yn(e.s.r)+":"+(e.e.rRel?"":"$")+yn(e.e.r):lg(e.s,t.biff)+":"+lg(e.e,t.biff)}function JP(e){return parseInt(ole(e),10)-1}function yn(e){return""+(e+1)}function sle(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ole(e){return e.replace(/\$(\d+)$/,"$1")}function ZP(e){for(var t=cle(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Wr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function lle(e){return e.replace(/^([A-Z])/,"$$$1")}function cle(e){return e.replace(/^\$([A-Z])/,"$1")}function ule(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Hr(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function lt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Mi(e){var t=e.indexOf(":");return t==-1?{s:Hr(e),e:Hr(e)}:{s:Hr(e.slice(0,t)),e:Hr(e.slice(t+1))}}function wt(e,t){return typeof t>"u"||typeof t=="number"?wt(e.s,e.e):(typeof e!="string"&&(e=lt(e)),typeof t!="string"&&(t=lt(t)),e==t?e:e+":"+t)}function Vt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function x3(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Vs(e.z,r?Un(t):t)}catch{}try{return e.w=Vs((e.XF||{}).numFmtId||(r?14:0),r?Un(t):t)}catch{return""+t}}function uc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Cc[e.v]||e.v:t==null?x3(e,e.v):x3(e,t))}function td(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function H7(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Hr(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Vt(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},p=s+f,g=o+h;if(c.s.r>p&&(c.s.r=p),c.s.c>g&&(c.s.c=g),c.e.r<p&&(c.e.r=p),c.e.c<g&&(c.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||ot[14],n.cellDates?(m.t="d",m.w=Vs(m.z,Un(m.v))):(m.t="n",m.v=Un(m.v),m.w=Vs(m.z,m.v))):m.t="s";if(a)i[p]||(i[p]=[]),i[p][g]&&i[p][g].z&&(m.z=i[p][g].z),i[p][g]=m;else{var v=lt({c:g,r:p});i[v]&&i[v].z&&(m.z=i[v].z),i[v]=m}}}return c.s.c<1e7&&(i["!ref"]=wt(c)),i}function pm(e,t){return H7(null,e,t)}function dle(e){return e.read_shift(4,"i")}function Eo(e,t){return t||(t=Ee(4)),t.write_shift(4,e),t}function Va(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function ta(e,t){var r=!1;return t==null&&(r=!0,t=Ee(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function fle(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function hle(e,t){return t||(t=Ee(4)),t.write_shift(2,0),t.write_shift(2,0),t}function eI(e,t){var r=e.l,n=e.read_shift(1),a=Va(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(fle(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function mle(e,t){var r=!1;return t==null&&(r=!0,t=Ee(15+4*e.t.length)),t.write_shift(1,0),ta(e.t,t),r?t.slice(0,t.l):t}var ple=eI;function gle(e,t){var r=!1;return t==null&&(r=!0,t=Ee(23+4*e.t.length)),t.write_shift(1,1),ta(e.t,t),t.write_shift(4,1),hle({},t),r?t.slice(0,t.l):t}function qs(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function eh(e,t){return t==null&&(t=Ee(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function th(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function rh(e,t){return t==null&&(t=Ee(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var vle=Va,G7=ta;function tI(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function zw(e,t){var r=!1;return t==null&&(r=!0,t=Ee(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var yle=Va,wC=tI,rI=zw;function nI(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Vw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Rd(t,0)>>2;return r?a/100:a}function K7(e,t){t==null&&(t=Ee(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function q7(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function xle(e,t){return t||(t=Ee(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var nh=q7,gm=xle;function Ba(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function _f(e,t){return(t||Ee(8)).write_shift(8,e,"f")}function wle(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Jd[a];c&&(t.rgb=iv(c));break;case 2:t.rgb=iv([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Ww(e,t){if(t||(t=Ee(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function ble(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function _le(e,t){t||(t=Ee(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function Y7(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Ele(e){return Y7(e,1)}function Sle(e){return Y7(e,2)}var aI=2,pi=3,Wx=11,w3=12,Hw=19,Hx=64,Tle=65,Ale=71,Cle=4108,kle=4126,Yn=80,X7=81,Nle=[Yn,X7],bC={1:{n:"CodePage",t:aI},2:{n:"Category",t:Yn},3:{n:"PresentationFormat",t:Yn},4:{n:"ByteCount",t:pi},5:{n:"LineCount",t:pi},6:{n:"ParagraphCount",t:pi},7:{n:"SlideCount",t:pi},8:{n:"NoteCount",t:pi},9:{n:"HiddenCount",t:pi},10:{n:"MultimediaClipCount",t:pi},11:{n:"ScaleCrop",t:Wx},12:{n:"HeadingPairs",t:Cle},13:{n:"TitlesOfParts",t:kle},14:{n:"Manager",t:Yn},15:{n:"Company",t:Yn},16:{n:"LinksUpToDate",t:Wx},17:{n:"CharacterCount",t:pi},19:{n:"SharedDoc",t:Wx},22:{n:"HyperlinksChanged",t:Wx},23:{n:"AppVersion",t:pi,p:"version"},24:{n:"DigSig",t:Tle},26:{n:"ContentType",t:Yn},27:{n:"ContentStatus",t:Yn},28:{n:"Language",t:Yn},29:{n:"Version",t:Yn},255:{},2147483648:{n:"Locale",t:Hw},2147483651:{n:"Behavior",t:Hw},1919054434:{}},_C={1:{n:"CodePage",t:aI},2:{n:"Title",t:Yn},3:{n:"Subject",t:Yn},4:{n:"Author",t:Yn},5:{n:"Keywords",t:Yn},6:{n:"Comments",t:Yn},7:{n:"Template",t:Yn},8:{n:"LastAuthor",t:Yn},9:{n:"RevNumber",t:Yn},10:{n:"EditTime",t:Hx},11:{n:"LastPrinted",t:Hx},12:{n:"CreatedDate",t:Hx},13:{n:"ModifiedDate",t:Hx},14:{n:"PageCount",t:pi},15:{n:"WordCount",t:pi},16:{n:"CharCount",t:pi},17:{n:"Thumbnail",t:Ale},18:{n:"Application",t:Yn},19:{n:"DocSecurity",t:pi},255:{},2147483648:{n:"Locale",t:Hw},2147483651:{n:"Behavior",t:Hw},1919054434:{}},b3={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Ple=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Ile(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Ole=Ile([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Jd=Or(Ole),Cc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Q7={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},EC={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Gx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function iI(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Dle(e){var t=iI();if(!e||!e.match)return t;var r={};if((e.match(Ya)||[]).forEach(function(n){var a=ft(n);switch(a[0].replace(zoe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[EC[a.ContentType]]!==void 0&&t[EC[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Ln.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function J7(e,t){var r=Doe(EC),n=[],a;n[n.length]=xn,n[n.length]=Fe("Types",null,{xmlns:Ln.CT,"xmlns:xsd":Ln.xsd,"xmlns:xsi":Ln.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Fe("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(a=e[l][0],n[n.length]=Fe("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Gx[l][t.bookType]||Gx[l].xlsx}))},s=function(l){(e[l]||[]).forEach(function(c){n[n.length]=Fe("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Gx[l][t.bookType]||Gx[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(c){n[n.length]=Fe("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Tt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function av(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function cg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ya)||[]).forEach(function(a){var i=ft(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:$p(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}function h0(e){var t=[xn,Fe("Relationships",null,{xmlns:Ln.RELS})];return an(e["!id"]).forEach(function(r){t[t.length]=Fe("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Zt(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Tt.HLINK,Tt.XPATH,Tt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var jle="application/vnd.oasis.opendocument.spreadsheet";function Rle(e,t){for(var r=YP(e),n,a;n=nv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=ft(n[0],!1),a.path=="/"&&a.type!==jle)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function Mle(e){var t=[xn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function _3(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Fle(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Lle(e){var t=[xn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(_3(e[r][0],e[r][1])),t.push(Fle("",e[r][0]));return t.push(_3("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Z7(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Fw.version+"</meta:generator></office:meta></office:document-meta>"}var Fs=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],$le=function(){for(var e=new Array(Fs.length),t=0;t<Fs.length;++t){var r=Fs[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function ez(e){var t={};e=sr(e);for(var r=0;r<Fs.length;++r){var n=Fs[r],a=e.match($le[r]);a!=null&&a.length>0&&(t[n[1]]=Ut(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Ir(t[n[1]]))}return t}function B2(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=tr(t),n[n.length]=r?Fe(e,t,r):ya(e,t))}function tz(e,t){var r=t||{},n=[xn,Fe("cp:coreProperties",null,{"xmlns:cp":Ln.CORE_PROPS,"xmlns:dc":Ln.dc,"xmlns:dcterms":Ln.dcterms,"xmlns:dcmitype":Ln.dcmitype,"xmlns:xsi":Ln.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&B2("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:xC(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&B2("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:xC(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Fs.length;++i){var s=Fs[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&B2(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Zd=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],rz=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function nz(e,t,r,n){var a=[];if(typeof e=="string")a=f3(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?f3(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function Ble(e,t,r){var n={};return t||(t={}),e=sr(e),Zd.forEach(function(a){var i=(e.match(tv(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Ut(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&nz(n.HeadingPairs,n.TitlesOfParts,t,r),t}function az(e){var t=[],r=Fe;return e||(e={}),e.Application="SheetJS",t[t.length]=xn,t[t.length]=Fe("Properties",null,{xmlns:Ln.EXT_PROPS,"xmlns:vt":Ln.vt}),Zd.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=tr(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+tr(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Ule=/<[^>]+>[^<]*/g;function Vle(e,t){var r={},n="",a=e.match(Ule);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=ft(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Ut(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Ut(u);break;case"bool":r[n]=kr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Ir(u);break;case"cy":case"error":r[n]=Ut(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function iz(e){var t=[xn,Fe("Properties",null,{xmlns:Ln.CUST_PROPS,"xmlns:vt":Ln.vt})];if(!e)return t.join("");var r=1;return an(e).forEach(function(a){++r,t[t.length]=Fe("property",Qoe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:tr(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var SC={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},U2;function zle(e,t,r){U2||(U2=K_(SC)),t=U2[t]||t,e[t]=r}function Wle(e,t){var r=[];return an(SC).map(function(n){for(var a=0;a<Fs.length;++a)if(Fs[a][1]==n)return Fs[a];for(a=0;a<Zd.length;++a)if(Zd[a][1]==n)return Zd[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ya(SC[n[1]]||n[1],a))}}),Fe("DocumentProperties",r.join(""),{xmlns:Wi.o})}function Hle(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&an(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Fs.length;++s)if(i==Fs[s][1])return;for(s=0;s<Zd.length;++s)if(i==Zd[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(Fe(l3(i),o,{"dt:dt":l}))}}),t&&an(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(Fe(l3(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Wi.o+'">'+a.join("")+"</"+n+">"}function sI(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Gle(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=Ee(8);return s.write_shift(4,n),s.write_shift(4,a),s}function sz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function oz(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function lz(e,t,r){return t===31?oz(e):sz(e,t,r)}function TC(e,t,r){return lz(e,t,r===!1?0:4)}function Kle(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return lz(e,t,0)}function qle(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(di,""),e.l-a&2&&(e.l+=2)}return r}function Yle(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(di,"");return r}function Xle(e){var t=e.l,r=Gw(e,X7);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Gw(e,pi);return[r,n]}function Qle(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Xle(e));return r}function E3(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(di,"").replace(Lp,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function cz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Jle(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Gw(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==w3&&n!==t&&Nle.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===w3?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return sz(e,n,4).replace(di,"");case 31:return oz(e);case 64:return sI(e);case 65:return cz(e);case 71:return Jle(e);case 80:return TC(e,n,!i.raw).replace(di,"");case 81:return Kle(e,n).replace(di,"");case 4108:return Qle(e);case 4126:case 4127:return n==4127?qle(e):Yle(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function S3(e,t){var r=Ee(4),n=Ee(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Ee(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Gle(t);break;case 31:case 80:for(n=Ee(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Zn([r,n])}function T3(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(w,b){return w[1]-b[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var m=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,m=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],m=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],m=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(m=!1,e.l=i[s][1]),m)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var p=t[i[s][0]];if(h[p.n]=Gw(e,p.t,{raw:!0}),p.p==="version"&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(h[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:go(o=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(i[s][0]===1){if(o=h.CodePage=Gw(e,aI),go(o),l!==-1){var g=e.l;e.l=i[l][1],c=E3(e,o),e.l=g}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=E3(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=cz(e);break;case 30:e.l+=4,y=TC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=TC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=un(e,4);break;case 64:e.l+=4,y=Ir(sI(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}var uz=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Zle(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function A3(e,t,r){var n=Ee(8),a=[],i=[],s=8,o=0,l=Ee(8),c=Ee(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),s+=8+l.length,!t){c=Ee(8),c.write_shift(4,0),a.unshift(c);var u=[Ee(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(l=Ee(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=Zn(u),i.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(uz.indexOf(e[o][0])>-1||rz.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],m=0;if(t){m=+t[e[o][0]];var p=r[m];if(p.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=S3(p.t,h)}else{var v=Zle(h);v==-1&&(v=31,h=String(h)),l=S3(v,h)}i.push(l),c=Ee(8),c.write_shift(4,t?m:2+o),a.push(c),s+=8+l.length}var y=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,y),y+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),Zn([n].concat(a).concat(i))}function C3(e,t,r){var n=e.content;if(!n)return{};va(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==it.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=T3(n,t),h={SystemIdentifier:c};for(var m in f)h[m]=f[m];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var p;try{p=T3(n,null)}catch{}for(m in p)h[m]=p[m];return h.FMTID=[i,s],h}function k3(e,t,r,n,a,i){var s=Ee(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,it.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var l=A3(e,r,n);if(o.push(l),a){var c=A3(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(c)}return Zn(o)}function Vc(e,t){return e.read_shift(t),null}function ece(e,t){t||(t=Ee(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function tce(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function un(e,t){return e.read_shift(t)===1}function ni(e,t){return t||(t=Ee(2)),t.write_shift(2,+!!e),t}function Sn(e){return e.read_shift(2,"u")}function Ts(e,t){return t||(t=Ee(2)),t.write_shift(2,e),t}function dz(e,t){return tce(e,t,Sn)}function rce(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function fz(e,t,r){return r||(r=Ee(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function fy(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function nce(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function ace(e){var t=e.t||"",r=Ee(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Ee(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Zn(a)}function Ef(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function hy(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Ef(e,n,r)}function ah(e,t,r){if(r.biff>5)return hy(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function hz(e,t,r){return r||(r=Ee(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function ice(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function sce(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(di,"");return n&&(e.l+=24),a}function oce(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(di,"");return r+s}function lce(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return sce(e);case"0303000000000000c000000000000046":return oce(e);default:throw new Error("Unsupported Moniker "+r)}}function Kx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(di,""):"";return r}function N3(e,t){t||(t=Ee(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function cce(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=Kx(e,r-e.l)),a&128&&(s=Kx(e,r-e.l)),(a&257)===257&&(o=Kx(e,r-e.l)),(a&257)===1&&(l=lce(e,r-e.l)),a&8&&(c=Kx(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=sI(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return u&&(m.guid=u),f&&(m.time=f),i&&(m.Tooltip=i),m}function uce(e){var t=Ee(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),N3(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&N3(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function mz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function pz(e,t){var r=mz(e);return r[3]=0,r}function bl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Sf(e,t,r,n){return n||(n=Ee(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function dce(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function fce(e,t,r){return t===0?"":ah(e,t,r)}function hce(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function gz(e){var t=e.read_shift(2),r=nI(e);return[t,r]}function mce(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=fy(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function X_(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function vz(e,t){return t||(t=Ee(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function yz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var pce=yz;function xz(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function gce(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function vce(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Na(e){e.l+=2,e.l+=e.read_shift(2)}var yce={0:Na,4:Na,5:Na,6:Na,7:vce,8:Na,9:Na,10:Na,11:Na,12:Na,13:gce,14:Na,15:Na,16:Na,17:Na,18:Na,19:Na,20:Na,21:xz};function xce(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(yce[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function qx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function oI(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Ee(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function wce(e,t){return t===0||e.read_shift(2),1200}function bce(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=ah(e,0,r);return e.read_shift(t+n-e.l),a}function _ce(e,t){var r=!t||t.biff==8,n=Ee(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Ece(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Sce(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=fy(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Tce(e,t){var r=!t||t.biff>=8?2:1,n=Ee(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Ace(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(nce(e));return i.Count=n,i.Unique=a,i}function Cce(e,t){var r=Ee(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=ace(e[a]);var i=Zn([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function kce(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Nce(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Pce(e){var t=dce(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Ice(e){return e.read_shift(2),e.read_shift(4)}function P3(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Oce(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Dce(){var e=Ee(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function jce(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Rce(e){var t=Ee(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Mce(){}function Fce(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=fy(e,0,r),n}function Lce(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Ee(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function $ce(e){var t=bl(e);return t.isst=e.read_shift(4),t}function Bce(e,t,r,n){var a=Ee(10);return Sf(e,t,n,a),a.write_shift(4,r),a}function Uce(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=bl(e);r.biff==2&&e.l++;var i=hy(e,n-e.l,r);return a.val=i,a}function Vce(e,t,r,n,a){var i=!a||a.biff==8,s=Ee(8+ +i+(1+i)*r.length);return Sf(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function zce(e,t,r){var n=e.read_shift(2),a=ah(e,0,r);return[n,a]}function Wce(e,t,r,n){var a=r&&r.biff==5;n||(n=Ee(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var Hce=ah;function I3(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function Gce(e,t){var r=t.biff==8||!t.biff?4:2,n=Ee(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function Kce(e){var t=e.read_shift(2),r=e.read_shift(2),n=gz(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function qce(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(gz(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function Yce(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function Xce(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=Ple[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Qce(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Xce(e,t,n.fStyle,r),n}function O3(e,t,r,n){var a=r&&r.biff==5;n||(n=Ee(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Jce(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Zce(e){var t=Ee(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function D3(e,t,r){var n=bl(e);(r.biff==2||t==9)&&++e.l;var a=rce(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function eue(e,t,r,n,a,i){var s=Ee(8);return Sf(e,t,n,s),fz(r,i,s),s}function tue(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=bl(e),a=Ba(e);return n.val=a,n}function rue(e,t,r,n){var a=Ee(14);return Sf(e,t,n,a),_f(r,a),a}var j3=fce;function nue(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=Ef(e,i),o=[];n>e.l;)o.push(hy(e));return[i,a,s,o]}function R3(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=mce(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var aue=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function M3(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=Ef(e,s,r);a&32&&(c=aue[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:x0e(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function wz(e,t,r){if(r.biff<8)return iue(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(hce(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function iue(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=fy(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function sue(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Ef(e,n,r),s=Ef(e,a,r);return[i,s]}function oue(e,t,r){var n=yz(e);e.l++;var a=e.read_shift(1);return t-=8,[w0e(e,t,r),a,n]}function F3(e,t,r){var n=pce(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,v0e(e,t,r)]}function lue(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function cue(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=ah(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function uue(e,t,r){return cue(e,t,r)}function due(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(X_(e));return r}function fue(e){var t=Ee(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)vz(e[r],t);return t}function hue(e,t,r){if(r&&r.biff<8)return pue(e,t,r);var n=xz(e),a=xce(e,t-22,n[1]);return{cmo:n,ft:a}}var mue={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function pue(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((mue[n]||Ka)(e,t,r)),{cmo:[a,n,i],ft:s}}function gue(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=ice(e,6,r);var o=e.read_shift(2);e.read_shift(2),Sn(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=Ef(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function vue(e,t){var r=X_(e);e.l+=16;var n=cce(e,t-24);return[r,n]}function yue(e){var t=Ee(24),r=Hr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Zn([t,uce(e[1])])}function xue(e,t){e.read_shift(2);var r=X_(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(di,""),[r,n]}function wue(e){var t=e[1].Tooltip,r=Ee(10+2*(t.length+1));r.write_shift(2,2048);var n=Hr(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function bue(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=b3[r]||r,r=e.read_shift(2),t[1]=b3[r]||r,t}function _ue(e){return e||(e=Ee(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Eue(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(pz(e));return r}function Sue(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(pz(e));return r}function Tue(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function bz(e,t,r){if(!r.cellStyles)return Ka(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function Aue(e,t){var r=Ee(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Cue(e,t){var r={};return t<32||(e.l+=16,r.header=Ba(e),r.footer=Ba(e),e.l+=2),r}function kue(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function Nue(e){for(var t=Ee(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var Pue=bl,Iue=dz,Oue=hy;function Due(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function jue(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=bl(e);++e.l;var a=ah(e,t-7,r);return n.t="str",n.val=a,n}function Rue(e){var t=bl(e);++e.l;var r=Ba(e);return t.t="n",t.val=r,t}function Mue(e,t,r){var n=Ee(15);return vy(n,e,t),n.write_shift(8,r,"f"),n}function Fue(e){var t=bl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Lue(e,t,r){var n=Ee(9);return vy(n,e,t),n.write_shift(2,r),n}function $ue(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Bue(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Uue(e,t,r){var n=e.l+t,a=bl(e),i=e.read_shift(2),s=Ef(e,i,r);return e.l=n,a.t="str",a.val=s,a}var Vue=[2,3,48,49,131,139,140,245],AC=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=K_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Ou(1);switch(l.type){case"base64":u=Ki(ns(o));break;case"binary":u=Ki(o);break;case"buffer":case"array":u=o;break}va(u,0);var f=u.read_shift(1),h=!!(f&136),m=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=u.read_shift(2));var y=u.read_shift(2),w=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=e[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var b=[],E={},k=Math.min(u.length,f==2?521:v-10-(m?264:0)),C=p?32:11;u.l<k&&u[u.l]!=13;)switch(E={},E.name=Jg.utils.decode(w,u.slice(u.l,u.l+C)).replace(/[\u0000\r\n].*$/g,""),u.l+=C,E.type=String.fromCharCode(u.read_shift(1)),f!=2&&!p&&(E.offset=u.read_shift(4)),E.len=u.read_shift(1),f==2&&(E.offset=u.read_shift(2)),E.dec=u.read_shift(1),E.name.length&&b.push(E),f!=2&&(u.l+=p?13:14),E.type){case"B":(!m||E.len!=8)&&l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var S=0,_=0;for(c[0]=[],_=0;_!=b.length;++_)c[0][_]=b[_].name;for(;g-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++S]=[],_=0,_=0;_!=b.length;++_){var A=u.slice(u.l,u.l+b[_].len);u.l+=b[_].len,va(A,0);var P=Jg.utils.decode(w,A);switch(b[_].type){case"C":P.trim().length&&(c[S][_]=P.replace(/\s+$/,""));break;case"D":P.length===8?c[S][_]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):c[S][_]=P;break;case"F":c[S][_]=parseFloat(P.trim());break;case"+":case"I":c[S][_]=p?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":c[S][_]=!0;break;case"N":case"F":c[S][_]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[S][_]="##MEMO##"+(p?parseInt(P.trim(),10):A.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(c[S][_]=+P||0);break;case"@":c[S][_]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":c[S][_]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":c[S][_]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[S][_]=-A.read_shift(-8,"f");break;case"B":if(m&&b[_].len==8){c[S][_]=A.read_shift(8,"f");break}case"G":case"P":A.l+=b[_].len;break;case"0":if(b[_].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[_].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=b,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=pm(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return td(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&go(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Pi(),f=Yw(o,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),p=o["!cols"]||[],g=0,v=0,y=0,w=1;for(g=0;g<h.length;++g){if(((p[g]||{}).DBF||{}).name){h[g]=p[g].DBF.name,++y;continue}if(h[g]!=null){if(++y,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(v=0;v<1024;++v)if(h.indexOf(h[g]+"_"+v)==-1){h[g]+="_"+v;break}}}}var b=Vt(o["!ref"]),E=[],k=[],C=[];for(g=0;g<=b.e.c-b.s.c;++g){var S="",_="",A=0,P=[];for(v=0;v<m.length;++v)m[v][g]!=null&&P.push(m[v][g]);if(P.length==0||h[g]==null){E[g]="?";continue}for(v=0;v<P.length;++v){switch(typeof P[v]){case"number":_="B";break;case"string":_="C";break;case"boolean":_="L";break;case"object":_=P[v]instanceof Date?"D":"C";break;default:_="C"}A=Math.max(A,String(P[v]).length),S=S&&S!=_?"C":_}A>250&&(A=250),_=((p[g]||{}).DBF||{}).type,_=="C"&&p[g].DBF.len>A&&(A=p[g].DBF.len),S=="B"&&_=="N"&&(S="N",C[g]=p[g].DBF.dec,A=p[g].DBF.len),k[g]=S=="C"||_=="N"?A:i[S]||0,w+=k[g],E[g]=S}var N=u.next(32);for(N.write_shift(4,318902576),N.write_shift(4,m.length),N.write_shift(2,296+32*y),N.write_shift(2,w),g=0;g<4;++g)N.write_shift(4,0);for(N.write_shift(4,0|(+t[u7]||3)<<8),g=0,v=0;g<h.length;++g)if(h[g]!=null){var I=u.next(32),D=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);I.write_shift(1,D,"sbcs"),I.write_shift(1,E[g]=="?"?"C":E[g],"sbcs"),I.write_shift(4,v),I.write_shift(1,k[g]||i[E[g]]||0),I.write_shift(1,C[g]||0),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(1,0),I.write_shift(4,0),I.write_shift(4,0),v+=k[g]||i[E[g]]||0}var M=u.next(264);for(M.write_shift(4,13),g=0;g<65;++g)M.write_shift(4,0);for(g=0;g<m.length;++g){var ee=u.next(w);for(ee.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(E[v]){case"L":ee.write_shift(1,m[g][v]==null?63:m[g][v]?84:70);break;case"B":ee.write_shift(8,m[g][v]||0,"f");break;case"N":var Q="0";for(typeof m[g][v]=="number"&&(Q=m[g][v].toFixed(C[v]||0)),y=0;y<k[v]-Q.length;++y)ee.write_shift(1,32);ee.write_shift(1,Q,"sbcs");break;case"D":m[g][v]?(ee.write_shift(4,("0000"+m[g][v].getFullYear()).slice(-4),"sbcs"),ee.write_shift(2,("00"+(m[g][v].getMonth()+1)).slice(-2),"sbcs"),ee.write_shift(2,("00"+m[g][v].getDate()).slice(-2),"sbcs")):ee.write_shift(8,"00000000","sbcs");break;case"C":var W=String(m[g][v]!=null?m[g][v]:"").slice(0,k[v]);for(ee.write_shift(1,W,"sbcs"),y=0;y<k[v]-W.length;++y)ee.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),_z=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+an(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var p=e[m];return typeof p=="number"?qM(p):p},n=function(h,m,p){var g=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return g==59?h:qM(g)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return i(ns(h),m);case"binary":return i(h,m);case"buffer":return i(St&&Buffer.isBuffer(h)?h.toString("binary"):ed(h),m);case"array":return i(bf(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var p=h.split(/[\n\r]+/),g=-1,v=-1,y=0,w=0,b=[],E=[],k=null,C={},S=[],_=[],A=[],P=0,N;for(+m.codepage>=0&&go(+m.codepage);y!==p.length;++y){P=0;var I=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),D=I.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),M=D[0],ee;if(I.length>0)switch(M){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&E.push(I.slice(3).replace(/;;/g,";"));break;case"C":var Q=!1,W=!1,z=!1,L=!1,ae=-1,ue=-1;for(w=1;w<D.length;++w)switch(D[w].charAt(0)){case"A":break;case"X":v=parseInt(D[w].slice(1))-1,W=!0;break;case"Y":for(g=parseInt(D[w].slice(1))-1,W||(v=0),N=b.length;N<=g;++N)b[N]=[];break;case"K":ee=D[w].slice(1),ee.charAt(0)==='"'?ee=ee.slice(1,ee.length-1):ee==="TRUE"?ee=!0:ee==="FALSE"?ee=!1:isNaN(_o(ee))?isNaN(j0(ee).getDate())||(ee=Ir(ee)):(ee=_o(ee),k!==null&&hm(k)&&(ee=Y_(ee))),Q=!0;break;case"E":L=!0;var F=m0(D[w].slice(1),{r:g,c:v});b[g][v]=[b[g][v],F];break;case"S":z=!0,b[g][v]=[b[g][v],"S5S"];break;case"G":break;case"R":ae=parseInt(D[w].slice(1))-1;break;case"C":ue=parseInt(D[w].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+I)}if(Q&&(b[g][v]&&b[g][v].length==2?b[g][v][0]=ee:b[g][v]=ee,k=null),z){if(L)throw new Error("SYLK shared formula cannot have own formula");var U=ae>-1&&b[ae][ue];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");b[g][v][1]=Bz(U[1],{r:g-ae,c:v-ue})}break;case"F":var K=0;for(w=1;w<D.length;++w)switch(D[w].charAt(0)){case"X":v=parseInt(D[w].slice(1))-1,++K;break;case"Y":for(g=parseInt(D[w].slice(1))-1,N=b.length;N<=g;++N)b[N]=[];break;case"M":P=parseInt(D[w].slice(1))/20;break;case"F":break;case"G":break;case"P":k=E[parseInt(D[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=D[w].slice(1).split(" "),N=parseInt(A[0],10);N<=parseInt(A[1],10);++N)P=parseInt(A[2],10),_[N-1]=P===0?{hidden:!0}:{wch:P},Du(_[N-1]);break;case"C":v=parseInt(D[w].slice(1))-1,_[v]||(_[v]={});break;case"R":g=parseInt(D[w].slice(1))-1,S[g]||(S[g]={}),P>0?(S[g].hpt=P,S[g].hpx=M0(P)):P===0&&(S[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+I)}K<1&&(k=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+I)}}return S.length>0&&(C["!rows"]=S),_.length>0&&(C["!cols"]=_),m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),[b,C]}function s(h,m){var p=a(h,m),g=p[0],v=p[1],y=pm(g,m);return an(v).forEach(function(w){y[w]=v[w]}),y}function o(h,m){return td(s(h,m),m)}function l(h,m,p,g){var v="C;Y"+(p+1)+";X"+(g+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+hI(h.f,{r:p,c:g}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,m){m.forEach(function(p,g){var v="F;W"+(g+1)+" "+(g+1)+" ";p.hidden?v+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=sv(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=ov(p.wpx)),typeof p.wch=="number"&&(v+=Math.round(p.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,m){m.forEach(function(p,g){var v="F;";p.hidden?v+="M0;":p.hpt?v+="M"+20*p.hpt+";":p.hpx&&(v+="M"+20*lv(p.hpx)+";"),v.length>2&&h.push(v+"R"+(g+1))})}function f(h,m){var p=["ID;PWXL;N;E"],g=[],v=Vt(h["!ref"]),y,w=Array.isArray(h),b=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),h["!cols"]&&c(p,h["!cols"]),h["!rows"]&&u(p,h["!rows"]),p.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var E=v.s.r;E<=v.e.r;++E)for(var k=v.s.c;k<=v.e.c;++k){var C=lt({r:E,c:k});y=w?(h[E]||[])[k]:h[C],!(!y||y.v==null&&(!y.f||y.F))&&g.push(l(y,h,E,k))}return p.join(b)+b+g.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),Ez=function(){function e(i,s){switch(s.type){case"base64":return t(ns(i),s);case"binary":return t(i,s);case"buffer":return t(St&&Buffer.isBuffer(i)?i.toString("binary"):ed(i),s);case"array":return t(bf(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),m=h[0],p=h[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][c]=!0:g==="FALSE"?f[l][c]=!1:isNaN(_o(p))?isNaN(j0(p).getDate())?f[l][c]=p:f[l][c]=Ir(p):f[l][c]=_o(p),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return pm(e(i,s),s)}function n(i,s){return td(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Vt(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){s(c,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var g=lt({r:m,c:p});if(f=h?(l[m]||[])[p]:l[g],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Vs(f.z||ot[14],Un(Ir(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,w=c.join(y);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Sz=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),p=-1,g=-1,v=0,y=[];v!==m.length;++v){var w=m[v].trim().split(":");if(w[0]==="cell"){var b=Hr(w[1]);if(y.length<=b.r)for(p=y.length;p<=b.r;++p)y[p]||(y[p]=[]);switch(p=b.r,g=b.c,w[2]){case"t":y[p][g]=e(w[3]);break;case"v":y[p][g]=+w[3];break;case"vtf":var E=w[w.length-1];case"vtc":switch(w[3]){case"nl":y[p][g]=!!+w[4];break;default:y[p][g]=+w[4];break}w[2]=="vtf"&&(y[p][g]=[y[p][g],E])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return pm(r(f,h),h)}function a(f,h){return td(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],p,g="",v=Mi(f["!ref"]),y=Array.isArray(f),w=v.s.r;w<=v.e.r;++w)for(var b=v.s.c;b<=v.e.c;++b)if(g=lt({r:w,c:b}),p=y?(f[w]||[])[b]:f[g],!(!p||p.v==null||p.t==="z")){switch(m=["cell",g,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var E=Un(Ir(p.v));m[2]="vtc",m[3]="nd",m[4]=""+E,m[5]=p.w||Vs(p.z||ot[14],E);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),R0=function(){function e(u,f,h,m,p){p.raw?f[h][m]=u:u===""||(u==="TRUE"?f[h][m]=!0:u==="FALSE"?f[h][m]=!1:isNaN(_o(u))?isNaN(j0(u).getDate())?f[h][m]=u:f[h][m]=Ir(u):f[h][m]=_o(u))}function t(u,f){var h=f||{},m=[];if(!u||u.length===0)return m;for(var p=u.split(/[\r\n]/),g=p.length-1;g>=0&&p[g].length===0;)--g;for(var v=10,y=0,w=0;w<=g;++w)y=p[w].indexOf(" "),y==-1?y=p[w].length:y++,v=Math.max(v,y);for(w=0;w<=g;++w){m[w]=[];var b=0;for(e(p[w].slice(0,v).trim(),m,w,b,h),b=1;b<=(p[w].length-v)/10+1;++b)e(p[w].slice(v+(b-1)*10,v+b*10).trim(),m,w,b,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,m=0,p=0;m<u.length;++m)(p=u.charCodeAt(m))==34?h=!h:!h&&p in r&&(f[p]=(f[p]||0)+1);p=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m]);if(!p.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m])}return p.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[p.pop()[1]]||44}function i(u,f){var h=f||{},m="",p=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=a(u.slice(0,1024)):h&&h.FS?m=h.FS:m=a(u.slice(0,1024));var v=0,y=0,w=0,b=0,E=0,k=m.charCodeAt(0),C=!1,S=0,_=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=h.dateNF!=null?koe(h.dateNF):null;function P(){var N=u.slice(b,E),I={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)I.t="z";else if(h.raw)I.t="s",I.v=N;else if(N.trim().length===0)I.t="s",I.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(I.t="s",I.v=N.slice(2,-1).replace(/""/g,'"')):nhe(N)?(I.t="n",I.f=N.slice(1)):(I.t="s",I.v=N);else if(N=="TRUE")I.t="b",I.v=!0;else if(N=="FALSE")I.t="b",I.v=!1;else if(!isNaN(w=_o(N)))I.t="n",h.cellText!==!1&&(I.w=N),I.v=w;else if(!isNaN(j0(N).getDate())||A&&N.match(A)){I.z=h.dateNF||ot[14];var D=0;A&&N.match(A)&&(N=Noe(N,h.dateNF,N.match(A)||[]),D=1),h.cellDates?(I.t="d",I.v=Ir(N,D)):(I.t="n",I.v=Un(Ir(N,D))),h.cellText!==!1&&(I.w=Vs(I.z,I.v instanceof Date?Un(I.v):I.v)),h.cellNF||delete I.z}else I.t="s",I.v=N;if(I.t=="z"||(h.dense?(p[v]||(p[v]=[]),p[v][y]=I):p[lt({c:y,r:v})]=I),b=E+1,_=u.charCodeAt(b),g.e.c<y&&(g.e.c=y),g.e.r<v&&(g.e.r=v),S==k)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;E<u.length;++E)switch(S=u.charCodeAt(E)){case 34:_===34&&(C=!C);break;case k:case 10:case 13:if(!C&&P())break e;break}return E-b>0&&P(),p["!ref"]=wt(g),p}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):pm(t(u,f),f)}function o(u,f){var h="",m=f.type=="string"?[0,0,0,0]:bI(u,f);switch(f.type){case"base64":h=ns(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Jg<"u"||(h=St&&Buffer.isBuffer(u)?u.toString("binary"):ed(u));break;case"array":h=bf(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=sr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=sr(h):f.type=="binary"&&typeof Jg<"u",h.slice(0,19)=="socialcalc:version:"?Sz.to_sheet(f.type=="string"?h:sr(h),f):s(h,f)}function l(u,f){return td(o(u,f),f)}function c(u){for(var f=[],h=Vt(u["!ref"]),m,p=Array.isArray(u),g=h.s.r;g<=h.e.r;++g){for(var v=[],y=h.s.c;y<=h.e.c;++y){var w=lt({r:g,c:y});if(m=p?(u[g]||[])[y]:u[w],!m||m.v==null){v.push("          ");continue}for(var b=(m.w||(uc(m),m.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function zue(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=_z.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return R0.to_workbook(e,t)}}var ef=function(){function e(F,U,K){if(F){va(F,F.l||0);for(var Y=K.Enum||ae;F.l<F.length;){var te=F.read_shift(2),ie=Y[te]||Y[65535],fe=F.read_shift(2),re=F.l+fe,ce=ie.f&&ie.f(F,fe,K);if(F.l=re,U(ce,ie,te))return}}}function t(F,U){switch(U.type){case"base64":return r(Ki(ns(F)),U);case"binary":return r(Ki(F),U);case"buffer":case"array":return r(F,U)}throw"Unsupported type "+U.type}function r(F,U){if(!F)return F;var K=U||{},Y=K.dense?[]:{},te="Sheet1",ie="",fe=0,re={},ce=[],ye=[],R={s:{r:0,c:0},e:{r:0,c:0}},Be=K.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)K.Enum=ae,e(F,function(Se,ht,wr){switch(wr){case 0:K.vers=Se,Se>=4096&&(K.qpro=!0);break;case 6:R=Se;break;case 204:Se&&(ie=Se);break;case 222:ie=Se;break;case 15:case 51:K.qpro||(Se[1].v=Se[1].v.slice(1));case 13:case 14:case 16:wr==14&&(Se[2]&112)==112&&(Se[2]&15)>1&&(Se[2]&15)<15&&(Se[1].z=K.dateNF||ot[14],K.cellDates&&(Se[1].t="d",Se[1].v=Y_(Se[1].v))),K.qpro&&Se[3]>fe&&(Y["!ref"]=wt(R),re[te]=Y,ce.push(te),Y=K.dense?[]:{},R={s:{r:0,c:0},e:{r:0,c:0}},fe=Se[3],te=ie||"Sheet"+(fe+1),ie="");var Kt=K.dense?(Y[Se[0].r]||[])[Se[0].c]:Y[lt(Se[0])];if(Kt){Kt.t=Se[1].t,Kt.v=Se[1].v,Se[1].z!=null&&(Kt.z=Se[1].z),Se[1].f!=null&&(Kt.f=Se[1].f);break}K.dense?(Y[Se[0].r]||(Y[Se[0].r]=[]),Y[Se[0].r][Se[0].c]=Se[1]):Y[lt(Se[0])]=Se[1];break}},K);else if(F[2]==26||F[2]==14)K.Enum=ue,F[2]==14&&(K.qpro=!0,F.l=0),e(F,function(Se,ht,wr){switch(wr){case 204:te=Se;break;case 22:Se[1].v=Se[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Se[3]>fe&&(Y["!ref"]=wt(R),re[te]=Y,ce.push(te),Y=K.dense?[]:{},R={s:{r:0,c:0},e:{r:0,c:0}},fe=Se[3],te="Sheet"+(fe+1)),Be>0&&Se[0].r>=Be)break;K.dense?(Y[Se[0].r]||(Y[Se[0].r]=[]),Y[Se[0].r][Se[0].c]=Se[1]):Y[lt(Se[0])]=Se[1],R.e.c<Se[0].c&&(R.e.c=Se[0].c),R.e.r<Se[0].r&&(R.e.r=Se[0].r);break;case 27:Se[14e3]&&(ye[Se[14e3][0]]=Se[14e3][1]);break;case 1537:ye[Se[0]]=Se[1],Se[0]==fe&&(te=Se[1]);break}},K);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(Y["!ref"]=wt(R),re[ie||te]=Y,ce.push(ie||te),!ye.length)return{SheetNames:ce,Sheets:re};for(var Re={},qe=[],Ue=0;Ue<ye.length;++Ue)re[ce[Ue]]?(qe.push(ye[Ue]||ce[Ue]),Re[ye[Ue]]=re[ye[Ue]]||re[ce[Ue]]):(qe.push(ye[Ue]),Re[ye[Ue]]={"!ref":"A1"});return{SheetNames:qe,Sheets:Re}}function n(F,U){var K=U||{};if(+K.codepage>=0&&go(+K.codepage),K.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=Pi(),te=Vt(F["!ref"]),ie=Array.isArray(F),fe=[];Le(Y,0,i(1030)),Le(Y,6,l(te));for(var re=Math.min(te.e.r,8191),ce=te.s.r;ce<=re;++ce)for(var ye=yn(ce),R=te.s.c;R<=te.e.c;++R){ce===te.s.r&&(fe[R]=Wr(R));var Be=fe[R]+ye,Re=ie?(F[ce]||[])[R]:F[Be];if(!(!Re||Re.t=="z"))if(Re.t=="n")(Re.v|0)==Re.v&&Re.v>=-32768&&Re.v<=32767?Le(Y,13,m(ce,R,Re.v)):Le(Y,14,g(ce,R,Re.v));else{var qe=uc(Re);Le(Y,15,f(ce,R,qe.slice(0,239)))}}return Le(Y,1),Y.end()}function a(F,U){var K=U||{};if(+K.codepage>=0&&go(+K.codepage),K.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=Pi();Le(Y,0,s(F));for(var te=0,ie=0;te<F.SheetNames.length;++te)(F.Sheets[F.SheetNames[te]]||{})["!ref"]&&Le(Y,27,L(F.SheetNames[te],ie++));var fe=0;for(te=0;te<F.SheetNames.length;++te){var re=F.Sheets[F.SheetNames[te]];if(!(!re||!re["!ref"])){for(var ce=Vt(re["!ref"]),ye=Array.isArray(re),R=[],Be=Math.min(ce.e.r,8191),Re=ce.s.r;Re<=Be;++Re)for(var qe=yn(Re),Ue=ce.s.c;Ue<=ce.e.c;++Ue){Re===ce.s.r&&(R[Ue]=Wr(Ue));var Se=R[Ue]+qe,ht=ye?(re[Re]||[])[Ue]:re[Se];if(!(!ht||ht.t=="z"))if(ht.t=="n")Le(Y,23,P(Re,Ue,fe,ht.v));else{var wr=uc(ht);Le(Y,22,S(Re,Ue,fe,wr.slice(0,239)))}}++fe}}return Le(Y,1),Y.end()}function i(F){var U=Ee(2);return U.write_shift(2,F),U}function s(F){var U=Ee(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var K=0,Y=0,te=0,ie=0;ie<F.SheetNames.length;++ie){var fe=F.SheetNames[ie],re=F.Sheets[fe];if(!(!re||!re["!ref"])){++te;var ce=Mi(re["!ref"]);K<ce.e.r&&(K=ce.e.r),Y<ce.e.c&&(Y=ce.e.c)}}return K>8191&&(K=8191),U.write_shift(2,K),U.write_shift(1,te),U.write_shift(1,Y),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function o(F,U,K){var Y={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&K.qpro?(Y.s.c=F.read_shift(1),F.l++,Y.s.r=F.read_shift(2),Y.e.c=F.read_shift(1),F.l++,Y.e.r=F.read_shift(2),Y):(Y.s.c=F.read_shift(2),Y.s.r=F.read_shift(2),U==12&&K.qpro&&(F.l+=2),Y.e.c=F.read_shift(2),Y.e.r=F.read_shift(2),U==12&&K.qpro&&(F.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function l(F){var U=Ee(8);return U.write_shift(2,F.s.c),U.write_shift(2,F.s.r),U.write_shift(2,F.e.c),U.write_shift(2,F.e.r),U}function c(F,U,K){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return K.qpro&&K.vers!=20768?(Y[0].c=F.read_shift(1),Y[3]=F.read_shift(1),Y[0].r=F.read_shift(2),F.l+=2):(Y[2]=F.read_shift(1),Y[0].c=F.read_shift(2),Y[0].r=F.read_shift(2)),Y}function u(F,U,K){var Y=F.l+U,te=c(F,U,K);if(te[1].t="s",K.vers==20768){F.l++;var ie=F.read_shift(1);return te[1].v=F.read_shift(ie,"utf8"),te}return K.qpro&&F.l++,te[1].v=F.read_shift(Y-F.l,"cstr"),te}function f(F,U,K){var Y=Ee(7+K.length);Y.write_shift(1,255),Y.write_shift(2,U),Y.write_shift(2,F),Y.write_shift(1,39);for(var te=0;te<Y.length;++te){var ie=K.charCodeAt(te);Y.write_shift(1,ie>=128?95:ie)}return Y.write_shift(1,0),Y}function h(F,U,K){var Y=c(F,U,K);return Y[1].v=F.read_shift(2,"i"),Y}function m(F,U,K){var Y=Ee(7);return Y.write_shift(1,255),Y.write_shift(2,U),Y.write_shift(2,F),Y.write_shift(2,K,"i"),Y}function p(F,U,K){var Y=c(F,U,K);return Y[1].v=F.read_shift(8,"f"),Y}function g(F,U,K){var Y=Ee(13);return Y.write_shift(1,255),Y.write_shift(2,U),Y.write_shift(2,F),Y.write_shift(8,K,"f"),Y}function v(F,U,K){var Y=F.l+U,te=c(F,U,K);if(te[1].v=F.read_shift(8,"f"),K.qpro)F.l=Y;else{var ie=F.read_shift(2);E(F.slice(F.l,F.l+ie),te),F.l+=ie}return te}function y(F,U,K){var Y=U&32768;return U&=-32769,U=(Y?F:0)+(U>=8192?U-16384:U),(Y?"":"$")+(K?Wr(U):yn(U))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(F,U){va(F,0);for(var K=[],Y=0,te="",ie="",fe="",re="";F.l<F.length;){var ce=F[F.l++];switch(ce){case 0:K.push(F.read_shift(8,"f"));break;case 1:ie=y(U[0].c,F.read_shift(2),!0),te=y(U[0].r,F.read_shift(2),!1),K.push(ie+te);break;case 2:{var ye=y(U[0].c,F.read_shift(2),!0),R=y(U[0].r,F.read_shift(2),!1);ie=y(U[0].c,F.read_shift(2),!0),te=y(U[0].r,F.read_shift(2),!1),K.push(ye+R+":"+ie+te)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:K.push("("+K.pop()+")");break;case 5:K.push(F.read_shift(2));break;case 6:{for(var Be="";ce=F[F.l++];)Be+=String.fromCharCode(ce);K.push('"'+Be.replace(/"/g,'""')+'"')}break;case 8:K.push("-"+K.pop());break;case 23:K.push("+"+K.pop());break;case 22:K.push("NOT("+K.pop()+")");break;case 20:case 21:re=K.pop(),fe=K.pop(),K.push(["AND","OR"][ce-20]+"("+fe+","+re+")");break;default:if(ce<32&&b[ce])re=K.pop(),fe=K.pop(),K.push(fe+b[ce]+re);else if(w[ce]){if(Y=w[ce][1],Y==69&&(Y=F[F.l++]),Y>K.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+K.join("|")+"|");return}var Re=K.slice(-Y);K.length-=Y,K.push(w[ce][0]+"("+Re.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}K.length==1?U[1].f=""+K[0]:console.error("WK1 bad formula parse |"+K.join("|")+"|")}function k(F){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=F.read_shift(2),U[3]=F[F.l++],U[0].c=F[F.l++],U}function C(F,U){var K=k(F);return K[1].t="s",K[1].v=F.read_shift(U-4,"cstr"),K}function S(F,U,K,Y){var te=Ee(6+Y.length);te.write_shift(2,F),te.write_shift(1,K),te.write_shift(1,U),te.write_shift(1,39);for(var ie=0;ie<Y.length;++ie){var fe=Y.charCodeAt(ie);te.write_shift(1,fe>=128?95:fe)}return te.write_shift(1,0),te}function _(F,U){var K=k(F);K[1].v=F.read_shift(2);var Y=K[1].v>>1;if(K[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return K[1].v=Y,K}function A(F,U){var K=k(F),Y=F.read_shift(4),te=F.read_shift(4),ie=F.read_shift(2);if(ie==65535)return Y===0&&te===3221225472?(K[1].t="e",K[1].v=15):Y===0&&te===3489660928?(K[1].t="e",K[1].v=42):K[1].v=0,K;var fe=ie&32768;return ie=(ie&32767)-16446,K[1].v=(1-fe*2)*(te*Math.pow(2,ie+32)+Y*Math.pow(2,ie)),K}function P(F,U,K,Y){var te=Ee(14);if(te.write_shift(2,F),te.write_shift(1,K),te.write_shift(1,U),Y==0)return te.write_shift(4,0),te.write_shift(4,0),te.write_shift(2,65535),te;var ie=0,fe=0,re=0,ce=0;return Y<0&&(ie=1,Y=-Y),fe=Math.log2(Y)|0,Y/=Math.pow(2,fe-31),ce=Y>>>0,ce&2147483648||(Y/=2,++fe,ce=Y>>>0),Y-=ce,ce|=2147483648,ce>>>=0,Y*=Math.pow(2,32),re=Y>>>0,te.write_shift(4,re),te.write_shift(4,ce),fe+=16383+(ie?32768:0),te.write_shift(2,fe),te}function N(F,U){var K=A(F);return F.l+=U-14,K}function I(F,U){var K=k(F),Y=F.read_shift(4);return K[1].v=Y>>6,K}function D(F,U){var K=k(F),Y=F.read_shift(8,"f");return K[1].v=Y,K}function M(F,U){var K=D(F);return F.l+=U-10,K}function ee(F,U){return F[F.l+U-1]==0?F.read_shift(U,"cstr"):""}function Q(F,U){var K=F[F.l++];K>U-1&&(K=U-1);for(var Y="";Y.length<K;)Y+=String.fromCharCode(F[F.l++]);return Y}function W(F,U,K){if(!(!K.qpro||U<21)){var Y=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var te=F.read_shift(U-21,"cstr");return[Y,te]}}function z(F,U){for(var K={},Y=F.l+U;F.l<Y;){var te=F.read_shift(2);if(te==14e3){for(K[te]=[0,""],K[te][0]=F.read_shift(2);F[F.l];)K[te][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return K}function L(F,U){var K=Ee(5+F.length);K.write_shift(2,14e3),K.write_shift(2,U);for(var Y=0;Y<F.length;++Y){var te=F.charCodeAt(Y);K[K.l++]=te>127?95:te}return K[K.l++]=0,K}var ae={0:{n:"BOF",f:Sn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ee},222:{n:"SHEETNAMELP",f:Q},65535:{n:""}},ue={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:_},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:I},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:M},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function Wue(e){var t={},r=e.match(Ya),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=ft(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=LP[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var Hue=function(){var e=tv("t"),t=tv("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Ut(s[1])},l=i.match(t);return l&&(o.s=Wue(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),Gue=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),Kue=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,que=/<(?:\w+:)?r>/,Yue=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function lI(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Ut(sr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=sr(e),r&&(n.h=qP(n.t))):e.match(que)&&(n.r=sr(e),n.t=Ut(sr((e.replace(Yue,"").match(Kue)||[]).join("").replace(Ya,""))),r&&(n.h=Gue(Hue(n.r)))),n):{t:""}}var Xue=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Que=/<(?:\w+:)?(?:si|sstItem)>/g,Jue=/<\/(?:\w+:)?(?:si|sstItem)>/;function Zue(e,t){var r=[],n="";if(!e)return r;var a=e.match(Xue);if(a){n=a[2].replace(Que,"").split(Jue);for(var i=0;i!=n.length;++i){var s=lI(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=ft(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var ede=/^\s|\s$|[\t\n\r]/;function Tz(e,t){if(!t.bookSST)return"";var r=[xn];r[r.length]=Fe("sst",null,{xmlns:Zf[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(ede)&&(i+=' xml:space="preserve"'),i+=">"+tr(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function tde(e){return[e.read_shift(4),e.read_shift(4)]}function rde(e,t){var r=[],n=!1;return Ac(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function nde(e,t){return t||(t=Ee(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var ade=mle;function ide(e){var t=Pi();Ne(t,159,nde(e));for(var r=0;r<e.length;++r)Ne(t,19,ade(e[r]));return Ne(t,160),t.end()}function Az(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Zl(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function sde(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Zl(e,4),t.U=Zl(e,4),t.W=Zl(e,4),t}function ode(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function lde(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(ode(e));return t}function cde(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function ude(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Zl(e,4),t.U=Zl(e,4),t.W=Zl(e,4),t}function dde(e){var t=ude(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Cz(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function kz(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function fde(e){var t=Zl(e);switch(t.Minor){case 2:return[t.Minor,hde(e)];case 3:return[t.Minor,mde()];case 4:return[t.Minor,pde(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function hde(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Cz(e,r),a=kz(e,e.length-e.l);return{t:"Std",h:n,v:a}}function mde(){throw new Error("File is password-protected: ECMA-376 Extensible")}function pde(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ya,function(i){var s=ft(i);switch(wl(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function gde(e,t){var r={},n=r.EncryptionVersionInfo=Zl(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Cz(e,a),t-=a,r.EncryptionVerifier=kz(e,t),r}function vde(e){var t={},r=t.EncryptionVersionInfo=Zl(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function cI(e){var t=0,r,n=Az(e),a=n.length+1,i,s,o,l,c;for(r=Ou(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var Nz=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=Az(s),l=i(o),c=o.length,u=Ou(16),f=0;f!=16;++f)u[f]=0;var h,m,p;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,m=o[o.length-1],u[c]=a(m,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,p=15-o.length;p>0;)h=l>>8,u[c]=a(e[p],h),--c,--p,h=l&255,u[c]=a(o[c],h),--c,--p;return u}}(),yde=function(e,t,r,n,a){a||(a=t),n||(n=Nz(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},xde=function(e){var t=0,r=Nz(e);return function(n){var a=yde("",n,t,r);return t=a[1],a[0]}};function wde(e,t,r,n){var a={key:Sn(e),verificationBytes:Sn(e)};return r.password&&(a.verifier=cI(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=xde(r.password)),a}function bde(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=vde(e):n.Data=gde(e,t),n}function _de(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?bde(e,t-2,n):wde(e,r.biff>=8?t:t-2,r,n),n}var Pz=function(){function e(a,i){switch(i.type){case"base64":return t(ns(a),i);case"binary":return t(a,i);case"buffer":return t(St&&Buffer.isBuffer(a)?a.toString("binary"):ed(a),i);case"array":return t(bf(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,m=0,p,g=-1;p=h.exec(u);){switch(p[0]){case"\\cell":var v=u.slice(m,h.lastIndex-p[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][g]=y:o[lt({r:f,c:g})]=y}break}m=h.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=wt(c),o}function r(a,i){return td(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Vt(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=lt({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(uc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Ede(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function iv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Sde(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function Tde(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function Kw(e,t){if(t===0)return e;var r=Sde(Ede(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),iv(Tde(r))}var Iz=6,Ade=15,Cde=1,Fa=Iz;function sv(e){return Math.floor((e+Math.round(128/Fa)/256)*Fa)}function ov(e){return Math.floor((e-5)/Fa*100+.5)/100}function qw(e){return Math.round((e*Fa+5)/Fa*256)/256}function V2(e){return qw(ov(sv(e)))}function uI(e){var t=Math.abs(e-V2(e)),r=Fa;if(t>.005)for(Fa=Cde;Fa<Ade;++Fa)Math.abs(e-V2(e))<=t&&(t=Math.abs(e-V2(e)),r=Fa);Fa=r}function Du(e){e.width?(e.wpx=sv(e.width),e.wch=ov(e.wpx),e.MDW=Fa):e.wpx?(e.wch=ov(e.wpx),e.width=qw(e.wch),e.MDW=Fa):typeof e.wch=="number"&&(e.width=qw(e.wch),e.wpx=sv(e.width),e.MDW=Fa),e.customWidth&&delete e.customWidth}var kde=96,Oz=kde;function lv(e){return e*96/Oz}function M0(e){return e*Oz/96}var Nde={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Pde(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ya)||[]).forEach(function(s){var o=ft(s);switch(wl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=kr(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=kr(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Ide(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ya)||[]).forEach(function(s){var o=ft(s);switch(wl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Ode(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ya)||[]).forEach(function(s){var o=ft(s);switch(wl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=sr(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?kr(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?kr(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?kr(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?kr(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?kr(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?kr(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?kr(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=LP[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=kr(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Jd[a.color.index];a.color.index==81&&(l=Jd[1]),l||(l=Jd[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Kw(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Dde(e,t,r){t.NumberFmt=[];for(var n=an(ot),a=0;a<n.length;++a)t.NumberFmt[n[a]]=ot[n[a]];var i=e[0].match(Ya);if(i)for(a=0;a<i.length;++a){var s=ft(i[a]);switch(wl(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Ut(sr(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Jl(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function jde(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Fe("numFmt",null,{numFmtId:n,formatCode:tr(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Fe("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Yx=["numFmtId","fillId","fontId","borderId","xfId"],Xx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Rde(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ya)||[]).forEach(function(i){var s=ft(i),o=0;switch(wl(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<Yx.length;++o)n[Yx[o]]&&(n[Yx[o]]=parseInt(n[Yx[o]],10));for(o=0;o<Xx.length;++o)n[Xx[o]]&&(n[Xx[o]]=kr(n[Xx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=kr(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function Mde(e){var t=[];return t[t.length]=Fe("cellXfs",null),e.forEach(function(r){t[t.length]=Fe("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Fe("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Fde=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&Dde(f,u,c),(f=o.match(a))&&Ode(f,u,l,c),(f=o.match(n))&&Ide(f,u,l,c),(f=o.match(i))&&Pde(f,u,l,c),(f=o.match(r))&&Rde(f,u,c),u}}();function Dz(e,t){var r=[xn,Fe("styleSheet",null,{xmlns:Zf[0],"xmlns:vt":Ln.vt})],n;return e.SSF&&(n=jde(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Mde(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Lde(e,t){var r=e.read_shift(2),n=Va(e);return[r,n]}function $de(e,t,r){r||(r=Ee(6+4*t.length)),r.write_shift(2,e),ta(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function Bde(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=ble(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=wle(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Va(e),n}function Ude(e,t){t||(t=Ee(25+4*32)),t.write_shift(2,e.sz*20),_le(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Ww(e.color,t);var n=0;return n=2,t.write_shift(1,n),ta(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Vde=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],z2,zde=Ka;function L3(e,t){t||(t=Ee(4*3+8*7+16*1)),z2||(z2=K_(Vde));var r=z2[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Ww({auto:1},t),Ww({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function Wde(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function jz(e,t,r){r||(r=Ee(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function yp(e,t){return t||(t=Ee(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Hde=Ka;function Gde(e,t){return t||(t=Ee(51)),t.write_shift(1,0),yp(null,t),yp(null,t),yp(null,t),yp(null,t),yp(null,t),t.length>t.l?t.slice(0,t.l):t}function Kde(e,t){return t||(t=Ee(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),zw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function qde(e,t,r){var n=Ee(2052);return n.write_shift(4,e),zw(t,n),zw(r,n),n.length>n.l?n.slice(0,n.l):n}function Yde(e,t,r){var n={};n.NumberFmt=[];for(var a in ot)n.NumberFmt[a]=ot[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Ac(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Jl(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Kw(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function Xde(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Ne(e,615,Eo(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Ne(e,44,$de(a,t[a]))}),Ne(e,616))}}function Qde(e){var t=1;Ne(e,611,Eo(t)),Ne(e,43,Ude({sz:12,color:{theme:1},name:"Calibri",family:2})),Ne(e,612)}function Jde(e){var t=2;Ne(e,603,Eo(t)),Ne(e,45,L3({patternType:"none"})),Ne(e,45,L3({patternType:"gray125"})),Ne(e,604)}function Zde(e){var t=1;Ne(e,613,Eo(t)),Ne(e,46,Gde()),Ne(e,614)}function efe(e){var t=1;Ne(e,626,Eo(t)),Ne(e,47,jz({numFmtId:0},65535)),Ne(e,627)}function tfe(e,t){Ne(e,617,Eo(t.length)),t.forEach(function(r){Ne(e,47,jz(r,0))}),Ne(e,618)}function rfe(e){var t=1;Ne(e,619,Eo(t)),Ne(e,48,Kde({xfId:0,name:"Normal"})),Ne(e,620)}function nfe(e){var t=0;Ne(e,505,Eo(t)),Ne(e,506)}function afe(e){var t=0;Ne(e,508,qde(t,"TableStyleMedium9","PivotStyleMedium4")),Ne(e,509)}function ife(e,t){var r=Pi();return Ne(r,278),Xde(r,e.SSF),Qde(r),Jde(r),Zde(r),efe(r),tfe(r,t.cellXfs),rfe(r),nfe(r),afe(r),Ne(r,279),r.end()}var sfe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function ofe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ya)||[]).forEach(function(a){var i=ft(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[sfe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function lfe(){}function cfe(){}var ufe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,dfe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,ffe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function hfe(e,t,r){t.themeElements={};var n;[["clrScheme",ufe,ofe],["fontScheme",dfe,lfe],["fmtScheme",ffe,cfe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var mfe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Rz(e,t){(!e||e.length===0)&&(e=dI());var r,n={};if(!(r=e.match(mfe)))throw new Error("themeElements not found in theme");return hfe(r[0],n,t),n.raw=e,n}function dI(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[xn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function pfe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=C7(i,{type:"array"})}catch{return}var o=qi(s,"theme/theme/theme1.xml",!0);if(o)return Rz(o,r)}}function gfe(e){return e.read_shift(4)}function vfe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=yfe(e,4);break;case 2:t.xclrValue=mz(e);break;case 3:t.xclrValue=gfe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function yfe(e,t){return Ka(e,t)}function xfe(e,t){return Ka(e,t)}function wfe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=vfe(e);break;case 6:n[1]=xfe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function bfe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(wfe(e,r-e.l));return{ixfe:n,ext:i}}function _fe(e,t){t.forEach(function(r){switch(r[0]){}})}function Efe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Va(e)}}function Sfe(e){var t=Ee(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ta(e.name,t),t.slice(0,t.l)}function Tfe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Afe(e){var t=Ee(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Cfe(e,t){var r=Ee(8+2*t.length);return r.write_shift(4,e),ta(t,r),r.slice(0,r.l)}function kfe(e){return e.l+=4,e.read_shift(4)!=0}function Nfe(e,t){var r=Ee(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Pfe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Ac(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Ife(){var e=Pi();return Ne(e,332),Ne(e,334,Eo(1)),Ne(e,335,Sfe({name:"XLDAPR",version:12e4,flags:3496657072})),Ne(e,336),Ne(e,339,Cfe(1,"XLDAPR")),Ne(e,52),Ne(e,35,Eo(514)),Ne(e,4096,Eo(0)),Ne(e,4097,Ts(1)),Ne(e,36),Ne(e,53),Ne(e,340),Ne(e,337,Nfe(1)),Ne(e,51,Afe([[1,0]])),Ne(e,338),Ne(e,333),e.end()}function Ofe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Ya,function(o){var l=ft(o);switch(wl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Mz(){var e=[xn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Dfe(e){var t=[];if(!e)return t;var r=1;return(e.match(Ya)||[]).forEach(function(n){var a=ft(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function jfe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=lt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Rfe(e,t,r){var n=[];return Ac(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Mfe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Ac(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Ffe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Xh=1024;function Fz(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Fe("xml",null,{"xmlns:v":Wi.v,"xmlns:o":Wi.o,"xmlns:x":Wi.x,"xmlns:mv":Wi.mv}).replace(/\/>/,">"),Fe("o:shapelayout",Fe("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Fe("v:shapetype",[Fe("v:stroke",null,{joinstyle:"miter"}),Fe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Xh<e*1e3;)Xh+=1e3;return t.forEach(function(i){var s=Hr(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Fe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=Fe("v:fill",l,o),u={on:"t",obscured:"t"};++Xh,a=a.concat(["<v:shape"+rv({id:"_x0000_s"+Xh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,Fe("v:shadow",null,u),Fe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ya("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),ya("x:AutoFill","False"),ya("x:Row",String(s.r)),ya("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function $3(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=Hr(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=Vt(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=wt(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function Lfe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=ft(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Hr(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&lI(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function Lz(e){var t=[xn,Fe("comments",null,{xmlns:Zf[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=tr(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(tr(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(ya("t",tr(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(ya("t",tr(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function $fe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ya,function(o,l){var c=ft(o);switch(wl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Bfe(e,t,r){var n=[xn,Fe("ThreadedComments",null,{xmlns:Ln.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(Fe("threadedComment",ya("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function Ufe(e,t){var r=[],n=!1;return e.replace(Ya,function(i){var s=ft(i);switch(wl(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Vfe(e){var t=[xn,Fe("personList",null,{xmlns:Ln.TCMNT,"xmlns:x":Zf[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Fe("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function zfe(e){var t={};t.iauthor=e.read_shift(4);var r=nh(e);return t.rfx=r.s,t.ref=lt(r.s),e.l+=16,t}function Wfe(e,t){return t==null&&(t=Ee(36)),t.write_shift(4,e[1].iauthor),gm(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Hfe=Va;function Gfe(e){return ta(e.slice(0,54))}function Kfe(e,t){var r=[],n=[],a={},i=!1;return Ac(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function qfe(e){var t=Pi(),r=[];return Ne(t,628),Ne(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Ne(t,632,Gfe(a.a)))})}),Ne(t,631),Ne(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Hr(n[0]),e:Hr(n[0])};Ne(t,635,Wfe([i,a])),a.t&&a.t.length>0&&Ne(t,637,gle(a)),Ne(t,636),delete a.iauthor})}),Ne(t,634),Ne(t,629),t.end()}var Yfe="application/vnd.ms-office.vbaProject";function Xfe(e){var t=it.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");it.utils.cfb_add(t,a,e.FileIndex[n].content)}}),it.write(t)}function Qfe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&it.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var $z=["xlsb","xlsm","xlam","biff8","xla"];function Jfe(){return{"!type":"dialog"}}function Zfe(){return{"!type":"dialog"}}function ehe(){return{"!type":"macro"}}function the(){return{"!type":"macro"}}var m0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Wr(u)+(l?"":"$")+yn(c)}return function(a,i){return t=i,a.replace(e,r)}}(),fI=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,hI=function(){return function(t,r){return t.replace(fI,function(n,a,i,s,o,l){var c=ZP(s)-(i?0:r.c),u=JP(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function Bz(e,t){return e.replace(fI,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Wr(ZP(i)+t.c))+(s=="$"?s+o:yn(JP(o)+t.r))})}function rhe(e,t,r){var n=Mi(t),a=n.s,i=Hr(r),s={r:i.r-a.r,c:i.c-a.c};return Bz(e,s)}function nhe(e){return e.length!=1}function B3(e){return e.replace(/_xlfn\./g,"")}function bn(e){e.l+=1}function ju(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Uz(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Vz(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=ju(e),o=ju(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Vz(e){var t=ju(e),r=ju(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function ahe(e,t,r){if(r.biff<8)return Vz(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=ju(e),s=ju(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function zz(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return ihe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=ju(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function ihe(e){var t=ju(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function she(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function ohe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return lhe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function lhe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function che(e,t,r){var n=(e[e.l++]&96)>>5,a=Uz(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function uhe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=Uz(e,i,r);return[n,a,s]}function dhe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function fhe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function hhe(e,t,r){var n=(e[e.l++]&96)>>5,a=ahe(e,t-1,r);return[n,a]}function mhe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function U3(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function phe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function ghe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function vhe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function yhe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function xhe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Wz(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function whe(e){return e.read_shift(2),Wz(e)}function bhe(e){return e.read_shift(2),Wz(e)}function _he(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=zz(e,0,r);return[n,a]}function Ehe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=ohe(e,0,r);return[n,a]}function She(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=zz(e,0,r);return[n,a,i]}function The(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[k0e[a],Kz[a],n]}function Ahe(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Che(e);return[a,(i[0]===0?Kz:C0e)[i[1]]]}function Che(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function khe(e,t,r){e.l+=r&&r.biff==2?3:4}function Nhe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Phe(e){return e.l++,Cc[e.read_shift(1)]}function Ihe(e){return e.l++,e.read_shift(2)}function Ohe(e){return e.l++,e.read_shift(1)!==0}function Dhe(e){return e.l++,Ba(e)}function jhe(e,t,r){return e.l++,fy(e,t-1,r)}function Rhe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=un(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Cc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ba(e);break;case 2:r[1]=ah(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Mhe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?nh:X_)(e));return a}function Fhe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Rhe(e,r.biff);return s}function Lhe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function $he(e,t,r){if(r.biff==5)return Bhe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Bhe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Uhe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Vhe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function zhe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Whe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Hhe=Ka,Ghe=Ka,Khe=Ka;function my(e,t,r){return e.l+=2,[she(e)]}function mI(e){return e.l+=6,[]}var qhe=my,Yhe=mI,Xhe=mI,Qhe=my;function Hz(e){return e.l+=2,[Sn(e),e.read_shift(2)&1]}var Jhe=my,Zhe=Hz,e0e=mI,t0e=my,r0e=my,n0e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function a0e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=n0e[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function i0e(e){return e.l+=2,[e.read_shift(4)]}function s0e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function o0e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function l0e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function c0e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function u0e(e){return e.l+=4,[0,0]}var V3={1:{n:"PtgExp",f:Nhe},2:{n:"PtgTbl",f:Khe},3:{n:"PtgAdd",f:bn},4:{n:"PtgSub",f:bn},5:{n:"PtgMul",f:bn},6:{n:"PtgDiv",f:bn},7:{n:"PtgPower",f:bn},8:{n:"PtgConcat",f:bn},9:{n:"PtgLt",f:bn},10:{n:"PtgLe",f:bn},11:{n:"PtgEq",f:bn},12:{n:"PtgGe",f:bn},13:{n:"PtgGt",f:bn},14:{n:"PtgNe",f:bn},15:{n:"PtgIsect",f:bn},16:{n:"PtgUnion",f:bn},17:{n:"PtgRange",f:bn},18:{n:"PtgUplus",f:bn},19:{n:"PtgUminus",f:bn},20:{n:"PtgPercent",f:bn},21:{n:"PtgParen",f:bn},22:{n:"PtgMissArg",f:bn},23:{n:"PtgStr",f:jhe},26:{n:"PtgSheet",f:s0e},27:{n:"PtgEndSheet",f:o0e},28:{n:"PtgErr",f:Phe},29:{n:"PtgBool",f:Ohe},30:{n:"PtgInt",f:Ihe},31:{n:"PtgNum",f:Dhe},32:{n:"PtgArray",f:mhe},33:{n:"PtgFunc",f:The},34:{n:"PtgFuncVar",f:Ahe},35:{n:"PtgName",f:Lhe},36:{n:"PtgRef",f:_he},37:{n:"PtgArea",f:che},38:{n:"PtgMemArea",f:Uhe},39:{n:"PtgMemErr",f:Hhe},40:{n:"PtgMemNoMem",f:Ghe},41:{n:"PtgMemFunc",f:Vhe},42:{n:"PtgRefErr",f:zhe},43:{n:"PtgAreaErr",f:dhe},44:{n:"PtgRefN",f:Ehe},45:{n:"PtgAreaN",f:hhe},46:{n:"PtgMemAreaN",f:l0e},47:{n:"PtgMemNoMemN",f:c0e},57:{n:"PtgNameX",f:$he},58:{n:"PtgRef3d",f:She},59:{n:"PtgArea3d",f:uhe},60:{n:"PtgRefErr3d",f:Whe},61:{n:"PtgAreaErr3d",f:fhe},255:{}},d0e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},f0e={1:{n:"PtgElfLel",f:Hz},2:{n:"PtgElfRw",f:t0e},3:{n:"PtgElfCol",f:qhe},6:{n:"PtgElfRwV",f:r0e},7:{n:"PtgElfColV",f:Qhe},10:{n:"PtgElfRadical",f:Jhe},11:{n:"PtgElfRadicalS",f:e0e},13:{n:"PtgElfColS",f:Yhe},15:{n:"PtgElfColSV",f:Xhe},16:{n:"PtgElfRadicalLel",f:Zhe},25:{n:"PtgList",f:a0e},29:{n:"PtgSxName",f:i0e},255:{}},h0e={0:{n:"PtgAttrNoop",f:u0e},1:{n:"PtgAttrSemi",f:xhe},2:{n:"PtgAttrIf",f:vhe},4:{n:"PtgAttrChoose",f:phe},8:{n:"PtgAttrGoto",f:ghe},16:{n:"PtgAttrSum",f:khe},32:{n:"PtgAttrBaxcel",f:U3},33:{n:"PtgAttrBaxcel",f:U3},64:{n:"PtgAttrSpace",f:whe},65:{n:"PtgAttrSpaceSemi",f:bhe},128:{n:"PtgAttrIfError",f:yhe},255:{}};function py(e,t,r,n){if(n.biff<8)return Ka(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Fhe(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Mhe(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Ka(e,t)),i}function gy(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=V3[i]||V3[d0e[i]],(i===24||i===25)&&(a=(i===24?f0e:h0e)[e[e.l+1]]),!a||!a.f?Ka(e,t):s.push([a.n,a.f(e,t,r)]);return s}function m0e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var p0e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function g0e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Gz(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function z3(e,t,r){var n=Gz(e,t,r);return n=="#REF"?n:g0e(n,r)}function Ra(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,m,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,v="",y=0,w=e[0].length;y<w;++y){var b=e[0][y];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:v=en(" ",e[0][g][1][1]);break;case 1:v=en("\r",e[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}c=c+v,g=-1}o.push(c+p0e[b[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=og(b[1][1],s,a),o.push(lg(u,i));break;case"PtgRefN":u=r?og(b[1][1],r,a):b[1][1],o.push(lg(u,i));break;case"PtgRef3d":f=b[1][1],u=og(b[1][2],s,a),p=z3(n,f,a),o.push(p+"!"+lg(u,i));break;case"PtgFunc":case"PtgFuncVar":var E=b[1][0],k=b[1][1];E||(E=0),E&=127;var C=E==0?[]:o.slice(-E);o.length-=E,k==="User"&&(k=C.shift()),o.push(k+"("+C.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":m=y3(b[1][1],r?{s:r}:s,a),o.push($2(m,a));break;case"PtgArea":m=y3(b[1][1],s,a),o.push($2(m,a));break;case"PtgArea3d":f=b[1][1],m=b[1][2],p=z3(n,f,a),o.push(p+"!"+$2(m,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],_=S?S.Name:"SH33TJSNAME"+String(h);_&&_.slice(0,6)=="_xlfn."&&!a.xlfn&&(_=_.slice(6)),o.push(_);break;case"PtgNameX":var A=b[1][1];h=b[1][2];var P;if(a.biff<=5)A<0&&(A=-A),n[A]&&(P=n[A][h]);else{var N="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][h]&&n[A][h].itab>0&&(N=n.SheetNames[n[A][h].itab-1]+"!"):N=n.SheetNames[h-1]+"!"),n[A]&&n[A][h])N+=n[A][h].Name;else if(n[0]&&n[0][h])N+=n[0][h].Name;else{var I=(Gz(n,A,a)||"").split(";;");I[h-1]?N=I[h-1]:N+="SH33TJSERRX"}o.push(N);break}P||(P={Name:"SH33TJSERRY"}),o.push(P.Name);break;case"PtgParen":var D="(",M=")";if(g>=0){switch(v="",e[0][g][1][0]){case 2:D=en(" ",e[0][g][1][1])+D;break;case 3:D=en("\r",e[0][g][1][1])+D;break;case 4:M=en(" ",e[0][g][1][1])+M;break;case 5:M=en("\r",e[0][g][1][1])+M;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(D+o.pop()+M);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var ee={c:r.c,r:r.r};if(n.sharedf[lt(u)]){var Q=n.sharedf[lt(u)];o.push(Ra(Q,s,ee,n,a))}else{var W=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Ra(c[1],s,ee,n,a)),W=!0;break}W||o.push(b[1])}break;case"PtgArray":o.push("{"+m0e(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&z.indexOf(e[0][y][0])==-1){b=e[0][g];var L=!0;switch(b[1][0]){case 4:L=!1;case 0:v=en(" ",b[1][1]);break;case 5:L=!1;case 1:v=en("\r",b[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((L?v:"")+o.pop()+(L?"":v)),g=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function v0e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Ka(e,t-2)];var o=gy(e,s,r);return t!==s+a&&(i=py(e,t-s-a,o,r)),e.l=n,[o,i]}function y0e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Ka(e,t-2)];var o=gy(e,s,r);return t!==s+a&&(i=py(e,t-s-a,o,r)),e.l=n,[o,i]}function x0e(e,t,r,n){var a=e.l+t,i=gy(e,n,r),s;return a!==e.l&&(s=py(e,a-e.l,i,r)),[i,s]}function w0e(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=gy(e,i,r);return i==65535?[[],Ka(e,t-2)]:(t!==i+2&&(a=py(e,n-i-2,s,r)),[s,a])}function b0e(e){var t;if(Ul(e,e.l+6)!==65535)return[Ba(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function _0e(e){if(e==null){var t=Ee(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return _f(e);return _f(0)}function W2(e,t,r){var n=e.l+t,a=bl(e);r.biff==2&&++e.l;var i=b0e(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=y0e(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function E0e(e,t,r,n,a){var i=Sf(t,r,a),s=_0e(e.v),o=Ee(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=Ee(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var f=Zn([i,s,o,c]);return f}function Q_(e,t,r){var n=e.read_shift(4),a=gy(e,n,r),i=e.read_shift(4),s=i>0?py(e,i,a,r):null;return[a,s]}var S0e=Q_,J_=Q_,T0e=Q_,A0e=Q_,C0e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Kz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},k0e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function W3(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function N0e(e){var t="of:="+e.replace(fI,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function H2(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function P0e(e){return e.replace(/\./,"!")}var ug={},p0={},dg=typeof Map<"u";function pI(e,t,r){var n=0,a=e.length;if(r){if(dg?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=dg?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(dg?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Z_(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(Fa=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=ov(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=qw(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function tf(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function rd(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Jl(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function qz(e,t,r,n,a,i){try{n.cellNF&&(e.z=ot[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ir(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(ot[t]==null&&Jl(Coe[t]||"General",t),e.t==="e")e.w=e.w||Cc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ev(e.v);else if(e.t==="d"){var s=Un(e.v);(s|0)===s?e.w=s.toString(10):e.w=ev(s)}else{if(e.v===void 0)return"";e.w=wf(e.v,p0)}else e.t==="d"?e.w=Vs(t,Un(e.v),p0):e.w=Vs(t,e.v,p0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Kw(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Kw(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function I0e(e,t,r){if(e&&e["!ref"]){var n=Vt(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function O0e(e,t){var r=Vt(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=wt(r))}var D0e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,j0e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,R0e=/<(?:\w:)?hyperlink [^>]*>/mg,M0e=/"(\w*:\w*)"/,F0e=/<(?:\w:)?col\b[^>]*[\/]?>/g,L0e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,$0e=/<(?:\w:)?pageMargins[^>]*\/>/g,Yz=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,B0e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,U0e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function V0e(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(j0e);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(Yz);h?gI(h[0],o,a,r):(h=c.match(B0e))&&W0e(h[0],h[1]||"",o,a,r);var m=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var p=c.slice(m,m+50).match(M0e);p&&O0e(o,p[1])}var g=c.match(U0e);g&&g[1]&&nme(g[1],a);var v=[];if(t.cellStyles){var y=c.match(F0e);y&&J0e(v,y)}f&&sme(f[1],o,t,l,i,s);var w=u.match(L0e);w&&(o["!autofilter"]=eme(w[0]));var b=[],E=u.match(D0e);if(E)for(m=0;m!=E.length;++m)b[m]=Vt(E[m].slice(E[m].indexOf('"')+1));var k=u.match(R0e);k&&Y0e(o,k,n);var C=u.match($0e);if(C&&(o["!margins"]=X0e(ft(C[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=wt(l)),t.sheetRows>0&&o["!ref"]){var S=Vt(o["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=wt(S))}return v.length>0&&(o["!cols"]=v),b.length>0&&(o["!merges"]=b),o}function z0e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+wt(e[r])+'"/>';return t+"</mergeCells>"}function gI(e,t,r,n){var a=ft(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Ut(sr(a.codeName)))}function W0e(e,t,r,n,a){gI(e.slice(0,e.indexOf(">")),r,n,a)}function H0e(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,s.codeName=Yo(tr(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+Fe("outlinePr",null,c)}!i&&!o||(a[a.length]=Fe("sheetPr",o,s))}var G0e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],K0e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function q0e(e){var t={sheet:1};return G0e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),K0e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=cI(e.password).toString(16).toUpperCase()),Fe("sheetProtection",null,t)}function Y0e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=ft(sr(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Ut(i.location))):(i.Target="#"+Ut(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Vt(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=lt({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function X0e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Q0e(e){return tf(e),Fe("pageMargins",null,e)}function J0e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=ft(t[n],!0);a.hidden&&(a.hidden=kr(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,uI(a.width)),Du(a);i<=s;)e[i++]=Or(a)}}function Z0e(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Fe("col",null,Z_(a,n)));return r[r.length]="</cols>",r.join("")}function eme(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function tme(e,t,r,n){var a=typeof e.ref=="string"?e.ref:wt(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Mi(a);s.s.r==s.e.r&&(s.e.r=Mi(t["!ref"]).e.r,a=wt(s));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Fe("autoFilter",null,{ref:a})}var rme=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function nme(e,t){t.Views||(t.Views=[{}]),(e.match(rme)||[]).forEach(function(r,n){var a=ft(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),kr(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function ame(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Fe("sheetViews",Fe("sheetView",null,a),{})}function ime(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Cc[e.v];break;case"d":n&&n.cellDates?a=Ir(e.v,-1).toISOString():(e=Or(e),e.t="n",a=""+(e.v=Un(Ir(e.v)))),typeof e.z>"u"&&(e.z=ot[14]);break;default:a=e.v;break}var o=ya("v",tr(a)),l={r:t},c=rd(n.cellXfs,e,n);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=ya("v",""+pI(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Fe("f",tr(e.f),u)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),Fe("c",o,l)}var sme=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=tv("v"),s=tv("f");return function(l,c,u,f,h,m){for(var p=0,g="",v=[],y=[],w=0,b=0,E=0,k="",C,S,_=0,A=0,P,N,I=0,D=0,M=Array.isArray(m.CellXf),ee,Q=[],W=[],z=Array.isArray(c),L=[],ae={},ue=!1,F=!!u.sheetStubs,U=l.split(t),K=0,Y=U.length;K!=Y;++K){g=U[K].trim();var te=g.length;if(te!==0){var ie=0;e:for(p=0;p<te;++p)switch(g[p]){case">":if(g[p-1]!="/"){++p;break e}if(u&&u.cellStyles){if(S=ft(g.slice(ie,p),!0),_=S.r!=null?parseInt(S.r,10):_+1,A=-1,u.sheetRows&&u.sheetRows<_)continue;ae={},ue=!1,S.ht&&(ue=!0,ae.hpt=parseFloat(S.ht),ae.hpx=M0(ae.hpt)),S.hidden=="1"&&(ue=!0,ae.hidden=!0),S.outlineLevel!=null&&(ue=!0,ae.level=+S.outlineLevel),ue&&(L[_-1]=ae)}break;case"<":ie=p;break}if(ie>=p)break;if(S=ft(g.slice(ie,p),!0),_=S.r!=null?parseInt(S.r,10):_+1,A=-1,!(u.sheetRows&&u.sheetRows<_)){f.s.r>_-1&&(f.s.r=_-1),f.e.r<_-1&&(f.e.r=_-1),u&&u.cellStyles&&(ae={},ue=!1,S.ht&&(ue=!0,ae.hpt=parseFloat(S.ht),ae.hpx=M0(ae.hpt)),S.hidden=="1"&&(ue=!0,ae.hidden=!0),S.outlineLevel!=null&&(ue=!0,ae.level=+S.outlineLevel),ue&&(L[_-1]=ae)),v=g.slice(p).split(e);for(var fe=0;fe!=v.length&&v[fe].trim().charAt(0)=="<";++fe);for(v=v.slice(fe),p=0;p!=v.length;++p)if(g=v[p].trim(),g.length!==0){if(y=g.match(r),w=p,b=0,E=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,y!=null&&y.length===2){for(w=0,k=y[1],b=0;b!=k.length&&!((E=k.charCodeAt(b)-64)<1||E>26);++b)w=26*w+E;--w,A=w}else++A;for(b=0;b!=g.length&&g.charCodeAt(b)!==62;++b);if(++b,S=ft(g.slice(0,b),!0),S.r||(S.r=lt({r:_-1,c:A})),k=g.slice(b),C={t:""},(y=k.match(i))!=null&&y[1]!==""&&(C.v=Ut(y[1])),u.cellFormula){if((y=k.match(s))!=null&&y[1]!==""){if(C.f=Ut(sr(y[1])).replace(/\r\n/g,`
`),u.xlfn||(C.f=B3(C.f)),y[0].indexOf('t="array"')>-1)C.F=(k.match(a)||[])[1],C.F.indexOf(":")>-1&&Q.push([Vt(C.F),C.F]);else if(y[0].indexOf('t="shared"')>-1){N=ft(y[0]);var re=Ut(sr(y[1]));u.xlfn||(re=B3(re)),W[parseInt(N.si,10)]=[N,re,S.r]}}else(y=k.match(/<f[^>]*\/>/))&&(N=ft(y[0]),W[N.si]&&(C.f=rhe(W[N.si][1],W[N.si][2],S.r)));var ce=Hr(S.r);for(b=0;b<Q.length;++b)ce.r>=Q[b][0].s.r&&ce.r<=Q[b][0].e.r&&ce.c>=Q[b][0].s.c&&ce.c<=Q[b][0].e.c&&(C.F=Q[b][1])}if(S.t==null&&C.v===void 0)if(C.f||C.F)C.v=0,C.t="n";else if(F)C.t="z";else continue;else C.t=S.t||"n";switch(f.s.c>A&&(f.s.c=A),f.e.c<A&&(f.e.c=A),C.t){case"n":if(C.v==""||C.v==null){if(!F)continue;C.t="z"}else C.v=parseFloat(C.v);break;case"s":if(typeof C.v>"u"){if(!F)continue;C.t="z"}else P=ug[parseInt(C.v,10)],C.v=P.t,C.r=P.r,u.cellHTML&&(C.h=P.h);break;case"str":C.t="s",C.v=C.v!=null?sr(C.v):"",u.cellHTML&&(C.h=qP(C.v));break;case"inlineStr":y=k.match(n),C.t="s",y!=null&&(P=lI(y[1]))?(C.v=P.t,u.cellHTML&&(C.h=P.h)):C.v="";break;case"b":C.v=kr(C.v);break;case"d":u.cellDates?C.v=Ir(C.v,1):(C.v=Un(Ir(C.v,1)),C.t="n");break;case"e":(!u||u.cellText!==!1)&&(C.w=C.v),C.v=Q7[C.v];break}if(I=D=0,ee=null,M&&S.s!==void 0&&(ee=m.CellXf[S.s],ee!=null&&(ee.numFmtId!=null&&(I=ee.numFmtId),u.cellStyles&&ee.fillId!=null&&(D=ee.fillId))),qz(C,I,D,u,h,m),u.cellDates&&M&&C.t=="n"&&hm(ot[I])&&(C.t="d",C.v=Y_(C.v)),S.cm&&u.xlmeta){var ye=(u.xlmeta.Cell||[])[+S.cm-1];ye&&ye.type=="XLDAPR"&&(C.D=!0)}if(z){var R=Hr(S.r);c[R.r]||(c[R.r]=[]),c[R.r][R.c]=C}else c[S.r]=C}}}}L.length>0&&(c["!rows"]=L)}}();function ome(e,t,r,n){var a=[],i=[],s=Vt(e["!ref"]),o="",l,c="",u=[],f=0,h=0,m=e["!rows"],p=Array.isArray(e),g={r:c},v,y=-1;for(h=s.s.c;h<=s.e.c;++h)u[h]=Wr(h);for(f=s.s.r;f<=s.e.r;++f){for(i=[],c=yn(f),h=s.s.c;h<=s.e.c;++h){l=u[h]+c;var w=p?(e[f]||[])[h]:e[l];w!==void 0&&(o=ime(w,l,e,t))!=null&&i.push(o)}(i.length>0||m&&m[f])&&(g={r:c},m&&m[f]&&(v=m[f],v.hidden&&(g.hidden=1),y=-1,v.hpx?y=lv(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(g.ht=y,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),a[a.length]=Fe("row",i.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},v=m[f],v.hidden&&(g.hidden=1),y=-1,v.hpx?y=lv(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(g.ht=y,g.customHeight=1),v.level&&(g.outlineLevel=v.level),a[a.length]=Fe("row","",g));return a.join("")}function Xz(e,t,r,n){var a=[xn,Fe("worksheet",null,{xmlns:Zf[0],"xmlns:r":Ln.r})],i=r.SheetNames[e],s=0,o="",l=r.Sheets[i];l==null&&(l={});var c=l["!ref"]||"A1",u=Vt(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=wt(u)}n||(n={}),l["!comments"]=[];var f=[];H0e(l,r,e,t,a),a[a.length]=Fe("dimension",null,{ref:c}),a[a.length]=ame(l,t,e,r),t.sheetFormat&&(a[a.length]=Fe("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=Z0e(l,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=ome(l,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=q0e(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=tme(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=z0e(l["!merges"]));var h=-1,m,p=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(p=Zt(n,-1,tr(g[1].Target).replace(/#.*$/,""),Tt.HLINK),m["r:id"]="rId"+p),(h=g[1].Target.indexOf("#"))>-1&&(m.location=tr(g[1].Target.slice(h+1))),g[1].Tooltip&&(m.tooltip=tr(g[1].Tooltip)),a[a.length]=Fe("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=Q0e(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ya("ignoredErrors",Fe("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(p=Zt(n,-1,"../drawings/drawing"+(e+1)+".xml",Tt.DRAW),a[a.length]=Fe("drawing",null,{"r:id":"rId"+p}),l["!drawing"]=f),l["!comments"].length>0&&(p=Zt(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Tt.VML),a[a.length]=Fe("legacyDrawing",null,{"r:id":"rId"+p}),l["!legacy"]=p),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function lme(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function cme(e,t,r){var n=Ee(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=lv(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,h=-1,m=u<<10;m<u+1<<10;++m){c.c=m;var p=Array.isArray(r)?(r[c.r]||[])[c.c]:r[lt(c)];p&&(f<0&&(f=m),h=m)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var g=n.l;return n.l=l,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function ume(e,t,r,n){var a=cme(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Ne(e,0,a)}var dme=nh,fme=gm;function hme(){}function mme(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=vle(e),r}function pme(e,t,r){r==null&&(r=Ee(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Ww({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),G7(e,r),r.slice(0,r.l)}function gme(e){var t=qs(e);return[t]}function vme(e,t,r){return r==null&&(r=Ee(8)),eh(t,r)}function yme(e){var t=th(e);return[t]}function xme(e,t,r){return r==null&&(r=Ee(4)),rh(t,r)}function wme(e){var t=qs(e),r=e.read_shift(1);return[t,r,"b"]}function bme(e,t,r){return r==null&&(r=Ee(9)),eh(t,r),r.write_shift(1,e.v?1:0),r}function _me(e){var t=th(e),r=e.read_shift(1);return[t,r,"b"]}function Eme(e,t,r){return r==null&&(r=Ee(5)),rh(t,r),r.write_shift(1,e.v?1:0),r}function Sme(e){var t=qs(e),r=e.read_shift(1);return[t,r,"e"]}function Tme(e,t,r){return r==null&&(r=Ee(9)),eh(t,r),r.write_shift(1,e.v),r}function Ame(e){var t=th(e),r=e.read_shift(1);return[t,r,"e"]}function Cme(e,t,r){return r==null&&(r=Ee(8)),rh(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function kme(e){var t=qs(e),r=e.read_shift(4);return[t,r,"s"]}function Nme(e,t,r){return r==null&&(r=Ee(12)),eh(t,r),r.write_shift(4,t.v),r}function Pme(e){var t=th(e),r=e.read_shift(4);return[t,r,"s"]}function Ime(e,t,r){return r==null&&(r=Ee(8)),rh(t,r),r.write_shift(4,t.v),r}function Ome(e){var t=qs(e),r=Ba(e);return[t,r,"n"]}function Dme(e,t,r){return r==null&&(r=Ee(16)),eh(t,r),_f(e.v,r),r}function Qz(e){var t=th(e),r=Ba(e);return[t,r,"n"]}function jme(e,t,r){return r==null&&(r=Ee(12)),rh(t,r),_f(e.v,r),r}function Rme(e){var t=qs(e),r=nI(e);return[t,r,"n"]}function Mme(e,t,r){return r==null&&(r=Ee(12)),eh(t,r),K7(e.v,r),r}function Fme(e){var t=th(e),r=nI(e);return[t,r,"n"]}function Lme(e,t,r){return r==null&&(r=Ee(8)),rh(t,r),K7(e.v,r),r}function $me(e){var t=qs(e),r=eI(e);return[t,r,"is"]}function Bme(e){var t=qs(e),r=Va(e);return[t,r,"str"]}function Ume(e,t,r){return r==null&&(r=Ee(12+4*e.v.length)),eh(t,r),ta(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Vme(e){var t=th(e),r=Va(e);return[t,r,"str"]}function zme(e,t,r){return r==null&&(r=Ee(8+4*e.v.length)),rh(t,r),ta(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Wme(e,t,r){var n=e.l+t,a=qs(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=J_(e,n-e.l,r);s[3]=Ra(o,null,a,r.supbooks,r)}else e.l=n;return s}function Hme(e,t,r){var n=e.l+t,a=qs(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=J_(e,n-e.l,r);s[3]=Ra(o,null,a,r.supbooks,r)}else e.l=n;return s}function Gme(e,t,r){var n=e.l+t,a=qs(e);a.r=r["!row"];var i=Ba(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=J_(e,n-e.l,r);s[3]=Ra(o,null,a,r.supbooks,r)}else e.l=n;return s}function Kme(e,t,r){var n=e.l+t,a=qs(e);a.r=r["!row"];var i=Va(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=J_(e,n-e.l,r);s[3]=Ra(o,null,a,r.supbooks,r)}else e.l=n;return s}var qme=nh,Yme=gm;function Xme(e,t){return t==null&&(t=Ee(4)),t.write_shift(4,e),t}function Qme(e,t){var r=e.l+t,n=nh(e),a=tI(e),i=Va(e),s=Va(e),o=Va(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function Jme(e,t){var r=Ee(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));gm({s:Hr(e[0]),e:Hr(e[0])},r),rI("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return ta(a||"",r),ta(e[1].Tooltip||"",r),ta("",r),r.slice(0,r.l)}function Zme(){}function epe(e,t,r){var n=e.l+t,a=q7(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=S0e(e,n-e.l,r);s[1]=o}else e.l=n;return s}function tpe(e,t,r){var n=e.l+t,a=nh(e),i=[a];if(r.cellFormula){var s=A0e(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function rpe(e,t,r){r==null&&(r=Ee(18));var n=Z_(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Jz=["left","right","top","bottom","header","footer"];function npe(e){var t={};return Jz.forEach(function(r){t[r]=Ba(e)}),t}function ape(e,t){return t==null&&(t=Ee(6*8)),tf(e),Jz.forEach(function(r){_f(e[r],t)}),t}function ipe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function spe(e,t,r){r==null&&(r=Ee(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function ope(e){var t=Ee(24);return t.write_shift(4,4),t.write_shift(4,1),gm(e,t),t}function lpe(e,t){return t==null&&(t=Ee(16*4+2)),t.write_shift(2,e.password?cI(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function cpe(){}function upe(){}function dpe(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,p,g,v,y,w,b,E,k,C=[];o.biff=12,o["!row"]=0;var S=0,_=!1,A=[],P={},N=o.supbooks||a.supbooks||[[]];if(N.sharedf=P,N.arrayf=A,N.SheetNames=a.SheetNames||a.Sheets.map(function(z){return z.name}),!o.supbooks&&(o.supbooks=N,a.Names))for(var I=0;I<a.Names.length;++I)N[0][I+1]=a.Names[I];var D=[],M=[],ee=!1;cv[16]={n:"BrtShortReal",f:Qz};var Q;if(Ac(e,function(L,ae,ue){if(!h)switch(ue){case 148:c=L;break;case 0:m=L,o.sheetRows&&o.sheetRows<=m.r&&(h=!0),E=yn(v=m.r),o["!row"]=m.r,(L.hidden||L.hpt||L.level!=null)&&(L.hpt&&(L.hpx=M0(L.hpt)),M[L.r]=L);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:L[2]},L[2]){case"n":p.v=L[1];break;case"s":b=ug[L[1]],p.v=b.t,p.r=b.r;break;case"b":p.v=!!L[1];break;case"e":p.v=L[1],o.cellText!==!1&&(p.w=Cc[p.v]);break;case"str":p.t="s",p.v=L[1];break;case"is":p.t="s",p.v=L[1].t;break}if((g=s.CellXf[L[0].iStyleRef])&&qz(p,g.numFmtId,null,o,i,s),y=L[0].c==-1?y+1:L[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=p):l[Wr(y)+E]=p,o.cellFormula){for(_=!1,S=0;S<A.length;++S){var F=A[S];m.r>=F[0].s.r&&m.r<=F[0].e.r&&y>=F[0].s.c&&y<=F[0].e.c&&(p.F=wt(F[0]),_=!0)}!_&&L.length>3&&(p.f=L[3])}if(u.s.r>m.r&&(u.s.r=m.r),u.s.c>y&&(u.s.c=y),u.e.r<m.r&&(u.e.r=m.r),u.e.c<y&&(u.e.c=y),o.cellDates&&g&&p.t=="n"&&hm(ot[g.numFmtId])){var U=Ud(p.v);U&&(p.t="d",p.v=new Date(U.y,U.m-1,U.d,U.H,U.M,U.S,U.u))}Q&&(Q.type=="XLDAPR"&&(p.D=!0),Q=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;p={t:"z",v:void 0},y=L[0].c==-1?y+1:L[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=p):l[Wr(y)+E]=p,u.s.r>m.r&&(u.s.r=m.r),u.s.c>y&&(u.s.c=y),u.e.r<m.r&&(u.e.r=m.r),u.e.c<y&&(u.e.c=y),Q&&(Q.type=="XLDAPR"&&(p.D=!0),Q=void 0);break;case 176:C.push(L);break;case 49:Q=((o.xlmeta||{}).Cell||[])[L-1];break;case 494:var K=n["!id"][L.relId];for(K?(L.Target=K.Target,L.loc&&(L.Target+="#"+L.loc),L.Rel=K):L.relId==""&&(L.Target="#"+L.loc),v=L.rfx.s.r;v<=L.rfx.e.r;++v)for(y=L.rfx.s.c;y<=L.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=L):(w=lt({c:y,r:v}),l[w]||(l[w]={t:"z",v:void 0}),l[w].l=L);break;case 426:if(!o.cellFormula)break;A.push(L),k=o.dense?l[v][y]:l[Wr(y)+E],k.f=Ra(L[1],u,{r:m.r,c:y},N,o),k.F=wt(L[0]);break;case 427:if(!o.cellFormula)break;P[lt(L[0].s)]=L[1],k=o.dense?l[v][y]:l[Wr(y)+E],k.f=Ra(L[1],u,{r:m.r,c:y},N,o);break;case 60:if(!o.cellStyles)break;for(;L.e>=L.s;)D[L.e--]={width:L.w/256,hidden:!!(L.flags&1),level:L.level},ee||(ee=!0,uI(L.w/256)),Du(D[L.e+1]);break;case 161:l["!autofilter"]={ref:wt(L)};break;case 476:l["!margins"]=L;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),L.name&&(a.Sheets[r].CodeName=L.name),(L.above||L.left)&&(l["!outline"]={above:L.above,left:L.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),L.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ae.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+ue.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=wt(c||u)),o.sheetRows&&l["!ref"]){var W=Vt(l["!ref"]);o.sheetRows<=+W.e.r&&(W.e.r=o.sheetRows-1,W.e.r>u.e.r&&(W.e.r=u.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>u.e.c&&(W.e.c=u.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),l["!fullref"]=l["!ref"],l["!ref"]=wt(W))}return C.length>0&&(l["!merges"]=C),D.length>0&&(l["!cols"]=D),M.length>0&&(l["!rows"]=M),l}function fpe(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Or(t),t.z=t.z||ot[14],t.v=Un(Ir(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=rd(a.cellXfs,t,a),t.l&&i["!links"].push([lt(l),t.l]),t.c&&i["!comments"].push([lt(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=pI(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,s?Ne(e,18,Ime(t,l)):Ne(e,7,Nme(t,l))):(l.t="str",s?Ne(e,17,zme(t,l)):Ne(e,6,Ume(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?Ne(e,13,Lme(t,l)):Ne(e,2,Mme(t,l)):s?Ne(e,16,jme(t,l)):Ne(e,5,Dme(t,l)),!0;case"b":return l.t="b",s?Ne(e,15,Eme(t,l)):Ne(e,4,bme(t,l)),!0;case"e":return l.t="e",s?Ne(e,14,Cme(t,l)):Ne(e,3,Tme(t,l)),!0}return s?Ne(e,12,xme(t,l)):Ne(e,1,vme(t,l)),!0}function hpe(e,t,r,n){var a=Vt(t["!ref"]||"A1"),i,s="",o=[];Ne(e,145);var l=Array.isArray(t),c=a.e.r;t["!rows"]&&(c=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=c;++u){s=yn(u),ume(e,t,a,u);var f=!1;if(u<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){u===a.s.r&&(o[h]=Wr(h)),i=o[h]+s;var m=l?(t[u]||[])[h]:t[i];if(!m){f=!1;continue}f=fpe(e,m,u,h,n,t,f)}}Ne(e,146)}function mpe(e,t){!t||!t["!merges"]||(Ne(e,177,Xme(t["!merges"].length)),t["!merges"].forEach(function(r){Ne(e,176,Yme(r))}),Ne(e,178))}function ppe(e,t){!t||!t["!cols"]||(Ne(e,390),t["!cols"].forEach(function(r,n){r&&Ne(e,60,rpe(n,r))}),Ne(e,391))}function gpe(e,t){!t||!t["!ref"]||(Ne(e,648),Ne(e,649,ope(Vt(t["!ref"]))),Ne(e,650))}function vpe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Zt(r,-1,n[1].Target.replace(/#.*$/,""),Tt.HLINK);Ne(e,494,Jme(n,a))}}),delete t["!links"]}function ype(e,t,r,n){if(t["!comments"].length>0){var a=Zt(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Tt.VML);Ne(e,551,rI("rId"+a)),t["!legacy"]=a}}function xpe(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:wt(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Mi(i);o.s.r==o.e.r&&(o.e.r=Mi(t["!ref"]).e.r,i=wt(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Ne(e,161,gm(Vt(i))),Ne(e,162)}}function wpe(e,t,r){Ne(e,133),Ne(e,137,spe(t,r)),Ne(e,138),Ne(e,134)}function bpe(e,t){t["!protect"]&&Ne(e,535,lpe(t["!protect"]))}function _pe(e,t,r,n){var a=Pi(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=Vt(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Ne(a,129),(r.vbaraw||s["!outline"])&&Ne(a,147,pme(o,s["!outline"])),Ne(a,148,fme(l)),wpe(a,s,r.Workbook),ppe(a,s),hpe(a,s,e,t),bpe(a,s),xpe(a,s,r,e),mpe(a,s),vpe(a,s,n),s["!margins"]&&Ne(a,476,ape(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&gpe(a,s),ype(a,s,e,n),Ne(a,130),a.end()}function Epe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Ut((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function Spe(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Epe(f);u.s.r=u.s.c=0,u.e.c=o,c=Wr(o),h[0].forEach(function(m,p){s[c+yn(p)]={t:"n",v:m,z:h[1]},l=p}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=wt(u)),s}function Tpe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(Yz);return o&&gI(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Ape(e,t){e.l+=10;var r=Va(e);return{name:r}}function Cpe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Ac(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var vI=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],kpe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Npe=[],Ppe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function H3(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=kr(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function G3(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=kr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Zz(e){G3(e.WBProps,vI),G3(e.CalcPr,Ppe),H3(e.WBView,kpe),H3(e.Sheets,Npe),p0.date1904=kr(e.WBProps.date1904)}function Ipe(e){return!e.Workbook||!e.Workbook.WBProps?"false":kr(e.Workbook.WBProps.date1904)?"true":"false"}var Ope="][*?/\\".split("");function eW(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Ope.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Dpe(e,t,r){e.forEach(function(n,a){eW(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function jpe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Dpe(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)I0e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var Rpe=/<\w+:workbook/;function Mpe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Ya,function(l,c){var u=ft(l);switch(wl(u[0])){case"<?xml":break;case"<workbook":l.match(Rpe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":vI.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=kr(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=sr(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Ut(sr(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=sr(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),kr(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=Ut(sr(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Zf.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Zz(r),r}function tW(e){var t=[xn];t[t.length]=Fe("workbook",null,{xmlns:Zf[0],"xmlns:r":Ln.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(vI.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Fe("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:tr(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=Fe("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=Fe("definedName",tr(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Fpe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=wC(e),r.name=Va(e),r}function Lpe(e,t){return t||(t=Ee(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),rI(e.strRelID,t),ta(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function $pe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Va(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Bpe(e,t){t||(t=Ee(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),G7(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Upe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Vpe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=yle(e),s=T0e(e,0,r),o=tI(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function zpe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],cv[16]={n:"BrtFRTArchID$",f:Upe},Ac(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Ra(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),Zz(r),r.Names=i,r.supbooks=s,r}function Wpe(e,t){Ne(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Ne(e,156,Lpe(a))}Ne(e,144)}function Hpe(e,t){t||(t=Ee(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return ta("SheetJS",t),ta(Fw.version,t),ta(Fw.version,t),ta("7262",t),t.length>t.l?t.slice(0,t.l):t}function Gpe(e,t){t||(t=Ee(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Kpe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Ne(e,135),Ne(e,158,Gpe(a)),Ne(e,136))}}function qpe(e,t){var r=Pi();return Ne(r,131),Ne(r,128,Hpe()),Ne(r,153,Bpe(e.Workbook&&e.Workbook.WBProps||null)),Kpe(r,e),Wpe(r,e),Ne(r,132),r.end()}function Ype(e,t,r){return t.slice(-4)===".bin"?zpe(e,r):Mpe(e,r)}function Xpe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?dpe(e,n,r,a,i,s,o):V0e(e,n,r,a,i,s,o)}function Qpe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Cpe(e,n,r,a,i):Tpe(e,n,r,a,i)}function Jpe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?ehe():the()}function Zpe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Jfe():Zfe()}function ege(e,t,r,n){return t.slice(-4)===".bin"?Yde(e,r,n):Fde(e,r,n)}function tge(e,t,r){return Rz(e,r)}function rge(e,t,r){return t.slice(-4)===".bin"?rde(e,r):Zue(e,r)}function nge(e,t,r){return t.slice(-4)===".bin"?Kfe(e,r):Lfe(e,r)}function age(e,t,r){return t.slice(-4)===".bin"?Rfe(e):Dfe(e)}function ige(e,t,r,n){return r.slice(-4)===".bin"?Mfe(e,t,r,n):void 0}function sge(e,t,r){return t.slice(-4)===".bin"?Pfe(e,t,r):Ofe(e,t,r)}function oge(e,t,r){return(t.slice(-4)===".bin"?qpe:tW)(e)}function lge(e,t,r,n,a){return(t.slice(-4)===".bin"?_pe:Xz)(e,r,n,a)}function cge(e,t,r){return(t.slice(-4)===".bin"?ife:Dz)(e,r)}function uge(e,t,r){return(t.slice(-4)===".bin"?ide:Tz)(e,r)}function dge(e,t,r){return(t.slice(-4)===".bin"?qfe:Lz)(e)}function fge(e){return(e.slice(-4)===".bin"?Ife:Mz)()}var rW=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,nW=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function so(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(rW),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(nW),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function hge(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(rW),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(nW),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var fg;function mge(e,t){var r=fg[e]||Ut(e);return r==="General"?wf(t):Vs(r,t)}function pge(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=kr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ir(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Ut(t)]=a}function gge(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||Cc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ev(e.v):e.w=wf(e.v):e.w=mge(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=fg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&hm(n)){var a=Ud(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function vge(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Nde[n.Pattern]||n.Pattern)}e[t.ID]=t}function yge(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var m=[],p=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&m.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=kr(e);break;case"String":n.t="s",n.r=c3(Ut(e)),n.v=e.indexOf("<")>-1?Ut(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Ir(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Ut(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Q7[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=c3(t||e));break}if(gge(n,u,c),c.cellFormula!==!1)if(n.Formula){var g=Ut(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=m0(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=m0("RC:RC",a):n.ArrayRange&&(n.F=m0(n.ArrayRange,a),l.push([Vt(n.F),n.F]))}else for(p=0;p<l.length;++p)a.r>=l[p][0].s.r&&a.r<=l[p][0].e.r&&a.c>=l[p][0].s.c&&a.c<=l[p][0].e.c&&(n.F=l[p][1]);c.cellStyles&&(m.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function xge(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function G2(e,t){var r=t||{};mm();var n=Fp(YP(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=sr(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Or(r);return s.type="string",R0.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ht){a.indexOf("<"+ht)>=0&&(i=!0)}),i)return ave(n,r);fg={"General Number":"General","General Date":ot[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ot[15],"Short Date":ot[14],"Long Time":ot[19],"Medium Time":ot[18],"Short Time":ot[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ot[2],Standard:ot[4],Percent:ot[10],Scientific:ot[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},m="",p={},g={},v=so('<Data ss:Type="String">'),y=0,w=0,b=0,E={s:{r:2e6,c:2e6},e:{r:0,c:0}},k={},C={},S="",_=0,A=[],P={},N={},I=0,D=[],M=[],ee={},Q=[],W,z=!1,L=[],ae=[],ue={},F=0,U=0,K={Sheets:[],WBProps:{date1904:!1}},Y={};nv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var te="";o=nv.exec(n);)switch(o[3]=(te=o[3]).toLowerCase()){case"data":if(te=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?yge(n.slice(y,o.index),S,v,l[l.length-1][0]=="comment"?ee:p,{c:w,r:b},k,Q[w],g,L,r):(S="",v=so(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(M.length>0&&(p.c=M),(!r.sheetRows||r.sheetRows>b)&&p.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][w]=p):h[Wr(w)+yn(b)]=p),p.HRef&&(p.l={Target:Ut(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(F=w+(parseInt(p.MergeAcross,10)|0),U=b+(parseInt(p.MergeDown,10)|0),A.push({s:{c:w,r:b},e:{c:F,r:U}})),!r.sheetStubs)p.MergeAcross?w=F+1:++w;else if(p.MergeAcross||p.MergeDown){for(var ie=w;ie<=F;++ie)for(var fe=b;fe<=U;++fe)(ie>w||fe>b)&&(r.dense?(h[fe]||(h[fe]=[]),h[fe][ie]={t:"z"}):h[Wr(ie)+yn(fe)]={t:"z"});w=F+1}else++w;else p=hge(o[0]),p.Index&&(w=+p.Index-1),w<E.s.c&&(E.s.c=w),w>E.e.c&&(E.e.c=w),o[0].slice(-2)==="/>"&&++w,M=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<E.s.r&&(E.s.r=b),b>E.e.r&&(E.e.r=b),o[0].slice(-2)==="/>"&&(g=so(o[0]),g.Index&&(b=+g.Index-1)),w=0,++b):(g=so(o[0]),g.Index&&(b=+g.Index-1),ue={},(g.AutoFitHeight=="0"||g.Height)&&(ue.hpx=parseInt(g.Height,10),ue.hpt=lv(ue.hpx),ae[b]=ue),g.Hidden=="1"&&(ue.hidden=!0,ae[b]=ue));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(m),E.s.r<=E.e.r&&E.s.c<=E.e.c&&(h["!ref"]=wt(E),r.sheetRows&&r.sheetRows<=E.e.r&&(h["!fullref"]=h["!ref"],E.e.r=r.sheetRows-1,h["!ref"]=wt(E))),A.length&&(h["!merges"]=A),Q.length>0&&(h["!cols"]=Q),ae.length>0&&(h["!rows"]=ae),u[m]=h}else E={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=w=0,l.push([o[3],!1]),c=so(o[0]),m=Ut(c.Name),h=r.dense?[]:{},A=[],L=[],ae=[],Y={name:m,Hidden:0},K.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),Q=[],z=!1}break;case"style":o[1]==="/"?vge(k,C,r):C=so(o[0]);break;case"numberformat":C.nf=Ut(so(o[0]).Format||"General"),fg[C.nf]&&(C.nf=fg[C.nf]);for(var re=0;re!=392&&ot[re]!=C.nf;++re);if(re==392){for(re=57;re!=392;++re)if(ot[re]==null){Jl(C.nf,re);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(W=so(o[0]),W.Hidden&&(W.hidden=!0,delete W.Hidden),W.Width&&(W.wpx=parseInt(W.Width,10)),!z&&W.wpx>10){z=!0,Fa=Iz;for(var ce=0;ce<Q.length;++ce)Q[ce]&&Du(Q[ce])}z&&Du(W),Q[W.Index-1||Q.length]=W;for(var ye=0;ye<+W.Span;++ye)Q[Q.length]=Or(W);break;case"namedrange":if(o[1]==="/")break;K.Names||(K.Names=[]);var R=ft(o[0]),Be={Name:R.Name,Ref:m0(R.RefersTo.slice(1),{r:0,c:0})};K.Sheets.length>0&&(Be.Sheet=K.Sheets.length-1),K.Names.push(Be);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?S+=n.slice(_,o.index):_=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;C.Interior=so(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?zle(P,te,n.slice(I,o.index)):I=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));xge(ee),M.push(ee)}else l.push([o[3],!1]),c=so(o[0]),ee={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Re=so(o[0]);h["!autofilter"]={ref:m0(Re.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return Q3(n,r);var qe=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:qe=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:qe=!1}break;case"excelworkbook":switch(o[3]){case"date1904":K.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:qe=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:qe=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(I,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else I=o.index+o[0].length;break;case"header":h["!margins"]||tf(h["!margins"]={},"xlml"),isNaN(+ft(o[0]).Margin)||(h["!margins"].header=+ft(o[0]).Margin);break;case"footer":h["!margins"]||tf(h["!margins"]={},"xlml"),isNaN(+ft(o[0]).Margin)||(h["!margins"].footer=+ft(o[0]).Margin);break;case"pagemargins":var Ue=ft(o[0]);h["!margins"]||tf(h["!margins"]={},"xlml"),isNaN(+Ue.Top)||(h["!margins"].top=+Ue.Top),isNaN(+Ue.Left)||(h["!margins"].left=+Ue.Left),isNaN(+Ue.Right)||(h["!margins"].right=+Ue.Right),isNaN(+Ue.Bottom)||(h["!margins"].bottom=+Ue.Bottom);break;case"displayrighttoleft":K.Views||(K.Views=[]),K.Views[0]||(K.Views[0]={}),K.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:qe=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:qe=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:qe=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:qe=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:qe=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:qe=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:qe=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:qe=!1}break;case"smarttags":break;default:qe=!1;break}if(qe||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?pge(N,te,D,n.slice(I,o.index)):(D=o,I=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Se={};return!r.bookSheets&&!r.bookProps&&(Se.Sheets=u),Se.SheetNames=f,Se.Workbook=K,Se.SSF=Or(ot),Se.Props=P,Se.Custprops=N,Se}function CC(e,t){switch(xI(t=t||{}),t.type||"base64"){case"base64":return G2(ns(e),t);case"binary":case"buffer":case"file":return G2(e,t);case"array":return G2(ed(e),t)}}function wge(e,t){var r=[];return e.Props&&r.push(Wle(e.Props,t)),e.Custprops&&r.push(Hle(e.Props,e.Custprops)),r.join("")}function bge(){return""}function _ge(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(Fe("NumberFormat",null,{"ss:Format":tr(ot[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(Fe("Style",i.join(""),s))}),Fe("Styles",r.join(""))}function aW(e){return Fe("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+hI(e.Ref,{r:0,c:0})})}function Ege(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(aW(a)))}return Fe("Names",r.join(""))}function Sge(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(aW(o)))}return i.join("")}function Tge(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Fe("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Fe("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Fe("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Fe("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ya("ProtectContents","True")),e["!protect"].objects&&a.push(ya("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ya("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ya("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ya("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":Fe("WorksheetOptions",a.join(""),{xmlns:Wi.x})}function Age(e){return e.map(function(t){var r=Koe(t.t||""),n=Fe("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Fe("Comment",n,{"ss:Author":t.a})}).join("")}function Cge(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+tr(hI(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=Hr(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=tr(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=tr(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=s.c||c[u].s.r!=s.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=Cc[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||ot[14]);break;case"s":f="String",h=Goe(e.v||"");break}var m=rd(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=s.c+1;var p=e.v!=null?h:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+p+"</Data>";return(e.c||[]).length>0&&(g+=Age(e.c)),Fe("Cell",g,o)}function kge(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=M0(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function Nge(e,t,r,n){if(!e["!ref"])return"";var a=Vt(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(v,y){Du(v);var w=!!v.width,b=Z_(y,v),E={"ss:Index":y+1};w&&(E["ss:Width"]=sv(b.width)),v.hidden&&(E["ss:Hidden"]="1"),o.push(Fe("Column",null,E))});for(var l=Array.isArray(e),c=a.s.r;c<=a.e.r;++c){for(var u=[kge(c,(e["!rows"]||[])[c])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>c)&&!(i[s].e.c<f)&&!(i[s].e.r<c)){(i[s].s.c!=f||i[s].s.r!=c)&&(h=!0);break}if(!h){var m={r:c,c:f},p=lt(m),g=l?(e[c]||[])[f]:e[p];u.push(Cge(g,p,e,t,r,n,m))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function Pge(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?Sge(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?Nge(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Tge(i,t,e,r)),n.join("")}function Ige(e,t){t||(t={}),e.SSF||(e.SSF=Or(ot)),e.SSF&&(mm(),G_(e.SSF),t.revssf=q_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],rd(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(wge(e,t)),r.push(bge()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Fe("Worksheet",Pge(n,t,e),{"ss:Name":tr(e.SheetNames[n])}));return r[2]=_ge(e,t),r[3]=Ege(e),xn+Fe("Workbook",r.join(""),{xmlns:Wi.ss,"xmlns:o":Wi.o,"xmlns:x":Wi.x,"xmlns:ss":Wi.ss,"xmlns:dt":Wi.dt,"xmlns:html":Wi.html})}function Oge(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Ele(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Sle(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Dge=[60,1084,2066,2165,2175];function jge(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=Ul(r,r.l),c=kC[l],u=0;c!=null&&Dge.indexOf(l)>-1;)i=Ul(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=kC[l=Ul(r,r.l)];var f=Zn(s);va(f,0);var h=0;f.lens=[];for(var m=0;m<s.length;++m)f.lens.push(h),h+=s[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Bo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=ot[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||Cc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=ev(e.v):e.w=wf(e.v):e.w=Vs(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&hm(ot[n]||String(n))){var a=Ud(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Qx(e,t,r){return{v:e,ixfe:t,t:r}}function Rge(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",m,p,g,v,y={},w=[],b,E,k=[],C=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},_={},A=function(yt){return yt<8?Jd[yt]:yt<64&&C[yt-8]||Jd[yt]},P=function(yt,ar,cn){var lr=ar.XF.data;if(!(!lr||!lr.patternType||!cn||!cn.cellStyles)){ar.s={},ar.s.patternType=lr.patternType;var ei;(ei=iv(A(lr.icvFore)))&&(ar.s.fgColor={rgb:ei}),(ei=iv(A(lr.icvBack)))&&(ar.s.bgColor={rgb:ei})}},N=function(yt,ar,cn){if(!(ue>1)&&!(cn.sheetRows&&yt.r>=cn.sheetRows)){if(cn.cellStyles&&ar.XF&&ar.XF.data&&P(yt,ar,cn),delete ar.ixfe,delete ar.XF,f=yt,h=lt(yt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),yt.r<s.s.r&&(s.s.r=yt.r),yt.c<s.s.c&&(s.s.c=yt.c),yt.r+1>s.e.r&&(s.e.r=yt.r+1),yt.c+1>s.e.c&&(s.e.c=yt.c+1),cn.cellFormula&&ar.f){for(var lr=0;lr<w.length;++lr)if(!(w[lr][0].s.c>yt.c||w[lr][0].s.r>yt.r)&&!(w[lr][0].e.c<yt.c||w[lr][0].e.r<yt.r)){ar.F=wt(w[lr][0]),(w[lr][0].s.c!=yt.c||w[lr][0].s.r!=yt.r)&&delete ar.f,ar.f&&(ar.f=""+Ra(w[lr][1],s,yt,L,I));break}}cn.dense?(a[yt.r]||(a[yt.r]=[]),a[yt.r][yt.c]=ar):a[h]=ar}},I={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(I.password=t.password);var D,M=[],ee=[],Q=[],W=[],z=!1,L=[];L.SheetNames=I.snames,L.sharedf=I.sharedf,L.arrayf=I.arrayf,L.names=[],L.XTI=[];var ae=0,ue=0,F=0,U=[],K=[],Y;I.codepage=1200,go(1200);for(var te=!1;e.l<e.length-1;){var ie=e.l,fe=e.read_shift(2);if(fe===0&&ae===10)break;var re=e.l===e.length?0:e.read_shift(2),ce=kC[fe];if(ce&&ce.f){if(t.bookSheets&&ae===133&&fe!==133)break;if(ae=fe,ce.r===2||ce.r==12){var ye=e.read_shift(2);if(re-=2,!I.enc&&ye!==fe&&((ye&255)<<8|ye>>8)!==fe)throw new Error("rt mismatch: "+ye+"!="+fe);ce.r==12&&(e.l+=10,re-=10)}var R={};if(fe===10?R=ce.f(e,re,I):R=jge(fe,ce,e,re,I),ue==0&&[9,521,1033,2057].indexOf(ae)===-1)continue;switch(fe){case 34:r.opts.Date1904=S.WBProps.date1904=R;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(I.enc||(e.l=0),I.enc=R,!t.password)throw new Error("File is password-protected");if(R.valid==null)throw new Error("Encryption scheme unsupported");if(!R.valid)throw new Error("Password is incorrect");break;case 92:I.lastuser=R;break;case 66:var Be=Number(R);switch(Be){case 21010:Be=1200;break;case 32768:Be=1e4;break;case 32769:Be=1252;break}go(I.codepage=Be),te=!0;break;case 317:I.rrtabid=R;break;case 25:I.winlocked=R;break;case 439:r.opts.RefreshAll=R;break;case 12:r.opts.CalcCount=R;break;case 16:r.opts.CalcDelta=R;break;case 17:r.opts.CalcIter=R;break;case 13:r.opts.CalcMode=R;break;case 14:r.opts.CalcPrecision=R;break;case 95:r.opts.CalcSaveRecalc=R;break;case 15:I.CalcRefMode=R;break;case 2211:r.opts.FullCalc=R;break;case 129:R.fDialog&&(a["!type"]="dialog"),R.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),R.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:k.push(R);break;case 430:L.push([R]),L[L.length-1].XTI=[];break;case 35:case 547:L[L.length-1].push(R);break;case 24:case 536:Y={Name:R.Name,Ref:Ra(R.rgce,s,null,L,I)},R.itab>0&&(Y.Sheet=R.itab-1),L.names.push(Y),L[0]||(L[0]=[],L[0].XTI=[]),L[L.length-1].push(R),R.Name=="_xlnm._FilterDatabase"&&R.itab>0&&R.rgce&&R.rgce[0]&&R.rgce[0][0]&&R.rgce[0][0][0]=="PtgArea3d"&&(K[R.itab-1]={ref:wt(R.rgce[0][0][1][2])});break;case 22:I.ExternCount=R;break;case 23:L.length==0&&(L[0]=[],L[0].XTI=[]),L[L.length-1].XTI=L[L.length-1].XTI.concat(R),L.XTI=L.XTI.concat(R);break;case 2196:if(I.biff<8)break;Y!=null&&(Y.Comment=R[1]);break;case 18:a["!protect"]=R;break;case 19:R!==0&&I.WTF&&console.error("Password verifier: "+R);break;case 133:i[R.pos]=R,I.snames.push(R.name);break;case 10:{if(--ue)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=wt(s),t.sheetRows&&t.sheetRows<=s.e.r){var Re=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=wt(s),s.e.r=Re}s.e.r++,s.e.c++}M.length>0&&(a["!merges"]=M),ee.length>0&&(a["!objects"]=ee),Q.length>0&&(a["!cols"]=Q),W.length>0&&(a["!rows"]=W),S.Sheets.push(_)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(I.biff===8&&(I.biff={9:2,521:3,1033:4}[fe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[R.BIFFVer]||8),I.biffguess=R.BIFFVer==0,R.BIFFVer==0&&R.dt==4096&&(I.biff=5,te=!0,go(I.codepage=28591)),I.biff==8&&R.BIFFVer==0&&R.dt==16&&(I.biff=2),ue++)break;if(a=t.dense?[]:{},I.biff<8&&!te&&(te=!0,go(I.codepage=t.codepage||1252)),I.biff<5||R.BIFFVer==0&&R.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var qe={pos:e.l-re,name:c};i[qe.pos]=qe,I.snames.push(c)}else c=(i[ie]||{name:""}).name;R.dt==32&&(a["!type"]="chart"),R.dt==64&&(a["!type"]="macro"),M=[],ee=[],I.arrayf=w=[],Q=[],W=[],z=!1,_={Hidden:(i[ie]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[R.r]||[])[R.c]:a[lt({c:R.c,r:R.r})])&&++R.c,b={ixfe:R.ixfe,XF:k[R.ixfe]||{},v:R.val,t:"n"},F>0&&(b.z=U[b.ixfe>>8&63]),Bo(b,t,r.opts.Date1904),N({c:R.c,r:R.r},b,t);break;case 5:case 517:b={ixfe:R.ixfe,XF:k[R.ixfe],v:R.val,t:R.t},F>0&&(b.z=U[b.ixfe>>8&63]),Bo(b,t,r.opts.Date1904),N({c:R.c,r:R.r},b,t);break;case 638:b={ixfe:R.ixfe,XF:k[R.ixfe],v:R.rknum,t:"n"},F>0&&(b.z=U[b.ixfe>>8&63]),Bo(b,t,r.opts.Date1904),N({c:R.c,r:R.r},b,t);break;case 189:for(var Ue=R.c;Ue<=R.C;++Ue){var Se=R.rkrec[Ue-R.c][0];b={ixfe:Se,XF:k[Se],v:R.rkrec[Ue-R.c][1],t:"n"},F>0&&(b.z=U[b.ixfe>>8&63]),Bo(b,t,r.opts.Date1904),N({c:Ue,r:R.r},b,t)}break;case 6:case 518:case 1030:{if(R.val=="String"){o=R;break}if(b=Qx(R.val,R.cell.ixfe,R.tt),b.XF=k[b.ixfe],t.cellFormula){var ht=R.formula;if(ht&&ht[0]&&ht[0][0]&&ht[0][0][0]=="PtgExp"){var wr=ht[0][0][1][0],Kt=ht[0][0][1][1],ln=lt({r:wr,c:Kt});y[ln]?b.f=""+Ra(R.formula,s,R.cell,L,I):b.F=((t.dense?(a[wr]||[])[Kt]:a[ln])||{}).F}else b.f=""+Ra(R.formula,s,R.cell,L,I)}F>0&&(b.z=U[b.ixfe>>8&63]),Bo(b,t,r.opts.Date1904),N(R.cell,b,t),o=R}break;case 7:case 519:if(o)o.val=R,b=Qx(R,o.cell.ixfe,"s"),b.XF=k[b.ixfe],t.cellFormula&&(b.f=""+Ra(o.formula,s,o.cell,L,I)),F>0&&(b.z=U[b.ixfe>>8&63]),Bo(b,t,r.opts.Date1904),N(o.cell,b,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(R);var Za=lt(R[0].s);if(m=t.dense?(a[R[0].s.r]||[])[R[0].s.c]:a[Za],t.cellFormula&&m){if(!o||!Za||!m)break;m.f=""+Ra(R[1],s,R[0],L,I),m.F=wt(R[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[lt(o.cell)]=R[0],m=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[lt(o.cell)],(m||{}).f=""+Ra(R[0],s,f,L,I)}}break;case 253:b=Qx(l[R.isst].t,R.ixfe,"s"),l[R.isst].h&&(b.h=l[R.isst].h),b.XF=k[b.ixfe],F>0&&(b.z=U[b.ixfe>>8&63]),Bo(b,t,r.opts.Date1904),N({c:R.c,r:R.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:R.ixfe,XF:k[R.ixfe],t:"z"},F>0&&(b.z=U[b.ixfe>>8&63]),Bo(b,t,r.opts.Date1904),N({c:R.c,r:R.r},b,t));break;case 190:if(t.sheetStubs)for(var br=R.c;br<=R.C;++br){var hr=R.ixfe[br-R.c];b={ixfe:hr,XF:k[hr],t:"z"},F>0&&(b.z=U[b.ixfe>>8&63]),Bo(b,t,r.opts.Date1904),N({c:br,r:R.r},b,t)}break;case 214:case 516:case 4:b=Qx(R.val,R.ixfe,"s"),b.XF=k[b.ixfe],F>0&&(b.z=U[b.ixfe>>8&63]),Bo(b,t,r.opts.Date1904),N({c:R.c,r:R.r},b,t);break;case 0:case 512:ue===1&&(s=R);break;case 252:l=R;break;case 1054:if(I.biff==4){U[F++]=R[1];for(var xt=0;xt<F+163&&ot[xt]!=R[1];++xt);xt>=163&&Jl(R[1],F+163)}else Jl(R[1],R[0]);break;case 30:{U[F++]=R;for(var jt=0;jt<F+163&&ot[jt]!=R;++jt);jt>=163&&Jl(R,F+163)}break;case 229:M=M.concat(R);break;case 93:ee[R.cmo[0]]=I.lastobj=R;break;case 438:I.lastobj.TxO=R;break;case 127:I.lastobj.ImData=R;break;case 440:for(v=R[0].s.r;v<=R[0].e.r;++v)for(g=R[0].s.c;g<=R[0].e.c;++g)m=t.dense?(a[v]||[])[g]:a[lt({c:g,r:v})],m&&(m.l=R[1]);break;case 2048:for(v=R[0].s.r;v<=R[0].e.r;++v)for(g=R[0].s.c;g<=R[0].e.c;++g)m=t.dense?(a[v]||[])[g]:a[lt({c:g,r:v})],m&&m.l&&(m.l.Tooltip=R[1]);break;case 28:{if(I.biff<=5&&I.biff>=2)break;m=t.dense?(a[R[0].r]||[])[R[0].c]:a[lt(R[0])];var _r=ee[R[2]];m||(t.dense?(a[R[0].r]||(a[R[0].r]=[]),m=a[R[0].r][R[0].c]={t:"z"}):m=a[lt(R[0])]={t:"z"},s.e.r=Math.max(s.e.r,R[0].r),s.s.r=Math.min(s.s.r,R[0].r),s.e.c=Math.max(s.e.c,R[0].c),s.s.c=Math.min(s.s.c,R[0].c)),m.c||(m.c=[]),p={a:R[1],t:_r.TxO.t},m.c.push(p)}break;case 2173:_fe(k[R.ixfe],R.ext);break;case 125:{if(!I.cellStyles)break;for(;R.e>=R.s;)Q[R.e--]={width:R.w/256,level:R.level||0,hidden:!!(R.flags&1)},z||(z=!0,uI(R.w/256)),Du(Q[R.e+1])}break;case 520:{var Er={};R.level!=null&&(W[R.r]=Er,Er.level=R.level),R.hidden&&(W[R.r]=Er,Er.hidden=!0),R.hpt&&(W[R.r]=Er,Er.hpt=R.hpt,Er.hpx=M0(R.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||tf(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[fe]]=R;break;case 161:a["!margins"]||tf(a["!margins"]={}),a["!margins"].header=R.header,a["!margins"].footer=R.footer;break;case 574:R.RTL&&(S.Views[0].RTL=!0);break;case 146:C=R;break;case 2198:D=R;break;case 140:E=R;break;case 442:c?_.CodeName=R||_.name:S.WBProps.CodeName=R||"ThisWorkbook";break}}else ce||console.error("Missing Info for XLS Record 0x"+fe.toString(16)),e.l+=re}return r.SheetNames=an(i).sort(function(qn,yt){return Number(qn)-Number(yt)}).map(function(qn){return i[qn].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&K.forEach(function(qn,yt){r.Sheets[r.SheetNames[yt]]["!autofilter"]=qn}),r.Strings=l,r.SSF=Or(ot),I.enc&&(r.Encryption=I.enc),D&&(r.Themes=D),r.Metadata={},E!==void 0&&(r.Metadata.Country=E),L.names.length>0&&(S.Names=L.names),r.Workbook=S,r}var hg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Mge(e,t,r){var n=it.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=C3(n,bC,hg.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=it.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=C3(s,_C,hg.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(nz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Fge(e,t){var r=[],n=[],a=[],i=0,s,o=n3(bC,"n"),l=n3(_C,"n");if(e.Props)for(s=an(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=an(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var c=[];for(i=0;i<a.length;++i)uz.indexOf(a[i][0])>-1||rz.indexOf(a[i][0])>-1||a[i][1]!=null&&c.push(a[i]);n.length&&it.utils.cfb_add(t,"/SummaryInformation",k3(n,hg.SI,l,_C)),(r.length||c.length)&&it.utils.cfb_add(t,"/DocumentSummaryInformation",k3(r,hg.DSI,o,bC,c.length?c:null,hg.UDI))}function iW(e,t){t||(t={}),xI(t),BP(),t.codepage&&$P(t.codepage);var r,n;if(e.FullPaths){if(it.find(e,"/encryption"))throw new Error("File is password-protected");r=it.find(e,"!CompObj"),n=it.find(e,"/Workbook")||it.find(e,"/Book")}else{switch(t.type){case"base64":e=Ki(ns(e));break;case"binary":e=Ki(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}va(e,0),n={content:e}}var a,i;if(r&&Oge(r),t.bookProps&&!t.bookSheets)a={};else{var s=St?"buffer":"array";if(n&&n.content)a=Rge(n.content,t);else if((i=it.find(e,"PerfectOffice_MAIN"))&&i.content)a=ef.to_workbook(i.content,(t.type=s,t));else if((i=it.find(e,"NativeContent_MAIN"))&&i.content)a=ef.to_workbook(i.content,(t.type=s,t));else throw(i=it.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&it.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Xfe(e))}var o={};return e.FullPaths&&Mge(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function Lge(e,t){var r=t||{},n=it.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return it.utils.cfb_add(n,a,sW(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Fge(e,n),r.biff==8&&e.vbaraw&&Qfe(n,it.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var cv={0:{f:lme},1:{f:gme},2:{f:Rme},3:{f:Sme},4:{f:wme},5:{f:Ome},6:{f:Bme},7:{f:kme},8:{f:Kme},9:{f:Gme},10:{f:Wme},11:{f:Hme},12:{f:yme},13:{f:Fme},14:{f:Ame},15:{f:_me},16:{f:Qz},17:{f:Vme},18:{f:Pme},19:{f:eI},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Vpe},40:{},42:{},43:{f:Bde},44:{f:Lde},45:{f:zde},46:{f:Hde},47:{f:Wde},48:{},49:{f:dle},50:{},51:{f:Tfe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:bz},62:{f:$me},63:{f:jfe},64:{f:cpe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ka,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ipe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:mme},148:{f:dme,p:16},151:{f:Zme},152:{},153:{f:$pe},154:{},155:{},156:{f:Fpe},157:{},158:{},159:{T:1,f:tde},160:{T:-1},161:{T:1,f:nh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:qme},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Efe},336:{T:-1},337:{f:kfe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:wC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:wz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:epe},427:{f:tpe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:npe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:hme},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Qme},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:wC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Hfe},633:{T:1},634:{T:-1},635:{T:1,f:zfe},636:{T:-1},637:{f:ple},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Ape},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:upe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},kC={6:{f:W2},10:{f:Vc},12:{f:Sn},13:{f:Sn},14:{f:un},15:{f:un},16:{f:Ba},17:{f:un},18:{f:un},19:{f:Sn},20:{f:j3},21:{f:j3},23:{f:wz},24:{f:M3},25:{f:un},26:{},27:{},28:{f:uue},29:{},34:{f:un},35:{f:R3},38:{f:Ba},39:{f:Ba},40:{f:Ba},41:{f:Ba},42:{f:un},43:{f:un},47:{f:_de},49:{f:Fce},51:{f:Sn},60:{},61:{f:Oce},64:{f:un},65:{f:Mce},66:{f:Sn},77:{},80:{},81:{},82:{},85:{f:Sn},89:{},90:{},91:{},92:{f:bce},93:{f:hue},94:{},95:{f:un},96:{},97:{},99:{f:un},125:{f:bz},128:{f:Jce},129:{f:Ece},130:{f:Sn},131:{f:un},132:{f:un},133:{f:Sce},134:{},140:{f:bue},141:{f:Sn},144:{},146:{f:Sue},151:{},152:{},153:{},154:{},155:{},156:{f:Sn},157:{},158:{},160:{f:Iue},161:{f:Cue},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:qce},190:{f:Yce},193:{f:Vc},197:{},198:{},199:{},200:{},201:{},202:{f:un},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Sn},220:{},221:{f:un},222:{},224:{f:Qce},225:{f:wce},226:{f:Vc},227:{},229:{f:due},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Ace},253:{f:$ce},255:{f:kce},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:dz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:un},353:{f:Vc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:nue},431:{f:un},432:{},433:{},434:{},437:{},438:{f:gue},439:{f:un},440:{f:vue},441:{},442:{f:hy},443:{},444:{f:Sn},445:{},446:{},448:{f:Vc},449:{f:Ice,r:2},450:{f:Vc},512:{f:I3},513:{f:Pue},515:{f:tue},516:{f:Uce},517:{f:D3},519:{f:Oue},520:{f:Nce},523:{},545:{f:F3},549:{f:P3},566:{},574:{f:jce},638:{f:Kce},659:{},1048:{},1054:{f:zce},1084:{},1212:{f:oue},2048:{f:xue},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:qx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Vc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Tue,r:12},2173:{f:bfe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:un,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:sue,r:12},2197:{},2198:{f:pfe,r:12},2199:{},2200:{},2201:{},2202:{f:lue,r:12},2203:{f:Vc},2204:{},2205:{},2206:{},2207:{},2211:{f:Pce},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Sn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:kue},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Eue},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:I3},1:{},2:{f:Fue},3:{f:Rue},4:{f:jue},5:{f:D3},7:{f:$ue},8:{},9:{f:qx},11:{},22:{f:Sn},30:{f:Hce},31:{},32:{},33:{f:F3},36:{},37:{f:P3},50:{f:Bue},62:{},52:{},67:{},68:{f:Sn},69:{},86:{},126:{},127:{f:Due},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Uue},223:{},234:{},354:{},421:{},518:{f:W2},521:{f:qx},536:{f:M3},547:{f:R3},561:{},579:{},1030:{f:W2},1033:{f:qx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Le(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&QP(r)&&e.push(r)}}function $ge(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return Le(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<a;){for(u=e.next(4),u.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}function vy(e,t,r){return e||(e=Ee(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function Bge(e,t,r,n){var a=Ee(9);return vy(a,e,t),fz(r,n||"b",a),a}function Uge(e,t,r){var n=Ee(8+2*r.length);return vy(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Vge(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Un(Ir(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?Le(e,2,Lue(r,n,a)):Le(e,3,Mue(r,n,a));return;case"b":case"e":Le(e,5,Bge(r,n,t.v,t.t));return;case"s":case"str":Le(e,4,Uge(r,n,(t.v||"").slice(0,255)));return}Le(e,1,vy(null,r,n))}function zge(e,t,r,n){var a=Array.isArray(t),i=Vt(t["!ref"]||"A1"),s,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=wt(i)}for(var c=i.s.r;c<=i.e.r;++c){o=yn(c);for(var u=i.s.c;u<=i.e.c;++u){c===i.s.r&&(l[u]=Wr(u)),s=l[u]+o;var f=a?(t[c]||[])[u]:t[s];f&&Vge(e,f,c,u)}}}function Wge(e,t){for(var r=t||{},n=Pi(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return Le(n,r.biff==4?1033:r.biff==3?521:9,oI(e,16,r)),zge(n,e.Sheets[e.SheetNames[a]],a,r),Le(n,10),n.end()}function Hge(e,t,r){Le(e,49,Lce({sz:12,name:"Arial"},r))}function Gge(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Le(e,1054,Wce(a,t[a],r))})}function Kge(e,t){var r=Ee(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),Le(e,2151,r),r=Ee(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),vz(Vt(t["!ref"]||"A1"),r),r.write_shift(4,4),Le(e,2152,r)}function qge(e,t){for(var r=0;r<16;++r)Le(e,224,O3({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Le(e,224,O3(n,0,t))})}function Yge(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];Le(e,440,yue(n)),n[1].Tooltip&&Le(e,2048,wue(n))}delete t["!links"]}function Xge(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&Le(e,125,Aue(Z_(a,n),a))})}}function Qge(e,t,r,n,a){var i=16+rd(a.cellXfs,t,a);if(t.v==null&&!t.bf){Le(e,513,Sf(r,n,i));return}if(t.bf)Le(e,6,E0e(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?Un(Ir(t.v)):t.v;Le(e,515,rue(r,n,s,i));break;case"b":case"e":Le(e,517,eue(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=pI(a.Strings,t.v,a.revStrings);Le(e,253,Bce(r,n,o,i))}else Le(e,516,Vce(r,n,(t.v||"").slice(0,255),i,a));break;default:Le(e,513,Sf(r,n,i))}}function Jge(e,t,r){var n=Pi(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},l=Array.isArray(i),c=t.biff==8,u,f="",h=[],m=Vt(i["!ref"]||"A1"),p=c?65536:16384;if(m.e.c>255||m.e.r>=p){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,p-1)}Le(n,2057,oI(r,16,t)),Le(n,13,Ts(1)),Le(n,12,Ts(100)),Le(n,15,ni(!0)),Le(n,17,ni(!1)),Le(n,16,_f(.001)),Le(n,95,ni(!0)),Le(n,42,ni(!1)),Le(n,43,ni(!1)),Le(n,130,Ts(1)),Le(n,128,Zce()),Le(n,131,ni(!1)),Le(n,132,ni(!1)),c&&Xge(n,i["!cols"]),Le(n,512,Gce(m,t)),c&&(i["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=yn(g);for(var v=m.s.c;v<=m.e.c;++v){g===m.s.r&&(h[v]=Wr(v)),u=h[v]+f;var y=l?(i[g]||[])[v]:i[u];y&&(Qge(n,y,g,v,t),c&&y.l&&i["!links"].push([u,y.l]))}}var w=o.CodeName||o.name||a;return c&&Le(n,574,Rce((s.Views||[])[0])),c&&(i["!merges"]||[]).length&&Le(n,229,fue(i["!merges"])),c&&Yge(n,i),Le(n,442,hz(w)),c&&Kge(n,i),Le(n,10),n.end()}function Zge(e,t,r){var n=Pi(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,l=r.biff==5;if(Le(n,2057,oI(e,5,r)),r.bookType=="xla"&&Le(n,135),Le(n,225,o?Ts(1200):null),Le(n,193,ece(2)),l&&Le(n,191),l&&Le(n,192),Le(n,226),Le(n,92,_ce("SheetJS",r)),Le(n,66,Ts(o?1200:1252)),o&&Le(n,353,Ts(0)),o&&Le(n,448),Le(n,317,Nue(e.SheetNames.length)),o&&e.vbaraw&&Le(n,211),o&&e.vbaraw){var c=s.CodeName||"ThisWorkbook";Le(n,442,hz(c))}Le(n,156,Ts(17)),Le(n,25,ni(!1)),Le(n,18,ni(!1)),Le(n,19,Ts(0)),o&&Le(n,431,ni(!1)),o&&Le(n,444,Ts(0)),Le(n,61,Dce()),Le(n,64,ni(!1)),Le(n,141,Ts(0)),Le(n,34,ni(Ipe(e)=="true")),Le(n,14,ni(!0)),o&&Le(n,439,ni(!1)),Le(n,218,Ts(0)),Hge(n,e,r),Gge(n,e.SSF,r),qge(n,r),o&&Le(n,352,ni(!1));var u=n.end(),f=Pi();o&&Le(f,140,_ue()),o&&r.Strings&&$ge(f,252,Cce(r.Strings)),Le(f,10);var h=f.end(),m=Pi(),p=0,g=0;for(g=0;g<e.SheetNames.length;++g)p+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var v=u.length+p+h.length;for(g=0;g<e.SheetNames.length;++g){var y=i[g]||{};Le(m,133,Tce({pos:v,hs:y.Hidden||0,dt:0,name:e.SheetNames[g]},r)),v+=t[g].length}var w=m.end();if(p!=w.length)throw new Error("BS8 "+p+" != "+w.length);var b=[];return u.length&&b.push(u),w.length&&b.push(w),h.length&&b.push(h),Zn(b)}function eve(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Or(ot)),e&&e.SSF&&(mm(),G_(e.SSF),r.revssf=q_(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,wI(r),r.cellXfs=[],rd(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Jge(a,r,e);return n.unshift(Zge(e,n,r)),Zn(n)}function sW(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Mi(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return eve(e,t);case 4:case 3:case 2:return Wge(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function K3(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=Loe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(s=0;s<l.length;++s){var g=l[s].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=g.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var w=y[o].trim();if(w.match(/<t[dh]/i)){for(var b=w,E=0;b.charAt(0)=="<"&&(E=b.indexOf(">"))>-1;)b=b.slice(E+1);for(var k=0;k<p.length;++k){var C=p[k];C.s.c==u&&C.s.r<c&&c<=C.e.r&&(u=C.e.c+1,k=-1)}var S=ft(w.slice(0,w.indexOf(">")));h=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||h>1)&&p.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var _=S.t||S["data-t"]||"";if(!b.length){u+=h;continue}if(b=P7(b),m.s.r>c&&(m.s.r=c),m.e.r<c&&(m.e.r=c),m.s.c>u&&(m.s.c=u),m.e.c<u&&(m.e.c=u),!b.length){u+=h;continue}var A={t:"s",v:b};r.raw||!b.trim().length||_=="s"||(b==="TRUE"?A={t:"b",v:!0}:b==="FALSE"?A={t:"b",v:!1}:isNaN(_o(b))?isNaN(j0(b).getDate())||(A={t:"d",v:Ir(b)},r.cellDates||(A={t:"n",v:Un(A.v)}),A.z=r.dateNF||ot[14]):A={t:"n",v:_o(b)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=A):n[lt({r:c,c:u})]=A,u+=h}}}}return n["!ref"]=wt(m),p.length&&(n["!merges"]=p),n}function tve(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=lt({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||qP(f.w||(uc(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+u,i.push(Fe("td",h,m))}}var p="<tr>";return p+i.join("")+"</tr>"}var rve='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',nve="</body></html>";function ave(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return td(K3(r[0],t),t);var n=EI();return r.forEach(function(a,i){SI(n,K3(a,t),"Sheet"+(i+1))}),n}function ive(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function oW(e,t){var r=t||{},n=r.header!=null?r.header:rve,a=r.footer!=null?r.footer:nve,i=[n],s=Mi(e["!ref"]);r.dense=Array.isArray(e),i.push(ive(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(tve(e,s,o,r));return i.push("</table>"+a),i.join("")}function lW(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Hr(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Mi(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),p=0,g=0,v=0,y=0,w=0,b=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&g<l;++p){var E=o[p];if(q3(E)){if(n.display)continue;m[g]={hidden:!0}}var k=E.children;for(v=y=0;v<k.length;++v){var C=k[v];if(!(n.display&&q3(C))){var S=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):P7(C.innerHTML),_=C.getAttribute("data-z")||C.getAttribute("z");for(h=0;h<f.length;++h){var A=f[h];A.s.c==y+i&&A.s.r<g+a&&g+a<=A.e.r&&(y=A.e.c+1-i,h=-1)}b=+C.getAttribute("colspan")||1,((w=+C.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:g+a,c:y+i},e:{r:g+a+(w||1)-1,c:y+i+(b||1)-1}});var P={t:"s",v:S},N=C.getAttribute("data-t")||C.getAttribute("t")||"";S!=null&&(S.length==0?P.t=N||"z":n.raw||S.trim().length==0||N=="s"||(S==="TRUE"?P={t:"b",v:!0}:S==="FALSE"?P={t:"b",v:!1}:isNaN(_o(S))?isNaN(j0(S).getDate())||(P={t:"d",v:Ir(S)},n.cellDates||(P={t:"n",v:Un(P.v)}),P.z=n.dateNF||ot[14]):P={t:"n",v:_o(S)})),P.z===void 0&&_!=null&&(P.z=_);var I="",D=C.getElementsByTagName("A");if(D&&D.length)for(var M=0;M<D.length&&!(D[M].hasAttribute("href")&&(I=D[M].getAttribute("href"),I.charAt(0)!="#"));++M);I&&I.charAt(0)!="#"&&(P.l={Target:I}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][y+i]=P):e[lt({c:y+i,r:g+a})]=P,c.e.c<y+i&&(c.e.c=y+i),y+=b}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,g-1+a),e["!ref"]=wt(c),g>=l&&(e["!fullref"]=wt((c.e.r=o.length-p+g-1+a,c))),e}function cW(e,t){var r=t||{},n=r.dense?[]:{};return lW(n,e,t)}function sve(e,t){return td(cW(e,t),t)}function q3(e){var t="",r=ove(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function ove(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function lve(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Ut(t.replace(/<[^>]*>/g,""));return[r]}var Y3={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function uW(e,t){var r=t||{},n=YP(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},m=[],p=r.dense?[]:{},g,v,y={value:""},w="",b=0,E=[],k=-1,C=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},_=0,A={},P=[],N={},I=0,D=0,M=[],ee=1,Q=1,W=[],z={Names:[]},L={},ae=["",""],ue=[],F={},U="",K=0,Y=!1,te=!1,ie=0;for(nv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=nv.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"工作表":g[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?p["!ref"]=wt(S):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(p["!fullref"]=p["!ref"],S.e.r=r.sheetRows-1,p["!ref"]=wt(S)),P.length&&(p["!merges"]=P),M.length&&(p["!rows"]=M),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),m.push(u.name),h[u.name]=p,te=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=ft(g[0],!1),k=C=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,p=r.dense?[]:{},P=[],M=[],te=!0);break;case"table-row-group":g[1]==="/"?--_:++_;break;case"table-row":case"行":if(g[1]==="/"){k+=ee,ee=1;break}if(f=ft(g[0],!1),f.行号?k=f.行号-1:k==-1&&(k=0),ee=+f["number-rows-repeated"]||1,ee<10)for(ie=0;ie<ee;++ie)_>0&&(M[k+ie]={level:_});C=-1;break;case"covered-table-cell":g[1]!=="/"&&++C,r.sheetStubs&&(r.dense?(p[k]||(p[k]=[]),p[k][C]={t:"z"}):p[lt({r:k,c:C})]={t:"z"}),w="",E=[];break;case"table-cell":case"数据":if(g[0].charAt(g[0].length-2)==="/")++C,y=ft(g[0],!1),Q=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=W3(Ut(y.formula))),(y.数据类型||y["value-type"])=="string"&&(v.t="s",v.v=Ut(y["string-value"]||""),r.dense?(p[k]||(p[k]=[]),p[k][C]=v):p[lt({r:k,c:C})]=v),C+=Q-1;else if(g[1]!=="/"){++C,w="",b=0,E=[],Q=1;var fe=ee?k+ee-1:k;if(C>S.e.c&&(S.e.c=C),C<S.s.c&&(S.s.c=C),k<S.s.r&&(S.s.r=k),fe>S.e.r&&(S.e.r=fe),y=ft(g[0],!1),ue=[],F={},v={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=Ut(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(I=parseInt(y["number-matrix-rows-spanned"],10)||0,D=parseInt(y["number-matrix-columns-spanned"],10)||0,N={s:{r:k,c:C},e:{r:k+I-1,c:C+D-1}},v.F=wt(N),W.push([N,v.F])),y.formula)v.f=W3(y.formula);else for(ie=0;ie<W.length;++ie)k>=W[ie][0].s.r&&k<=W[ie][0].e.r&&C>=W[ie][0].s.c&&C<=W[ie][0].e.c&&(v.F=W[ie][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(I=parseInt(y["number-rows-spanned"],10)||0,D=parseInt(y["number-columns-spanned"],10)||0,N={s:{r:k,c:C},e:{r:k+I-1,c:C+D-1}},P.push(N)),y["number-columns-repeated"]&&(Q=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=kr(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Ir(y["date-value"]),r.cellDates||(v.t="n",v.v=Un(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Roe(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=Y_(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(w=Ut(y["string-value"]),E=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(Y=!1,v.t==="s"&&(v.v=w||"",E.length&&(v.R=E),Y=b==0),L.Target&&(v.l=L),ue.length>0&&(v.c=ue,ue=[]),w&&r.cellText!==!1&&(v.w=w),Y&&(v.t="z",delete v.v),(!Y||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=k))for(var re=0;re<ee;++re){if(Q=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(p[k+re]||(p[k+re]=[]),p[k+re][C]=re==0?v:Or(v);--Q>0;)p[k+re][C+Q]=Or(v);else for(p[lt({r:k+re,c:C})]=v;--Q>0;)p[lt({r:k+re,c:C+Q})]=Or(v);S.e.c<=C&&(S.e.c=C)}Q=parseInt(y["number-columns-repeated"]||"1",10),C+=Q-1,Q=0,v={},w="",E=[]}L={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;F.t=w,E.length&&(F.R=E),F.a=U,ue.push(F)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);U="",K=0,w="",b=0,E=[];break;case"creator":g[1]==="/"?U=n.slice(K,g.index):K=g.index+g[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);w="",b=0,E=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(A[o.name]=l,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=ft(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=ft(g[0],!1),l+=Y3[g[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=ft(g[0],!1),l+=Y3[g[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,g.index);break}else c=g.index+g[0].length;break;case"named-range":s=ft(g[0],!1),ae=H2(s["cell-range-address"]);var ce={Name:s.name,Ref:ae[0]+"!"+ae[1]};te&&(ce.Sheet=m.length),z.Names.push(ce);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!y||!y["string-value"])){var ye=lve(n.slice(b,g.index));w=(w.length>0?w+`
`:"")+ye[0]}else ft(g[0],!1),b=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{ae=H2(ft(g[0])["target-range-address"]),h[ae[0]]["!autofilter"]={ref:ae[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(L=ft(g[0],!1),!L.href)break;L.Target=Ut(L.href),delete L.href,L.Target.charAt(0)=="#"&&L.Target.indexOf(".")>-1?(ae=H2(L.Target.slice(1)),L.Target="#"+ae[0]+"!"+ae[1]):L.Target.match(/^\.\.[\\\/]/)&&(L.Target=L.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(g)}}var R={Sheets:h,SheetNames:m,Workbook:z};return r.bookSheets&&delete R.Sheets,R}function X3(e,t){t=t||{},Ss(e,"META-INF/manifest.xml")&&Rle(En(e,"META-INF/manifest.xml"),t);var r=qi(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=uW(sr(r),t);return Ss(e,"meta.xml")&&(n.Props=ez(En(e,"meta.xml"))),n}function Q3(e,t){return uW(e,t)}var cve=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+rv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return xn+t}}(),J3=function(){var e=function(i){return tr(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var l=[];l.push('      <table:table table:name="'+tr(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=Mi(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,p=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",v=i["!rows"]||[];for(c=0;c<f.s.r;++c)g=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=f.e.r;++c){for(g=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)l.push(t);for(;u<=f.e.c;++u){var y=!1,w={},b="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>u)&&!(h[m].s.r>c)&&!(h[m].e.c<u)&&!(h[m].e.r<c)){(h[m].s.c!=u||h[m].s.r!=c)&&(y=!0),w["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,w["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(y){l.push(r);continue}var E=lt({r:c,c:u}),k=p?(i[c]||[])[u]:i[E];if(k&&k.f&&(w["table:formula"]=tr(N0e(k.f)),k.F&&k.F.slice(0,E.length)==E)){var C=Mi(k.F);w["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,w["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!k){l.push(t);continue}switch(k.t){case"b":b=k.v?"TRUE":"FALSE",w["office:value-type"]="boolean",w["office:boolean-value"]=k.v?"true":"false";break;case"n":b=k.w||String(k.v||0),w["office:value-type"]="float",w["office:value"]=k.v||0;break;case"s":case"str":b=k.v==null?"":k.v,w["office:value-type"]="string";break;case"d":b=k.w||Ir(k.v).toISOString(),w["office:value-type"]="date",w["office:date-value"]=Ir(k.v).toISOString(),w["table:style-name"]="ce1";break;default:l.push(t);continue}var S=e(b);if(k.l&&k.l.Target){var _=k.l.Target;_=_.charAt(0)=="#"?"#"+P0e(_.slice(1)):_,_.charAt(0)!="#"&&!_.match(/^\w+:/)&&(_="../"+_),S=Fe("text:a",S,{"xlink:href":_.replace(/&/g,"&amp;")})}l.push("          "+Fe("table:table-cell",Fe("text:p",S,{}),w)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Du(f),f.ods=o;var h=c["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var l=[xn],c=rv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=rv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(Z7().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),a(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(n(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function dW(e,t){if(t.bookType=="fods")return J3(e,t);var r=HP(),n="",a=[],i=[];return n="mimetype",bt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",bt(r,n,J3(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",bt(r,n,cve(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",bt(r,n,xn+Z7()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",bt(r,n,Lle(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",bt(r,n,Mle(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Tf(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function NC(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):sr(ed(e))}function uve(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Ki(Yo(e))}function dve(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Ru(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function Z3(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function fve(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function hve(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function uv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Xt(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function rn(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Wt(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=uv(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=uv(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function da(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(Xt(n*8+a.type)),a.type==2&&t.push(Xt(a.data.length)),t.push(a.data))})}),Ru(t)}function yI(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function ws(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=uv(e,n),i=Wt(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:rn(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=Wt(o.data),c=rn(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=rn(i[3][0].data)>>>0>0),r.push(s)}return r}function Sh(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:Xt(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:Xt(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:Xt(s.data.length)}],n[2].push({data:da(s.meta),type:2})});var i=da(n);t.push(Xt(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),Ru(t)}function mve(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=uv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Ru(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=Ru(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function bs(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(mve(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Ru(t)}function Th(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=Xt(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return Ru(t)}function pve(e,t,r,n){var a=Tf(e),i=a.getUint32(4,!0),s=(n>1?12:8)+Z3(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=Z3(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function gve(e,t,r){var n=Tf(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=fve(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function K2(e,t){var r=new Uint8Array(32),n=Tf(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,hve(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function q2(e,t){var r=new Uint8Array(32),n=Tf(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function vve(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return pve(e,t,r,e[0]);case 5:return gve(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Da(e){var t=Wt(e);return uv(t[1][0].data)}function eF(e,t){var r=Wt(t.data),n=rn(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Wt(s.data),l=rn(o[1][0].data)>>>0;switch(n){case 1:i[l]=NC(o[3][0].data);break;case 8:{var c=e[Da(o[9][0].data)][0],u=Wt(c.data),f=e[Da(u[1][0].data)][0],h=rn(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Wt(f.data);i[l]=m[3].map(function(p){return NC(p.data)}).join("")}break}}),i}function yve(e,t){var r,n,a,i,s,o,l,c,u,f,h,m,p,g,v=Wt(e),y=rn(v[1][0].data)>>>0,w=rn(v[2][0].data)>>>0,b=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&rn(v[8][0].data)>0||!1,E,k;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)E=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,k=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&t!=1)E=(m=(h=v[4])==null?void 0:h[0])==null?void 0:m.data,k=(g=(p=v[3])==null?void 0:p[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var C=b?4:1,S=Tf(E),_=[],A=0;A<E.length/2;++A){var P=S.getUint16(A*2,!0);P<65535&&_.push([A,P])}if(_.length!=w)throw"Expected ".concat(w," cells, found ").concat(_.length);var N=[];for(A=0;A<_.length-1;++A)N[_[A][0]]=k.subarray(_[A][1]*C,_[A+1][1]*C);return _.length>=1&&(N[_[_.length-1][0]]=k.subarray(_[_.length-1][1]*C)),{R:y,cells:N}}function xve(e,t){var r,n=Wt(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?rn(n[7][0].data)>>>0>0?1:0:-1,i=yI(n[5],function(s){return yve(s,a)});return{nrows:rn(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function wve(e,t,r){var n,a=Wt(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(rn(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(rn(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=wt(i);var s=Wt(a[4][0].data),o=eF(e,e[Da(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?eF(e,e[Da(s[17][0].data)][0]):[],c=Wt(s[3][0].data),u=0;c[1].forEach(function(f){var h=Wt(f.data),m=e[Da(h[2][0].data)][0],p=rn(m.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var g=xve(e,m);g.data.forEach(function(v,y){v.forEach(function(w,b){var E=lt({r:u+y,c:b}),k=vve(w,o,l);k&&(r[E]=k)})}),u+=g.nrows})}function bve(e,t){var r=Wt(t.data),n={"!ref":"A1"},a=e[Da(r[2][0].data)],i=rn(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return wve(e,a[0],n),n}function _ve(e,t){var r,n=Wt(t.data),a={name:(r=n[1])!=null&&r[0]?NC(n[1][0].data):"",sheets:[]},i=yI(n[2],Da);return i.forEach(function(s){e[s].forEach(function(o){var l=rn(o.meta[1][0].data);l==6e3&&a.sheets.push(bve(e,o))})}),a}function Eve(e,t){var r=EI(),n=Wt(t.data),a=yI(n[1],Da);if(a.forEach(function(i){e[i].forEach(function(s){var o=rn(s.meta[1][0].data);if(o==2){var l=_ve(e,s);l.sheets.forEach(function(c,u){SI(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Y2(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=bs(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=ws(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&rn(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=rn(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Eve(i,o)}function Sve(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&rn(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=Tf(e[7][0].data),u=0,f=[],h=Tf(e[4][0].data),m=0,p=[],g=0;g<t.length;++g){if(t[g]==null){c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}c.setUint16(g*2,u,!0),h.setUint16(g*2,m,!0);var v,y;switch(typeof t[g]){case"string":v=K2({t:"s",v:t[g]},r),y=q2({t:"s",v:t[g]},r);break;case"number":v=K2({t:"n",v:t[g]},r),y=q2({t:"n",v:t[g]},r);break;case"boolean":v=K2({t:"b",v:t[g]},r),y=q2({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(v),u+=v.length,p.push(y),m+=y.length,++l}for(e[2][0].data=Xt(l);g<e[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return e[6][0].data=Ru(f),e[3][0].data=Ru(p),l}function Tve(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Mi(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(wt(n)));var i=Yw(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(U){return U.forEach(function(K){typeof K=="string"&&s.push(K)})});var o={},l=[],c=it.read(t.numbers,{type:"base64"});c.FileIndex.map(function(U,K){return[U,c.FullPaths[K]]}).forEach(function(U){var K=U[0],Y=U[1];if(K.type==2&&K.name.match(/\.iwa/)){var te=K.content,ie=bs(te),fe=ws(ie);fe.forEach(function(re){l.push(re.id),o[re.id]={deps:[],location:Y,type:rn(re.messages[0].meta[1][0].data)}})}}),l.sort(function(U,K){return U-K});var u=l.filter(function(U){return U>1}).map(function(U){return[U,Xt(U)]});c.FileIndex.map(function(U,K){return[U,c.FullPaths[K]]}).forEach(function(U){var K=U[0];if(U[1],!!K.name.match(/\.iwa/)){var Y=ws(bs(K.content));Y.forEach(function(te){te.messages.forEach(function(ie){u.forEach(function(fe){te.messages.some(function(re){return rn(re.meta[1][0].data)!=11006&&dve(re.data,fe[1])})&&o[fe[0]].deps.push(te.id)})})})}});for(var f=it.find(c,o[1].location),h=ws(bs(f.content)),m,p=0;p<h.length;++p){var g=h[p];g.id==1&&(m=g)}var v=Da(Wt(m.messages[0].data)[1][0].data);for(f=it.find(c,o[v].location),h=ws(bs(f.content)),p=0;p<h.length;++p)g=h[p],g.id==v&&(m=g);for(v=Da(Wt(m.messages[0].data)[2][0].data),f=it.find(c,o[v].location),h=ws(bs(f.content)),p=0;p<h.length;++p)g=h[p],g.id==v&&(m=g);for(v=Da(Wt(m.messages[0].data)[2][0].data),f=it.find(c,o[v].location),h=ws(bs(f.content)),p=0;p<h.length;++p)g=h[p],g.id==v&&(m=g);var y=Wt(m.messages[0].data);{y[6][0].data=Xt(n.e.r+1),y[7][0].data=Xt(n.e.c+1);var w=Da(y[46][0].data),b=it.find(c,o[w].location),E=ws(bs(b.content));{for(var k=0;k<E.length&&E[k].id!=w;++k);if(E[k].id!=w)throw"Bad ColumnRowUIDMapArchive";var C=Wt(E[k].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var S=0;S<=n.e.c;++S){var _=[];_[1]=_[2]=[{type:0,data:Xt(S+420690)}],C[1].push({type:2,data:da(_)}),C[2].push({type:0,data:Xt(S)}),C[3].push({type:0,data:Xt(S)})}C[4]=[],C[5]=[],C[6]=[];for(var A=0;A<=n.e.r;++A)_=[],_[1]=_[2]=[{type:0,data:Xt(A+726270)}],C[4].push({type:2,data:da(_)}),C[5].push({type:0,data:Xt(A)}),C[6].push({type:0,data:Xt(A)});E[k].messages[0].data=da(C)}b.content=Th(Sh(E)),b.size=b.content.length,delete y[46];var P=Wt(y[4][0].data);{P[7][0].data=Xt(n.e.r+1);var N=Wt(P[1][0].data),I=Da(N[2][0].data);b=it.find(c,o[I].location),E=ws(bs(b.content));{if(E[0].id!=I)throw"Bad HeaderStorageBucket";var D=Wt(E[0].messages[0].data);for(A=0;A<i.length;++A){var M=Wt(D[2][0].data);M[1][0].data=Xt(A),M[4][0].data=Xt(i[A].length),D[2][A]={type:D[2][0].type,data:da(M)}}E[0].messages[0].data=da(D)}b.content=Th(Sh(E)),b.size=b.content.length;var ee=Da(P[2][0].data);b=it.find(c,o[ee].location),E=ws(bs(b.content));{if(E[0].id!=ee)throw"Bad HeaderStorageBucket";for(D=Wt(E[0].messages[0].data),S=0;S<=n.e.c;++S)M=Wt(D[2][0].data),M[1][0].data=Xt(S),M[4][0].data=Xt(n.e.r+1),D[2][S]={type:D[2][0].type,data:da(M)};E[0].messages[0].data=da(D)}b.content=Th(Sh(E)),b.size=b.content.length;var Q=Da(P[4][0].data);(function(){for(var U=it.find(c,o[Q].location),K=ws(bs(U.content)),Y,te=0;te<K.length;++te){var ie=K[te];ie.id==Q&&(Y=ie)}var fe=Wt(Y.messages[0].data);{fe[3]=[];var re=[];s.forEach(function(R,Be){re[1]=[{type:0,data:Xt(Be)}],re[2]=[{type:0,data:Xt(1)}],re[3]=[{type:2,data:uve(R)}],fe[3].push({type:2,data:da(re)})})}Y.messages[0].data=da(fe);var ce=Sh(K),ye=Th(ce);U.content=ye,U.size=U.content.length})();var W=Wt(P[3][0].data);{var z=W[1][0];delete W[2];var L=Wt(z.data);{var ae=Da(L[2][0].data);(function(){for(var U=it.find(c,o[ae].location),K=ws(bs(U.content)),Y,te=0;te<K.length;++te){var ie=K[te];ie.id==ae&&(Y=ie)}var fe=Wt(Y.messages[0].data);{delete fe[6],delete W[7];var re=new Uint8Array(fe[5][0].data);fe[5]=[];for(var ce=0,ye=0;ye<=n.e.r;++ye){var R=Wt(re);ce+=Sve(R,i[ye],s),R[1][0].data=Xt(ye),fe[5].push({data:da(R),type:2})}fe[1]=[{type:0,data:Xt(n.e.c+1)}],fe[2]=[{type:0,data:Xt(n.e.r+1)}],fe[3]=[{type:0,data:Xt(ce)}],fe[4]=[{type:0,data:Xt(n.e.r+1)}]}Y.messages[0].data=da(fe);var Be=Sh(K),Re=Th(Be);U.content=Re,U.size=U.content.length})()}z.data=da(L)}P[3][0].data=da(W)}y[4][0].data=da(P)}m.messages[0].data=da(y);var ue=Sh(h),F=Th(ue);return f.content=F,f.size=f.content.length,c}function fW(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function xI(e){fW([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function wI(e){fW([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Ave(e){return Tt.WS.indexOf(e)>-1?"sheet":e==Tt.CS?"chart":e==Tt.DS?"dialog":e==Tt.MS?"macro":e&&e.length?e:"sheet"}function Cve(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Ave(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function kve(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=cg(qi(e,r,!0),t);var h=En(e,t),m;switch(o){case"sheet":m=Xpe(h,t,a,l,i[n],c,u,f);break;case"chart":if(m=Qpe(h,t,a,l,i[n],c,u,f),!m||!m["!drawel"])break;var p=$p(m["!drawel"].Target,t),g=av(p),v=Ffe(qi(e,p,!0),cg(qi(e,g,!0),p)),y=$p(v,p),w=av(y);m=Spe(qi(e,y,!0),y,l,cg(qi(e,w,!0),y),c,m);break;case"macro":m=Jpe(h,t,a,l,i[n],c,u,f);break;case"dialog":m=Zpe(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=m;var b=[];i&&i[n]&&an(i[n]).forEach(function(E){var k="";if(i[n][E].Type==Tt.CMNT){k=$p(i[n][E].Target,t);var C=nge(En(e,k,!0),k,l);if(!C||!C.length)return;$3(m,C,!1)}i[n][E].Type==Tt.TCMNT&&(k=$p(i[n][E].Target,t),b=b.concat($fe(En(e,k,!0),l)))}),b&&b.length&&$3(m,b,!0,l.people||[])}catch(E){if(l.WTF)throw E}}function ms(e){return e.charAt(0)=="/"?e.slice(1):e}function Nve(e,t){if(mm(),t=t||{},xI(t),Ss(e,"META-INF/manifest.xml")||Ss(e,"objectdata.xml"))return X3(e,t);if(Ss(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Y2<"u"){if(e.FileIndex)return Y2(e);var r=it.utils.cfb_new();return s3(e).forEach(function(M){bt(r,M,Boe(e,M))}),Y2(r)}throw new Error("Unsupported NUMBERS file")}if(!Ss(e,"[Content_Types].xml"))throw Ss(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ss(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=s3(e),a=Dle(qi(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",En(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!En(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(ug=[],a.sst)try{ug=rge(En(e,ms(a.sst)),a.sst,t)}catch(M){if(t.WTF)throw M}t.cellStyles&&a.themes.length&&(l=tge(qi(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=ege(En(e,ms(a.style)),a.style,l,t))}a.links.map(function(M){try{var ee=cg(qi(e,av(ms(M))),M);return ige(En(e,ms(M)),ee,M,t)}catch{}});var u=Ype(En(e,ms(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=En(e,ms(a.coreprops[0]),!0),h&&(f=ez(h)),a.extprops.length!==0&&(h=En(e,ms(a.extprops[0]),!0),h&&Ble(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=qi(e,ms(a.custprops[0]),!0),h&&(m=Vle(h,t)));var p={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(ee){return ee.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=m),t.bookSheets&&typeof s<"u"&&(p.SheetNames=s),t.bookSheets?p.SheetNames:t.bookProps))return p;s={};var g={};t.bookDeps&&a.calcchain&&(g=age(En(e,ms(a.calcchain)),a.calcchain));var v=0,y={},w,b;{var E=u.Sheets;f.Worksheets=E.length,f.SheetNames=[];for(var k=0;k!=E.length;++k)f.SheetNames[k]=E[k].name}var C=i?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),_=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");Ss(e,_)||(_="xl/_rels/workbook."+C+".rels");var A=cg(qi(e,_,!0),_.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=sge(En(e,ms(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Ufe(En(e,ms(a.people[0])),t)),A&&(A=Cve(A,u.Sheets));var P=En(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var N="sheet";if(A&&A[v]?(w="xl/"+A[v][1].replace(/[\/]?xl\//,""),Ss(e,w)||(w=A[v][1]),Ss(e,w)||(w=_.replace(/_rels\/.*$/,"")+A[v][1]),N=A[v][2]):(w="xl/worksheets/sheet"+(v+1-P)+"."+C,w=w.replace(/sheet0\./,"sheet.")),b=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var I=!1,D=0;D!=t.sheets.length;++D)typeof t.sheets[D]=="number"&&t.sheets[D]==v&&(I=1),typeof t.sheets[D]=="string"&&t.sheets[D].toLowerCase()==f.SheetNames[v].toLowerCase()&&(I=1);if(!I)continue e}}kve(e,w,b,f.SheetNames[v],v,y,s,N,t,u,l,c)}return p={Directory:a,Workbook:u,Props:f,Custprops:m,Deps:g,Sheets:s,SheetNames:f.SheetNames,Strings:ug,Styles:c,Themes:l,SSF:Or(ot)},t&&t.bookFiles&&(e.files?(p.keys=n,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(M,ee){M=M.replace(/^Root Entry[\/]/,""),p.keys.push(M),p.files[M]=e.FileIndex[ee]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=En(e,ms(a.vba[0]),!0):a.defaults&&a.defaults.bin===Yfe&&(p.vbaraw=En(e,"xl/vbaProject.bin",!0))),p}function Pve(e,t){var r=t||{},n="Workbook",a=it.find(e,n);try{if(n="/!DataSpaces/Version",a=it.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(sde(a.content),n="/!DataSpaces/DataSpaceMap",a=it.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=lde(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=it.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=cde(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=it.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);dde(a.content)}catch{}if(n="/EncryptionInfo",a=it.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=fde(a.content);if(n="/EncryptedPackage",a=it.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function Ive(e,t){return t.bookType=="ods"?dW(e,t):t.bookType=="numbers"?Tve(e,t):t.bookType=="xlsb"?Ove(e,t):Dve(e,t)}function Ove(e,t){Xh=1024,e&&!e.SSF&&(e.SSF=Or(ot)),e&&e.SSF&&(mm(),G_(e.SSF),t.revssf=q_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,dg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=$z.indexOf(t.bookType)>-1,a=iI();wI(t=t||{});var i=HP(),s="",o=0;if(t.cellXfs=[],rd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",bt(i,s,tz(e.Props,t)),a.coreprops.push(s),Zt(t.rels,2,s,Tt.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,bt(i,s,az(e.Props)),a.extprops.push(s),Zt(t.rels,3,s,Tt.EXT_PROPS),e.Custprops!==e.Props&&an(e.Custprops||{}).length>0&&(s="docProps/custom.xml",bt(i,s,iz(e.Custprops)),a.custprops.push(s),Zt(t.rels,4,s,Tt.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,bt(i,s,lge(o-1,s,t,e,u)),a.sheets.push(s),Zt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Tt.WS[0])}if(f){var m=f["!comments"],p=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+r,bt(i,g,dge(m,g)),a.comments.push(g),Zt(u,-1,"../comments"+o+"."+r,Tt.CMNT),p=!0),f["!legacy"]&&p&&bt(i,"xl/drawings/vmlDrawing"+o+".vml",Fz(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&bt(i,av(s),h0(u))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,bt(i,s,uge(t.Strings,s,t)),a.strs.push(s),Zt(t.wbrels,-1,"sharedStrings."+r,Tt.SST)),s="xl/workbook."+r,bt(i,s,oge(e,s)),a.workbooks.push(s),Zt(t.rels,1,s,Tt.WB),s="xl/theme/theme1.xml",bt(i,s,dI(e.Themes,t)),a.themes.push(s),Zt(t.wbrels,-1,"theme/theme1.xml",Tt.THEME),s="xl/styles."+r,bt(i,s,cge(e,s,t)),a.styles.push(s),Zt(t.wbrels,-1,"styles."+r,Tt.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",bt(i,s,e.vbaraw),a.vba.push(s),Zt(t.wbrels,-1,"vbaProject.bin",Tt.VBA)),s="xl/metadata."+r,bt(i,s,fge(s)),a.metadata.push(s),Zt(t.wbrels,-1,"metadata."+r,Tt.XLMETA),bt(i,"[Content_Types].xml",J7(a,t)),bt(i,"_rels/.rels",h0(t.rels)),bt(i,"xl/_rels/workbook."+r+".rels",h0(t.wbrels)),delete t.revssf,delete t.ssf,i}function Dve(e,t){Xh=1024,e&&!e.SSF&&(e.SSF=Or(ot)),e&&e.SSF&&(mm(),G_(e.SSF),t.revssf=q_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,dg?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=$z.indexOf(t.bookType)>-1,a=iI();wI(t=t||{});var i=HP(),s="",o=0;if(t.cellXfs=[],rd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",bt(i,s,tz(e.Props,t)),a.coreprops.push(s),Zt(t.rels,2,s,Tt.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,bt(i,s,az(e.Props)),a.extprops.push(s),Zt(t.rels,3,s,Tt.EXT_PROPS),e.Custprops!==e.Props&&an(e.Custprops||{}).length>0&&(s="docProps/custom.xml",bt(i,s,iz(e.Custprops)),a.custprops.push(s),Zt(t.rels,4,s,Tt.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,bt(i,s,Xz(o-1,t,e,f)),a.sheets.push(s),Zt(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Tt.WS[0])}if(h){var p=h["!comments"],g=!1,v="";if(p&&p.length>0){var y=!1;p.forEach(function(w){w[1].forEach(function(b){b.T==!0&&(y=!0)})}),y&&(v="xl/threadedComments/threadedComment"+o+"."+r,bt(i,v,Bfe(p,u,t)),a.threadedcomments.push(v),Zt(f,-1,"../threadedComments/threadedComment"+o+"."+r,Tt.TCMNT)),v="xl/comments"+o+"."+r,bt(i,v,Lz(p)),a.comments.push(v),Zt(f,-1,"../comments"+o+"."+r,Tt.CMNT),g=!0}h["!legacy"]&&g&&bt(i,"xl/drawings/vmlDrawing"+o+".vml",Fz(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&bt(i,av(s),h0(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,bt(i,s,Tz(t.Strings,t)),a.strs.push(s),Zt(t.wbrels,-1,"sharedStrings."+r,Tt.SST)),s="xl/workbook."+r,bt(i,s,tW(e)),a.workbooks.push(s),Zt(t.rels,1,s,Tt.WB),s="xl/theme/theme1.xml",bt(i,s,dI(e.Themes,t)),a.themes.push(s),Zt(t.wbrels,-1,"theme/theme1.xml",Tt.THEME),s="xl/styles."+r,bt(i,s,Dz(e,t)),a.styles.push(s),Zt(t.wbrels,-1,"styles."+r,Tt.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",bt(i,s,e.vbaraw),a.vba.push(s),Zt(t.wbrels,-1,"vbaProject.bin",Tt.VBA)),s="xl/metadata."+r,bt(i,s,Mz()),a.metadata.push(s),Zt(t.wbrels,-1,"metadata."+r,Tt.XLMETA),u.length>1&&(s="xl/persons/person.xml",bt(i,s,Vfe(u)),a.people.push(s),Zt(t.wbrels,-1,"persons/person.xml",Tt.PEOPLE)),bt(i,"[Content_Types].xml",J7(a,t)),bt(i,"_rels/.rels",h0(t.rels)),bt(i,"xl/_rels/workbook."+r+".rels",h0(t.wbrels)),delete t.revssf,delete t.ssf,i}function bI(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=ns(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function jve(e,t){return it.find(e,"EncryptedPackage")?Pve(e,t):iW(e,t)}function Rve(e,t){var r,n=e,a=t||{};return a.type||(a.type=St&&Buffer.isBuffer(e)?"buffer":"base64"),r=C7(n,a),Nve(r,a)}function hW(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return CC(e.slice(r),t);default:break e}return R0.to_workbook(e,t)}function Mve(e,t){var r="",n=bI(e,t);switch(t.type){case"base64":r=ns(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=bf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=sr(r)),t.type="binary",hW(r,t)}function Fve(e,t){var r=e;return t.type=="base64"&&(r=ns(r)),r=Jg.utils.decode(1200,r.slice(2),"str"),t.type="binary",hW(r,t)}function Lve(e){return e.match(/[^\x00-\x7F]/)?Yo(e):e}function X2(e,t,r,n){return n?(r.type="string",R0.to_workbook(e,r)):R0.to_workbook(t,r)}function dv(e,t){BP();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return dv(new Uint8Array(e),(r=Or(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),p0={},r.dateNF&&(p0.dateNF=r.dateNF),r.type||(r.type=St&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=St?"buffer":"binary",n=Ooe(e),typeof Uint8Array<"u"&&!St&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Lve(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Or(r),r.type="array",dv(UP(n),r)}switch((a=bI(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return jve(it.read(n,r),r);break;case 9:if(a[1]<=8)return iW(n,r);break;case 60:return CC(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return zue(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Ez.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Rve(n,r):X2(e,n,r,i);case 239:return a[3]===60?CC(n,r):X2(e,n,r,i);case 255:if(a[1]===254)return Fve(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return ef.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return ef.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return AC.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Pz.to_workbook(n,r);break;case 10:case 13:case 32:return Mve(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Vue.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?AC.to_workbook(n,r):X2(e,n,r,i)}function mW(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return uy(t.file,it.write(e,{type:St?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return it.write(e,t)}function $ve(e,t){var r=Or(t||{}),n=Ive(e,r);return Bve(n,r)}function Bve(e,t){var r={},n=St?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?it.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(H_(a))}return t.password&&typeof encrypt_agile<"u"?mW(encrypt_agile(a,t.password),t):t.type==="file"?uy(t.file,a):t.type=="string"?sr(a):a}function Uve(e,t){var r=t||{},n=Lge(e,r);return mW(n,r)}function Vo(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Zg(Yo(n));case"binary":return Yo(n);case"string":return e;case"file":return uy(t.file,n,"utf8");case"buffer":return St?Tc(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Vo(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Vve(e,t){switch(t.type){case"base64":return Zg(e);case"binary":return e;case"string":return e;case"file":return uy(t.file,e,"binary");case"buffer":return St?Tc(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Jx(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Zg(r):t.type=="string"?sr(r):r;case"file":return uy(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function pW(e,t){BP(),jpe(e);var r=Or(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=pW(e,r);return r.type="array",H_(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Vo(Ige(e,r),r);case"slk":case"sylk":return Vo(_z.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Vo(oW(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Vve(gW(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Vo(_I(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Vo(Ez.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Jx(AC.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Vo(R0.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Vo(Pz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Vo(Sz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Vo(dW(e,r),r);case"wk1":return Jx(ef.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Jx(ef.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Jx(sW(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Uve(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return $ve(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function zve(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function Wve(e,t,r){var n={};return n.type="file",n.file=t,zve(n),pW(e,n)}function Hve(e,t,r,n,a,i,s,o){var l=yn(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var m=t.s.c;m<=t.e.c;++m){var p=s?e[r][m]:e[n[m]+l];if(p===void 0||p.t===void 0){if(c===void 0)continue;i[m]!=null&&(h[i[m]]=c);continue}var g=p.v;switch(p.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[m]!=null){if(g==null)if(p.t=="e"&&g===null)h[i[m]]=null;else if(c!==void 0)h[i[m]]=c;else if(u&&g===null)h[i[m]]=null;else continue;else h[i[m]]=u&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?g:uc(p,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function Yw(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Vt(u);break;case"number":l=Vt(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=yn(l.s.r),h=[],m=[],p=0,g=0,v=Array.isArray(e),y=l.s.r,w=0,b={};v&&!e[y]&&(e[y]=[]);var E=c.skipHidden&&e["!cols"]||[],k=c.skipHidden&&e["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(E[w]||{}).hidden)switch(h[w]=Wr(w),r=v?e[y][w]:e[h[w]+f],n){case 1:i[w]=w-l.s.c;break;case 2:i[w]=h[w];break;case 3:i[w]=c.header[w-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=uc(r,null,c),g=b[s]||0,!g)b[s]=1;else{do o=s+"_"+g++;while(b[o]);b[s]=g,b[o]=1}i[w]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(k[y]||{}).hidden){var C=Hve(e,l,y,h,n,i,v,c);(C.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(m[p++]=C.row)}return m.length=p,m}var tF=/"/g;function Gve(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=yn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=o.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)u="";else if(m.v!=null){l=!1,u=""+(o.rawNumbers&&m.t=="n"?m.v:uc(m,null,o));for(var p=0,g=0;p!==u.length;++p)if((g=u.charCodeAt(p))===a||g===i||g===34||o.forceQuotes){u='"'+u.replace(tF,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(l=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(tF,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function _I(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Vt(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(f[p]=Wr(p));for(var g=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(u=Gve(e,a,v,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((g++?o:"")+u)));return delete n.dense,r.join("")}function gW(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=_I(e,t);return r}function Kve(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Vt(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Wr(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=yn(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function vW(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Hr(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=Vt(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(g,v){an(g).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var w=g[y],b="z",E="",k=lt({c:o+m,r:s+v+a});c=fv(i,k),w&&typeof w=="object"&&!(w instanceof Date)?i[k]=w:(typeof w=="number"?b="n":typeof w=="boolean"?b="b":typeof w=="string"?b="s":w instanceof Date?(b="d",n.cellDates||(b="n",w=Un(w)),E=n.dateNF||ot[14]):w===null&&n.nullError&&(b="e",w=0),c?(c.t=b,c.v=w,delete c.w,delete c.R,E&&(c.z=E)):i[k]=c={t:b,v:w},E&&(c.z=E))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var p=yn(s);if(a)for(m=0;m<h.length;++m)i[Wr(m+o)+p]={t:"s",v:h[m]};return i["!ref"]=wt(u),i}function qve(e,t){return vW(null,e,t)}function fv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Hr(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?fv(e,lt(t)):fv(e,lt({r:t,c:r||0}))}function Yve(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function EI(){return{SheetNames:[],Sheets:{}}}function SI(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(eW(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Xve(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Yve(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Qve(e,t){return e.z=t,e}function yW(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Jve(e,t,r){return yW(e,"#"+t,r)}function Zve(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function eye(e,t,r,n){for(var a=typeof t!="string"?t:Vt(t),i=typeof t=="string"?t:wt(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=fv(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var g0={encode_col:Wr,encode_row:yn,encode_cell:lt,encode_range:wt,decode_col:ZP,decode_row:JP,split_cell:ule,decode_cell:Hr,decode_range:Mi,format_cell:uc,sheet_add_aoa:H7,sheet_add_json:vW,sheet_add_dom:lW,aoa_to_sheet:pm,json_to_sheet:qve,table_to_sheet:cW,table_to_book:sve,sheet_to_csv:_I,sheet_to_txt:gW,sheet_to_json:Yw,sheet_to_html:oW,sheet_to_formulae:Kve,sheet_to_row_object_array:Yw,sheet_get_cell:fv,book_new:EI,book_append_sheet:SI,book_set_sheet_visibility:Xve,cell_set_number_format:Qve,cell_set_hyperlink:yW,cell_set_internal_link:Jve,cell_add_comment:Zve,sheet_set_array_formula:eye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const tye=()=>{};var rF={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xW=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},rye=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},wW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,m=c&63;l||(m=64,s||(h=64)),n.push(r[u],r[f],r[h],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xW(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):rye(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new nye;const h=i<<2|o>>4;if(n.push(h),c!==64){const m=o<<4&240|c>>2;if(n.push(m),f!==64){const p=c<<6&192|f;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aye=function(e){const t=xW(e);return wW.encodeByteArray(t,!0)},Xw=function(e){return aye(e).replace(/\./g,"")},bW=function(e){try{return wW.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sye=()=>iye().__FIREBASE_DEFAULTS__,oye=()=>{if(typeof process>"u"||typeof rF>"u")return;const e=rF.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},lye=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&bW(e[1]);return t&&JSON.parse(t)},eE=()=>{try{return tye()||sye()||oye()||lye()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},_W=e=>{var t,r;return(r=(t=eE())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},EW=e=>{const t=_W(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},SW=()=>{var e;return(e=eE())==null?void 0:e.config},TW=e=>{var t;return(t=eE())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ih(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function TI(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Xw(JSON.stringify(r)),Xw(JSON.stringify(s)),""].join(".")}const mg={};function uye(){const e={prod:[],emulator:[]};for(const t of Object.keys(mg))mg[t]?e.emulator.push(t):e.prod.push(t);return e}function dye(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let nF=!1;function AI(e,t){if(typeof window>"u"||typeof document>"u"||!ih(window.location.host)||mg[e]===t||mg[e]||nF)return;mg[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=uye().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{nF=!0,s()},h}function u(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=dye(n),m=r("text"),p=document.getElementById(m)||document.createElement("span"),g=r("learnmore"),v=document.getElementById(g)||document.createElement("a"),y=r("preprendIcon"),w=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;o(b),u(v,g);const E=c();l(w,y),b.append(w,p,v,E),document.body.appendChild(b)}i?(p.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qa())}function hye(){var t;const e=(t=eE())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mye(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CW(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function pye(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gye(){const e=qa();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function vye(){return!hye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kW(){try{return typeof indexedDB=="object"}catch{return!1}}function NW(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)==null?void 0:i.message)||"")}}catch(r){t(r)}})}function yye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xye="FirebaseError";class Ys extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=xye,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sh.prototype.create)}}class sh{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?wye(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Ys(a,o,n)}}function wye(e,t){return e.replace(bye,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const bye=/\{\$([^}]+)}/g;function _ye(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Mu(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(aF(i)&&aF(s)){if(!Mu(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function aF(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Bp(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,i]=n.split("=");t[decodeURIComponent(a)]=decodeURIComponent(i)}}),t}function Up(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function Eye(e,t){const r=new Sye(e,t);return r.subscribe.bind(r)}class Sye{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let a;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Tye(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:n},a.next===void 0&&(a.next=Q2),a.error===void 0&&(a.error=Q2),a.complete===void 0&&(a.complete=Q2);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tye(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function Q2(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aye=1e3,Cye=2,kye=4*60*60*1e3,Nye=.5;function iF(e,t=Aye,r=Cye){const n=t*Math.pow(r,e),a=Math.round(Nye*n*(Math.random()-.5)*2);return Math.min(kye,n+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(e){return e&&e._delegate?e._delegate:e}class zs{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pye=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new cye;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Oye(t))try{this.getOrInitializeService({instanceIdentifier:kd})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=kd){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=kd){return this.instances.has(t)}getOptions(t=kd){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(t),this.onInitCallbacks.set(n,a);const i=this.instances.get(n);return i&&t(i,n),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Iye(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=kd){return this.component?this.component.multipleInstances?t:kd:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Iye(e){return e===kd?void 0:e}function Oye(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dye{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Pye(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Pt||(Pt={}));const jye={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},Rye=Pt.INFO,Mye={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},Fye=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=Mye[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let tE=class{constructor(t){this.name=t,this._logLevel=Rye,this._logHandler=Fye,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jye[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}};const Lye=(e,t)=>t.some(r=>e instanceof r);let sF,oF;function $ye(){return sF||(sF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bye(){return oF||(oF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PW=new WeakMap,PC=new WeakMap,IW=new WeakMap,J2=new WeakMap,CI=new WeakMap;function Uye(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(bu(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&PW.set(r,e)}).catch(()=>{}),CI.set(t,e),t}function Vye(e){if(PC.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});PC.set(e,t)}let IC={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return PC.get(e);if(t==="objectStoreNames")return e.objectStoreNames||IW.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return bu(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function zye(e){IC=e(IC)}function Wye(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(Z2(this),t,...r);return IW.set(n,t.sort?t.sort():[t]),bu(n)}:Bye().includes(e)?function(...t){return e.apply(Z2(this),t),bu(PW.get(this))}:function(...t){return bu(e.apply(Z2(this),t))}}function Hye(e){return typeof e=="function"?Wye(e):(e instanceof IDBTransaction&&Vye(e),Lye(e,$ye())?new Proxy(e,IC):e)}function bu(e){if(e instanceof IDBRequest)return Uye(e);if(J2.has(e))return J2.get(e);const t=Hye(e);return t!==e&&(J2.set(e,t),CI.set(t,e)),t}const Z2=e=>CI.get(e);function OW(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=bu(s);return n&&s.addEventListener("upgradeneeded",l=>{n(bu(s.result),l.oldVersion,l.newVersion,bu(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Gye=["get","getKey","getAll","getAllKeys","count"],Kye=["put","add","delete","clear"],eT=new Map;function lF(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(eT.get(t))return eT.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=Kye.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Gye.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return eT.set(t,i),i}zye(e=>({...e,get:(t,r,n)=>lF(t,r)||e.get(t,r,n),has:(t,r)=>!!lF(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qye{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Yye(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Yye(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const OC="@firebase/app",cF="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dc=new tE("@firebase/app"),Xye="@firebase/app-compat",Qye="@firebase/analytics-compat",Jye="@firebase/analytics",Zye="@firebase/app-check-compat",exe="@firebase/app-check",txe="@firebase/auth",rxe="@firebase/auth-compat",nxe="@firebase/database",axe="@firebase/data-connect",ixe="@firebase/database-compat",sxe="@firebase/functions",oxe="@firebase/functions-compat",lxe="@firebase/installations",cxe="@firebase/installations-compat",uxe="@firebase/messaging",dxe="@firebase/messaging-compat",fxe="@firebase/performance",hxe="@firebase/performance-compat",mxe="@firebase/remote-config",pxe="@firebase/remote-config-compat",gxe="@firebase/storage",vxe="@firebase/storage-compat",yxe="@firebase/firestore",xxe="@firebase/ai",wxe="@firebase/firestore-compat",bxe="firebase",_xe="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="[DEFAULT]",Exe={[OC]:"fire-core",[Xye]:"fire-core-compat",[Jye]:"fire-analytics",[Qye]:"fire-analytics-compat",[exe]:"fire-app-check",[Zye]:"fire-app-check-compat",[txe]:"fire-auth",[rxe]:"fire-auth-compat",[nxe]:"fire-rtdb",[axe]:"fire-data-connect",[ixe]:"fire-rtdb-compat",[sxe]:"fire-fn",[oxe]:"fire-fn-compat",[lxe]:"fire-iid",[cxe]:"fire-iid-compat",[uxe]:"fire-fcm",[dxe]:"fire-fcm-compat",[fxe]:"fire-perf",[hxe]:"fire-perf-compat",[mxe]:"fire-rc",[pxe]:"fire-rc-compat",[gxe]:"fire-gcs",[vxe]:"fire-gcs-compat",[yxe]:"fire-fst",[wxe]:"fire-fst-compat",[xxe]:"fire-vertex","fire-js":"fire-js",[bxe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new Map,Sxe=new Map,jC=new Map;function uF(e,t){try{e.container.addComponent(t)}catch(r){dc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function ko(e){const t=e.name;if(jC.has(t))return dc.debug(`There were multiple attempts to register component ${t}.`),!1;jC.set(t,e);for(const r of Qw.values())uF(r,e);for(const r of Sxe.values())uF(r,e);return!0}function nd(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function xi(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Txe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_u=new sh("app","Firebase",Txe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Axe{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _u.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=_xe;function DW(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:DC,automaticDataCollectionEnabled:!0,...t},a=n.name;if(typeof a!="string"||!a)throw _u.create("bad-app-name",{appName:String(a)});if(r||(r=SW()),!r)throw _u.create("no-options");const i=Qw.get(a);if(i){if(Mu(r,i.options)&&Mu(n,i.config))return i;throw _u.create("duplicate-app",{appName:a})}const s=new Dye(a);for(const l of jC.values())s.addComponent(l);const o=new Axe(r,n,s);return Qw.set(a,o),o}function rE(e=DC){const t=Qw.get(e);if(!t&&e===DC&&SW())return DW();if(!t)throw _u.create("no-app",{appName:e});return t}function Ii(e,t,r){let n=Exe[e]??e;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const s=[`Unable to register library "${n}" with version "${t}":`];a&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&s.push("and"),i&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),dc.warn(s.join(" "));return}ko(new zs(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cxe="firebase-heartbeat-database",kxe=1,hv="firebase-heartbeat-store";let tT=null;function jW(){return tT||(tT=OW(Cxe,kxe,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(hv)}catch(r){console.warn(r)}}}}).catch(e=>{throw _u.create("idb-open",{originalErrorMessage:e.message})})),tT}async function Nxe(e){try{const r=(await jW()).transaction(hv),n=await r.objectStore(hv).get(RW(e));return await r.done,n}catch(t){if(t instanceof Ys)dc.warn(t.message);else{const r=_u.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});dc.warn(r.message)}}}async function dF(e,t){try{const n=(await jW()).transaction(hv,"readwrite");await n.objectStore(hv).put(t,RW(e)),await n.done}catch(r){if(r instanceof Ys)dc.warn(r.message);else{const n=_u.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});dc.warn(n.message)}}}function RW(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pxe=1024,Ixe=30;class Oxe{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new jxe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=fF();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>Ixe){const s=Rxe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){dc.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=fF(),{heartbeatsToSend:n,unsentEntries:a}=Dxe(this._heartbeatsCache.heartbeats),i=Xw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return dc.warn(r),""}}}function fF(){return new Date().toISOString().substring(0,10)}function Dxe(e,t=Pxe){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),hF(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),hF(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class jxe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kW()?NW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Nxe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return dF(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return dF(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function hF(e){return Xw(JSON.stringify({version:2,heartbeats:e})).length}function Rxe(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mxe(e){ko(new zs("platform-logger",t=>new qye(t),"PRIVATE")),ko(new zs("heartbeat",t=>new Oxe(t),"PRIVATE")),Ii(OC,cF,e),Ii(OC,cF,"esm2020"),Ii("fire-js","")}Mxe("");function MW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Fxe=MW,FW=new sh("auth","Firebase",MW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=new tE("@firebase/auth");function Lxe(e,...t){Jw.logLevel<=Pt.WARN&&Jw.warn(`Auth (${oh}): ${e}`,...t)}function K1(e,...t){Jw.logLevel<=Pt.ERROR&&Jw.error(`Auth (${oh}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(e,...t){throw kI(e,...t)}function tl(e,...t){return kI(e,...t)}function LW(e,t,r){const n={...Fxe(),[t]:r};return new sh("auth","Firebase",n).create(t,{appName:e.name})}function rl(e){return LW(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kI(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return FW.create(e,...t)}function ct(e,t,...r){if(!e)throw kI(t,...r)}function Vl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw K1(t),new Error(t)}function fc(e,t){e||Vl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function $xe(){return mF()==="http:"||mF()==="https:"}function mF(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bxe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($xe()||CW()||"connection"in navigator)?navigator.onLine:!0}function Uxe(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(t,r){this.shortDelay=t,this.longDelay=r,fc(r>t,"Short delay should be less than long delay!"),this.isMobile=fye()||pye()}get(){return Bxe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(e,t){fc(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vxe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zxe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Wxe=new xy(3e4,6e4);function kc(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function jo(e,t,r,n,a={}){return BW(e,a,async()=>{let i={},s={};n&&(t==="GET"?s=n:i={body:JSON.stringify(n)});const o=yy({key:e.config.apiKey,...s}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...i};return mye()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&ih(e.emulatorConfig.host)&&(c.credentials="include"),$W.fetch()(await UW(e,e.config.apiHost,r,o),c)})}async function BW(e,t,r){e._canInitEmulator=!1;const n={...Vxe,...t};try{const a=new Gxe(e),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Zx(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const o=i.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zx(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Zx(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Zx(e,"user-disabled",s);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw LW(e,u,c);No(e,u)}}catch(a){if(a instanceof Ys)throw a;No(e,"network-request-failed",{message:String(a)})}}async function wy(e,t,r,n,a={}){const i=await jo(e,t,r,n,a);return"mfaPendingCredential"in i&&No(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function UW(e,t,r,n){const a=`${t}${r}?${n}`,i=e,s=i.config.emulator?NI(e.config,a):`${e.config.apiScheme}://${a}`;return zxe.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(s).toString():s}function Hxe(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gxe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(tl(this.auth,"network-request-failed")),Wxe.get())})}}function Zx(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=tl(e,t,n);return a.customData._tokenResponse=r,a}function pF(e){return e!==void 0&&e.enterprise!==void 0}class Kxe{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return Hxe(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qxe(e,t){return jo(e,"GET","/v2/recaptchaConfig",kc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yxe(e,t){return jo(e,"POST","/v1/accounts:delete",t)}async function Zw(e,t){return jo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Xxe(e,t=!1){const r=xr(e),n=await r.getIdToken(t),a=PI(n);ct(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:a,token:n,authTime:pg(rT(a.auth_time)),issuedAtTime:pg(rT(a.iat)),expirationTime:pg(rT(a.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function rT(e){return Number(e)*1e3}function PI(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return K1("JWT malformed, contained fewer than 3 sections"),null;try{const a=bW(r);return a?JSON.parse(a):(K1("Failed to decode base64 JWT payload"),null)}catch(a){return K1("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function gF(e){const t=PI(e);return ct(t,"internal-error"),ct(typeof t.exp<"u","internal-error"),ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof Ys&&Qxe(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function Qxe({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jxe{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=pg(this.lastLoginAt),this.creationTime=pg(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eb(e){var f;const t=e.auth,r=await e.getIdToken(),n=await Af(e,Zw(t,{idToken:r}));ct(n==null?void 0:n.users.length,t,"internal-error");const a=n.users[0];e._notifyReloadListener(a);const i=(f=a.providerUserInfo)!=null&&f.length?VW(a.providerUserInfo):[],s=e1e(e.providerData,i),o=e.isAnonymous,l=!(e.email&&a.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new MC(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,u)}async function Zxe(e){const t=xr(e);await eb(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function e1e(e,t){return[...e.filter(n=>!t.some(a=>a.providerId===n.providerId)),...t]}function VW(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t1e(e,t){const r=await BW(e,{},async()=>{const n=yy({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:i}=e.config,s=await UW(e,a,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return e.emulatorConfig&&ih(e.emulatorConfig.host)&&(l.credentials="include"),$W.fetch()(s,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function r1e(e,t){return jo(e,"POST","/v2/accounts:revokeToken",kc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ct(t.idToken,"internal-error"),ct(typeof t.idToken<"u","internal-error"),ct(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):gF(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){ct(t.length!==0,"internal-error");const r=gF(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await t1e(t,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,s=new v0;return n&&(ct(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),a&&(ct(typeof a=="string","internal-error",{appName:t}),s.accessToken=a),i&&(ct(typeof i=="number","internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new v0,this.toJSON())}_performRefresh(){return Vl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(e,t){ct(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class yo{constructor({uid:t,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new Jxe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new MC(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await Af(this,this.stsTokenManager.getToken(this.auth,t));return ct(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return Xxe(this,t)}reload(){return Zxe(this)}_assign(t){this!==t&&(ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new yo({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await eb(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(rl(this.auth));const t=await this.getIdToken();return await Af(this,Yxe(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,a=r.email??void 0,i=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:p,stsTokenManager:g}=r;ct(f&&g,t,"internal-error");const v=v0.fromJSON(this.name,g);ct(typeof f=="string",t,"internal-error"),zc(n,t.name),zc(a,t.name),ct(typeof h=="boolean",t,"internal-error"),ct(typeof m=="boolean",t,"internal-error"),zc(i,t.name),zc(s,t.name),zc(o,t.name),zc(l,t.name),zc(c,t.name),zc(u,t.name);const y=new yo({uid:f,auth:t,email:a,emailVerified:h,displayName:n,isAnonymous:m,photoURL:s,phoneNumber:i,tenantId:o,stsTokenManager:v,createdAt:c,lastLoginAt:u});return p&&Array.isArray(p)&&(y.providerData=p.map(w=>({...w}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(t,r,n=!1){const a=new v0;a.updateFromServerResponse(r);const i=new yo({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:n});return await eb(i),i}static async _fromGetAccountInfoResponse(t,r,n){const a=r.users[0];ct(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?VW(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),o=new v0;o.updateFromIdToken(n);const l=new yo({uid:a.localId,auth:t,stsTokenManager:o,isAnonymous:s}),c={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new MC(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=new Map;function zl(e){fc(e instanceof Function,"Expected a class definition");let t=vF.get(e);return t?(fc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,vF.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}zW.type="NONE";const yF=zW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(e,t,r){return`firebase:${e}:${t}:${r}`}class y0{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=q1(this.userKey,a.apiKey,i),this.fullPersistenceKey=q1("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await Zw(this.auth,{idToken:t}).catch(()=>{});return r?yo._fromGetAccountInfoResponse(this.auth,r,t):null}return yo._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new y0(zl(yF),t,n);const a=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=a[0]||zl(yF);const s=q1(n,t.config.apiKey,t.name);let o=null;for(const c of r)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await Zw(t,{idToken:u}).catch(()=>{});if(!h)break;f=await yo._fromGetAccountInfoResponse(t,h,u)}else f=yo._fromJSON(t,u);c!==i&&(o=f),i=c;break}}catch{}const l=a.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new y0(i,t,n):(i=l[0],o&&await i._set(s,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new y0(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(KW(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(WW(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(YW(t))return"Blackberry";if(XW(t))return"Webos";if(HW(t))return"Safari";if((t.includes("chrome/")||GW(t))&&!t.includes("edge/"))return"Chrome";if(qW(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function WW(e=qa()){return/firefox\//i.test(e)}function HW(e=qa()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function GW(e=qa()){return/crios\//i.test(e)}function KW(e=qa()){return/iemobile/i.test(e)}function qW(e=qa()){return/android/i.test(e)}function YW(e=qa()){return/blackberry/i.test(e)}function XW(e=qa()){return/webos/i.test(e)}function II(e=qa()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function n1e(e=qa()){var t;return II(e)&&!!((t=window.navigator)!=null&&t.standalone)}function a1e(){return gye()&&document.documentMode===10}function QW(e=qa()){return II(e)||qW(e)||XW(e)||YW(e)||/windows phone/i.test(e)||KW(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JW(e,t=[]){let r;switch(e){case"Browser":r=xF(qa());break;case"Worker":r=`${xF(qa())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${oh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1e{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=i=>new Promise((s,o)=>{try{const l=t(i);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1e(e,t={}){return jo(e,"GET","/v2/passwordPolicy",kc(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1e=6;class l1e{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??o1e,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<t.length;a++)n=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1e{constructor(t,r,n,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wF(this),this.idTokenSubscription=new wF(this),this.beforeStateQueue=new i1e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=zl(r)),this._initializationPromise=this.queue(async()=>{var n,a,i;if(!this._deleted&&(this.persistenceManager=await y0.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await Zw(this,{idToken:t}),n=await yo._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(xi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(i=this.redirectUser)==null?void 0:i._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===o)&&(l!=null&&l.user)&&(n=l.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await eb(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Uxe()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(xi(this.app))return Promise.reject(rl(this));const r=t?xr(t):null;return r&&ct(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(rl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return xi(this.app)?Promise.reject(rl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await s1e(this),r=new l1e(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new sh("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await r1e(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&zl(t)||this._popupRedirectResolver;ct(r,this,"argument-error"),this.redirectPersistenceManager=await y0.create(this,[zl(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ct(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),typeof r=="function"){const l=t.addObserver(r,n,a);return()=>{s=!0,l()}}else{const l=t.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=JW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&Lxe(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ad(e){return xr(e)}class wF{constructor(t){this.auth=t,this.observer=null,this.addObserver=Eye(r=>this.observer=r)}get next(){return ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function u1e(e){nE=e}function ZW(e){return nE.loadJS(e)}function d1e(){return nE.recaptchaEnterpriseScript}function f1e(){return nE.gapiScript}function h1e(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class m1e{constructor(){this.enterprise=new p1e}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class p1e{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const g1e="recaptcha-enterprise",eH="NO_RECAPTCHA";class v1e{constructor(t){this.type=g1e,this.auth=ad(t)}async verify(t="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,o)=>{qxe(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new Kxe(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function a(i,s,o){const l=window.grecaptcha;pF(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:t}).then(c=>{s(c)}).catch(()=>{s(eH)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new m1e().execute("siteKey",{action:"verify"}):new Promise((i,s)=>{n(this.auth).then(o=>{if(!r&&pF(window.grecaptcha))a(o,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=d1e();l.length!==0&&(l+=o),ZW(l).then(()=>{a(o,i,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function bF(e,t,r,n=!1,a=!1){const i=new v1e(e);let s;if(a)s=eH;else try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const o={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function tb(e,t,r,n,a){var i;if((i=e._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await bF(e,t,r,r==="getOobCode");return n(e,s)}else return n(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await bF(e,t,r,r==="getOobCode");return n(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1e(e,t){const r=nd(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if(Mu(i,t??{}))return a;No(a,"already-initialized")}return r.initialize({options:t})}function x1e(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(zl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function w1e(e,t,r){const n=ad(e);ct(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!1,i=tH(t),{host:s,port:o}=b1e(t),l=o===null?"":`:${o}`,c={url:`${i}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){ct(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ct(Mu(c,n.config.emulator)&&Mu(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,ih(s)?(TI(`${i}//${s}${l}`),AI("Auth",!0)):_1e()}function tH(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function b1e(e){const t=tH(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:_F(n.substr(i.length+1))}}else{const[i,s]=n.split(":");return{host:i,port:_F(s)}}}function _F(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function _1e(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Vl("not implemented")}_getIdTokenResponse(t){return Vl("not implemented")}_linkToIdToken(t,r){return Vl("not implemented")}_getReauthenticationResolver(t){return Vl("not implemented")}}async function E1e(e,t){return jo(e,"POST","/v1/accounts:update",t)}async function S1e(e,t){return jo(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1e(e,t){return wy(e,"POST","/v1/accounts:signInWithPassword",kc(e,t))}async function A1e(e,t){return jo(e,"POST","/v1/accounts:sendOobCode",kc(e,t))}async function C1e(e,t){return A1e(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k1e(e,t){return wy(e,"POST","/v1/accounts:signInWithEmailLink",kc(e,t))}async function N1e(e,t){return wy(e,"POST","/v1/accounts:signInWithEmailLink",kc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv extends OI{constructor(t,r,n,a=null){super("password",n),this._email=t,this._password=r,this._tenantId=a}static _fromEmailAndPassword(t,r){return new mv(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new mv(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tb(t,r,"signInWithPassword",T1e);case"emailLink":return k1e(t,{email:this._email,oobCode:this._password});default:No(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tb(t,n,"signUpPassword",S1e);case"emailLink":return N1e(t,{idToken:r,email:this._email,oobCode:this._password});default:No(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x0(e,t){return wy(e,"POST","/v1/accounts:signInWithIdp",kc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1e="http://localhost";class Cf extends OI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Cf(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):No("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:a,...i}=r;if(!n||!a)return null;const s=new Cf(n,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){const r=this.buildRequest();return x0(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,x0(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,x0(t,r)}buildRequest(){const t={requestUri:P1e,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=yy(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1e(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O1e(e){const t=Bp(Up(e)).link,r=t?Bp(Up(t)).deep_link_id:null,n=Bp(Up(e)).deep_link_id;return(n?Bp(Up(n)).link:null)||n||r||t||e}class DI{constructor(t){const r=Bp(Up(t)),n=r.apiKey??null,a=r.oobCode??null,i=I1e(r.mode??null);ct(n&&a&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=O1e(t);try{return new DI(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.providerId=vm.PROVIDER_ID}static credential(t,r){return mv._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=DI.parseLink(r);return ct(n,"argument-error"),mv._fromEmailAndCode(t,n.code,n.tenantId)}}vm.PROVIDER_ID="password";vm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by extends rH{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends by{constructor(){super("facebook.com")}static credential(t){return Cf._fromParams({providerId:ru.PROVIDER_ID,signInMethod:ru.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ru.credentialFromTaggedObject(t)}static credentialFromError(t){return ru.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ru.credential(t.oauthAccessToken)}catch{return null}}}ru.FACEBOOK_SIGN_IN_METHOD="facebook.com";ru.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends by{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Cf._fromParams({providerId:nu.PROVIDER_ID,signInMethod:nu.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return nu.credentialFromTaggedObject(t)}static credentialFromError(t){return nu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return nu.credential(r,n)}catch{return null}}}nu.GOOGLE_SIGN_IN_METHOD="google.com";nu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends by{constructor(){super("github.com")}static credential(t){return Cf._fromParams({providerId:au.PROVIDER_ID,signInMethod:au.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return au.credentialFromTaggedObject(t)}static credentialFromError(t){return au.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return au.credential(t.oauthAccessToken)}catch{return null}}}au.GITHUB_SIGN_IN_METHOD="github.com";au.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends by{constructor(){super("twitter.com")}static credential(t,r){return Cf._fromParams({providerId:iu.PROVIDER_ID,signInMethod:iu.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return iu.credentialFromTaggedObject(t)}static credentialFromError(t){return iu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return iu.credential(r,n)}catch{return null}}}iu.TWITTER_SIGN_IN_METHOD="twitter.com";iu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1e(e,t){return wy(e,"POST","/v1/accounts:signUp",kc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,a=!1){const i=await yo._fromIdTokenResponse(t,n,a),s=EF(n);return new kf({user:i,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const a=EF(n);return new kf({user:t,providerId:a,_tokenResponse:n,operationType:r})}}function EF(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb extends Ys{constructor(t,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,rb.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,a){return new rb(t,r,n,a)}}function nH(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?rb._fromErrorAndOperation(e,i,t,n):i})}async function j1e(e,t,r=!1){const n=await Af(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return kf._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R1e(e,t,r=!1){const{auth:n}=e;if(xi(n.app))return Promise.reject(rl(n));const a="reauthenticate";try{const i=await Af(e,nH(n,a,t,e),r);ct(i.idToken,n,"internal-error");const s=PI(i.idToken);ct(s,n,"internal-error");const{sub:o}=s;return ct(e.uid===o,n,"user-mismatch"),kf._forOperation(e,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&No(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aH(e,t,r=!1){if(xi(e.app))return Promise.reject(rl(e));const n="signIn",a=await nH(e,n,t),i=await kf._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(i.user),i}async function M1e(e,t){return aH(ad(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iH(e){const t=ad(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function F1e(e,t,r){const n=ad(e);await tb(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",C1e)}async function sH(e,t,r){if(xi(e.app))return Promise.reject(rl(e));const n=ad(e),s=await tb(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",D1e).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&iH(e),l}),o=await kf._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function oH(e,t,r){return xi(e.app)?Promise.reject(rl(e)):M1e(xr(e),vm.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&iH(e),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1e(e,t){return jo(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=xr(e),i={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},s=await Af(n,L1e(n.auth,i));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const o=n.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function SF(e,t){const r=xr(e);return xi(r.auth.app)?Promise.reject(rl(r.auth)):$1e(r,t)}async function $1e(e,t,r){const{auth:n}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t);const s=await Af(e,E1e(n,i));await e._updateTokensIfNecessary(s,!0)}function B1e(e,t,r,n){return xr(e).onIdTokenChanged(t,r,n)}function U1e(e,t,r){return xr(e).beforeAuthStateChanged(t,r)}function lH(e,t,r,n){return xr(e).onAuthStateChanged(t,r,n)}function cH(e){return xr(e).signOut()}const nb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(nb,"1"),this.storage.removeItem(nb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1e=1e3,z1e=10;class dH extends uH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QW(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&t(r,a,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},i=this.storage.getItem(n);a1e()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,z1e):a()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},V1e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}dH.type="LOCAL";const W1e=dH;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH extends uH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}fH.type="SESSION";const hH=fH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H1e(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const n=new aE(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:a,data:i}=r.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const o=Array.from(s).map(async c=>c(r.origin,i)),l=await H1e(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}aE.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1e{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((o,l)=>{const c=RI("",20);a.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:a,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:c,data:r},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(){return window}function K1e(e){nl().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mH(){return typeof nl().WorkerGlobalScope<"u"&&typeof nl().importScripts=="function"}async function q1e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Y1e(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function X1e(){return mH()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pH="firebaseLocalStorageDb",Q1e=1,ab="firebaseLocalStorage",gH="fbase_key";class _y{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function iE(e,t){return e.transaction([ab],t?"readwrite":"readonly").objectStore(ab)}function J1e(){const e=indexedDB.deleteDatabase(pH);return new _y(e).toPromise()}function FC(){const e=indexedDB.open(pH,Q1e);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(ab,{keyPath:gH})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(ab)?t(n):(n.close(),await J1e(),t(await FC()))})})}async function TF(e,t,r){const n=iE(e,!0).put({[gH]:t,value:r});return new _y(n).toPromise()}async function Z1e(e,t){const r=iE(e,!1).get(t),n=await new _y(r).toPromise();return n===void 0?null:n.value}function AF(e,t){const r=iE(e,!0).delete(t);return new _y(r).toPromise()}const ewe=800,twe=3;class vH{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await FC(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>twe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mH()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=aE._getInstance(X1e()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await q1e(),!this.activeServiceWorker)return;this.sender=new G1e(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Y1e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await FC();return await TF(t,nb,"1"),await AF(t,nb),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>TF(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>Z1e(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>AF(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const i=iE(a,!1).getAll();return new _y(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:a,value:i}of t)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ewe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vH.type="LOCAL";const rwe=vH;new xy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nwe(e,t){return t?zl(t):(ct(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI extends OI{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return x0(t,this._buildIdpRequest())}_linkToIdToken(t,r){return x0(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return x0(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function awe(e){return aH(e.auth,new MI(e),e.bypassAuthState)}function iwe(e){const{auth:t,user:r}=e;return ct(r,t,"internal-error"),R1e(r,new MI(e),e.bypassAuthState)}async function swe(e){const{auth:t,user:r}=e;return ct(r,t,"internal-error"),j1e(r,new MI(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(t,r,n,a,i=!1){this.auth=t,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:s,type:o}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return awe;case"linkViaPopup":case"linkViaRedirect":return swe;case"reauthViaPopup":case"reauthViaRedirect":return iwe;default:No(this.auth,"internal-error")}}resolve(t){fc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){fc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const owe=new xy(2e3,1e4);class Qh extends yH{constructor(t,r,n,a,i){super(t,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,Qh.currentPopupAction&&Qh.currentPopupAction.cancel(),Qh.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ct(t,this.auth,"internal-error"),t}async onExecution(){fc(this.filter.length===1,"Popup operations only handle one event");const t=RI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(tl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(tl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qh.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,owe.get())};t()}}Qh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lwe="pendingRedirect",Y1=new Map;class cwe extends yH{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=Y1.get(this.auth._key());if(!t){try{const n=await uwe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}Y1.set(this.auth._key(),t)}return this.bypassAuthState||Y1.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uwe(e,t){const r=hwe(t),n=fwe(e);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function dwe(e,t){Y1.set(e._key(),t)}function fwe(e){return zl(e._redirectPersistence)}function hwe(e){return q1(lwe,e.config.apiKey,e.name)}async function mwe(e,t,r=!1){if(xi(e.app))return Promise.reject(rl(e));const n=ad(e),a=nwe(n,t),s=await new cwe(n,a,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pwe=10*60*1e3;class gwe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!vwe(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!xH(t)){const a=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(tl(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pwe&&this.cachedEventUids.clear(),this.cachedEventUids.has(CF(t))}saveEventToCache(t){this.cachedEventUids.add(CF(t)),this.lastProcessedEventTime=Date.now()}}function CF(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function xH({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function vwe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xH(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ywe(e,t={}){return jo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xwe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wwe=/^https?/;async function bwe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await ywe(e);for(const r of t)try{if(_we(r))return}catch{}No(e,"unauthorized-domain")}function _we(e){const t=RC(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!wwe.test(r))return!1;if(xwe.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ewe=new xy(3e4,6e4);function kF(){const e=nl().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function Swe(e){return new Promise((t,r)=>{var a,i,s;function n(){kF(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kF(),r(tl(e,"network-request-failed"))},timeout:Ewe.get()})}if((i=(a=nl().gapi)==null?void 0:a.iframes)!=null&&i.Iframe)t(gapi.iframes.getContext());else if((s=nl().gapi)!=null&&s.load)n();else{const o=h1e("iframefcb");return nl()[o]=()=>{gapi.load?n():r(tl(e,"network-request-failed"))},ZW(`${f1e()}?onload=${o}`).catch(l=>r(l))}}).catch(t=>{throw X1=null,t})}let X1=null;function Twe(e){return X1=X1||Swe(e),X1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Awe=new xy(5e3,15e3),Cwe="__/auth/iframe",kwe="emulator/auth/iframe",Nwe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Pwe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Iwe(e){const t=e.config;ct(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?NI(t,kwe):`https://${e.config.authDomain}/${Cwe}`,n={apiKey:t.apiKey,appName:e.name,v:oh},a=Pwe.get(e.config.apiHost);a&&(n.eid=a);const i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${yy(n).slice(1)}`}async function Owe(e){const t=await Twe(e),r=nl().gapi;return ct(r,e,"internal-error"),t.open({where:document.body,url:Iwe(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nwe,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const s=tl(e,"network-request-failed"),o=nl().setTimeout(()=>{i(s)},Awe.get());function l(){nl().clearTimeout(o),a(n)}n.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dwe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jwe=500,Rwe=600,Mwe="_blank",Fwe="http://localhost";class NF{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lwe(e,t,r,n=jwe,a=Rwe){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...Dwe,width:n.toString(),height:a.toString(),top:i,left:s},c=qa().toLowerCase();r&&(o=GW(c)?Mwe:r),WW(c)&&(t=t||Fwe,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,p])=>`${h}${m}=${p},`,"");if(n1e(c)&&o!=="_self")return $we(t||"",o),new NF(null);const f=window.open(t||"",o,u);ct(f,e,"popup-blocked");try{f.focus()}catch{}return new NF(f)}function $we(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bwe="__/auth/handler",Uwe="emulator/auth/handler",Vwe=encodeURIComponent("fac");async function PF(e,t,r,n,a,i){ct(e.config.authDomain,e,"auth-domain-config-required"),ct(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:oh,eventId:a};if(t instanceof rH){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",_ye(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(t instanceof by){const u=t.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Vwe}=${encodeURIComponent(l)}`:"";return`${zwe(e)}?${yy(o).slice(1)}${c}`}function zwe({config:e}){return e.emulator?NI(e,Uwe):`https://${e.authDomain}/${Bwe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="webStorageSupport";class Wwe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hH,this._completeRedirectFn=mwe,this._overrideRedirectResult=dwe}async _openPopup(t,r,n,a){var s;fc((s=this.eventManagers[t._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await PF(t,r,n,RC(),a);return Lwe(t,i,RI())}async _openRedirect(t,r,n,a){await this._originValidation(t);const i=await PF(t,r,n,RC(),a);return K1e(i),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(fc(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await Owe(t),n=new gwe(t);return r.register("authEvent",a=>(ct(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(nT,{type:nT},a=>{var s;const i=(s=a==null?void 0:a[0])==null?void 0:s[nT];i!==void 0&&r(!!i),No(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=bwe(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return QW()||HW()||II()}}const Hwe=Wwe;var IF="@firebase/auth",OF="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gwe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kwe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qwe(e){ko(new zs("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;ct(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JW(e)},c=new c1e(n,a,i,l);return x1e(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),ko(new zs("auth-internal",t=>{const r=ad(t.getProvider("auth").getImmediate());return(n=>new Gwe(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ii(IF,OF,Kwe(e)),Ii(IF,OF,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ywe=5*60,Xwe=TW("authIdTokenMaxAge")||Ywe;let DF=null;const Qwe=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Xwe)return;const a=r==null?void 0:r.token;DF!==a&&(DF=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Jwe(e=rE()){const t=nd(e,"auth");if(t.isInitialized())return t.getImmediate();const r=y1e(e,{popupRedirectResolver:Hwe,persistence:[rwe,W1e,hH]}),n=TW("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const s=Qwe(i.toString());U1e(r,s,()=>s(r.currentUser)),B1e(r,o=>s(o))}}const a=_W("auth");return a&&w1e(r,`http://${a}`),r}function Zwe(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}u1e({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=a=>{const i=tl("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",Zwe().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qwe("Browser");var ebe="firebase",tbe="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(ebe,tbe,"app");var jF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eu,wH;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,_){function A(){}A.prototype=_.prototype,S.D=_.prototype,S.prototype=new A,S.prototype.constructor=S,S.C=function(P,N,I){for(var D=Array(arguments.length-2),M=2;M<arguments.length;M++)D[M-2]=arguments[M];return _.prototype[N].apply(P,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,_,A){A||(A=0);var P=Array(16);if(typeof _=="string")for(var N=0;16>N;++N)P[N]=_.charCodeAt(A++)|_.charCodeAt(A++)<<8|_.charCodeAt(A++)<<16|_.charCodeAt(A++)<<24;else for(N=0;16>N;++N)P[N]=_[A++]|_[A++]<<8|_[A++]<<16|_[A++]<<24;_=S.g[0],A=S.g[1],N=S.g[2];var I=S.g[3],D=_+(I^A&(N^I))+P[0]+3614090360&4294967295;_=A+(D<<7&4294967295|D>>>25),D=I+(N^_&(A^N))+P[1]+3905402710&4294967295,I=_+(D<<12&4294967295|D>>>20),D=N+(A^I&(_^A))+P[2]+606105819&4294967295,N=I+(D<<17&4294967295|D>>>15),D=A+(_^N&(I^_))+P[3]+3250441966&4294967295,A=N+(D<<22&4294967295|D>>>10),D=_+(I^A&(N^I))+P[4]+4118548399&4294967295,_=A+(D<<7&4294967295|D>>>25),D=I+(N^_&(A^N))+P[5]+1200080426&4294967295,I=_+(D<<12&4294967295|D>>>20),D=N+(A^I&(_^A))+P[6]+2821735955&4294967295,N=I+(D<<17&4294967295|D>>>15),D=A+(_^N&(I^_))+P[7]+4249261313&4294967295,A=N+(D<<22&4294967295|D>>>10),D=_+(I^A&(N^I))+P[8]+1770035416&4294967295,_=A+(D<<7&4294967295|D>>>25),D=I+(N^_&(A^N))+P[9]+2336552879&4294967295,I=_+(D<<12&4294967295|D>>>20),D=N+(A^I&(_^A))+P[10]+4294925233&4294967295,N=I+(D<<17&4294967295|D>>>15),D=A+(_^N&(I^_))+P[11]+2304563134&4294967295,A=N+(D<<22&4294967295|D>>>10),D=_+(I^A&(N^I))+P[12]+1804603682&4294967295,_=A+(D<<7&4294967295|D>>>25),D=I+(N^_&(A^N))+P[13]+4254626195&4294967295,I=_+(D<<12&4294967295|D>>>20),D=N+(A^I&(_^A))+P[14]+2792965006&4294967295,N=I+(D<<17&4294967295|D>>>15),D=A+(_^N&(I^_))+P[15]+1236535329&4294967295,A=N+(D<<22&4294967295|D>>>10),D=_+(N^I&(A^N))+P[1]+4129170786&4294967295,_=A+(D<<5&4294967295|D>>>27),D=I+(A^N&(_^A))+P[6]+3225465664&4294967295,I=_+(D<<9&4294967295|D>>>23),D=N+(_^A&(I^_))+P[11]+643717713&4294967295,N=I+(D<<14&4294967295|D>>>18),D=A+(I^_&(N^I))+P[0]+3921069994&4294967295,A=N+(D<<20&4294967295|D>>>12),D=_+(N^I&(A^N))+P[5]+3593408605&4294967295,_=A+(D<<5&4294967295|D>>>27),D=I+(A^N&(_^A))+P[10]+38016083&4294967295,I=_+(D<<9&4294967295|D>>>23),D=N+(_^A&(I^_))+P[15]+3634488961&4294967295,N=I+(D<<14&4294967295|D>>>18),D=A+(I^_&(N^I))+P[4]+3889429448&4294967295,A=N+(D<<20&4294967295|D>>>12),D=_+(N^I&(A^N))+P[9]+568446438&4294967295,_=A+(D<<5&4294967295|D>>>27),D=I+(A^N&(_^A))+P[14]+3275163606&4294967295,I=_+(D<<9&4294967295|D>>>23),D=N+(_^A&(I^_))+P[3]+4107603335&4294967295,N=I+(D<<14&4294967295|D>>>18),D=A+(I^_&(N^I))+P[8]+1163531501&4294967295,A=N+(D<<20&4294967295|D>>>12),D=_+(N^I&(A^N))+P[13]+2850285829&4294967295,_=A+(D<<5&4294967295|D>>>27),D=I+(A^N&(_^A))+P[2]+4243563512&4294967295,I=_+(D<<9&4294967295|D>>>23),D=N+(_^A&(I^_))+P[7]+1735328473&4294967295,N=I+(D<<14&4294967295|D>>>18),D=A+(I^_&(N^I))+P[12]+2368359562&4294967295,A=N+(D<<20&4294967295|D>>>12),D=_+(A^N^I)+P[5]+4294588738&4294967295,_=A+(D<<4&4294967295|D>>>28),D=I+(_^A^N)+P[8]+2272392833&4294967295,I=_+(D<<11&4294967295|D>>>21),D=N+(I^_^A)+P[11]+1839030562&4294967295,N=I+(D<<16&4294967295|D>>>16),D=A+(N^I^_)+P[14]+4259657740&4294967295,A=N+(D<<23&4294967295|D>>>9),D=_+(A^N^I)+P[1]+2763975236&4294967295,_=A+(D<<4&4294967295|D>>>28),D=I+(_^A^N)+P[4]+1272893353&4294967295,I=_+(D<<11&4294967295|D>>>21),D=N+(I^_^A)+P[7]+4139469664&4294967295,N=I+(D<<16&4294967295|D>>>16),D=A+(N^I^_)+P[10]+3200236656&4294967295,A=N+(D<<23&4294967295|D>>>9),D=_+(A^N^I)+P[13]+681279174&4294967295,_=A+(D<<4&4294967295|D>>>28),D=I+(_^A^N)+P[0]+3936430074&4294967295,I=_+(D<<11&4294967295|D>>>21),D=N+(I^_^A)+P[3]+3572445317&4294967295,N=I+(D<<16&4294967295|D>>>16),D=A+(N^I^_)+P[6]+76029189&4294967295,A=N+(D<<23&4294967295|D>>>9),D=_+(A^N^I)+P[9]+3654602809&4294967295,_=A+(D<<4&4294967295|D>>>28),D=I+(_^A^N)+P[12]+3873151461&4294967295,I=_+(D<<11&4294967295|D>>>21),D=N+(I^_^A)+P[15]+530742520&4294967295,N=I+(D<<16&4294967295|D>>>16),D=A+(N^I^_)+P[2]+3299628645&4294967295,A=N+(D<<23&4294967295|D>>>9),D=_+(N^(A|~I))+P[0]+4096336452&4294967295,_=A+(D<<6&4294967295|D>>>26),D=I+(A^(_|~N))+P[7]+1126891415&4294967295,I=_+(D<<10&4294967295|D>>>22),D=N+(_^(I|~A))+P[14]+2878612391&4294967295,N=I+(D<<15&4294967295|D>>>17),D=A+(I^(N|~_))+P[5]+4237533241&4294967295,A=N+(D<<21&4294967295|D>>>11),D=_+(N^(A|~I))+P[12]+1700485571&4294967295,_=A+(D<<6&4294967295|D>>>26),D=I+(A^(_|~N))+P[3]+2399980690&4294967295,I=_+(D<<10&4294967295|D>>>22),D=N+(_^(I|~A))+P[10]+4293915773&4294967295,N=I+(D<<15&4294967295|D>>>17),D=A+(I^(N|~_))+P[1]+2240044497&4294967295,A=N+(D<<21&4294967295|D>>>11),D=_+(N^(A|~I))+P[8]+1873313359&4294967295,_=A+(D<<6&4294967295|D>>>26),D=I+(A^(_|~N))+P[15]+4264355552&4294967295,I=_+(D<<10&4294967295|D>>>22),D=N+(_^(I|~A))+P[6]+2734768916&4294967295,N=I+(D<<15&4294967295|D>>>17),D=A+(I^(N|~_))+P[13]+1309151649&4294967295,A=N+(D<<21&4294967295|D>>>11),D=_+(N^(A|~I))+P[4]+4149444226&4294967295,_=A+(D<<6&4294967295|D>>>26),D=I+(A^(_|~N))+P[11]+3174756917&4294967295,I=_+(D<<10&4294967295|D>>>22),D=N+(_^(I|~A))+P[2]+718787259&4294967295,N=I+(D<<15&4294967295|D>>>17),D=A+(I^(N|~_))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+_&4294967295,S.g[1]=S.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+I&4294967295}n.prototype.u=function(S,_){_===void 0&&(_=S.length);for(var A=_-this.blockSize,P=this.B,N=this.h,I=0;I<_;){if(N==0)for(;I<=A;)a(this,S,I),I+=this.blockSize;if(typeof S=="string"){for(;I<_;)if(P[N++]=S.charCodeAt(I++),N==this.blockSize){a(this,P),N=0;break}}else for(;I<_;)if(P[N++]=S[I++],N==this.blockSize){a(this,P),N=0;break}}this.h=N,this.o+=_},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var _=1;_<S.length-8;++_)S[_]=0;var A=8*this.o;for(_=S.length-8;_<S.length;++_)S[_]=A&255,A/=256;for(this.u(S),S=Array(16),_=A=0;4>_;++_)for(var P=0;32>P;P+=8)S[A++]=this.g[_]>>>P&255;return S};function i(S,_){var A=o;return Object.prototype.hasOwnProperty.call(A,S)?A[S]:A[S]=_(S)}function s(S,_){this.h=_;for(var A=[],P=!0,N=S.length-1;0<=N;N--){var I=S[N]|0;P&&I==_||(A[N]=I,P=!1)}this.g=A}var o={};function l(S){return-128<=S&&128>S?i(S,function(_){return new s([_|0],0>_?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return v(c(-S));for(var _=[],A=1,P=0;S>=A;P++)_[P]=S/A|0,A*=4294967296;return new s(_,0)}function u(S,_){if(S.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(S.charAt(0)=="-")return v(u(S.substring(1),_));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(_,8)),P=f,N=0;N<S.length;N+=8){var I=Math.min(8,S.length-N),D=parseInt(S.substring(N,N+I),_);8>I?(I=c(Math.pow(_,I)),P=P.j(I).add(c(D))):(P=P.j(A),P=P.add(c(D)))}return P}var f=l(0),h=l(1),m=l(16777216);e=s.prototype,e.m=function(){if(g(this))return-v(this).m();for(var S=0,_=1,A=0;A<this.g.length;A++){var P=this.i(A);S+=(0<=P?P:4294967296+P)*_,_*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(p(this))return"0";if(g(this))return"-"+v(this).toString(S);for(var _=c(Math.pow(S,6)),A=this,P="";;){var N=E(A,_).g;A=y(A,N.j(_));var I=((0<A.g.length?A.g[0]:A.h)>>>0).toString(S);if(A=N,p(A))return I+P;for(;6>I.length;)I="0"+I;P=I+P}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function p(S){if(S.h!=0)return!1;for(var _=0;_<S.g.length;_++)if(S.g[_]!=0)return!1;return!0}function g(S){return S.h==-1}e.l=function(S){return S=y(this,S),g(S)?-1:p(S)?0:1};function v(S){for(var _=S.g.length,A=[],P=0;P<_;P++)A[P]=~S.g[P];return new s(A,~S.h).add(h)}e.abs=function(){return g(this)?v(this):this},e.add=function(S){for(var _=Math.max(this.g.length,S.g.length),A=[],P=0,N=0;N<=_;N++){var I=P+(this.i(N)&65535)+(S.i(N)&65535),D=(I>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);P=D>>>16,I&=65535,D&=65535,A[N]=D<<16|I}return new s(A,A[A.length-1]&-2147483648?-1:0)};function y(S,_){return S.add(v(_))}e.j=function(S){if(p(this)||p(S))return f;if(g(this))return g(S)?v(this).j(v(S)):v(v(this).j(S));if(g(S))return v(this.j(v(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var _=this.g.length+S.g.length,A=[],P=0;P<2*_;P++)A[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<S.g.length;N++){var I=this.i(P)>>>16,D=this.i(P)&65535,M=S.i(N)>>>16,ee=S.i(N)&65535;A[2*P+2*N]+=D*ee,w(A,2*P+2*N),A[2*P+2*N+1]+=I*ee,w(A,2*P+2*N+1),A[2*P+2*N+1]+=D*M,w(A,2*P+2*N+1),A[2*P+2*N+2]+=I*M,w(A,2*P+2*N+2)}for(P=0;P<_;P++)A[P]=A[2*P+1]<<16|A[2*P];for(P=_;P<2*_;P++)A[P]=0;return new s(A,0)};function w(S,_){for(;(S[_]&65535)!=S[_];)S[_+1]+=S[_]>>>16,S[_]&=65535,_++}function b(S,_){this.g=S,this.h=_}function E(S,_){if(p(_))throw Error("division by zero");if(p(S))return new b(f,f);if(g(S))return _=E(v(S),_),new b(v(_.g),v(_.h));if(g(_))return _=E(S,v(_)),new b(v(_.g),_.h);if(30<S.g.length){if(g(S)||g(_))throw Error("slowDivide_ only works with positive integers.");for(var A=h,P=_;0>=P.l(S);)A=k(A),P=k(P);var N=C(A,1),I=C(P,1);for(P=C(P,2),A=C(A,2);!p(P);){var D=I.add(P);0>=D.l(S)&&(N=N.add(A),I=D),P=C(P,1),A=C(A,1)}return _=y(S,N.j(_)),new b(N,_)}for(N=f;0<=S.l(_);){for(A=Math.max(1,Math.floor(S.m()/_.m())),P=Math.ceil(Math.log(A)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),I=c(A),D=I.j(_);g(D)||0<D.l(S);)A-=P,I=c(A),D=I.j(_);p(I)&&(I=h),N=N.add(I),S=y(S,D)}return new b(N,S)}e.A=function(S){return E(this,S).h},e.and=function(S){for(var _=Math.max(this.g.length,S.g.length),A=[],P=0;P<_;P++)A[P]=this.i(P)&S.i(P);return new s(A,this.h&S.h)},e.or=function(S){for(var _=Math.max(this.g.length,S.g.length),A=[],P=0;P<_;P++)A[P]=this.i(P)|S.i(P);return new s(A,this.h|S.h)},e.xor=function(S){for(var _=Math.max(this.g.length,S.g.length),A=[],P=0;P<_;P++)A[P]=this.i(P)^S.i(P);return new s(A,this.h^S.h)};function k(S){for(var _=S.g.length+1,A=[],P=0;P<_;P++)A[P]=S.i(P)<<1|S.i(P-1)>>>31;return new s(A,S.h)}function C(S,_){var A=_>>5;_%=32;for(var P=S.g.length-A,N=[],I=0;I<P;I++)N[I]=0<_?S.i(I+A)>>>_|S.i(I+A+1)<<32-_:S.i(I+A);return new s(N,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,wH=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Eu=s}).apply(typeof jF<"u"?jF:typeof self<"u"?self:typeof window<"u"?window:{});var e1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bH,Vp,_H,Q1,LC,EH,SH,TH;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,O,j){return x==Array.prototype||x==Object.prototype||(x[O]=j.value),x};function r(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof e1=="object"&&e1];for(var O=0;O<x.length;++O){var j=x[O];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var n=r(this);function a(x,O){if(O)e:{var j=n;x=x.split(".");for(var H=0;H<x.length-1;H++){var de=x[H];if(!(de in j))break e;j=j[de]}x=x[x.length-1],H=j[x],O=O(H),O!=H&&O!=null&&t(j,x,{configurable:!0,writable:!0,value:O})}}function i(x,O){x instanceof String&&(x+="");var j=0,H=!1,de={next:function(){if(!H&&j<x.length){var be=j++;return{value:O(be,x[be]),done:!1}}return H=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}a("Array.prototype.values",function(x){return x||function(){return i(this,function(O,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(x){var O=typeof x;return O=O!="object"?O:x?Array.isArray(x)?"array":O:"null",O=="array"||O=="object"&&typeof x.length=="number"}function c(x){var O=typeof x;return O=="object"&&x!=null||O=="function"}function u(x,O,j){return x.call.apply(x.bind,arguments)}function f(x,O,j){if(!x)throw Error();if(2<arguments.length){var H=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,H),x.apply(O,de)}}return function(){return x.apply(O,arguments)}}function h(x,O,j){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function m(x,O){var j=Array.prototype.slice.call(arguments,1);return function(){var H=j.slice();return H.push.apply(H,arguments),x.apply(this,H)}}function p(x,O){function j(){}j.prototype=O.prototype,x.aa=O.prototype,x.prototype=new j,x.prototype.constructor=x,x.Qb=function(H,de,be){for(var $e=Array(arguments.length-2),cr=2;cr<arguments.length;cr++)$e[cr-2]=arguments[cr];return O.prototype[de].apply(H,$e)}}function g(x){const O=x.length;if(0<O){const j=Array(O);for(let H=0;H<O;H++)j[H]=x[H];return j}return[]}function v(x,O){for(let j=1;j<arguments.length;j++){const H=arguments[j];if(l(H)){const de=x.length||0,be=H.length||0;x.length=de+be;for(let $e=0;$e<be;$e++)x[de+$e]=H[$e]}else x.push(H)}}class y{constructor(O,j){this.i=O,this.j=j,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function w(x){return/^[\s\xa0]*$/.test(x)}function b(){var x=o.navigator;return x&&(x=x.userAgent)?x:""}function E(x){return E[" "](x),x}E[" "]=function(){};var k=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function C(x,O,j){for(const H in x)O.call(j,x[H],H,x)}function S(x,O){for(const j in x)O.call(void 0,x[j],j,x)}function _(x){const O={};for(const j in x)O[j]=x[j];return O}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(x,O){let j,H;for(let de=1;de<arguments.length;de++){H=arguments[de];for(j in H)x[j]=H[j];for(let be=0;be<A.length;be++)j=A[be],Object.prototype.hasOwnProperty.call(H,j)&&(x[j]=H[j])}}function N(x){var O=1;x=x.split(":");const j=[];for(;0<O&&x.length;)j.push(x.shift()),O--;return x.length&&j.push(x.join(":")),j}function I(x){o.setTimeout(()=>{throw x},0)}function D(){var x=L;let O=null;return x.g&&(O=x.g,x.g=x.g.next,x.g||(x.h=null),O.next=null),O}class M{constructor(){this.h=this.g=null}add(O,j){const H=ee.get();H.set(O,j),this.h?this.h.next=H:this.g=H,this.h=H}}var ee=new y(()=>new Q,x=>x.reset());class Q{constructor(){this.next=this.g=this.h=null}set(O,j){this.h=O,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let W,z=!1,L=new M,ae=()=>{const x=o.Promise.resolve(void 0);W=()=>{x.then(ue)}};var ue=()=>{for(var x;x=D();){try{x.h.call(x.g)}catch(j){I(j)}var O=ee;O.j(x),100>O.h&&(O.h++,x.next=O.g,O.g=x)}z=!1};function F(){this.s=this.s,this.C=this.C}F.prototype.s=!1,F.prototype.ma=function(){this.s||(this.s=!0,this.N())},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(x,O){this.type=x,this.g=this.target=O,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var x=!1,O=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const j=()=>{};o.addEventListener("test",j,O),o.removeEventListener("test",j,O)}catch{}return x}();function Y(x,O){if(U.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var j=this.type=x.type,H=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=O,O=x.relatedTarget){if(k){e:{try{E(O.nodeName);var de=!0;break e}catch{}de=!1}de||(O=null)}}else j=="mouseover"?O=x.fromElement:j=="mouseout"&&(O=x.toElement);this.relatedTarget=O,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:te[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&Y.aa.h.call(this)}}p(Y,U);var te={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),fe=0;function re(x,O,j,H,de){this.listener=x,this.proxy=null,this.src=O,this.type=j,this.capture=!!H,this.ha=de,this.key=++fe,this.da=this.fa=!1}function ce(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function ye(x){this.src=x,this.g={},this.h=0}ye.prototype.add=function(x,O,j,H,de){var be=x.toString();x=this.g[be],x||(x=this.g[be]=[],this.h++);var $e=Be(x,O,H,de);return-1<$e?(O=x[$e],j||(O.fa=!1)):(O=new re(O,this.src,be,!!H,de),O.fa=j,x.push(O)),O};function R(x,O){var j=O.type;if(j in x.g){var H=x.g[j],de=Array.prototype.indexOf.call(H,O,void 0),be;(be=0<=de)&&Array.prototype.splice.call(H,de,1),be&&(ce(O),x.g[j].length==0&&(delete x.g[j],x.h--))}}function Be(x,O,j,H){for(var de=0;de<x.length;++de){var be=x[de];if(!be.da&&be.listener==O&&be.capture==!!j&&be.ha==H)return de}return-1}var Re="closure_lm_"+(1e6*Math.random()|0),qe={};function Ue(x,O,j,H,de){if(Array.isArray(O)){for(var be=0;be<O.length;be++)Ue(x,O[be],j,H,de);return null}return j=xt(j),x&&x[ie]?x.K(O,j,c(H)?!!H.capture:!1,de):Se(x,O,j,!1,H,de)}function Se(x,O,j,H,de,be){if(!O)throw Error("Invalid event type");var $e=c(de)?!!de.capture:!!de,cr=br(x);if(cr||(x[Re]=cr=new ye(x)),j=cr.add(O,j,H,$e,be),j.proxy)return j;if(H=ht(),j.proxy=H,H.src=x,H.listener=j,x.addEventListener)K||(de=$e),de===void 0&&(de=!1),x.addEventListener(O.toString(),H,de);else if(x.attachEvent)x.attachEvent(ln(O.toString()),H);else if(x.addListener&&x.removeListener)x.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return j}function ht(){function x(j){return O.call(x.src,x.listener,j)}const O=Za;return x}function wr(x,O,j,H,de){if(Array.isArray(O))for(var be=0;be<O.length;be++)wr(x,O[be],j,H,de);else H=c(H)?!!H.capture:!!H,j=xt(j),x&&x[ie]?(x=x.i,O=String(O).toString(),O in x.g&&(be=x.g[O],j=Be(be,j,H,de),-1<j&&(ce(be[j]),Array.prototype.splice.call(be,j,1),be.length==0&&(delete x.g[O],x.h--)))):x&&(x=br(x))&&(O=x.g[O.toString()],x=-1,O&&(x=Be(O,j,H,de)),(j=-1<x?O[x]:null)&&Kt(j))}function Kt(x){if(typeof x!="number"&&x&&!x.da){var O=x.src;if(O&&O[ie])R(O.i,x);else{var j=x.type,H=x.proxy;O.removeEventListener?O.removeEventListener(j,H,x.capture):O.detachEvent?O.detachEvent(ln(j),H):O.addListener&&O.removeListener&&O.removeListener(H),(j=br(O))?(R(j,x),j.h==0&&(j.src=null,O[Re]=null)):ce(x)}}}function ln(x){return x in qe?qe[x]:qe[x]="on"+x}function Za(x,O){if(x.da)x=!0;else{O=new Y(O,this);var j=x.listener,H=x.ha||x.src;x.fa&&Kt(x),x=j.call(H,O)}return x}function br(x){return x=x[Re],x instanceof ye?x:null}var hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(x){return typeof x=="function"?x:(x[hr]||(x[hr]=function(O){return x.handleEvent(O)}),x[hr])}function jt(){F.call(this),this.i=new ye(this),this.M=this,this.F=null}p(jt,F),jt.prototype[ie]=!0,jt.prototype.removeEventListener=function(x,O,j,H){wr(this,x,O,j,H)};function _r(x,O){var j,H=x.F;if(H)for(j=[];H;H=H.F)j.push(H);if(x=x.M,H=O.type||O,typeof O=="string")O=new U(O,x);else if(O instanceof U)O.target=O.target||x;else{var de=O;O=new U(H,x),P(O,de)}if(de=!0,j)for(var be=j.length-1;0<=be;be--){var $e=O.g=j[be];de=Er($e,H,!0,O)&&de}if($e=O.g=x,de=Er($e,H,!0,O)&&de,de=Er($e,H,!1,O)&&de,j)for(be=0;be<j.length;be++)$e=O.g=j[be],de=Er($e,H,!1,O)&&de}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var x=this.i,O;for(O in x.g){for(var j=x.g[O],H=0;H<j.length;H++)ce(j[H]);delete x.g[O],x.h--}}this.F=null},jt.prototype.K=function(x,O,j,H){return this.i.add(String(x),O,!1,j,H)},jt.prototype.L=function(x,O,j,H){return this.i.add(String(x),O,!0,j,H)};function Er(x,O,j,H){if(O=x.i.g[String(O)],!O)return!0;O=O.concat();for(var de=!0,be=0;be<O.length;++be){var $e=O[be];if($e&&!$e.da&&$e.capture==j){var cr=$e.listener,ua=$e.ha||$e.src;$e.fa&&R(x.i,$e),de=cr.call(ua,H)!==!1&&de}}return de&&!H.defaultPrevented}function qn(x,O,j){if(typeof x=="function")j&&(x=h(x,j));else if(x&&typeof x.handleEvent=="function")x=h(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:o.setTimeout(x,O||0)}function yt(x){x.g=qn(()=>{x.g=null,x.i&&(x.i=!1,yt(x))},x.l);const O=x.h;x.h=null,x.m.apply(null,O)}class ar extends F{constructor(O,j){super(),this.m=O,this.l=j,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:yt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cn(x){F.call(this),this.h=x,this.g={}}p(cn,F);var lr=[];function ei(x){C(x.g,function(O,j){this.g.hasOwnProperty(j)&&Kt(O)},x),x.g={}}cn.prototype.N=function(){cn.aa.N.call(this),ei(this)},cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var eo=o.JSON.stringify,fs=o.JSON.parse,Li=class{stringify(x){return o.JSON.stringify(x,void 0)}parse(x){return o.JSON.parse(x,void 0)}};function hs(){}hs.prototype.h=null;function to(x){return x.h||(x.h=x.i())}function vd(){}var Al={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yd(){U.call(this,"d")}p(yd,U);function Fo(){U.call(this,"c")}p(Fo,U);var ro={},ph=null;function Fc(){return ph=ph||new jt}ro.La="serverreachability";function gh(x){U.call(this,ro.La,x)}p(gh,U);function Cl(x){const O=Fc();_r(O,new gh(O))}ro.STAT_EVENT="statevent";function xd(x,O){U.call(this,ro.STAT_EVENT,x),this.stat=O}p(xd,U);function On(x){const O=Fc();_r(O,new xd(O,x))}ro.Ma="timingevent";function Lo(x,O){U.call(this,ro.Ma,x),this.size=O}p(Lo,U);function no(x,O){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){x()},O)}function kl(){this.g=!0}kl.prototype.xa=function(){this.g=!1};function tp(x,O,j,H,de,be){x.info(function(){if(x.g)if(be)for(var $e="",cr=be.split("&"),ua=0;ua<cr.length;ua++){var zt=cr[ua].split("=");if(1<zt.length){var Ta=zt[0];zt=zt[1];var Aa=Ta.split("_");$e=2<=Aa.length&&Aa[1]=="type"?$e+(Ta+"="+zt+"&"):$e+(Ta+"=redacted&")}}else $e=null;else $e=be;return"XMLHTTP REQ ("+H+") [attempt "+de+"]: "+O+`
`+j+`
`+$e})}function rp(x,O,j,H,de,be,$e){x.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+de+"]: "+O+`
`+j+`
`+be+" "+$e})}function B(x,O,j,H){x.info(function(){return"XMLHTTP TEXT ("+O+"): "+G(x,j)+(H?" "+H:"")})}function X(x,O){x.info(function(){return"TIMEOUT: "+O})}kl.prototype.info=function(){};function G(x,O){if(!x.g)return O;if(!O)return null;try{var j=JSON.parse(O);if(j){for(x=0;x<j.length;x++)if(Array.isArray(j[x])){var H=j[x];if(!(2>H.length)){var de=H[1];if(Array.isArray(de)&&!(1>de.length)){var be=de[0];if(be!="noop"&&be!="stop"&&be!="close")for(var $e=1;$e<de.length;$e++)de[$e]=""}}}}return eo(j)}catch{return O}}var q={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},J={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Z;function he(){}p(he,hs),he.prototype.g=function(){return new XMLHttpRequest},he.prototype.i=function(){return{}},Z=new he;function _e(x,O,j,H){this.j=x,this.i=O,this.l=j,this.R=H||1,this.U=new cn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var pe={},ve={};function Pe(x,O,j){x.L=1,x.v=gx(Nl(O)),x.m=j,x.P=!0,V(x,null)}function V(x,O){x.F=Date.now(),xe(x),x.A=Nl(x.v);var j=x.A,H=x.R;Array.isArray(H)||(H=[String(H)]),fR(j.i,"t",H),x.C=0,j=x.j.J,x.h=new me,x.g=PR(x.j,j?O:null,!x.m),0<x.O&&(x.M=new ar(h(x.Y,x,x.g),x.O)),O=x.U,j=x.g,H=x.ca;var de="readystatechange";Array.isArray(de)||(de&&(lr[0]=de.toString()),de=lr);for(var be=0;be<de.length;be++){var $e=Ue(j,de[be],H||O.handleEvent,!1,O.h||O);if(!$e)break;O.g[$e.key]=$e}O=x.H?_(x.H):{},x.m?(x.u||(x.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,O)):(x.u="GET",x.g.ea(x.A,x.u,null,O)),Cl(),tp(x.i,x.u,x.A,x.l,x.R,x.m)}_e.prototype.ca=function(x){x=x.target;const O=this.M;O&&Pl(x)==3?O.j():this.Y(x)},_e.prototype.Y=function(x){try{if(x==this.g)e:{const Aa=Pl(this.g);var O=this.g.Ba();const bh=this.g.Z();if(!(3>Aa)&&(Aa!=3||this.g&&(this.h.h||this.g.oa()||xR(this.g)))){this.J||Aa!=4||O==7||(O==8||0>=bh?Cl(3):Cl(2)),we(this);var j=this.g.Z();this.X=j;t:if(se(this)){var H=xR(this.g);x="";var de=H.length,be=Pl(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ze(this),Te(this);var $e="";break t}this.h.i=new o.TextDecoder}for(O=0;O<de;O++)this.h.h=!0,x+=this.h.i.decode(H[O],{stream:!(be&&O==de-1)});H.length=0,this.h.g+=x,this.C=0,$e=this.h.g}else $e=this.g.oa();if(this.o=j==200,rp(this.i,this.u,this.A,this.l,this.R,Aa,j),this.o){if(this.T&&!this.K){t:{if(this.g){var cr,ua=this.g;if((cr=ua.g?ua.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(cr)){var zt=cr;break t}}zt=null}if(j=zt)B(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Me(this,j);else{this.o=!1,this.s=3,On(12),ze(this),Te(this);break e}}if(this.P){j=!0;let ao;for(;!this.J&&this.C<$e.length;)if(ao=le(this,$e),ao==ve){Aa==4&&(this.s=4,On(14),j=!1),B(this.i,this.l,null,"[Incomplete Response]");break}else if(ao==pe){this.s=4,On(15),B(this.i,this.l,$e,"[Invalid Chunk]"),j=!1;break}else B(this.i,this.l,ao,null),Me(this,ao);if(se(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Aa!=4||$e.length!=0||this.h.h||(this.s=1,On(16),j=!1),this.o=this.o&&j,!j)B(this.i,this.l,$e,"[Invalid Chunked Response]"),ze(this),Te(this);else if(0<$e.length&&!this.W){this.W=!0;var Ta=this.j;Ta.g==this&&Ta.ba&&!Ta.M&&(Ta.j.info("Great, no buffering proxy detected. Bytes received: "+$e.length),l2(Ta),Ta.M=!0,On(11))}}else B(this.i,this.l,$e,null),Me(this,$e);Aa==4&&ze(this),this.o&&!this.J&&(Aa==4?AR(this.j,this):(this.o=!1,xe(this)))}else Vre(this.g),j==400&&0<$e.indexOf("Unknown SID")?(this.s=3,On(12)):(this.s=0,On(13)),ze(this),Te(this)}}}catch{}finally{}};function se(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function le(x,O){var j=x.C,H=O.indexOf(`
`,j);return H==-1?ve:(j=Number(O.substring(j,H)),isNaN(j)?pe:(H+=1,H+j>O.length?ve:(O=O.slice(H,H+j),x.C=H+j,O)))}_e.prototype.cancel=function(){this.J=!0,ze(this)};function xe(x){x.S=Date.now()+x.I,oe(x,x.I)}function oe(x,O){if(x.B!=null)throw Error("WatchDog timer not null");x.B=no(h(x.ba,x),O)}function we(x){x.B&&(o.clearTimeout(x.B),x.B=null)}_e.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(X(this.i,this.A),this.L!=2&&(Cl(),On(17)),ze(this),this.s=2,Te(this)):oe(this,this.S-x)};function Te(x){x.j.G==0||x.J||AR(x.j,x)}function ze(x){we(x);var O=x.M;O&&typeof O.ma=="function"&&O.ma(),x.M=null,ei(x.U),x.g&&(O=x.g,x.g=null,O.abort(),O.ma())}function Me(x,O){try{var j=x.j;if(j.G!=0&&(j.g==x||We(j.h,x))){if(!x.K&&We(j.h,x)&&j.G==3){try{var H=j.Da.g.parse(O)}catch{H=null}if(Array.isArray(H)&&H.length==3){var de=H;if(de[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<x.F)_x(j),wx(j);else break e;o2(j),On(18)}}else j.za=de[1],0<j.za-j.T&&37500>de[2]&&j.F&&j.v==0&&!j.C&&(j.C=no(h(j.Za,j),6e3));if(1>=rt(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else bd(j,11)}else if((x.K||j.g==x)&&_x(j),!w(O))for(de=j.Da.g.parse(O),O=0;O<de.length;O++){let zt=de[O];if(j.T=zt[0],zt=zt[1],j.G==2)if(zt[0]=="c"){j.K=zt[1],j.ia=zt[2];const Ta=zt[3];Ta!=null&&(j.la=Ta,j.j.info("VER="+j.la));const Aa=zt[4];Aa!=null&&(j.Aa=Aa,j.j.info("SVER="+j.Aa));const bh=zt[5];bh!=null&&typeof bh=="number"&&0<bh&&(H=1.5*bh,j.L=H,j.j.info("backChannelRequestTimeoutMs_="+H)),H=j;const ao=x.g;if(ao){const Sx=ao.g?ao.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sx){var be=H.h;be.g||Sx.indexOf("spdy")==-1&&Sx.indexOf("quic")==-1&&Sx.indexOf("h2")==-1||(be.j=be.l,be.g=new Set,be.h&&(mr(be,be.h),be.h=null))}if(H.D){const c2=ao.g?ao.g.getResponseHeader("X-HTTP-Session-Id"):null;c2&&(H.ya=c2,Sr(H.I,H.D,c2))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-x.F,j.j.info("Handshake RTT: "+j.R+"ms")),H=j;var $e=x;if(H.qa=NR(H,H.J?H.ia:null,H.W),$e.K){Sa(H.h,$e);var cr=$e,ua=H.L;ua&&(cr.I=ua),cr.B&&(we(cr),xe(cr)),H.g=$e}else SR(H);0<j.i.length&&bx(j)}else zt[0]!="stop"&&zt[0]!="close"||bd(j,7);else j.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?bd(j,7):s2(j):zt[0]!="noop"&&j.l&&j.l.ta(zt),j.v=0)}}Cl(4)}catch{}}var mt=class{constructor(x,O){this.g=x,this.map=O}};function tt(x){this.l=x||10,o.PerformanceNavigationTiming?(x=o.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ze(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function rt(x){return x.h?1:x.g?x.g.size:0}function We(x,O){return x.h?x.h==O:x.g?x.g.has(O):!1}function mr(x,O){x.g?x.g.add(O):x.h=O}function Sa(x,O){x.h&&x.h==O?x.h=null:x.g&&x.g.has(O)&&x.g.delete(O)}tt.prototype.cancel=function(){if(this.i=ca(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function ca(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let O=x.i;for(const j of x.g.values())O=O.concat(j.D);return O}return g(x.i)}function Lc(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(l(x)){for(var O=[],j=x.length,H=0;H<j;H++)O.push(x[H]);return O}O=[],j=0;for(H in x)O[j++]=x[H];return O}function vh(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(l(x)||typeof x=="string"){var O=[];x=x.length;for(var j=0;j<x;j++)O.push(j);return O}O=[],j=0;for(const H in x)O[j++]=H;return O}}}function yh(x,O){if(x.forEach&&typeof x.forEach=="function")x.forEach(O,void 0);else if(l(x)||typeof x=="string")Array.prototype.forEach.call(x,O,void 0);else for(var j=vh(x),H=Lc(x),de=H.length,be=0;be<de;be++)O.call(void 0,H[be],j&&j[be],x)}var oR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nre(x,O){if(x){x=x.split("&");for(var j=0;j<x.length;j++){var H=x[j].indexOf("="),de=null;if(0<=H){var be=x[j].substring(0,H);de=x[j].substring(H+1)}else be=x[j];O(be,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function wd(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof wd){this.h=x.h,mx(this,x.j),this.o=x.o,this.g=x.g,px(this,x.s),this.l=x.l;var O=x.i,j=new ip;j.i=O.i,O.g&&(j.g=new Map(O.g),j.h=O.h),lR(this,j),this.m=x.m}else x&&(O=String(x).match(oR))?(this.h=!1,mx(this,O[1]||"",!0),this.o=np(O[2]||""),this.g=np(O[3]||"",!0),px(this,O[4]),this.l=np(O[5]||"",!0),lR(this,O[6]||"",!0),this.m=np(O[7]||"")):(this.h=!1,this.i=new ip(null,this.h))}wd.prototype.toString=function(){var x=[],O=this.j;O&&x.push(ap(O,cR,!0),":");var j=this.g;return(j||O=="file")&&(x.push("//"),(O=this.o)&&x.push(ap(O,cR,!0),"@"),x.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&x.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&x.push("/"),x.push(ap(j,j.charAt(0)=="/"?Ore:Ire,!0))),(j=this.i.toString())&&x.push("?",j),(j=this.m)&&x.push("#",ap(j,jre)),x.join("")};function Nl(x){return new wd(x)}function mx(x,O,j){x.j=j?np(O,!0):O,x.j&&(x.j=x.j.replace(/:$/,""))}function px(x,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);x.s=O}else x.s=null}function lR(x,O,j){O instanceof ip?(x.i=O,Rre(x.i,x.h)):(j||(O=ap(O,Dre)),x.i=new ip(O,x.h))}function Sr(x,O,j){x.i.set(O,j)}function gx(x){return Sr(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function np(x,O){return x?O?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function ap(x,O,j){return typeof x=="string"?(x=encodeURI(x).replace(O,Pre),j&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function Pre(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var cR=/[#\/\?@]/g,Ire=/[#\?:]/g,Ore=/[#\?]/g,Dre=/[#\?@]/g,jre=/#/g;function ip(x,O){this.h=this.g=null,this.i=x||null,this.j=!!O}function $c(x){x.g||(x.g=new Map,x.h=0,x.i&&Nre(x.i,function(O,j){x.add(decodeURIComponent(O.replace(/\+/g," ")),j)}))}e=ip.prototype,e.add=function(x,O){$c(this),this.i=null,x=xh(this,x);var j=this.g.get(x);return j||this.g.set(x,j=[]),j.push(O),this.h+=1,this};function uR(x,O){$c(x),O=xh(x,O),x.g.has(O)&&(x.i=null,x.h-=x.g.get(O).length,x.g.delete(O))}function dR(x,O){return $c(x),O=xh(x,O),x.g.has(O)}e.forEach=function(x,O){$c(this),this.g.forEach(function(j,H){j.forEach(function(de){x.call(O,de,H,this)},this)},this)},e.na=function(){$c(this);const x=Array.from(this.g.values()),O=Array.from(this.g.keys()),j=[];for(let H=0;H<O.length;H++){const de=x[H];for(let be=0;be<de.length;be++)j.push(O[H])}return j},e.V=function(x){$c(this);let O=[];if(typeof x=="string")dR(this,x)&&(O=O.concat(this.g.get(xh(this,x))));else{x=Array.from(this.g.values());for(let j=0;j<x.length;j++)O=O.concat(x[j])}return O},e.set=function(x,O){return $c(this),this.i=null,x=xh(this,x),dR(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[O]),this.h+=1,this},e.get=function(x,O){return x?(x=this.V(x),0<x.length?String(x[0]):O):O};function fR(x,O,j){uR(x,O),0<j.length&&(x.i=null,x.g.set(xh(x,O),g(j)),x.h+=j.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],O=Array.from(this.g.keys());for(var j=0;j<O.length;j++){var H=O[j];const be=encodeURIComponent(String(H)),$e=this.V(H);for(H=0;H<$e.length;H++){var de=be;$e[H]!==""&&(de+="="+encodeURIComponent(String($e[H]))),x.push(de)}}return this.i=x.join("&")};function xh(x,O){return O=String(O),x.j&&(O=O.toLowerCase()),O}function Rre(x,O){O&&!x.j&&($c(x),x.i=null,x.g.forEach(function(j,H){var de=H.toLowerCase();H!=de&&(uR(this,H),fR(this,de,j))},x)),x.j=O}function Mre(x,O){const j=new kl;if(o.Image){const H=new Image;H.onload=m(Bc,j,"TestLoadImage: loaded",!0,O,H),H.onerror=m(Bc,j,"TestLoadImage: error",!1,O,H),H.onabort=m(Bc,j,"TestLoadImage: abort",!1,O,H),H.ontimeout=m(Bc,j,"TestLoadImage: timeout",!1,O,H),o.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=x}else O(!1)}function Fre(x,O){const j=new kl,H=new AbortController,de=setTimeout(()=>{H.abort(),Bc(j,"TestPingServer: timeout",!1,O)},1e4);fetch(x,{signal:H.signal}).then(be=>{clearTimeout(de),be.ok?Bc(j,"TestPingServer: ok",!0,O):Bc(j,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(de),Bc(j,"TestPingServer: error",!1,O)})}function Bc(x,O,j,H,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),H(j)}catch{}}function Lre(){this.g=new Li}function $re(x,O,j){const H=j||"";try{yh(x,function(de,be){let $e=de;c(de)&&($e=eo(de)),O.push(H+be+"="+encodeURIComponent($e))})}catch(de){throw O.push(H+"type="+encodeURIComponent("_badmap")),de}}function vx(x){this.l=x.Ub||null,this.j=x.eb||!1}p(vx,hs),vx.prototype.g=function(){return new yx(this.l,this.j)},vx.prototype.i=function(x){return function(){return x}}({});function yx(x,O){jt.call(this),this.D=x,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(yx,jt),e=yx.prototype,e.open=function(x,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=O,this.readyState=1,op(this)},e.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(O.body=x),(this.D||o).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sp(this)),this.readyState=0},e.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,op(this)),this.g&&(this.readyState=3,op(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hR(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function hR(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}e.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var O=x.value?x.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!x.done}))&&(this.response=this.responseText+=O)}x.done?sp(this):op(this),this.readyState==3&&hR(this)}},e.Ra=function(x){this.g&&(this.response=this.responseText=x,sp(this))},e.Qa=function(x){this.g&&(this.response=x,sp(this))},e.ga=function(){this.g&&sp(this)};function sp(x){x.readyState=4,x.l=null,x.j=null,x.v=null,op(x)}e.setRequestHeader=function(x,O){this.u.append(x,O)},e.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],O=this.h.entries();for(var j=O.next();!j.done;)j=j.value,x.push(j[0]+": "+j[1]),j=O.next();return x.join(`\r
`)};function op(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(yx.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function mR(x){let O="";return C(x,function(j,H){O+=H,O+=":",O+=j,O+=`\r
`}),O}function i2(x,O,j){e:{for(H in j){var H=!1;break e}H=!0}H||(j=mR(j),typeof x=="string"?j!=null&&encodeURIComponent(String(j)):Sr(x,O,j))}function Qr(x){jt.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(Qr,jt);var Bre=/^https?$/i,Ure=["POST","PUT"];e=Qr.prototype,e.Ha=function(x){this.J=x},e.ea=function(x,O,j,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);O=O?O.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Z.g(),this.v=this.o?to(this.o):to(Z),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(O,String(x),!0),this.B=!1}catch(be){pR(this,be);return}if(x=j||"",j=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var de in H)j.set(de,H[de]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const be of H.keys())j.set(be,H.get(be));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(j.keys()).find(be=>be.toLowerCase()=="content-type"),de=o.FormData&&x instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Ure,O,void 0))||H||de||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[be,$e]of j)this.g.setRequestHeader(be,$e);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yR(this),this.u=!0,this.g.send(x),this.u=!1}catch(be){pR(this,be)}};function pR(x,O){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=O,x.m=5,gR(x),xx(x)}function gR(x){x.A||(x.A=!0,_r(x,"complete"),_r(x,"error"))}e.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,_r(this,"complete"),_r(this,"abort"),xx(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xx(this,!0)),Qr.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?vR(this):this.bb())},e.bb=function(){vR(this)};function vR(x){if(x.h&&typeof s<"u"&&(!x.v[1]||Pl(x)!=4||x.Z()!=2)){if(x.u&&Pl(x)==4)qn(x.Ea,0,x);else if(_r(x,"readystatechange"),Pl(x)==4){x.h=!1;try{const $e=x.Z();e:switch($e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var j;if(!(j=O)){var H;if(H=$e===0){var de=String(x.D).match(oR)[1]||null;!de&&o.self&&o.self.location&&(de=o.self.location.protocol.slice(0,-1)),H=!Bre.test(de?de.toLowerCase():"")}j=H}if(j)_r(x,"complete"),_r(x,"success");else{x.m=6;try{var be=2<Pl(x)?x.g.statusText:""}catch{be=""}x.l=be+" ["+x.Z()+"]",gR(x)}}finally{xx(x)}}}}function xx(x,O){if(x.g){yR(x);const j=x.g,H=x.v[0]?()=>{}:null;x.g=null,x.v=null,O||_r(x,"ready");try{j.onreadystatechange=H}catch{}}}function yR(x){x.I&&(o.clearTimeout(x.I),x.I=null)}e.isActive=function(){return!!this.g};function Pl(x){return x.g?x.g.readyState:0}e.Z=function(){try{return 2<Pl(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(x){if(this.g){var O=this.g.responseText;return x&&O.indexOf(x)==0&&(O=O.substring(x.length)),fs(O)}};function xR(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Vre(x){const O={};x=(x.g&&2<=Pl(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<x.length;H++){if(w(x[H]))continue;var j=N(x[H]);const de=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const be=O[de]||[];O[de]=be,be.push(j)}S(O,function(H){return H.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lp(x,O,j){return j&&j.internalChannelParams&&j.internalChannelParams[x]||O}function wR(x){this.Aa=0,this.i=[],this.j=new kl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lp("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lp("baseRetryDelayMs",5e3,x),this.cb=lp("retryDelaySeedMs",1e4,x),this.Wa=lp("forwardChannelMaxRetries",2,x),this.wa=lp("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new tt(x&&x.concurrentRequestLimit),this.Da=new Lre,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=wR.prototype,e.la=8,e.G=1,e.connect=function(x,O,j,H){On(0),this.W=x,this.H=O||{},j&&H!==void 0&&(this.H.OSID=j,this.H.OAID=H),this.F=this.X,this.I=NR(this,null,this.W),bx(this)};function s2(x){if(bR(x),x.G==3){var O=x.U++,j=Nl(x.I);if(Sr(j,"SID",x.K),Sr(j,"RID",O),Sr(j,"TYPE","terminate"),cp(x,j),O=new _e(x,x.j,O),O.L=2,O.v=gx(Nl(j)),j=!1,o.navigator&&o.navigator.sendBeacon)try{j=o.navigator.sendBeacon(O.v.toString(),"")}catch{}!j&&o.Image&&(new Image().src=O.v,j=!0),j||(O.g=PR(O.j,null),O.g.ea(O.v)),O.F=Date.now(),xe(O)}kR(x)}function wx(x){x.g&&(l2(x),x.g.cancel(),x.g=null)}function bR(x){wx(x),x.u&&(o.clearTimeout(x.u),x.u=null),_x(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&o.clearTimeout(x.s),x.s=null)}function bx(x){if(!Ze(x.h)&&!x.s){x.s=!0;var O=x.Ga;W||ae(),z||(W(),z=!0),L.add(O,x),x.B=0}}function zre(x,O){return rt(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=O.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=no(h(x.Ga,x,O),CR(x,x.B)),x.B++,!0)}e.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const de=new _e(this,this.j,x);let be=this.o;if(this.S&&(be?(be=_(be),P(be,this.S)):be=this.S),this.m!==null||this.O||(de.H=be,be=null),this.P)e:{for(var O=0,j=0;j<this.i.length;j++){t:{var H=this.i[j];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(O+=H,4096<O){O=j;break e}if(O===4096||j===this.i.length-1){O=j+1;break e}}O=1e3}else O=1e3;O=ER(this,de,O),j=Nl(this.I),Sr(j,"RID",x),Sr(j,"CVER",22),this.D&&Sr(j,"X-HTTP-Session-Id",this.D),cp(this,j),be&&(this.O?O="headers="+encodeURIComponent(String(mR(be)))+"&"+O:this.m&&i2(j,this.m,be)),mr(this.h,de),this.Ua&&Sr(j,"TYPE","init"),this.P?(Sr(j,"$req",O),Sr(j,"SID","null"),de.T=!0,Pe(de,j,null)):Pe(de,j,O),this.G=2}}else this.G==3&&(x?_R(this,x):this.i.length==0||Ze(this.h)||_R(this))};function _R(x,O){var j;O?j=O.l:j=x.U++;const H=Nl(x.I);Sr(H,"SID",x.K),Sr(H,"RID",j),Sr(H,"AID",x.T),cp(x,H),x.m&&x.o&&i2(H,x.m,x.o),j=new _e(x,x.j,j,x.B+1),x.m===null&&(j.H=x.o),O&&(x.i=O.D.concat(x.i)),O=ER(x,j,1e3),j.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),mr(x.h,j),Pe(j,H,O)}function cp(x,O){x.H&&C(x.H,function(j,H){Sr(O,H,j)}),x.l&&yh({},function(j,H){Sr(O,H,j)})}function ER(x,O,j){j=Math.min(x.i.length,j);var H=x.l?h(x.l.Na,x.l,x):null;e:{var de=x.i;let be=-1;for(;;){const $e=["count="+j];be==-1?0<j?(be=de[0].g,$e.push("ofs="+be)):be=0:$e.push("ofs="+be);let cr=!0;for(let ua=0;ua<j;ua++){let zt=de[ua].g;const Ta=de[ua].map;if(zt-=be,0>zt)be=Math.max(0,de[ua].g-100),cr=!1;else try{$re(Ta,$e,"req"+zt+"_")}catch{H&&H(Ta)}}if(cr){H=$e.join("&");break e}}}return x=x.i.splice(0,j),O.D=x,H}function SR(x){if(!x.g&&!x.u){x.Y=1;var O=x.Fa;W||ae(),z||(W(),z=!0),L.add(O,x),x.v=0}}function o2(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=no(h(x.Fa,x),CR(x,x.v)),x.v++,!0)}e.Fa=function(){if(this.u=null,TR(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=no(h(this.ab,this),x)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,On(10),wx(this),TR(this))};function l2(x){x.A!=null&&(o.clearTimeout(x.A),x.A=null)}function TR(x){x.g=new _e(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var O=Nl(x.qa);Sr(O,"RID","rpc"),Sr(O,"SID",x.K),Sr(O,"AID",x.T),Sr(O,"CI",x.F?"0":"1"),!x.F&&x.ja&&Sr(O,"TO",x.ja),Sr(O,"TYPE","xmlhttp"),cp(x,O),x.m&&x.o&&i2(O,x.m,x.o),x.L&&(x.g.I=x.L);var j=x.g;x=x.ia,j.L=1,j.v=gx(Nl(O)),j.m=null,j.P=!0,V(j,x)}e.Za=function(){this.C!=null&&(this.C=null,wx(this),o2(this),On(19))};function _x(x){x.C!=null&&(o.clearTimeout(x.C),x.C=null)}function AR(x,O){var j=null;if(x.g==O){_x(x),l2(x),x.g=null;var H=2}else if(We(x.h,O))j=O.D,Sa(x.h,O),H=1;else return;if(x.G!=0){if(O.o)if(H==1){j=O.m?O.m.length:0,O=Date.now()-O.F;var de=x.B;H=Fc(),_r(H,new Lo(H,j)),bx(x)}else SR(x);else if(de=O.s,de==3||de==0&&0<O.X||!(H==1&&zre(x,O)||H==2&&o2(x)))switch(j&&0<j.length&&(O=x.h,O.i=O.i.concat(j)),de){case 1:bd(x,5);break;case 4:bd(x,10);break;case 3:bd(x,6);break;default:bd(x,2)}}}function CR(x,O){let j=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||(j*=2),j*O}function bd(x,O){if(x.j.info("Error code "+O),O==2){var j=h(x.fb,x),H=x.Xa;const de=!H;H=new wd(H||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||mx(H,"https"),gx(H),de?Mre(H.toString(),j):Fre(H.toString(),j)}else On(2);x.G=0,x.l&&x.l.sa(O),kR(x),bR(x)}e.fb=function(x){x?(this.j.info("Successfully pinged google.com"),On(2)):(this.j.info("Failed to ping google.com"),On(1))};function kR(x){if(x.G=0,x.ka=[],x.l){const O=ca(x.h);(O.length!=0||x.i.length!=0)&&(v(x.ka,O),v(x.ka,x.i),x.h.i.length=0,g(x.i),x.i.length=0),x.l.ra()}}function NR(x,O,j){var H=j instanceof wd?Nl(j):new wd(j);if(H.g!="")O&&(H.g=O+"."+H.g),px(H,H.s);else{var de=o.location;H=de.protocol,O=O?O+"."+de.hostname:de.hostname,de=+de.port;var be=new wd(null);H&&mx(be,H),O&&(be.g=O),de&&px(be,de),j&&(be.l=j),H=be}return j=x.D,O=x.ya,j&&O&&Sr(H,j,O),Sr(H,"VER",x.la),cp(x,H),H}function PR(x,O,j){if(O&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=x.Ca&&!x.pa?new Qr(new vx({eb:j})):new Qr(x.pa),O.Ha(x.J),O}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function IR(){}e=IR.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ex(){}Ex.prototype.g=function(x,O){return new $i(x,O)};function $i(x,O){jt.call(this),this.g=new wR(O),this.l=x,this.h=O&&O.messageUrlParams||null,x=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(x?x["X-WebChannel-Content-Type"]=O.messageContentType:x={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(x?x["X-WebChannel-Client-Profile"]=O.va:x={"X-WebChannel-Client-Profile":O.va}),this.g.S=x,(x=O&&O.Sb)&&!w(x)&&(this.g.m=x),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!w(O)&&(this.g.D=O,x=this.h,x!==null&&O in x&&(x=this.h,O in x&&delete x[O])),this.j=new wh(this)}p($i,jt),$i.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$i.prototype.close=function(){s2(this.g)},$i.prototype.o=function(x){var O=this.g;if(typeof x=="string"){var j={};j.__data__=x,x=j}else this.u&&(j={},j.__data__=eo(x),x=j);O.i.push(new mt(O.Ya++,x)),O.G==3&&bx(O)},$i.prototype.N=function(){this.g.l=null,delete this.j,s2(this.g),delete this.g,$i.aa.N.call(this)};function OR(x){yd.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var O=x.__sm__;if(O){e:{for(const j in O){x=j;break e}x=void 0}(this.i=x)&&(x=this.i,O=O!==null&&x in O?O[x]:void 0),this.data=O}else this.data=x}p(OR,yd);function DR(){Fo.call(this),this.status=1}p(DR,Fo);function wh(x){this.g=x}p(wh,IR),wh.prototype.ua=function(){_r(this.g,"a")},wh.prototype.ta=function(x){_r(this.g,new OR(x))},wh.prototype.sa=function(x){_r(this.g,new DR)},wh.prototype.ra=function(){_r(this.g,"b")},Ex.prototype.createWebChannel=Ex.prototype.g,$i.prototype.send=$i.prototype.o,$i.prototype.open=$i.prototype.m,$i.prototype.close=$i.prototype.close,TH=function(){return new Ex},SH=function(){return Fc()},EH=ro,LC={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},q.NO_ERROR=0,q.TIMEOUT=8,q.HTTP_ERROR=6,Q1=q,J.COMPLETE="complete",_H=J,vd.EventType=Al,Al.OPEN="a",Al.CLOSE="b",Al.ERROR="c",Al.MESSAGE="d",jt.prototype.listen=jt.prototype.K,Vp=vd,Qr.prototype.listenOnce=Qr.prototype.L,Qr.prototype.getLastError=Qr.prototype.Ka,Qr.prototype.getLastErrorCode=Qr.prototype.Ba,Qr.prototype.getStatus=Qr.prototype.Z,Qr.prototype.getResponseJson=Qr.prototype.Oa,Qr.prototype.getResponseText=Qr.prototype.oa,Qr.prototype.send=Qr.prototype.ea,Qr.prototype.setWithCredentials=Qr.prototype.Ha,bH=Qr}).apply(typeof e1<"u"?e1:typeof self<"u"?self:typeof window<"u"?window:{});const RF="@firebase/firestore",MF="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ja.UNAUTHENTICATED=new ja(null),ja.GOOGLE_CREDENTIALS=new ja("google-credentials-uid"),ja.FIRST_PARTY=new ja("first-party-uid"),ja.MOCK_USER=new ja("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf=new tE("@firebase/firestore");function Dh(){return Nf.logLevel}function He(e,...t){if(Nf.logLevel<=Pt.DEBUG){const r=t.map(FI);Nf.debug(`Firestore (${ym}): ${e}`,...r)}}function hc(e,...t){if(Nf.logLevel<=Pt.ERROR){const r=t.map(FI);Nf.error(`Firestore (${ym}): ${e}`,...r)}}function Pf(e,...t){if(Nf.logLevel<=Pt.WARN){const r=t.map(FI);Nf.warn(`Firestore (${ym}): ${e}`,...r)}}function FI(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,AH(e,n,r)}function AH(e,t,r){let n=`FIRESTORE (${ym}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw hc(n),new Error(n)}function Yt(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||AH(t,a,n)}function vt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Ys{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class kH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(ja.UNAUTHENTICATED))}shutdown(){}}class rbe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class nbe{constructor(t){this.t=t,this.currentUser=ja.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Yt(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new ec;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ec,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ec)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Yt(typeof n.accessToken=="string",31837,{l:n}),new CH(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new ja(t)}}class abe{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=ja.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ibe{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new abe(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(ja.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FF{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sbe{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Yt(this.o===void 0,3512);const n=i=>{i.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,He("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new FF(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Yt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new FF(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function obe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=obe(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function It(e,t){return e<t?-1:e>t?1:0}function $C(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const a=e.charAt(n),i=t.charAt(n);if(a!==i)return aT(a)===aT(i)?It(a,i):aT(a)?1:-1}return It(e.length,t.length)}const lbe=55296,cbe=57343;function aT(e){const t=e.charCodeAt(0);return t>=lbe&&t<=cbe}function F0(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF="__name__";class Ho{constructor(t,r,n){r===void 0?r=0:r>t.length&&ut(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&ut(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Ho.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Ho?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=Ho.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return It(t.length,r.length)}static compareSegments(t,r){const n=Ho.isNumericId(t),a=Ho.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Ho.extractNumericId(t).compare(Ho.extractNumericId(r)):$C(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Eu.fromString(t.substring(4,t.length-2))}}class vr extends Ho{construct(t,r,n){return new vr(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Ve(Ae.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new vr(r)}static emptyPath(){return new vr([])}}const ube=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ea extends Ho{construct(t,r,n){return new ea(t,r,n)}static isValidIdentifier(t){return ube.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ea.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LF}static keyField(){return new ea([LF])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Ve(Ae.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Ve(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ve(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Ve(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ea(r)}static emptyPath(){return new ea([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(t){this.path=t}static fromPath(t){return new at(vr.fromString(t))}static fromName(t){return new at(vr.fromString(t).popFirst(5))}static empty(){return new at(vr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&vr.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return vr.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new at(new vr(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(e,t,r){if(!r)throw new Ve(Ae.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function PH(e,t,r,n){if(t===!0&&n===!0)throw new Ve(Ae.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function $F(e){if(!at.isDocumentKey(e))throw new Ve(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function BF(e){if(at.isDocumentKey(e))throw new Ve(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function IH(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function oE(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ut(12329,{type:typeof e})}function za(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ve(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=oE(e);throw new Ve(Ae.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function dbe(e,t){if(t<=0)throw new Ve(Ae.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(e,t){const r={typeString:e};return t&&(r.value=t),r}function Ey(e,t){if(!IH(e))throw new Ve(Ae.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const a=t[n].typeString,i="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(a&&typeof s!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(i!==void 0&&s!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new Ve(Ae.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=-62135596800,VF=1e6;class dr{static now(){return dr.fromMillis(Date.now())}static fromDate(t){return dr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*VF);return new dr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Ve(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ve(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<UF)throw new Ve(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ve(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/VF}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:dr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ey(t,dr._jsonSchema))return new dr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-UF;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}dr._jsonSchemaVersion="firestore/timestamp/1.0",dr._jsonSchema={type:Nn("string",dr._jsonSchemaVersion),seconds:Nn("number"),nanoseconds:Nn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(t){return new gt(t)}static min(){return new gt(new dr(0,0))}static max(){return new gt(new dr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv=-1;function fbe(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=gt.fromTimestamp(n===1e9?new dr(r+1,0):new dr(r,n));return new Fu(a,at.empty(),t)}function hbe(e){return new Fu(e.readTime,e.key,pv)}class Fu{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new Fu(gt.min(),at.empty(),pv)}static max(){return new Fu(gt.max(),at.empty(),pv)}}function mbe(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=at.comparator(e.documentKey,t.documentKey),r!==0?r:It(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pbe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gbe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(e){if(e.code!==Ae.FAILED_PRECONDITION||e.message!==pbe)throw e;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new Ce((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof Ce?r:Ce.resolve(r)}catch(r){return Ce.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):Ce.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):Ce.reject(r)}static resolve(t){return new Ce((r,n)=>{r(t)})}static reject(t){return new Ce((r,n)=>{n(t)})}static waitFor(t){return new Ce((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=Ce.resolve(!1);for(const n of t)r=r.next(a=>a?Ce.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new Ce((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new Ce((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function vbe(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function wm(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lE.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=-1;function cE(e){return e==null}function ib(e){return e===0&&1/e==-1/0}function ybe(e){return typeof e=="number"&&Number.isInteger(e)&&!ib(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH="";function xbe(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=zF(t)),t=wbe(e.get(r),t);return zF(t)}function wbe(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case OH:r+="";break;default:r+=i}}return r}function zF(e){return e+OH+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WF(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function id(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function DH(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,r){this.comparator=t,this.root=r||pa.EMPTY}insert(t,r){return new Yr(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,pa.BLACK,null,null))}remove(t){return new Yr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pa.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new t1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new t1(this.root,t,this.comparator,!1)}getReverseIterator(){return new t1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new t1(this.root,t,this.comparator,!0)}}class t1{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pa{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??pa.RED,this.left=a??pa.EMPTY,this.right=i??pa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new pa(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return pa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return pa.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ut(27949);return t+(this.isRed()?0:1)}}pa.EMPTY=null,pa.RED=!0,pa.BLACK=!1;pa.EMPTY=new class{constructor(){this.size=0}get key(){throw ut(57766)}get value(){throw ut(16141)}get color(){throw ut(16727)}get left(){throw ut(29726)}get right(){throw ut(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new pa(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.comparator=t,this.data=new Yr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new HF(this.data.getIterator())}getIteratorFrom(t){return new HF(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Bn)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Bn(this.comparator);return r.data=t,r}}class HF{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(t){this.fields=t,t.sort(ea.comparator)}static empty(){return new Ji([])}unionWith(t){let r=new Bn(ea.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Ji(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return F0(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new jH("Invalid base64 string: "+i):i}}(t);return new ia(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new ia(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ia.EMPTY_BYTE_STRING=new ia("");const bbe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lu(e){if(Yt(!!e,39018),typeof e=="string"){let t=0;const r=bbe.exec(e);if(Yt(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:mn(e.seconds),nanos:mn(e.nanos)}}function mn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function $u(e){return typeof e=="string"?ia.fromBase64String(e):ia.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH="server_timestamp",MH="__type__",FH="__previous_value__",LH="__local_write_time__";function $I(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[MH])==null?void 0:n.stringValue)===RH}function uE(e){const t=e.mapValue.fields[FH];return $I(t)?uE(t):t}function gv(e){const t=Lu(e.mapValue.fields[LH].timestampValue);return new dr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _be{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const sb="(default)";class L0{constructor(t,r){this.projectId=t,this.database=r||sb}static empty(){return new L0("","")}get isDefaultDatabase(){return this.database===sb}isEqual(t){return t instanceof L0&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H="__type__",Ebe="__max__",r1={mapValue:{}},BH="__vector__",ob="value";function Bu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$I(e)?4:Tbe(e)?9007199254740991:Sbe(e)?10:11:ut(28295,{value:e})}function fl(e,t){if(e===t)return!0;const r=Bu(e);if(r!==Bu(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gv(e).isEqual(gv(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=Lu(a.timestampValue),o=Lu(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return $u(a.bytesValue).isEqual($u(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return mn(a.geoPointValue.latitude)===mn(i.geoPointValue.latitude)&&mn(a.geoPointValue.longitude)===mn(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return mn(a.integerValue)===mn(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=mn(a.doubleValue),o=mn(i.doubleValue);return s===o?ib(s)===ib(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return F0(e.arrayValue.values||[],t.arrayValue.values||[],fl);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(WF(s)!==WF(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!fl(s[l],o[l])))return!1;return!0}(e,t);default:return ut(52216,{left:e})}}function vv(e,t){return(e.values||[]).find(r=>fl(r,t))!==void 0}function $0(e,t){if(e===t)return 0;const r=Bu(e),n=Bu(t);if(r!==n)return It(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return It(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=mn(i.integerValue||i.doubleValue),l=mn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return GF(e.timestampValue,t.timestampValue);case 4:return GF(gv(e),gv(t));case 5:return $C(e.stringValue,t.stringValue);case 6:return function(i,s){const o=$u(i),l=$u(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=It(o[c],l[c]);if(u!==0)return u}return It(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=It(mn(i.latitude),mn(s.latitude));return o!==0?o:It(mn(i.longitude),mn(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return KF(e.arrayValue,t.arrayValue);case 10:return function(i,s){var h,m,p,g;const o=i.fields||{},l=s.fields||{},c=(h=o[ob])==null?void 0:h.arrayValue,u=(m=l[ob])==null?void 0:m.arrayValue,f=It(((p=c==null?void 0:c.values)==null?void 0:p.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:KF(c,u)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===r1.mapValue&&s===r1.mapValue)return 0;if(i===r1.mapValue)return 1;if(s===r1.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=$C(l[f],u[f]);if(h!==0)return h;const m=$0(o[l[f]],c[u[f]]);if(m!==0)return m}return It(l.length,u.length)}(e.mapValue,t.mapValue);default:throw ut(23264,{he:r})}}function GF(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return It(e,t);const r=Lu(e),n=Lu(t),a=It(r.seconds,n.seconds);return a!==0?a:It(r.nanos,n.nanos)}function KF(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=$0(r[a],n[a]);if(i)return i}return It(r.length,n.length)}function B0(e){return BC(e)}function BC(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=Lu(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return $u(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return at.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=BC(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${BC(r.fields[s])}`;return a+"}"}(e.mapValue):ut(61005,{value:e})}function J1(e){switch(Bu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uE(e);return t?16+J1(t):16;case 5:return 2*e.stringValue.length;case 6:return $u(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+J1(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return id(n.fields,(i,s)=>{a+=i.length+J1(s)}),a}(e.mapValue);default:throw ut(13486,{value:e})}}function qF(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function UC(e){return!!e&&"integerValue"in e}function BI(e){return!!e&&"arrayValue"in e}function YF(e){return!!e&&"nullValue"in e}function XF(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Z1(e){return!!e&&"mapValue"in e}function Sbe(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[$H])==null?void 0:n.stringValue)===BH}function gg(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return id(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=gg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=gg(e.arrayValue.values[r]);return t}return{...e}}function Tbe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Ebe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t){this.value=t}static empty(){return new wi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Z1(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=gg(r)}setAll(t){let r=ea.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=gg(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());Z1(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return fl(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];Z1(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){id(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new wi(gg(this.value))}}function UH(e){const t=[];return id(e.fields,(r,n)=>{const a=new ea([r]);if(Z1(n)){const i=UH(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new Ji(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new La(t,0,gt.min(),gt.min(),gt.min(),wi.empty(),0)}static newFoundDocument(t,r,n,a){return new La(t,1,r,gt.min(),n,a,0)}static newNoDocument(t,r){return new La(t,2,r,gt.min(),gt.min(),wi.empty(),0)}static newUnknownDocument(t,r){return new La(t,3,r,gt.min(),gt.min(),wi.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof La&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new La(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,r){this.position=t,this.inclusive=r}}function QF(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=at.comparator(at.fromName(s.referenceValue),r.key):n=$0(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function JF(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!fl(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(t,r="asc"){this.field=t,this.dir=r}}function Abe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{}class kn extends VH{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new kbe(t,r,n):r==="array-contains"?new Ibe(t,n):r==="in"?new Obe(t,n):r==="not-in"?new Dbe(t,n):r==="array-contains-any"?new jbe(t,n):new kn(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new Nbe(t,n):new Pbe(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison($0(r,this.value)):r!==null&&Bu(this.value)===Bu(r)&&this.matchesComparison($0(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Po extends VH{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new Po(t,r)}matches(t){return zH(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function zH(e){return e.op==="and"}function WH(e){return Cbe(e)&&zH(e)}function Cbe(e){for(const t of e.filters)if(t instanceof Po)return!1;return!0}function VC(e){if(e instanceof kn)return e.field.canonicalString()+e.op.toString()+B0(e.value);if(WH(e))return e.filters.map(t=>VC(t)).join(",");{const t=e.filters.map(r=>VC(r)).join(",");return`${e.op}(${t})`}}function HH(e,t){return e instanceof kn?function(n,a){return a instanceof kn&&n.op===a.op&&n.field.isEqual(a.field)&&fl(n.value,a.value)}(e,t):e instanceof Po?function(n,a){return a instanceof Po&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&HH(s,a.filters[o]),!0):!1}(e,t):void ut(19439)}function GH(e){return e instanceof kn?function(r){return`${r.field.canonicalString()} ${r.op} ${B0(r.value)}`}(e):e instanceof Po?function(r){return r.op.toString()+" {"+r.getFilters().map(GH).join(" ,")+"}"}(e):"Filter"}class kbe extends kn{constructor(t,r,n){super(t,r,n),this.key=at.fromName(n.referenceValue)}matches(t){const r=at.comparator(t.key,this.key);return this.matchesComparison(r)}}class Nbe extends kn{constructor(t,r){super(t,"in",r),this.keys=KH("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Pbe extends kn{constructor(t,r){super(t,"not-in",r),this.keys=KH("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function KH(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>at.fromName(n.referenceValue))}class Ibe extends kn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return BI(r)&&vv(r.arrayValue,this.value)}}class Obe extends kn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&vv(this.value.arrayValue,r)}}class Dbe extends kn{constructor(t,r){super(t,"not-in",r)}matches(t){if(vv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!vv(this.value.arrayValue,r)}}class jbe extends kn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!BI(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>vv(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rbe{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function ZF(e,t=null,r=[],n=[],a=null,i=null,s=null){return new Rbe(e,t,r,n,a,i,s)}function UI(e){const t=vt(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>VC(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),cE(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>B0(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>B0(n)).join(",")),t.Te=r}return t.Te}function VI(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Abe(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!HH(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!JF(e.startAt,t.startAt)&&JF(e.endAt,t.endAt)}function zC(e){return at.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Mbe(e,t,r,n,a,i,s,o){return new bm(e,t,r,n,a,i,s,o)}function dE(e){return new bm(e)}function eL(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function qH(e){return e.collectionGroup!==null}function vg(e){const t=vt(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Bn(ea.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new yv(i,n))}),r.has(ea.keyField().canonicalString())||t.Ie.push(new yv(ea.keyField(),n))}return t.Ie}function al(e){const t=vt(e);return t.Ee||(t.Ee=Fbe(t,vg(e))),t.Ee}function Fbe(e,t){if(e.limitType==="F")return ZF(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new yv(a.field,i)});const r=e.endAt?new lb(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new lb(e.startAt.position,e.startAt.inclusive):null;return ZF(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function WC(e,t){const r=e.filters.concat([t]);return new bm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function cb(e,t,r){return new bm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function fE(e,t){return VI(al(e),al(t))&&e.limitType===t.limitType}function YH(e){return`${UI(al(e))}|lt:${e.limitType}`}function jh(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>GH(a)).join(", ")}]`),cE(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>B0(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>B0(a)).join(",")),`Target(${n})`}(al(e))}; limitType=${e.limitType})`}function hE(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):at.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of vg(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=QF(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,vg(n),a)||n.endAt&&!function(s,o,l){const c=QF(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,vg(n),a))}(e,t)}function Lbe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function XH(e){return(t,r)=>{let n=!1;for(const a of vg(e)){const i=$be(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function $be(e,t,r){const n=e.field.isKeyField()?at.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?$0(l,c):ut(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return ut(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){id(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return DH(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bbe=new Yr(at.comparator);function mc(){return Bbe}const QH=new Yr(at.comparator);function zp(...e){let t=QH;for(const r of e)t=t.insert(r.key,r);return t}function JH(e){let t=QH;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Vd(){return yg()}function ZH(){return yg()}function yg(){return new lh(e=>e.toString(),(e,t)=>e.isEqual(t))}const Ube=new Yr(at.comparator),Vbe=new Bn(at.comparator);function Ot(...e){let t=Vbe;for(const r of e)t=t.add(r);return t}const zbe=new Bn(It);function Wbe(){return zbe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ib(t)?"-0":t}}function eG(e){return{integerValue:""+e}}function Hbe(e,t){return ybe(t)?eG(t):zI(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this._=void 0}}function Gbe(e,t,r){return e instanceof xv?function(a,i){const s={fields:{[MH]:{stringValue:RH},[LH]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&$I(i)&&(i=uE(i)),i&&(s.fields[FH]=i),{mapValue:s}}(r,t):e instanceof wv?rG(e,t):e instanceof bv?nG(e,t):function(a,i){const s=tG(a,i),o=tL(s)+tL(a.Ae);return UC(s)&&UC(a.Ae)?eG(o):zI(a.serializer,o)}(e,t)}function Kbe(e,t,r){return e instanceof wv?rG(e,t):e instanceof bv?nG(e,t):r}function tG(e,t){return e instanceof ub?function(n){return UC(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class xv extends mE{}class wv extends mE{constructor(t){super(),this.elements=t}}function rG(e,t){const r=aG(t);for(const n of e.elements)r.some(a=>fl(a,n))||r.push(n);return{arrayValue:{values:r}}}class bv extends mE{constructor(t){super(),this.elements=t}}function nG(e,t){let r=aG(t);for(const n of e.elements)r=r.filter(a=>!fl(a,n));return{arrayValue:{values:r}}}class ub extends mE{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function tL(e){return mn(e.integerValue||e.doubleValue)}function aG(e){return BI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qbe{constructor(t,r){this.field=t,this.transform=r}}function Ybe(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof wv&&a instanceof wv||n instanceof bv&&a instanceof bv?F0(n.elements,a.elements,fl):n instanceof ub&&a instanceof ub?fl(n.Ae,a.Ae):n instanceof xv&&a instanceof xv}(e.transform,t.transform)}class Xbe{constructor(t,r){this.version=t,this.transformResults=r}}class fi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new fi}static exists(t){return new fi(void 0,t)}static updateTime(t){return new fi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ew(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class pE{}function iG(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new gE(e.key,fi.none()):new Sy(e.key,e.data,fi.none());{const r=e.data,n=wi.empty();let a=new Bn(ea.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new sd(e.key,n,new Ji(a.toArray()),fi.none())}}function Qbe(e,t,r){e instanceof Sy?function(a,i,s){const o=a.value.clone(),l=nL(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof sd?function(a,i,s){if(!ew(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=nL(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(sG(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function xg(e,t,r,n){return e instanceof Sy?function(i,s,o,l){if(!ew(i.precondition,s))return o;const c=i.value.clone(),u=aL(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof sd?function(i,s,o,l){if(!ew(i.precondition,s))return o;const c=aL(i.fieldTransforms,l,s),u=s.data;return u.setAll(sG(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return ew(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function Jbe(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=tG(n.transform,a||null);i!=null&&(r===null&&(r=wi.empty()),r.set(n.field,i))}return r||null}function rL(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&F0(n,a,(i,s)=>Ybe(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Sy extends pE{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class sd extends pE{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function sG(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function nL(e,t,r){const n=new Map;Yt(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,Kbe(s,o,r[a]))}return n}function aL(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,Gbe(i,s,t))}return n}class gE extends pE{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zbe extends pE{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_e{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&Qbe(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=xg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=xg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=ZH();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=iG(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(gt.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Ot())}isEqual(t){return this.batchId===t.batchId&&F0(this.mutations,t.mutations,(r,n)=>rL(r,n))&&F0(this.baseMutations,t.baseMutations,(r,n)=>rL(r,n))}}class WI{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){Yt(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let a=function(){return Ube}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new WI(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t_e=class{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_e{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _n,Rt;function n_e(e){switch(e){case Ae.OK:return ut(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return ut(15467,{code:e})}}function oG(e){if(e===void 0)return hc("GRPC error has no .code"),Ae.UNKNOWN;switch(e){case _n.OK:return Ae.OK;case _n.CANCELLED:return Ae.CANCELLED;case _n.UNKNOWN:return Ae.UNKNOWN;case _n.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case _n.INTERNAL:return Ae.INTERNAL;case _n.UNAVAILABLE:return Ae.UNAVAILABLE;case _n.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case _n.NOT_FOUND:return Ae.NOT_FOUND;case _n.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case _n.ABORTED:return Ae.ABORTED;case _n.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case _n.DATA_LOSS:return Ae.DATA_LOSS;default:return ut(39323,{code:e})}}(Rt=_n||(_n={}))[Rt.OK=0]="OK",Rt[Rt.CANCELLED=1]="CANCELLED",Rt[Rt.UNKNOWN=2]="UNKNOWN",Rt[Rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rt[Rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rt[Rt.NOT_FOUND=5]="NOT_FOUND",Rt[Rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rt[Rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rt[Rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rt[Rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rt[Rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rt[Rt.ABORTED=10]="ABORTED",Rt[Rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rt[Rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rt[Rt.INTERNAL=13]="INTERNAL",Rt[Rt.UNAVAILABLE=14]="UNAVAILABLE",Rt[Rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_e(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_e=new Eu([4294967295,4294967295],0);function iL(e){const t=a_e().encode(e),r=new wH;return r.update(t),new Uint8Array(r.digest())}function sL(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Eu([r,n],0),new Eu([a,i],0)]}class HI{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Wp(`Invalid padding: ${r}`);if(n<0)throw new Wp(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Wp(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Wp(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Eu.fromNumber(this.ge)}ye(t,r,n){let a=t.add(r.multiply(Eu.fromNumber(n)));return a.compare(i_e)===1&&(a=new Eu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=iL(t),[n,a]=sL(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);if(!this.we(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new HI(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const r=iL(t),[n,a]=sL(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Wp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,Ty.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new vE(gt.min(),a,new Yr(It),mc(),Ot())}}class Ty{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Ty(n,r,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,r,n,a){this.be=t,this.removedTargetIds=r,this.key=n,this.De=a}}class lG{constructor(t,r){this.targetId=t,this.Ce=r}}class cG{constructor(t,r,n=ia.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class oL{constructor(){this.ve=0,this.Fe=lL(),this.Me=ia.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),r=Ot(),n=Ot();return this.Fe.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:ut(38017,{changeType:i})}}),new Ty(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=lL()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class s_e{constructor(t){this.Ge=t,this.ze=new Map,this.je=mc(),this.Je=n1(),this.He=n1(),this.Ye=new Yr(It)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:ut(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,a)=>{this.rt(a)&&r(a)})}st(t){const r=t.targetId,n=t.Ce.count,a=this.ot(r);if(a){const i=a.target;if(zC(i))if(n===0){const s=new at(i.path);this.et(r,s,La.newNoDocument(s,gt.min()))}else Yt(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),l=o?this.ct(o,t,s):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=$u(n).toUint8Array()}catch(l){if(l instanceof jH)return Pf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new HI(s,a,i)}catch(l){return Pf(l instanceof Wp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.et(r,i,null),a++)}),a}Tt(t){const r=new Map;this.ze.forEach((i,s)=>{const o=this.ot(s);if(o){if(i.current&&zC(o.target)){const l=new at(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,La.newNoDocument(l,t))}i.Be&&(r.set(s,i.ke()),i.qe())}});let n=Ot();this.He.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.je.forEach((i,s)=>s.setReadTime(t));const a=new vE(t,r,this.Ye,this.je,n);return this.je=mc(),this.Je=n1(),this.He=n1(),this.Ye=new Yr(It),a}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,r)?a.Qe(r,1):a.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new oL,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Bn(It),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Bn(It),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||He("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new oL),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function n1(){return new Yr(at.comparator)}function lL(){return new Yr(at.comparator)}const o_e={asc:"ASCENDING",desc:"DESCENDING"},l_e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c_e={and:"AND",or:"OR"};class u_e{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function HC(e,t){return e.useProto3Json||cE(t)?t:{value:t}}function db(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uG(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function d_e(e,t){return db(e,t.toTimestamp())}function il(e){return Yt(!!e,49232),gt.fromTimestamp(function(r){const n=Lu(r);return new dr(n.seconds,n.nanos)}(e))}function GI(e,t){return GC(e,t).canonicalString()}function GC(e,t){const r=function(a){return new vr(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function dG(e){const t=vr.fromString(e);return Yt(gG(t),10190,{key:t.toString()}),t}function KC(e,t){return GI(e.databaseId,t.path)}function iT(e,t){const r=dG(t);if(r.get(1)!==e.databaseId.projectId)throw new Ve(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Ve(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new at(hG(r))}function fG(e,t){return GI(e.databaseId,t)}function f_e(e){const t=dG(e);return t.length===4?vr.emptyPath():hG(t)}function qC(e){return new vr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function hG(e){return Yt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function cL(e,t,r){return{name:KC(e,t),fields:r.value.mapValue.fields}}function h_e(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ut(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Yt(u===void 0||typeof u=="string",58123),ia.fromBase64String(u||"")):(Yt(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),ia.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?Ae.UNKNOWN:oG(c.code);return new Ve(u,c.message||"")}(s);r=new cG(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=iT(e,n.document.name),i=il(n.document.updateTime),s=n.document.createTime?il(n.document.createTime):gt.min(),o=new wi({mapValue:{fields:n.document.fields}}),l=La.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new tw(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=iT(e,n.document),i=n.readTime?il(n.readTime):gt.min(),s=La.newNoDocument(a,i),o=n.removedTargetIds||[];r=new tw([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=iT(e,n.document),i=n.removedTargetIds||[];r=new tw([],i,a,null)}else{if(!("filter"in t))return ut(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new r_e(a,i),o=n.targetId;r=new lG(o,s)}}return r}function m_e(e,t){let r;if(t instanceof Sy)r={update:cL(e,t.key,t.value)};else if(t instanceof gE)r={delete:KC(e,t.key)};else if(t instanceof sd)r={update:cL(e,t.key,t.data),updateMask:E_e(t.fieldMask)};else{if(!(t instanceof Zbe))return ut(16599,{Vt:t.type});r={verify:KC(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof xv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof wv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof bv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ub)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw ut(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:d_e(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ut(27497)}(e,t.precondition)),r}function p_e(e,t){return e&&e.length>0?(Yt(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?il(a.updateTime):il(i);return s.isEqual(gt.min())&&(s=il(i)),new Xbe(s,a.transformResults||[])}(r,t))):[]}function g_e(e,t){return{documents:[fG(e,t.path)]}}function v_e(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=fG(e,a);const i=function(c){if(c.length!==0)return pG(Po.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Rh(h.field),direction:w_e(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=HC(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:r,parent:a}}function y_e(e){let t=f_e(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){Yt(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=mG(f);return h instanceof Po&&WH(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(p){return new yv(Mh(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,cE(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new lb(m,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new lb(m,h)}(r.endAt)),Mbe(t,a,s,i,o,"F",l,c)}function x_e(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ut(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function mG(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Mh(r.unaryFilter.field);return kn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Mh(r.unaryFilter.field);return kn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Mh(r.unaryFilter.field);return kn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Mh(r.unaryFilter.field);return kn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ut(61313);default:return ut(60726)}}(e):e.fieldFilter!==void 0?function(r){return kn.create(Mh(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ut(58110);default:return ut(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return Po.create(r.compositeFilter.filters.map(n=>mG(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ut(1026)}}(r.compositeFilter.op))}(e):ut(30097,{filter:e})}function w_e(e){return o_e[e]}function b_e(e){return l_e[e]}function __e(e){return c_e[e]}function Rh(e){return{fieldPath:e.canonicalString()}}function Mh(e){return ea.fromServerFormat(e.fieldPath)}function pG(e){return e instanceof kn?function(r){if(r.op==="=="){if(XF(r.value))return{unaryFilter:{field:Rh(r.field),op:"IS_NAN"}};if(YF(r.value))return{unaryFilter:{field:Rh(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(XF(r.value))return{unaryFilter:{field:Rh(r.field),op:"IS_NOT_NAN"}};if(YF(r.value))return{unaryFilter:{field:Rh(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rh(r.field),op:b_e(r.op),value:r.value}}}(e):e instanceof Po?function(r){const n=r.getFilters().map(a=>pG(a));return n.length===1?n[0]:{compositeFilter:{op:__e(r.op),filters:n}}}(e):ut(54877,{filter:e})}function E_e(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function gG(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,r,n,a,i=gt.min(),s=gt.min(),o=ia.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new du(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new du(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_e{constructor(t){this.yt=t}}function T_e(e){const t=y_e({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?cb(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_e{constructor(){this.Cn=new C_e}addToCollectionParentIndex(t,r){return this.Cn.add(r),Ce.resolve()}getCollectionParents(t,r){return Ce.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return Ce.resolve()}deleteFieldIndex(t,r){return Ce.resolve()}deleteAllFieldIndexes(t){return Ce.resolve()}createTargetIndexes(t,r){return Ce.resolve()}getDocumentsMatchingTarget(t,r){return Ce.resolve(null)}getIndexType(t,r){return Ce.resolve(0)}getFieldIndexes(t,r){return Ce.resolve([])}getNextCollectionGroupToUpdate(t){return Ce.resolve(null)}getMinOffset(t,r){return Ce.resolve(Fu.min())}getMinOffsetFromCollectionGroup(t,r){return Ce.resolve(Fu.min())}updateCollectionGroup(t,r,n){return Ce.resolve()}updateIndexEntries(t,r){return Ce.resolve()}}class C_e{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Bn(vr.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Bn(vr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vG=41943040;class vi{static withCacheSize(t){return new vi(t,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vi.DEFAULT_COLLECTION_PERCENTILE=10,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vi.DEFAULT=new vi(vG,vi.DEFAULT_COLLECTION_PERCENTILE,vi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vi.DISABLED=new vi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new U0(0)}static cr(){return new U0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="LruGarbageCollector",k_e=1048576;function fL([e,t],[r,n]){const a=It(e,r);return a===0?It(t,n):a}class N_e{constructor(t){this.Ir=t,this.buffer=new Bn(fL),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();fL(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class P_e{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){He(dL,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){wm(r)?He(dL,"Ignoring IndexedDB error during garbage collection: ",r):await xm(r)}await this.Vr(3e5)})}}class I_e{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return Ce.resolve(lE.ce);const n=new N_e(r);return this.mr.forEachTarget(t,a=>n.Ar(a.sequenceNumber)).next(()=>this.mr.pr(t,a=>n.Ar(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(uL)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uL):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),Dh()<=Pt.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),Ce.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function O_e(e,t){return new I_e(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_e{constructor(){this.changes=new lh(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,La.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ce.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_e{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_e{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&xg(n.mutation,a,Ji.empty(),dr.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Ot()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Ot()){const a=Vd();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=zp();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Vd();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Ot()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=mc();const s=yg(),o=function(){return yg()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof sd)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),xg(u.mutation,c,u.mutation.getFieldMask(),dr.now())):s.set(c.key,Ji.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>o.set(c,new j_e(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(t,r){const n=yg();let a=new Yr((s,o)=>s-o),i=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Ji.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||Ot()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=ZH();u.forEach(h=>{if(!i.has(h)){const m=iG(r.get(h),n.get(h));m!==null&&f.set(h,m),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return Ce.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return at.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):qH(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):Ce.resolve(Vd());let o=pv,l=i;return s.next(c=>Ce.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?Ce.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,Ot())).next(u=>({batchId:o,changes:JH(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new at(r)).next(n=>{let a=zp();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=zp();return this.indexManager.getCollectionParents(t,i).next(o=>Ce.forEach(o,l=>{const c=function(f,h){return new bm(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,La.newInvalidDocument(u)))});let o=zp();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&xg(u.mutation,c,Ji.empty(),dr.now()),hE(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_e{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return Ce.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:il(a.createTime)}}(r)),Ce.resolve()}getNamedQuery(t,r){return Ce.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(a){return{name:a.name,query:T_e(a.bundledQuery),readTime:il(a.readTime)}}(r)),Ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_e{constructor(){this.overlays=new Yr(at.comparator),this.qr=new Map}getOverlay(t,r){return Ce.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Vd();return Ce.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),Ce.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.qr.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(n)),Ce.resolve()}getOverlaysForCollection(t,r,n){const a=Vd(),i=r.length+1,s=new at(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return Ce.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new Yr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Vd(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Vd(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return Ce.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.qr.get(a.largestBatchId).delete(n.key);this.qr.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new t_e(r,n));let i=this.qr.get(r);i===void 0&&(i=Ot(),this.qr.set(r,i)),this.qr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_e{constructor(){this.sessionToken=ia.EMPTY_BYTE_STRING}getSessionToken(t){return Ce.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,Ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.Qr=new Bn(Xn.$r),this.Ur=new Bn(Xn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Xn(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Xn(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new at(new vr([])),n=new Xn(r,t),a=new Xn(r,t+1),i=[];return this.Ur.forEachInRange([n,a],s=>{this.Gr(s),i.push(s.key)}),i}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new at(new vr([])),n=new Xn(r,t),a=new Xn(r,t+1);let i=Ot();return this.Ur.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new Xn(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Xn{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return at.comparator(t.key,r.key)||It(t.Yr,r.Yr)}static Kr(t,r){return It(t.Yr,r.Yr)||at.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_e{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Bn(Xn.$r)}checkEmpty(t){return Ce.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new e_e(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.Zr=this.Zr.add(new Xn(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Ce.resolve(s)}lookupMutationBatch(t,r){return Ce.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.ei(n),i=a<0?0:a;return Ce.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ce.resolve(this.mutationQueue.length===0?LI:this.tr-1)}getAllMutationBatches(t){return Ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Xn(r,0),a=new Xn(r,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,a],s=>{const o=this.Xr(s.Yr);i.push(o)}),Ce.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Bn(It);return r.forEach(a=>{const i=new Xn(a,0),s=new Xn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,s],o=>{n=n.add(o.Yr)})}),Ce.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;at.isDocumentKey(i)||(i=i.child(""));const s=new Xn(new at(i),0);let o=new Bn(It);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Yr)),!0)},s),Ce.resolve(this.ti(o))}ti(t){const r=[];return t.forEach(n=>{const a=this.Xr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Yt(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Ce.forEach(r.mutations,a=>{const i=new Xn(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Xn(r,0),a=this.Zr.firstAfterOrEqual(n);return Ce.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,Ce.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_e{constructor(t){this.ri=t,this.docs=function(){return new Yr(at.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return Ce.resolve(n?n.document.mutableCopy():La.newInvalidDocument(r))}getEntries(t,r){let n=mc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():La.newInvalidDocument(a))}),Ce.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=mc();const s=r.path,o=new at(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||mbe(hbe(u),n)<=0||(a.has(u.key)||hE(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Ce.resolve(i)}getAllFromCollectionGroup(t,r,n,a){ut(9500)}ii(t,r){return Ce.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new U_e(this)}getSize(t){return Ce.resolve(this.size)}}class U_e extends D_e{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(n)}),Ce.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_e{constructor(t){this.persistence=t,this.si=new lh(r=>UI(r),VI),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.oi=0,this._i=new KI,this.targetCount=0,this.ai=U0.ur()}forEachTarget(t,r){return this.si.forEach((n,a)=>r(a)),Ce.resolve()}getLastRemoteSnapshotVersion(t){return Ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Ce.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Ce.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),Ce.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new U0(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,Ce.resolve()}updateTargetData(t,r){return this.Pr(r),Ce.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,Ce.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),Ce.waitFor(i).next(()=>a)}getTargetCount(t){return Ce.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return Ce.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),Ce.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),Ce.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),Ce.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return Ce.resolve(n)}containsKey(t,r){return Ce.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(t,r){this.ui={},this.overlays={},this.ci=new lE(0),this.li=!1,this.li=!0,this.hi=new L_e,this.referenceDelegate=t(this),this.Pi=new V_e(this),this.indexManager=new A_e,this.remoteDocumentCache=function(a){return new B_e(a)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new S_e(r),this.Ii=new M_e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new F_e,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new $_e(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){He("MemoryPersistence","Starting transaction:",t);const a=new z_e(this.ci.next());return this.referenceDelegate.Ei(),n(a).next(i=>this.referenceDelegate.di(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Ai(t,r){return Ce.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class z_e extends gbe{constructor(t){super(),this.currentSequenceNumber=t}}class qI{constructor(t){this.persistence=t,this.Ri=new KI,this.Vi=null}static mi(t){return new qI(t)}get fi(){if(this.Vi)return this.Vi;throw ut(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),Ce.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),Ce.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),Ce.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(a=>this.fi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.fi.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.fi,n=>{const a=at.fromPath(n);return this.gi(t,a).next(i=>{i||r.removeEntry(a,gt.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return Ce.or([()=>Ce.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class fb{constructor(t,r){this.persistence=t,this.pi=new lh(n=>xbe(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=O_e(this,r)}static mi(t,r){return new fb(t,r)}Ei(){}di(t){return Ce.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return Ce.forEach(this.pi,(n,a)=>this.br(t,n,a).next(i=>i?Ce.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(t,s=>this.br(t,s,r).next(o=>{o||(n++,i.removeEntry(s,gt.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),Ce.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),Ce.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),Ce.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),Ce.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=J1(t.data.value)),r}br(t,r,n){return Ce.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.pi.get(r);return Ce.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=a}static As(t,r){let n=Ot(),a=Ot();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new YI(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_e{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return vye()?8:vbe(qa())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.ys(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.ws(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new W_e;return this.Ss(t,r,s).next(o=>{if(i.result=o,this.Vs)return this.bs(t,r,s,o.size)})}).next(()=>i.result)}bs(t,r,n,a){return n.documentReadCount<this.fs?(Dh()<=Pt.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",jh(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ce.resolve()):(Dh()<=Pt.DEBUG&&He("QueryEngine","Query:",jh(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.gs*a?(Dh()<=Pt.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",jh(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,al(r))):Ce.resolve())}ys(t,r){if(eL(r))return Ce.resolve(null);let n=al(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=cb(r,null,"F"),n=al(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=Ot(...i);return this.ps.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.Ds(r,o);return this.Cs(r,c,s,l.readTime)?this.ys(t,cb(r,null,"F")):this.vs(t,c,r,l)}))})))}ws(t,r,n,a){return eL(r)||a.isEqual(gt.min())?Ce.resolve(null):this.ps.getDocuments(t,n).next(i=>{const s=this.Ds(r,i);return this.Cs(r,s,n,a)?Ce.resolve(null):(Dh()<=Pt.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),jh(r)),this.vs(t,s,r,fbe(a,pv)).next(o=>o))})}Ds(t,r){let n=new Bn(XH(t));return r.forEach((a,i)=>{hE(t,i)&&(n=n.add(i))}),n}Cs(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(t,r,n){return Dh()<=Pt.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",jh(r)),this.ps.getDocumentsMatchingQuery(t,r,Fu.min(),n)}vs(t,r,n,a){return this.ps.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="LocalStore",G_e=3e8;class K_e{constructor(t,r,n,a){this.persistence=t,this.Fs=r,this.serializer=a,this.Ms=new Yr(It),this.xs=new lh(i=>UI(i),VI),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new R_e(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function q_e(e,t,r,n){return new K_e(e,t,r,n)}async function xG(e,t){const r=vt(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=Ot();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:o}))})})}function Y_e(e,t){const r=vt(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let m=Ce.resolve();return h.forEach(p=>{m=m.next(()=>u.getEntry(l,p)).next(g=>{const v=c.docVersions.get(p);Yt(v!==null,48541),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Ot();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function wG(e){const t=vt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function X_e(e,t){const r=vt(e),n=t.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.Pi.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(i,u.addedDocuments,f)));let m=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?m=m.withResumeToken(ia.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,n)),a=a.insert(f,m),function(g,v,y){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=G_e?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,m,u)&&o.push(r.Pi.updateTargetData(i,m))});let l=mc(),c=Ot();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(Q_e(i,s,t.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!n.isEqual(gt.min())){const u=r.Pi.getLastRemoteSnapshotVersion(i).next(f=>r.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return Ce.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ms=a,i))}function Q_e(e,t,r){let n=Ot(),a=Ot();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=mc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(gt.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):He(XI,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:a}})}function J_e(e,t){const r=vt(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=LI),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function Z_e(e,t){const r=vt(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.Pi.getTargetData(n,t).next(i=>i?(a=i,Ce.resolve(a)):r.Pi.allocateTargetId(n).next(s=>(a=new du(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ms.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function YC(e,t,r){const n=vt(e),a=n.Ms.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!wm(s))throw s;He(XI,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ms=n.Ms.remove(t),n.xs.delete(a.target)}function hL(e,t,r){const n=vt(e);let a=gt.min(),i=Ot();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=vt(l),h=f.xs.get(u);return h!==void 0?Ce.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)}(n,s,al(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,t,r?a:gt.min(),r?i:Ot())).next(o=>(eEe(n,Lbe(t),o),{documents:o,Qs:i})))}function eEe(e,t,r){let n=e.Os.get(t)||gt.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.Os.set(t,n)}class mL{constructor(){this.activeTargetIds=Wbe()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tEe{constructor(){this.Mo=new mL,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new mL,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rEe{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="ConnectivityMonitor";class gL{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){He(pL,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){He(pL,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a1=null;function XC(){return a1===null?a1=function(){return 268435456+Math.round(2147483648*Math.random())}():a1++,"0x"+a1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="RestConnection",nEe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aEe{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${a}`,this.Wo=this.databaseId.database===sb?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Go(t,r,n,a,i){const s=XC(),o=this.zo(t,r.toUriEncodedString());He(sT,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,a,i);const{host:c}=new URL(o),u=ih(c);return this.Jo(t,o,l,n,u).then(f=>(He(sT,`Received RPC '${t}' ${s}: `,f),f),f=>{throw Pf(sT,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(t,r,n,a,i,s){return this.Go(t,r,n,a,i)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ym}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}zo(t,r){const n=nEe[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iEe{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa="WebChannelConnection";class sEe extends aEe{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,a,i){const s=XC();return new Promise((o,l)=>{const c=new bH;c.setWithCredentials(!0),c.listenOnce(_H.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Q1.NO_ERROR:const f=c.getResponseJson();He(Pa,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Q1.TIMEOUT:He(Pa,`RPC '${t}' ${s} timed out`),l(new Ve(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Q1.HTTP_ERROR:const h=c.getStatus();if(He(Pa,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m==null?void 0:m.error;if(p&&p.status&&p.message){const g=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(w)>=0?w:Ae.UNKNOWN}(p.status);l(new Ve(g,p.message))}else l(new Ve(Ae.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ve(Ae.UNAVAILABLE,"Connection failed."));break;default:ut(9055,{l_:t,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{He(Pa,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);He(Pa,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}T_(t,r,n){const a=XC(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=TH(),o=SH(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");He(Pa,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let h=!1,m=!1;const p=new iEe({Yo:v=>{m?He(Pa,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(He(Pa,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),He(Pa,`RPC '${t}' stream ${a} sending:`,v),f.send(v))},Zo:()=>f.close()}),g=(v,y,w)=>{v.listen(y,b=>{try{w(b)}catch(E){setTimeout(()=>{throw E},0)}})};return g(f,Vp.EventType.OPEN,()=>{m||(He(Pa,`RPC '${t}' stream ${a} transport opened.`),p.o_())}),g(f,Vp.EventType.CLOSE,()=>{m||(m=!0,He(Pa,`RPC '${t}' stream ${a} transport closed`),p.a_(),this.E_(f))}),g(f,Vp.EventType.ERROR,v=>{m||(m=!0,Pf(Pa,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),p.a_(new Ve(Ae.UNAVAILABLE,"The operation could not be completed")))}),g(f,Vp.EventType.MESSAGE,v=>{var y;if(!m){const w=v.data[0];Yt(!!w,16349);const b=w,E=(b==null?void 0:b.error)||((y=b[0])==null?void 0:y.error);if(E){He(Pa,`RPC '${t}' stream ${a} received error:`,E);const k=E.status;let C=function(A){const P=_n[A];if(P!==void 0)return oG(P)}(k),S=E.message;C===void 0&&(C=Ae.INTERNAL,S="Unknown error status: "+k+" with message "+E.message),m=!0,p.a_(new Ve(C,S)),f.close()}else He(Pa,`RPC '${t}' stream ${a} received:`,w),p.u_(w)}}),g(o,EH.STAT_EVENT,v=>{v.stat===LC.PROXY?He(Pa,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===LC.NOPROXY&&He(Pa,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function oT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(e){return new u_e(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(t,r,n=1e3,a=1.5,i=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&He("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL="PersistentStream";class _G{constructor(t,r,n,a,i,s,o,l){this.Mi=t,this.S_=n,this.b_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new bG(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===Ae.RESOURCE_EXHAUSTED?(hc(r.toString()),hc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.D_===r&&this.G_(n,a)},n=>{t(()=>{const a=new Ve(Ae.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{n(()=>this.z_(a))}),this.stream.onMessage(a=>{n(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return He(vL,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(He(vL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oEe extends _G{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=h_e(this.serializer,t),n=function(i){if(!("targetChange"in i))return gt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?gt.min():s.readTime?il(s.readTime):gt.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=qC(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=zC(l)?{documents:g_e(i,l)}:{query:v_e(i,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=uG(i,s.resumeToken);const c=HC(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(gt.min())>0){o.readTime=db(i,s.snapshotVersion.toTimestamp());const c=HC(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=x_e(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=qC(this.serializer),r.removeTarget=t,this.q_(r)}}class lEe extends _G{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=p_e(t.writeResults,t.commitTime),n=il(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=qC(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>m_e(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cEe{}class uEe extends cEe{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Ve(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Go(t,GC(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ve(Ae.UNKNOWN,i.toString())})}Ho(t,r,n,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(t,GC(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(Ae.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class dEe{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hc(r),this.aa=!1):He("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="RemoteStore";class fEe{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{ch(this)&&(He(If,"Restarting streams for network reachability change."),await async function(l){const c=vt(l);c.Ea.add(4),await Ay(c),c.Ra.set("Unknown"),c.Ea.delete(4),await xE(c)}(this))})}),this.Ra=new dEe(n,a)}}async function xE(e){if(ch(e))for(const t of e.da)await t(!0)}async function Ay(e){for(const t of e.da)await t(!1)}function EG(e,t){const r=vt(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),eO(r)?ZI(r):_m(r).O_()&&JI(r,t))}function QI(e,t){const r=vt(e),n=_m(r);r.Ia.delete(t),n.O_()&&SG(r,t),r.Ia.size===0&&(n.O_()?n.L_():ch(r)&&r.Ra.set("Unknown"))}function JI(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gt.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}_m(e).Y_(t)}function SG(e,t){e.Va.Ue(t),_m(e).Z_(t)}function ZI(e){e.Va=new s_e({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),_m(e).start(),e.Ra.ua()}function eO(e){return ch(e)&&!_m(e).x_()&&e.Ia.size>0}function ch(e){return vt(e).Ea.size===0}function TG(e){e.Va=void 0}async function hEe(e){e.Ra.set("Online")}async function mEe(e){e.Ia.forEach((t,r)=>{JI(e,t)})}async function pEe(e,t){TG(e),eO(e)?(e.Ra.ha(t),ZI(e)):e.Ra.set("Unknown")}async function gEe(e,t,r){if(e.Ra.set("Online"),t instanceof cG&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.Ia.delete(o),a.Va.removeTarget(o))}(e,t)}catch(n){He(If,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await hb(e,n)}else if(t instanceof tw?e.Va.Ze(t):t instanceof lG?e.Va.st(t):e.Va.tt(t),!r.isEqual(gt.min()))try{const n=await wG(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.Va.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.Ia.get(c);u&&i.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i.Ia.get(l);if(!u)return;i.Ia.set(l,u.withResumeToken(ia.EMPTY_BYTE_STRING,u.snapshotVersion)),SG(i,l);const f=new du(u.target,l,c,u.sequenceNumber);JI(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){He(If,"Failed to raise snapshot:",n),await hb(e,n)}}async function hb(e,t,r){if(!wm(t))throw t;e.Ea.add(1),await Ay(e),e.Ra.set("Offline"),r||(r=()=>wG(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{He(If,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await xE(e)})}function AG(e,t){return t().catch(r=>hb(e,r,t))}async function wE(e){const t=vt(e),r=Uu(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:LI;for(;vEe(t);)try{const a=await J_e(t.localStore,n);if(a===null){t.Ta.length===0&&r.L_();break}n=a.batchId,yEe(t,a)}catch(a){await hb(t,a)}CG(t)&&kG(t)}function vEe(e){return ch(e)&&e.Ta.length<10}function yEe(e,t){e.Ta.push(t);const r=Uu(e);r.O_()&&r.X_&&r.ea(t.mutations)}function CG(e){return ch(e)&&!Uu(e).x_()&&e.Ta.length>0}function kG(e){Uu(e).start()}async function xEe(e){Uu(e).ra()}async function wEe(e){const t=Uu(e);for(const r of e.Ta)t.ea(r.mutations)}async function bEe(e,t,r){const n=e.Ta.shift(),a=WI.from(n,t,r);await AG(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await wE(e)}async function _Ee(e,t){t&&Uu(e).X_&&await async function(n,a){if(function(s){return n_e(s)&&s!==Ae.ABORTED}(a.code)){const i=n.Ta.shift();Uu(n).B_(),await AG(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await wE(n)}}(e,t),CG(e)&&kG(e)}async function yL(e,t){const r=vt(e);r.asyncQueue.verifyOperationInProgress(),He(If,"RemoteStore received new credentials");const n=ch(r);r.Ea.add(3),await Ay(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await xE(r)}async function EEe(e,t){const r=vt(e);t?(r.Ea.delete(2),await xE(r)):t||(r.Ea.add(2),await Ay(r),r.Ra.set("Unknown"))}function _m(e){return e.ma||(e.ma=function(r,n,a){const i=vt(r);return i.sa(),new oEe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{Xo:hEe.bind(null,e),t_:mEe.bind(null,e),r_:pEe.bind(null,e),H_:gEe.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),eO(e)?ZI(e):e.Ra.set("Unknown")):(await e.ma.stop(),TG(e))})),e.ma}function Uu(e){return e.fa||(e.fa=function(r,n,a){const i=vt(r);return i.sa(),new lEe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:xEe.bind(null,e),r_:_Ee.bind(null,e),ta:wEe.bind(null,e),na:bEe.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await wE(e)):(await e.fa.stop(),e.Ta.length>0&&(He(If,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new ec,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new tO(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(Ae.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rO(e,t){if(hc("AsyncQueue",`${t}: ${e}`),wm(e))return new Ve(Ae.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{static emptySet(t){return new w0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||at.comparator(r.key,n.key):(r,n)=>at.comparator(r.key,n.key),this.keyedMap=zp(),this.sortedSet=new Yr(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof w0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new w0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(){this.ga=new Yr(at.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):ut(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class V0{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new V0(t,r,w0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fE(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SEe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class TEe{constructor(){this.queries=wL(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=vt(r),i=a.queries;a.queries=wL(),i.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new Ve(Ae.ABORTED,"Firestore shutting down"))}}function wL(){return new lh(e=>YH(e),fE)}async function nO(e,t){const r=vt(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.ba()&&t.Da()&&(n=2):(i=new SEe,n=t.Da()?0:1);try{switch(n){case 0:i.wa=await r.onListen(a,!0);break;case 1:i.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=rO(s,`Initialization of query '${jh(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Sa.push(t),t.va(r.onlineState),i.wa&&t.Fa(i.wa)&&iO(r)}async function aO(e,t){const r=vt(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Sa.indexOf(t);s>=0&&(i.Sa.splice(s,1),i.Sa.length===0?a=t.Da()?0:1:!i.ba()&&t.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function AEe(e,t){const r=vt(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Sa)o.Fa(a)&&(n=!0);s.wa=a}}n&&iO(r)}function CEe(e,t,r){const n=vt(e),a=n.queries.get(t);if(a)for(const i of a.Sa)i.onError(r);n.queries.delete(t)}function iO(e){e.Ca.forEach(t=>{t.next()})}var QC,bL;(bL=QC||(QC={})).Ma="default",bL.Cache="cache";class sO{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new V0(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=V0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==QC.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NG{constructor(t){this.key=t}}class PG{constructor(t){this.key=t}}class kEe{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=XH(t),this.tu=new w0(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new xL,a=r?r.tu:this.tu;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),m=hE(this.query,f)?f:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?p!==g&&(n.track({type:3,doc:m}),v=!0):this.su(h,m)||(n.track({type:2,doc:m}),v=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(o=!0)):!h&&m?(n.track({type:0,doc:m}),v=!0):h&&!m&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(m?(s=s.add(m),i=g?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{tu:s,iu:n,Cs:o,mutatedKeys:i}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((u,f)=>function(m,p){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ut(20277,{Rt:v})}};return g(m)-g(p)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(n),a=a??!1;const o=r&&!a?this._u():[],l=this.Xa.size===0&&this.current&&!a?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new V0(this.query,t.tu,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xL,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new PG(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new NG(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=Ot();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return V0.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const oO="SyncEngine";class NEe{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class PEe{constructor(t){this.key=t,this.hu=!1}}class IEe{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new lh(o=>YH(o),fE),this.Iu=new Map,this.Eu=new Set,this.du=new Yr(at.comparator),this.Au=new Map,this.Ru=new KI,this.Vu={},this.mu=new Map,this.fu=U0.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function OEe(e,t,r=!0){const n=MG(e);let a;const i=n.Tu.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await IG(n,t,r,!0),a}async function DEe(e,t){const r=MG(e);await IG(r,t,!0,!1)}async function IG(e,t,r,n){const a=await Z_e(e.localStore,al(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await jEe(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&EG(e.remoteStore,a),o}async function jEe(e,t,r,n,a){e.pu=(f,h,m)=>async function(g,v,y,w){let b=v.view.ru(y);b.Cs&&(b=await hL(g.localStore,v.query,!1).then(({documents:S})=>v.view.ru(S,b)));const E=w&&w.targetChanges.get(v.targetId),k=w&&w.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(b,g.isPrimaryClient,E,k);return EL(g,v.targetId,C.au),C.snapshot}(e,f,h,m);const i=await hL(e.localStore,t,!0),s=new kEe(t,i.Qs),o=s.ru(i.documents),l=Ty.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);EL(e,r,c.au);const u=new NEe(t,r,s);return e.Tu.set(t,u),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),c.snapshot}async function REe(e,t,r){const n=vt(e),a=n.Tu.get(t),i=n.Iu.get(a.targetId);if(i.length>1)return n.Iu.set(a.targetId,i.filter(s=>!fE(s,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await YC(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&QI(n.remoteStore,a.targetId),JC(n,a.targetId)}).catch(xm)):(JC(n,a.targetId),await YC(n.localStore,a.targetId,!0))}async function MEe(e,t){const r=vt(e),n=r.Tu.get(t),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),QI(r.remoteStore,n.targetId))}async function FEe(e,t,r){const n=WEe(e);try{const a=await function(s,o){const l=vt(s),c=dr.now(),u=o.reduce((m,p)=>m.add(p.key),Ot());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let p=mc(),g=Ot();return l.Ns.getEntries(m,u).next(v=>{p=v,p.forEach((y,w)=>{w.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,p)).next(v=>{f=v;const y=[];for(const w of o){const b=Jbe(w,f.get(w.key).overlayedDocument);b!=null&&y.push(new sd(w.key,b,UH(b.value.mapValue),fi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:JH(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new Yr(It)),c=c.insert(o,l),s.Vu[s.currentUser.toKey()]=c}(n,a.batchId,r),await Cy(n,a.changes),await wE(n.remoteStore)}catch(a){const i=rO(a,"Failed to persist write");r.reject(i)}}async function OG(e,t){const r=vt(e);try{const n=await X_e(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r.Au.get(i);s&&(Yt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.hu=!0:a.modifiedDocuments.size>0?Yt(s.hu,14607):a.removedDocuments.size>0&&(Yt(s.hu,42227),s.hu=!1))}),await Cy(r,n,t)}catch(n){await xm(n)}}function _L(e,t,r){const n=vt(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach((i,s)=>{const o=s.view.va(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=vt(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Sa)h.va(o)&&(c=!0)}),c&&iO(l)}(n.eventManager,t),a.length&&n.Pu.H_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function LEe(e,t,r){const n=vt(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n.Au.get(t),i=a&&a.key;if(i){let s=new Yr(at.comparator);s=s.insert(i,La.newNoDocument(i,gt.min()));const o=Ot().add(i),l=new vE(gt.min(),new Map,new Yr(It),s,o);await OG(n,l),n.du=n.du.remove(i),n.Au.delete(t),lO(n)}else await YC(n.localStore,t,!1).then(()=>JC(n,t,r)).catch(xm)}async function $Ee(e,t){const r=vt(e),n=t.batch.batchId;try{const a=await Y_e(r.localStore,t);jG(r,n,null),DG(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Cy(r,a)}catch(a){await xm(a)}}async function BEe(e,t,r){const n=vt(e);try{const a=await function(s,o){const l=vt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(Yt(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);jG(n,t,r),DG(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Cy(n,a)}catch(a){await xm(a)}}function DG(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function jG(e,t,r){const n=vt(e);let a=n.Vu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.Vu[n.currentUser.toKey()]=a}}function JC(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||RG(e,n)})}function RG(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(QI(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),lO(e))}function EL(e,t,r){for(const n of r)n instanceof NG?(e.Ru.addReference(n.key,t),UEe(e,n)):n instanceof PG?(He(oO,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||RG(e,n.key)):ut(19791,{wu:n})}function UEe(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(He(oO,"New document in limbo: "+r),e.Eu.add(n),lO(e))}function lO(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new at(vr.fromString(t)),n=e.fu.next();e.Au.set(n,new PEe(r)),e.du=e.du.insert(r,n),EG(e.remoteStore,new du(al(dE(r.path)),n,"TargetPurposeLimboResolution",lE.ce))}}async function Cy(e,t,r){const n=vt(e),a=[],i=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=YI.As(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.Pu.H_(a),await async function(l,c){const u=vt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ce.forEach(c,h=>Ce.forEach(h.Es,m=>u.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>Ce.forEach(h.ds,m=>u.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!wm(f))throw f;He(XI,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=u.Ms.get(h),p=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(p);u.Ms=u.Ms.insert(h,g)}}}(n.localStore,i))}async function VEe(e,t){const r=vt(e);if(!r.currentUser.isEqual(t)){He(oO,"User change. New user:",t.toKey());const n=await xG(r.localStore,t);r.currentUser=t,function(i,s){i.mu.forEach(o=>{o.forEach(l=>{l.reject(new Ve(Ae.CANCELLED,s))})}),i.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Cy(r,n.Ls)}}function zEe(e,t){const r=vt(e),n=r.Au.get(t);if(n&&n.hu)return Ot().add(n.key);{let a=Ot();const i=r.Iu.get(t);if(!i)return a;for(const s of i){const o=r.Tu.get(s);a=a.unionWith(o.view.nu)}return a}}function MG(e){const t=vt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=OG.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zEe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=LEe.bind(null,t),t.Pu.H_=AEe.bind(null,t.eventManager),t.Pu.yu=CEe.bind(null,t.eventManager),t}function WEe(e){const t=vt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$Ee.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BEe.bind(null,t),t}class mb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yE(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return q_e(this.persistence,new H_e,t.initialUser,this.serializer)}Cu(t){return new yG(qI.mi,this.serializer)}Du(t){return new tEe}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mb.provider={build:()=>new mb};class HEe extends mb{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){Yt(this.persistence.referenceDelegate instanceof fb,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new P_e(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?vi.withCacheSize(this.cacheSizeBytes):vi.DEFAULT;return new yG(n=>fb.mi(n,r),this.serializer)}}class ZC{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>_L(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=VEe.bind(null,this.syncEngine),await EEe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new TEe}()}createDatastore(t){const r=yE(t.databaseInfo.databaseId),n=function(i){return new sEe(i)}(t.databaseInfo);return function(i,s,o,l){return new uEe(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new fEe(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>_L(this.syncEngine,r,0),function(){return gL.v()?new gL:new rEe}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new IEe(a,i,s,o,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=vt(a);He(If,"RemoteStore shutting down."),i.Ea.add(5),await Ay(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}ZC.provider={build:()=>new ZC};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):hc("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu="FirestoreClient";class GEe{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=ja.UNAUTHENTICATED,this.clientId=sE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{He(Vu,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(He(Vu,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ec;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=rO(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function lT(e,t){e.asyncQueue.verifyOperationInProgress(),He(Vu,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await xG(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function SL(e,t){e.asyncQueue.verifyOperationInProgress();const r=await KEe(e);He(Vu,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>yL(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>yL(t.remoteStore,a)),e._onlineComponents=t}async function KEe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){He(Vu,"Using user provided OfflineComponentProvider");try{await lT(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===Ae.FAILED_PRECONDITION||a.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Pf("Error using user provided cache. Falling back to memory cache: "+r),await lT(e,new mb)}}else He(Vu,"Using default OfflineComponentProvider"),await lT(e,new HEe(void 0));return e._offlineComponents}async function FG(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(He(Vu,"Using user provided OnlineComponentProvider"),await SL(e,e._uninitializedComponentsProvider._online)):(He(Vu,"Using default OnlineComponentProvider"),await SL(e,new ZC))),e._onlineComponents}function qEe(e){return FG(e).then(t=>t.syncEngine)}async function pb(e){const t=await FG(e),r=t.eventManager;return r.onListen=OEe.bind(null,t.syncEngine),r.onUnlisten=REe.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=DEe.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=MEe.bind(null,t.syncEngine),r}function YEe(e,t,r={}){const n=new ec;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new cO({next:h=>{u.Nu(),s.enqueueAndForget(()=>aO(i,f));const m=h.docs.has(o);!m&&h.fromCache?c.reject(new Ve(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new Ve(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new sO(dE(o.path),u,{includeMetadataChanges:!0,qa:!0});return nO(i,f)}(await pb(e),e.asyncQueue,t,r,n)),n.promise}function XEe(e,t,r={}){const n=new ec;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new cO({next:h=>{u.Nu(),s.enqueueAndForget(()=>aO(i,f)),h.fromCache&&l.source==="server"?c.reject(new Ve(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new sO(o,u,{includeMetadataChanges:!0,qa:!0});return nO(i,f)}(await pb(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LG(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $G="firestore.googleapis.com",AL=!0;class CL{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ve(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$G,this.ssl=AL}else this.host=t.host,this.ssl=t.ssl??AL;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vG;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<k_e)throw new Ve(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LG(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new Ve(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new Ve(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new Ve(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bE{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CL({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ve(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ve(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CL(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new kH;switch(n.type){case"firstParty":return new ibe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ve(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=TL.get(r);n&&(He("ComponentProvider","Removing Datastore"),TL.delete(r),n.terminate())}(this),Promise.resolve()}}function BG(e,t,r,n={}){var c;e=za(e,bE);const a=ih(t),i=e._getSettings(),s={...i,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;a&&(TI(`https://${o}`),AI("Firestore",!0)),i.host!==$G&&i.host!==o&&Pf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:o,ssl:a,emulatorOptions:n};if(!Mu(l,s)&&(e._setSettings(l),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=ja.MOCK_USER;else{u=AW(n.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Ve(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ja(h)}e._authCredentials=new rbe(new CH(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new _l(this.firestore,t,this._query)}}class Gr{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gr(this.firestore,t,this._key)}toJSON(){return{type:Gr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(Ey(r,Gr._jsonSchema))return new Gr(t,n||null,new at(vr.fromString(r.referencePath)))}}Gr._jsonSchemaVersion="firestore/documentReference/1.0",Gr._jsonSchema={type:Nn("string",Gr._jsonSchemaVersion),referencePath:Nn("string")};class tc extends _l{constructor(t,r,n){super(t,r,dE(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gr(this.firestore,null,new at(t))}withConverter(t){return new tc(this.firestore,t,this._path)}}function pt(e,t,...r){if(e=xr(e),NH("collection","path",t),e instanceof bE){const n=vr.fromString(t,...r);return BF(n),new tc(e,null,n)}{if(!(e instanceof Gr||e instanceof tc))throw new Ve(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vr.fromString(t,...r));return BF(n),new tc(e.firestore,null,n)}}function st(e,t,...r){if(e=xr(e),arguments.length===1&&(t=sE.newId()),NH("doc","path",t),e instanceof bE){const n=vr.fromString(t,...r);return $F(n),new Gr(e,null,new at(n))}{if(!(e instanceof Gr||e instanceof tc))throw new Ve(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(vr.fromString(t,...r));return $F(n),new Gr(e.firestore,e instanceof tc?e.converter:null,new at(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="AsyncQueue";class NL{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new bG(this,"async_queue_retry"),this._c=()=>{const n=oT();n&&He(kL,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=oT();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=oT();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new ec;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!wm(t))throw t;He(kL,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,hc("INTERNAL UNHANDLED ERROR: ",PL(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const a=tO.createAndSchedule(this,t,r,n,i=>this.hc(i));return this.tc.push(a),a}uc(){this.nc&&ut(47125,{Pc:PL(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function PL(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(e,["next","error","complete"])}class Io extends bE{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new NL,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new NL(t),this._firestoreClient=void 0,await t}}}function UG(e,t){const r=typeof e=="object"?e:rE(),n=typeof e=="string"?e:sb,a=nd(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=EW("firestore");i&&BG(a,...i)}return a}function Em(e){if(e._terminated)throw new Ve(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||QEe(e),e._firestoreClient}function QEe(e){var n,a,i;const t=e._freezeSettings(),r=function(o,l,c,u){return new _be(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,LG(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((i=t.localCache)!=null&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new GEe(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yi(ia.fromBase64String(t))}catch(r){throw new Ve(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Yi(ia.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ey(t,Yi._jsonSchema))return Yi.fromBase64String(t.bytes)}}Yi._jsonSchemaVersion="firestore/bytes/1.0",Yi._jsonSchema={type:Nn("string",Yi._jsonSchemaVersion),bytes:Nn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Ve(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ea(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Ve(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Ve(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:So._jsonSchemaVersion}}static fromJSON(t){if(Ey(t,So._jsonSchema))return new So(t.latitude,t.longitude)}}So._jsonSchemaVersion="firestore/geoPoint/1.0",So._jsonSchema={type:Nn("string",So._jsonSchemaVersion),latitude:Nn("number"),longitude:Nn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}toJSON(){return{type:To._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ey(t,To._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new To(t.vectorValues);throw new Ve(Ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}To._jsonSchemaVersion="firestore/vectorValue/1.0",To._jsonSchema={type:Nn("string",To._jsonSchemaVersion),vectorValues:Nn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JEe=/^__.*__$/;class ZEe{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new sd(t,this.data,this.fieldMask,r,this.fieldTransforms):new Sy(t,this.data,r,this.fieldTransforms)}}class VG{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new sd(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function zG(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ut(40011,{Ac:e})}}class uO{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new uO({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var a;const r=(a=this.path)==null?void 0:a.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var a;const r=(a=this.path)==null?void 0:a.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return gb(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(zG(this.Ac)&&JEe.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class eSe{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||yE(t)}Cc(t,r,n,a=!1){return new uO({Ac:t,methodName:r,Dc:n,path:ea.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ny(e){const t=e._freezeSettings(),r=yE(e._databaseId);return new eSe(e._databaseId,!!t.ignoreUndefinedProperties,r)}function dO(e,t,r,n,a,i={}){const s=e.Cc(i.merge||i.mergeFields?2:0,t,r,a);hO("Data must be an object, but it was:",s,n);const o=GG(n,s);let l,c;if(i.merge)l=new Ji(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=ek(t,f,r);if(!s.contains(h))throw new Ve(Ae.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);qG(u,h)||u.push(h)}l=new Ji(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new ZEe(new wi(o),l,c)}class _E extends ky{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _E}}class fO extends ky{_toFieldTransform(t){return new qbe(t.path,new xv)}isEqual(t){return t instanceof fO}}function WG(e,t,r,n){const a=e.Cc(1,t,r);hO("Data must be an object, but it was:",a,n);const i=[],s=wi.empty();id(n,(l,c)=>{const u=mO(t,l,r);c=xr(c);const f=a.yc(u);if(c instanceof _E)i.push(u);else{const h=Py(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new Ji(i);return new VG(s,o,a.fieldTransforms)}function HG(e,t,r,n,a,i){const s=e.Cc(1,t,r),o=[ek(t,n,r)],l=[a];if(i.length%2!=0)throw new Ve(Ae.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(ek(t,i[h])),l.push(i[h+1]);const c=[],u=wi.empty();for(let h=o.length-1;h>=0;--h)if(!qG(c,o[h])){const m=o[h];let p=l[h];p=xr(p);const g=s.yc(m);if(p instanceof _E)c.push(m);else{const v=Py(p,g);v!=null&&(c.push(m),u.set(m,v))}}const f=new Ji(c);return new VG(u,f,s.fieldTransforms)}function tSe(e,t,r,n=!1){return Py(r,e.Cc(n?4:3,t))}function Py(e,t){if(KG(e=xr(e)))return hO("Unsupported field value:",t,e),GG(e,t);if(e instanceof ky)return function(n,a){if(!zG(a.Ac))throw a.Sc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=Py(o,a.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=xr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Hbe(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=dr.fromDate(n);return{timestampValue:db(a.serializer,i)}}if(n instanceof dr){const i=new dr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:db(a.serializer,i)}}if(n instanceof So)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Yi)return{bytesValue:uG(a.serializer,n._byteString)};if(n instanceof Gr){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:GI(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof To)return function(s,o){return{mapValue:{fields:{[$H]:{stringValue:BH},[ob]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return zI(o.serializer,c)})}}}}}}(n,a);throw a.Sc(`Unsupported field value: ${oE(n)}`)}(e,t)}function GG(e,t){const r={};return DH(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):id(e,(n,a)=>{const i=Py(a,t.mc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function KG(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof dr||e instanceof So||e instanceof Yi||e instanceof Gr||e instanceof ky||e instanceof To)}function hO(e,t,r){if(!KG(r)||!IH(r)){const n=oE(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function ek(e,t,r){if((t=xr(t))instanceof Sm)return t._internalPath;if(typeof t=="string")return mO(e,t);throw gb("Field path arguments must be of type string or ",e,!1,void 0,r)}const rSe=new RegExp("[~\\*/\\[\\]]");function mO(e,t,r){if(t.search(rSe)>=0)throw gb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Sm(...t.split("."))._internalPath}catch{throw gb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function gb(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Ve(Ae.INVALID_ARGUMENT,o+e+l)}function qG(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new nSe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(EE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class nSe extends YG{data(){return super.data()}}function EE(e,t){return typeof t=="string"?mO(e,t):t instanceof Sm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XG(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ve(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pO{}class SE extends pO{}function Ct(e,t,...r){let n=[];t instanceof pO&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof TE).length,o=i.filter(l=>l instanceof Iy).length;if(s>1||s>0&&o>0)throw new Ve(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Iy extends SE{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new Iy(t,r,n)}_apply(t){const r=this._parse(t);return QG(t._query,r),new _l(t.firestore,t.converter,WC(t._query,r))}_parse(t){const r=Ny(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ve(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){DL(f,u);const p=[];for(const g of f)p.push(OL(l,i,g));h={arrayValue:{values:p}}}else h=OL(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||DL(f,u),h=tSe(o,s,f,u==="in"||u==="not-in");return kn.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Et(e,t,r){const n=t,a=EE("where",e);return Iy._create(a,n,r)}class TE extends pO{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new TE(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Po.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)QG(s,l),s=WC(s,l)}(t._query,r),new _l(t.firestore,t.converter,WC(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class AE extends SE{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new AE(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Ve(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ve(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yv(i,s)}(t._query,this._field,this._direction);return new _l(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new bm(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function Ao(e,t="asc"){const r=t,n=EE("orderBy",e);return AE._create(n,r)}class CE extends SE{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new CE(t,r,n)}_apply(t){return new _l(t.firestore,t.converter,cb(t._query,this._limit,this._limitType))}}function gO(e){return dbe("limit",e),CE._create("limit",e,"F")}function OL(e,t,r){if(typeof(r=xr(r))=="string"){if(r==="")throw new Ve(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qH(t)&&r.indexOf("/")!==-1)throw new Ve(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(vr.fromString(r));if(!at.isDocumentKey(n))throw new Ve(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return qF(e,new at(n))}if(r instanceof Gr)return qF(e,r._key);throw new Ve(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oE(r)}.`)}function DL(e,t){if(!Array.isArray(e)||e.length===0)throw new Ve(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function QG(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Ve(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ve(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class JG{convertValue(t,r="none"){switch(Bu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return mn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes($u(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw ut(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return id(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var n,a,i;const r=(i=(a=(n=t.fields)==null?void 0:n[ob].arrayValue)==null?void 0:a.values)==null?void 0:i.map(s=>mn(s.doubleValue));return new To(r)}convertGeoPoint(t){return new So(mn(t.latitude),mn(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=uE(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(gv(t));default:return null}}convertTimestamp(t){const r=Lu(t);return new dr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=vr.fromString(t);Yt(gG(n),9688,{name:t});const a=new L0(n.get(1),n.get(3)),i=new at(n.popFirst(5));return a.isEqual(r)||hc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vO(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class Jh{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Su extends YG{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new wg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(EE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve(Ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Su._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Su._jsonSchemaVersion="firestore/documentSnapshot/1.0",Su._jsonSchema={type:Nn("string",Su._jsonSchemaVersion),bundleSource:Nn("string","DocumentSnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class wg extends Su{data(t={}){return super.data(t)}}class Tu{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new Jh(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new wg(this._firestore,this._userDataWriter,n.key,n,new Jh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ve(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new wg(a._firestore,a._userDataWriter,o.doc.key,o.doc,new Jh(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new wg(a._firestore,a._userDataWriter,o.doc.key,o.doc,new Jh(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:aSe(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ve(Ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Tu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=sE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach(i=>{i._document!==null&&(r.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function aSe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ut(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(e){e=za(e,Gr);const t=za(e.firestore,Io);return YEe(Em(t),e._key).then(r=>ZG(t,e,r))}Tu._jsonSchemaVersion="firestore/querySnapshot/1.0",Tu._jsonSchema={type:Nn("string",Tu._jsonSchemaVersion),bundleSource:Nn("string","QuerySnapshot"),bundleName:Nn("string"),bundle:Nn("string")};class yO extends JG{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yi(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Gr(this.firestore,null,r)}}function Ht(e){e=za(e,_l);const t=za(e.firestore,Io),r=Em(t),n=new yO(t);return XG(e._query),XEe(r,e._query).then(a=>new Tu(t,n,e,a))}function Ls(e,t,r){e=za(e,Gr);const n=za(e.firestore,Io),a=vO(e.converter,t,r);return Tm(n,[dO(Ny(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,fi.none())])}function pn(e,t,r,...n){e=za(e,Gr);const a=za(e.firestore,Io),i=Ny(a);let s;return s=typeof(t=xr(t))=="string"||t instanceof Sm?HG(i,"updateDoc",e._key,t,r,n):WG(i,"updateDoc",e._key,t),Tm(a,[s.toMutation(e._key,fi.exists(!0))])}function Oo(e){return Tm(za(e.firestore,Io),[new gE(e._key,fi.none())])}function Of(e,t){const r=za(e.firestore,Io),n=st(e),a=vO(e.converter,t);return Tm(r,[dO(Ny(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,fi.exists(!1))]).then(()=>n)}function kE(e,...t){var l,c,u;e=xr(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||IL(t[n])||(r=t[n++]);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(IL(t[n])){const f=t[n];t[n]=(l=f.next)==null?void 0:l.bind(f),t[n+1]=(c=f.error)==null?void 0:c.bind(f),t[n+2]=(u=f.complete)==null?void 0:u.bind(f)}let i,s,o;if(e instanceof Gr)s=za(e.firestore,Io),o=dE(e._key.path),i={next:f=>{t[n]&&t[n](ZG(s,e,f))},error:t[n+1],complete:t[n+2]};else{const f=za(e,_l);s=za(f.firestore,Io),o=f._query;const h=new yO(s);i={next:m=>{t[n]&&t[n](new Tu(s,h,f,m))},error:t[n+1],complete:t[n+2]},XG(e._query)}return function(h,m,p,g){const v=new cO(g),y=new sO(m,v,p);return h.asyncQueue.enqueueAndForget(async()=>nO(await pb(h),y)),()=>{v.Nu(),h.asyncQueue.enqueueAndForget(async()=>aO(await pb(h),y))}}(Em(s),o,a,i)}function Tm(e,t){return function(n,a){const i=new ec;return n.asyncQueue.enqueueAndForget(async()=>FEe(await qEe(n),a,i)),i.promise}(Em(e),t)}function ZG(e,t,r){const n=r.docs.get(t._key),a=new yO(e);return new Su(e,a,t._key,n,new Jh(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eK{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ny(t)}set(t,r,n){this._verifyNotCommitted();const a=cT(t,this._firestore),i=vO(a.converter,r,n),s=dO(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,fi.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=cT(t,this._firestore);let s;return s=typeof(r=xr(r))=="string"||r instanceof Sm?HG(this._dataReader,"WriteBatch.update",i._key,r,n,a):WG(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,fi.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=cT(t,this._firestore);return this._mutations=this._mutations.concat(new gE(r._key,fi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ve(Ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cT(e,t){if((e=xr(e)).firestore!==t)throw new Ve(Ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function nt(){return new fO("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(e){return Em(e=za(e,Io)),new eK(e,t=>Tm(e,t))}(function(t,r=!0){(function(a){ym=a})(oh),ko(new zs("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Io(new nbe(n.getProvider("auth-internal")),new sbe(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ve(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new L0(c.options.projectId,u)}(s,a),s);return i={useFetchStreams:r,...i},o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ii(RF,MF,t),Ii(RF,MF,"esm2020")})();const iSe=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:JG,Bytes:Yi,CollectionReference:tc,DocumentReference:Gr,DocumentSnapshot:Su,FieldPath:Sm,FieldValue:ky,Firestore:Io,FirestoreError:Ve,GeoPoint:So,Query:_l,QueryCompositeFilterConstraint:TE,QueryConstraint:SE,QueryDocumentSnapshot:wg,QueryFieldFilterConstraint:Iy,QueryLimitConstraint:CE,QueryOrderByConstraint:AE,QuerySnapshot:Tu,SnapshotMetadata:Jh,Timestamp:dr,VectorValue:To,WriteBatch:eK,_AutoId:sE,_ByteString:ia,_DatabaseId:L0,_DocumentKey:at,_EmptyAuthCredentialsProvider:kH,_FieldPath:ea,_cast:za,_logWarn:Pf,_validateIsNotUsedTogether:PH,addDoc:Of,collection:pt,connectFirestoreEmulator:BG,deleteDoc:Oo,doc:st,ensureFirestoreConfigured:Em,executeWrite:Tm,getDoc:hl,getDocs:Ht,getFirestore:UG,limit:gO,onSnapshot:kE,orderBy:Ao,query:Ct,serverTimestamp:nt,setDoc:Ls,updateDoc:pn,where:Et,writeBatch:_v},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK="firebasestorage.googleapis.com",sSe="storageBucket",oSe=2*60*1e3,lSe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El extends Ys{constructor(t,r,n=0){super(uT(t),`Firebase Storage: ${r} (${uT(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,El.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return uT(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ml;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ml||(ml={}));function uT(e){return"storage/"+e}function cSe(){const e="An unknown error occurred, please check the error payload for server response.";return new El(ml.UNKNOWN,e)}function uSe(){return new El(ml.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dSe(){return new El(ml.CANCELED,"User canceled the upload/download.")}function fSe(e){return new El(ml.INVALID_URL,"Invalid URL '"+e+"'.")}function hSe(e){return new El(ml.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function jL(e){return new El(ml.INVALID_ARGUMENT,e)}function rK(){return new El(ml.APP_DELETED,"The Firebase app was deleted.")}function mSe(e){return new El(ml.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=xo.makeFromUrl(t,r)}catch{return new xo(t,"")}if(n.path==="")return n;throw hSe(t)}static makeFromUrl(t,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function i(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+a+s,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${u}/b/${a}/o${h}`,"i"),p={bucket:1,path:3},g=r===tK?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",y=new RegExp(`^https?://${g}/${a}/${v}`,"i"),b=[{regex:o,indices:l,postModify:i},{regex:m,indices:p,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<b.length;E++){const k=b[E],C=k.regex.exec(t);if(C){const S=C[k.indices.bucket];let _=C[k.indices.path];_||(_=""),n=new xo(S,_),k.postModify(n);break}}if(n==null)throw fSe(t);return n}}class pSe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gSe(e,t,r){let n=1,a=null,i=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(...v){c||(c=!0,t.apply(null,v))}function f(v){a=setTimeout(()=>{a=null,e(m,l())},v)}function h(){i&&clearTimeout(i)}function m(v,...y){if(c){h();return}if(v){h(),u.call(null,v,...y);return}if(l()||s){h(),u.call(null,v,...y);return}n<64&&(n*=2);let b;o===1?(o=2,b=0):b=(n+Math.random())*1e3,f(b)}let p=!1;function g(v){p||(p=!0,h(),!c&&(a!==null?(v||(o=2),clearTimeout(a),f(0)):v||(o=1)))}return f(0),i=setTimeout(()=>{s=!0,g(!0)},r),g}function vSe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ySe(e){return e!==void 0}function RL(e,t,r,n){if(n<t)throw jL(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw jL(`Invalid value for '${e}'. Expected ${r} or less.`)}function xSe(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const a=t(n)+"="+t(e[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var vb;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(vb||(vb={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wSe(e,t){const r=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return r||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bSe{constructor(t,r,n,a,i,s,o,l,c,u,f,h=!0,m=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const t=(n,a)=>{if(a){n(!1,new i1(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const o=i.getErrorCode()===vb.NO_ERROR,l=i.getStatus();if(!o||wSe(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===vb.ABORT;n(!1,new i1(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new i1(c,i))})},r=(n,a)=>{const i=this.resolve_,s=this.reject_,o=a.connection;if(a.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());ySe(l)?i(l):i()}catch(l){s(l)}else if(o!==null){const l=cSe();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(a.canceled){const l=this.appDelete_?rK():dSe();s(l)}else{const l=uSe();s(l)}};this.canceled_?r(!1,new i1(!1,null,!0)):this.backoffId_=gSe(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&vSe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class i1{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function _Se(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function ESe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function SSe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function TSe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function ASe(e,t,r,n,a,i,s=!0,o=!1){const l=xSe(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return SSe(u,t),_Se(u,r),ESe(u,i),TSe(u,n),new bSe(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CSe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function kSe(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t,r){this._service=t,r instanceof xo?this._location=r:this._location=xo.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new yb(t,r)}get root(){const t=new xo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kSe(this._location.path)}get storage(){return this._service}get parent(){const t=CSe(this._location.path);if(t===null)return null;const r=new xo(this._location.bucket,t);return new yb(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw mSe(t)}}function ML(e,t){const r=t==null?void 0:t[sSe];return r==null?null:xo.makeFromBucketSpec(r,e)}function NSe(e,t,r,n={}){e.host=`${t}:${r}`;const a=ih(t);a&&(TI(`https://${e.host}/b`),AI("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:i}=n;i&&(e._overrideAuthToken=typeof i=="string"?i:AW(i,e.app.options.projectId))}class PSe{constructor(t,r,n,a,i,s=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=tK,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=oSe,this._maxUploadRetryTime=lSe,this._requests=new Set,a!=null?this._bucket=xo.makeFromBucketSpec(a,this._host):this._bucket=ML(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=xo.makeFromBucketSpec(this._url,t):this._bucket=ML(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){RL("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){RL("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(xi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new yb(this,t)}_makeRequest(t,r,n,a,i=!0){if(this._deleted)return new pSe(rK());{const s=ASe(t,this._appId,n,a,r,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,a).getPromise()}}const FL="@firebase/storage",LL="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK="storage";function ISe(e=rE(),t){e=xr(e);const n=nd(e,nK).getImmediate({identifier:t}),a=EW("storage");return a&&OSe(n,...a),n}function OSe(e,t,r,n={}){NSe(e,t,r,n)}function DSe(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new PSe(r,n,a,t,oh)}function jSe(){ko(new zs(nK,DSe,"PUBLIC").setMultipleInstances(!0)),Ii(FL,LL,""),Ii(FL,LL,"esm2020")}jSe();const aK="@firebase/installations",xO="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK=1e4,sK=`w:${xO}`,oK="FIS_v2",RSe="https://firebaseinstallations.googleapis.com/v1",MSe=60*60*1e3,FSe="installations",LSe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Se={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Df=new sh(FSe,LSe,$Se);function lK(e){return e instanceof Ys&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cK({projectId:e}){return`${RSe}/projects/${e}/installations`}function uK(e){return{token:e.token,requestStatus:2,expiresIn:USe(e.expiresIn),creationTime:Date.now()}}async function dK(e,t){const n=(await t.json()).error;return Df.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function fK({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function BSe(e,{refreshToken:t}){const r=fK(e);return r.append("Authorization",VSe(t)),r}async function hK(e){const t=await e();return t.status>=500&&t.status<600?e():t}function USe(e){return Number(e.replace("s","000"))}function VSe(e){return`${oK} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zSe({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=cK(e),a=fK(e),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&a.append("x-firebase-client",c)}const s={fid:r,authVersion:oK,appId:e.appId,sdkVersion:sK},o={method:"POST",headers:a,body:JSON.stringify(s)},l=await hK(()=>fetch(n,o));if(l.ok){const c=await l.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:uK(c.authToken)}}else throw await dK("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mK(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WSe(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HSe=/^[cdef][\w-]{21}$/,tk="";function GSe(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=KSe(e);return HSe.test(r)?r:tk}catch{return tk}}function KSe(e){return WSe(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pK=new Map;function gK(e,t){const r=NE(e);vK(r,t),qSe(r,t)}function vK(e,t){const r=pK.get(e);if(r)for(const n of r)n(t)}function qSe(e,t){const r=YSe();r&&r.postMessage({key:e,fid:t}),XSe()}let zd=null;function YSe(){return!zd&&"BroadcastChannel"in self&&(zd=new BroadcastChannel("[Firebase] FID Change"),zd.onmessage=e=>{vK(e.data.key,e.data.fid)}),zd}function XSe(){pK.size===0&&zd&&(zd.close(),zd=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QSe="firebase-installations-database",JSe=1,jf="firebase-installations-store";let dT=null;function wO(){return dT||(dT=OW(QSe,JSe,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(jf)}}})),dT}async function xb(e,t){const r=NE(e),a=(await wO()).transaction(jf,"readwrite"),i=a.objectStore(jf),s=await i.get(r);return await i.put(t,r),await a.done,(!s||s.fid!==t.fid)&&gK(e,t.fid),t}async function yK(e){const t=NE(e),n=(await wO()).transaction(jf,"readwrite");await n.objectStore(jf).delete(t),await n.done}async function PE(e,t){const r=NE(e),a=(await wO()).transaction(jf,"readwrite"),i=a.objectStore(jf),s=await i.get(r),o=t(s);return o===void 0?await i.delete(r):await i.put(o,r),await a.done,o&&(!s||s.fid!==o.fid)&&gK(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(e){let t;const r=await PE(e.appConfig,n=>{const a=ZSe(n),i=e2e(e,a);return t=i.registrationPromise,i.installationEntry});return r.fid===tk?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function ZSe(e){const t=e||{fid:GSe(),registrationStatus:0};return xK(t)}function e2e(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Df.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=t2e(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:r2e(e)}:{installationEntry:t}}async function t2e(e,t){try{const r=await zSe(e,t);return xb(e.appConfig,r)}catch(r){throw lK(r)&&r.customData.serverCode===409?await yK(e.appConfig):await xb(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function r2e(e){let t=await $L(e.appConfig);for(;t.registrationStatus===1;)await mK(100),t=await $L(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await bO(e);return n||r}return t}function $L(e){return PE(e,t=>{if(!t)throw Df.create("installation-not-found");return xK(t)})}function xK(e){return n2e(e)?{fid:e.fid,registrationStatus:0}:e}function n2e(e){return e.registrationStatus===1&&e.registrationTime+iK<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a2e({appConfig:e,heartbeatServiceProvider:t},r){const n=i2e(e,r),a=BSe(e,r),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&a.append("x-firebase-client",c)}const s={installation:{sdkVersion:sK,appId:e.appId}},o={method:"POST",headers:a,body:JSON.stringify(s)},l=await hK(()=>fetch(n,o));if(l.ok){const c=await l.json();return uK(c)}else throw await dK("Generate Auth Token",l)}function i2e(e,{fid:t}){return`${cK(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(e,t=!1){let r;const n=await PE(e.appConfig,i=>{if(!wK(i))throw Df.create("not-registered");const s=i.authToken;if(!t&&l2e(s))return i;if(s.requestStatus===1)return r=s2e(e,t),i;{if(!navigator.onLine)throw Df.create("app-offline");const o=u2e(i);return r=o2e(e,o),o}});return r?await r:n.authToken}async function s2e(e,t){let r=await BL(e.appConfig);for(;r.authToken.requestStatus===1;)await mK(100),r=await BL(e.appConfig);const n=r.authToken;return n.requestStatus===0?_O(e,t):n}function BL(e){return PE(e,t=>{if(!wK(t))throw Df.create("not-registered");const r=t.authToken;return d2e(r)?{...t,authToken:{requestStatus:0}}:t})}async function o2e(e,t){try{const r=await a2e(e,t),n={...t,authToken:r};return await xb(e.appConfig,n),r}catch(r){if(lK(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await yK(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await xb(e.appConfig,n)}throw r}}function wK(e){return e!==void 0&&e.registrationStatus===2}function l2e(e){return e.requestStatus===2&&!c2e(e)}function c2e(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+MSe}function u2e(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function d2e(e){return e.requestStatus===1&&e.requestTime+iK<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2e(e){const t=e,{installationEntry:r,registrationPromise:n}=await bO(t);return n?n.catch(console.error):_O(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h2e(e,t=!1){const r=e;return await m2e(r),(await _O(r,t)).token}async function m2e(e){const{registrationPromise:t}=await bO(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2e(e){if(!e||!e.options)throw fT("App Configuration");if(!e.name)throw fT("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw fT(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function fT(e){return Df.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK="installations",g2e="installations-internal",v2e=e=>{const t=e.getProvider("app").getImmediate(),r=p2e(t),n=nd(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},y2e=e=>{const t=e.getProvider("app").getImmediate(),r=nd(t,bK).getImmediate();return{getId:()=>f2e(r),getToken:a=>h2e(r,a)}};function x2e(){ko(new zs(bK,v2e,"PUBLIC")),ko(new zs(g2e,y2e,"PRIVATE"))}x2e();Ii(aK,xO);Ii(aK,xO,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb="analytics",w2e="firebase_id",b2e="origin",_2e=60*1e3,E2e="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",EO="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new tE("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2e={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},es=new sh("analytics","Analytics",S2e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2e(e){if(!e.startsWith(EO)){const t=es.create("invalid-gtag-resource",{gtagURL:e});return Oi.warn(t.message),""}return e}function _K(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function A2e(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function C2e(e,t){const r=A2e("firebase-js-sdk-policy",{createScriptURL:T2e}),n=document.createElement("script"),a=`${EO}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function k2e(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function N2e(e,t,r,n,a,i){const s=n[a];try{if(s)await t[s];else{const l=(await _K(r)).find(c=>c.measurementId===a);l&&await t[l.appId]}}catch(o){Oi.error(o)}e("config",a,i)}async function P2e(e,t,r,n,a){try{let i=[];if(a&&a.send_to){let s=a.send_to;Array.isArray(s)||(s=[s]);const o=await _K(r);for(const l of s){const c=o.find(f=>f.measurementId===l),u=c&&t[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",n,a||{})}catch(i){Oi.error(i)}}function I2e(e,t,r,n){async function a(i,...s){try{if(i==="event"){const[o,l]=s;await P2e(e,t,r,o,l)}else if(i==="config"){const[o,l]=s;await N2e(e,t,r,n,o,l)}else if(i==="consent"){const[o,l]=s;e("consent",o,l)}else if(i==="get"){const[o,l,c]=s;e("get",o,l,c)}else if(i==="set"){const[o]=s;e("set",o)}else e(i,...s)}catch(o){Oi.error(o)}}return a}function O2e(e,t,r,n,a){let i=function(...s){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(i=window[a]),window[a]=I2e(i,e,t,r),{gtagCore:i,wrappedGtag:window[a]}}function D2e(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(EO)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2e=30,R2e=1e3;class M2e{constructor(t={},r=R2e){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const EK=new M2e;function F2e(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function L2e(e){var s;const{appId:t,apiKey:r}=e,n={method:"GET",headers:F2e(r)},a=E2e.replace("{app-id}",t),i=await fetch(a,n);if(i.status!==200&&i.status!==304){let o="";try{const l=await i.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw es.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function $2e(e,t=EK,r){const{appId:n,apiKey:a,measurementId:i}=e.options;if(!n)throw es.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:n};throw es.create("no-api-key")}const s=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new V2e;return setTimeout(async()=>{o.abort()},_2e),SK({appId:n,apiKey:a,measurementId:i},s,o,t)}async function SK(e,{throttleEndTimeMillis:t,backoffCount:r},n,a=EK){var o;const{appId:i,measurementId:s}=e;try{await B2e(n,t)}catch(l){if(s)return Oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:s};throw l}try{const l=await L2e(e);return a.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!U2e(c)){if(a.deleteThrottleMetadata(i),s)return Oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?iF(r,a.intervalMillis,j2e):iF(r,a.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return a.setThrottleMetadata(i,f),Oi.debug(`Calling attemptFetch again in ${u} millis`),SK(e,f,n,a)}}function B2e(e,t){return new Promise((r,n)=>{const a=Math.max(t-Date.now(),0),i=setTimeout(r,a);e.addEventListener(()=>{clearTimeout(i),n(es.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function U2e(e){if(!(e instanceof Ys)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class V2e{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function z2e(e,t,r,n,a){if(a&&a.global){e("event",r,n);return}else{const i=await t,s={...n,send_to:i};e("event",r,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2e(){if(kW())try{await NW()}catch(e){return Oi.warn(es.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Oi.warn(es.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function H2e(e,t,r,n,a,i,s){const o=$2e(e);o.then(h=>{r[h.measurementId]=h.appId,e.options.measurementId&&h.measurementId!==e.options.measurementId&&Oi.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Oi.error(h)),t.push(o);const l=W2e().then(h=>{if(h)return n.getId()}),[c,u]=await Promise.all([o,l]);D2e(i)||C2e(i,c.measurementId),a("js",new Date);const f=(s==null?void 0:s.config)??{};return f[b2e]="firebase",f.update=!0,u!=null&&(f[w2e]=u),a("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2e{constructor(t){this.app=t}_delete(){return delete bg[this.app.options.appId],Promise.resolve()}}let bg={},UL=[];const VL={};let hT="dataLayer",K2e="gtag",zL,TK,WL=!1;function q2e(){const e=[];if(CW()&&e.push("This is a browser extension environment."),yye()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,a)=>`(${a+1}) ${n}`).join(" "),r=es.create("invalid-analytics-context",{errorInfo:t});Oi.warn(r.message)}}function Y2e(e,t,r){q2e();const n=e.options.appId;if(!n)throw es.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw es.create("no-api-key");if(bg[n]!=null)throw es.create("already-exists",{id:n});if(!WL){k2e(hT);const{wrappedGtag:i,gtagCore:s}=O2e(bg,UL,VL,hT,K2e);TK=i,zL=s,WL=!0}return bg[n]=H2e(e,UL,VL,t,zL,hT,r),new G2e(e)}function X2e(e=rE()){e=xr(e);const t=nd(e,wb);return t.isInitialized()?t.getImmediate():Q2e(e)}function Q2e(e,t={}){const r=nd(e,wb);if(r.isInitialized()){const a=r.getImmediate();if(Mu(t,r.getOptions()))return a;throw es.create("already-initialized")}return r.initialize({options:t})}function J2e(e,t,r,n){e=xr(e),z2e(TK,bg[e.app.options.appId],t,r,n).catch(a=>Oi.error(a))}const HL="@firebase/analytics",GL="0.10.18";function Z2e(){ko(new zs(wb,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return Y2e(n,a,r)},"PUBLIC")),ko(new zs("analytics-internal",e,"PRIVATE")),Ii(HL,GL),Ii(HL,GL,"esm2020");function e(t){try{const r=t.getProvider(wb).getImmediate();return{logEvent:(n,a,i)=>J2e(r,n,a,i)}}catch(r){throw es.create("interop-component-reg-failed",{reason:r})}}}Z2e();const eTe={apiKey:"AIzaSyDA4Ia0fnlZ3NgQbCtWHQIeosBS0PUVLeo",authDomain:"centralteleoperadores.firebaseapp.com",projectId:"centralteleoperadores",storageBucket:"centralteleoperadores.firebasestorage.app",messagingSenderId:"260173879227",appId:"1:260173879227:web:80577712429c58d201969e",measurementId:"G-TLLE9RJBPM"},IE=DW(eTe),qt=Jwe(IE),Oe=UG(IE);ISe(IE);typeof window<"u"&&X2e(IE);const AK=Object.freeze(Object.defineProperty({__proto__:null,auth:qt,db:Oe},Symbol.toStringTag,{value:"Module"}));class tTe{constructor(){this.syncInProgress=new Map,console.log("🔄 AutoSyncService inicializado")}isSyntheticUID(t){return t?t.startsWith("smart_")||t.startsWith("profile-")||!t.match(/^[a-zA-Z0-9]{28}$/):!1}async autoSyncUser(t,r){try{if(this.syncInProgress.has(t))return console.log("⏭️ Sincronización ya en progreso para:",t),!1;this.syncInProgress.set(t,!0),console.log("🔄 AUTO-SYNC: Iniciando sincronización automática"),console.log("📧 Email:",t),console.log("✅ UID Real:",r),console.log("🔍 Buscando perfil con email:",t);const n=pt(Oe,"userProfiles"),a=Ct(n,Et("email","==",t)),i=await Ht(a);if(i.empty)return console.log("ℹ️ No se encontró perfil con ese email"),!1;const s=i.docs[0],o=s.id,l=s.data();if(console.log("📄 Perfil encontrado con UID:",o),!this.isSyntheticUID(o))return console.log("✅ El usuario ya tiene UID real:",o),o!==r&&(console.warn("⚠️ ADVERTENCIA: UID real diferente al esperado"),console.warn("   En perfil:",o),console.warn("   En Auth:",r)),!1;console.log("🔄 UID sintético detectado, iniciando migración automática...");const c=st(Oe,"userProfiles",r);if((await hl(c)).exists())return console.log("ℹ️ Ya existe un perfil con el UID real, usando ese"),!0;console.log("💾 Creando backup...");const f=st(Oe,"_backups_auto_sync",o);await Ls(f,{...l,_backup_timestamp:new Date().toISOString(),_backup_old_uid:o,_backup_real_uid:r}),console.log("📝 Creando perfil con UID real...");const h={...l,uid:r,updatedAt:nt(),updatedBy:"auto_sync_service",autoSyncDate:new Date().toISOString(),previousUID:o};await Ls(c,h),console.log("✅ Perfil creado con UID real"),console.log("🔄 Actualizando operators...");const m=pt(Oe,"operators"),p=Ct(m,Et("email","==",t)),g=await Ht(p);let v=0;for(const A of g.docs)await pn(A.ref,{uid:r,updatedAt:nt()}),v++;console.log(`✅ ${v} operadores actualizados`),console.log("🔄 Actualizando assignments...");const y=pt(Oe,"assignments"),w=Ct(y,Et("operatorId","==",o)),b=await Ht(w);let E=0;for(const A of b.docs)await pn(A.ref,{operatorId:r,updatedAt:nt()}),E++;console.log(`✅ ${E} asignaciones actualizadas`),console.log("🔄 Actualizando seguimientos...");const k=pt(Oe,"seguimientos"),C=Ct(k,Et("teleoperadoraEmail","==",t)),S=await Ht(C);let _=0;for(const A of S.docs)await pn(A.ref,{teleoperadoraId:r,updatedAt:nt()}),_++;return console.log(`✅ ${_} seguimientos actualizados`),console.log("🗑️ Eliminando perfil con UID sintético..."),await Oo(s.ref),console.log(`
`+"=".repeat(60)),console.log("✅ AUTO-SYNC COMPLETADA EXITOSAMENTE"),console.log("=".repeat(60)),console.log("📊 RESUMEN:"),console.log("  • Email:",t),console.log("  • UID Sintético (OLD):",o),console.log("  • UID Real (NEW):",r),console.log("  • Operators actualizados:",v),console.log("  • Assignments actualizados:",E),console.log("  • Seguimientos actualizados:",_),console.log("  • Backup en: _backups_auto_sync/"+o),console.log("=".repeat(60)+`
`),!0}catch(n){return console.error("❌ Error durante auto-sync:",n),!1}finally{this.syncInProgress.delete(t)}}async checkAndSync(t){if(!t||!t.email)return!1;try{const r=await this.autoSyncUser(t.email,t.uid);return r&&(console.log("🎉 Usuario sincronizado automáticamente"),window.dispatchEvent(new CustomEvent("userAutoSynced",{detail:{email:t.email,uid:t.uid,timestamp:new Date().toISOString()}}))),r}catch(r){return console.error("❌ Error en checkAndSync:",r),!1}}}const rTe=new tTe,CK=T.createContext(),cs=()=>{const e=T.useContext(CK);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e},nTe=({children:e})=>{const[t,r]=T.useState(null),[n,a]=T.useState(!0),[i,s]=T.useState(null),o=async(f,h,m)=>{try{s(null);const p=await sH(qt,f,h);return m&&await jI(p.user,{displayName:m}),p.user}catch(p){throw s(p.message),p}},l=async(f,h)=>{try{return s(null),(await oH(qt,f,h)).user}catch(m){throw s(m.message),m}},c=async()=>{try{s(null),await cH(qt)}catch(f){throw s(f.message),f}};T.useEffect(()=>lH(qt,async h=>{if(h){console.log("👤 Usuario autenticado:",h.email);try{await rTe.checkAndSync(h)&&(console.log("🔄 Usuario sincronizado automáticamente"),window.dispatchEvent(new CustomEvent("showNotification",{detail:{type:"success",message:"Tu perfil ha sido actualizado automáticamente"}})))}catch(m){console.error("❌ Error en auto-sync:",m)}}r(h),a(!1)}),[]);const u={user:t,loading:n,error:i,register:o,login:l,logout:c,clearError:()=>s(null)};return d.jsx(CK.Provider,{value:u,children:e})},Is={OPERATORS:"operators",ASSIGNMENTS:"assignments",CALL_DATA:"callData",USER_DATA:"userData",BENEFICIARIES:"beneficiaries",BENEFICIARY_UPLOADS:"beneficiaryUploads"},pc=new Map,kK=(e=null)=>{e?pc.delete(e):pc.clear()},z0=()=>{try{const e=qt.currentUser;return e&&e.uid?(console.log("🔍 Usuario autenticado detectado:",e.uid),e.uid):(console.warn("⚠️ No hay usuario autenticado en Firebase Auth"),"anonymous")}catch(e){return console.error("❌ Error obteniendo usuario actual:",e),"anonymous"}},Os=(e,t)=>{const r=z0();if(e.code==="permission-denied")return pc.has(r)||(console.warn(`⚠️ Firebase Firestore: Permisos insuficientes para usuario ${r}. La aplicación funciona en modo demo.`),console.info("💡 Para habilitar persistencia, configura Firestore siguiendo las instrucciones en FIREBASE_SETUP.md"),pc.set(r,!0)),!1;if(e.code==="failed-precondition"&&e.message.includes("index"))return console.info("🔍 Firebase está creando índices necesarios. Usando datos locales temporalmente."),console.info("🔗 Estado del índice: https://console.firebase.google.com/project/centralteleoperadores/firestore/indexes"),!1;throw console.error(`❌ Error en ${t}:`,e),e},Md={async create(e,t){try{return{id:(await Of(pt(Oe,Is.OPERATORS),{...t,userId:e,createdAt:new Date,updatedAt:new Date})).id,...t}}catch(r){return Os(r,"crear operador")}},async getByUser(e){const t=z0();if(pc.has(t))return[];try{const r=Ct(pt(Oe,Is.OPERATORS),Et("userId","==",e));return(await Ht(r)).docs.map(i=>({id:i.id,...i.data()})).sort((i,s)=>{var c,u,f,h;const o=((u=(c=i.createdAt)==null?void 0:c.toDate)==null?void 0:u.call(c))||new Date(0);return(((h=(f=s.createdAt)==null?void 0:f.toDate)==null?void 0:h.call(f))||new Date(0))-o})}catch(r){return Os(r,"obtener operadores")||[]}},async update(e,t){try{const r=st(Oe,Is.OPERATORS,e);return await pn(r,{...t,updatedAt:new Date}),!0}catch(r){return Os(r,"actualizar operador")}},async delete(e){try{return console.log("🗑️ Eliminando operador de Firestore:",e),await Oo(st(Oe,Is.OPERATORS,e)),console.log("✅ Operador eliminado exitosamente de Firestore"),!0}catch(t){return console.error("❌ Error eliminando operador de Firestore:",t),Os(t,"eliminar operador")}},async getAll(){const e=z0();if(pc.has(e))return console.log(`⚠️ Omitiendo getAll() para usuario ${e} debido a errores previos`),[];try{console.log("📥 Obteniendo todos los operadores desde Firebase...");const r=(await Ht(pt(Oe,Is.OPERATORS))).docs.map(n=>({id:n.id,...n.data()}));return console.log("✅ Operadores obtenidos:",r.length),r.sort((n,a)=>{var o,l,c,u;const i=((l=(o=n.createdAt)==null?void 0:o.toDate)==null?void 0:l.call(o))||new Date(0);return(((u=(c=a.createdAt)==null?void 0:c.toDate)==null?void 0:u.call(c))||new Date(0))-i})}catch(t){return console.error("❌ Error obteniendo todos los operadores:",t),Os(t,"obtener todos los operadores")||[]}}},Xc={async saveOperatorAssignments(e,t,r){try{const n=st(Oe,Is.ASSIGNMENTS,`${e}_${t}`);return await Ls(n,{userId:e,operatorId:t,assignments:r,updatedAt:new Date}),!0}catch(n){return Os(n,"guardar asignaciones")}},async getOperatorAssignments(e,t){try{const r=st(Oe,Is.ASSIGNMENTS,`${e}_${t}`),n=await hl(r);return n.exists()?n.data().assignments||[]:[]}catch(r){return Os(r,"obtener asignaciones")||[]}},async getAllUserAssignments(e){const t=z0();if(pc.has(t))return{};try{const r=Ct(pt(Oe,Is.ASSIGNMENTS),Et("userId","==",e)),n=await Ht(r),a={};return n.docs.forEach(i=>{const s=i.data();a[s.operatorId]=s.assignments||[]}),a}catch(r){return Os(r,"obtener todas las asignaciones")||{}}},async deleteOperatorAssignments(e,t){try{console.log("🗑️ Eliminando asignaciones del operador:",{userId:e,operatorId:t});const r=`${e}_${t}`;return await Oo(st(Oe,Is.ASSIGNMENTS,r)),console.log("✅ Asignaciones del operador eliminadas exitosamente"),!0}catch(r){return r.code==="not-found"?(console.log("ℹ️ No había asignaciones para este operador (documento no existe)"),!0):(console.error("❌ Error eliminando asignaciones del operador:",r),Os(r,"eliminar asignaciones"))}},async getAll(){const e=z0();if(pc.has(e))return console.log(`⚠️ Omitiendo getAll() para usuario ${e} debido a errores previos`),[];try{console.log("📥 Obteniendo todas las asignaciones desde Firebase...");const t=await Ht(pt(Oe,Is.ASSIGNMENTS)),r=[];return t.docs.forEach(n=>{const a=n.data();a.assignments&&Array.isArray(a.assignments)&&a.assignments.forEach(i=>{r.push({...i,operatorId:a.operatorId,userId:a.userId})})}),console.log("✅ Asignaciones obtenidas:",r.length),r}catch(t){return console.error("❌ Error obteniendo todas las asignaciones:",t),Os(t,"obtener todas las asignaciones")||[]}}},Hp={async saveCallData(e,t){try{const r=st(Oe,Is.CALL_DATA,e);return await Ls(r,{userId:e,callData:t,updatedAt:new Date}),!0}catch(r){return Os(r,"guardar datos de llamadas")}},async getCallData(e){const t=z0();if(pc.has(t))return[];try{const r=st(Oe,Is.CALL_DATA,e),n=await hl(r);return n.exists()?n.data().callData||[]:[]}catch(r){return Os(r,"obtener datos de llamadas")||[]}}},mT=Object.freeze(Object.defineProperty({__proto__:null,assignmentService:Xc,callDataService:Hp,operatorService:Md,resetErrorState:kK},Symbol.toStringTag,{value:"Module"})),KL=e=>{let t;const r=new Set,n=(c,u)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(m=>m(t,h))}},a=()=>t,o={setState:n,getState:a,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=t=e(n,a,o);return o},aTe=e=>e?KL(e):KL,iTe=e=>e;function sTe(e,t=iTe){const r=ne.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return ne.useDebugValue(r),r}const qL=e=>{const t=aTe(e),r=n=>sTe(t,n);return Object.assign(r,t),r},Ro=e=>e?qL(e):qL,pT={toasts:[],toastIdCounter:0,isLoading:!1,loadingMessage:"",modal:{isOpen:!1,type:null,title:"",content:"",onConfirm:null,onCancel:null,data:null},isSidebarOpen:!1},ho=Ro((e,t)=>({...pT,pushToast:r=>{const n=t().toastIdCounter+1,a={id:n,type:r.type||"info",message:r.message||"",duration:r.duration!==void 0?r.duration:5e3};e(i=>({toasts:[...i.toasts,a],toastIdCounter:n}))},dismissToast:r=>{e(n=>({toasts:n.toasts.filter(a=>a.id!==r)}))},clearToasts:()=>{e({toasts:[]})},showSuccess:(r,n)=>{t().pushToast({type:"success",message:r,duration:n})},showError:(r,n)=>{t().pushToast({type:"error",message:r,duration:n})},showInfo:(r,n)=>{t().pushToast({type:"info",message:r,duration:n})},showWarning:(r,n)=>{t().pushToast({type:"warning",message:r,duration:n})},startLoading:(r="Cargando...")=>{e({isLoading:!0,loadingMessage:r})},stopLoading:()=>{e({isLoading:!1,loadingMessage:""})},openModal:r=>{e({modal:{isOpen:!0,type:r.type||"info",title:r.title||"",content:r.content||"",onConfirm:r.onConfirm||null,onCancel:r.onCancel||null,data:r.data||null}})},closeModal:()=>{e({modal:{...pT.modal}})},confirmModal:()=>{const{modal:r}=t();r.onConfirm&&r.onConfirm(r.data),t().closeModal()},cancelModal:()=>{const{modal:r}=t();r.onCancel&&r.onCancel(),t().closeModal()},toggleSidebar:()=>{e(r=>({isSidebarOpen:!r.isSidebarOpen}))},closeSidebar:()=>{e({isSidebarOpen:!1})},reset:()=>{e(pT)}})),oTe=e=>(t,r,n)=>{const a=n.subscribe;return n.subscribe=(s,o,l)=>{let c=s;if(o){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=s(n.getState());c=h=>{const m=s(h);if(!u(f,m)){const p=f;o(f=m,p)}},l!=null&&l.fireImmediately&&o(f,f)}return a(c)},e(t,r,n)},SO=oTe;function OE(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const s=l=>l===null?null:JSON.parse(l,void 0),o=(i=r.getItem(a))!=null?i:null;return o instanceof Promise?o.then(s):s(o)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const rk=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return rk(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return rk(n)(r)}}}},lTe=(e,t)=>(r,n,a)=>{let i={storage:OE(()=>localStorage),partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...t},s=!1;const o=new Set,l=new Set;let c=i.storage;if(!c)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...g)},n,a);const u=()=>{const g=i.partialize({...n()});return c.setItem(i.name,{state:g,version:i.version})},f=a.setState;a.setState=(g,v)=>{f(g,v),u()};const h=e((...g)=>{r(...g),u()},n,a);a.getInitialState=()=>h;let m;const p=()=>{var g,v;if(!c)return;s=!1,o.forEach(w=>{var b;return w((b=n())!=null?b:h)});const y=((v=i.onRehydrateStorage)==null?void 0:v.call(i,(g=n())!=null?g:h))||void 0;return rk(c.getItem.bind(c))(i.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate){const b=i.migrate(w.state,w.version);return b instanceof Promise?b.then(E=>[!0,E]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var b;const[E,k]=w;if(m=i.merge(k,(b=n())!=null?b:h),r(m,!0),E)return u()}).then(()=>{y==null||y(m,void 0),m=n(),s=!0,l.forEach(w=>w(m))}).catch(w=>{y==null||y(void 0,w)})};return a.persist={setOptions:g=>{i={...i,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},i.skipHydration||p(),m||h},uh=lTe,cTe=!1,Ah={ERROR:"error",WARN:"warn",INFO:"info",DEBUG:"debug"};class uTe{constructor(){this.enabled=cTe,this.level=Ah.ERROR}setEnabled(t){this.enabled=t}setLevel(t){Object.values(Ah).includes(t)&&(this.level=t)}error(...t){console.error("❌ [ERROR]",...t)}warn(...t){!this.enabled&&this.level!==Ah.ERROR||console.warn("⚠️ [WARN]",...t)}info(...t){this.enabled&&([Ah.ERROR,Ah.WARN].includes(this.level)||console.info("ℹ️ [INFO]",...t))}debug(...t){this.enabled&&this.level===Ah.DEBUG&&console.log("🔍 [DEBUG]",...t)}firebase(...t){this.enabled&&console.log("🔥 [FIREBASE]",...t)}store(...t){this.enabled&&console.log("📦 [STORE]",...t)}metrics(...t){this.enabled&&console.log("📊 [METRICS]",...t)}api(...t){this.enabled&&console.log("🌐 [API]",...t)}navigation(...t){this.enabled&&console.log("🧭 [NAV]",...t)}auth(...t){this.enabled&&console.log("🔐 [AUTH]",...t)}time(t){this.enabled&&console.time(`⏱️ ${t}`)}timeEnd(t){this.enabled&&console.timeEnd(`⏱️ ${t}`)}table(t){this.enabled&&console.table(t)}group(t,r=!1){this.enabled&&(r?console.groupCollapsed(t):console.group(t))}groupEnd(){this.enabled&&console.groupEnd()}}const Ie=new uTe,dTe={OPERATORS:"operators",BENEFICIARIES:"beneficiarios",BENEFICIARY_UPLOADS:"beneficiaryUploads",ASSIGNMENTS:"assignments",SEGUIMIENTOS:"seguimientos",CALL_DATA:"callData",USERS:"users",METRICS:"metrics",USER_DATA:"userData"},bb=new Map,fTe=(e=null)=>{e?bb.delete(e):bb.clear(),Ie.info("Estado de errores reseteado",e||"todos los usuarios")},od=(e,t,r={})=>{const n=r.userId||"anonymous";return e.code==="permission-denied"?(bb.has(n)||(Ie.warn(`Permisos insuficientes para usuario ${n}. Operación: ${t}`),Ie.info("Para habilitar persistencia, configura Firestore según FIREBASE_SETUP.md"),bb.set(n,!0)),{error:"permission-denied",data:null}):e.code==="failed-precondition"&&e.message.includes("index")?(Ie.info("Firebase está creando índices necesarios. Usando datos locales temporalmente."),Ie.info("Estado del índice: https://console.firebase.google.com/firestore/indexes"),{error:"index-building",data:null}):e.code==="unavailable"?(Ie.warn("Firestore no disponible. Verifica tu conexión."),{error:"unavailable",data:null}):(Ie.error(`Error en ${t}:`,e,r),{error:e.message,data:null})},hTe=()=>nt(),mTe=e=>e?e instanceof dr||e.toDate?e.toDate():new Date(e):null,pTe=async(e,t,r={})=>{try{Ie.firebase(`Fetching doc: ${e}/${t}`);const n=st(Oe,e,t),a=await hl(n);return a.exists()?{id:a.id,...a.data()}:(Ie.warn(`Documento no encontrado: ${e}/${t}`),null)}catch(n){return od(n,"fetchDoc",{collectionName:e,docId:t,...r}).data}},gTe=async(e,t={})=>{try{Ie.firebase(`Fetching collection: ${e}`,t);let r=pt(Oe,e);const n=[];if(t.where)if(Array.isArray(t.where[0]))t.where.forEach(([s,o,l])=>{n.push(Et(s,o,l))});else{const[s,o,l]=t.where;n.push(Et(s,o,l))}if(t.orderBy){const[s,o="asc"]=Array.isArray(t.orderBy)?t.orderBy:[t.orderBy];n.push(Ao(s,o))}t.limit&&n.push(gO(t.limit)),n.length>0&&(r=Ct(r,...n));const a=await Ht(r),i=[];return a.forEach(s=>{i.push({id:s.id,...s.data()})}),Ie.firebase(`Fetched ${i.length} docs from ${e}`),i}catch(r){return od(r,"fetchCollection",{collectionName:e,...t}).data||[]}},vTe=async(e,t,r={})=>{try{Ie.firebase(`Creating doc in ${e}`,t);const n={...t,createdAt:nt(),updatedAt:nt()},a=await Of(pt(Oe,e),n);return Ie.firebase(`Created doc ${a.id} in ${e}`),{id:a.id,...t}}catch(n){return od(n,"create",{collectionName:e,...r}).data}},yTe=async(e,t,r,n={})=>{try{Ie.firebase(`Setting doc ${e}/${t}`,r);const a=st(Oe,e,t),i={...r,updatedAt:nt()};return await Ls(a,i,{merge:n.merge||!1}),Ie.firebase(`Set doc ${t} in ${e}`),{id:t,...r}}catch(a){return od(a,"set",{collectionName:e,docId:t,...n}).data}},xTe=async(e,t,r,n={})=>{try{Ie.firebase(`Updating doc ${e}/${t}`,r);const a=st(Oe,e,t),i={...r,updatedAt:nt()};return await pn(a,i),Ie.firebase(`Updated doc ${t} in ${e}`),!0}catch(a){return od(a,"update",{collectionName:e,docId:t,...n}),!1}},wTe=async(e,t,r={})=>{try{Ie.firebase(`Deleting doc ${e}/${t}`);const n=st(Oe,e,t);return await Oo(n),Ie.firebase(`Deleted doc ${t} from ${e}`),!0}catch(n){return od(n,"remove",{collectionName:e,docId:t,...r}),!1}},bTe=(e,t,r,n)=>{try{Ie.firebase(`Setting up snapshot listener for ${e}/${t}`);const a=st(Oe,e,t);return kE(a,i=>{i.exists()?r({id:i.id,...i.data()}):r(null)},i=>{od(i,"onSnapshotDoc",{collectionName:e,docId:t}),n&&n(i)})}catch(a){return Ie.error("Error setting up snapshot listener:",a),()=>{}}},_Te=(e,t,r,n)=>{try{Ie.firebase(`Setting up snapshot listener for collection ${e}`,t);let a=pt(Oe,e);const i=[];if(t.where)if(Array.isArray(t.where[0]))t.where.forEach(([s,o,l])=>{i.push(Et(s,o,l))});else{const[s,o,l]=t.where;i.push(Et(s,o,l))}if(t.orderBy){const[s,o="asc"]=Array.isArray(t.orderBy)?t.orderBy:[t.orderBy];i.push(Ao(s,o))}return t.limit&&i.push(gO(t.limit)),i.length>0&&(a=Ct(a,...i)),kE(a,s=>{const o=[];s.forEach(l=>{o.push({id:l.id,...l.data()})}),r(o)},s=>{od(s,"onSnapshotCollection",{collectionName:e,...t}),n&&n(s)})}catch(a){return Ie.error("Error setting up collection snapshot listener:",a),()=>{}}},ai={COLLECTIONS:dTe,fetchDoc:pTe,fetchCollection:gTe,create:vTe,set:yTe,update:xTe,remove:wTe,onSnapshotDoc:bTe,onSnapshotCollection:_Te,getServerTimestamp:hTe,timestampToDate:mTe,resetErrorState:fTe},{COLLECTIONS:TO}=ai,ETe=async(e,t)=>{try{Ie.auth("Iniciando sesión:",e);const n=(await oH(qt,e,t)).user,a=await ai.fetchDoc(TO.USERS,n.uid);return Ie.auth("Sesión iniciada exitosamente:",n.uid),{uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,...a}}catch(r){Ie.error("Error al iniciar sesión:",r);let n="Error al iniciar sesión. Inténtelo nuevamente.";switch(r.code){case"auth/invalid-email":n="El correo electrónico no es válido.";break;case"auth/user-disabled":n="Esta cuenta ha sido deshabilitada.";break;case"auth/user-not-found":n="No se encontró una cuenta con este correo.";break;case"auth/wrong-password":n="La contraseña es incorrecta.";break;case"auth/too-many-requests":n="Demasiados intentos fallidos. Inténtelo más tarde.";break}throw new Error(n)}},STe=async()=>{try{Ie.auth("Cerrando sesión"),await cH(qt),Ie.auth("Sesión cerrada exitosamente")}catch(e){throw Ie.error("Error al cerrar sesión:",e),new Error("Error al cerrar sesión. Inténtelo nuevamente.")}},TTe=async(e,t,r={})=>{try{Ie.auth("Registrando nuevo usuario:",e);const a=(await sH(qt,e,t)).user;r.displayName&&await jI(a,{displayName:r.displayName});const i={email:a.email,displayName:r.displayName||"",role:r.role||"teleoperadora",createdAt:new Date().toISOString(),isActive:!0,...r};return await ai.set(TO.USERS,a.uid,i),Ie.auth("Usuario registrado exitosamente:",a.uid),{uid:a.uid,email:a.email,...i}}catch(n){Ie.error("Error al registrar usuario:",n);let a="Error al registrar usuario. Inténtelo nuevamente.";switch(n.code){case"auth/email-already-in-use":a="Ya existe una cuenta con este correo electrónico.";break;case"auth/invalid-email":a="El correo electrónico no es válido.";break;case"auth/weak-password":a="La contraseña debe tener al menos 6 caracteres.";break}throw new Error(a)}},ATe=async e=>{try{Ie.auth("Enviando email de restablecimiento:",e),await F1e(qt,e),Ie.auth("Email de restablecimiento enviado")}catch(t){Ie.error("Error al enviar email de restablecimiento:",t);let r="Error al enviar email. Inténtelo nuevamente.";switch(t.code){case"auth/invalid-email":r="El correo electrónico no es válido.";break;case"auth/user-not-found":r="No se encontró una cuenta con este correo.";break}throw new Error(r)}},CTe=e=>lH(qt,async t=>{if(t){Ie.auth("Usuario autenticado:",t.uid);const r=await ai.fetchDoc(TO.USERS,t.uid);e({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,...r})}else Ie.auth("Usuario no autenticado"),e(null)}),kTe=()=>qt.currentUser,NTe=()=>!!qt.currentUser,xp={login:ETe,logout:STe,register:TTe,resetPassword:ATe,onAuthChange:CTe,getCurrentUser:kTe,isAuthenticated:NTe},gT={user:null,role:null,isAuthenticated:!1,loading:!0,error:null,unsubscribe:null};Ro(uh((e,t)=>({...gT,initialize:()=>{const{unsubscribe:r}=t();r&&r(),e({loading:!0});const n=xp.onAuthChange(a=>{a?(e({user:a,role:a.role||"teleoperadora",isAuthenticated:!0,loading:!1,error:null}),Ie.auth("Usuario autenticado en store:",a.uid)):(e({user:null,role:null,isAuthenticated:!1,loading:!1,error:null}),Ie.auth("Usuario no autenticado"))});e({unsubscribe:n})},login:async r=>{try{e({loading:!0,error:null}),Ie.auth("Intentando login:",r.email);const n=await xp.login(r.email,r.password);return e({user:n,role:n.role||"teleoperadora",isAuthenticated:!0,loading:!1,error:null}),Ie.auth("Login exitoso:",n.uid),{success:!0,user:n}}catch(n){return Ie.error("Error en login:",n),e({loading:!1,error:n.message}),{success:!1,error:n.message}}},logout:async()=>{try{e({loading:!0}),Ie.auth("Cerrando sesión"),await xp.logout();const{unsubscribe:r}=t();return r&&r(),e({...gT,loading:!1}),Ie.auth("Logout exitoso"),{success:!0}}catch(r){return Ie.error("Error en logout:",r),e({loading:!1,error:r.message}),{success:!1,error:r.message}}},register:async r=>{try{e({loading:!0,error:null}),Ie.auth("Registrando usuario:",r.email);const n=await xp.register(r.email,r.password,{displayName:r.displayName,role:r.role||"teleoperadora"});return e({user:n,role:n.role,isAuthenticated:!0,loading:!1,error:null}),Ie.auth("Registro exitoso:",n.uid),{success:!0,user:n}}catch(n){return Ie.error("Error en registro:",n),e({loading:!1,error:n.message}),{success:!1,error:n.message}}},resetPassword:async r=>{try{return e({loading:!0,error:null}),await xp.resetPassword(r),e({loading:!1}),{success:!0}}catch(n){return Ie.error("Error en resetPassword:",n),e({loading:!1,error:n.message}),{success:!1,error:n.message}}},updateUser:r=>{e(n=>({user:n.user?{...n.user,...r}:null}))},setUser:r=>{e({user:r,role:(r==null?void 0:r.role)||null,isAuthenticated:!!r})},hasRole:r=>{const{role:n}=t();return n?n==="super_admin"?!0:n===r:!1},isSuperAdmin:()=>{const{role:r}=t();return r==="super_admin"},isAdmin:()=>{const{role:r}=t();return r==="admin"||r==="super_admin"},isTeleoperadora:()=>{const{role:r}=t();return r==="teleoperadora"},reset:()=>{const{unsubscribe:r}=t();r&&r(),e({...gT,loading:!1})}}),{name:"auth-storage",partialize:e=>({user:e.user,role:e.role,isAuthenticated:e.isAuthenticated})}));const{COLLECTIONS:Ch}=ai,YL={asignations:{},beneficiaryToOperator:{},unassigned:[],isLoading:!1,error:null,lastSync:null,unsubscribe:null};Ro(uh((e,t)=>({...YL,loadAll:async()=>{try{e({isLoading:!0,error:null}),Ie.store("Cargando todas las asignaciones");const r=await ai.fetchCollection(Ch.ASSIGNMENTS),n={},a={};return r.forEach(i=>{const s=i.operatorId,o=i.beneficiaryId;!s||!o||(n[s]||(n[s]=[]),n[s].push(o),a[o]=s)}),e({asignations:n,beneficiaryToOperator:a,isLoading:!1,lastSync:new Date().toISOString()}),Ie.store("Asignaciones cargadas:",Object.keys(n).length,"operadores"),n}catch(r){return Ie.error("Error cargando asignaciones:",r),e({isLoading:!1,error:r.message}),null}},loadByOperator:async r=>{try{e({isLoading:!0,error:null}),Ie.store("Cargando asignaciones para operador:",r);const a=(await ai.fetchCollection(Ch.ASSIGNMENTS,{where:["operatorId","==",r]})).map(i=>i.beneficiaryId);return e(i=>({asignations:{...i.asignations,[r]:a},isLoading:!1,lastSync:new Date().toISOString()})),a.forEach(i=>{e(s=>({beneficiaryToOperator:{...s.beneficiaryToOperator,[i]:r}}))}),Ie.store("Asignaciones cargadas:",a.length),a}catch(n){return Ie.error("Error cargando asignaciones del operador:",n),e({isLoading:!1,error:n.message}),[]}},assign:async(r,n,a={})=>{try{Ie.store("Asignando beneficiario:",n,"a operador:",r);const{beneficiaryToOperator:i}=t(),s=i[n];s&&s!==r&&await t().unassign(n);const o={operatorId:r,beneficiaryId:n,assignedAt:new Date().toISOString(),...a};return await ai.create(Ch.ASSIGNMENTS,o),e(l=>{const c=l.asignations[r]||[];return{asignations:{...l.asignations,[r]:[...c,n]},beneficiaryToOperator:{...l.beneficiaryToOperator,[n]:r},unassigned:l.unassigned.filter(u=>u!==n)}}),Ie.store("Asignación completada"),!0}catch(i){return Ie.error("Error asignando beneficiario:",i),e({error:i.message}),!1}},unassign:async r=>{try{Ie.store("Desasignando beneficiario:",r);const{beneficiaryToOperator:n}=t(),a=n[r];if(!a)return Ie.warn("Beneficiario no está asignado:",r),!0;const i=await ai.fetchCollection(Ch.ASSIGNMENTS,{where:[["operatorId","==",a],["beneficiaryId","==",r]]});return i.length>0&&await ai.remove(Ch.ASSIGNMENTS,i[0].id),e(s=>{const o=s.asignations[a]||[];return{asignations:{...s.asignations,[a]:o.filter(l=>l!==r)},beneficiaryToOperator:Object.fromEntries(Object.entries(s.beneficiaryToOperator).filter(([l])=>l!==r)),unassigned:[...s.unassigned,r]}}),Ie.store("Desasignación completada"),!0}catch(n){return Ie.error("Error desasignando beneficiario:",n),e({error:n.message}),!1}},reassign:async(r,n)=>(await t().unassign(r),await t().assign(n,r)),getOperatorAssignments:r=>{const{asignations:n}=t();return n[r]||[]},getBeneficiaryOperator:r=>{const{beneficiaryToOperator:n}=t();return n[r]||null},recomputeUnassigned:(r=[])=>{const{beneficiaryToOperator:n}=t(),a=r.filter(i=>!n[i.id]).map(i=>i.id);e({unassigned:a}),Ie.store("Beneficiarios sin asignar:",a.length)},getStats:()=>{const{asignations:r,unassigned:n}=t(),a=Object.keys(r).length,i=Object.values(r).reduce((s,o)=>s+o.length,0);return{totalOperators:a,totalAssigned:i,totalUnassigned:n.length,avgPerOperator:a>0?(i/a).toFixed(1):0}},subscribeToFirestore:()=>{const{unsubscribe:r}=t();r&&r(),Ie.store("Suscribiéndose a cambios de asignaciones");const n=ai.onSnapshotCollection(Ch.ASSIGNMENTS,{},a=>{const i={},s={};a.forEach(o=>{const l=o.operatorId,c=o.beneficiaryId;!l||!c||(i[l]||(i[l]=[]),i[l].push(c),s[c]=l)}),e({asignations:i,beneficiaryToOperator:s,lastSync:new Date().toISOString()}),Ie.store("Asignaciones actualizadas en tiempo real")},a=>{Ie.error("Error en suscripción de asignaciones:",a),e({error:a.message})});e({unsubscribe:n})},reset:()=>{const{unsubscribe:r}=t();r&&r(),e(YL),Ie.store("Store de asignaciones reseteado")}}),{name:"asignations-storage",partialize:e=>({asignations:e.asignations,beneficiaryToOperator:e.beneficiaryToOperator,unassigned:e.unassigned,lastSync:e.lastSync})}));Ro(uh((e,t)=>({user:null,isAuthenticated:!1,loading:!1,error:null,setUser:r=>{e({user:r,isAuthenticated:!!r,error:null})},setLoading:r=>{e({loading:r})},setError:r=>{e({error:r})},logout:()=>{e({user:null,isAuthenticated:!1,loading:!1,error:null})},updateUser:r=>{const n=t().user;n&&e({user:{...n,...r}})},getUserDisplayName:()=>{const{user:r}=t();return(r==null?void 0:r.displayName)||(r==null?void 0:r.email)||"Usuario"},getUserEmail:()=>{const{user:r}=t();return(r==null?void 0:r.email)||""},isAdmin:()=>{const{user:r}=t();return(r==null?void 0:r.role)==="admin"||!1}}),{name:"user-storage",storage:OE(()=>localStorage),partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}));const W0=Ro(uh((e,t)=>({callData:[],processedData:[],callMetrics:{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},isLoading:!1,loadingStage:null,loadingMessage:"",lastUpdated:null,dataSource:null,filters:{dateRange:null,operator:null,status:"all",commune:null},_phoneToOperatorCache:new Map,_beneficiaryCache:new Map,_dateCache:new Map,forceReanalysis:()=>{const{callData:r}=t();r&&r.length>0&&(console.log("🔄 Forzando re-análisis con lógica corregida..."),t().analyzeCallData())},setCallData:(r,n="excel")=>{const a=new Date().toISOString();e({callData:r,dataSource:n,lastUpdated:a,isLoading:!1,loadingStage:"complete",loadingMessage:`${r.length} llamadas cargadas exitosamente`,_phoneToOperatorCache:new Map,_beneficiaryCache:new Map,_dateCache:new Map}),t().analyzeCallData()},setLoading:(r,n=null,a="")=>{e({isLoading:r,loadingStage:n,loadingMessage:a})},setLoadingStage:(r,n="")=>{e({loadingStage:r,loadingMessage:n||{uploading:"Subiendo archivo Excel...",processing:"Procesando datos del archivo...",analyzing:"Analizando llamadas y generando métricas...",complete:"Análisis completado exitosamente",error:"Error durante el procesamiento"}[r]||"",isLoading:r!=="complete"&&r!=="error"})},analyzeCallData:()=>{const{callData:r}=t();if(t().setLoadingStage("analyzing","Analizando datos de llamadas..."),!r||r.length===0){e({processedData:[],callMetrics:{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},loadingStage:"complete",loadingMessage:"No hay datos para analizar",isLoading:!1});return}setTimeout(()=>{const n=r.map(f=>{const h=f.beneficiario||f.beneficiary||f.nombre||"Sin identificar",m=f.operador||f.operator||f.teleoperadora||"No identificado",p=f.telefono||f.phone||f.numero||"N/A",g=f.fecha||f.date||new Date().toISOString().split("T")[0],v=parseInt(f.duracion||f.duration||0),y=f.resultado||f.result||f.estado||"",w=(y==="Llamado exitoso"||y==="exitoso"||y==="Exitoso")&&v>0;return{...f,beneficiary:h,operator:m,phone:p,date:g,duration:v,isSuccessful:w,categoria:w?"exitosa":"fallida"}}),a=n.length,i=n.filter(f=>f.isSuccessful).length,s=a-i,o=n.reduce((f,h)=>f+h.duration,0),l=a>0?Math.round(o/a):0,c=new Set(n.map(f=>f.beneficiary)).size,u={totalCalls:a,successfulCalls:i,failedCalls:s,averageDuration:l,uniqueBeneficiaries:c,protocolCompliance:a>0?Math.round(i/a*100):0};e({processedData:n,callMetrics:u,loadingStage:"complete",loadingMessage:`Análisis completado: ${a} llamadas procesadas`,isLoading:!1})},100)},getFilteredData:()=>{const{processedData:r,filters:n}=t();if(!r||r.length===0)return[];let a=[...r];if(n.operator&&n.operator!=="all"&&(a=a.filter(i=>i.operator===n.operator)),n.status&&n.status!=="all"&&(n.status==="successful"?a=a.filter(i=>i.isSuccessful):n.status==="failed"&&(a=a.filter(i=>!i.isSuccessful))),n.commune&&n.commune!=="all"&&(a=a.filter(i=>i.commune===n.commune)),n.dateRange){const{start:i,end:s}=n.dateRange,o=new Date(i).getTime(),l=new Date(s).getTime();a=a.filter(c=>{const u=new Date(c.date).getTime();return u>=o&&u<=l})}return a},clearData:()=>{e({callData:[],processedData:[],callMetrics:{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},lastUpdated:null,dataSource:null,isLoading:!1,loadingStage:null,loadingMessage:"",_phoneToOperatorCache:new Map,_beneficiaryCache:new Map,_dateCache:new Map})},getOperatorMetrics:(r=null)=>{try{const{callData:n,_phoneToOperatorCache:a}=t();if(!n||n.length===0)return[];if(!r||!Array.isArray(r)||r.length===0)return[];let i=a;i.size===0&&(r.forEach(f=>{const h=f.operator||f.operatorName||"Sin Asignar",m=[];[f.phone,f.primaryPhone,f.telefono,f.numero_cliente].filter(Boolean).forEach(p=>{p.includes(";")?m.push(...p.split(";").map(g=>g.trim())):m.push(p)}),f.phones&&Array.isArray(f.phones)&&m.push(...f.phones),m.forEach(p=>{if(p&&p!=="N/A"&&p.trim()){const g=p.toString().replace(/[^\d]/g,"");if(g.length>=8){const v=g.slice(-8);i.set(v,h)}}})}),e({_phoneToOperatorCache:i}));const s=[...new Set(Array.from(i.values()))],o={},l={};r.forEach(f=>{const h=f.operator||f.operatorName||"Sin Asignar";l[h]||(l[h]=new Set);const m=f.id||f.beneficiarioId||f.nombre||f.name;m&&l[h].add(m)}),s.forEach(f=>{var h;o[f]={operatorName:f,totalCalls:0,successfulCalls:0,failedCalls:0,totalDuration:0,contactedBeneficiaries:new Set,assignedBeneficiaries:((h=l[f])==null?void 0:h.size)||0}});let c=0;return n.forEach(f=>{const h=f.phone||f.telefono||f.numero||f.numero_cliente||f.numero_telefono||"",m=String(h||"");if(m&&m.trim()){const p=m.replace(/[^\d]/g,"");if(p.length>=8){const g=p.slice(-8),v=i.get(g);if(v&&o[v]){c++;const y=o[v];y.totalCalls++;const w=parseInt(f.duration||f.duracion||0);y.totalDuration+=w;const b=f.result||f.resultado||f.estado||"";if((b==="Llamado exitoso"||b==="exitoso"||b==="Exitoso")&&w>0){y.successfulCalls++;const k=f.beneficiarioId||f.beneficiario||f.nombre||f.name||g;y.contactedBeneficiaries.add(k)}else y.failedCalls++}}}}),Object.values(o).filter(f=>f.totalCalls>0).map(f=>({operatorName:f.operatorName,totalCalls:f.totalCalls,successfulCalls:f.successfulCalls,failedCalls:f.failedCalls,totalDuration:f.totalDuration,totalEffectiveMinutes:Math.round(f.totalDuration/60),averageDuration:f.totalCalls>0?Math.round(f.totalDuration/f.totalCalls):0,successRate:f.totalCalls>0?Math.round(f.successfulCalls/f.totalCalls*100):0,assignedBeneficiaries:f.assignedBeneficiaries,contactedBeneficiaries:f.contactedBeneficiaries.size,coverageRate:f.assignedBeneficiaries>0?Math.round(f.contactedBeneficiaries.size/f.assignedBeneficiaries*100):0,pendingBeneficiaries:f.assignedBeneficiaries-f.contactedBeneficiaries.size})).sort((f,h)=>h.coverageRate-f.coverageRate)}catch(n){return console.error("Error en getOperatorMetrics:",n),[]}},getHourlyDistribution:()=>{const{processedData:r}=t(),n=Array.from({length:24},(a,i)=>({hour:i,calls:0}));return Array.isArray(r)&&r.forEach(a=>{try{let i=null;if(a.hora){const o=a.hora.toString().match(/^(\d{1,2})/);o&&(i=parseInt(o[1]))}else a.hour!==void 0&&(i=parseInt(a.hour));i!==null&&i>=0&&i<24&&n[i].calls++}catch{}}),n},getFollowUpData:r=>{const{processedData:n,_beneficiaryCache:a}=t();if(!n||n.length===0)return[];const{_dateCache:i}=t(),s=u=>{if(!u)return"N/A";if(i.has(u))return i.get(u);try{let f;if(typeof u=="string"&&/^\d{1,2}[-\/]\d{1,2}[-\/]\d{4}$/.test(u)){const h=u.split(/[-\/]/),m=parseInt(h[0]),p=parseInt(h[1]),g=parseInt(h[2]);m<=31&&p<=12&&g>=1900?f=`${m.toString().padStart(2,"0")}-${p.toString().padStart(2,"0")}-${g}`:f="Fecha inválida"}else if(typeof u=="number"){const h=new Date((u-25569)*86400*1e3);if(isNaN(h.getTime()))f="Fecha inválida";else{const m=h.getDate().toString().padStart(2,"0"),p=(h.getMonth()+1).toString().padStart(2,"0"),g=h.getFullYear();f=`${m}-${p}-${g}`}}else{const h=new Date(u);if(isNaN(h.getTime()))f=typeof u=="string"?u:"Error en fecha";else{const m=h.getDate().toString().padStart(2,"0"),p=(h.getMonth()+1).toString().padStart(2,"0"),g=h.getFullYear();f=`${m}-${p}-${g}`}}return i.set(u,f),f}catch{return typeof u=="string"?u:"Error en fecha"}};let o=a;o.size===0&&(n.forEach(u=>{const f=u.beneficiario||u.beneficiary,h=u.resultado||u.result||u.estado||"Sin resultado",m=u.fecha||u.date;if(!f)return;o.has(f)||o.set(f,{beneficiary:f,calls:[],lastResult:h,lastDate:m});const p=o.get(f);p.calls.push(u);try{const g=new Date(m).getTime(),v=new Date(p.lastDate).getTime();!isNaN(g)&&(isNaN(v)||g>v)&&(p.lastResult=h,p.lastDate=m)}catch{}}),e({_beneficiaryCache:o}));const l=new Map;return r&&Array.isArray(r)&&r.forEach(u=>{const f=(u.beneficiary||u.beneficiario||"").trim();f&&l.set(f.toLowerCase(),u)}),Array.from(o.values()).map(u=>{const f=l.get(u.beneficiary.toLowerCase());let h="pendiente",m="bg-yellow-100 text-yellow-800";u.lastResult==="Llamado exitoso"||u.lastResult==="exitosa"?(h="al-dia",m="bg-green-100 text-green-800"):u.calls.length>3&&(h="urgente",m="bg-red-100 text-red-800");let p="No Asignado",g="N/A",v="N/A";if(f){const y=f.operator||f.operador||f.operatorName||f.teleoperadora||f.name;y&&y!=="Solo HANGUP"&&y!=="HANGUP"&&y!=="No identificado"&&y!=="Llamado exitoso"&&y!=="Llamado fallido"&&y!=="exitosa"&&y!=="fallida"&&y.trim().length>2&&!/^\d{1,2}[-\/]\d{1,2}[-\/]\d{4}$/.test(y)&&(p=y),g=f.phone||f.telefono||f.primaryPhone||f.numero_cliente||"N/A",v=f.commune||f.comuna||"N/A"}return{id:u.beneficiary,operator:p,beneficiary:u.beneficiary,phone:g,commune:v,status:h,lastCall:s(u.lastDate),callCount:u.calls.length,colorClass:m}})},hasData:()=>{const{callData:r}=t();return r&&r.length>0},getSuccessRate:()=>{const{callMetrics:r}=t();return!r||!r.totalCalls||r.totalCalls===0?0:Math.round(r.successfulCalls/r.totalCalls*100)},getDataSummary:()=>{const{callMetrics:r,lastUpdated:n,dataSource:a}=t();return{...r,lastUpdated:n,dataSource:a,successRate:t().getSuccessRate()}}}),{name:"call-audit-storage-optimized",storage:OE(()=>localStorage),partialize:e=>({callData:e.callData,processedData:e.processedData,callMetrics:e.callMetrics,lastUpdated:e.lastUpdated,dataSource:e.dataSource,filters:e.filters,loadingStage:e.loadingStage,loadingMessage:e.loadingMessage})})),jn=Ro(uh((e,t)=>({operators:[],operatorAssignments:{},activeTab:"dashboard",isLoading:!1,settings:{autoRefresh:!1,refreshInterval:3e4,defaultView:"dashboard"},setOperators:r=>{e({operators:r||[]})},addOperator:r=>{e(n=>({operators:[...n.operators,r]}))},updateOperator:(r,n)=>{e(a=>({operators:a.operators.map(i=>i.id===r?{...i,...n}:i)}))},removeOperator:r=>{e(n=>({operators:n.operators.filter(a=>a.id!==r),operatorAssignments:Object.fromEntries(Object.entries(n.operatorAssignments).filter(([a])=>a!==r))}))},setOperatorAssignments:r=>{e({operatorAssignments:r||{}})},updateOperatorAssignments:(r,n)=>{e(a=>({operatorAssignments:{...a.operatorAssignments,[r]:n}}))},clearOperatorAssignments:r=>{e(n=>{const a={...n.operatorAssignments};return delete a[r],{operatorAssignments:a}})},setActiveTab:r=>{e({activeTab:r})},setLoading:r=>{e({isLoading:r})},updateSettings:r=>{e(n=>({settings:{...n.settings,...r}}))},getOperatorById:r=>{const{operators:n}=t();return n.find(a=>a.id===r)||null},getOperatorAssignments:r=>{const{operatorAssignments:n}=t();return n[r]||[]},getAllAssignments:()=>{const{operatorAssignments:r,operators:n}=t(),a=[];return console.log("🔍 getAllAssignments - operatorAssignments:",r),console.log("🔍 getAllAssignments - operators:",n),Object.entries(r).forEach(([i,s])=>{const o=n.find(l=>l.id===i);o&&s&&(console.log(`📋 Procesando asignaciones para ${o.name}:`,s.length),s.forEach(l=>{const c={id:l.id,operator:o.name,operatorName:o.name,operatorEmail:o.email,beneficiary:l.beneficiary,phone:l.primaryPhone,commune:l.commune};a.push(c),console.log("✅ Asignación agregada:",c)}))}),console.log("📊 Total asignaciones devueltas:",a.length),a},getAssignmentsByEmail:r=>{const{operatorAssignments:n,operators:a}=t(),i=r==null?void 0:r.toLowerCase().trim();console.log("🔍 Buscando asignaciones para email:",i),console.log("🔍 Operadores disponibles:",a.map(o=>({id:o.id,name:o.name,email:o.email})));const s=a.find(o=>{var m,p;const l=(m=o.email)==null?void 0:m.toLowerCase().trim(),c=(p=o.name)==null?void 0:p.toLowerCase().trim(),u=l===i,f=i.includes(c==null?void 0:c.split(" ")[0])||i.includes(c==null?void 0:c.split(" ")[1]),h=c==null?void 0:c.includes(i.split("@")[0]);return console.log(`🔍 Verificando operador ${o.name}:`,{opEmail:l,exactEmailMatch:u,nameInEmail:f,emailInName:h}),u||f||h});if(s){console.log("✅ Operador encontrado:",s);const o=n[s.id]||[];return console.log("✅ Asignaciones encontradas:",o.length),o.map(l=>({id:l.id,operator:s.name,operatorName:s.name,operatorEmail:s.email,beneficiary:l.beneficiary,phone:l.primaryPhone,commune:l.commune}))}else return console.warn("❌ No se encontró operador para email:",i),[]},getTotalAssignments:()=>{const{operatorAssignments:r}=t();return Object.values(r).reduce((n,a)=>n+((a==null?void 0:a.length)||0),0)},loadOperators:async()=>{try{e({isLoading:!0}),console.log("📥 Cargando operadores desde Firebase...");const r=await Md.getAll();return console.log("✅ Operadores cargados:",r.length),e({operators:r||[],isLoading:!1}),r}catch(r){return console.error("❌ Error cargando operadores:",r),e({isLoading:!1}),[]}},reloadOperators:async()=>(console.log("🔄 Forzando recarga de operadores..."),t().loadOperators()),loadAssignments:async()=>{try{e({isLoading:!0}),console.log("📥 Cargando asignaciones desde Firebase...");const r=await Xc.getAll();console.log("✅ Asignaciones cargadas:",r.length);const n={};return r.forEach(a=>{a.operatorId&&(n[a.operatorId]||(n[a.operatorId]=[]),n[a.operatorId].push(a))}),e({operatorAssignments:n,isLoading:!1}),console.log("📊 Asignaciones agrupadas por operador:",Object.keys(n).length),r}catch(r){return console.error("❌ Error cargando asignaciones:",r),e({isLoading:!1}),[]}},clearAllData:()=>{e({operators:[],operatorAssignments:{},activeTab:"dashboard"})}}),{name:"app-storage",storage:OE(()=>localStorage),partialize:e=>({operators:e.operators,operatorAssignments:e.operatorAssignments,settings:e.settings})})),Xo=e=>!e||typeof e!="string"?"":e.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^\w\s]/g,""),An=e=>{if(!e)return"";const t=e.toString();if(/^0+$/.test(t.replace(/\D/g,"")))return"";const r=t.replace(/\D/g,"");return r.length<8?"":r},NK=(e,t,r=.8)=>{if(!e||!t)return!1;const n=Xo(e),a=Xo(t);if(n===a||n.includes(a)||a.includes(n))return!0;const i=n.split(" "),s=a.split(" "),o=i.filter(u=>s.includes(u)),l=[...new Set([...i,...s])];return o.length/l.length>=r},nk=(e,t)=>{if(!e||!t||!Array.isArray(t))return null;const r=Xo(e.nombre),n=[An(e.fono),An(e.sim),An(e.appSim)].filter(Boolean);return t.find(a=>{const i=Xo(a.nombre||a.name);if(NK(r,i))return!0;const s=[An(a.fono||a.telefono||a.phone),An(a.sim),An(a.appSim)].filter(Boolean);return n.some(o=>s.some(l=>l===o))})},PTe=e=>{const t=[An(e.fono),An(e.sim),An(e.appSim)].filter(Boolean);return[...new Set(t)]},oo={BENEFICIARIES:"beneficiaries",BENEFICIARY_UPLOADS:"beneficiaryUploads"},jl={async deleteAllBeneficiaries(e=null){try{console.log("🗑️ Eliminando todos los beneficiarios...");let t;e?(console.log(`🗑️ Eliminando beneficiarios del usuario: ${e}`),t=Ct(pt(Oe,oo.BENEFICIARIES),Et("creadoPor","==",e))):(console.log("🗑️ Eliminando TODOS los beneficiarios de la base"),t=pt(Oe,oo.BENEFICIARIES));const r=await Ht(t),n=_v(Oe);return console.log(`🗑️ Documentos a eliminar: ${r.size}`),r.docs.forEach(a=>{n.delete(a.ref)}),await n.commit(),console.log("✅ Eliminación completada"),{success:!0,deletedCount:r.size,message:`${r.size} beneficiarios eliminados exitosamente`}}catch(t){return console.error("❌ Error al eliminar beneficiarios:",t),{success:!1,error:t.message,deletedCount:0}}},async uploadBeneficiaries(e,t,r=()=>{},n=!0){try{if(console.log("📤 Iniciando upload de beneficiarios..."),console.log(`📊 Datos a procesar: ${e.length}`),console.log(`🔄 Reemplazar datos existentes: ${n}`),n){console.log("🗑️ PASO 1: Eliminando beneficiarios existentes...");const u=await this.deleteAllBeneficiaries(t);if(!u.success)throw new Error(`Error al eliminar datos existentes: ${u.error}`);console.log(`✅ ${u.deletedCount} beneficiarios previos eliminados`),r({phase:"cleanup",completed:u.deletedCount,total:u.deletedCount})}console.log("📤 PASO 2: Procesando nuevos beneficiarios...");const a=_v(Oe),i=`upload_${Date.now()}`,s=[],o=[];for(let u=0;u<e.length;u++){const f=e[u];try{const h=this.processBeneficiaryData(f,u+1);if(h.isValid){const m=st(pt(Oe,oo.BENEFICIARIES)),p={...h.data,uploadId:i,creadoEn:nt(),actualizadoEn:nt(),creadoPor:t,rowNumber:u+1};a.set(m,p),s.push({id:m.id,...p})}else o.push({row:u+1,data:f,errors:h.errors})}catch(h){o.push({row:u+1,data:f,errors:[`Error de procesamiento: ${h.message}`]})}r({processed:u+1,total:e.length,successful:s.length,errors:o.length})}const l=st(pt(Oe,oo.BENEFICIARY_UPLOADS),i);return a.set(l,{id:i,userId:t,totalRecords:e.length,successfulRecords:s.length,errorRecords:o.length,uploadedAt:nt(),status:"completed"}),await a.commit(),console.log("✅ UPLOAD COMPLETADO:"),console.log(`   - Registros procesados: ${e.length}`),console.log(`   - Exitosos: ${s.length}`),console.log(`   - Errores: ${o.length}`),{success:!0,uploadId:i,totalProcessed:e.length,successful:s.length,errors:o.length,errorDetails:o,data:s,replacedPrevious:n,message:n?`✅ Base de datos reemplazada: ${s.length} beneficiarios cargados`:`✅ ${s.length} beneficiarios añadidos`}}catch(a){throw console.error("❌ Error en uploadBeneficiaries:",a),new Error(`Error al cargar beneficiarios: ${a.message}`)}},processBeneficiaryData(e,t){const r=[],n=e.Nombre||e.nombre||e.A||"",a=e.Fono||e.fono||e.B||"",i=e.Sim||e.sim||e.C||"",s=e.Direccion||e.direccion||e.D||"",o=e["App Sim"]||e.appSim||e.E||"";(!n||typeof n!="string"||n.trim().length===0)&&r.push("Nombre es obligatorio"),(!s||typeof s!="string"||s.trim().length===0)&&r.push("Dirección es obligatoria");const l=An(a),c=An(i),u=An(o),f=[l,c,u].filter(Boolean);f.length===0&&r.push("Al menos un teléfono válido es requerido");const h={nombre:n.toString().trim(),fono:l||null,sim:c||null,direccion:s.toString().trim(),appSim:u||null,nombreNormalizado:Xo(n),telefonosValidos:f,datosOriginales:{nombre:n,fono:a.toString(),sim:i.toString(),direccion:s,appSim:o.toString()}};return{isValid:r.length===0,errors:r,data:h}},async getAllBeneficiaries(e=null){try{console.log("🔍 getAllBeneficiaries - Iniciando consulta a Firebase..."),console.log("🔍 userId:",e);let t;e?(console.log("🔍 Consultando beneficiarios para usuario específico..."),t=Ct(pt(Oe,oo.BENEFICIARIES),Et("creadoPor","==",e),Ao("creadoEn","desc"))):(console.log("🔍 Consultando todos los beneficiarios..."),t=Ct(pt(Oe,oo.BENEFICIARIES),Ao("creadoEn","desc"))),console.log("🔍 Ejecutando consulta...");const r=await Ht(t);console.log("🔍 Documentos encontrados:",r.size);const n=r.docs.map(a=>({id:a.id,...a.data()}));return console.log("✅ Beneficiarios procesados:",n.length),n}catch(t){return console.error("❌ Error al obtener beneficiarios:",t),[]}},async searchBeneficiaries(e){try{const t=await this.getAllBeneficiaries();if(!e||e.trim().length===0)return t;const r=Xo(e),n=An(e);return t.filter(a=>a.nombreNormalizado&&a.nombreNormalizado.includes(r)?!0:n&&a.telefonosValidos?a.telefonosValidos.some(i=>i.includes(n)):!1)}catch(t){return console.error("Error en búsqueda de beneficiarios:",t),[]}},async getBeneficiaryById(e){try{const t=st(Oe,oo.BENEFICIARIES,e),r=await hl(t);return r.exists()?{id:r.id,...r.data()}:null}catch(t){return console.error("Error al obtener beneficiario:",t),null}},async updateBeneficiary(e,t){try{const r=st(Oe,oo.BENEFICIARIES,e),n={...t,actualizadoEn:nt()};if(t.nombre&&(n.nombreNormalizado=Xo(t.nombre)),t.fono!==void 0||t.sim!==void 0||t.appSim!==void 0){const a=await this.getBeneficiaryById(e);if(a){const i={...a,...t};n.telefonosValidos=PTe(i)}}return await pn(r,n),!0}catch(r){return console.error("Error al actualizar beneficiario:",r),!1}},async deleteBeneficiary(e){try{const t=st(Oe,oo.BENEFICIARIES,e);return await Oo(t),!0}catch(t){return console.error("Error al eliminar beneficiario:",t),!1}},async getUploadHistory(e){try{const t=Ct(pt(Oe,oo.BENEFICIARY_UPLOADS),Et("userId","==",e),Ao("uploadedAt","desc"));return(await Ht(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error al obtener historial:",t),[]}},async validateBeneficiaryExists(e,t){try{const r=await this.getAllBeneficiaries(),n=Xo(e),a=An(t);return r.find(i=>n&&i.nombreNormalizado===n?!0:a&&i.telefonosValidos?i.telefonosValidos.includes(a):!1)||null}catch(r){return console.error("Error al validar beneficiario:",r),null}},async testFirebaseConnection(){try{console.log("🧪 Iniciando test de conexión Firebase...");const e=performance.now();console.log("📁 Test 1: Verificando colección de beneficiarios...");const t=pt(Oe,oo.BENEFICIARIES);console.log("✅ Referencia a colección creada"),console.log("🔍 Test 2: Ejecutando consulta...");const r=await Ht(t),n=r.size;if(console.log(`✅ Consulta ejecutada. Documentos encontrados: ${n}`),n>0){console.log("📋 Test 3: Mostrando primeros documentos...");let o=0;r.forEach(l=>{o<3&&(console.log(`   Documento ${l.id}:`,l.data()),o++)})}const a=performance.now(),i=Math.round(a-e),s={success:!0,beneficiariesCount:n,duration:`${i}ms`,timestamp:new Date().toISOString()};return console.log("🎉 Test Firebase completado:",s),s}catch(e){return console.error("❌ Error en test Firebase:",e),{success:!1,error:e.message,timestamp:new Date().toISOString()}}}};window.testFirebaseConnection=jl.testFirebaseConnection;const ITe=Object.freeze(Object.defineProperty({__proto__:null,beneficiaryService:jl},Symbol.toStringTag,{value:"Module"})),_b=Ro(uh((e,t)=>({beneficiaries:[],uploadHistory:[],shouldReload:!1,isLoading:!1,isUploading:!1,uploadProgress:0,searchTerm:"",selectedBeneficiary:null,stats:{total:0,withPhones:0,withoutPhones:0,incomplete:0,unassigned:0},settings:{autoValidateAssignments:!0,showUnassignedAlerts:!0,maxUploadSize:10*1024*1024},setBeneficiaries:r=>{const n=t().calculateStats(r);e({beneficiaries:r||[],stats:n})},addBeneficiary:r=>{e(n=>{const a=[...n.beneficiaries,r],i=n.calculateStats(a);return{beneficiaries:a,stats:i}})},updateBeneficiary:(r,n)=>{e(a=>{const i=a.beneficiaries.map(o=>o.id===r?{...o,...n}:o),s=a.calculateStats(i);return{beneficiaries:i,stats:s}})},removeBeneficiary:r=>{e(n=>{const a=n.beneficiaries.filter(s=>s.id!==r),i=n.calculateStats(a);return{beneficiaries:a,stats:i}})},clearAllData:()=>{console.log("🧹 Limpiando todos los datos del store..."),e({beneficiaries:[],uploadHistory:[],searchTerm:"",selectedBeneficiary:null,stats:{total:0,withPhones:0,withoutPhones:0,incomplete:0,unassigned:0},shouldReload:!1});try{localStorage.removeItem("beneficiary-store"),console.log("🧹 localStorage limpiado")}catch(r){console.error("Error al limpiar localStorage:",r)}},setSearchTerm:r=>{e({searchTerm:r})},getFilteredBeneficiaries:()=>{const{beneficiaries:r,searchTerm:n}=t();if(!n||n.trim()==="")return r;const a=n.toLowerCase().trim();return r.filter(i=>i.nombre&&i.nombre.toLowerCase().includes(a)||i.direccion&&i.direccion.toLowerCase().includes(a)||i.fono&&i.fono.includes(a)||i.sim&&i.sim.includes(a)||i.appSim&&i.appSim.includes(a))},setUploadProgress:r=>{e({uploadProgress:r})},setIsUploading:r=>{e({isUploading:r})},addUploadRecord:r=>{e(n=>({uploadHistory:[r,...n.uploadHistory]}))},setIsLoading:r=>{e({isLoading:r})},setSelectedBeneficiary:r=>{e({selectedBeneficiary:r})},updateSettings:r=>{e(n=>({settings:{...n.settings,...r}}))},calculateStats:r=>{const n=r.length,a=r.filter(o=>o.telefonosValidos&&o.telefonosValidos.length>0).length,i=n-a,s=r.filter(o=>!o.nombre||!o.direccion||!o.telefonosValidos||o.telefonosValidos.length===0).length;return{total:n,withPhones:a,withoutPhones:i,incomplete:s,unassigned:0}},loadBeneficiaries:async(r=null)=>{const{beneficiaries:n,shouldReload:a}=t();if(n.length>0&&!a)return console.log("📋 Usando beneficiarios del cache local:",n.length),n;console.log("📥 Cargando beneficiarios desde Firebase..."),e({isLoading:!0});try{const i=await jl.getAllBeneficiaries(r);return console.log("✅ Beneficiarios cargados:",i.length),t().setBeneficiaries(i),e({shouldReload:!1}),i}catch(i){if(console.error("❌ Error cargando beneficiarios:",i),n.length>0)return console.log("🔄 Usando datos en cache debido a error de red"),n;throw i}finally{e({isLoading:!1})}},forceReload:async(r=null)=>(e({shouldReload:!0}),await t().loadBeneficiaries(r)),uploadBeneficiaries:async(r,n)=>{e({isUploading:!0,uploadProgress:0});try{const a=await jl.uploadBeneficiaries(r,n,i=>{const s=Math.round(i.processed/i.total*100);e({uploadProgress:s})});if(a.success&&a.data){const s=[...t().beneficiaries,...a.data];t().setBeneficiaries(s),e({shouldReload:!1})}return t().addUploadRecord({id:a.uploadId,timestamp:new Date,totalRecords:a.totalProcessed,successfulRecords:a.successful,errorRecords:a.errors,fileName:a.fileName||"archivo.xlsx"}),a}catch(a){throw console.error("Error subiendo beneficiarios:",a),a}finally{e({isUploading:!1,uploadProgress:0})}},searchBeneficiaries:async r=>{e({isLoading:!0});try{return await jl.searchBeneficiaries(r)}catch(n){throw console.error("Error buscando beneficiarios:",n),n}finally{e({isLoading:!1})}},validateBeneficiaryExists:async(r,n)=>{try{return await jl.validateBeneficiaryExists(r,n)}catch(a){return console.error("Error validando beneficiario:",a),null}},updateBeneficiaryData:async(r,n)=>{e({isLoading:!0});try{const a=await jl.updateBeneficiary(r,n);return a&&t().updateBeneficiary(r,n),a}catch(a){throw console.error("Error actualizando beneficiario:",a),a}finally{e({isLoading:!1})}},deleteBeneficiaryData:async r=>{e({isLoading:!0});try{const n=await jl.deleteBeneficiary(r);return n&&t().removeBeneficiary(r),n}catch(n){throw console.error("Error eliminando beneficiario:",n),n}finally{e({isLoading:!1})}},loadUploadHistory:async r=>{try{const n=await jl.getUploadHistory(r);return e({uploadHistory:n}),n}catch(n){throw console.error("Error cargando historial:",n),n}},findUnassignedBeneficiaries:(r=[])=>{const{beneficiaries:n}=t();if(console.log("🔍 findUnassignedBeneficiaries - beneficiaries:",n.length),console.log("🔍 findUnassignedBeneficiaries - assignments:",r.length),r.length===0)return console.log("⚠️ No hay asignaciones para comparar"),n;const a=r.map(s=>({nombre:s.beneficiary||s.nombre||s.beneficiario,telefono:s.phone||s.primaryPhone||s.telefono||s.fono,teleoperadora:s.operator||s.operatorName||s.teleoperadora||s.operador})).filter(s=>s.nombre);console.log("📋 Asignaciones procesadas:",a.length),console.log("📋 Primera asignación:",a[0]);const i=n.filter(s=>!nk(s,a));return console.log("👥 Beneficiarios sin asignar:",i.length),e(s=>({stats:{...s.stats,unassigned:i.length}})),i},validateAssignmentConsistency:(r=[])=>{const{beneficiaries:n}=t(),a={inAssignmentsNotInBase:[],inBaseNotInAssignments:[],dataConflicts:[]};return r.forEach(i=>{nk(i,n)||a.inAssignmentsNotInBase.push(i)}),a.inBaseNotInAssignments=t().findUnassignedBeneficiaries(r),a},reset:()=>{e({beneficiaries:[],uploadHistory:[],isLoading:!1,isUploading:!1,uploadProgress:0,searchTerm:"",selectedBeneficiary:null,stats:{total:0,withPhones:0,withoutPhones:0,incomplete:0,unassigned:0}})}}),{name:"beneficiary-store",partialize:e=>({beneficiaries:e.beneficiaries,uploadHistory:e.uploadHistory,settings:e.settings,stats:e.stats,shouldReload:e.shouldReload})}));window.zustandStore=_b;class OTe{constructor(){this.collection="userProfiles",this.rolesCollection="roles"}isSuperAdmin(t){return(t==null?void 0:t.email)==="roberto@mistatas.com"}async diagnoseUserCollection(){var t;try{console.log("🩺 DIAGNÓSTICO: Iniciando diagnóstico de colección de usuarios");const r=qt.currentUser;console.log("🩺 Usuario autenticado:",r==null?void 0:r.email),console.log("🩺 Es super admin:",this.isSuperAdmin(r)),console.log("🩺 Intentando acceso directo a la colección...");const n=pt(Oe,this.collection),a=await Ht(n);console.log("🩺 Documentos encontrados:",a.size);const i=[];return a.forEach(s=>{var l,c;const o=s.data();i.push({id:s.id,email:o.email,role:o.role,createdAt:((c=(l=o.createdAt)==null?void 0:l.toDate)==null?void 0:c.call(l))||o.createdAt}),console.log("🩺 Doc:",s.id,o)}),{success:!0,authenticated:!!r,userEmail:r==null?void 0:r.email,isSuperAdmin:this.isSuperAdmin(r),collectionExists:!0,documentsCount:a.size,documents:i}}catch(r){return console.error("🩺 Error en diagnóstico:",r),{success:!1,error:r.message,errorCode:r.code,authenticated:!!qt.currentUser,userEmail:(t=qt.currentUser)==null?void 0:t.email}}}async createTestUsers(){var t;try{console.log("🧪 Creando usuarios de prueba...");const r=[{email:"javiera.reyes@mistatas.com",displayName:"Javiera Reyes Alvarado",role:"teleoperadora",isActive:!0},{email:"admin@mistatas.com",displayName:"Administrador Sistema",role:"admin",isActive:!0}],n=[];for(const a of r)try{const i={uid:`test-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,email:a.email,displayName:a.displayName,role:a.role,isActive:a.isActive,createdAt:nt(),updatedAt:nt(),createdBy:(t=qt.currentUser)==null?void 0:t.uid,lastLogin:null,isTestUser:!0};await Ls(st(Oe,this.collection,i.uid),i),console.log("✅ Usuario de prueba creado:",a.email),n.push({id:i.uid,...i})}catch(i){console.error("❌ Error creando usuario de prueba:",a.email,i)}return console.log(`🧪 Usuarios de prueba creados: ${n.length}`),n}catch(r){throw console.error("❌ Error en createTestUsers:",r),r}}async cleanTestUsers(){try{console.log("🧹 Limpiando usuarios de prueba...");const t=Ct(pt(Oe,this.collection),Et("isTestUser","==",!0)),r=await Ht(t),n=[];return r.forEach(a=>{n.push(Oo(a.ref))}),await Promise.all(n),console.log(`🧹 ${r.size} usuarios de prueba eliminados`),r.size}catch(t){throw console.error("❌ Error limpiando usuarios de prueba:",t),t}}async getAllUsers(){var t;try{console.log("🔍 Iniciando carga de usuarios..."),console.log("🔍 Usuario actual:",(t=qt.currentUser)==null?void 0:t.email),console.log("🔍 Colección:",this.collection);const r=Ct(pt(Oe,this.collection),Ao("createdAt","desc"));console.log("🔍 Ejecutando query...");const n=await Ht(r),a=[];return console.log("🔍 Docs encontrados:",n.size),n.forEach(i=>{const s={id:i.id,...i.data()};console.log("📄 Usuario encontrado:",s),a.push(s)}),console.log(`✅ Total usuarios obtenidos: ${a.length}`),a}catch(r){return console.error("❌ Error obteniendo usuarios:",r),console.error("❌ Error code:",r.code),console.error("❌ Error message:",r.message),[]}}async createUser(t){var r;try{const{email:n,password:a,displayName:i,role:s,isActive:o,...l}=t;if(!this.isSuperAdmin(qt.currentUser))throw new Error("Sin permisos para esta operación");if(!n||!i)throw new Error("Email y nombre son requeridos");const c=`profile-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,u={uid:c,email:n.toLowerCase().trim(),displayName:i.trim(),role:s||"teleoperadora",isActive:o!==!1,createdAt:nt(),updatedAt:nt(),createdBy:(r=qt.currentUser)==null?void 0:r.uid,lastLogin:null,authenticationStatus:"pending",profileType:"admin_created",...l};if((await this.getAllUsers()).some(m=>m.email.toLowerCase()===n.toLowerCase()))throw new Error("Ya existe un usuario con este email");return await Ls(st(Oe,this.collection,c),u),console.log("✅ Perfil de usuario creado:",c),console.log("📧 El usuario deberá registrarse en Firebase Auth con el email:",n),{id:c,...u}}catch(n){throw console.error("❌ Error creando perfil de usuario:",n),new Error(this.getErrorMessage(n))}}async updateUser(t,r){var n;try{const a=st(Oe,this.collection,t),i={...r,updatedAt:nt(),updatedBy:(n=qt.currentUser)==null?void 0:n.uid};return await pn(a,i),console.log("✅ Usuario actualizado:",t),i}catch(a){throw console.error("❌ Error actualizando usuario:",a),new Error("Error al actualizar el usuario")}}async updateUserComplete(t,r,n={}){var a;try{console.log("🔄 Actualizando usuario completo:",t,r);const i=await this.getUserProfile(t);if(!i)throw new Error("Usuario no encontrado");const s=i.email,o=r.email,l=o&&s!==o;if(l){console.warn("⚠️ El email cambió. Actualización en Firestore, pero Firebase Auth requiere Admin SDK para cambios de email.");try{const f=qt.currentUser;f&&f.email===s?(await SF(f,o),console.log("✅ Email actualizado en Firebase Authentication")):(console.log("ℹ️ El usuario a editar no es el usuario actual. Email actualizado solo en Firestore."),console.log("ℹ️ El usuario deberá actualizar su email desde su propio perfil al iniciar sesión."))}catch(f){console.warn("⚠️ No se pudo actualizar el email en Firebase Auth:",f.message)}}if(r.displayName&&r.displayName!==i.displayName)try{const f=qt.currentUser;f&&f.email===s&&(await jI(f,{displayName:r.displayName}),console.log("✅ DisplayName actualizado en Firebase Authentication"))}catch(f){console.warn("⚠️ No se pudo actualizar displayName en Firebase Auth:",f.message)}const c={updatedAt:nt(),updatedBy:(a=qt.currentUser)==null?void 0:a.uid};r.email&&(c.email=r.email.toLowerCase().trim()),r.displayName&&(c.displayName=r.displayName),r.phone!==void 0&&(c.phone=r.phone),r.role&&(c.role=r.role),r.isActive!==void 0&&(c.isActive=r.isActive);const u=st(Oe,this.collection,t);if(await pn(u,c),console.log("✅ Usuario actualizado completamente en Firestore"),l)try{const f=pt(Oe,"assignments"),h=Ct(f,Et("operatorEmail","==",s)),m=await Ht(h),p=[];m.forEach(g=>{p.push(pn(st(Oe,"assignments",g.id),{operatorEmail:o,updatedAt:nt()}))}),await Promise.all(p),console.log(`✅ ${m.size} asignaciones actualizadas con nuevo email`)}catch(f){console.warn("⚠️ Error actualizando asignaciones:",f.message)}return{...i,...c,emailChanged:l,authUpdateSuccess:!l||!n.requireAuthUpdate}}catch(i){throw console.error("❌ Error actualizando usuario completo:",i),new Error(`Error al actualizar el usuario: ${i.message}`)}}async deleteUser(t){var r;try{return await this.updateUser(t,{isActive:!1,deletedAt:nt(),deletedBy:(r=qt.currentUser)==null?void 0:r.uid}),console.log("✅ Usuario eliminado (soft delete):",t),!0}catch(n){throw console.error("❌ Error eliminando usuario:",n),new Error("Error al eliminar el usuario")}}async getUserProfileByEmail(t){try{if(!t)return console.log("❌ getUserProfileByEmail: Email vacío"),null;const r=t.toLowerCase().trim();console.log("🔍 getUserProfileByEmail: Buscando perfil para:",r);const n=Ct(pt(Oe,this.collection),Et("email","==",r)),a=await Ht(n);if(console.log("📊 getUserProfileByEmail: Documentos encontrados:",a.size),!a.empty){const i=a.docs[0],s={id:i.id,...i.data()};return console.log("✅ getUserProfileByEmail: Perfil encontrado:",s),s}return console.log("❌ getUserProfileByEmail: No se encontró perfil para:",r),null}catch(r){return console.error("❌ Error obteniendo perfil por email:",r),null}}async getUserProfile(t){try{const r=st(Oe,this.collection,t),n=await hl(r);return n.exists()?{id:n.id,...n.data()}:null}catch(r){return console.error("❌ Error obteniendo perfil:",r),null}}async updateLastLogin(t){try{const r=st(Oe,this.collection,t);await pn(r,{lastLogin:nt()})}catch(r){console.error("❌ Error actualizando último login:",r)}}async searchUsers(t,r=null){try{let n=pt(Oe,this.collection);r&&(n=Ct(n,Et("role","==",r)));const a=await Ht(n),i=[];return a.forEach(s=>{var l,c;const o={id:s.id,...s.data()};(!t||(l=o.displayName)!=null&&l.toLowerCase().includes(t.toLowerCase())||(c=o.email)!=null&&c.toLowerCase().includes(t.toLowerCase()))&&i.push(o)}),i}catch(n){return console.error("❌ Error buscando usuarios:",n),[]}}async getUserStats(){try{const t=await this.getAllUsers(),r={total:t.length,active:t.filter(n=>n.isActive!==!1).length,byRole:{},recentLogins:t.filter(n=>{if(!n.lastLogin)return!1;const a=new Date(n.lastLogin.toDate?n.lastLogin.toDate():n.lastLogin),i=new Date;return i.setDate(i.getDate()-7),a>=i}).length};return t.forEach(n=>{const a=n.role||"sin_rol";r.byRole[a]=(r.byRole[a]||0)+1}),r}catch(t){return console.error("❌ Error obteniendo estadísticas:",t),{total:0,active:0,byRole:{},recentLogins:0}}}validateUserPermissions(t,r){if(!t)return!1;if(this.isSuperAdmin(t))return!0;const a={super_admin:["all"],admin:["dashboard","calls","assignments","beneficiaries","seguimientos","history","audit","reports"],auditor:["dashboard","history","audit","reports"],teleoperadora:["seguimientos"]}[t.role]||[];return a.includes("all")||a.includes(r)}async createProfileForExistingUser(t,r){var n;try{const a={uid:t.uid,email:t.email,displayName:t.displayName||"",role:r.role||"teleoperadora",isActive:!0,createdAt:nt(),updatedAt:nt(),createdBy:(n=qt.currentUser)==null?void 0:n.uid,lastLogin:null,...r};return await Ls(st(Oe,this.collection,t.uid),a),console.log("✅ Perfil creado para usuario existente:",t.uid),a}catch(a){throw console.error("❌ Error creando perfil:",a),a}}async migrateExistingUsers(){try{console.log("🔄 Iniciando migración de usuarios...");const t=[{email:"roberto@mistatas.com",displayName:"Roberto Mistatas",role:"super_admin"}],r=[];for(const n of t)try{(await this.searchUsers(n.email)).length===0&&(console.log("Creando perfil para:",n.email),r.push(n.email))}catch(a){console.error("Error migrando usuario:",n.email,a)}return console.log(`✅ Migración completada: ${r.length} usuarios migrados`),r}catch(t){throw console.error("❌ Error en migración:",t),t}}getErrorMessage(t){return{"auth/email-already-in-use":"El email ya está registrado","auth/invalid-email":"Email inválido","auth/weak-password":"La contraseña es muy débil","auth/user-not-found":"Usuario no encontrado","permission-denied":"Sin permisos para esta operación",unavailable:"Servicio no disponible"}[t.code]||t.message||"Error desconocido"}async updateUserComplete(t,r,n){try{console.log("🔄 ACTUALIZACIÓN COMPLETA - Iniciando...",{userId:t,updates:r,oldEmail:n});const a={firestoreUpdated:!1,authUpdated:!1,assignmentsUpdated:0,seguimientosUpdated:0,operatorsUpdated:0,errors:[]};try{await this.updateUser(t,r),a.firestoreUpdated=!0,console.log("✅ Firestore (userProfiles) actualizado")}catch(i){console.error("❌ Error actualizando Firestore:",i),a.errors.push({service:"firestore-users",error:i.message})}if(r.email&&n&&r.email!==n){console.log("📧 Cambio de email detectado:",{from:n,to:r.email});try{t.startsWith("smart_")||t.startsWith("profile-")||!t.match(/^[a-zA-Z0-9]{28}$/)?(console.log("ℹ️ Usuario con UID sintético - saltando actualización de Auth:",t),a.authUpdated=!1):qt.currentUser&&qt.currentUser.uid===t?(await SF(qt.currentUser,r.email),a.authUpdated=!0,console.log("✅ Firebase Auth actualizado")):(console.log("ℹ️ Usuario diferente al actual - saltando actualización de Auth"),a.authUpdated=!1)}catch(i){console.error("❌ Error actualizando Firebase Auth:",i),a.errors.push({service:"firebase-auth",error:i.message})}try{console.log("🔄 Actualizando colección operators...");const i=pt(Oe,"operators");let s;isSyntheticUID,s=Ct(i,Et("email","==",n));const o=await Ht(s);let l=[];if(!isSyntheticUID){const f=Ct(i,Et("uid","==",t));l=(await Ht(f)).docs}const c=new Map;o.forEach(f=>c.set(f.id,f)),l.forEach(f=>c.set(f.id,f)),console.log(`📋 Operadores encontrados: ${c.size} (${o.size} por email, ${l.length} por UID)`);const u=[];c.forEach(f=>{const h=st(Oe,"operators",f.id);u.push(pn(h,{email:r.email,...r.displayName&&{name:r.displayName},...r.phone&&{phone:r.phone},updatedAt:nt()}))}),await Promise.all(u),a.operatorsUpdated=u.length,console.log(`✅ ${u.length} operadores actualizados en 'operators'`)}catch(i){console.error("❌ Error actualizando operators:",i),a.errors.push({service:"operators",error:i.message})}try{console.log("🔄 Actualizando colección assignments...");const i=pt(Oe,"assignments"),s=Ct(i,Et("operatorEmail","==",n)),o=await Ht(s),l=[];o.forEach(c=>{const u=st(Oe,"assignments",c.id);l.push(pn(u,{operatorEmail:r.email,...r.displayName&&{operatorName:r.displayName},updatedAt:nt()}))}),await Promise.all(l),a.assignmentsUpdated=l.length,console.log(`✅ ${l.length} asignaciones actualizadas`)}catch(i){console.error("❌ Error actualizando assignments:",i),a.errors.push({service:"assignments",error:i.message})}try{console.log("🔄 Actualizando colección seguimientos...");const i=pt(Oe,"seguimientos"),s=Ct(i,Et("operatorEmail","==",n)),o=await Ht(s),l=[];o.forEach(c=>{const u=st(Oe,"seguimientos",c.id);l.push(pn(u,{operatorEmail:r.email,...r.displayName&&{operatorName:r.displayName},updatedAt:nt()}))}),await Promise.all(l),a.seguimientosUpdated=l.length,console.log(`✅ ${l.length} seguimientos actualizados`)}catch(i){console.error("❌ Error actualizando seguimientos:",i),a.errors.push({service:"seguimientos",error:i.message})}}return console.log("📊 RESUMEN DE ACTUALIZACIÓN COMPLETA:",a),console.log(`✅ Total actualizado: ${a.operatorsUpdated} operators, ${a.assignmentsUpdated} assignments, ${a.seguimientosUpdated} seguimientos`),a}catch(a){throw console.error("❌ Error crítico en updateUserComplete:",a),a}}}const Wl=new OTe,XL=Object.freeze(Object.defineProperty({__proto__:null,userManagementService:Wl},Symbol.toStringTag,{value:"Module"})),PK=Ro(uh((e,t)=>({users:[],roles:[{id:"super_admin",name:"Super Administrador",description:"Acceso completo al sistema",permissions:["all"],level:100,color:"purple"},{id:"admin",name:"Administrador",description:"Gestión completa de teleoperadoras y auditoría",permissions:["dashboard","calls","assignments","beneficiaries","seguimientos","history","audit","reports"],level:80,color:"blue"},{id:"auditor",name:"Auditor",description:"Solo auditoría y reportes",permissions:["dashboard","history","audit","reports"],level:60,color:"green"},{id:"teleoperadora",name:"Teleoperadora",description:"Solo seguimientos de sus beneficiarios asignados",permissions:["seguimientos"],level:40,color:"orange"}],isLoading:!1,selectedUser:null,searchTerm:"",filterRole:"all",stats:{totalUsers:0,activeUsers:0,usersByRole:{}},setUsers:r=>{const n=t().calculateStats(r);e({users:r||[],stats:n})},loadUsers:async()=>{console.log("🔄 Store: Iniciando carga de usuarios..."),e({isLoading:!0});try{console.log("🔄 Store: Llamando al servicio...");const r=await Wl.getAllUsers();console.log("🔄 Store: Usuarios recibidos del servicio:",r.length),t().setUsers(r),console.log("🔄 Store: Usuarios guardados en el estado")}catch(r){console.error("❌ Store: Error cargando usuarios:",r)}finally{e({isLoading:!1})}},createUser:async r=>{try{const n=await Wl.createUser(r);return e(a=>({users:[...a.users,n],stats:t().calculateStats([...a.users,n])})),n}catch(n){throw console.error("Error creando usuario:",n),n}},updateUser:async(r,n)=>{try{const a=t().users.find(o=>o.id===r),i=a==null?void 0:a.email;console.log("🔄 Store: Actualizando usuario",{userId:r,oldEmail:i,newEmail:n.email});const s=await Wl.updateUserComplete(r,n,i);return console.log("✅ Store: Resultado de actualización:",s),e(o=>{const l=o.users.map(c=>c.id===r?{...c,...n}:c);return{users:l,stats:t().calculateStats(l)}}),console.log("🔄 Store: Notificando cambios a otros módulos..."),typeof window<"u"&&window.dispatchEvent(new CustomEvent("userDataUpdated",{detail:{userId:r,oldEmail:i,newEmail:n.email,updateData:n,result:s}})),{...n,...s}}catch(a){throw console.error("❌ Store: Error actualizando usuario:",a),a}},deleteUser:async r=>{try{await Wl.deleteUser(r),e(n=>{const a=n.users.filter(i=>i.id!==r);return{users:a,stats:t().calculateStats(a)}})}catch(n){throw console.error("Error eliminando usuario:",n),n}},toggleUserStatus:async r=>{const n=t().users.find(a=>a.id===r);if(n)return t().updateUser(r,{isActive:!n.isActive})},setSelectedUser:r=>e({selectedUser:r}),setSearchTerm:r=>e({searchTerm:r}),setFilterRole:r=>e({filterRole:r}),getUsersByRole:r=>t().users.filter(n=>n.role===r),getFilteredUsers:()=>{const{users:r,searchTerm:n,filterRole:a}=t();let i=r;return n&&(i=i.filter(s=>{var o,l;return((o=s.displayName)==null?void 0:o.toLowerCase().includes(n.toLowerCase()))||((l=s.email)==null?void 0:l.toLowerCase().includes(n.toLowerCase()))})),a&&a!=="all"&&(i=i.filter(s=>s.role===a)),i},getRoleById:r=>t().roles.find(n=>n.id===r),getUserPermissions:r=>{const n=t().getRoleById(r==null?void 0:r.role);return(n==null?void 0:n.permissions)||[]},hasPermission:(r,n)=>{const a=t().getUserPermissions(r);return a.includes("all")||a.includes(n)},isSuperAdmin:r=>(r==null?void 0:r.email)==="roberto@mistatas.com"||(r==null?void 0:r.role)==="super_admin",canAccessModule:(r,n)=>t().isSuperAdmin(r)?!0:t().hasPermission(r,n),calculateStats:r=>{const n=r.length,a=r.filter(s=>s.isActive!==!1).length,i={};return r.forEach(s=>{const o=s.role||"sin_rol";i[o]=(i[o]||0)+1}),{totalUsers:n,activeUsers:a,usersByRole:i}},exportUsers:()=>{const r=t().users,n=JSON.stringify(r,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(n),i=`usuarios_${new Date().toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",i),s.click()},resetState:()=>{e({users:[],selectedUser:null,searchTerm:"",filterRole:"all",isLoading:!1})}}),{name:"user-management-storage",partialize:e=>({roles:e.roles})}));class DTe{constructor(){this.collection="seguimientos"}async createSeguimiento(t,r){try{const n=await Of(pt(Oe,this.collection),{...r,userId:t,createdAt:nt(),updatedAt:nt()});return console.log("✅ Seguimiento creado:",n.id),n.id}catch(n){throw console.error("❌ Error creando seguimiento:",n),new Error("Error al crear el seguimiento")}}async getSeguimientos(t){try{const r=Ct(pt(Oe,this.collection),Et("userId","==",t),Ao("fechaContacto","desc")),n=await Ht(r),a=[];return n.forEach(i=>{a.push({id:i.id,...i.data()})}),console.log(`✅ Seguimientos obtenidos: ${a.length}`),a}catch(r){return console.error("❌ Error obteniendo seguimientos:",r),[]}}async getSeguimientosByBeneficiario(t,r){try{const n=Ct(pt(Oe,this.collection),Et("userId","==",t),Et("beneficiarioId","==",r),Ao("fechaContacto","desc")),a=await Ht(n),i=[];return a.forEach(s=>{i.push({id:s.id,...s.data()})}),i}catch(n){return console.error("❌ Error obteniendo seguimientos del beneficiario:",n),[]}}async updateSeguimiento(t,r){try{const n=st(Oe,this.collection,t);return await pn(n,{...r,updatedAt:nt()}),console.log("✅ Seguimiento actualizado:",t),!0}catch(n){throw console.error("❌ Error actualizando seguimiento:",n),new Error("Error al actualizar el seguimiento")}}async deleteSeguimiento(t){try{const r=st(Oe,this.collection,t);return await Oo(r),console.log("✅ Seguimiento eliminado:",t),!0}catch(r){throw console.error("❌ Error eliminando seguimiento:",r),new Error("Error al eliminar el seguimiento")}}async getEstadisticasOperadora(t,r=null){try{let n;r?n=Ct(pt(Oe,this.collection),Et("userId","==",t),Et("operadorId","==",r)):n=Ct(pt(Oe,this.collection),Et("userId","==",t));const a=await Ht(n),i=[];a.forEach(o=>{i.push({id:o.id,...o.data()})});const s={totalSeguimientos:i.length,exitosos:i.filter(o=>o.tipoResultado==="exitoso").length,fallidos:i.filter(o=>o.tipoResultado==="fallido").length,noRespuesta:i.filter(o=>o.tipoResultado==="no-respuesta").length,ocupados:i.filter(o=>o.tipoResultado==="ocupado").length,mensajes:i.filter(o=>o.tipoResultado==="mensaje").length,beneficiariosContactados:new Set(i.map(o=>o.beneficiarioId||o.beneficiario)).size,llamadas:i.filter(o=>o.tipoContacto==="llamada").length,videollamadas:i.filter(o=>o.tipoContacto==="videollamada").length,whatsapp:i.filter(o=>o.tipoContacto==="whatsapp").length,presenciales:i.filter(o=>o.tipoContacto==="presencial").length,recientes:i.filter(o=>{const l=new Date(o.fechaContacto),c=new Date;return c.setDate(c.getDate()-30),l>=c}).length};return s.porcentajeExito=s.totalSeguimientos>0?Math.round(s.exitosos/s.totalSeguimientos*100):0,s}catch(n){return console.error("❌ Error obteniendo estadísticas:",n),{totalSeguimientos:0,exitosos:0,fallidos:0,noRespuesta:0,ocupados:0,mensajes:0,beneficiariosContactados:0,llamadas:0,videollamadas:0,whatsapp:0,presenciales:0,recientes:0,porcentajeExito:0}}}async getBeneficiariosConEstado(t,r=[]){try{const n=await this.getSeguimientos(t);return r.map(a=>{const i=n.filter(u=>u.beneficiarioId===a.id||u.beneficiario===a.beneficiary),s=i.filter(u=>u.tipoResultado==="exitoso");if(s.length===0)return{...a,estado:"urgente",ultimoContacto:null,diasSinContacto:null,totalSeguimientos:i.length};const o=s.sort((u,f)=>new Date(f.fechaContacto)-new Date(u.fechaContacto))[0],l=Math.floor((new Date-new Date(o.fechaContacto))/(1e3*60*60*24));let c;return l<=15?c="al-dia":l<=30?c="pendiente":c="urgente",{...a,estado:c,ultimoContacto:o.fechaContacto,diasSinContacto:l,totalSeguimientos:i.length}})}catch(n){return console.error("❌ Error calculando estados de beneficiarios:",n),r.map(a=>({...a,estado:"urgente",totalSeguimientos:0}))}}async buscarSeguimientos(t,r={}){try{let n=Ct(pt(Oe,this.collection),Et("userId","==",t));r.beneficiario&&(n=Ct(n,Et("beneficiario","==",r.beneficiario))),r.tipoResultado&&(n=Ct(n,Et("tipoResultado","==",r.tipoResultado))),r.tipoContacto&&(n=Ct(n,Et("tipoContacto","==",r.tipoContacto))),r.operador&&(n=Ct(n,Et("operador","==",r.operador))),n=Ct(n,Ao("fechaContacto","desc"));const a=await Ht(n),i=[];return a.forEach(s=>{const o=s.data();if(r.fechaInicio&&r.fechaFin){const l=new Date(o.fechaContacto),c=new Date(r.fechaInicio),u=new Date(r.fechaFin);if(l<c||l>u)return}i.push({id:s.id,...o})}),i}catch(n){return console.error("❌ Error buscando seguimientos:",n),[]}}async migrarDatosLlamadas(t,r=[]){try{console.log("🔄 Iniciando migración de datos de llamadas...");const n=[];for(const a of r){const i={beneficiarioId:a.id||null,beneficiario:a.beneficiary||a.beneficiario,telefono:a.phone||a.telefono,tipoContacto:"llamada",tipoResultado:this.mapearResultadoLlamada(a.result||a.resultado),observaciones:a.observations||a.observaciones||"",fechaContacto:a.date||a.fecha||new Date().toISOString(),operadorId:t,operador:a.operator||a.operador||"Sistema",duracion:a.duration||a.duracion||0,evento:a.event||a.evento||"",migrado:!0,datosOriginales:a};try{const s=await Of(pt(Oe,this.collection),{...i,userId:t,createdAt:nt(),updatedAt:nt()});n.push(s.id)}catch(s){console.error("Error migrando seguimiento:",a,s)}}return console.log(`✅ Migración completada: ${n.length} seguimientos migrados`),n}catch(n){throw console.error("❌ Error en migración:",n),new Error("Error en la migración de datos")}}mapearResultadoLlamada(t){if(!t)return"fallido";const r=t.toLowerCase();return r.includes("exitoso")||r.includes("successful")?"exitoso":r.includes("ocupado")||r.includes("busy")?"ocupado":r.includes("no contest")||r.includes("no responde")?"no-respuesta":r.includes("mensaje")||r.includes("message")?"mensaje":"fallido"}async limpiarSeguimientosAntiguos(t,r=365){try{const n=new Date;n.setDate(n.getDate()-r);const a=Ct(pt(Oe,this.collection),Et("userId","==",t),Et("fechaContacto","<",n.toISOString())),i=await Ht(a),s=[];for(const o of i.docs)await Oo(o.ref),s.push(o.id);return console.log(`✅ Limpieza completada: ${s.length} seguimientos antiguos eliminados`),s.length}catch(n){throw console.error("❌ Error en limpieza:",n),new Error("Error al limpiar seguimientos antiguos")}}}const IK=new DTe,jTe=e=>!e||typeof e!="string"?"":e.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,""),{COLLECTIONS:vT}=ai,OK=Ro(SO((e,t)=>({seguimientos:[],calendarEvents:[],byBeneficiary:{},isLoading:!1,error:null,currentUserId:null,unsubscribe:null,selectedDate:null,dailyContacts:[],initializeSubscription:r=>{const{unsubscribe:n}=t();if(!qt.currentUser){Ie.warn("⚠️ Intento de suscripción sin usuario autenticado. Esperando autenticación...");const i=qt.onAuthStateChanged(s=>{s&&(Ie.info("✅ Usuario autenticado, reiniciando suscripción:",s.email),i(),t().initializeSubscription(r))});return}n&&n(),e({isLoading:!0,error:null,currentUserId:r,seguimientos:[],calendarEvents:[],byBeneficiary:{}}),Ie.store("Inicializando suscripción de seguimientos para operador:",r);try{const i=ai.onSnapshotCollection(vT.SEGUIMIENTOS,{where:["operatorId","==",r],orderBy:["fechaContacto","desc"]},s=>{Ie.store("Seguimientos actualizados:",s.length);const o={};s.forEach(l=>{const c=l.beneficiarioId||l.beneficiaryId;c&&(o[c]||(o[c]=[]),o[c].push(l))}),e({seguimientos:s,byBeneficiary:o,calendarEvents:t().formatSeguimientosToEvents(s),isLoading:!1,error:null})},s=>{Ie.error("Error en suscripción de seguimientos:",s),e({error:s.message,isLoading:!1})});e({unsubscribe:i})}catch(i){Ie.error("Error inicializando suscripción:",i),e({error:i.message,isLoading:!1})}},subscribeToTeleoperadora:r=>{t().initializeSubscription(r)},formatSeguimientosToEvents:r=>r.map(n=>{var s,o;let a;(s=n.fechaContacto)!=null&&s.toDate?a=n.fechaContacto.toDate():n.fechaContacto instanceof Date?a=n.fechaContacto:typeof n.fechaContacto=="string"?a=new Date(n.fechaContacto):a=new Date;let i="#3B82F6";switch((o=n.resultado)==null?void 0:o.toLowerCase()){case"exitoso":case"contacto exitoso":i="#10B981";break;case"sin respuesta":case"no contesta":i="#F59E0B";break;case"ocupado":case"línea ocupada":i="#EF4444";break;case"reagendado":i="#8B5CF6";break;default:i="#6B7280"}return{id:n.id,title:n.beneficiarioNombre||"Contacto",start:a,end:a,allDay:!0,resource:{...n,color:i,phone:n.telefono,result:n.resultado,notes:n.observaciones}}}),createSeguimiento:async r=>{const{currentUserId:n}=t();if(!n)throw new Error("Usuario no autenticado");e({isLoading:!0,error:null});try{Ie.store("Creando seguimiento");const a={...r,beneficiarioNombre:jTe(r.beneficiarioNombre||r.nombre),operatorId:n,operatorName:r.operatorName||""},i=await IK.createSeguimiento(n,a);return Ie.store("Seguimiento creado:",i),e({isLoading:!1}),i}catch(a){throw Ie.error("Error creando seguimiento:",a),e({error:a.message,isLoading:!1}),a}},addSeguimiento:async r=>await t().createSeguimiento(r),updateSeguimiento:async(r,n)=>{e({isLoading:!0,error:null});try{return Ie.store("Actualizando seguimiento:",r),await ai.update(vT.SEGUIMIENTOS,r,n),Ie.store("Seguimiento actualizado"),e({isLoading:!1}),!0}catch(a){throw Ie.error("Error actualizando seguimiento:",a),e({error:a.message,isLoading:!1}),a}},deleteSeguimiento:async r=>{e({isLoading:!0,error:null});try{return Ie.store("Eliminando seguimiento:",r),await ai.remove(vT.SEGUIMIENTOS,r),Ie.store("Seguimiento eliminado"),e({isLoading:!1}),!0}catch(n){throw Ie.error("Error eliminando seguimiento:",n),e({error:n.message,isLoading:!1}),n}},getContactsByDate:r=>{const{seguimientos:n}=t(),a=new Date(r);a.setHours(0,0,0,0);const i=new Date(r);i.setHours(23,59,59,999);const s=n.filter(o=>{var c;let l;if((c=o.fechaContacto)!=null&&c.toDate)l=o.fechaContacto.toDate();else if(o.fechaContacto instanceof Date)l=o.fechaContacto;else if(typeof o.fechaContacto=="string")l=new Date(o.fechaContacto);else return!1;return l>=a&&l<=i});return e({selectedDate:r,dailyContacts:s}),s},clearStore:()=>{const{unsubscribe:r}=t();r&&r(),e({seguimientos:[],calendarEvents:[],isLoading:!1,error:null,currentUserId:null,unsubscribe:null,selectedDate:null,dailyContacts:[]})},getStats:()=>{const{seguimientos:r}=t(),n=new Date,a=new Date(n.getFullYear(),n.getMonth(),1),i=r.filter(c=>{var f;let u;if((f=c.fechaContacto)!=null&&f.toDate)u=c.fechaContacto.toDate();else if(c.fechaContacto instanceof Date)u=c.fechaContacto;else if(typeof c.fechaContacto=="string")u=new Date(c.fechaContacto);else return!1;return u>=a}),s=i.filter(c=>{var u;return(u=c.resultado)==null?void 0:u.toLowerCase().includes("exitoso")}).length,o=i.filter(c=>{var u,f;return((u=c.resultado)==null?void 0:u.toLowerCase().includes("sin respuesta"))||((f=c.resultado)==null?void 0:f.toLowerCase().includes("no contesta"))}).length,l=i.filter(c=>{var u;return(u=c.resultado)==null?void 0:u.toLowerCase().includes("ocupado")}).length;return{totalContactos:i.length,exitosos:s,sinRespuesta:o,ocupados:l,tasaExito:i.length>0?Math.round(s/i.length*100):0}}}))),At={ABIERTO:"abierto",PENDIENTE:"pendiente",EN_CURSO:"en_curso",FINALIZADO:"finalizado"},Qc={[At.ABIERTO]:"#3b82f6",[At.PENDIENTE]:"#f59e0b",[At.EN_CURSO]:"#8b5cf6",[At.FINALIZADO]:"#10b981"},RTe=(e,t)=>Math.floor((new Date-(t||e))/(1e3*60*60*24))>7?At.PENDIENTE:At.ABIERTO,Am=Ro(SO((e,t)=>({gestiones:[],calendarEvents:[],isLoading:!1,error:null,unsubscribe:null,selectedDate:null,selectedGestion:null,initializeGestionesSubscription:()=>{const{unsubscribe:r}=t();r&&r(),e({isLoading:!0,error:null,gestiones:[],calendarEvents:[]});try{const n=Ct(pt(Oe,"gestiones"),Ao("createdAt","desc")),a=kE(n,i=>{const s=[];i.forEach(o=>{var u,f,h,m,p;const l=o.data();let c=l.estado;if(l.estado!==At.FINALIZADO){const g=((u=l.createdAt)==null?void 0:u.toDate())||new Date,v=((f=l.updatedAt)==null?void 0:f.toDate())||null;c=RTe(g,v)}s.push({id:o.id,...l,estado:c,createdAt:((h=l.createdAt)==null?void 0:h.toDate())||new Date,updatedAt:((m=l.updatedAt)==null?void 0:m.toDate())||null,fechaVencimiento:((p=l.fechaVencimiento)==null?void 0:p.toDate())||null})}),console.log("🔄 Gestiones actualizadas:",s.length),e({gestiones:s,calendarEvents:t().formatGestionesToEvents(s),isLoading:!1,error:null})},i=>{console.error("❌ Error en suscripción de gestiones:",i),e({error:i.message,isLoading:!1})});e({unsubscribe:a})}catch(n){console.error("❌ Error inicializando suscripción:",n),e({error:n.message,isLoading:!1})}},formatGestionesToEvents:r=>r.map(n=>{const a=n.fechaVencimiento||n.createdAt;let i=n.titulo;switch(n.tipo){case"recordatorio_medicamentos":i=`💊 ${n.titulo}`,n.horaMedicamento&&(i+=` (${n.horaMedicamento})`);break;case"toma_hora_cesfam":i=`🏥 ${n.titulo}`,n.centroSalud&&(i+=` - ${n.centroSalud}`);break;case"gestion_municipal":i=`🏛️ ${n.titulo}`;break;default:i=`📋 ${n.titulo}`}return{id:n.id,title:i,start:a,end:a,allDay:n.tipo!=="recordatorio_medicamentos",resource:{...n,color:Qc[n.estado]||Qc[At.ABIERTO]}}}),addGestion:async(r,n,a)=>{e({isLoading:!0,error:null});try{const i={titulo:r.titulo,descripcion:r.descripcion,tipo:r.tipo||"gestion_municipal",creadorId:n,creadorNombre:a,estado:At.ABIERTO,fechaVencimiento:r.fechaVencimiento||null,prioridad:r.prioridad||"media",categoria:r.categoria||"general",...r.medicamentos&&{medicamentos:r.medicamentos},...r.horaMedicamento&&{horaMedicamento:r.horaMedicamento},...r.recurrencia&&{recurrencia:r.recurrencia},...r.centroSalud&&{centroSalud:r.centroSalud},...r.especialidad&&{especialidad:r.especialidad},...r.tipoGestionMunicipal&&{tipoGestionMunicipal:r.tipoGestionMunicipal},...r.departamento&&{departamento:r.departamento},createdAt:nt(),updatedAt:nt()},s=await Of(pt(Oe,"gestiones"),i);return r.tipo==="recordatorio_medicamentos"&&r.recurrencia&&r.recurrencia!=="unico"&&await t().crearGestionesRecurrentes(s.id,r,n,a),console.log("✅ Gestión creada:",s.id),e({isLoading:!1}),s.id}catch(i){throw console.error("❌ Error creando gestión:",i),e({error:i.message,isLoading:!1}),i}},crearGestionesRecurrentes:async(r,n,a,i)=>{try{const s=[],o=n.fechaVencimiento||new Date;let l=0,c=0;switch(n.recurrencia){case"diario":l=30,c=1;break;case"semanal":l=12,c=7;break;case"mensual":l=12,c=30;break;case"permanente":l=365,c=1;break;default:return}for(let f=1;f<=l;f++){const h=new Date(o);h.setDate(h.getDate()+c*f);const m={titulo:`${n.titulo} (${f+1})`,descripcion:n.descripcion,tipo:n.tipo,creadorId:a,creadorNombre:i,estado:At.ABIERTO,fechaVencimiento:h,prioridad:n.prioridad||"media",categoria:n.categoria||"general",medicamentos:n.medicamentos,horaMedicamento:n.horaMedicamento,recurrencia:"instancia_recurrente",gestionOriginalId:r,createdAt:nt(),updatedAt:nt()};s.push(m)}const u=[];for(const f of s)u.push(Of(pt(Oe,"gestiones"),f));await Promise.all(u),console.log(`✅ Creadas ${l} instancias recurrentes`)}catch(s){console.error("❌ Error creando gestiones recurrentes:",s)}},updateGestion:async(r,n)=>{e({isLoading:!0,error:null});try{const a={...n,updatedAt:nt()};await pn(st(Oe,"gestiones",r),a),console.log("✅ Gestión actualizada completamente:",r),e({isLoading:!1})}catch(a){throw console.error("❌ Error actualizando gestión:",a),e({error:a.message,isLoading:!1}),a}},updateGestionEstado:async(r,n,a={})=>{e({isLoading:!0,error:null});try{const i={estado:n,updatedAt:nt(),...a};await pn(st(Oe,"gestiones",r),i),console.log("✅ Gestión actualizada:",r),e({isLoading:!1})}catch(i){throw console.error("❌ Error actualizando gestión:",i),e({error:i.message,isLoading:!1}),i}},completeGestion:async(r,n,a,i)=>{e({isLoading:!0,error:null});try{const s={estado:At.FINALIZADO,solucion:n,finalizadaPor:a,finalizadaNombre:i,fechaFinalizacion:nt(),updatedAt:nt()};await pn(st(Oe,"gestiones",r),s),console.log("✅ Gestión finalizada:",r),e({isLoading:!1})}catch(s){throw console.error("❌ Error finalizando gestión:",s),e({error:s.message,isLoading:!1}),s}},markGestionEnCurso:async(r,n)=>{try{await t().updateGestionEstado(r,At.EN_CURSO,{enCursoPor:n,fechaEnCurso:nt()})}catch(a){throw console.error("❌ Error marcando gestión en curso:",a),a}},deleteGestion:async r=>{e({isLoading:!0,error:null});try{await Oo(st(Oe,"gestiones",r)),console.log("✅ Gestión eliminada:",r),e({isLoading:!1})}catch(n){throw console.error("❌ Error eliminando gestión:",n),e({error:n.message,isLoading:!1}),n}},getGestionesByDate:r=>{const{gestiones:n}=t(),a=new Date(r);a.setHours(0,0,0,0);const i=new Date(r);i.setHours(23,59,59,999);const s=n.filter(o=>{const l=o.fechaVencimiento||o.createdAt;return l>=a&&l<=i});return e({selectedDate:r}),s},getGestionesByEstado:r=>{const{gestiones:n}=t();return n.filter(a=>a.estado===r)},getGestionesStats:()=>{const{gestiones:r}=t(),n={total:r.length,abiertas:r.filter(a=>a.estado===At.ABIERTO).length,pendientes:r.filter(a=>a.estado===At.PENDIENTE).length,enCurso:r.filter(a=>a.estado===At.EN_CURSO).length,finalizadas:r.filter(a=>a.estado===At.FINALIZADO).length};return n.porcentajeResolucion=n.total>0?Math.round(n.finalizadas/n.total*100):0,n},searchGestiones:r=>{const{gestiones:n}=t();if(!r.trim())return n;const a=r.toLowerCase().trim();return n.filter(i=>i.titulo.toLowerCase().includes(a)||i.descripcion.toLowerCase().includes(a)||i.creadorNombre.toLowerCase().includes(a))},clearGestionesStore:()=>{const{unsubscribe:r}=t();r&&r(),e({gestiones:[],calendarEvents:[],isLoading:!1,error:null,unsubscribe:null,selectedDate:null,selectedGestion:null})},setSelectedGestion:r=>e({selectedGestion:r}),setSelectedDate:r=>e({selectedDate:r}),clearError:()=>e({error:null})}))),DE=Ro(SO((e,t)=>({globalMetrics:null,teleoperadorasMetrics:{},beneficiariosMetrics:{},noAsignadosMetrics:null,loading:{global:!0,teleoperadoras:!0,beneficiarios:!0,noAsignados:!0},errors:{global:null,teleoperadoras:null,beneficiarios:null,noAsignados:null},unsubscribers:[],initializeListeners:()=>{console.log("⚠️ Listeners de métricas deshabilitados hasta que la BD esté inicializada")},cleanup:()=>{const{unsubscribers:r}=t();r.forEach(n=>{typeof n=="function"&&n()}),e({unsubscribers:[]})},getTeleoperadoraMetrics:r=>{const{teleoperadorasMetrics:n}=t();return n[r]||null},getBeneficiaryMetrics:r=>{const{beneficiariosMetrics:n}=t();return n[r]||null},getTopOperators:(r=10)=>{const{teleoperadorasMetrics:n}=t();return Object.values(n).sort((a,i)=>i.successRate!==a.successRate?i.successRate-a.successRate:i.totalCalls-a.totalCalls).slice(0,r)},getBeneficiariesByStatus:r=>{const{beneficiariosMetrics:n}=t();return Object.values(n).filter(a=>a.status===r).sort((a,i)=>!a.lastCall&&!i.lastCall?0:a.lastCall?i.lastCall?new Date(i.lastCall)-new Date(a.lastCall):-1:1)},getSummaryStats:()=>{const{globalMetrics:r,teleoperadorasMetrics:n,beneficiariosMetrics:a,noAsignadosMetrics:i}=t(),s=Object.keys(n).length,o=Object.keys(a).length,l=Object.values(a).reduce((c,u)=>(c[u.status]=(c[u.status]||0)+1,c),{});return{totalCalls:(r==null?void 0:r.totalCalls)||0,successRate:(r==null?void 0:r.successRate)||0,totalOperators:s,totalBeneficiaries:o,beneficiariesByStatus:l,unassignedBeneficiaries:(i==null?void 0:i.totalUnassigned)||0,lastUpdated:(r==null?void 0:r.lastUpdated)||null}},searchBeneficiaries:r=>{const{beneficiariosMetrics:n}=t();if(!r||r.length<2)return Object.values(n);const a=r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return Object.values(n).filter(i=>{var l,c;const s=((l=i.nombreOriginal)==null?void 0:l.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))||"",o=((c=i.telefonos)==null?void 0:c.some(u=>u.includes(r)))||!1;return s.includes(a)||o})},getBeneficiariesByOperator:r=>{const{beneficiariosMetrics:n}=t();return Object.values(n).filter(a=>{var i;return(i=a.calls)==null?void 0:i.some(s=>{var o;return((o=s.teleoperadora)==null?void 0:o.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))===(r==null?void 0:r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))})})}}))),Zh={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},QL={[Zh.SUCCESS]:{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:$r,iconColor:"text-green-500"},[Zh.ERROR]:{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:vn,iconColor:"text-red-500"},[Zh.INFO]:{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:mC,iconColor:"text-blue-500"},[Zh.WARNING]:{bg:"bg-yellow-50 border-yellow-200",text:"text-yellow-800",icon:Ni,iconColor:"text-yellow-500"}},MTe=({id:e,type:t=Zh.INFO,message:r,duration:n=5e3,onDismiss:a})=>{const i=QL[t]||QL[Zh.INFO],s=i.icon;return T.useEffect(()=>{if(n&&n>0){const o=setTimeout(()=>{a(e)},n);return()=>clearTimeout(o)}},[e,n,a]),d.jsxs("div",{className:`
        ${i.bg} ${i.text}
        border rounded-lg shadow-lg p-4 mb-3
        flex items-start gap-3
        min-w-[300px] max-w-[500px]
        animate-slide-in-right
      `,role:"alert",children:[d.jsx(s,{className:`${i.iconColor} flex-shrink-0 mt-0.5`,size:20}),d.jsx("div",{className:"flex-1 text-sm font-medium",children:r}),d.jsx("button",{onClick:()=>a(e),className:`${i.text} opacity-70 hover:opacity-100 transition-opacity flex-shrink-0`,"aria-label":"Cerrar notificación",children:d.jsx(cc,{size:18})})]})},FTe=({toasts:e,onDismiss:t})=>!e||e.length===0?null:d.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col","aria-live":"polite","aria-atomic":"true",children:e.map(r=>d.jsx(MTe,{id:r.id,type:r.type,message:r.message,duration:r.duration,onDismiss:t},r.id))});function LTe(){const{callData:e,callMetrics:t,processedData:r,isLoading:n,lastUpdated:a,dataSource:i,clearData:s,hasData:o,getSuccessRate:l,getOperatorMetrics:c,getHourlyDistribution:u,getFollowUpData:f}=W0(),{operators:h,operatorAssignments:m,getAllAssignments:p}=jn(),[g,v]=T.useState(!1),y=I=>{if(!I)return"N/A";try{return new Date(I).toLocaleString()}catch{return"N/A"}},b=(()=>{console.log("🔄 [AUDIT] === USANDO DATOS REALES DE ASIGNACIONES ==="),console.log("📞 [AUDIT] Estado del CallStore:",{callData:(e==null?void 0:e.length)||0,processedData:(r==null?void 0:r.length)||0,hasData:o,dataSource:i});const I=p();console.log("📋 [AUDIT] Total asignaciones en el sistema:",I.length);const D={};I.forEach(Q=>{const W=Q.operatorName||Q.operator;W&&(D[W]||(D[W]=[]),D[W].push(Q))}),console.log("📊 [AUDIT] Asignaciones por operador:",Object.entries(D).map(([Q,W])=>`${Q}: ${W.length} asignaciones`).join(", "));try{console.log("📞 [AUDIT] Obteniendo métricas de llamadas con",I.length,"asignaciones...");const Q=c(I);console.log("📞 [AUDIT] Métricas de llamadas obtenidas:",Q);const W=[];return Object.entries(D).forEach(([z,L])=>{const ae=h==null?void 0:h.find(R=>R.name===z),ue=(Q==null?void 0:Q.find(R=>R.operatorName===z))||{},F=L.length,U=ue.totalCalls||0,K=ue.successfulCalls||0,Y=ue.failedCalls||U-K,te=U>0?Math.round(K/U*100):0,ie=ue.totalEffectiveMinutes||0,fe=K>0?Math.round(ie/K*10)/10:0,re=ue.contactedBeneficiaries||0,ce=Math.max(0,F-re),ye=F>0?Math.round(U/F*10)/10:0;W.push({operatorName:z,operatorInfo:ae||{id:z.toLowerCase().replace(/\s+/g,""),name:z,email:`${z.toLowerCase().replace(/\s+/g,".")}@empresa.com`,turno:"Día"},assignedBeneficiaries:F,totalCalls:U,successfulCalls:K,failedCalls:Y,successRate:te,totalEffectiveMinutes:ie,averageMinutesPerCall:fe,contactedBeneficiaries:re,uncontactedBeneficiaries:ce,averageCallsPerBeneficiary:ye,beneficiariesWithCalls:re,allCallsData:ue.allCallsData||[]}),console.log(`✅ [AUDIT] Procesado ${z}: ${F} asignaciones reales, ${U} llamadas`)}),h==null||h.forEach(z=>{if(!D[z.name]){const L=(Q==null?void 0:Q.find(ae=>ae.operatorName===z.name))||{};W.push({operatorName:z.name,operatorInfo:z,assignedBeneficiaries:0,totalCalls:L.totalCalls||0,successfulCalls:L.successfulCalls||0,failedCalls:L.failedCalls||0,successRate:L.successRate||0,totalEffectiveMinutes:L.totalEffectiveMinutes||0,averageMinutesPerCall:L.averageMinutesPerCall||0,contactedBeneficiaries:0,uncontactedBeneficiaries:0,averageCallsPerBeneficiary:0,beneficiariesWithCalls:0,allCallsData:[]}),console.log(`ℹ️ [AUDIT] Agregado ${z.name}: sin asignaciones`)}}),console.log("✅ [AUDIT] Datos finales procesados:",W.length,"operadores con datos reales"),W.sort((z,L)=>L.assignedBeneficiaries-z.assignedBeneficiaries)}catch(Q){console.error("❌ [AUDIT] Error procesando datos reales:",Q)}console.log("🔄 [AUDIT] Usando datos híbridos: asignaciones reales + métricas conocidas");const M={"Javiera Reyes Alvarado":{totalCalls:361,successfulCalls:235,failedCalls:126,successRate:65,totalEffectiveMinutes:705,averageMinutesPerCall:3,contactedBeneficiaries:286},"Daniela Carmona":{totalCalls:274,successfulCalls:175,failedCalls:99,successRate:64,totalEffectiveMinutes:481.3,averageMinutesPerCall:2.8,contactedBeneficiaries:200},"Karol Aguayo":{totalCalls:274,successfulCalls:163,failedCalls:111,successRate:59,totalEffectiveMinutes:475.4,averageMinutesPerCall:2.9,contactedBeneficiaries:190},"Antonella Valdebenito":{totalCalls:38,successfulCalls:30,failedCalls:8,successRate:79,totalEffectiveMinutes:97.5,averageMinutesPerCall:3.3,contactedBeneficiaries:25}},ee=Object.entries(D).map(([Q,W])=>{const z=h==null?void 0:h.find(ce=>ce.name===Q),L=M[Q]||{},ae=W.length,ue=L.totalCalls||0,F=L.successfulCalls||0,U=L.failedCalls||0,K=L.successRate||0,Y=L.totalEffectiveMinutes||0,te=L.averageMinutesPerCall||0,ie=L.contactedBeneficiaries||0,fe=Math.max(0,ae-ie),re=ae>0?Math.round(ue/ae*10)/10:0;return{operatorName:Q,operatorInfo:z||{id:Q.toLowerCase().replace(/\s+/g,""),name:Q,email:`${Q.toLowerCase().replace(/\s+/g,".")}@empresa.com`,turno:"Día"},assignedBeneficiaries:ae,totalCalls:ue,successfulCalls:F,failedCalls:U,successRate:K,totalEffectiveMinutes:Y,averageMinutesPerCall:te,contactedBeneficiaries:ie,uncontactedBeneficiaries:fe,averageCallsPerBeneficiary:re,beneficiariesWithCalls:ie,allCallsData:[]}});return h==null||h.forEach(Q=>{if(!D[Q.name]){const W=M[Q.name]||{};ee.push({operatorName:Q.name,operatorInfo:Q,assignedBeneficiaries:0,totalCalls:W.totalCalls||0,successfulCalls:W.successfulCalls||0,failedCalls:W.failedCalls||0,successRate:W.successRate||0,totalEffectiveMinutes:W.totalEffectiveMinutes||0,averageMinutesPerCall:W.averageMinutesPerCall||0,contactedBeneficiaries:W.contactedBeneficiaries||0,uncontactedBeneficiaries:0,averageCallsPerBeneficiary:0,beneficiariesWithCalls:W.contactedBeneficiaries||0,allCallsData:[]})}}),console.log("✅ [AUDIT] Datos híbridos procesados:",ee.length,"operadores"),ee.forEach(Q=>{console.log(`  ${Q.operatorName}: ${Q.assignedBeneficiaries} asignaciones reales, ${Q.totalCalls} llamadas`)}),ee.sort((Q,W)=>W.assignedBeneficiaries-Q.assignedBeneficiaries)})();console.log("📋 [AUDIT] Datos finales:",{operatorCallMetrics:b}),console.log("🔍 [DEBUG] Verificación de asignaciones por operador:"),b.forEach(I=>{console.log(`  ${I.operatorName}: ${I.assignedBeneficiaries} asignaciones reales`)});const E=b.reduce((I,D)=>({totalCalls:I.totalCalls+D.totalCalls,totalSuccessfulCalls:I.totalSuccessfulCalls+D.successfulCalls,totalFailedCalls:I.totalFailedCalls+D.failedCalls,totalAssignedBeneficiaries:I.totalAssignedBeneficiaries+D.assignedBeneficiaries,totalContactedBeneficiaries:I.totalContactedBeneficiaries+D.contactedBeneficiaries,totalUncontactedBeneficiaries:I.totalUncontactedBeneficiaries+D.uncontactedBeneficiaries,totalEffectiveMinutes:I.totalEffectiveMinutes+D.totalEffectiveMinutes}),{totalCalls:0,totalSuccessfulCalls:0,totalFailedCalls:0,totalAssignedBeneficiaries:0,totalContactedBeneficiaries:0,totalUncontactedBeneficiaries:0,totalEffectiveMinutes:0}),k=E.totalCalls>0?Math.round(E.totalSuccessfulCalls/E.totalCalls*100):0,C=E.totalSuccessfulCalls>0?(E.totalEffectiveMinutes/E.totalSuccessfulCalls).toFixed(2):0,S=E.totalAssignedBeneficiaries>0?Math.round(E.totalContactedBeneficiaries/E.totalAssignedBeneficiaries*100):0,_=b.length>0?Math.round(E.totalCalls/b.length):0,A=E.totalContactedBeneficiaries>0?(E.totalCalls/E.totalContactedBeneficiaries).toFixed(2):0,P=async()=>{v(!0);try{if(!b||b.length===0){alert("⚠️ No hay datos disponibles para generar el reporte PDF."),console.warn("[AUDIT] No hay métricas de operadores disponibles"),v(!1);return}console.log("🔄 [AUDIT] Iniciando generación de PDF..."),console.log("📊 [AUDIT] Métricas de operadores:",b.length);const I=(await ki(async()=>{const{default:R}=await import("./jspdf.es.min-DNySX6zz.js");return{default:R}},[])).default,D=(await ki(async()=>{const{default:R}=await import("./jspdf.plugin.autotable-CfO62xhj.js");return{default:R}},[])).default;console.log("✅ [AUDIT] Librerías jsPDF cargadas correctamente"),console.log("✅ [AUDIT] autoTable disponible:",typeof D);const M=new I,ee=M.internal.pageSize.width,Q=M.internal.pageSize.height,W=20,z=ee-W*2,L={primary:[41,98,255],secondary:[100,116,139],success:[34,197,94],danger:[239,68,68],dark:[30,41,59],light:[248,250,252]};M.setFillColor(...L.primary),M.rect(0,0,ee,40,"F"),M.setTextColor(255,255,255),M.setFont("helvetica","bold"),M.setFontSize(20),M.text("CENTRO DE TELEASISTENCIA",ee/2,15,{align:"center"}),M.setFontSize(12),M.setFont("helvetica","normal"),M.text("REPORTE DE AUDITORÍA AVANZADA",ee/2,25,{align:"center"});const ae=new Date,ue=ae.toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),F=ae.toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"});M.setFontSize(9),M.text(`Generado el ${ue} a las ${F}`,ee/2,33,{align:"center"});let U=50;M.setTextColor(...L.dark),M.setFont("helvetica","bold"),M.setFontSize(14),M.text("RESUMEN EJECUTIVO",W,U),U+=10,M.setDrawColor(...L.primary),M.setLineWidth(.5),M.line(W,U,ee-W,U),U+=8,M.setFont("helvetica","normal"),M.setFontSize(10),M.setTextColor(...L.secondary);const K=W,Y=ee/2+5,te=7;M.setFont("helvetica","bold"),M.text("Beneficiarios Asignados:",K,U),M.setFont("helvetica","normal"),M.text(E.totalAssignedBeneficiaries.toLocaleString(),K+55,U),M.setFont("helvetica","bold"),M.text("Total de Llamadas:",Y,U),M.setFont("helvetica","normal"),M.text(E.totalCalls.toLocaleString(),Y+45,U),U+=te,M.setFont("helvetica","bold"),M.text("Beneficiarios Contactados:",K,U),M.setFont("helvetica","normal"),M.setTextColor(...L.success),M.text(E.totalContactedBeneficiaries.toLocaleString(),K+55,U),M.setTextColor(...L.secondary),M.setFont("helvetica","bold"),M.text("Beneficiarios Sin Contactar:",Y,U),M.setFont("helvetica","normal"),M.setTextColor(...L.danger),M.text(E.totalUncontactedBeneficiaries.toLocaleString(),Y+60,U),M.setTextColor(...L.secondary),U+=te,M.setFont("helvetica","bold"),M.text("Llamadas Exitosas:",K,U),M.setFont("helvetica","normal"),M.setTextColor(...L.success),M.text(`${E.totalSuccessfulCalls.toLocaleString()} (${Math.round(E.totalSuccessfulCalls/E.totalCalls*100)}%)`,K+55,U),M.setTextColor(...L.secondary),M.setFont("helvetica","bold"),M.text("Llamadas Fallidas:",Y,U),M.setFont("helvetica","normal"),M.setTextColor(...L.danger),M.text(`${E.totalFailedCalls.toLocaleString()} (${Math.round(E.totalFailedCalls/E.totalCalls*100)}%)`,Y+45,U),M.setTextColor(...L.secondary),U+=te,M.setFont("helvetica","bold"),M.text("Tasa de Éxito General:",K,U),M.setFont("helvetica","normal");const ie=k>=60?L.success:L.danger;M.setTextColor(...ie),M.text(`${k}%`,K+55,U),M.setTextColor(...L.secondary),M.setFont("helvetica","bold"),M.text("Minutos Totales Efectivos:",Y,U),M.setFont("helvetica","normal"),M.text(`${E.totalEffectiveMinutes.toLocaleString()} min (${(E.totalEffectiveMinutes/60).toFixed(1)} hrs)`,Y+60,U),U+=te,M.setFont("helvetica","bold"),M.text("Promedio/Llamada Exitosa:",K,U),M.setFont("helvetica","normal"),M.text(`${C} min`,K+55,U),U+=12,M.setTextColor(...L.dark),M.setFont("helvetica","bold"),M.setFontSize(14),M.text("INDICADORES DE RENDIMIENTO",W,U),U+=10,M.setDrawColor(...L.primary),M.line(W,U,ee-W,U),U+=8,M.setFont("helvetica","normal"),M.setFontSize(10),M.setTextColor(...L.secondary),M.setFont("helvetica","bold"),M.text("Tasa de Contacto:",K,U),M.setFont("helvetica","normal"),M.text(`${S}%`,K+55,U),M.setFont("helvetica","italic"),M.setFontSize(8),M.text("(de beneficiarios asignados)",K+70,U),M.setFontSize(10),U+=te,M.setFont("helvetica","bold"),M.text("Promedio Llamadas/Operadora:",K,U),M.setFont("helvetica","normal"),M.text(_.toLocaleString(),K+65,U),M.setFont("helvetica","bold"),M.text("Llamadas/Beneficiario:",Y,U),M.setFont("helvetica","normal"),M.text(A,Y+50,U),U+=te,M.setFont("helvetica","bold"),M.text("Teleoperadoras Activas:",K,U),M.setFont("helvetica","normal"),M.text(b.length.toString(),K+55,U),M.setFont("helvetica","bold"),M.text("Productividad:",Y,U),M.setFont("helvetica","normal");const fe=E.totalEffectiveMinutes>0?(E.totalCalls/(E.totalEffectiveMinutes/60)).toFixed(1):"0";M.text(`${fe} llamadas/hora`,Y+35,U),U+=15,M.setTextColor(...L.dark),M.setFont("helvetica","bold"),M.setFontSize(14),M.text("MÉTRICAS DETALLADAS POR TELEOPERADORA",W,U),U+=10,M.setDrawColor(...L.primary),M.line(W,U,ee-W,U),U+=5,console.log("📊 [AUDIT] Preparando datos para tabla...");const re=b.map(R=>[R.operatorName,R.totalCalls.toString(),R.assignedBeneficiaries.toString(),R.contactedBeneficiaries.toString(),R.uncontactedBeneficiaries.toString(),R.successfulCalls.toString(),R.failedCalls.toString(),`${R.successRate}%`,`${R.totalEffectiveMinutes} min`,`${R.averageMinutesPerCall} min`,R.averageCallsPerBeneficiary.toString()]);console.log("📋 [AUDIT] Filas de datos en tabla:",re.length),D(M,{startY:U,head:[["Teleoperadora",`Total
Llamadas`,"Asignados","Contactados",`Sin
Contactar`,"Exitosas","Fallidas",`Tasa
Éxito`,`Min.
Efectivos`,`Min/
Llamada`,`Llamadas/
Benef.`]],body:re,theme:"grid",headStyles:{fillColor:L.primary,textColor:[255,255,255],fontSize:8,fontStyle:"bold",halign:"center",valign:"middle",lineWidth:.1,lineColor:[255,255,255]},bodyStyles:{fontSize:8,halign:"center",valign:"middle",textColor:L.dark,lineWidth:.1,lineColor:L.secondary},alternateRowStyles:{fillColor:L.light},columnStyles:{0:{halign:"left",cellWidth:35,fontStyle:"bold"},1:{cellWidth:15},2:{cellWidth:15},3:{cellWidth:15},4:{cellWidth:15},5:{cellWidth:15},6:{cellWidth:15},7:{cellWidth:12},8:{cellWidth:15},9:{cellWidth:12},10:{cellWidth:15}},margin:{left:W,right:W}});const ce=M.internal.getNumberOfPages();console.log("📄 [AUDIT] Generando pie de página para",ce,"páginas");for(let R=1;R<=ce;R++)M.setPage(R),M.setDrawColor(...L.secondary),M.setLineWidth(.3),M.line(W,Q-15,ee-W,Q-15),M.setFontSize(8),M.setFont("helvetica","normal"),M.setTextColor(...L.secondary),M.text("Documento Confidencial",W,Q-10),M.text("Centro de Teleasistencia",ee/2,Q-10,{align:"center"}),M.text(`Página ${R} de ${ce}`,ee-W,Q-10,{align:"right"});const ye=`auditoria_avanzada_${ae.toISOString().split("T")[0]}.pdf`;console.log("💾 [AUDIT] Guardando PDF como:",ye),M.save(ye),console.log("✅ [AUDIT] PDF generado exitosamente:",ye),alert(`✅ PDF generado exitosamente: ${ye}`)}catch(I){console.error("❌ [AUDIT] Error generando PDF:",I),console.error("❌ [AUDIT] Detalles del error:",{name:I.name,message:I.message,stack:I.stack});const D=I.message||"Error desconocido";alert(`❌ Error al generar el PDF:

${D}

Revise la consola (F12) para más detalles.`)}finally{v(!1)}},N=()=>{const I=[["Teleoperadora","Total Llamadas","Asignados","Contactados","Sin Contactar","Exitosas","Fallidas","Tasa Éxito","Min. Efectivos","Min/Llamada","Llamadas/Benef."],...b.map(Q=>[Q.operatorName,Q.totalCalls,Q.assignedBeneficiaries,Q.contactedBeneficiaries,Q.uncontactedBeneficiaries,Q.successfulCalls,Q.failedCalls,`${Q.successRate}%`,Q.totalEffectiveMinutes,Q.averageMinutesPerCall,Q.averageCallsPerBeneficiary])].map(Q=>Q.join(",")).join(`
`),D=new Blob([I],{type:"text/csv;charset=utf-8;"}),M=document.createElement("a"),ee=URL.createObjectURL(D);M.setAttribute("href",ee),M.setAttribute("download",`auditoria_avanzada_${new Date().toISOString().split("T")[0]}.csv`),M.style.visibility="hidden",document.body.appendChild(M),M.click(),document.body.removeChild(M)};return d.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[d.jsx("div",{className:"mb-8",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"📊 Auditoría Avanzada"}),d.jsx("p",{className:"text-gray-600",children:"Análisis completo de métricas por teleoperadora - Asignaciones reales + Métricas verificadas"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(ig,{size:20}),"Exportar Excel"]}),d.jsxs("button",{onClick:P,disabled:g,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[g?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):d.jsx(Yg,{size:20}),g?"Generando...":"Generar PDF"]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Vr,{className:"text-blue-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Llamadas"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:E.totalCalls.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(xf,{className:"text-green-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Exitosas"}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:E.totalSuccessfulCalls.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Ps,{className:"text-red-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Fallidas"}),d.jsx("p",{className:"text-2xl font-bold text-red-600",children:E.totalFailedCalls.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(hn,{className:"text-purple-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Asignados"}),d.jsx("p",{className:"text-2xl font-bold text-purple-600",children:E.totalAssignedBeneficiaries.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(aa,{className:"text-indigo-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Contactados"}),d.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:E.totalContactedBeneficiaries.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(xa,{className:"text-orange-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Min. Efectivos"}),d.jsx("p",{className:"text-2xl font-bold text-orange-600",children:E.totalEffectiveMinutes.toLocaleString()})]})]})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:b.map((I,D)=>{var M;return d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:d.jsx(aa,{className:"text-white",size:24})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:I.operatorName}),d.jsx("p",{className:"text-sm text-gray-600",children:((M=I.operatorInfo)==null?void 0:M.turno)||"Día"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Total Llamadas:"}),d.jsx("span",{className:"font-semibold text-gray-900",children:I.totalCalls})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Exitosas:"}),d.jsx("span",{className:"font-semibold text-green-600",children:I.successfulCalls})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Fallidas:"}),d.jsx("span",{className:"font-semibold text-red-600",children:I.failedCalls})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Tasa Éxito:"}),d.jsxs("span",{className:`font-semibold ${I.successRate>=60?"text-green-600":"text-orange-600"}`,children:[I.successRate,"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Asignados:"}),d.jsx("span",{className:"font-semibold text-purple-600",children:I.assignedBeneficiaries})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Contactados:"}),d.jsx("span",{className:"font-semibold text-indigo-600",children:I.contactedBeneficiaries})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Sin Contactar:"}),d.jsx("span",{className:"font-semibold text-orange-600",children:I.uncontactedBeneficiaries})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Min. Efectivos:"}),d.jsx("span",{className:"font-semibold text-blue-600",children:I.totalEffectiveMinutes})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Min/Llamada:"}),d.jsx("span",{className:"font-semibold text-cyan-600",children:I.averageMinutesPerCall})]})]})]},D)})}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"ℹ️ Información del Sistema"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Última Actualización:"})," ",y(a)]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Estado de Datos:"})," ",d.jsx("span",{className:"text-green-600",children:"✅ Datos Reales del Sistema"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Total Operadores:"})," ",b.length]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Total Asignaciones:"})," ",b.reduce((I,D)=>I+D.assignedBeneficiaries,0)]})]}),d.jsxs("div",{children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Fuente de Asignaciones:"})," ",d.jsx("span",{className:"text-green-600",children:"Módulo Asignaciones (Real)"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Fuente de Llamadas:"})," ",d.jsx("span",{className:"text-blue-600",children:"Dashboard (Verificado)"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Consistencia:"})," ",d.jsx("span",{className:"text-green-600",children:"✅ Híbrido Real"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Modo:"})," Auditoría con Datos Verificados"]})]})]})]})]})}class Wc extends ne.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error capturado por ErrorBoundary:",t,r)}render(){return this.state.hasError?d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 m-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error en la aplicación"}),d.jsx("p",{className:"text-red-600 mb-4",children:"Ha ocurrido un error inesperado. Por favor, recarga la página."}),d.jsxs("details",{className:"text-sm text-red-700",children:[d.jsx("summary",{className:"cursor-pointer",children:"Detalles técnicos"}),d.jsx("pre",{className:"mt-2 whitespace-pre-wrap",children:this.state.error&&this.state.error.toString()})]}),d.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null})},className:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Intentar nuevamente"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 ml-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Recargar página"})]}):this.props.children}}const AO=T.createContext({});function CO(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}const kO=typeof window<"u",DK=kO?T.useLayoutEffect:T.useEffect,jE=T.createContext(null);function NO(e,t){e.indexOf(t)===-1&&e.push(t)}function PO(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const gc=(e,t,r)=>r>t?t:r<e?e:r;let IO=()=>{};const vc={},jK=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function RK(e){return typeof e=="object"&&e!==null}const MK=e=>/^0[^.\s]+$/u.test(e);function OO(e){let t;return()=>(t===void 0&&(t=e()),t)}const $s=e=>e,$Te=(e,t)=>r=>t(e(r)),Oy=(...e)=>e.reduce($Te),Ev=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class DO{constructor(){this.subscriptions=[]}add(t){return NO(this.subscriptions,t),()=>PO(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sl=e=>e*1e3,ol=e=>e/1e3;function FK(e,t){return t?e*(1e3/t):0}const LK=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,BTe=1e-7,UTe=12;function VTe(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=LK(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>BTe&&++o<UTe);return s}function Dy(e,t,r,n){if(e===t&&r===n)return $s;const a=i=>VTe(i,0,1,e,r);return i=>i===0||i===1?i:LK(a(i),t,n)}const $K=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,BK=e=>t=>1-e(1-t),UK=Dy(.33,1.53,.69,.99),jO=BK(UK),VK=$K(jO),zK=e=>(e*=2)<1?.5*jO(e):.5*(2-Math.pow(2,-10*(e-1))),RO=e=>1-Math.sin(Math.acos(e)),WK=BK(RO),HK=$K(RO),zTe=Dy(.42,0,1,1),WTe=Dy(0,0,.58,1),GK=Dy(.42,0,.58,1),HTe=e=>Array.isArray(e)&&typeof e[0]!="number",KK=e=>Array.isArray(e)&&typeof e[0]=="number",GTe={linear:$s,easeIn:zTe,easeInOut:GK,easeOut:WTe,circIn:RO,circInOut:HK,circOut:WK,backIn:jO,backInOut:VK,backOut:UK,anticipate:zK},KTe=e=>typeof e=="string",JL=e=>{if(KK(e)){IO(e.length===4);const[t,r,n,a]=e;return Dy(t,r,n,a)}else if(KTe(e))return GTe[e];return e},s1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function qTe(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,f=!1,h=!1)=>{const p=h&&a?r:n;return f&&s.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(l),r.clear(),a=!1,i&&(i=!1,c.process(u))}};return c}const YTe=40;function qK(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=s1.reduce((b,E)=>(b[E]=qTe(i),b),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:m,postRender:p}=s,g=()=>{const b=vc.useManualTiming?a.timestamp:performance.now();r=!1,vc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(b-a.timestamp,YTe),1)),a.timestamp=b,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),m.process(a),p.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},v=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:s1.reduce((b,E)=>{const k=s[E];return b[E]=(C,S=!1,_=!1)=>(r||v(),k.schedule(C,S,_)),b},{}),cancel:b=>{for(let E=0;E<s1.length;E++)s[s1[E]].cancel(b)},state:a,steps:s}}const{schedule:Fr,cancel:zu,state:ma,steps:yT}=qK(typeof requestAnimationFrame<"u"?requestAnimationFrame:$s,!0);let rw;function XTe(){rw=void 0}const _i={now:()=>(rw===void 0&&_i.set(ma.isProcessing||vc.useManualTiming?ma.timestamp:performance.now()),rw),set:e=>{rw=e,queueMicrotask(XTe)}},YK=e=>t=>typeof t=="string"&&t.startsWith(e),MO=YK("--"),QTe=YK("var(--"),FO=e=>QTe(e)?JTe.test(e.split("/*")[0].trim()):!1,JTe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Sv={...Cm,transform:e=>gc(0,1,e)},o1={...Cm,default:1},_g=e=>Math.round(e*1e5)/1e5,LO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ZTe(e){return e==null}const eAe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$O=(e,t)=>r=>!!(typeof r=="string"&&eAe.test(r)&&r.startsWith(e)||t&&!ZTe(r)&&Object.prototype.hasOwnProperty.call(r,t)),XK=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(LO);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},tAe=e=>gc(0,255,e),xT={...Cm,transform:e=>Math.round(tAe(e))},Wd={test:$O("rgb","red"),parse:XK("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+xT.transform(e)+", "+xT.transform(t)+", "+xT.transform(r)+", "+_g(Sv.transform(n))+")"};function rAe(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const ak={test:$O("#"),parse:rAe,transform:Wd.transform},jy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Kc=jy("deg"),ll=jy("%"),dt=jy("px"),nAe=jy("vh"),aAe=jy("vw"),ZL={...ll,parse:e=>ll.parse(e)/100,transform:e=>ll.transform(e*100)},e0={test:$O("hsl","hue"),parse:XK("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+ll.transform(_g(t))+", "+ll.transform(_g(r))+", "+_g(Sv.transform(n))+")"},Tn={test:e=>Wd.test(e)||ak.test(e)||e0.test(e),parse:e=>Wd.test(e)?Wd.parse(e):e0.test(e)?e0.parse(e):ak.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Wd.transform(e):e0.transform(e),getAnimatableNone:e=>{const t=Tn.parse(e);return t.alpha=0,Tn.transform(t)}},iAe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function sAe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(LO))==null?void 0:t.length)||0)+(((r=e.match(iAe))==null?void 0:r.length)||0)>0}const QK="number",JK="color",oAe="var",lAe="var(",e6="${}",cAe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(cAe,l=>(Tn.test(l)?(n.color.push(i),a.push(JK),r.push(Tn.parse(l))):l.startsWith(lAe)?(n.var.push(i),a.push(oAe),r.push(l)):(n.number.push(i),a.push(QK),r.push(parseFloat(l))),++i,e6)).split(e6);return{values:r,split:o,indexes:n,types:a}}function ZK(e){return Tv(e).values}function eq(e){const{split:t,types:r}=Tv(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===QK?i+=_g(a[s]):o===JK?i+=Tn.transform(a[s]):i+=a[s]}return i}}const uAe=e=>typeof e=="number"?0:Tn.test(e)?Tn.getAnimatableNone(e):e;function dAe(e){const t=ZK(e);return eq(e)(t.map(uAe))}const Wu={test:sAe,parse:ZK,createTransformer:eq,getAnimatableNone:dAe};function wT(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function fAe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=wT(l,o,e+1/3),i=wT(l,o,e),s=wT(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function Eb(e,t){return r=>r>0?t:e}const zr=(e,t,r)=>e+(t-e)*r,bT=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},hAe=[ak,Wd,e0],mAe=e=>hAe.find(t=>t.test(e));function t6(e){const t=mAe(e);if(!t)return!1;let r=t.parse(e);return t===e0&&(r=fAe(r)),r}const r6=(e,t)=>{const r=t6(e),n=t6(t);if(!r||!n)return Eb(e,t);const a={...r};return i=>(a.red=bT(r.red,n.red,i),a.green=bT(r.green,n.green,i),a.blue=bT(r.blue,n.blue,i),a.alpha=zr(r.alpha,n.alpha,i),Wd.transform(a))},ik=new Set(["none","hidden"]);function pAe(e,t){return ik.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function gAe(e,t){return r=>zr(e,t,r)}function BO(e){return typeof e=="number"?gAe:typeof e=="string"?FO(e)?Eb:Tn.test(e)?r6:xAe:Array.isArray(e)?tq:typeof e=="object"?Tn.test(e)?r6:vAe:Eb}function tq(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>BO(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function vAe(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=BO(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function yAe(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const xAe=(e,t)=>{const r=Wu.createTransformer(t),n=Tv(e),a=Tv(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?ik.has(e)&&!a.values.length||ik.has(t)&&!n.values.length?pAe(e,t):Oy(tq(yAe(n,a),a.values),r):Eb(e,t)};function rq(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?zr(e,t,r):BO(e)(e,t)}const wAe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Fr.update(t,r),stop:()=>zu(t),now:()=>ma.isProcessing?ma.timestamp:_i.now()}},nq=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Sb=2e4;function UO(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Sb;)t+=r,n=e.next(t);return t>=Sb?1/0:t}function bAe(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(UO(n),Sb);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:ol(a)}}const _Ae=5;function aq(e,t,r){const n=Math.max(t-_Ae,0);return FK(r-e(n),t-n)}const Jr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_T=.001;function EAe({duration:e=Jr.duration,bounce:t=Jr.bounce,velocity:r=Jr.velocity,mass:n=Jr.mass}){let a,i,s=1-t;s=gc(Jr.minDamping,Jr.maxDamping,s),e=gc(Jr.minDuration,Jr.maxDuration,ol(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,m=sk(c,s),p=Math.exp(-f);return _T-h/m*p},i=c=>{const f=c*s*e,h=f*r+r,m=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-f),g=sk(Math.pow(c,2),s);return(-a(c)+_T>0?-1:1)*((h-m)*p)/g}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-_T+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=TAe(a,i,o);if(e=sl(e),isNaN(l))return{stiffness:Jr.stiffness,damping:Jr.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const SAe=12;function TAe(e,t,r){let n=r;for(let a=1;a<SAe;a++)n=n-e(n)/t(n);return n}function sk(e,t){return e*Math.sqrt(1-t*t)}const AAe=["duration","bounce"],CAe=["stiffness","damping","mass"];function n6(e,t){return t.some(r=>e[r]!==void 0)}function kAe(e){let t={velocity:Jr.velocity,stiffness:Jr.stiffness,damping:Jr.damping,mass:Jr.mass,isResolvedFromDuration:!1,...e};if(!n6(e,CAe)&&n6(e,AAe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*gc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Jr.mass,stiffness:a,damping:i}}else{const r=EAe(e);t={...t,...r,mass:Jr.mass},t.isResolvedFromDuration=!0}return t}function Tb(e=Jr.visualDuration,t=Jr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:m}=kAe({...r,velocity:-ol(r.velocity||0)}),p=h||0,g=c/(2*Math.sqrt(l*u)),v=s-i,y=ol(Math.sqrt(l/u)),w=Math.abs(v)<5;n||(n=w?Jr.restSpeed.granular:Jr.restSpeed.default),a||(a=w?Jr.restDelta.granular:Jr.restDelta.default);let b;if(g<1){const k=sk(y,g);b=C=>{const S=Math.exp(-g*y*C);return s-S*((p+g*y*v)/k*Math.sin(k*C)+v*Math.cos(k*C))}}else if(g===1)b=k=>s-Math.exp(-y*k)*(v+(p+y*v)*k);else{const k=y*Math.sqrt(g*g-1);b=C=>{const S=Math.exp(-g*y*C),_=Math.min(k*C,300);return s-S*((p+g*y*v)*Math.sinh(_)+k*v*Math.cosh(_))/k}}const E={calculatedDuration:m&&f||null,next:k=>{const C=b(k);if(m)o.done=k>=f;else{let S=k===0?p:0;g<1&&(S=k===0?sl(p):aq(b,k,C));const _=Math.abs(S)<=n,A=Math.abs(s-C)<=a;o.done=_&&A}return o.value=o.done?s:C,o},toString:()=>{const k=Math.min(UO(E),Sb),C=nq(S=>E.next(k*S).value,k,30);return k+"ms "+C},toTransition:()=>{}};return E}Tb.applyToOptions=e=>{const t=bAe(e,100,Tb);return e.ease=t.ease,e.duration=sl(t.duration),e.type="keyframes",e};function ok({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},m=_=>o!==void 0&&_<o||l!==void 0&&_>l,p=_=>o===void 0?l:l===void 0||Math.abs(o-_)<Math.abs(l-_)?o:l;let g=r*t;const v=f+g,y=s===void 0?v:s(v);y!==v&&(g=y-f);const w=_=>-g*Math.exp(-_/n),b=_=>y+w(_),E=_=>{const A=w(_),P=b(_);h.done=Math.abs(A)<=c,h.value=h.done?y:P};let k,C;const S=_=>{m(h.value)&&(k=_,C=Tb({keyframes:[h.value,p(h.value)],velocity:aq(b,_,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:_=>{let A=!1;return!C&&k===void 0&&(A=!0,E(_),S(_)),k!==void 0&&_>=k?C.next(_-k):(!A&&E(_),h)}}}function NAe(e,t,r){const n=[],a=r||vc.mix||rq,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||$s:t;o=Oy(l,o)}n.push(o)}return n}function PAe(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(IO(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=NAe(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=Ev(e[f],e[f+1],u);return o[f](h)};return r?u=>c(gc(e[0],e[i-1],u)):c}function IAe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=Ev(0,t,n);e.push(zr(r,1,a))}}function OAe(e){const t=[0];return IAe(t,e.length-1),t}function DAe(e,t){return e.map(r=>r*t)}function jAe(e,t){return e.map(()=>t||GK).splice(0,e.length-1)}function Eg({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=HTe(n)?n.map(JL):JL(n),i={done:!1,value:t[0]},s=DAe(r&&r.length===t.length?r:OAe(t),e),o=PAe(s,t,{ease:Array.isArray(a)?a:jAe(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const RAe=e=>e!==null;function VO(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(RAe),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const MAe={decay:ok,inertia:ok,tween:Eg,keyframes:Eg,spring:Tb};function iq(e){typeof e.type=="string"&&(e.type=MAe[e.type])}class zO{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const FAe=e=>e/100;class WO extends zO{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==_i.now()&&this.tick(_i.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;iq(t);const{type:r=Eg,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||Eg;l!==Eg&&typeof o[0]!="number"&&(this.mixKeyframes=Oy(FAe,rq(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=UO(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,E=n;if(f){const _=Math.min(this.currentTime,a)/o;let A=Math.floor(_),P=_%1;!P&&_>=1&&(P=1),P===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(P=1-P,m&&(P-=m/o)):h==="mirror"&&(E=s)),b=gc(0,1,P)*o}const k=w?{done:!1,value:u[0]}:E.next(b);i&&(k.value=i(k.value));let{done:C}=k;!w&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return S&&p!==ok&&(k.value=VO(u,this.options,v,this.speed)),g&&g(k.value),S&&this.finish(),k}then(t,r){return this.finished.then(t,r)}get duration(){return ol(this.calculatedDuration)}get time(){return ol(this.currentTime)}set time(t){var r;t=sl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_i.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ol(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=wAe,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_i.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function LAe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Hd=e=>e*180/Math.PI,lk=e=>{const t=Hd(Math.atan2(e[1],e[0]));return ck(t)},$Ae={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:lk,rotateZ:lk,skewX:e=>Hd(Math.atan(e[1])),skewY:e=>Hd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ck=e=>(e=e%360,e<0&&(e+=360),e),a6=lk,i6=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),s6=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),BAe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:i6,scaleY:s6,scale:e=>(i6(e)+s6(e))/2,rotateX:e=>ck(Hd(Math.atan2(e[6],e[5]))),rotateY:e=>ck(Hd(Math.atan2(-e[2],e[0]))),rotateZ:a6,rotate:a6,skewX:e=>Hd(Math.atan(e[4])),skewY:e=>Hd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function uk(e){return e.includes("scale")?1:0}function dk(e,t){if(!e||e==="none")return uk(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=BAe,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=$Ae,a=o}if(!a)return uk(t);const i=n[t],s=a[1].split(",").map(VAe);return typeof i=="function"?i(s):s[i]}const UAe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return dk(r,t)};function VAe(e){return parseFloat(e.trim())}const km=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nm=new Set(km),o6=e=>e===Cm||e===dt,zAe=new Set(["x","y","z"]),WAe=km.filter(e=>!zAe.has(e));function HAe(e){const t=[];return WAe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const rf={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>dk(t,"x"),y:(e,{transform:t})=>dk(t,"y")};rf.translateX=rf.x;rf.translateY=rf.y;const nf=new Set;let fk=!1,hk=!1,mk=!1;function sq(){if(hk){const e=Array.from(nf).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=HAe(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}hk=!1,fk=!1,nf.forEach(e=>e.complete(mk)),nf.clear()}function oq(){nf.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hk=!0)})}function GAe(){mk=!0,oq(),sq(),mk=!1}class HO{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(nf.add(this),fk||(fk=!0,Fr.read(oq),Fr.resolveKeyframes(sq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}LAe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),nf.delete(this)}cancel(){this.state==="scheduled"&&(nf.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const KAe=e=>e.startsWith("--");function qAe(e,t,r){KAe(t)?e.style.setProperty(t,r):e.style[t]=r}const YAe=OO(()=>window.ScrollTimeline!==void 0),XAe={};function QAe(e,t){const r=OO(e);return()=>XAe[t]??r()}const lq=QAe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,l6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gp([0,.65,.55,1]),circOut:Gp([.55,0,1,.45]),backIn:Gp([.31,.01,.66,-.59]),backOut:Gp([.33,1.53,.69,.99])};function cq(e,t){if(e)return typeof e=="function"?lq()?nq(e,t):"ease-out":KK(e)?Gp(e):Array.isArray(e)?e.map(r=>cq(r,t)||l6.easeOut):l6[e]}function JAe(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=cq(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function uq(e){return typeof e=="function"&&"applyToOptions"in e}function ZAe({type:e,...t}){return uq(e)&&lq()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class eCe extends zO{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,IO(typeof t.type!="string");const c=ZAe(t);this.animation=JAe(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=VO(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):qAe(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ol(Number(t))}get time(){return ol(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=sl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&YAe()?(this.animation.timeline=t,$s):r(this)}}const dq={anticipate:zK,backInOut:VK,circInOut:HK};function tCe(e){return e in dq}function rCe(e){typeof e.ease=="string"&&tCe(e.ease)&&(e.ease=dq[e.ease])}const c6=10;class nCe extends eCe{constructor(t){rCe(t),iq(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new WO({...s,autoplay:!1}),l=sl(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-c6).value,o.sample(l).value,c6),o.stop()}}const u6=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Wu.test(e)||e==="0")&&!e.startsWith("url("));function aCe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function iCe(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=u6(a,t),o=u6(i,t);return!s||!o?!1:aCe(e)||(r==="spring"||uq(r))&&n}function pk(e){e.duration=0,e.type}const sCe=new Set(["opacity","clipPath","filter","transform"]),oCe=OO(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lCe(e){var u;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return oCe()&&r&&sCe.has(r)&&(r!=="transform"||!c)&&!l&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const cCe=40;class uCe extends zO{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var p;super(),this.stop=()=>{var g,v;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=_i.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},m=(u==null?void 0:u.KeyframeResolver)||HO;this.keyframeResolver=new m(o,(g,v,y)=>this.onKeyframesResolved(g,v,h,!y),l,c,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=_i.now(),iCe(t,i,s,o)||((vc.instantAnimations||!l)&&(u==null||u(VO(t,n,r))),t[0]=t[t.length-1],pk(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>cCe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!c&&lCe(h)?new nCe({...h,element:h.motionValue.owner.current}):new WO(h);m.finished.then(()=>this.notifyFinished()).catch($s),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),GAe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const dCe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fCe(e){const t=dCe.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function fq(e,t,r=1){const[n,a]=fCe(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return jK(s)?parseFloat(s):s}return FO(a)?fq(a,t,r+1):a}function GO(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const hq=new Set(["width","height","top","left","right","bottom",...km]),hCe={test:e=>e==="auto",parse:e=>e},mq=e=>t=>t.test(e),pq=[Cm,dt,ll,Kc,aAe,nAe,hCe],d6=e=>pq.find(mq(e));function mCe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||MK(e):!0}const pCe=new Set(["brightness","contrast","saturate","opacity"]);function gCe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(LO)||[];if(!n)return e;const a=r.replace(n,"");let i=pCe.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const vCe=/\b([a-z-]*)\(.*?\)/gu,gk={...Wu,getAnimatableNone:e=>{const t=e.match(vCe);return t?t.map(gCe).join(" "):e}},f6={...Cm,transform:Math.round},yCe={rotate:Kc,rotateX:Kc,rotateY:Kc,rotateZ:Kc,scale:o1,scaleX:o1,scaleY:o1,scaleZ:o1,skew:Kc,skewX:Kc,skewY:Kc,distance:dt,translateX:dt,translateY:dt,translateZ:dt,x:dt,y:dt,z:dt,perspective:dt,transformPerspective:dt,opacity:Sv,originX:ZL,originY:ZL,originZ:dt},KO={borderWidth:dt,borderTopWidth:dt,borderRightWidth:dt,borderBottomWidth:dt,borderLeftWidth:dt,borderRadius:dt,radius:dt,borderTopLeftRadius:dt,borderTopRightRadius:dt,borderBottomRightRadius:dt,borderBottomLeftRadius:dt,width:dt,maxWidth:dt,height:dt,maxHeight:dt,top:dt,right:dt,bottom:dt,left:dt,padding:dt,paddingTop:dt,paddingRight:dt,paddingBottom:dt,paddingLeft:dt,margin:dt,marginTop:dt,marginRight:dt,marginBottom:dt,marginLeft:dt,backgroundPositionX:dt,backgroundPositionY:dt,...yCe,zIndex:f6,fillOpacity:Sv,strokeOpacity:Sv,numOctaves:f6},xCe={...KO,color:Tn,backgroundColor:Tn,outlineColor:Tn,fill:Tn,stroke:Tn,borderColor:Tn,borderTopColor:Tn,borderRightColor:Tn,borderBottomColor:Tn,borderLeftColor:Tn,filter:gk,WebkitFilter:gk},gq=e=>xCe[e];function vq(e,t){let r=gq(e);return r!==gk&&(r=Wu),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const wCe=new Set(["auto","none","0"]);function bCe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!wCe.has(i)&&Tv(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=vq(r,a)}class _Ce extends HO{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),FO(c))){const u=fq(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!hq.has(n)||t.length!==2)return;const[a,i]=t,s=d6(a),o=d6(i);if(s!==o)if(o6(s)&&o6(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else rf[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||mCe(t[a]))&&n.push(a);n.length&&bCe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=rf[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=rf[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function ECe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const yq=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function xq(e){return RK(e)&&"offsetHeight"in e}const h6=30,SCe=e=>!isNaN(parseFloat(e));class TCe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=_i.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=_i.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=SCe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new DO);const n=this.events[t].add(r);return t==="change"?()=>{n(),Fr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_i.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>h6)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,h6);return FK(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function H0(e,t){return new TCe(e,t)}const{schedule:qO}=qK(queueMicrotask,!1),lo={x:!1,y:!1};function wq(){return lo.x||lo.y}function ACe(e){return e==="x"||e==="y"?lo[e]?null:(lo[e]=!0,()=>{lo[e]=!1}):lo.x||lo.y?null:(lo.x=lo.y=!0,()=>{lo.x=lo.y=!1})}function bq(e,t){const r=ECe(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function m6(e){return!(e.pointerType==="touch"||wq())}function CCe(e,t,r={}){const[n,a,i]=bq(e,r),s=o=>{if(!m6(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{m6(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const _q=(e,t)=>t?e===t?!0:_q(e,t.parentElement):!1,YO=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,kCe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NCe(e){return kCe.has(e.tagName)||e.tabIndex!==-1}const nw=new WeakSet;function p6(e){return t=>{t.key==="Enter"&&e(t)}}function ET(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const PCe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=p6(()=>{if(nw.has(r))return;ET(r,"down");const a=p6(()=>{ET(r,"up")}),i=()=>ET(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function g6(e){return YO(e)&&!wq()}function ICe(e,t,r={}){const[n,a,i]=bq(e,r),s=o=>{const l=o.currentTarget;if(!g6(o))return;nw.add(l);const c=t(l,o),u=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),nw.has(l)&&nw.delete(l),g6(m)&&typeof c=="function"&&c(m,{success:p})},f=m=>{u(m,l===window||l===document||r.useGlobalTarget||_q(l,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),xq(o)&&(o.addEventListener("focus",c=>PCe(c,a)),!NCe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function Eq(e){return RK(e)&&"ownerSVGElement"in e}function OCe(e){return Eq(e)&&e.tagName==="svg"}const Ua=e=>!!(e&&e.getVelocity),DCe=[...pq,Tn,Wu],jCe=e=>DCe.find(mq(e)),XO=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class RCe extends T.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=xq(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function MCe({children:e,isPresent:t,anchorX:r,root:n}){const a=T.useId(),i=T.useRef(null),s=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=T.useContext(XO);return T.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:f,right:h}=s.current;if(t||!i.current||!l||!c)return;const m=r==="left"?`left: ${f}`:`right: ${h}`;i.current.dataset.motionPopId=a;const p=document.createElement("style");o&&(p.nonce=o);const g=n??document.head;return g.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{g.contains(p)&&g.removeChild(p)}},[t]),d.jsx(RCe,{isPresent:t,childRef:i,sizeRef:s,children:T.cloneElement(e,{ref:i})})}const FCe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o,root:l})=>{const c=CO(LCe),u=T.useId();let f=!0,h=T.useMemo(()=>(f=!1,{id:u,initial:t,isPresent:r,custom:a,onExitComplete:m=>{c.set(m,!0);for(const p of c.values())if(!p)return;n&&n()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[r,c,n]);return i&&f&&(h={...h}),T.useMemo(()=>{c.forEach((m,p)=>c.set(p,!1))},[r]),T.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),s==="popLayout"&&(e=d.jsx(MCe,{isPresent:r,anchorX:o,root:l,children:e})),d.jsx(jE.Provider,{value:h,children:e})};function LCe(){return new Map}function Sq(e=!0){const t=T.useContext(jE);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=T.useId();T.useEffect(()=>{if(e)return a(i)},[e]);const s=T.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const l1=e=>e.key||"";function v6(e){const t=[];return T.Children.forEach(e,r=>{T.isValidElement(r)&&t.push(r)}),t}const as=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[c,u]=Sq(s),f=T.useMemo(()=>v6(e),[e]),h=s&&!c?[]:f.map(l1),m=T.useRef(!0),p=T.useRef(f),g=CO(()=>new Map),[v,y]=T.useState(f),[w,b]=T.useState(f);DK(()=>{m.current=!1,p.current=f;for(let C=0;C<w.length;C++){const S=l1(w[C]);h.includes(S)?g.delete(S):g.get(S)!==!0&&g.set(S,!1)}},[w,h.length,h.join("-")]);const E=[];if(f!==v){let C=[...f];for(let S=0;S<w.length;S++){const _=w[S],A=l1(_);h.includes(A)||(C.splice(S,0,_),E.push(_))}return i==="wait"&&E.length&&(C=E),b(v6(C)),y(f),null}const{forceRender:k}=T.useContext(AO);return d.jsx(d.Fragment,{children:w.map(C=>{const S=l1(C),_=s&&!c?!1:f===w||h.includes(S),A=()=>{if(g.has(S))g.set(S,!0);else return;let P=!0;g.forEach(N=>{N||(P=!1)}),P&&(k==null||k(),b(p.current),s&&(u==null||u()),n&&n())};return d.jsx(FCe,{isPresent:_,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:l,onExitComplete:_?void 0:A,anchorX:o,children:C},S)})})},Tq=T.createContext({strict:!1}),y6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},G0={};for(const e in y6)G0[e]={isEnabled:t=>y6[e].some(r=>!!t[r])};function $Ce(e){for(const t in e)G0[t]={...G0[t],...e[t]}}const BCe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ab(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||BCe.has(e)}let Aq=e=>!Ab(e);function UCe(e){typeof e=="function"&&(Aq=t=>t.startsWith("on")?!Ab(t):e(t))}try{UCe(require("@emotion/is-prop-valid").default)}catch{}function VCe(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Aq(a)||r===!0&&Ab(a)||!t&&!Ab(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const RE=T.createContext({});function ME(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Av(e){return typeof e=="string"||Array.isArray(e)}const QO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],JO=["initial",...QO];function FE(e){return ME(e.animate)||JO.some(t=>Av(e[t]))}function Cq(e){return!!(FE(e)||e.variants)}function zCe(e,t){if(FE(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Av(r)?r:void 0,animate:Av(n)?n:void 0}}return e.inherit!==!1?t:{}}function WCe(e){const{initial:t,animate:r}=zCe(e,T.useContext(RE));return T.useMemo(()=>({initial:t,animate:r}),[x6(t),x6(r)])}function x6(e){return Array.isArray(e)?e.join(" "):e}const Cv={};function HCe(e){for(const t in e)Cv[t]=e[t],MO(t)&&(Cv[t].isCSSVariable=!0)}function kq(e,{layout:t,layoutId:r}){return Nm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Cv[e]||e==="opacity")}const GCe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},KCe=km.length;function qCe(e,t,r){let n="",a=!0;for(let i=0;i<KCe;i++){const s=km[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=yq(o,KO[s]);if(!l){a=!1;const u=GCe[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function ZO(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(Nm.has(l)){s=!0;continue}else if(MO(l)){a[l]=c;continue}else{const u=yq(c,KO[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=qCe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const eD=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nq(e,t,r){for(const n in t)!Ua(t[n])&&!kq(n,r)&&(e[n]=t[n])}function YCe({transformTemplate:e},t){return T.useMemo(()=>{const r=eD();return ZO(r,t,e),Object.assign({},r.vars,r.style)},[t])}function XCe(e,t){const r=e.style||{},n={};return Nq(n,r,e),Object.assign(n,YCe(e,t)),n}function QCe(e,t){const r={},n=XCe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const JCe={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZCe={offset:"strokeDashoffset",array:"strokeDasharray"};function eke(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?JCe:ZCe;e[i.offset]=dt.transform(-n);const s=dt.transform(t),o=dt.transform(r);e[i.array]=`${s} ${o}`}function Pq(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(ZO(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&eke(f,a,i,s,!1)}const Iq=()=>({...eD(),attrs:{}}),Oq=e=>typeof e=="string"&&e.toLowerCase()==="svg";function tke(e,t,r,n){const a=T.useMemo(()=>{const i=Iq();return Pq(i,t,Oq(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Nq(i,e.style,e),a.style={...i,...a.style}}return a}const rke=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tD(e){return typeof e!="string"||e.includes("-")?!1:!!(rke.indexOf(e)>-1||/[A-Z]/u.test(e))}function nke(e,t,r,{latestValues:n},a,i=!1){const o=(tD(e)?tke:QCe)(t,n,a,e),l=VCe(t,typeof e=="string",i),c=e!==T.Fragment?{...l,...o,ref:r}:{},{children:u}=t,f=T.useMemo(()=>Ua(u)?u.get():u,[u]);return T.createElement(e,{...c,children:f})}function w6(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function rD(e,t,r,n){if(typeof t=="function"){const[a,i]=w6(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=w6(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function aw(e){return Ua(e)?e.get():e}function ake({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:ike(r,n,a,e),renderState:t()}}function ike(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=aw(i[h]);let{initial:s,animate:o}=e;const l=FE(e),c=Cq(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!ME(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=rD(e,h[m]);if(p){const{transitionEnd:g,transition:v,...y}=p;for(const w in y){let b=y[w];if(Array.isArray(b)){const E=u?b.length-1:0;b=b[E]}b!==null&&(a[w]=b)}for(const w in g)a[w]=g[w]}}}return a}const Dq=e=>(t,r)=>{const n=T.useContext(RE),a=T.useContext(jE),i=()=>ake(e,t,n,a);return r?i():CO(i)};function nD(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(Ua(n[s])||t.style&&Ua(t.style[s])||kq(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const ske=Dq({scrapeMotionValuesFromProps:nD,createRenderState:eD});function jq(e,t,r){const n=nD(e,t,r);for(const a in e)if(Ua(e[a])||Ua(t[a])){const i=km.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const oke=Dq({scrapeMotionValuesFromProps:jq,createRenderState:Iq}),lke=Symbol.for("motionComponentSymbol");function t0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function cke(e,t,r){return T.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):t0(r)&&(r.current=n))},[t])}const aD=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),uke="framerAppearId",Rq="data-"+aD(uke),Mq=T.createContext({});function dke(e,t,r,n,a){var g,v;const{visualElement:i}=T.useContext(RE),s=T.useContext(Tq),o=T.useContext(jE),l=T.useContext(XO).reducedMotion,c=T.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=T.useContext(Mq);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&fke(c.current,r,a,f);const h=T.useRef(!1);T.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const m=r[Rq],p=T.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,m)));return DK(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),T.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),p.current=!1),u.enteringChildren=void 0)}),u}function fke(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Fq(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&t0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function Fq(e){if(e)return e.options.allowProjection!==!1?e.projection:Fq(e.parent)}function ST(e,{forwardMotionProps:t=!1}={},r,n){r&&$Ce(r);const a=tD(e)?oke:ske;function i(o,l){let c;const u={...T.useContext(XO),...o,layoutId:hke(o)},{isStatic:f}=u,h=WCe(o),m=a(o,f);if(!f&&kO){mke();const p=pke(u);c=p.MeasureLayout,h.visualElement=dke(e,m,u,n,p.ProjectionNode)}return d.jsxs(RE.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,nke(e,o,cke(m,h.visualElement,l),m,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=T.forwardRef(i);return s[lke]=e,s}function hke({layoutId:e}){const t=T.useContext(AO).id;return t&&e!==void 0?t+"-"+e:e}function mke(e,t){T.useContext(Tq).strict}function pke(e){const{drag:t,layout:r}=G0;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function gke(e,t){if(typeof Proxy>"u")return ST;const r=new Map,n=(i,s)=>ST(i,s,e,t),a=(i,s)=>n(i,s);return new Proxy(a,{get:(i,s)=>s==="create"?n:(r.has(s)||r.set(s,ST(s,void 0,e,t)),r.get(s))})}function Lq({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function vke({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function yke(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function TT(e){return e===void 0||e===1}function vk({scale:e,scaleX:t,scaleY:r}){return!TT(e)||!TT(t)||!TT(r)}function Nd(e){return vk(e)||$q(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $q(e){return b6(e.x)||b6(e.y)}function b6(e){return e&&e!=="0%"}function Cb(e,t,r){const n=e-r,a=t*n;return r+a}function _6(e,t,r,n,a){return a!==void 0&&(e=Cb(e,a,n)),Cb(e,r,n)+t}function yk(e,t=0,r=1,n,a){e.min=_6(e.min,t,r,n,a),e.max=_6(e.max,t,r,n,a)}function Bq(e,{x:t,y:r}){yk(e.x,t.translate,t.scale,t.originPoint),yk(e.y,r.translate,r.scale,r.originPoint)}const E6=.999999999999,S6=1.0000000000001;function xke(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&n0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Bq(e,s)),n&&Nd(i.latestValues)&&n0(e,i.latestValues))}t.x<S6&&t.x>E6&&(t.x=1),t.y<S6&&t.y>E6&&(t.y=1)}function r0(e,t){e.min=e.min+t,e.max=e.max+t}function T6(e,t,r,n,a=.5){const i=zr(e.min,e.max,a);yk(e,t,r,i,n)}function n0(e,t){T6(e.x,t.x,t.scaleX,t.scale,t.originX),T6(e.y,t.y,t.scaleY,t.scale,t.originY)}function Uq(e,t){return Lq(yke(e.getBoundingClientRect(),t))}function wke(e,t,r){const n=Uq(e,r),{scroll:a}=t;return a&&(r0(n.x,a.offset.x),r0(n.y,a.offset.y)),n}const A6=()=>({translate:0,scale:1,origin:0,originPoint:0}),a0=()=>({x:A6(),y:A6()}),C6=()=>({min:0,max:0}),fn=()=>({x:C6(),y:C6()}),xk={current:null},Vq={current:!1};function bke(){if(Vq.current=!0,!!kO)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>xk.current=e.matches;e.addEventListener("change",t),t()}else xk.current=!1}const _ke=new WeakMap;function Eke(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Ua(a))e.addValue(n,a);else if(Ua(i))e.addValue(n,H0(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,H0(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const k6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ske{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=HO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=_i.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Fr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=FE(r),this.isVariantNode=Cq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];l[h]!==void 0&&Ua(m)&&m.set(l[h])}}mount(t){var r;this.current=t,_ke.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),Vq.current||bke(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xk.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),zu(this.notifyUpdate),zu(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Nm.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Fr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in G0){const r=G0[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<k6.length;n++){const a=k6[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=Eke(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=H0(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(jK(n)||MK(n))?n=parseFloat(n):!jCe(n)&&Wu.test(r)&&(n=vq(t,r)),this.setBaseTarget(t,Ua(n)?n.get():n)),Ua(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=rD(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ua(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new DO),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){qO.render(this.render)}}class zq extends Ske{constructor(){super(...arguments),this.KeyframeResolver=_Ce}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ua(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Wq(e,{style:t,vars:r},n,a){const i=e.style;let s;for(s in t)i[s]=t[s];a==null||a.applyProjectionStyles(i,n);for(s in r)i.setProperty(s,r[s])}function Tke(e){return window.getComputedStyle(e)}class Ake extends zq{constructor(){super(...arguments),this.type="html",this.renderInstance=Wq}readValueFromInstance(t,r){var n;if(Nm.has(r))return(n=this.projection)!=null&&n.isProjecting?uk(r):UAe(t,r);{const a=Tke(t),i=(MO(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Uq(t,r)}build(t,r,n){ZO(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return nD(t,r,n)}}const Hq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Cke(e,t,r,n){Wq(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Hq.has(a)?a:aD(a),t.attrs[a])}class kke extends zq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Nm.has(r)){const n=gq(r);return n&&n.default||0}return r=Hq.has(r)?r:aD(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return jq(t,r,n)}build(t,r,n){Pq(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){Cke(t,r,n,a)}mount(t){this.isSVGTag=Oq(t.tagName),super.mount(t)}}const Nke=(e,t)=>tD(e)?new kke(t):new Ake(t,{allowProjection:e!==T.Fragment});function b0(e,t,r){const n=e.getProps();return rD(n,t,r!==void 0?r:n.custom,e)}const wk=e=>Array.isArray(e);function Pke(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,H0(r))}function Ike(e){return wk(e)?e[e.length-1]||0:e}function Oke(e,t){const r=b0(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=Ike(i[s]);Pke(e,s,o)}}function Dke(e){return!!(Ua(e)&&e.add)}function bk(e,t){const r=e.getValue("willChange");if(Dke(r))return r.add(t);if(!r&&vc.WillChange){const n=new vc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Gq(e){return e.props[Rq]}const jke=e=>e!==null;function Rke(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(jke),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const Mke={type:"spring",stiffness:500,damping:25,restSpeed:10},Fke=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Lke={type:"keyframes",duration:.8},$ke={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Bke=(e,{keyframes:t})=>t.length>2?Lke:Nm.has(e)?e.startsWith("scale")?Fke(t[1]):Mke:$ke;function Uke({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const iD=(e,t,r,n={},a,i)=>s=>{const o=GO(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-sl(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};Uke(o)||Object.assign(u,Bke(e,u)),u.duration&&(u.duration=sl(u.duration)),u.repeatDelay&&(u.repeatDelay=sl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(pk(u),u.delay===0&&(f=!0)),(vc.instantAnimations||vc.skipAnimations)&&(f=!0,pk(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=Rke(u.keyframes,o);if(h!==void 0){Fr.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new WO(u):new uCe(u)};function Vke({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Kq(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&Vke(c,u))continue;const m={delay:r,...GO(i||{},u)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=Gq(e);if(y){const w=window.MotionHandoffAnimation(y,u,Fr);w!==null&&(m.startTime=w,g=!0)}}bk(e,u),f.start(iD(u,f,h,e.shouldReduceMotion&&hq.has(u)?{type:!1}:m,e,g));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{Fr.update(()=>{s&&Oke(e,s)})}),l}function qq(e,t,r,n=0,a=1){const i=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),s=e.size,o=(s-1)*n;return typeof r=="function"?r(i,s):a===1?i*n:o-i*n}function _k(e,t,r={}){var l;const n=b0(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Kq(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return zke(e,t,c,u,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function zke(e,t,r=0,n=0,a=0,i=1,s){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(_k(l,t,{...s,delay:r+(typeof n=="function"?0:n)+qq(e.variantChildren,l,n,a,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function Wke(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>_k(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=_k(e,t,r);else{const a=typeof t=="function"?b0(e,t,r.custom):t;n=Promise.all(Kq(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function Yq(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Hke=JO.length;function Xq(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Xq(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Hke;r++){const n=JO[r],a=e.props[n];(Av(a)||a===!1)&&(t[n]=a)}return t}const Gke=[...QO].reverse(),Kke=QO.length;function qke(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Wke(e,r,n)))}function Yke(e){let t=qke(e),r=N6(),n=!0;const a=l=>(c,u)=>{var h;const f=b0(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...g}=f;c={...c,...g,...p}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=Xq(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let v=0;v<Kke;v++){const y=Gke[v],w=r[y],b=c[y]!==void 0?c[y]:u[y],E=Av(b),k=y===l?w.isActive:null;k===!1&&(p=v);let C=b===u[y]&&b!==c[y]&&E;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...m},!w.isActive&&k===null||!b&&!w.prevProp||ME(b)||typeof b=="boolean")continue;const S=Xke(w.prevProp,b);let _=S||y===l&&w.isActive&&!C&&E||v>p&&E,A=!1;const P=Array.isArray(b)?b:[b];let N=P.reduce(a(y),{});k===!1&&(N={});const{prevResolvedValues:I={}}=w,D={...I,...N},M=W=>{_=!0,h.has(W)&&(A=!0,h.delete(W)),w.needsAnimating[W]=!0;const z=e.getValue(W);z&&(z.liveStyle=!1)};for(const W in D){const z=N[W],L=I[W];if(m.hasOwnProperty(W))continue;let ae=!1;wk(z)&&wk(L)?ae=!Yq(z,L):ae=z!==L,ae?z!=null?M(W):h.add(W):z!==void 0&&h.has(W)?M(W):w.protectedKeys[W]=!0}w.prevProp=b,w.prevResolvedValues=N,w.isActive&&(m={...m,...N}),n&&e.blockInitialAnimation&&(_=!1);const ee=C&&S;_&&(!ee||A)&&f.push(...P.map(W=>{const z={type:y};if(typeof W=="string"&&n&&!ee&&e.manuallyAnimateOnMount&&e.parent){const{parent:L}=e,ae=b0(L,W);if(L.enteringChildren&&ae){const{delayChildren:ue}=ae.transition||{};z.delay=qq(L.enteringChildren,e,ue)}}return{animation:W,options:z}}))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=b0(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const w=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),v[y]=w??null}),f.push({animation:v})}let g=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=N6(),n=!0}}}function Xke(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Yq(t,e):!1}function _d(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function N6(){return{animate:_d(!0),whileInView:_d(),whileHover:_d(),whileTap:_d(),whileDrag:_d(),whileFocus:_d(),exit:_d()}}class ld{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Qke extends ld{constructor(t){super(t),t.animationState||(t.animationState=Yke(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ME(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Jke=0;class Zke extends ld{constructor(){super(...arguments),this.id=Jke++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const eNe={animation:{Feature:Qke},exit:{Feature:Zke}};function kv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Ry(e){return{point:{x:e.pageX,y:e.pageY}}}const tNe=e=>t=>YO(t)&&e(t,Ry(t));function Sg(e,t,r,n){return kv(e,t,tNe(r),n)}const Qq=1e-4,rNe=1-Qq,nNe=1+Qq,Jq=.01,aNe=0-Jq,iNe=0+Jq;function li(e){return e.max-e.min}function sNe(e,t,r){return Math.abs(e-t)<=r}function P6(e,t,r,n=.5){e.origin=n,e.originPoint=zr(t.min,t.max,e.origin),e.scale=li(r)/li(t),e.translate=zr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=rNe&&e.scale<=nNe||isNaN(e.scale))&&(e.scale=1),(e.translate>=aNe&&e.translate<=iNe||isNaN(e.translate))&&(e.translate=0)}function Tg(e,t,r,n){P6(e.x,t.x,r.x,n?n.originX:void 0),P6(e.y,t.y,r.y,n?n.originY:void 0)}function I6(e,t,r){e.min=r.min+t.min,e.max=e.min+li(t)}function oNe(e,t,r){I6(e.x,t.x,r.x),I6(e.y,t.y,r.y)}function O6(e,t,r){e.min=t.min-r.min,e.max=e.min+li(t)}function Ag(e,t,r){O6(e.x,t.x,r.x),O6(e.y,t.y,r.y)}function Es(e){return[e("x"),e("y")]}const Zq=({current:e})=>e?e.ownerDocument.defaultView:null,D6=(e,t)=>Math.abs(e-t);function lNe(e,t){const r=D6(e.x,t.x),n=D6(e.y,t.y);return Math.sqrt(r**2+n**2)}class eY{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=CT(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=lNe(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:g}=h,{timestamp:v}=ma;this.history.push({...g,timestamp:v});const{onStart:y,onMove:w}=this.handlers;m||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=AT(m,this.transformPagePoint),Fr.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=CT(h.type==="pointercancel"?this.lastMoveEventInfo:AT(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,y),g&&g(h,y)},!YO(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=a||window;const o=Ry(t),l=AT(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ma;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,CT(l,this.history)),this.removeListeners=Oy(Sg(this.contextWindow,"pointermove",this.handlePointerMove),Sg(this.contextWindow,"pointerup",this.handlePointerUp),Sg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),zu(this.updatePoint)}}function AT(e,t){return t?{point:t(e.point)}:e}function j6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function CT({point:e},t){return{point:e,delta:j6(e,tY(t)),offset:j6(e,cNe(t)),velocity:uNe(t,.1)}}function cNe(e){return e[0]}function tY(e){return e[e.length-1]}function uNe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=tY(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>sl(t)));)r--;if(!n)return{x:0,y:0};const i=ol(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function dNe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?zr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?zr(r,e,n.max):Math.min(e,r)),e}function R6(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function fNe(e,{top:t,left:r,bottom:n,right:a}){return{x:R6(e.x,r,a),y:R6(e.y,t,n)}}function M6(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function hNe(e,t){return{x:M6(e.x,t.x),y:M6(e.y,t.y)}}function mNe(e,t){let r=.5;const n=li(e),a=li(t);return a>n?r=Ev(t.min,t.max-n,e.min):n>a&&(r=Ev(e.min,e.max-a,t.min)),gc(0,1,r)}function pNe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Ek=.35;function gNe(e=Ek){return e===!1?e=0:e===!0&&(e=Ek),{x:F6(e,"left","right"),y:F6(e,"top","bottom")}}function F6(e,t,r){return{min:L6(e,t),max:L6(e,r)}}function L6(e,t){return typeof e=="number"?e:e[t]||0}const vNe=new WeakMap;class yNe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ry(f).point)},s=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:g}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ACe(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Es(y=>{let w=this.getAxisMotionValue(y).get()||0;if(ll.test(w)){const{projection:b}=this.visualElement;if(b&&b.layout){const E=b.layout.layoutBox[y];E&&(w=li(E)*(parseFloat(w)/100))}}this.originPoint[y]=w}),g&&Fr.postRender(()=>g(f,h)),bk(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:g,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=h;if(p&&this.currentDirection===null){this.currentDirection=xNe(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),v&&v(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Es(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new eY(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:Zq(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Fr.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!c1(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=dNe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&t0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=fNe(n.layoutBox,t):this.constraints=!1,this.elastic=gNe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Es(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=pNe(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!t0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=wke(n,a.root,this.visualElement.getTransformPagePoint());let s=hNe(a.layout.layoutBox,i);if(r){const o=r(vke(s));this.hasMutatedConstraints=!!o,o&&(s=Lq(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Es(u=>{if(!c1(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,p={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return bk(this.visualElement,t),n.start(iD(t,n,0,r,this.visualElement,!1))}stopAnimation(){Es(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Es(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Es(r=>{const{drag:n}=this.getProps();if(!c1(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-zr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!t0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Es(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=mNe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Es(s=>{if(!c1(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(zr(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;vNe.set(this.visualElement,this);const t=this.visualElement.current,r=Sg(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();t0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Fr.read(n);const s=kv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Es(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=Ek,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function c1(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function xNe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class wNe extends ld{constructor(t){super(t),this.removeGroupControls=$s,this.removeListeners=$s,this.controls=new yNe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$s}unmount(){this.removeGroupControls(),this.removeListeners()}}const $6=e=>(t,r)=>{e&&Fr.postRender(()=>e(t,r))};class bNe extends ld{constructor(){super(...arguments),this.removePointerDownListener=$s}onPointerDown(t){this.session=new eY(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zq(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:$6(t),onStart:$6(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&Fr.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Sg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const iw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function B6(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(dt.test(e))e=parseFloat(e);else return e;const r=B6(e,t.target.x),n=B6(e,t.target.y);return`${r}% ${n}%`}},_Ne={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Wu.parse(e);if(a.length>5)return n;const i=Wu.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=zr(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};let kT=!1;class ENe extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;HCe(SNe),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),kT&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),iw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,kT=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Fr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),qO.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;kT=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function rY(e){const[t,r]=Sq(),n=T.useContext(AO);return d.jsx(ENe,{...e,layoutGroup:n,switchLayoutGroup:T.useContext(Mq),isPresent:t,safeToRemove:r})}const SNe={borderRadius:{...wp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wp,borderTopRightRadius:wp,borderBottomLeftRadius:wp,borderBottomRightRadius:wp,boxShadow:_Ne};function TNe(e,t,r){const n=Ua(e)?e:H0(e);return n.start(iD("",n,t,r)),n.animation}const ANe=(e,t)=>e.depth-t.depth;class CNe{constructor(){this.children=[],this.isDirty=!1}add(t){NO(this.children,t),this.isDirty=!0}remove(t){PO(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ANe),this.isDirty=!1,this.children.forEach(t)}}function kNe(e,t){const r=_i.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(zu(n),e(i-t))};return Fr.setup(n,!0),()=>zu(n)}const nY=["TopLeft","TopRight","BottomLeft","BottomRight"],NNe=nY.length,U6=e=>typeof e=="string"?parseFloat(e):e,V6=e=>typeof e=="number"||dt.test(e);function PNe(e,t,r,n,a,i){a?(e.opacity=zr(0,r.opacity??1,INe(n)),e.opacityExit=zr(t.opacity??1,0,ONe(n))):i&&(e.opacity=zr(t.opacity??1,r.opacity??1,n));for(let s=0;s<NNe;s++){const o=`border${nY[s]}Radius`;let l=z6(t,o),c=z6(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||V6(l)===V6(c)?(e[o]=Math.max(zr(U6(l),U6(c),n),0),(ll.test(c)||ll.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=zr(t.rotate||0,r.rotate||0,n))}function z6(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const INe=aY(0,.5,WK),ONe=aY(.5,.95,$s);function aY(e,t,r){return n=>n<e?0:n>t?1:r(Ev(e,t,n))}function W6(e,t){e.min=t.min,e.max=t.max}function ps(e,t){W6(e.x,t.x),W6(e.y,t.y)}function H6(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function G6(e,t,r,n,a){return e-=t,e=Cb(e,1/r,n),a!==void 0&&(e=Cb(e,1/a,n)),e}function DNe(e,t=0,r=1,n=.5,a,i=e,s=e){if(ll.test(t)&&(t=parseFloat(t),t=zr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=zr(i.min,i.max,n);e===i&&(o-=t),e.min=G6(e.min,t,r,o,a),e.max=G6(e.max,t,r,o,a)}function K6(e,t,[r,n,a],i,s){DNe(e,t[r],t[n],t[a],t.scale,i,s)}const jNe=["x","scaleX","originX"],RNe=["y","scaleY","originY"];function q6(e,t,r,n){K6(e.x,t,jNe,r?r.x:void 0,n?n.x:void 0),K6(e.y,t,RNe,r?r.y:void 0,n?n.y:void 0)}function Y6(e){return e.translate===0&&e.scale===1}function iY(e){return Y6(e.x)&&Y6(e.y)}function X6(e,t){return e.min===t.min&&e.max===t.max}function MNe(e,t){return X6(e.x,t.x)&&X6(e.y,t.y)}function Q6(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function sY(e,t){return Q6(e.x,t.x)&&Q6(e.y,t.y)}function J6(e){return li(e.x)/li(e.y)}function Z6(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class FNe{constructor(){this.members=[]}add(t){NO(this.members,t),t.scheduleRender()}remove(t){if(PO(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LNe(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:m,skewY:p}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const NT=["","X","Y","Z"],$Ne=1e3;let BNe=0;function PT(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function oY(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Gq(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Fr,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&oY(n)}function lY({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=BNe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zNe),this.nodes.forEach(KNe),this.nodes.forEach(qNe),this.nodes.forEach(WNe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new CNe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new DO),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=Eq(s)&&!OCe(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u,f=0;const h=()=>this.root.updateBlockedByResize=!1;Fr.read(()=>{f=window.innerWidth}),e(s,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,u&&u(),u=kNe(h,250),iw.hasAnimatedSinceResize&&(iw.hasAnimatedSinceResize=!1,this.nodes.forEach(r5)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||ZNe,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!sY(this.targetLayout,m),w=!f&&h;if(this.options.layoutRoot||this.resumeFrom||w||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...GO(p,"layout"),onPlay:g,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,w)}else f||r5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(YNe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oY(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e5);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(t5);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(GNe),this.nodes.forEach(UNe),this.nodes.forEach(VNe)):this.nodes.forEach(t5),this.clearAllSnapshots();const o=_i.now();ma.delta=gc(0,1e3/60,o-ma.timestamp),ma.timestamp=o,ma.isProcessing=!0,yT.update.process(ma),yT.preRender.process(ma),yT.render.process(ma),ma.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HNe),this.sharedNodes.forEach(XNe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!li(this.snapshot.measuredBox.x)&&!li(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!iY(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||Nd(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),ePe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return fn();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(tPe))){const{scroll:u}=this.root;u&&(r0(o.x,u.offset.x),r0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=fn();if(ps(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ps(o,s),r0(o.x,f.offset.x),r0(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=fn();ps(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&n0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Nd(u.latestValues)&&n0(l,u.latestValues)}return Nd(this.latestValues)&&n0(l,this.latestValues),l}removeTransform(s){const o=fn();ps(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Nd(c.latestValues))continue;vk(c.latestValues)&&c.updateSnapshot();const u=fn(),f=c.measurePageBox();ps(u,f),q6(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Nd(this.latestValues)&&q6(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ma.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=ma.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),Ag(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oNe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ps(this.target,this.layout.layoutBox),Bq(this.target,this.targetDelta)):ps(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),Ag(this.relativeTargetOrigin,this.target,m.target),ps(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||vk(this.parent.latestValues)||$q(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ma.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;ps(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;xke(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=fn());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(H6(this.prevProjectionDelta.x,this.projectionDelta.x),H6(this.prevProjectionDelta.y,this.projectionDelta.y)),Tg(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Z6(this.projectionDelta.x,this.prevProjectionDelta.x)||!Z6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=a0(),this.projectionDelta=a0(),this.projectionDeltaWithTransform=a0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=a0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=fn(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,v=this.getStack(),y=!v||v.members.length<=1,w=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(JNe));this.animationProgress=0;let b;this.mixTargetDelta=E=>{const k=E/1e3;n5(f.x,s.x,k),n5(f.y,s.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ag(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QNe(this.relativeTarget,this.relativeTargetOrigin,h,k),b&&MNe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=fn()),ps(b,this.relativeTarget)),g&&(this.animationValues=u,PNe(u,c,this.latestValues,k,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(zu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fr.update(()=>{iw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=H0(0)),this.currentAnimation=TNe(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($Ne),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&cY(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||fn();const f=li(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=li(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}ps(o,l),n0(o,u),Tg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new FNe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&PT("z",s,c,this.animationValues);for(let u=0;u<NT.length;u++)PT(`rotate${NT[u]}`,s,c,this.animationValues),PT(`skew${NT[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=aw(o==null?void 0:o.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=aw(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Nd(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=LNe(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),s.transform=f;const{x:h,y:m}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,c.animationValues?s.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:s.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Cv){if(u[p]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:y}=Cv[p],w=f==="none"?u[p]:g(u[p],c);if(v){const b=v.length;for(let E=0;E<b;E++)s[v[E]]=w}else y?this.options.visualElement.renderState.vars[p]=w:s[p]=w}this.options.layoutId&&(s.pointerEvents=c===this?aw(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(e5),this.root.sharedNodes.clear()}}}function UNe(e){e.updateLayout()}function VNe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?Es(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],m=li(h);h.min=n[f].min,h.max=h.min+m}):cY(i,t.layoutBox,n)&&Es(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],m=li(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=a0();Tg(o,n,t.layoutBox);const l=a0();s?Tg(l,e.applyTransform(a,!0),t.measuredBox):Tg(l,n,t.layoutBox);const c=!iY(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=fn();Ag(p,t.layoutBox,h.layoutBox);const g=fn();Ag(g,n,m.layoutBox),sY(p,g)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function zNe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function WNe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function HNe(e){e.clearSnapshot()}function e5(e){e.clearMeasurements()}function t5(e){e.isLayoutDirty=!1}function GNe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function r5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function KNe(e){e.resolveTargetDelta()}function qNe(e){e.calcProjection()}function YNe(e){e.resetSkewAndRotation()}function XNe(e){e.removeLeadSnapshot()}function n5(e,t,r){e.translate=zr(t.translate,0,r),e.scale=zr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function a5(e,t,r,n){e.min=zr(t.min,r.min,n),e.max=zr(t.max,r.max,n)}function QNe(e,t,r,n){a5(e.x,t.x,r.x,n),a5(e.y,t.y,r.y,n)}function JNe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ZNe={duration:.45,ease:[.4,0,.1,1]},i5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),s5=i5("applewebkit/")&&!i5("chrome/")?Math.round:$s;function o5(e){e.min=s5(e.min),e.max=s5(e.max)}function ePe(e){o5(e.x),o5(e.y)}function cY(e,t,r){return e==="position"||e==="preserve-aspect"&&!sNe(J6(t),J6(r),.2)}function tPe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const rPe=lY({attachResizeListener:(e,t)=>kv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),IT={current:void 0},uY=lY({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!IT.current){const e=new rPe({});e.mount(window),e.setOptions({layoutScroll:!0}),IT.current=e}return IT.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),nPe={pan:{Feature:bNe},drag:{Feature:wNe,ProjectionNode:uY,MeasureLayout:rY}};function l5(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Fr.postRender(()=>i(t,Ry(t)))}class aPe extends ld{mount(){const{current:t}=this.node;t&&(this.unmount=CCe(t,(r,n)=>(l5(this.node,n,"Start"),a=>l5(this.node,a,"End"))))}unmount(){}}class iPe extends ld{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oy(kv(this.node.current,"focus",()=>this.onFocus()),kv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function c5(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Fr.postRender(()=>i(t,Ry(t)))}class sPe extends ld{mount(){const{current:t}=this.node;t&&(this.unmount=ICe(t,(r,n)=>(c5(this.node,n,"Start"),(a,{success:i})=>c5(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Sk=new WeakMap,OT=new WeakMap,oPe=e=>{const t=Sk.get(e.target);t&&t(e)},lPe=e=>{e.forEach(oPe)};function cPe({root:e,...t}){const r=e||document;OT.has(r)||OT.set(r,{});const n=OT.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(lPe,{root:e,...t})),n[a]}function uPe(e,t,r){const n=cPe(t);return Sk.set(e,r),n.observe(e),()=>{Sk.delete(e),n.unobserve(e)}}const dPe={some:0,all:1};class fPe extends ld{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:dPe[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return uPe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(hPe(t,r))&&this.startObserver()}unmount(){}}function hPe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const mPe={inView:{Feature:fPe},tap:{Feature:sPe},focus:{Feature:iPe},hover:{Feature:aPe}},pPe={layout:{ProjectionNode:uY,MeasureLayout:rY}},gPe={...eNe,...mPe,...nPe,...pPe},ke=gke(gPe,Nke),vPe=["roberto@mistatas.com"],yPe=e=>e!=null&&e.email?e.email.includes("admin")||e.role==="admin"||vPe.includes(e.email):!1;let DT=!1;const xPe=async e=>{var r;if(console.log("🚀 INICIANDO INICIALIZACIÓN DEL STORE:",{userId:e,initialized:DT}),DT){console.log("⚠️ Store ya inicializado, saltando...");return}const t=_b.getState();console.log("📊 Estado inicial del store:",{beneficiariesCount:((r=t.beneficiaries)==null?void 0:r.length)||0,shouldReload:t.shouldReload,stats:t.stats});try{const n=t.beneficiaries&&t.beneficiaries.length>0;if(console.log("💾 ¿Hay datos persistidos?",n),!n)console.log("📥 Cargando beneficiarios desde Firebase..."),await t.loadBeneficiaries(e);else{console.log("📋 Usando datos persistidos del store...");const a=t.calculateStats(t.beneficiaries);_b.setState({stats:a}),console.log("✅ Estadísticas actualizadas:",a)}DT=!0,console.log("✅ Store inicializado correctamente")}catch(n){console.error("❌ Error inicializando store de beneficiarios:",n);try{console.log("🔄 Intentando recarga forzada..."),await t.forceReload(e)}catch(a){console.error("❌ Error en reintento de carga:",a)}}},wPe=(e,t,r)=>{console.log("🔍 === DEBUGGING BENEFICIARY MATCH ==="),console.log("🎯 Buscando beneficiario:",e);const n=t.find(l=>l.nombre&&l.nombre.toLowerCase().includes(e.toLowerCase()));if(!n){console.log("❌ Beneficiario no encontrado en la lista de beneficiarios");return}console.log("✅ Beneficiario encontrado:",{nombre:n.nombre,fono:n.fono,sim:n.sim,appSim:n.appSim});const a=Xo(n.nombre),i=[An(n.fono),An(n.sim),An(n.appSim)].filter(Boolean);console.log("📋 Datos normalizados del beneficiario:",{nombre:a,telefonos:i}),console.log("🔍 Buscando en",r.length,"asignaciones...");let s=!1,o=!1;return r.forEach((l,c)=>{const u=Xo(l.beneficiary||l.nombre||l.beneficiario||""),f=[An(l.phone||l.primaryPhone||l.telefono||l.fono||""),An(l.sim||""),An(l.appSim||"")].filter(Boolean),h=NK(a,u);h&&(console.log(`✅ COINCIDENCIA POR NOMBRE encontrada en asignación ${c+1}:`),console.log("   - Beneficiario:",n.nombre,"→",a),console.log("   - Asignación:",l.beneficiary||l.nombre,"→",u),s=!0);const m=i.some(p=>f.some(g=>g===p));m&&(console.log(`✅ COINCIDENCIA POR TELÉFONO encontrada en asignación ${c+1}:`),console.log("   - Beneficiario teléfonos:",i),console.log("   - Asignación teléfonos:",f),o=!0),c<3&&console.log(`📋 Asignación ${c+1}:`,{original:{beneficiary:l.beneficiary,phone:l.phone},normalizado:{nombre:u,telefonos:f},coincidencia:{nombre:h,telefono:m}})}),console.log("📊 RESULTADO FINAL:"),console.log("   - Encontrado por nombre:",s),console.log("   - Encontrado por teléfono:",o),console.log("   - Debería estar asignado:",s||o),console.log("🔍 === FIN DEBUGGING ==="),{found:s||o,foundByName:s,foundByPhone:o,beneficiary:n,targetName:a,targetPhones:i}},bPe=({onUploadComplete:e,onUploadError:t,isUploading:r=!1,className:n=""})=>{const[a,i]=T.useState(!1),[s,o]=T.useState(""),[l,c]=T.useState(0),[u,f]=T.useState(null),[h,m]=T.useState(!1),p=T.useRef(null),g=C=>{C.preventDefault(),C.stopPropagation(),C.type==="dragenter"||C.type==="dragover"?i(!0):C.type==="dragleave"&&i(!1)},v=C=>{C.preventDefault(),C.stopPropagation(),i(!1),C.dataTransfer.files&&C.dataTransfer.files[0]&&w(C.dataTransfer.files[0])},y=C=>{C.preventDefault(),C.target.files&&C.target.files[0]&&w(C.target.files[0])},w=async C=>{if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel",".xlsx",".xls"].some(A=>C.type===A||C.name.toLowerCase().endsWith(A))){t("Por favor selecciona un archivo Excel válido (.xlsx o .xls)");return}if(C.size>10*1024*1024){t("El archivo es demasiado grande. Máximo 10MB permitido.");return}o(C.name);try{const A=await b(C);f(A),m(!0)}catch(A){t(`Error al procesar el archivo: ${A.message}`)}},b=C=>new Promise((S,_)=>{const A=new FileReader;A.onload=P=>{try{const N=new Uint8Array(P.target.result),I=dv(N,{type:"array"}),D=I.SheetNames[0],M=I.Sheets[D],ee=g0.sheet_to_json(M,{header:1,defval:""});if(ee.length<2){_(new Error("El archivo debe contener al menos una fila de datos además del encabezado"));return}const Q=ee[0],z=ee.slice(1).filter(L=>L.some(ae=>ae&&ae.toString().trim()!=="")).map((L,ae)=>({Nombre:L[0]||"",Fono:L[1]||"",Sim:L[2]||"",Direccion:L[3]||"","App Sim":L[4]||"",_rowIndex:ae+2}));if(z.length===0){_(new Error("No se encontraron datos válidos en el archivo"));return}S({headers:Q,data:z,totalRows:z.length})}catch(N){_(new Error(`Error al leer el archivo Excel: ${N.message}`))}},A.onerror=()=>{_(new Error("Error al leer el archivo"))},A.readAsArrayBuffer(C)}),E=()=>{u&&e&&(e(u.data,{fileName:s,totalRows:u.totalRows,onProgress:c}),m(!1),f(null),o(""),p.current&&(p.current.value=""))},k=()=>{m(!1),f(null),o(""),c(0),p.current&&(p.current.value="")};return d.jsxs("div",{className:`space-y-4 ${n}`,children:[d.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`relative border-2 border-dashed rounded-lg p-6 transition-colors ${a?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"} ${r?"pointer-events-none opacity-50":""}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:v,children:[d.jsx("input",{ref:p,type:"file",accept:".xlsx,.xls",onChange:y,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:r}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",children:r?d.jsx(lse,{className:"h-12 w-12 animate-spin"}):d.jsx(Xg,{className:"h-12 w-12"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:r?"Procesando archivo...":a?"Suelta el archivo aquí":"Arrastra tu archivo Excel aquí"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r?`Progreso: ${l}%`:"o haz clic para seleccionar un archivo (.xlsx, .xls)"}),s&&!r&&d.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[d.jsx(Yie,{className:"h-4 w-4"}),d.jsx("span",{children:s})]})]})]}),r&&l>0&&d.jsx(ke.div,{className:"mt-4",initial:{opacity:0},animate:{opacity:1},children:d.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:d.jsx(ke.div,{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${l}%`},initial:{width:0},animate:{width:`${l}%`}})})})]}),d.jsxs(ke.div,{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[d.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Formato esperado del Excel:"}),d.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Columna A:"})," Nombre del beneficiario"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna B:"})," Fono (teléfono principal)"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna C:"})," Sim (teléfono secundario)"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna D:"})," Dirección"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna E:"})," App Sim (otro número de contacto)"]})]}),d.jsx("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-300",children:'Nota: Los números "000000000" serán ignorados automáticamente'})]}),h&&u&&d.jsx(ke.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:{opacity:0},animate:{opacity:1},children:d.jsxs(ke.div,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Vista previa del archivo"}),d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[u.totalRows," beneficiarios encontrados"]})]}),d.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:d.jsx(cc,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"p-6 overflow-y-auto max-h-96",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nombre"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Fono"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sim"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Dirección"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"App Sim"})]})}),d.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:u.data.slice(0,10).map((C,S)=>d.jsxs("tr",{className:S%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700",children:[d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:C.Nombre||"N/A"}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:C.Fono||"N/A"}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:C.Sim||"N/A"}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100 max-w-xs truncate",children:C.Direccion||"N/A"}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:C["App Sim"]||"N/A"})]},S))})]}),u.data.length>10&&d.jsxs("div",{className:"text-center py-4 text-sm text-gray-500 dark:text-gray-400",children:["... y ",u.data.length-10," filas más"]})]})}),d.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[d.jsx("button",{onClick:k,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),d.jsxs("button",{onClick:E,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center space-x-2",children:[d.jsx($r,{className:"h-4 w-4"}),d.jsxs("span",{children:["Confirmar y cargar ",u.totalRows," beneficiarios"]})]})]})]})})]})},_Pe=({beneficiaries:e=[],searchTerm:t="",onSearchChange:r,onEdit:n,onDelete:a,isLoading:i=!1,className:s=""})=>{const[o,l]=T.useState("all"),[c,u]=T.useState("name"),[f,h]=T.useState("asc"),m=T.useMemo(()=>{let w=[...e];switch(o){case"with-phone":w=w.filter(b=>b.telefonosValidos&&b.telefonosValidos.length>0);break;case"without-phone":w=w.filter(b=>!b.telefonosValidos||b.telefonosValidos.length===0);break;case"incomplete":w=w.filter(b=>!b.nombre||!b.direccion||!b.telefonosValidos||b.telefonosValidos.length===0);break}if(t&&t.trim()!==""){const b=t.toLowerCase().trim();w=w.filter(E=>E.nombre&&E.nombre.toLowerCase().includes(b)||E.direccion&&E.direccion.toLowerCase().includes(b)||E.fono&&E.fono.includes(b)||E.sim&&E.sim.includes(b)||E.appSim&&E.appSim.includes(b))}return w.sort((b,E)=>{var C,S,_,A,P,N;let k=0;switch(c){case"name":k=(b.nombre||"").localeCompare(E.nombre||"");break;case"date":const I=((S=(C=b.creadoEn)==null?void 0:C.toDate)==null?void 0:S.call(C))||new Date(0),D=((A=(_=E.creadoEn)==null?void 0:_.toDate)==null?void 0:A.call(_))||new Date(0);k=I-D;break;case"phone-count":const M=((P=b.telefonosValidos)==null?void 0:P.length)||0,ee=((N=E.telefonosValidos)==null?void 0:N.length)||0;k=M-ee;break}return f==="desc"?-k:k}),w},[e,t,o,c,f]),p=w=>{var b;return((b=w.telefonosValidos)==null?void 0:b.length)||0},g=w=>{if(!w)return"N/A";try{return(w.toDate?w.toDate():new Date(w)).toLocaleDateString("es-CL",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"N/A"}},v=w=>{const b=p(w);return!w.nombre||!w.direccion?"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20":b===0?"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20":"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20"},y=w=>{const b=p(w);return!w.nombre||!w.direccion?d.jsx(Ni,{className:"h-4 w-4 text-red-500"}):b===0?d.jsx(Ni,{className:"h-4 w-4 text-yellow-500"}):d.jsx(aa,{className:"h-4 w-4 text-green-500"})};return d.jsxs("div",{className:`space-y-6 ${s}`,children:[d.jsxs(ke.div,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar por nombre, dirección o teléfono...",value:t,onChange:w=>r==null?void 0:r(w.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("select",{value:o,onChange:w=>l(w.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"all",children:"Todos"}),d.jsx("option",{value:"with-phone",children:"Con teléfono"}),d.jsx("option",{value:"without-phone",children:"Sin teléfono"}),d.jsx("option",{value:"incomplete",children:"Datos incompletos"})]}),d.jsxs("select",{value:`${c}-${f}`,onChange:w=>{const[b,E]=w.target.value.split("-");u(b),h(E)},className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"name-asc",children:"Nombre A-Z"}),d.jsx("option",{value:"name-desc",children:"Nombre Z-A"}),d.jsx("option",{value:"date-desc",children:"Más reciente"}),d.jsx("option",{value:"date-asc",children:"Más antiguo"}),d.jsx("option",{value:"phone-count-desc",children:"Más teléfonos"}),d.jsx("option",{value:"phone-count-asc",children:"Menos teléfonos"})]})]})]}),d.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400",children:[d.jsxs("span",{children:["Total: ",e.length]}),d.jsxs("span",{children:["Mostrados: ",m.length]}),d.jsxs("span",{children:["Con teléfono: ",e.filter(w=>p(w)>0).length]}),d.jsxs("span",{children:["Sin teléfono: ",e.filter(w=>p(w)===0).length]})]})]}),d.jsx("div",{className:"space-y-3",children:d.jsx(as,{children:i?d.jsxs(ke.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Cargando beneficiarios..."})]}):m.length===0?d.jsxs(ke.div,{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",initial:{opacity:0},animate:{opacity:1},children:[d.jsx(aa,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No se encontraron beneficiarios"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t?"Intenta con otros términos de búsqueda o ajusta los filtros":"Aún no hay beneficiarios cargados"})]}):m.map((w,b)=>d.jsx(ke.div,{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border-l-4 p-4 hover:shadow-md transition-shadow ${v(w)}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.05},layout:!0,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[y(w),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:w.nombre||"Nombre no disponible"})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[d.jsx(o7,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm",children:w.direccion||"Dirección no disponible"})]}),d.jsxs("div",{className:"space-y-1",children:[w.fono&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[d.jsx(Vr,{className:"h-4 w-4"}),d.jsxs("span",{className:"text-sm",children:["Fono: ",w.fono]})]}),w.sim&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[d.jsx(Vr,{className:"h-4 w-4"}),d.jsxs("span",{className:"text-sm",children:["Sim: ",w.sim]})]}),w.appSim&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[d.jsx(Vr,{className:"h-4 w-4"}),d.jsxs("span",{className:"text-sm",children:["App Sim: ",w.appSim]})]}),p(w)===0&&d.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Sin teléfonos válidos"})]}),d.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Creado: ",g(w.creadoEn)," • Teléfonos válidos: ",p(w)]})]}),d.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[d.jsx("button",{onClick:()=>n==null?void 0:n(w),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Editar beneficiario",children:d.jsx(FP,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>a==null?void 0:a(w),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Eliminar beneficiario",children:d.jsx(el,{className:"h-4 w-4"})})]})]})},w.id))})}),m.length>50&&d.jsx(ke.div,{className:"text-center py-4",initial:{opacity:0},animate:{opacity:1},children:d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mostrando los primeros 50 resultados. Usa los filtros para refinar la búsqueda."})})]})},EPe=({beneficiaries:e=[],assignments:t=[],onAssignOperator:r,className:n=""})=>{const[a,i]=T.useState([]),[s,o]=T.useState(!1),[l,c]=T.useState(""),[u,f]=T.useState(!0);T.useEffect(()=>{const g=()=>{if(f(!0),console.log("🔍 UnassignedBeneficiaries - Calculando sin asignar:",{beneficiaries:e.length,assignments:t.length}),t.length===0){console.log("⚠️ No hay asignaciones, todos los beneficiarios aparecen como sin asignar"),i(e),f(!1);return}const v=t.map(w=>({nombre:w.beneficiary||w.nombre||w.beneficiario,telefono:w.phone||w.primaryPhone||w.telefono||w.fono,teleoperadora:w.operator||w.operatorName||w.teleoperadora||w.operador})).filter(w=>w.nombre&&w.teleoperadora);console.log("📋 Asignaciones procesadas:",{total:v.length,muestra:v.slice(0,3).map(w=>({nombre:w.nombre,teleoperadora:w.teleoperadora}))});const y=e.filter(w=>!nk(w,v));console.log("📊 Resultado del cálculo:",{totalBeneficiarios:e.length,asignados:v.length,sinAsignar:y.length}),i(y),f(!1)};e.length>0?g():f(!1)},[e,t]);const h=a.filter(g=>{if(!l.trim())return!0;const v=l.toLowerCase();return g.nombre&&g.nombre.toLowerCase().includes(v)||g.direccion&&g.direccion.toLowerCase().includes(v)||g.fono&&g.fono.includes(v)||g.sim&&g.sim.includes(v)||g.appSim&&g.appSim.includes(v)}),m=g=>[g.fono,g.sim,g.appSim].filter(v=>v&&v!=="000000000").join(", ")||"Sin teléfonos válidos",p=()=>{const g=[["BENEFICIARIOS SIN ASIGNAR"],[],[`Generado el: ${new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}`],[`Total de beneficiarios sin asignar: ${h.length}`],[],["#","Nombre","Dirección","Teléfono Principal","SIM","App SIM","Fecha Registro"],...h.map((C,S)=>[S+1,C.nombre||"Sin nombre",C.direccion||"Sin dirección",C.fono||"",C.sim||"",C.appSim||"",C.creadoEn?new Date(C.creadoEn).toLocaleDateString("es-ES"):"Sin fecha"])],v=g0.aoa_to_sheet(g),y=g0.book_new(),w=[{wch:5},{wch:30},{wch:40},{wch:15},{wch:15},{wch:15},{wch:15}];v["!cols"]=w,v["!merges"]||(v["!merges"]=[]),v["!merges"].push({s:{r:0,c:0},e:{r:0,c:6}});const b="A1";v[b]&&(v[b].s={font:{bold:!0,sz:16},alignment:{horizontal:"center"}}),["A7","B7","C7","D7","E7","F7","G7"].forEach(C=>{v[C]&&(v[C].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"3B82F6"}}})}),g0.book_append_sheet(y,v,"Beneficiarios Sin Asignar");const k=`beneficiarios-sin-asignar-${new Date().toISOString().split("T")[0]}.xlsx`;Wve(y,k)};return u?d.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${n}`,children:d.jsxs("div",{className:"p-6 text-center",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Analizando asignaciones..."})]})}):d.jsxs(ke.div,{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden ${n}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>o(!s),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${a.length>0?"bg-yellow-100 dark:bg-yellow-900/20":"bg-green-100 dark:bg-green-900/20"}`,children:a.length>0?d.jsx(qse,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}):d.jsx(hn,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Beneficiarios sin asignar"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.length===0?"Todos los beneficiarios tienen teleoperadora asignada":`${a.length} beneficiarios sin teleoperadora`})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[a.length>0&&d.jsxs("button",{onClick:g=>{g.stopPropagation(),p()},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors",title:"Exportar listado a Excel",children:[d.jsx(ig,{className:"h-4 w-4 mr-1"}),"Exportar Excel"]}),a.length>0&&d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:a.length}),s?d.jsx(a7,{className:"h-5 w-5 text-gray-400"}):d.jsx(n7,{className:"h-5 w-5 text-gray-400"})]})]})}),d.jsx(as,{children:s&&d.jsx(ke.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:a.length===0?d.jsxs("div",{className:"p-6 text-center",children:[d.jsx(hn,{className:"mx-auto h-12 w-12 text-green-400 mb-4"}),d.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"¡Excelente!"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Todos los beneficiarios de la base tienen una teleoperadora asignada."})]}):d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar beneficiarios sin asignar...",value:l,onChange:g=>c(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),d.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx(Ni,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),d.jsxs("div",{className:"text-sm",children:[d.jsx("p",{className:"text-yellow-800 dark:text-yellow-200 font-medium",children:"Beneficiarios sin teleoperadora asignada"}),d.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 mt-1",children:"Estos beneficiarios están en la base pero no aparecen en el módulo de Asignaciones. Es recomendable asignarles una teleoperadora para garantizar el seguimiento."})]})]})}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:h.length===0?d.jsxs("div",{className:"text-center py-6",children:[d.jsx(oi,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No se encontraron beneficiarios con ese criterio de búsqueda"})]}):h.map((g,v)=>{var y;return d.jsx(ke.div,{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 border border-gray-200 dark:border-gray-600",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.05},children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:g.nombre}),d.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["📍 ",g.direccion]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[d.jsx(Vr,{className:"h-4 w-4"}),d.jsx("span",{children:m(g)})]}),d.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[((y=g.telefonosValidos)==null?void 0:y.length)||0," teléfonos válidos"]})]}),d.jsx("button",{onClick:()=>r==null?void 0:r(g),className:"ml-3 px-3 py-1.5 text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-200 dark:hover:bg-blue-900/40 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Asignar"})]})},g.id)})}),d.jsx("div",{className:"text-center pt-3 border-t border-gray-200 dark:border-gray-700",children:d.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h.length," de ",a.length," beneficiarios mostrados"]})})]})})})]})},SPe=()=>{const{user:e}=cs(),[t,r]=T.useState("dashboard"),[n,a]=T.useState(!1),[i,s]=T.useState(null),{beneficiaries:o,stats:l,isLoading:c,isUploading:u,uploadProgress:f,searchTerm:h,setSearchTerm:m,setBeneficiaries:p,loadBeneficiaries:g,forceReload:v,uploadBeneficiaries:y,updateBeneficiaryData:w,deleteBeneficiaryData:b,findUnassignedBeneficiaries:E,validateAssignmentConsistency:k,getFilteredBeneficiaries:C}=_b(),{operatorAssignments:S,getAllAssignments:_}=jn();T.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{await xPe(e.uid)}catch(L){console.error("Error inicializando store:",L),A("❌ Error cargando beneficiarios","error")}})()},[e]),T.useEffect(()=>{o.length>0&&!c&&console.log("📊 Beneficiarios Base cargados:",{total:o.length,stats:l})},[o,l,c]),T.useEffect(()=>{if(o.length>0){const z=_();console.log("🔄 Actualizando estadísticas con asignaciones:",z.length);const L=E(z);console.log("👥 Beneficiarios sin asignar encontrados:",L.length)}},[S,o,E,_]);const A=(z,L="info")=>{s({message:z,type:L}),setTimeout(()=>s(null),5e3)},P=async()=>{try{console.log("🔄 Sincronizando con módulo de asignaciones...");const z=_();if(console.log("🔍 Asignaciones obtenidas:",z),z.length===0){A("⚠️ No se encontraron asignaciones para sincronizar","warning");return}const L=E(z);A(`✅ Sincronización completada. ${z.length} asignaciones procesadas, ${L.length} beneficiarios sin asignar`,"success")}catch(z){console.error("Error en sincronización:",z),A("❌ Error al sincronizar con asignaciones","error")}},N=()=>{const z=prompt('Ingresa el nombre del beneficiario a debuggear (ej: "Mariana Apolonia Gonzalez Gonzalez"):');if(!z)return;const L=_();console.log("🔍 DEBUG ESPECÍFICO:",z),console.log("📋 Total asignaciones disponibles:",L.length),console.log("📋 Muestra de asignaciones:",L.slice(0,5));const ae=o.find(U=>{var K;return(K=U.nombre)==null?void 0:K.toLowerCase().includes(z.toLowerCase())});console.log("👤 Beneficiario encontrado en base:",ae);const ue=L.find(U=>{var K;return(K=U.beneficiary)==null?void 0:K.toLowerCase().includes(z.toLowerCase())});console.log("📝 Asignación encontrada:",ue);const F=wPe(z,o,L);A(F.found?`✅ ${z} está asignado a ${F.operator}`:`❌ ${z} NO está asignado`,F.found?"success":"error")},I=()=>{console.group("🔍 DIAGNÓSTICO COMPLETO - MÓDULO BENEFICIARIOS BASE");const z=_(),L=E(z);console.log("📊 RESUMEN GENERAL:"),console.log("- Total beneficiarios:",o.length),console.log("- Total asignaciones:",z.length),console.log("- Beneficiarios sin asignar:",L.length),console.log("- Diferencia esperada:",o.length-z.length),console.log("📋 FORMATO DE ASIGNACIONES (primeras 3):"),z.slice(0,3).forEach((F,U)=>{console.log(`${U+1}.`,{beneficiary:F.beneficiary,operator:F.operator,operatorName:F.operatorName,phone:F.phone})}),console.log("👥 FORMATO DE BENEFICIARIOS (primeros 3):"),o.slice(0,3).forEach((F,U)=>{console.log(`${U+1}.`,{nombre:F.nombre,fono:F.fono,sim:F.sim})});const ae=o.find(F=>{var U;return(U=F.nombre)==null?void 0:U.toLowerCase().includes("mariana apolonia")}),ue=z.find(F=>{var U;return(U=F.beneficiary)==null?void 0:U.toLowerCase().includes("mariana apolonia")});console.log("🎯 CASO ESPECÍFICO - Mariana Apolonia:"),console.log("- En beneficiarios:",ae?"SÍ":"NO"),console.log("- En asignaciones:",ue?"SÍ":"NO"),ae&&console.log("👤 Datos de Mariana en beneficiarios:",ae),ue&&console.log("📝 Datos de Mariana en asignaciones:",ue),console.groupEnd(),A(`🔍 Diagnóstico completado. Ver consola para detalles. ${z.length} asignaciones, ${L.length} sin asignar`,"info")},D=async(z,L)=>{try{console.log("📤 UPLOAD EXCEL - Iniciando..."),console.log(`📊 Registros en Excel: ${z.length}`);const{beneficiaryService:ae}=await ki(async()=>{const{beneficiaryService:F}=await Promise.resolve().then(()=>ITe);return{beneficiaryService:F}},void 0),ue=await ae.uploadBeneficiaries(z,e.uid,F=>{console.log("📊 Progreso:",F),L!=null&&L.onProgress&&L.onProgress(F.processed||0)},!0);if(ue.success){p(ue.data);const F=ue.replacedPrevious?`✅ Base de datos REEMPLAZADA: ${ue.successful} beneficiarios cargados`:`✅ Se cargaron ${ue.successful} beneficiarios correctamente`,U=ue.errors>0?` (${ue.errors} errores encontrados)`:"";A(F+U,"success"),console.log("✅ UPLOAD COMPLETADO:",ue),a(!1)}else throw new Error(ue.message||"Error durante la carga")}catch(ae){console.error("❌ Error en upload:",ae),A(`❌ Error: ${ae.message}`,"error")}},M=z=>{console.log("Editar beneficiario:",z)},ee=async z=>{if(window.confirm(`¿Estás seguro de eliminar a ${z.nombre}?`))try{await b(z.id)?A(`✅ ${z.nombre} eliminado correctamente`,"success"):A("❌ Error al eliminar beneficiario","error")}catch(L){A(`❌ Error: ${L.message}`,"error")}},Q=z=>{console.log("Asignar teleoperadora a:",z),A(`TODO: Implementar asignación para ${z.nombre}`,"info")},W=C();return d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[i&&d.jsx(ke.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-md ${i.type==="success"?"bg-green-500 text-white":i.type==="error"?"bg-red-500 text-white":i.type==="warning"?"bg-yellow-500 text-white":"bg-blue-500 text-white"}`,children:i.message}),d.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"flex justify-between items-center py-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(qg,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Beneficiarios Base"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gestión centralizada de beneficiarios y validación con asignaciones"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:P,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(l7,{className:"h-4 w-4"}),d.jsx("span",{children:"Sincronizar con Asignaciones"})]}),d.jsxs("button",{onClick:I,className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[d.jsx(kie,{className:"h-4 w-4"}),d.jsx("span",{children:"Diagnóstico"})]}),d.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[d.jsx(oi,{className:"h-4 w-4"}),d.jsx("span",{children:"Debug Específico"})]}),yPe(e==null?void 0:e.email)&&d.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(Xg,{className:"h-4 w-4"}),d.jsx("span",{children:"Cargar Excel"})]})]})]}),d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:d.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:qg},{id:"list",name:"Lista completa",icon:hn},{id:"validation",name:"Validación",icon:$r}].map(z=>d.jsxs("button",{onClick:()=>r(z.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===z.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[d.jsx(z.icon,{className:"h-4 w-4"}),d.jsx("span",{children:z.name})]},z.id))})})]})}),d.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t==="dashboard"&&d.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Dashboard de Beneficiarios"}),d.jsx(EPe,{beneficiaries:o,assignments:_(),onAssignOperator:Q}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Distribución por Estado"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Con Asignación"}),d.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:l.total-l.unassigned})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sin Asignar"}),d.jsx("span",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400",children:l.unassigned})]})]})]})})]},"dashboard"),t==="list"&&d.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},children:d.jsx(_Pe,{beneficiaries:W,searchTerm:h,onSearchChange:m,onEdit:M,onDelete:ee,onAssignOperator:Q,isLoading:c})},"list"),t==="validation"&&d.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Validación y Consistencia"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Herramientas de validación y auditoría en desarrollo..."})]})},"validation")]}),n&&d.jsx(bPe,{onUploadComplete:D,onClose:()=>a(!1),isUploading:u,uploadProgress:f})]})};function dY(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=dY(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Dt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=dY(e))&&(n&&(n+=" "),n+=t);return n}const sD="-",TPe=e=>{const t=CPe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split(sD);return o[0]===""&&o.length!==1&&o.shift(),fY(o,t)||APe(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},fY=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?fY(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(sD);return(s=t.validators.find(({validator:o})=>o(i)))==null?void 0:s.classGroupId},u5=/^\[(.+)\]$/,APe=e=>{if(u5.test(e)){const t=u5.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},CPe=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)Tk(r[a],n,a,t);return n},Tk=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:d5(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(kPe(a)){Tk(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{Tk(s,d5(t,i),r,n)})})},d5=(e,t)=>{let r=e;return t.split(sD).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},kPe=e=>e.isThemeGetter,NPe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},Ak="!",Ck=":",PPe=Ck.length,IPe=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let s=0,o=0,l=0,c;for(let p=0;p<a.length;p++){let g=a[p];if(s===0&&o===0){if(g===Ck){i.push(a.slice(l,p)),l=p+PPe;continue}if(g==="/"){c=p;continue}}g==="["?s++:g==="]"?s--:g==="("?o++:g===")"&&o--}const u=i.length===0?a:a.substring(l),f=OPe(u),h=f!==u,m=c&&c>l?c-l:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}};if(t){const a=t+Ck,i=n;n=s=>s.startsWith(a)?i(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},OPe=e=>e.endsWith(Ak)?e.substring(0,e.length-1):e.startsWith(Ak)?e.substring(1):e,DPe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(s=>{s[0]==="["||t[s]?(a.push(...i.sort(),s),i=[]):i.push(s)}),a.push(...i.sort()),a}},jPe=e=>({cache:NPe(e.cacheSize),parseClassName:IPe(e),sortModifiers:DPe(e),...TPe(e)}),RPe=/\s+/,MPe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,s=[],o=e.trim().split(RPe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{isExternal:f,modifiers:h,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}=r(u);if(f){l=u+(l.length>0?" "+l:l);continue}let v=!!g,y=n(v?p.substring(0,g):p);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=n(p),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const w=i(h).join(":"),b=m?w+Ak:w,E=b+y;if(s.includes(E))continue;s.push(E);const k=a(y,v);for(let C=0;C<k.length;++C){const S=k[C];s.push(b+S)}l=u+(l.length>0?" "+l:l)}return l};function FPe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=hY(t))&&(n&&(n+=" "),n+=r);return n}const hY=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=hY(e[n]))&&(r&&(r+=" "),r+=t);return r};function LPe(e,...t){let r,n,a,i=s;function s(l){const c=t.reduce((u,f)=>f(u),e());return r=jPe(c),n=r.cache.get,a=r.cache.set,i=o,o(l)}function o(l){const c=n(l);if(c)return c;const u=MPe(l,r);return a(l,u),u}return function(){return i(FPe.apply(null,arguments))}}const Dn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},mY=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,pY=/^\((?:(\w[\w-]*):)?(.+)\)$/i,$Pe=/^\d+\/\d+$/,BPe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UPe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,VPe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,zPe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,WPe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kh=e=>$Pe.test(e),_t=e=>!!e&&!Number.isNaN(Number(e)),Hc=e=>!!e&&Number.isInteger(Number(e)),jT=e=>e.endsWith("%")&&_t(e.slice(0,-1)),Il=e=>BPe.test(e),HPe=()=>!0,GPe=e=>UPe.test(e)&&!VPe.test(e),gY=()=>!1,KPe=e=>zPe.test(e),qPe=e=>WPe.test(e),YPe=e=>!Ye(e)&&!Xe(e),XPe=e=>Pm(e,xY,gY),Ye=e=>mY.test(e),Ed=e=>Pm(e,wY,GPe),RT=e=>Pm(e,tIe,_t),f5=e=>Pm(e,vY,gY),QPe=e=>Pm(e,yY,qPe),u1=e=>Pm(e,bY,KPe),Xe=e=>pY.test(e),bp=e=>Im(e,wY),JPe=e=>Im(e,rIe),h5=e=>Im(e,vY),ZPe=e=>Im(e,xY),eIe=e=>Im(e,yY),d1=e=>Im(e,bY,!0),Pm=(e,t,r)=>{const n=mY.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Im=(e,t,r=!1)=>{const n=pY.exec(e);return n?n[1]?t(n[1]):r:!1},vY=e=>e==="position"||e==="percentage",yY=e=>e==="image"||e==="url",xY=e=>e==="length"||e==="size"||e==="bg-size",wY=e=>e==="length",tIe=e=>e==="number",rIe=e=>e==="family-name",bY=e=>e==="shadow",nIe=()=>{const e=Dn("color"),t=Dn("font"),r=Dn("text"),n=Dn("font-weight"),a=Dn("tracking"),i=Dn("leading"),s=Dn("breakpoint"),o=Dn("container"),l=Dn("spacing"),c=Dn("radius"),u=Dn("shadow"),f=Dn("inset-shadow"),h=Dn("text-shadow"),m=Dn("drop-shadow"),p=Dn("blur"),g=Dn("perspective"),v=Dn("aspect"),y=Dn("ease"),w=Dn("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...E(),Xe,Ye],C=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],_=()=>[Xe,Ye,l],A=()=>[kh,"full","auto",..._()],P=()=>[Hc,"none","subgrid",Xe,Ye],N=()=>["auto",{span:["full",Hc,Xe,Ye]},Hc,Xe,Ye],I=()=>[Hc,"auto",Xe,Ye],D=()=>["auto","min","max","fr",Xe,Ye],M=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],Q=()=>["auto",..._()],W=()=>[kh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],z=()=>[e,Xe,Ye],L=()=>[...E(),h5,f5,{position:[Xe,Ye]}],ae=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ue=()=>["auto","cover","contain",ZPe,XPe,{size:[Xe,Ye]}],F=()=>[jT,bp,Ed],U=()=>["","none","full",c,Xe,Ye],K=()=>["",_t,bp,Ed],Y=()=>["solid","dashed","dotted","double"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[_t,jT,h5,f5],fe=()=>["","none",p,Xe,Ye],re=()=>["none",_t,Xe,Ye],ce=()=>["none",_t,Xe,Ye],ye=()=>[_t,Xe,Ye],R=()=>[kh,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Il],breakpoint:[Il],color:[HPe],container:[Il],"drop-shadow":[Il],ease:["in","out","in-out"],font:[YPe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Il],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Il],shadow:[Il],spacing:["px",_t],text:[Il],"text-shadow":[Il],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",kh,Ye,Xe,v]}],container:["container"],columns:[{columns:[_t,Ye,Xe,o]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:A()}],"inset-x":[{"inset-x":A()}],"inset-y":[{"inset-y":A()}],start:[{start:A()}],end:[{end:A()}],top:[{top:A()}],right:[{right:A()}],bottom:[{bottom:A()}],left:[{left:A()}],visibility:["visible","invisible","collapse"],z:[{z:[Hc,"auto",Xe,Ye]}],basis:[{basis:[kh,"full","auto",o,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_t,kh,"auto","initial","none",Ye]}],grow:[{grow:["",_t,Xe,Ye]}],shrink:[{shrink:["",_t,Xe,Ye]}],order:[{order:[Hc,"first","last","none",Xe,Ye]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":I()}],"col-end":[{"col-end":I()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":I()}],"row-end":[{"row-end":I()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...M(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...M()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":M()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:Q()}],mx:[{mx:Q()}],my:[{my:Q()}],ms:[{ms:Q()}],me:[{me:Q()}],mt:[{mt:Q()}],mr:[{mr:Q()}],mb:[{mb:Q()}],ml:[{ml:Q()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[o,"screen",...W()]}],"min-w":[{"min-w":[o,"screen","none",...W()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",r,bp,Ed]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Xe,RT]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",jT,Ye]}],"font-family":[{font:[JPe,Ye,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Xe,Ye]}],"line-clamp":[{"line-clamp":[_t,"none",Xe,RT]}],leading:[{leading:[i,..._()]}],"list-image":[{"list-image":["none",Xe,Ye]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Xe,Ye]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:[_t,"from-font","auto",Xe,Ed]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[_t,"auto",Xe,Ye]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Xe,Ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Xe,Ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:L()}],"bg-repeat":[{bg:ae()}],"bg-size":[{bg:ue()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Hc,Xe,Ye],radial:["",Xe,Ye],conic:[Hc,Xe,Ye]},eIe,QPe]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:U()}],"rounded-s":[{"rounded-s":U()}],"rounded-e":[{"rounded-e":U()}],"rounded-t":[{"rounded-t":U()}],"rounded-r":[{"rounded-r":U()}],"rounded-b":[{"rounded-b":U()}],"rounded-l":[{"rounded-l":U()}],"rounded-ss":[{"rounded-ss":U()}],"rounded-se":[{"rounded-se":U()}],"rounded-ee":[{"rounded-ee":U()}],"rounded-es":[{"rounded-es":U()}],"rounded-tl":[{"rounded-tl":U()}],"rounded-tr":[{"rounded-tr":U()}],"rounded-br":[{"rounded-br":U()}],"rounded-bl":[{"rounded-bl":U()}],"border-w":[{border:K()}],"border-w-x":[{"border-x":K()}],"border-w-y":[{"border-y":K()}],"border-w-s":[{"border-s":K()}],"border-w-e":[{"border-e":K()}],"border-w-t":[{"border-t":K()}],"border-w-r":[{"border-r":K()}],"border-w-b":[{"border-b":K()}],"border-w-l":[{"border-l":K()}],"divide-x":[{"divide-x":K()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":K()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Y(),"hidden","none"]}],"divide-style":[{divide:[...Y(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...Y(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_t,Xe,Ye]}],"outline-w":[{outline:["",_t,bp,Ed]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",u,d1,u1]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",f,d1,u1]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:K()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[_t,Ed]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":K()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",h,d1,u1]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[_t,Xe,Ye]}],"mix-blend":[{"mix-blend":[...te(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":te()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_t]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Xe,Ye]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[_t]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:L()}],"mask-repeat":[{mask:ae()}],"mask-size":[{mask:ue()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Xe,Ye]}],filter:[{filter:["","none",Xe,Ye]}],blur:[{blur:fe()}],brightness:[{brightness:[_t,Xe,Ye]}],contrast:[{contrast:[_t,Xe,Ye]}],"drop-shadow":[{"drop-shadow":["","none",m,d1,u1]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",_t,Xe,Ye]}],"hue-rotate":[{"hue-rotate":[_t,Xe,Ye]}],invert:[{invert:["",_t,Xe,Ye]}],saturate:[{saturate:[_t,Xe,Ye]}],sepia:[{sepia:["",_t,Xe,Ye]}],"backdrop-filter":[{"backdrop-filter":["","none",Xe,Ye]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[_t,Xe,Ye]}],"backdrop-contrast":[{"backdrop-contrast":[_t,Xe,Ye]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_t,Xe,Ye]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_t,Xe,Ye]}],"backdrop-invert":[{"backdrop-invert":["",_t,Xe,Ye]}],"backdrop-opacity":[{"backdrop-opacity":[_t,Xe,Ye]}],"backdrop-saturate":[{"backdrop-saturate":[_t,Xe,Ye]}],"backdrop-sepia":[{"backdrop-sepia":["",_t,Xe,Ye]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Xe,Ye]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_t,"initial",Xe,Ye]}],ease:[{ease:["linear","initial",y,Xe,Ye]}],delay:[{delay:[_t,Xe,Ye]}],animate:[{animate:["none",w,Xe,Ye]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Xe,Ye]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:re()}],"rotate-x":[{"rotate-x":re()}],"rotate-y":[{"rotate-y":re()}],"rotate-z":[{"rotate-z":re()}],scale:[{scale:ce()}],"scale-x":[{"scale-x":ce()}],"scale-y":[{"scale-y":ce()}],"scale-z":[{"scale-z":ce()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[Xe,Ye,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:R()}],"translate-x":[{"translate-x":R()}],"translate-y":[{"translate-y":R()}],"translate-z":[{"translate-z":R()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Xe,Ye]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Xe,Ye]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[_t,bp,Ed,RT]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},aIe=LPe(nIe);function cd(...e){return aIe(Dt(e))}const Mt=ne.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:cd("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Mt.displayName="Card";const Ft=ne.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:cd("flex flex-col space-y-1.5 p-6",e),...t}));Ft.displayName="CardHeader";const Lt=ne.forwardRef(({className:e,...t},r)=>d.jsx("h3",{ref:r,className:cd("text-2xl font-semibold leading-none tracking-tight",e),...t}));Lt.displayName="CardTitle";const Fn=ne.forwardRef(({className:e,...t},r)=>d.jsx("p",{ref:r,className:cd("text-sm text-muted-foreground",e),...t}));Fn.displayName="CardDescription";const $t=ne.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:cd("p-6 pt-0",e),...t}));$t.displayName="CardContent";const iIe=ne.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:cd("flex items-center p-6 pt-0",e),...t}));iIe.displayName="CardFooter";const m5=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,p5=Dt,sIe=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return p5(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(c=>{const u=r==null?void 0:r[c],f=i==null?void 0:i[c];if(u===null)return null;const h=m5(u)||m5(f);return a[c][h]}),o=r&&Object.entries(r).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...i,...o}[g]):{...i,...o}[g]===v})?[...c,f,h]:c},[]);return p5(e,s,l,r==null?void 0:r.class,r==null?void 0:r.className)},oIe=sIe("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",danger:"border-transparent bg-red-500 text-white hover:bg-red-600"}},defaultVariants:{variant:"default"}});function Ei({className:e,variant:t,...r}){return d.jsx("div",{className:cd(oIe({variant:t}),e),...r})}const lIe=async()=>{console.log("🏗️ Inicializando estructura de métricas en Firestore...");try{const e=_v(Oe),t=st(Oe,"metrics","global");e.set(t,{totalCalls:0,successfulCalls:0,failedCalls:0,uniqueBeneficiaries:0,averageDuration:0,protocolCompliance:0,lastUpdated:nt(),created:nt()});const r=st(Oe,"systemConfig","metricsConfig");e.set(r,{alDiaThreshold:15,pendienteThreshold:30,urgenteThreshold:30,autoProcessing:!0,notificationsEnabled:!0,lastUpdated:nt(),created:nt()});const n=st(pt(Oe,"processLogs"));return e.set(n,{type:"INITIALIZATION",status:"SUCCESS",message:"Estructura de métricas inicializada desde aplicación web",timestamp:nt(),details:{collections:["metrics","systemConfig","processLogs"],method:"web_initialization"}}),await e.commit(),console.log("✅ Estructura de métricas inicializada correctamente"),{success:!0,message:"Estructura inicializada correctamente"}}catch(e){return console.error("❌ Error inicializando estructura:",e),{success:!1,error:e.message}}},cIe=async e=>{console.log("🔄 Procesando datos de Excel manualmente...");try{const t=_v(Oe);let r=0;const n={},a={};e.forEach(c=>{const u=c.operador||"Sin asignar",f=c.beneficiario||"Sin nombre";if(n[u]||(n[u]={totalCalls:0,successfulCalls:0,failedCalls:0,totalDuration:0,beneficiaries:new Set}),n[u].totalCalls++,n[u].totalDuration+=c.duracion||0,n[u].beneficiaries.add(f),c.categoria==="exitosa"||c.resultado==="Llamado exitoso"?n[u].successfulCalls++:n[u].failedCalls++,a[f]||(a[f]={totalCalls:0,lastSuccessfulCall:null,operator:u,commune:c.comuna||c.commune||"N/A",phone:c.numero_cliente||c.phone||"N/A"}),a[f].totalCalls++,c.categoria==="exitosa"||c.resultado==="Llamado exitoso"){const h=new Date(c.fecha);(!a[f].lastSuccessfulCall||h>new Date(a[f].lastSuccessfulCall))&&(a[f].lastSuccessfulCall=c.fecha)}});for(const[c,u]of Object.entries(n)){const f=st(Oe,"operatorMetrics",c);t.set(f,{operatorName:c,totalCalls:u.totalCalls,successfulCalls:u.successfulCalls,failedCalls:u.failedCalls,successRate:u.totalCalls>0?u.successfulCalls/u.totalCalls*100:0,averageDuration:u.totalCalls>0?Math.round(u.totalDuration/u.totalCalls):0,uniqueBeneficiaries:u.beneficiaries.size,lastUpdated:nt()}),r++}for(const[c,u]of Object.entries(a)){let f="urgente";if(u.lastSuccessfulCall){const m=Math.floor((new Date-new Date(u.lastSuccessfulCall))/864e5);m<=15?f="al-dia":m<=30&&(f="pendiente")}const h=st(Oe,"beneficiaryMetrics",c);t.set(h,{beneficiaryName:c,operator:u.operator,commune:u.commune,phone:u.phone,totalCalls:u.totalCalls,lastSuccessfulCall:u.lastSuccessfulCall,status:f,daysSinceLastSuccess:u.lastSuccessfulCall?Math.floor((new Date-new Date(u.lastSuccessfulCall))/(1e3*60*60*24)):null,lastUpdated:nt()}),r++}const i=e.length,s=e.filter(c=>c.categoria==="exitosa"||c.resultado==="Llamado exitoso").length,o=st(Oe,"metrics","global");t.set(o,{totalCalls:i,successfulCalls:s,failedCalls:i-s,uniqueBeneficiaries:Object.keys(a).length,uniqueOperators:Object.keys(n).length,averageDuration:i>0?Math.round(e.reduce((c,u)=>c+(u.duracion||0),0)/i):0,successRate:i>0?s/i*100:0,lastUpdated:nt(),lastProcessed:nt()});const l=st(pt(Oe,"processLogs"));return t.set(l,{type:"MANUAL_PROCESSING",status:"SUCCESS",message:`Procesados ${r} registros manualmente`,timestamp:nt(),details:{totalRecords:e.length,processedRecords:r,operators:Object.keys(n).length,beneficiaries:Object.keys(a).length}}),await t.commit(),console.log(`✅ Procesados ${r} registros correctamente`),{success:!0,message:`Procesados ${r} registros correctamente`,stats:{totalCalls:i,successfulCalls:s,operators:Object.keys(n).length,beneficiaries:Object.keys(a).length}}}catch(t){return console.error("❌ Error procesando datos:",t),{success:!1,error:t.message}}},uIe=async()=>{try{console.log("🔧 Configurando perfil de super admin...");const e={email:"roberto@mistatas.com",role:"super_admin",name:"Roberto Mistatas",isActive:!0,permissions:["read_all","write_all","manage_users","manage_metrics","system_admin"],createdAt:nt(),updatedAt:nt(),createdBy:"system"},{auth:t}=await ki(async()=>{const{auth:a}=await Promise.resolve().then(()=>AK);return{auth:a}},void 0),r=t.currentUser;if(!r)throw new Error("Usuario no autenticado. Inicia sesión primero.");if(r.email!=="roberto@mistatas.com")throw new Error("Solo el super admin puede ejecutar esta función.");const n=st(Oe,"userProfiles",r.uid);return await Ls(n,e,{merge:!0}),console.log("✅ Perfil de super admin configurado correctamente"),console.log("📧 Email:",r.email),console.log("🆔 UID:",r.uid),{success:!0,message:"Perfil de super admin configurado",uid:r.uid,email:r.email}}catch(e){return console.error("❌ Error configurando perfil:",e),{success:!1,error:e.message}}},dIe=async()=>{try{const{auth:e}=await ki(async()=>{const{auth:s}=await Promise.resolve().then(()=>AK);return{auth:s}},void 0),t=e.currentUser;if(!t)return{authenticated:!1};const{getDoc:r,doc:n}=await ki(async()=>{const{getDoc:s,doc:o}=await Promise.resolve().then(()=>iSe);return{getDoc:s,doc:o}},void 0),a=n(Oe,"userProfiles",t.uid),i=await r(a);return{authenticated:!0,uid:t.uid,email:t.email,hasProfile:i.exists(),profile:i.exists()?i.data():null}}catch(e){return{authenticated:!1,error:e.message}}};function _Y(){const[e,t]=T.useState(localStorage.getItem("showMetricsApp")==="true"),[r,n]=T.useState(!1),[a,i]=T.useState(null),{callData:s}=W0(),o=ho(y=>y.showInfo),l=()=>{localStorage.setItem("showMetricsApp","true"),t(!0),o("Vista de métricas habilitada. Por favor, recargue la página para ver los cambios.")},c=()=>{localStorage.setItem("showMetricsApp","false"),t(!1),o("Vista de métricas deshabilitada. Por favor, recargue la página para ver los cambios.")},u=async()=>{n(!0),i(null);try{const y=await lIe();i(y)}catch(y){i({success:!1,error:y.message})}finally{n(!1)}},f=async()=>{if(!s||s.length===0){i({success:!1,error:"No hay datos de Excel cargados. Primero sube un archivo desde Registro de Llamadas."});return}n(!0),i(null);try{const y=await cIe(s);i(y)}catch(y){i({success:!1,error:y.message})}finally{n(!1)}},h=async()=>{n(!0),i(null);try{const y=await uIe();i(y)}catch(y){i({success:!1,error:y.message})}finally{n(!1)}},m=async()=>{n(!0),i(null);try{const y=await dIe();i({success:y.authenticated,message:y.authenticated?`Usuario autenticado: ${y.email}${y.hasProfile?" (Perfil configurado)":" (Sin perfil)"}`:"Usuario no autenticado",details:y})}catch(y){i({success:!1,error:y.message})}finally{n(!1)}},p=[{name:"Procesamiento Automático de Excel",status:"ready",description:"Cloud Functions procesan archivos automáticamente"},{name:"Métricas en Tiempo Real",status:"ready",description:"Dashboards se actualizan automáticamente"},{name:"Dashboard Global",status:"ready",description:"KPIs generales y análisis de distribución"},{name:"Dashboard de Teleoperadoras",status:"ready",description:"Métricas individuales con filtros"},{name:"Dashboard de Beneficiarios",status:"ready",description:"Estados y gestión de beneficiarios"},{name:"Firebase Cloud Functions",status:"pending",description:"Requiere deployment: firebase deploy --only functions"}],g=y=>{switch(y){case"ready":return d.jsx($r,{className:"h-4 w-4 text-green-500"});case"pending":return d.jsx(vn,{className:"h-4 w-4 text-yellow-500"});default:return d.jsx(mC,{className:"h-4 w-4 text-blue-500"})}},v=y=>{switch(y){case"ready":return d.jsx(Ei,{variant:"success",children:"Listo"});case"pending":return d.jsx(Ei,{variant:"warning",children:"Pendiente"});default:return d.jsx(Ei,{variant:"secondary",children:"Info"})}};return d.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sistema de Métricas Automatizadas"}),d.jsx("p",{className:"text-gray-600",children:"Dashboard avanzado con Cloud Functions para análisis de llamadas"})]}),d.jsxs(Mt,{children:[d.jsx(Ft,{children:d.jsxs(Lt,{className:"flex items-center space-x-2",children:[d.jsx(vf,{className:"h-5 w-5"}),d.jsx("span",{children:"Estado Actual"})]})}),d.jsx($t,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Sistema de métricas:"}),d.jsx("p",{className:"font-medium",children:e?"✅ Habilitado":"❌ Deshabilitado"})]}),d.jsx("div",{className:"space-x-2",children:e?d.jsx("button",{onClick:c,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Volver al Sistema Original"}):d.jsxs("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[d.jsx(Ps,{className:"h-4 w-4"}),d.jsx("span",{children:"Habilitar Sistema de Métricas"})]})})]})})]}),d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Funcionalidades Implementadas"}),d.jsx(Fn,{children:"Estado de las características del nuevo sistema"})]}),d.jsx($t,{children:d.jsx("div",{className:"space-y-4",children:p.map((y,w)=>d.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[g(y.status),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:y.name}),d.jsx("p",{className:"text-sm text-gray-600",children:y.description})]})]}),v(y.status)]},w))})})]}),d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"🔧 Herramientas de Configuración"}),d.jsx(Fn,{children:"Inicializa la base de datos y procesa datos sin Cloud Functions"})]}),d.jsx($t,{children:d.jsxs("div",{className:"space-y-4",children:[a&&d.jsxs("div",{className:`p-4 rounded-lg border ${a.success?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[a.success?d.jsx($r,{className:"h-4 w-4"}):d.jsx(vn,{className:"h-4 w-4"}),a.success?"Éxito":"Error"]}),d.jsx("p",{className:"text-sm mt-1",children:a.message||a.error}),a.stats&&d.jsxs("div",{className:"text-xs mt-2 opacity-80",children:["Llamadas: ",a.stats.totalCalls," | Exitosas: ",a.stats.successfulCalls," | Operadoras: ",a.stats.operators," | Beneficiarios: ",a.stats.beneficiaries]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(qg,{className:"h-5 w-5 text-blue-600"}),d.jsx("h4",{className:"font-medium text-blue-800",children:"Paso 1: Inicializar BD"})]}),d.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Crea la estructura necesaria en Firestore"}),d.jsx("button",{onClick:u,disabled:r,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:bg-blue-300 transition-colors",children:r?"Inicializando...":"Inicializar Firestore"})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Xg,{className:"h-5 w-5 text-green-600"}),d.jsx("h4",{className:"font-medium text-green-800",children:"Paso 2: Procesar Excel"})]}),d.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Procesa datos cargados y calcula métricas"}),d.jsx("button",{onClick:f,disabled:r||!s||s.length===0,className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:bg-green-300 transition-colors",children:r?"Procesando...":"Procesar Datos Excel"}),(!s||s.length===0)&&d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'* Primero carga un Excel desde "Registro de Llamadas"'})]})]}),d.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(vf,{className:"h-5 w-5 text-purple-600"}),d.jsx("h4",{className:"font-medium text-purple-800",children:"Configuración de Permisos"})]}),d.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Configura perfil de administrador para resolver errores de permisos"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[d.jsx("button",{onClick:h,disabled:r,className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-300 transition-colors text-sm",children:r?"Configurando...":"Configurar Admin"}),d.jsx("button",{onClick:m,disabled:r,className:"bg-purple-500 text-white px-4 py-2 rounded-md hover:bg-purple-600 disabled:bg-purple-300 transition-colors text-sm",children:"Verificar Permisos"})]})]}),d.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(mC,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"text-sm text-yellow-800",children:[d.jsx("strong",{children:"Nota:"})," Estas herramientas simulan el comportamiento de Cloud Functions para que puedas probar el sistema completo sin necesidad del plan Blaze de Firebase."]})]})})]})})]}),d.jsxs(Mt,{children:[d.jsx(Ft,{children:d.jsxs(Lt,{className:"flex items-center space-x-2",children:[d.jsx(Ose,{className:"h-5 w-5"}),d.jsx("span",{children:"Cómo Usar el Sistema"})]})}),d.jsx($t,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-green-700",children:"1. Para Frontend (Ya listo)"}),d.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:["• Habilita el sistema con el botón de arriba",d.jsx("br",{}),'• Navega entre "Sistema Principal" y "Sistema de Métricas"',d.jsx("br",{}),"• Los dashboards funcionan con datos de ejemplo"]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-yellow-700",children:"2. Para Backend (Requiere deployment)"}),d.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:["• Ejecuta: ",d.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"firebase deploy --only functions"}),d.jsx("br",{}),"• Sube un archivo Excel a Firebase Storage",d.jsx("br",{}),"• Las métricas se calculan automáticamente"]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-blue-700",children:"3. Inicializar Firestore"}),d.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:["• Ejecuta: ",d.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"node src/scripts/initializeFirestore.js"}),d.jsx("br",{}),"• Esto configura la estructura de colecciones necesaria"]})]})]})})]}),d.jsxs(Mt,{children:[d.jsx(Ft,{children:d.jsx(Lt,{children:"Arquitectura del Sistema"})}),d.jsx($t,{children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Backend (Cloud Functions)"}),d.jsxs("ul",{className:"space-y-1 text-gray-600",children:[d.jsx("li",{children:"• Procesamiento automático de Excel"}),d.jsx("li",{children:"• Normalización de datos"}),d.jsx("li",{children:"• Cálculo de métricas"}),d.jsx("li",{children:"• Almacenamiento en Firestore"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Frontend (React + Zustand)"}),d.jsxs("ul",{className:"space-y-1 text-gray-600",children:[d.jsx("li",{children:"• Dashboards interactivos"}),d.jsx("li",{children:"• Tiempo real con onSnapshot"}),d.jsx("li",{children:"• Componentes shadcn/ui"}),d.jsx("li",{children:"• Gráficos con Recharts"})]})]})]})})]})]})}const EY=()=>{const{user:e}=cs(),{roles:t,getRoleById:r,getUserPermissions:n,hasPermission:a,isSuperAdmin:i,canAccessModule:s}=PK(),[o,l]=T.useState(null),[c,u]=T.useState(!1);T.useEffect(()=>{(async()=>{var ee,Q;if(!(e!=null&&e.email)){l(null);return}u(!0);try{if(console.log("🔍 Cargando perfil para usuario:",e.email),e.email==="roberto@mistatas.com")console.log("👑 Usuario identificado como Super Admin"),l({...e,role:"super_admin",isActive:!0});else if(((ee=e.email)==null?void 0:ee.toLowerCase())==="carolina@mistatas.com"||(Q=e.displayName)!=null&&Q.toLowerCase().includes("carolina reyes"))console.log("👑 Usuario identificado como Carolina Reyes (Admin)"),l({...e,role:"admin",isActive:!0});else{console.log("📡 Consultando Firestore para email:",e.email);let W=await Wl.getUserProfileByEmail(e.email);if(!W&&e.uid&&(console.log("🔍 Buscando por UID:",e.uid),W=await Wl.getUserProfile(e.uid)),!W){console.log("🔍 Buscando en usuarios pendientes...");try{const{smartUserCreationService:z}=await ki(async()=>{const{smartUserCreationService:ue}=await import("./smartUserCreationService-CYk9GvG-.js");return{smartUserCreationService:ue}},[]),ae=(await z.getPendingUsers()).find(ue=>{var F;return ue.email===((F=e.email)==null?void 0:F.toLowerCase())});ae&&(console.log("✅ Usuario encontrado en pendientes:",ae),W={role:ae.role,email:ae.email,displayName:ae.displayName,isActive:!0,isPending:!0})}catch(z){console.log("⚠️ Error buscando usuarios pendientes:",z)}}if(console.log("📄 Perfil obtenido de Firestore:",W),W){const z={...e,...W,role:W.role||"teleoperadora"};console.log("✅ Perfil final aplicado:",z),l(z)}else console.log("❌ No se encontró perfil en Firestore, usando rol por defecto"),l({...e,role:"teleoperadora",isActive:!0})}}catch(W){console.error("Error loading user profile:",W),l({...e,role:"teleoperadora",isActive:!0})}finally{u(!1)}})()},[e==null?void 0:e.email]);const f=T.useMemo(()=>o,[o]),h=T.useMemo(()=>f!=null&&f.role?r(f.role):null,[f==null?void 0:f.role,r]),m=T.useMemo(()=>f?n(f):[],[f,n]),p=T.useMemo(()=>i(f),[f,i]),g=M=>a(f,M),v=M=>s(f,M),y=v("dashboard"),w=v("calls"),b=v("assignments"),E=v("beneficiaries"),k=v("seguimientos"),C=v("seguimientos"),S=v("history"),_=v("audit"),A=v("reports"),P=p,N=p,I=T.useMemo(()=>{const M=[];return y&&M.push({id:"dashboard",label:"Panel Principal",icon:"BarChart3"}),w&&M.push({id:"calls",label:"Registro de Llamadas",icon:"Phone"}),b&&M.push({id:"assignments",label:"Asignaciones",icon:"Users"}),E&&M.push({id:"beneficiaries",label:"Beneficiarios Base",icon:"Database"}),k&&M.push({id:"seguimientos",label:"Seguimientos Periódicos",icon:"Activity"}),C&&M.push({id:"calendar",label:"Ver Calendario",icon:"Calendar"}),M.push({id:"gestiones",label:"Gestiones",icon:"Users"}),S&&M.push({id:"history",label:"Historial de Seguimientos",icon:"Clock"}),_&&M.push({id:"audit",label:"Auditoría Avanzada",icon:"BarChart3"}),P&&M.push({id:"metrics",label:"Métricas Avanzadas",icon:"PieChart"}),N&&M.push({id:"config",label:"Configuración",icon:"Settings"}),M},[y,w,b,E,k,S,_,P,N]),D=T.useMemo(()=>{var M,ee;return console.log("🔍 Determinando defaultTab:",{canViewSeguimientos:k,canViewDashboard:y,userRole:f==null?void 0:f.role,isSuper:p,visibleModulesCount:I.length,firstModule:(M=I[0])==null?void 0:M.id}),p||(f==null?void 0:f.role)==="admin"?"dashboard":k&&(f==null?void 0:f.role)==="teleoperadora"?"seguimientos":y?"dashboard":((ee=I[0])==null?void 0:ee.id)||"dashboard"},[k,y,f==null?void 0:f.role,p,I]);return{user:f,currentRole:h,permissions:m,profileLoading:c,isSuperAdmin:p,isAdmin:(f==null?void 0:f.role)==="admin"||p,isAuditor:(f==null?void 0:f.role)==="auditor",isTeleoperadora:(f==null?void 0:f.role)==="teleoperadora",checkPermission:g,checkModuleAccess:v,canViewDashboard:y,canViewCalls:w,canViewAssignments:b,canViewBeneficiaries:E,canViewSeguimientos:k,canViewCalendar:C,canViewHistory:S,canViewAudit:_,canViewReports:A,canViewMetrics:P,canViewConfig:N,visibleModules:I,defaultTab:D,hasAnyPermission:m.length>0,roleLevel:(h==null?void 0:h.level)||0,roleName:(h==null?void 0:h.name)||"Sin rol"}};class fIe{constructor(){this.listeners=new Set,this.cache=new Map,console.log("🔄 UserSyncService inicializado")}async getUserProfile(t){if(!t)return console.warn("⚠️ getUserProfile llamado sin UID"),null;try{if(this.cache.has(t)){const a=this.cache.get(t);if(Date.now()-a.timestamp<3e5)return console.log("📦 Usando perfil desde cache:",a.data.email),a.data}console.log("📥 Obteniendo perfil desde Firebase:",t);const r=st(Oe,"userProfiles",t),n=await hl(r);if(n.exists()){const a={uid:t,...n.data()};return this.cache.set(t,{data:a,timestamp:Date.now()}),console.log("✅ Perfil obtenido:",a.email),a}return console.warn("⚠️ No se encontró perfil para UID:",t),null}catch(r){return console.error("❌ Error obteniendo perfil:",r),null}}async getUserProfileByEmail(t){var r;if(!t)return console.warn("⚠️ getUserProfileByEmail llamado sin email"),null;try{console.log("🔍 Buscando perfil por email:",t);for(const[i,s]of this.cache.entries())if(((r=s.data.email)==null?void 0:r.toLowerCase())===t.toLowerCase()&&Date.now()-s.timestamp<3e5)return console.log("📦 Perfil encontrado en cache"),s.data;const n=Ct(pt(Oe,"userProfiles"),Et("email","==",t)),a=await Ht(n);if(!a.empty){const i=a.docs[0],s={uid:i.id,...i.data()};return this.cache.set(i.id,{data:s,timestamp:Date.now()}),console.log("✅ Perfil encontrado por email:",s.displayName),s}return console.warn("⚠️ No se encontró perfil para email:",t),null}catch(n){return console.error("❌ Error obteniendo perfil por email:",n),null}}async updateUserProfile(t,r){if(!t)throw new Error("UID requerido para actualizar perfil");try{console.log("🔄 Actualizando perfil:",t,r);const n=await this.getUserProfile(t),a=st(Oe,"userProfiles",t);await pn(a,{...r,updatedAt:new Date}),this.cache.delete(t),n!=null&&n.email&&r.email&&n.email!==r.email&&(console.log("📧 Email cambió de",n.email,"a",r.email),this.clearCacheByEmail(n.email));const i=await this.getUserProfile(t);return i&&this.notifyProfileUpdate(i,n),console.log("✅ Perfil actualizado y sincronizado"),i}catch(n){throw console.error("❌ Error actualizando perfil:",n),n}}notifyProfileUpdate(t,r=null){console.log("📢 Notificando actualización de perfil a toda la app:",t.email);const n=new CustomEvent("userProfileUpdated",{detail:{...t,oldEmail:(r==null?void 0:r.email)||null,oldDisplayName:(r==null?void 0:r.displayName)||null}});window.dispatchEvent(n),this.listeners.forEach(a=>{try{a(t)}catch(i){console.error("❌ Error en listener:",i)}})}addListener(t){return this.listeners.add(t),console.log("👂 Listener registrado. Total:",this.listeners.size),()=>{this.listeners.delete(t),console.log("👋 Listener eliminado. Total:",this.listeners.size)}}clearCache(){this.cache.clear(),console.log("🧹 Cache limpiado")}clearUserCache(t){this.cache.delete(t),console.log("🧹 Cache limpiado para usuario:",t)}clearCacheByEmail(t){var a;if(!t)return;const r=t.toLowerCase(),n=[];for(const[i,s]of this.cache.entries())((a=s.data.email)==null?void 0:a.toLowerCase())===r&&n.push(i);n.forEach(i=>this.cache.delete(i)),n.length>0&&console.log("🧹 Cache limpiado para email:",t,"(",n.length,"entradas)")}getCacheStats(){return{size:this.cache.size,listeners:this.listeners.size}}}const K0=new fIe,hIe=Object.freeze(Object.defineProperty({__proto__:null,default:K0,userSyncService:K0},Symbol.toStringTag,{value:"Module"})),mIe=e=>{const[t,r]=T.useState(null),[n,a]=T.useState(!0),[i,s]=T.useState(null),o=T.useCallback(async()=>{if(!e){a(!1),r(null);return}try{a(!0),s(null),console.log("🔄 useUserSync: Cargando perfil para UID:",e);const c=await K0.getUserProfile(e);r(c),c?console.log("✅ useUserSync: Perfil cargado:",c.email):console.warn("⚠️ useUserSync: No se encontró perfil para UID:",e)}catch(c){console.error("❌ useUserSync: Error cargando perfil:",c),s(c.message)}finally{a(!1)}},[e]);T.useEffect(()=>{if(!e){a(!1);return}let c=!0;o();const u=f=>{const h=f.detail;h&&h.uid===e&&c&&(console.log("🔄 useUserSync: Perfil actualizado globalmente:",h.email),r(h))};return window.addEventListener("userProfileUpdated",u),()=>{c=!1,window.removeEventListener("userProfileUpdated",u)}},[e,o]);const l=T.useCallback(()=>{K0.clearUserCache(e),o()},[e,o]);return{profile:t,isLoading:n,error:i,refresh:l}},f1=({title:e,value:t,icon:r,color:n="blue",subtitle:a,percentage:i=null,trend:s=null})=>{const o={blue:{bg:"bg-white",border:"border-gray-200",icon:"text-gray-600",text:"text-gray-900",accent:"text-gray-600",shadow:"shadow-sm hover:shadow-md"},green:{bg:"bg-white",border:"border-gray-200",icon:"text-teal-600",text:"text-gray-900",accent:"text-teal-600",shadow:"shadow-sm hover:shadow-md"},yellow:{bg:"bg-white",border:"border-gray-200",icon:"text-orange-500",text:"text-gray-900",accent:"text-orange-500",shadow:"shadow-sm hover:shadow-md"},red:{bg:"bg-white",border:"border-gray-200",icon:"text-red-500",text:"text-gray-900",accent:"text-red-500",shadow:"shadow-sm hover:shadow-md"}},l=o[n]||o.blue;return d.jsxs(ke.div,{className:`
        ${l.bg} ${l.border} ${l.shadow}
        border rounded-xl p-6 transition-all duration-200
        cursor-default
      `,whileHover:{scale:1.02},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:15},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"p-2 rounded-lg bg-gray-50",children:d.jsx(r,{className:`w-5 h-5 ${l.icon}`})}),s&&d.jsxs("div",{className:`text-xs font-medium ${s>0?"text-teal-600":s<0?"text-red-500":"text-gray-500"}`,children:[s>0?"↗":s<0?"↘":"→"," ",Math.abs(s),"%"]})]}),d.jsxs("div",{className:"mb-2",children:[d.jsx(ke.div,{className:`text-3xl font-bold ${l.text}`,initial:{scale:.5},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.1},children:typeof t=="number"?t.toLocaleString():t}),i!==null&&d.jsxs(ke.div,{className:`text-sm font-medium ${l.accent} mt-1`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[i,"% del total"]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:e}),a&&d.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:a})]}),i!==null&&i<=100&&d.jsx("div",{className:"mt-4",children:d.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:d.jsx(ke.div,{className:`h-2 rounded-full ${n==="green"?"bg-teal-500":n==="yellow"?"bg-orange-500":n==="red"?"bg-red-500":"bg-gray-400"}`,initial:{width:0},animate:{width:`${i}%`},transition:{duration:1,ease:"easeOut",delay:.3}})})})]})},pIe=({beneficiario:e,seguimientos:t=[],onSelect:r,onNewContact:n})=>{const[a,i]=T.useState(!1),s=()=>{const v=t.filter(k=>k.tipoResultado==="exitoso");if(v.length===0)return{estado:"urgente",ultimoContacto:null,diasSinContacto:null,mensaje:"Sin contactos exitosos"};const y=v.sort((k,C)=>new Date(C.fechaContacto)-new Date(k.fechaContacto))[0],w=Math.floor((new Date-new Date(y.fechaContacto))/(1e3*60*60*24));let b,E;return w<=15?(b="al-dia",E=`Último contacto hace ${w} día${w!==1?"s":""}`):w<=30?(b="pendiente",E=`${w} días sin contacto`):(b="urgente",E=`¡${w} días sin contacto!`),{estado:b,ultimoContacto:y.fechaContacto,diasSinContacto:w,mensaje:E}},{estado:o,ultimoContacto:l,diasSinContacto:c,mensaje:u}=s(),h={"al-dia":{bg:"bg-white",border:"border-gray-200",text:"text-gray-900",icon:$r,iconColor:"text-teal-600",badge:"bg-teal-50 text-teal-700 border border-teal-200",shadow:"shadow-sm hover:shadow-md"},pendiente:{bg:"bg-white",border:"border-gray-200",text:"text-gray-900",icon:xa,iconColor:"text-orange-500",badge:"bg-orange-50 text-orange-700 border border-orange-200",shadow:"shadow-sm hover:shadow-md"},urgente:{bg:"bg-white",border:"border-gray-200",text:"text-gray-900",icon:Ni,iconColor:"text-red-500",badge:"bg-red-50 text-red-700 border border-red-200",shadow:"shadow-sm hover:shadow-md"}}[o],m=h.icon,p=v=>{if(!v)return"N/A";try{return new Date(v).toLocaleDateString("es-CL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"America/Santiago"})}catch(y){return console.error("Error formateando fecha:",y),"Fecha inválida"}},g=v=>{if(!v)return"Sin teléfono";const y=v.replace(/\D/g,"");return y.length===9?`+56 ${y.substring(0,1)} ${y.substring(1,5)} ${y.substring(5)}`:v};return d.jsxs(ke.div,{className:`
        ${h.bg} 
        ${h.border} ${h.shadow}
        border rounded-xl overflow-hidden transition-all duration-200
        cursor-pointer
      `,onClick:r,whileHover:{scale:1.02},layout:!0,children:[d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight truncate",children:e.beneficiary||"Sin nombre"}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(m,{className:`w-4 h-4 ${h.iconColor}`}),d.jsx("span",{className:"text-xs font-medium text-gray-600",children:o==="al-dia"?"Al día":o==="pendiente"?"Pendiente":"Urgente"})]})]}),d.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.badge}`,children:[t.length," contacto",t.length!==1?"s":""]})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[d.jsx(Vr,{className:"w-4 h-4"}),d.jsx("span",{className:"truncate",children:g(e.primaryPhone)})]}),e.commune&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[d.jsx(o7,{className:"w-4 h-4"}),d.jsx("span",{className:"truncate",children:e.commune})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[d.jsx(jse,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs",children:u})]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-4",children:[d.jsxs("button",{onClick:v=>{v.stopPropagation(),i(!a)},className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:[a?d.jsx(a7,{className:"w-4 h-4"}):d.jsx(n7,{className:"w-4 h-4"}),"Historial"]}),d.jsxs(ke.button,{onClick:v=>{v.stopPropagation(),n()},className:"flex items-center gap-1 bg-slate-700 hover:bg-slate-800 text-white text-xs px-3 py-1.5 rounded-lg transition-colors shadow-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(W_,{className:"w-3 h-3"}),"Contacto"]})]})]}),d.jsx(as,{children:a&&d.jsx(ke.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"border-t border-gray-200 dark:border-gray-700",children:d.jsx("div",{className:"p-4 bg-white/50 dark:bg-gray-800/50",children:t.length===0?d.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm",children:[d.jsx(ly,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"Sin seguimientos registrados"]}):d.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[t.sort((v,y)=>new Date(y.fechaContacto)-new Date(v.fechaContacto)).slice(0,5).map((v,y)=>d.jsxs(ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.1},className:`p-3 rounded-lg border ${v.tipoResultado==="exitoso"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":v.tipoResultado==="fallido"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[v.tipoResultado==="exitoso"&&d.jsx($r,{className:"w-4 h-4 text-green-600"}),v.tipoResultado==="fallido"&&d.jsx(Ni,{className:"w-4 h-4 text-red-600"}),d.jsx("span",{className:"text-xs font-medium text-gray-900 dark:text-white",children:v.tipoContacto||"Contacto"})]}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:p(v.fechaContacto)})]}),v.observaciones&&d.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 mt-1",children:v.observaciones})]},v.id||y)),t.length>5&&d.jsx("div",{className:"text-center",children:d.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",t.length-5," seguimiento",t.length-5!==1?"s":""," más"]})})]})})})})]})},gIe=({beneficiario:e=null,beneficiarios:t=[],onSave:r,onClose:n})=>{const a=()=>{const _=new Date,A=new Date(_.toLocaleString("en-US",{timeZone:"America/Santiago"})),P=A.getFullYear(),N=String(A.getMonth()+1).padStart(2,"0"),I=String(A.getDate()).padStart(2,"0"),D=String(A.getHours()).padStart(2,"0"),M=String(A.getMinutes()).padStart(2,"0");return`${P}-${N}-${I}T${D}:${M}`},[i,s]=T.useState({beneficiarioId:(e==null?void 0:e.id)||"",beneficiario:(e==null?void 0:e.beneficiary)||"",telefono:(e==null?void 0:e.primaryPhone)||"",tipoContacto:"llamada",tipoResultado:"",observaciones:"",fechaContacto:a()}),[o,l]=T.useState({}),[c,u]=T.useState(!1),[f,h]=T.useState(!e),[m,p]=T.useState(""),g=T.useRef(null),v=T.useRef(null);T.useEffect(()=>{v.current&&v.current.focus()},[]),T.useEffect(()=>{const _=A=>{A.key==="Escape"&&n()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]);const y=[{value:"llamada",label:"Llamada Telefónica",icon:Vr},{value:"presencial",label:"Visita Presencial",icon:aa}],w=[{value:"exitoso",label:"Contacto Exitoso",icon:$r,color:"text-emerald-700"},{value:"no-respuesta",label:"No Responde",icon:gf,color:"text-amber-700"},{value:"ocupado",label:"Línea Ocupada",icon:xa,color:"text-slate-600"},{value:"mensaje",label:"Mensaje Dejado",icon:ly,color:"text-slate-700"},{value:"fallido",label:"Llamada Fallida",icon:gf,color:"text-rose-700"}],b=t.filter(_=>{var A,P,N;return((A=_.beneficiary)==null?void 0:A.toLowerCase().includes(m.toLowerCase()))||((P=_.primaryPhone)==null?void 0:P.includes(m))||((N=_.commune)==null?void 0:N.toLowerCase().includes(m.toLowerCase()))});T.useEffect(()=>{console.log("🔍 NewContactForm - Debug beneficiarios:",{totalBeneficiarios:t.length,searchTerm:m,beneficiariosFiltrados:b.length,primerosEjemplos:t.slice(0,3).map(_=>({beneficiary:_.beneficiary,primaryPhone:_.primaryPhone,commune:_.commune}))})},[t,m,b.length]);const E=(_,A)=>{s(P=>({...P,[_]:A})),o[_]&&l(P=>({...P,[_]:null}))},k=_=>{s(A=>({...A,beneficiarioId:_.id||"",beneficiario:_.beneficiary||"",telefono:_.primaryPhone||""})),h(!1),p("")},C=()=>{const _={};return i.beneficiario.trim()||(_.beneficiario="Debe seleccionar un beneficiario"),i.tipoContacto||(_.tipoContacto="Debe seleccionar el tipo de contacto"),i.tipoResultado||(_.tipoResultado="Debe seleccionar el resultado del contacto"),i.fechaContacto||(_.fechaContacto="Debe especificar la fecha y hora"),l(_),Object.keys(_).length===0},S=async _=>{if(_.preventDefault(),!!C()){u(!0);try{await r({...i,id:Date.now().toString(),createdAt:new Date().toISOString()})}catch(A){console.error("Error guardando contacto:",A),l({submit:"Error al guardar el contacto. Intenta nuevamente."})}finally{u(!1)}}};return d.jsx(ke.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:_=>{_.target===_.currentTarget&&n()},children:d.jsxs(ke.div,{ref:g,className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:_=>_.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Registrar Nuevo Contacto"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ingresa los detalles del seguimiento realizado"})]}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx(cc,{className:"w-5 h-5 text-gray-500"})})]}),d.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beneficiario *"}),f?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{ref:v,type:"text",placeholder:"Buscar beneficiario por nombre, teléfono o comuna...",value:m,onChange:_=>p(_.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white text-gray-900 shadow-sm transition-all duration-200"})]}),d.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:b.length===0?d.jsx("div",{className:"p-4 text-center text-gray-500",children:m?"No se encontraron beneficiarios":"Escribe para buscar beneficiarios"}):b.map((_,A)=>d.jsxs("button",{type:"button",onClick:()=>k(_),className:"w-full p-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[d.jsx("div",{className:"font-medium text-gray-900",children:_.beneficiary}),d.jsxs("div",{className:"text-sm text-gray-600",children:[_.primaryPhone," • ",_.commune]})]},_.id||A))})]}):d.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-gray-50",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:i.beneficiario}),d.jsx("div",{className:"text-sm text-gray-600",children:i.telefono})]}),d.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"Cambiar"})]}),o.beneficiario&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.beneficiario})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha y Hora del Contacto *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"datetime-local",value:i.fechaContacto,onChange:_=>E("fechaContacto",_.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white text-gray-900 shadow-sm transition-all duration-200"})]}),o.fechaContacto&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.fechaContacto})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Contacto *"}),d.jsx("div",{className:"flex gap-3",children:y.map(_=>{const A=_.icon;return d.jsx("button",{type:"button",onClick:()=>E("tipoContacto",_.value),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${i.tipoContacto===_.value?"border-teal-500 bg-teal-50 text-teal-700":"border-gray-200 hover:border-gray-300"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(A,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-medium",children:_.label})]})},_.value)})}),o.tipoContacto&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.tipoContacto})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resultado del Contacto *"}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:w.map(_=>{const A=_.icon;return d.jsx("button",{type:"button",onClick:()=>E("tipoResultado",_.value),className:`p-3 rounded-lg border-2 transition-colors text-left ${i.tipoResultado===_.value?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-gray-300"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(A,{className:`w-5 h-5 ${_.color}`}),d.jsx("span",{className:"font-medium text-gray-900",children:_.label})]})},_.value)})}),o.tipoResultado&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.tipoResultado})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones"}),d.jsx("textarea",{value:i.observaciones,onChange:_=>E("observaciones",_.target.value),placeholder:"Notas adicionales sobre el contacto...",rows:4,className:"w-full px-3 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white text-gray-900 resize-none shadow-sm transition-all duration-200"})]}),o.submit&&d.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-red-700 text-sm",children:o.submit})}),d.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[d.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:c,children:"Cancelar"}),d.jsx(ke.button,{type:"submit",disabled:c,className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-700 disabled:bg-teal-400 text-white px-6 py-2 rounded-lg transition-colors shadow-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:c?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(cy,{className:"w-4 h-4"}),"Guardar Contacto"]})})]})]})]})})},vIe=()=>{const{user:e}=cs(),{user:t,isAdmin:r}=EY(),{operators:n,getAllAssignments:a,getAssignmentsByEmail:i}=jn(),{callData:s}=W0(),{addSeguimiento:o,initializeSubscription:l,clearStore:c}=OK(),{profile:u}=mIe(e==null?void 0:e.uid),f=u||t,[h,m]=T.useState([]),[p,g]=T.useState([]),[v,y]=T.useState(!0),[w,b]=T.useState(null),[E,k]=T.useState(!1),[C,S]=T.useState(""),[_,A]=T.useState("todos"),P=r?"Administrador":(f==null?void 0:f.displayName)||(f==null?void 0:f.email)||(t==null?void 0:t.displayName)||(t==null?void 0:t.email),N=(f==null?void 0:f.email)||(t==null?void 0:t.email)||(e==null?void 0:e.email);console.log("👤 Perfil actual sincronizado:",{email:N,nombre:P,syncedProfile:!!u,isAdmin:r}),T.useEffect(()=>(t&&(console.log("📊 Usuario autenticado, cargando datos directamente desde Firebase..."),console.log("🔍 Rol detectado:",t.role,"Es admin:",r),l(t.uid||e.uid),I()),()=>{c()}),[(t==null?void 0:t.uid)||(e==null?void 0:e.uid),l,c,r]);const I=async()=>{var W,z,L;if(!t){console.log("❌ No hay usuario autenticado");return}y(!0);try{console.log("🔍 Cargando datos para:",e==null?void 0:e.email,"(rol:",t==null?void 0:t.role,")");const ae=await IK.getSeguimientos(t.uid);console.log("📋 Seguimientos Firebase:",ae.length);const{getFollowUpData:ue}=W0.getState(),F=a(),U=ue(F);console.log("📊 Seguimientos del Excel:",U.length);let K=[];if(r)K=a(),console.log("👑 Admin - Total:",K.length);else{console.log("👤 Consultando Firebase directamente para teleoperadora:",t==null?void 0:t.email);try{const{operatorService:ie,assignmentService:fe}=await ki(async()=>{const{operatorService:R,assignmentService:Be}=await Promise.resolve().then(()=>mT);return{operatorService:R,assignmentService:Be}},void 0);console.log("� Obteniendo operadores desde Firebase...");const re=await ie.getAll();console.log("✅ Operadores obtenidos desde Firebase:",re.length);const ce=(W=t==null?void 0:t.email)==null?void 0:W.toLowerCase().trim(),ye=re.find(R=>{var qe;const Be=(qe=R.email)==null?void 0:qe.toLowerCase().trim(),Re=Be===ce;return console.log(`🔍 Verificando operador ${R.name}:`,{opEmail:Be,userEmail:ce,exactMatch:Re}),Re});if(ye){console.log("✅ Operador encontrado en Firebase:",ye),console.log("📥 Obteniendo asignaciones desde Firebase...");const R=await fe.getAll();console.log("✅ Asignaciones obtenidas desde Firebase:",R.length);const Be=R.filter(Ue=>Ue.operatorId===ye.id);console.log(`🔍 DEBUGGING FILTRO - Buscando asignaciones para operatorId: ${ye.id}`),console.log("📋 Primeras 3 asignaciones de Firebase:",R.slice(0,3)),console.log("🔍 Estructura de primera asignación:",R[0]);const Re=[...new Set(R.map(Ue=>Ue.operatorId))];console.log("📊 Todos los operatorId en Firebase:",Re),console.log("🎯 Buscando operatorId:",ye.id),console.log("✅ ¿Existe el operatorId?",Re.includes(ye.id));let qe=Be;Be.length===0&&(console.log("⚠️ No se encontraron asignaciones por operatorId, intentando búsqueda por nombre..."),qe=R.filter(Ue=>{const Se=Ue.operator||Ue.operatorName||"",ht=ye.name||"",wr=Se.toLowerCase().includes(ht.toLowerCase())||ht.toLowerCase().includes(Se.toLowerCase());return wr&&console.log("✅ Coincidencia por nombre:",{assignmentOperator:Se,matchingOperator:ht}),wr}),console.log(`🔄 Asignaciones encontradas por nombre: ${qe.length}`)),console.log(`✅ Asignaciones finales para ${ye.name}:`,qe.length),K=qe.map(Ue=>({id:Ue.id,operator:ye.name,operatorName:ye.name,operatorEmail:ye.email,beneficiary:Ue.beneficiary,primaryPhone:Ue.primaryPhone||Ue.phone,commune:Ue.commune})),console.log(`🎯 RESULTADO FINAL: ${K.length} beneficiarios para dashboard de ${ye.name}`)}else console.warn("❌ No se encontró operador en Firebase para:",e==null?void 0:e.email),console.log("👥 Operadores disponibles en Firebase:",re.map(R=>({name:R.name,email:R.email,id:R.id})))}catch(ie){console.error("❌ Error consultando Firebase directamente:",ie),console.log("🔄 Fallback: intentando usar store...");const{operators:fe,operatorAssignments:re}=jn.getState();if(fe.length>0){console.log("📊 Store tiene operadores, usando fallback...");const ce=(z=e==null?void 0:e.email)==null?void 0:z.toLowerCase().trim(),ye=fe.find(R=>{var Be;return((Be=R.email)==null?void 0:Be.toLowerCase().trim())===ce});ye&&(K=(re[ye.id]||[]).map(Be=>({id:Be.id,operator:ye.name,operatorName:ye.name,operatorEmail:ye.email,beneficiary:Be.beneficiary,primaryPhone:Be.primaryPhone||Be.phone,commune:Be.commune})),console.log(`✅ Fallback exitoso: ${K.length} asignaciones`))}}}let Y=[...ae];if(!r){const ie=(L=t==null?void 0:t.email)==null?void 0:L.toLowerCase().trim(),fe=U.filter(ye=>{var Re,qe,Ue,Se,ht;const Be=((Re=ye.operatorEmail)==null?void 0:Re.toLowerCase().trim())===ie||((Ue=ye.operator)==null?void 0:Ue.toLowerCase().includes(((qe=t==null?void 0:t.displayName)==null?void 0:qe.toLowerCase())||""))||((Se=ye.operator)==null?void 0:Se.toLowerCase().includes("javiera"))||((ht=ye.operator)==null?void 0:ht.toLowerCase().includes("reyes"));return Be&&console.log("📞 Seguimiento del Excel para esta teleoperadora:",{beneficiario:ye.beneficiary,operador:ye.operator,ultimaLlamada:ye.lastCall}),Be});if(console.log(`🔗 Seguimientos Excel filtrados para ${t==null?void 0:t.email}:`,fe.length),fe.length>0){console.log("📊 Muestra de seguimientos del Excel:",fe.slice(0,3));const ye=fe.find(R=>{var Be,Re;return((Be=R.beneficiary)==null?void 0:Be.toLowerCase().includes("sergio"))&&((Re=R.beneficiary)==null?void 0:Re.toLowerCase().includes("román"))});ye&&console.log("🎯 SERGIO en datos Excel:",ye)}const re=fe.map((ye,R)=>{var Ue,Se,ht,wr,Kt,ln;const Be=((Ue=ye.lastCall)==null?void 0:Ue.toLowerCase().includes("exitoso"))||((Se=ye.lastCall)==null?void 0:Se.toLowerCase().includes("contactado"))||((ht=ye.lastCall)==null?void 0:ht.toLowerCase().includes("atendido"))||((wr=ye.lastCall)==null?void 0:wr.toLowerCase().includes("respondió"))||ye.status==="al-dia"||ye.callCount>0;let Re;if(ye.lastCallDate)Re=new Date(ye.lastCallDate).toISOString();else if(ye.fecha)Re=new Date(ye.fecha).toISOString();else{const Za=new Date;Za.setDate(Za.getDate()-(Be?1:31)),Re=Za.toISOString()}const qe={id:`excel_${ye.id||R}_${Math.random()}`,beneficiarioId:ye.beneficiary,beneficiario:ye.beneficiary,telefono:ye.phone||"Sin teléfono",tipoContacto:"llamada",tipoResultado:Be?"exitoso":"no-respuesta",observaciones:`Registro del Excel: ${ye.lastCall||ye.status||"Contacto registrado"}`,fechaContacto:Re,operadorEmail:t==null?void 0:t.email,operadorNombre:(t==null?void 0:t.displayName)||(t==null?void 0:t.email),source:"excel"};return(Kt=ye.beneficiary)!=null&&Kt.toLowerCase().includes("sergio")&&((ln=ye.beneficiary)!=null&&ln.toLowerCase().includes("román"))&&console.log("🎯 CONVERSIÓN SERGIO:",{original:ye,convertido:qe}),qe});Y=[...ae,...re],console.log(`📊 Total seguimientos combinados: ${Y.length} (Firebase: ${ae.length}, Excel: ${re.length})`);const ce=Y.filter(ye=>{var R,Be;return((R=ye.beneficiario)==null?void 0:R.toLowerCase().includes("sergio"))&&((Be=ye.beneficiario)==null?void 0:Be.toLowerCase().includes("román"))});ce.length>0&&console.log("🎯 SERGIO ROMÁN ROJAS encontrado en seguimientos:",ce)}m(K),g(Y),console.log("🔚 VERIFICACIÓN FINAL:"),console.log(`   Beneficiarios cargados: ${K.length}`),console.log(`   Seguimientos totales: ${Y.length}`);const te=K.find(ie=>{var fe,re;return((fe=ie.beneficiary)==null?void 0:fe.toLowerCase().includes("sergio"))&&((re=ie.beneficiary)==null?void 0:re.toLowerCase().includes("román"))});if(te){console.log("✅ Sergio encontrado en beneficiarios:",te);const ie=Y.filter(fe=>{var re,ce;return((re=fe.beneficiario)==null?void 0:re.toLowerCase().includes("sergio"))&&((ce=fe.beneficiario)==null?void 0:ce.toLowerCase().includes("román"))});console.log(`✅ Seguimientos de Sergio: ${ie.length}`,ie)}else console.log("❌ Sergio NO encontrado en beneficiarios")}catch(ae){console.error("Error cargando datos del dashboard:",ae)}finally{y(!1)}},D=async W=>{try{console.log("💾 Guardando nuevo seguimiento:",W);const z=ae=>{const[ue,F]=ae.split("T"),[U,K,Y]=ue.split("-"),[te,ie]=F.split(":"),fe=new Date;return fe.setFullYear(parseInt(U)),fe.setMonth(parseInt(K)-1),fe.setDate(parseInt(Y)),fe.setHours(parseInt(te)),fe.setMinutes(parseInt(ie)),fe.setSeconds(0),fe.setMilliseconds(0),fe};console.log("🕐 Fecha original:",W.fechaContacto),console.log("🇨🇱 Fecha convertida:",z(W.fechaContacto));const L={beneficiarioId:W.beneficiarioId,beneficiarioNombre:W.beneficiario,telefono:W.telefono,tipoContacto:W.tipoContacto,resultado:W.tipoResultado,observaciones:W.observaciones,fechaContacto:z(W.fechaContacto),operadorEmail:t==null?void 0:t.email,operadorNombre:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)};await o(L),console.log("✅ Seguimiento guardado exitosamente y sincronizado con calendario"),await I(),k(!1),b(null)}catch(z){throw console.error("❌ Error guardando seguimiento:",z),new Error("Error al guardar el contacto. Intenta nuevamente.")}},M=W=>{var K,Y;const z=p.filter(te=>te.beneficiarioId===W.id||te.beneficiario===W.beneficiary),L=((K=W.beneficiary)==null?void 0:K.toLowerCase().includes("sergio"))&&((Y=W.beneficiary)==null?void 0:Y.toLowerCase().includes("román"));if(L&&(console.log("🎯 DEBUG SERGIO ROMÁN ROJAS:"),console.log("   Beneficiario:",W.beneficiary),console.log("   ID:",W.id),console.log("   Seguimientos encontrados:",z.length),console.log("   Seguimientos:",z),console.log("   Total seguimientos disponibles:",p.length)),z.length===0)return L&&console.log("   ❌ Sin seguimientos - estado URGENTE"),{estado:"urgente",ultimoContacto:null,diasSinContacto:null};const ae=z.filter(te=>te.tipoResultado==="exitoso");if(L&&(console.log("   Contactos exitosos:",ae.length),ae.forEach(te=>console.log("     -",te.fechaContacto,te.tipoResultado))),ae.length===0)return L&&console.log("   ❌ Sin contactos exitosos - estado URGENTE"),{estado:"urgente",ultimoContacto:null,diasSinContacto:null};const ue=ae.sort((te,ie)=>new Date(ie.fechaContacto)-new Date(te.fechaContacto))[0],F=Math.floor((new Date-new Date(ue.fechaContacto))/(1e3*60*60*24));let U;return F<=15?U="al-dia":F<=30?U="pendiente":U="urgente",L&&(console.log("   ✅ Último contacto:",ue.fechaContacto),console.log("   📅 Días sin contacto:",F),console.log("   🏷️ Estado final:",U)),{estado:U,ultimoContacto:ue.fechaContacto,diasSinContacto:F,totalSeguimientos:z.length}},ee=T.useMemo(()=>{const W=h.map(ue=>({...ue,...M(ue)})),z=W.filter(ue=>ue.estado==="al-dia").length,L=W.filter(ue=>ue.estado==="pendiente").length,ae=W.filter(ue=>ue.estado==="urgente").length;return{total:h.length,alDia:z,pendientes:L,urgentes:ae,beneficiariosConEstado:W}},[h,p]),Q=T.useMemo(()=>{let W=ee.beneficiariosConEstado;return C&&(W=W.filter(z=>{var L,ae,ue;return((L=z.beneficiary)==null?void 0:L.toLowerCase().includes(C.toLowerCase()))||((ae=z.primaryPhone)==null?void 0:ae.includes(C))||((ue=z.commune)==null?void 0:ue.toLowerCase().includes(C.toLowerCase()))})),_!=="todos"&&(W=W.filter(z=>_==="al-dia"?z.estado==="al-dia":_==="pendientes"?z.estado==="pendiente":_==="urgentes"?z.estado==="urgente":!0)),W},[ee.beneficiariosConEstado,C,_]);return v?d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:d.jsxs(ke.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Cargando dashboard..."})]})}):d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center py-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(jP,{className:"w-8 h-8 text-teal-600"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Seguimientos Periódicos"})]}),d.jsxs("p",{className:"text-gray-600 mt-1",children:["Cartera de beneficiarios - ",N]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(ke.button,{onClick:async()=>{console.log("🔧 DEBUG COMPLETO - Estado actual:"),console.log("👤 Usuario autenticado:",{email:t==null?void 0:t.email,displayName:t==null?void 0:t.displayName,uid:t==null?void 0:t.uid});try{const{operatorService:L,assignmentService:ae}=await ki(async()=>{const{operatorService:K,assignmentService:Y}=await Promise.resolve().then(()=>mT);return{operatorService:K,assignmentService:Y}},void 0),ue=await L.getAll();console.log("� Operadores en Firebase:",ue.length,ue);const F=await ae.getAll();console.log("📊 Asignaciones en Firebase:",F.length);const U=ue.find(K=>{var Y,te;return((Y=K.email)==null?void 0:Y.toLowerCase().includes("javiera"))||((te=K.email)==null?void 0:te.toLowerCase())==="reyesalvaradojaviera@gmail.com"});if(U){console.log("✅ Javiera encontrada en Firebase:",U),console.log("🔍 ESTRUCTURA DE ASIGNACIONES - Analizando..."),console.log("📊 Total asignaciones en Firebase:",F.length);const K=[...new Set(F.map(fe=>fe.operatorId))];console.log("📋 OperatorIDs únicos en Firebase:",K),console.log("🎯 OperatorID de Javiera buscado:",U.id);const Y=F.filter(fe=>fe.operatorId===U.id);console.log(`📊 Asignaciones con operatorId ${U.id}:`,Y.length);const te=F.filter(fe=>{const re=fe.operator||fe.operatorName||"";return re.toLowerCase().includes("javiera")||re.toLowerCase().includes("reyes")});if(console.log('� Asignaciones con nombre "Javiera" o "Reyes":',te.length),console.log("🔍 ESTRUCTURA - Primeras 3 asignaciones:",F.slice(0,3)),F.length>0){const fe=F[0];console.log("🔍 CAMPOS DE ASIGNACIÓN DISPONIBLES:",Object.keys(fe)),console.log("🔍 ASIGNACIÓN COMPLETA EJEMPLO:",fe)}const ie=F.filter(fe=>{const re=fe.operatorId,ce=fe.operator||"",ye=fe.operatorName||"",R=fe.userId;return re===U.id||ce.toLowerCase().includes("javiera")||ce.toLowerCase().includes("reyes")||ye.toLowerCase().includes("javiera")||ye.toLowerCase().includes("reyes")||R===U.id});console.log("🎯 ASIGNACIONES POSIBLES DE JAVIERA (todos los métodos):",ie.length),ie.length>0&&console.log("✅ Primeras 3 asignaciones encontradas:",ie.slice(0,3))}else console.log("❌ Javiera NO encontrada en Firebase")}catch(L){console.error("❌ Error consultando Firebase:",L)}const{operators:W,operatorAssignments:z}=jn.getState();console.log("� Store - Operadores:",W.length),console.log("📦 Store - Asignaciones:",Object.keys(z).length),console.log("📋 Beneficiarios cargados en dashboard:",h.length),console.log("� Recargando dashboard..."),await I()},className:"flex items-center gap-2 bg-orange-600 hover:bg-orange-700 text-white px-3 py-2 rounded-lg transition-colors shadow-sm text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(Ni,{className:"w-4 h-4"}),"Debug"]}),d.jsxs(ke.button,{onClick:async()=>{console.log("🔄 RECARGA COMPLETA - Firebase + Dashboard..."),y(!0);try{const{loadOperators:W,loadAssignments:z}=jn.getState();await W(),await z(),await I()}catch(W){console.error("❌ Error en recarga completa:",W)}y(!1)},className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg transition-colors shadow-sm text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(HM,{className:"w-4 h-4"}),"Cargar Firebase"]}),d.jsxs(ke.button,{onClick:async()=>{console.log("🔍 DIAGNÓSTICO COMPLETO DE MATCHING - Analizando por qué no encuentra asignaciones para Javiera"),console.log("👤 USUARIO ACTUAL:",{email:t==null?void 0:t.email,displayName:t==null?void 0:t.displayName,uid:t==null?void 0:t.uid,fullUser:t}),console.log("� VERIFICANDO OPERADORES DIRECTAMENTE DESDE FIREBASE...");try{const{operatorService:F,assignmentService:U}=await ki(async()=>{const{operatorService:ie,assignmentService:fe}=await Promise.resolve().then(()=>mT);return{operatorService:ie,assignmentService:fe}},void 0),K=await F.getAll();console.log("� OPERADORES DESDE FIREBASE DIRECTO:",K.length,K);const Y=await U.getAll();console.log("� ASIGNACIONES DESDE FIREBASE DIRECTO:",Y.length);const te=K.find(ie=>{var fe,re,ce;return((fe=ie.email)==null?void 0:fe.toLowerCase().includes("javiera"))||((re=ie.name)==null?void 0:re.toLowerCase().includes("javiera"))||((ce=ie.email)==null?void 0:ce.toLowerCase())==="reyesalvaradojaviera@gmail.com"});if(te){console.log("✅ JAVIERA ENCONTRADA EN FIREBASE:",te);const ie=Y.filter(fe=>fe.operatorId===te.id);console.log(`✅ ASIGNACIONES DE JAVIERA: ${ie.length}`,ie.slice(0,3))}else console.warn("❌ JAVIERA NO ENCONTRADA EN FIREBASE"),console.log("� OPERADORES DISPONIBLES EN FIREBASE:",K.map(ie=>({id:ie.id,name:ie.name,email:ie.email})))}catch(F){console.error("❌ Error accediendo Firebase directo:",F)}const{operators:W,operatorAssignments:z}=jn.getState();console.log("📦 OPERADORES EN STORE:",W.length,W),console.log("📦 ASIGNACIONES EN STORE:",Object.keys(z).length,z),console.log("🔄 FORZANDO RECARGA DEL STORE...");const{loadOperators:L,loadAssignments:ae}=jn.getState();await L(),await ae();const{operators:ue}=jn.getState();console.log("📦 OPERADORES DESPUÉS DE RECARGA:",ue.length,ue),ue.length>0&&(console.log("✅ OPERADORES CARGADOS, RECARGANDO DASHBOARD..."),setTimeout(()=>{I()},500))},className:"flex items-center gap-2 bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-lg transition-colors shadow-sm text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(oi,{className:"w-4 h-4"}),"Diagnóstico"]}),d.jsxs(ke.button,{onClick:()=>k(!0),className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg transition-colors shadow-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(W_,{className:"w-4 h-4"}),"Nuevo Contacto"]})]})]})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx(f1,{title:"Total Beneficiarios",value:ee.total,subtitle:"Mis beneficiarios asignados",icon:hn,color:"blue"}),d.jsx(f1,{title:"Al Día",value:ee.alDia,subtitle:"Contacto últimos 15 días",percentage:ee.total>0?Math.round(ee.alDia/ee.total*100):0,icon:$r,color:"green"}),d.jsx(f1,{title:"Pendientes",value:ee.pendientes,subtitle:"16-30 días sin contacto",percentage:ee.total>0?Math.round(ee.pendientes/ee.total*100):0,icon:xa,color:"yellow"}),d.jsx(f1,{title:"Urgentes",value:ee.urgentes,subtitle:"+30 días sin contacto",percentage:ee.total>0?Math.round(ee.urgentes/ee.total*100):0,icon:Ni,color:"red"})]}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[d.jsx("div",{className:"flex-1 max-w-md",children:d.jsxs("div",{className:"relative",children:[d.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar beneficiario, teléfono o comuna...",value:C,onChange:W=>S(W.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})}),d.jsx("div",{className:"flex gap-2",children:[{key:"todos",label:"Todos",color:"teal"},{key:"al-dia",label:"Al Día",color:"green"},{key:"pendientes",label:"Pendientes",color:"yellow"},{key:"urgentes",label:"Urgentes",color:"red"}].map(W=>d.jsx(ke.button,{onClick:()=>A(W.key),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${_===W.key?`bg-${W.color}-100 text-${W.color}-800 border border-${W.color}-300`:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:W.label},W.key))})]})}),h.length===0?d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[d.jsx(Ni,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"🔍 No se encontraron asignaciones para tu usuario"}),d.jsxs("div",{className:"text-yellow-700 space-y-1",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Usuario:"})," ",t==null?void 0:t.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Nombre mostrado:"})," ",(t==null?void 0:t.displayName)||"No definido"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Nombre de operadora buscado:"})," ",t==null?void 0:t.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Total de asignaciones en sistema:"})," ",a().length]})]}),d.jsxs("details",{className:"mt-4 text-left",children:[d.jsx("summary",{className:"cursor-pointer text-yellow-800 font-medium",children:"🔍 Ver operadoras disponibles"}),d.jsx("div",{className:"mt-2 text-sm space-y-1",children:n.map(W=>{var z;return d.jsxs("div",{className:"bg-yellow-100 p-2 rounded border",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Nombre:"})," ",W.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Email:"})," ",W.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Asignaciones:"})," ",((z=jn.getState().operatorAssignments[W.id])==null?void 0:z.length)||0]})]},W.id)})})]}),d.jsxs(ke.button,{onClick:async()=>{console.log("🔄 Recarga simple de datos..."),await I()},className:"mt-4 flex items-center gap-2 bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg mx-auto transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(HM,{className:"w-4 h-4"}),"Recargar asignaciones"]})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.jsx(as,{children:Q.map(W=>{const z=p.filter(L=>L.beneficiarioId===W.id||L.beneficiario===W.beneficiary);return d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:d.jsx(pIe,{beneficiario:W,seguimientos:z,onNewContact:()=>{b(W),k(!0)}})},W.id)})})}),h.length>0&&d.jsxs("div",{className:"mt-8 text-center text-gray-500 text-sm",children:["Mostrando ",Q.length," de ",h.length," beneficiarios"]})]}),d.jsx(as,{children:E&&d.jsx(gIe,{beneficiario:w,beneficiarios:h,onClose:()=>{k(!1),b(null)},onSave:D})})]})};function yc(e){"@babel/helpers - typeof";return yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yc(e)}function yIe(e,t){if(yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SY(e){var t=yIe(e,"string");return yc(t)=="symbol"?t:t+""}function Fd(e,t,r){return(t=SY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g5(Object(r),!0).forEach(function(n){Fd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LE(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pl(e,t){if(e==null)return{};var r,n,a=LE(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SY(n.key),n)}}function zn(e,t,r){return t&&v5(e.prototype,t),r&&v5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kb(e)}function TY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TY=function(){return!!e})()}function xIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wIe(e,t){if(t&&(yc(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xIe(e)}function Xa(e,t,r){return t=kb(t),wIe(e,TY()?Reflect.construct(t,r||[],kb(e).constructor):t.apply(e,r))}function Nb(e,t){return Nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Nb(e,t)}function Qa(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nb(e,t)}function AY(e){if(Array.isArray(e))return e}function bIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function kk(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function oD(e,t){if(e){if(typeof e=="string")return kk(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?kk(e,t):void 0}}function CY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rf(e,t){return AY(e)||bIe(e,t)||oD(e,t)||CY()}function kY(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=kY(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function nn(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=kY(e))&&(n&&(n+=" "),n+=t);return n}function tn(){return tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tn.apply(null,arguments)}var _Ie=function(e,t,r,n,a,i,s,o){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,a,i,s,o],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},EIe=_Ie;const Nv=on(EIe);var SIe=function(){};function TIe(e,t){var r={};return Object.keys(e).forEach(function(n){r[sw(n)]=SIe}),r}function y5(e,t){return e[t]!==void 0}function sw(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function AIe(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function CIe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Nb(e,t)}function NY(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function PY(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function IY(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}NY.__suppressDeprecationWarning=!0;PY.__suppressDeprecationWarning=!0;IY.__suppressDeprecationWarning=!0;function kIe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var i=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+s+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=NY,t.componentWillReceiveProps=PY),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=IY;var o=t.componentDidUpdate;t.componentDidUpdate=function(c,u,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;o.call(this,c,u,h)}}return e}var NIe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function OY(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=AIe(e),i=Object.keys(t),s=i.map(sw);a||!r.length||Nv(!1);var o=function(c){CIe(u,c);function u(){for(var h,m=arguments.length,p=new Array(m),g=0;g<m;g++)p[g]=arguments[g];h=c.call.apply(c,[this].concat(p))||this,h.handlers=Object.create(null),i.forEach(function(y){var w=t[y],b=function(k){if(h.props[w]){var C;h._notifying=!0;for(var S=arguments.length,_=new Array(S>1?S-1:0),A=1;A<S;A++)_[A-1]=arguments[A];(C=h.props)[w].apply(C,[k].concat(_)),h._notifying=!1}h.unmounted||h.setState(function(P){var N,I=P.values;return{values:tn(Object.create(null),I,(N={},N[y]=k,N))}})};h.handlers[w]=b}),r.length&&(h.attachRef=function(y){h.inner=y});var v=Object.create(null);return i.forEach(function(y){v[y]=h.props[sw(y)]}),h.state={values:v,prevProps:{}},h}var f=u.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(m,p){var g=p.values,v=p.prevProps,y={values:tn(Object.create(null),g),prevProps:{}};return i.forEach(function(w){y.prevProps[w]=m[w],!y5(m,w)&&y5(v,w)&&(y.values[w]=m[sw(w)])}),y},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var m=this,p=this.props,g=p.innerRef,v=LE(p,["innerRef"]);s.forEach(function(w){delete v[w]});var y={};return i.forEach(function(w){var b=m.props[w];y[w]=b!==void 0?b:m.state.values[w]}),ne.createElement(e,tn({},v,y,this.handlers,{ref:g||this.attachRef}))},u}(ne.Component);kIe(o),o.displayName="Uncontrolled("+n+")",o.propTypes=tn({innerRef:function(){}},TIe(t)),r.forEach(function(c){o.prototype[c]=function(){var f;return(f=this.inner)[c].apply(f,arguments)}});var l=o;return ne.forwardRef&&(l=ne.forwardRef(function(c,u){return ne.createElement(o,tn({},c,{innerRef:u,__source:{fileName:NIe,lineNumber:128},__self:this}))}),l.propTypes=o.propTypes),l.ControlledComponent=e,l.deferControlTo=function(c,u,f){return u===void 0&&(u={}),OY(c,tn({},t,u),f)},l}var DY={exports:{}},PIe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",IIe=PIe,OIe=IIe;function jY(){}function RY(){}RY.resetWarningCache=jY;var DIe=function(){function e(n,a,i,s,o,l){if(l!==OIe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:RY,resetWarningCache:jY};return r.PropTypes=r,r};DY.exports=DIe();var jIe=DY.exports;const je=on(jIe);var Pb="milliseconds",Pv="seconds",Iv="minutes",Ov="hours",Mf="day",q0="week",Dv="month",Ff="year",Lf="decade",$f="century",MY={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},RIe={month:1,year:12,decade:10*12,century:100*12};function MIe(e){return[31,FIe(e),31,30,31,30,31,31,30,31,30,31]}function FIe(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Do(e,t,r){switch(e=new Date(e),r){case Pb:case Pv:case Iv:case Ov:case Mf:case q0:return LIe(e,t*MY[r]);case Dv:case Ff:case Lf:case $f:return $Ie(e,t*RIe[r])}throw new TypeError('Invalid units: "'+r+'"')}function LIe(e,t){var r=new Date(+e+t);return BIe(e,r)}function $Ie(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i=r*12+n+t,s=Math.trunc(i/12),o=i%12,l=Math.min(a,MIe(s)[o]),c=new Date(e);return c.setFullYear(s),c.setDate(1),c.setMonth(o),c.setDate(l),c}function BIe(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*MY.minutes)}function jv(e,t,r){return Do(e,-t,r)}function _a(e,t,r){switch(e=new Date(e),t){case $f:case Lf:case Ff:e=Ob(e,0);case Dv:e=UY(e,1);case q0:case Mf:e=Fv(e,0);case Ov:e=Y0(e,0);case Iv:e=Mv(e,0);case Pv:e=Rv(e,0)}return t===Lf&&(e=jv(e,Bf(e)%10,"year")),t===$f&&(e=jv(e,Bf(e)%100,"year")),t===q0&&(e=VY(e,0,r)),e}function Ib(e,t,r){switch(e=new Date(e),e=_a(e,t,r),t){case $f:case Lf:case Ff:case Dv:case q0:e=Do(e,1,t),e=jv(e,1,Mf),e.setHours(23,59,59,999);break;case Mf:e.setHours(23,59,59,999);break;case Ov:case Iv:case Pv:e=Do(e,1,t),e=jv(e,1,Pb)}return e}var Om=jm(function(e,t){return e===t}),lD=jm(function(e,t){return e!==t}),$E=jm(function(e,t){return e>t}),My=jm(function(e,t){return e>=t}),cD=jm(function(e,t){return e<t}),Dm=jm(function(e,t){return e<=t});function FY(){return new Date(Math.min.apply(Math,arguments))}function LY(){return new Date(Math.max.apply(Math,arguments))}function $Y(e,t,r,n){return n=n||"day",(!t||My(e,t,n))&&(!r||Dm(e,r,n))}var Rv=ud("Milliseconds"),Mv=ud("Seconds"),Y0=ud("Minutes"),Fv=ud("Hours"),BY=ud("Day"),UY=ud("Date"),Ob=ud("Month"),Bf=ud("FullYear");function UIe(e,t){return t===void 0?Bf(_a(e,Lf)):Do(e,t+10,Ff)}function VIe(e,t){return t===void 0?Bf(_a(e,$f)):Do(e,t+100,Ff)}function VY(e,t,r){var n=(BY(e)+7-(r||0))%7;return t===void 0?n:Do(e,t-n,Mf)}function zIe(e,t,r,n){var a,i,s;switch(r){case Pb:case Pv:case Iv:case Ov:case Mf:case q0:a=t.getTime()-e.getTime();break;case Dv:case Ff:case Lf:case $f:a=(Bf(t)-Bf(e))*12+Ob(t)-Ob(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case Pb:i=1;break;case Pv:i=1e3;break;case Iv:i=1e3*60;break;case Ov:i=1e3*60*60;break;case Mf:i=1e3*60*60*24;break;case q0:i=1e3*60*60*24*7;break;case Dv:i=1;break;case Ff:i=12;break;case Lf:i=120;break;case $f:i=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return s=a/i,n?s:Math.round(s)}function ud(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function jm(e){return function(t,r,n){return e(+_a(t,n),+_a(r,n))}}const x5=Object.freeze(Object.defineProperty({__proto__:null,add:Do,century:VIe,date:UY,day:BY,decade:UIe,diff:zIe,endOf:Ib,eq:Om,gt:$E,gte:My,hours:Fv,inRange:$Y,lt:cD,lte:Dm,max:LY,milliseconds:Rv,min:FY,minutes:Y0,month:Ob,neq:lD,seconds:Mv,startOf:_a,subtract:jv,weekday:VY,year:Bf},Symbol.toStringTag,{value:"Module"}));function WIe(e){if(Array.isArray(e))return kk(e)}function zY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ow(e){return WIe(e)||zY(e)||oD(e)||HIe()}function GIe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var WY=GIe;function KIe(e,t){return e===t||e!==e&&t!==t}var Fy=KIe,qIe=typeof Ds=="object"&&Ds&&Ds.Object===Object&&Ds,HY=qIe,YIe=HY,XIe=typeof self=="object"&&self&&self.Object===Object&&self,QIe=YIe||XIe||Function("return this")(),Sl=QIe,JIe=Sl,ZIe=JIe.Symbol,Rm=ZIe,w5=Rm,GY=Object.prototype,eOe=GY.hasOwnProperty,tOe=GY.toString,_p=w5?w5.toStringTag:void 0;function rOe(e){var t=eOe.call(e,_p),r=e[_p];try{e[_p]=void 0;var n=!0}catch{}var a=tOe.call(e);return n&&(t?e[_p]=r:delete e[_p]),a}var nOe=rOe,aOe=Object.prototype,iOe=aOe.toString;function sOe(e){return iOe.call(e)}var oOe=sOe,b5=Rm,lOe=nOe,cOe=oOe,uOe="[object Null]",dOe="[object Undefined]",_5=b5?b5.toStringTag:void 0;function fOe(e){return e==null?e===void 0?dOe:uOe:_5&&_5 in Object(e)?lOe(e):cOe(e)}var Mm=fOe;function hOe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Nc=hOe,mOe=Mm,pOe=Nc,gOe="[object AsyncFunction]",vOe="[object Function]",yOe="[object GeneratorFunction]",xOe="[object Proxy]";function wOe(e){if(!pOe(e))return!1;var t=mOe(e);return t==vOe||t==yOe||t==gOe||t==xOe}var uD=wOe,bOe=9007199254740991;function _Oe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=bOe}var dD=_Oe,EOe=uD,SOe=dD;function TOe(e){return e!=null&&SOe(e.length)&&!EOe(e)}var Ly=TOe,AOe=9007199254740991,COe=/^(?:0|[1-9]\d*)$/;function kOe(e,t){var r=typeof e;return t=t??AOe,!!t&&(r=="number"||r!="symbol"&&COe.test(e))&&e>-1&&e%1==0&&e<t}var fD=kOe,NOe=Fy,POe=Ly,IOe=fD,OOe=Nc;function DOe(e,t,r){if(!OOe(r))return!1;var n=typeof t;return(n=="number"?POe(r)&&IOe(t,r.length):n=="string"&&t in r)?NOe(r[t],e):!1}var BE=DOe,jOe=/\s/;function ROe(e){for(var t=e.length;t--&&jOe.test(e.charAt(t)););return t}var MOe=ROe,FOe=MOe,LOe=/^\s+/;function $Oe(e){return e&&e.slice(0,FOe(e)+1).replace(LOe,"")}var BOe=$Oe;function UOe(e){return e!=null&&typeof e=="object"}var dd=UOe,VOe=Mm,zOe=dd,WOe="[object Symbol]";function HOe(e){return typeof e=="symbol"||zOe(e)&&VOe(e)==WOe}var $y=HOe,GOe=BOe,E5=Nc,KOe=$y,S5=NaN,qOe=/^[-+]0x[0-9a-f]+$/i,YOe=/^0b[01]+$/i,XOe=/^0o[0-7]+$/i,QOe=parseInt;function JOe(e){if(typeof e=="number")return e;if(KOe(e))return S5;if(E5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=E5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=GOe(e);var r=YOe.test(e);return r||XOe.test(e)?QOe(e.slice(2),r?2:8):qOe.test(e)?S5:+e}var ZOe=JOe,eDe=ZOe,T5=1/0,tDe=17976931348623157e292;function rDe(e){if(!e)return e===0?e:0;if(e=eDe(e),e===T5||e===-T5){var t=e<0?-1:1;return t*tDe}return e===e?e:0}var KY=rDe,nDe=KY;function aDe(e){var t=nDe(e),r=t%1;return t===t?r?t-r:t:0}var qY=aDe,iDe=WY,sDe=BE,oDe=qY,lDe=Math.ceil,cDe=Math.max;function uDe(e,t,r){(r?sDe(e,t,r):t===void 0)?t=1:t=cDe(oDe(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,i=0,s=Array(lDe(n/t));a<n;)s[i++]=iDe(e,a,a+=t);return s}var dDe=uDe;const fDe=on(dDe);function By(e){return e&&e.ownerDocument||document}function hDe(e){var t=By(e);return t&&t.defaultView||window}function mDe(e,t){return hDe(e).getComputedStyle(e,t)}var pDe=/([A-Z])/g;function gDe(e){return e.replace(pDe,"-$1").toLowerCase()}var vDe=/^ms-/;function h1(e){return gDe(e).replace(vDe,"-ms-")}var yDe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function xDe(e){return!!(e&&yDe.test(e))}function Fh(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(h1(t))||mDe(e).getPropertyValue(h1(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(h1(a)):xDe(a)?n+=a+"("+i+") ":r+=h1(a)+": "+i+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function Lv(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function wDe(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function hD(e){return"window"in e&&e.window===e?e:wDe(e)&&e.defaultView||!1}function YY(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var i=hD(n);if(a===void 0)return i?i[e]:n[t];i?i.scrollTo(i[e],a):n[t]=a}return r}const XY=YY("pageXOffset"),QY=YY("pageYOffset");function af(e){var t=By(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!Lv(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+QY(n)-(n.clientTop||0),left:r.left+XY(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var bDe=function(t){return!!t&&"offsetParent"in t};function _De(e){for(var t=By(e),r=e&&e.offsetParent;bDe(r)&&r.nodeName!=="HTML"&&Fh(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var EDe=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function JY(e,t){var r={top:0,left:0},n;if(Fh(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||_De(e);n=af(e),EDe(a)!=="html"&&(r=af(a));var i=String(Fh(a,"borderTopWidth")||0);r.top+=parseInt(i,10)-QY(a)||0;var s=String(Fh(a,"borderLeftWidth")||0);r.left+=parseInt(s,10)-XY(a)||0}var o=String(Fh(e,"marginTop")||0),l=String(Fh(e,"marginLeft")||0);return tn({},n,{top:n.top-r.top-(parseInt(o,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const mD=!!(typeof window<"u"&&window.document&&window.document.createElement);var A5=new Date().getTime();function SDe(e){var t=new Date().getTime(),r=Math.max(0,16-(t-A5)),n=setTimeout(e,r);return A5=t,n}var TDe=["","webkit","moz","o","ms"],Nk="clearTimeout",Pk=SDe,C5=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};mD&&TDe.some(function(e){var t=C5(e,"request");return t in window&&(Nk=C5(e,"cancel"),Pk=function(n){return window[t](n)}),!!Pk});var k5=function(t){typeof window[Nk]=="function"&&window[Nk](t)},ZY=Pk,MT;function ADe(e,t){if(!MT){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;MT=function(i,s){return n.call(i,s)}}return MT(e,t)}var CDe=Function.prototype.bind.call(Function.prototype.call,[].slice);function kDe(e,t){return CDe(e.querySelectorAll(t))}var Ik=!1,Ok=!1;try{var FT={get passive(){return Ik=!0},get once(){return Ok=Ik=!0}};mD&&(window.addEventListener("test",FT,FT),window.removeEventListener("test",FT,!0))}catch{}function NDe(e,t,r,n){if(n&&typeof n!="boolean"&&!Ok){var a=n.once,i=n.capture,s=r;!Ok&&a&&(s=r.__once||function o(l){this.removeEventListener(t,o,i),r.call(this,l)},r.__once=s),e.addEventListener(t,s,Ik?n:i)}e.addEventListener(t,r,n)}function PDe(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e},[e]),t}function N5(e){const t=PDe(e);return T.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function P5(){return T.useState(null)}function IDe(){const e=T.useRef(!0),t=T.useRef(()=>e.current);return T.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function ODe(e){const t=IDe();return[e[0],T.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Di="top",Ws="bottom",Hs="right",ji="left",pD="auto",Uy=[Di,Ws,Hs,ji],X0="start",$v="end",DDe="clippingParents",eX="viewport",Ep="popper",jDe="reference",I5=Uy.reduce(function(e,t){return e.concat([t+"-"+X0,t+"-"+$v])},[]),gD=[].concat(Uy,[pD]).reduce(function(e,t){return e.concat([t,t+"-"+X0,t+"-"+$v])},[]),RDe="beforeRead",MDe="read",FDe="afterRead",LDe="beforeMain",$De="main",BDe="afterMain",UDe="beforeWrite",VDe="write",zDe="afterWrite",WDe=[RDe,MDe,FDe,LDe,$De,BDe,UDe,VDe,zDe];function cl(e){return e.split("-")[0]}function is(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Uf(e){var t=is(e).Element;return e instanceof t||e instanceof Element}function ul(e){var t=is(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function vD(e){if(typeof ShadowRoot>"u")return!1;var t=is(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var sf=Math.max,Db=Math.min,Q0=Math.round;function Dk(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function tX(){return!/^((?!chrome|android).)*safari/i.test(Dk())}function J0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,i=1;t&&ul(e)&&(a=e.offsetWidth>0&&Q0(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Q0(n.height)/e.offsetHeight||1);var s=Uf(e)?is(e):window,o=s.visualViewport,l=!tX()&&r,c=(n.left+(l&&o?o.offsetLeft:0))/a,u=(n.top+(l&&o?o.offsetTop:0))/i,f=n.width/a,h=n.height/i;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function yD(e){var t=J0(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function rX(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&vD(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Hu(e){return e?(e.nodeName||"").toLowerCase():null}function xc(e){return is(e).getComputedStyle(e)}function HDe(e){return["table","td","th"].indexOf(Hu(e))>=0}function fd(e){return((Uf(e)?e.ownerDocument:e.document)||window.document).documentElement}function UE(e){return Hu(e)==="html"?e:e.assignedSlot||e.parentNode||(vD(e)?e.host:null)||fd(e)}function O5(e){return!ul(e)||xc(e).position==="fixed"?null:e.offsetParent}function GDe(e){var t=/firefox/i.test(Dk()),r=/Trident/i.test(Dk());if(r&&ul(e)){var n=xc(e);if(n.position==="fixed")return null}var a=UE(e);for(vD(a)&&(a=a.host);ul(a)&&["html","body"].indexOf(Hu(a))<0;){var i=xc(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Vy(e){for(var t=is(e),r=O5(e);r&&HDe(r)&&xc(r).position==="static";)r=O5(r);return r&&(Hu(r)==="html"||Hu(r)==="body"&&xc(r).position==="static")?t:r||GDe(e)||t}function xD(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Cg(e,t,r){return sf(e,Db(t,r))}function KDe(e,t,r){var n=Cg(e,t,r);return n>r?r:n}function nX(){return{top:0,right:0,bottom:0,left:0}}function aX(e){return Object.assign({},nX(),e)}function iX(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var qDe=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,aX(typeof t!="number"?t:iX(t,Uy))};function YDe(e){var t,r=e.state,n=e.name,a=e.options,i=r.elements.arrow,s=r.modifiersData.popperOffsets,o=cl(r.placement),l=xD(o),c=[ji,Hs].indexOf(o)>=0,u=c?"height":"width";if(!(!i||!s)){var f=qDe(a.padding,r),h=yD(i),m=l==="y"?Di:ji,p=l==="y"?Ws:Hs,g=r.rects.reference[u]+r.rects.reference[l]-s[l]-r.rects.popper[u],v=s[l]-r.rects.reference[l],y=Vy(i),w=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,b=g/2-v/2,E=f[m],k=w-h[u]-f[p],C=w/2-h[u]/2+b,S=Cg(E,C,k),_=l;r.modifiersData[n]=(t={},t[_]=S,t.centerOffset=S-C,t)}}function XDe(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||rX(t.elements.popper,a)&&(t.elements.arrow=a))}const QDe={name:"arrow",enabled:!0,phase:"main",fn:YDe,effect:XDe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Z0(e){return e.split("-")[1]}var JDe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ZDe(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:Q0(r*a)/a||0,y:Q0(n*a)/a||0}}function D5(e){var t,r=e.popper,n=e.popperRect,a=e.placement,i=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,h=s.x,m=h===void 0?0:h,p=s.y,g=p===void 0?0:p,v=typeof u=="function"?u({x:m,y:g}):{x:m,y:g};m=v.x,g=v.y;var y=s.hasOwnProperty("x"),w=s.hasOwnProperty("y"),b=ji,E=Di,k=window;if(c){var C=Vy(r),S="clientHeight",_="clientWidth";if(C===is(r)&&(C=fd(r),xc(C).position!=="static"&&o==="absolute"&&(S="scrollHeight",_="scrollWidth")),C=C,a===Di||(a===ji||a===Hs)&&i===$v){E=Ws;var A=f&&C===k&&k.visualViewport?k.visualViewport.height:C[S];g-=A-n.height,g*=l?1:-1}if(a===ji||(a===Di||a===Ws)&&i===$v){b=Hs;var P=f&&C===k&&k.visualViewport?k.visualViewport.width:C[_];m-=P-n.width,m*=l?1:-1}}var N=Object.assign({position:o},c&&JDe),I=u===!0?ZDe({x:m,y:g},is(r)):{x:m,y:g};if(m=I.x,g=I.y,l){var D;return Object.assign({},N,(D={},D[E]=w?"0":"",D[b]=y?"0":"",D.transform=(k.devicePixelRatio||1)<=1?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",D))}return Object.assign({},N,(t={},t[E]=w?g+"px":"",t[b]=y?m+"px":"",t.transform="",t))}function eje(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,s=i===void 0?!0:i,o=r.roundOffsets,l=o===void 0?!0:o,c={placement:cl(t.placement),variation:Z0(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,D5(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,D5(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const tje={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eje,data:{}};var m1={passive:!0};function rje(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,i=a===void 0?!0:a,s=n.resize,o=s===void 0?!0:s,l=is(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",r.update,m1)}),o&&l.addEventListener("resize",r.update,m1),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",r.update,m1)}),o&&l.removeEventListener("resize",r.update,m1)}}const nje={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rje,data:{}};var aje={left:"right",right:"left",bottom:"top",top:"bottom"};function lw(e){return e.replace(/left|right|bottom|top/g,function(t){return aje[t]})}var ije={start:"end",end:"start"};function j5(e){return e.replace(/start|end/g,function(t){return ije[t]})}function wD(e){var t=is(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function bD(e){return J0(fd(e)).left+wD(e).scrollLeft}function sje(e,t){var r=is(e),n=fd(e),a=r.visualViewport,i=n.clientWidth,s=n.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;var c=tX();(c||!c&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:i,height:s,x:o+bD(e),y:l}}function oje(e){var t,r=fd(e),n=wD(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=sf(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=sf(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-n.scrollLeft+bD(e),l=-n.scrollTop;return xc(a||r).direction==="rtl"&&(o+=sf(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:o,y:l}}function _D(e){var t=xc(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function sX(e){return["html","body","#document"].indexOf(Hu(e))>=0?e.ownerDocument.body:ul(e)&&_D(e)?e:sX(UE(e))}function kg(e,t){var r;t===void 0&&(t=[]);var n=sX(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),i=is(n),s=a?[i].concat(i.visualViewport||[],_D(n)?n:[]):n,o=t.concat(s);return a?o:o.concat(kg(UE(s)))}function jk(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function lje(e,t){var r=J0(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function R5(e,t,r){return t===eX?jk(sje(e,r)):Uf(t)?lje(t,r):jk(oje(fd(e)))}function cje(e){var t=kg(UE(e)),r=["absolute","fixed"].indexOf(xc(e).position)>=0,n=r&&ul(e)?Vy(e):e;return Uf(n)?t.filter(function(a){return Uf(a)&&rX(a,n)&&Hu(a)!=="body"}):[]}function uje(e,t,r,n){var a=t==="clippingParents"?cje(e):[].concat(t),i=[].concat(a,[r]),s=i[0],o=i.reduce(function(l,c){var u=R5(e,c,n);return l.top=sf(u.top,l.top),l.right=Db(u.right,l.right),l.bottom=Db(u.bottom,l.bottom),l.left=sf(u.left,l.left),l},R5(e,s,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function oX(e){var t=e.reference,r=e.element,n=e.placement,a=n?cl(n):null,i=n?Z0(n):null,s=t.x+t.width/2-r.width/2,o=t.y+t.height/2-r.height/2,l;switch(a){case Di:l={x:s,y:t.y-r.height};break;case Ws:l={x:s,y:t.y+t.height};break;case Hs:l={x:t.x+t.width,y:o};break;case ji:l={x:t.x-r.width,y:o};break;default:l={x:t.x,y:t.y}}var c=a?xD(a):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case X0:l[c]=l[c]-(t[u]/2-r[u]/2);break;case $v:l[c]=l[c]+(t[u]/2-r[u]/2);break}}return l}function Bv(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,i=r.strategy,s=i===void 0?e.strategy:i,o=r.boundary,l=o===void 0?DDe:o,c=r.rootBoundary,u=c===void 0?eX:c,f=r.elementContext,h=f===void 0?Ep:f,m=r.altBoundary,p=m===void 0?!1:m,g=r.padding,v=g===void 0?0:g,y=aX(typeof v!="number"?v:iX(v,Uy)),w=h===Ep?jDe:Ep,b=e.rects.popper,E=e.elements[p?w:h],k=uje(Uf(E)?E:E.contextElement||fd(e.elements.popper),l,u,s),C=J0(e.elements.reference),S=oX({reference:C,element:b,placement:a}),_=jk(Object.assign({},b,S)),A=h===Ep?_:C,P={top:k.top-A.top+y.top,bottom:A.bottom-k.bottom+y.bottom,left:k.left-A.left+y.left,right:A.right-k.right+y.right},N=e.modifiersData.offset;if(h===Ep&&N){var I=N[a];Object.keys(P).forEach(function(D){var M=[Hs,Ws].indexOf(D)>=0?1:-1,ee=[Di,Ws].indexOf(D)>=0?"y":"x";P[D]+=I[ee]*M})}return P}function dje(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,i=r.rootBoundary,s=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?gD:l,u=Z0(n),f=u?o?I5:I5.filter(function(p){return Z0(p)===u}):Uy,h=f.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=f);var m=h.reduce(function(p,g){return p[g]=Bv(e,{placement:g,boundary:a,rootBoundary:i,padding:s})[cl(g)],p},{});return Object.keys(m).sort(function(p,g){return m[p]-m[g]})}function fje(e){if(cl(e)===pD)return[];var t=lw(e);return[j5(e),t,j5(t)]}function hje(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,s=r.altAxis,o=s===void 0?!0:s,l=r.fallbackPlacements,c=r.padding,u=r.boundary,f=r.rootBoundary,h=r.altBoundary,m=r.flipVariations,p=m===void 0?!0:m,g=r.allowedAutoPlacements,v=t.options.placement,y=cl(v),w=y===v,b=l||(w||!p?[lw(v)]:fje(v)),E=[v].concat(b).reduce(function(K,Y){return K.concat(cl(Y)===pD?dje(t,{placement:Y,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:g}):Y)},[]),k=t.rects.reference,C=t.rects.popper,S=new Map,_=!0,A=E[0],P=0;P<E.length;P++){var N=E[P],I=cl(N),D=Z0(N)===X0,M=[Di,Ws].indexOf(I)>=0,ee=M?"width":"height",Q=Bv(t,{placement:N,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),W=M?D?Hs:ji:D?Ws:Di;k[ee]>C[ee]&&(W=lw(W));var z=lw(W),L=[];if(i&&L.push(Q[I]<=0),o&&L.push(Q[W]<=0,Q[z]<=0),L.every(function(K){return K})){A=N,_=!1;break}S.set(N,L)}if(_)for(var ae=p?3:1,ue=function(Y){var te=E.find(function(ie){var fe=S.get(ie);if(fe)return fe.slice(0,Y).every(function(re){return re})});if(te)return A=te,"break"},F=ae;F>0;F--){var U=ue(F);if(U==="break")break}t.placement!==A&&(t.modifiersData[n]._skip=!0,t.placement=A,t.reset=!0)}}const mje={name:"flip",enabled:!0,phase:"main",fn:hje,requiresIfExists:["offset"],data:{_skip:!1}};function M5(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function F5(e){return[Di,Hs,Ws,ji].some(function(t){return e[t]>=0})}function pje(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,s=Bv(t,{elementContext:"reference"}),o=Bv(t,{altBoundary:!0}),l=M5(s,n),c=M5(o,a,i),u=F5(l),f=F5(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const gje={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:pje};function vje(e,t,r){var n=cl(e),a=[ji,Di].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=i[0],o=i[1];return s=s||0,o=(o||0)*a,[ji,Hs].indexOf(n)>=0?{x:o,y:s}:{x:s,y:o}}function yje(e){var t=e.state,r=e.options,n=e.name,a=r.offset,i=a===void 0?[0,0]:a,s=gD.reduce(function(u,f){return u[f]=vje(f,t.rects,i),u},{}),o=s[t.placement],l=o.x,c=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=s}const xje={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:yje};function wje(e){var t=e.state,r=e.name;t.modifiersData[r]=oX({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const bje={name:"popperOffsets",enabled:!0,phase:"read",fn:wje,data:{}};function _je(e){return e==="x"?"y":"x"}function Eje(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,i=a===void 0?!0:a,s=r.altAxis,o=s===void 0?!1:s,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,f=r.padding,h=r.tether,m=h===void 0?!0:h,p=r.tetherOffset,g=p===void 0?0:p,v=Bv(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),y=cl(t.placement),w=Z0(t.placement),b=!w,E=xD(y),k=_je(E),C=t.modifiersData.popperOffsets,S=t.rects.reference,_=t.rects.popper,A=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,P=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(C){if(i){var D,M=E==="y"?Di:ji,ee=E==="y"?Ws:Hs,Q=E==="y"?"height":"width",W=C[E],z=W+v[M],L=W-v[ee],ae=m?-_[Q]/2:0,ue=w===X0?S[Q]:_[Q],F=w===X0?-_[Q]:-S[Q],U=t.elements.arrow,K=m&&U?yD(U):{width:0,height:0},Y=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:nX(),te=Y[M],ie=Y[ee],fe=Cg(0,S[Q],K[Q]),re=b?S[Q]/2-ae-fe-te-P.mainAxis:ue-fe-te-P.mainAxis,ce=b?-S[Q]/2+ae+fe+ie+P.mainAxis:F+fe+ie+P.mainAxis,ye=t.elements.arrow&&Vy(t.elements.arrow),R=ye?E==="y"?ye.clientTop||0:ye.clientLeft||0:0,Be=(D=N==null?void 0:N[E])!=null?D:0,Re=W+re-Be-R,qe=W+ce-Be,Ue=Cg(m?Db(z,Re):z,W,m?sf(L,qe):L);C[E]=Ue,I[E]=Ue-W}if(o){var Se,ht=E==="x"?Di:ji,wr=E==="x"?Ws:Hs,Kt=C[k],ln=k==="y"?"height":"width",Za=Kt+v[ht],br=Kt-v[wr],hr=[Di,ji].indexOf(y)!==-1,xt=(Se=N==null?void 0:N[k])!=null?Se:0,jt=hr?Za:Kt-S[ln]-_[ln]-xt+P.altAxis,_r=hr?Kt+S[ln]+_[ln]-xt-P.altAxis:br,Er=m&&hr?KDe(jt,Kt,_r):Cg(m?jt:Za,Kt,m?_r:br);C[k]=Er,I[k]=Er-Kt}t.modifiersData[n]=I}}const Sje={name:"preventOverflow",enabled:!0,phase:"main",fn:Eje,requiresIfExists:["offset"]};function Tje(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Aje(e){return e===is(e)||!ul(e)?wD(e):Tje(e)}function Cje(e){var t=e.getBoundingClientRect(),r=Q0(t.width)/e.offsetWidth||1,n=Q0(t.height)/e.offsetHeight||1;return r!==1||n!==1}function kje(e,t,r){r===void 0&&(r=!1);var n=ul(t),a=ul(t)&&Cje(t),i=fd(t),s=J0(e,a,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Hu(t)!=="body"||_D(i))&&(o=Aje(t)),ul(t)?(l=J0(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=bD(i))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function Nje(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(o){if(!r.has(o)){var l=t.get(o);l&&a(l)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),n}function Pje(e){var t=Nje(e);return WDe.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function Ije(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Oje(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var L5={placement:"bottom",modifiers:[],strategy:"absolute"};function $5(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Dje(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?L5:a;return function(o,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},L5,i),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],h=!1,m={state:u,setOptions:function(y){var w=typeof y=="function"?y(u.options):y;g(),u.options=Object.assign({},i,u.options,w),u.scrollParents={reference:Uf(o)?kg(o):o.contextElement?kg(o.contextElement):[],popper:kg(l)};var b=Pje(Oje([].concat(n,u.options.modifiers)));return u.orderedModifiers=b.filter(function(E){return E.enabled}),p(),m.update()},forceUpdate:function(){if(!h){var y=u.elements,w=y.reference,b=y.popper;if($5(w,b)){u.rects={reference:kje(w,Vy(b),u.options.strategy==="fixed"),popper:yD(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(P){return u.modifiersData[P.name]=Object.assign({},P.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var k=u.orderedModifiers[E],C=k.fn,S=k.options,_=S===void 0?{}:S,A=k.name;typeof C=="function"&&(u=C({state:u,options:_,name:A,instance:m})||u)}}}},update:Ije(function(){return new Promise(function(v){m.forceUpdate(),v(u)})}),destroy:function(){g(),h=!0}};if(!$5(o,l))return m;m.setOptions(c).then(function(v){!h&&c.onFirstUpdate&&c.onFirstUpdate(v)});function p(){u.orderedModifiers.forEach(function(v){var y=v.name,w=v.options,b=w===void 0?{}:w,E=v.effect;if(typeof E=="function"){var k=E({state:u,name:y,instance:m,options:b}),C=function(){};f.push(k||C)}})}function g(){f.forEach(function(v){return v()}),f=[]}return m}}var jje=Dje({defaultModifiers:[gje,bje,tje,nje,xje,mje,Sje,QDe]}),B5=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},Rje={name:"applyStyles",enabled:!1},Mje={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,i=n.popper;if("removeAttribute"in a){var s=(a.getAttribute("aria-describedby")||"").split(",").filter(function(o){return o.trim()!==i.id});s.length?a.setAttribute("aria-describedby",s.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,i=a.popper,s=a.reference,o=(r=i.getAttribute("role"))==null?void 0:r.toLowerCase();if(i.id&&o==="tooltip"&&"setAttribute"in s){var l=s.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(i.id)!==-1)return;s.setAttribute("aria-describedby",l?l+","+i.id:i.id)}}},Fje=[];function Lje(e,t,r){var n=r===void 0?{}:r,a=n.enabled,i=a===void 0?!0:a,s=n.placement,o=s===void 0?"bottom":s,l=n.strategy,c=l===void 0?"absolute":l,u=n.modifiers,f=u===void 0?Fje:u,h=LE(n,["enabled","placement","strategy","modifiers"]),m=T.useRef(),p=T.useCallback(function(){var E;(E=m.current)==null||E.update()},[]),g=T.useCallback(function(){var E;(E=m.current)==null||E.forceUpdate()},[]),v=ODe(T.useState({placement:o,update:p,forceUpdate:g,attributes:{},styles:{popper:B5(c),arrow:{}}})),y=v[0],w=v[1],b=T.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(k){var C=k.state,S={},_={};Object.keys(C.elements).forEach(function(A){S[A]=C.styles[A],_[A]=C.attributes[A]}),w({state:C,styles:S,attributes:_,update:p,forceUpdate:g,placement:C.placement})}}},[p,g,w]);return T.useEffect(function(){!m.current||!i||m.current.setOptions({placement:o,strategy:c,modifiers:[].concat(f,[b,Rje])})},[c,o,b,i]),T.useEffect(function(){if(!(!i||e==null||t==null))return m.current=jje(e,t,tn({},h,{placement:o,strategy:c,modifiers:[].concat(f,[Mje,b])})),function(){m.current!=null&&(m.current.destroy(),m.current=void 0,w(function(E){return tn({},E,{attributes:{},styles:{popper:B5(c)}})}))}},[i,e,t]),y}function $je(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function Kp(e,t,r,n){return NDe(e,t,r,n),function(){$je(e,t,r,n)}}var Bje=function(){},Uje=Bje;const Vje=on(Uje);function zje(e){return e&&"setState"in e?t7.findDOMNode(e):e??null}const Wje=function(e){return By(zje(e))};var Hje=27,U5=function(){};function Gje(e){return e.button===0}function Kje(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var V5=function(t){return t&&("current"in t?t.current:t)};function qje(e,t,r){var n=r===void 0?{}:r,a=n.disabled,i=n.clickTrigger,s=i===void 0?"click":i,o=T.useRef(!1),l=t||U5,c=T.useCallback(function(h){var m,p=V5(e);Vje(!!p,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),o.current=!p||Kje(h)||!Gje(h)||!!Lv(p,(m=h.composedPath==null?void 0:h.composedPath()[0])!=null?m:h.target)},[e]),u=N5(function(h){o.current||l(h)}),f=N5(function(h){h.keyCode===Hje&&l(h)});T.useEffect(function(){if(!(a||e==null)){var h=window.event,m=Wje(V5(e)),p=Kp(m,s,c,!0),g=Kp(m,s,function(w){if(w===h){h=void 0;return}u(w)}),v=Kp(m,"keyup",function(w){if(w===h){h=void 0;return}f(w)}),y=[];return"ontouchstart"in m.documentElement&&(y=[].slice.call(m.body.children).map(function(w){return Kp(w,"mousemove",U5)})),function(){p(),g(),v(),y.forEach(function(w){return w()})}}},[e,a,s,c,u,f])}function Yje(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function Xje(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function Qje(e){var t,r,n,a,i=e.enabled,s=e.enableEvents,o=e.placement,l=e.flip,c=e.offset,u=e.fixed,f=e.containerPadding,h=e.arrowElement,m=e.popperConfig,p=m===void 0?{}:m,g=Yje(p.modifiers);return tn({},p,{placement:o,enabled:i,strategy:u?"fixed":p.strategy,modifiers:Xje(tn({},g,{eventListeners:{enabled:s},preventOverflow:tn({},g.preventOverflow,{options:f?tn({padding:f},(t=g.preventOverflow)==null?void 0:t.options):(r=g.preventOverflow)==null?void 0:r.options}),offset:{options:tn({offset:c},(n=g.offset)==null?void 0:n.options)},arrow:tn({},g.arrow,{enabled:!!h,options:tn({},(a=g.arrow)==null?void 0:a.options,{element:h})}),flip:tn({enabled:!!l},g.flip)}))})}function Jje(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Zje(e,t){e.classList?e.classList.add(t):Jje(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function z5(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function e4e(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=z5(e.className,t):e.setAttribute("class",z5(e.className&&e.className.baseVal||"",t))}var p1;function ED(e){if((!p1&&p1!==0||e)&&mD){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),p1=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return p1}var LT=function(t){var r;return typeof document>"u"?null:t==null?By().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function W5(e,t){var r=T.useState(function(){return LT(e)}),n=r[0],a=r[1];if(!n){var i=LT(e);i&&a(i)}return T.useEffect(function(){},[t,n]),T.useEffect(function(){var s=LT(e);s!==n&&a(s)},[e,n]),n}const H5=e=>!e||typeof e=="function"?e:t=>{e.current=t};function t4e(e,t){const r=H5(e),n=H5(t);return a=>{r&&r(a),n&&n(a)}}function r4e(e,t){return T.useMemo(()=>t4e(e,t),[e,t])}var SD=ne.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,i=e.containerPadding,s=i===void 0?5:i,o=e.popperConfig,l=o===void 0?{}:o,c=e.transition,u=P5(),f=u[0],h=u[1],m=P5(),p=m[0],g=m[1],v=r4e(h,t),y=W5(e.container),w=W5(e.target),b=T.useState(!e.show),E=b[0],k=b[1],C=Lje(w,f,Qje({placement:a,enableEvents:!!e.show,containerPadding:s||5,flip:r,offset:n,arrowElement:p,popperConfig:l})),S=C.styles,_=C.attributes,A=LE(C,["styles","attributes"]);e.show?E&&k(!1):!e.transition&&!E&&k(!0);var P=function(){k(!0),e.onExited&&e.onExited.apply(e,arguments)},N=e.show||c&&!E;if(qje(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!N)return null;var I=e.children(tn({},A,{show:!!e.show,props:tn({},_.popper,{style:S.popper,ref:v}),arrowProps:tn({},_.arrow,{style:S.arrow,ref:g})}));if(c){var D=e.onExit,M=e.onExiting,ee=e.onEnter,Q=e.onEntering,W=e.onEntered;I=ne.createElement(c,{in:e.show,appear:!0,onExit:D,onExiting:M,onExited:P,onEnter:ee,onEntering:Q,onEntered:W},I)}return y?t7.createPortal(I,y):null});SD.displayName="Overlay";SD.propTypes={show:je.bool,placement:je.oneOf(gD),target:je.any,container:je.any,flip:je.bool,children:je.func.isRequired,containerPadding:je.number,popperConfig:je.object,rootClose:je.bool,rootCloseEvent:je.oneOf(["click","mousedown"]),rootCloseDisabled:je.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var i;return(i=je.func).isRequired.apply(i,[t].concat(n))}return je.func.apply(je,[t].concat(n))},transition:je.elementType,onEnter:je.func,onEntering:je.func,onEntered:je.func,onExit:je.func,onExiting:je.func,onExited:je.func};function n4e(){this.__data__=[],this.size=0}var a4e=n4e,i4e=Fy;function s4e(e,t){for(var r=e.length;r--;)if(i4e(e[r][0],t))return r;return-1}var VE=s4e,o4e=VE,l4e=Array.prototype,c4e=l4e.splice;function u4e(e){var t=this.__data__,r=o4e(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():c4e.call(t,r,1),--this.size,!0}var d4e=u4e,f4e=VE;function h4e(e){var t=this.__data__,r=f4e(t,e);return r<0?void 0:t[r][1]}var m4e=h4e,p4e=VE;function g4e(e){return p4e(this.__data__,e)>-1}var v4e=g4e,y4e=VE;function x4e(e,t){var r=this.__data__,n=y4e(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var w4e=x4e,b4e=a4e,_4e=d4e,E4e=m4e,S4e=v4e,T4e=w4e;function Fm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fm.prototype.clear=b4e;Fm.prototype.delete=_4e;Fm.prototype.get=E4e;Fm.prototype.has=S4e;Fm.prototype.set=T4e;var zE=Fm,A4e=zE;function C4e(){this.__data__=new A4e,this.size=0}var k4e=C4e;function N4e(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var P4e=N4e;function I4e(e){return this.__data__.get(e)}var O4e=I4e;function D4e(e){return this.__data__.has(e)}var j4e=D4e,R4e=Sl,M4e=R4e["__core-js_shared__"],F4e=M4e,$T=F4e,G5=function(){var e=/[^.]+$/.exec($T&&$T.keys&&$T.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function L4e(e){return!!G5&&G5 in e}var $4e=L4e,B4e=Function.prototype,U4e=B4e.toString;function V4e(e){if(e!=null){try{return U4e.call(e)}catch{}try{return e+""}catch{}}return""}var lX=V4e,z4e=uD,W4e=$4e,H4e=Nc,G4e=lX,K4e=/[\\^$.*+?()[\]{}|]/g,q4e=/^\[object .+?Constructor\]$/,Y4e=Function.prototype,X4e=Object.prototype,Q4e=Y4e.toString,J4e=X4e.hasOwnProperty,Z4e=RegExp("^"+Q4e.call(J4e).replace(K4e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eRe(e){if(!H4e(e)||W4e(e))return!1;var t=z4e(e)?Z4e:q4e;return t.test(G4e(e))}var tRe=eRe;function rRe(e,t){return e==null?void 0:e[t]}var nRe=rRe,aRe=tRe,iRe=nRe;function sRe(e,t){var r=iRe(e,t);return aRe(r)?r:void 0}var dh=sRe,oRe=dh,lRe=Sl,cRe=oRe(lRe,"Map"),TD=cRe,uRe=dh,dRe=uRe(Object,"create"),WE=dRe,K5=WE;function fRe(){this.__data__=K5?K5(null):{},this.size=0}var hRe=fRe;function mRe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var pRe=mRe,gRe=WE,vRe="__lodash_hash_undefined__",yRe=Object.prototype,xRe=yRe.hasOwnProperty;function wRe(e){var t=this.__data__;if(gRe){var r=t[e];return r===vRe?void 0:r}return xRe.call(t,e)?t[e]:void 0}var bRe=wRe,_Re=WE,ERe=Object.prototype,SRe=ERe.hasOwnProperty;function TRe(e){var t=this.__data__;return _Re?t[e]!==void 0:SRe.call(t,e)}var ARe=TRe,CRe=WE,kRe="__lodash_hash_undefined__";function NRe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=CRe&&t===void 0?kRe:t,this}var PRe=NRe,IRe=hRe,ORe=pRe,DRe=bRe,jRe=ARe,RRe=PRe;function Lm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Lm.prototype.clear=IRe;Lm.prototype.delete=ORe;Lm.prototype.get=DRe;Lm.prototype.has=jRe;Lm.prototype.set=RRe;var MRe=Lm,q5=MRe,FRe=zE,LRe=TD;function $Re(){this.size=0,this.__data__={hash:new q5,map:new(LRe||FRe),string:new q5}}var BRe=$Re;function URe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var VRe=URe,zRe=VRe;function WRe(e,t){var r=e.__data__;return zRe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var HE=WRe,HRe=HE;function GRe(e){var t=HRe(this,e).delete(e);return this.size-=t?1:0,t}var KRe=GRe,qRe=HE;function YRe(e){return qRe(this,e).get(e)}var XRe=YRe,QRe=HE;function JRe(e){return QRe(this,e).has(e)}var ZRe=JRe,eMe=HE;function tMe(e,t){var r=eMe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var rMe=tMe,nMe=BRe,aMe=KRe,iMe=XRe,sMe=ZRe,oMe=rMe;function $m(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$m.prototype.clear=nMe;$m.prototype.delete=aMe;$m.prototype.get=iMe;$m.prototype.has=sMe;$m.prototype.set=oMe;var AD=$m,lMe=zE,cMe=TD,uMe=AD,dMe=200;function fMe(e,t){var r=this.__data__;if(r instanceof lMe){var n=r.__data__;if(!cMe||n.length<dMe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new uMe(n)}return r.set(e,t),this.size=r.size,this}var hMe=fMe,mMe=zE,pMe=k4e,gMe=P4e,vMe=O4e,yMe=j4e,xMe=hMe;function Bm(e){var t=this.__data__=new mMe(e);this.size=t.size}Bm.prototype.clear=pMe;Bm.prototype.delete=gMe;Bm.prototype.get=vMe;Bm.prototype.has=yMe;Bm.prototype.set=xMe;var CD=Bm,wMe="__lodash_hash_undefined__";function bMe(e){return this.__data__.set(e,wMe),this}var _Me=bMe;function EMe(e){return this.__data__.has(e)}var SMe=EMe,TMe=AD,AMe=_Me,CMe=SMe;function jb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new TMe;++t<r;)this.add(e[t])}jb.prototype.add=jb.prototype.push=AMe;jb.prototype.has=CMe;var kMe=jb;function NMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var PMe=NMe;function IMe(e,t){return e.has(t)}var OMe=IMe,DMe=kMe,jMe=PMe,RMe=OMe,MMe=1,FMe=2;function LMe(e,t,r,n,a,i){var s=r&MMe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,m=r&FMe?new DMe:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var p=e[f],g=t[f];if(n)var v=s?n(g,p,f,t,e,i):n(p,g,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!jMe(t,function(y,w){if(!RMe(m,w)&&(p===y||a(p,y,r,n,i)))return m.push(w)})){h=!1;break}}else if(!(p===g||a(p,g,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var cX=LMe,$Me=Sl,BMe=$Me.Uint8Array,uX=BMe;function UMe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var VMe=UMe;function zMe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var WMe=zMe,Y5=Rm,X5=uX,HMe=Fy,GMe=cX,KMe=VMe,qMe=WMe,YMe=1,XMe=2,QMe="[object Boolean]",JMe="[object Date]",ZMe="[object Error]",e3e="[object Map]",t3e="[object Number]",r3e="[object RegExp]",n3e="[object Set]",a3e="[object String]",i3e="[object Symbol]",s3e="[object ArrayBuffer]",o3e="[object DataView]",Q5=Y5?Y5.prototype:void 0,BT=Q5?Q5.valueOf:void 0;function l3e(e,t,r,n,a,i,s){switch(r){case o3e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case s3e:return!(e.byteLength!=t.byteLength||!i(new X5(e),new X5(t)));case QMe:case JMe:case t3e:return HMe(+e,+t);case ZMe:return e.name==t.name&&e.message==t.message;case r3e:case a3e:return e==t+"";case e3e:var o=KMe;case n3e:var l=n&YMe;if(o||(o=qMe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=XMe,s.set(e,t);var u=GMe(o(e),o(t),n,a,i,s);return s.delete(e),u;case i3e:if(BT)return BT.call(e)==BT.call(t)}return!1}var c3e=l3e;function u3e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var kD=u3e,d3e=Array.isArray,Xs=d3e,f3e=kD,h3e=Xs;function m3e(e,t,r){var n=t(e);return h3e(e)?n:f3e(n,r(e))}var dX=m3e;function p3e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var g3e=p3e;function v3e(){return[]}var fX=v3e,y3e=g3e,x3e=fX,w3e=Object.prototype,b3e=w3e.propertyIsEnumerable,J5=Object.getOwnPropertySymbols,_3e=J5?function(e){return e==null?[]:(e=Object(e),y3e(J5(e),function(t){return b3e.call(e,t)}))}:x3e,ND=_3e;function E3e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var S3e=E3e,T3e=Mm,A3e=dd,C3e="[object Arguments]";function k3e(e){return A3e(e)&&T3e(e)==C3e}var N3e=k3e,Z5=N3e,P3e=dd,hX=Object.prototype,I3e=hX.hasOwnProperty,O3e=hX.propertyIsEnumerable,D3e=Z5(function(){return arguments}())?Z5:function(e){return P3e(e)&&I3e.call(e,"callee")&&!O3e.call(e,"callee")},PD=D3e,Rb={exports:{}};function j3e(){return!1}var R3e=j3e;Rb.exports;(function(e,t){var r=Sl,n=R3e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Rb,Rb.exports);var GE=Rb.exports,M3e=Mm,F3e=dD,L3e=dd,$3e="[object Arguments]",B3e="[object Array]",U3e="[object Boolean]",V3e="[object Date]",z3e="[object Error]",W3e="[object Function]",H3e="[object Map]",G3e="[object Number]",K3e="[object Object]",q3e="[object RegExp]",Y3e="[object Set]",X3e="[object String]",Q3e="[object WeakMap]",J3e="[object ArrayBuffer]",Z3e="[object DataView]",eFe="[object Float32Array]",tFe="[object Float64Array]",rFe="[object Int8Array]",nFe="[object Int16Array]",aFe="[object Int32Array]",iFe="[object Uint8Array]",sFe="[object Uint8ClampedArray]",oFe="[object Uint16Array]",lFe="[object Uint32Array]",Ar={};Ar[eFe]=Ar[tFe]=Ar[rFe]=Ar[nFe]=Ar[aFe]=Ar[iFe]=Ar[sFe]=Ar[oFe]=Ar[lFe]=!0;Ar[$3e]=Ar[B3e]=Ar[J3e]=Ar[U3e]=Ar[Z3e]=Ar[V3e]=Ar[z3e]=Ar[W3e]=Ar[H3e]=Ar[G3e]=Ar[K3e]=Ar[q3e]=Ar[Y3e]=Ar[X3e]=Ar[Q3e]=!1;function cFe(e){return L3e(e)&&F3e(e.length)&&!!Ar[M3e(e)]}var uFe=cFe;function dFe(e){return function(t){return e(t)}}var KE=dFe,Mb={exports:{}};Mb.exports;(function(e,t){var r=HY,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Mb,Mb.exports);var ID=Mb.exports,fFe=uFe,hFe=KE,e$=ID,t$=e$&&e$.isTypedArray,mFe=t$?hFe(t$):fFe,OD=mFe,pFe=S3e,gFe=PD,vFe=Xs,yFe=GE,xFe=fD,wFe=OD,bFe=Object.prototype,_Fe=bFe.hasOwnProperty;function EFe(e,t){var r=vFe(e),n=!r&&gFe(e),a=!r&&!n&&yFe(e),i=!r&&!n&&!a&&wFe(e),s=r||n||a||i,o=s?pFe(e.length,String):[],l=o.length;for(var c in e)(t||_Fe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||xFe(c,l)))&&o.push(c);return o}var mX=EFe,SFe=Object.prototype;function TFe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||SFe;return e===r}var DD=TFe;function AFe(e,t){return function(r){return e(t(r))}}var pX=AFe,CFe=pX,kFe=CFe(Object.keys,Object),NFe=kFe,PFe=DD,IFe=NFe,OFe=Object.prototype,DFe=OFe.hasOwnProperty;function jFe(e){if(!PFe(e))return IFe(e);var t=[];for(var r in Object(e))DFe.call(e,r)&&r!="constructor"&&t.push(r);return t}var RFe=jFe,MFe=mX,FFe=RFe,LFe=Ly;function $Fe(e){return LFe(e)?MFe(e):FFe(e)}var zy=$Fe,BFe=dX,UFe=ND,VFe=zy;function zFe(e){return BFe(e,VFe,UFe)}var gX=zFe,r$=gX,WFe=1,HFe=Object.prototype,GFe=HFe.hasOwnProperty;function KFe(e,t,r,n,a,i){var s=r&WFe,o=r$(e),l=o.length,c=r$(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:GFe.call(t,h)))return!1}var m=i.get(e),p=i.get(t);if(m&&p)return m==t&&p==e;var g=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<l;){h=o[f];var y=e[h],w=t[h];if(n)var b=s?n(w,y,h,t,e,i):n(y,w,h,e,t,i);if(!(b===void 0?y===w||a(y,w,r,n,i):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var E=e.constructor,k=t.constructor;E!=k&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof k=="function"&&k instanceof k)&&(g=!1)}return i.delete(e),i.delete(t),g}var qFe=KFe,YFe=dh,XFe=Sl,QFe=YFe(XFe,"DataView"),JFe=QFe,ZFe=dh,eLe=Sl,tLe=ZFe(eLe,"Promise"),rLe=tLe,nLe=dh,aLe=Sl,iLe=nLe(aLe,"Set"),sLe=iLe,oLe=dh,lLe=Sl,cLe=oLe(lLe,"WeakMap"),uLe=cLe,Rk=JFe,Mk=TD,Fk=rLe,Lk=sLe,$k=uLe,vX=Mm,Um=lX,n$="[object Map]",dLe="[object Object]",a$="[object Promise]",i$="[object Set]",s$="[object WeakMap]",o$="[object DataView]",fLe=Um(Rk),hLe=Um(Mk),mLe=Um(Fk),pLe=Um(Lk),gLe=Um($k),Pd=vX;(Rk&&Pd(new Rk(new ArrayBuffer(1)))!=o$||Mk&&Pd(new Mk)!=n$||Fk&&Pd(Fk.resolve())!=a$||Lk&&Pd(new Lk)!=i$||$k&&Pd(new $k)!=s$)&&(Pd=function(e){var t=vX(e),r=t==dLe?e.constructor:void 0,n=r?Um(r):"";if(n)switch(n){case fLe:return o$;case hLe:return n$;case mLe:return a$;case pLe:return i$;case gLe:return s$}return t});var qE=Pd,UT=CD,vLe=cX,yLe=c3e,xLe=qFe,l$=qE,c$=Xs,u$=GE,wLe=OD,bLe=1,d$="[object Arguments]",f$="[object Array]",g1="[object Object]",_Le=Object.prototype,h$=_Le.hasOwnProperty;function ELe(e,t,r,n,a,i){var s=c$(e),o=c$(t),l=s?f$:l$(e),c=o?f$:l$(t);l=l==d$?g1:l,c=c==d$?g1:c;var u=l==g1,f=c==g1,h=l==c;if(h&&u$(e)){if(!u$(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new UT),s||wLe(e)?vLe(e,t,r,n,a,i):yLe(e,t,l,r,n,a,i);if(!(r&bLe)){var m=u&&h$.call(e,"__wrapped__"),p=f&&h$.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,v=p?t.value():t;return i||(i=new UT),a(g,v,r,n,i)}}return h?(i||(i=new UT),xLe(e,t,r,n,a,i)):!1}var SLe=ELe,TLe=SLe,m$=dd;function yX(e,t,r,n,a){return e===t?!0:e==null||t==null||!m$(e)&&!m$(t)?e!==e&&t!==t:TLe(e,t,r,n,yX,a)}var jD=yX,ALe=jD;function CLe(e,t){return ALe(e,t)}var kLe=CLe;const NLe=on(kLe);function VT(e,t){var r=hD(e);return r?r.innerHeight:af(e).height}function xX(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(ADe(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function PLe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var ILe=PLe,OLe=CD,DLe=jD,jLe=1,RLe=2;function MLe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new OLe;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?DLe(u,c,jLe|RLe,n,f):h))return!1}}return!0}var FLe=MLe,LLe=Nc;function $Le(e){return e===e&&!LLe(e)}var wX=$Le,BLe=wX,ULe=zy;function VLe(e){for(var t=ULe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,BLe(a)]}return t}var zLe=VLe;function WLe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var bX=WLe,HLe=FLe,GLe=zLe,KLe=bX;function qLe(e){var t=GLe(e);return t.length==1&&t[0][2]?KLe(t[0][0],t[0][1]):function(r){return r===e||HLe(r,e,t)}}var YLe=qLe,XLe=Xs,QLe=$y,JLe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZLe=/^\w*$/;function e6e(e,t){if(XLe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||QLe(e)?!0:ZLe.test(e)||!JLe.test(e)||t!=null&&e in Object(t)}var RD=e6e,_X=AD,t6e="Expected a function";function MD(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(t6e);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(MD.Cache||_X),r}MD.Cache=_X;var r6e=MD,n6e=r6e,a6e=500;function i6e(e){var t=n6e(e,function(n){return r.size===a6e&&r.clear(),n}),r=t.cache;return t}var s6e=i6e,o6e=s6e,l6e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c6e=/\\(\\)?/g,u6e=o6e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(l6e,function(r,n,a,i){t.push(a?i.replace(c6e,"$1"):n||r)}),t}),d6e=u6e;function f6e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var FD=f6e,p$=Rm,h6e=FD,m6e=Xs,p6e=$y,g$=p$?p$.prototype:void 0,v$=g$?g$.toString:void 0;function EX(e){if(typeof e=="string")return e;if(m6e(e))return h6e(e,EX)+"";if(p6e(e))return v$?v$.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var g6e=EX,v6e=g6e;function y6e(e){return e==null?"":v6e(e)}var x6e=y6e,w6e=Xs,b6e=RD,_6e=d6e,E6e=x6e;function S6e(e,t){return w6e(e)?e:b6e(e,t)?[e]:_6e(E6e(e))}var YE=S6e,T6e=$y;function A6e(e){if(typeof e=="string"||T6e(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Wy=A6e,C6e=YE,k6e=Wy;function N6e(e,t){t=C6e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[k6e(t[r++])];return r&&r==n?e:void 0}var XE=N6e,P6e=XE;function I6e(e,t,r){var n=e==null?void 0:P6e(e,t);return n===void 0?r:n}var O6e=I6e;function D6e(e,t){return e!=null&&t in Object(e)}var j6e=D6e,R6e=YE,M6e=PD,F6e=Xs,L6e=fD,$6e=dD,B6e=Wy;function U6e(e,t,r){t=R6e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=B6e(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&$6e(a)&&L6e(s,a)&&(F6e(e)||M6e(e)))}var V6e=U6e,z6e=j6e,W6e=V6e;function H6e(e,t){return e!=null&&W6e(e,t,z6e)}var G6e=H6e,K6e=jD,q6e=O6e,Y6e=G6e,X6e=RD,Q6e=wX,J6e=bX,Z6e=Wy,e5e=1,t5e=2;function r5e(e,t){return X6e(e)&&Q6e(t)?J6e(Z6e(e),t):function(r){var n=q6e(r,e);return n===void 0&&n===t?Y6e(r,e):K6e(t,n,e5e|t5e)}}var n5e=r5e;function a5e(e){return e}var QE=a5e;function i5e(e){return function(t){return t==null?void 0:t[e]}}var s5e=i5e,o5e=XE;function l5e(e){return function(t){return o5e(t,e)}}var c5e=l5e,u5e=s5e,d5e=c5e,f5e=RD,h5e=Wy;function m5e(e){return f5e(e)?u5e(h5e(e)):d5e(e)}var p5e=m5e,g5e=YLe,v5e=n5e,y5e=QE,x5e=Xs,w5e=p5e;function b5e(e){return typeof e=="function"?e:e==null?y5e:typeof e=="object"?x5e(e)?v5e(e[0],e[1]):g5e(e):w5e(e)}var JE=b5e,_5e=ILe,E5e=JE,S5e=qY,T5e=Math.max;function A5e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:S5e(r);return a<0&&(a=T5e(n+a,0)),_5e(e,E5e(t),a)}var C5e=A5e;const k5e=on(C5e);var N5e=Math.ceil,P5e=Math.max;function I5e(e,t,r,n){for(var a=-1,i=P5e(N5e((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var O5e=I5e,D5e=O5e,j5e=BE,zT=KY;function R5e(e){return function(t,r,n){return n&&typeof n!="number"&&j5e(t,r,n)&&(r=n=void 0),t=zT(t),r===void 0?(r=t,t=0):r=zT(r),n=n===void 0?t<r?1:-1:zT(n),D5e(t,r,n,e)}}var M5e=R5e,F5e=M5e,L5e=F5e(),$5e=L5e;const B5e=on($5e);var y$=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function U5e(e,t){return!!(e===t||y$(e)&&y$(t))}function V5e(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!U5e(e[r],t[r]))return!1;return!0}function SX(e,t){t===void 0&&(t=V5e);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var s=e.apply(this,a);return r={lastResult:s,lastArgs:a,lastThis:this},s}return n.clear=function(){r=null},n}function Bk(e,t){var r=hD(e);return r?r.innerWidth:af(e).width}var x$=Rm,z5e=PD,W5e=Xs,w$=x$?x$.isConcatSpreadable:void 0;function H5e(e){return W5e(e)||z5e(e)||!!(w$&&e&&e[w$])}var G5e=H5e,K5e=kD,q5e=G5e;function TX(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=q5e),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?TX(o,t-1,r,n,a):K5e(a,o):n||(a[a.length]=o)}return a}var AX=TX;function Y5e(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var X5e=Y5e,Q5e=X5e,J5e=Q5e(),Z5e=J5e,e$e=Z5e,t$e=zy;function r$e(e,t){return e&&e$e(e,t,t$e)}var LD=r$e,n$e=Ly;function a$e(e,t){return function(r,n){if(r==null)return r;if(!n$e(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var i$e=a$e,s$e=LD,o$e=i$e,l$e=o$e(s$e),c$e=l$e,u$e=c$e,d$e=Ly;function f$e(e,t){var r=-1,n=d$e(e)?Array(e.length):[];return u$e(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var h$e=f$e;function m$e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var p$e=m$e,b$=$y;function g$e(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=b$(e),s=t!==void 0,o=t===null,l=t===t,c=b$(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var v$e=g$e,y$e=v$e;function x$e(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=y$e(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var w$e=x$e,WT=FD,b$e=XE,_$e=JE,E$e=h$e,S$e=p$e,T$e=KE,A$e=w$e,C$e=QE,k$e=Xs;function N$e(e,t,r){t.length?t=WT(t,function(i){return k$e(i)?function(s){return b$e(s,i.length===1?i[0]:i)}:i}):t=[C$e];var n=-1;t=WT(t,T$e(_$e));var a=E$e(e,function(i,s,o){var l=WT(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return S$e(a,function(i,s){return A$e(i,s,r)})}var P$e=N$e;function I$e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var O$e=I$e,D$e=O$e,_$=Math.max;function j$e(e,t,r){return t=_$(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=_$(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),D$e(e,this,o)}}var CX=j$e;function R$e(e){return function(){return e}}var M$e=R$e,F$e=dh,L$e=function(){try{var e=F$e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),kX=L$e,$$e=M$e,E$=kX,B$e=QE,U$e=E$?function(e,t){return E$(e,"toString",{configurable:!0,enumerable:!1,value:$$e(t),writable:!0})}:B$e,V$e=U$e,z$e=800,W$e=16,H$e=Date.now;function G$e(e){var t=0,r=0;return function(){var n=H$e(),a=W$e-(n-r);if(r=n,a>0){if(++t>=z$e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var K$e=G$e,q$e=V$e,Y$e=K$e,X$e=Y$e(q$e),NX=X$e,Q$e=QE,J$e=CX,Z$e=NX;function e8e(e,t){return Z$e(J$e(e,t,Q$e),e+"")}var PX=e8e,t8e=AX,r8e=P$e,n8e=PX,S$=BE,a8e=n8e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&S$(e,t[0],t[1])?t=[]:r>2&&S$(t[0],t[1],t[2])&&(t=[t[0]]),r8e(e,t8e(t,1),[])}),i8e=a8e;const s8e=on(i8e);function IX(e){return AY(e)||zY(e)||oD(e)||CY()}function o8e(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var l8e=o8e,c8e=Nc,u8e=DD,d8e=l8e,f8e=Object.prototype,h8e=f8e.hasOwnProperty;function m8e(e){if(!c8e(e))return d8e(e);var t=u8e(e),r=[];for(var n in e)n=="constructor"&&(t||!h8e.call(e,n))||r.push(n);return r}var p8e=m8e,g8e=mX,v8e=p8e,y8e=Ly;function x8e(e){return y8e(e)?g8e(e,!0):v8e(e)}var ZE=x8e,w8e=PX,b8e=Fy,_8e=BE,E8e=ZE,OX=Object.prototype,S8e=OX.hasOwnProperty,T8e=w8e(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&_8e(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],s=E8e(i),o=-1,l=s.length;++o<l;){var c=s[o],u=e[c];(u===void 0||b8e(u,OX[c])&&!S8e.call(e,c))&&(e[c]=i[c])}return e}),A8e=T8e;const C8e=on(A8e);var T$=kX;function k8e(e,t,r){t=="__proto__"&&T$?T$(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var $D=k8e,N8e=$D,P8e=LD,I8e=JE;function O8e(e,t){var r={};return t=I8e(t),P8e(e,function(n,a,i){N8e(r,a,t(n,a,i))}),r}var D8e=O8e;const j8e=on(D8e);function R8e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var DX=R8e,M8e=$D,F8e=Fy,L8e=Object.prototype,$8e=L8e.hasOwnProperty;function B8e(e,t,r){var n=e[t];(!($8e.call(e,t)&&F8e(n,r))||r===void 0&&!(t in e))&&M8e(e,t,r)}var jX=B8e,U8e=jX,V8e=$D;function z8e(e,t,r,n){var a=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var o=t[i],l=n?n(r[o],e[o],o,r,e):void 0;l===void 0&&(l=e[o]),a?V8e(r,o,l):U8e(r,o,l)}return r}var Hy=z8e,W8e=Hy,H8e=zy;function G8e(e,t){return e&&W8e(t,H8e(t),e)}var K8e=G8e,q8e=Hy,Y8e=ZE;function X8e(e,t){return e&&q8e(t,Y8e(t),e)}var Q8e=X8e,Fb={exports:{}};Fb.exports;(function(e,t){var r=Sl,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=o?o(f):new c.constructor(f);return c.copy(h),h}e.exports=l})(Fb,Fb.exports);var J8e=Fb.exports;function Z8e(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var eBe=Z8e,tBe=Hy,rBe=ND;function nBe(e,t){return tBe(e,rBe(e),t)}var aBe=nBe,iBe=pX,sBe=iBe(Object.getPrototypeOf,Object),eS=sBe,oBe=kD,lBe=eS,cBe=ND,uBe=fX,dBe=Object.getOwnPropertySymbols,fBe=dBe?function(e){for(var t=[];e;)oBe(t,cBe(e)),e=lBe(e);return t}:uBe,RX=fBe,hBe=Hy,mBe=RX;function pBe(e,t){return hBe(e,mBe(e),t)}var gBe=pBe,vBe=dX,yBe=RX,xBe=ZE;function wBe(e){return vBe(e,xBe,yBe)}var MX=wBe,bBe=Object.prototype,_Be=bBe.hasOwnProperty;function EBe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&_Be.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var SBe=EBe,A$=uX;function TBe(e){var t=new e.constructor(e.byteLength);return new A$(t).set(new A$(e)),t}var BD=TBe,ABe=BD;function CBe(e,t){var r=t?ABe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var kBe=CBe,NBe=/\w*$/;function PBe(e){var t=new e.constructor(e.source,NBe.exec(e));return t.lastIndex=e.lastIndex,t}var IBe=PBe,C$=Rm,k$=C$?C$.prototype:void 0,N$=k$?k$.valueOf:void 0;function OBe(e){return N$?Object(N$.call(e)):{}}var DBe=OBe,jBe=BD;function RBe(e,t){var r=t?jBe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var MBe=RBe,FBe=BD,LBe=kBe,$Be=IBe,BBe=DBe,UBe=MBe,VBe="[object Boolean]",zBe="[object Date]",WBe="[object Map]",HBe="[object Number]",GBe="[object RegExp]",KBe="[object Set]",qBe="[object String]",YBe="[object Symbol]",XBe="[object ArrayBuffer]",QBe="[object DataView]",JBe="[object Float32Array]",ZBe="[object Float64Array]",eUe="[object Int8Array]",tUe="[object Int16Array]",rUe="[object Int32Array]",nUe="[object Uint8Array]",aUe="[object Uint8ClampedArray]",iUe="[object Uint16Array]",sUe="[object Uint32Array]";function oUe(e,t,r){var n=e.constructor;switch(t){case XBe:return FBe(e);case VBe:case zBe:return new n(+e);case QBe:return LBe(e,r);case JBe:case ZBe:case eUe:case tUe:case rUe:case nUe:case aUe:case iUe:case sUe:return UBe(e,r);case WBe:return new n;case HBe:case qBe:return new n(e);case GBe:return $Be(e);case KBe:return new n;case YBe:return BBe(e)}}var lUe=oUe,cUe=Nc,P$=Object.create,uUe=function(){function e(){}return function(t){if(!cUe(t))return{};if(P$)return P$(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),FX=uUe,dUe=FX,fUe=eS,hUe=DD;function mUe(e){return typeof e.constructor=="function"&&!hUe(e)?dUe(fUe(e)):{}}var pUe=mUe,gUe=qE,vUe=dd,yUe="[object Map]";function xUe(e){return vUe(e)&&gUe(e)==yUe}var wUe=xUe,bUe=wUe,_Ue=KE,I$=ID,O$=I$&&I$.isMap,EUe=O$?_Ue(O$):bUe,SUe=EUe,TUe=qE,AUe=dd,CUe="[object Set]";function kUe(e){return AUe(e)&&TUe(e)==CUe}var NUe=kUe,PUe=NUe,IUe=KE,D$=ID,j$=D$&&D$.isSet,OUe=j$?IUe(j$):PUe,DUe=OUe,jUe=CD,RUe=DX,MUe=jX,FUe=K8e,LUe=Q8e,$Ue=J8e,BUe=eBe,UUe=aBe,VUe=gBe,zUe=gX,WUe=MX,HUe=qE,GUe=SBe,KUe=lUe,qUe=pUe,YUe=Xs,XUe=GE,QUe=SUe,JUe=Nc,ZUe=DUe,e9e=zy,t9e=ZE,r9e=1,n9e=2,a9e=4,LX="[object Arguments]",i9e="[object Array]",s9e="[object Boolean]",o9e="[object Date]",l9e="[object Error]",$X="[object Function]",c9e="[object GeneratorFunction]",u9e="[object Map]",d9e="[object Number]",BX="[object Object]",f9e="[object RegExp]",h9e="[object Set]",m9e="[object String]",p9e="[object Symbol]",g9e="[object WeakMap]",v9e="[object ArrayBuffer]",y9e="[object DataView]",x9e="[object Float32Array]",w9e="[object Float64Array]",b9e="[object Int8Array]",_9e="[object Int16Array]",E9e="[object Int32Array]",S9e="[object Uint8Array]",T9e="[object Uint8ClampedArray]",A9e="[object Uint16Array]",C9e="[object Uint32Array]",pr={};pr[LX]=pr[i9e]=pr[v9e]=pr[y9e]=pr[s9e]=pr[o9e]=pr[x9e]=pr[w9e]=pr[b9e]=pr[_9e]=pr[E9e]=pr[u9e]=pr[d9e]=pr[BX]=pr[f9e]=pr[h9e]=pr[m9e]=pr[p9e]=pr[S9e]=pr[T9e]=pr[A9e]=pr[C9e]=!0;pr[l9e]=pr[$X]=pr[g9e]=!1;function cw(e,t,r,n,a,i){var s,o=t&r9e,l=t&n9e,c=t&a9e;if(r&&(s=a?r(e,n,a,i):r(e)),s!==void 0)return s;if(!JUe(e))return e;var u=YUe(e);if(u){if(s=GUe(e),!o)return BUe(e,s)}else{var f=HUe(e),h=f==$X||f==c9e;if(XUe(e))return $Ue(e,o);if(f==BX||f==LX||h&&!a){if(s=l||h?{}:qUe(e),!o)return l?VUe(e,LUe(s,e)):UUe(e,FUe(s,e))}else{if(!pr[f])return a?e:{};s=KUe(e,f,o)}}i||(i=new jUe);var m=i.get(e);if(m)return m;i.set(e,s),ZUe(e)?e.forEach(function(v){s.add(cw(v,t,r,v,e,i))}):QUe(e)&&e.forEach(function(v,y){s.set(y,cw(v,t,r,y,e,i))});var p=c?l?WUe:zUe:l?t9e:e9e,g=u?void 0:p(e);return RUe(g||e,function(v,y){g&&(y=v,v=e[y]),MUe(s,y,cw(v,t,r,y,e,i))}),s}var k9e=cw;function N9e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var P9e=N9e,I9e=XE,O9e=WY;function D9e(e,t){return t.length<2?e:I9e(e,O9e(t,0,-1))}var j9e=D9e,R9e=YE,M9e=P9e,F9e=j9e,L9e=Wy;function $9e(e,t){return t=R9e(t,e),e=F9e(e,t),e==null||delete e[L9e(M9e(t))]}var B9e=$9e,U9e=Mm,V9e=eS,z9e=dd,W9e="[object Object]",H9e=Function.prototype,G9e=Object.prototype,UX=H9e.toString,K9e=G9e.hasOwnProperty,q9e=UX.call(Object);function Y9e(e){if(!z9e(e)||U9e(e)!=W9e)return!1;var t=V9e(e);if(t===null)return!0;var r=K9e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&UX.call(r)==q9e}var X9e=Y9e,Q9e=X9e;function J9e(e){return Q9e(e)?void 0:e}var Z9e=J9e,eVe=AX;function tVe(e){var t=e==null?0:e.length;return t?eVe(e,1):[]}var rVe=tVe,nVe=rVe,aVe=CX,iVe=NX;function sVe(e){return iVe(aVe(e,void 0,nVe),e+"")}var oVe=sVe,lVe=FD,cVe=k9e,uVe=B9e,dVe=YE,fVe=Hy,hVe=Z9e,mVe=oVe,pVe=MX,gVe=1,vVe=2,yVe=4,xVe=mVe(function(e,t){var r={};if(e==null)return r;var n=!1;t=lVe(t,function(i){return i=dVe(i,e),n||(n=i.length>1),i}),fVe(e,pVe(e),r),n&&(r=cVe(r,gVe|vVe|yVe,hVe));for(var a=t.length;a--;)uVe(r,t[a]);return r}),wVe=xVe;const bVe=on(wVe);var _Ve=DX,EVe=FX,SVe=LD,TVe=JE,AVe=eS,CVe=Xs,kVe=GE,NVe=uD,PVe=Nc,IVe=OD;function OVe(e,t,r){var n=CVe(e),a=n||kVe(e)||IVe(e);if(t=TVe(t),r==null){var i=e&&e.constructor;a?r=n?new i:[]:PVe(e)?r=NVe(i)?EVe(AVe(e)):{}:r={}}return(a?_Ve:SVe)(e,function(s,o,l){return t(r,s,o,l)}),r}var DVe=OVe;const jVe=on(DVe);var RVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){return function(r,n,a){n.prototype.isBetween=function(i,s,o,l){var c=a(i),u=a(s),f=(l=l||"()")[0]==="(",h=l[1]===")";return(f?this.isAfter(c,o):!this.isBefore(c,o))&&(h?this.isBefore(u,o):!this.isAfter(u,o))||(f?this.isBefore(c,o):!this.isAfter(c,o))&&(h?this.isAfter(u,o):!this.isBefore(u,o))}}})})(RVe);var MVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(MVe);var FVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(FVe);var LVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){return function(r,n,a){var i=n.prototype,s=function(f){return f&&(f.indexOf?f:f.s)},o=function(f,h,m,p,g){var v=f.name?f:f.$locale(),y=s(v[h]),w=s(v[m]),b=y||w.map(function(k){return k.slice(0,p)});if(!g)return b;var E=v.weekStart;return b.map(function(k,C){return b[(C+(E||0))%7]})},l=function(){return a.Ls[a.locale()]},c=function(f,h){return f.formats[h]||function(m){return m.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,g,v){return g||v.slice(1)})}(f.formats[h.toUpperCase()])},u=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):o(f,"months")},monthsShort:function(h){return h?h.format("MMM"):o(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):o(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):o(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):o(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return c(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return u.bind(this)()},a.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(h){return c(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return o(l(),"months")},a.monthsShort=function(){return o(l(),"monthsShort","months",3)},a.weekdays=function(f){return o(l(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return o(l(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return o(l(),"weekdaysMin","weekdays",2,f)}}})})(LVe);var $Ve={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,i){var s=a.prototype,o=s.format;i.en.formats=r,s.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(m,p,g){var v=g&&g.toUpperCase();return p||h[g]||r[g]||h[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,w,b){return w||b.slice(1)})})}(l,c===void 0?{}:c);return o.call(this,u)}}})})($Ve);var BVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){return function(r,n,a){var i=function(s,o){if(!o||!o.length||o.length===1&&!o[0]||o.length===1&&Array.isArray(o[0])&&!o[0].length)return null;var l;o.length===1&&o[0].length>0&&(o=o[0]),l=(o=o.filter(function(u){return u}))[0];for(var c=1;c<o.length;c+=1)o[c].isValid()&&!o[c][s](l)||(l=o[c]);return l};a.max=function(){var s=[].slice.call(arguments,0);return i("isAfter",s)},a.min=function(){var s=[].slice.call(arguments,0);return i("isBefore",s)}}})})(BVe);var UVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,s,o){var l=s.prototype;o.utc=function(g){var v={date:g,utc:!0,args:arguments};return new s(v)},l.utc=function(g){var v=o(this.toDate(),{locale:this.$L,utc:!0});return g?v.add(this.utcOffset(),r):v},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),c.call(this,g)};var u=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else u.call(this)};var f=l.utcOffset;l.utcOffset=function(g,v){var y=this.$utils().u;if(y(g))return this.$u?0:y(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(k){k===void 0&&(k="");var C=k.match(n);if(!C)return null;var S=(""+C[0]).match(a)||["-",0,0],_=S[0],A=60*+S[1]+ +S[2];return A===0?0:_==="+"?A:-A}(g),g===null))return this;var w=Math.abs(g)<=16?60*g:g;if(w===0)return this.utc(v);var b=this.clone();if(v)return b.$offset=w,b.$u=!1,b;var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(b=this.local().add(w+E,r)).$offset=w,b.$x.$localOffset=E,b};var h=l.format;l.format=function(g){var v=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,v)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var m=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var p=l.diff;l.diff=function(g,v,y){if(g&&this.$u===g.$u)return p.call(this,g,v,y);var w=this.local(),b=o(g).local();return p.call(w,b,v,y)}}})})(UVe);var VVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(VVe);function Wo(e){return e.children}var Ri={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},ii={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},R$=Object.keys(ii).map(function(e){return ii[e]});je.oneOfType([je.string,je.func]);je.any;je.func;je.oneOfType([je.arrayOf(je.oneOf(R$)),je.objectOf(function(e,t){var r=R$.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return je.elementType.apply(je,[e,t].concat(a))})]);je.oneOfType([je.oneOf(["overlap","no-overlap"]),je.func]);var M$={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function VX(e,t){var r=_a(e,"month");return _a(r,"week",t.startOfWeek())}function zX(e,t){var r=Ib(e,"month");return Ib(r,"week",t.startOfWeek())}function zVe(e,t){for(var r=VX(e,t),n=zX(e,t),a=[];Dm(r,n,"day");)a.push(r),r=Do(r,1,"day");return a}function WVe(e,t){var r=_a(e,t);return Om(r,e)?r:Do(r,1,t)}function HVe(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];Dm(n,t,r);)a.push(n),n=Do(n,1,r);return a}function GVe(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=_a(e,"day"),e=Fv(e,Fv(t)),e=Y0(e,Y0(t)),e=Mv(e,Mv(t)),Rv(e,Rv(t)))}function F$(e){return Fv(e)===0&&Y0(e)===0&&Mv(e)===0&&Rv(e)===0}function KVe(e,t,r,n){return r==="day"&&(r="date"),Math.abs(x5[r](e,void 0,n)-x5[r](t,void 0,n))}function UD(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+_a(e,r)/M$[r]-+_a(t,r)/M$[r]))}var qVe=je.oneOfType([je.string,je.func]);function YVe(e,t,r,n,a){var i=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return Nv(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function XVe(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function VD(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function QVe(e,t){return UD(e,t,"minutes")+VD(e,t)}function JVe(e){var t=_a(e,"day");return UD(t,e,"minutes")+VD(t,e)}function ZVe(e,t){return cD(e,t,"day")}function e7e(e,t,r){var n=Om(e,t,"minutes");return n?My(t,r,"minutes"):$E(t,r,"minutes")}function Uk(e,t){return KVe(e,t,"day")}function t7e(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,i=e.evtB,s=i.start,o=i.end,l=i.allDay,c=+_a(r,"day")-+_a(s,"day"),u=Uk(r,n),f=Uk(s,o);return c||f-u||!!l-!!a||+r-+s||+n-+o}function r7e(e){var t=e.event,r=t.start,n=t.end,a=e.range,i=a.start,s=a.end,o=_a(r,"day"),l=Dm(o,s,"day"),c=lD(o,n,"minutes"),u=c?$E(n,i,"minutes"):My(n,i,"minutes");return l&&u}function n7e(e,t){return Om(e,t,"day")}function a7e(e,t){return F$(e)&&F$(t)}var i7e=zn(function e(t){var r=this;Vn(this,e),Nv(typeof t.format=="function","date localizer `format(..)` must be a function"),Nv(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||qVe,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return YVe.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||GVe,this.inRange=t.inRange||$Y,this.lt=t.lt||cD,this.lte=t.lte||Dm,this.gt=t.gt||$E,this.gte=t.gte||My,this.eq=t.eq||Om,this.neq=t.neq||lD,this.startOf=t.startOf||_a,this.endOf=t.endOf||Ib,this.add=t.add||Do,this.range=t.range||HVe,this.diff=t.diff||UD,this.ceil=t.ceil||WVe,this.min=t.min||FY,this.max=t.max||LY,this.minutes=t.minutes||Y0,this.daySpan=t.daySpan||Uk,this.firstVisibleDay=t.firstVisibleDay||VX,this.lastVisibleDay=t.lastVisibleDay||zX,this.visibleDays=t.visibleDays||zVe,this.getSlotDate=t.getSlotDate||XVe,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||VD,this.getTotalMin=t.getTotalMin||QVe,this.getMinutesFromMidnight=t.getMinutesFromMidnight||JVe,this.continuesPrior=t.continuesPrior||ZVe,this.continuesAfter=t.continuesAfter||e7e,this.sortEvents=t.sortEvents||t7e,this.inEventRange=t.inEventRange||r7e,this.isSameDate=t.isSameDate||n7e,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||a7e,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function s7e(e,t,r,n){var a=ur(ur({},e.formats),r);return ur(ur({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(s,o){return e.format(s,a[o]||o,t)}})}var o7e=function(e){function t(){var r;Vn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Xa(this,t,[].concat(a)),r.navigate=function(s){r.props.onNavigate(s)},r.view=function(s){r.props.onView(s)},r}return Qa(t,e),zn(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,i=n.label;return ne.createElement("div",{className:"rbc-toolbar"},ne.createElement("span",{className:"rbc-btn-group"},ne.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ri.TODAY)},a.today),ne.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ri.PREVIOUS)},a.previous),ne.createElement("button",{type:"button",onClick:this.navigate.bind(null,Ri.NEXT)},a.next)),ne.createElement("span",{className:"rbc-toolbar-label"},i),ne.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,i=this.props.views,s=this.props.view;if(i.length>1)return i.map(function(o){return ne.createElement("button",{type:"button",key:o,className:nn({"rbc-active":s===o}),onClick:a.view.bind(null,o)},n[o])})}}])}(ne.Component);function Nr(e,t){e&&e.apply(null,[].concat(t))}var l7e={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function c7e(e){return ur(ur({},l7e),e)}function u7e(e){var t=e.ref,r=e.callback;T.useEffect(function(){var n=function(i){t.current&&!t.current.contains(i.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var d7e=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],WX=function(e){function t(){return Vn(this,t),Xa(this,t,arguments)}return Qa(t,e),zn(t,[{key:"render",value:function(){var n=this.props,a=n.style,i=n.className,s=n.event,o=n.selected,l=n.isAllDay,c=n.onSelect,u=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,m=n.continuesPrior,p=n.continuesAfter,g=n.accessors,v=n.getters,y=n.children,w=n.components,b=w.event,E=w.eventWrapper,k=n.slotStart,C=n.slotEnd,S=pl(n,d7e);delete S.resizable;var _=g.title(s),A=g.tooltip(s),P=g.end(s),N=g.start(s),I=g.allDay(s),D=l||I||h.diff(N,h.ceil(P,"day"),"day")>1,M=v.eventProp(s,N,P,o),ee=ne.createElement("div",{className:"rbc-event-content",title:A||void 0},b?ne.createElement(b,{event:s,continuesPrior:m,continuesAfter:p,title:_,isAllDay:I,localizer:h,slotStart:k,slotEnd:C}):_);return ne.createElement(E,Object.assign({},this.props,{type:"date"}),ne.createElement("div",Object.assign({},S,{style:ur(ur({},M.style),a),className:nn("rbc-event",i,M.className,{"rbc-selected":o,"rbc-event-allday":D,"rbc-event-continues-prior":m,"rbc-event-continues-after":p}),onClick:function(W){return c&&c(s,W)},onDoubleClick:function(W){return u&&u(s,W)},onKeyDown:function(W){return f&&f(s,W)}}),typeof y=="function"?y(ee):ee))}}])}(ne.Component);function tS(e,t){return!e||t==null?!1:NLe(e,t)}function HX(e,t){var r=e.right-e.left,n=r/t;return n}function GX(e,t,r,n){var a=HX(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function f7e(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function h7e(e,t,r,n,a){var i=-1,s=-1,o=n-1,l=HX(t,n),c=GX(t,r.x,a,n),u=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,m=t.top>e.y,p=r.top<t.top&&r.bottom>t.bottom;return p&&(i=0,s=o),u&&(m?(i=0,s=c):h&&(i=c,s=o)),f&&(i=s=a?o-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),u?c<i?i=c:s=c:e.y<r.y?s=o:i=0),{startIdx:i,endIdx:s}}function m7e(e){var t=e.target,r=e.offset,n=e.container,a=e.box,i=af(t),s=i.top,o=i.left,l=i.width,c=i.height,u=af(n),f=u.top,h=u.left,m=u.width,p=u.height,g=af(a),v=g.width,y=g.height,w=f+p,b=h+m,E=s+y,k=o+v,C=r.x,S=r.y,_=E>w?s-y-S:s+S+c,A=k>b?o+C-v+l:o+C;return{topOffset:_,leftOffset:A}}function p7e(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,i=e.components,s=e.localizer,o=e.position,l=e.show,c=e.events,u=e.slotStart,f=e.slotEnd,h=e.onSelect,m=e.onDoubleClick,p=e.onKeyPress,g=e.handleDragStart,v=e.popperRef,y=e.target,w=e.offset;u7e({ref:v,callback:l}),T.useLayoutEffect(function(){var k=m7e({target:y,offset:w,container:t.current,box:v.current}),C=k.topOffset,S=k.leftOffset;v.current.style.top="".concat(C,"px"),v.current.style.left="".concat(S,"px")},[w.x,w.y,y]);var b=o.width,E={minWidth:b+b/2};return ne.createElement("div",{style:E,className:"rbc-overlay",ref:v},ne.createElement("div",{className:"rbc-overlay-header"},s.format(u,"dayHeaderFormat")),c.map(function(k,C){return ne.createElement(WX,{key:C,type:"popup",localizer:s,event:k,getters:n,onSelect:h,accessors:r,components:i,onDoubleClick:m,onKeyPress:p,continuesPrior:s.lt(r.end(k),u,"day"),continuesAfter:s.gte(r.start(k),f,"day"),slotStart:u,slotEnd:f,selected:tS(k,a),draggable:!0,onDragStart:function(){return g(k)},onDragEnd:function(){return l()}})}))}var KX=ne.forwardRef(function(e,t){return ne.createElement(p7e,Object.assign({},e,{popperRef:t}))});KX.propTypes={accessors:je.object.isRequired,getters:je.object.isRequired,selected:je.object,components:je.object.isRequired,localizer:je.object.isRequired,position:je.object.isRequired,show:je.func.isRequired,events:je.array.isRequired,slotStart:je.instanceOf(Date).isRequired,slotEnd:je.instanceOf(Date),onSelect:je.func,onDoubleClick:je.func,onKeyPress:je.func,handleDragStart:je.func,style:je.object,offset:je.shape({x:je.number,y:je.number})};function g7e(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,i=e.accessors,s=e.localizer,o=e.components,l=e.getters,c=e.selected,u=e.handleSelectEvent,f=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,m=e.handleDragStart,p=e.onHide,g=e.overlayDisplay,v=T.useRef(null);if(!a.position)return null;var y=n;isNaN(n)||(y={x:n,y:n});var w=a.position,b=a.events,E=a.date,k=a.end;return ne.createElement(SD,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:p,target:a.target},function(C){var S=C.props;return ne.createElement(KX,Object.assign({},S,{containerRef:t,ref:v,target:a.target,offset:y,accessors:i,getters:l,selected:c,components:o,localizer:s,position:w,show:g,events:b,slotStart:E,slotEnd:k,onSelect:u,onDoubleClick:f,onKeyPress:h,handleDragStart:m}))})}var zD=ne.forwardRef(function(e,t){return ne.createElement(g7e,Object.assign({},e,{containerRef:t}))});zD.propTypes={popupOffset:je.oneOfType([je.number,je.shape({x:je.number,y:je.number})]),overlay:je.shape({position:je.object,events:je.array,date:je.instanceOf(Date),end:je.instanceOf(Date)}),accessors:je.object.isRequired,localizer:je.object.isRequired,components:je.object.isRequired,getters:je.object.isRequired,selected:je.object,handleSelectEvent:je.func,handleDoubleClickEvent:je.func,handleKeyPressEvent:je.func,handleDragStart:je.func,onHide:je.func,overlayDisplay:je.func};function Ia(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Kp(r,e,t,{passive:!1})}function v7e(e,t,r){return!e||Lv(e,document.elementFromPoint(t,r))}function y7e(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return xX(a,".rbc-event",e)}function x7e(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return xX(a,".rbc-show-more",e)}function Lb(e,t){return!!y7e(e,t)}function w7e(e,t){return!!x7e(e,t)}function Sp(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var L$=5,b7e=250,qX=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,i=r.longPressThreshold,s=i===void 0?250:i,o=r.validContainers,l=o===void 0?[]:o;Vn(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=s,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Ia("touchmove",function(){},window),this._removeKeyDownListener=Ia("keydown",this._keyListener),this._removeKeyUpListener=Ia("keyup",this._keyListener),this._removeDropFromOutsideListener=Ia("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Ia("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return zn(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var s=a.indexOf(n);s!==-1&&a.splice(s,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var s,o=this._listeners[r]||[];return o.forEach(function(l){s===void 0&&(s=l.apply(void 0,a))}),s}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:$$(n,Vf(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,i=null,s=null,o=null,l=function(h){i=setTimeout(function(){u(),r(h)},a.longPressThreshold),s=Ia("touchmove",function(){return u()}),o=Ia("touchend",function(){return u()})},c=Ia("touchstart",l),u=function(){i&&clearTimeout(i),s&&s(),o&&o(),i=null,s=null,o=null};return n&&l(n),function(){u(),c()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Ia("mousedown",function(i){r._removeInitialEventListener(),r._handleInitialEvent(i),r._removeInitialEventListener=Ia("mousedown",r._handleInitialEvent)}),a=Ia("touchstart",function(i){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Sp(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:s,clientY:o}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Sp(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:s,clientY:o}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Sp(r),a=n.clientX,i=n.clientY,s=n.pageX,o=n.pageY,l=this.container(),c,u;if(!(r.which===3||r.button===2||!v7e(l,a,i))){if(!this.globalMouse&&l&&!Lv(l,r.target)){var f=_7e(0),h=f.top,m=f.left,p=f.bottom,g=f.right;if(u=Vf(l),c=$$({top:u.top-h,left:u.left-m,bottom:u.bottom+p,right:u.right+g},{top:o,left:s}),!c)return}var v=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:s,y:o,clientX:a,clientY:i});if(v!==!1)switch(r.type){case"mousedown":this._removeEndListener=Ia("mouseup",this._handleTerminatingEvent),this._onEscListener=Ia("keydown",this._handleTerminatingEvent),this._removeMoveListener=Ia("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Ia("touchend",this._handleTerminatingEvent),this._removeMoveListener=Ia("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var i=!this.container||Lv(this.container(),r.target),s=this._isWithinValidContainer(r);return r.key==="Escape"||!s?this.emit("reset"):!n&&i?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Sp(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<b7e?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:s,clientY:o})):(this._lastClickData={timestamp:l},this.emit("click",{x:a,y:i,clientX:s,clientY:o}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,i=n.y,s=Sp(r),o=s.pageX,l=s.pageY,c=Math.abs(a-o),u=Math.abs(i-l),f=Math.min(o,a),h=Math.min(l,i),m=this.selecting,p=this.isClick(o,l);p&&!m&&!(c||u)||(!m&&!p&&this.emit("selectStart",this._initialEventData),p||(this.selecting=!0,this._selectRect={top:h,left:f,x:o,y:l,right:f+c,bottom:h+u},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,i=a.x,s=a.y,o=a.isTouch;return!o&&Math.abs(r-i)<=L$&&Math.abs(n-s)<=L$}}])}();function _7e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return yc(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function $$(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Vf(e),a=n.top,i=n.left,s=n.right,o=s===void 0?i:s,l=n.bottom,c=l===void 0?a:l,u=Vf(t),f=u.top,h=u.left,m=u.right,p=m===void 0?h:m,g=u.bottom,v=g===void 0?f:g;return!(c-r<f||a+r>v||o-r<h||i+r>p)}function Vf(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+B$("left"),n=t.top+B$("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function B$(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var E7e=function(e){function t(r,n){var a;return Vn(this,t),a=Xa(this,t,[r,n]),a.state={selecting:!1},a.containerRef=T.createRef(),a}return Qa(t,e),zn(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,i=n.getNow,s=n.getters,o=n.date,l=n.components.dateCellWrapper,c=n.localizer,u=this.state,f=u.selecting,h=u.startIdx,m=u.endIdx,p=i();return ne.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(g,v){var y=f&&v>=h&&v<=m,w=s.dayProp(g),b=w.className,E=w.style;return ne.createElement(l,{key:v,value:g,range:a},ne.createElement("div",{style:E,className:nn("rbc-day-bg",b,y&&"rbc-selected-cell",c.isSameDate(g,p)&&"rbc-today",o&&c.neq(o,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,i=this._selector=new qX(this.props.container,{longPressThreshold:this.props.longPressThreshold}),s=function(l,c){if(!Lb(a,l)&&!w7e(a,l)){var u=Vf(a),f=n.props,h=f.range,m=f.rtl;if(f7e(u,l)){var p=GX(u,l.x,m,h.length);n._selectSlot({startIdx:p,endIdx:p,action:c,box:l})}}n._initial={},n.setState({selecting:!1})};i.on("selecting",function(o){var l=n.props,c=l.range,u=l.rtl,f=-1,h=-1;if(n.state.selecting||(Nr(n.props.onSelectStart,[o]),n._initial={x:o.x,y:o.y}),i.isSelected(a)){var m=Vf(a),p=h7e(n._initial,m,o,c.length,u);f=p.startIdx,h=p.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),i.on("beforeSelect",function(o){if(n.props.selectable==="ignoreEvents")return!Lb(n.containerRef.current,o)}),i.on("click",function(o){return s(o,"click")}),i.on("doubleClick",function(o){return s(o,"doubleClick")}),i.on("select",function(o){n._selectSlot(ur(ur({},n.state),{},{action:"select",bounds:o})),n._initial={},n.setState({selecting:!1}),Nr(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,i=n.startIdx,s=n.action,o=n.bounds,l=n.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:s,bounds:o,box:l,resourceId:this.props.resourceId})}}])}(ne.Component),As={propTypes:{slotMetrics:je.object.isRequired,selected:je.object,isAllDay:je.bool,accessors:je.object.isRequired,localizer:je.object.isRequired,components:je.object.isRequired,getters:je.object.isRequired,onSelect:je.func,onDoubleClick:je.func,onKeyPress:je.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,s=t.onSelect,o=t.onDoubleClick,l=t.onKeyPress,c=t.localizer,u=t.slotMetrics,f=t.components,h=t.resizable,m=u.continuesPrior(r),p=u.continuesAfter(r);return ne.createElement(WX,{event:r,getters:i,localizer:c,accessors:a,components:f,onSelect:s,onDoubleClick:o,onKeyPress:l,continuesPrior:m,continuesAfter:p,slotStart:u.first,slotEnd:u.last,selected:tS(r,n),resizable:h})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(r)/t*100+"%";return ne.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},YX=function(e){function t(){return Vn(this,t),Xa(this,t,arguments)}return Qa(t,e),zn(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.segments,s=a.slotMetrics.slots,o=a.className,l=1;return ne.createElement("div",{className:nn(o,"rbc-row")},i.reduce(function(c,u,f){var h=u.event,m=u.left,p=u.right,g=u.span,v="_lvl_"+f,y=m-l,w=As.renderEvent(n.props,h);return y&&c.push(As.renderSpan(s,y,"".concat(v,"_gap"))),c.push(As.renderSpan(s,g,v,w)),l=p+1,c},[]))}}])}(ne.Component);YX.defaultProps=ur({},As.defaultProps);function XX(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function S7e(e,t,r,n){var a=XX({dateRange:t,localizer:n}),i=a.first,s=a.last,o=n.diff(i,s,"day"),l=n.max(n.startOf(r.start(e),"day"),i),c=n.min(n.ceil(r.end(e),"day"),s),u=k5e(t,function(h){return n.isSameDate(h,l)}),f=n.diff(l,c,"day");return f=Math.min(f,o),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:u+1,right:Math.max(u+f,1)}}function Vk(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,i=[],s=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<i.length&&T7e(a,i[n]);n++);n>=t?s.push(a):(i[n]||(i[n]=[])).push(a)}for(r=0;r<i.length;r++)i[r].sort(function(o,l){return o.left-l.left});return{levels:i,extra:s}}function Uv(e,t,r,n,a){var i={start:n.start(e),end:n.end(e)},s={start:t,end:r};return a.inEventRange({event:i,range:s})}function T7e(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function A7e(e,t,r){var n=ow(e),a=[],i=[];n.forEach(function(l){var c=t.start(l),u=t.end(l);r.daySpan(c,u)>1?a.push(l):i.push(l)});var s=a.sort(function(l,c){return zk(l,c,t,r)}),o=i.sort(function(l,c){return zk(l,c,t,r)});return[].concat(ow(s),ow(o))}function zk(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:i})}var Wk=function(t,r){return t.left<=r&&t.right>=r},HT=function(t,r){return t.filter(function(n){return Wk(n,r)}).map(function(n){return n.event})},QX=function(e){function t(){return Vn(this,t),Xa(this,t,arguments)}return Qa(t,e),zn(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,i=n.slotMetrics.slots,s=Vk(a).levels[0],o=1,l=1,c=[];o<=i;){var u="_lvl_"+o,f=s.filter(function(E){return Wk(E,o)})[0]||{},h=f.event,m=f.left,p=f.right,g=f.span;if(!h){var v=this.getHiddenEventsForSlot(a,o);if(v.length>0){var y=o-l;y&&c.push(As.renderSpan(i,y,u+"_gap")),c.push(As.renderSpan(i,1,u,this.renderShowMore(a,o))),l=o=o+1;continue}o++;continue}var w=Math.max(0,m-l);if(this.canRenderSlotEvent(m,g)){var b=As.renderEvent(this.props,h);w&&c.push(As.renderSpan(i,w,u+"_gap")),c.push(As.renderSpan(i,g,u,b)),l=o=p+1}else w&&c.push(As.renderSpan(i,w,u+"_gap")),c.push(As.renderSpan(i,1,u,this.renderShowMore(a,o))),l=o=o+1}return ne.createElement("div",{className:"rbc-row"},c)}},{key:"getHiddenEventsForSlot",value:function(n,a){var i=HT(n,a),s=Vk(n).levels[0],o=s.filter(function(l){return Wk(l,a)}).map(function(l){return l.event});return i.filter(function(l){return!o.some(function(c){return c===l})})}},{key:"canRenderSlotEvent",value:function(n,a){var i=this.props.segments;return B5e(n,n+a).every(function(s){var o=HT(i,s).length;return o===1})}},{key:"renderShowMore",value:function(n,a){var i=this,s=this.props,o=s.localizer,l=s.slotMetrics,c=s.components,u=l.getEventsForSlot(a),f=HT(n,a),h=f.length;if(c!=null&&c.showMore){var m=c.showMore,p=l.getDateForSlot(a-1);return h?ne.createElement(m,{localizer:o,slotDate:p,slot:a,count:h,events:u,remainingEvents:f}):!1}return h?ne.createElement("button",{type:"button",key:"sm_"+a,className:nn("rbc-button-link","rbc-show-more"),onClick:function(v){return i.showMore(a,v)}},o.messages.showMore(h,f,u)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(ne.Component);QX.defaultProps=ur({},As.defaultProps);var C7e=function(t){var r=t.children;return ne.createElement("div",{className:"rbc-row-content-scroll-container"},r)},k7e=function(t,r){return t.left<=r&&t.right>=r},N7e=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function JX(){return SX(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,i=e.accessors,s=e.localizer,o=XX({dateRange:t,localizer:s}),l=o.first,c=o.last,u=r.map(function(g){return S7e(g,t,i,s)}),f=Vk(u,Math.max(n-1,1)),h=f.levels,m=f.extra,p=m.length>0?a-1:a;h.length<p;)h.push([]);return{first:l,last:c,levels:h,extra:m,range:t,slots:t.length,clone:function(v){var y=JX();return y(ur(ur({},e),v))},getDateForSlot:function(v){return t[v]},getSlotForDate:function(v){return t.find(function(y){return s.isSameDate(y,v)})},getEventsForSlot:function(v){return u.filter(function(y){return k7e(y,v)}).map(function(y){return y.event})},continuesPrior:function(v){return s.continuesPrior(i.start(v),l)},continuesAfter:function(v){var y=i.start(v),w=i.end(v);return s.continuesAfter(y,w,c)}}},N7e)}var Vv=function(e){function t(){var r;Vn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Xa(this,t,[].concat(a)),r.handleSelectSlot=function(s){var o=r.props,l=o.range,c=o.onSelectSlot;c(l.slice(s.start,s.end+1),s)},r.handleShowMore=function(s,o){var l=r.props,c=l.range,u=l.onShowMore,f=r.slotMetrics(r.props),h=kDe(r.containerRef.current,".rbc-row-bg")[0],m;h&&(m=h.children[s-1]);var p=f.getEventsForSlot(s);u(p,c[s-1],m,s,o)},r.getContainer=function(){var s=r.props.container;return s?s():r.containerRef.current},r.renderHeadingCell=function(s,o){var l=r.props,c=l.renderHeader,u=l.getNow,f=l.localizer;return c({date:s,key:"header_".concat(o),className:nn("rbc-date-cell",f.isSameDate(s,u())&&"rbc-now")})},r.renderDummy=function(){var s=r.props,o=s.className,l=s.range,c=s.renderHeader,u=s.showAllEvents;return ne.createElement("div",{className:o,ref:r.containerRef},ne.createElement("div",{className:nn("rbc-row-content",u&&"rbc-row-content-scrollable")},c&&ne.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),ne.createElement("div",{className:"rbc-row",ref:r.eventRowRef},ne.createElement("div",{className:"rbc-row-segment"},ne.createElement("div",{className:"rbc-event"},ne.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=T.createRef(),r.headingRowRef=T.createRef(),r.eventRowRef=T.createRef(),r.slotMetrics=JX(),r}return Qa(t,e),zn(t,[{key:"getRowLimit",value:function(){var n,a=VT(this.eventRowRef.current),i=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?VT(this.headingRowRef.current):0,s=VT(this.containerRef.current)-i;return Math.max(Math.floor(s/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.rtl,s=n.range,o=n.className,l=n.selected,c=n.selectable,u=n.renderForMeasure,f=n.accessors,h=n.getters,m=n.components,p=n.getNow,g=n.renderHeader,v=n.onSelect,y=n.localizer,w=n.onSelectStart,b=n.onSelectEnd,E=n.onDoubleClick,k=n.onKeyPress,C=n.resourceId,S=n.longPressThreshold,_=n.isAllDay,A=n.resizable,P=n.showAllEvents;if(u)return this.renderDummy();var N=this.slotMetrics(this.props),I=N.levels,D=N.extra,M=P?C7e:Wo,ee=m.weekWrapper,Q={selected:l,accessors:f,getters:h,localizer:y,components:m,onSelect:v,onDoubleClick:E,onKeyPress:k,resourceId:C,slotMetrics:N,resizable:A};return ne.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},ne.createElement(E7e,{localizer:y,date:a,getNow:p,rtl:i,range:s,selectable:c,container:this.getContainer,getters:h,onSelectStart:w,onSelectEnd:b,onSelectSlot:this.handleSelectSlot,components:m,longPressThreshold:S,resourceId:C}),ne.createElement("div",{className:nn("rbc-row-content",P&&"rbc-row-content-scrollable"),role:"row"},g&&ne.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},s.map(this.renderHeadingCell)),ne.createElement(M,null,ne.createElement(ee,Object.assign({isAllDay:_},Q,{rtl:this.props.rtl}),I.map(function(W,z){return ne.createElement(YX,Object.assign({key:z,segments:W},Q))}),!!D.length&&ne.createElement(QX,Object.assign({segments:D,onShowMore:this.handleShowMore},Q))))))}}])}(ne.Component);Vv.defaultProps={minRows:0,maxRows:1/0};var WD=function(t){var r=t.label;return ne.createElement("span",{role:"columnheader","aria-sort":"none"},r)},P7e=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?ne.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):ne.createElement("span",null,r)},I7e=["date","className"],O7e=function(t,r,n,a,i){return t.filter(function(s){return Uv(s,r,n,a,i)})},rS=function(e){function t(){var r;Vn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Xa(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(s,o){var l=r.props,c=l.events,u=l.components,f=l.selectable,h=l.getNow,m=l.selected,p=l.date,g=l.localizer,v=l.longPressThreshold,y=l.accessors,w=l.getters,b=l.showAllEvents,E=r.state,k=E.needLimitMeasure,C=E.rowLimit,S=O7e(ow(c),s[0],s[s.length-1],y,g),_=A7e(S,y,g);return ne.createElement(Vv,{key:o,ref:o===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:p,range:s,events:_,maxRows:b?1/0:C,selected:m,selectable:f,components:u,accessors:y,getters:w,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:k,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:v,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:b})},r.readerDateHeading=function(s){var o=s.date,l=s.className,c=pl(s,I7e),u=r.props,f=u.date,h=u.getDrilldownView,m=u.localizer,p=m.neq(f,o,"month"),g=m.isSameDate(o,f),v=h(o),y=m.format(o,"dateFormat"),w=r.props.components.dateHeader||P7e;return ne.createElement("div",Object.assign({},c,{className:nn(l,p&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),ne.createElement(w,{label:y,date:o,drilldownView:v,isOffRange:p,onDrillDown:function(E){return r.handleHeadingClick(o,v,E)}}))},r.handleSelectSlot=function(s,o){r._pendingSelection=r._pendingSelection.concat(s),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(o)})},r.handleHeadingClick=function(s,o,l){l.preventDefault(),r.clearSelection(),Nr(r.props.onDrillDown,[s,o])},r.handleSelectEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Nr(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Nr(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Nr(r.props.onKeyPressEvent,o)},r.handleShowMore=function(s,o,l,c,u){var f=r.props,h=f.popup,m=f.onDrillDown,p=f.onShowMore,g=f.getDrilldownView,v=f.doShowMoreDrillDown;if(r.clearSelection(),h){var y=JY(l,r.containerRef.current);r.setState({overlay:{date:o,events:s,position:y,target:u}})}else v&&Nr(m,[o,g(o)||ii.DAY]);Nr(p,[s,o,c])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=T.createRef(),r.slotRowRef=T.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Qa(t,e),zn(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||ZY(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.className,o=i.visibleDays(a,i),l=fDe(o,7);return this._weekCount=l.length,ne.createElement("div",{className:nn("rbc-month-view",s),role:"table","aria-label":"Month View",ref:this.containerRef},ne.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,i=a.localizer,s=a.components,o=n[0],l=n[n.length-1],c=s.header||WD;return i.range(o,l,"day").map(function(u,f){return ne.createElement("div",{key:"header_"+f,className:"rbc-header"},ne.createElement(c,{date:u,localizer:i,label:i.format(u,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,i=this,s=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,l=o.accessors,c=o.localizer,u=o.components,f=o.getters,h=o.selected,m=o.popupOffset,p=o.handleDragStart,g=function(){return i.setState({overlay:null})};return ne.createElement(zD,{overlay:s,accessors:l,localizer:c,components:u,getters:f,selected:h,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(o,l){return+o-+l});var i=new Date(a[0]),s=new Date(a[a.length-1]);s.setDate(a[a.length-1].getDate()+1),Nr(this.props.onSelectSlot,{slots:a,start:i,end:s,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var i=n.date,s=n.localizer;return{date:i,needLimitMeasure:s.neq(i,a.date,"month")}}}])}(ne.Component);rS.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};rS.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ri.PREVIOUS:return n.add(e,-1,"month");case Ri.NEXT:return n.add(e,1,"month");default:return e}};rS.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var U$=function(t){var r=t.min,n=t.max,a=t.step,i=t.slots,s=t.localizer;return"".concat(+s.startOf(r,"minutes"))+"".concat(+s.startOf(n,"minutes"))+"".concat(a,"-").concat(i)};function HD(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,i=e.localizer,s=U$({step:n,localizer:i}),o=1+i.getTotalMin(t,r),l=i.getMinutesFromMidnight(t),c=Math.ceil((o-1)/(n*a)),u=c*a,f=new Array(c),h=new Array(u),m=0;m<c;m++){f[m]=new Array(a);for(var p=0;p<a;p++){var g=m*a+p,v=g*n;h[g]=f[m][p]=i.getSlotDate(t,l,v)}}var y=h.length*n;h.push(i.getSlotDate(t,l,y));function w(b){var E=i.diff(t,b,"minutes")+i.getDstOffset(t,b);return Math.min(E,o)}return{groups:f,update:function(E){return U$(E)!==s?HD(E):this},dateIsInGroup:function(E,k){var C=f[k+1];return i.inRange(E,f[k][0],C?C[0]:r,"minutes")},nextSlot:function(E){var k=h[Math.min(h.findIndex(function(C){return C===E||i.eq(C,E)})+1,h.length-1)];return i.eq(k,E)&&(k=i.add(E,n,"minutes")),k},closestSlotToPosition:function(E){var k=Math.min(h.length-1,Math.max(0,Math.floor(E*u)));return h[k]},closestSlotFromPoint:function(E,k){var C=Math.abs(k.top-k.bottom);return this.closestSlotToPosition((E.y-k.top)/C)},closestSlotFromDate:function(E){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(E,t,"minutes"))return h[0];if(i.gt(E,r,"minutes"))return h[h.length-1];var C=i.diff(t,E,"minutes");return h[(C-C%n)/n+k]},startsBeforeDay:function(E){return i.lt(E,t,"day")},startsAfterDay:function(E){return i.gt(E,r,"day")},startsBefore:function(E){return i.lt(i.merge(t,E),t,"minutes")},startsAfter:function(E){return i.gt(i.merge(r,E),r,"minutes")},getRange:function(E,k,C,S){C||(E=i.min(r,i.max(t,E))),S||(k=i.min(r,i.max(t,k)));var _=w(E),A=w(k),P=A>n*u&&!i.eq(r,k)?(_-n)/(n*u)*100:_/(n*u)*100;return{top:P,height:A/(n*u)*100-P,start:w(E),startDate:E,end:w(k),endDate:k}},getCurrentTimePosition:function(E){var k=w(E),C=k/(n*u)*100;return C}}}var D7e=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;Vn(this,e);var i=a.getRange(n.start(t),n.end(t)),s=i.start,o=i.startDate,l=i.end,c=i.endDate,u=i.top,f=i.height;this.start=s,this.end=l,this.startMs=+o,this.endMs=+c,this.top=u,this.height=f,this.data=t}return zn(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,i=r._width,s=n.indexOf(this)+1;return a+s*i}}])}();function j7e(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function R7e(e){for(var t=s8e(e,["startMs",function(o){return-o.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var i=t[a];if(!(n.endMs>i.startMs)){if(a>0){var s=t.splice(a,1)[0];r.push(s)}break}}}return r}function ZX(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=t.map(function(u){return new D7e(u,{slotMetrics:n,accessors:a})}),s=R7e(i),o=[],l=function(){var f=s[c],h=o.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<r});if(!h)return f.rows=[],o.push(f),1;f.container=h;for(var m=null,p=h.rows.length-1;!m&&p>=0;p--)j7e(h.rows[p],f,r)&&(m=h.rows[p]);m?(m.leaves.push(f),f.row=m):(f.leaves=[],h.rows.push(f))},c=0;c<s.length;c++)l();return s.map(function(u){return{event:u.data,style:{top:u.top,height:u.height,width:u.width,xOffset:Math.max(0,u.xOffset)}}})}function eQ(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=eQ(e.friends[n],t,r);t=t>a?t:a}return t}function M7e(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=ZX({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});i.sort(function(ee,Q){return ee=ee.style,Q=Q.style,ee.top!==Q.top?ee.top>Q.top?1:-1:ee.height!==Q.height?ee.top+ee.height<Q.top+Q.height?1:-1:0});for(var s=0;s<i.length;++s)i[s].friends=[],delete i[s].style.left,delete i[s].style.left,delete i[s].idx,delete i[s].size;for(var o=0;o<i.length-1;++o)for(var l=i[o],c=l.style.top,u=l.style.top+l.style.height,f=o+1;f<i.length;++f){var h=i[f],m=h.style.top,p=h.style.top+h.style.height;(m>=c&&p<=u||p>c&&p<=u||m>=c&&m<u)&&(l.friends.push(h),h.friends.push(l))}for(var g=0;g<i.length;++g){for(var v=i[g],y=[],w=0;w<100;++w)y.push(1);for(var b=0;b<v.friends.length;++b)v.friends[b].idx!==void 0&&(y[v.friends[b].idx]=0);v.idx=y.indexOf(1)}for(var E=0;E<i.length;++E){var k=0;if(!i[E].size){var C=[],S=eQ(i[E],0,C);k=100/(S+1),i[E].size=k;for(var _=0;_<C.length;++_)C[_].size=k}}for(var A=0;A<i.length;++A){var P=i[A];P.style.left=P.idx*P.size;for(var N=0,I=0;I<P.friends.length;++I){var D=P.friends[I].idx;N=N>D?N:D}N<=P.idx&&(P.size=100-P.idx*P.size);var M=P.idx===0?0:3;P.style.width="calc(".concat(P.size,"% - ").concat(M,"px)"),P.style.height="calc(".concat(P.style.height,"% - 2px)"),P.style.xOffset="calc(".concat(P.style.left,"% + ").concat(M,"px)")}return i}var V$={overlap:ZX,"no-overlap":M7e};function F7e(e){return!!(e&&e.constructor&&e.call&&e.apply)}function L7e(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in V$&&(r=V$[t]),F7e(r)?r.apply(this,arguments):[]}var tQ=function(e){function t(){return Vn(this,t),Xa(this,t,arguments)}return Qa(t,e),zn(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,i=n.resource,s=n.group,o=n.getters,l=n.components,c=l===void 0?{}:l,u=c.timeSlotWrapper,f=u===void 0?Wo:u,h=o?o.slotGroupProp(s):{};return ne.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),s.map(function(m,p){var g=o?o.slotProp(m,i):{};return ne.createElement(f,{key:p,value:m,resource:i},ne.createElement("div",Object.assign({},g,{className:nn("rbc-time-slot",g.className)}),a&&a(m,p)))}))}}])}(T.Component);function v1(e){return typeof e=="string"?e:e+"%"}function $7e(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,i=e.rtl,s=e.selected,o=e.label,l=e.continuesPrior,c=e.continuesAfter,u=e.getters,f=e.onClick,h=e.onDoubleClick,m=e.isBackgroundEvent,p=e.onKeyPress,g=e.components,v=g.event,y=g.eventWrapper,w=a.title(n),b=a.tooltip(n),E=a.end(n),k=a.start(n),C=u.eventProp(n,k,E,s),S=[ne.createElement("div",{key:"1",className:"rbc-event-label"},o),ne.createElement("div",{key:"2",className:"rbc-event-content"},v?ne.createElement(v,{event:n,title:w}):w)],_=t.height,A=t.top,P=t.width,N=t.xOffset,I=ur(ur({},C.style),{},Fd({top:v1(A),height:v1(_),width:v1(P)},i?"right":"left",v1(N)));return ne.createElement(y,Object.assign({type:"time"},e),ne.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:I,onKeyDown:p,title:b?(typeof o=="string"?o+": ":"")+b:void 0,className:nn(m?"rbc-background-event":"rbc-event",r,C.className,{"rbc-selected":s,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},S))}var B7e=function(t){var r=t.children,n=t.className,a=t.style,i=t.innerRef;return ne.createElement("div",{className:n,style:a,ref:i},r)},U7e=ne.forwardRef(function(e,t){return ne.createElement(B7e,Object.assign({},e,{innerRef:t}))}),V7e=["dayProp"],z7e=["eventContainerWrapper","timeIndicatorWrapper"],rQ=function(e){function t(){var r;Vn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Xa(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(s){var o=s.events,l=s.isBackgroundEvent,c=r.props,u=c.rtl,f=c.selected,h=c.accessors,m=c.localizer,p=c.getters,g=c.components,v=c.step,y=c.timeslots,w=c.dayLayoutAlgorithm,b=c.resizable,E=r,k=E.slotMetrics,C=m.messages,S=L7e({events:o,accessors:h,slotMetrics:k,minimumStartDifference:Math.ceil(v*y/2),dayLayoutAlgorithm:w});return S.map(function(_,A){var P,N=_.event,I=_.style,D=h.end(N),M=h.start(N),ee=(P=h.eventId(N))!==null&&P!==void 0?P:"evt_"+A,Q="eventTimeRangeFormat",W,z=k.startsBeforeDay(M),L=k.startsAfterDay(D);z?Q="eventTimeRangeEndFormat":L&&(Q="eventTimeRangeStartFormat"),z&&L?W=C.allDay:W=m.format({start:M,end:D},Q);var ae=z||k.startsBefore(M),ue=L||k.startsAfter(D);return ne.createElement($7e,{style:I,event:N,label:W,key:ee,getters:p,rtl:u,components:g,continuesPrior:ae,continuesAfter:ue,accessors:h,resource:r.props.resource,selected:tS(N,f),onClick:function(U){return r._select(ur(ur(ur({},N),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),U)},onDoubleClick:function(U){return r._doubleClick(N,U)},isBackgroundEvent:l,onKeyPress:function(U){return r._keyPress(N,U)},resizable:b})})},r._selectable=function(){var s=r.containerRef.current,o=r.props,l=o.longPressThreshold,c=o.localizer,u=r._selector=new qX(function(){return s},{longPressThreshold:l}),f=function(g){var v=r.props.onSelecting,y=r.state||{},w=h(g),b=w.startDate,E=w.endDate;v&&(c.eq(y.startDate,b,"minutes")&&c.eq(y.endDate,E,"minutes")||v({start:b,end:E,resourceId:r.props.resource})===!1)||(r.state.start!==w.start||r.state.end!==w.end||r.state.selecting!==w.selecting)&&r.setState(w)},h=function(g){var v=r.slotMetrics.closestSlotFromPoint(g,Vf(s));r.state.selecting||(r._initialSlot=v);var y=r._initialSlot;c.lte(y,v)?v=r.slotMetrics.nextSlot(v):c.gt(y,v)&&(y=r.slotMetrics.nextSlot(y));var w=r.slotMetrics.getRange(c.min(y,v),c.max(y,v));return ur(ur({},w),{},{selecting:!0,top:"".concat(w.top,"%"),height:"".concat(w.height,"%")})},m=function(g,v){if(!Lb(r.containerRef.current,g)){var y=h(g),w=y.startDate,b=y.endDate;r._selectSlot({startDate:w,endDate:b,action:v,box:g})}r.setState({selecting:!1})};u.on("selecting",f),u.on("selectStart",f),u.on("beforeSelect",function(p){if(r.props.selectable==="ignoreEvents")return!Lb(r.containerRef.current,p)}),u.on("click",function(p){return m(p,"click")}),u.on("doubleClick",function(p){return m(p,"doubleClick")}),u.on("select",function(p){r.state.selecting&&(r._selectSlot(ur(ur({},r.state),{},{action:"select",bounds:p})),r.setState({selecting:!1}))}),u.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(s){for(var o=s.startDate,l=s.endDate,c=s.action,u=s.bounds,f=s.box,h=o,m=[];r.props.localizer.lte(h,l);)m.push(h),h=new Date(+h+r.props.step*60*1e3);Nr(r.props.onSelectSlot,{slots:m,start:o,end:l,resourceId:r.props.resource,action:c,bounds:u,box:f})},r._select=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Nr(r.props.onSelectEvent,o)},r._doubleClick=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Nr(r.props.onDoubleClickEvent,o)},r._keyPress=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Nr(r.props.onKeyPressEvent,o)},r.slotMetrics=HD(r.props),r.containerRef=T.createRef(),r}return Qa(t,e),zn(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var i=this.props,s=i.getNow,o=i.isNow,l=i.localizer,c=i.date,u=i.min,f=i.max,h=l.neq(n.getNow(),s(),"minutes");if(n.isNow!==o||h){if(this.clearTimeIndicatorInterval(),o){var m=!h&&l.eq(n.date,c,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(m)}}else o&&(l.neq(n.min,u,"minutes")||l.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,i=n.max,s=n.getNow,o=s();if(o>=a&&o<=i){var l=this.slotMetrics.getCurrentTimePosition(o);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.max,s=n.rtl,o=n.isNow,l=n.resource,c=n.accessors,u=n.localizer,f=n.getters,h=f.dayProp,m=pl(f,V7e),p=n.components,g=p.eventContainerWrapper,v=p.timeIndicatorWrapper,y=pl(p,z7e);this.slotMetrics=this.slotMetrics.update(this.props);var w=this.slotMetrics,b=this.state,E=b.selecting,k=b.top,C=b.height,S=b.startDate,_=b.endDate,A={start:S,end:_},P=h(i,l),N=P.className,I=P.style,D={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},M=y.dayColumnWrapper||U7e;return ne.createElement(M,{ref:this.containerRef,date:a,style:I,className:nn(N,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",E&&"rbc-slot-selecting"),slotMetrics:w,resource:l},w.groups.map(function(ee,Q){return ne.createElement(tQ,{key:Q,group:ee,resource:l,getters:m,components:y})}),ne.createElement(g,{localizer:u,resource:l,accessors:c,getters:m,components:y,slotMetrics:w},ne.createElement("div",{className:nn("rbc-events-container",s&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),E&&ne.createElement("div",{className:"rbc-slot-selection",style:{top:k,height:C}},ne.createElement("span",null,u.format(A,"selectRangeFormat"))),o&&this.intervalTriggered&&ne.createElement(v,D,ne.createElement("div",D)))}}])}(ne.Component);rQ.defaultProps={dragThroughEvents:!0,timeslots:2};var nQ=function(t){var r=t.label;return ne.createElement(ne.Fragment,null,r)},W7e=function(e){function t(){var r;Vn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Xa(this,t,[].concat(a)),r.handleHeaderClick=function(s,o,l){l.preventDefault(),Nr(r.props.onDrillDown,[s,o])},r.renderRow=function(s){var o=r.props,l=o.events,c=o.rtl,u=o.selectable,f=o.getNow,h=o.range,m=o.getters,p=o.localizer,g=o.accessors,v=o.components,y=o.resizable,w=g.resourceId(s),b=s?l.filter(function(E){return g.resource(E)===w}):l;return ne.createElement(Vv,{isAllDay:!0,rtl:c,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:b,resourceId:w,className:"rbc-allday-cell",selectable:u,selected:r.props.selected,components:v,accessors:g,getters:m,localizer:p,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:y})},r}return Qa(t,e),zn(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,s=i.localizer,o=i.getDrilldownView,l=i.getNow,c=i.getters.dayProp,u=i.components.header,f=u===void 0?WD:u,h=l();return n.map(function(m,p){var g=o(m),v=s.format(m,"dayFormat"),y=c(m),w=y.className,b=y.style,E=ne.createElement(f,{date:m,label:v,localizer:s});return ne.createElement("div",{key:p,style:b,className:nn("rbc-header",w,s.isSameDate(m,h)&&"rbc-today")},g?ne.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(C){return a.handleHeaderClick(m,g,C)}},E):ne.createElement("span",null,E))})}},{key:"render",value:function(){var n=this,a=this.props,i=a.width,s=a.rtl,o=a.resources,l=a.range,c=a.events,u=a.getNow,f=a.accessors,h=a.selectable,m=a.components,p=a.getters,g=a.scrollRef,v=a.localizer,y=a.isOverflowing,w=a.components,b=w.timeGutterHeader,E=w.resourceHeader,k=E===void 0?nQ:E,C=a.resizable,S={};y&&(S[s?"marginLeft":"marginRight"]="".concat(ED()-1,"px"));var _=o.groupEvents(c);return ne.createElement("div",{style:S,ref:g,className:nn("rbc-time-header",y&&"rbc-overflowing")},ne.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},b&&ne.createElement(b,null)),o.map(function(A,P){var N=Rf(A,2),I=N[0],D=N[1];return ne.createElement("div",{className:"rbc-time-header-content",key:I||P},D&&ne.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(P)},ne.createElement("div",{className:"rbc-header"},ne.createElement(k,{index:P,label:f.resourceTitle(D),resource:D}))),ne.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),ne.createElement(Vv,{isAllDay:!0,rtl:s,getNow:u,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:_.get(I)||[],resourceId:D&&I,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:m,accessors:f,getters:p,localizer:v,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:C}))}))}}])}(ne.Component),H7e=function(e){function t(){var r;Vn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Xa(this,t,[].concat(a)),r.handleHeaderClick=function(s,o,l){l.preventDefault(),Nr(r.props.onDrillDown,[s,o])},r}return Qa(t,e),zn(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,s=i.localizer,o=i.getDrilldownView,l=i.getNow,c=i.getters.dayProp,u=i.components,f=u.header,h=f===void 0?WD:f,m=u.resourceHeader,p=m===void 0?nQ:m,g=i.resources,v=i.accessors,y=i.events,w=i.rtl,b=i.selectable,E=i.components,k=i.getters,C=i.resizable,S=l(),_=g.groupEvents(y);return n.map(function(A,P){var N=o(A),I=s.format(A,"dayFormat"),D=c(A),M=D.className,ee=D.style,Q=ne.createElement(h,{date:A,label:I,localizer:s});return ne.createElement("div",{key:P,className:"rbc-time-header-content rbc-resource-grouping"},ne.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},ne.createElement("div",{style:ee,className:nn("rbc-header",M,s.isSameDate(A,S)&&"rbc-today")},N?ne.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(z){return a.handleHeaderClick(A,N,z)}},Q):ne.createElement("span",null,Q))),ne.createElement("div",{className:"rbc-row"},g.map(function(W,z){var L=Rf(W,2),ae=L[0],ue=L[1];return ne.createElement("div",{key:"resource_".concat(ae,"_").concat(z),className:nn("rbc-header",M,s.isSameDate(A,S)&&"rbc-today")},ne.createElement(p,{index:z,label:v.resourceTitle(ue),resource:ue}))})),ne.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(W,z){var L=Rf(W,2),ae=L[0],ue=L[1],F=(_.get(ae)||[]).filter(function(U){return s.isSameDate(U.start,A)||s.isSameDate(U.end,A)});return ne.createElement(Vv,{key:"resource_".concat(ae,"_").concat(z),isAllDay:!0,rtl:w,getNow:l,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[A],events:F,resourceId:ue&&ae,className:"rbc-allday-cell",selectable:b,selected:a.props.selected,components:E,accessors:v,getters:k,localizer:s,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:C})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,i=n.rtl,s=n.range,o=n.scrollRef,l=n.isOverflowing,c=n.components.timeGutterHeader,u={};return l&&(u[i?"marginLeft":"marginRight"]="".concat(ED()-1,"px")),ne.createElement("div",{style:u,ref:o,className:nn("rbc-time-header",l&&"rbc-overflowing")},ne.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},c&&ne.createElement(c,null)),this.renderHeaderCells(s))}}])}(ne.Component);function G7e(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var K7e=function(t){var r=t.min,n=t.max,a=t.timeslots,i=t.step,s=t.localizer,o=t.getNow,l=t.resource,c=t.components,u=t.getters,f=t.gutterRef,h=c.timeGutterWrapper,m=T.useMemo(function(){return G7e({min:r,max:n,localizer:s})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),s]),p=m.start,g=m.end,v=T.useState(HD({min:p,max:g,timeslots:a,step:i,localizer:s})),y=Rf(v,2),w=y[0],b=y[1];T.useEffect(function(){w&&b(w.update({min:p,max:g,timeslots:a,step:i,localizer:s}))},[p==null?void 0:p.toISOString(),g==null?void 0:g.toISOString(),a,i]);var E=T.useCallback(function(k,C){if(C)return null;var S=w.dateIsInGroup(o(),C);return ne.createElement("span",{className:nn("rbc-label",S&&"rbc-now")},s.format(k,"timeGutterFormat"))},[w,s,o]);return ne.createElement(h,{slotMetrics:w},ne.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},w.groups.map(function(k,C){return ne.createElement(tQ,{key:C,group:k,resource:l,components:c,renderSlot:E,getters:u})})))},q7e=ne.forwardRef(function(e,t){return ne.createElement(K7e,Object.assign({gutterRef:t},e))}),GT={};function Y7e(e,t){return{map:function(n){return e?e.map(function(a,i){return n([t.resourceId(a),a],i)}):[n([GT,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(i){var s=t.resource(i)||GT;if(Array.isArray(s))s.forEach(function(l){var c=a.get(l)||[];c.push(i),a.set(l,c)});else{var o=a.get(s)||[];o.push(i),a.set(s,o)}}),a):(a.set(GT,n),a)}}}var Vm=function(e){function t(r){var n;return Vn(this,t),n=Xa(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){k5(n.rafHandle),n.rafHandle=ZY(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];Nr(n.props.onKeyPressEvent,i)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];Nr(n.props.onSelectEvent,i)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];Nr(n.props.onDoubleClickEvent,i)},n.handleShowMore=function(a,i,s,o,l){var c=n.props,u=c.popup,f=c.onDrillDown,h=c.onShowMore,m=c.getDrilldownView,p=c.doShowMoreDrillDown;if(n.clearSelection(),u){var g=JY(s,n.containerRef.current);n.setState({overlay:{date:i,events:a,position:ur(ur({},g),{},{width:"200px"}),target:l}})}else p&&Nr(f,[i,m(i)||ii.DAY]);Nr(h,[a,i,o])},n.handleSelectAllDaySlot=function(a,i){var s=n.props.onSelectSlot,o=new Date(a[0]),l=new Date(a[a.length-1]);l.setDate(a[a.length-1].getDate()+1),Nr(s,{slots:a,start:o,end:l,action:i.action,resourceId:i.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==i&&(n._updatingOverflow=!0,n.setState({isOverflowing:i},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=SX(function(a,i){return Y7e(a,i)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=ne.createRef(),n.contentRef=ne.createRef(),n.containerRef=ne.createRef(),n._scrollRatio=null,n.gutterRef=T.createRef(),n}return Qa(t,e),zn(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),k5(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,i,s,o,l,c,u,f,h){var m=this.props,p=m.min,g=m.max,v=(s.get(a)||[]).filter(function(w){return l.inRange(n,c.start(w),c.end(w),"day")}),y=(o.get(a)||[]).filter(function(w){return l.inRange(n,c.start(w),c.end(w),"day")});return ne.createElement(rQ,Object.assign({},this.props,{localizer:l,min:l.merge(n,p),max:l.merge(n,g),resource:i&&a,components:u,isNow:l.isSameDate(n,h),key:"".concat(a,"-").concat(n),date:n,events:v,backgroundEvents:y,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,i,s,o,l,c,u,f){var h=this;return a.map(function(m){var p=Rf(m,2),g=p[0],v=p[1];return n.map(function(y){return h.renderDayColumn(y,g,v,i,s,o,l,u,f,c)})})}},{key:"renderRangeFirst",value:function(n,a,i,s,o,l,c,u,f){var h=this;return n.map(function(m){return ne.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:m},a.map(function(p){var g=Rf(p,2),v=g[0],y=g[1];return ne.createElement("div",{style:{flex:1},key:l.resourceId(y)},h.renderDayColumn(m,v,y,i,s,o,l,u,f,c))}))})}},{key:"renderEvents",value:function(n,a,i,s){var o=this.props,l=o.accessors,c=o.localizer,u=o.resourceGroupingLayout,f=o.components,h=o.dayLayoutAlgorithm,m=this.memoizedResources(this.props.resources,l),p=m.groupEvents(a),g=m.groupEvents(i);return u?this.renderRangeFirst(n,m,p,g,c,l,s,f,h):this.renderResourcesFirst(n,m,p,g,c,l,s,f,h)}},{key:"render",value:function(){var n,a=this.props,i=a.events,s=a.backgroundEvents,o=a.range,l=a.width,c=a.rtl,u=a.selected,f=a.getNow,h=a.resources,m=a.components,p=a.accessors,g=a.getters,v=a.localizer,y=a.min,w=a.max,b=a.showMultiDayTimes,E=a.longPressThreshold,k=a.resizable,C=a.resourceGroupingLayout;l=l||this.state.gutterWidth;var S=o[0],_=o[o.length-1];this.slots=o.length;var A=[],P=[],N=[];i.forEach(function(D){if(Uv(D,S,_,p,v)){var M=p.start(D),ee=p.end(D);p.allDay(D)||v.startAndEndAreDateOnly(M,ee)||!b&&!v.isSameDate(M,ee)?A.push(D):P.push(D)}}),s.forEach(function(D){Uv(D,S,_,p,v)&&N.push(D)}),A.sort(function(D,M){return zk(D,M,p,v)});var I={range:o,events:A,width:l,rtl:c,getNow:f,localizer:v,selected:u,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,p),selectable:this.props.selectable,accessors:p,getters:g,components:m,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:E,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:k};return ne.createElement("div",{className:nn("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&C?ne.createElement(H7e,I):ne.createElement(W7e,I),this.props.popup&&this.renderOverlay(),ne.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},ne.createElement(q7e,{date:S,ref:this.gutterRef,localizer:v,min:v.merge(S,y),max:v.merge(S,w),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:m,className:"rbc-time-gutter",getters:g}),this.renderEvents(o,P,N,f())))}},{key:"renderOverlay",value:function(){var n,a,i=this,s=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,l=o.accessors,c=o.localizer,u=o.components,f=o.getters,h=o.selected,m=o.popupOffset,p=o.handleDragStart,g=function(){return i.setState({overlay:null})};return ne.createElement(zD,{overlay:s,accessors:l,localizer:c,components:u,getters:f,selected:h,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=n.gutterRef)!==null&&a!==void 0&&a.current?Bk(n.gutterRef.current):void 0;i&&n.state.gutterWidth!==i&&n.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,i=n.max,s=n.scrollToTime,o=n.localizer,l=o.diff(o.merge(s,a),s,"milliseconds"),c=o.diff(a,i,"milliseconds");this._scrollRatio=l/c}}])}(T.Component);Vm.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var X7e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],nS=function(e){function t(){return Vn(this,t),Xa(this,t,arguments)}return Qa(t,e),zn(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,l=n.max,c=l===void 0?i.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?i.startOf(new Date,"day"):u,h=n.enableAutoScroll,m=h===void 0?!0:h,p=pl(n,X7e),g=t.range(a,{localizer:i});return ne.createElement(Vm,Object.assign({},p,{range:g,eventOffset:10,localizer:i,min:o,max:c,scrollToTime:f,enableAutoScroll:m}))}}])}(ne.Component);nS.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};nS.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ri.PREVIOUS:return n.add(e,-1,"day");case Ri.NEXT:return n.add(e,1,"day");default:return e}};nS.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var Q7e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Gu=function(e){function t(){return Vn(this,t),Xa(this,t,arguments)}return Qa(t,e),zn(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,l=n.max,c=l===void 0?i.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?i.startOf(new Date,"day"):u,h=n.enableAutoScroll,m=h===void 0?!0:h,p=pl(n,Q7e),g=t.range(a,this.props);return ne.createElement(Vm,Object.assign({},p,{range:g,eventOffset:15,localizer:i,min:o,max:c,scrollToTime:f,enableAutoScroll:m}))}}])}(ne.Component);Gu.defaultProps=Vm.defaultProps;Gu.navigate=function(e,t,r){var n=r.localizer;switch(t){case Ri.PREVIOUS:return n.add(e,-1,"week");case Ri.NEXT:return n.add(e,1,"week");default:return e}};Gu.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),i=r.endOf(e,"week",n);return r.range(a,i)};Gu.title=function(e,t){var r=t.localizer,n=Gu.range(e,{localizer:r}),a=IX(n),i=a[0],s=a.slice(1);return r.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};var J7e=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function GD(e,t){return Gu.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Gy=function(e){function t(){return Vn(this,t),Xa(this,t,arguments)}return Qa(t,e),zn(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,l=n.max,c=l===void 0?i.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?i.startOf(new Date,"day"):u,h=n.enableAutoScroll,m=h===void 0?!0:h,p=pl(n,J7e),g=GD(a,this.props);return ne.createElement(Vm,Object.assign({},p,{range:g,eventOffset:15,localizer:i,min:o,max:c,scrollToTime:f,enableAutoScroll:m}))}}])}(ne.Component);Gy.defaultProps=Vm.defaultProps;Gy.range=GD;Gy.navigate=Gu.navigate;Gy.title=function(e,t){var r=t.localizer,n=GD(e,{localizer:r}),a=IX(n),i=a[0],s=a.slice(1);return r.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};var aS=30;function iS(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,i=e.getters,s=e.length,o=s===void 0?aS:s,l=e.localizer,c=e.onDoubleClickEvent,u=e.onSelectEvent,f=e.selected,h=T.useRef(null),m=T.useRef(null),p=T.useRef(null),g=T.useRef(null),v=T.useRef(null);T.useEffect(function(){b()});var y=function(_,A,P){var N=r.event,I=r.date;return A=A.filter(function(D){return Uv(D,l.startOf(_,"day"),l.endOf(_,"day"),t,l)}),A.map(function(D,M){var ee=t.title(D),Q=t.end(D),W=t.start(D),z=i.eventProp(D,W,Q,tS(D,f)),L=M===0&&l.format(_,"agendaDateFormat"),ae=M===0?ne.createElement("td",{rowSpan:A.length,className:"rbc-agenda-date-cell"},I?ne.createElement(I,{day:_,label:L}):L):!1;return ne.createElement("tr",{key:P+"_"+M,className:z.className,style:z.style},ae,ne.createElement("td",{className:"rbc-agenda-time-cell"},w(_,D)),ne.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(F){return u&&u(D,F)},onDoubleClick:function(F){return c&&c(D,F)}},N?ne.createElement(N,{event:D,title:ee}):ee))},[])},w=function(_,A){var P="",N=r.time,I=l.messages.allDay,D=t.end(A),M=t.start(A);return t.allDay(A)||(l.eq(M,D)?I=l.format(M,"agendaTimeFormat"):l.isSameDate(M,D)?I=l.format({start:M,end:D},"agendaTimeRangeFormat"):l.isSameDate(_,M)?I=l.format(M,"agendaTimeFormat"):l.isSameDate(_,D)&&(I=l.format(D,"agendaTimeFormat"))),l.gt(_,M,"day")&&(P="rbc-continues-prior"),l.lt(_,D,"day")&&(P+=" rbc-continues-after"),ne.createElement("span",{className:P.trim()},N?ne.createElement(N,{event:A,day:_,label:I}):I)},b=function(){if(v.current){var _=h.current,A=v.current.firstChild;if(A){var P=g.current.scrollHeight>g.current.clientHeight,N=[],I=N;N=[Bk(A.children[0]),Bk(A.children[1])],(I[0]!==N[0]||I[1]!==N[1])&&(m.current.style.width=N[0]+"px",p.current.style.width=N[1]+"px"),P?(Zje(_,"rbc-header-overflowing"),_.style.marginRight=ED()+"px"):e4e(_,"rbc-header-overflowing")}}},E=l.messages,k=l.add(n,o,"day"),C=l.range(n,k,"day");return a=a.filter(function(S){return Uv(S,l.startOf(n,"day"),l.endOf(k,"day"),t,l)}),a.sort(function(S,_){return+t.start(S)-+t.start(_)}),ne.createElement("div",{className:"rbc-agenda-view"},a.length!==0?ne.createElement(ne.Fragment,null,ne.createElement("table",{ref:h,className:"rbc-agenda-table"},ne.createElement("thead",null,ne.createElement("tr",null,ne.createElement("th",{className:"rbc-header",ref:m},E.date),ne.createElement("th",{className:"rbc-header",ref:p},E.time),ne.createElement("th",{className:"rbc-header"},E.event)))),ne.createElement("div",{className:"rbc-agenda-content",ref:g},ne.createElement("table",{className:"rbc-agenda-table"},ne.createElement("tbody",{ref:v},C.map(function(S,_){return y(S,a,_)}))))):ne.createElement("span",{className:"rbc-agenda-empty"},E.noEventsInRange))}iS.range=function(e,t){var r=t.length,n=r===void 0?aS:r,a=t.localizer,i=a.add(e,n,"day");return{start:e,end:i}};iS.navigate=function(e,t,r){var n=r.length,a=n===void 0?aS:n,i=r.localizer;switch(t){case Ri.PREVIOUS:return i.add(e,-a,"day");case Ri.NEXT:return i.add(e,a,"day");default:return e}};iS.title=function(e,t){var r=t.length,n=r===void 0?aS:r,a=t.localizer,i=a.add(e,n,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var uw=Fd(Fd(Fd(Fd(Fd({},ii.MONTH,rS),ii.WEEK,Gu),ii.WORK_WEEK,Gy),ii.DAY,nS),ii.AGENDA,iS),Z7e=["action","date","today"];function eze(e,t){var r=t.action,n=t.date,a=t.today,i=pl(t,Z7e);switch(e=typeof e=="string"?uw[e]:e,r){case Ri.TODAY:n=a||new Date;break;case Ri.DATE:break;default:Nv(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,i)}return n}function tze(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&yc(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var Ol=function(t){return function(r){return tze(r,t)}},rze=["view","date","getNow","onNavigate"],nze=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function aQ(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=Rf(n[r],2),i=a[0],s=a[1];s&&t.push(i)}return t}function aze(e,t){var r=t.views,n=aQ(r);return n.indexOf(e)!==-1}var iQ=function(e){function t(){var r;Vn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Xa(this,t,[].concat(a)),r.getViews=function(){var s=r.props.views;return Array.isArray(s)?jVe(s,function(o,l){return o[l]=uw[l]},{}):yc(s)==="object"?j8e(s,function(o,l){return o===!0?uw[l]:o}):uw},r.getView=function(){var s=r.getViews();return s[r.props.view]},r.getDrilldownView=function(s){var o=r.props,l=o.view,c=o.drilldownView,u=o.getDrilldownView;return u?u(s,l,Object.keys(r.getViews())):c},r.handleRangeChange=function(s,o,l){var c=r.props,u=c.onRangeChange,f=c.localizer;u&&o.range&&u(o.range(s,{localizer:f}),l)},r.handleNavigate=function(s,o){var l=r.props,c=l.view,u=l.date,f=l.getNow,h=l.onNavigate,m=pl(l,rze),p=r.getView(),g=f();u=eze(p,ur(ur({},m),{},{action:s,date:o||u||g,today:g})),h(u,c,s),r.handleRangeChange(u,p)},r.handleViewChange=function(s){s!==r.props.view&&aze(s,r.props)&&r.props.onView(s);var o=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),o[s],s)},r.handleSelectEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Nr(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Nr(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Nr(r.props.onKeyPressEvent,o)},r.handleSelectSlot=function(s){Nr(r.props.onSelectSlot,s)},r.handleDrillDown=function(s,o){var l=r.props.onDrillDown;if(l){l(s,o,r.drilldownView);return}o&&r.handleViewChange(o),r.handleNavigate(Ri.DATE,s)},r.state={context:t.getContext(r.props)},r}return Qa(t,e),zn(t,[{key:"render",value:function(){var n=this.props,a=n.view,i=n.toolbar,s=n.events,o=n.backgroundEvents,l=n.resourceGroupingLayout,c=n.style,u=n.className,f=n.elementProps,h=n.date,m=n.getNow,p=n.length,g=n.showMultiDayTimes,v=n.onShowMore,y=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var w=pl(n,nze);h=h||m();var b=this.getView(),E=this.state.context,k=E.accessors,C=E.components,S=E.getters,_=E.localizer,A=E.viewNames,P=C.toolbar||o7e,N=b.title(h,{localizer:_,length:p});return ne.createElement("div",Object.assign({},f,{className:nn(u,"rbc-calendar",w.rtl&&"rbc-rtl"),style:c}),i&&ne.createElement(P,{date:h,view:a,views:A,label:N,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:_}),ne.createElement(b,Object.assign({},w,{events:s,backgroundEvents:o,date:h,getNow:m,length:p,localizer:_,getters:S,components:C,accessors:k,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:v,doShowMoreDrillDown:y,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,i=n.endAccessor,s=n.allDayAccessor,o=n.tooltipAccessor,l=n.titleAccessor,c=n.resourceAccessor,u=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,m=n.eventPropGetter,p=n.backgroundEventPropGetter,g=n.slotPropGetter,v=n.slotGroupPropGetter,y=n.dayPropGetter,w=n.view,b=n.views,E=n.localizer,k=n.culture,C=n.messages,S=C===void 0?{}:C,_=n.components,A=_===void 0?{}:_,P=n.formats,N=P===void 0?{}:P,I=aQ(b),D=c7e(S);return{viewNames:I,localizer:s7e(E,k,N,D),getters:{eventProp:function(){return m&&m.apply(void 0,arguments)||{}},backgroundEventProp:function(){return p&&p.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return v&&v.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:C8e(A[w]||{},bVe(A,I),{eventWrapper:Wo,backgroundEventWrapper:Wo,eventContainerWrapper:Wo,dateCellWrapper:Wo,weekWrapper:Wo,timeSlotWrapper:Wo,timeGutterWrapper:Wo,timeIndicatorWrapper:Wo}),accessors:{start:Ol(a),end:Ol(i),allDay:Ol(s),tooltip:Ol(o),title:Ol(l),resource:Ol(c),resourceId:Ol(u),resourceTitle:Ol(f),eventId:Ol(h)}}}}])}(ne.Component);iQ.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:ii.MONTH,views:[ii.MONTH,ii.WEEK,ii.DAY,ii.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:ii.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var sQ=OY(iQ,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),ize=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"P",r)," – ").concat(n.format(i,"P",r))},KT=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"p",r)," – ").concat(n.format(i,"p",r))},sze=function(t,r,n){var a=t.start;return"".concat(n.format(a,"h:mma",r)," – ")},oze=function(t,r,n){var a=t.end;return" – ".concat(n.format(a,"h:mma",r))},lze=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"MMMM dd",r)," – ").concat(n.format(i,Om(a,i,"month")?"dd":"MMMM dd",r))},cze={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:KT,eventTimeRangeFormat:KT,eventTimeRangeStartFormat:sze,eventTimeRangeEndFormat:oze,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:lze,agendaHeaderFormat:ize,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:KT},oQ=function(t){var r=t.startOfWeek,n=t.getDay,a=t.format,i=t.locales;return new i7e({formats:cze,firstOfWeek:function(o){return n(r(new Date,{locale:i[o]}))},format:function(o,l,c){return a(new Date(o),l,{locale:i[c]})}})};const lQ=6048e5,uze=864e5,z$=Symbol.for("constructDateFrom");function Ku(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&z$ in e?e[z$](t):e instanceof Date?new e.constructor(t):new Date(t)}function Qs(e,t){return Ku(t||e,e)}let dze={};function sS(){return dze}function zf(e,t){var o,l,c,u;const r=sS(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Qs(e,t==null?void 0:t.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function $b(e,t){return zf(e,{...t,weekStartsOn:1})}function cQ(e,t){const r=Qs(e,t==null?void 0:t.in),n=r.getFullYear(),a=Ku(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=$b(a),s=Ku(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=$b(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function W$(e){const t=Qs(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function fze(e,...t){const r=Ku.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function H$(e,t){const r=Qs(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function hze(e,t,r){const[n,a]=fze(r==null?void 0:r.in,e,t),i=H$(n),s=H$(a),o=+i-W$(i),l=+s-W$(s);return Math.round((o-l)/uze)}function mze(e,t){const r=cQ(e,t),n=Ku(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),$b(n)}function pze(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function gze(e){return!(!pze(e)&&typeof e!="number"||isNaN(+Qs(e)))}function vze(e,t){const r=Qs(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const yze={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},xze=(e,t,r)=>{let n;const a=yze[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function _0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const wze={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bze={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_ze={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Eze={date:_0({formats:wze,defaultWidth:"full"}),time:_0({formats:bze,defaultWidth:"full"}),dateTime:_0({formats:_ze,defaultWidth:"full"})},Sze={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Tze=(e,t,r,n)=>Sze[e];function Ko(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Aze={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Cze={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},kze={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nze={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pze={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ize={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Oze=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Dze={ordinalNumber:Oze,era:Ko({values:Aze,defaultWidth:"wide"}),quarter:Ko({values:Cze,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ko({values:kze,defaultWidth:"wide"}),day:Ko({values:Nze,defaultWidth:"wide"}),dayPeriod:Ko({values:Pze,defaultWidth:"wide",formattingValues:Ize,defaultFormattingWidth:"wide"})};function qo(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Rze(o,f=>f.test(s)):jze(o,f=>f.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(s.length);return{value:c,rest:u}}}function jze(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Rze(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function uQ(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(a.length);return{value:s,rest:o}}}const Mze=/^(\d+)(th|st|nd|rd)?/i,Fze=/\d+/i,Lze={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$ze={any:[/^b/i,/^(a|c)/i]},Bze={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Uze={any:[/1/i,/2/i,/3/i,/4/i]},Vze={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},zze={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wze={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hze={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gze={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Kze={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qze={ordinalNumber:uQ({matchPattern:Mze,parsePattern:Fze,valueCallback:e=>parseInt(e,10)}),era:qo({matchPatterns:Lze,defaultMatchWidth:"wide",parsePatterns:$ze,defaultParseWidth:"any"}),quarter:qo({matchPatterns:Bze,defaultMatchWidth:"wide",parsePatterns:Uze,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qo({matchPatterns:Vze,defaultMatchWidth:"wide",parsePatterns:zze,defaultParseWidth:"any"}),day:qo({matchPatterns:Wze,defaultMatchWidth:"wide",parsePatterns:Hze,defaultParseWidth:"any"}),dayPeriod:qo({matchPatterns:Gze,defaultMatchWidth:"any",parsePatterns:Kze,defaultParseWidth:"any"})},Yze={code:"en-US",formatDistance:xze,formatLong:Eze,formatRelative:Tze,localize:Dze,match:qze,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xze(e,t){const r=Qs(e,t==null?void 0:t.in);return hze(r,vze(r))+1}function Qze(e,t){const r=Qs(e,t==null?void 0:t.in),n=+$b(r)-+mze(r);return Math.round(n/lQ)+1}function dQ(e,t){var u,f,h,m;const r=Qs(e,t==null?void 0:t.in),n=r.getFullYear(),a=sS(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=Ku((t==null?void 0:t.in)||e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=zf(s,t),l=Ku((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=zf(l,t);return+r>=+o?n+1:+r>=+c?n:n-1}function Jze(e,t){var o,l,c,u;const r=sS(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,a=dQ(e,t),i=Ku((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),zf(i,t)}function Zze(e,t){const r=Qs(e,t==null?void 0:t.in),n=+zf(r,t)-+Jze(r,t);return Math.round(n/lQ)+1}function Qt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Gc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Qt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Qt(r+1,2)},d(e,t){return Qt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Qt(e.getHours()%12||12,t.length)},H(e,t){return Qt(e.getHours(),t.length)},m(e,t){return Qt(e.getMinutes(),t.length)},s(e,t){return Qt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Qt(a,t.length)}},Nh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},G$={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Gc.y(e,t)},Y:function(e,t,r,n){const a=dQ(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return Qt(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):Qt(i,t.length)},R:function(e,t){const r=cQ(e);return Qt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Qt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Qt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Qt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Gc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Qt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Zze(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Qt(a,t.length)},I:function(e,t,r){const n=Qze(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Qt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Gc.d(e,t)},D:function(e,t,r){const n=Xze(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Qt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Qt(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Qt(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Qt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Nh.noon:n===0?a=Nh.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Nh.evening:n>=12?a=Nh.afternoon:n>=4?a=Nh.morning:a=Nh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Gc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Gc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Qt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Qt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Gc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Gc.s(e,t)},S:function(e,t){return Gc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return q$(n);case"XXXX":case"XX":return Id(n);case"XXXXX":case"XXX":default:return Id(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return q$(n);case"xxxx":case"xx":return Id(n);case"xxxxx":case"xxx":default:return Id(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+K$(n,":");case"OOOO":default:return"GMT"+Id(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+K$(n,":");case"zzzz":default:return"GMT"+Id(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Qt(n,t.length)},T:function(e,t,r){return Qt(+e,t.length)}};function K$(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+Qt(i,2)}function q$(e,t){return e%60===0?(e>0?"-":"+")+Qt(Math.abs(e)/60,2):Id(e,t)}function Id(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Qt(Math.trunc(n/60),2),i=Qt(n%60,2);return r+a+t+i}const Y$=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},fQ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},eWe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Y$(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Y$(n,t)).replace("{{time}}",fQ(a,t))},tWe={p:fQ,P:eWe},rWe=/^D+$/,nWe=/^Y+$/,aWe=["D","DD","YY","YYYY"];function iWe(e){return rWe.test(e)}function sWe(e){return nWe.test(e)}function oWe(e,t,r){const n=lWe(e,t,r);if(console.warn(n),aWe.includes(e))throw new RangeError(n)}function lWe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cWe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uWe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dWe=/^'([^]*?)'?$/,fWe=/''/g,hWe=/[a-zA-Z]/;function fu(e,t,r){var u,f,h,m,p,g,v,y;const n=sS(),a=(r==null?void 0:r.locale)??n.locale??Yze,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,o=Qs(e,r==null?void 0:r.in);if(!gze(o))throw new RangeError("Invalid time value");let l=t.match(uWe).map(w=>{const b=w[0];if(b==="p"||b==="P"){const E=tWe[b];return E(w,a.formatLong)}return w}).join("").match(cWe).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const b=w[0];if(b==="'")return{isToken:!1,value:mWe(w)};if(G$[b])return{isToken:!0,value:w};if(b.match(hWe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return l.map(w=>{if(!w.isToken)return w.value;const b=w.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&sWe(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&iWe(b))&&oWe(b,t,String(e));const E=G$[b[0]];return E(o,b,a.localize,c)}).join("")}function mWe(e){const t=e.match(dWe);return t?t[1].replace(fWe,"'"):e}function hQ(e,t){return Qs(e,t==null?void 0:t.in).getDay()}const pWe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},gWe=(e,t,r)=>{let n;const a=pWe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},vWe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},yWe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},xWe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wWe={date:_0({formats:vWe,defaultWidth:"full"}),time:_0({formats:yWe,defaultWidth:"full"}),dateTime:_0({formats:xWe,defaultWidth:"full"})},bWe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},_We={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},EWe=(e,t,r,n)=>t.getHours()!==1?_We[e]:bWe[e],SWe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},TWe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},AWe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},CWe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},kWe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},NWe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},PWe=(e,t)=>Number(e)+"º",IWe={ordinalNumber:PWe,era:Ko({values:SWe,defaultWidth:"wide"}),quarter:Ko({values:TWe,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Ko({values:AWe,defaultWidth:"wide"}),day:Ko({values:CWe,defaultWidth:"wide"}),dayPeriod:Ko({values:kWe,defaultWidth:"wide",formattingValues:NWe,defaultFormattingWidth:"wide"})},OWe=/^(\d+)(º)?/i,DWe=/\d+/i,jWe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},RWe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},MWe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},FWe={any:[/1/i,/2/i,/3/i,/4/i]},LWe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},$We={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},BWe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},UWe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},VWe={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},zWe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},WWe={ordinalNumber:uQ({matchPattern:OWe,parsePattern:DWe,valueCallback:function(e){return parseInt(e,10)}}),era:qo({matchPatterns:jWe,defaultMatchWidth:"wide",parsePatterns:RWe,defaultParseWidth:"any"}),quarter:qo({matchPatterns:MWe,defaultMatchWidth:"wide",parsePatterns:FWe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qo({matchPatterns:LWe,defaultMatchWidth:"wide",parsePatterns:$We,defaultParseWidth:"any"}),day:qo({matchPatterns:BWe,defaultMatchWidth:"wide",parsePatterns:UWe,defaultParseWidth:"any"}),dayPeriod:qo({matchPatterns:VWe,defaultMatchWidth:"any",parsePatterns:zWe,defaultParseWidth:"any"})},E0={code:"es",formatDistance:gWe,formatLong:wWe,formatRelative:EWe,localize:IWe,match:WWe,options:{weekStartsOn:1,firstWeekContainsDate:1}},HWe={es:E0},GWe=oQ({format:fu,startOfWeek:zf,getDay:hQ,locales:HWe}),KWe={allDay:"Todo el día",previous:"Anterior",next:"Siguiente",today:"Hoy",month:"Mes",week:"Semana",day:"Día",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango",showMore:e=>`+ Ver más (${e})`},qWe=()=>{const{user:e}=cs(),{calendarEvents:t,isLoading:r,error:n,initializeSubscription:a,clearStore:i,getContactsByDate:s,dailyContacts:o,selectedDate:l,getStats:c}=OK(),[u,f]=T.useState(new Date),[h,m]=T.useState("month"),[p,g]=T.useState(!1);T.useEffect(()=>(e!=null&&e.uid&&(console.log("📅 Inicializando calendario para usuario:",e.email),a(e.uid)),()=>{i()}),[e==null?void 0:e.uid,a,i]);const v=T.useMemo(()=>c(),[t,c]),y=C=>{var S;return{style:{backgroundColor:((S=C.resource)==null?void 0:S.color)||"#3B82F6",border:"none",borderRadius:"6px",color:"white",fontSize:"12px",fontWeight:"500",padding:"2px 6px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"}}},w=({start:C})=>{s(C).length>0&&g(!0)},b=C=>{s(C.start),g(!0)},E=()=>d.jsx(as,{children:p&&d.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>g(!1),children:d.jsxs(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-96 overflow-y-auto",onClick:C=>C.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[d.jsx(Ga,{className:"h-5 w-5 mr-2 text-blue-600"}),l&&fu(l,"dd 'de' MMMM 'de' yyyy",{locale:E0})]}),d.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(gf,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-sm text-gray-600",children:[o.length," contacto",o.length!==1?"s":""," realizado",o.length!==1?"s":""," este día"]}),o.map((C,S)=>{var _,A,P,N;return d.jsxs(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:S*.05},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(aa,{className:"h-4 w-4 text-gray-500 mr-2"}),d.jsx("span",{className:"font-medium text-gray-900",children:C.beneficiarioNombre||"Sin nombre"})]}),d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${(_=C.resultado)!=null&&_.toLowerCase().includes("exitoso")?"bg-green-100 text-green-800":(A=C.resultado)!=null&&A.toLowerCase().includes("sin respuesta")?"bg-yellow-100 text-yellow-800":(P=C.resultado)!=null&&P.toLowerCase().includes("ocupado")?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:C.resultado||"Sin resultado"})]}),d.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[C.telefono&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(Vr,{className:"h-3 w-3 mr-2"}),C.telefono]}),C.fechaContacto&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(xa,{className:"h-3 w-3 mr-2"}),(N=C.fechaContacto)!=null&&N.toDate?fu(C.fechaContacto.toDate(),"HH:mm"):"Hora no disponible"]}),C.observaciones&&d.jsxs("div",{className:"flex items-start",children:[d.jsx(ly,{className:"h-3 w-3 mr-2 mt-0.5"}),d.jsx("span",{className:"text-xs",children:C.observaciones})]})]})]},C.id)})]})]})})}),k=()=>d.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(Ps,{className:"h-5 w-5 mr-2 text-blue-600"}),"Estadísticas del Mes"]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v.totalContactos}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Contactos"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:v.exitosos}),d.jsx("div",{className:"text-sm text-gray-600",children:"Exitosos"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:v.sinRespuesta}),d.jsx("div",{className:"text-sm text-gray-600",children:"Sin Respuesta"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[v.tasaExito,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Tasa de Éxito"})]})]})]});return r?d.jsxs("div",{className:"flex items-center justify-center h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando calendario..."})]}):n?d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(vn,{className:"h-5 w-5 text-red-500 mr-2"}),d.jsxs("span",{className:"text-red-700",children:["Error cargando el calendario: ",n]})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[d.jsx(Ga,{className:"h-6 w-6 mr-2 text-blue-600"}),"Ver Calendario"]}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Historial completo de contactos realizados"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(xf,{className:"h-5 w-5 text-green-500"}),d.jsxs("span",{className:"text-sm text-gray-600",children:[t.length," evento",t.length!==1?"s":""," registrado",t.length!==1?"s":""]})]})]}),d.jsx(k,{}),d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-md",children:d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"h-96 md:h-[600px]",children:d.jsx(sQ,{localizer:GWe,events:t,startAccessor:"start",endAccessor:"end",style:{height:"100%"},culture:"es",messages:KWe,eventPropGetter:y,onSelectSlot:w,onSelectEvent:b,selectable:!0,view:h,onView:m,date:u,onNavigate:f,views:["month","week","day"],step:60,showMultiDayTimes:!1,popup:!0,popupOffset:30,className:"rbc-calendar"})})})}),d.jsx(E,{}),d.jsx("style",{children:`
        .rbc-calendar {
          font-family: inherit;
        }

        .rbc-header {
          padding: 12px 8px;
          font-weight: 600;
          color: #374151;
          background-color: #f9fafb;
          border-bottom: 1px solid #e5e7eb;
        }

        .rbc-month-view {
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          overflow: hidden;
        }

        .rbc-date-cell {
          padding: 8px;
        }

        .rbc-date-cell > a {
          color: #374151;
          font-weight: 500;
        }

        .rbc-off-range {
          color: #9ca3af;
        }

        .rbc-today {
          background-color: #eff6ff;
        }

        .rbc-event {
          border-radius: 6px;
          padding: 2px 6px;
          margin: 1px;
          font-size: 12px;
          cursor: pointer;
        }

        .rbc-event:hover {
          opacity: 0.8;
        }

        .rbc-slot-selection {
          background-color: rgba(59, 130, 246, 0.1);
        }

        .rbc-toolbar {
          margin-bottom: 20px;
          padding: 16px 0;
          border-bottom: 1px solid #e5e7eb;
        }

        .rbc-toolbar button {
          padding: 8px 16px;
          border: 1px solid #d1d5db;
          background-color: white;
          color: #374151;
          border-radius: 6px;
          font-weight: 500;
          transition: all 0.2s;
        }

        .rbc-toolbar button:hover {
          background-color: #f3f4f6;
          border-color: #9ca3af;
        }

        .rbc-toolbar button.rbc-active {
          background-color: #3b82f6;
          color: white;
          border-color: #3b82f6;
        }

        .rbc-toolbar-label {
          font-size: 18px;
          font-weight: 600;
          color: #111827;
        }
      `})]})},Jt={RECORDATORIO_MEDICAMENTOS:"recordatorio_medicamentos",TOMA_HORA_CESFAM:"toma_hora_cesfam",GESTION_MUNICIPAL:"gestion_municipal",SEGUIMIENTO_TRAS_EMERGENCIAS:"seguimiento_tras_emergencias"},mQ={[Jt.RECORDATORIO_MEDICAMENTOS]:"Recordatorio de Medicamentos",[Jt.TOMA_HORA_CESFAM]:"Toma de hora en Cesfam/Hospital",[Jt.GESTION_MUNICIPAL]:"Gestión Municipal",[Jt.SEGUIMIENTO_TRAS_EMERGENCIAS]:"Seguimiento Tras Emergencias"},Ml={UNICO:"unico",DIARIO:"diario",SEMANAL:"semanal",MENSUAL:"mensual",PERMANENTE:"permanente"},Hk={[Ml.UNICO]:"Evento único",[Ml.DIARIO]:"Todos los días",[Ml.SEMANAL]:"Todas las semanas",[Ml.MENSUAL]:"Todos los meses",[Ml.PERMANENTE]:"Permanente"},pQ=({gestion:e,isOpen:t,onClose:r})=>{const{updateGestion:n,deleteGestion:a}=Am(),{user:i}=cs(),[s,o]=T.useState(!1),[l,c]=T.useState({}),[u,f]=T.useState(!1),[h,m]=T.useState(""),[p,g]=T.useState(!1);T.useEffect(()=>{e&&t&&(c({titulo:e.titulo||"",descripcion:e.descripcion||"",tipo:e.tipo||Jt.GESTION_MUNICIPAL,fechaVencimiento:e.fechaVencimiento?fu(e.fechaVencimiento,"yyyy-MM-dd'T'HH:mm"):"",prioridad:e.prioridad||"media",categoria:e.categoria||"general",medicamentos:e.medicamentos||"",horaMedicamento:e.horaMedicamento||"",recurrencia:e.recurrencia||Ml.UNICO,centroSalud:e.centroSalud||"",especialidad:e.especialidad||"",tipoGestionMunicipal:e.tipoGestionMunicipal||"",departamento:e.departamento||"",contactoCarabineros:e.contactoCarabineros||!1,contactoBomberos:e.contactoBomberos||!1,contactoAmbulancia:e.contactoAmbulancia||!1,contactoOtros:e.contactoOtros||!1,detalleOtros:e.detalleOtros||"",tipoEmergencia:e.tipoEmergencia||"",tipificacionSeguimiento:e.tipificacionSeguimiento||"",observacionesEmergencia:e.observacionesEmergencia||""}),o(!1),m(""))},[e,t]);const v=(S,_)=>{c(A=>({...A,[S]:_}))},y=async()=>{try{f(!0),m("");const S={...l,fechaVencimiento:l.fechaVencimiento?new Date(l.fechaVencimiento):null,ultimaModificacion:new Date,modificadoPor:i.uid,modificadoPorNombre:i.displayName||i.email,historialModificaciones:[...e.historialModificaciones||[],{fecha:new Date,usuario:i.uid,usuarioNombre:i.displayName||i.email,cambios:E(e,l)}]};await n(e.id,S),o(!1)}catch(S){console.error("Error actualizando gestión:",S),m("Error al guardar los cambios")}finally{f(!1)}},w=()=>(e==null?void 0:e.creadorId)===(i==null?void 0:i.uid)||(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="super_admin",b=async()=>{try{f(!0),m(""),await a(e.id),console.log("✅ Gestión eliminada exitosamente"),g(!1),r()}catch(S){console.error("❌ Error eliminando gestión:",S),m("Error al eliminar la gestión"),g(!1)}finally{f(!1)}},E=(S,_)=>{const A=[];return Object.keys(_).forEach(P=>{S[P]!==_[P]&&A.push({campo:P,valorAnterior:S[P],valorNuevo:_[P]})}),A},k=()=>{switch(l.tipo){case Jt.RECORDATORIO_MEDICAMENTOS:return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(vC,{className:"h-4 w-4 inline mr-1"}),"Medicamentos a recordar *"]}),s?d.jsx("textarea",{value:l.medicamentos,onChange:S=>v("medicamentos",S.target.value),placeholder:"Ej: Losartán 50mg - 1 comprimido, Metformina 850mg - 2 comprimidos",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.medicamentos})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(xa,{className:"h-4 w-4 inline mr-1"}),"Hora del recordatorio *"]}),s?d.jsx("input",{type:"time",value:l.horaMedicamento,onChange:S=>v("horaMedicamento",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.horaMedicamento})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(c7,{className:"h-4 w-4 inline mr-1"}),"Frecuencia del recordatorio *"]}),s?d.jsx("select",{value:l.recurrencia,onChange:S=>v("recurrencia",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:Object.entries(Hk).map(([S,_])=>d.jsx("option",{value:S,children:_},S))}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:Hk[l.recurrencia]})]})]});case Jt.TOMA_HORA_CESFAM:return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(G1,{className:"h-4 w-4 inline mr-1"}),"Centro de Salud (CESFAM/Hospital) *"]}),s?d.jsx("input",{type:"text",value:l.centroSalud,onChange:S=>v("centroSalud",S.target.value),placeholder:"Ej: CESFAM Dr. Juan Sebastián Bach",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.centroSalud})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(aa,{className:"h-4 w-4 inline mr-1"}),"Especialidad o tipo de atención"]}),s?d.jsx("input",{type:"text",value:l.especialidad,onChange:S=>v("especialidad",S.target.value),placeholder:"Ej: Medicina general, Cardiología, Exámenes",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.especialidad||"No especificado"})]})]});case Jt.GESTION_MUNICIPAL:return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(fC,{className:"h-4 w-4 inline mr-1"}),"Tipo de gestión municipal *"]}),s?d.jsx("input",{type:"text",value:l.tipoGestionMunicipal,onChange:S=>v("tipoGestionMunicipal",S.target.value),placeholder:"Ej: Solicitud de certificado, Permiso de circulación, Subsidios",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.tipoGestionMunicipal})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(G1,{className:"h-4 w-4 inline mr-1"}),"Departamento o área municipal"]}),s?d.jsx("input",{type:"text",value:l.departamento,onChange:S=>v("departamento",S.target.value),placeholder:"Ej: Oficina de partes, DIDECO, Dirección de tránsito",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.departamento||"No especificado"})]})]});case Jt.SEGUIMIENTO_TRAS_EMERGENCIAS:return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(vn,{className:"h-4 w-4 inline mr-1"}),"Tipo de emergencia *"]}),s?d.jsxs("select",{value:l.tipoEmergencia,onChange:S=>v("tipoEmergencia",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:"Seleccione el tipo de emergencia"}),d.jsx("option",{value:"medica",children:"Emergencia Médica"}),d.jsx("option",{value:"caida",children:"Caída"}),d.jsx("option",{value:"incendio",children:"Incendio"}),d.jsx("option",{value:"robo",children:"Robo/Asalto"}),d.jsx("option",{value:"accidente",children:"Accidente"}),d.jsx("option",{value:"otra",children:"Otra"})]}):d.jsxs("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:[l.tipoEmergencia==="medica"&&"Emergencia Médica",l.tipoEmergencia==="caida"&&"Caída",l.tipoEmergencia==="incendio"&&"Incendio",l.tipoEmergencia==="robo"&&"Robo/Asalto",l.tipoEmergencia==="accidente"&&"Accidente",l.tipoEmergencia==="otra"&&"Otra",!l.tipoEmergencia&&"No especificado"]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Se contactó con:"}),s?d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoCarabineros",checked:l.contactoCarabineros,onChange:S=>v("contactoCarabineros",S.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoCarabineros",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(yf,{className:"h-4 w-4 mr-1 text-blue-600"}),"Carabineros"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoBomberos",checked:l.contactoBomberos,onChange:S=>v("contactoBomberos",S.target.checked),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoBomberos",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(yC,{className:"h-4 w-4 mr-1 text-red-600"}),"Bomberos"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoAmbulancia",checked:l.contactoAmbulancia,onChange:S=>v("contactoAmbulancia",S.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoAmbulancia",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(hC,{className:"h-4 w-4 mr-1 text-green-600"}),"Ambulancia/SAMU"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoOtros",checked:l.contactoOtros,onChange:S=>v("contactoOtros",S.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoOtros",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(Vr,{className:"h-4 w-4 mr-1 text-purple-600"}),"Otros"]})]})]}):d.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:d.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.contactoCarabineros&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[d.jsx(yf,{className:"h-3 w-3 mr-1"}),"Carabineros"]}),l.contactoBomberos&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[d.jsx(yC,{className:"h-3 w-3 mr-1"}),"Bomberos"]}),l.contactoAmbulancia&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[d.jsx(hC,{className:"h-3 w-3 mr-1"}),"Ambulancia/SAMU"]}),l.contactoOtros&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[d.jsx(Vr,{className:"h-3 w-3 mr-1"}),"Otros"]}),!l.contactoCarabineros&&!l.contactoBomberos&&!l.contactoAmbulancia&&!l.contactoOtros&&d.jsx("span",{className:"text-gray-500",children:"No se especificaron contactos"})]})})]}),l.contactoOtros&&(s||l.detalleOtros)&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Otros servicios contactados"}),s?d.jsx("input",{type:"text",value:l.detalleOtros,onChange:S=>v("detalleOtros",S.target.value),placeholder:"Ej: Familiares, Vecinos, Empresa de seguridad",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.detalleOtros})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(xa,{className:"h-4 w-4 inline mr-1"}),"Tipificación del seguimiento *"]}),s?d.jsxs("select",{value:l.tipificacionSeguimiento,onChange:S=>v("tipificacionSeguimiento",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:"Seleccione la tipificación"}),d.jsx("option",{value:"seguimiento_inmediato",children:"Seguimiento Inmediato (24hrs)"}),d.jsx("option",{value:"seguimiento_corto",children:"Seguimiento Corto Plazo (72hrs)"}),d.jsx("option",{value:"seguimiento_semanal",children:"Seguimiento Semanal"}),d.jsx("option",{value:"seguimiento_quincenal",children:"Seguimiento Quincenal"}),d.jsx("option",{value:"seguimiento_mensual",children:"Seguimiento Mensual"}),d.jsx("option",{value:"no_requiere",children:"No Requiere Seguimiento"})]}):d.jsxs("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:[l.tipificacionSeguimiento==="seguimiento_inmediato"&&"Seguimiento Inmediato (24hrs)",l.tipificacionSeguimiento==="seguimiento_corto"&&"Seguimiento Corto Plazo (72hrs)",l.tipificacionSeguimiento==="seguimiento_semanal"&&"Seguimiento Semanal",l.tipificacionSeguimiento==="seguimiento_quincenal"&&"Seguimiento Quincenal",l.tipificacionSeguimiento==="seguimiento_mensual"&&"Seguimiento Mensual",l.tipificacionSeguimiento==="no_requiere"&&"No Requiere Seguimiento",!l.tipificacionSeguimiento&&"No especificado"]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Yg,{className:"h-4 w-4 inline mr-1"}),"Observaciones adicionales de la emergencia"]}),s?d.jsx("textarea",{value:l.observacionesEmergencia,onChange:S=>v("observacionesEmergencia",S.target.value),placeholder:"Detalles adicionales sobre la emergencia y el seguimiento realizado...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.observacionesEmergencia||"No hay observaciones adicionales"})]})]});default:return null}};if(!e||!t)return null;const C=()=>d.jsx(as,{children:p&&d.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60]",onClick:()=>g(!1),children:d.jsxs(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",onClick:S=>S.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"p-3 bg-red-100 rounded-full mr-4",children:d.jsx(el,{className:"h-6 w-6 text-red-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Eliminar Gestión"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Esta acción no se puede deshacer"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("p",{className:"text-gray-700",children:["¿Estás seguro de que deseas eliminar la gestión ",d.jsxs("strong",{children:['"',e.titulo,'"']}),"?"]}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Toda la información asociada se perderá permanentemente."})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[d.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:u,children:"Cancelar"}),d.jsxs("button",{onClick:b,disabled:u,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[u?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(el,{className:"h-4 w-4 mr-2"}),"Eliminar"]})]})]})})});return d.jsx(as,{children:d.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:r,children:[d.jsxs(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${e.tipo===Jt.RECORDATORIO_MEDICAMENTOS?"bg-green-100 text-green-600":e.tipo===Jt.TOMA_HORA_CESFAM?"bg-blue-100 text-blue-600":"bg-purple-100 text-purple-600"}`,children:e.tipo===Jt.RECORDATORIO_MEDICAMENTOS?d.jsx(vC,{className:"h-5 w-5"}):e.tipo===Jt.TOMA_HORA_CESFAM?d.jsx(G1,{className:"h-5 w-5"}):d.jsx(fC,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s?"Editando Gestión":"Detalles de Gestión"}),d.jsx("p",{className:"text-sm text-gray-500",children:mQ[e.tipo||Jt.GESTION_MUNICIPAL]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[!s&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>o(!0),className:"flex items-center px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[d.jsx(gse,{className:"h-4 w-4 mr-1"}),"Editar"]}),w()&&d.jsxs("button",{onClick:()=>g(!0),className:"flex items-center px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[d.jsx(el,{className:"h-4 w-4 mr-1"}),"Eliminar"]})]}),d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(gf,{className:"h-6 w-6"})})]})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[h&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[d.jsx(vn,{className:"h-5 w-5 text-red-500 mr-2"}),d.jsx("span",{className:"text-red-700",children:h})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Título *"}),s?d.jsx("input",{type:"text",value:l.titulo,onChange:S=>v("titulo",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):d.jsx("p",{className:"text-gray-900 font-medium",children:e.titulo})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Ga,{className:"h-4 w-4 inline mr-1"}),"Fecha y hora"]}),s?d.jsx("input",{type:"datetime-local",value:l.fechaVencimiento,onChange:S=>v("fechaVencimiento",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):d.jsx("p",{className:"text-gray-900",children:e.fechaVencimiento?fu(e.fechaVencimiento,"dd 'de' MMMM 'de' yyyy 'a las' HH:mm",{locale:E0}):"No especificada"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Yg,{className:"h-4 w-4 inline mr-1"}),"Descripción"]}),s?d.jsx("textarea",{value:l.descripcion,onChange:S=>v("descripcion",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:e.descripcion})]}),d.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[d.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Información específica"}),k()]}),d.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[d.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Información de seguimiento"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Creado por:"})," ",e.creadorNombre]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Fecha de creación:"})," "," ",fu(e.createdAt,"dd/MM/yyyy HH:mm",{locale:E0})]}),e.modificadoPorNombre&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Última modificación:"})," ",e.modificadoPorNombre]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Fecha de modificación:"})," "," ",e.ultimaModificacion&&fu(e.ultimaModificacion,"dd/MM/yyyy HH:mm",{locale:E0})]})]})]})]})]}),s&&d.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[d.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:u,children:"Cancelar"}),d.jsxs("button",{onClick:y,disabled:u,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[u?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(cy,{className:"h-4 w-4 mr-2"}),"Guardar cambios"]})]})]}),d.jsx(C,{})]})})},YWe={es:E0},XWe=oQ({format:fu,startOfWeek:zf,getDay:hQ,locales:YWe}),QWe={allDay:"Todo el día",previous:"Anterior",next:"Siguiente",today:"Hoy",month:"Mes",week:"Semana",day:"Día",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay gestiones en este rango",showMore:e=>`+ Ver más (${e})`},JWe=({onSelectGestion:e,onSelectDate:t})=>{const{gestiones:r,calendarEvents:n,isLoading:a,error:i,getGestionesByDate:s,getGestionesStats:o}=Am(),[l,c]=T.useState(new Date),[u,f]=T.useState("month"),[h,m]=T.useState(!1),[p,g]=T.useState("todos"),[v,y]=T.useState(null),[w,b]=T.useState(!1),E=T.useMemo(()=>o(),[n,o]),k=T.useMemo(()=>p==="todos"?n:n.filter(N=>N.resource.estado===p),[n,p]),C=N=>{var D,M;return{style:{backgroundColor:((D=N.resource)==null?void 0:D.color)||Qc[At.ABIERTO],border:"none",borderRadius:"6px",color:"white",fontSize:"11px",fontWeight:"500",padding:"2px 6px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",opacity:((M=N.resource)==null?void 0:M.estado)===At.FINALIZADO?.7:1}}},S=({start:N})=>{const I=s(N);t&&t(N,I)},_=N=>{console.log("🔍 Click en evento del calendario:",N),console.log("📋 Gestiones disponibles:",(r==null?void 0:r.length)||0),console.log("🆔 Buscando gestión con ID:",N.id);const I=r==null?void 0:r.find(D=>D.id===N.id);I?(console.log("✅ Gestión encontrada:",I.titulo),y(I),b(!0)):(console.error("❌ No se encontró la gestión con ID:",N.id),console.log("📋 IDs disponibles:",(r==null?void 0:r.map(D=>D.id))||[]))},A=()=>d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(oy,{className:"h-4 w-4 text-gray-500"}),d.jsxs("select",{value:p,onChange:N=>g(N.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"todos",children:"Todos los estados"}),d.jsx("option",{value:At.ABIERTO,children:"Abiertas"}),d.jsx("option",{value:At.PENDIENTE,children:"Pendientes"}),d.jsx("option",{value:At.EN_CURSO,children:"En Curso"}),d.jsx("option",{value:At.FINALIZADO,children:"Finalizadas"})]})]}),d.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-3 py-1 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[d.jsx(xf,{className:"h-4 w-4"}),"Ver Estadísticas"]})]}),P=()=>d.jsx(as,{children:h&&d.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>m(!1),children:d.jsxs(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",onClick:N=>N.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Estadísticas de Gestiones"}),d.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(gf,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:E.total}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[E.porcentajeResolucion,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Resueltas"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Qc[At.ABIERTO]}}),d.jsx("span",{className:"text-sm",children:"Abiertas"})]}),d.jsx("span",{className:"font-semibold",children:E.abiertas})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Qc[At.PENDIENTE]}}),d.jsx("span",{className:"text-sm",children:"Pendientes"})]}),d.jsx("span",{className:"font-semibold",children:E.pendientes})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Qc[At.EN_CURSO]}}),d.jsx("span",{className:"text-sm",children:"En Curso"})]}),d.jsx("span",{className:"font-semibold",children:E.enCurso})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Qc[At.FINALIZADO]}}),d.jsx("span",{className:"text-sm",children:"Finalizadas"})]}),d.jsx("span",{className:"font-semibold",children:E.finalizadas})]})]})]})]})})});return a?d.jsxs("div",{className:"flex items-center justify-center h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando calendario..."})]}):i?d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(vn,{className:"h-5 w-5 text-red-500 mr-2"}),d.jsxs("span",{className:"text-red-700",children:["Error cargando las gestiones: ",i]})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[d.jsx(Ga,{className:"h-5 w-5 mr-2 text-blue-600"}),"Calendario de Gestiones Compartidas"]}),d.jsxs("p",{className:"text-gray-600 mt-1",children:[k.length," gestión",k.length!==1?"es":"",p!=="todos"&&` (${p})`]})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Resolución:"}),d.jsxs("span",{className:"font-semibold text-green-600",children:[E.porcentajeResolucion,"%"]})]})]}),d.jsx(A,{}),d.jsxs(ke.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-wrap gap-4 p-4 bg-gray-50 rounded-lg",children:[d.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Estados:"}),Object.entries(Qc).map(([N,I])=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:I}}),d.jsx("span",{className:"text-sm text-gray-700 capitalize",children:N.replace("_"," ")})]},N))]}),d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-md",children:d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"h-96 md:h-[600px]",children:d.jsx(sQ,{localizer:XWe,events:k,startAccessor:"start",endAccessor:"end",style:{height:"100%"},culture:"es",messages:QWe,eventPropGetter:C,onSelectSlot:S,onSelectEvent:_,selectable:!0,view:u,onView:f,date:l,onNavigate:c,views:["month","week","day"],step:60,showMultiDayTimes:!1,popup:!0,popupOffset:30,className:"rbc-calendar-gestiones"})})})}),d.jsx(P,{}),d.jsx(pQ,{gestion:v,isOpen:w,onClose:()=>{b(!1),y(null)}}),d.jsx("style",{children:`
        .rbc-calendar-gestiones .rbc-event {
          font-size: 11px;
          line-height: 1.2;
        }
        
        .rbc-calendar-gestiones .rbc-event:hover {
          transform: translateY(-1px);
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }
        
        .rbc-calendar-gestiones .rbc-today {
          background-color: #f0f9ff;
        }
      `})]})},ZWe=({onEditGestion:e,onCompleteGestion:t,onViewGestion:r,selectedDate:n=null})=>{const{user:a}=cs(),{gestiones:i,isLoading:s,searchGestiones:o,getGestionesByEstado:l,markGestionEnCurso:c,deleteGestion:u}=Am(),[f,h]=T.useState(""),[m,p]=T.useState("todos"),[g,v]=T.useState("fecha"),[y,w]=T.useState("desc"),b=T.useMemo(()=>{let P=i;if(n){const N=new Date(n);N.setHours(0,0,0,0);const I=new Date(n);I.setHours(23,59,59,999),P=P.filter(D=>{const M=D.fechaVencimiento||D.createdAt;return M>=N&&M<=I})}return f.trim()&&(P=o(f)),m!=="todos"&&(P=P.filter(N=>N.estado===m)),P.sort((N,I)=>{let D,M;switch(g){case"fecha":D=N.createdAt,M=I.createdAt;break;case"estado":D=N.estado,M=I.estado;break;case"creador":D=N.creadorNombre.toLowerCase(),M=I.creadorNombre.toLowerCase();break;default:D=N.createdAt,M=I.createdAt}return y==="asc"?D>M?1:-1:D<M?1:-1}),P},[i,f,m,g,y,n,o]),E=P=>{const I=new Date-P,D=Math.floor(I/(1e3*60*60*24));return D===0?"Hoy":D===1?"Ayer":D<7?`Hace ${D} días`:D<30?`Hace ${Math.floor(D/7)} semanas`:P.toLocaleDateString("es-CL")},k=P=>{const N={[At.ABIERTO]:"bg-blue-100 text-blue-800",[At.PENDIENTE]:"bg-yellow-100 text-yellow-800",[At.EN_CURSO]:"bg-purple-100 text-purple-800",[At.FINALIZADO]:"bg-green-100 text-green-800"};return N[P]||N[At.ABIERTO]},C=P=>{var N;return(a==null?void 0:a.uid)===P.creadorId||(a==null?void 0:a.role)==="admin"||((N=a==null?void 0:a.email)==null?void 0:N.includes("admin"))},S=async P=>{try{await c(P,a.uid)}catch(N){console.error("Error marcando gestión en curso:",N)}},_=async P=>{if(window.confirm("¿Estás seguro de que quieres eliminar esta gestión?"))try{await u(P)}catch(N){console.error("Error eliminando gestión:",N)}},A=({gestion:P,index:N})=>d.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:P.titulo}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k(P.estado)}`,children:P.estado.replace("_"," ").toUpperCase()}),P.prioridad&&d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${P.prioridad==="alta"?"bg-red-100 text-red-800":P.prioridad==="media"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:P.prioridad.toUpperCase()})]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>r&&r(P),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Ver detalles",children:d.jsx(RP,{className:"h-4 w-4"})}),P.estado!==At.FINALIZADO&&d.jsxs(d.Fragment,{children:[P.estado===At.ABIERTO&&d.jsx("button",{onClick:()=>S(P.id),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",title:"Marcar en curso",children:d.jsx(bse,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>t&&t(P),className:"p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Completar gestión",children:d.jsx($r,{className:"h-4 w-4"})})]}),C(P)&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>e&&e(P),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Editar",children:d.jsx(FP,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>_(P.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Eliminar",children:d.jsx(el,{className:"h-4 w-4"})})]})]})]}),P.descripcion&&d.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:P.descripcion}),d.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(aa,{className:"h-3 w-3"}),d.jsx("span",{children:P.creadorNombre})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(xa,{className:"h-3 w-3"}),d.jsx("span",{children:E(P.createdAt)})]})]}),P.fechaVencimiento&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ga,{className:"h-3 w-3"}),d.jsxs("span",{children:["Vence: ",P.fechaVencimiento.toLocaleDateString("es-CL")]})]})]}),P.estado===At.FINALIZADO&&P.finalizadaNombre&&d.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[d.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[d.jsx($r,{className:"h-3 w-3"}),d.jsxs("span",{children:["Finalizada por ",P.finalizadaNombre]})]}),P.solucion&&d.jsxs("p",{className:"text-xs text-gray-600 mt-1 italic",children:['"',P.solucion,'"']})]})]});return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Listado de Gestiones",n&&d.jsxs("span",{className:"text-sm font-normal text-gray-600 ml-2",children:["- ",n.toLocaleDateString("es-CL")]})]}),d.jsxs("p",{className:"text-sm text-gray-600",children:[b.length," gestión",b.length!==1?"es":""," encontrada",b.length!==1?"s":""]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar por título, descripción o creador...",value:f,onChange:P=>h(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("select",{value:m,onChange:P=>p(P.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"todos",children:"Todos los estados"}),d.jsx("option",{value:At.ABIERTO,children:"Abiertas"}),d.jsx("option",{value:At.PENDIENTE,children:"Pendientes"}),d.jsx("option",{value:At.EN_CURSO,children:"En Curso"}),d.jsx("option",{value:At.FINALIZADO,children:"Finalizadas"})]}),d.jsxs("select",{value:`${g}-${y}`,onChange:P=>{const[N,I]=P.target.value.split("-");v(N),w(I)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"fecha-desc",children:"Más recientes"}),d.jsx("option",{value:"fecha-asc",children:"Más antiguas"}),d.jsx("option",{value:"estado-asc",children:"Por estado"}),d.jsx("option",{value:"creador-asc",children:"Por creador"})]})]})]}),d.jsx("div",{className:"space-y-3",children:s?d.jsxs("div",{className:"flex items-center justify-center py-8",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando gestiones..."})]}):b.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(ly,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:f||m!=="todos"?"No se encontraron gestiones con los filtros aplicados":"No hay gestiones registradas"})]}):b.map((P,N)=>d.jsx(A,{gestion:P,index:N},P.id))})]})},eHe=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=cs(),{addGestion:a,isLoading:i}=Am(),[s,o]=T.useState({titulo:"",descripcion:"",tipo:Jt.GESTION_MUNICIPAL,fechaVencimiento:"",prioridad:"media",categoria:"general",medicamentos:"",horaMedicamento:"",recurrencia:Ml.UNICO,centroSalud:"",especialidad:"",tipoGestionMunicipal:"",departamento:"",contactoCarabineros:!1,contactoBomberos:!1,contactoAmbulancia:!1,contactoOtros:!1,detalleOtros:"",tipoEmergencia:"",tipificacionSeguimiento:"",observacionesEmergencia:""}),[l,c]=T.useState({}),[u,f]=T.useState(!1),h=()=>new Date().toISOString().split("T")[0],m=()=>{const E={};switch(s.titulo.trim()?s.titulo.length<3?E.titulo="El título debe tener al menos 3 caracteres":s.titulo.length>100&&(E.titulo="El título no puede exceder 100 caracteres"):E.titulo="El título es obligatorio",s.descripcion.trim()?s.descripcion.length<10?E.descripcion="La descripción debe tener al menos 10 caracteres":s.descripcion.length>500&&(E.descripcion="La descripción no puede exceder 500 caracteres"):E.descripcion="La descripción es obligatoria",s.tipo){case Jt.RECORDATORIO_MEDICAMENTOS:s.medicamentos.trim()||(E.medicamentos="Debe especificar los medicamentos"),s.horaMedicamento||(E.horaMedicamento="Debe especificar la hora del recordatorio");break;case Jt.TOMA_HORA_CESFAM:s.centroSalud.trim()||(E.centroSalud="Debe especificar el centro de salud");break;case Jt.GESTION_MUNICIPAL:s.tipoGestionMunicipal.trim()||(E.tipoGestionMunicipal="Debe especificar el tipo de gestión municipal");break;case Jt.SEGUIMIENTO_TRAS_EMERGENCIAS:s.tipoEmergencia.trim()||(E.tipoEmergencia="Debe especificar el tipo de emergencia"),s.tipificacionSeguimiento.trim()||(E.tipificacionSeguimiento="Debe especificar la tipificación del seguimiento"),!s.contactoCarabineros&&!s.contactoBomberos&&!s.contactoAmbulancia&&!s.contactoOtros&&(E.contactos="Debe seleccionar al menos un tipo de contacto con servicios de emergencia"),s.contactoOtros&&!s.detalleOtros.trim()&&(E.detalleOtros="Debe especificar qué otros servicios se contactaron");break}if(s.fechaVencimiento){const k=new Date(s.fechaVencimiento),C=new Date;C.setHours(0,0,0,0),k<C&&(E.fechaVencimiento="La fecha de vencimiento no puede ser anterior a hoy")}return c(E),Object.keys(E).length===0},p=E=>{const{name:k,value:C,type:S,checked:_}=E.target;o(A=>({...A,[k]:S==="checkbox"?_:C})),l[k]&&c(A=>({...A,[k]:""}))},g=async E=>{if(E.preventDefault(),!!m()){f(!0);try{const k={titulo:s.titulo.trim(),descripcion:s.descripcion.trim(),tipo:s.tipo,prioridad:s.prioridad,categoria:s.categoria,fechaVencimiento:s.fechaVencimiento?new Date(s.fechaVencimiento):null,...s.tipo===Jt.RECORDATORIO_MEDICAMENTOS&&{medicamentos:s.medicamentos.trim(),horaMedicamento:s.horaMedicamento,recurrencia:s.recurrencia},...s.tipo===Jt.TOMA_HORA_CESFAM&&{centroSalud:s.centroSalud.trim(),especialidad:s.especialidad.trim()},...s.tipo===Jt.GESTION_MUNICIPAL&&{tipoGestionMunicipal:s.tipoGestionMunicipal.trim(),departamento:s.departamento.trim()},...s.tipo===Jt.SEGUIMIENTO_TRAS_EMERGENCIAS&&{contactoCarabineros:s.contactoCarabineros,contactoBomberos:s.contactoBomberos,contactoAmbulancia:s.contactoAmbulancia,contactoOtros:s.contactoOtros,detalleOtros:s.detalleOtros.trim(),tipoEmergencia:s.tipoEmergencia.trim(),tipificacionSeguimiento:s.tipificacionSeguimiento.trim(),observacionesEmergencia:s.observacionesEmergencia.trim()}},C=await a(k,n.uid,n.displayName||n.email);console.log("✅ Nueva gestión creada:",C),o({titulo:"",descripcion:"",tipo:Jt.GESTION_MUNICIPAL,fechaVencimiento:"",prioridad:"media",categoria:"general",medicamentos:"",horaMedicamento:"",recurrencia:Ml.UNICO,centroSalud:"",especialidad:"",tipoGestionMunicipal:"",departamento:"",contactoCarabineros:!1,contactoBomberos:!1,contactoAmbulancia:!1,contactoOtros:!1,detalleOtros:"",tipoEmergencia:"",tipificacionSeguimiento:"",observacionesEmergencia:""}),r&&r(C),t()}catch(k){console.error("❌ Error creando gestión:",k),c({submit:"Error al crear la gestión. Intenta nuevamente."})}finally{f(!1)}}},v=()=>{o({titulo:"",descripcion:"",tipo:Jt.GESTION_MUNICIPAL,fechaVencimiento:"",prioridad:"media",categoria:"general",medicamentos:"",horaMedicamento:"",recurrencia:Ml.UNICO,centroSalud:"",especialidad:"",tipoGestionMunicipal:"",departamento:"",contactoCarabineros:!1,contactoBomberos:!1,contactoAmbulancia:!1,contactoOtros:!1,detalleOtros:"",tipoEmergencia:"",tipificacionSeguimiento:"",observacionesEmergencia:""}),c({}),t()},y=[{value:"general",label:"General"},{value:"tecnica",label:"Técnica"},{value:"administrativa",label:"Administrativa"},{value:"comercial",label:"Comercial"},{value:"soporte",label:"Soporte"},{value:"mejora",label:"Mejora"}],w=[{value:"baja",label:"Baja",color:"text-green-600"},{value:"media",label:"Media",color:"text-yellow-600"},{value:"alta",label:"Alta",color:"text-red-600"}],b=()=>{switch(s.tipo){case Jt.RECORDATORIO_MEDICAMENTOS:return d.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[d.jsxs("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[d.jsx(vC,{className:"h-4 w-4 mr-2 text-green-600"}),"Información del Medicamento"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medicamentos a recordar *"}),d.jsx("textarea",{name:"medicamentos",value:s.medicamentos,onChange:p,placeholder:"Ej: Losartán 50mg - 1 comprimido, Metformina 850mg - 2 comprimidos",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0}),l.medicamentos&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.medicamentos})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(xa,{className:"h-4 w-4 inline mr-1"}),"Hora del recordatorio *"]}),d.jsx("input",{type:"time",name:"horaMedicamento",value:s.horaMedicamento,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.horaMedicamento&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.horaMedicamento})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(c7,{className:"h-4 w-4 inline mr-1"}),"Frecuencia *"]}),d.jsx("select",{name:"recurrencia",value:s.recurrencia,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:Object.entries(Hk).map(([E,k])=>d.jsx("option",{value:E,children:k},E))})]})]})]});case Jt.TOMA_HORA_CESFAM:return d.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[d.jsxs("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[d.jsx(G1,{className:"h-4 w-4 mr-2 text-blue-600"}),"Información del Centro de Salud"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Centro de Salud (CESFAM/Hospital) *"}),d.jsx("input",{type:"text",name:"centroSalud",value:s.centroSalud,onChange:p,placeholder:"Ej: CESFAM Dr. Juan Sebastián Bach",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.centroSalud&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.centroSalud})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Especialidad o tipo de atención"}),d.jsx("input",{type:"text",name:"especialidad",value:s.especialidad,onChange:p,placeholder:"Ej: Medicina general, Cardiología, Exámenes",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]});case Jt.GESTION_MUNICIPAL:return d.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[d.jsxs("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[d.jsx(fC,{className:"h-4 w-4 mr-2 text-purple-600"}),"Información de la Gestión Municipal"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de gestión municipal *"}),d.jsx("input",{type:"text",name:"tipoGestionMunicipal",value:s.tipoGestionMunicipal,onChange:p,placeholder:"Ej: Solicitud de certificado, Permiso de circulación, Subsidios",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.tipoGestionMunicipal&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.tipoGestionMunicipal})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departamento o área municipal"}),d.jsx("input",{type:"text",name:"departamento",value:s.departamento,onChange:p,placeholder:"Ej: Oficina de partes, DIDECO, Dirección de tránsito",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]});case Jt.SEGUIMIENTO_TRAS_EMERGENCIAS:return d.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[d.jsxs("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[d.jsx(vn,{className:"h-4 w-4 mr-2 text-red-600"}),"Información del Seguimiento Tras Emergencias"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de emergencia *"}),d.jsxs("select",{name:"tipoEmergencia",value:s.tipoEmergencia,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:"Seleccione el tipo de emergencia"}),d.jsx("option",{value:"medica",children:"Emergencia Médica"}),d.jsx("option",{value:"caida",children:"Caída"}),d.jsx("option",{value:"incendio",children:"Incendio"}),d.jsx("option",{value:"robo",children:"Robo/Asalto"}),d.jsx("option",{value:"accidente",children:"Accidente"}),d.jsx("option",{value:"otra",children:"Otra"})]}),l.tipoEmergencia&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.tipoEmergencia})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Se contactó con: *"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoCarabineros",name:"contactoCarabineros",checked:s.contactoCarabineros,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoCarabineros",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(yf,{className:"h-4 w-4 mr-1 text-blue-600"}),"Carabineros"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoBomberos",name:"contactoBomberos",checked:s.contactoBomberos,onChange:p,className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoBomberos",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(yC,{className:"h-4 w-4 mr-1 text-red-600"}),"Bomberos"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoAmbulancia",name:"contactoAmbulancia",checked:s.contactoAmbulancia,onChange:p,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoAmbulancia",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(hC,{className:"h-4 w-4 mr-1 text-green-600"}),"Ambulancia/SAMU"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoOtros",name:"contactoOtros",checked:s.contactoOtros,onChange:p,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoOtros",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(Vr,{className:"h-4 w-4 mr-1 text-purple-600"}),"Otros"]})]})]}),l.contactos&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.contactos})]}),s.contactoOtros&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Especifique otros servicios contactados *"}),d.jsx("input",{type:"text",name:"detalleOtros",value:s.detalleOtros,onChange:p,placeholder:"Ej: Familiares, Vecinos, Empresa de seguridad",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.detalleOtros&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.detalleOtros})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipificación del seguimiento *"}),d.jsxs("select",{name:"tipificacionSeguimiento",value:s.tipificacionSeguimiento,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:"Seleccione la tipificación"}),d.jsx("option",{value:"seguimiento_inmediato",children:"Seguimiento Inmediato (24hrs)"}),d.jsx("option",{value:"seguimiento_corto",children:"Seguimiento Corto Plazo (72hrs)"}),d.jsx("option",{value:"seguimiento_semanal",children:"Seguimiento Semanal"}),d.jsx("option",{value:"seguimiento_quincenal",children:"Seguimiento Quincenal"}),d.jsx("option",{value:"seguimiento_mensual",children:"Seguimiento Mensual"}),d.jsx("option",{value:"no_requiere",children:"No Requiere Seguimiento"})]}),l.tipificacionSeguimiento&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.tipificacionSeguimiento})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones adicionales de la emergencia"}),d.jsx("textarea",{name:"observacionesEmergencia",value:s.observacionesEmergencia,onChange:p,placeholder:"Detalles adicionales sobre la emergencia y el seguimiento realizado...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]})]});default:return null}};return d.jsx(as,{children:e&&d.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:v,children:d.jsxs(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[d.jsx(Ga,{className:"h-5 w-5 mr-2 text-blue-600"}),"Nueva Gestión"]}),d.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(cc,{className:"h-5 w-5"})})]}),d.jsxs("form",{onSubmit:g,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"titulo",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Vse,{className:"inline h-4 w-4 mr-1"}),"Título *"]}),d.jsx("input",{type:"text",id:"titulo",name:"titulo",value:s.titulo,onChange:p,placeholder:"Ej: Revisar sistema de reportes",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${l.titulo?"border-red-500":"border-gray-300"}`,maxLength:100}),l.titulo&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx(vn,{className:"h-4 w-4 mr-1"}),l.titulo]}),d.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-right",children:[s.titulo.length,"/100 caracteres"]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"tipo",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(GM,{className:"inline h-4 w-4 mr-1"}),"Tipo de Gestión *"]}),d.jsx("select",{id:"tipo",name:"tipo",value:s.tipo,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:Object.entries(mQ).map(([E,k])=>d.jsx("option",{value:E,children:k},E))})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"descripcion",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Yg,{className:"inline h-4 w-4 mr-1"}),"Descripción *"]}),d.jsx("textarea",{id:"descripcion",name:"descripcion",value:s.descripcion,onChange:p,placeholder:"Describe detalladamente la gestión a realizar...",rows:4,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ${l.descripcion?"border-red-500":"border-gray-300"}`,maxLength:500}),l.descripcion&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx(vn,{className:"h-4 w-4 mr-1"}),l.descripcion]}),d.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-right",children:[s.descripcion.length,"/500 caracteres"]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"fechaVencimiento",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Ga,{className:"inline h-4 w-4 mr-1"}),"Fecha de Vencimiento (Opcional)"]}),d.jsx("input",{type:"date",id:"fechaVencimiento",name:"fechaVencimiento",value:s.fechaVencimiento,onChange:p,min:h(),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${l.fechaVencimiento?"border-red-500":"border-gray-300"}`}),l.fechaVencimiento&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx(vn,{className:"h-4 w-4 mr-1"}),l.fechaVencimiento]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"prioridad",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Qie,{className:"inline h-4 w-4 mr-1"}),"Prioridad"]}),d.jsx("select",{id:"prioridad",name:"prioridad",value:s.prioridad,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:w.map(E=>d.jsx("option",{value:E.value,children:E.label},E.value))})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"categoria",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(GM,{className:"inline h-4 w-4 mr-1"}),"Categoría"]}),d.jsx("select",{id:"categoria",name:"categoria",value:s.categoria,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:y.map(E=>d.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),b(),l.submit&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:d.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[d.jsx(vn,{className:"h-4 w-4 mr-2"}),l.submit]})}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:u||i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:u?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(cy,{className:"h-4 w-4"}),"Crear Gestión"]})})]})]})]})})})},tHe=({isOpen:e,gestion:t,onClose:r,onSuccess:n})=>{var y,w;const{user:a}=cs(),{completeGestion:i,isLoading:s}=Am(),[o,l]=T.useState(""),[c,u]=T.useState(""),[f,h]=T.useState(!1),m=()=>o.trim()?o.length<10?(u("La solución debe tener al menos 10 caracteres"),!1):o.length>500?(u("La solución no puede exceder 500 caracteres"),!1):(u(""),!0):(u("La descripción de la solución es obligatoria"),!1),p=async b=>{if(b.preventDefault(),!!m()){h(!0);try{await i(t.id,o.trim(),a.uid,a.displayName||a.email),console.log("✅ Gestión completada:",t.id),l(""),n&&n(t.id),r()}catch(E){console.error("❌ Error completando gestión:",E),u("Error al completar la gestión. Intenta nuevamente.")}finally{h(!1)}}},g=()=>{l(""),u(""),r()},v=b=>b?b.toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}):"No especificada";return t?d.jsx(as,{children:e&&d.jsx(ke.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:g,children:d.jsxs(ke.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:b=>b.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[d.jsx($r,{className:"h-5 w-5 mr-2 text-green-600"}),"Completar Gestión"]}),d.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(cc,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:t.titulo}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(aa,{className:"h-4 w-4"}),d.jsxs("span",{children:["Creada por: ",d.jsx("strong",{children:t.creadorNombre})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ga,{className:"h-4 w-4"}),d.jsxs("span",{children:["Fecha: ",v(t.createdAt)]})]}),t.fechaVencimiento&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ga,{className:"h-4 w-4"}),d.jsxs("span",{children:["Vencimiento: ",v(t.fechaVencimiento)]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.prioridad==="alta"?"bg-red-100 text-red-800":t.prioridad==="media"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:["Prioridad: ",(y=t.prioridad)==null?void 0:y.toUpperCase()]}),d.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:(w=t.categoria)==null?void 0:w.toUpperCase()})]})]}),t.descripcion&&d.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(ly,{className:"h-4 w-4 text-gray-500 mt-0.5"}),d.jsx("p",{className:"text-sm text-gray-700",children:t.descripcion})]})})]}),d.jsxs("form",{onSubmit:p,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"solucion",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Yg,{className:"inline h-4 w-4 mr-1"}),"Descripción de la Solución *"]}),d.jsx("textarea",{id:"solucion",value:o,onChange:b=>l(b.target.value),placeholder:"Describe cómo se resolvió la gestión, qué acciones se tomaron, resultados obtenidos...",rows:5,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none ${c?"border-red-500":"border-gray-300"}`,maxLength:500}),c&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx(vn,{className:"h-4 w-4 mr-1"}),c]}),d.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-right",children:[o.length,"/500 caracteres"]})]}),d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx($r,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"text-sm",children:[d.jsx("p",{className:"text-green-800 font-medium",children:"Al completar esta gestión:"}),d.jsxs("ul",{className:"text-green-700 mt-1 space-y-1",children:[d.jsx("li",{children:'• Se marcará como "Finalizada"'}),d.jsx("li",{children:"• Se registrará tu nombre como quien la completó"}),d.jsx("li",{children:"• La solución será visible para todos los usuarios"}),d.jsx("li",{children:"• Ya no podrá ser editada"})]})]})]})}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:f||s,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:f?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Completando..."]}):d.jsxs(d.Fragment,{children:[d.jsx($r,{className:"h-4 w-4"}),"Completar Gestión"]})})]})]})]})})}):null},rHe=()=>{const{user:e}=cs(),{initializeGestionesSubscription:t,clearGestionesStore:r,isLoading:n,error:a,clearError:i}=Am(),[s,o]=T.useState(!1),[l,c]=T.useState(!1),[u,f]=T.useState(!1),[h,m]=T.useState(null),[p,g]=T.useState(null),[v,y]=T.useState("calendar"),[w,b]=T.useState("");T.useEffect(()=>(console.log("🚀 Inicializando módulo de gestiones colaborativas"),t(),()=>{r()}),[t,r]);const E=Q=>{m(Q),console.log("📋 Gestión seleccionada:",Q.titulo)},k=(Q,W)=>{g(Q),console.log("📅 Fecha seleccionada:",Q,"Gestiones:",W.length)},C=Q=>{m(Q),c(!0)},S=Q=>{console.log("✏️ Editar gestión:",Q.titulo),b("Función de edición próximamente disponible"),setTimeout(()=>b(""),3e3)},_=Q=>{console.log("👁️ Ver gestión:",Q.titulo),m(Q),f(!0)},A=Q=>{b("✅ Gestión creada exitosamente"),setTimeout(()=>b(""),3e3),console.log("✅ Nueva gestión creada:",Q)},P=Q=>{b("✅ Gestión completada exitosamente"),setTimeout(()=>b(""),3e3),m(null),console.log("✅ Gestión completada:",Q)},N=()=>{g(null)},I=()=>d.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[d.jsx(hn,{className:"h-6 w-6 mr-2 text-blue-600"}),"Gestiones Colaborativas"]}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Calendario compartido y seguimiento de tareas del equipo"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>y("calendar"),className:`px-3 py-2 text-sm font-medium transition-colors ${v==="calendar"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(Ga,{className:"h-4 w-4 inline mr-1"}),"Calendario"]}),d.jsxs("button",{onClick:()=>y("list"),className:`px-3 py-2 text-sm font-medium transition-colors ${v==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(sse,{className:"h-4 w-4 inline mr-1"}),"Listado"]}),d.jsxs("button",{onClick:()=>y("both"),className:`px-3 py-2 text-sm font-medium transition-colors ${v==="both"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(vf,{className:"h-4 w-4 inline mr-1"}),"Ambos"]})]}),d.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(W_,{className:"h-4 w-4"}),"Nueva Gestión"]})]})]}),D=()=>w&&d.jsx(ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700",children:w}),M=()=>a&&d.jsx(ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(vn,{className:"h-5 w-5 text-red-500 mr-2"}),d.jsxs("span",{className:"text-red-700",children:["Error: ",a]})]}),d.jsx("button",{onClick:i,className:"text-red-500 hover:text-red-700",children:"×"})]})}),ee=()=>p&&d.jsx(ke.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ga,{className:"h-5 w-5 text-blue-500 mr-2"}),d.jsxs("span",{className:"text-blue-700",children:["Mostrando gestiones del ",p.toLocaleDateString("es-CL")]})]}),d.jsx("button",{onClick:N,className:"text-blue-500 hover:text-blue-700 text-sm",children:"Mostrar todas"})]})});return n&&!e?d.jsxs("div",{className:"flex items-center justify-center h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando módulo de gestiones..."})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsx(I,{}),d.jsx(D,{}),d.jsx(M,{}),d.jsx(ee,{}),d.jsxs("div",{className:"space-y-8",children:[(v==="calendar"||v==="both")&&d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:d.jsx(JWe,{onSelectGestion:E,onSelectDate:k})}),(v==="list"||v==="both")&&d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v==="both"?.2:.1},children:d.jsx(ZWe,{onEditGestion:S,onCompleteGestion:C,onViewGestion:_,selectedDate:p})})]}),d.jsx(eHe,{isOpen:s,onClose:()=>o(!1),onSuccess:A}),d.jsx(tHe,{isOpen:l,gestion:h,onClose:()=>{c(!1),m(null)},onSuccess:P}),d.jsx(pQ,{gestion:h,isOpen:u,onClose:()=>{f(!1),m(null)}})]})},nHe=({isOpen:e,roles:t,onSave:r,onClose:n,isLoading:a})=>{const[i,s]=T.useState({email:"",displayName:"",role:"teleoperadora",isActive:!0}),[o,l]=T.useState({}),c=T.useRef(null),u=T.useRef(null);T.useEffect(()=>{u.current&&u.current.focus()},[]),T.useEffect(()=>{const p=g=>{g.key==="Escape"&&n()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n]);const f=(p,g)=>{s(v=>({...v,[p]:g})),o[p]&&l(v=>({...v,[p]:null}))},h=()=>{const p={};return i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(p.email="Email inválido"):p.email="El email es requerido",i.displayName.trim()||(p.displayName="El nombre es requerido"),i.role||(p.role="Selecciona un rol"),l(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!!h())try{await r(i)}catch(g){l({submit:g.message})}};return e?d.jsx(ke.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:p=>{p.target===p.currentTarget&&n()},children:d.jsxs(ke.div,{ref:c,className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:p=>p.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:d.jsx(Qg,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Crear Nuevo Usuario"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Ingresa los datos del nuevo usuario"})]})]}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:d.jsx(cc,{className:"w-5 h-5 text-gray-500"})})]}),d.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre Completo *"}),d.jsxs("div",{className:"relative",children:[d.jsx(aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{ref:u,type:"text",value:i.displayName,onChange:p=>f("displayName",p.target.value),placeholder:"Ej: María González",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${o.displayName?"border-red-300":"border-gray-300 dark:border-gray-600"}`})]}),o.displayName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.displayName})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),d.jsxs("div",{className:"relative",children:[d.jsx(MP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"email",value:i.email,onChange:p=>f("email",p.target.value),placeholder:"usuario@empresa.com",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${o.email?"border-red-300":"border-gray-300 dark:border-gray-600"}`})]}),o.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rol *"}),d.jsxs("div",{className:"relative",children:[d.jsx(yf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("select",{value:i.role,onChange:p=>f("role",p.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${o.role?"border-red-300":"border-gray-300 dark:border-gray-600"}`,children:t.filter(p=>p.id!=="super_admin").map(p=>d.jsxs("option",{value:p.id,children:[p.name," - ",p.description]},p.id))})]}),o.role&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.role})]}),d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(vn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"text-sm",children:[d.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Información importante sobre la creación de usuarios"}),d.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:"Se creará un perfil de usuario en el sistema. El usuario deberá registrarse por separado en Firebase Auth usando el mismo email para poder acceder al sistema."})]})]})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:p=>f("isActive",p.target.checked),className:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"}),d.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Usuario activo al crear"})]}),o.submit&&d.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3",children:[d.jsx(vn,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:o.submit})]}),d.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[d.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",disabled:a,children:"Cancelar"}),d.jsx(ke.button,{type:"submit",disabled:a,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-6 py-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:a?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Qg,{className:"w-4 h-4"}),"Crear Usuario"]})})]})]})]})}):null},aHe=({isOpen:e,user:t,roles:r,onSave:n,onClose:a,isLoading:i})=>{const[s,o]=T.useState({displayName:(t==null?void 0:t.displayName)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",role:(t==null?void 0:t.role)||"teleoperadora",isActive:(t==null?void 0:t.isActive)!==!1}),[l,c]=T.useState({}),u=T.useRef(null);if(T.useEffect(()=>{t&&o({displayName:t.displayName||"",email:t.email||"",phone:t.phone||"",role:t.role||"teleoperadora",isActive:t.isActive!==!1})},[t]),!e||!t)return null;const f=(p,g)=>{o(v=>({...v,[p]:g})),l[p]&&c(v=>({...v,[p]:null}))},h=()=>{const p={};return s.displayName.trim()||(p.displayName="El nombre es requerido"),s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(p.email="Email inválido"):p.email="El email es requerido",s.phone&&!/^\+?[\d\s()-]{8,}$/.test(s.phone)&&(p.phone="Teléfono inválido (min. 8 dígitos)"),s.role||(p.role="Selecciona un rol"),c(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!!h())try{await n(s)}catch(g){c({submit:g.message})}};return d.jsx(ke.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:p=>p.target===p.currentTarget&&a(),children:d.jsxs(ke.div,{ref:u,className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:p=>p.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Editar Usuario"}),d.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:d.jsx(cc,{className:"w-5 h-5 text-gray-500"})})]}),d.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[d.jsx(MP,{className:"w-4 h-4"}),"Email *"]}),d.jsx("input",{type:"email",value:s.email,onChange:p=>f("email",p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${l.email?"border-red-300":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,placeholder:"correo@ejemplo.com"}),l.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.email}),d.jsxs("p",{className:"text-xs text-amber-600 mt-1 flex items-center gap-1",children:[d.jsx(vn,{className:"w-3 h-3"}),"Cambiar el email actualizará Firebase Authentication"]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[d.jsx(aa,{className:"w-4 h-4"}),"Nombre Completo *"]}),d.jsx("input",{type:"text",value:s.displayName,onChange:p=>f("displayName",p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${l.displayName?"border-red-300":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,placeholder:"Juan Pérez"}),l.displayName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.displayName})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[d.jsx(Vr,{className:"w-4 h-4"}),"Teléfono"]}),d.jsx("input",{type:"tel",value:s.phone,onChange:p=>f("phone",p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${l.phone?"border-red-300":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,placeholder:"+56912345678"}),l.phone&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.phone}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formato: +56912345678 (opcional)"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[d.jsx(yf,{className:"w-4 h-4"}),"Rol *"]}),d.jsx("select",{value:s.role,onChange:p=>f("role",p.target.value),disabled:(t==null?void 0:t.role)==="super_admin",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${l.role?"border-red-300":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 disabled:text-gray-500`,children:r.filter(p=>p.id!=="super_admin"||(t==null?void 0:t.role)==="super_admin").map(p=>d.jsx("option",{value:p.id,children:p.name},p.id))}),l.role&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.role}),(t==null?void 0:t.role)==="super_admin"&&d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El rol de Super Admin no se puede cambiar"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:s.isActive,onChange:p=>f("isActive",p.target.checked),disabled:(t==null?void 0:t.role)==="super_admin",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500 disabled:opacity-50"}),d.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Usuario activo"})]}),(t==null?void 0:t.role)==="super_admin"&&d.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Los Super Admins siempre están activos"})]}),l.submit&&d.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[d.jsx(vn,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),d.jsx("p",{className:"text-red-700 text-sm",children:l.submit})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[d.jsx("button",{type:"button",onClick:a,disabled:i,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),d.jsx(ke.button,{type:"submit",disabled:i,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-6 py-2 rounded-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:i?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(cy,{className:"w-4 h-4"}),"Guardar"]})})]})]})]})})},iHe=()=>{const{user:e}=cs(),{users:t,roles:r,isLoading:n,stats:a,searchTerm:i,filterRole:s,selectedUser:o,setSearchTerm:l,setFilterRole:c,setSelectedUser:u,loadUsers:f,createUser:h,updateUser:m,deleteUser:p,toggleUserStatus:g,getFilteredUsers:v,isSuperAdmin:y,exportUsers:w}=PK(),b=ho(te=>te.showSuccess),E=ho(te=>te.showError);ho(te=>te.showInfo),ho(te=>te.showWarning);const[k,C]=T.useState("overview"),[S,_]=T.useState(!1),[A,P]=T.useState(!1),[N,I]=T.useState(!1),[D,M]=T.useState(!1),[ee,Q]=T.useState(!1),W=y(e);T.useEffect(()=>{W&&f()},[W,f]);const z=v();if(!W)return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:d.jsx(ke.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md mx-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(pC,{className:"h-8 w-8 text-red-600"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Acceso Restringido"}),d.jsx("p",{className:"text-gray-600",children:"No tienes permisos para acceder a la configuración del sistema."})]})})});const L=[{id:"overview",label:"Resumen",icon:Ps},{id:"users",label:"Usuarios",icon:hn},{id:"system",label:"Sistema",icon:vf},{id:"security",label:"Seguridad",icon:yf}],ae=async te=>{I(!0);try{Ie.auth("Iniciando creación inteligente de usuario:",te.email);const{smartUserCreationService:ie}=await ki(async()=>{const{smartUserCreationService:re}=await import("./smartUserCreationService-CYk9GvG-.js");return{smartUserCreationService:re}},[]),fe=await ie.createUserIntelligent(te);Ie.auth("Usuario creado con sistema inteligente:",fe),await h(te),_(!1),b(`Usuario creado exitosamente

📧 Email: ${te.email}
👤 Rol: ${te.role}

Instrucciones:
1. El usuario debe registrarse en Firebase Auth con el email: ${te.email}
2. Una vez registrado, será reconocido automáticamente con el rol asignado
3. No necesita pasos adicionales - la sincronización es automática`)}catch(ie){Ie.error("Error creando usuario:",ie),E("Error al crear usuario: "+ie.message)}finally{I(!1)}},ue=async te=>{I(!0);try{if(console.log("🔄 Actualizando usuario:",{uid:o.uid,email:o.email,userData:te}),!o.uid){console.warn("⚠️ Usuario sin UID, buscando por email:",o.email);const ie=await K0.getUserProfileByEmail(o.email);if(ie&&ie.uid)console.log("✅ UID encontrado por email:",ie.uid),o.uid=ie.uid;else throw new Error("No se pudo encontrar el UID del usuario. Debe estar registrado en Firebase Auth primero.")}await K0.updateUserProfile(o.uid,te),await m(o.uid,te),P(!1),u(null),b("✅ Usuario editado y sincronizado en toda la aplicación"),console.log("✅ Usuario actualizado y notificación global enviada")}catch(ie){Ie.error("Error editando usuario:",ie),E("Error al editar usuario: "+ie.message)}finally{I(!1)}},F=async te=>{if(confirm("¿Está seguro de que desea eliminar este usuario?")){I(!0);try{await p(te),b("Usuario eliminado correctamente")}catch(ie){Ie.error("Error eliminando usuario:",ie),E("Error al eliminar usuario: "+ie.message)}finally{I(!1)}}},U=async te=>{I(!0);try{await g(te),b("Estado del usuario actualizado correctamente")}catch(ie){Ie.error("Error cambiando estado de usuario:",ie),E("Error al cambiar estado de usuario: "+ie.message)}finally{I(!1)}},K=async()=>{M(!0);try{await Wl.createTestUsers(),await f(),b("Usuarios de prueba creados correctamente")}catch(te){Ie.error("Error creando usuarios de prueba:",te),E("Error al crear usuarios de prueba: "+te.message)}finally{M(!1)}},Y=async()=>{if(confirm("¿Está seguro de que desea eliminar todos los usuarios de prueba?")){Q(!0);try{await Wl.cleanTestUsers(),await f(),b("Usuarios de prueba eliminados correctamente")}catch(te){Ie.error("Error limpiando usuarios de prueba:",te),E("Error al limpiar usuarios de prueba: "+te.message)}finally{Q(!1)}}};return n?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:d.jsxs(ke.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 font-medium",children:"Cargando configuración del sistema..."})]})}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[d.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-40",children:d.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center",children:d.jsx(i7,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuración del Sistema"}),d.jsx("p",{className:"text-gray-600",children:"Panel de administración avanzada"})]})]}),d.jsx("div",{className:"flex items-center space-x-3",children:d.jsxs(ke.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors shadow-lg shadow-blue-600/25",children:[d.jsx(l7,{className:"h-4 w-4 mr-2"}),"Actualizar"]})})]})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[d.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-2 mb-8",children:d.jsx("div",{className:"flex space-x-1",children:L.map(te=>{const ie=te.icon,fe=k===te.id;return d.jsxs(ke.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>C(te.id),className:`flex items-center px-6 py-3 rounded-xl transition-all duration-200 ${fe?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-600/25":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[d.jsx(ie,{className:"h-5 w-5 mr-2"}),te.label]},te.id)})})}),d.jsxs(as,{mode:"wait",children:[k==="overview"&&d.jsx(sHe,{stats:a,users:t,onCreateTestUsers:K,onCleanTestUsers:Y,isCreatingTestUsers:D,isCleaningTestUsers:ee}),k==="users"&&d.jsx(oHe,{users:z,searchTerm:i,filterRole:s,onSearchChange:l,onFilterChange:c,onCreateUser:()=>_(!0),onEditUser:te=>{u(te),P(!0)},onDeleteUser:F,onToggleStatus:U,actionLoading:N,roles:r}),k==="system"&&d.jsx(lHe,{}),k==="security"&&d.jsx(cHe,{})]})]}),d.jsx(nHe,{isOpen:S,onClose:()=>_(!1),onSave:ae,isLoading:N,roles:r}),d.jsx(aHe,{isOpen:A,user:o,onClose:()=>{P(!1),u(null)},onSave:ue,isLoading:N,roles:r})]})},sHe=({stats:e,users:t,onCreateTestUsers:r,onCleanTestUsers:n,isCreatingTestUsers:a,isCleaningTestUsers:i})=>{const s=[{title:"Total Usuarios",value:e.totalUsers||0,icon:hn,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",textColor:"text-blue-700"},{title:"Usuarios Activos",value:e.activeUsers||0,icon:$r,color:"from-green-500 to-green-600",bgColor:"bg-green-50",textColor:"text-green-700"},{title:"Administradores",value:e.adminUsers||0,icon:i7,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",textColor:"text-purple-700"},{title:"Teleoperadoras",value:e.teleoperadoraUsers||0,icon:yf,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50",textColor:"text-orange-700"}];return d.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((o,l)=>{const c=o.icon;return d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600 text-sm font-medium",children:o.title}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:o.value})]}),d.jsx("div",{className:`w-12 h-12 ${o.bgColor} rounded-xl flex items-center justify-center`,children:d.jsx(c,{className:`h-6 w-6 ${o.textColor}`})})]})},o.title)})}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[d.jsx(Zse,{className:"h-6 w-6 mr-2 text-yellow-500"}),"Acciones Rápidas"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(ke.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,disabled:a,className:"flex items-center justify-center p-6 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-200 shadow-lg shadow-green-500/25",children:[a?d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-3"}):d.jsx(Qg,{className:"h-5 w-5 mr-3"}),a?"Creando...":"Crear Usuarios de Prueba"]}),d.jsxs(ke.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,disabled:i,className:"flex items-center justify-center p-6 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-xl hover:from-red-600 hover:to-pink-600 transition-all duration-200 shadow-lg shadow-red-500/25",children:[i?d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-3"}):d.jsx(el,{className:"h-5 w-5 mr-3"}),i?"Limpiando...":"Limpiar Usuarios de Prueba"]})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[d.jsx(jP,{className:"h-6 w-6 mr-2 text-blue-500"}),"Estado del Sistema"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[d.jsx($r,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-medium text-green-700",children:"Sistema Operativo"}),d.jsx("p",{className:"text-xs text-green-600",children:"Todos los servicios funcionando"})]}),d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[d.jsx(qg,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Base de Datos"}),d.jsx("p",{className:"text-xs text-blue-600",children:"Conexión estable"})]}),d.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[d.jsx(ese,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Conectividad"}),d.jsx("p",{className:"text-xs text-purple-600",children:"Óptima"})]})]})]})]},"overview")},oHe=({users:e,searchTerm:t,filterRole:r,onSearchChange:n,onFilterChange:a,onCreateUser:i,onEditUser:s,onDeleteUser:o,onToggleStatus:l,actionLoading:c,roles:u})=>d.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[d.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative flex-1 lg:w-80",children:[d.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar por nombre o email...",value:t,onChange:f=>n(f.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(oy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),d.jsxs("select",{value:r,onChange:f=>a(f.target.value),className:"pl-10 pr-8 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[d.jsx("option",{value:"all",children:"Todos los roles"}),u.map(f=>d.jsx("option",{value:f.id,children:f.name},f.id))]})]})]}),d.jsxs(ke.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg shadow-blue-600/25",children:[d.jsx(W_,{className:"h-5 w-5 mr-2"}),"Nuevo Usuario"]})]})}),d.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:d.jsxs("div",{className:"divide-y divide-gray-100",children:[e.map((f,h)=>{var m,p;return d.jsx(ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.05},className:"p-6 hover:bg-gray-50 transition-colors",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:d.jsx("span",{className:"text-white font-semibold text-lg",children:((m=f.displayName)==null?void 0:m.charAt(0))||((p=f.email)==null?void 0:p.charAt(0))})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:f.displayName||"Sin nombre"}),d.jsx("p",{className:"text-gray-600 text-sm",children:f.email}),d.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[d.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${f.role==="super_admin"?"bg-purple-100 text-purple-700":f.role==="admin"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:f.role==="super_admin"?"Super Admin":f.role==="admin"?"Administrador":"Teleoperadora"}),d.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${f.active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:f.active?"Activo":"Inactivo"})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ke.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(f.uid),disabled:c,className:`p-2 rounded-lg transition-colors ${f.active?"text-green-600 hover:bg-green-50":"text-red-600 hover:bg-red-50"}`,children:f.active?d.jsx(RP,{className:"h-5 w-5"}):d.jsx(s7,{className:"h-5 w-5"})}),d.jsx(ke.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(f),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:d.jsx(FP,{className:"h-5 w-5"})}),d.jsx(ke.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(f.uid),disabled:c,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:d.jsx(el,{className:"h-5 w-5"})})]})]})},f.uid)}),e.length===0&&d.jsxs("div",{className:"p-12 text-center",children:[d.jsx(hn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay usuarios"}),d.jsx("p",{className:"text-gray-600",children:"Crea el primer usuario para comenzar."})]})]})})]},"users"),lHe=()=>d.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuración del Sistema"}),d.jsx("p",{className:"text-gray-600",children:"Panel de configuración del sistema próximamente disponible."})]},"system"),cHe=()=>d.jsxs(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuración de Seguridad"}),d.jsx("p",{className:"text-gray-600",children:"Panel de seguridad próximamente disponible."})]},"security"),X$="karolmaguayo@gmail.com",Ph="smart_a2Fyb2xt_1759763837684",Sd="NL2d3nSHdlUQE1G45ooS2kgSwk83";async function uHe(){try{console.log("🔄 Sincronizando Karol Aguayo automáticamente...");const e=st(Oe,"userProfiles",Sd);if((await hl(e)).exists())return console.log("✅ Karol ya tiene UID real:",Sd),{success:!0,alreadySynced:!0};const r=st(Oe,"userProfiles",Ph),n=await hl(r);if(!n.exists())return console.log("ℹ️ No se encontró perfil con UID sintético"),{success:!1,reason:"not_found"};const a=n.data();console.log("📄 Perfil encontrado:",a.displayName||a.name);const i=st(Oe,"_backups_auto_sync",Ph);await Ls(i,{...a,_backup_timestamp:new Date().toISOString(),_backup_old_uid:Ph,_backup_real_uid:Sd});const s={...a,uid:Sd,updatedAt:nt(),updatedBy:"auto_sync_karol",autoSyncDate:new Date().toISOString(),previousUID:Ph};await Ls(e,s),console.log("✅ Perfil creado con UID real");const o=pt(Oe,"operators"),l=Ct(o,Et("email","==",X$)),c=await Ht(l);let u=0;for(const g of c.docs)await pn(g.ref,{uid:Sd,updatedAt:nt()}),u++;const f=pt(Oe,"assignments"),h=Ct(f,Et("operatorId","==",Ph)),m=await Ht(h);let p=0;for(const g of m.docs)await pn(g.ref,{operatorId:Sd,updatedAt:nt()}),p++;return await Oo(r),console.log("✅ Karol sincronizada exitosamente"),console.log("  • Operators:",u),console.log("  • Assignments:",p),window.dispatchEvent(new CustomEvent("userAutoSynced",{detail:{email:X$,oldUID:Ph,newUID:Sd,operatorsUpdated:u,assignmentsUpdated:p}})),{success:!0,operatorsUpdated:u,assignmentsUpdated:p}}catch(e){return console.error("❌ Error sincronizando Karol:",e),{success:!1,error:e.message}}}const gQ=()=>{const{user:e,logout:t}=cs(),{user:r,isSuperAdmin:n,visibleModules:a,defaultTab:i,canViewConfig:s,checkModuleAccess:o}=EY(),l=ho(V=>V.toasts),c=ho(V=>V.dismissToast),u=ho(V=>V.showSuccess),f=ho(V=>V.showError);ho(V=>V.showWarning);const h=ho(V=>V.showInfo),m=V=>{if(!V)return"N/A";try{let se;if(typeof V=="string"&&/^\d{1,2}[-\/]\d{1,2}[-\/]\d{4}$/.test(V)){const le=V.split(/[-\/]/),xe=parseInt(le[0]),oe=parseInt(le[1]),we=parseInt(le[2]);if(xe<=31&&oe<=12&&we>=1900)return`${xe.toString().padStart(2,"0")}-${oe.toString().padStart(2,"0")}-${we}`}if(typeof V=="number"?se=new Date((V-25569)*86400*1e3):se=new Date(V),se&&!isNaN(se.getTime())){const le=se.getDate().toString().padStart(2,"0"),xe=(se.getMonth()+1).toString().padStart(2,"0"),oe=se.getFullYear();return`${le}-${xe}-${oe}`}return"Fecha inválida"}catch{return typeof V=="string"?V:"Error en fecha"}},{callData:p,processedData:g,callMetrics:v,setCallData:y,analyzeCallData:w,forceReanalysis:b,getOperatorMetrics:E,getHourlyDistribution:k,getFollowUpData:C,hasData:S,isLoading:_,loadingStage:A,loadingMessage:P,setLoadingStage:N}=W0(),{operators:I,operatorAssignments:D,activeTab:M,setOperators:ee,setOperatorAssignments:Q,setActiveTab:W,getAllAssignments:z}=jn(),[L,ae]=T.useState(i||"dashboard"),[ue,F]=T.useState([]),[U,K]=T.useState([]),[Y,te]=T.useState("connecting"),[ie,fe]=T.useState({totalCalls:0,successfulCalls:0,failedCalls:0,beneficiaries:0,activeAssignments:0,operators:0,protocolCompliance:0,pendingFollowUps:0}),[re,ce]=T.useState([]),[ye,R]=T.useState([]),[Be,Re]=T.useState("all"),[qe,Ue]=T.useState(""),[Se,ht]=T.useState([]),[wr,Kt]=T.useState(!1),[ln,Za]=T.useState(null),[br,hr]=T.useState({name:"",email:"",phone:""}),[xt,jt]=T.useState({}),[_r,Er]=T.useState(null);T.useEffect(()=>{Se.length>0&&I.length!==Se.length&&ee(Se)},[Se.length,I.length,ee]),T.useEffect(()=>{const V=Object.keys(xt).length,se=Object.keys(D).length;V>0&&V!==se&&Q(xt)},[Object.keys(xt).length,Object.keys(D).length,Q]);const[qn,yt]=T.useState(!1),[ar,cn]=T.useState(""),[lr,ei]=T.useState([]),eo=[{id:1,operator:"María González",beneficiary:"Juan Pérez",phone:"987654321",commune:"Santiago"},{id:2,operator:"Ana Rodríguez",beneficiary:"Carmen Silva",phone:"987654322",commune:"Valparaíso"},{id:3,operator:"Luis Martínez",beneficiary:"Pedro López",phone:"987654323",commune:"Concepción"},{id:4,operator:"María González",beneficiary:"Rosa Morales",phone:"987654324",commune:"Santiago"},{id:5,operator:"Ana Rodríguez",beneficiary:"Carlos Díaz",phone:"987654325",commune:"Valparaíso"}],fs=T.useRef(!1),[Li,hs]=T.useState(!1);T.useEffect(()=>{if(e&&r&&Li){const V=async()=>{try{const le=await uHe();le.success&&!le.alreadySynced?(console.log("🎉 Karol sincronizada automáticamente"),u("Perfil de Karol Aguayo actualizado automáticamente"),setTimeout(()=>{hs(!1),to()},1e3)):le.alreadySynced&&console.log("✅ Karol ya está sincronizada")}catch(le){console.error("❌ Error en auto-sync:",le)}};sessionStorage.getItem("karol_auto_sync_executed")||(V(),sessionStorage.setItem("karol_auto_sync_executed","true"))}},[e,r,Li]),T.useEffect(()=>{e&&r&&!Li&&!fs.current&&(console.log("🚀 Triggering loadUserData:",{user:!!e,userProfile:!!r,email:r==null?void 0:r.email,role:r==null?void 0:r.role,dataLoaded:Li}),kK(e.uid),to())},[e,r,Li]),T.useEffect(()=>{e&&r&&Li&&((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin"||(r==null?void 0:r.email)==="roberto@mistatas.com"||(r==null?void 0:r.email)==="carolina@mistatas.com")&&!(Se.length>0&&Object.keys(xt).length>0)&&!fs.current&&(console.log("🚨 ADMIN SIN DATOS DETECTADO - Forzando recarga:",{email:r.email,role:r.role,operadores:Se.length,asignaciones:Object.keys(xt).length}),hs(!1),setTimeout(()=>{fs.current||to()},100))},[r==null?void 0:r.role,r==null?void 0:r.email,Se.length,Object.keys(xt).length]),T.useEffect(()=>{Li&&Se.length>0&&!fs.current&&(I.length===0||Object.keys(D).length===0)&&(ee(Se),Q(xt),setTimeout(()=>{const{operators:se,operatorAssignments:le}=jn.getState()},500))},[Li,Se.length,Object.keys(xt).length]),T.useEffect(()=>{const V=async le=>{const{userId:xe,oldEmail:oe,newEmail:we,updateData:Te,result:ze}=le.detail;console.log("🔔 Evento userDataUpdated recibido:",{userId:xe,oldEmail:oe,newEmail:we,operatorsUpdated:ze.operatorsUpdated,assignmentsUpdated:ze.assignmentsUpdated});const{reloadOperators:Me,loadAssignments:mt}=jn.getState();try{console.log("🔄 Recargando operadores y asignaciones...");const[tt,Ze]=await Promise.all([Me(),mt()]);if(tt&&(ht(tt),ee(tt)),Ze){const{operatorAssignments:rt}=jn.getState();jt(rt),Q(rt)}console.log("✅ Operadores y asignaciones recargados correctamente"),u(`Usuario actualizado: ${Te.displayName||we}`)}catch(tt){console.error("❌ Error recargando datos después de actualización:",tt),f("Error al actualizar datos del módulo de Asignaciones")}},se=async le=>{const xe=le.detail;console.log("🔔 Evento userProfileUpdated recibido en App.jsx:",xe);try{const{reloadOperators:oe}=jn.getState(),we=await oe();we&&(ht(we),ee(we),console.log("✅ Operadores actualizados después de cambio de perfil"))}catch(oe){console.error("❌ Error recargando operadores después de actualización de perfil:",oe)}};return window.addEventListener("userDataUpdated",V),window.addEventListener("userProfileUpdated",se),()=>{window.removeEventListener("userDataUpdated",V),window.removeEventListener("userProfileUpdated",se)}},[u,f]),T.useEffect(()=>{if(i){const V=o(L);!V&&i!==L?(console.log("🔄 Cambiando tab por falta de permisos:",{from:L,to:i,accessible:V}),ae(i)):L==="dashboard"&&!o("dashboard")&&i!=="dashboard"&&(console.log("🔄 Cambiando desde dashboard (sin acceso) a:",i),ae(i))}},[i,o,L]),T.useEffect(()=>{if(p.length>0&&Object.keys(D).length>0){const V=setTimeout(()=>{},500);return()=>clearTimeout(V)}},[D]);const to=async()=>{if(!fs.current){fs.current=!0,te("connecting");try{if(!r){console.log("⚠️ userProfile no disponible aún, intentando nuevamente en 1 segundo..."),fs.current=!1,setTimeout(()=>{e&&!Li&&to()},1e3);return}console.log("✅ Perfil de usuario disponible:",{email:r.email,role:r.role}),console.log("📥 Cargando datos generales del sistema...");const{loadOperators:V,loadAssignments:se}=jn.getState();await Promise.all([V(),se()]);const{operators:le,operatorAssignments:xe}=jn.getState();console.log("🎯 DATOS GENERALES CARGADOS:",{operadores:(le==null?void 0:le.length)||0,asignacionesGrupos:Object.keys(xe||{}).length,totalAsignaciones:Object.values(xe||{}).flat().length});let oe,we,Te;const ze=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin"||(r==null?void 0:r.email)==="roberto@mistatas.com"||(r==null?void 0:r.email)==="carolina@mistatas.com";if(console.log("🔍 Determinando datos a cargar:",{userEmail:r==null?void 0:r.email,userRole:r==null?void 0:r.role,isAdminUser:ze}),ze){console.log("👑 Admin detectado - Cargando TODOS los datos del sistema");const[Me,mt]=await Promise.all([Md.getAll(),Xc.getAll()]);oe=Me;const tt={};mt.forEach(Ze=>{const rt=Ze.operatorId;tt[rt]||(tt[rt]=[]),tt[rt].push(Ze)}),we=tt,Te=[],console.log("👑 Admin - Datos del sistema cargados:",{operadores:(oe==null?void 0:oe.length)||0,operadoresConAsignaciones:Object.keys(we).length,totalAsignaciones:(mt==null?void 0:mt.length)||0})}else{console.log("👤 Teleoperadora detectada - Cargando datos del usuario + callData del sistema");let Me=[];try{console.log("🔍 Estrategia 1: Buscando perfil del super admin...");const{userManagementService:Ze}=await ki(async()=>{const{userManagementService:We}=await Promise.resolve().then(()=>XL);return{userManagementService:We}},void 0),rt=await Ze.getUserProfileByEmail("roberto@mistatas.com");if(rt&&rt.id){console.log("✅ Perfil del super admin encontrado:",{id:rt.id,email:rt.email,role:rt.role});const We=await Hp.getCallData(rt.id);console.log("📊 CallData obtenido del super admin:",{length:(We==null?void 0:We.length)||0,hasData:!!(We&&We.length>0)}),We&&We.length>0&&(Me=We,console.log("✅ CallData del super admin cargado:",Me.length,"registros"))}else console.warn("⚠️ No se encontró perfil del super admin en userProfiles")}catch(Ze){console.error("❌ Error cargando callData del super admin:",Ze)}if(Me.length===0)try{console.log("🔍 Estrategia 2: Intentando con admin alternativo (carolina@mistatas.com)...");const{userManagementService:Ze}=await ki(async()=>{const{userManagementService:We}=await Promise.resolve().then(()=>XL);return{userManagementService:We}},void 0),rt=await Ze.getUserProfileByEmail("carolina@mistatas.com");if(rt&&rt.id){console.log("✅ Perfil de Carolina encontrado:",rt.id);const We=await Hp.getCallData(rt.id);We&&We.length>0&&(Me=We,console.log("✅ CallData de Carolina cargado:",Me.length,"registros"))}}catch(Ze){console.warn("⚠️ No se pudo cargar callData de Carolina:",Ze.message)}if(Me.length===0){console.log("🔍 Estrategia 3: Buscando callData en documento del sistema...");try{const Ze=await Hp.getCallData("system");Ze&&Ze.length>0&&(Me=Ze,console.log("✅ CallData del sistema cargado:",Me.length,"registros"))}catch(Ze){console.warn("⚠️ No se pudo cargar callData del sistema:",Ze.message)}}Me.length===0&&(console.warn("⚠️ No se encontró callData del sistema. Esto afectará las métricas del dashboard."),console.warn("💡 Solución: El super admin debe cargar el Excel de seguimientos desde el Dashboard"));const[mt,tt]=await Promise.all([Md.getByUser(e.uid),Xc.getAllUserAssignments(e.uid)]);oe=mt,we=tt,Te=Me,console.log("👤 Teleoperadora - Datos cargados:",{operadores:(oe==null?void 0:oe.length)||0,asignaciones:Object.keys(we||{}).length,callDataRegistros:(Te==null?void 0:Te.length)||0})}if(oe!==null)ht(oe||[]),jt(we||{}),F(Te||[]),ee(oe||[]),Q(we||{}),vd(we||{},oe||[]),Te&&Te.length>0?(console.log("📊 Cargando datos en Zustand store optimizado..."),y(Te,"firebase")):(console.log("📝 No hay datos de llamadas, inicializando métricas por defecto..."),xd()),te("connected"),hs(!0),console.log("✅ Conectado a Firebase - datos cargados con optimización");else throw new Error("Insufficient permissions")}catch{te("demo"),hs(!0),Al()}finally{fs.current=!1}}},vd=(V,se)=>{const le=[];Object.entries(V).forEach(([xe,oe])=>{const we=se.find(Te=>Te.id===xe);we&&oe&&oe.forEach(Te=>{le.push({id:Te.id,operator:we.name,beneficiary:Te.beneficiary,phone:Te.primaryPhone,commune:Te.commune})})}),K(le)},Al=()=>{console.log("🔄 Inicializando con datos de ejemplo..."),K(eo);const V={};eo.forEach(le=>{let oe=`operator-${le.operator.toLowerCase().replace(/\s+/g,"-")}`;V[oe]||(V[oe]=[]),V[oe].push({id:le.id,beneficiary:le.beneficiary,beneficiario:le.beneficiary,primaryPhone:le.phone,phone:le.phone,commune:le.commune,comuna:le.commune})});const se=[...new Set(eo.map(le=>le.operator))].map((le,xe)=>({id:`operator-${le.toLowerCase().replace(/\s+/g,"-")}`,name:le,email:`${le.toLowerCase().replace(/\s+/g,".")}@example.com`,phone:`+56${xe+1}12345678`}));ee(se),Q(V),console.log("✅ Datos sincronizados con Zustand:",{operators:se,assignments:V}),yd(),xd(),console.log("✅ Datos de ejemplo inicializados")},yd=()=>{const se=[{id:"sample-1",name:"María González",email:"maria.gonzalez@central.cl",phone:"987654321",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-2",name:"Ana Rodríguez",email:"ana.rodriguez@central.cl",phone:"987654322",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-3",name:"Luis Martínez",email:"luis.martinez@central.cl",phone:"987654323",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-4",name:"Carmen Torres",email:"carmen.torres@central.cl",phone:"987654324",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-5",name:"Pedro Sánchez",email:"pedro.sanchez@central.cl",phone:"987654325",userId:(e==null?void 0:e.uid)||"demo-user"}].filter(le=>le&&le.id&&le.name);ht(se)},Fo=async()=>{if(br.name.trim()!=="")try{const V=await Md.create(e.uid,br);ht([...Se,V]),hr({name:"",email:"",phone:""}),Kt(!1)}catch(V){Ie.error("Error creating operator:",V),f("Error al crear el operador. Por favor, inténtelo nuevamente.")}},ro=async V=>{if(window.confirm("¿Estás seguro de que deseas eliminar esta teleoperadora? Esta acción no se puede deshacer."))try{console.log("🗑️ Iniciando eliminación de operadora:",V),console.log("🔥 Eliminando de Firebase...");const se=await Md.delete(V);if(!se||se===!1)throw new Error("La eliminación en Firebase falló");console.log("✅ Operadora eliminada de Firebase correctamente");try{await Xc.deleteOperatorAssignments(e.uid,V),console.log("✅ Asignaciones eliminadas de Firebase")}catch(Te){console.warn("⚠️ Error eliminando asignaciones (puede no existir documento):",Te.message)}console.log("🔄 Actualizando Zustand store...");const{removeOperator:le}=jn.getState();le&&(le(V),console.log("✅ Operadora eliminada del Zustand store")),console.log("🔄 Actualizando estados locales...");const xe=Se.filter(Te=>Te.id!==V);ht(xe);const oe={...xt};delete oe[V],jt(oe);const we=U.filter(Te=>!Te.id.toString().startsWith(`${V}-`));K(we),console.log("✅ Estados locales actualizados"),Ie.info("Operadora eliminada exitosamente de Firebase y estados locales"),u("✅ Teleoperadora eliminada exitosamente")}catch(se){Ie.error("❌ Error crítico eliminando operadora:",se),f(`❌ Error al eliminar la teleoperadora: ${se.message}. Por favor, verifique su conexión e inténtelo nuevamente.`),console.error("❌ La eliminación no se completó. Los datos permanecen en Firebase.")}},ph=async()=>{const V=["javiera reyes alvarado","javiera valdivia","maría gonzález","teleoperadora ejemplo","demo operator","operadora prueba","test operator"],se=Se.filter(we=>V.some(Te=>{var ze,Me;return((ze=we.name)==null?void 0:ze.toLowerCase().includes(Te.toLowerCase()))||((Me=we.email)==null?void 0:Me.toLowerCase().includes(Te.toLowerCase()))}));if(se.length===0){h("✅ No se encontraron teleoperadoras ficticias para eliminar.");return}const le=`¿Estás seguro de que deseas eliminar ${se.length} teleoperadoras ficticias?

`+se.map(we=>`• ${we.name} (${we.email})`).join(`
`)+`

Esta acción no se puede deshacer.`;if(!window.confirm(le))return;console.log("🧹 Iniciando limpieza masiva de teleoperadoras ficticias..."),h(`🔄 Eliminando ${se.length} teleoperadoras ficticias...`);let xe=0,oe=0;for(const we of se){try{if(console.log(`🗑️ Eliminando: ${we.name}`),await Md.delete(we.id)){try{await Xc.deleteOperatorAssignments(e.uid,we.id)}catch{console.warn(`⚠️ No se pudieron eliminar asignaciones de ${we.name}`)}const{removeOperator:ze}=jn.getState();ze&&ze(we.id),ht(Me=>Me.filter(mt=>mt.id!==we.id)),jt(Me=>{const mt={...Me};return delete mt[we.id],mt}),xe++,Ie.info(`✅ Eliminada: ${we.name}`)}else throw new Error("Eliminación en Firebase falló")}catch(Te){oe++,Ie.error(`❌ Error eliminando ${we.name}:`,Te)}await new Promise(Te=>setTimeout(Te,300))}oe===0?u(`✅ ${xe} teleoperadoras ficticias eliminadas exitosamente`):h(`⚠️ Proceso completado: ${xe} exitosas, ${oe} con errores`),console.log("🧹 Limpieza masiva completada:",{successCount:xe,errorCount:oe})},Fc=(V,se)=>{const le=V.target.files[0];if(le){const xe=new FileReader;xe.onload=oe=>{const we=new Uint8Array(oe.target.result),Te=dv(we,{type:"array"}),ze=Te.SheetNames[0],Me=Te.Sheets[ze],mt=g0.sheet_to_json(Me,{header:1});gh(mt,se)},xe.readAsArrayBuffer(le)}V.target.value=""},gh=async(V,se)=>{if(V.length<2)return;const le=Se.find(oe=>oe.id===se);if(!le)return;const xe=V.slice(1).map((oe,we)=>{const Te=oe[1]?String(oe[1]).split(/[\|\-\s]+/).filter(ze=>ze.trim().length===9):[];return{id:`${se}-${we}`,operatorId:se,operatorName:le.name,beneficiary:oe[0]||"",phones:Te,primaryPhone:Te[0]||"",commune:oe[2]||""}}).filter(oe=>oe.beneficiary&&oe.primaryPhone);try{await Xc.saveOperatorAssignments(e.uid,se,xe),jt(we=>({...we,[se]:xe}));const oe=xe.map(we=>({id:we.id,operator:we.operatorName,beneficiary:we.beneficiary,phone:we.primaryPhone,commune:we.commune}));K(we=>[...we.filter(ze=>!ze.id.toString().startsWith(`${se}-`)),...oe]),Er(null),u("Asignaciones guardadas correctamente")}catch(oe){Ie.error("Error saving assignments:",oe),f("Error al guardar las asignaciones. Por favor, inténtelo nuevamente.")}},Cl=async V=>{try{await Xc.deleteOperatorAssignments(e.uid,V);const se={...xt};delete se[V],jt(se),K(le=>le.filter(xe=>!xe.id.toString().startsWith(`${V}-`))),u("Asignaciones limpiadas correctamente")}catch(se){Ie.error("Error clearing assignments:",se),f("Error al limpiar las asignaciones. Por favor, inténtelo nuevamente.")}},xd=()=>{if(ue.length>0){console.log("📊 Datos reales disponibles, omitiendo generación de datos de ejemplo");return}console.log("📝 Generando datos de ejemplo...");const se=(Se.length>0?Se.map(xe=>xe.name):["María González","Ana Rodríguez","Luis Martínez","Carmen Torres","Pedro Sánchez"]).map(xe=>({operator:xe,totalCalls:Math.floor(Math.random()*50)+20,totalMinutes:Math.floor(Math.random()*500)+100,avgDuration:Math.floor(Math.random()*10)+3})),le=Array.from({length:24},(xe,oe)=>({hour:oe,calls:Math.floor(Math.random()*20)+1}));ce(se),R(le),fe({totalCalls:150,successfulCalls:120,failedCalls:30,beneficiaries:85,activeAssignments:U.length||5,operators:Se.length||5,protocolCompliance:85,pendingFollowUps:12}),U.length>0},On=V=>{if(!V.trim()){ei([]);return}console.log("🔍 Iniciando búsqueda para:",V);const se=[];Object.entries(xt).forEach(([we,Te])=>{const ze=Se.find(Me=>Me.id===we);Te&&Array.isArray(Te)&&Te.forEach(Me=>{se.push({beneficiary:Me.beneficiary||Me.beneficiario,beneficiario:Me.beneficiary||Me.beneficiario,operatorName:(ze==null?void 0:ze.name)||Me.operator||Me.operatorName||"Operador no encontrado",operator:(ze==null?void 0:ze.name)||Me.operator||Me.operatorName,phone:Me.primaryPhone||Me.phone||Me.telefono||Me.numero_cliente||Me.phones&&Me.phones[0]||"N/A",primaryPhone:Me.primaryPhone,phones:Me.phones||[],telefono:Me.telefono,numero_cliente:Me.numero_cliente,commune:Me.commune||Me.comuna||"N/A",comuna:Me.comuna,operatorId:we,source:"operatorAssignments",id:Me.id})})});const le=z();console.log("📊 Asignaciones de Zustand:",le),le.forEach(we=>{se.push({beneficiary:we.beneficiary||we.beneficiario,beneficiario:we.beneficiary||we.beneficiario,operatorName:we.operator||we.operatorName||we.name||"Sin asignar",operator:we.operator||we.operatorName||we.name,phone:we.phone||we.telefono||we.numero_cliente||"N/A",commune:we.commune||we.comuna||"N/A",operatorId:we.operatorId||"zustand",source:"zustand"})}),console.log("📋 Total asignaciones encontradas:",se.length),console.log("📋 Muestra de asignaciones:",se.slice(0,3));const xe=V.toLowerCase().trim(),oe=se.filter(we=>{const Te=(we.beneficiary||we.beneficiario||"").toLowerCase(),ze=(we.operatorName||we.operator||"").toLowerCase(),Me=(we.commune||we.comuna||"").toLowerCase(),mt=[we.phone,we.primaryPhone,we.telefono,we.numero_cliente,...we.phones||[]].filter(Sa=>Sa&&Sa!=="N/A").join(" ").toLowerCase(),tt=Te.includes(xe),Ze=ze.includes(xe),rt=mt.includes(xe),We=Me.includes(xe),mr=tt||Ze||rt||We;return mr&&console.log("✅ Coincidencia encontrada:",{beneficiary:Te,operator:ze,phones:mt,commune:Me,searchTerm:xe,matches:{beneficiaryName:tt,operatorName:Ze,phones:rt,commune:We},source:we.source}),mr});console.log("🎯 Resultados filtrados:",oe.length),ei(oe)},Lo=T.useRef(null);T.useEffect(()=>()=>{Lo.current&&clearTimeout(Lo.current)},[]);const no=V=>{if(cn(V),Lo.current&&clearTimeout(Lo.current),!V.trim()){ei([]);return}Lo.current=setTimeout(()=>{On(V)},300)},kl=V=>{const se=V.target.files[0];if(se){N("uploading",`Subiendo archivo: ${se.name}`);const le=new FileReader;le.onload=xe=>{try{N("processing","Leyendo datos del archivo Excel...");const oe=new Uint8Array(xe.target.result),we=dv(oe,{type:"array"}),Te=we.SheetNames[0],ze=we.Sheets[Te],Me=g0.sheet_to_json(ze,{header:1});tp(Me)}catch(oe){console.error("Error al procesar archivo Excel:",oe),N("error","Error al procesar el archivo Excel")}},le.onerror=()=>{N("error","Error al leer el archivo")},le.readAsArrayBuffer(se)}V.target.value=""},tp=async V=>{if(V.length<2){N("error","El archivo Excel no contiene datos válidos");return}try{N("processing",`Procesando ${V.length-1} filas de datos...`);const le=(oe=>{const we=oe.slice(1,Math.min(6,oe.length)),Te=tt=>!tt||typeof tt!="string"||/^\d{1,2}:\d{2}(:\d{2})?$/.test(tt)||/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(tt)||!isNaN(Date.parse(tt))||/^\d+$/.test(tt)||tt.trim().length<3?!1:!!(tt.trim().split(/\s+/).filter(rt=>rt.length>1).length>=2||/^[a-záéíóúüñA-ZÁÉÍÓÚÜÑ\s\-\.]+$/.test(tt)),ze={};for(let tt=0;tt<15;tt++){let Ze=0;const rt=we.map(We=>We[tt]).filter(We=>We!=null);if(rt.length!==0){for(const We of rt)Te(String(We))&&Ze++;Ze>0&&(ze[tt]={score:Ze,percentage:Ze/rt.length*100,sampleValues:rt.slice(0,3)})}}console.log("📊 Análisis de columnas para detectar operadores:",ze);let Me=7,mt=0;for(const[tt,Ze]of Object.entries(ze))(Ze.score>mt||Ze.score===mt&&Ze.percentage>50)&&(mt=Ze.score,Me=parseInt(tt));return console.log(`🎯 Columna de operadores detectada: ${Me} (puntuación: ${mt})`),Me})(V),xe=V.slice(1).map((oe,we)=>{we<3&&console.log(`Fila ${we}:`,{col0:oe[0],col1:oe[1],col2:oe[2],col3:oe[3],col4:oe[4],col5:oe[5],col6:oe[6],col7:oe[7],col8:oe[8],col9:oe[9],col10:oe[10],col11:oe[11],operadorDetectado:oe[le]});let Te=oe[le];if(Te&&/^\d{1,2}:\d{2}/.test(String(Te))){console.warn(`⚠️ Valor de operador parece ser hora: "${Te}". Buscando en otras columnas...`);for(let Me=0;Me<oe.length;Me++){const mt=oe[Me];if(mt&&typeof mt=="string"&&!/^\d{1,2}:\d{2}/.test(mt)&&!/^\d+$/.test(mt)&&mt.trim().split(/\s+/).length>=2){Te=mt,console.log(`✅ Operador encontrado en columna ${Me}: "${Te}"`);break}}}const ze=m;return{id:oe[0]||`call-${we}-${Date.now()}`,fecha:ze(oe[1]),beneficiario:oe[2],comuna:oe[3],tipo_llamada:oe[4]==="Entrante"?"entrante":"saliente",numero_cliente:oe[5],hora:oe[6]||"09:00:00",operador:Te||"No identificado",duracion:parseInt(oe[8])||0,categoria:oe[9]==="Llamado exitoso"?"exitosa":"fallida",resultado:oe[9],observacion:oe[10],apiId:oe[11]}});try{Y==="connected"&&await Hp.saveCallData(e.uid,xe)&&console.log("✅ Datos de llamadas guardados en Firebase")}catch(oe){console.error("Error guardando datos en Firebase:",oe)}y(xe,"excel"),allAssignments.length===0&&xe.length>0&&(console.log("🔄 No hay asignaciones previas, creando asignaciones basadas en operadoras detectadas..."),rp(xe)),console.log(`📊 Procesados ${xe.length} registros en Zustand`)}catch(se){console.error("Error durante el procesamiento de datos:",se),N("error","Error al procesar los datos del Excel")}},rp=V=>{try{const se={},le=Te=>!Te||typeof Te!="string"?!1:Te.trim().length>2&&!/^\d{1,2}:\d{2}/.test(Te)&&!/^\d+$/.test(Te)&&!/^(si|no|exitoso|fallido|pendiente|hangup|solo)$/i.test(Te)&&/^[a-záéíóúüñA-ZÁÉÍÓÚÜÑ\s\-\.]{3,}$/.test(Te);V.forEach(Te=>{const ze=Te.beneficiario||Te.beneficiary,Me=Te.operador||Te.operator||Te.teleoperadora;ze&&Me&&le(Me)&&(se[Me]||(se[Me]=new Set),se[Me].add(ze))});const xe=Object.keys(se).map((Te,ze)=>({id:`auto-operator-${ze+1}`,name:Te,email:`${Te.toLowerCase().replace(/\s+/g,".")}@auto.com`,phone:`+56${ze+1}87654321`})),oe={},we=[];Object.entries(se).forEach(([Te,ze],Me)=>{const mt=`auto-operator-${Me+1}`;oe[mt]=[],Array.from(ze).forEach((tt,Ze)=>{const rt={id:`auto-${mt}-${Ze+1}`,beneficiary:tt,beneficiario:tt,primaryPhone:"N/A",phone:"N/A",commune:"N/A",comuna:"N/A"};oe[mt].push(rt),we.push({...rt,operator:Te})})}),xe.length>0&&(ee(xe),Q(oe),K(we),console.log("✅ Asignaciones automáticas creadas:",{operators:xe.length,assignments:we.length,operatorMap:se}))}catch(se){console.error("Error creando asignaciones automáticas:",se)}},X=(()=>{const V=[];return Object.entries(xt).forEach(([se,le])=>{const xe=Se.find(oe=>oe.id===se);xe&&le&&Array.isArray(le)?le.forEach(oe=>{const we={id:oe.id,operator:xe.name,operatorName:xe.name,beneficiary:oe.beneficiary,phone:oe.primaryPhone,commune:oe.commune};V.push(we)}):Se.length>0&&console.warn(`⚠️ Problemas con operador ${se}:`,{operatorFound:!!xe,assignmentsType:typeof le,isArray:Array.isArray(le)})}),V})(),G=C(X),q=G.filter(V=>{const se=Be==="all"||V.status===Be,le=V.beneficiary.toLowerCase().includes(qe.toLowerCase())||V.operator.toLowerCase().includes(qe.toLowerCase());return se&&le}),J=()=>{const V={dashboard:Ps,calls:Vr,assignments:hn,beneficiaries:qg,seguimientos:jP,calendar:Ga,gestiones:hn,history:xa,audit:Ps,reports:Die,config:vf};return d.jsxs("div",{className:"w-64 bg-white shadow-lg h-full flex flex-col",children:[d.jsxs("div",{className:"p-6 flex-1",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Mistatas - Seguimiento de llamadas"}),d.jsx("p",{className:"text-xs text-gray-500 mb-6",children:"© 2025"}),d.jsx("nav",{className:"space-y-2",children:a.map(se=>{const le=V[se.id]||Ps;return d.jsx(Z,{icon:le,label:se.label,active:L===se.id,onClick:()=>ae(se.id)},se.id)})}),r&&d.jsxs("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg",children:[d.jsxs("p",{className:"text-xs text-gray-600",children:["Rol: ",d.jsx("span",{className:"font-medium",children:r.role})]}),n&&d.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"⚡ Super Administrador"})]})]}),d.jsxs("div",{className:"p-6 border-t border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(aa,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(e==null?void 0:e.displayName)||(r==null?void 0:r.name)||"Usuario"}),d.jsx("p",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.email})]})]}),d.jsxs("div",{className:"mb-4 p-2 rounded-lg bg-gray-50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${Y==="connected"?"bg-green-500":Y==="connecting"?"bg-yellow-500":"bg-orange-500"}`}),d.jsx("span",{className:"text-xs text-gray-600",children:Y==="connected"?"Firebase conectado":Y==="connecting"?"Conectando...":"Modo demo"})]}),ue.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[ue.length," llamadas cargadas"]})]}),d.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[d.jsx(dse,{className:"w-4 h-4"}),"Cerrar Sesión"]})]})]})},Z=({icon:V,label:se,active:le,onClick:xe})=>d.jsxs("button",{onClick:xe,className:`w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors ${le?"bg-blue-50 text-blue-600 border-l-4 border-blue-500":"text-gray-600 hover:bg-gray-50"}`,children:[d.jsx(V,{className:"w-5 h-5 mr-3"}),d.jsx("span",{className:"text-sm",children:se})]}),he=()=>{const V=(p==null?void 0:p.length)>0?p:ue,le=Y==="connecting"?{color:"bg-yellow-50 border-yellow-200",icon:"🔄",title:"Conectando...",message:"Conectando con Firebase para cargar datos"}:Y==="connected"?V.length>0?{color:"bg-green-50 border-green-200",icon:"✅",title:"Datos reales activos",message:`Mostrando datos reales de ${V.length} llamadas registradas`}:{color:"bg-blue-50 border-blue-200",icon:"ℹ️",title:"Firebase conectado - Sin datos de llamadas",message:"Conectado a Firebase. Sube un archivo Excel para ver datos reales"}:{color:"bg-orange-50 border-orange-200",icon:"⚠️",title:"Modo demostración",message:"Mostrando datos de ejemplo. Configura Firebase para persistencia completa"},xe=async()=>{Y==="connected"&&(hs(!1),await to())};return d.jsx("div",{className:`${le.color} border rounded-lg p-4 mb-6`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-lg mr-3",children:le.icon}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:le.title}),d.jsx("p",{className:"text-sm text-gray-600",children:le.message}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Métricas: ",v?`${v.successfulCalls}/${v.totalCalls} exitosas`:"Sin métricas"]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[Y==="connected"&&d.jsx("button",{onClick:xe,className:"px-3 py-1 text-xs bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",title:"Recargar datos desde Firebase",children:"🔄 Sincronizar"}),V.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>{console.log("🔧 DEBUG: Forzando re-análisis..."),console.log("📊 Datos antes del re-análisis:",v),b()},className:"px-3 py-1 text-xs bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",title:"Forzar re-análisis de datos",children:"🔧 Re-analizar"}),d.jsx("button",{onClick:()=>{console.log("🔍 DIAGNÓSTICO: Analizando datos reales...");const oe=W0.getState().callData;oe&&oe.length>0?window.analyzeRealData?window.analyzeRealData(oe):(console.log("⚠️ Función de diagnóstico no disponible"),console.log("Datos disponibles:",oe.length,"llamadas"),console.log("Muestra de datos:",oe.slice(0,3))):console.log("❌ No hay datos disponibles para analizar")},className:"px-3 py-1 text-xs bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors",title:"Diagnosticar datos reales del Excel (ver consola)",children:"🔍 Diagnosticar"})]})]})]})})},_e=()=>{const[V,se]=ne.useState([]),[le,xe]=ne.useState([]);ne.useEffect(()=>{const mr=setTimeout(()=>{ue.length>0&&(!p||p.length===0)&&!_&&(console.log("🔄 Sincronizando datos locales con Zustand:",ue.length),y(ue,"sync"))},0);return()=>clearTimeout(mr)},[ue.length,p==null?void 0:p.length,y,_]);const oe=v||{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},we=I.length;D&&Object.keys(D).length,ne.useEffect(()=>{const We=E(X),mr=k();se(We||[]),xe(mr||[])},[X==null?void 0:X.length,E,k]);let Te=V;(!V||V.length===0)&&(Te=Object.entries(xt).map(([mr,Sa])=>{const ca=Se.find(Lc=>Lc.id===mr);if(ca&&Sa&&Array.isArray(Sa)){const Lc=Sa.length,vh=Math.max(1,Math.floor(oe.totalCalls*(Lc/Math.max(1,X.length)))),yh=Math.floor(vh*.6);return{operatorName:ca.name,totalCalls:vh,successfulCalls:yh,failedCalls:vh-yh,averageDuration:60,successRate:Math.round(yh/vh*100),isEmergencyData:!0}}return null}).filter(Boolean)),(!Te||!Array.isArray(Te))&&(Te=[]);const ze=oe.totalCalls>0?(oe.successfulCalls/oe.totalCalls*100).toFixed(1):0,Me=oe.totalCalls>0?(oe.failedCalls/oe.totalCalls*100).toFixed(1):0,mt=we>0?(oe.totalCalls/we).toFixed(1):0,tt=oe.uniqueBeneficiaries>0?(oe.successfulCalls/oe.uniqueBeneficiaries*100).toFixed(1):0,Ze=Te.sort((We,mr)=>mr.coverageRate-We.coverageRate).slice(0,3),rt=Te.length>0?Te.reduce((We,mr)=>We.totalCalls>mr.totalCalls?We:mr):null;return d.jsxs("div",{className:"space-y-8",children:[d.jsx(he,{}),d.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:"📊 Resumen Ejecutivo de Teleasistencia"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[d.jsxs("div",{className:"text-3xl font-bold",children:[ze,"%"]}),d.jsx("div",{className:"text-sm opacity-90",children:"Tasa de Éxito"})]}),d.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[d.jsx("div",{className:"text-3xl font-bold",children:oe.uniqueBeneficiaries}),d.jsx("div",{className:"text-sm opacity-90",children:"Beneficiarios Atendidos"})]}),d.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[d.jsx("div",{className:"text-3xl font-bold",children:mt}),d.jsx("div",{className:"text-sm opacity-90",children:"Llamadas por Operadora"})]}),d.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[d.jsxs("div",{className:"text-3xl font-bold",children:[tt,"%"]}),d.jsx("div",{className:"text-sm opacity-90",children:"Tasa de Contactabilidad"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Llamadas Exitosas"}),d.jsx("p",{className:"text-3xl font-bold text-green-600",children:oe.successfulCalls}),d.jsxs("p",{className:"text-sm text-gray-500",children:["de ",oe.totalCalls," total"]})]}),d.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:d.jsx(Vr,{className:"h-8 w-8 text-green-600"})})]}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(xf,{className:"h-4 w-4 text-green-500 mr-1"}),d.jsxs("span",{className:"text-green-600 font-medium",children:[ze,"% de éxito"]})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-red-500",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Llamadas Fallidas"}),d.jsx("p",{className:"text-3xl font-bold text-red-600",children:oe.failedCalls}),d.jsx("p",{className:"text-sm text-gray-500",children:"sin contacto efectivo"})]}),d.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:d.jsx(Vr,{className:"h-8 w-8 text-red-600"})})]}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(Fse,{className:"h-4 w-4 text-red-500 mr-1"}),d.jsxs("span",{className:"text-red-600 font-medium",children:[Me,"% de fallas"]})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Beneficiarios Únicos"}),d.jsx("p",{className:"text-3xl font-bold text-blue-600",children:oe.uniqueBeneficiaries}),d.jsx("p",{className:"text-sm text-gray-500",children:"personas atendidas"})]}),d.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:d.jsx(hn,{className:"h-8 w-8 text-blue-600"})})]}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(hn,{className:"h-4 w-4 text-blue-500 mr-1"}),d.jsx("span",{className:"text-blue-600 font-medium",children:"Cobertura poblacional"})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Tiempo Promedio"}),d.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[Math.round(oe.averageDuration/60),"min"]}),d.jsx("p",{className:"text-sm text-gray-500",children:"por llamada"})]}),d.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:d.jsx(xa,{className:"h-8 w-8 text-purple-600"})})]}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(xa,{className:"h-4 w-4 text-purple-500 mr-1"}),d.jsx("span",{className:"text-purple-600 font-medium",children:"Eficiencia temporal"})]})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[d.jsx(xf,{className:"h-5 w-5 text-green-500 mr-2"}),"🏆 Top Performers"]}),Ze.length>0?d.jsx("div",{className:"space-y-3",children:Ze.map((We,mr)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold mr-3 ${mr===0?"bg-yellow-500":mr===1?"bg-gray-400":"bg-orange-500"}`,children:mr+1}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:We.operatorName}),d.jsxs("p",{className:"text-sm text-gray-500",children:[We.contactedBeneficiaries," de ",We.assignedBeneficiaries," beneficiarios",We.isEmergencyData&&d.jsx("span",{className:"ml-1 text-xs text-yellow-600",children:"(estimado)"})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"font-bold text-green-600 text-xl",children:[We.coverageRate,"%"]}),d.jsx("p",{className:"text-sm text-gray-500",children:"cobertura"}),d.jsxs("p",{className:"text-xs text-orange-500 mt-1",children:[We.pendingBeneficiaries," pendientes"]})]})]},mr))}):d.jsxs("div",{className:"text-center py-6",children:[d.jsx("p",{className:"text-gray-500 mb-2",children:"No hay datos de operadoras disponibles"}),d.jsx("p",{className:"text-sm text-gray-400",children:xt&&Object.keys(xt).length>0?"⚠️ Verifica que haya datos de llamadas cargados":"⚠️ Necesitas crear operadoras y asignar beneficiarios en el módulo Asignaciones"})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[d.jsx(Ps,{className:"h-5 w-5 text-blue-500 mr-2"}),"📊 Análisis de Productividad"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Operadora más activa"}),d.jsx("p",{className:"font-bold text-lg",children:(rt==null?void 0:rt.operatorName)||"N/A"}),d.jsxs("p",{className:"text-sm text-blue-600",children:[(rt==null?void 0:rt.totalCalls)||0," llamadas realizadas"]})]}),d.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Tasa de éxito promedio"}),d.jsxs("p",{className:"font-bold text-lg",children:[ze,"%"]}),d.jsx("p",{className:"text-sm text-green-600",children:"Indicador de calidad del servicio"})]}),d.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Cumplimiento de protocolo"}),d.jsxs("p",{className:"font-bold text-lg",children:[oe.protocolCompliance,"%"]}),d.jsx("p",{className:"text-sm text-purple-600",children:"Adherencia a procedimientos"})]})]})]})]}),Te.length>0&&d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[d.jsx(hn,{className:"h-5 w-5 text-indigo-500 mr-2"}),"📊 Detalle Completo por Teleoperadora",Te.some(We=>We.isEmergencyData)&&d.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Datos Estimados"})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operadora"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beneficiarios"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cobertura"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Llamadas"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tasa Éxito"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rendimiento"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Te.map((We,mr)=>{var Lc;const Sa=We.totalCalls>0?(We.successfulCalls/We.totalCalls*100).toFixed(1):0,ca=We.coverageRate||0;return d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center mr-3",children:d.jsx("span",{className:"text-indigo-600 font-semibold text-sm",children:(Lc=We.operatorName)==null?void 0:Lc.substring(0,2).toUpperCase()})}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:We.operatorName})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"text-sm",children:[d.jsxs("div",{className:"text-gray-900 font-medium",children:[We.contactedBeneficiaries||0," / ",We.assignedBeneficiaries||0]}),d.jsxs("div",{className:"text-xs text-gray-500",children:[We.pendingBeneficiaries||0," pendientes"]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${ca>=70?"bg-green-100 text-green-800":ca>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[ca,"%"]})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:We.totalCalls}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[We.successfulCalls," exitosas"]})]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${parseFloat(Sa)>=70?"bg-green-100 text-green-800":parseFloat(Sa)>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Sa,"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:d.jsx("div",{className:`h-2 rounded-full ${ca>=70?"bg-green-500":ca>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(ca,100)}%`}})}),d.jsx("span",{className:"text-xs text-gray-500",children:ca>=70?"🎯 Excelente":ca>=50?"⚠️ Regular":"📉 Revisar"})]})})]},mr)})})]})})]})]})},me=()=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registro de Llamadas"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Sube el archivo Excel con el registro de llamadas para realizar el análisis automático."}),d.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[d.jsx(Xg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsxs("label",{className:"cursor-pointer",children:[d.jsx("span",{className:"text-blue-600 font-medium",children:"Seleccionar archivo Excel"}),d.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:kl,className:"hidden"})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Formatos soportados: .xlsx, .xls"})]}),_&&d.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-sm font-medium text-blue-900",children:[A==="uploading"&&"📤 Subiendo archivo...",A==="processing"&&"⚙️ Procesando datos...",A==="analyzing"&&"📊 Analizando llamadas..."]}),d.jsx("p",{className:"text-sm text-blue-700",children:P})]})]}),d.jsx("div",{className:"mt-3 w-full bg-blue-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:A==="uploading"?"25%":A==="processing"?"50%":A==="analyzing"?"75%":"100%"}})})]}),A==="complete"&&!_&&p.length>0&&d.jsx("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-green-900",children:"✅ Análisis completado exitosamente"}),d.jsx("p",{className:"text-sm text-green-700",children:P})]})]})}),A==="error"&&!_&&d.jsx("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-6 h-6 bg-red-600 rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-red-900",children:"❌ Error en el procesamiento"}),d.jsx("p",{className:"text-sm text-red-700",children:P}),d.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Por favor, verifica el formato del archivo e intenta nuevamente."})]})]})})]}),p.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumen del Análisis"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Llamadas"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.filter(V=>V.categoria==="exitosa"||V.resultado==="Llamado exitoso").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Exitosas"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.filter(V=>V.categoria!=="exitosa"&&V.resultado!=="Llamado exitoso").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Fallidas"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(p.map(V=>V.beneficiario).filter(Boolean)).size}),d.jsx("div",{className:"text-sm text-gray-600",children:"Beneficiarios"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Datos Procesados"}),d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50",children:[d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"ID"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Fecha"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Beneficiario"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Comuna"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Operador"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Tipo"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Resultado"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Duración"})]})}),d.jsx("tbody",{children:p.slice(0,10).map((V,se)=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:V.id||`call-${se}`}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:V.fecha||"N/A"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:V.beneficiario||"N/A"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:V.comuna||"N/A"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:V.operador||"No identificado"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${V.tipo_llamada==="entrante"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:V.tipo_llamada==="entrante"?"Entrante":"Saliente"})}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${V.resultado==="Llamado exitoso"||V.categoria==="exitosa"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:V.resultado||(V.categoria==="exitosa"?"Exitoso":"Fallido")})}),d.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[V.duracion||0,"s"]})]},V.id||se))})]}),d.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-600",children:[d.jsxs("span",{children:["Mostrando ",Math.min(10,p.length)," de ",p.length," llamadas procesadas"]}),p.length>10&&d.jsx("span",{className:"text-blue-600",children:"Mostrando solo las primeras 10 filas"})]})]})]})]})]}),pe=({operator:V})=>{const[se,le]=ne.useState(null),[xe,oe]=ne.useState(!1),[we,Te]=ne.useState(null),ze=ne.useCallback(async(tt=!1)=>{if(V){if(se&&we&&!tt&&Date.now()-we<3e3){console.log("⏭️ Perfil reciente, saltando recarga");return}oe(!0);try{let Ze=null;const rt=(await ki(async()=>{const{default:We}=await Promise.resolve().then(()=>hIe);return{default:We}},void 0)).default;V.uid&&(Ze=await rt.getUserProfile(V.uid),console.log("🔍 Búsqueda por UID:",V.uid,Ze?"✅":"❌")),!Ze&&V.email&&(Ze=await rt.getUserProfileByEmail(V.email),console.log("🔍 Búsqueda por email:",V.email,Ze?"✅":"❌")),Ze&&(console.log("✅ Perfil sincronizado:",Ze.email),le(Ze),Te(Date.now()))}catch(Ze){console.error("❌ Error cargando perfil:",Ze)}finally{oe(!1)}}},[V,se,we]);ne.useEffect(()=>{ze()},[V==null?void 0:V.id]),ne.useEffect(()=>{const tt=async Ze=>{var ca;const rt=Ze.detail;console.log("🔔 Evento userProfileUpdated recibido:",{newEmail:rt.email,oldEmail:rt.oldEmail,uid:rt.uid}),console.log("📋 Comparando con operator:",{operatorEmail:V.email,operatorUID:V.uid,operatorName:V.name});const We=V.uid&&rt.uid===V.uid,mr=V.email&&((ca=rt.email)==null?void 0:ca.toLowerCase())===V.email.toLowerCase(),Sa=V.email&&rt.oldEmail&&rt.oldEmail.toLowerCase()===V.email.toLowerCase();We||mr||Sa?(console.log("✅ Perfil actualizado para:",V.name||V.email),Sa&&console.log("📧 Email cambió de",rt.oldEmail,"a",rt.email),le(rt),Te(Date.now())):console.log("⏭️ Perfil no coincide con este operador, ignorando")};return window.addEventListener("userProfileUpdated",tt),()=>{window.removeEventListener("userProfileUpdated",tt)}},[V==null?void 0:V.id,V==null?void 0:V.uid,V==null?void 0:V.email]);const Me=(se==null?void 0:se.email)||V.email,mt=(se==null?void 0:se.displayName)||V.name||"Operador sin nombre";return se!=null&&se.email&&V.email&&(se.email.toLowerCase(),V.email.toLowerCase()),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:mt}),xt[V.id]&&d.jsxs("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:[xt[V.id].length," beneficiarios"]}),xe&&d.jsx("span",{className:"text-xs text-gray-500 animate-pulse",children:"Actualizando..."}),se&&!xe&&d.jsx("span",{className:"text-xs text-green-600",children:"✓ Sincronizado"})]}),d.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[Me&&d.jsxs("p",{children:["📧 ",Me]}),V.phone&&d.jsxs("p",{children:["📞 ",V.phone]}),se&&V.email!==se.email&&d.jsxs("p",{className:"text-xs text-orange-600",children:["⚠️ Email actualizado de: ",V.email]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("label",{className:"cursor-pointer bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 text-sm",children:[d.jsx(Xg,{className:"w-4 h-4"}),"Subir Excel",d.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:tt=>Fc(tt,V.id),className:"hidden"})]}),xt[V.id]&&d.jsxs("button",{onClick:()=>Cl(V.id),className:"bg-yellow-500 text-white px-3 py-2 rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 text-sm",children:[d.jsx(el,{className:"w-4 h-4"}),"Limpiar"]}),d.jsxs("button",{onClick:()=>ro(V.id),className:"bg-red-500 text-white px-3 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2 text-sm",children:[d.jsx(el,{className:"w-4 h-4"}),"Eliminar"]})]})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[d.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Formato Excel esperado:"}),d.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Columna A:"})," Nombre del beneficiario"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna B:"})," Teléfono(s) - separados por |, - o espacios (9 dígitos cada uno)"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna C:"})," Comuna"]})]})]}),xt[V.id]&&xt[V.id].length>0&&d.jsxs("div",{className:"border-t pt-4",children:[d.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:["Beneficiarios Asignados (",xt[V.id].length,")"]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50",children:[d.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Beneficiario"}),d.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Teléfono Principal"}),d.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Otros Teléfonos"}),d.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Comuna"})]})}),d.jsxs("tbody",{children:[xt[V.id].slice(0,5).map(tt=>d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"px-3 py-2 text-gray-900",children:tt.beneficiary}),d.jsx("td",{className:"px-3 py-2 text-gray-900",children:tt.primaryPhone}),d.jsx("td",{className:"px-3 py-2 text-gray-600",children:tt.phones.length>1?tt.phones.slice(1).join(", "):"-"}),d.jsx("td",{className:"px-3 py-2 text-gray-900",children:tt.commune})]},tt.id)),xt[V.id].length>5&&d.jsx("tr",{children:d.jsxs("td",{colSpan:"4",className:"px-3 py-2 text-center text-gray-500 text-sm",children:["... y ",xt[V.id].length-5," beneficiarios más"]})})]})]})})]})]},V.id)},ve=()=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Gestión de Asignaciones"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona teleoperadores y sus asignaciones de beneficiarios"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:ph,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2",title:"Eliminar teleoperadoras ficticias de prueba",children:[d.jsx(el,{className:"w-4 h-4"}),"Limpiar Ficticias"]}),d.jsxs("button",{onClick:()=>Kt(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",children:[d.jsx(Qg,{className:"w-4 h-4"}),"Crear Teleoperador"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Teleoperadores"}),d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:Se.length})]}),d.jsx(hn,{className:"w-8 h-8 text-blue-500"})]})}),d.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Beneficiarios Asignados"}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:Object.values(xt).reduce((V,se)=>V+se.length,0)})]}),d.jsx(Vr,{className:"w-8 h-8 text-green-500"})]})}),d.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Operadores con Asignaciones"}),d.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Object.keys(xt).length})]}),d.jsx(ig,{className:"w-8 h-8 text-purple-500"})]})})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Búsqueda de Beneficiarios"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Encuentra rápidamente qué teleoperadora está asignada a un beneficiario"})]}),d.jsxs("button",{onClick:()=>yt(!qn),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${qn?"bg-red-500 text-white hover:bg-red-600":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[d.jsx(oi,{className:"w-4 h-4"}),qn?"Cerrar Búsqueda":"Buscar Beneficiario"]})]}),qn&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex gap-4 items-center",children:[d.jsx("div",{className:"flex-1",children:d.jsx("input",{type:"text",placeholder:"Buscar por nombre del beneficiario, teleoperadora, teléfono o comuna...",value:ar,onChange:V=>{const se=V.target.value;no(se)},className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),d.jsx("button",{onClick:()=>{cn(""),ei([])},className:"px-3 py-2 text-gray-500 hover:text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:d.jsx(cc,{className:"w-4 h-4"})})]}),lr.length>0&&d.jsxs("div",{className:"border border-gray-200 rounded-lg divide-y divide-gray-200 max-h-96 overflow-y-auto",children:[d.jsxs("div",{className:"bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700",children:[lr.length," resultado(s) encontrado(s)"]}),lr.map((V,se)=>d.jsx("div",{className:"p-4 hover:bg-gray-50",children:d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("h5",{className:"font-semibold text-gray-900",children:V.beneficiary||V.beneficiario}),d.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:"Beneficiario"}),d.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:V.source})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(hn,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Teleoperadora:"})," ",V.operatorName||V.operator||"Sin asignar"]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Vr,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Teléfono Principal:"})," ",V.primaryPhone||V.phone||V.telefono||V.numero_cliente||"N/A"]})]}),V.phones&&V.phones.length>1&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Vr,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Otros Teléfonos:"})," ",V.phones.slice(1).join(", ")]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ig,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Comuna:"})," ",V.commune||V.comuna||"N/A"]})]})]})]})})},`${V.id||se}-${V.source}`))]}),ar&&lr.length===0&&d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(oi,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),d.jsxs("p",{children:['No se encontraron beneficiarios que coincidan con "',ar,'"']}),d.jsx("p",{className:"text-sm mt-1",children:"Intenta con otro término de búsqueda"})]}),!ar&&d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(oi,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),d.jsx("p",{children:"Escribe el nombre de un beneficiario, teleoperadora, teléfono o comuna para buscar"}),d.jsx("p",{className:"text-sm mt-1",children:"La búsqueda incluye todas las asignaciones registradas"})]})]})]}),wr&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h4",{className:"text-lg font-semibold",children:"Crear Nuevo Teleoperador"}),d.jsx("button",{onClick:()=>Kt(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(cc,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo *"}),d.jsx("input",{type:"text",value:br.name,onChange:V=>hr({...br,name:V.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: María González"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:br.email,onChange:V=>hr({...br,email:V.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"maria.gonzalez@central.cl"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),d.jsx("input",{type:"tel",value:br.phone,onChange:V=>hr({...br,phone:V.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"987654321"})]})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsxs("button",{onClick:Fo,disabled:!br.name.trim(),className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(cy,{className:"w-4 h-4"}),"Crear Teleoperador"]}),d.jsx("button",{onClick:()=>Kt(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"})]})]})}),d.jsxs("div",{className:"space-y-4",children:[Se.filter(V=>V&&V.id).map(V=>d.jsx(pe,{operator:V},V.id)),Se.length===0&&d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[d.jsx(hn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay teleoperadores"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Crea tu primer teleoperador para comenzar a gestionar asignaciones"}),d.jsxs("button",{onClick:()=>Kt(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 mx-auto",children:[d.jsx(Qg,{className:"w-4 h-4"}),"Crear Primer Teleoperador"]})]})]})]}),Pe=()=>d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Historial de Seguimientos"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Clasifica beneficiarios por frecuencia y estado de contacto."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-green-800 font-semibold",children:"Al día"}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:G.filter(V=>V.status==="al-dia").length})]}),d.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white text-sm",children:"✓"})})]})}),d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-yellow-800 font-semibold",children:"Pendientes"}),d.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:G.filter(V=>V.status==="pendiente").length})]}),d.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white text-sm",children:"⏳"})})]})}),d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-red-800 font-semibold",children:"Urgentes"}),d.jsx("p",{className:"text-2xl font-bold text-red-600",children:G.filter(V=>V.status==="urgente").length})]}),d.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white text-sm",children:"⚠"})})]})})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(oy,{className:"w-4 h-4 text-gray-400"}),d.jsxs("select",{value:Be,onChange:V=>Re(V.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[d.jsx("option",{value:"all",children:"Todos los estados"}),d.jsx("option",{value:"al-dia",children:"Al día"}),d.jsx("option",{value:"pendiente",children:"Pendiente"}),d.jsx("option",{value:"urgente",children:"Urgente"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(oi,{className:"w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar beneficiario o teleoperadora...",value:qe,onChange:V=>Ue(V.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.length===0?d.jsx("div",{className:"col-span-full bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(ig,{className:"w-12 h-12 text-gray-400 mb-4"}),d.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay datos de seguimiento"}),d.jsx("p",{className:"text-gray-600 mb-4 max-w-md",children:S?"No se encontraron seguimientos que coincidan con los filtros aplicados.":"Para ver el historial de seguimientos, sube un archivo Excel con datos de llamadas desde el Panel Principal."}),!S&&d.jsxs("div",{className:"text-sm text-gray-500",children:["💡 Ve al ",d.jsx("strong",{children:"Panel Principal"})," → ",d.jsx("strong",{children:"Cargar Excel"})," para comenzar"]})]})}):q.map(V=>d.jsxs("div",{className:`border-2 rounded-lg p-4 hover:shadow-md transition-shadow ${V.status==="al-dia"?"border-green-200 bg-green-50":V.status==="pendiente"?"border-yellow-200 bg-yellow-50":"border-red-200 bg-red-50"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:V.beneficiary}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${V.status==="al-dia"?"bg-green-100 text-green-800 border border-green-300":V.status==="pendiente"?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-red-100 text-red-800 border border-red-300"}`,children:V.status==="al-dia"?"✅ Al día":V.status==="pendiente"?"⏳ Pendiente":"⚠️ Urgente"})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(aa,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Teleoperadora:"}),d.jsx("span",{className:"ml-1",children:V.operator})]}),d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(Vr,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Teléfono:"}),d.jsx("span",{className:"ml-1",children:V.phone})]}),d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(xa,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Última llamada:"}),d.jsx("span",{className:"ml-1",children:V.lastCall})]}),d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(Ps,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Llamadas:"}),d.jsxs("span",{className:"ml-1",children:[V.callCount," total (",V.successfulCallCount||0," exitosas)"]})]}),V.daysSinceLastCall!==null&&d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(Ga,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Hace:"}),d.jsxs("span",{className:"ml-1",children:[V.daysSinceLastCall," días"]})]}),V.lastCallResult&&V.lastCallResult!=="Sin resultado"&&d.jsxs("div",{className:"mt-2 p-2 bg-gray-100 rounded text-xs",children:[d.jsx("span",{className:"font-medium",children:"Último resultado:"}),d.jsx("span",{className:"ml-1",children:V.lastCallResult})]})]}),V.statusReason&&d.jsx("div",{className:`mt-3 p-2 rounded text-xs ${V.status==="al-dia"?"bg-green-100 text-green-700":V.status==="pendiente"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:d.jsxs("div",{className:"flex items-start",children:[V.status==="urgente"&&d.jsx(vn,{className:"w-3 h-3 mr-1 mt-0.5 flex-shrink-0"}),d.jsx("span",{children:V.statusReason})]})})]},V.id))})]})});return d.jsxs(d.Fragment,{children:[d.jsx(FTe,{toasts:l,onDismiss:c}),d.jsxs("div",{className:"flex h-screen bg-gray-100",children:[d.jsx(J,{}),d.jsx("div",{className:"flex-1 overflow-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"mb-6",children:d.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[L==="dashboard"&&"Panel principal",L==="calls"&&"Registro de Llamadas",L==="assignments"&&"Asignaciones",L==="beneficiaries"&&"Beneficiarios Base",L==="seguimientos"&&"Seguimientos Periódicos",L==="calendar"&&"Ver Calendario",L==="gestiones"&&"Gestiones Colaborativas",L==="history"&&"Historial de Seguimientos",L==="audit"&&"Auditoría Avanzada",L==="metrics"&&"Métricas Avanzadas",L==="config"&&"Configuración del Sistema"]})}),Y==="demo"&&d.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(vn,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-blue-800 font-medium",children:"Modo Local"}),d.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"La aplicación funciona con datos locales. Para persistencia en la nube, completa la configuración de Firebase."}),d.jsx("p",{className:"text-blue-600 text-xs mt-2",children:"📖 Consulta FIREBASE_SETUP.md para instrucciones de configuración"})]})]})}),Y==="connecting"&&d.jsx("div",{className:"mb-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"text-slate-700 text-sm",children:"Verificando configuración de Firebase..."})]})}),L==="dashboard"&&d.jsx(Wc,{children:d.jsx(_e,{})}),L==="calls"&&d.jsx(me,{}),L==="assignments"&&d.jsx(ve,{}),L==="beneficiaries"&&d.jsx(Wc,{children:d.jsx(SPe,{})}),L==="seguimientos"&&d.jsx(Wc,{children:d.jsx(vIe,{})}),L==="calendar"&&d.jsx(Wc,{children:d.jsx(qWe,{})}),L==="gestiones"&&d.jsx(Wc,{children:d.jsx(rHe,{})}),L==="history"&&d.jsx(Pe,{}),L==="audit"&&d.jsx(Wc,{children:d.jsx(LTe,{})}),L==="metrics"&&d.jsx(Wc,{children:d.jsx(_Y,{})}),L==="config"&&s&&d.jsx(Wc,{children:d.jsx(iHe,{})})]})})]})]})},dHe=()=>(window._fallbackMetricsLogged||(console.log("📊 Usando métricas de fallback (sin conexión a Firestore)"),window._fallbackMetricsLogged=!0),{globalMetrics:{totalCalls:150,successfulCalls:120,failedCalls:30,uniqueBeneficiaries:85,uniqueOperators:4,averageDuration:180,successRate:80,lastUpdated:new Date,dayDistribution:{monday:28,tuesday:32,wednesday:25,thursday:30,friday:20,saturday:10,sunday:5},hourDistribution:{8:5,9:12,10:18,11:22,12:15,13:8,14:20,15:25,16:18,17:7}},teleoperadoraMetrics:[{operatorName:"Daniela Carmona",totalCalls:45,successfulCalls:38,failedCalls:7,successRate:84.4,averageDuration:165,uniqueBeneficiaries:28},{operatorName:"Antonella Valdebenito",totalCalls:38,successfulCalls:30,failedCalls:8,successRate:78.9,averageDuration:195,uniqueBeneficiaries:25},{operatorName:"Karol Aguayo",totalCalls:42,successfulCalls:35,failedCalls:7,successRate:83.3,averageDuration:175,uniqueBeneficiaries:30},{operatorName:"Javiera Reyes Alvarado",totalCalls:25,successfulCalls:17,failedCalls:8,successRate:68,averageDuration:190,uniqueBeneficiaries:18}],beneficiaryMetrics:{alDia:45,pendiente:25,urgente:15,total:85}}),KD=()=>{const e=dHe();return{...e,isUsingFallback:!0,status:"ready",loading:{global:!1,teleoperadoras:!1,beneficiarios:!1,noAsignados:!1},errors:{global:null,teleoperadoras:null,beneficiarios:null,noAsignados:null},getSummaryStats:()=>({totalCalls:e.globalMetrics.totalCalls,successfulCalls:e.globalMetrics.successfulCalls,failedCalls:e.globalMetrics.failedCalls,uniqueBeneficiaries:e.globalMetrics.uniqueBeneficiaries,uniqueOperators:e.globalMetrics.uniqueOperators,averageDuration:e.globalMetrics.averageDuration,successRate:e.globalMetrics.successRate,beneficiariesByStatus:{"Al día":e.beneficiaryMetrics.alDia,Pendiente:e.beneficiaryMetrics.pendiente,Urgente:e.beneficiaryMetrics.urgente}}),getTopOperators:(t=5)=>e.teleoperadoraMetrics.sort((r,n)=>n.totalCalls-r.totalCalls).slice(0,t).map((r,n)=>({rank:n+1,operatorName:r.operatorName,totalCalls:r.totalCalls,successRate:r.successRate,uniqueBeneficiaries:r.uniqueBeneficiaries})),getBeneficiariesByStatus:t=>{const r=[],n=e.beneficiaryMetrics[t==null?void 0:t.toLowerCase().replace(" ","")]||0;for(let a=0;a<Math.min(n,10);a++)r.push({id:`beneficiary-${t}-${a}`,nombreOriginal:`Beneficiario ${t} ${a+1}`,status:t,lastCall:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString(),successRate:Math.floor(Math.random()*30)+70});return r},getTeleoperadoraMetrics:t=>{const r=e.teleoperadoraMetrics.find(n=>n.operatorName.toLowerCase().includes((t==null?void 0:t.toLowerCase())||""))||e.teleoperadoraMetrics[0];return{...r,nombreOriginal:r.operatorName,totalDuration:r.averageDuration*r.totalCalls,lastUpdated:new Date().toISOString(),calls:Array.from({length:Math.min(r.totalCalls,20)},(n,a)=>({id:`call-${r.operatorName}-${a}`,fecha:new Date(Date.now()-Math.random()*7*24*60*60*1e3).toISOString(),beneficiario:`Beneficiario ${a+1}`,duracion:Math.floor(Math.random()*300)+60,exitosa:Math.random()>.2,observaciones:`Llamada simulada ${a+1}`}))}},getBeneficiariesByOperator:t=>{const r=e.teleoperadoraMetrics.find(n=>n.operatorName.toLowerCase().includes((t==null?void 0:t.toLowerCase())||""))||e.teleoperadoraMetrics[0];return Array.from({length:Math.min(r.uniqueBeneficiaries,15)},(n,a)=>({id:`beneficiary-op-${t}-${a}`,nombreOriginal:`Beneficiario ${r.operatorName} ${a+1}`,status:["Al día","Pendiente","Urgente"][Math.floor(Math.random()*3)],successRate:Math.floor(Math.random()*30)+70,lastCall:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString()}))}}};var oS={},vQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(vQ);var qD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(qD);var YD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(YD);var lS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,s="",o="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const c=r[i];o?c==="\\"&&i+1<a?(i++,s+=r[i]):c===o?o="":s+=c:l?c==='"'||c==="'"?o=c:c==="]"?(l=!1,n.push(s),s=""):s+=c:c==="["?(l=!0,s&&(n.push(s),s="")):c==="."?s&&(n.push(s),s=""):s+=c,i++}return s&&n.push(s),n}e.toPath=t})(lS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vQ,r=qD,n=YD,a=lS;function i(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?r.isDeepKey(l)?i(o,a.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function s(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||t.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}e.get=i})(oS);var fHe=oS.get;const Wf=on(fHe);var yQ={exports:{}},nr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sa=typeof Symbol=="function"&&Symbol.for,XD=sa?Symbol.for("react.element"):60103,QD=sa?Symbol.for("react.portal"):60106,cS=sa?Symbol.for("react.fragment"):60107,uS=sa?Symbol.for("react.strict_mode"):60108,dS=sa?Symbol.for("react.profiler"):60114,fS=sa?Symbol.for("react.provider"):60109,hS=sa?Symbol.for("react.context"):60110,JD=sa?Symbol.for("react.async_mode"):60111,mS=sa?Symbol.for("react.concurrent_mode"):60111,pS=sa?Symbol.for("react.forward_ref"):60112,gS=sa?Symbol.for("react.suspense"):60113,hHe=sa?Symbol.for("react.suspense_list"):60120,vS=sa?Symbol.for("react.memo"):60115,yS=sa?Symbol.for("react.lazy"):60116,mHe=sa?Symbol.for("react.block"):60121,pHe=sa?Symbol.for("react.fundamental"):60117,gHe=sa?Symbol.for("react.responder"):60118,vHe=sa?Symbol.for("react.scope"):60119;function us(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case XD:switch(e=e.type,e){case JD:case mS:case cS:case dS:case uS:case gS:return e;default:switch(e=e&&e.$$typeof,e){case hS:case pS:case yS:case vS:case fS:return e;default:return t}}case QD:return t}}}function xQ(e){return us(e)===mS}nr.AsyncMode=JD;nr.ConcurrentMode=mS;nr.ContextConsumer=hS;nr.ContextProvider=fS;nr.Element=XD;nr.ForwardRef=pS;nr.Fragment=cS;nr.Lazy=yS;nr.Memo=vS;nr.Portal=QD;nr.Profiler=dS;nr.StrictMode=uS;nr.Suspense=gS;nr.isAsyncMode=function(e){return xQ(e)||us(e)===JD};nr.isConcurrentMode=xQ;nr.isContextConsumer=function(e){return us(e)===hS};nr.isContextProvider=function(e){return us(e)===fS};nr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===XD};nr.isForwardRef=function(e){return us(e)===pS};nr.isFragment=function(e){return us(e)===cS};nr.isLazy=function(e){return us(e)===yS};nr.isMemo=function(e){return us(e)===vS};nr.isPortal=function(e){return us(e)===QD};nr.isProfiler=function(e){return us(e)===dS};nr.isStrictMode=function(e){return us(e)===uS};nr.isSuspense=function(e){return us(e)===gS};nr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===cS||e===mS||e===dS||e===uS||e===gS||e===hHe||typeof e=="object"&&e!==null&&(e.$$typeof===yS||e.$$typeof===vS||e.$$typeof===fS||e.$$typeof===hS||e.$$typeof===pS||e.$$typeof===pHe||e.$$typeof===gHe||e.$$typeof===vHe||e.$$typeof===mHe)};nr.typeOf=us;yQ.exports=nr;var yHe=yQ.exports,ra=e=>e===0?0:e>0?1:-1,Fi=e=>typeof e=="number"&&e!=+e,Gd=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,et=e=>(typeof e=="number"||e instanceof Number)&&!Fi(e),gl=e=>et(e)||typeof e=="string",xHe=0,zv=e=>{var t=++xHe;return"".concat(e||"").concat(t)},Wa=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(t)&&typeof t!="string")return n;var i;if(Gd(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Fi(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},wQ=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ir(e,t,r){return et(e)&&et(t)?e+r*(t-e):t}function bQ(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Wf(n,t))===r)}var Dr=e=>e===null||typeof e>"u",Ky=e=>Dr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),wHe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ZD(e){if(typeof e!="string")return!1;var t=wHe;return t.includes(e)}var bHe=["viewBox","children"],Q$=["points","pathLength"],qT={svg:bHe,polygon:Q$,polyline:Q$},ej=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(T.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{ZD(a)&&(n[a]=i=>r[a](r,i))}),n},_He=(e,t,r)=>n=>(e(t,r,n),null),qy=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];ZD(a)&&typeof i=="function"&&(n||(n={}),n[a]=_He(i,t,r))}),n},EHe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function _Q(e){if(typeof e!="string")return!1;var t=EHe;return t.includes(e)}function Js(e){var t=Object.entries(e).filter(r=>{var[n]=r;return _Q(n)});return Object.fromEntries(t)}var J$=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Z$=null,YT=null,EQ=e=>{if(e===Z$&&Array.isArray(YT))return YT;var t=[];return T.Children.forEach(e,r=>{Dr(r)||(yHe.isFragment(r)?t=t.concat(EQ(r.props.children)):t.push(r))}),YT=t,Z$=e,t};function tj(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>J$(a)):n=[J$(t)],EQ(e).forEach(a=>{var i=Wf(a,"type.displayName")||Wf(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var xS=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,SHe=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&(qT==null?void 0:qT[n]))!==null&&a!==void 0?a:[],s=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&i.includes(t)||_Q(t)),l=!!r&&ZD(t);return s||o||l},jr=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(T.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var s;SHe((s=n)===null||s===void 0?void 0:s[i],i,t,r)&&(a[i]=n[i])}),a},THe=["children","width","height","viewBox","className","style","title","desc"];function Gk(){return Gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gk.apply(null,arguments)}function AHe(e,t){if(e==null)return{};var r,n,a=CHe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CHe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rj=T.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:l,desc:c}=e,u=AHe(e,THe),f=i||{width:n,height:a,x:0,y:0},h=Dt("recharts-surface",s);return T.createElement("svg",Gk({},jr(u,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),T.createElement("title",null,l),T.createElement("desc",null,c),r)}),kHe=["children","className"];function Kk(){return Kk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kk.apply(null,arguments)}function NHe(e,t){if(e==null)return{};var r,n,a=PHe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PHe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sn=T.forwardRef((e,t)=>{var{children:r,className:n}=e,a=NHe(e,kHe),i=Dt("recharts-layer",n);return T.createElement("g",Kk({className:i},jr(a,!0),{ref:t}),r)}),SQ=T.createContext(null),IHe=()=>T.useContext(SQ);function gr(e){return function(){return e}}const TQ=Math.cos,Bb=Math.sin,Mo=Math.sqrt,Ub=Math.PI,wS=2*Ub,qk=Math.PI,Yk=2*qk,Od=1e-6,OHe=Yk-Od;function AQ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function DHe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return AQ;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class jHe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?AQ:DHe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Od)if(!(Math.abs(f*l-c*u)>Od)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,p=a-o,g=l*l+c*c,v=m*m+p*p,y=Math.sqrt(g),w=Math.sqrt(h),b=i*Math.tan((qk-Math.acos((g+h-v)/(2*y*w)))/2),E=b/w,k=b/y;Math.abs(E-1)>Od&&this._append`L${t+E*u},${r+E*f}`,this._append`A${i},${i},0,0,${+(f*m>u*p)},${this._x1=t+k*l},${this._y1=r+k*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Od||Math.abs(this._y1-u)>Od)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%Yk+Yk),h>OHe?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>Od&&this._append`A${n},${n},0,${+(h>=qk)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function nj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new jHe(t)}function aj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CQ(e){this._context=e}CQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bS(e){return new CQ(e)}function kQ(e){return e[0]}function NQ(e){return e[1]}function PQ(e,t){var r=gr(!0),n=null,a=bS,i=null,s=nj(o);e=typeof e=="function"?e:e===void 0?kQ:gr(e),t=typeof t=="function"?t:t===void 0?NQ:gr(t);function o(l){var c,u=(l=aj(l)).length,f,h=!1,m;for(n==null&&(i=a(m=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(m)return i=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:gr(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:gr(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:gr(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function y1(e,t,r){var n=null,a=gr(!0),i=null,s=bS,o=null,l=nj(c);e=typeof e=="function"?e:e===void 0?kQ:gr(+e),t=typeof t=="function"?t:gr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?NQ:gr(+r);function c(f){var h,m,p,g=(f=aj(f)).length,v,y=!1,w,b=new Array(g),E=new Array(g);for(i==null&&(o=s(w=l())),h=0;h<=g;++h){if(!(h<g&&a(v=f[h],h,f))===y)if(y=!y)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(b[p],E[p]);o.lineEnd(),o.areaEnd()}y&&(b[h]=+e(v,h,f),E[h]=+t(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):E[h]))}if(w)return o=null,w+""||null}function u(){return PQ().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:gr(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:gr(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:gr(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:gr(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:gr(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:gr(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:gr(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class IQ{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function RHe(e){return new IQ(e,!0)}function MHe(e){return new IQ(e,!1)}const ij={draw(e,t){const r=Mo(t/Ub);e.moveTo(r,0),e.arc(0,0,r,0,wS)}},FHe={draw(e,t){const r=Mo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},OQ=Mo(1/3),LHe=OQ*2,$He={draw(e,t){const r=Mo(t/LHe),n=r*OQ;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},BHe={draw(e,t){const r=Mo(t),n=-r/2;e.rect(n,n,r,r)}},UHe=.8908130915292852,DQ=Bb(Ub/10)/Bb(7*Ub/10),VHe=Bb(wS/10)*DQ,zHe=-TQ(wS/10)*DQ,WHe={draw(e,t){const r=Mo(t*UHe),n=VHe*r,a=zHe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=wS*i/5,o=TQ(s),l=Bb(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},XT=Mo(3),HHe={draw(e,t){const r=-Mo(t/(XT*3));e.moveTo(0,r*2),e.lineTo(-XT*r,-r),e.lineTo(XT*r,-r),e.closePath()}},gs=-.5,vs=Mo(3)/2,Xk=1/Mo(12),GHe=(Xk/2+1)*3,KHe={draw(e,t){const r=Mo(t/GHe),n=r/2,a=r*Xk,i=n,s=r*Xk+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(gs*n-vs*a,vs*n+gs*a),e.lineTo(gs*i-vs*s,vs*i+gs*s),e.lineTo(gs*o-vs*l,vs*o+gs*l),e.lineTo(gs*n+vs*a,gs*a-vs*n),e.lineTo(gs*i+vs*s,gs*s-vs*i),e.lineTo(gs*o+vs*l,gs*l-vs*o),e.closePath()}};function qHe(e,t){let r=null,n=nj(a);e=typeof e=="function"?e:gr(e||ij),t=typeof t=="function"?t:gr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:gr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:gr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Vb(){}function zb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function jQ(e){this._context=e}jQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YHe(e){return new jQ(e)}function RQ(e){this._context=e}RQ.prototype={areaStart:Vb,areaEnd:Vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XHe(e){return new RQ(e)}function MQ(e){this._context=e}MQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QHe(e){return new MQ(e)}function FQ(e){this._context=e}FQ.prototype={areaStart:Vb,areaEnd:Vb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JHe(e){return new FQ(e)}function e8(e){return e<0?-1:1}function t8(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(e8(i)+e8(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function r8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function QT(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Wb(e){this._context=e}Wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:QT(this,this._t0,r8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,QT(this,r8(this,r=t8(this,e,t)),r);break;default:QT(this,this._t0,r=t8(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function LQ(e){this._context=new $Q(e)}(LQ.prototype=Object.create(Wb.prototype)).point=function(e,t){Wb.prototype.point.call(this,t,e)};function $Q(e){this._context=e}$Q.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function ZHe(e){return new Wb(e)}function eGe(e){return new LQ(e)}function BQ(e){this._context=e}BQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=n8(e),a=n8(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function n8(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function tGe(e){return new BQ(e)}function _S(e,t){this._context=e,this._t=t}_S.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function rGe(e){return new _S(e,.5)}function nGe(e){return new _S(e,0)}function aGe(e){return new _S(e,1)}function em(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Qk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function iGe(e,t){return e[t]}function sGe(e){const t=[];return t.key=e,t}function oGe(){var e=gr([]),t=Qk,r=em,n=iGe;function a(i){var s=Array.from(e.apply(this,arguments),sGe),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=aj(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:gr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:gr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Qk:typeof i=="function"?i:gr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??em,a):r},a}function lGe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}em(e,t)}}function cGe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}em(e,t)}}function uGe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=e[t[p]],v=g[n][1]||0,y=g[n-1][1]||0;m+=v-y}l+=f,c+=m*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,em(e,t)}}var dGe=["type","size","sizeType"];function Jk(){return Jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jk.apply(null,arguments)}function a8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a8(Object(r),!0).forEach(function(n){fGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fGe(e,t,r){return(t=hGe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hGe(e){var t=mGe(e,"string");return typeof t=="symbol"?t:t+""}function mGe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pGe(e,t){if(e==null)return{};var r,n,a=gGe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gGe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UQ={symbolCircle:ij,symbolCross:FHe,symbolDiamond:$He,symbolSquare:BHe,symbolStar:WHe,symbolTriangle:HHe,symbolWye:KHe},vGe=Math.PI/180,yGe=e=>{var t="symbol".concat(Ky(e));return UQ[t]||ij},xGe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*vGe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wGe=(e,t)=>{UQ["symbol".concat(Ky(e))]=t},sj=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=pGe(e,dGe),i=i8(i8({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=yGe(s),m=qHe().type(h).size(xGe(r,n,s));return m()},{className:l,cx:c,cy:u}=i,f=jr(i,!0);return c===+c&&u===+u&&r===+r?T.createElement("path",Jk({},f,{className:Dt("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};sj.registerSymbol=wGe;function Zk(){return Zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zk.apply(null,arguments)}function s8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bGe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s8(Object(r),!0).forEach(function(n){oj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oj(e,t,r){return(t=_Ge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ge(e){var t=EGe(e,"string");return typeof t=="symbol"?t:t+""}function EGe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ys=32;class lj extends T.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=ys/2,i=ys/6,s=ys/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:ys,y2:a,className:"recharts-legend-icon"});if(l==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(ys,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return T.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(ys/8,"h").concat(ys,"v").concat(ys*3/4,"h").concat(-ys,"z"),className:"recharts-legend-icon"});if(T.isValidElement(t.legendIcon)){var c=bGe({},t);return delete c.legendIcon,T.cloneElement(t.legendIcon,c)}return T.createElement(sj,{fill:o,cx:a,cy:a,size:ys,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=this.props,o={x:0,y:0,width:ys,height:ys},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var h=u.formatter||a,m=Dt({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?i:u.color,g=h?h(u.value,u,f):u.value;return T.createElement("li",Zk({className:m,style:l,key:"legend-item-".concat(f)},qy(this.props,u,f)),T.createElement(rj,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,s)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}oj(lj,"displayName","Legend");oj(lj,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var VQ={},zQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}e.uniqBy=t})(zQ);var cj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(cj);var WQ={},ES={},HQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(HQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HQ;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ES);var GQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(GQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ES,r=GQ;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(WQ);var KQ={},qQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oS;function r(n){return function(a){return t.get(a,n)}}e.property=r})(qQ);var YQ={},JT={},ZT={},uj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(uj);var dj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(dj);var fj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(fj);var o8;function SGe(){return o8||(o8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hj(),r=uj,n=dj,a=fj;function i(f,h,m){return typeof m!="function"?t.isMatch(f,h):s(f,h,function p(g,v,y,w,b,E){const k=m(g,v,y,w,b,E);return k!==void 0?!!k:s(g,v,p,E)},new Map)}function s(f,h,m,p){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,m,p);case"function":return Object.keys(h).length>0?s(f,{...h},m,p):a.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function o(f,h,m,p){if(h==null)return!0;if(Array.isArray(h))return c(f,h,m,p);if(h instanceof Map)return l(f,h,m,p);if(h instanceof Set)return u(f,h,m,p);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let v=0;v<g.length;v++){const y=g[v];if(!n.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!m(f[y],h[y],y,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function l(f,h,m,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,v]of h.entries()){const y=f.get(g);if(m(y,v,g,f,h,p)===!1)return!1}return!0}function c(f,h,m,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let v=0;v<h.length;v++){const y=h[v];let w=!1;for(let b=0;b<f.length;b++){if(g.has(b))continue;const E=f[b];let k=!1;if(m(E,y,v,f,h,p)&&(k=!0),k){g.add(b),w=!0;break}}if(!w)return!1}return!0}function u(f,h,m,p){return h.size===0?!0:f instanceof Set?c([...f],[...h],m,p):!1}e.isMatchWith=i,e.isSetMatch=u}(ZT)),ZT}var l8;function hj(){return l8||(l8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SGe();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(JT)),JT}var XQ={},mj={},QQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(QQ);var pj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(pj);var gj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",w="[object Uint16Array]",b="[object Uint32Array]",E="[object BigUint64Array]",k="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",_="[object BigInt64Array]",A="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=_,e.bigUint64ArrayTag=E,e.booleanTag=a,e.dataViewTag=g,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=A,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=C,e.int32ArrayTag=S,e.int8ArrayTag=k,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=w,e.uint32ArrayTag=b,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(gj);var JQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(JQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QQ,r=pj,n=gj,a=dj,i=JQ;function s(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(u,f,h,m);if(g!==void 0)return g;if(a.isPrimitive(u))return u;if(m.has(u))return m.get(u);if(Array.isArray(u)){const v=new Array(u.length);m.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,h,m,p);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;m.set(u,v);for(const[y,w]of u)v.set(y,o(w,y,h,m,p));return v}if(u instanceof Set){const v=new Set;m.set(u,v);for(const y of u)v.add(o(y,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);m.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,h,m,p);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return m.set(u,v),l(v,u,h,m,p),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return m.set(u,v),l(v,u,h,m,p),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return m.set(u,v),l(v,u,h,m,p),v}if(u instanceof Error){const v=new u.constructor;return m.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,l(v,u,h,m,p),v}if(typeof u=="object"&&c(u)){const v=Object.create(Object.getPrototypeOf(u));return m.set(u,v),l(v,u,h,m,p),v}return u}function l(u,f,h=u,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<g.length;v++){const y=g[v],w=Object.getOwnPropertyDescriptor(u,y);(w==null||w.writable)&&(u[y]=o(f[y],y,h,m,p))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(mj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mj;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(XQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hj(),r=XQ;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(YQ);var ZQ={},eJ={},tJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mj,r=gj;function n(a,i){return t.cloneDeepWith(a,(s,o,l,c)=>{const u=i==null?void 0:i(s,o,l,c);if(u!==void 0)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(tJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tJ;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(eJ);var rJ={},vj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(vj);var nJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pj;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(nJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qD,r=vj,n=nJ,a=lS;function i(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=a.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(rJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hj(),r=YD,n=eJ,a=oS,i=rJ;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const u=a.get(c,o);return u===void 0?i.has(c,o):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=s})(ZQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cj,r=qQ,n=YQ,a=ZQ;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(KQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zQ,r=cj,n=WQ,a=KQ;function i(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(o)):[]}e.uniqBy=i})(VQ);var TGe=VQ.uniqBy;const c8=on(TGe);function aJ(e,t,r){return t===!0?c8(e,r):typeof t=="function"?c8(e,t):e}var iJ={exports:{}},sJ={},oJ={exports:{}},lJ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=T;function AGe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CGe=typeof Object.is=="function"?Object.is:AGe,kGe=tm.useState,NGe=tm.useEffect,PGe=tm.useLayoutEffect,IGe=tm.useDebugValue;function OGe(e,t){var r=t(),n=kGe({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return PGe(function(){a.value=r,a.getSnapshot=t,eA(a)&&i({inst:a})},[e,r,t]),NGe(function(){return eA(a)&&i({inst:a}),e(function(){eA(a)&&i({inst:a})})},[e]),IGe(r),r}function eA(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!CGe(e,r)}catch{return!0}}function DGe(e,t){return t()}var jGe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DGe:OGe;lJ.useSyncExternalStore=tm.useSyncExternalStore!==void 0?tm.useSyncExternalStore:jGe;oJ.exports=lJ;var RGe=oJ.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SS=T,MGe=RGe;function FGe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LGe=typeof Object.is=="function"?Object.is:FGe,$Ge=MGe.useSyncExternalStore,BGe=SS.useRef,UGe=SS.useEffect,VGe=SS.useMemo,zGe=SS.useDebugValue;sJ.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=BGe(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=VGe(function(){function l(m){if(!c){if(c=!0,u=m,m=n(m),a!==void 0&&s.hasValue){var p=s.value;if(a(p,m))return f=p}return f=m}if(p=f,LGe(u,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(u=m,p):(u=m,f=g)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=$Ge(e,i[0],i[1]);return UGe(function(){s.hasValue=!0,s.value=o},[o]),zGe(o),o};iJ.exports=sJ;var WGe=iJ.exports,yj=T.createContext(null),HGe=e=>e,Xr=()=>{var e=T.useContext(yj);return e?e.store.dispatch:HGe},dw=()=>{},GGe=()=>dw,KGe=(e,t)=>e===t;function Je(e){var t=T.useContext(yj);return WGe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:GGe,t?t.store.getState:dw,t?t.store.getState:dw,t?e:dw,KGe)}function qGe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function YGe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function XGe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var u8=e=>Array.isArray(e)?e:[e];function QGe(e){const t=Array.isArray(e[0])?e[0]:e;return XGe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function JGe(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var ZGe=class{constructor(e){this.value=e}deref(){return this.value}},eKe=typeof WeakRef<"u"?WeakRef:ZGe,tKe=0,d8=1;function x1(){return{s:tKe,v:void 0,o:null,p:null}}function cJ(e,t={}){let r=x1();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var f;let o=r;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const v=g.get(p);v===void 0?(o=x1(),g.set(p,o)):o=v}else{let g=o.p;g===null&&(o.p=g=new Map);const v=g.get(p);v===void 0?(o=x1(),g.set(p,o)):o=v}}const c=o;let u;if(o.s===d8)u=o.v;else if(u=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,u)&&(u=h,i!==0&&i--),a=typeof u=="object"&&u!==null||typeof u=="function"?new eKe(u):u}return c.s=d8,c.v=u,u}return s.clearCache=()=>{r=x1(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function rKe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,o,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),qGe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=cJ,argsMemoizeOptions:p=[]}=u,g=u8(h),v=u8(p),y=QGe(a),w=f(function(){return i++,c.apply(null,arguments)},...g),b=m(function(){s++;const k=JGe(y,arguments);return o=w.apply(null,k),o},...v);return Object.assign(b,{resultFunc:c,memoizedResultFunc:w,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var ge=rKe(cJ),nKe=Object.assign((e,t=ge)=>{YGe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>nKe}),uJ={},dJ={},fJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),o=t(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(fJ);var hJ={},xj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(xj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xj,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(hJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fJ,r=hJ,n=lS;function a(i,s,o,l){if(i==null)return[];o=l?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,p)=>{let g=m;for(let v=0;v<p.length&&g!=null;++v)g=g[p[v]];return g},u=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:c(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?c(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>u(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const v=t.compareValues(m.criteria[g],p.criteria[g],o[g]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=a})(dJ);var mJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<i?s(u,l+1):a.push(u)}};return s(r,0),a}e.flatten=t})(mJ);var wj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vj,r=ES,n=uj,a=fj;function i(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?a.eq(l[o],s):!1}e.isIterateeCall=i})(wj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dJ,r=mJ,n=wj;function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(uJ);var aKe=uJ.sortBy;const TS=on(aKe);var pJ=e=>e.legend.settings,iKe=e=>e.legend.size,sKe=e=>e.legend.payload,oKe=ge([sKe,pJ],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?TS(n,r):n});function lKe(){return Je(oKe)}var w1=1;function gJ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=T.useState({height:0,left:0,top:0,width:0}),n=T.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>w1||Math.abs(s.left-t.left)>w1||Math.abs(s.top-t.top)>w1||Math.abs(s.width-t.width)>w1)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function fa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cKe=typeof Symbol=="function"&&Symbol.observable||"@@observable",f8=cKe,tA=()=>Math.random().toString(36).substring(7).split("").join("."),uKe={INIT:`@@redux/INIT${tA()}`,REPLACE:`@@redux/REPLACE${tA()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${tA()}`},Hb=uKe;function bj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function vJ(e,t,r){if(typeof e!="function")throw new Error(fa(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(fa(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(fa(1));return r(vJ)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,l=!1;function c(){s===i&&(s=new Map,i.forEach((v,y)=>{s.set(y,v)}))}function u(){if(l)throw new Error(fa(3));return a}function f(v){if(typeof v!="function")throw new Error(fa(4));if(l)throw new Error(fa(5));let y=!0;c();const w=o++;return s.set(w,v),function(){if(y){if(l)throw new Error(fa(6));y=!1,c(),s.delete(w),i=null}}}function h(v){if(!bj(v))throw new Error(fa(7));if(typeof v.type>"u")throw new Error(fa(8));if(typeof v.type!="string")throw new Error(fa(17));if(l)throw new Error(fa(9));try{l=!0,a=n(a,v)}finally{l=!1}return(i=s).forEach(w=>{w()}),v}function m(v){if(typeof v!="function")throw new Error(fa(10));n=v,h({type:Hb.REPLACE})}function p(){const v=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(fa(11));function w(){const E=y;E.next&&E.next(u())}return w(),{unsubscribe:v(w)}},[f8](){return this}}}return h({type:Hb.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:m,[f8]:p}}function dKe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Hb.INIT})>"u")throw new Error(fa(12));if(typeof r(void 0,{type:Hb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fa(13))})}function yJ(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{dKe(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let l=!1;const c={};for(let u=0;u<n.length;u++){const f=n[u],h=r[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(fa(14));c[f]=p,l=l||p!==m}return l=l||n.length!==Object.keys(s).length,l?c:s}}function Gb(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function fKe(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(fa(15))};const s={getState:a.getState,dispatch:(l,...c)=>i(l,...c)},o=e.map(l=>l(s));return i=Gb(...o)(a.dispatch),{...a,dispatch:i}}}function xJ(e){return bj(e)&&"type"in e&&typeof e.type=="string"}var wJ=Symbol.for("immer-nothing"),h8=Symbol.for("immer-draftable"),ss=Symbol.for("immer-state");function mo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var rm=Object.getPrototypeOf;function Hf(e){return!!e&&!!e[ss]}function wc(e){var t;return e?bJ(e)||Array.isArray(e)||!!e[h8]||!!((t=e.constructor)!=null&&t[h8])||Yy(e)||CS(e):!1}var hKe=Object.prototype.constructor.toString();function bJ(e){if(!e||typeof e!="object")return!1;const t=rm(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===hKe}function Kb(e,t){AS(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function AS(e){const t=e[ss];return t?t.type_:Array.isArray(e)?1:Yy(e)?2:CS(e)?3:0}function eN(e,t){return AS(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function _J(e,t,r){const n=AS(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function mKe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Yy(e){return e instanceof Map}function CS(e){return e instanceof Set}function Dd(e){return e.copy_||e.base_}function tN(e,t){if(Yy(e))return new Map(e);if(CS(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=bJ(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ss];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(rm(e),n)}else{const n=rm(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function _j(e,t=!1){return kS(e)||Hf(e)||!wc(e)||(AS(e)>1&&Object.defineProperties(e,{set:{value:b1},add:{value:b1},clear:{value:b1},delete:{value:b1}}),Object.freeze(e),t&&Object.values(e).forEach(r=>_j(r,!0))),e}function b1(){mo(2)}function kS(e){return Object.isFrozen(e)}var pKe={};function Gf(e){const t=pKe[e];return t||mo(0,e),t}var Wv;function EJ(){return Wv}function gKe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function m8(e,t){t&&(Gf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rN(e){nN(e),e.drafts_.forEach(vKe),e.drafts_=null}function nN(e){e===Wv&&(Wv=e.parent_)}function p8(e){return Wv=gKe(Wv,e)}function vKe(e){const t=e[ss];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function g8(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ss].modified_&&(rN(t),mo(4)),wc(e)&&(e=qb(t,e),t.parent_||Yb(t,e)),t.patches_&&Gf("Patches").generateReplacementPatches_(r[ss].base_,e,t.patches_,t.inversePatches_)):e=qb(t,r,[]),rN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wJ?e:void 0}function qb(e,t,r){if(kS(t))return t;const n=t[ss];if(!n)return Kb(t,(a,i)=>v8(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Yb(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,s=!1;n.type_===3&&(i=new Set(a),a.clear(),s=!0),Kb(i,(o,l)=>v8(e,n,a,o,l,r,s)),Yb(e,a,!1),r&&e.patches_&&Gf("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function v8(e,t,r,n,a,i,s){if(Hf(a)){const o=i&&t&&t.type_!==3&&!eN(t.assigned_,n)?i.concat(n):void 0,l=qb(e,a,o);if(_J(r,n,l),Hf(l))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(wc(a)&&!kS(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;qb(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Yy(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Yb(e,a)}}function Yb(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_j(t,r)}function yKe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:EJ(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Ej;r&&(a=[n],i=Hv);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var Ej={get(e,t){if(t===ss)return e;const r=Dd(e);if(!eN(r,t))return xKe(e,r,t);const n=r[t];return e.finalized_||!wc(n)?n:n===rA(e.base_,t)?(nA(e),e.copy_[t]=iN(n,e)):n},has(e,t){return t in Dd(e)},ownKeys(e){return Reflect.ownKeys(Dd(e))},set(e,t,r){const n=SJ(Dd(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=rA(Dd(e),t),i=a==null?void 0:a[ss];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(mKe(r,a)&&(r!==void 0||eN(e.base_,t)))return!0;nA(e),aN(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return rA(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,nA(e),aN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Dd(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){mo(11)},getPrototypeOf(e){return rm(e.base_)},setPrototypeOf(){mo(12)}},Hv={};Kb(Ej,(e,t)=>{Hv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Hv.deleteProperty=function(e,t){return Hv.set.call(this,e,t,void 0)};Hv.set=function(e,t,r){return Ej.set.call(this,e[0],t,r,e[0])};function rA(e,t){const r=e[ss];return(r?Dd(r):e)[t]}function xKe(e,t,r){var a;const n=SJ(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function SJ(e,t){if(!(t in e))return;let r=rm(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=rm(r)}}function aN(e){e.modified_||(e.modified_=!0,e.parent_&&aN(e.parent_))}function nA(e){e.copy_||(e.copy_=tN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var wKe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(l=i,...c){return s.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&mo(6),n!==void 0&&typeof n!="function"&&mo(7);let a;if(wc(t)){const i=p8(this),s=iN(t,void 0);let o=!0;try{a=r(s),o=!1}finally{o?rN(i):nN(i)}return m8(i,n),g8(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===wJ&&(a=void 0),this.autoFreeze_&&_j(a,!0),n){const i=[],s=[];Gf("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else mo(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,a;return[this.produce(t,r,(s,o)=>{n=s,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){wc(e)||mo(8),Hf(e)&&(e=rc(e));const t=p8(this),r=iN(e,void 0);return r[ss].isManual_=!0,nN(t),r}finishDraft(e,t){const r=e&&e[ss];(!r||!r.isManual_)&&mo(9);const{scope_:n}=r;return m8(n,t),g8(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Gf("Patches").applyPatches_;return Hf(e)?n(e,t):this.produce(e,a=>n(a,t))}};function iN(e,t){const r=Yy(e)?Gf("MapSet").proxyMap_(e,t):CS(e)?Gf("MapSet").proxySet_(e,t):yKe(e,t);return(t?t.scope_:EJ()).drafts_.push(r),r}function rc(e){return Hf(e)||mo(10,e),TJ(e)}function TJ(e){if(!wc(e)||kS(e))return e;const t=e[ss];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=tN(e,t.scope_.immer_.useStrictShallowCopy_)}else r=tN(e,!0);return Kb(r,(n,a)=>{_J(r,n,TJ(a))}),t&&(t.finalized_=!1),r}var bKe=new wKe,AJ=bKe.produce;function CJ(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var _Ke=CJ(),EKe=CJ,SKe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gb:Gb.apply(null,arguments)};function Gs(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(ts(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>xJ(n)&&n.type===e,r}var kJ=class qp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,qp.prototype)}static get[Symbol.species](){return qp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new qp(...t[0].concat(this)):new qp(...t.concat(this))}};function y8(e){return wc(e)?AJ(e,()=>{}):e}function _1(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function TKe(e){return typeof e=="boolean"}var AKe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new kJ;return r&&(TKe(r)?s.push(_Ke):s.push(EKe(r.extraArgument))),s},CKe="RTK_autoBatch",x8=e=>t=>{setTimeout(t,e)},kKe=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:x8(10):e.type==="callback"?e.queueNotification:x8(e.timeout),c=()=>{s=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>a&&u(),h=n.subscribe(f);return o.add(u),()=>{h(),o.delete(u)}},dispatch(u){var f;try{return a=!((f=u==null?void 0:u.meta)!=null&&f[CKe]),i=!a,i&&(s||(s=!0,l(c))),n.dispatch(u)}finally{a=!0}}})},NKe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new kJ(e);return n&&a.push(kKe(typeof n=="object"?n:void 0)),a};function PKe(e){const t=AKe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(bj(r))o=yJ(r);else throw new Error(ts(1));let l;typeof n=="function"?l=n(t):l=t();let c=Gb;a&&(c=SKe({trace:!1,...typeof a=="object"&&a}));const u=fKe(...l),f=NKe(u);let h=typeof s=="function"?s(f):f();const m=c(...h);return vJ(o,i,m)}function NJ(e){const t={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(ts(28));if(o in t)throw new Error(ts(29));return t[o]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function IKe(e){return typeof e=="function"}function OKe(e,t){let[r,n,a]=NJ(t),i;if(IKe(e))i=()=>y8(e());else{const o=y8(e);i=()=>o}function s(o=i(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[a]),c.reduce((u,f)=>{if(f)if(Hf(u)){const m=f(u,l);return m===void 0?u:m}else{if(wc(u))return AJ(u,h=>f(h,l));{const h=f(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},o)}return s.getInitialState=i,s}var DKe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jKe=(e=21)=>{let t="",r=e;for(;r--;)t+=DKe[Math.random()*64|0];return t},RKe=Symbol.for("rtk-slice-createasyncthunk");function MKe(e,t){return`${e}/${t}`}function FKe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[RKe];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(ts(11));const o=(typeof a.reducers=="function"?a.reducers($Ke()):a.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(E,k){const C=typeof E=="string"?E:E.type;if(!C)throw new Error(ts(12));if(C in c.sliceCaseReducersByType)throw new Error(ts(13));return c.sliceCaseReducersByType[C]=k,u},addMatcher(E,k){return c.sliceMatchers.push({matcher:E,reducer:k}),u},exposeAction(E,k){return c.actionCreators[E]=k,u},exposeCaseReducer(E,k){return c.sliceCaseReducersByName[E]=k,u}};l.forEach(E=>{const k=o[E],C={reducerName:E,type:MKe(i,E),createNotation:typeof a.reducers=="function"};UKe(k)?zKe(C,k,u,t):BKe(C,k,u)});function f(){const[E={},k=[],C=void 0]=typeof a.extraReducers=="function"?NJ(a.extraReducers):[a.extraReducers],S={...E,...c.sliceCaseReducersByType};return OKe(a.initialState,_=>{for(let A in S)_.addCase(A,S[A]);for(let A of c.sliceMatchers)_.addMatcher(A.matcher,A.reducer);for(let A of k)_.addMatcher(A.matcher,A.reducer);C&&_.addDefaultCase(C)})}const h=E=>E,m=new Map,p=new WeakMap;let g;function v(E,k){return g||(g=f()),g(E,k)}function y(){return g||(g=f()),g.getInitialState()}function w(E,k=!1){function C(_){let A=_[E];return typeof A>"u"&&k&&(A=_1(p,C,y)),A}function S(_=h){const A=_1(m,k,()=>new WeakMap);return _1(A,_,()=>{const P={};for(const[N,I]of Object.entries(a.selectors??{}))P[N]=LKe(I,_,()=>_1(p,_,y),k);return P})}return{reducerPath:E,getSelectors:S,get selectors(){return S(C)},selectSlice:C}}const b={name:i,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:y,...w(s),injectInto(E,{reducerPath:k,...C}={}){const S=k??s;return E.inject({reducerPath:S,reducer:v},C),{...b,...w(S,!0)}}};return b}}function LKe(e,t,r,n){function a(i,...s){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return a.unwrapped=e,a}var ds=FKe();function $Ke(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function BKe({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!VKe(n))throw new Error(ts(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Gs(e,s):Gs(e))}function UKe(e){return e._reducerDefinitionType==="asyncThunk"}function VKe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zKe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(ts(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=r,f=a(e,i,u);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:s||E1,pending:o||E1,rejected:l||E1,settled:c||E1})}function E1(){}var WKe="task",PJ="listener",IJ="completed",Sj="cancelled",HKe=`task-${Sj}`,GKe=`task-${IJ}`,sN=`${PJ}-${Sj}`,KKe=`${PJ}-${IJ}`,NS=class{constructor(e){u2(this,"name","TaskAbortError");u2(this,"message");this.code=e,this.message=`${WKe} ${Sj} (reason: ${e})`}},Tj=(e,t)=>{if(typeof e!="function")throw new TypeError(ts(32))},Xb=()=>{},OJ=(e,t=Xb)=>(e.catch(t),e),DJ=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),of=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},lf=e=>{if(e.aborted){const{reason:t}=e;throw new NS(t)}};function jJ(e,t){let r=Xb;return new Promise((n,a)=>{const i=()=>a(new NS(e.reason));if(e.aborted){i();return}r=DJ(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Xb})}var qKe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof NS?"cancelled":"rejected",error:r}}finally{t==null||t()}},Qb=e=>t=>OJ(jJ(e,t).then(r=>(lf(e),r))),RJ=e=>{const t=Qb(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:S0}=Object,w8={},PS="listenerMiddleware",YKe=(e,t)=>{const r=n=>DJ(e,()=>of(n,e.reason));return(n,a)=>{Tj(n);const i=new AbortController;r(i);const s=qKe(async()=>{lf(e),lf(i.signal);const o=await n({pause:Qb(i.signal),delay:RJ(i.signal),signal:i.signal});return lf(i.signal),o},()=>of(i,GKe));return a!=null&&a.autoJoin&&t.push(s.catch(Xb)),{result:Qb(e)(s),cancel(){of(i,HKe)}}}},XKe=(e,t)=>{const r=async(n,a)=>{lf(t);let i=()=>{};const o=[new Promise((l,c)=>{let u=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});i=()=>{u(),c()}})];a!=null&&o.push(new Promise(l=>setTimeout(l,a,null)));try{const l=await jJ(t,Promise.race(o));return lf(t),l}finally{i()}};return(n,a)=>OJ(r(n,a))},MJ=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Gs(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(ts(21));return Tj(i),{predicate:a,type:t,effect:i}},FJ=S0(e=>{const{type:t,predicate:r,effect:n}=MJ(e);return{id:jKe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ts(22))}}},{withTypes:()=>FJ}),b8=(e,t)=>{const{type:r,effect:n,predicate:a}=MJ(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},oN=e=>{e.pending.forEach(t=>{of(t,sN)})},QKe=e=>()=>{e.forEach(oN),e.clear()},_8=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},LJ=S0(Gs(`${PS}/add`),{withTypes:()=>LJ}),JKe=Gs(`${PS}/removeAll`),$J=S0(Gs(`${PS}/remove`),{withTypes:()=>$J}),ZKe=(...e)=>{console.error(`${PS}/error`,...e)},Xy=(e={})=>{const t=new Map,{extra:r,onError:n=ZKe}=e;Tj(n);const a=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&oN(u)}),i=u=>{const f=b8(t,u)??FJ(u);return a(f)};S0(i,{withTypes:()=>i});const s=u=>{const f=b8(t,u);return f&&(f.unsubscribe(),u.cancelActive&&oN(f)),!!f};S0(s,{withTypes:()=>s});const o=async(u,f,h,m)=>{const p=new AbortController,g=XKe(i,p.signal),v=[];try{u.pending.add(p),await Promise.resolve(u.effect(f,S0({},h,{getOriginalState:m,condition:(y,w)=>g(y,w).then(Boolean),take:g,delay:RJ(p.signal),pause:Qb(p.signal),extra:r,signal:p.signal,fork:YKe(p.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,w,b)=>{y!==p&&(of(y,sN),b.delete(y))})},cancel:()=>{of(p,sN),u.pending.delete(p)},throwIfCancelled:()=>{lf(p.signal)}})))}catch(y){y instanceof NS||_8(n,y,{raisedBy:"effect"})}finally{await Promise.all(v),of(p,KKe),u.pending.delete(p)}},l=QKe(t);return{middleware:u=>f=>h=>{if(!xJ(h))return f(h);if(LJ.match(h))return i(h.payload);if(JKe.match(h)){l();return}if($J.match(h))return s(h.payload);let m=u.getState();const p=()=>{if(m===w8)throw new Error(ts(23));return m};let g;try{if(g=f(h),t.size>0){const v=u.getState(),y=Array.from(t.values());for(const w of y){let b=!1;try{b=w.predicate(h,v,m)}catch(E){b=!1,_8(n,E,{raisedBy:"predicate"})}b&&o(w,h,u,p)}}}finally{m=w8}return g},startListening:i,stopListening:s,clearListeners:l}};function ts(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eqe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},BJ=ds({name:"chartLayout",initialState:eqe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:tqe,setLayout:rqe,setChartSize:nqe,setScale:aqe}=BJ.actions,iqe=BJ.reducer;function E8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(r),!0).forEach(function(n){sqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sqe(e,t,r){return(t=oqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oqe(e){var t=lqe(e,"string");return typeof t=="symbol"?t:t+""}function lqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jb=Math.PI/180,cqe=e=>e*180/Math.PI,Pn=(e,t,r,n)=>({x:e+Math.cos(-Jb*n)*r,y:t+Math.sin(-Jb*n)*r}),UJ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},uqe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},dqe=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=uqe({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,l=Math.acos(o);return n>i&&(l=2*Math.PI-l),{radius:s,angle:cqe(l),angleInRadian:l}},fqe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},hqe=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},mqe=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=dqe({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o||a===0)return null;var{startAngle:l,endAngle:c}=fqe(t),u=i,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?S8(S8({},t),{},{radius:a,angle:hqe(u,t)}):null};function VJ(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function T8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ns(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T8(Object(r),!0).forEach(function(n){pqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pqe(e,t,r){return(t=gqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gqe(e){var t=vqe(e,"string");return typeof t=="symbol"?t:t+""}function vqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function or(e,t,r){return Dr(e)||Dr(t)?r:gl(t)?Wf(e,t,r):typeof t=="function"?t(e):r}var yqe=(e,t,r,n,a)=>{var i,s=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(ra(u-c)!==ra(f-u)){var m=[];if(ra(f-u)===ra(a[1]-a[0])){h=f;var p=u+a[1]-a[0];m[0]=Math.min(p,(p+c)/2),m[1]=Math.max(p,(p+c)/2)}else{h=c;var g=f+a[1]-a[0];m[0]=Math.min(u,(g+u)/2),m[1]=Math.max(u,(g+u)/2)}var v=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){({index:s}=r[l]);break}}else{var y=Math.min(c,f),w=Math.max(c,f);if(e>(y+u)/2&&e<=(w+u)/2){({index:s}=r[l]);break}}}else if(t){for(var b=0;b<o;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:s}=t[b]);break}}return s},xqe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&et(e[i]))return Ns(Ns({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&et(e[s]))return Ns(Ns({},e),{},{[s]:e[s]+(a||0)})}return e},Tl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",zJ=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,s=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||s.push(t),i||s.push(r),s},WJ=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=a==="category"&&s.bandwidth?s.bandwidth()/p:0;if(g=m==="angleAxis"&&i&&i.length>=2?ra(i[0]-i[1])*2*g:g,f||h){var v=(f||h||[]).map((y,w)=>{var b=n?n.indexOf(y):y;return{coordinate:s(b)+g,value:y,offset:g,index:w}});return v.filter(y=>!Fi(y.coordinate))}return l&&c?c.map((y,w)=>({coordinate:s(y)+g,value:y,index:w,offset:g})):s.ticks&&u!=null?s.ticks(u).map((y,w)=>({coordinate:s(y)+g,value:y,offset:g,index:w})):s.domain().map((y,w)=>({coordinate:s(y)+g,value:n?n[y]:y,index:w,offset:g}))},A8=1e-4,wqe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-A8,i=Math.max(n[0],n[1])+A8,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},bqe=(e,t)=>{if(!t||t.length!==2||!et(t[0])||!et(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!et(e[0])||e[0]<r)&&(a[0]=r),(!et(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},_qe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=Fi(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},Eqe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=Fi(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Sqe={sign:_qe,expand:lGe,none:em,silhouette:cGe,wiggle:uGe,positive:Eqe},Tqe=(e,t,r)=>{var n=Sqe[r],a=oGe().keys(t).value((i,s)=>+or(i,s,0)).order(Qk).offset(n);return a(e)};function HJ(e){return e==null?void 0:String(e)}function Zb(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Dr(a[t.dataKey])){var o=bQ(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=or(a,Dr(s)?t.dataKey:s);return Dr(l)?null:t.scale(l)}var C8=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=or(i,t.dataKey,t.scale.domain()[s]);return Dr(o)?null:t.scale(o)-a/2+n},Aqe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Cqe=e=>{var t=e.flat(2).filter(et);return[Math.min(...t),Math.max(...t)]},kqe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Nqe=(e,t,r)=>{if(e!=null)return kqe(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((l,c)=>{var u=VJ(c,t,r),f=Cqe(u);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},k8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,N8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=TS(t,u=>u.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],c=a[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function P8(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Ns(Ns({},t),{},{dataKey:r,payload:n,value:a,name:i})}function hd(e,t){if(e)return String(e);if(typeof t=="string")return t}function Pqe(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?mqe({x:e,y:t},n):null}var Iqe=(e,t,r,n)=>{var a=t.find(c=>c&&c.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:s}=n;return Ns(Ns(Ns({},n),Pn(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:l}=n;return Ns(Ns(Ns({},n),Pn(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},Oqe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Pc=e=>e.layout.width,Ic=e=>e.layout.height,Dqe=e=>e.layout.scale,GJ=e=>e.layout.margin,IS=ge(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),OS=ge(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),KJ="data-recharts-item-index",qJ="data-recharts-item-data-key",Qy=60;function I8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(r),!0).forEach(function(n){jqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jqe(e,t,r){return(t=Rqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rqe(e){var t=Mqe(e,"string");return typeof t=="symbol"?t:t+""}function Mqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fqe=e=>e.brush.height;function Lqe(e){var t=OS(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Qy;return r+a}return r},0)}function $qe(e){var t=OS(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Qy;return r+a}return r},0)}function Bqe(e){var t=IS(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Uqe(e){var t=IS(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Wn=ge([Pc,Ic,GJ,Fqe,Lqe,$qe,Bqe,Uqe,pJ,iKe],(e,t,r,n,a,i,s,o,l,c)=>{var u={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=S1(S1({},f),u),m=h.bottom;h.bottom+=n,h=xqe(h,l,c);var p=e-h.left-h.right,g=t-h.top-h.bottom;return S1(S1({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),Vqe=ge(Wn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Aj=ge(Pc,Ic,(e,t)=>({x:0,y:0,width:e,height:t})),zqe=T.createContext(null),Ja=()=>T.useContext(zqe)!=null,DS=e=>e.brush,jS=ge([DS,Wn,GJ],(e,t,r)=>({height:e.height,x:et(e.x)?e.x:t.left,y:et(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:et(e.width)?e.width:t.width})),Cj=()=>{var e,t=Ja(),r=Je(Vqe),n=Je(jS),a=(e=Je(DS))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Wqe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},YJ=()=>{var e;return(e=Je(Wn))!==null&&e!==void 0?e:Wqe},kj=()=>Je(Pc),Nj=()=>Je(Ic),Hqe=()=>Je(e=>e.layout.margin),Nt=e=>e.layout.layoutType,Jy=()=>Je(Nt),Gqe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},XJ=ds({name:"legend",initialState:Gqe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=rc(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:O8,setLegendSettings:Kqe,addLegendPayload:QJ,removeLegendPayload:JJ}=XJ.actions,qqe=XJ.reducer,Yqe=["contextPayload"];function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lN.apply(null,arguments)}function D8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D8(Object(r),!0).forEach(function(n){Pj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pj(e,t,r){return(t=Xqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xqe(e){var t=Qqe(e,"string");return typeof t=="symbol"?t:t+""}function Qqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jqe(e,t){if(e==null)return{};var r,n,a=Zqe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zqe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eYe(e){return e.value}function tYe(e){var{contextPayload:t}=e,r=Jqe(e,Yqe),n=aJ(t,e.payloadUniqBy,eYe),a=nm(nm({},r),{},{payload:n});return T.isValidElement(e.content)?T.cloneElement(e.content,a):typeof e.content=="function"?T.createElement(e.content,a):T.createElement(lj,a)}function rYe(e,t,r,n,a,i){var{layout:s,align:o,verticalAlign:l}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((n||0)-i.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((a||0)-i.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),nm(nm({},c),u)}function nYe(e){var t=Xr();return T.useEffect(()=>{t(Kqe(e))},[t,e]),null}function aYe(e){var t=Xr();return T.useEffect(()=>(t(O8(e)),()=>{t(O8({width:0,height:0}))}),[t,e]),null}function iYe(e){var t=lKe(),r=IHe(),n=Hqe(),{width:a,height:i,wrapperStyle:s,portal:o}=e,[l,c]=gJ([t]),u=kj(),f=Nj();if(u==null||f==null)return null;var h=u-(n.left||0)-(n.right||0),m=RS.getWidthOrHeight(e.layout,i,a,h),p=o?s:nm(nm({position:"absolute",width:(m==null?void 0:m.width)||a||"auto",height:(m==null?void 0:m.height)||i||"auto"},rYe(s,e,n,u,f,l)),s),g=o??r;if(g==null)return null;var v=T.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:c},T.createElement(nYe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),T.createElement(aYe,{width:l.width,height:l.height}),T.createElement(tYe,lN({},e,m,{margin:n,chartWidth:u,chartHeight:f,contextPayload:t})));return z_.createPortal(v,g)}class RS extends T.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&et(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return T.createElement(iYe,this.props)}}Pj(RS,"displayName","Legend");Pj(RS,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function cN(){return cN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cN.apply(null,arguments)}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){sYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sYe(e,t,r){return(t=oYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oYe(e){var t=lYe(e,"string");return typeof t=="symbol"?t:t+""}function lYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cYe(e){return Array.isArray(e)&&gl(e[0])&&gl(e[1])?e.join(" ~ "):e}var uYe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var k={padding:0,margin:0},C=(o?TS(i,o):i).map((S,_)=>{if(S.type==="none")return null;var A=S.formatter||s||cYe,{value:P,name:N}=S,I=P,D=N;if(A){var M=A(P,N,S,_,i);if(Array.isArray(M))[I,D]=M;else if(M!=null)I=M;else return null}var ee=aA({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:ee},gl(D)?T.createElement("span",{className:"recharts-tooltip-item-name"},D):null,gl(D)?T.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,T.createElement("span",{className:"recharts-tooltip-item-value"},I),T.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:k},C)}return null},p=aA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=aA({margin:0},a),v=!Dr(u),y=v?u:"",w=Dt("recharts-default-tooltip",l),b=Dt("recharts-tooltip-label",c);v&&f&&i!==void 0&&i!==null&&(y=f(u,i));var E=h?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",cN({className:w,style:p},E),T.createElement("p",{className:b,style:g},T.isValidElement(y)?y:"".concat(y)),m())},Tp="recharts-tooltip-wrapper",dYe={visibility:"hidden"};function fYe(e){var{coordinate:t,translateX:r,translateY:n}=e;return Dt(Tp,{["".concat(Tp,"-right")]:et(r)&&t&&et(t.x)&&r>=t.x,["".concat(Tp,"-left")]:et(r)&&t&&et(t.x)&&r<t.x,["".concat(Tp,"-bottom")]:et(n)&&t&&et(t.y)&&n>=t.y,["".concat(Tp,"-top")]:et(n)&&t&&et(t.y)&&n<t.y})}function R8(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(i&&et(i[n]))return i[n];var u=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return s[n]?u:f;var h=l[n];if(h==null)return 0;if(s[n]){var m=u,p=h;return m<p?Math.max(f,h):Math.max(u,h)}if(c==null)return 0;var g=f+o,v=h+c;return g>v?Math.max(u,h):Math.max(f,h)}function hYe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function mYe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,u,f;return s.height>0&&s.width>0&&r?(u=R8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=R8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=hYe({translateX:u,translateY:f,useTranslate3d:o})):c=dYe,{cssProperties:c,cssClasses:fYe({translateX:u,translateY:f,coordinate:r})}}function M8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M8(Object(r),!0).forEach(function(n){uN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uN(e,t,r){return(t=pYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pYe(e){var t=gYe(e,"string");return typeof t=="symbol"?t:t+""}function gYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vYe extends T.PureComponent{constructor(){super(...arguments),uN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),uN(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:w,cssProperties:b}=mYe({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),E=y?{}:T1(T1({transition:l&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=T1(T1({},E),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:k,ref:v},i)}}var yYe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Oc={devToolsEnabled:!1,isSsr:yYe()},ZJ=()=>Je(e=>e.rootProps.accessibilityLayer);function Ea(e){return Number.isFinite(e)}function am(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dN.apply(null,arguments)}function F8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F8(Object(r),!0).forEach(function(n){xYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xYe(e,t,r){return(t=wYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wYe(e){var t=bYe(e,"string");return typeof t=="symbol"?t:t+""}function bYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $8={curveBasisClosed:XHe,curveBasisOpen:QHe,curveBasis:YHe,curveBumpX:RHe,curveBumpY:MHe,curveLinearClosed:JHe,curveLinear:bS,curveMonotoneX:ZHe,curveMonotoneY:eGe,curveNatural:tGe,curveStep:rGe,curveStepAfter:aGe,curveStepBefore:nGe},A1=e=>Ea(e.x)&&Ea(e.y),Ap=e=>e.x,Cp=e=>e.y,_Ye=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Ky(e));return(r==="curveMonotone"||r==="curveBump")&&t?$8["".concat(r).concat(t==="vertical"?"Y":"X")]:$8[r]||bS},EYe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=_Ye(t,a),o=i?r.filter(A1):r,l;if(Array.isArray(n)){var c=i?n.filter(f=>A1(f)):n,u=o.map((f,h)=>L8(L8({},f),{},{base:c[h]}));return a==="vertical"?l=y1().y(Cp).x1(Ap).x0(f=>f.base.x):l=y1().x(Ap).y1(Cp).y0(f=>f.base.y),l.defined(A1).curve(s),l(u)}return a==="vertical"&&et(n)?l=y1().y(Cp).x1(Ap).x0(n):et(n)?l=y1().x(Ap).y1(Cp).y0(n):l=PQ().x(Ap).y(Cp),l.defined(A1).curve(s),l(o)},T0=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?EYe(e):n;return T.createElement("path",dN({},Js(e),ej(e),{className:Dt("recharts-curve",t),d:i===null?void 0:i,ref:a}))},SYe=["x","y","top","left","width","height","className"];function fN(){return fN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fN.apply(null,arguments)}function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TYe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(n){AYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AYe(e,t,r){return(t=CYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CYe(e){var t=kYe(e,"string");return typeof t=="symbol"?t:t+""}function kYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NYe(e,t){if(e==null)return{};var r,n,a=PYe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PYe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IYe=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),OYe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=e,l=NYe(e,SYe),c=TYe({x:t,y:r,top:n,left:a,width:i,height:s},l);return!et(t)||!et(r)||!et(i)||!et(s)||!et(n)||!et(a)?null:T.createElement("path",fN({},jr(c,!0),{className:Dt("recharts-cross",o),d:IYe(t,r,i,s,n,a)}))};function DYe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function U8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jYe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U8(Object(r),!0).forEach(function(n){RYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RYe(e,t,r){return(t=MYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MYe(e){var t=FYe(e,"string");return typeof t=="symbol"?t:t+""}function FYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hn(e,t){var r=jYe({},e),n=t,a=Object.keys(t),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}function LYe(){}function V8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function z8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V8(Object(r),!0).forEach(function(n){$Ye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ye(e,t,r){return(t=BYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BYe(e){var t=UYe(e,"string");return typeof t=="symbol"?t:t+""}function UYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VYe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),eZ=(e,t,r)=>e.map(n=>"".concat(VYe(n)," ").concat(t,"ms ").concat(r)).join(","),zYe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Gv=(e,t)=>Object.keys(t).reduce((r,n)=>z8(z8({},r),{},{[n]:e(n,t[n])}),{});function W8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W8(Object(r),!0).forEach(function(n){WYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WYe(e,t,r){return(t=HYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HYe(e){var t=GYe(e,"string");return typeof t=="symbol"?t:t+""}function GYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e_=(e,t,r)=>e+(t-e)*r,hN=e=>{var{from:t,to:r}=e;return t!==r},tZ=(e,t,r)=>{var n=Gv((a,i)=>{if(hN(i)){var[s,o]=e(i.from,i.to,i.velocity);return ga(ga({},i),{},{from:s,velocity:o})}return i},t);return r<1?Gv((a,i)=>hN(i)?ga(ga({},i),{},{velocity:e_(i.velocity,n[a].velocity,r),from:e_(i.from,n[a].from,r)}):i,t):tZ(e,n,r-1)};function KYe(e,t,r,n,a,i){var s,o=n.reduce((h,m)=>ga(ga({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Gv((h,m)=>m.from,o),c=()=>!Object.values(o).filter(hN).length,u=null,f=h=>{s||(s=h);var m=h-s,p=m/r.dt;o=tZ(r,o,p),a(ga(ga(ga({},e),t),l())),s=h,c()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function qYe(e,t,r,n,a,i,s){var o=null,l=a.reduce((f,h)=>ga(ga({},f),{},{[h]:[e[h],t[h]]}),{}),c,u=f=>{c||(c=f);var h=(f-c)/n,m=Gv((g,v)=>e_(...v,r(h)),l);if(i(ga(ga(ga({},e),t),m)),h<1)o=s.setTimeout(u);else{var p=Gv((g,v)=>e_(...v,r(1)),l);i(ga(ga(ga({},e),t),p))}};return()=>(o=s.setTimeout(u),()=>{o()})}const YYe=(e,t,r,n,a,i)=>{var s=zYe(e,t);return r.isStepper===!0?KYe(e,t,r,s,a,i):qYe(e,t,r,n,s,a,i)};var t_=1e-4,rZ=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],nZ=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),H8=(e,t)=>r=>{var n=rZ(e,t);return nZ(n,r)},XYe=(e,t)=>r=>{var n=rZ(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return nZ(a,r)},G8=function(){for(var t,r,n,a,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,a]=l[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else s.length===4&&([t,n,r,a]=s);var c=H8(t,r),u=H8(n,a),f=XYe(t,r),h=p=>p>1?1:p<0?0:p,m=p=>{for(var g=p>1?1:p,v=g,y=0;y<8;++y){var w=c(v)-g,b=f(v);if(Math.abs(w-g)<t_||b<t_)return u(v);v=h(v-w/b)}return u(v)};return m.isStepper=!1,m},QYe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,o,l)=>{var c=-(s-o)*r,u=l*n,f=l+(c-u)*a/1e3,h=l*a/1e3+s;return Math.abs(h-o)<t_&&Math.abs(f)<t_?[o,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},JYe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return G8(e);case"spring":return QYe();default:if(e.split("(")[0]==="cubic-bezier")return G8(e)}return typeof e=="function"?e:null};function ZYe(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){a=e.setTimeout(i.bind(null,c),l);return}i(l),a=e.setTimeout(i.bind(null,c));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class eXe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function tXe(){return ZYe(new eXe)}var rXe=T.createContext(tXe);function nXe(e,t){var r=T.useContext(rXe);return T.useMemo(()=>t??r(e),[e,t,r])}var aXe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},K8={t:0},iA={t:1};function zm(e){var t=Hn(e,aXe),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,u=nXe(t.animationId,t.animationManager),[f,h]=T.useState(r?K8:iA),m=T.useRef(null);return T.useEffect(()=>{r||h(iA)},[r]),T.useEffect(()=>{if(!r||!n)return LYe;var p=YYe(K8,iA,JYe(i),a,h,u.getTimeoutController()),g=()=>{m.current=p()};return u.start([l,s,g,a,o]),()=>{u.stop(),m.current&&m.current(),o()}},[r,n,a,i,s,l,o,u]),c(f.t)}function Wm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=T.useRef(zv(t)),n=T.useRef(e);return n.current!==e&&(r.current=zv(t),n.current=e),r.current}function q8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q8(Object(r),!0).forEach(function(n){iXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iXe(e,t,r){return(t=sXe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sXe(e){var t=oXe(e,"string");return typeof t=="symbol"?t:t+""}function oXe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(null,arguments)}var X8=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],f=0,h=4;f<h;f++)u[f]=a[f]>i?i:a[f];c="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+o*u[0],",").concat(t)),c+="L ".concat(e+r-o*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*u[1])),c+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+r-o*u[2],",").concat(t+n)),c+="L ".concat(e+o*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*u[3])),c+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);c="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*m," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},lXe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aZ=e=>{var t=Hn(e,lXe),r=T.useRef(null),[n,a]=T.useState(-1);T.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var M=r.current.getTotalLength();M&&a(M)}catch{}},[]);var{x:i,y:s,width:o,height:l,radius:c,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,v=T.useRef(o),y=T.useRef(l),w=T.useRef(i),b=T.useRef(s),E=T.useMemo(()=>({x:i,y:s,width:o,height:l,radius:c}),[i,s,o,l,c]),k=Wm(E,"rectangle-");if(i!==+i||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var C=Dt("recharts-rectangle",u);if(!g)return T.createElement("path",r_({},jr(t,!0),{className:C,d:X8(i,s,o,l,c)}));var S=v.current,_=y.current,A=w.current,P=b.current,N="0px ".concat(n===-1?1:n,"px"),I="".concat(n,"px 0px"),D=eZ(["strokeDasharray"],h,typeof f=="string"?f:void 0);return T.createElement(zm,{animationId:k,key:k,canBegin:n>0,duration:h,easing:f,isActive:g,begin:m},M=>{var ee=ir(S,o,M),Q=ir(_,l,M),W=ir(A,i,M),z=ir(P,s,M);r.current&&(v.current=ee,y.current=Q,w.current=W,b.current=z);var L;return p?M>0?L={transition:D,strokeDasharray:I}:L={strokeDasharray:N}:L={strokeDasharray:I},T.createElement("path",r_({},jr(t,!0),{className:C,d:X8(W,z,ee,Q,c),ref:r,style:Y8(Y8({},L),t.style)}))})};function iZ(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=Pn(t,r,n,a),o=Pn(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function mN(){return mN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mN.apply(null,arguments)}var cXe=(e,t)=>{var r=ra(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},C1=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+n,u=Math.asin(o/c)/Jb,f=l?a:a+i*u,h=Pn(t,r,c,f),m=Pn(t,r,n,f),p=l?a-i*u:a,g=Pn(t,r,c*Math.cos(u*Jb),p);return{center:h,circleTangency:m,lineTangency:g,theta:u}},sZ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=cXe(i,s),l=i+o,c=Pn(t,r,a,i),u=Pn(t,r,a,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=Pn(t,r,n,i),m=Pn(t,r,n,l);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},uXe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=ra(c-l),{circleTangency:f,lineTangency:h,theta:m}=C1({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:v}=C1({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:o}),y=o?Math.abs(l-c):Math.abs(l-c)-m-v;if(y<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):sZ({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var w="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:E,theta:k}=C1({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:C,lineTangency:S,theta:_}=C1({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),A=o?Math.abs(l-c):Math.abs(l-c)-k-_;if(A<0&&i===0)return"".concat(w,"L").concat(t,",").concat(r,"Z");w+="L".concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"Z")}else w+="L".concat(t,",").concat(r,"Z");return w},dXe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},oZ=e=>{var t=Hn(e,dXe),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=t;if(i<a||c===u)return null;var h=Dt("recharts-sector",f),m=i-a,p=Wa(s,m,0,!0),g;return p>0&&Math.abs(c-u)<360?g=uXe({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):g=sZ({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u}),T.createElement("path",mN({},jr(t,!0),{className:h,d:g}))};function fXe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:f}=t,h=Pn(o,l,c,f),m=Pn(o,l,u,f);n=h.x,a=h.y,i=m.x,s=m.y}else return iZ(t);return[{x:n,y:a},{x:i,y:s}]}var lZ={},cZ={},uZ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xj;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(uZ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uZ;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(cZ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wj,r=cZ;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=a,a+=s;return l}e.range=n})(lZ);var hXe=lZ.range;const dZ=on(hXe);function Au(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mXe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ij(e){let t,r,n;e.length!==2?(t=Au,r=(o,l)=>Au(e(o),l),n=(o,l)=>e(o)-l):(t=e===Au||e===mXe?e:pXe,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function pXe(){return 0}function fZ(e){return e===null?NaN:+e}function*gXe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const vXe=Ij(Au),Zy=vXe.right;Ij(fZ).center;class Q8 extends Map{constructor(t,r=wXe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(J8(this,t))}has(t){return super.has(J8(this,t))}set(t,r){return super.set(yXe(this,t),r)}delete(t){return super.delete(xXe(this,t))}}function J8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function yXe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function xXe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function wXe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function bXe(e=Au){if(e===Au)return hZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function hZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _Xe=Math.sqrt(50),EXe=Math.sqrt(10),SXe=Math.sqrt(2);function n_(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=_Xe?10:i>=EXe?5:i>=SXe?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?n_(e,t,r*2):[o,l,c]}function pN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?n_(t,e,r):n_(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function gN(e,t,r){return t=+t,e=+e,r=+r,n_(e,t,r)[2]}function vN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?gN(t,e,r):gN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Z8(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function eB(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mZ(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?hZ:bXe(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(r,Math.floor(t-c*f/l+h)),p=Math.min(n,Math.floor(t+(l-c)*f/l+h));mZ(e,t,m,p,a)}const i=e[t];let s=r,o=n;for(kp(e,r,t),a(e[n],i)>0&&kp(e,r,n);s<o;){for(kp(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?kp(e,r,o):(++o,kp(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function kp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function TXe(e,t,r){if(e=Float64Array.from(gXe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return eB(e);if(t>=1)return Z8(e);var n,a=(n-1)*t,i=Math.floor(a),s=Z8(mZ(e,i).subarray(0,i+1)),o=eB(e.subarray(i+1));return s+(o-s)*(a-i)}}function AXe(e,t,r=fZ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function CXe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Zs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Dc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yN=Symbol("implicit");function Oj(){var e=new Q8,t=[],r=[],n=yN;function a(i){let s=e.get(i);if(s===void 0){if(n!==yN)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Q8;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Oj(t,r).unknown(n)},Zs.apply(a,arguments),a}function Dj(){var e=Oj().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,g=m?n:a;i=(g-p)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),p+=(g-p-i*(h-l))*u,s=i*(1-l),o&&(p=Math.round(p),s=Math.round(s));var v=CXe(h).map(function(y){return p+i*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return Dj(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Zs.apply(f(),arguments)}function pZ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return pZ(t())},e}function kXe(){return pZ(Dj.apply(null,arguments).paddingInner(1))}function jj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gZ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ex(){}var Kv=.7,a_=1/Kv,A0="\\s*([+-]?\\d+)\\s*",qv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",dl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NXe=/^#([0-9a-f]{3,8})$/,PXe=new RegExp(`^rgb\\(${A0},${A0},${A0}\\)$`),IXe=new RegExp(`^rgb\\(${dl},${dl},${dl}\\)$`),OXe=new RegExp(`^rgba\\(${A0},${A0},${A0},${qv}\\)$`),DXe=new RegExp(`^rgba\\(${dl},${dl},${dl},${qv}\\)$`),jXe=new RegExp(`^hsl\\(${qv},${dl},${dl}\\)$`),RXe=new RegExp(`^hsla\\(${qv},${dl},${dl},${qv}\\)$`),tB={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jj(ex,Yv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rB,formatHex:rB,formatHex8:MXe,formatHsl:FXe,formatRgb:nB,toString:nB});function rB(){return this.rgb().formatHex()}function MXe(){return this.rgb().formatHex8()}function FXe(){return vZ(this).formatHsl()}function nB(){return this.rgb().formatRgb()}function Yv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=NXe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?aB(t):r===3?new Si(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?k1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?k1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=PXe.exec(e))?new Si(t[1],t[2],t[3],1):(t=IXe.exec(e))?new Si(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=OXe.exec(e))?k1(t[1],t[2],t[3],t[4]):(t=DXe.exec(e))?k1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jXe.exec(e))?oB(t[1],t[2]/100,t[3]/100,1):(t=RXe.exec(e))?oB(t[1],t[2]/100,t[3]/100,t[4]):tB.hasOwnProperty(e)?aB(tB[e]):e==="transparent"?new Si(NaN,NaN,NaN,0):null}function aB(e){return new Si(e>>16&255,e>>8&255,e&255,1)}function k1(e,t,r,n){return n<=0&&(e=t=r=NaN),new Si(e,t,r,n)}function LXe(e){return e instanceof ex||(e=Yv(e)),e?(e=e.rgb(),new Si(e.r,e.g,e.b,e.opacity)):new Si}function xN(e,t,r,n){return arguments.length===1?LXe(e):new Si(e,t,r,n??1)}function Si(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}jj(Si,xN,gZ(ex,{brighter(e){return e=e==null?a_:Math.pow(a_,e),new Si(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Kv:Math.pow(Kv,e),new Si(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Si(cf(this.r),cf(this.g),cf(this.b),i_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iB,formatHex:iB,formatHex8:$Xe,formatRgb:sB,toString:sB}));function iB(){return`#${Kd(this.r)}${Kd(this.g)}${Kd(this.b)}`}function $Xe(){return`#${Kd(this.r)}${Kd(this.g)}${Kd(this.b)}${Kd((isNaN(this.opacity)?1:this.opacity)*255)}`}function sB(){const e=i_(this.opacity);return`${e===1?"rgb(":"rgba("}${cf(this.r)}, ${cf(this.g)}, ${cf(this.b)}${e===1?")":`, ${e})`}`}function i_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Kd(e){return e=cf(e),(e<16?"0":"")+e.toString(16)}function oB(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new po(e,t,r,n)}function vZ(e){if(e instanceof po)return new po(e.h,e.s,e.l,e.opacity);if(e instanceof ex||(e=Yv(e)),!e)return new po;if(e instanceof po)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new po(s,o,l,e.opacity)}function BXe(e,t,r,n){return arguments.length===1?vZ(e):new po(e,t,r,n??1)}function po(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}jj(po,BXe,gZ(ex,{brighter(e){return e=e==null?a_:Math.pow(a_,e),new po(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Kv:Math.pow(Kv,e),new po(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Si(sA(e>=240?e-240:e+120,a,n),sA(e,a,n),sA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new po(lB(this.h),N1(this.s),N1(this.l),i_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=i_(this.opacity);return`${e===1?"hsl(":"hsla("}${lB(this.h)}, ${N1(this.s)*100}%, ${N1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function lB(e){return e=(e||0)%360,e<0?e+360:e}function N1(e){return Math.max(0,Math.min(1,e||0))}function sA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Rj=e=>()=>e;function UXe(e,t){return function(r){return e+r*t}}function VXe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function zXe(e){return(e=+e)==1?yZ:function(t,r){return r-t?VXe(t,r,e):Rj(isNaN(t)?r:t)}}function yZ(e,t){var r=t-e;return r?UXe(e,r):Rj(isNaN(e)?t:e)}const cB=function e(t){var r=zXe(t);function n(a,i){var s=r((a=xN(a)).r,(i=xN(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=yZ(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function WXe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function HXe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function GXe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Hm(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function KXe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function s_(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function qXe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Hm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var wN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oA=new RegExp(wN.source,"g");function YXe(e){return function(){return e}}function XXe(e){return function(t){return e(t)+""}}function QXe(e,t){var r=wN.lastIndex=oA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=wN.exec(e))&&(a=oA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:s_(n,a)})),r=oA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?XXe(l[0].x):YXe(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Hm(e,t){var r=typeof t,n;return t==null||r==="boolean"?Rj(t):(r==="number"?s_:r==="string"?(n=Yv(t))?(t=n,cB):QXe:t instanceof Yv?cB:t instanceof Date?KXe:HXe(t)?WXe:Array.isArray(t)?GXe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qXe:s_)(e,t)}function Mj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function JXe(e,t){t===void 0&&(t=e,e=Hm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function ZXe(e){return function(){return e}}function o_(e){return+e}var uB=[0,1];function ci(e){return e}function bN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ZXe(isNaN(t)?NaN:.5)}function eQe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function tQe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=bN(a,n),i=r(s,i)):(n=bN(n,a),i=r(i,s)),function(o){return i(n(o))}}function rQe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=bN(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=Zy(e,o,1,n)-1;return i[l](a[l](o))}}function tx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function MS(){var e=uB,t=uB,r=Hm,n,a,i,s=ci,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==ci&&(s=eQe(e[0],e[h-1])),o=h>2?rQe:tQe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),s_)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,o_),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Mj,u()},f.clamp=function(h){return arguments.length?(s=h?!0:ci,u()):s!==ci},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,u()}}function Fj(){return MS()(ci,ci)}function nQe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function l_(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function im(e){return e=l_(Math.abs(e)),e?e[1]:NaN}function aQe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function iQe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var sQe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xv(e){if(!(t=sQe.exec(e)))throw new Error("invalid format: "+e);var t;return new Lj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Xv.prototype=Lj.prototype;function Lj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Lj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oQe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var xZ;function lQe(e,t){var r=l_(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(xZ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+l_(e,Math.max(0,t+i-1))[0]}function dB(e,t){var r=l_(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const fB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nQe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dB(e*100,t),r:dB,s:lQe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function hB(e){return e}var mB=Array.prototype.map,pB=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function cQe(e){var t=e.grouping===void 0||e.thousands===void 0?hB:aQe(mB.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?hB:iQe(mB.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Xv(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,v=f.zero,y=f.width,w=f.comma,b=f.precision,E=f.trim,k=f.type;k==="n"?(w=!0,k="g"):fB[k]||(b===void 0&&(b=12),E=!0,k="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",S=g==="$"?n:/[%p]/.test(k)?s:"",_=fB[k],A=/[defgprs%]/.test(k);b=b===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(N){var I=C,D=S,M,ee,Q;if(k==="c")D=_(N)+D,N="";else{N=+N;var W=N<0||1/N<0;if(N=isNaN(N)?l:_(Math.abs(N),b),E&&(N=oQe(N)),W&&+N==0&&p!=="+"&&(W=!1),I=(W?p==="("?p:o:p==="-"||p==="("?"":p)+I,D=(k==="s"?pB[8+xZ/3]:"")+D+(W&&p==="("?")":""),A){for(M=-1,ee=N.length;++M<ee;)if(Q=N.charCodeAt(M),48>Q||Q>57){D=(Q===46?a+N.slice(M+1):N.slice(M))+D,N=N.slice(0,M);break}}}w&&!v&&(N=t(N,1/0));var z=I.length+N.length+D.length,L=z<y?new Array(y-z+1).join(h):"";switch(w&&v&&(N=t(L+N,L.length?y-D.length:1/0),L=""),m){case"<":N=I+N+D+L;break;case"=":N=I+L+N+D;break;case"^":N=L.slice(0,z=L.length>>1)+I+N+D+L.slice(z);break;default:N=L+I+N+D;break}return i(N)}return P.toString=function(){return f+""},P}function u(f,h){var m=c((f=Xv(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(im(h)/3)))*3,g=Math.pow(10,-p),v=pB[8+p/3];return function(y){return m(g*y)+v}}return{format:c,formatPrefix:u}}var P1,$j,wZ;uQe({thousands:",",grouping:[3],currency:["$",""]});function uQe(e){return P1=cQe(e),$j=P1.format,wZ=P1.formatPrefix,P1}function dQe(e){return Math.max(0,-im(Math.abs(e)))}function fQe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(im(t)/3)))*3-im(Math.abs(e)))}function hQe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,im(t)-im(e))+1}function bZ(e,t,r,n){var a=vN(e,t,r),i;switch(n=Xv(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=fQe(a,s))&&(n.precision=i),wZ(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=hQe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=dQe(a))&&(n.precision=i-(n.type==="%")*2);break}}return $j(n)}function md(e){var t=e.domain;return e.ticks=function(r){var n=t();return pN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return bZ(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=gN(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function _Z(){var e=Fj();return e.copy=function(){return tx(e,_Z())},Zs.apply(e,arguments),md(e)}function EZ(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,o_),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return EZ(e).unknown(t)},e=arguments.length?Array.from(e,o_):[0,1],md(r)}function SZ(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function gB(e){return Math.log(e)}function vB(e){return Math.exp(e)}function mQe(e){return-Math.log(-e)}function pQe(e){return-Math.exp(-e)}function gQe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vQe(e){return e===10?gQe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yQe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function yB(e){return(t,r)=>-e(-t,r)}function Bj(e){const t=e(gB,vB),r=t.domain;let n=10,a,i;function s(){return a=yQe(n),i=vQe(n),r()[0]<0?(a=yB(a),i=yB(i),e(mQe,pQe)):e(gB,vB),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),m=a(u),p,g;const v=o==null?10:+o;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/i(-h):p*i(h),!(g<c)){if(g>u)break;y.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/i(-h):p*i(h),!(g<c)){if(g>u)break;y.push(g)}y.length*2<v&&(y=pN(c,u,v))}else y=pN(h,m,Math.min(m-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Xv(l)).precision==null&&(l.trim=!0),l=$j(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(SZ(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function TZ(){const e=Bj(MS()).domain([1,10]);return e.copy=()=>tx(e,TZ()).base(e.base()),Zs.apply(e,arguments),e}function xB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function wB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Uj(e){var t=1,r=e(xB(t),wB(t));return r.constant=function(n){return arguments.length?e(xB(t=+n),wB(t)):t},md(r)}function AZ(){var e=Uj(MS());return e.copy=function(){return tx(e,AZ()).constant(e.constant())},Zs.apply(e,arguments)}function bB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xQe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wQe(e){return e<0?-e*e:e*e}function Vj(e){var t=e(ci,ci),r=1;function n(){return r===1?e(ci,ci):r===.5?e(xQe,wQe):e(bB(r),bB(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},md(t)}function zj(){var e=Vj(MS());return e.copy=function(){return tx(e,zj()).exponent(e.exponent())},Zs.apply(e,arguments),e}function bQe(){return zj.apply(null,arguments).exponent(.5)}function _B(e){return Math.sign(e)*e*e}function _Qe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function CZ(){var e=Fj(),t=[0,1],r=!1,n;function a(i){var s=_Qe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(_B(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,o_)).map(_B)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return CZ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Zs.apply(a,arguments),md(a)}function kZ(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=AXe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Zy(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Au),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return kZ().domain(e).range(t).unknown(n)},Zs.apply(i,arguments)}function NZ(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[Zy(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return NZ().domain([e,t]).range(a).unknown(i)},Zs.apply(md(s),arguments)}function PZ(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Zy(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return PZ().domain(e).range(t).unknown(r)},Zs.apply(a,arguments)}const lA=new Date,cA=new Date;function Gn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Gn(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(lA.setTime(+i),cA.setTime(+s),e(lA),e(cA),Math.floor(r(lA,cA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const c_=Gn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);c_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Gn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):c_);c_.range;const Hl=1e3,Rs=Hl*60,Gl=Rs*60,bc=Gl*24,Wj=bc*7,EB=bc*30,uA=bc*365,qd=Gn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Hl)},(e,t)=>(t-e)/Hl,e=>e.getUTCSeconds());qd.range;const Hj=Gn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hl)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getMinutes());Hj.range;const Gj=Gn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCMinutes());Gj.range;const Kj=Gn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Hl-e.getMinutes()*Rs)},(e,t)=>{e.setTime(+e+t*Gl)},(e,t)=>(t-e)/Gl,e=>e.getHours());Kj.range;const qj=Gn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gl)},(e,t)=>(t-e)/Gl,e=>e.getUTCHours());qj.range;const rx=Gn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rs)/bc,e=>e.getDate()-1);rx.range;const FS=Gn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bc,e=>e.getUTCDate()-1);FS.range;const IZ=Gn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/bc,e=>Math.floor(e/bc));IZ.range;function fh(e){return Gn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rs)/Wj)}const LS=fh(0),u_=fh(1),EQe=fh(2),SQe=fh(3),sm=fh(4),TQe=fh(5),AQe=fh(6);LS.range;u_.range;EQe.range;SQe.range;sm.range;TQe.range;AQe.range;function hh(e){return Gn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Wj)}const $S=hh(0),d_=hh(1),CQe=hh(2),kQe=hh(3),om=hh(4),NQe=hh(5),PQe=hh(6);$S.range;d_.range;CQe.range;kQe.range;om.range;NQe.range;PQe.range;const Yj=Gn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Yj.range;const Xj=Gn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Xj.range;const _c=Gn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_c.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});_c.range;const Ec=Gn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ec.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ec.range;function OZ(e,t,r,n,a,i){const s=[[qd,1,Hl],[qd,5,5*Hl],[qd,15,15*Hl],[qd,30,30*Hl],[i,1,Rs],[i,5,5*Rs],[i,15,15*Rs],[i,30,30*Rs],[a,1,Gl],[a,3,3*Gl],[a,6,6*Gl],[a,12,12*Gl],[n,1,bc],[n,2,2*bc],[r,1,Wj],[t,1,EB],[t,3,3*EB],[e,1,uA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const m=f&&typeof f.range=="function"?f:l(c,u,f),p=m?m.range(c,+u+1):[];return h?p.reverse():p}function l(c,u,f){const h=Math.abs(u-c)/f,m=Ij(([,,v])=>v).right(s,h);if(m===s.length)return e.every(vN(c/uA,u/uA,f));if(m===0)return c_.every(Math.max(vN(c,u,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[IQe,OQe]=OZ(Ec,Xj,$S,IZ,qj,Gj),[DQe,jQe]=OZ(_c,Yj,LS,rx,Kj,Hj);function dA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Np(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function RQe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Pp(a),u=Ip(a),f=Pp(i),h=Ip(i),m=Pp(s),p=Ip(s),g=Pp(o),v=Ip(o),y=Pp(l),w=Ip(l),b={a:W,A:z,b:L,B:ae,c:null,d:NB,e:NB,f:aJe,g:mJe,G:gJe,H:tJe,I:rJe,j:nJe,L:DZ,m:iJe,M:sJe,p:ue,q:F,Q:OB,s:DB,S:oJe,u:lJe,U:cJe,V:uJe,w:dJe,W:fJe,x:null,X:null,y:hJe,Y:pJe,Z:vJe,"%":IB},E={a:U,A:K,b:Y,B:te,c:null,d:PB,e:PB,f:bJe,g:IJe,G:DJe,H:yJe,I:xJe,j:wJe,L:RZ,m:_Je,M:EJe,p:ie,q:fe,Q:OB,s:DB,S:SJe,u:TJe,U:AJe,V:CJe,w:kJe,W:NJe,x:null,X:null,y:PJe,Y:OJe,Z:jJe,"%":IB},k={a:P,A:N,b:I,B:D,c:M,d:CB,e:CB,f:QQe,g:AB,G:TB,H:kB,I:kB,j:KQe,L:XQe,m:GQe,M:qQe,p:A,q:HQe,Q:ZQe,s:eJe,S:YQe,u:BQe,U:UQe,V:VQe,w:$Qe,W:zQe,x:ee,X:Q,y:AB,Y:TB,Z:WQe,"%":JQe};b.x=C(r,b),b.X=C(n,b),b.c=C(t,b),E.x=C(r,E),E.X=C(n,E),E.c=C(t,E);function C(re,ce){return function(ye){var R=[],Be=-1,Re=0,qe=re.length,Ue,Se,ht;for(ye instanceof Date||(ye=new Date(+ye));++Be<qe;)re.charCodeAt(Be)===37&&(R.push(re.slice(Re,Be)),(Se=SB[Ue=re.charAt(++Be)])!=null?Ue=re.charAt(++Be):Se=Ue==="e"?" ":"0",(ht=ce[Ue])&&(Ue=ht(ye,Se)),R.push(Ue),Re=Be+1);return R.push(re.slice(Re,Be)),R.join("")}}function S(re,ce){return function(ye){var R=Np(1900,void 0,1),Be=_(R,re,ye+="",0),Re,qe;if(Be!=ye.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(ce&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(Re=fA(Np(R.y,0,1)),qe=Re.getUTCDay(),Re=qe>4||qe===0?d_.ceil(Re):d_(Re),Re=FS.offset(Re,(R.V-1)*7),R.y=Re.getUTCFullYear(),R.m=Re.getUTCMonth(),R.d=Re.getUTCDate()+(R.w+6)%7):(Re=dA(Np(R.y,0,1)),qe=Re.getDay(),Re=qe>4||qe===0?u_.ceil(Re):u_(Re),Re=rx.offset(Re,(R.V-1)*7),R.y=Re.getFullYear(),R.m=Re.getMonth(),R.d=Re.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),qe="Z"in R?fA(Np(R.y,0,1)).getUTCDay():dA(Np(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(qe+5)%7:R.w+R.U*7-(qe+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,fA(R)):dA(R)}}function _(re,ce,ye,R){for(var Be=0,Re=ce.length,qe=ye.length,Ue,Se;Be<Re;){if(R>=qe)return-1;if(Ue=ce.charCodeAt(Be++),Ue===37){if(Ue=ce.charAt(Be++),Se=k[Ue in SB?ce.charAt(Be++):Ue],!Se||(R=Se(re,ye,R))<0)return-1}else if(Ue!=ye.charCodeAt(R++))return-1}return R}function A(re,ce,ye){var R=c.exec(ce.slice(ye));return R?(re.p=u.get(R[0].toLowerCase()),ye+R[0].length):-1}function P(re,ce,ye){var R=m.exec(ce.slice(ye));return R?(re.w=p.get(R[0].toLowerCase()),ye+R[0].length):-1}function N(re,ce,ye){var R=f.exec(ce.slice(ye));return R?(re.w=h.get(R[0].toLowerCase()),ye+R[0].length):-1}function I(re,ce,ye){var R=y.exec(ce.slice(ye));return R?(re.m=w.get(R[0].toLowerCase()),ye+R[0].length):-1}function D(re,ce,ye){var R=g.exec(ce.slice(ye));return R?(re.m=v.get(R[0].toLowerCase()),ye+R[0].length):-1}function M(re,ce,ye){return _(re,t,ce,ye)}function ee(re,ce,ye){return _(re,r,ce,ye)}function Q(re,ce,ye){return _(re,n,ce,ye)}function W(re){return s[re.getDay()]}function z(re){return i[re.getDay()]}function L(re){return l[re.getMonth()]}function ae(re){return o[re.getMonth()]}function ue(re){return a[+(re.getHours()>=12)]}function F(re){return 1+~~(re.getMonth()/3)}function U(re){return s[re.getUTCDay()]}function K(re){return i[re.getUTCDay()]}function Y(re){return l[re.getUTCMonth()]}function te(re){return o[re.getUTCMonth()]}function ie(re){return a[+(re.getUTCHours()>=12)]}function fe(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ce=C(re+="",b);return ce.toString=function(){return re},ce},parse:function(re){var ce=S(re+="",!1);return ce.toString=function(){return re},ce},utcFormat:function(re){var ce=C(re+="",E);return ce.toString=function(){return re},ce},utcParse:function(re){var ce=S(re+="",!0);return ce.toString=function(){return re},ce}}}var SB={"-":"",_:" ",0:"0"},oa=/^\s*\d+/,MQe=/^%/,FQe=/[\\^$*+?|[\]().{}]/g;function Gt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function LQe(e){return e.replace(FQe,"\\$&")}function Pp(e){return new RegExp("^(?:"+e.map(LQe).join("|")+")","i")}function Ip(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function $Qe(e,t,r){var n=oa.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function BQe(e,t,r){var n=oa.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function UQe(e,t,r){var n=oa.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function VQe(e,t,r){var n=oa.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function zQe(e,t,r){var n=oa.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function TB(e,t,r){var n=oa.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function AB(e,t,r){var n=oa.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function WQe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function HQe(e,t,r){var n=oa.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function GQe(e,t,r){var n=oa.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function CB(e,t,r){var n=oa.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function KQe(e,t,r){var n=oa.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function kB(e,t,r){var n=oa.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function qQe(e,t,r){var n=oa.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function YQe(e,t,r){var n=oa.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function XQe(e,t,r){var n=oa.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function QQe(e,t,r){var n=oa.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function JQe(e,t,r){var n=MQe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ZQe(e,t,r){var n=oa.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function eJe(e,t,r){var n=oa.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function NB(e,t){return Gt(e.getDate(),t,2)}function tJe(e,t){return Gt(e.getHours(),t,2)}function rJe(e,t){return Gt(e.getHours()%12||12,t,2)}function nJe(e,t){return Gt(1+rx.count(_c(e),e),t,3)}function DZ(e,t){return Gt(e.getMilliseconds(),t,3)}function aJe(e,t){return DZ(e,t)+"000"}function iJe(e,t){return Gt(e.getMonth()+1,t,2)}function sJe(e,t){return Gt(e.getMinutes(),t,2)}function oJe(e,t){return Gt(e.getSeconds(),t,2)}function lJe(e){var t=e.getDay();return t===0?7:t}function cJe(e,t){return Gt(LS.count(_c(e)-1,e),t,2)}function jZ(e){var t=e.getDay();return t>=4||t===0?sm(e):sm.ceil(e)}function uJe(e,t){return e=jZ(e),Gt(sm.count(_c(e),e)+(_c(e).getDay()===4),t,2)}function dJe(e){return e.getDay()}function fJe(e,t){return Gt(u_.count(_c(e)-1,e),t,2)}function hJe(e,t){return Gt(e.getFullYear()%100,t,2)}function mJe(e,t){return e=jZ(e),Gt(e.getFullYear()%100,t,2)}function pJe(e,t){return Gt(e.getFullYear()%1e4,t,4)}function gJe(e,t){var r=e.getDay();return e=r>=4||r===0?sm(e):sm.ceil(e),Gt(e.getFullYear()%1e4,t,4)}function vJe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Gt(t/60|0,"0",2)+Gt(t%60,"0",2)}function PB(e,t){return Gt(e.getUTCDate(),t,2)}function yJe(e,t){return Gt(e.getUTCHours(),t,2)}function xJe(e,t){return Gt(e.getUTCHours()%12||12,t,2)}function wJe(e,t){return Gt(1+FS.count(Ec(e),e),t,3)}function RZ(e,t){return Gt(e.getUTCMilliseconds(),t,3)}function bJe(e,t){return RZ(e,t)+"000"}function _Je(e,t){return Gt(e.getUTCMonth()+1,t,2)}function EJe(e,t){return Gt(e.getUTCMinutes(),t,2)}function SJe(e,t){return Gt(e.getUTCSeconds(),t,2)}function TJe(e){var t=e.getUTCDay();return t===0?7:t}function AJe(e,t){return Gt($S.count(Ec(e)-1,e),t,2)}function MZ(e){var t=e.getUTCDay();return t>=4||t===0?om(e):om.ceil(e)}function CJe(e,t){return e=MZ(e),Gt(om.count(Ec(e),e)+(Ec(e).getUTCDay()===4),t,2)}function kJe(e){return e.getUTCDay()}function NJe(e,t){return Gt(d_.count(Ec(e)-1,e),t,2)}function PJe(e,t){return Gt(e.getUTCFullYear()%100,t,2)}function IJe(e,t){return e=MZ(e),Gt(e.getUTCFullYear()%100,t,2)}function OJe(e,t){return Gt(e.getUTCFullYear()%1e4,t,4)}function DJe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?om(e):om.ceil(e),Gt(e.getUTCFullYear()%1e4,t,4)}function jJe(){return"+0000"}function IB(){return"%"}function OB(e){return+e}function DB(e){return Math.floor(+e/1e3)}var Ih,FZ,LZ;RJe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RJe(e){return Ih=RQe(e),FZ=Ih.format,Ih.parse,LZ=Ih.utcFormat,Ih.utcParse,Ih}function MJe(e){return new Date(e)}function FJe(e){return e instanceof Date?+e:+new Date(+e)}function Qj(e,t,r,n,a,i,s,o,l,c){var u=Fj(),f=u.invert,h=u.domain,m=c(".%L"),p=c(":%S"),g=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),w=c("%b %d"),b=c("%B"),E=c("%Y");function k(C){return(l(C)<C?m:o(C)<C?p:s(C)<C?g:i(C)<C?v:n(C)<C?a(C)<C?y:w:r(C)<C?b:E)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?h(Array.from(C,FJe)):h().map(MJe)},u.ticks=function(C){var S=h();return e(S[0],S[S.length-1],C??10)},u.tickFormat=function(C,S){return S==null?k:c(S)},u.nice=function(C){var S=h();return(!C||typeof C.range!="function")&&(C=t(S[0],S[S.length-1],C??10)),C?h(SZ(S,C)):u},u.copy=function(){return tx(u,Qj(e,t,r,n,a,i,s,o,l,c))},u}function LJe(){return Zs.apply(Qj(DQe,jQe,_c,Yj,LS,rx,Kj,Hj,qd,FZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $Je(){return Zs.apply(Qj(IQe,OQe,Ec,Xj,$S,FS,qj,Gj,qd,LZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function BS(){var e=0,t=1,r,n,a,i,s=ci,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),c):[s(0),s(1)]}}return c.range=u(Hm),c.rangeRound=u(Mj),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function pd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $Z(){var e=md(BS()(ci));return e.copy=function(){return pd(e,$Z())},Dc.apply(e,arguments)}function BZ(){var e=Bj(BS()).domain([1,10]);return e.copy=function(){return pd(e,BZ()).base(e.base())},Dc.apply(e,arguments)}function UZ(){var e=Uj(BS());return e.copy=function(){return pd(e,UZ()).constant(e.constant())},Dc.apply(e,arguments)}function Jj(){var e=Vj(BS());return e.copy=function(){return pd(e,Jj()).exponent(e.exponent())},Dc.apply(e,arguments)}function BJe(){return Jj.apply(null,arguments).exponent(.5)}function VZ(){var e=[],t=ci;function r(n){if(n!=null&&!isNaN(n=+n))return t((Zy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Au),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>TXe(e,i/n))},r.copy=function(){return VZ(t).domain(e)},Dc.apply(r,arguments)}function US(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=ci,u,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-i)*(n*g<n*i?o:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function p(g){return function(v){var y,w,b;return arguments.length?([y,w,b]=v,c=JXe(g,[y,w,b]),m):[c(0),c(.5),c(1)]}}return m.range=p(Hm),m.rangeRound=p(Mj),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return u=g,a=g(e),i=g(t),s=g(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,m}}function zZ(){var e=md(US()(ci));return e.copy=function(){return pd(e,zZ())},Dc.apply(e,arguments)}function WZ(){var e=Bj(US()).domain([.1,1,10]);return e.copy=function(){return pd(e,WZ()).base(e.base())},Dc.apply(e,arguments)}function HZ(){var e=Uj(US());return e.copy=function(){return pd(e,HZ()).constant(e.constant())},Dc.apply(e,arguments)}function Zj(){var e=Vj(US());return e.copy=function(){return pd(e,Zj()).exponent(e.exponent())},Dc.apply(e,arguments)}function UJe(){return Zj.apply(null,arguments).exponent(.5)}const Yp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Dj,scaleDiverging:zZ,scaleDivergingLog:WZ,scaleDivergingPow:Zj,scaleDivergingSqrt:UJe,scaleDivergingSymlog:HZ,scaleIdentity:EZ,scaleImplicit:yN,scaleLinear:_Z,scaleLog:TZ,scaleOrdinal:Oj,scalePoint:kXe,scalePow:zj,scaleQuantile:kZ,scaleQuantize:NZ,scaleRadial:CZ,scaleSequential:$Z,scaleSequentialLog:BZ,scaleSequentialPow:Jj,scaleSequentialQuantile:VZ,scaleSequentialSqrt:BJe,scaleSequentialSymlog:UZ,scaleSqrt:bQe,scaleSymlog:AZ,scaleThreshold:PZ,scaleTime:LJe,scaleUtc:$Je,tickFormat:bZ},Symbol.toStringTag,{value:"Module"}));var gd=e=>e.chartData,e4=ge([gd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nx=(e,t,r,n)=>n?e4(e):gd(e);function lm(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ea(t)&&Ea(r))return!0}return!1}function jB(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function VJe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Ea(r))a=r;else if(typeof r=="function")return;if(Ea(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(lm(s))return s}}function zJe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(lm(n))return jB(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,o;if(a==="auto")t!=null&&(s=Math.min(...t));else if(et(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&k8.test(a)){var l=k8.exec(a);if(l==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(et(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&N8.test(i)){var u=N8.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(lm(h))return t==null?h:jB(h,t,r)}}}var Gm=1e9,WJe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},r4,Lr=!0,Ks="[DecimalError] ",uf=Ks+"Invalid argument: ",t4=Ks+"Exponent out of range: ",Km=Math.floor,jd=Math.pow,HJe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Xi,Qn=1e7,Cr=7,GZ=9007199254740991,f_=Km(GZ/Cr),Ke={};Ke.absoluteValue=Ke.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ke.comparedTo=Ke.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ke.decimalPlaces=Ke.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Cr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ke.dividedBy=Ke.div=function(e){return nc(this,new this.constructor(e))};Ke.dividedToIntegerBy=Ke.idiv=function(e){var t=this,r=t.constructor;return fr(nc(t,new r(e),0,1),r.precision)};Ke.equals=Ke.eq=function(e){return!this.cmp(e)};Ke.exponent=function(){return In(this)};Ke.greaterThan=Ke.gt=function(e){return this.cmp(e)>0};Ke.greaterThanOrEqualTo=Ke.gte=function(e){return this.cmp(e)>=0};Ke.isInteger=Ke.isint=function(){return this.e>this.d.length-2};Ke.isNegative=Ke.isneg=function(){return this.s<0};Ke.isPositive=Ke.ispos=function(){return this.s>0};Ke.isZero=function(){return this.s===0};Ke.lessThan=Ke.lt=function(e){return this.cmp(e)<0};Ke.lessThanOrEqualTo=Ke.lte=function(e){return this.cmp(e)<1};Ke.logarithm=Ke.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Xi))throw Error(Ks+"NaN");if(r.s<1)throw Error(Ks+(r.s?"NaN":"-Infinity"));return r.eq(Xi)?new n(0):(Lr=!1,t=nc(Qv(r,i),Qv(e,i),i),Lr=!0,fr(t,a))};Ke.minus=Ke.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YZ(t,e):KZ(t,(e.s=-e.s,e))};Ke.modulo=Ke.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ks+"NaN");return r.s?(Lr=!1,t=nc(r,e,0,1).times(e),Lr=!0,r.minus(t)):fr(new n(r),a)};Ke.naturalExponential=Ke.exp=function(){return qZ(this)};Ke.naturalLogarithm=Ke.ln=function(){return Qv(this)};Ke.negated=Ke.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ke.plus=Ke.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KZ(t,e):YZ(t,(e.s=-e.s,e))};Ke.precision=Ke.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(uf+e);if(t=In(a)+1,n=a.d.length-1,r=n*Cr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ke.squareRoot=Ke.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ks+"NaN")}for(e=In(o),Lr=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Qo(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Km((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(nc(o,i,s+2)).times(.5),Qo(i.d).slice(0,s)===(t=Qo(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(fr(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Lr=!0,fr(n,r)};Ke.times=Ke.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=m.length,l<c&&(i=h,h=m,m=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+m[n]*h[a-n-1]+t,i[a--]=o%Qn|0,t=o/Qn|0;i[a]=(i[a]+t)%Qn|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Lr?fr(e,f.precision):e};Ke.toDecimalPlaces=Ke.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(vl(e,0,Gm),t===void 0?t=n.rounding:vl(t,0,8),fr(r,e+In(r)+1,t))};Ke.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=qf(n,!0):(vl(e,0,Gm),t===void 0?t=a.rounding:vl(t,0,8),n=fr(new a(n),e+1,t),r=qf(n,!0,e+1)),r};Ke.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?qf(a):(vl(e,0,Gm),t===void 0?t=i.rounding:vl(t,0,8),n=fr(new i(a),e+In(a)+1,t),r=qf(n.abs(),!1,e+In(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ke.toInteger=Ke.toint=function(){var e=this,t=e.constructor;return fr(new t(e),In(e)+1,t.rounding)};Ke.toNumber=function(){return+this};Ke.toPower=Ke.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Xi);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ks+"Infinity");return o}if(o.eq(Xi))return o;if(n=l.precision,e.eq(Xi))return fr(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=GZ){for(a=new l(Xi),t=Math.ceil(n/Cr+4),Lr=!1;r%2&&(a=a.times(o),MB(a.d,t)),r=Km(r/2),r!==0;)o=o.times(o),MB(o.d,t);return Lr=!0,e.s<0?new l(Xi).div(a):fr(a,n)}}else if(i<0)throw Error(Ks+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Lr=!1,a=e.times(Qv(o,n+c)),Lr=!0,a=qZ(a),a.s=i,a};Ke.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=In(a),n=qf(a,r<=i.toExpNeg||r>=i.toExpPos)):(vl(e,1,Gm),t===void 0?t=i.rounding:vl(t,0,8),a=fr(new i(a),e,t),r=In(a),n=qf(a,e<=r||r<=i.toExpNeg,e)),n};Ke.toSignificantDigits=Ke.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(vl(e,1,Gm),t===void 0?t=n.rounding:vl(t,0,8)),fr(new n(r),e,t)};Ke.toString=Ke.valueOf=Ke.val=Ke.toJSON=Ke[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=In(e),r=e.constructor;return qf(e,t<=r.toExpNeg||t>=r.toExpPos)};function KZ(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Lr?fr(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/Cr),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Qn|0,l[i]%=Qn;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Lr?fr(t,f):t}function vl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(uf+e)}function Qo(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Cr-n.length,r&&(i+=Jc(r)),i+=n;s=e[t],n=s+"",r=Cr-n.length,r&&(i+=Jc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var nc=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Qn|0,s=i/Qn|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Qn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,m,p,g,v,y,w,b,E,k,C,S,_,A=n.constructor,P=n.s==a.s?1:-1,N=n.d,I=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Ks+"Division by zero");for(l=n.e-a.e,S=I.length,k=N.length,m=new A(P),p=m.d=[],c=0;I[c]==(N[c]||0);)++c;if(I[c]>(N[c]||0)&&--l,i==null?w=i=A.precision:s?w=i+(In(n)-In(a))+1:w=i,w<0)return new A(0);if(w=w/Cr+2|0,c=0,S==1)for(u=0,I=I[0],w++;(c<k||u)&&w--;c++)b=u*Qn+(N[c]||0),p[c]=b/I|0,u=b%I|0;else{for(u=Qn/(I[0]+1)|0,u>1&&(I=e(I,u),N=e(N,u),S=I.length,k=N.length),E=S,g=N.slice(0,S),v=g.length;v<S;)g[v++]=0;_=I.slice(),_.unshift(0),C=I[0],I[1]>=Qn/2&&++C;do u=0,o=t(I,g,S,v),o<0?(y=g[0],S!=v&&(y=y*Qn+(g[1]||0)),u=y/C|0,u>1?(u>=Qn&&(u=Qn-1),f=e(I,u),h=f.length,v=g.length,o=t(f,g,h,v),o==1&&(u--,r(f,S<h?_:I,h))):(u==0&&(o=u=1),f=I.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),o==-1&&(v=g.length,o=t(I,g,S,v),o<1&&(u++,r(g,S<v?_:I,v))),v=g.length):o===0&&(u++,g=[0]),p[c++]=u,o&&g[0]?g[v++]=N[E]||0:(g=[N[E]],v=1);while((E++<k||g[0]!==void 0)&&w--)}return p[0]||p.shift(),m.e=l,fr(m,s?i+In(m)+1:i)}}();function qZ(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(In(e)>16)throw Error(t4+In(e));if(!e.s)return new u(Xi);for(Lr=!1,o=f,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(jd(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Xi),u.precision=o;;){if(a=fr(a.times(e),o),r=r.times(++l),s=i.plus(nc(a,r,o)),Qo(s.d).slice(0,o)===Qo(i.d).slice(0,o)){for(;c--;)i=fr(i.times(i),o);return u.precision=f,t==null?(Lr=!0,fr(i,f)):i}i=s}}function In(e){for(var t=e.e*Cr,r=e.d[0];r>=10;r/=10)t++;return t}function hA(e,t,r){if(t>e.LN10.sd())throw Lr=!0,r&&(e.precision=r),Error(Ks+"LN10 precision limit exceeded");return fr(new e(e.LN10),t)}function Jc(e){for(var t="";e--;)t+="0";return t}function Qv(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,m=e,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Ks+(m.s?"NaN":"-Infinity"));if(m.eq(Xi))return new g(0);if(t==null?(Lr=!1,c=v):c=t,m.eq(10))return t==null&&(Lr=!0),hA(g,c);if(c+=h,g.precision=c,r=Qo(p),n=r.charAt(0),i=In(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Qo(m.d),n=r.charAt(0),f++;i=In(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return l=hA(g,c+2,v).times(i+""),m=Qv(new g(n+"."+r.slice(1)),c-h).plus(l),g.precision=v,t==null?(Lr=!0,fr(m,v)):m;for(o=s=m=nc(m.minus(Xi),m.plus(Xi),c),u=fr(m.times(m),c),a=3;;){if(s=fr(s.times(u),c),l=o.plus(nc(s,new g(a),c)),Qo(l.d).slice(0,c)===Qo(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(hA(g,c+2,v).times(i+""))),o=nc(o,new g(f),c),g.precision=v,t==null?(Lr=!0,fr(o,v)):o;o=l,a+=2}}function RB(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Km(r/Cr),e.d=[],n=(r+1)%Cr,r<0&&(n+=Cr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Cr;n<a;)e.d.push(+t.slice(n,n+=Cr));t=t.slice(n),n=Cr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Lr&&(e.e>f_||e.e<-f_))throw Error(t4+r)}else e.s=0,e.e=0,e.d=[0];return e}function fr(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Cr,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Cr),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=Cr,a=n-Cr+s}if(r!==void 0&&(i=jd(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/jd(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=In(e),f.length=1,t=t-i-1,f[0]=jd(10,(Cr-t%Cr)%Cr),e.e=Km(-t/Cr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=jd(10,Cr-n),f[u]=a>0?(c/jd(10,s-a)%jd(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Qn&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Qn)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Lr&&(e.e>f_||e.e<-f_))throw Error(t4+In(e));return e}function YZ(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Lr?fr(t,m):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(m/Cr),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Qn-1;--l[i],l[a]+=Qn}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Lr?fr(t,m):t):new h(0)}function qf(e,t,r){var n,a=In(e),i=Qo(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Jc(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Jc(-a-1)+i,r&&(n=r-s)>0&&(i+=Jc(n))):a>=s?(i+=Jc(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Jc(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Jc(n))),e.s<0?"-"+i:i}function MB(e,t){if(e.length>t)return e.length=t,!0}function XZ(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(uf+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return RB(s,i.toString())}else if(typeof i!="string")throw Error(uf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,HJe.test(i))RB(s,i);else throw Error(uf+i)}if(a.prototype=Ke,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=XZ,a.config=a.set=GJe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function GJe(e){if(!e||typeof e!="object")throw Error(Ks+"Object expected");var t,r,n,a=["precision",1,Gm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Km(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(uf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(uf+r+": "+n);return this}var r4=XZ(WJe);Xi=new r4(1);const er=r4;var KJe=e=>e,QZ={},JZ=e=>e===QZ,FB=e=>function t(){return arguments.length===0||arguments.length===1&&JZ(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},ZZ=(e,t)=>e===1?t:FB(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==QZ).length;return i>=e?t(...n):ZZ(e-i,FB(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=n.map(u=>JZ(u)?o.shift():u);return t(...c,...o)}))}),VS=e=>ZZ(e.length,e),_N=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},qJe=VS((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),YJe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return KJe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,l)=>l(o),i(...arguments))}},EN=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),eee=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((s,o)=>{var l;return s===((l=t)===null||l===void 0?void 0:l[o])})||(t=a,r=e(...a)),r}};function tee(e){var t;return e===0?t=1:t=Math.floor(new er(e).abs().log(10).toNumber())+1,t}function ree(e,t,r){for(var n=new er(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}VS((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});VS((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});VS((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var nee=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},aee=(e,t,r)=>{if(e.lte(0))return new er(0);var n=tee(e.toNumber()),a=new er(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new er(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?new er(l.toNumber()):new er(Math.ceil(l.toNumber()))},XJe=(e,t,r)=>{var n=new er(1),a=new er(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new er(10).pow(tee(e)-1),a=new er(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new er(Math.floor(e)))}else e===0?a=new er(Math.floor((t-1)/2)):r||(a=new er(Math.floor(e)));var s=Math.floor((t-1)/2),o=YJe(qJe(l=>a.add(new er(l-s).mul(n)).toNumber()),_N);return o(0,t)},iee=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new er(0),tickMin:new er(0),tickMax:new er(0)};var s=aee(new er(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new er(0):(o=new er(t).add(r).div(2),o=o.sub(new er(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new er(r).sub(o).div(s).toNumber()),u=l+c+1;return u>n?iee(t,r,n,a,i+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:s,tickMin:o.sub(new er(l).mul(s)),tickMax:o.add(new er(c).mul(s))})};function QJe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[s,o]=nee([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,..._N(0,n-1).map(()=>1/0)]:[..._N(0,n-1).map(()=>-1/0),o];return t>r?EN(l):l}if(s===o)return XJe(s,n,a);var{step:c,tickMin:u,tickMax:f}=iee(s,o,i,a,0),h=ree(u,f.add(new er(.1).mul(c)),c);return t>r?EN(h):h}function JJe(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=nee([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var o=Math.max(t,2),l=aee(new er(s).sub(i).div(o-1),a,0),c=[...ree(new er(i),new er(s),l),s];return a===!1&&(c=c.map(u=>Math.round(u))),r>n?EN(c):c}var ZJe=eee(QJe),eZe=eee(JJe),see=e=>e.rootProps.maxBarSize,tZe=e=>e.rootProps.barGap,oee=e=>e.rootProps.barCategoryGap,rZe=e=>e.rootProps.barSize,ax=e=>e.rootProps.stackOffset,n4=e=>e.options.chartName,a4=e=>e.rootProps.syncId,lee=e=>e.rootProps.syncMethod,i4=e=>e.options.eventEmitter,Fl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},zi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},zS=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},nZe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Fl.angleAxisId,includeHidden:!1,name:void 0,reversed:Fl.reversed,scale:Fl.scale,tick:Fl.tick,tickCount:void 0,ticks:void 0,type:Fl.type,unit:void 0},aZe={allowDataOverflow:zi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zi.scale,tick:zi.tick,tickCount:zi.tickCount,ticks:void 0,type:zi.type,unit:void 0},iZe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Fl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fl.scale,tick:Fl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},sZe={allowDataOverflow:zi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:zi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:zi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:zi.scale,tick:zi.tick,tickCount:zi.tickCount,ticks:void 0,type:"category",unit:void 0},s4=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?iZe:nZe,o4=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?sZe:aZe,WS=e=>e.polarOptions,l4=ge([Pc,Ic,Wn],UJ),cee=ge([WS,l4],(e,t)=>{if(e!=null)return Wa(e.innerRadius,t,0)}),uee=ge([WS,l4],(e,t)=>{if(e!=null)return Wa(e.outerRadius,t,t*.8)}),oZe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},dee=ge([WS],oZe);ge([s4,dee],zS);var fee=ge([l4,cee,uee],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ge([o4,fee],zS);var hee=ge([Nt,WS,cee,uee,Pc,Ic],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:Wa(s,a,a/2),cy:Wa(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),Br=(e,t)=>t,ix=(e,t,r)=>r;function HS(e){return e==null?void 0:e.id}var Kn=e=>{var t=Nt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},qm=e=>e.tooltip.settings.axisId,la=e=>{var t=Kn(e),r=qm(e);return sx(e,t,r)},mee=ge([la],e=>e==null?void 0:e.dataKey);function pee(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=HS(o);c.forEach((f,h)=>{var m=i==null||a?h:String(or(f,i,null)),p=or(f,o.dataKey,0),g;s.has(m)?g=s.get(m):g={},Object.assign(g,{[u]:p}),s.set(m,g)})}}),Array.from(s.values())}function GS(e){return e.stackId!=null&&e.dataKey!=null}function LB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LB(Object(r),!0).forEach(function(n){lZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lZe(e,t,r){return(t=cZe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cZe(e){var t=uZe(e,"string");return typeof t=="symbol"?t:t+""}function uZe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SN=[0,"auto"],Bi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},gee=(e,t)=>e.cartesianAxis.xAxis[t],jc=(e,t)=>{var r=gee(e,t);return r??Bi},Ui={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:SN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Qy},vee=(e,t)=>e.cartesianAxis.yAxis[t],Rc=(e,t)=>{var r=vee(e,t);return r??Ui},dZe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},c4=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??dZe},wn=(e,t,r)=>{switch(t){case"xAxis":return jc(e,r);case"yAxis":return Rc(e,r);case"zAxis":return c4(e,r);case"angleAxis":return s4(e,r);case"radiusAxis":return o4(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},fZe=(e,t,r)=>{switch(t){case"xAxis":return jc(e,r);case"yAxis":return Rc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sx=(e,t,r)=>{switch(t){case"xAxis":return jc(e,r);case"yAxis":return Rc(e,r);case"angleAxis":return s4(e,r);case"radiusAxis":return o4(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yee=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function u4(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ox=e=>e.graphicalItems.cartesianItems,hZe=ge([Br,ix],u4),d4=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),lx=ge([ox,wn,hZe],d4),xee=ge([lx],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(GS)),wee=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),bee=ge([lx],wee),f4=e=>e.map(t=>t.data).filter(Boolean).flat(1),mZe=ge([lx],f4),h4=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},m4=ge([mZe,nx],h4),p4=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:or(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:or(a,n)}))):e.map(n=>({value:n})),KS=ge([m4,wn,lx],p4);function _ee(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function mh(e){return e.filter(t=>gl(t)||t instanceof Date).map(Number).filter(t=>Fi(t)===!1)}function pZe(e,t,r){return!r||typeof t!="number"||Fi(t)?[]:r.length?mh(r.flatMap(n=>{var a=or(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!Ea(i)||!Ea(s)))return[t-i,t+s]})):[]}var gZe=ge([xee,nx,la],pee),Eee=(e,t,r)=>{var n={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[s,o]=i,l=o.map(HS);return[s,{stackedData:Tqe(e,l,r),graphicalItems:o}]}))},Jv=ge([gZe,xee,ax],Eee),See=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=Nqe(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},vZe=ge([Jv,gd,Br],See),Tee=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(s=>{var o,l,c=(o=n[s.id])===null||o===void 0?void 0:o.filter(f=>_ee(a,f)),u=or(i,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:u,errorDomain:pZe(i,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:or(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),qS=e=>e.errorBars,Aee=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>_ee(r,n));ge([bee,qS,Br],Aee);var yZe=ge([m4,wn,bee,qS,Br],Tee);function xZe(e){var{value:t}=e;if(gl(t)||t instanceof Date)return t}var $B=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=mh(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},wZe=(e,t,r)=>{var n=e.map(xZe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&wQ(n))?dZ(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},g4=e=>{var t;if(e==null||!("domain"in e))return SN;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=mh(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:SN},m_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},Cee=e=>e.referenceElements.dots,Ym=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),bZe=ge([Cee,Br,ix],Ym),kee=e=>e.referenceElements.areas,_Ze=ge([kee,Br,ix],Ym),Nee=e=>e.referenceElements.lines,EZe=ge([Nee,Br,ix],Ym),Pee=(e,t)=>{var r=mh(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},SZe=ge(bZe,Br,Pee),Iee=(e,t)=>{var r=mh(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},TZe=ge([_Ze,Br],Iee),Oee=(e,t)=>{var r=mh(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},AZe=ge(EZe,Br,Oee),CZe=ge(SZe,AZe,TZe,(e,t,r)=>m_(e,r,t)),Dee=ge([wn],g4),v4=(e,t,r,n,a,i,s)=>{var o=VJe(t,e.allowDataOverflow);if(o!=null)return o;var l=i==="vertical"&&s==="xAxis"||i==="horizontal"&&s==="yAxis",c=l?m_(r,a,$B(n)):m_(a,$B(n));return zJe(t,c,e.allowDataOverflow)},kZe=ge([wn,Dee,vZe,yZe,CZe,Nt,Br],v4),NZe=[0,1],y4=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=Tl(t,i);return c&&o==null?dZ(0,r.length):l==="category"?wZe(n,e,c):a==="expand"?NZe:s}},x4=ge([wn,Nt,m4,KS,ax,Br,kZe],y4),jee=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Ky(i));return o in Yp?o:"point"}}},Xm=ge([wn,Nt,yee,n4,Br],jee);function PZe(e){if(e!=null){if(e in Yp)return Yp[e]();var t="scale".concat(Ky(e));if(t in Yp)return Yp[t]()}}function w4(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=PZe(t);if(a!=null){var i=a.domain(r).range(n);return wqe(i),i}}}var b4=(e,t,r)=>{var n=g4(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&lm(e))return ZJe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&lm(e))return eZe(e,t.tickCount,t.allowDecimals)}},_4=ge([x4,sx,Xm],b4),E4=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&lm(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},IZe=ge([wn,x4,_4,Br],E4),OZe=ge(KS,wn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(mh(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),Ree=ge(OZe,Nt,oee,Wn,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Ea(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=Wa(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),DZe=(e,t)=>{var r=jc(e,t);return r==null||typeof r.padding!="string"?0:Ree(e,"xAxis",t,r.padding)},jZe=(e,t)=>{var r=Rc(e,t);return r==null||typeof r.padding!="string"?0:Ree(e,"yAxis",t,r.padding)},RZe=ge(jc,DZe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),MZe=ge(Rc,jZe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),FZe=ge([Wn,RZe,jS,DS,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),LZe=ge([Wn,Nt,MZe,jS,DS,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),cx=(e,t,r,n)=>{var a;switch(t){case"xAxis":return FZe(e,r,n);case"yAxis":return LZe(e,r,n);case"zAxis":return(a=c4(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return dee(e);case"radiusAxis":return fee(e,r);default:return}},Mee=ge([wn,cx],zS),Qm=ge([wn,Xm,IZe,Mee],w4);ge([lx,qS,Br],Aee);function Fee(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var YS=(e,t)=>t,XS=(e,t,r)=>r,$Ze=ge(IS,YS,XS,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Fee)),BZe=ge(OS,YS,XS,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Fee)),Lee=(e,t)=>({width:e.width,height:t.height}),UZe=(e,t)=>{var r=typeof t.width=="number"?t.width:Qy;return{width:r,height:e.height}},$ee=ge(Wn,jc,Lee),VZe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},zZe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},WZe=ge(Ic,Wn,$Ze,YS,XS,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var l=Lee(t,o);s==null&&(s=VZe(t,n,e));var c=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),i}),HZe=ge(Pc,Wn,BZe,YS,XS,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var l=UZe(t,o);s==null&&(s=zZe(t,n,e));var c=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),i}),GZe=(e,t)=>{var r=jc(e,t);if(r!=null)return WZe(e,r.orientation,r.mirror)},KZe=ge([Wn,jc,GZe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),qZe=(e,t)=>{var r=Rc(e,t);if(r!=null)return HZe(e,r.orientation,r.mirror)},YZe=ge([Wn,Rc,qZe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),Bee=ge(Wn,Rc,(e,t)=>{var r=typeof t.width=="number"?t.width:Qy;return{width:r,height:e.height}}),BB=(e,t,r)=>{switch(t){case"xAxis":return $ee(e,r).width;case"yAxis":return Bee(e,r).height;default:return}},Uee=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=Tl(e,n),l=t.map(c=>c.value);if(s&&o&&i==="category"&&a&&wQ(l))return l}},S4=ge([Nt,KS,wn,Br],Uee),Vee=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=Tl(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},T4=ge([Nt,KS,sx,Br],Vee),UB=ge([Nt,fZe,Xm,Qm,S4,T4,cx,_4,Br],(e,t,r,n,a,i,s,o,l)=>{if(t==null)return null;var c=Tl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}),XZe=(e,t,r,n,a,i,s,o,l)=>{if(!(t==null||n==null)){var c=Tl(e,l),{type:u,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/m:0;p=l==="angleAxis"&&i!=null&&i.length>=2?ra(i[0]-i[1])*2*p:p;var g=f||a;if(g){var v=g.map((y,w)=>{var b=s?s.indexOf(y):y;return{index:w,coordinate:n(b)+p,value:y,offset:p}});return v.filter(y=>!Fi(y.coordinate))}return c&&o?o.map((y,w)=>({coordinate:n(y)+p,value:y,index:w,offset:p})):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+p,value:y,offset:p})):n.domain().map((y,w)=>({coordinate:n(y)+p,value:s?s[y]:y,index:w,offset:p}))}},zee=ge([Nt,sx,Xm,Qm,_4,cx,S4,T4,Br],XZe),QZe=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Tl(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(n==null?void 0:n.length)>=2?ra(n[0]-n[1])*2*c:c,o&&i?i.map((u,f)=>({coordinate:r(u)+c,value:u,index:f,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,f)=>({coordinate:r(u)+c,value:a?a[u]:u,index:f,offset:c}))}},yl=ge([Nt,sx,Qm,cx,S4,T4,Br],QZe),xl=ge(wn,Qm,(e,t)=>{if(!(e==null||t==null))return h_(h_({},e),{},{scale:t})}),JZe=ge([wn,Xm,x4,Mee],w4);ge((e,t,r)=>c4(e,r),JZe,(e,t)=>{if(!(e==null||t==null))return h_(h_({},e),{},{scale:t})});var ZZe=ge([Nt,IS,OS],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Wee=e=>e.options.defaultTooltipEventType,Hee=e=>e.options.validateTooltipEventTypes;function Gee(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function A4(e,t){var r=Wee(e),n=Hee(e);return Gee(t,r,n)}function eet(e){return Je(t=>A4(t,e))}var Kee=(e,t)=>{var r,n=Number(t);if(!(Fi(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},tet=e=>e.tooltip.settings,su={active:!1,index:null,dataKey:void 0,coordinate:void 0},ret={itemInteraction:{click:su,hover:su},axisInteraction:{click:su,hover:su},keyboardInteraction:su,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},qee=ds({name:"tooltip",initialState:ret,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=rc(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:net,removeTooltipEntrySettings:aet,setTooltipSettingsState:iet,setActiveMouseOverItemIndex:Yee,mouseLeaveItem:set,mouseLeaveChart:Xee,setActiveClickItemIndex:oet,setMouseOverAxisIndex:Qee,setMouseClickAxisIndex:cet,setSyncInteraction:TN,setKeyboardInteraction:AN}=qee.actions,uet=qee.reducer;function VB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VB(Object(r),!0).forEach(function(n){det(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function det(e,t,r){return(t=fet(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fet(e){var t=het(e,"string");return typeof t=="symbol"?t:t+""}function het(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function met(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function pet(e){return e.index!=null}var Jee=(e,t,r,n)=>{if(t==null)return su;var a=met(e,t,r);if(a==null)return su;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(pet(a)){if(i)return I1(I1({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return I1(I1({},su),{},{coordinate:a.coordinate})},C4=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Ea(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},Zee=(e,t,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,i);if(c!=null)return c;var u=a==null?void 0:a[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},ete=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},ux=e=>e.options.tooltipPayloadSearcher,Jm=e=>e.tooltip;function zB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zB(Object(r),!0).forEach(function(n){get(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function get(e,t,r){return(t=vet(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vet(e){var t=yet(e,"string");return typeof t=="symbol"?t:t+""}function yet(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xet(e,t){return e??t}var tte=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:v}=m,y=xet(g,o),w=Array.isArray(y)?VJ(y,c,u):y,b=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,E=v==null?void 0:v.nameKey,k;if(n&&Array.isArray(w)&&!Array.isArray(w[0])&&s==="axis"?k=bQ(w,n,a):k=i(w,t,l,E),Array.isArray(k))k.forEach(S=>{var _=WB(WB({},v),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});h.push(P8({tooltipEntrySettings:_,dataKey:S.dataKey,payload:S.payload,value:or(S.payload,S.dataKey),name:S.name}))});else{var C;h.push(P8({tooltipEntrySettings:v,dataKey:b,payload:k,value:or(k,b),name:(C=or(k,E))!==null&&C!==void 0?C:v==null?void 0:v.name}))}return h},f)}},k4=ge([la,Nt,yee,n4,Kn],jee),wet=ge([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),bet=ge([Kn,qm],u4),dx=ge([wet,la,bet],d4),_et=ge([dx],e=>e.filter(GS)),Eet=ge([dx],f4),Zm=ge([Eet,gd],h4),Tet=ge([_et,gd,la],pee),N4=ge([Zm,la,dx],p4),Aet=ge([la],g4),Cet=ge([dx],e=>e.filter(GS)),ket=ge([Tet,Cet,ax],Eee),Net=ge([ket,gd,Kn],See),Pet=ge([dx],wee),Iet=ge([Zm,la,Pet,qS,Kn],Tee),Oet=ge([Cee,Kn,qm],Ym),Det=ge([Oet,Kn],Pee),jet=ge([kee,Kn,qm],Ym),Ret=ge([jet,Kn],Iee),Met=ge([Nee,Kn,qm],Ym),Fet=ge([Met,Kn],Oee),Let=ge([Det,Fet,Ret],m_),$et=ge([la,Aet,Net,Iet,Let,Nt,Kn],v4),rte=ge([la,Nt,Zm,N4,ax,Kn,$et],y4),Bet=ge([rte,la,k4],b4),Uet=ge([la,rte,Bet,Kn],E4),nte=e=>{var t=Kn(e),r=qm(e),n=!1;return cx(e,t,r,n)},ate=ge([la,nte],zS),ite=ge([la,k4,Uet,ate],w4),Vet=ge([Nt,N4,la,Kn],Uee),zet=ge([Nt,N4,la,Kn],Vee),Wet=(e,t,r,n,a,i,s,o)=>{if(t){var{type:l}=t,c=Tl(e,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ra(a[0]-a[1])*2*f:f,c&&s?s.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},Mc=ge([Nt,la,k4,ite,nte,Vet,zet,Kn],Wet),P4=ge([Wee,Hee,tet],(e,t,r)=>Gee(r.shared,e,t)),ste=e=>e.tooltip.settings.trigger,I4=e=>e.tooltip.settings.defaultIndex,QS=ge([Jm,P4,ste,I4],Jee),qu=ge([QS,Zm],C4),ote=ge([Mc,qu],Kee),lte=ge([QS],e=>{if(e)return e.dataKey}),cte=ge([Jm,P4,ste,I4],ete),Het=ge([Pc,Ic,Nt,Wn,Mc,I4,cte,ux],Zee),Get=ge([QS,Het],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Ket=ge([QS],e=>e.active),qet=ge([cte,qu,gd,mee,ote,ux,P4],tte),Yet=ge([qet],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function HB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HB(Object(r),!0).forEach(function(n){Xet(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xet(e,t,r){return(t=Qet(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qet(e){var t=Jet(e,"string");return typeof t=="symbol"?t:t+""}function Jet(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zet=()=>Je(la),ett=()=>{var e=Zet(),t=Je(Mc),r=Je(ite);return Kf(GB(GB({},e),{},{scale:r}),t)},ute=()=>Je(n4),O4=(e,t)=>t,dte=(e,t,r)=>r,D4=(e,t,r,n)=>n,ttt=ge(Mc,e=>TS(e,t=>t.coordinate)),j4=ge([Jm,O4,dte,D4],Jee),fte=ge([j4,Zm],C4),rtt=(e,t,r)=>{if(t!=null){var n=Jm(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},hte=ge([Jm,O4,dte,D4],ete),p_=ge([Pc,Ic,Nt,Wn,Mc,D4,hte,ux],Zee),ntt=ge([j4,p_],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),mte=ge(Mc,fte,Kee),att=ge([hte,fte,gd,mee,mte,ux,O4],tte),itt=ge([j4],e=>({isActive:e.active,activeIndex:e.index})),stt=(e,t,r,n,a,i,s,o)=>{if(!(!e||!t||!n||!a||!i)){var l=Pqe(e.chartX,e.chartY,t,r,o);if(l){var c=Oqe(l,t),u=yqe(c,s,i,n,a),f=Iqe(t,i,u,l);return{activeIndex:String(u),activeCoordinate:f}}}};function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CN.apply(null,arguments)}function KB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KB(Object(r),!0).forEach(function(n){ott(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ott(e,t,r){return(t=ltt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ltt(e){var t=ctt(e,"string");return typeof t=="symbol"?t:t+""}function ctt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function utt(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:s,cursor:o,tooltipEventType:l,chartName:c}=e,u=t,f=r,h=n;if(!o||!u||c!=="ScatterChart"&&l!=="axis")return null;var m,p;if(c==="ScatterChart")m=u,p=OYe;else if(c==="BarChart")m=DYe(s,u,a,i),p=aZ;else if(s==="radial"){var{cx:g,cy:v,radius:y,startAngle:w,endAngle:b}=iZ(u);m={cx:g,cy:v,startAngle:w,endAngle:b,innerRadius:y,outerRadius:y},p=oZ}else m={points:fXe(s,u,a)},p=T0;var E=typeof o=="object"&&"className"in o?o.className:void 0,k=O1(O1(O1(O1({stroke:"#ccc",pointerEvents:"none"},a),m),jr(o,!1)),{},{payload:f,payloadIndex:h,className:Dt("recharts-tooltip-cursor",E)});return T.isValidElement(o)?T.cloneElement(o,k):T.createElement(p,k)}function dtt(e){var t=ett(),r=YJ(),n=Jy(),a=ute();return T.createElement(utt,CN({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var pte=T.createContext(null),ftt=()=>T.useContext(pte),gte={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new a(u,f||l,h),p=r?r+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,m,p){var g=r?r+c:c;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,w,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,m),!0;case 6:return v.fn.call(v.context,u,f,h,m,p),!0}for(b=1,w=new Array(y-1);b<y;b++)w[b-1]=arguments[b];v.fn.apply(v.context,w)}else{var E=v.length,k;for(b=0;b<E;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,f);break;case 4:v[b].fn.call(v[b].context,u,f,h);break;default:if(!w)for(k=1,w=new Array(y-1);k<y;k++)w[k-1]=arguments[k];v[b].fn.apply(v[b].context,w)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var m=r?r+c:c;if(!this._events[m])return this;if(!u)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===u&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,v=[],y=p.length;g<y;g++)(p[g].fn!==u||h&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(gte);var htt=gte.exports;const mtt=on(htt);var Zv=new mtt,kN="recharts.syncEvent.tooltip",qB="recharts.syncEvent.brush";function JS(e,t){if(t){var r=Number.parseInt(t,10);if(!Fi(r))return e==null?void 0:e[r]}}var ptt={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},vte=ds({name:"options",initialState:ptt,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gtt=vte.reducer,{createEventEmitter:vtt}=vte.actions;function ytt(e){return e.tooltip.syncInteraction}var xtt={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},yte=ds({name:"chartData",initialState:xtt,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:YB,setDataStartEndIndexes:wtt,setComputedData:vct}=yte.actions,btt=yte.reducer,_tt=["x","y"];function XB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Td(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XB(Object(r),!0).forEach(function(n){Ett(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ett(e,t,r){return(t=Stt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Stt(e){var t=Ttt(e,"string");return typeof t=="symbol"?t:t+""}function Ttt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Att(e,t){if(e==null)return{};var r,n,a=Ctt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ctt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xte=()=>{};function ktt(){var e=Je(a4),t=Je(i4),r=Xr(),n=Je(lee),a=Je(Mc),i=Jy(),s=Cj(),o=Je(l=>l.rootProps.className);T.useEffect(()=>{if(e==null)return xte;var l=(c,u,f)=>{if(t!==f&&e===c){if(n==="index"){var h;if(s&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate){var m=u.payload.coordinate,{x:p,y:g}=m,v=Att(m,_tt),y=Td(Td(Td({},v),typeof p=="number"&&{x:Math.max(s.x,Math.min(p,s.x+s.width))}),typeof g=="number"&&{y:Math.max(s.y,Math.min(g,s.y+s.height))}),w=Td(Td({},u),{},{payload:Td(Td({},u.payload),{},{coordinate:y})});r(w)}else r(u);return}if(a!=null){var b;if(typeof n=="function"){var E={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},k=n(a,E);b=a[k]}else n==="value"&&(b=a.find(D=>String(D.value)===u.payload.label));var{coordinate:C}=u.payload;if(b==null||u.payload.active===!1||C==null||s==null){r(TN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:_}=C,A=Math.min(S,s.x+s.width),P=Math.min(_,s.y+s.height),N={x:i==="horizontal"?b.coordinate:A,y:i==="horizontal"?P:b.coordinate},I=TN({active:u.payload.active,coordinate:N,dataKey:u.payload.dataKey,index:String(b.index),label:u.payload.label});r(I)}}};return Zv.on(kN,l),()=>{Zv.off(kN,l)}},[o,r,t,e,n,a,i,s])}function Ntt(){var e=Je(a4),t=Je(i4),r=Xr();T.useEffect(()=>{if(e==null)return xte;var n=(a,i,s)=>{t!==s&&e===a&&r(wtt(i))};return Zv.on(qB,n),()=>{Zv.off(qB,n)}},[r,t,e])}function Ptt(){var e=Xr();T.useEffect(()=>{e(vtt())},[e]),ktt(),Ntt()}function Itt(e,t,r,n,a,i){var s=Je(h=>rtt(h,e,t)),o=Je(i4),l=Je(a4),c=Je(lee),u=Je(ytt),f=u==null?void 0:u.active;T.useEffect(()=>{if(!f&&l!=null&&o!=null){var h=TN({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n});Zv.emit(kN,l,h,o)}},[f,r,s,a,n,o,l,c,i])}function QB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QB(Object(r),!0).forEach(function(n){Ott(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ott(e,t,r){return(t=Dtt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dtt(e){var t=jtt(e,"string");return typeof t=="symbol"?t:t+""}function jtt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rtt(e){return e.dataKey}function Mtt(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(uYe,t)}var ZB=[],Ftt={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Oc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Kl(e){var t=Hn(e,Ftt),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:s,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:u,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:g,shared:v,trigger:y,defaultIndex:w,portal:b,axisId:E}=t,k=Xr(),C=typeof w=="number"?String(w):w;T.useEffect(()=>{k(iet({shared:v,trigger:y,axisId:E,active:r,defaultIndex:C}))},[k,v,y,E,r,C]);var S=Cj(),_=ZJ(),A=eet(v),{activeIndex:P,isActive:N}=Je(Y=>itt(Y,A,y,C)),I=Je(Y=>att(Y,A,y,C)),D=Je(Y=>mte(Y,A,y,C)),M=Je(Y=>ntt(Y,A,y,C)),ee=I,Q=ftt(),W=r??N,[z,L]=gJ([ee,W]),ae=A==="axis"?D:void 0;Itt(A,y,M,ae,P,W);var ue=b??Q;if(ue==null)return null;var F=ee??ZB;W||(F=ZB),o&&F.length&&(F=aJ(ee.filter(Y=>Y.value!=null&&(Y.hide!==!0||t.includeHidden)),u,Rtt));var U=F.length>0,K=T.createElement(vYe,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:l,active:W,coordinate:M,hasPayload:U,offset:c,position:f,reverseDirection:h,useTranslate3d:m,viewBox:S,wrapperStyle:p,lastBoundingBox:z,innerRef:L,hasPortalFromProps:!!b},Mtt(s,JB(JB({},t),{},{payload:F,label:ae,active:W,coordinate:M,accessibilityLayer:_})));return T.createElement(T.Fragment,null,z_.createPortal(K,ue),W&&T.createElement(dtt,{cursor:g,tooltipEventType:A,coordinate:M,payload:ee,index:P}))}var wte={},bte={},_te={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,o=null;const l=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),u=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{c&&u(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),s=void 0,o=null},v=()=>{u()},y=function(...w){if(a!=null&&a.aborted)return;s=this,o=w;const b=h==null;m(),l&&b&&u()};return y.schedule=m,y.cancel=g,y.flush=v,a==null||a.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(_te);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_te;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:l}=i,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let u,f=null;const h=t.debounce(function(...g){u=n.apply(this,g),f=null},a,{edges:c}),m=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,g),u)},p=()=>(h.flush(),u);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(bte);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bte;function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:o})}e.throttle=r})(wte);var Ltt=wte.throttle;const $tt=on(Ltt);var Ng=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function eU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eU(Object(r),!0).forEach(function(n){Btt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Btt(e,t,r){return(t=Utt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Utt(e){var t=Vtt(e,"string");return typeof t=="symbol"?t:t+""}function Vtt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ql=T.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:h,onResize:m,style:p={}}=e,g=T.useRef(null),v=T.useRef();v.current=m,T.useImperativeHandle(t,()=>g.current);var[y,w]=T.useState({containerWidth:n.width,containerHeight:n.height}),b=T.useCallback((k,C)=>{w(S=>{var _=Math.round(k),A=Math.round(C);return S.containerWidth===_&&S.containerHeight===A?S:{containerWidth:_,containerHeight:A}})},[]);T.useEffect(()=>{var k=A=>{var P,{width:N,height:I}=A[0].contentRect;b(N,I),(P=v.current)===null||P===void 0||P.call(v,N,I)};u>0&&(k=$tt(k,u,{trailing:!0,leading:!1}));var C=new ResizeObserver(k),{width:S,height:_}=g.current.getBoundingClientRect();return b(S,_),C.observe(g.current),()=>{C.disconnect()}},[b,u]);var E=T.useMemo(()=>{var{containerWidth:k,containerHeight:C}=y;if(k<0||C<0)return null;Ng(Gd(a)||Gd(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),Ng(!r||r>0,"The aspect(%s) must be greater than zero.",r);var S=Gd(a)?k:a,_=Gd(i)?C:i;return r&&r>0&&(S?_=S/r:_&&(S=_*r),l&&_>l&&(_=l)),Ng(S>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,_,a,i,s,o,r),T.Children.map(c,A=>T.cloneElement(A,{width:S,height:_,style:mA({width:S,height:_},A.props.style)}))},[r,c,i,l,o,s,y,a]);return T.createElement("div",{id:f?"".concat(f):void 0,className:Dt("recharts-responsive-container",h),style:mA(mA({},p),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:l}),ref:g},T.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),ep=e=>null;ep.displayName="Cell";function ztt(e,t,r){return(t=Wtt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wtt(e){var t=Htt(e,"string");return typeof t=="symbol"?t:t+""}function Htt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Gtt{constructor(t){ztt(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function tU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ktt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tU(Object(r),!0).forEach(function(n){qtt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qtt(e,t,r){return(t=Ytt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ytt(e){var t=Xtt(e,"string");return typeof t=="symbol"?t:t+""}function Xtt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qtt={cacheSize:2e3,enableCache:!0},Ete=Ktt({},Qtt),rU=new Gtt(Ete.cacheSize),Jtt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},nU="recharts_measurement_span";function Ztt(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}var aU=(e,t)=>{try{var r=document.getElementById(nU);r||(r=document.createElement("span"),r.setAttribute("id",nU),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Jtt,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Pg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Oc.isSsr)return{width:0,height:0};if(!Ete.enableCache)return aU(t,r);var n=Ztt(t,r),a=rU.get(n);if(a)return a;var i=aU(t,r);return rU.set(n,i),i},iU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ert=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,trt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ste={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rrt=Object.keys(Ste),i0="NaN";function nrt(e,t){return e*Ste[t]}class gi{static parse(t){var r,[,n,a]=(r=trt.exec(t))!==null&&r!==void 0?r:[];return new gi(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Fi(t)&&(this.unit=""),r!==""&&!ert.test(r)&&(this.num=NaN,this.unit=""),rrt.includes(r)&&(this.num=nrt(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new gi(NaN,""):new gi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new gi(NaN,""):new gi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gi(NaN,""):new gi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new gi(NaN,""):new gi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fi(this.num)}}function Tte(e){if(e.includes(i0))return i0;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=iU.exec(t))!==null&&r!==void 0?r:[],s=gi.parse(n??""),o=gi.parse(i??""),l=a==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return i0;t=t.replace(iU,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,f,h]=(c=sU.exec(t))!==null&&c!==void 0?c:[],m=gi.parse(u??""),p=gi.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return i0;t=t.replace(sU,g.toString())}return t}var oU=/\(([^()]*)\)/;function art(e){for(var t=e,r;(r=oU.exec(t))!=null;){var[,n]=r;t=t.replace(oU,Tte(n))}return t}function irt(e){var t=e.replace(/\s+/g,"");return t=art(t),t=Tte(t),t}function srt(e){try{return irt(e)}catch{return i0}}function pA(e){var t=srt(e.slice(5,-1));return t===i0?"":t}var ort=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lrt=["dx","dy","angle","className","breakAll"];function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NN.apply(null,arguments)}function lU(e,t){if(e==null)return{};var r,n,a=crt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function crt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ate=/[ \f\n\r\t\v\u2028\u2029]+/,Cte=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Dr(t)||(r?a=t.toString().split(""):a=t.toString().split(Ate));var i=a.map(o=>({word:o,width:Pg(o,n).width})),s=r?0:Pg(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},urt=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:l}=e,c=et(i),u=s,f=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N.reduce((I,D)=>{var{word:M,width:ee}=D,Q=I[I.length-1];if(Q&&(n==null||a||Q.width+ee+r<Number(n)))Q.words.push(M),Q.width+=ee+r;else{var W={words:[M],width:ee};I.push(W)}return I},[])},h=f(t),m=P=>P.reduce((N,I)=>N.width>I.width?N:I);if(!c||a)return h;var p=h.length>i||m(h).width>Number(n);if(!p)return h;for(var g="…",v=P=>{var N=u.slice(0,P),I=Cte({breakAll:l,style:o,children:N+g}).wordsWithComputedWidth,D=f(I),M=D.length>i||m(D).width>Number(n);return[M,D]},y=0,w=u.length-1,b=0,E;y<=w&&b<=u.length-1;){var k=Math.floor((y+w)/2),C=k-1,[S,_]=v(C),[A]=v(k);if(!S&&!A&&(y=k+1),S&&A&&(w=k-1),!S&&A){E=_;break}b++}return E||h},cU=e=>{var t=Dr(e)?[]:e.toString().split(Ate);return[{words:t}]},drt=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!Oc.isSsr){var o,l,c=Cte({breakAll:i,children:n,style:a});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return cU(n);return urt({breakAll:i,children:n,maxLines:s,style:a},o,l,t,r)}return cU(n)},uU="#808080",ZS=T.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=uU}=e,u=lU(e,ort),f=T.useMemo(()=>drt({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:s,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,s,u.style,u.width]),{dx:h,dy:m,angle:p,className:g,breakAll:v}=u,y=lU(u,lrt);if(!gl(r)||!gl(n)||f.length===0)return null;var w=r+(et(h)?h:0),b=n+(et(m)?m:0),E;switch(l){case"start":E=pA("calc(".concat(i,")"));break;case"middle":E=pA("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:E=pA("calc(".concat(f.length-1," * -").concat(a,")"));break}var k=[];if(s){var C=f[0].width,{width:S}=u;k.push("scale(".concat(et(S)?S/C:1,")"))}return p&&k.push("rotate(".concat(p,", ").concat(w,", ").concat(b,")")),k.length&&(y.transform=k.join(" ")),T.createElement("text",NN({},jr(y,!0),{ref:t,x:w,y:b,className:Dt("recharts-text",g),textAnchor:o,fill:c.includes("url")?uU:c}),f.map((_,A)=>{var P=_.words.join(v?"":" ");return T.createElement("tspan",{x:w,dy:A===0?E:a,key:"".concat(P,"-").concat(A)},P)}))});ZS.displayName="Text";var frt=["labelRef"];function hrt(e,t){if(e==null)return{};var r,n,a=mrt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mrt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dU(Object(r),!0).forEach(function(n){prt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function prt(e,t,r){return(t=grt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function grt(e){var t=vrt(e,"string");return typeof t=="symbol"?t:t+""}function vrt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(null,arguments)}var kte=T.createContext(null),yrt=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,s=T.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return T.createElement(kte.Provider,{value:s},i)},Nte=()=>{var e=T.useContext(kte),t=Cj();return e||t},xrt=T.createContext(null),wrt=()=>{var e=T.useContext(xrt),t=Je(hee);return e||t},brt=e=>{var{value:t,formatter:r}=e,n=Dr(e.children)?t:e.children;return typeof r=="function"?r(n):n},R4=e=>e!=null&&typeof e=="function",_rt=(e,t)=>{var r=ra(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Ert=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:h,clockWise:m}=a,p=(c+u)/2,g=_rt(f,h),v=g>=0?1:-1,y,w;switch(t){case"insideStart":y=f+v*i,w=m;break;case"insideEnd":y=h-v*i,w=!m;break;case"end":y=h+v*i,w=m;break;default:throw new Error("Unsupported position ".concat(t))}w=g<=0?w:!w;var b=Pn(o,l,p,y),E=Pn(o,l,p,y+(w?1:-1)*359),k="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(w?0:1,`,
    `).concat(E.x,",").concat(E.y),C=Dr(e.id)?zv("recharts-radial-line-"):e.id;return T.createElement("text",Ll({},n,{dominantBaseline:"central",className:Dt("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:C,d:k})),T.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Srt=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(r==="outside"){var{x:u,y:f}=Pn(n,a,s+t,c);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:m,y:p}=Pn(n,a,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Pte=e=>"cx"in e&&et(e.cx),Trt=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!Pte(r)&&(i=r);var{x:s,y:o,width:l,height:c}=t,u=c>=0?1:-1,f=u*n,h=u>0?"end":"start",m=u>0?"start":"end",p=l>=0?1:-1,g=p*n,v=p>0?"end":"start",y=p>0?"start":"end";if(a==="top"){var w={x:s+l/2,y:o-u*n,textAnchor:"middle",verticalAnchor:h};return dn(dn({},w),i?{height:Math.max(o-i.y,0),width:l}:{})}if(a==="bottom"){var b={x:s+l/2,y:o+c+f,textAnchor:"middle",verticalAnchor:m};return dn(dn({},b),i?{height:Math.max(i.y+i.height-(o+c),0),width:l}:{})}if(a==="left"){var E={x:s-g,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return dn(dn({},E),i?{width:Math.max(E.x-i.x,0),height:c}:{})}if(a==="right"){var k={x:s+l+g,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return dn(dn({},k),i?{width:Math.max(i.x+i.width-k.x,0),height:c}:{})}var C=i?{width:l,height:c}:{};return a==="insideLeft"?dn({x:s+g,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},C):a==="insideRight"?dn({x:s+l-g,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},C):a==="insideTop"?dn({x:s+l/2,y:o+f,textAnchor:"middle",verticalAnchor:m},C):a==="insideBottom"?dn({x:s+l/2,y:o+c-f,textAnchor:"middle",verticalAnchor:h},C):a==="insideTopLeft"?dn({x:s+g,y:o+f,textAnchor:y,verticalAnchor:m},C):a==="insideTopRight"?dn({x:s+l-g,y:o+f,textAnchor:v,verticalAnchor:m},C):a==="insideBottomLeft"?dn({x:s+g,y:o+c-f,textAnchor:y,verticalAnchor:h},C):a==="insideBottomRight"?dn({x:s+l-g,y:o+c-f,textAnchor:v,verticalAnchor:h},C):a&&typeof a=="object"&&(et(a.x)||Gd(a.x))&&(et(a.y)||Gd(a.y))?dn({x:s+Wa(a.x,l),y:o+Wa(a.y,c),textAnchor:"end",verticalAnchor:"end"},C):dn({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},C)},Art={offset:5};function Zc(e){var t=Hn(e,Art),{viewBox:r,position:n,value:a,children:i,content:s,className:o="",textBreakAll:l,labelRef:c}=t,u=wrt(),f=Nte(),h=n==="center"?f:u??f,m=r||h;if(!m||Dr(a)&&Dr(i)&&!T.isValidElement(s)&&typeof s!="function")return null;var p=dn(dn({},t),{},{viewBox:m});if(T.isValidElement(s)){var{labelRef:g}=p,v=hrt(p,frt);return T.cloneElement(s,v)}var y;if(typeof s=="function"){if(y=T.createElement(s,p),T.isValidElement(y))return y}else y=brt(t);var w=Pte(m),b=jr(t,!0);if(w&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Ert(t,n,y,b,m);var E=w?Srt(m,t.offset,t.position):Trt(t,m);return T.createElement(ZS,Ll({ref:c,className:Dt("recharts-label",o)},b,E,{breakAll:l}),y)}Zc.displayName="Label";var Crt=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?T.createElement(Zc,Ll({key:"label-implicit"},n)):gl(e)?T.createElement(Zc,Ll({key:"label-implicit",value:e},n)):T.isValidElement(e)?e.type===Zc?T.cloneElement(e,dn({key:"label-implicit"},n)):T.createElement(Zc,Ll({key:"label-implicit",content:e},n)):R4(e)?T.createElement(Zc,Ll({key:"label-implicit",content:e},n)):e&&typeof e=="object"?T.createElement(Zc,Ll({},e,{key:"label-implicit"},n)):null};function krt(e){var{label:t}=e,r=Nte();return Crt(t,r)||null}var Ite={},Ote={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Ote);var Dte={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Dte);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ote,r=Dte,n=ES;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Ite);var Nrt=Ite.last;const Prt=on(Nrt);var Irt=["valueAccessor"],Ort=["dataKey","clockWise","id","textBreakAll"];function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(null,arguments)}function fU(e,t){if(e==null)return{};var r,n,a=Drt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Drt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jrt=e=>Array.isArray(e.value)?Prt(e.value):e.value,jte=T.createContext(void 0),M4=jte.Provider,Rte=T.createContext(void 0),Rrt=Rte.Provider;function Mrt(){return T.useContext(jte)}function Frt(){return T.useContext(Rte)}function fw(e){var{valueAccessor:t=jrt}=e,r=fU(e,Irt),{dataKey:n,clockWise:a,id:i,textBreakAll:s}=r,o=fU(r,Ort),l=Mrt(),c=Frt(),u=l||c;return!u||!u.length?null:T.createElement(sn,{className:"recharts-label-list"},u.map((f,h)=>{var m,p=Dr(n)?t(f,h):or(f&&f.payload,n),g=Dr(i)?{}:{id:"".concat(i,"-").concat(h)};return T.createElement(Zc,g_({},jr(f,!0),o,g,{fill:(m=r.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:p,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}fw.displayName="LabelList";function e2(e){var{label:t}=e;return t?t===!0?T.createElement(fw,{key:"labelList-implicit"}):T.isValidElement(t)||R4(t)?T.createElement(fw,{key:"labelList-implicit",content:t}):typeof t=="object"?T.createElement(fw,g_({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function PN(){return PN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PN.apply(null,arguments)}var F4=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Dt("recharts-dot",a);return t===+t&&r===+r&&n===+n?T.createElement("circle",PN({},Js(e),ej(e),{className:i,cx:t,cy:r,r:n})):null},Mte=e=>e.graphicalItems.polarItems,Lrt=ge([Br,ix],u4),L4=ge([Mte,wn,Lrt],d4),$rt=ge([L4],f4),$4=ge([$rt,e4],h4),Brt=ge([$4,wn,L4],p4),Urt=ge([$4,wn,L4],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,s=or(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:or(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),hU=()=>{},Vrt=ge([wn,Dee,hU,Urt,hU,Nt,Br],v4),Fte=ge([wn,Nt,$4,Brt,ax,Br,Vrt],y4),zrt=ge([Fte,wn,Xm],b4);ge([wn,Fte,zrt,Br],E4);var Wrt={radiusAxis:{},angleAxis:{}},Lte=ds({name:"polarAxis",initialState:Wrt,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:yct,removeRadiusAxis:xct,addAngleAxis:wct,removeAngleAxis:bct}=Lte.actions,Hrt=Lte.reducer;function mU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mU(Object(r),!0).forEach(function(n){Grt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Grt(e,t,r){return(t=Krt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Krt(e){var t=qrt(e,"string");return typeof t=="symbol"?t:t+""}function qrt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yrt=(e,t)=>t,B4=ge([Mte,Yrt],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Xrt=[],U4=(e,t,r)=>(r==null?void 0:r.length)===0?Xrt:r,$te=ge([e4,B4,U4],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>pU(pU({},t.presentationProps),i.props))),a!=null)return a}}),Qrt=ge([$te,B4,U4],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,s=or(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:hd(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),Jrt=ge([$te,B4,U4,Wn],(e,t,r,n)=>{if(!(t==null||e==null))return Knt({offset:n,pieSettings:t,displayedData:e,cells:r})}),Bte={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(Bte);var Zrt=Bte.isPlainObject;const ent=on(Zrt);function gU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gU(Object(r),!0).forEach(function(n){tnt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tnt(e,t,r){return(t=rnt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rnt(e){var t=nnt(e,"string");return typeof t=="symbol"?t:t+""}function nnt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(null,arguments)}var yU=(e,t,r,n,a)=>{var i=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},ant={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},int=e=>{var t=Hn(e,ant),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=t,h=T.useRef(),[m,p]=T.useState(-1),g=T.useRef(a),v=T.useRef(i),y=T.useRef(s),w=T.useRef(r),b=T.useRef(n),E=Wm(e,"trapezoid-");if(T.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var M=h.current.getTotalLength();M&&p(M)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var k=Dt("recharts-trapezoid",o);if(!f)return T.createElement("g",null,T.createElement("path",v_({},jr(t,!0),{className:k,d:yU(r,n,a,i,s)})));var C=g.current,S=v.current,_=y.current,A=w.current,P=b.current,N="0px ".concat(m===-1?1:m,"px"),I="".concat(m,"px 0px"),D=eZ(["strokeDasharray"],c,l);return T.createElement(zm,{animationId:E,key:E,canBegin:m>0,duration:c,easing:l,isActive:f,begin:u},M=>{var ee=ir(C,a,M),Q=ir(S,i,M),W=ir(_,s,M),z=ir(A,r,M),L=ir(P,n,M);h.current&&(g.current=ee,v.current=Q,y.current=W,w.current=z,b.current=L);var ae=M>0?{transition:D,strokeDasharray:I}:{strokeDasharray:N};return T.createElement("path",v_({},jr(t,!0),{className:k,d:yU(z,L,ee,Q,W),ref:h,style:vU(vU({},ae),t.style)}))})},snt=["option","shapeType","propTransformer","activeClassName","isActive"];function ont(e,t){if(e==null)return{};var r,n,a=lnt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lnt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xU(Object(r),!0).forEach(function(n){cnt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cnt(e,t,r){return(t=unt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function unt(e){var t=dnt(e,"string");return typeof t=="symbol"?t:t+""}function dnt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fnt(e,t){return y_(y_({},t),e)}function hnt(e,t){return e==="symbols"}function wU(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return T.createElement(aZ,r);case"trapezoid":return T.createElement(int,r);case"sector":return T.createElement(oZ,r);case"symbols":if(hnt(t))return T.createElement(sj,r);break;default:return null}}function mnt(e){return T.isValidElement(e)?e.props:e}function Ute(e){var{option:t,shapeType:r,propTransformer:n=fnt,activeClassName:a="recharts-active-shape",isActive:i}=e,s=ont(e,snt),o;if(T.isValidElement(t))o=T.cloneElement(t,y_(y_({},s),mnt(t)));else if(typeof t=="function")o=t(s);else if(ent(t)&&typeof t!="boolean"){var l=n(t,s);o=T.createElement(wU,{shapeType:r,elementProps:l})}else{var c=s;o=T.createElement(wU,{shapeType:r,elementProps:c})}return i?T.createElement(sn,{className:a},o):o}var V4=(e,t)=>{var r=Xr();return(n,a)=>i=>{e==null||e(n,a,i),r(Yee({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},z4=e=>{var t=Xr();return(r,n)=>a=>{e==null||e(r,n,a),t(set())}},W4=(e,t)=>{var r=Xr();return(n,a)=>i=>{e==null||e(n,a,i),r(oet({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function t2(e){var{fn:t,args:r}=e,n=Xr(),a=Ja();return T.useEffect(()=>{if(!a){var i=t(r);return n(net(i)),()=>{n(aet(i))}}},[t,r,n,a]),null}var Vte=()=>{};function H4(e){var{legendPayload:t}=e,r=Xr(),n=Ja();return T.useEffect(()=>n?Vte:(r(QJ(t)),()=>{r(JJ(t))}),[r,n,t]),null}function pnt(e){var{legendPayload:t}=e,r=Xr(),n=Je(Nt);return T.useEffect(()=>n!=="centric"&&n!=="radial"?Vte:(r(QJ(t)),()=>{r(JJ(t))}),[r,n,t]),null}var gA,gnt=()=>{var[e]=T.useState(()=>zv("uid-"));return e},vnt=(gA=lne.useId)!==null&&gA!==void 0?gA:gnt;function ynt(e,t){var r=vnt();return t||(e?"".concat(e,"-").concat(r):r)}var xnt=T.createContext(void 0),r2=e=>{var{id:t,type:r,children:n}=e,a=ynt("recharts-".concat(r),t);return T.createElement(xnt.Provider,{value:a},n(a))},wnt={cartesianItems:[],polarItems:[]},zte=ds({name:"graphicalItems",initialState:wnt,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=rc(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=rc(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=rc(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:bnt,replaceCartesianGraphicalItem:_nt,removeCartesianGraphicalItem:Ent,addPolarGraphicalItem:Snt,removePolarGraphicalItem:Tnt}=zte.actions,Ant=zte.reducer;function G4(e){var t=Xr(),r=T.useRef(null);return T.useEffect(()=>{r.current===null?t(bnt(e)):r.current!==e&&t(_nt({prev:r.current,next:e})),r.current=e},[t,e]),T.useEffect(()=>()=>{r.current&&(t(Ent(r.current)),r.current=null)},[t]),null}function Cnt(e){var t=Xr();return T.useEffect(()=>(t(Snt(e)),()=>{t(Tnt(e))}),[t,e]),null}var knt=["onMouseEnter","onClick","onMouseLeave"],Nnt=["id"],Pnt=["id"];function K4(e,t){if(e==null)return{};var r,n,a=Int(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Int(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bU(Object(r),!0).forEach(function(n){Ont(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ont(e,t,r){return(t=Dnt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dnt(e){var t=jnt(e,"string");return typeof t=="symbol"?t:t+""}function jnt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yu(){return Yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yu.apply(null,arguments)}function Rnt(e){var t=T.useMemo(()=>tj(e.children,ep),[e.children]),r=Je(n=>Qrt(n,e.id,t));return r==null?null:T.createElement(pnt,{legendPayload:r})}function Mnt(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:n.map(u=>u.tooltipPayload),positions:n.map(u=>u.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:hd(o,t),hide:l,type:c,color:s,unit:""}}}var Fnt=(e,t)=>e>t?"start":e<t?"end":"middle",Lnt=(e,t,r)=>Wa(typeof t=="function"?t(e):t,r,r*.8),$nt=(e,t,r)=>{var{top:n,left:a,width:i,height:s}=t,o=UJ(i,s),l=a+Wa(e.cx,i,i/2),c=n+Wa(e.cy,s,s/2),u=Wa(e.innerRadius,o,0),f=Lnt(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}},Bnt=(e,t)=>{var r=ra(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Unt(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Vnt=(e,t)=>{if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Dt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return T.createElement(T0,Yu({},t,{type:"linear",className:r}))},znt=(e,t,r)=>{if(T.isValidElement(e))return T.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),T.isValidElement(n)))return n;var a=Dt("recharts-pie-label-text",Unt(e));return T.createElement(ZS,Yu({},t,{alignmentBaseline:"middle",className:a}),n)};function Wnt(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:s}=r;if(!n||!a||!t)return null;var o=Js(r),l=jr(a,!1),c=jr(i,!1),u=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=Pn(h.cx,h.cy,h.outerRadius+u,p),v=Rr(Rr(Rr(Rr({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:Fnt(g.x,h.cx)},g),y=Rr(Rr(Rr(Rr({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:m,points:[Pn(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return T.createElement(sn,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},i&&Vnt(i,y),znt(a,v,or(h,s)))});return T.createElement(sn,{className:"recharts-pie-labels"},f)}function Hnt(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?T.createElement(e2,{label:a}):T.createElement(Wnt,{sectors:t,props:r,showLabels:n})}function Gnt(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=Je(qu),{onMouseEnter:s,onClick:o,onMouseLeave:l}=a,c=K4(a,knt),u=V4(s,a.dataKey),f=z4(l),h=W4(o,a.dataKey);return t==null||t.length===0?null:T.createElement(T.Fragment,null,t.map((m,p)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&t.length!==1)return null;var g=r&&String(p)===i,v=i?n:null,y=g?r:v,w=Rr(Rr({},m),{},{stroke:m.stroke,tabIndex:-1,[KJ]:p,[qJ]:a.dataKey});return T.createElement(sn,Yu({tabIndex:-1,className:"recharts-pie-sector"},qy(c,m,p),{onMouseEnter:u(m,p),onMouseLeave:f(m,p),onClick:h(m,p),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(p)}),T.createElement(Ute,Yu({option:y,isActive:g,shapeType:"sector"},w)))}))}function Knt(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=r,h=Math.abs(r.minAngle),m=Bnt(o,l),p=Math.abs(m),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(C=>or(C,c,0)!==0).length,y=(p>=360?v:v-1)*g,w=p-v*h-y,b=n.reduce((C,S)=>{var _=or(S,c,0);return C+(et(_)?_:0)},0),E;if(b>0){var k;E=n.map((C,S)=>{var _=or(C,c,0),A=or(C,u,S),P=$nt(r,i,C),N=(et(_)?_:0)/b,I,D=Rr(Rr({},C),a&&a[S]&&a[S].props);S?I=k.endAngle+ra(m)*g*(_!==0?1:0):I=o;var M=I+ra(m)*((_!==0?h:0)+N*w),ee=(I+M)/2,Q=(P.innerRadius+P.outerRadius)/2,W=[{name:A,value:_,payload:D,dataKey:c,type:f}],z=Pn(P.cx,P.cy,Q,ee);return k=Rr(Rr(Rr(Rr({},r.presentationProps),{},{percent:N,cornerRadius:s,name:A,tooltipPayload:W,midAngle:ee,middleRadius:Q,tooltipPosition:z},D),P),{},{value:_,startAngle:I,endAngle:M,payload:D,paddingAngle:ra(m)*g}),k})}return E}function qnt(e){var{showLabels:t,sectors:r,children:n}=e,a=T.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return T.createElement(Rrt,{value:t?a:void 0},n)}function Ynt(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:f}=t,h=Wm(t,"recharts-pie-"),m=r.current,[p,g]=T.useState(!1),v=T.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),y=T.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return T.createElement(qnt,{showLabels:!p,sectors:n},T.createElement(zm,{animationId:h,begin:i,duration:s,isActive:a,easing:o,onAnimationStart:y,onAnimationEnd:v,key:h},w=>{var b=[],E=n&&n[0],k=E==null?void 0:E.startAngle;return n==null||n.forEach((C,S)=>{var _=m&&m[S],A=S>0?Wf(C,"paddingAngle",0):0;if(_){var P=ir(_.endAngle-_.startAngle,C.endAngle-C.startAngle,w),N=Rr(Rr({},C),{},{startAngle:k+A,endAngle:k+P+A});b.push(N),k=N.endAngle}else{var{endAngle:I,startAngle:D}=C,M=ir(0,I-D,w),ee=Rr(Rr({},C),{},{startAngle:k+A,endAngle:k+M+A});b.push(ee),k=ee.endAngle}}),r.current=b,T.createElement(sn,null,T.createElement(Gnt,{sectors:b,activeShape:l,inactiveShape:c,allOtherPieProps:t}))}),T.createElement(Hnt,{showLabels:!p,sectors:n,props:t}),t.children)}var Xnt={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Oc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Qnt(e){var{id:t}=e,r=K4(e,Nnt),{hide:n,className:a,rootTabIndex:i}=e,s=T.useMemo(()=>tj(e.children,ep),[e.children]),o=Je(u=>Jrt(u,t,s)),l=T.useRef(null),c=Dt("recharts-pie",a);return n||o==null?(l.current=null,T.createElement(sn,{tabIndex:i,className:c})):T.createElement(T.Fragment,null,T.createElement(t2,{fn:Mnt,args:Rr(Rr({},e),{},{sectors:o})}),T.createElement(sn,{tabIndex:i,className:c},T.createElement(Ynt,{props:Rr(Rr({},r),{},{sectors:o}),previousSectorsRef:l})))}function q4(e){var t=Hn(e,Xnt),{id:r}=t,n=K4(t,Pnt),a=Js(n);return T.createElement(r2,{id:r,type:"pie"},i=>T.createElement(T.Fragment,null,T.createElement(Cnt,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),T.createElement(Rnt,Yu({},n,{id:i})),T.createElement(Qnt,Yu({},n,{id:i}))))}q4.displayName="Pie";function _U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_U(Object(r),!0).forEach(function(n){Jnt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_U(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jnt(e,t,r){return(t=Znt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Znt(e){var t=eat(e,"string");return typeof t=="symbol"?t:t+""}function eat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tat={xAxis:{},yAxis:{},zAxis:{}},Wte=ds({name:"cartesianAxis",initialState:tat,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=EU(EU({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:rat,removeXAxis:nat,addYAxis:aat,removeYAxis:iat,addZAxis:_ct,removeZAxis:Ect,updateYAxisWidth:sat}=Wte.actions,oat=Wte.reducer,lat=ge([Wn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),cat=ge([lat,Pc,Ic],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),n2=()=>Je(cat),uat=()=>Je(Yet);function SU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SU(Object(r),!0).forEach(function(n){dat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dat(e,t,r){return(t=fat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fat(e){var t=hat(e,"string");return typeof t=="symbol"?t:t+""}function hat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mat=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var s=TU(TU({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},jr(a,!1)),ej(a)),o;return T.isValidElement(a)?o=T.cloneElement(a,s):typeof a=="function"?o=a(s):o=T.createElement(F4,s),T.createElement(sn,{className:"recharts-active-dot"},o)};function IN(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=Je(qu),s=uat();if(t==null||s==null)return null;var o=t.find(l=>s.includes(l.payload));return Dr(o)?null:mat({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var pat="Invariant failed";function gat(e,t){throw new Error(pat)}var vat=["x","y"];function ON(){return ON=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ON.apply(null,arguments)}function AU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AU(Object(r),!0).forEach(function(n){yat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yat(e,t,r){return(t=xat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xat(e){var t=wat(e,"string");return typeof t=="symbol"?t:t+""}function wat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bat(e,t){if(e==null)return{};var r,n,a=_at(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _at(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Eat(e,t){var{x:r,y:n}=e,a=bat(e,vat),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Op(Op(Op(Op(Op({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Y4(e){return T.createElement(Ute,ON({shapeType:"rectangle",propTransformer:Eat,activeClassName:"recharts-active-bar"},e))}var Sat=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(et(t))return t;var i=et(n)||Dr(n);return i?t(n,a):(i||gat(),r)}},Tat={},Hte=ds({name:"errorBars",initialState:Tat,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Sct,replaceErrorBar:Tct,removeErrorBar:Act}=Hte.actions,Aat=Hte.reducer,Cat=["children"];function kat(e,t){if(e==null)return{};var r,n,a=Nat(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nat(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pat={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Iat=T.createContext(Pat);function Gte(e){var{children:t}=e,r=kat(e,Cat);return T.createElement(Iat.Provider,{value:r},t)}function a2(e,t){var r,n,a=Je(c=>jc(c,e)),i=Je(c=>Rc(c,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Bi.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ui.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function X4(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=n2(),{needClipX:i,needClipY:s,needClip:o}=a2(t,r);if(!o)return null;var{x:l,y:c,width:u,height:f}=a;return T.createElement("clipPath",{id:"clipPath-".concat(n)},T.createElement("rect",{x:i?l:l-u/2,y:s?c:c-f/2,width:i?u:u*2,height:s?f:f*2}))}var Oat=["onMouseEnter","onMouseLeave","onClick"],Dat=["value","background","tooltipPosition"],jat=["id"],Rat=["onMouseEnter","onClick","onMouseLeave"];function Xu(){return Xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xu.apply(null,arguments)}function CU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CU(Object(r),!0).forEach(function(n){Mat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mat(e,t,r){return(t=Fat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fat(e){var t=Lat(e,"string");return typeof t=="symbol"?t:t+""}function Lat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x_(e,t){if(e==null)return{};var r,n,a=$at(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $at(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bat=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:hd(r,t),payload:e}]};function Uat(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:hd(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function Vat(e){var t=Je(qu),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=i,c=x_(i,Oat),u=V4(s,n),f=z4(o),h=W4(l,n);if(!a||r==null)return null;var m=jr(a,!1);return T.createElement(T.Fragment,null,r.map((p,g)=>{var{value:v,background:y,tooltipPosition:w}=p,b=x_(p,Dat);if(!y)return null;var E=u(p,g),k=f(p,g),C=h(p,g),S=si(si(si(si(si({option:a,isActive:String(g)===t},b),{},{fill:"#eee"},y),m),qy(c,p,g)),{},{onMouseEnter:E,onMouseLeave:k,onClick:C,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return T.createElement(Y4,Xu({key:"background-bar-".concat(S.index)},S))}))}function zat(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:i.width,height:i.height};return si(si({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return T.createElement(M4,{value:t?a:void 0},r)}function Wat(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,o=Je(qu),l=Je(lte),c=r&&String(i)===o&&(l==null||s===l),u=c?r:t;return T.createElement(Y4,Xu({},n,a,{isActive:c,option:u,index:i,dataKey:s}))}function Hat(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return T.createElement(Y4,Xu({},r,n,{isActive:!1,option:t,index:a,dataKey:i}))}function Gat(e){var{data:t,props:r}=e,n=Js(r),{id:a}=n,i=x_(n,jat),{shape:s,dataKey:o,activeBar:l}=r,{onMouseEnter:c,onClick:u,onMouseLeave:f}=r,h=x_(r,Rat),m=V4(c,o),p=z4(f),g=W4(u,o);return t?T.createElement(T.Fragment,null,t.map((v,y)=>T.createElement(sn,Xu({className:"recharts-bar-rectangle"},qy(h,v,y),{onMouseEnter:m(v,y),onMouseLeave:p(v,y),onClick:g(v,y),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(y)}),l?T.createElement(Wat,{shape:s,activeBar:l,baseProps:i,entry:v,index:y,dataKey:o}):T.createElement(Hat,{shape:s,baseProps:i,entry:v,index:y,dataKey:o})))):null}function Kat(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,f=r.current,h=Wm(t,"recharts-bar-"),[m,p]=T.useState(!1),g=!m,v=T.useCallback(()=>{typeof c=="function"&&c(),p(!1)},[c]),y=T.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return T.createElement(zat,{showLabels:g,rects:n},T.createElement(zm,{animationId:h,begin:s,duration:o,isActive:i,easing:l,onAnimationEnd:v,onAnimationStart:y,key:h},w=>{var b=w===1?n:n==null?void 0:n.map((E,k)=>{var C=f&&f[k];if(C)return si(si({},E),{},{x:ir(C.x,E.x,w),y:ir(C.y,E.y,w),width:ir(C.width,E.width,w),height:ir(C.height,E.height,w)});if(a==="horizontal"){var S=ir(0,E.height,w);return si(si({},E),{},{y:E.y+E.height-S,height:S})}var _=ir(0,E.width,w);return si(si({},E),{},{width:_})});return w>0&&(r.current=b??null),b==null?null:T.createElement(sn,null,T.createElement(Gat,{props:t,data:b}))}),T.createElement(e2,{label:t.label}),t.children)}function qat(e){var t=T.useRef(null);return T.createElement(Kat,{previousRectanglesRef:t,props:e})}var Kte=0,Yat=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:or(e,t)}};class Xat extends T.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(t||r==null)return null;var u=Dt("recharts-bar",a),f=c;return T.createElement(sn,{className:u,id:c},o&&T.createElement("defs",null,T.createElement(X4,{clipPathId:f,xAxisId:i,yAxisId:s})),T.createElement(sn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},T.createElement(Vat,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),T.createElement(qat,this.props)))}}var Qat={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Oc.isSsr,legendType:"rect",minPointSize:Kte,xAxisId:0,yAxisId:0};function Jat(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:f}=a2(t,r),h=Jy(),m=Ja(),p=tj(e.children,ep),g=Je(w=>Ait(w,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var v,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?v=0:v=h==="vertical"?y.height/2:y.width/2,T.createElement(Gte,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:Yat,errorBarOffset:v},T.createElement(Xat,Xu({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function Zat(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:h,cells:m,parentViewBox:p}=e,g=t==="horizontal"?o:s,v=u?g.scale.domain():null,y=Aqe({numericAxis:g});return f.map((w,b)=>{var E,k,C,S,_,A;u?E=bqe(u[b],v):(E=or(w,r),Array.isArray(E)||(E=[y,E]));var P=Sat(n,Kte)(E[1],b);if(t==="horizontal"){var N,[I,D]=[o.scale(E[0]),o.scale(E[1])];k=C8({axis:s,ticks:l,bandSize:i,offset:a.offset,entry:w,index:b}),C=(N=D??I)!==null&&N!==void 0?N:void 0,S=a.size;var M=I-D;if(_=Fi(M)?0:M,A={x:k,y:h.top,width:S,height:h.height},Math.abs(P)>0&&Math.abs(_)<Math.abs(P)){var ee=ra(_||P)*(Math.abs(P)-Math.abs(_));C-=ee,_+=ee}}else{var[Q,W]=[s.scale(E[0]),s.scale(E[1])];if(k=Q,C=C8({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:w,index:b}),S=W-Q,_=a.size,A={x:h.left,y:C,width:h.width,height:_},Math.abs(P)>0&&Math.abs(S)<Math.abs(P)){var z=ra(S||P)*(Math.abs(P)-Math.abs(S));S+=z}}if(k==null||C==null||S==null||_==null)return null;var L=si(si({},w),{},{x:k,y:C,width:S,height:_,value:u?E:E[1],payload:w,background:A,tooltipPosition:{x:k+S/2,y:C+_/2},parentViewBox:p},m&&m[b]&&m[b].props);return L}).filter(Boolean)}function eit(e){var t=Hn(e,Qat),r=Ja();return T.createElement(r2,{id:t.id,type:"bar"},n=>T.createElement(T.Fragment,null,T.createElement(H4,{legendPayload:Bat(t)}),T.createElement(t2,{fn:Uat,args:t}),T.createElement(G4,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:HJ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),T.createElement(Jat,Xu({},t,{id:n}))))}var ey=T.memo(eit);ey.displayName="Bar";function kU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function D1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kU(Object(r),!0).forEach(function(n){tit(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tit(e,t,r){return(t=rit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rit(e){var t=nit(e,"string");return typeof t=="symbol"?t:t+""}function nit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ait=(e,t)=>t,iit=(e,t,r)=>r,sit=(e,t,r,n)=>n,oit=(e,t,r,n,a)=>a,fx=ge([ox,oit],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),lit=ge([fx],e=>e==null?void 0:e.maxBarSize),cit=(e,t,r,n,a,i)=>i,NU=(e,t,r)=>{var n=r??e;if(!Dr(n))return Wa(n,t,0)},uit=ge([Nt,ox,ait,iit,sit],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),dit=(e,t,r,n)=>{var a=Nt(e);return a==="horizontal"?Jv(e,"yAxis",r,n):Jv(e,"xAxis",t,n)},fit=(e,t,r)=>{var n=Nt(e);return n==="horizontal"?BB(e,"xAxis",t):BB(e,"yAxis",r)},hit=(e,t,r)=>{var n={},a=e.filter(GS),i=e.filter(c=>c.stackId==null),s=a.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),o=Object.entries(s).map(c=>{var[u,f]=c,h=f.map(p=>p.dataKey),m=NU(t,r,f[0].barSize);return{stackId:u,dataKeys:h,barSize:m}}),l=i.map(c=>{var u=[c.dataKey].filter(h=>h!=null),f=NU(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...l]},mit=ge([uit,rZe,fit],hit),pit=(e,t,r,n,a)=>{var i,s,o=fx(e,t,r,n,a);if(o!=null){var l=Nt(e),c=see(e),{maxBarSize:u}=o,f=Dr(u)?c:u,h,m;return l==="horizontal"?(h=xl(e,"xAxis",t,n),m=yl(e,"xAxis",t,n)):(h=xl(e,"yAxis",r,n),m=yl(e,"yAxis",r,n)),(i=(s=Kf(h,m,!0))!==null&&s!==void 0?s:f)!==null&&i!==void 0?i:0}},qte=(e,t,r,n)=>{var a=Nt(e),i,s;return a==="horizontal"?(i=xl(e,"xAxis",t,n),s=yl(e,"xAxis",t,n)):(i=xl(e,"yAxis",r,n),s=yl(e,"yAxis",r,n)),Kf(i,s)};function git(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=Wa(e,r,0,!0),o,l=[];if(Ea(n[0].barSize)){var c=!1,u=r/i,f=n.reduce((y,w)=>y+(w.barSize||0),0);f+=(i-1)*s,f>=r&&(f-=(i-1)*s,s=0),f>=r&&u>0&&(c=!0,u*=.9,f=i*u);var h=(r-f)/2>>0,m={offset:h-s,size:0};o=n.reduce((y,w)=>{var b,E={stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:m.offset+m.size+s,size:c?u:(b=w.barSize)!==null&&b!==void 0?b:0}},k=[...y,E];return m=k[k.length-1].position,k},l)}else{var p=Wa(t,r,0,!0);r-2*p-(i-1)*s<=0&&(s=0);var g=(r-2*p-(i-1)*s)/i;g>1&&(g>>=0);var v=Ea(a)?Math.min(g,a):g;o=n.reduce((y,w,b)=>[...y,{stackId:w.stackId,dataKeys:w.dataKeys,position:{offset:p+(g+s)*b+(g-v)/2,size:v}}],l)}return o}}var vit=(e,t,r,n,a,i,s)=>{var o=Dr(s)?t:s,l=git(r,n,a!==i?a:i,e,o);return a!==i&&l!=null&&(l=l.map(c=>D1(D1({},c),{},{position:D1(D1({},c.position),{},{offset:c.position.offset-a/2})}))),l},yit=ge([mit,see,tZe,oee,pit,qte,lit],vit),xit=(e,t,r,n)=>xl(e,"xAxis",t,n),wit=(e,t,r,n)=>xl(e,"yAxis",r,n),bit=(e,t,r,n)=>yl(e,"xAxis",t,n),_it=(e,t,r,n)=>yl(e,"yAxis",r,n),Eit=ge([yit,fx],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Sit=(e,t)=>{var r=HS(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}},Tit=ge([dit,fx],Sit),Ait=ge([Wn,Aj,xit,wit,bit,_it,Eit,Nt,nx,qte,Tit,fx,cit],(e,t,r,n,a,i,s,o,l,c,u,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:g}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||c==null)){var{data:v}=f,y;if(v!=null&&v.length>0?y=v:y=m==null?void 0:m.slice(p,g+1),y!=null)return Zat({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:u,displayedData:y,offset:e,cells:h})}}),Yte=e=>{var{chartData:t}=e,r=Xr(),n=Ja();return T.useEffect(()=>n?()=>{}:(r(YB(t)),()=>{r(YB(void 0))}),[t,r,n]),null},PU={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Xte=ds({name:"brush",initialState:PU,reducers:{setBrushSettings(e,t){return t.payload==null?PU:t.payload}}}),{setBrushSettings:Cct}=Xte.actions,Cit=Xte.reducer;function kit(e,t,r){return(t=Nit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nit(e){var t=Pit(e,"string");return typeof t=="symbol"?t:t+""}function Pit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Q4{static create(t){return new Q4(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}kit(Q4,"EPS",1e-4);function Iit(e){return(e%180+180)%180}var Oit=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Iit(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Dit={dots:[],areas:[],lines:[]},Qte=ds({name:"referenceElements",initialState:Dit,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=rc(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=rc(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=rc(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:kct,removeDot:Nct,addArea:Pct,removeArea:Ict,addLine:Oct,removeLine:Dct}=Qte.actions,jit=Qte.reducer,Rit=T.createContext(void 0),Mit=e=>{var{children:t}=e,[r]=T.useState("".concat(zv("recharts"),"-clip")),n=n2();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return T.createElement(Rit.Provider,{value:r},T.createElement("defs",null,T.createElement("clipPath",{id:r},T.createElement("rect",{x:a,y:i,height:o,width:s}))),t)};function cm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Jte(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Fit(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Oit(n,r)}function Lit(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:o}=e;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function w_(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function $it(e,t){return Jte(e,t+1)}function Bit(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:o}=t,l=0,c=1,u=s,f=function(){var p=n==null?void 0:n[l];if(p===void 0)return{v:Jte(n,c)};var g=l,v,y=()=>(v===void 0&&(v=r(p,g)),v),w=p.coordinate,b=l===0||w_(e,w,y,u,o);b||(l=0,u=s,c+=1),b&&(u=w+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function IU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IU(Object(r),!0).forEach(function(n){Uit(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uit(e,t,r){return(t=Vit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vit(e){var t=zit(e,"string");return typeof t=="symbol"?t:t+""}function zit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wit(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:l}=t,c=function(h){var m=i[h],p,g=()=>(p===void 0&&(p=r(m,h)),p);if(h===s-1){var v=e*(m.coordinate+e*g()/2-l);i[h]=m=Oa(Oa({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=Oa(Oa({},m),{},{tickCoord:m.coordinate});var y=w_(e,m.tickCoord,g,o,l);y&&(l=m.tickCoord-e*(g()/2+a),i[h]=Oa(Oa({},m),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function Hit(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:l,end:c}=t;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=Oa(Oa({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var m=w_(e,u.tickCoord,()=>f,l,c);m&&(c=u.tickCoord-e*(f/2+a),s[o-1]=Oa(Oa({},u),{},{isShow:!0}))}for(var p=i?o-1:o,g=function(w){var b=s[w],E,k=()=>(E===void 0&&(E=r(b,w)),E);if(w===0){var C=e*(b.coordinate-e*k()/2-l);s[w]=b=Oa(Oa({},b),{},{tickCoord:C<0?b.coordinate-C*e:b.coordinate})}else s[w]=b=Oa(Oa({},b),{},{tickCoord:b.coordinate});var S=w_(e,b.tickCoord,k,l,c);S&&(l=b.tickCoord+e*(k()/2+a),s[w]=Oa(Oa({},b),{},{isShow:!0}))},v=0;v<p;v++)g(v);return s}function J4(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=e;if(!a||!a.length||!n)return[];if(et(l)||Oc.isSsr){var h;return(h=$it(a,et(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?Pg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(b,E)=>{var k=typeof c=="function"?c(b.value,E):b.value;return p==="width"?Fit(Pg(k,{fontSize:t,letterSpacing:r}),g,f):Pg(k,{fontSize:t,letterSpacing:r})[p]},y=a.length>=2?ra(a[1].coordinate-a[0].coordinate):1,w=Lit(i,y,p);return l==="equidistantPreserveStart"?Bit(y,w,v,a,s):(l==="preserveStart"||l==="preserveStartEnd"?m=Hit(y,w,v,a,s,l==="preserveStartEnd"):m=Wit(y,w,v,a,s),m.filter(b=>b.isShow))}var Git=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=a+i,c=s+l+o+(r?n:0);return Math.round(c)}return 0},Kit=["axisLine","width","height","className","hide","ticks"],qit=["viewBox"],Yit=["viewBox"];function DN(e,t){if(e==null)return{};var r,n,a=Xit(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xit(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yf(){return Yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yf.apply(null,arguments)}function OU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OU(Object(r),!0).forEach(function(n){Qit(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qit(e,t,r){return(t=Jit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jit(e){var t=Zit(e,"string");return typeof t=="symbol"?t:t+""}function Zit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z4={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function est(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Mn(Mn(Mn({},l),jr(o,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!s||i==="bottom"&&s);c=Mn(Mn({},c),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);c=Mn(Mn({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return T.createElement("line",Yf({},c,{className:Dt("recharts-cartesian-axis-line",Wf(o,"className"))}))}function tst(e,t,r,n,a,i,s,o,l){var c,u,f,h,m,p,g=o?-1:1,v=e.tickSize||s,y=et(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=u=e.coordinate,h=r+ +!o*a,f=h-g*v,p=f-g*l,m=y;break;case"left":f=h=e.coordinate,u=t+ +!o*n,c=u-g*v,m=c-g*l,p=y;break;case"right":f=h=e.coordinate,u=t+ +o*n,c=u+g*v,m=c+g*l,p=y;break;default:c=u=e.coordinate,h=r+ +o*a,f=h+g*v,p=f+g*l,m=y;break}return{line:{x1:c,y1:f,x2:u,y2:h},tick:{x:m,y:p}}}function rst(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function nst(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ast(e){var{option:t,tickProps:r,value:n}=e,a,i=Dt(r.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(t))a=T.cloneElement(t,Mn(Mn({},r),{},{className:i}));else if(typeof t=="function")a=t(Mn(Mn({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Dt(s,t==null?void 0:t.className)),a=T.createElement(ZS,Yf({},r,{className:s}),n)}return a}function ist(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:s,padding:o,tickTextProps:l,orientation:c,mirror:u,x:f,y:h,width:m,height:p,tickSize:g,tickMargin:v,fontSize:y,letterSpacing:w,getTicksConfig:b,events:E}=e,k=J4(Mn(Mn({},b),{},{ticks:t}),y,w),C=rst(c,u),S=nst(c,u),_=Js(b),A=jr(r,!1),P=Mn(Mn({},_),{},{fill:"none"},jr(n,!1)),N=k.map((I,D)=>{var{line:M,tick:ee}=tst(I,f,h,m,p,c,g,u,v),Q=Mn(Mn(Mn(Mn({textAnchor:C,verticalAnchor:S},_),{},{stroke:"none",fill:a},A),ee),{},{index:D,payload:I,visibleTicksCount:k.length,tickFormatter:i,padding:o},l);return T.createElement(sn,Yf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},qy(E,I,D)),n&&T.createElement("line",Yf({},P,M,{className:Dt("recharts-cartesian-axis-tick-line",Wf(n,"className"))})),r&&T.createElement(ast,{option:r,tickProps:Q,value:"".concat(typeof i=="function"?i(I.value,D):I.value).concat(s||"")}))});return N.length>0?T.createElement("g",{className:"recharts-cartesian-axis-ticks"},N):null}var sst=T.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:o}=e,l=DN(e,Kit),[c,u]=T.useState(""),[f,h]=T.useState(""),m=T.useRef([]);T.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return Git({ticks:m.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=T.useCallback(g=>{if(g){var v=g.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(v);var y=v[0];if(y){var w=window.getComputedStyle(y),b=w.fontSize,E=w.letterSpacing;(b!==c||E!==f)&&(u(b),h(E))}}},[c,f]);return s||n!=null&&n<=0||a!=null&&a<=0?null:T.createElement(sn,{className:Dt("recharts-cartesian-axis",i),ref:p},T.createElement(est,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Js(e)}),T.createElement(ist,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:f,getTicksConfig:e,events:l}),T.createElement(yrt,{x:e.x,y:e.y,width:e.width,height:e.height},T.createElement(krt,{label:e.label}),e.children))}),ost=T.memo(sst,(e,t)=>{var{viewBox:r}=e,n=DN(e,qit),{viewBox:a}=t,i=DN(t,Yit);return cm(r,a)&&cm(n,i)}),eR=T.forwardRef((e,t)=>{var r=Hn(e,Z4);return T.createElement(ost,Yf({},r,{ref:t}))});eR.displayName="CartesianAxis";var lst=["x1","y1","x2","y2","key"],cst=["offset"],ust=["xAxisId","yAxisId"],dst=["xAxisId","yAxisId"];function DU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DU(Object(r),!0).forEach(function(n){fst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fst(e,t,r){return(t=hst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hst(e){var t=mst(e,"string");return typeof t=="symbol"?t:t+""}function mst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(null,arguments)}function b_(e,t){if(e==null)return{};var r,n,a=pst(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pst(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gst=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:o}=e;return T.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Zte(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:s,key:o}=t,l=b_(t,lst),c=Js(l),{offset:u}=c,f=b_(c,cst);r=T.createElement("line",Yd({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function vst(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=b_(e,ust),l=a.map((c,u)=>{var f=$a($a({},o),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return Zte(n,f)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function yst(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=b_(e,dst),l=a.map((c,u)=>{var f=$a($a({},o),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return Zte(n,f)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function xst(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var m=!c[h+1],p=m?a+s-f:c[h+1]-f;if(p<=0)return null;var g=h%t.length;return T.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function wst(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var m=!c[h+1],p=m?a+s-f:c[h+1]-f;if(p<=0)return null;var g=h%r.length;return T.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var bst=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return zJ(J4($a($a($a({},Z4),r),{},{ticks:WJ(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},_st=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return zJ(J4($a($a($a({},Z4),r),{},{ticks:WJ(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Est={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Cu(e){var t=kj(),r=Nj(),n=YJ(),a=$a($a({},Hn(e,Est)),{},{x:et(e.x)?e.x:n.left,y:et(e.y)?e.y:n.top,width:et(e.width)?e.width:n.width,height:et(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=Ja(),g=Je(A=>UB(A,"xAxis",i,p)),v=Je(A=>UB(A,"yAxis",s,p));if(!et(c)||c<=0||!et(u)||u<=0||!et(o)||o!==+o||!et(l)||l!==+l)return null;var y=a.verticalCoordinatesGenerator||bst,w=a.horizontalCoordinatesGenerator||_st,{horizontalPoints:b,verticalPoints:E}=a;if((!b||!b.length)&&typeof w=="function"){var k=h&&h.length,C=w({yAxis:v?$a($a({},v),{},{ticks:k?h:v.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);Ng(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(b=C)}if((!E||!E.length)&&typeof y=="function"){var S=m&&m.length,_=y({xAxis:g?$a($a({},g),{},{ticks:S?m:g.ticks}):void 0,width:t,height:r,offset:n},S?!0:f);Ng(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(E=_)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(gst,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),T.createElement(xst,Yd({},a,{horizontalPoints:b})),T.createElement(wst,Yd({},a,{verticalPoints:E})),T.createElement(vst,Yd({},a,{offset:n,horizontalPoints:b,xAxis:g,yAxis:v})),T.createElement(yst,Yd({},a,{offset:n,verticalPoints:E,xAxis:g,yAxis:v})))}Cu.displayName="CartesianGrid";var ere=(e,t,r,n)=>xl(e,"xAxis",t,n),tre=(e,t,r,n)=>yl(e,"xAxis",t,n),rre=(e,t,r,n)=>xl(e,"yAxis",r,n),nre=(e,t,r,n)=>yl(e,"yAxis",r,n),Sst=ge([Nt,ere,rre,tre,nre],(e,t,r,n,a)=>Tl(e,"xAxis")?Kf(t,n,!1):Kf(r,a,!1)),Tst=(e,t,r,n,a)=>a;function Ast(e){return e.type==="line"}var Cst=ge([ox,Tst],(e,t)=>e.filter(Ast).find(r=>r.id===t)),kst=ge([Nt,ere,rre,tre,nre,Cst,Sst,nx],(e,t,r,n,a,i,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(c,u+1),m!=null)return Xst({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:m})}}),Nst=["id"],Pst=["type","layout","connectNulls","needClip"],Ist=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function jU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jU(Object(r),!0).forEach(function(n){Ost(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ost(e,t,r){return(t=Dst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dst(e){var t=jst(e,"string");return typeof t=="symbol"?t:t+""}function jst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tR(e,t){if(e==null)return{};var r,n,a=Rst(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rst(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xf.apply(null,arguments)}var Mst=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:hd(r,t),payload:e}]};function Fst(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:hd(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var are=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Lst(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var $st=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return are(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>i){o=[...r.slice(0,l),i-c];break}var u=o.length%2===0?[0,s]:[s];return[...Lst(r,a),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function Bst(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Dt("recharts-line-dot",typeof e!="boolean"?e.className:"");r=T.createElement(F4,Xf({},t,{className:n}))}return r}function Ust(e,t){return e==null?!1:t?!0:e.length===1}function Vst(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n;if(!Ust(r,a))return null;var{id:o}=n,l=tR(n,Nst),c=xS(a),u=Js(l),f=jr(a,!0),h=r.map((p,g)=>{var v=Gi(Gi(Gi({key:"dot-".concat(g),r:3},u),f),{},{index:g,cx:p.x,cy:p.y,dataKey:i,value:p.value,payload:p.payload,points:r});return Bst(a,v)}),m={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return T.createElement(sn,Xf({className:"recharts-line-dots",key:"dots"},m),h)}function zst(e){var{showLabels:t,children:r,points:n}=e,a=T.useMemo(()=>n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return Gi(Gi({},s),{},{value:i.value,payload:i.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return T.createElement(M4,{value:t?a:null},r)}function RU(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:o,connectNulls:l,needClip:c}=i,u=tR(i,Pst),f=Gi(Gi({},jr(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return T.createElement(T.Fragment,null,(n==null?void 0:n.length)>1&&T.createElement(T0,Xf({},f,{pathRef:r})),T.createElement(Vst,{points:n,clipPathId:t,props:i}))}function Wst(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Hst(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:v}=r,y=a.current,w=Wm(r,"recharts-line-"),[b,E]=T.useState(!1),k=!b,C=T.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),S=T.useCallback(()=>{typeof v=="function"&&v(),E(!0)},[v]),_=Wst(n.current),A=i.current;return T.createElement(zst,{points:s,showLabels:k},r.children,T.createElement(zm,{animationId:w,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:C,onAnimationStart:S,key:w},P=>{var N=ir(A,_+A,P),I=Math.min(N,_),D;if(l)if(o){var M="".concat(o).split(/[,\s]+/gim).map(W=>parseFloat(W));D=$st(I,_,M)}else D=are(_,I);else D=o==null?void 0:String(o);if(y){var ee=y.length/s.length,Q=P===1?s:s.map((W,z)=>{var L=Math.floor(z*ee);if(y[L]){var ae=y[L];return Gi(Gi({},W),{},{x:ir(ae.x,W.x,P),y:ir(ae.y,W.y,P)})}return h?Gi(Gi({},W),{},{x:ir(m*2,W.x,P),y:ir(p/2,W.y,P)}):Gi(Gi({},W),{},{x:W.x,y:W.y})});return a.current=Q,T.createElement(RU,{props:r,points:Q,clipPathId:t,pathRef:n,strokeDasharray:D})}return P>0&&_>0&&(a.current=s,i.current=I),T.createElement(RU,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:D})}),T.createElement(e2,{label:r.label}))}function Gst(e){var{clipPathId:t,props:r}=e,n=T.useRef(null),a=T.useRef(0),i=T.useRef(null);return T.createElement(Hst,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Kst=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:or(e.payload,t)});class qst extends T.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:f,id:h,needClip:m}=this.props;if(r)return null;var p=Dt("recharts-line",i),g=h,{r:v=3,strokeWidth:y=2}=(t=jr(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},w=xS(n),b=v*2+y;return T.createElement(T.Fragment,null,T.createElement(sn,{className:p},m&&T.createElement("defs",null,T.createElement(X4,{clipPathId:g,xAxisId:s,yAxisId:o}),!w&&T.createElement("clipPath",{id:"clipPath-dots-".concat(g)},T.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:f+b}))),T.createElement(Gte,{xAxisId:s,yAxisId:o,data:a,dataPointFormatter:Kst,errorBarOffset:0},T.createElement(Gst,{props:this.props,clipPathId:g}))),T.createElement(IN,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var ire={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Oc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Yst(e){var t=Hn(e,ire),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,v=tR(t,Ist),{needClip:y}=a2(m,p),w=n2(),b=Jy(),E=Ja(),k=Je(P=>kst(P,m,p,E,g));if(b!=="horizontal"&&b!=="vertical"||k==null||w==null)return null;var{height:C,width:S,x:_,y:A}=w;return T.createElement(qst,Xf({},v,{id:g,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:u,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:p,points:k,layout:b,height:C,width:S,left:_,top:A,needClip:y}))}function Xst(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,u)=>{var f=or(c,s);if(t==="horizontal"){var h=Zb({axis:r,ticks:a,bandSize:o,entry:c,index:u}),m=Dr(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:c}}var p=Dr(f)?null:r.scale(f),g=Zb({axis:n,ticks:i,bandSize:o,entry:c,index:u});return p==null||g==null?null:{x:p,y:g,value:f,payload:c}}).filter(Boolean)}function Qst(e){var t=Hn(e,ire),r=Ja();return T.createElement(r2,{id:t.id,type:"line"},n=>T.createElement(T.Fragment,null,T.createElement(H4,{legendPayload:Mst(t)}),T.createElement(t2,{fn:Fst,args:t}),T.createElement(G4,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),T.createElement(Yst,Xf({},t,{id:n}))))}var rR=T.memo(Qst);rR.displayName="Line";var sre=(e,t,r,n)=>xl(e,"xAxis",t,n),ore=(e,t,r,n)=>yl(e,"xAxis",t,n),lre=(e,t,r,n)=>xl(e,"yAxis",r,n),cre=(e,t,r,n)=>yl(e,"yAxis",r,n),Jst=ge([Nt,sre,lre,ore,cre],(e,t,r,n,a)=>Tl(e,"xAxis")?Kf(t,n,!1):Kf(r,a,!1)),Zst=(e,t,r,n,a)=>a,ure=ge([ox,Zst],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),eot=(e,t,r,n,a)=>{var i,s=ure(e,t,r,n,a);if(s!=null){var o=Nt(e),l=Tl(o,"xAxis"),c;if(l?c=Jv(e,"yAxis",r,n):c=Jv(e,"xAxis",t,n),c!=null){var{stackId:u}=s,f=HS(s);if(!(u==null||f==null)){var h=(i=c[u])===null||i===void 0?void 0:i.stackedData;return h==null?void 0:h.find(m=>m.key===f)}}}},tot=ge([Nt,sre,lre,ore,cre,eot,nx,Jst,ure],(e,t,r,n,a,i,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:f}=s;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{data:h}=l,m;if(h&&h.length>0?m=h:m=c==null?void 0:c.slice(u,f+1),m!=null){var p=void 0;return _ot({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:u,areaSettings:l,stackedData:i,displayedData:m,chartBaseValue:p,bandSize:o})}}}),rot=["id"],not=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function dre(e,t){if(e==null)return{};var r,n,a=aot(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aot(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MU(Object(r),!0).forEach(function(n){iot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iot(e,t,r){return(t=sot(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sot(e){var t=oot(e,"string");return typeof t=="symbol"?t:t+""}function oot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(null,arguments)}function __(e,t){return e&&e!=="none"?e:t}var lot=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:__(n,a),value:hd(r,t),payload:e}]};function cot(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:hd(s,t),hide:o,type:e.tooltipType,color:__(n,i),unit:l}}}var uot=(e,t)=>{var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Dt("recharts-area-dot",typeof e!="boolean"?e.className:"");r=T.createElement(F4,ac({},t,{className:n}))}return r};function dot(e,t){return e==null?!1:t?!0:e.length===1}function fot(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:s}=n;if(!dot(r,i))return null;var o=xS(i),l=Js(n),c=jr(i,!0),u=r.map((h,m)=>{var p=Yl(Yl(Yl({key:"dot-".concat(m),r:3},l),c),{},{index:m,cx:h.x,cy:h.y,dataKey:s,value:h.value,payload:h.payload,points:r});return uot(i,p)}),f={clipPath:a?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return T.createElement(sn,ac({className:"recharts-area-dots"},f),u)}function hot(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return Yl(Yl({},s),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:s,fill:void 0})});return T.createElement(M4,{value:t?a:null},r)}function FU(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:s,type:o,stroke:l,connectNulls:c,isRange:u}=i,{id:f}=i,h=dre(i,rot),m=Js(h);return T.createElement(T.Fragment,null,(t==null?void 0:t.length)>1&&T.createElement(sn,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},T.createElement(T0,ac({},m,{id:f,points:t,connectNulls:c,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&T.createElement(T0,ac({},m,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:t})),l!=="none"&&u&&T.createElement(T0,ac({},m,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:r}))),T.createElement(fot,{points:t,props:h,clipPathId:a}))}function mot(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,s=n[n.length-1].y;if(!Ea(i)||!Ea(s))return null;var o=t*Math.abs(i-s),l=Math.max(...n.map(c=>c.x||0));return et(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.x||0),l)),et(l)?T.createElement("rect",{x:0,y:i<s?i:i-o,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(o)}):null}function pot(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,s=n[n.length-1].x;if(!Ea(i)||!Ea(s))return null;var o=t*Math.abs(i-s),l=Math.max(...n.map(c=>c.y||0));return et(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.y||0),l)),et(l)?T.createElement("rect",{x:i<s?i:i-o,y:0,width:o,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}function got(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?T.createElement(mot,{alpha:t,points:n,baseLine:a,strokeWidth:i}):T.createElement(pot,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function vot(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:s,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationStart:h,onAnimationEnd:m}=n,p=Wm(n,"recharts-area-"),[g,v]=T.useState(!1),y=!g,w=T.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),b=T.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]),E=a.current,k=i.current;return T.createElement(hot,{showLabels:y,points:s},n.children,T.createElement(zm,{animationId:p,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:w,onAnimationStart:b,key:p},C=>{if(E){var S=E.length/s.length,_=C===1?s:s.map((P,N)=>{var I=Math.floor(N*S);if(E[I]){var D=E[I];return Yl(Yl({},P),{},{x:ir(D.x,P.x,C),y:ir(D.y,P.y,C)})}return P}),A;return et(o)?A=ir(k,o,C):Dr(o)||Fi(o)?A=ir(k,0,C):A=o.map((P,N)=>{var I=Math.floor(N*S);if(Array.isArray(k)&&k[I]){var D=k[I];return Yl(Yl({},P),{},{x:ir(D.x,P.x,C),y:ir(D.y,P.y,C)})}return P}),C>0&&(a.current=_,i.current=A),T.createElement(FU,{points:_,baseLine:A,needClip:t,clipPathId:r,props:n})}return C>0&&(a.current=s,i.current=o),T.createElement(sn,null,l&&T.createElement("defs",null,T.createElement("clipPath",{id:"animationClipPath-".concat(r)},T.createElement(got,{alpha:C,points:s,baseLine:o,layout:n.layout,strokeWidth:n.strokeWidth}))),T.createElement(sn,{clipPath:"url(#animationClipPath-".concat(r,")")},T.createElement(FU,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n})))}),T.createElement(e2,{label:n.label}))}function yot(e){var{needClip:t,clipPathId:r,props:n}=e,a=T.useRef(null),i=T.useRef();return T.createElement(vot,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class xot extends T.PureComponent{render(){var t,{hide:r,dot:n,points:a,className:i,top:s,left:o,needClip:l,xAxisId:c,yAxisId:u,width:f,height:h,id:m,baseLine:p}=this.props;if(r)return null;var g=Dt("recharts-area",i),v=m,{r:y=3,strokeWidth:w=2}=(t=jr(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=xS(n),E=y*2+w;return T.createElement(T.Fragment,null,T.createElement(sn,{className:g},l&&T.createElement("defs",null,T.createElement(X4,{clipPathId:v,xAxisId:c,yAxisId:u}),!b&&T.createElement("clipPath",{id:"clipPath-dots-".concat(v)},T.createElement("rect",{x:o-E/2,y:s-E/2,width:f+E,height:h+E}))),T.createElement(yot,{needClip:l,clipPathId:v,props:this.props})),T.createElement(IN,{points:a,mainColor:__(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&T.createElement(IN,{points:p,mainColor:__(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var fre={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Oc.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function wot(e){var t,r=Hn(e,fre),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:f,isAnimationActive:h,legendType:m,stroke:p,xAxisId:g,yAxisId:v}=r,y=dre(r,not),w=Jy(),b=ute(),{needClip:E}=a2(g,v),k=Ja(),{points:C,isRange:S,baseLine:_}=(t=Je(M=>tot(M,g,v,k,e.id)))!==null&&t!==void 0?t:{},A=n2();if(w!=="horizontal"&&w!=="vertical"||A==null||b!=="AreaChart"&&b!=="ComposedChart")return null;var{height:P,width:N,x:I,y:D}=A;return!C||!C.length?null:T.createElement(xot,ac({},y,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,baseLine:_,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:P,hide:f,layout:w,isAnimationActive:h,isRange:S,legendType:m,needClip:E,points:C,stroke:p,width:N,left:I,top:D,xAxisId:g,yAxisId:v}))}var bot=(e,t,r,n,a)=>{var i=r??t;if(et(i))return i;var s=e==="horizontal"?a:n,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return i==="dataMin"?c:i==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function _ot(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:f,yAxisTicks:h,bandSize:m}=e,p=a&&a.length,g=bot(i,s,r,o,l),v=i==="horizontal",y=!1,w=c.map((E,k)=>{var C;p?C=a[u+k]:(C=or(E,n),Array.isArray(C)?y=!0:C=[g,C]);var S=C[1]==null||p&&!t&&or(E,n)==null;return v?{x:Zb({axis:o,ticks:f,bandSize:m,entry:E,index:k}),y:S?null:l.scale(C[1]),value:C,payload:E}:{x:S?null:o.scale(C[1]),y:Zb({axis:l,ticks:h,bandSize:m,entry:E,index:k}),value:C,payload:E}}),b;return p||y?b=w.map(E=>{var k=Array.isArray(E.value)?E.value[0]:null;return v?{x:E.x,y:k!=null&&E.y!=null?l.scale(k):null,payload:E.payload}:{x:k!=null?o.scale(k):null,y:E.y,payload:E.payload}}):b=v?l.scale(g):o.scale(g),{points:w,baseLine:b,isRange:y}}function Eot(e){var t=Hn(e,fre),r=Ja();return T.createElement(r2,{id:t.id,type:"area"},n=>T.createElement(T.Fragment,null,T.createElement(H4,{legendPayload:lot(t)}),T.createElement(t2,{fn:cot,args:t}),T.createElement(G4,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:HJ(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),T.createElement(wot,ac({},t,{id:n}))))}var jN=T.memo(Eot);jN.displayName="Area";var Sot=["dangerouslySetInnerHTML","ticks"],Tot=["id"],Aot=["domain"],Cot=["domain"];function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RN.apply(null,arguments)}function E_(e,t){if(e==null)return{};var r,n,a=kot(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kot(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Not(e){var t=Xr();return T.useEffect(()=>(t(rat(e)),()=>{t(nat(e))}),[e,t]),null}var Pot=e=>{var{xAxisId:t,className:r}=e,n=Je(Aj),a=Ja(),i="xAxis",s=Je(v=>Qm(v,i,t,a)),o=Je(v=>zee(v,i,t,a)),l=Je(v=>$ee(v,t)),c=Je(v=>KZe(v,t)),u=Je(v=>gee(v,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=E_(e,Sot),{id:p}=u,g=E_(u,Tot);return T.createElement(eR,RN({},m,g,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:Dt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},Iot={allowDataOverflow:Bi.allowDataOverflow,allowDecimals:Bi.allowDecimals,allowDuplicatedCategory:Bi.allowDuplicatedCategory,height:Bi.height,hide:!1,mirror:Bi.mirror,orientation:Bi.orientation,padding:Bi.padding,reversed:Bi.reversed,scale:Bi.scale,tickCount:Bi.tickCount,type:Bi.type,xAxisId:0},Oot=e=>{var t,r,n,a,i,s=Hn(e,Iot);return T.createElement(T.Fragment,null,T.createElement(Not,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),T.createElement(Pot,s))},Dot=(e,t)=>{var{domain:r}=e,n=E_(e,Aot),{domain:a}=t,i=E_(t,Cot);return cm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:cm({domain:r},{domain:a}):!1},ku=T.memo(Oot,Dot);ku.displayName="XAxis";var jot=["dangerouslySetInnerHTML","ticks"],Rot=["id"],Mot=["domain"],Fot=["domain"];function MN(){return MN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MN.apply(null,arguments)}function S_(e,t){if(e==null)return{};var r,n,a=Lot(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lot(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $ot(e){var t=Xr();return T.useEffect(()=>(t(aat(e)),()=>{t(iat(e))}),[e,t]),null}var Bot=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=T.useRef(null),s=T.useRef(null),o=Je(Aj),l=Ja(),c=Xr(),u="yAxis",f=Je(k=>Qm(k,u,t,l)),h=Je(k=>Bee(k,t)),m=Je(k=>YZe(k,t)),p=Je(k=>zee(k,u,t,l)),g=Je(k=>vee(k,t));if(T.useLayoutEffect(()=>{if(!(n!=="auto"||!h||R4(a)||T.isValidElement(a)||g==null)){var k=i.current;if(k){var C=k.getCalculatedWidth();Math.round(h.width)!==Math.round(C)&&c(sat({id:t,width:C}))}}},[p,h,c,a,t,n,g]),h==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,w=S_(e,jot),{id:b}=g,E=S_(g,Rot);return T.createElement(eR,MN({},w,E,{ref:i,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Dt("recharts-".concat(u," ").concat(u),r),viewBox:o,ticks:p}))},Uot={allowDataOverflow:Ui.allowDataOverflow,allowDecimals:Ui.allowDecimals,allowDuplicatedCategory:Ui.allowDuplicatedCategory,hide:!1,mirror:Ui.mirror,orientation:Ui.orientation,padding:Ui.padding,reversed:Ui.reversed,scale:Ui.scale,tickCount:Ui.tickCount,type:Ui.type,width:Ui.width,yAxisId:0},Vot=e=>{var t,r,n,a,i,s=Hn(e,Uot);return T.createElement(T.Fragment,null,T.createElement($ot,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),T.createElement(Bot,s))},zot=(e,t)=>{var{domain:r}=e,n=S_(e,Mot),{domain:a}=t,i=S_(t,Fot);return cm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:cm({domain:r},{domain:a}):!1},Nu=T.memo(Vot,zot);Nu.displayName="YAxis";var Wot={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx=T;function Hot(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Got=typeof Object.is=="function"?Object.is:Hot,Kot=hx.useSyncExternalStore,qot=hx.useRef,Yot=hx.useEffect,Xot=hx.useMemo,Qot=hx.useDebugValue;Wot.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=qot(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Xot(function(){function l(m){if(!c){if(c=!0,u=m,m=n(m),a!==void 0&&s.hasValue){var p=s.value;if(a(p,m))return f=p}return f=m}if(p=f,Got(u,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(u=m,p):(u=m,f=g)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=Kot(e,i[0],i[1]);return Yot(function(){s.hasValue=!0,s.value=o},[o]),Qot(o),o};function Jot(e){e()}function Zot(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Jot(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var LU={notify(){},get:()=>[]};function elt(e,t){let r,n=LU,a=0,i=!1;function s(g){u();const v=n.subscribe(g);let y=!1;return()=>{y||(y=!0,v(),f())}}function o(){n.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return i}function u(){a++,r||(r=e.subscribe(l),n=Zot())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=LU)}function h(){i||(i=!0,u())}function m(){i&&(i=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var tlt=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rlt=tlt(),nlt=()=>typeof navigator<"u"&&navigator.product==="ReactNative",alt=nlt(),ilt=()=>rlt||alt?T.useLayoutEffect:T.useEffect,slt=ilt(),vA=Symbol.for("react-redux-context"),yA=typeof globalThis<"u"?globalThis:{};function olt(){if(!T.createContext)return{};const e=yA[vA]??(yA[vA]=new Map);let t=e.get(T.createContext);return t||(t=T.createContext(null),e.set(T.createContext,t)),t}var llt=olt();function clt(e){const{children:t,context:r,serverState:n,store:a}=e,i=T.useMemo(()=>{const l=elt(a);return{store:a,subscription:l,getServerState:n?()=>n:void 0}},[a,n]),s=T.useMemo(()=>a.getState(),[a]);slt(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,s]);const o=r||llt;return T.createElement(o.Provider,{value:i},t)}var ult=clt,dlt=(e,t)=>t,nR=ge([dlt,Nt,hee,Kn,ate,Mc,ttt,Wn],stt),aR=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},hre=Gs("mouseClick"),mre=Xy();mre.startListening({actionCreator:hre,effect:(e,t)=>{var r=e.payload,n=nR(t.getState(),aR(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(cet({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var FN=Gs("mouseMove"),pre=Xy();pre.startListening({actionCreator:FN,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=A4(n,n.tooltip.settings.shared),i=nR(n,aR(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(Qee({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Xee()))}});var $U={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},gre=ds({name:"rootProps",initialState:$U,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:$U.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),flt=gre.reducer,{updateOptions:hlt}=gre.actions,vre=ds({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:mlt}=vre.actions,plt=vre.reducer,yre=Gs("keyDown"),xre=Gs("focus"),iR=Xy();iR.startListening({actionCreator:yre,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(C4(a,Zm(r))),o=Mc(r);if(i==="Enter"){var l=p_(r,"axis","hover",String(a.index));t.dispatch(AN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:l}));return}var c=ZZe(r),u=c==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=s+f*u;if(!(o==null||h>=o.length||h<0)){var m=p_(r,"axis","hover",String(h));t.dispatch(AN({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});iR.startListening({actionCreator:xre,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=p_(r,"axis","hover",String(i));t.dispatch(AN({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var _s=Gs("externalEvent"),wre=Xy();wre.startListening({actionCreator:_s,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Get(r),activeDataKey:lte(r),activeIndex:qu(r),activeLabel:ote(r),activeTooltipIndex:qu(r),isTooltipActive:Ket(r)};e.payload.handler(n,e.payload.reactEvent)}}});var glt=ge([Jm],e=>e.tooltipItemPayloads),vlt=ge([glt,ux,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),bre=Gs("touchMove"),_re=Xy();_re.startListening({actionCreator:bre,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=A4(n,n.tooltip.settings.shared);if(a==="axis"){var i=nR(n,aR({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(Qee({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(KJ),u=(s=l.getAttribute(qJ))!==null&&s!==void 0?s:void 0,f=vlt(t.getState(),c,u);t.dispatch(Yee({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}});var ylt=yJ({brush:Cit,cartesianAxis:oat,chartData:btt,errorBars:Aat,graphicalItems:Ant,layout:iqe,legend:qqe,options:gtt,polarAxis:Hrt,polarOptions:plt,referenceElements:jit,rootProps:flt,tooltip:uet}),xlt=function(t){return PKe({reducer:ylt,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([mre.middleware,pre.middleware,iR.middleware,wre.middleware,_re.middleware]),devTools:Oc.devToolsEnabled})};function Ere(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Ja(),i=T.useRef(null);if(a)return r;i.current==null&&(i.current=xlt(t));var s=yj;return T.createElement(ult,{context:s,store:i.current},r)}function Sre(e){var{layout:t,width:r,height:n,margin:a}=e,i=Xr(),s=Ja();return T.useEffect(()=>{s||(i(rqe(t)),i(nqe({width:r,height:n})),i(tqe(a)))},[i,s,t,r,n,a]),null}function Tre(e){var t=Xr();return T.useEffect(()=>{t(hlt(e))},[t,e]),null}var wlt=["children"];function blt(e,t){if(e==null)return{};var r,n,a=_lt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _lt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(null,arguments)}var Elt={width:"100%",height:"100%"},Slt=T.forwardRef((e,t)=>{var r=kj(),n=Nj(),a=ZJ();if(!am(r)||!am(n))return null;var{children:i,otherAttributes:s,title:o,desc:l}=e,c,u;return typeof s.tabIndex=="number"?c=s.tabIndex:c=a?0:void 0,typeof s.role=="string"?u=s.role:u=a?"application":void 0,T.createElement(rj,T_({},s,{title:o,desc:l,role:u,tabIndex:c,width:r,height:n,style:Elt,ref:t}),i)}),Tlt=e=>{var{children:t}=e,r=Je(jS);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return T.createElement(rj,{width:n,height:a,x:s,y:i},t)},BU=T.forwardRef((e,t)=>{var{children:r}=e,n=blt(e,wlt),a=Ja();return a?T.createElement(Tlt,null,r):T.createElement(Slt,T_({ref:t},n),r)});function Alt(){var e=Xr(),[t,r]=T.useState(null),n=Je(Dqe);return T.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Ea(i)&&i!==n&&e(aqe(i))}},[t,e,n]),r}function UU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Clt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UU(Object(r),!0).forEach(function(n){klt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function klt(e,t,r){return(t=Nlt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nlt(e){var t=Plt(e,"string");return typeof t=="symbol"?t:t+""}function Plt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ilt=T.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:v,width:y}=e,w=Xr(),[b,E]=T.useState(null),[k,C]=T.useState(null);Ptt();var S=Alt(),_=T.useCallback(F=>{S(F),typeof t=="function"&&t(F),E(F),C(F)},[S,t,E,C]),A=T.useCallback(F=>{w(hre(F)),w(_s({handler:i,reactEvent:F}))},[w,i]),P=T.useCallback(F=>{w(FN(F)),w(_s({handler:c,reactEvent:F}))},[w,c]),N=T.useCallback(F=>{w(Xee()),w(_s({handler:u,reactEvent:F}))},[w,u]),I=T.useCallback(F=>{w(FN(F)),w(_s({handler:f,reactEvent:F}))},[w,f]),D=T.useCallback(()=>{w(xre())},[w]),M=T.useCallback(F=>{w(yre(F.key))},[w]),ee=T.useCallback(F=>{w(_s({handler:s,reactEvent:F}))},[w,s]),Q=T.useCallback(F=>{w(_s({handler:o,reactEvent:F}))},[w,o]),W=T.useCallback(F=>{w(_s({handler:l,reactEvent:F}))},[w,l]),z=T.useCallback(F=>{w(_s({handler:h,reactEvent:F}))},[w,h]),L=T.useCallback(F=>{w(_s({handler:g,reactEvent:F}))},[w,g]),ae=T.useCallback(F=>{w(bre(F)),w(_s({handler:p,reactEvent:F}))},[w,p]),ue=T.useCallback(F=>{w(_s({handler:m,reactEvent:F}))},[w,m]);return T.createElement(pte.Provider,{value:b},T.createElement(SQ.Provider,{value:k},T.createElement("div",{className:Dt("recharts-wrapper",n),style:Clt({position:"relative",cursor:"default",width:y,height:a},v),onClick:A,onContextMenu:ee,onDoubleClick:Q,onFocus:D,onKeyDown:M,onMouseDown:W,onMouseEnter:P,onMouseLeave:N,onMouseMove:I,onMouseUp:z,onTouchEnd:ue,onTouchMove:ae,onTouchStart:L,ref:_},r)))}),Olt=["children","className","width","height","style","compact","title","desc"];function Dlt(e,t){if(e==null)return{};var r,n,a=jlt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jlt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Are=T.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:s,compact:o,title:l,desc:c}=e,u=Dlt(e,Olt),f=Js(u);return o?T.createElement(BU,{otherAttributes:f,title:l,desc:c},r):T.createElement(Ilt,{className:n,style:s,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},T.createElement(BU,{otherAttributes:f,title:l,desc:c,ref:t},T.createElement(Mit,null,r)))}),Rlt=["width","height"];function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LN.apply(null,arguments)}function Mlt(e,t){if(e==null)return{};var r,n,a=Flt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Flt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Llt={top:5,right:5,bottom:5,left:5},$lt={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Llt,reverseStackOrder:!1,syncMethod:"index"},sR=T.forwardRef(function(t,r){var n,a=Hn(t.categoricalChartProps,$lt),{width:i,height:s}=a,o=Mlt(a,Rlt);if(!am(i)||!am(s))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return T.createElement(Ere,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:l},T.createElement(Yte,{chartData:h.data}),T.createElement(Sre,{width:i,height:s,layout:a.layout,margin:a.margin}),T.createElement(Tre,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),T.createElement(Are,LN({},o,{width:i,height:s,ref:r})))}),Blt=["axis"],Cre=T.forwardRef((e,t)=>T.createElement(sR,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Blt,tooltipPayloadSearcher:JS,categoricalChartProps:e,ref:t})),Ult=["axis","item"],A_=T.forwardRef((e,t)=>T.createElement(sR,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ult,tooltipPayloadSearcher:JS,categoricalChartProps:e,ref:t}));function Vlt(e){var t=Xr();return T.useEffect(()=>{t(mlt(e))},[t,e]),null}var zlt=["width","height","layout"];function $N(){return $N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$N.apply(null,arguments)}function Wlt(e,t){if(e==null)return{};var r,n,a=Hlt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hlt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Glt={top:5,right:5,bottom:5,left:5},Klt={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Glt,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},qlt=T.forwardRef(function(t,r){var n,a=Hn(t.categoricalChartProps,Klt),{width:i,height:s,layout:o}=a,l=Wlt(a,zlt);if(!am(i)||!am(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return T.createElement(Ere,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:c},T.createElement(Yte,{chartData:a.data}),T.createElement(Sre,{width:i,height:s,layout:o,margin:a.margin}),T.createElement(Tre,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),T.createElement(Vlt,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),T.createElement(Are,$N({width:i,height:s},l,{ref:r})))}),Ylt=["item"],Xlt={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},kre=T.forwardRef((e,t)=>{var r=Hn(e,Xlt);return T.createElement(qlt,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ylt,tooltipPayloadSearcher:JS,categoricalChartProps:r,ref:t})}),Qlt=["axis"],Jlt=T.forwardRef((e,t)=>T.createElement(sR,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qlt,tooltipPayloadSearcher:JS,categoricalChartProps:e,ref:t}));const ty=ne.forwardRef(({className:e,value:t,...r},n)=>d.jsx("div",{ref:n,className:cd("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:d.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ty.displayName="Progress";const Zlt={"Al día":"#10b981",Pendiente:"#f59e0b",Urgente:"#ef4444"},ect={monday:"Lunes",tuesday:"Martes",wednesday:"Miércoles",thursday:"Jueves",friday:"Viernes",saturday:"Sábado",sunday:"Domingo"};function VU(){const{globalMetrics:e,teleoperadorasMetrics:t,beneficiariosMetrics:r,noAsignadosMetrics:n,loading:a,errors:i,initializeListeners:s,cleanup:o,getSummaryStats:l,getTopOperators:c,getBeneficiariesByStatus:u}=DE(),f=KD(),h=i.global||!e||e.totalCalls===0;T.useEffect(()=>(s(),o),[s,o]);const m=h?f.getSummaryStats():l(),p=h?f.getTopOperators(5):c(5),g=h?f.getBeneficiariesByStatus("Urgente"):u("Urgente"),v=h?f.globalMetrics:e,y=()=>{if(!v)return{dayData:[],hourData:[],statusData:[]};const _=Object.entries(v.dayDistribution||{}).map(([N,I])=>({day:ect[N.toLowerCase()]||N,llamadas:I})),A=Object.entries(v.hourDistribution||{}).map(([N,I])=>({hora:`${N}:00`,llamadas:I})).sort((N,I)=>parseInt(N.hora)-parseInt(I.hora)),P=Object.entries(m.beneficiariesByStatus).map(([N,I])=>({name:N,value:I,color:Zlt[N]||"#8884d8"}));return{dayData:_,hourData:A,statusData:P}},{dayData:w,hourData:b,statusData:E}=y(),k=_=>{const A=Math.floor(_/60),P=Math.round(_%60);return A>0?`${A}h ${P}m`:`${P}m`},C=_=>`${Math.round(_*100)/100}%`,S=({title:_,value:A,subtitle:P,icon:N,trend:I,color:D="blue"})=>d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs(Mt,{children:[d.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Lt,{className:"text-sm font-medium",children:_}),d.jsx(N,{className:`h-4 w-4 text-${D}-600`})]}),d.jsxs($t,{children:[d.jsx("div",{className:"text-2xl font-bold",children:A}),P&&d.jsx("p",{className:"text-xs text-muted-foreground",children:P}),I&&d.jsxs("div",{className:`flex items-center pt-1 text-xs ${I>0?"text-green-600":"text-red-600"}`,children:[d.jsx(xf,{className:"h-3 w-3 mr-1"}),I>0?"+":"",C(I)," vs período anterior"]})]})]})});return a.global?d.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-2",children:"Cargando métricas..."})]}):i.global?d.jsx("div",{className:"flex items-center justify-center min-h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx(Ni,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error cargando métricas"}),d.jsx("p",{className:"text-gray-500",children:i.global})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard Global"}),h&&d.jsx(Ei,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Modo Demo"})]}),d.jsx("p",{className:"text-muted-foreground",children:h?"Mostrando datos simulados - Inicialice la base de datos para datos reales":"Resumen general de métricas y análisis de llamadas"}),(v==null?void 0:v.lastUpdated)&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Última actualización: ",new Date(v.lastUpdated).toLocaleString("es-ES")]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[d.jsx(S,{title:"Total de Llamadas",value:m.totalCalls.toLocaleString(),subtitle:"Llamadas registradas",icon:gC,color:"blue"}),d.jsx(S,{title:"Tasa de Éxito",value:C(m.successRate),subtitle:`${(e==null?void 0:e.successfulCalls)||0} llamadas exitosas`,icon:$r,color:"green"}),d.jsx(S,{title:"Duración Total",value:k((e==null?void 0:e.totalDuration)||0),subtitle:`Promedio: ${k((e==null?void 0:e.averageDuration)||0)}`,icon:xa,color:"purple"}),d.jsx(S,{title:"Teleoperadoras",value:m.totalOperators,subtitle:"Activas en el sistema",icon:hn,color:"orange"})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsx(S,{title:"Beneficiarios Al Día",value:m.beneficiariesByStatus["Al día"]||0,subtitle:"Contactados recientemente",icon:$r,color:"green"}),d.jsx(S,{title:"Beneficiarios Pendientes",value:m.beneficiariesByStatus.Pendiente||0,subtitle:"Requieren seguimiento",icon:xa,color:"yellow"}),d.jsx(S,{title:"Beneficiarios Urgentes",value:m.beneficiariesByStatus.Urgente||0,subtitle:"Atención prioritaria",icon:Ni,color:"red"})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsx(ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Llamadas por Día de la Semana"}),d.jsx(Fn,{children:"Distribución de llamadas durante la semana"})]}),d.jsx($t,{children:d.jsx(ql,{width:"100%",height:300,children:d.jsxs(A_,{data:w,children:[d.jsx(Cu,{strokeDasharray:"3 3"}),d.jsx(ku,{dataKey:"day"}),d.jsx(Nu,{}),d.jsx(Kl,{}),d.jsx(ey,{dataKey:"llamadas",fill:"#3b82f6"})]})})})]})}),d.jsx(ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Llamadas por Hora del Día"}),d.jsx(Fn,{children:"Distribución horaria de la actividad"})]}),d.jsx($t,{children:d.jsx(ql,{width:"100%",height:300,children:d.jsxs(Cre,{data:b,children:[d.jsx(Cu,{strokeDasharray:"3 3"}),d.jsx(ku,{dataKey:"hora"}),d.jsx(Nu,{}),d.jsx(Kl,{}),d.jsx(rR,{type:"monotone",dataKey:"llamadas",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981"}})]})})})]})})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Estado de Beneficiarios"}),d.jsx(Fn,{children:"Distribución por estado de seguimiento"})]}),d.jsx($t,{children:d.jsx(ql,{width:"100%",height:300,children:d.jsxs(kre,{children:[d.jsx(q4,{data:E,cx:"50%",cy:"50%",labelLine:!1,label:({name:_,percent:A})=>`${_} ${(A*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:E.map((_,A)=>d.jsx(ep,{fill:_.color},`cell-${A}`))}),d.jsx(Kl,{})]})})})]})}),d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Top Teleoperadoras"}),d.jsx(Fn,{children:"Mejores performance por tasa de éxito"})]}),d.jsx($t,{className:"space-y-4",children:p.slice(0,5).map((_,A)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-blue-600",children:A+1})})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:_.nombreOriginal}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.totalCalls," llamadas"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx(Ei,{variant:_.successRate>=80?"success":_.successRate>=60?"warning":"danger",children:C(_.successRate)}),d.jsx(ty,{value:_.successRate,className:"w-20 h-2 mt-1"})]})]},_.id))})]})})]}),g.length>0&&d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:d.jsxs(Mt,{className:"border-red-200 bg-red-50",children:[d.jsxs(Ft,{children:[d.jsxs(Lt,{className:"text-red-800 flex items-center",children:[d.jsx(Ni,{className:"h-5 w-5 mr-2"}),"Beneficiarios Urgentes"]}),d.jsx(Fn,{className:"text-red-600",children:"Requieren atención inmediata - Sin contacto exitoso en más de 30 días"})]}),d.jsx($t,{children:d.jsx("div",{className:"grid gap-2 max-h-64 overflow-y-auto",children:g.slice(0,10).map(_=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg shadow-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:_.nombreOriginal}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Última llamada: ",_.lastCall?new Date(_.lastCall).toLocaleDateString("es-ES"):"Nunca"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx(Ei,{variant:"danger",children:"Urgente"}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[_.totalCalls," llamadas"]})]})]},_.id))})})]})}),n&&n.totalUnassigned>0&&d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},children:d.jsxs(Mt,{className:"border-yellow-200 bg-yellow-50",children:[d.jsxs(Ft,{children:[d.jsxs(Lt,{className:"text-yellow-800 flex items-center",children:[d.jsx(hn,{className:"h-5 w-5 mr-2"}),"Beneficiarios No Asignados"]}),d.jsxs(Fn,{className:"text-yellow-600",children:[n.totalUnassigned," beneficiarios sin teleoperadora asignada"]})]}),d.jsx($t,{children:d.jsxs("p",{className:"text-sm",children:["Total de llamadas no asignadas: ",n.totalUnassignedCalls]})})]})})]})}function tct({operatorId:e}){const{getTeleoperadoraMetrics:t,getBeneficiariesByOperator:r,loading:n,errors:a}=DE(),[i,s]=T.useState("7"),[o,l]=T.useState(""),[c,u]=T.useState("all"),f=KD(),h=t(e),m=r(e),p=a.teleoperadoras||!h,g=p?f.getTeleoperadoraMetrics(e):h,v=p?f.getBeneficiariesByOperator(e):m,y=()=>{if(!(g!=null&&g.calls))return[];const _=new Date,A=new Date(_.getTime()-parseInt(i)*24*60*60*1e3),P=g.calls.filter(I=>new Date(I.fecha)>=A),N={};return P.forEach(I=>{const D=new Date(I.fecha).toLocaleDateString("es-ES");N[D]||(N[D]={date:D,total:0,successful:0,failed:0,duration:0}),N[D].total++,I.exitosa?N[D].successful++:N[D].failed++,N[D].duration+=I.duracion||0}),Object.values(N).sort((I,D)=>new Date(I.date)-new Date(D.date))},w=()=>{if(!(g!=null&&g.calls))return[];let _=[...g.calls];if(o){const A=o.toLowerCase();_=_.filter(P=>{var N,I;return((N=P.beneficiario)==null?void 0:N.toLowerCase().includes(A))||((I=P.observaciones)==null?void 0:I.toLowerCase().includes(A))})}return c==="successful"?_=_.filter(A=>A.exitosa):c==="failed"&&(_=_.filter(A=>!A.exitosa)),_.sort((A,P)=>new Date(P.fecha)-new Date(A.fecha))},b=y(),E=w(),k=_=>{const A=Math.floor(_/60),P=Math.round(_%60);return A>0?`${A}h ${P}m`:`${P}m`},C=_=>`${Math.round(_*100)/100}%`,S=({title:_,value:A,subtitle:P,icon:N,color:I="blue",progress:D})=>d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs(Mt,{children:[d.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Lt,{className:"text-sm font-medium",children:_}),d.jsx(N,{className:`h-4 w-4 text-${I}-600`})]}),d.jsxs($t,{children:[d.jsx("div",{className:"text-2xl font-bold",children:A}),P&&d.jsx("p",{className:"text-xs text-muted-foreground",children:P}),D!==void 0&&d.jsx(ty,{value:D,className:"mt-2"})]})]})});return n.teleoperadoras?d.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-2",children:"Cargando datos de teleoperadora..."})]}):h?d.jsxs("div",{className:"space-y-6",children:[d.jsx(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:g.nombreOriginal}),p&&d.jsx(Ei,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Modo Demo"})]}),d.jsx("p",{className:"text-muted-foreground",children:p?"Mostrando datos simulados - Inicialice la base de datos para datos reales":"Dashboard individual de teleoperadora"}),g.lastUpdated&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Última actualización: ",new Date(g.lastUpdated).toLocaleString("es-ES")]})]}),d.jsxs(Ei,{variant:g.successRate>=80?"success":g.successRate>=60?"warning":"danger",children:[C(g.successRate)," de éxito"]})]})}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[d.jsx(S,{title:"Total de Llamadas",value:g.totalCalls.toLocaleString(),subtitle:"Llamadas realizadas",icon:gC,color:"blue"}),d.jsx(S,{title:"Llamadas Exitosas",value:g.successfulCalls.toLocaleString(),subtitle:`${C(g.successRate)} de éxito`,icon:$r,color:"green",progress:g.successRate}),d.jsx(S,{title:"Tiempo Total",value:k(g.totalDuration),subtitle:`Promedio: ${k(g.averageDuration)}`,icon:xa,color:"purple"}),d.jsx(S,{title:"Beneficiarios Atendidos",value:v.length,subtitle:"Clientes únicos",icon:aa,color:"orange"})]}),d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:d.jsxs(Mt,{children:[d.jsx(Ft,{children:d.jsx(Lt,{children:"Filtros y Período"})}),d.jsx($t,{children:d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Ga,{className:"h-4 w-4"}),d.jsxs("select",{value:i,onChange:_=>s(_.target.value),className:"border rounded px-3 py-1 text-sm",children:[d.jsx("option",{value:"7",children:"Últimos 7 días"}),d.jsx("option",{value:"15",children:"Últimos 15 días"}),d.jsx("option",{value:"30",children:"Últimos 30 días"}),d.jsx("option",{value:"90",children:"Últimos 3 meses"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2 flex-1 max-w-md",children:[d.jsx(oi,{className:"h-4 w-4"}),d.jsx("input",{type:"text",placeholder:"Buscar beneficiario o observaciones...",value:o,onChange:_=>l(_.target.value),className:"border rounded px-3 py-1 text-sm w-full"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(oy,{className:"h-4 w-4"}),d.jsxs("select",{value:c,onChange:_=>u(_.target.value),className:"border rounded px-3 py-1 text-sm",children:[d.jsx("option",{value:"all",children:"Todas las llamadas"}),d.jsx("option",{value:"successful",children:"Solo exitosas"}),d.jsx("option",{value:"failed",children:"Solo fallidas"})]})]})]})})]})}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsx(ke.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Evolución de Llamadas"}),d.jsxs(Fn,{children:["Progreso diario en los últimos ",i," días"]})]}),d.jsx($t,{children:d.jsx(ql,{width:"100%",height:300,children:d.jsxs(Jlt,{data:b,children:[d.jsx(Cu,{strokeDasharray:"3 3"}),d.jsx(ku,{dataKey:"date"}),d.jsx(Nu,{}),d.jsx(Kl,{}),d.jsx(RS,{}),d.jsx(jN,{type:"monotone",dataKey:"successful",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.8,name:"Exitosas"}),d.jsx(jN,{type:"monotone",dataKey:"failed",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.8,name:"Fallidas"})]})})})]})}),d.jsx(ke.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Duración de Llamadas"}),d.jsx(Fn,{children:"Tiempo total por día (minutos)"})]}),d.jsx($t,{children:d.jsx(ql,{width:"100%",height:300,children:d.jsxs(A_,{data:b,children:[d.jsx(Cu,{strokeDasharray:"3 3"}),d.jsx(ku,{dataKey:"date"}),d.jsx(Nu,{}),d.jsx(Kl,{}),d.jsx(ey,{dataKey:"duration",fill:"#8b5cf6"})]})})})]})})]}),d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Historial de Llamadas"}),d.jsxs(Fn,{children:[E.length," llamadas ",c==="all"?"":c==="successful"?"exitosas":"fallidas",o&&` con "${o}"`]})]}),d.jsx($t,{children:d.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[E.slice(0,50).map((_,A)=>d.jsx(ke.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:A*.05},className:`border rounded-lg p-4 ${_.exitosa?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx("h4",{className:"font-medium",children:_.beneficiario}),d.jsx(Ei,{variant:_.exitosa?"success":"danger",children:_.exitosa?"Exitosa":"Fallida"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Fecha y hora:"}),d.jsx("p",{children:new Date(_.fecha).toLocaleString("es-ES")})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Duración:"}),d.jsx("p",{children:k(_.duracion||0)})]})]}),_.observaciones&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-muted-foreground text-sm",children:"Observaciones:"}),d.jsx("p",{className:"text-sm",children:_.observaciones})]})]}),d.jsx("div",{className:"flex items-center space-x-2",children:_.exitosa?d.jsx($r,{className:"h-5 w-5 text-green-600"}):d.jsx(gf,{className:"h-5 w-5 text-red-600"})})]})},_.id||A)),E.length===0&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx(gC,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"No hay llamadas que coincidan con los filtros"})]}),E.length>50&&d.jsx("div",{className:"text-center py-4",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando primeras 50 de ",E.length," llamadas"]})})]})})]})}),d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Beneficiarios Atendidos"}),d.jsx(Fn,{children:"Lista de beneficiarios con sus respectivos estados"})]}),d.jsx($t,{children:d.jsxs("div",{className:"grid gap-3 max-h-64 overflow-y-auto",children:[v.slice(0,20).map((_,A)=>d.jsxs(ke.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:A*.05},className:"flex items-center justify-between p-3 border rounded-lg",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:_.nombreOriginal}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.totalCalls," llamadas • Última: ",_.lastCall?new Date(_.lastCall).toLocaleDateString("es-ES"):"Nunca"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx(Ei,{variant:_.status==="Al día"?"success":_.status==="Pendiente"?"warning":"danger",children:_.status}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[C(_.successRate)," éxito"]})]})]},_.id)),v.length>20&&d.jsx("div",{className:"text-center py-2",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando primeros 20 de ",v.length," beneficiarios"]})})]})})]})})]}):d.jsx("div",{className:"flex items-center justify-center min-h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Teleoperadora no encontrada"}),d.jsx("p",{className:"text-gray-500",children:"No se encontraron datos para esta teleoperadora"})]})})}const rct={"Al día":"#10b981",Pendiente:"#f59e0b",Urgente:"#ef4444"};function nct({beneficiaryId:e}){var C,S,_,A,P;const{getBeneficiaryMetrics:t,beneficiariosMetrics:r,searchBeneficiaries:n,getBeneficiariesByStatus:a,loading:i,errors:s}=DE(),[o,l]=T.useState(""),[c,u]=T.useState("all"),[f,h]=T.useState(null);T.useEffect(()=>{if(e){const N=t(e);h(N)}},[e,t]);const m=()=>{let N=Object.values(r);return o&&(N=n(o)),c!=="all"&&(N=N.filter(I=>I.status===c)),N.sort((I,D)=>{if(I.status!==D.status){const Q={Urgente:3,Pendiente:2,"Al día":1};return Q[D.status]-Q[I.status]}const M=I.lastCall?new Date(I.lastCall):new Date(0);return(D.lastCall?new Date(D.lastCall):new Date(0))-M})},p=N=>{if(!(N!=null&&N.calls))return{timelineData:[],operatorData:[]};const I=N.calls.slice(-10).map((ee,Q)=>({index:Q+1,fecha:new Date(ee.fecha).toLocaleDateString("es-ES"),exitosa:ee.exitosa?1:0,duracion:ee.duracion||0,teleoperadora:ee.teleoperadora})),D={};N.calls.forEach(ee=>{const Q=ee.teleoperadora||"Sin asignar";D[Q]||(D[Q]={name:Q,total:0,exitosas:0}),D[Q].total++,ee.exitosa&&D[Q].exitosas++});const M=Object.values(D).map(ee=>({...ee,successRate:ee.total>0?ee.exitosas/ee.total*100:0}));return{timelineData:I,operatorData:M}},g=()=>{const N=Object.values(r),I=N.reduce((Q,W)=>(Q[W.status]=(Q[W.status]||0)+1,Q),{}),D=Object.entries(I).map(([Q,W])=>({name:Q,value:W,color:rct[Q]||"#8884d8"})),M={};N.forEach(Q=>{var W;(W=Q.calls)==null||W.forEach(z=>{const L=new Date(z.fecha).toLocaleDateString("es-ES",{weekday:"long"});M[L]=(M[L]||0)+1})});const ee=Object.entries(M).map(([Q,W])=>({day:Q,llamadas:W}));return{statusData:D,dayData:ee}},v=m(),{statusData:y,dayData:w}=g(),b=N=>{const I=Math.floor(N/60),D=Math.round(N%60);return I>0?`${I}h ${D}m`:`${D}m`},E=N=>`${Math.round(N*100)/100}%`,k=N=>{switch(N){case"Al día":return d.jsx($r,{className:"h-4 w-4"});case"Pendiente":return d.jsx(xa,{className:"h-4 w-4"});case"Urgente":return d.jsx(Ni,{className:"h-4 w-4"});default:return d.jsx(aa,{className:"h-4 w-4"})}};if(i.beneficiarios)return d.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-2",children:"Cargando datos de beneficiarios..."})]});if(f){const{timelineData:N,operatorData:I}=p(f);return d.jsxs("div",{className:"space-y-6",children:[d.jsx(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("button",{onClick:()=>h(null),className:"text-blue-600 hover:text-blue-800 mb-2 flex items-center",children:"← Volver a la lista"}),d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:f.nombreOriginal}),d.jsx("p",{className:"text-muted-foreground",children:"Historial detallado del beneficiario"})]}),d.jsxs(Ei,{variant:f.status==="Al día"?"success":f.status==="Pendiente"?"warning":"danger",className:"text-lg px-4 py-2",children:[k(f.status),d.jsx("span",{className:"ml-2",children:f.status})]})]})}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[d.jsxs(Mt,{children:[d.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Lt,{className:"text-sm font-medium",children:"Total de Llamadas"}),d.jsx(Vr,{className:"h-4 w-4 text-blue-600"})]}),d.jsxs($t,{children:[d.jsx("div",{className:"text-2xl font-bold",children:f.totalCalls}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.successfulCalls," exitosas"]})]})]}),d.jsxs(Mt,{children:[d.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Lt,{className:"text-sm font-medium",children:"Tasa de Éxito"}),d.jsx(xf,{className:"h-4 w-4 text-green-600"})]}),d.jsxs($t,{children:[d.jsx("div",{className:"text-2xl font-bold",children:E(f.successRate)}),d.jsx(ty,{value:f.successRate,className:"mt-2"})]})]}),d.jsxs(Mt,{children:[d.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Lt,{className:"text-sm font-medium",children:"Última Llamada"}),d.jsx(Ga,{className:"h-4 w-4 text-purple-600"})]}),d.jsxs($t,{children:[d.jsx("div",{className:"text-lg font-bold",children:f.lastCall?new Date(f.lastCall).toLocaleDateString("es-ES"):"Nunca"}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Exitosa: ",f.lastSuccessfulCall?new Date(f.lastSuccessfulCall).toLocaleDateString("es-ES"):"Nunca"]})]})]}),d.jsxs(Mt,{children:[d.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Lt,{className:"text-sm font-medium",children:"Teléfonos"}),d.jsx(Vr,{className:"h-4 w-4 text-orange-600"})]}),d.jsxs($t,{children:[d.jsx("div",{className:"text-lg font-bold",children:((C=f.telefonos)==null?void 0:C.length)||0}),d.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[(S=f.telefonos)==null?void 0:S.slice(0,2).map((D,M)=>d.jsx("div",{children:D},M)),((_=f.telefonos)==null?void 0:_.length)>2&&d.jsxs("div",{children:["+",f.telefonos.length-2," más"]})]})]})]})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Últimas Llamadas"}),d.jsx(Fn,{children:"Historial reciente de contactos"})]}),d.jsx($t,{children:d.jsx(ql,{width:"100%",height:300,children:d.jsxs(Cre,{data:N,children:[d.jsx(Cu,{strokeDasharray:"3 3"}),d.jsx(ku,{dataKey:"fecha"}),d.jsx(Nu,{}),d.jsx(Kl,{}),d.jsx(rR,{type:"monotone",dataKey:"exitosa",stroke:"#10b981",strokeWidth:2,name:"Éxito"})]})})})]}),d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Teleoperadoras"}),d.jsx(Fn,{children:"Rendimiento por operadora"})]}),d.jsx($t,{children:d.jsx(ql,{width:"100%",height:300,children:d.jsxs(A_,{data:I,children:[d.jsx(Cu,{strokeDasharray:"3 3"}),d.jsx(ku,{dataKey:"name"}),d.jsx(Nu,{}),d.jsx(Kl,{}),d.jsx(ey,{dataKey:"successRate",fill:"#3b82f6",name:"% Éxito"})]})})})]})]}),d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Historial Completo de Llamadas"}),d.jsxs(Fn,{children:[((A=f.calls)==null?void 0:A.length)||0," llamadas registradas"]})]}),d.jsx($t,{children:d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:(P=f.calls)==null?void 0:P.map((D,M)=>d.jsx(ke.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:M*.05},className:`border rounded-lg p-4 ${D.exitosa?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx(Ei,{variant:D.exitosa?"success":"danger",children:D.exitosa?"Exitosa":"Fallida"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:D.teleoperadora||"Sin asignar"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Fecha:"}),d.jsx("p",{children:new Date(D.fecha).toLocaleString("es-ES")})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Duración:"}),d.jsx("p",{children:b(D.duracion||0)})]})]}),D.observaciones&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-muted-foreground text-sm",children:"Observaciones:"}),d.jsx("p",{className:"text-sm",children:D.observaciones})]})]}),D.exitosa?d.jsx($r,{className:"h-5 w-5 text-green-600"}):d.jsx(gf,{className:"h-5 w-5 text-red-600"})]})},M))})})]})]})}return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(ke.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard de Beneficiarios"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestión y seguimiento de beneficiarios del sistema"})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsxs(Mt,{children:[d.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Lt,{className:"text-sm font-medium",children:"Total Beneficiarios"}),d.jsx(hn,{className:"h-4 w-4 text-blue-600"})]}),d.jsxs($t,{children:[d.jsx("div",{className:"text-2xl font-bold",children:Object.keys(r).length}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Registrados en el sistema"})]})]}),d.jsxs(Mt,{children:[d.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Lt,{className:"text-sm font-medium",children:"Urgentes"}),d.jsx(Ni,{className:"h-4 w-4 text-red-600"})]}),d.jsxs($t,{children:[d.jsx("div",{className:"text-2xl font-bold text-red-600",children:a("Urgente").length}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Requieren atención inmediata"})]})]}),d.jsxs(Mt,{children:[d.jsxs(Ft,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(Lt,{className:"text-sm font-medium",children:"Al Día"}),d.jsx($r,{className:"h-4 w-4 text-green-600"})]}),d.jsxs($t,{children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:a("Al día").length}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Contactados recientemente"})]})]})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Distribución por Estado"}),d.jsx(Fn,{children:"Estado actual de los beneficiarios"})]}),d.jsx($t,{children:d.jsx(ql,{width:"100%",height:300,children:d.jsxs(kre,{children:[d.jsx(q4,{data:y,cx:"50%",cy:"50%",labelLine:!1,label:({name:N,percent:I})=>`${N} ${(I*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:y.map((N,I)=>d.jsx(ep,{fill:N.color},`cell-${I}`))}),d.jsx(Kl,{})]})})})]}),d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Actividad por Día"}),d.jsx(Fn,{children:"Llamadas realizadas por día de la semana"})]}),d.jsx($t,{children:d.jsx(ql,{width:"100%",height:300,children:d.jsxs(A_,{data:w,children:[d.jsx(Cu,{strokeDasharray:"3 3"}),d.jsx(ku,{dataKey:"day"}),d.jsx(Nu,{}),d.jsx(Kl,{}),d.jsx(ey,{dataKey:"llamadas",fill:"#3b82f6"})]})})})]})]}),d.jsxs(Mt,{children:[d.jsx(Ft,{children:d.jsx(Lt,{children:"Buscar Beneficiarios"})}),d.jsx($t,{children:d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("div",{className:"flex items-center space-x-2 flex-1 max-w-md",children:[d.jsx(oi,{className:"h-4 w-4"}),d.jsx("input",{type:"text",placeholder:"Buscar por nombre o teléfono...",value:o,onChange:N=>l(N.target.value),className:"border rounded px-3 py-2 text-sm w-full"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(oy,{className:"h-4 w-4"}),d.jsxs("select",{value:c,onChange:N=>u(N.target.value),className:"border rounded px-3 py-2 text-sm",children:[d.jsx("option",{value:"all",children:"Todos los estados"}),d.jsx("option",{value:"Al día",children:"Al día"}),d.jsx("option",{value:"Pendiente",children:"Pendiente"}),d.jsx("option",{value:"Urgente",children:"Urgente"})]})]})]})})]}),d.jsxs(Mt,{children:[d.jsxs(Ft,{children:[d.jsx(Lt,{children:"Lista de Beneficiarios"}),d.jsxs(Fn,{children:[v.length," beneficiarios encontrados"]})]}),d.jsx($t,{children:d.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[v.slice(0,50).map((N,I)=>{var D;return d.jsx(ke.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:I*.02},className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>h(N),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx("h4",{className:"font-medium",children:N.nombreOriginal}),d.jsxs(Ei,{variant:N.status==="Al día"?"success":N.status==="Pendiente"?"warning":"danger",children:[k(N.status),d.jsx("span",{className:"ml-1",children:N.status})]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Llamadas:"}),d.jsxs("p",{children:[N.totalCalls," (",N.successfulCalls," exitosas)"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Tasa de éxito:"}),d.jsx("p",{children:E(N.successRate)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Última llamada:"}),d.jsx("p",{children:N.lastCall?new Date(N.lastCall).toLocaleDateString("es-ES"):"Nunca"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Teléfonos:"}),d.jsxs("p",{children:[((D=N.telefonos)==null?void 0:D.length)||0," registrados"]})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ty,{value:N.successRate,className:"w-20 h-2"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:E(N.successRate)})]})]})},N.id)}),v.length===0&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx(aa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"No hay beneficiarios que coincidan con los filtros"})]}),v.length>50&&d.jsx("div",{className:"text-center py-4",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando primeros 50 de ",v.length," beneficiarios"]})})]})})]})]})}const act=()=>{const[e,t]=T.useState(!0),[r,n]=T.useState(!0),{globalMetrics:a,teleoperadorasMetrics:i,beneficiariosMetrics:s,noAsignadosMetrics:o,loading:l,errors:c}=DE(),u=KD();T.useEffect(()=>{const h=setTimeout(()=>{t(!1);const m=a&&a.totalCalls>0&&!c.global;n(!m),console.log(m?"📊 Datos reales cargados correctamente":"📊 Sistema iniciado en modo demo - datos de fallback activos")},800);return()=>clearTimeout(h)},[a,c.global]);const f=r||!a?{globalMetrics:u.globalMetrics,teleoperadorasMetrics:u.teleoperadoraMetrics,beneficiariesMetrics:u.beneficiaryMetrics,noAsignadosMetrics:u.noAsignadosMetrics||null}:{globalMetrics:a,teleoperadorasMetrics:i,beneficiariesMetrics:s,noAsignadosMetrics:o};return{loading:e,isUsingFallback:r,hasRealData:!r,...f,loadingStates:{global:e,teleoperadoras:e,beneficiarios:e,noAsignados:e},errors:r?{global:null,teleoperadoras:null,beneficiarios:null,noAsignados:null}:c,getSummaryStats:()=>u.getSummaryStats(),getTopOperators:(h=5)=>u.getTopOperators(h),getBeneficiariesByStatus:h=>u.getBeneficiariesByStatus(h),getTeleoperadoraMetrics:h=>u.getTeleoperadoraMetrics(h),getBeneficiariesByOperator:h=>u.getBeneficiariesByOperator(h)}};function ict(){var u;const[e,t]=T.useState("global"),{loading:r,isUsingFallback:n,getSummaryStats:a,getTopOperators:i}=act();if(r)return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:d.jsxs(ke.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-xl p-8 text-center max-w-md",children:[d.jsx(ke.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Inicializando Sistema de Métricas"}),d.jsx("p",{className:"text-gray-600",children:"Cargando dashboards y verificando conexión..."}),d.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Esto solo tomará unos segundos"})]})});const s=a(),o=i(10),l=[{id:"global",label:"Dashboard Global",description:"Métricas generales del sistema",icon:Ps,component:VU},{id:"teleoperadoras",label:"Teleoperadoras",description:"Análisis por teleoperadora",icon:hn,component:tct,badge:n?"4":(o==null?void 0:o.length)||"0"},{id:"beneficiarios",label:"Beneficiarios",description:"Gestión de beneficiarios",icon:Hse,component:nct,badge:n?"85":(s==null?void 0:s.uniqueBeneficiaries)||"0"}],c=((u=l.find(f=>f.id===e))==null?void 0:u.component)||VU;return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[d.jsx("div",{className:"bg-white shadow-sm border-b",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center py-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(Ps,{className:"h-8 w-8 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sistema de Métricas"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Dashboard avanzado para análisis de llamadas"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[n?d.jsxs("div",{className:"flex items-center space-x-2 bg-amber-100 text-amber-800 px-3 py-1.5 rounded-full text-sm font-medium",children:[d.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),d.jsx("span",{children:"Modo Demo"})]}):d.jsxs("div",{className:"flex items-center space-x-2 bg-green-100 text-green-800 px-3 py-1.5 rounded-full text-sm font-medium",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),d.jsx("span",{children:"Datos en Tiempo Real"})]}),d.jsx("button",{onClick:()=>t("config"),className:`p-2 rounded-lg transition-colors ${e==="config"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:d.jsx(vf,{className:"h-5 w-5"})})]})]})})}),d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:d.jsxs("div",{className:"flex gap-6",children:[d.jsxs("div",{className:"w-64 space-y-2",children:[l.map(f=>{const h=f.icon,m=e===f.id;return d.jsx(ke.button,{onClick:()=>t(f.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full text-left p-4 rounded-xl transition-all duration-200 ${m?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(h,{className:`h-5 w-5 ${m?"text-white":"text-gray-500"}`}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:f.label}),d.jsx("div",{className:`text-sm ${m?"text-blue-100":"text-gray-500"}`,children:f.description})]})]}),f.badge&&d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${m?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"}`,children:f.badge})]})},f.id)}),d.jsx(ke.button,{onClick:()=>t("config"),whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full text-left p-4 rounded-xl transition-all duration-200 ${e==="config"?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/25":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(vf,{className:`h-5 w-5 ${e==="config"?"text-white":"text-gray-500"}`}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:"Configuración"}),d.jsx("div",{className:`text-sm ${e==="config"?"text-indigo-100":"text-gray-500"}`,children:"Herramientas del sistema"})]})]})})]}),d.jsx("div",{className:"flex-1",children:d.jsx(as,{mode:"wait",children:d.jsx(ke.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e==="config"?d.jsx(_Y,{}):d.jsx(c,{})},e)})})]})})]})}function sct(){const[e,t]=T.useState("teleasistencia"),r=[{id:"teleasistencia",name:"Central Teleoperadores",description:"Sistema principal de gestión",icon:nse,component:gQ},{id:"metrics",name:"Sistema de Métricas",description:"Dashboard de análisis automatizado",icon:Ps,component:ict,badge:"Beta"}],n=r.find(i=>i.id===e),a=n==null?void 0:n.component;return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:d.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Central Teleoperadores"}),d.jsx("div",{className:"flex space-x-1",children:r.map(i=>{const s=i.icon,o=e===i.id;return d.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[d.jsx(s,{className:"h-4 w-4"}),d.jsx("span",{children:i.name}),i.badge&&d.jsx(Ei,{variant:"secondary",className:"text-xs",children:i.badge})]},i.id)})})]}),d.jsx("div",{className:"text-sm text-gray-500",children:n==null?void 0:n.description})]})}),d.jsx("div",{className:"w-full",children:a&&d.jsx(a,{})})]})}const oct=()=>{const[e,t]=T.useState(!0),[r,n]=T.useState(!1),[a,i]=T.useState({email:"",password:"",confirmPassword:"",displayName:""}),[s,o]=T.useState(!1),{login:l,register:c,error:u,clearError:f}=cs(),h=v=>{const{name:y,value:w}=v.target;i(b=>({...b,[y]:w})),f()},m=async v=>{v.preventDefault(),o(!0);try{if(e)await l(a.email,a.password);else{if(a.password!==a.confirmPassword)throw new Error("Las contraseñas no coinciden");if(a.password.length<6)throw new Error("La contraseña debe tener al menos 6 caracteres");if(!a.displayName.trim())throw new Error("El nombre es requerido");await c(a.email,a.password,a.displayName)}}catch(y){console.error("Error en autenticación:",y)}finally{o(!1)}},p=()=>{t(!e),i({email:"",password:"",confirmPassword:"",displayName:""}),f()},g=v=>v?v.includes("user-not-found")?"Usuario no encontrado":v.includes("wrong-password")?"Contraseña incorrecta":v.includes("email-already-in-use")?"Este email ya está registrado":v.includes("weak-password")?"La contraseña es muy débil":v.includes("invalid-email")?"Email inválido":v.includes("too-many-requests")?"Demasiados intentos. Intenta más tarde":v:"";return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Vr,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Mistatas - Seguimiento de llamadas"}),d.jsx("p",{className:"text-gray-600",children:e?"Inicia sesión en tu cuenta":"Crea tu cuenta nueva"})]}),u&&d.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[d.jsx(vn,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-800 text-sm font-medium",children:"Error de autenticación"}),d.jsx("p",{className:"text-red-600 text-sm mt-1",children:g(u)})]})]}),d.jsxs("form",{onSubmit:m,className:"space-y-6",children:[!e&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo"}),d.jsxs("div",{className:"relative",children:[d.jsx(aa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",name:"displayName",value:a.displayName,onChange:h,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tu nombre completo",required:!e})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrónico"}),d.jsxs("div",{className:"relative",children:[d.jsx(MP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"email",name:"email",value:a.email,onChange:h,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tu@email.com",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña"}),d.jsxs("div",{className:"relative",children:[d.jsx(pC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:r?"text":"password",name:"password",value:a.password,onChange:h,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••",required:!0}),d.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?d.jsx(s7,{className:"w-5 h-5"}):d.jsx(RP,{className:"w-5 h-5"})})]})]}),!e&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar contraseña"}),d.jsxs("div",{className:"relative",children:[d.jsx(pC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:r?"text":"password",name:"confirmPassword",value:a.confirmPassword,onChange:h,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"••••••••",required:!e})]})]}),d.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:s?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e?"Iniciando sesión...":"Creando cuenta..."]}):d.jsx(d.Fragment,{children:e?"Iniciar Sesión":"Crear Cuenta"})})]}),d.jsxs("div",{className:"mt-8 text-center",children:[d.jsx("p",{className:"text-gray-600",children:e?"¿No tienes cuenta?":"¿Ya tienes cuenta?"}),d.jsx("button",{onClick:p,className:"mt-2 text-blue-600 hover:text-blue-700 font-medium transition-colors",children:e?"Crear cuenta nueva":"Iniciar sesión"})]}),d.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx($r,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-800 text-sm font-medium",children:"Seguridad garantizada"}),d.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"Tus datos están protegidos con encriptación de nivel empresarial mediante Firebase Authentication."})]})]})})]})})},lct=()=>d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-white rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6 shadow-lg",children:d.jsx(Vr,{className:"w-10 h-10 text-blue-600 animate-pulse"})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Mistatas - Seguimiento de llamadas"}),d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),d.jsx("p",{className:"text-gray-600 mt-4",children:"Verificando autenticación..."})]})}),cct=localStorage.getItem("showMetricsApp")==="true"||window.location.search.includes("metrics=true"),uct=()=>{const{user:e,loading:t}=cs();return t?d.jsx(lct,{}):e?cct?d.jsx(sct,{}):d.jsx(gQ,{}):d.jsx(oct,{})};xA.createRoot(document.getElementById("root")).render(d.jsx(ne.StrictMode,{children:d.jsx(nTe,{children:d.jsx(uct,{})})}));export{yc as _,qt as a,Ls as b,Oe as c,st as d,pt as e,Ht as f,hl as g,Rf as h,ki as i,Ds as j,on as k,Fd as l,Ct as q,nt as s,Et as w};
