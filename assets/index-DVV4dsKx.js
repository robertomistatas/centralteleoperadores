var zre=Object.defineProperty;var Wre=(e,t,r)=>t in e?zre(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var c2=(e,t,r)=>Wre(e,typeof t!="symbol"?t+"":t,r);function Hre(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Ds=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var UU={exports:{}},C_={},VU={exports:{}},Ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty=Symbol.for("react.element"),Gre=Symbol.for("react.portal"),Kre=Symbol.for("react.fragment"),qre=Symbol.for("react.strict_mode"),Yre=Symbol.for("react.profiler"),Xre=Symbol.for("react.provider"),Qre=Symbol.for("react.context"),Jre=Symbol.for("react.forward_ref"),Zre=Symbol.for("react.suspense"),ene=Symbol.for("react.memo"),tne=Symbol.for("react.lazy"),D4=Symbol.iterator;function rne(e){return e===null||typeof e!="object"?null:(e=D4&&e[D4]||e["@@iterator"],typeof e=="function"?e:null)}var zU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},WU=Object.assign,HU={};function um(e,t,r){this.props=e,this.context=t,this.refs=HU,this.updater=r||zU}um.prototype.isReactComponent={};um.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};um.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function GU(){}GU.prototype=um.prototype;function $N(e,t,r){this.props=e,this.context=t,this.refs=HU,this.updater=r||zU}var BN=$N.prototype=new GU;BN.constructor=$N;WU(BN,um.prototype);BN.isPureReactComponent=!0;var j4=Array.isArray,KU=Object.prototype.hasOwnProperty,UN={current:null},qU={key:!0,ref:!0,__self:!0,__source:!0};function YU(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)KU.call(t,n)&&!qU.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:ty,type:e,key:i,ref:s,props:a,_owner:UN.current}}function nne(e,t){return{$$typeof:ty,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function VN(e){return typeof e=="object"&&e!==null&&e.$$typeof===ty}function ane(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var R4=/\/+/g;function u2(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ane(""+e.key):t.toString(36)}function O1(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case ty:case Gre:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+u2(s,0):n,j4(a)?(r="",e!=null&&(r=e.replace(R4,"$&/")+"/"),O1(a,t,r,"",function(c){return c})):a!=null&&(VN(a)&&(a=nne(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(R4,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",j4(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+u2(i,o);s+=O1(i,t,r,l,a)}else if(l=rne(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+u2(i,o++),s+=O1(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Sx(e,t,r){if(e==null)return e;var n=[],a=0;return O1(e,n,"","",function(i){return t.call(r,i,a++)}),n}function ine(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var mi={current:null},D1={transition:null},sne={ReactCurrentDispatcher:mi,ReactCurrentBatchConfig:D1,ReactCurrentOwner:UN};function XU(){throw Error("act(...) is not supported in production builds of React.")}Ot.Children={map:Sx,forEach:function(e,t,r){Sx(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Sx(e,function(){t++}),t},toArray:function(e){return Sx(e,function(t){return t})||[]},only:function(e){if(!VN(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ot.Component=um;Ot.Fragment=Kre;Ot.Profiler=Yre;Ot.PureComponent=$N;Ot.StrictMode=qre;Ot.Suspense=Zre;Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sne;Ot.act=XU;Ot.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=WU({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=UN.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)KU.call(t,l)&&!qU.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:ty,type:e.type,key:a,ref:i,props:n,_owner:s}};Ot.createContext=function(e){return e={$$typeof:Qre,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Xre,_context:e},e.Consumer=e};Ot.createElement=YU;Ot.createFactory=function(e){var t=YU.bind(null,e);return t.type=e,t};Ot.createRef=function(){return{current:null}};Ot.forwardRef=function(e){return{$$typeof:Jre,render:e}};Ot.isValidElement=VN;Ot.lazy=function(e){return{$$typeof:tne,_payload:{_status:-1,_result:e},_init:ine}};Ot.memo=function(e,t){return{$$typeof:ene,type:e,compare:t===void 0?null:t}};Ot.startTransition=function(e){var t=D1.transition;D1.transition={};try{e()}finally{D1.transition=t}};Ot.unstable_act=XU;Ot.useCallback=function(e,t){return mi.current.useCallback(e,t)};Ot.useContext=function(e){return mi.current.useContext(e)};Ot.useDebugValue=function(){};Ot.useDeferredValue=function(e){return mi.current.useDeferredValue(e)};Ot.useEffect=function(e,t){return mi.current.useEffect(e,t)};Ot.useId=function(){return mi.current.useId()};Ot.useImperativeHandle=function(e,t,r){return mi.current.useImperativeHandle(e,t,r)};Ot.useInsertionEffect=function(e,t){return mi.current.useInsertionEffect(e,t)};Ot.useLayoutEffect=function(e,t){return mi.current.useLayoutEffect(e,t)};Ot.useMemo=function(e,t){return mi.current.useMemo(e,t)};Ot.useReducer=function(e,t,r){return mi.current.useReducer(e,t,r)};Ot.useRef=function(e){return mi.current.useRef(e)};Ot.useState=function(e){return mi.current.useState(e)};Ot.useSyncExternalStore=function(e,t,r){return mi.current.useSyncExternalStore(e,t,r)};Ot.useTransition=function(){return mi.current.useTransition()};Ot.version="18.3.1";VU.exports=Ot;var A=VU.exports;const se=cn(A),one=Hre({__proto__:null,default:se},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lne=A,cne=Symbol.for("react.element"),une=Symbol.for("react.fragment"),dne=Object.prototype.hasOwnProperty,fne=lne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hne={key:!0,ref:!0,__self:!0,__source:!0};function QU(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)dne.call(t,n)&&!hne.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:cne,type:e,key:i,ref:s,props:a,_owner:fne.current}}C_.Fragment=une;C_.jsx=QU;C_.jsxs=QU;UU.exports=C_;var d=UU.exports,yA={},JU={exports:{}},cs={},ZU={exports:{}},e9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,j){var ce=z.length;z.push(j);e:for(;0<ce;){var ee=ce-1>>>1,M=z[ee];if(0<a(M,j))z[ee]=j,z[ce]=M,ce=ee;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var j=z[0],ce=z.pop();if(ce!==j){z[0]=ce;e:for(var ee=0,M=z.length,H=M>>>1;ee<H;){var U=2*(ee+1)-1,G=z[U],ae=U+1,de=z[ae];if(0>a(G,ce))ae<M&&0>a(de,G)?(z[ee]=de,z[ae]=ce,ee=ae):(z[ee]=G,z[U]=ce,ee=U);else if(ae<M&&0>a(de,ce))z[ee]=de,z[ae]=ce,ee=ae;else break e}}return j}function a(z,j){var ce=z.sortIndex-j.sortIndex;return ce!==0?ce:z.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,m=!1,p=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var j=r(c);j!==null;){if(j.callback===null)n(c);else if(j.startTime<=z)n(c),j.sortIndex=j.expirationTime,t(l,j);else break;j=r(c)}}function E(z){if(g=!1,b(z),!p)if(r(l)!==null)p=!0,ne(k);else{var j=r(c);j!==null&&Q(E,j.startTime-z)}}function k(z,j){p=!1,g&&(g=!1,y(_),_=-1),m=!0;var ce=h;try{for(b(j),f=r(l);f!==null&&(!(f.expirationTime>j)||z&&!N());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var M=ee(f.expirationTime<=j);j=e.unstable_now(),typeof M=="function"?f.callback=M:f===r(l)&&n(l),b(j)}else n(l);f=r(l)}if(f!==null)var H=!0;else{var U=r(c);U!==null&&Q(E,U.startTime-j),H=!1}return H}finally{f=null,h=ce,m=!1}}var C=!1,S=null,_=-1,T=5,P=-1;function N(){return!(e.unstable_now()-P<T)}function O(){if(S!==null){var z=e.unstable_now();P=z;var j=!0;try{j=S(!0,z)}finally{j?D():(C=!1,S=null)}}else C=!1}var D;if(typeof x=="function")D=function(){x(O)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,te=X.port2;X.port1.onmessage=O,D=function(){te.postMessage(null)}}else D=function(){v(O,0)};function ne(z){S=z,C||(C=!0,D())}function Q(z,j){_=v(function(){z(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,ne(k))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var ce=h;h=j;try{return z()}finally{h=ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,j){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ce=h;h=z;try{return j()}finally{h=ce}},e.unstable_scheduleCallback=function(z,j,ce){var ee=e.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ee+ce:ee):ce=ee,z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ce+M,z={id:u++,callback:j,priorityLevel:z,startTime:ce,expirationTime:M,sortIndex:-1},ce>ee?(z.sortIndex=ce,t(c,z),r(l)===null&&z===r(c)&&(g?(y(_),_=-1):g=!0,Q(E,ce-ee))):(z.sortIndex=M,t(l,z),p||m||(p=!0,ne(k))),z},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(z){var j=h;return function(){var ce=h;h=j;try{return z.apply(this,arguments)}finally{h=ce}}}})(e9);ZU.exports=e9;var mne=ZU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pne=A,as=mne;function Re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var t9=new Set,Pg={};function eh(e,t){P0(e,t),P0(e+"Capture",t)}function P0(e,t){for(Pg[e]=t,e=0;e<t.length;e++)t9.add(t[e])}var oc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xA=Object.prototype.hasOwnProperty,gne=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,M4={},F4={};function vne(e){return xA.call(F4,e)?!0:xA.call(M4,e)?!1:gne.test(e)?F4[e]=!0:(M4[e]=!0,!1)}function yne(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xne(e,t,r,n){if(t===null||typeof t>"u"||yne(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pi(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ea={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ea[e]=new pi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ea[t]=new pi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ea[e]=new pi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ea[e]=new pi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ea[e]=new pi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ea[e]=new pi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ea[e]=new pi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ea[e]=new pi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ea[e]=new pi(e,5,!1,e.toLowerCase(),null,!1,!1)});var zN=/[\-:]([a-z])/g;function WN(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(zN,WN);Ea[t]=new pi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(zN,WN);Ea[t]=new pi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(zN,WN);Ea[t]=new pi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ea[e]=new pi(e,1,!1,e.toLowerCase(),null,!1,!1)});Ea.xlinkHref=new pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ea[e]=new pi(e,1,!1,e.toLowerCase(),null,!0,!0)});function HN(e,t,r,n){var a=Ea.hasOwnProperty(t)?Ea[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xne(t,r,a,n)&&(r=null),n||a===null?vne(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Tc=pne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tx=Symbol.for("react.element"),Uh=Symbol.for("react.portal"),Vh=Symbol.for("react.fragment"),GN=Symbol.for("react.strict_mode"),wA=Symbol.for("react.profiler"),r9=Symbol.for("react.provider"),n9=Symbol.for("react.context"),KN=Symbol.for("react.forward_ref"),bA=Symbol.for("react.suspense"),_A=Symbol.for("react.suspense_list"),qN=Symbol.for("react.memo"),Yc=Symbol.for("react.lazy"),a9=Symbol.for("react.offscreen"),L4=Symbol.iterator;function up(e){return e===null||typeof e!="object"?null:(e=L4&&e[L4]||e["@@iterator"],typeof e=="function"?e:null)}var Xr=Object.assign,d2;function Dp(e){if(d2===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);d2=t&&t[1]||""}return`
`+d2+e}var f2=!1;function h2(e,t){if(!e||f2)return"";f2=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{f2=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Dp(e):""}function wne(e){switch(e.tag){case 5:return Dp(e.type);case 16:return Dp("Lazy");case 13:return Dp("Suspense");case 19:return Dp("SuspenseList");case 0:case 2:case 15:return e=h2(e.type,!1),e;case 11:return e=h2(e.type.render,!1),e;case 1:return e=h2(e.type,!0),e;default:return""}}function EA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vh:return"Fragment";case Uh:return"Portal";case wA:return"Profiler";case GN:return"StrictMode";case bA:return"Suspense";case _A:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case n9:return(e.displayName||"Context")+".Consumer";case r9:return(e._context.displayName||"Context")+".Provider";case KN:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qN:return t=e.displayName||null,t!==null?t:EA(e.type)||"Memo";case Yc:t=e._payload,e=e._init;try{return EA(e(t))}catch{}}return null}function bne(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return EA(t);case 8:return t===GN?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Du(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function i9(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _ne(e){var t=i9(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ax(e){e._valueTracker||(e._valueTracker=_ne(e))}function s9(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=i9(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function SA(e,t){var r=t.checked;return Xr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function $4(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Du(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function o9(e,t){t=t.checked,t!=null&&HN(e,"checked",t,!1)}function TA(e,t){o9(e,t);var r=Du(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?AA(e,t.type,r):t.hasOwnProperty("defaultValue")&&AA(e,t.type,Du(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function B4(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function AA(e,t,r){(t!=="number"||fw(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var jp=Array.isArray;function c0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Du(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function CA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Re(91));return Xr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function U4(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Re(92));if(jp(r)){if(1<r.length)throw Error(Re(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Du(r)}}function l9(e,t){var r=Du(t.value),n=Du(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function V4(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function c9(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?c9(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Cx,u9=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Cx=Cx||document.createElement("div"),Cx.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Cx.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ig(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Yp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ene=["Webkit","ms","Moz","O"];Object.keys(Yp).forEach(function(e){Ene.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yp[t]=Yp[e]})});function d9(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Yp.hasOwnProperty(e)&&Yp[e]?(""+t).trim():t+"px"}function f9(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=d9(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Sne=Xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NA(e,t){if(t){if(Sne[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Re(62))}}function PA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IA=null;function YN(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var OA=null,u0=null,d0=null;function z4(e){if(e=ay(e)){if(typeof OA!="function")throw Error(Re(280));var t=e.stateNode;t&&(t=O_(t),OA(e.stateNode,e.type,t))}}function h9(e){u0?d0?d0.push(e):d0=[e]:u0=e}function m9(){if(u0){var e=u0,t=d0;if(d0=u0=null,z4(e),t)for(e=0;e<t.length;e++)z4(t[e])}}function p9(e,t){return e(t)}function g9(){}var m2=!1;function v9(e,t,r){if(m2)return e(t,r);m2=!0;try{return p9(e,t,r)}finally{m2=!1,(u0!==null||d0!==null)&&(g9(),m9())}}function Og(e,t){var r=e.stateNode;if(r===null)return null;var n=O_(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Re(231,t,typeof r));return r}var DA=!1;if(oc)try{var dp={};Object.defineProperty(dp,"passive",{get:function(){DA=!0}}),window.addEventListener("test",dp,dp),window.removeEventListener("test",dp,dp)}catch{DA=!1}function Tne(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Xp=!1,hw=null,mw=!1,jA=null,Ane={onError:function(e){Xp=!0,hw=e}};function Cne(e,t,r,n,a,i,s,o,l){Xp=!1,hw=null,Tne.apply(Ane,arguments)}function kne(e,t,r,n,a,i,s,o,l){if(Cne.apply(this,arguments),Xp){if(Xp){var c=hw;Xp=!1,hw=null}else throw Error(Re(198));mw||(mw=!0,jA=c)}}function th(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function y9(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function W4(e){if(th(e)!==e)throw Error(Re(188))}function Nne(e){var t=e.alternate;if(!t){if(t=th(e),t===null)throw Error(Re(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return W4(a),e;if(i===n)return W4(a),t;i=i.sibling}throw Error(Re(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(Re(189))}}if(r.alternate!==n)throw Error(Re(190))}if(r.tag!==3)throw Error(Re(188));return r.stateNode.current===r?e:t}function x9(e){return e=Nne(e),e!==null?w9(e):null}function w9(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=w9(e);if(t!==null)return t;e=e.sibling}return null}var b9=as.unstable_scheduleCallback,H4=as.unstable_cancelCallback,Pne=as.unstable_shouldYield,Ine=as.unstable_requestPaint,vn=as.unstable_now,One=as.unstable_getCurrentPriorityLevel,XN=as.unstable_ImmediatePriority,_9=as.unstable_UserBlockingPriority,pw=as.unstable_NormalPriority,Dne=as.unstable_LowPriority,E9=as.unstable_IdlePriority,k_=null,Zo=null;function jne(e){if(Zo&&typeof Zo.onCommitFiberRoot=="function")try{Zo.onCommitFiberRoot(k_,e,void 0,(e.current.flags&128)===128)}catch{}}var bo=Math.clz32?Math.clz32:Fne,Rne=Math.log,Mne=Math.LN2;function Fne(e){return e>>>=0,e===0?32:31-(Rne(e)/Mne|0)|0}var kx=64,Nx=4194304;function Rp(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function gw(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=Rp(o):(i&=s,i!==0&&(n=Rp(i)))}else s=r&~a,s!==0?n=Rp(s):i!==0&&(n=Rp(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-bo(t),a=1<<r,n|=e[r],t&=~a;return n}function Lne(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $ne(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-bo(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=Lne(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function RA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function S9(){var e=kx;return kx<<=1,!(kx&4194240)&&(kx=64),e}function p2(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ry(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bo(t),e[t]=r}function Bne(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-bo(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function QN(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-bo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var lr=0;function T9(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var A9,JN,C9,k9,N9,MA=!1,Px=[],pu=null,gu=null,vu=null,Dg=new Map,jg=new Map,tu=[],Une="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function G4(e,t){switch(e){case"focusin":case"focusout":pu=null;break;case"dragenter":case"dragleave":gu=null;break;case"mouseover":case"mouseout":vu=null;break;case"pointerover":case"pointerout":Dg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jg.delete(t.pointerId)}}function fp(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ay(t),t!==null&&JN(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Vne(e,t,r,n,a){switch(t){case"focusin":return pu=fp(pu,e,t,r,n,a),!0;case"dragenter":return gu=fp(gu,e,t,r,n,a),!0;case"mouseover":return vu=fp(vu,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Dg.set(i,fp(Dg.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,jg.set(i,fp(jg.get(i)||null,e,t,r,n,a)),!0}return!1}function P9(e){var t=Ud(e.target);if(t!==null){var r=th(t);if(r!==null){if(t=r.tag,t===13){if(t=y9(r),t!==null){e.blockedOn=t,N9(e.priority,function(){C9(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function j1(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=FA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);IA=n,r.target.dispatchEvent(n),IA=null}else return t=ay(r),t!==null&&JN(t),e.blockedOn=r,!1;t.shift()}return!0}function K4(e,t,r){j1(e)&&r.delete(t)}function zne(){MA=!1,pu!==null&&j1(pu)&&(pu=null),gu!==null&&j1(gu)&&(gu=null),vu!==null&&j1(vu)&&(vu=null),Dg.forEach(K4),jg.forEach(K4)}function hp(e,t){e.blockedOn===t&&(e.blockedOn=null,MA||(MA=!0,as.unstable_scheduleCallback(as.unstable_NormalPriority,zne)))}function Rg(e){function t(a){return hp(a,e)}if(0<Px.length){hp(Px[0],e);for(var r=1;r<Px.length;r++){var n=Px[r];n.blockedOn===e&&(n.blockedOn=null)}}for(pu!==null&&hp(pu,e),gu!==null&&hp(gu,e),vu!==null&&hp(vu,e),Dg.forEach(t),jg.forEach(t),r=0;r<tu.length;r++)n=tu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<tu.length&&(r=tu[0],r.blockedOn===null);)P9(r),r.blockedOn===null&&tu.shift()}var f0=Tc.ReactCurrentBatchConfig,vw=!0;function Wne(e,t,r,n){var a=lr,i=f0.transition;f0.transition=null;try{lr=1,ZN(e,t,r,n)}finally{lr=a,f0.transition=i}}function Hne(e,t,r,n){var a=lr,i=f0.transition;f0.transition=null;try{lr=4,ZN(e,t,r,n)}finally{lr=a,f0.transition=i}}function ZN(e,t,r,n){if(vw){var a=FA(e,t,r,n);if(a===null)T2(e,t,n,yw,r),G4(e,n);else if(Vne(a,e,t,r,n))n.stopPropagation();else if(G4(e,n),t&4&&-1<Une.indexOf(e)){for(;a!==null;){var i=ay(a);if(i!==null&&A9(i),i=FA(e,t,r,n),i===null&&T2(e,t,n,yw,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else T2(e,t,n,null,r)}}var yw=null;function FA(e,t,r,n){if(yw=null,e=YN(n),e=Ud(e),e!==null)if(t=th(e),t===null)e=null;else if(r=t.tag,r===13){if(e=y9(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return yw=e,null}function I9(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(One()){case XN:return 1;case _9:return 4;case pw:case Dne:return 16;case E9:return 536870912;default:return 16}default:return 16}}var lu=null,eP=null,R1=null;function O9(){if(R1)return R1;var e,t=eP,r=t.length,n,a="value"in lu?lu.value:lu.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return R1=a.slice(e,1<n?1-n:void 0)}function M1(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ix(){return!0}function q4(){return!1}function us(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ix:q4,this.isPropagationStopped=q4,this}return Xr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ix)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ix)},persist:function(){},isPersistent:Ix}),t}var dm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tP=us(dm),ny=Xr({},dm,{view:0,detail:0}),Gne=us(ny),g2,v2,mp,N_=Xr({},ny,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rP,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mp&&(mp&&e.type==="mousemove"?(g2=e.screenX-mp.screenX,v2=e.screenY-mp.screenY):v2=g2=0,mp=e),g2)},movementY:function(e){return"movementY"in e?e.movementY:v2}}),Y4=us(N_),Kne=Xr({},N_,{dataTransfer:0}),qne=us(Kne),Yne=Xr({},ny,{relatedTarget:0}),y2=us(Yne),Xne=Xr({},dm,{animationName:0,elapsedTime:0,pseudoElement:0}),Qne=us(Xne),Jne=Xr({},dm,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zne=us(Jne),eae=Xr({},dm,{data:0}),X4=us(eae),tae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aae(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nae[e])?!!t[e]:!1}function rP(){return aae}var iae=Xr({},ny,{key:function(e){if(e.key){var t=tae[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=M1(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rae[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rP,charCode:function(e){return e.type==="keypress"?M1(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?M1(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),sae=us(iae),oae=Xr({},N_,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Q4=us(oae),lae=Xr({},ny,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rP}),cae=us(lae),uae=Xr({},dm,{propertyName:0,elapsedTime:0,pseudoElement:0}),dae=us(uae),fae=Xr({},N_,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hae=us(fae),mae=[9,13,27,32],nP=oc&&"CompositionEvent"in window,Qp=null;oc&&"documentMode"in document&&(Qp=document.documentMode);var pae=oc&&"TextEvent"in window&&!Qp,D9=oc&&(!nP||Qp&&8<Qp&&11>=Qp),J4=" ",Z4=!1;function j9(e,t){switch(e){case"keyup":return mae.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function R9(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zh=!1;function gae(e,t){switch(e){case"compositionend":return R9(t);case"keypress":return t.which!==32?null:(Z4=!0,J4);case"textInput":return e=t.data,e===J4&&Z4?null:e;default:return null}}function vae(e,t){if(zh)return e==="compositionend"||!nP&&j9(e,t)?(e=O9(),R1=eP=lu=null,zh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return D9&&t.locale!=="ko"?null:t.data;default:return null}}var yae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eM(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yae[e.type]:t==="textarea"}function M9(e,t,r,n){h9(n),t=xw(t,"onChange"),0<t.length&&(r=new tP("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Jp=null,Mg=null;function xae(e){K9(e,0)}function P_(e){var t=Gh(e);if(s9(t))return e}function wae(e,t){if(e==="change")return t}var F9=!1;if(oc){var x2;if(oc){var w2="oninput"in document;if(!w2){var tM=document.createElement("div");tM.setAttribute("oninput","return;"),w2=typeof tM.oninput=="function"}x2=w2}else x2=!1;F9=x2&&(!document.documentMode||9<document.documentMode)}function rM(){Jp&&(Jp.detachEvent("onpropertychange",L9),Mg=Jp=null)}function L9(e){if(e.propertyName==="value"&&P_(Mg)){var t=[];M9(t,Mg,e,YN(e)),v9(xae,t)}}function bae(e,t,r){e==="focusin"?(rM(),Jp=t,Mg=r,Jp.attachEvent("onpropertychange",L9)):e==="focusout"&&rM()}function _ae(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return P_(Mg)}function Eae(e,t){if(e==="click")return P_(t)}function Sae(e,t){if(e==="input"||e==="change")return P_(t)}function Tae(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var No=typeof Object.is=="function"?Object.is:Tae;function Fg(e,t){if(No(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!xA.call(t,a)||!No(e[a],t[a]))return!1}return!0}function nM(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function aM(e,t){var r=nM(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nM(r)}}function $9(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$9(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function B9(){for(var e=window,t=fw();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fw(e.document)}return t}function aP(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Aae(e){var t=B9(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&$9(r.ownerDocument.documentElement,r)){if(n!==null&&aP(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=aM(r,i);var s=aM(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Cae=oc&&"documentMode"in document&&11>=document.documentMode,Wh=null,LA=null,Zp=null,$A=!1;function iM(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$A||Wh==null||Wh!==fw(n)||(n=Wh,"selectionStart"in n&&aP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zp&&Fg(Zp,n)||(Zp=n,n=xw(LA,"onSelect"),0<n.length&&(t=new tP("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Wh)))}function Ox(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Hh={animationend:Ox("Animation","AnimationEnd"),animationiteration:Ox("Animation","AnimationIteration"),animationstart:Ox("Animation","AnimationStart"),transitionend:Ox("Transition","TransitionEnd")},b2={},U9={};oc&&(U9=document.createElement("div").style,"AnimationEvent"in window||(delete Hh.animationend.animation,delete Hh.animationiteration.animation,delete Hh.animationstart.animation),"TransitionEvent"in window||delete Hh.transitionend.transition);function I_(e){if(b2[e])return b2[e];if(!Hh[e])return e;var t=Hh[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in U9)return b2[e]=t[r];return e}var V9=I_("animationend"),z9=I_("animationiteration"),W9=I_("animationstart"),H9=I_("transitionend"),G9=new Map,sM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ed(e,t){G9.set(e,t),eh(t,[e])}for(var _2=0;_2<sM.length;_2++){var E2=sM[_2],kae=E2.toLowerCase(),Nae=E2[0].toUpperCase()+E2.slice(1);ed(kae,"on"+Nae)}ed(V9,"onAnimationEnd");ed(z9,"onAnimationIteration");ed(W9,"onAnimationStart");ed("dblclick","onDoubleClick");ed("focusin","onFocus");ed("focusout","onBlur");ed(H9,"onTransitionEnd");P0("onMouseEnter",["mouseout","mouseover"]);P0("onMouseLeave",["mouseout","mouseover"]);P0("onPointerEnter",["pointerout","pointerover"]);P0("onPointerLeave",["pointerout","pointerover"]);eh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));eh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));eh("onBeforeInput",["compositionend","keypress","textInput","paste"]);eh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));eh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));eh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pae=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mp));function oM(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,kne(n,t,void 0,e),e.currentTarget=null}function K9(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;oM(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;oM(a,o,c),i=l}}}if(mw)throw e=jA,mw=!1,jA=null,e}function Cr(e,t){var r=t[WA];r===void 0&&(r=t[WA]=new Set);var n=e+"__bubble";r.has(n)||(q9(t,e,2,!1),r.add(n))}function S2(e,t,r){var n=0;t&&(n|=4),q9(r,e,n,t)}var Dx="_reactListening"+Math.random().toString(36).slice(2);function Lg(e){if(!e[Dx]){e[Dx]=!0,t9.forEach(function(r){r!=="selectionchange"&&(Pae.has(r)||S2(r,!1,e),S2(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dx]||(t[Dx]=!0,S2("selectionchange",!1,t))}}function q9(e,t,r,n){switch(I9(t)){case 1:var a=Wne;break;case 4:a=Hne;break;default:a=ZN}r=a.bind(null,t,r,e),a=void 0,!DA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function T2(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=Ud(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}v9(function(){var c=i,u=YN(r),f=[];e:{var h=G9.get(e);if(h!==void 0){var m=tP,p=e;switch(e){case"keypress":if(M1(r)===0)break e;case"keydown":case"keyup":m=sae;break;case"focusin":p="focus",m=y2;break;case"focusout":p="blur",m=y2;break;case"beforeblur":case"afterblur":m=y2;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Y4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=cae;break;case V9:case z9:case W9:m=Qne;break;case H9:m=dae;break;case"scroll":m=Gne;break;case"wheel":m=hae;break;case"copy":case"cut":case"paste":m=Zne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Q4}var g=(t&4)!==0,v=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var x=c,b;x!==null;){b=x;var E=b.stateNode;if(b.tag===5&&E!==null&&(b=E,y!==null&&(E=Og(x,y),E!=null&&g.push($g(x,E,b)))),v)break;x=x.return}0<g.length&&(h=new m(h,p,null,r,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==IA&&(p=r.relatedTarget||r.fromElement)&&(Ud(p)||p[lc]))break e;if((m||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=c,p=p?Ud(p):null,p!==null&&(v=th(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=c),m!==p)){if(g=Y4,E="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=Q4,E="onPointerLeave",y="onPointerEnter",x="pointer"),v=m==null?h:Gh(m),b=p==null?h:Gh(p),h=new g(E,x+"leave",m,r,u),h.target=v,h.relatedTarget=b,E=null,Ud(u)===c&&(g=new g(y,x+"enter",p,r,u),g.target=b,g.relatedTarget=v,E=g),v=E,m&&p)t:{for(g=m,y=p,x=0,b=g;b;b=Sh(b))x++;for(b=0,E=y;E;E=Sh(E))b++;for(;0<x-b;)g=Sh(g),x--;for(;0<b-x;)y=Sh(y),b--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=Sh(g),y=Sh(y)}g=null}else g=null;m!==null&&lM(f,h,m,g,!1),p!==null&&v!==null&&lM(f,v,p,g,!0)}}e:{if(h=c?Gh(c):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var k=wae;else if(eM(h))if(F9)k=Sae;else{k=_ae;var C=bae}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=Eae);if(k&&(k=k(e,c))){M9(f,k,r,u);break e}C&&C(e,h,c),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&AA(h,"number",h.value)}switch(C=c?Gh(c):window,e){case"focusin":(eM(C)||C.contentEditable==="true")&&(Wh=C,LA=c,Zp=null);break;case"focusout":Zp=LA=Wh=null;break;case"mousedown":$A=!0;break;case"contextmenu":case"mouseup":case"dragend":$A=!1,iM(f,r,u);break;case"selectionchange":if(Cae)break;case"keydown":case"keyup":iM(f,r,u)}var S;if(nP)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else zh?j9(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(D9&&r.locale!=="ko"&&(zh||_!=="onCompositionStart"?_==="onCompositionEnd"&&zh&&(S=O9()):(lu=u,eP="value"in lu?lu.value:lu.textContent,zh=!0)),C=xw(c,_),0<C.length&&(_=new X4(_,e,null,r,u),f.push({event:_,listeners:C}),S?_.data=S:(S=R9(r),S!==null&&(_.data=S)))),(S=pae?gae(e,r):vae(e,r))&&(c=xw(c,"onBeforeInput"),0<c.length&&(u=new X4("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=S))}K9(f,t)})}function $g(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xw(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Og(e,r),i!=null&&n.unshift($g(e,i,a)),i=Og(e,t),i!=null&&n.push($g(e,i,a))),e=e.return}return n}function Sh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lM(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=Og(r,i),l!=null&&s.unshift($g(r,l,o))):a||(l=Og(r,i),l!=null&&s.push($g(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Iae=/\r\n?/g,Oae=/\u0000|\uFFFD/g;function cM(e){return(typeof e=="string"?e:""+e).replace(Iae,`
`).replace(Oae,"")}function jx(e,t,r){if(t=cM(t),cM(e)!==t&&r)throw Error(Re(425))}function ww(){}var BA=null,UA=null;function VA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var zA=typeof setTimeout=="function"?setTimeout:void 0,Dae=typeof clearTimeout=="function"?clearTimeout:void 0,uM=typeof Promise=="function"?Promise:void 0,jae=typeof queueMicrotask=="function"?queueMicrotask:typeof uM<"u"?function(e){return uM.resolve(null).then(e).catch(Rae)}:zA;function Rae(e){setTimeout(function(){throw e})}function A2(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Rg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Rg(t)}function yu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dM(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var fm=Math.random().toString(36).slice(2),Ko="__reactFiber$"+fm,Bg="__reactProps$"+fm,lc="__reactContainer$"+fm,WA="__reactEvents$"+fm,Mae="__reactListeners$"+fm,Fae="__reactHandles$"+fm;function Ud(e){var t=e[Ko];if(t)return t;for(var r=e.parentNode;r;){if(t=r[lc]||r[Ko]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=dM(e);e!==null;){if(r=e[Ko])return r;e=dM(e)}return t}e=r,r=e.parentNode}return null}function ay(e){return e=e[Ko]||e[lc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Re(33))}function O_(e){return e[Bg]||null}var HA=[],Kh=-1;function td(e){return{current:e}}function Or(e){0>Kh||(e.current=HA[Kh],HA[Kh]=null,Kh--)}function Er(e,t){Kh++,HA[Kh]=e.current,e.current=t}var ju={},Ga=td(ju),ki=td(!1),mf=ju;function I0(e,t){var r=e.type.contextTypes;if(!r)return ju;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ni(e){return e=e.childContextTypes,e!=null}function bw(){Or(ki),Or(Ga)}function fM(e,t,r){if(Ga.current!==ju)throw Error(Re(168));Er(Ga,t),Er(ki,r)}function Y9(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Re(108,bne(e)||"Unknown",a));return Xr({},r,n)}function _w(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ju,mf=Ga.current,Er(Ga,e),Er(ki,ki.current),!0}function hM(e,t,r){var n=e.stateNode;if(!n)throw Error(Re(169));r?(e=Y9(e,t,mf),n.__reactInternalMemoizedMergedChildContext=e,Or(ki),Or(Ga),Er(Ga,e)):Or(ki),Er(ki,r)}var Fl=null,D_=!1,C2=!1;function X9(e){Fl===null?Fl=[e]:Fl.push(e)}function Lae(e){D_=!0,X9(e)}function rd(){if(!C2&&Fl!==null){C2=!0;var e=0,t=lr;try{var r=Fl;for(lr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Fl=null,D_=!1}catch(a){throw Fl!==null&&(Fl=Fl.slice(e+1)),b9(XN,rd),a}finally{lr=t,C2=!1}}return null}var qh=[],Yh=0,Ew=null,Sw=0,Ns=[],Ps=0,pf=null,Ul=1,Vl="";function Pd(e,t){qh[Yh++]=Sw,qh[Yh++]=Ew,Ew=e,Sw=t}function Q9(e,t,r){Ns[Ps++]=Ul,Ns[Ps++]=Vl,Ns[Ps++]=pf,pf=e;var n=Ul;e=Vl;var a=32-bo(n)-1;n&=~(1<<a),r+=1;var i=32-bo(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,Ul=1<<32-bo(t)+a|r<<a|n,Vl=i+e}else Ul=1<<i|r<<a|n,Vl=e}function iP(e){e.return!==null&&(Pd(e,1),Q9(e,1,0))}function sP(e){for(;e===Ew;)Ew=qh[--Yh],qh[Yh]=null,Sw=qh[--Yh],qh[Yh]=null;for(;e===pf;)pf=Ns[--Ps],Ns[Ps]=null,Vl=Ns[--Ps],Ns[Ps]=null,Ul=Ns[--Ps],Ns[Ps]=null}var es=null,Ji=null,$r=!1,ho=null;function J9(e,t){var r=js(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function mM(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,es=e,Ji=yu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,es=e,Ji=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=pf!==null?{id:Ul,overflow:Vl}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=js(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,es=e,Ji=null,!0):!1;default:return!1}}function GA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function KA(e){if($r){var t=Ji;if(t){var r=t;if(!mM(e,t)){if(GA(e))throw Error(Re(418));t=yu(r.nextSibling);var n=es;t&&mM(e,t)?J9(n,r):(e.flags=e.flags&-4097|2,$r=!1,es=e)}}else{if(GA(e))throw Error(Re(418));e.flags=e.flags&-4097|2,$r=!1,es=e}}}function pM(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;es=e}function Rx(e){if(e!==es)return!1;if(!$r)return pM(e),$r=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!VA(e.type,e.memoizedProps)),t&&(t=Ji)){if(GA(e))throw Z9(),Error(Re(418));for(;t;)J9(e,t),t=yu(t.nextSibling)}if(pM(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ji=yu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ji=null}}else Ji=es?yu(e.stateNode.nextSibling):null;return!0}function Z9(){for(var e=Ji;e;)e=yu(e.nextSibling)}function O0(){Ji=es=null,$r=!1}function oP(e){ho===null?ho=[e]:ho.push(e)}var $ae=Tc.ReactCurrentBatchConfig;function pp(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Re(309));var n=r.stateNode}if(!n)throw Error(Re(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Re(284));if(!r._owner)throw Error(Re(290,e))}return e}function Mx(e,t){throw e=Object.prototype.toString.call(t),Error(Re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gM(e){var t=e._init;return t(e._payload)}function eV(e){function t(y,x){if(e){var b=y.deletions;b===null?(y.deletions=[x],y.flags|=16):b.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function a(y,x){return y=_u(y,x),y.index=0,y.sibling=null,y}function i(y,x,b){return y.index=b,e?(b=y.alternate,b!==null?(b=b.index,b<x?(y.flags|=2,x):b):(y.flags|=2,x)):(y.flags|=1048576,x)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,x,b,E){return x===null||x.tag!==6?(x=j2(b,y.mode,E),x.return=y,x):(x=a(x,b),x.return=y,x)}function l(y,x,b,E){var k=b.type;return k===Vh?u(y,x,b.props.children,E,b.key):x!==null&&(x.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Yc&&gM(k)===x.type)?(E=a(x,b.props),E.ref=pp(y,x,b),E.return=y,E):(E=z1(b.type,b.key,b.props,null,y.mode,E),E.ref=pp(y,x,b),E.return=y,E)}function c(y,x,b,E){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=R2(b,y.mode,E),x.return=y,x):(x=a(x,b.children||[]),x.return=y,x)}function u(y,x,b,E,k){return x===null||x.tag!==7?(x=ef(b,y.mode,E,k),x.return=y,x):(x=a(x,b),x.return=y,x)}function f(y,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=j2(""+x,y.mode,b),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tx:return b=z1(x.type,x.key,x.props,null,y.mode,b),b.ref=pp(y,null,x),b.return=y,b;case Uh:return x=R2(x,y.mode,b),x.return=y,x;case Yc:var E=x._init;return f(y,E(x._payload),b)}if(jp(x)||up(x))return x=ef(x,y.mode,b,null),x.return=y,x;Mx(y,x)}return null}function h(y,x,b,E){var k=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:o(y,x,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tx:return b.key===k?l(y,x,b,E):null;case Uh:return b.key===k?c(y,x,b,E):null;case Yc:return k=b._init,h(y,x,k(b._payload),E)}if(jp(b)||up(b))return k!==null?null:u(y,x,b,E,null);Mx(y,b)}return null}function m(y,x,b,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return y=y.get(b)||null,o(x,y,""+E,k);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Tx:return y=y.get(E.key===null?b:E.key)||null,l(x,y,E,k);case Uh:return y=y.get(E.key===null?b:E.key)||null,c(x,y,E,k);case Yc:var C=E._init;return m(y,x,b,C(E._payload),k)}if(jp(E)||up(E))return y=y.get(b)||null,u(x,y,E,k,null);Mx(x,E)}return null}function p(y,x,b,E){for(var k=null,C=null,S=x,_=x=0,T=null;S!==null&&_<b.length;_++){S.index>_?(T=S,S=null):T=S.sibling;var P=h(y,S,b[_],E);if(P===null){S===null&&(S=T);break}e&&S&&P.alternate===null&&t(y,S),x=i(P,x,_),C===null?k=P:C.sibling=P,C=P,S=T}if(_===b.length)return r(y,S),$r&&Pd(y,_),k;if(S===null){for(;_<b.length;_++)S=f(y,b[_],E),S!==null&&(x=i(S,x,_),C===null?k=S:C.sibling=S,C=S);return $r&&Pd(y,_),k}for(S=n(y,S);_<b.length;_++)T=m(S,y,_,b[_],E),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?_:T.key),x=i(T,x,_),C===null?k=T:C.sibling=T,C=T);return e&&S.forEach(function(N){return t(y,N)}),$r&&Pd(y,_),k}function g(y,x,b,E){var k=up(b);if(typeof k!="function")throw Error(Re(150));if(b=k.call(b),b==null)throw Error(Re(151));for(var C=k=null,S=x,_=x=0,T=null,P=b.next();S!==null&&!P.done;_++,P=b.next()){S.index>_?(T=S,S=null):T=S.sibling;var N=h(y,S,P.value,E);if(N===null){S===null&&(S=T);break}e&&S&&N.alternate===null&&t(y,S),x=i(N,x,_),C===null?k=N:C.sibling=N,C=N,S=T}if(P.done)return r(y,S),$r&&Pd(y,_),k;if(S===null){for(;!P.done;_++,P=b.next())P=f(y,P.value,E),P!==null&&(x=i(P,x,_),C===null?k=P:C.sibling=P,C=P);return $r&&Pd(y,_),k}for(S=n(y,S);!P.done;_++,P=b.next())P=m(S,y,_,P.value,E),P!==null&&(e&&P.alternate!==null&&S.delete(P.key===null?_:P.key),x=i(P,x,_),C===null?k=P:C.sibling=P,C=P);return e&&S.forEach(function(O){return t(y,O)}),$r&&Pd(y,_),k}function v(y,x,b,E){if(typeof b=="object"&&b!==null&&b.type===Vh&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Tx:e:{for(var k=b.key,C=x;C!==null;){if(C.key===k){if(k=b.type,k===Vh){if(C.tag===7){r(y,C.sibling),x=a(C,b.props.children),x.return=y,y=x;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Yc&&gM(k)===C.type){r(y,C.sibling),x=a(C,b.props),x.ref=pp(y,C,b),x.return=y,y=x;break e}r(y,C);break}else t(y,C);C=C.sibling}b.type===Vh?(x=ef(b.props.children,y.mode,E,b.key),x.return=y,y=x):(E=z1(b.type,b.key,b.props,null,y.mode,E),E.ref=pp(y,x,b),E.return=y,y=E)}return s(y);case Uh:e:{for(C=b.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(y,x.sibling),x=a(x,b.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=R2(b,y.mode,E),x.return=y,y=x}return s(y);case Yc:return C=b._init,v(y,x,C(b._payload),E)}if(jp(b))return p(y,x,b,E);if(up(b))return g(y,x,b,E);Mx(y,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(y,x.sibling),x=a(x,b),x.return=y,y=x):(r(y,x),x=j2(b,y.mode,E),x.return=y,y=x),s(y)):r(y,x)}return v}var D0=eV(!0),tV=eV(!1),Tw=td(null),Aw=null,Xh=null,lP=null;function cP(){lP=Xh=Aw=null}function uP(e){var t=Tw.current;Or(Tw),e._currentValue=t}function qA(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function h0(e,t){Aw=e,lP=Xh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Si=!0),e.firstContext=null)}function Bs(e){var t=e._currentValue;if(lP!==e)if(e={context:e,memoizedValue:t,next:null},Xh===null){if(Aw===null)throw Error(Re(308));Xh=e,Aw.dependencies={lanes:0,firstContext:e}}else Xh=Xh.next=e;return t}var Vd=null;function dP(e){Vd===null?Vd=[e]:Vd.push(e)}function rV(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,dP(t)):(r.next=a.next,a.next=r),t.interleaved=r,cc(e,n)}function cc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xc=!1;function fP(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nV(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Jl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ht&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,cc(e,r)}return a=n.interleaved,a===null?(t.next=t,dP(n)):(t.next=a.next,a.next=t),n.interleaved=t,cc(e,r)}function F1(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,QN(e,r)}}function vM(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Cw(e,t,r,n){var a=e.updateQueue;Xc=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,m=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,m=r,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Xr({},f,h);break e;case 2:Xc=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);vf|=s,e.lanes=s,e.memoizedState=f}}function yM(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Re(191,a));a.call(n)}}}var iy={},el=td(iy),Ug=td(iy),Vg=td(iy);function zd(e){if(e===iy)throw Error(Re(174));return e}function hP(e,t){switch(Er(Vg,t),Er(Ug,e),Er(el,iy),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kA(t,e)}Or(el),Er(el,t)}function j0(){Or(el),Or(Ug),Or(Vg)}function aV(e){zd(Vg.current);var t=zd(el.current),r=kA(t,e.type);t!==r&&(Er(Ug,e),Er(el,r))}function mP(e){Ug.current===e&&(Or(el),Or(Ug))}var Wr=td(0);function kw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var k2=[];function pP(){for(var e=0;e<k2.length;e++)k2[e]._workInProgressVersionPrimary=null;k2.length=0}var L1=Tc.ReactCurrentDispatcher,N2=Tc.ReactCurrentBatchConfig,gf=0,Yr=null,Mn=null,ea=null,Nw=!1,eg=!1,zg=0,Bae=0;function ka(){throw Error(Re(321))}function gP(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!No(e[r],t[r]))return!1;return!0}function vP(e,t,r,n,a,i){if(gf=i,Yr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L1.current=e===null||e.memoizedState===null?Wae:Hae,e=r(n,a),eg){i=0;do{if(eg=!1,zg=0,25<=i)throw Error(Re(301));i+=1,ea=Mn=null,t.updateQueue=null,L1.current=Gae,e=r(n,a)}while(eg)}if(L1.current=Pw,t=Mn!==null&&Mn.next!==null,gf=0,ea=Mn=Yr=null,Nw=!1,t)throw Error(Re(300));return e}function yP(){var e=zg!==0;return zg=0,e}function Wo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ea===null?Yr.memoizedState=ea=e:ea=ea.next=e,ea}function Us(){if(Mn===null){var e=Yr.alternate;e=e!==null?e.memoizedState:null}else e=Mn.next;var t=ea===null?Yr.memoizedState:ea.next;if(t!==null)ea=t,Mn=e;else{if(e===null)throw Error(Re(310));Mn=e,e={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},ea===null?Yr.memoizedState=ea=e:ea=ea.next=e}return ea}function Wg(e,t){return typeof t=="function"?t(e):t}function P2(e){var t=Us(),r=t.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=e;var n=Mn,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((gf&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Yr.lanes|=u,vf|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,No(n,t.memoizedState)||(Si=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Yr.lanes|=i,vf|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function I2(e){var t=Us(),r=t.queue;if(r===null)throw Error(Re(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);No(i,t.memoizedState)||(Si=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function iV(){}function sV(e,t){var r=Yr,n=Us(),a=t(),i=!No(n.memoizedState,a);if(i&&(n.memoizedState=a,Si=!0),n=n.queue,xP(cV.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ea!==null&&ea.memoizedState.tag&1){if(r.flags|=2048,Hg(9,lV.bind(null,r,n,a,t),void 0,null),sa===null)throw Error(Re(349));gf&30||oV(r,t,a)}return a}function oV(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Yr.updateQueue,t===null?(t={lastEffect:null,stores:null},Yr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function lV(e,t,r,n){t.value=r,t.getSnapshot=n,uV(t)&&dV(e)}function cV(e,t,r){return r(function(){uV(t)&&dV(e)})}function uV(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!No(e,r)}catch{return!0}}function dV(e){var t=cc(e,1);t!==null&&_o(t,e,1,-1)}function xM(e){var t=Wo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wg,lastRenderedState:e},t.queue=e,e=e.dispatch=zae.bind(null,Yr,e),[t.memoizedState,e]}function Hg(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Yr.updateQueue,t===null?(t={lastEffect:null,stores:null},Yr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function fV(){return Us().memoizedState}function $1(e,t,r,n){var a=Wo();Yr.flags|=e,a.memoizedState=Hg(1|t,r,void 0,n===void 0?null:n)}function j_(e,t,r,n){var a=Us();n=n===void 0?null:n;var i=void 0;if(Mn!==null){var s=Mn.memoizedState;if(i=s.destroy,n!==null&&gP(n,s.deps)){a.memoizedState=Hg(t,r,i,n);return}}Yr.flags|=e,a.memoizedState=Hg(1|t,r,i,n)}function wM(e,t){return $1(8390656,8,e,t)}function xP(e,t){return j_(2048,8,e,t)}function hV(e,t){return j_(4,2,e,t)}function mV(e,t){return j_(4,4,e,t)}function pV(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gV(e,t,r){return r=r!=null?r.concat([e]):null,j_(4,4,pV.bind(null,t,e),r)}function wP(){}function vV(e,t){var r=Us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gP(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function yV(e,t){var r=Us();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gP(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xV(e,t,r){return gf&21?(No(r,t)||(r=S9(),Yr.lanes|=r,vf|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Si=!0),e.memoizedState=r)}function Uae(e,t){var r=lr;lr=r!==0&&4>r?r:4,e(!0);var n=N2.transition;N2.transition={};try{e(!1),t()}finally{lr=r,N2.transition=n}}function wV(){return Us().memoizedState}function Vae(e,t,r){var n=bu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},bV(e))_V(t,r);else if(r=rV(e,t,r,n),r!==null){var a=di();_o(r,e,n,a),EV(r,t,n)}}function zae(e,t,r){var n=bu(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(bV(e))_V(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,No(o,s)){var l=t.interleaved;l===null?(a.next=a,dP(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=rV(e,t,a,n),r!==null&&(a=di(),_o(r,e,n,a),EV(r,t,n))}}function bV(e){var t=e.alternate;return e===Yr||t!==null&&t===Yr}function _V(e,t){eg=Nw=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function EV(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,QN(e,r)}}var Pw={readContext:Bs,useCallback:ka,useContext:ka,useEffect:ka,useImperativeHandle:ka,useInsertionEffect:ka,useLayoutEffect:ka,useMemo:ka,useReducer:ka,useRef:ka,useState:ka,useDebugValue:ka,useDeferredValue:ka,useTransition:ka,useMutableSource:ka,useSyncExternalStore:ka,useId:ka,unstable_isNewReconciler:!1},Wae={readContext:Bs,useCallback:function(e,t){return Wo().memoizedState=[e,t===void 0?null:t],e},useContext:Bs,useEffect:wM,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$1(4194308,4,pV.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $1(4194308,4,e,t)},useInsertionEffect:function(e,t){return $1(4,2,e,t)},useMemo:function(e,t){var r=Wo();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Wo();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Vae.bind(null,Yr,e),[n.memoizedState,e]},useRef:function(e){var t=Wo();return e={current:e},t.memoizedState=e},useState:xM,useDebugValue:wP,useDeferredValue:function(e){return Wo().memoizedState=e},useTransition:function(){var e=xM(!1),t=e[0];return e=Uae.bind(null,e[1]),Wo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Yr,a=Wo();if($r){if(r===void 0)throw Error(Re(407));r=r()}else{if(r=t(),sa===null)throw Error(Re(349));gf&30||oV(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,wM(cV.bind(null,n,i,e),[e]),n.flags|=2048,Hg(9,lV.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Wo(),t=sa.identifierPrefix;if($r){var r=Vl,n=Ul;r=(n&~(1<<32-bo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zg++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Bae++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Hae={readContext:Bs,useCallback:vV,useContext:Bs,useEffect:xP,useImperativeHandle:gV,useInsertionEffect:hV,useLayoutEffect:mV,useMemo:yV,useReducer:P2,useRef:fV,useState:function(){return P2(Wg)},useDebugValue:wP,useDeferredValue:function(e){var t=Us();return xV(t,Mn.memoizedState,e)},useTransition:function(){var e=P2(Wg)[0],t=Us().memoizedState;return[e,t]},useMutableSource:iV,useSyncExternalStore:sV,useId:wV,unstable_isNewReconciler:!1},Gae={readContext:Bs,useCallback:vV,useContext:Bs,useEffect:xP,useImperativeHandle:gV,useInsertionEffect:hV,useLayoutEffect:mV,useMemo:yV,useReducer:I2,useRef:fV,useState:function(){return I2(Wg)},useDebugValue:wP,useDeferredValue:function(e){var t=Us();return Mn===null?t.memoizedState=e:xV(t,Mn.memoizedState,e)},useTransition:function(){var e=I2(Wg)[0],t=Us().memoizedState;return[e,t]},useMutableSource:iV,useSyncExternalStore:sV,useId:wV,unstable_isNewReconciler:!1};function uo(e,t){if(e&&e.defaultProps){t=Xr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function YA(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Xr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var R_={isMounted:function(e){return(e=e._reactInternals)?th(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=di(),a=bu(e),i=Jl(n,a);i.payload=t,r!=null&&(i.callback=r),t=xu(e,i,a),t!==null&&(_o(t,e,a,n),F1(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=di(),a=bu(e),i=Jl(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=xu(e,i,a),t!==null&&(_o(t,e,a,n),F1(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=di(),n=bu(e),a=Jl(r,n);a.tag=2,t!=null&&(a.callback=t),t=xu(e,a,n),t!==null&&(_o(t,e,n,r),F1(t,e,n))}};function bM(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Fg(r,n)||!Fg(a,i):!0}function SV(e,t,r){var n=!1,a=ju,i=t.contextType;return typeof i=="object"&&i!==null?i=Bs(i):(a=Ni(t)?mf:Ga.current,n=t.contextTypes,i=(n=n!=null)?I0(e,a):ju),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=R_,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function _M(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&R_.enqueueReplaceState(t,t.state,null)}function XA(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},fP(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Bs(i):(i=Ni(t)?mf:Ga.current,a.context=I0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(YA(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&R_.enqueueReplaceState(a,a.state,null),Cw(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function R0(e,t){try{var r="",n=t;do r+=wne(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function O2(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function QA(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Kae=typeof WeakMap=="function"?WeakMap:Map;function TV(e,t,r){r=Jl(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ow||(Ow=!0,oC=n),QA(e,t)},r}function AV(e,t,r){r=Jl(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){QA(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){QA(e,t),typeof n!="function"&&(wu===null?wu=new Set([this]):wu.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function EM(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Kae;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=oie.bind(null,e,t,r),t.then(e,e))}function SM(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function TM(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Jl(-1,1),t.tag=2,xu(r,t,1))),r.lanes|=1),e)}var qae=Tc.ReactCurrentOwner,Si=!1;function ti(e,t,r,n){t.child=e===null?tV(t,null,r,n):D0(t,e.child,r,n)}function AM(e,t,r,n,a){r=r.render;var i=t.ref;return h0(t,a),n=vP(e,t,r,n,i,a),r=yP(),e!==null&&!Si?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,uc(e,t,a)):($r&&r&&iP(t),t.flags|=1,ti(e,t,n,a),t.child)}function CM(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!kP(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,CV(e,t,i,n,a)):(e=z1(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Fg,r(s,n)&&e.ref===t.ref)return uc(e,t,a)}return t.flags|=1,e=_u(i,n),e.ref=t.ref,e.return=t,t.child=e}function CV(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Fg(i,n)&&e.ref===t.ref)if(Si=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(Si=!0);else return t.lanes=e.lanes,uc(e,t,a)}return JA(e,t,r,n,a)}function kV(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Er(Jh,zi),zi|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Er(Jh,zi),zi|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Er(Jh,zi),zi|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Er(Jh,zi),zi|=n;return ti(e,t,a,r),t.child}function NV(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function JA(e,t,r,n,a){var i=Ni(r)?mf:Ga.current;return i=I0(t,i),h0(t,a),r=vP(e,t,r,n,i,a),n=yP(),e!==null&&!Si?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,uc(e,t,a)):($r&&n&&iP(t),t.flags|=1,ti(e,t,r,a),t.child)}function kM(e,t,r,n,a){if(Ni(r)){var i=!0;_w(t)}else i=!1;if(h0(t,a),t.stateNode===null)B1(e,t),SV(t,r,n),XA(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=Bs(c):(c=Ni(r)?mf:Ga.current,c=I0(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&_M(t,s,n,c),Xc=!1;var h=t.memoizedState;s.state=h,Cw(t,n,s,a),l=t.memoizedState,o!==n||h!==l||ki.current||Xc?(typeof u=="function"&&(YA(t,r,u,n),l=t.memoizedState),(o=Xc||bM(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,nV(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:uo(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=Bs(l):(l=Ni(r)?mf:Ga.current,l=I0(t,l));var m=r.getDerivedStateFromProps;(u=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&_M(t,s,n,l),Xc=!1,h=t.memoizedState,s.state=h,Cw(t,n,s,a);var p=t.memoizedState;o!==f||h!==p||ki.current||Xc?(typeof m=="function"&&(YA(t,r,m,n),p=t.memoizedState),(c=Xc||bM(t,r,c,n,h,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),s.props=n,s.state=p,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return ZA(e,t,r,n,i,a)}function ZA(e,t,r,n,a,i){NV(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&hM(t,r,!1),uc(e,t,i);n=t.stateNode,qae.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=D0(t,e.child,null,i),t.child=D0(t,null,o,i)):ti(e,t,o,i),t.memoizedState=n.state,a&&hM(t,r,!0),t.child}function PV(e){var t=e.stateNode;t.pendingContext?fM(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fM(e,t.context,!1),hP(e,t.containerInfo)}function NM(e,t,r,n,a){return O0(),oP(a),t.flags|=256,ti(e,t,r,n),t.child}var eC={dehydrated:null,treeContext:null,retryLane:0};function tC(e){return{baseLanes:e,cachePool:null,transitions:null}}function IV(e,t,r){var n=t.pendingProps,a=Wr.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Er(Wr,a&1),e===null)return KA(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=L_(s,n,0,null),e=ef(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=tC(r),t.memoizedState=eC,e):bP(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Yae(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=_u(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=_u(o,i):(i=ef(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?tC(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=eC,n}return i=e.child,e=i.sibling,n=_u(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function bP(e,t){return t=L_({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fx(e,t,r,n){return n!==null&&oP(n),D0(t,e.child,null,r),e=bP(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yae(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=O2(Error(Re(422))),Fx(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=L_({mode:"visible",children:n.children},a,0,null),i=ef(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&D0(t,e.child,null,s),t.child.memoizedState=tC(s),t.memoizedState=eC,i);if(!(t.mode&1))return Fx(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Re(419)),n=O2(i,n,void 0),Fx(e,t,s,n)}if(o=(s&e.childLanes)!==0,Si||o){if(n=sa,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,cc(e,a),_o(n,e,a,-1))}return CP(),n=O2(Error(Re(421))),Fx(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=lie.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ji=yu(a.nextSibling),es=t,$r=!0,ho=null,e!==null&&(Ns[Ps++]=Ul,Ns[Ps++]=Vl,Ns[Ps++]=pf,Ul=e.id,Vl=e.overflow,pf=t),t=bP(t,n.children),t.flags|=4096,t)}function PM(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),qA(e.return,t,r)}function D2(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function OV(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(ti(e,t,n.children,r),n=Wr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&PM(e,r,t);else if(e.tag===19)PM(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Er(Wr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&kw(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),D2(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&kw(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}D2(t,!0,r,null,i);break;case"together":D2(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function B1(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function uc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vf|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Re(153));if(t.child!==null){for(e=t.child,r=_u(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=_u(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Xae(e,t,r){switch(t.tag){case 3:PV(t),O0();break;case 5:aV(t);break;case 1:Ni(t.type)&&_w(t);break;case 4:hP(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Er(Tw,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Er(Wr,Wr.current&1),t.flags|=128,null):r&t.child.childLanes?IV(e,t,r):(Er(Wr,Wr.current&1),e=uc(e,t,r),e!==null?e.sibling:null);Er(Wr,Wr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return OV(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Er(Wr,Wr.current),n)break;return null;case 22:case 23:return t.lanes=0,kV(e,t,r)}return uc(e,t,r)}var DV,rC,jV,RV;DV=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rC=function(){};jV=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,zd(el.current);var i=null;switch(r){case"input":a=SA(e,a),n=SA(e,n),i=[];break;case"select":a=Xr({},a,{value:void 0}),n=Xr({},n,{value:void 0}),i=[];break;case"textarea":a=CA(e,a),n=CA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=ww)}NA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Pg.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Pg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Cr("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};RV=function(e,t,r,n){r!==n&&(t.flags|=4)};function gp(e,t){if(!$r)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Na(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Qae(e,t,r){var n=t.pendingProps;switch(sP(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Na(t),null;case 1:return Ni(t.type)&&bw(),Na(t),null;case 3:return n=t.stateNode,j0(),Or(ki),Or(Ga),pP(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Rx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ho!==null&&(uC(ho),ho=null))),rC(e,t),Na(t),null;case 5:mP(t);var a=zd(Vg.current);if(r=t.type,e!==null&&t.stateNode!=null)jV(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Re(166));return Na(t),null}if(e=zd(el.current),Rx(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ko]=t,n[Bg]=i,e=(t.mode&1)!==0,r){case"dialog":Cr("cancel",n),Cr("close",n);break;case"iframe":case"object":case"embed":Cr("load",n);break;case"video":case"audio":for(a=0;a<Mp.length;a++)Cr(Mp[a],n);break;case"source":Cr("error",n);break;case"img":case"image":case"link":Cr("error",n),Cr("load",n);break;case"details":Cr("toggle",n);break;case"input":$4(n,i),Cr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Cr("invalid",n);break;case"textarea":U4(n,i),Cr("invalid",n)}NA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&jx(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&jx(n.textContent,o,e),a=["children",""+o]):Pg.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Cr("scroll",n)}switch(r){case"input":Ax(n),B4(n,i,!0);break;case"textarea":Ax(n),V4(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=ww)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=c9(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[Ko]=t,e[Bg]=n,DV(e,t,!1,!1),t.stateNode=e;e:{switch(s=PA(r,n),r){case"dialog":Cr("cancel",e),Cr("close",e),a=n;break;case"iframe":case"object":case"embed":Cr("load",e),a=n;break;case"video":case"audio":for(a=0;a<Mp.length;a++)Cr(Mp[a],e);a=n;break;case"source":Cr("error",e),a=n;break;case"img":case"image":case"link":Cr("error",e),Cr("load",e),a=n;break;case"details":Cr("toggle",e),a=n;break;case"input":$4(e,n),a=SA(e,n),Cr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Xr({},n,{value:void 0}),Cr("invalid",e);break;case"textarea":U4(e,n),a=CA(e,n),Cr("invalid",e);break;default:a=n}NA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?f9(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&u9(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ig(e,l):typeof l=="number"&&Ig(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pg.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Cr("scroll",e):l!=null&&HN(e,i,l,s))}switch(r){case"input":Ax(e),B4(e,n,!1);break;case"textarea":Ax(e),V4(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Du(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?c0(e,!!n.multiple,i,!1):n.defaultValue!=null&&c0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=ww)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Na(t),null;case 6:if(e&&t.stateNode!=null)RV(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Re(166));if(r=zd(Vg.current),zd(el.current),Rx(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ko]=t,(i=n.nodeValue!==r)&&(e=es,e!==null))switch(e.tag){case 3:jx(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&jx(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ko]=t,t.stateNode=n}return Na(t),null;case 13:if(Or(Wr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($r&&Ji!==null&&t.mode&1&&!(t.flags&128))Z9(),O0(),t.flags|=98560,i=!1;else if(i=Rx(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Re(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Re(317));i[Ko]=t}else O0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Na(t),i=!1}else ho!==null&&(uC(ho),ho=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Wr.current&1?Bn===0&&(Bn=3):CP())),t.updateQueue!==null&&(t.flags|=4),Na(t),null);case 4:return j0(),rC(e,t),e===null&&Lg(t.stateNode.containerInfo),Na(t),null;case 10:return uP(t.type._context),Na(t),null;case 17:return Ni(t.type)&&bw(),Na(t),null;case 19:if(Or(Wr),i=t.memoizedState,i===null)return Na(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)gp(i,!1);else{if(Bn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=kw(e),s!==null){for(t.flags|=128,gp(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Er(Wr,Wr.current&1|2),t.child}e=e.sibling}i.tail!==null&&vn()>M0&&(t.flags|=128,n=!0,gp(i,!1),t.lanes=4194304)}else{if(!n)if(e=kw(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),gp(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!$r)return Na(t),null}else 2*vn()-i.renderingStartTime>M0&&r!==1073741824&&(t.flags|=128,n=!0,gp(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=vn(),t.sibling=null,r=Wr.current,Er(Wr,n?r&1|2:r&1),t):(Na(t),null);case 22:case 23:return AP(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?zi&1073741824&&(Na(t),t.subtreeFlags&6&&(t.flags|=8192)):Na(t),null;case 24:return null;case 25:return null}throw Error(Re(156,t.tag))}function Jae(e,t){switch(sP(t),t.tag){case 1:return Ni(t.type)&&bw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return j0(),Or(ki),Or(Ga),pP(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return mP(t),null;case 13:if(Or(Wr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Re(340));O0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Or(Wr),null;case 4:return j0(),null;case 10:return uP(t.type._context),null;case 22:case 23:return AP(),null;case 24:return null;default:return null}}var Lx=!1,Fa=!1,Zae=typeof WeakSet=="function"?WeakSet:Set,qe=null;function Qh(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){tn(e,t,n)}else r.current=null}function nC(e,t,r){try{r()}catch(n){tn(e,t,n)}}var IM=!1;function eie(e,t){if(BA=vw,e=B9(),aP(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(UA={focusedElem:e,selectionRange:r},vw=!1,qe=t;qe!==null;)if(t=qe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,qe=e;else for(;qe!==null;){t=qe;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:uo(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Re(163))}}catch(E){tn(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,qe=e;break}qe=t.return}return p=IM,IM=!1,p}function tg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&nC(t,r,i)}a=a.next}while(a!==n)}}function M_(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function aC(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function MV(e){var t=e.alternate;t!==null&&(e.alternate=null,MV(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ko],delete t[Bg],delete t[WA],delete t[Mae],delete t[Fae])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function FV(e){return e.tag===5||e.tag===3||e.tag===4}function OM(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||FV(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iC(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ww));else if(n!==4&&(e=e.child,e!==null))for(iC(e,t,r),e=e.sibling;e!==null;)iC(e,t,r),e=e.sibling}function sC(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(sC(e,t,r),e=e.sibling;e!==null;)sC(e,t,r),e=e.sibling}var ga=null,fo=!1;function Vc(e,t,r){for(r=r.child;r!==null;)LV(e,t,r),r=r.sibling}function LV(e,t,r){if(Zo&&typeof Zo.onCommitFiberUnmount=="function")try{Zo.onCommitFiberUnmount(k_,r)}catch{}switch(r.tag){case 5:Fa||Qh(r,t);case 6:var n=ga,a=fo;ga=null,Vc(e,t,r),ga=n,fo=a,ga!==null&&(fo?(e=ga,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ga.removeChild(r.stateNode));break;case 18:ga!==null&&(fo?(e=ga,r=r.stateNode,e.nodeType===8?A2(e.parentNode,r):e.nodeType===1&&A2(e,r),Rg(e)):A2(ga,r.stateNode));break;case 4:n=ga,a=fo,ga=r.stateNode.containerInfo,fo=!0,Vc(e,t,r),ga=n,fo=a;break;case 0:case 11:case 14:case 15:if(!Fa&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&nC(r,t,s),a=a.next}while(a!==n)}Vc(e,t,r);break;case 1:if(!Fa&&(Qh(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){tn(r,t,o)}Vc(e,t,r);break;case 21:Vc(e,t,r);break;case 22:r.mode&1?(Fa=(n=Fa)||r.memoizedState!==null,Vc(e,t,r),Fa=n):Vc(e,t,r);break;default:Vc(e,t,r)}}function DM(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Zae),t.forEach(function(n){var a=cie.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function so(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:ga=o.stateNode,fo=!1;break e;case 3:ga=o.stateNode.containerInfo,fo=!0;break e;case 4:ga=o.stateNode.containerInfo,fo=!0;break e}o=o.return}if(ga===null)throw Error(Re(160));LV(i,s,a),ga=null,fo=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){tn(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$V(t,e),t=t.sibling}function $V(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(so(t,e),Bo(e),n&4){try{tg(3,e,e.return),M_(3,e)}catch(g){tn(e,e.return,g)}try{tg(5,e,e.return)}catch(g){tn(e,e.return,g)}}break;case 1:so(t,e),Bo(e),n&512&&r!==null&&Qh(r,r.return);break;case 5:if(so(t,e),Bo(e),n&512&&r!==null&&Qh(r,r.return),e.flags&32){var a=e.stateNode;try{Ig(a,"")}catch(g){tn(e,e.return,g)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&o9(a,i),PA(o,s);var c=PA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?f9(a,f):u==="dangerouslySetInnerHTML"?u9(a,f):u==="children"?Ig(a,f):HN(a,u,f,c)}switch(o){case"input":TA(a,i);break;case"textarea":l9(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?c0(a,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?c0(a,!!i.multiple,i.defaultValue,!0):c0(a,!!i.multiple,i.multiple?[]:"",!1))}a[Bg]=i}catch(g){tn(e,e.return,g)}}break;case 6:if(so(t,e),Bo(e),n&4){if(e.stateNode===null)throw Error(Re(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(g){tn(e,e.return,g)}}break;case 3:if(so(t,e),Bo(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rg(t.containerInfo)}catch(g){tn(e,e.return,g)}break;case 4:so(t,e),Bo(e);break;case 13:so(t,e),Bo(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(SP=vn())),n&4&&DM(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Fa=(c=Fa)||u,so(t,e),Fa=c):so(t,e),Bo(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(qe=e,u=e.child;u!==null;){for(f=qe=u;qe!==null;){switch(h=qe,m=h.child,h.tag){case 0:case 11:case 14:case 15:tg(4,h,h.return);break;case 1:Qh(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){tn(n,r,g)}}break;case 5:Qh(h,h.return);break;case 22:if(h.memoizedState!==null){RM(f);continue}}m!==null?(m.return=h,qe=m):RM(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=d9("display",s))}catch(g){tn(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){tn(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:so(t,e),Bo(e),n&4&&DM(e);break;case 21:break;default:so(t,e),Bo(e)}}function Bo(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(FV(r)){var n=r;break e}r=r.return}throw Error(Re(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ig(a,""),n.flags&=-33);var i=OM(e);sC(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=OM(e);iC(e,o,s);break;default:throw Error(Re(161))}}catch(l){tn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tie(e,t,r){qe=e,BV(e)}function BV(e,t,r){for(var n=(e.mode&1)!==0;qe!==null;){var a=qe,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Lx;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Fa;o=Lx;var c=Fa;if(Lx=s,(Fa=l)&&!c)for(qe=a;qe!==null;)s=qe,l=s.child,s.tag===22&&s.memoizedState!==null?MM(a):l!==null?(l.return=s,qe=l):MM(a);for(;i!==null;)qe=i,BV(i),i=i.sibling;qe=a,Lx=o,Fa=c}jM(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,qe=i):jM(e)}}function jM(e){for(;qe!==null;){var t=qe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fa||M_(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Fa)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:uo(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&yM(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}yM(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Rg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Re(163))}Fa||t.flags&512&&aC(t)}catch(h){tn(t,t.return,h)}}if(t===e){qe=null;break}if(r=t.sibling,r!==null){r.return=t.return,qe=r;break}qe=t.return}}function RM(e){for(;qe!==null;){var t=qe;if(t===e){qe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,qe=r;break}qe=t.return}}function MM(e){for(;qe!==null;){var t=qe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{M_(4,t)}catch(l){tn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){tn(t,a,l)}}var i=t.return;try{aC(t)}catch(l){tn(t,i,l)}break;case 5:var s=t.return;try{aC(t)}catch(l){tn(t,s,l)}}}catch(l){tn(t,t.return,l)}if(t===e){qe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,qe=o;break}qe=t.return}}var rie=Math.ceil,Iw=Tc.ReactCurrentDispatcher,_P=Tc.ReactCurrentOwner,Ms=Tc.ReactCurrentBatchConfig,Ht=0,sa=null,kn=null,_a=0,zi=0,Jh=td(0),Bn=0,Gg=null,vf=0,F_=0,EP=0,rg=null,xi=null,SP=0,M0=1/0,jl=null,Ow=!1,oC=null,wu=null,$x=!1,cu=null,Dw=0,ng=0,lC=null,U1=-1,V1=0;function di(){return Ht&6?vn():U1!==-1?U1:U1=vn()}function bu(e){return e.mode&1?Ht&2&&_a!==0?_a&-_a:$ae.transition!==null?(V1===0&&(V1=S9()),V1):(e=lr,e!==0||(e=window.event,e=e===void 0?16:I9(e.type)),e):1}function _o(e,t,r,n){if(50<ng)throw ng=0,lC=null,Error(Re(185));ry(e,r,n),(!(Ht&2)||e!==sa)&&(e===sa&&(!(Ht&2)&&(F_|=r),Bn===4&&ru(e,_a)),Pi(e,n),r===1&&Ht===0&&!(t.mode&1)&&(M0=vn()+500,D_&&rd()))}function Pi(e,t){var r=e.callbackNode;$ne(e,t);var n=gw(e,e===sa?_a:0);if(n===0)r!==null&&H4(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&H4(r),t===1)e.tag===0?Lae(FM.bind(null,e)):X9(FM.bind(null,e)),jae(function(){!(Ht&6)&&rd()}),r=null;else{switch(T9(n)){case 1:r=XN;break;case 4:r=_9;break;case 16:r=pw;break;case 536870912:r=E9;break;default:r=pw}r=qV(r,UV.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function UV(e,t){if(U1=-1,V1=0,Ht&6)throw Error(Re(327));var r=e.callbackNode;if(m0()&&e.callbackNode!==r)return null;var n=gw(e,e===sa?_a:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=jw(e,n);else{t=n;var a=Ht;Ht|=2;var i=zV();(sa!==e||_a!==t)&&(jl=null,M0=vn()+500,Zd(e,t));do try{iie();break}catch(o){VV(e,o)}while(!0);cP(),Iw.current=i,Ht=a,kn!==null?t=0:(sa=null,_a=0,t=Bn)}if(t!==0){if(t===2&&(a=RA(e),a!==0&&(n=a,t=cC(e,a))),t===1)throw r=Gg,Zd(e,0),ru(e,n),Pi(e,vn()),r;if(t===6)ru(e,n);else{if(a=e.current.alternate,!(n&30)&&!nie(a)&&(t=jw(e,n),t===2&&(i=RA(e),i!==0&&(n=i,t=cC(e,i))),t===1))throw r=Gg,Zd(e,0),ru(e,n),Pi(e,vn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Re(345));case 2:Id(e,xi,jl);break;case 3:if(ru(e,n),(n&130023424)===n&&(t=SP+500-vn(),10<t)){if(gw(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){di(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=zA(Id.bind(null,e,xi,jl),t);break}Id(e,xi,jl);break;case 4:if(ru(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-bo(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=vn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rie(n/1960))-n,10<n){e.timeoutHandle=zA(Id.bind(null,e,xi,jl),n);break}Id(e,xi,jl);break;case 5:Id(e,xi,jl);break;default:throw Error(Re(329))}}}return Pi(e,vn()),e.callbackNode===r?UV.bind(null,e):null}function cC(e,t){var r=rg;return e.current.memoizedState.isDehydrated&&(Zd(e,t).flags|=256),e=jw(e,t),e!==2&&(t=xi,xi=r,t!==null&&uC(t)),e}function uC(e){xi===null?xi=e:xi.push.apply(xi,e)}function nie(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!No(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ru(e,t){for(t&=~EP,t&=~F_,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bo(t),n=1<<r;e[r]=-1,t&=~n}}function FM(e){if(Ht&6)throw Error(Re(327));m0();var t=gw(e,0);if(!(t&1))return Pi(e,vn()),null;var r=jw(e,t);if(e.tag!==0&&r===2){var n=RA(e);n!==0&&(t=n,r=cC(e,n))}if(r===1)throw r=Gg,Zd(e,0),ru(e,t),Pi(e,vn()),r;if(r===6)throw Error(Re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Id(e,xi,jl),Pi(e,vn()),null}function TP(e,t){var r=Ht;Ht|=1;try{return e(t)}finally{Ht=r,Ht===0&&(M0=vn()+500,D_&&rd())}}function yf(e){cu!==null&&cu.tag===0&&!(Ht&6)&&m0();var t=Ht;Ht|=1;var r=Ms.transition,n=lr;try{if(Ms.transition=null,lr=1,e)return e()}finally{lr=n,Ms.transition=r,Ht=t,!(Ht&6)&&rd()}}function AP(){zi=Jh.current,Or(Jh)}function Zd(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Dae(r)),kn!==null)for(r=kn.return;r!==null;){var n=r;switch(sP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bw();break;case 3:j0(),Or(ki),Or(Ga),pP();break;case 5:mP(n);break;case 4:j0();break;case 13:Or(Wr);break;case 19:Or(Wr);break;case 10:uP(n.type._context);break;case 22:case 23:AP()}r=r.return}if(sa=e,kn=e=_u(e.current,null),_a=zi=t,Bn=0,Gg=null,EP=F_=vf=0,xi=rg=null,Vd!==null){for(t=0;t<Vd.length;t++)if(r=Vd[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}Vd=null}return e}function VV(e,t){do{var r=kn;try{if(cP(),L1.current=Pw,Nw){for(var n=Yr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Nw=!1}if(gf=0,ea=Mn=Yr=null,eg=!1,zg=0,_P.current=null,r===null||r.return===null){Bn=1,Gg=t,kn=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=_a,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=SM(s);if(m!==null){m.flags&=-257,TM(m,s,o,i,t),m.mode&1&&EM(i,c,t),t=m,l=c;var p=t.updateQueue;if(p===null){var g=new Set;g.add(l),t.updateQueue=g}else p.add(l);break e}else{if(!(t&1)){EM(i,c,t),CP();break e}l=Error(Re(426))}}else if($r&&o.mode&1){var v=SM(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),TM(v,s,o,i,t),oP(R0(l,o));break e}}i=l=R0(l,o),Bn!==4&&(Bn=2),rg===null?rg=[i]:rg.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=TV(i,l,t);vM(i,y);break e;case 1:o=l;var x=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(wu===null||!wu.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var E=AV(i,o,t);vM(i,E);break e}}i=i.return}while(i!==null)}HV(r)}catch(k){t=k,kn===r&&r!==null&&(kn=r=r.return);continue}break}while(!0)}function zV(){var e=Iw.current;return Iw.current=Pw,e===null?Pw:e}function CP(){(Bn===0||Bn===3||Bn===2)&&(Bn=4),sa===null||!(vf&268435455)&&!(F_&268435455)||ru(sa,_a)}function jw(e,t){var r=Ht;Ht|=2;var n=zV();(sa!==e||_a!==t)&&(jl=null,Zd(e,t));do try{aie();break}catch(a){VV(e,a)}while(!0);if(cP(),Ht=r,Iw.current=n,kn!==null)throw Error(Re(261));return sa=null,_a=0,Bn}function aie(){for(;kn!==null;)WV(kn)}function iie(){for(;kn!==null&&!Pne();)WV(kn)}function WV(e){var t=KV(e.alternate,e,zi);e.memoizedProps=e.pendingProps,t===null?HV(e):kn=t,_P.current=null}function HV(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Jae(r,t),r!==null){r.flags&=32767,kn=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Bn=6,kn=null;return}}else if(r=Qae(r,t,zi),r!==null){kn=r;return}if(t=t.sibling,t!==null){kn=t;return}kn=t=e}while(t!==null);Bn===0&&(Bn=5)}function Id(e,t,r){var n=lr,a=Ms.transition;try{Ms.transition=null,lr=1,sie(e,t,r,n)}finally{Ms.transition=a,lr=n}return null}function sie(e,t,r,n){do m0();while(cu!==null);if(Ht&6)throw Error(Re(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Re(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Bne(e,i),e===sa&&(kn=sa=null,_a=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$x||($x=!0,qV(pw,function(){return m0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ms.transition,Ms.transition=null;var s=lr;lr=1;var o=Ht;Ht|=4,_P.current=null,eie(e,r),$V(r,e),Aae(UA),vw=!!BA,UA=BA=null,e.current=r,tie(r),Ine(),Ht=o,lr=s,Ms.transition=i}else e.current=r;if($x&&($x=!1,cu=e,Dw=a),i=e.pendingLanes,i===0&&(wu=null),jne(r.stateNode),Pi(e,vn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ow)throw Ow=!1,e=oC,oC=null,e;return Dw&1&&e.tag!==0&&m0(),i=e.pendingLanes,i&1?e===lC?ng++:(ng=0,lC=e):ng=0,rd(),null}function m0(){if(cu!==null){var e=T9(Dw),t=Ms.transition,r=lr;try{if(Ms.transition=null,lr=16>e?16:e,cu===null)var n=!1;else{if(e=cu,cu=null,Dw=0,Ht&6)throw Error(Re(331));var a=Ht;for(Ht|=4,qe=e.current;qe!==null;){var i=qe,s=i.child;if(qe.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(qe=c;qe!==null;){var u=qe;switch(u.tag){case 0:case 11:case 15:tg(8,u,i)}var f=u.child;if(f!==null)f.return=u,qe=f;else for(;qe!==null;){u=qe;var h=u.sibling,m=u.return;if(MV(u),u===c){qe=null;break}if(h!==null){h.return=m,qe=h;break}qe=m}}}var p=i.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}qe=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,qe=s;else e:for(;qe!==null;){if(i=qe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:tg(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,qe=y;break e}qe=i.return}}var x=e.current;for(qe=x;qe!==null;){s=qe;var b=s.child;if(s.subtreeFlags&2064&&b!==null)b.return=s,qe=b;else e:for(s=x;qe!==null;){if(o=qe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:M_(9,o)}}catch(k){tn(o,o.return,k)}if(o===s){qe=null;break e}var E=o.sibling;if(E!==null){E.return=o.return,qe=E;break e}qe=o.return}}if(Ht=a,rd(),Zo&&typeof Zo.onPostCommitFiberRoot=="function")try{Zo.onPostCommitFiberRoot(k_,e)}catch{}n=!0}return n}finally{lr=r,Ms.transition=t}}return!1}function LM(e,t,r){t=R0(r,t),t=TV(e,t,1),e=xu(e,t,1),t=di(),e!==null&&(ry(e,1,t),Pi(e,t))}function tn(e,t,r){if(e.tag===3)LM(e,e,r);else for(;t!==null;){if(t.tag===3){LM(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wu===null||!wu.has(n))){e=R0(r,e),e=AV(t,e,1),t=xu(t,e,1),e=di(),t!==null&&(ry(t,1,e),Pi(t,e));break}}t=t.return}}function oie(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=di(),e.pingedLanes|=e.suspendedLanes&r,sa===e&&(_a&r)===r&&(Bn===4||Bn===3&&(_a&130023424)===_a&&500>vn()-SP?Zd(e,0):EP|=r),Pi(e,t)}function GV(e,t){t===0&&(e.mode&1?(t=Nx,Nx<<=1,!(Nx&130023424)&&(Nx=4194304)):t=1);var r=di();e=cc(e,t),e!==null&&(ry(e,t,r),Pi(e,r))}function lie(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),GV(e,r)}function cie(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Re(314))}n!==null&&n.delete(t),GV(e,r)}var KV;KV=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ki.current)Si=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Si=!1,Xae(e,t,r);Si=!!(e.flags&131072)}else Si=!1,$r&&t.flags&1048576&&Q9(t,Sw,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;B1(e,t),e=t.pendingProps;var a=I0(t,Ga.current);h0(t,r),a=vP(null,t,n,e,a,r);var i=yP();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(n)?(i=!0,_w(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,fP(t),a.updater=R_,t.stateNode=a,a._reactInternals=t,XA(t,n,e,r),t=ZA(null,t,n,!0,i,r)):(t.tag=0,$r&&i&&iP(t),ti(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(B1(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=die(n),e=uo(n,e),a){case 0:t=JA(null,t,n,e,r);break e;case 1:t=kM(null,t,n,e,r);break e;case 11:t=AM(null,t,n,e,r);break e;case 14:t=CM(null,t,n,uo(n.type,e),r);break e}throw Error(Re(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:uo(n,a),JA(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:uo(n,a),kM(e,t,n,a,r);case 3:e:{if(PV(t),e===null)throw Error(Re(387));n=t.pendingProps,i=t.memoizedState,a=i.element,nV(e,t),Cw(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=R0(Error(Re(423)),t),t=NM(e,t,n,r,a);break e}else if(n!==a){a=R0(Error(Re(424)),t),t=NM(e,t,n,r,a);break e}else for(Ji=yu(t.stateNode.containerInfo.firstChild),es=t,$r=!0,ho=null,r=tV(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(O0(),n===a){t=uc(e,t,r);break e}ti(e,t,n,r)}t=t.child}return t;case 5:return aV(t),e===null&&KA(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,VA(n,a)?s=null:i!==null&&VA(n,i)&&(t.flags|=32),NV(e,t),ti(e,t,s,r),t.child;case 6:return e===null&&KA(t),null;case 13:return IV(e,t,r);case 4:return hP(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=D0(t,null,n,r):ti(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:uo(n,a),AM(e,t,n,a,r);case 7:return ti(e,t,t.pendingProps,r),t.child;case 8:return ti(e,t,t.pendingProps.children,r),t.child;case 12:return ti(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Er(Tw,n._currentValue),n._currentValue=s,i!==null)if(No(i.value,s)){if(i.children===a.children&&!ki.current){t=uc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Jl(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),qA(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Re(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),qA(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}ti(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,h0(t,r),a=Bs(a),n=n(a),t.flags|=1,ti(e,t,n,r),t.child;case 14:return n=t.type,a=uo(n,t.pendingProps),a=uo(n.type,a),CM(e,t,n,a,r);case 15:return CV(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:uo(n,a),B1(e,t),t.tag=1,Ni(n)?(e=!0,_w(t)):e=!1,h0(t,r),SV(t,n,a),XA(t,n,a,r),ZA(null,t,n,!0,e,r);case 19:return OV(e,t,r);case 22:return kV(e,t,r)}throw Error(Re(156,t.tag))};function qV(e,t){return b9(e,t)}function uie(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(e,t,r,n){return new uie(e,t,r,n)}function kP(e){return e=e.prototype,!(!e||!e.isReactComponent)}function die(e){if(typeof e=="function")return kP(e)?1:0;if(e!=null){if(e=e.$$typeof,e===KN)return 11;if(e===qN)return 14}return 2}function _u(e,t){var r=e.alternate;return r===null?(r=js(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function z1(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")kP(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Vh:return ef(r.children,a,i,t);case GN:s=8,a|=8;break;case wA:return e=js(12,r,t,a|2),e.elementType=wA,e.lanes=i,e;case bA:return e=js(13,r,t,a),e.elementType=bA,e.lanes=i,e;case _A:return e=js(19,r,t,a),e.elementType=_A,e.lanes=i,e;case a9:return L_(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case r9:s=10;break e;case n9:s=9;break e;case KN:s=11;break e;case qN:s=14;break e;case Yc:s=16,n=null;break e}throw Error(Re(130,e==null?e:typeof e,""))}return t=js(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function ef(e,t,r,n){return e=js(7,e,n,t),e.lanes=r,e}function L_(e,t,r,n){return e=js(22,e,n,t),e.elementType=a9,e.lanes=r,e.stateNode={isHidden:!1},e}function j2(e,t,r){return e=js(6,e,null,t),e.lanes=r,e}function R2(e,t,r){return t=js(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fie(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p2(0),this.expirationTimes=p2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p2(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function NP(e,t,r,n,a,i,s,o,l){return e=new fie(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=js(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},fP(i),e}function hie(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uh,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function YV(e){if(!e)return ju;e=e._reactInternals;e:{if(th(e)!==e||e.tag!==1)throw Error(Re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Re(171))}if(e.tag===1){var r=e.type;if(Ni(r))return Y9(e,r,t)}return t}function XV(e,t,r,n,a,i,s,o,l){return e=NP(r,n,!0,e,a,i,s,o,l),e.context=YV(null),r=e.current,n=di(),a=bu(r),i=Jl(n,a),i.callback=t??null,xu(r,i,a),e.current.lanes=a,ry(e,a,n),Pi(e,n),e}function $_(e,t,r,n){var a=t.current,i=di(),s=bu(a);return r=YV(r),t.context===null?t.context=r:t.pendingContext=r,t=Jl(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xu(a,t,s),e!==null&&(_o(e,a,s,i),F1(e,a,s)),s}function Rw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $M(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function PP(e,t){$M(e,t),(e=e.alternate)&&$M(e,t)}function mie(){return null}var QV=typeof reportError=="function"?reportError:function(e){console.error(e)};function IP(e){this._internalRoot=e}B_.prototype.render=IP.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Re(409));$_(e,t,null,null)};B_.prototype.unmount=IP.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yf(function(){$_(null,e,null,null)}),t[lc]=null}};function B_(e){this._internalRoot=e}B_.prototype.unstable_scheduleHydration=function(e){if(e){var t=k9();e={blockedOn:null,target:e,priority:t};for(var r=0;r<tu.length&&t!==0&&t<tu[r].priority;r++);tu.splice(r,0,e),r===0&&P9(e)}};function OP(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function U_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function BM(){}function pie(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=Rw(s);i.call(c)}}var s=XV(t,n,e,0,null,!1,!1,"",BM);return e._reactRootContainer=s,e[lc]=s.current,Lg(e.nodeType===8?e.parentNode:e),yf(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=Rw(l);o.call(c)}}var l=NP(e,0,!1,null,null,!1,!1,"",BM);return e._reactRootContainer=l,e[lc]=l.current,Lg(e.nodeType===8?e.parentNode:e),yf(function(){$_(t,l,r,n)}),l}function V_(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=Rw(s);o.call(l)}}$_(t,s,e,a)}else s=pie(r,t,e,a,n);return Rw(s)}A9=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Rp(t.pendingLanes);r!==0&&(QN(t,r|1),Pi(t,vn()),!(Ht&6)&&(M0=vn()+500,rd()))}break;case 13:yf(function(){var n=cc(e,1);if(n!==null){var a=di();_o(n,e,1,a)}}),PP(e,1)}};JN=function(e){if(e.tag===13){var t=cc(e,134217728);if(t!==null){var r=di();_o(t,e,134217728,r)}PP(e,134217728)}};C9=function(e){if(e.tag===13){var t=bu(e),r=cc(e,t);if(r!==null){var n=di();_o(r,e,t,n)}PP(e,t)}};k9=function(){return lr};N9=function(e,t){var r=lr;try{return lr=e,t()}finally{lr=r}};OA=function(e,t,r){switch(t){case"input":if(TA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=O_(n);if(!a)throw Error(Re(90));s9(n),TA(n,a)}}}break;case"textarea":l9(e,r);break;case"select":t=r.value,t!=null&&c0(e,!!r.multiple,t,!1)}};p9=TP;g9=yf;var gie={usingClientEntryPoint:!1,Events:[ay,Gh,O_,h9,m9,TP]},vp={findFiberByHostInstance:Ud,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vie={bundleType:vp.bundleType,version:vp.version,rendererPackageName:vp.rendererPackageName,rendererConfig:vp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=x9(e),e===null?null:e.stateNode},findFiberByHostInstance:vp.findFiberByHostInstance||mie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bx.isDisabled&&Bx.supportsFiber)try{k_=Bx.inject(vie),Zo=Bx}catch{}}cs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gie;cs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!OP(t))throw Error(Re(200));return hie(e,t,null,r)};cs.createRoot=function(e,t){if(!OP(e))throw Error(Re(299));var r=!1,n="",a=QV;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=NP(e,1,!1,null,null,r,!1,n,a),e[lc]=t.current,Lg(e.nodeType===8?e.parentNode:e),new IP(t)};cs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Re(188)):(e=Object.keys(e).join(","),Error(Re(268,e)));return e=x9(t),e=e===null?null:e.stateNode,e};cs.flushSync=function(e){return yf(e)};cs.hydrate=function(e,t,r){if(!U_(t))throw Error(Re(200));return V_(null,e,t,!0,r)};cs.hydrateRoot=function(e,t,r){if(!OP(e))throw Error(Re(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=QV;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=XV(t,null,e,1,r??null,a,!1,i,s),e[lc]=t.current,Lg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new B_(t)};cs.render=function(e,t,r){if(!U_(t))throw Error(Re(200));return V_(null,e,t,!1,r)};cs.unmountComponentAtNode=function(e){if(!U_(e))throw Error(Re(40));return e._reactRootContainer?(yf(function(){V_(null,null,e,!1,function(){e._reactRootContainer=null,e[lc]=null})}),!0):!1};cs.unstable_batchedUpdates=TP;cs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!U_(r))throw Error(Re(200));if(e==null||e._reactInternals===void 0)throw Error(Re(38));return V_(e,t,r,!1,n)};cs.version="18.3.1-next-f1338f8080-20240426";function JV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JV)}catch(e){console.error(e)}}JV(),JU.exports=cs;var z_=JU.exports;const ZV=cn(z_);var UM=z_;yA.createRoot=UM.createRoot,yA.hydrateRoot=UM.hydrateRoot;const yie="modulepreload",xie=function(e){return"/centralteleoperadores/"+e},VM={},ts=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=xie(l),l in VM)return;VM[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":yie,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bie=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),zM=e=>{const t=bie(e);return t.charAt(0).toUpperCase()+t.slice(1)},e7=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),_ie=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Eie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=A.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...o},l)=>A.createElement("svg",{ref:l,...Eie,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:e7("lucide",a),...!i&&!_ie(o)&&{"aria-hidden":"true"},...o},[...s.map(([c,u])=>A.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=(e,t)=>{const r=A.forwardRef(({className:n,...a},i)=>A.createElement(Sie,{ref:i,iconNode:t,className:e7(`lucide-${wie(zM(e))}`,`lucide-${e}`,n),...a}));return r.displayName=zM(e),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],DP=Ze("activity",Tie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],Cie=Ze("bug",Aie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],W1=Ze("building-2",kie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ka=Ze("calendar",Nie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Os=Ze("chart-column",Pie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Oie=Ze("chart-pie",Iie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],t7=Ze("chevron-down",Die);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],r7=Ze("chevron-up",jie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],yn=Ze("circle-alert",Rie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Vr=Ze("circle-check-big",Mie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xf=Ze("circle-x",Fie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],dC=Ze("clipboard-list",Lie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],na=Ze("clock",$ie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],n7=Ze("crown",Bie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Kg=Ze("database",Uie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],WM=Ze("download",Vie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],a7=Ze("eye-off",zie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jP=Ze("eye",Wie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],ag=Ze("file-spreadsheet",Hie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],qg=Ze("file-text",Gie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],qie=Ze("file",Kie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],Xie=Ze("flag",Yie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],sy=Ze("funnel",Qie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Zie=Ze("globe",Jie);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ese=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],fC=Ze("heart",ese);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tse=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],rse=Ze("house",tse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],hC=Ze("info",nse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ase=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ise=Ze("list",ase);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sse=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ose=Ze("loader-circle",sse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lse=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],mC=Ze("lock",lse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cse=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],use=Ze("log-out",cse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dse=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],RP=Ze("mail",dse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fse=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],i7=Ze("map-pin",fse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hse=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],oy=Ze("message-square",hse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mse=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],pse=Ze("pen-line",mse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gse=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],pC=Ze("phone-call",gse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vse=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Lr=Ze("phone",vse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yse=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],gC=Ze("pill",yse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xse=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],wse=Ze("play",xse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bse=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],W_=Ze("plus",bse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _se=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],s7=Ze("refresh-cw",_se);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ese=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],o7=Ze("repeat",Ese);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sse=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ly=Ze("save",Sse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tse=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],oi=Ze("search",Tse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ase=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],wf=Ze("settings",Ase);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cse=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bf=Ze("shield",Cse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kse=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],MP=Ze("square-pen",kse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],HM=Ze("tag",Nse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pse=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],Ise=Ze("test-tube",Pse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Dse=Ze("timer",Ose);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],tl=Ze("trash-2",jse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rse=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Mse=Ze("trending-down",Rse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],_f=Ze("trending-up",Fse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lse=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],li=Ze("triangle-alert",Lse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],vC=Ze("truck",$se);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Use=Ze("type",Bse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Yg=Ze("upload",Vse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wse=Ze("user-check",zse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Xg=Ze("user-plus",Hse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Kse=Ze("user-x",Gse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oa=Ze("user",qse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mn=Ze("users",Yse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dc=Ze("x",Xse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Jse=Ze("zap",Qse);/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Mw={};Mw.version="0.18.5";var l7=1252,Zse=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],FP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},LP=function(e){Zse.indexOf(e)!=-1&&(l7=FP[0]=e)};function eoe(){LP(1252)}var vo=function(e){LP(e)};function $P(){vo(1200),eoe()}function GM(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function toe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function c7(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Fp=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?toe(e.slice(2)):t==254&&r==255?c7(e.slice(2)):t==65279?e.slice(1):e},Ux=function(t){return String.fromCharCode(t)},KM=function(t){return String.fromCharCode(t)},Qg,uu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Jg(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=uu.charAt(i)+uu.charAt(s)+uu.charAt(o)+uu.charAt(l);return t}function is(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=uu.indexOf(e.charAt(c++)),s=uu.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=uu.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=uu.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var kt=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Ac=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ru(e){return kt?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function qM(e){return kt?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var qi=function(t){return kt?Ac(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function H_(e){if(typeof ArrayBuffer>"u")return qi(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function nd(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function roe(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}function BP(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return BP(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var ta=kt?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Ac(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function noe(e){for(var t=[],r=0,n=e.length+250,a=Ru(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ru(65535),n=65530)}return t.push(a.slice(0,r)),ta(t)}var fi=/\u0000/g,Lp=/[\u0001-\u0006]/g;function p0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function yo(e,t){var r=""+e;return r.length>=t?r:rn("0",t-r.length)+r}function UP(e,t){var r=""+e;return r.length>=t?r:rn(" ",t-r.length)+r}function Fw(e,t){var r=""+e;return r.length>=t?r:r+rn(" ",t-r.length)}function aoe(e,t){var r=""+Math.round(e);return r.length>=t?r:rn("0",t-r.length)+r}function ioe(e,t){var r=""+e;return r.length>=t?r:rn("0",t-r.length)+r}var YM=Math.pow(2,32);function Th(e,t){if(e>YM||e<-YM)return aoe(e,t);var r=Math.round(e);return ioe(r,t)}function Lw(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var XM=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],M2=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function soe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var ut={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},QM={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ooe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function $w(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Wd(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=hoe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var u7=new Date(1899,11,31,0,0,0),loe=u7.getTime(),coe=new Date(1900,2,1,0,0,0);function d7(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=coe&&(r+=24*60*60*1e3),(r-(loe+(e.getTimezoneOffset()-u7.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function VP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function uoe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function doe(e){var t=e<0?12:11,r=VP(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function foe(e){var t=VP(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Zg(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=doe(e):t===10?r=e.toFixed(10).substr(0,12):r=foe(e),VP(uoe(r.toUpperCase()))}function Ef(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Zg(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Vs(14,d7(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function hoe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function moe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return M2[r.m-1][1];case 5:return M2[r.m-1][0];default:return M2[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return XM[r.q][0];default:return XM[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?yo(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=yo(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?yo(l,c):"";return u}function du(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var f7=/%/g;function poe(e,t,r){var n=t.replace(f7,""),a=t.length-n.length;return Zl(e,n,r*Math.pow(10,2*a))+rn("%",a)}function goe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Zl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function h7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+h7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var m7=/# (\?+)( ?)\/( ?)(\d+)/;function voe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?rn(" ",e[1].length+1+e[4].length):UP(s,e[1].length)+e[2]+"/"+e[3]+yo(o,e[4].length))}function yoe(e,t,r){return r+(t===0?"":""+t)+rn(" ",e[1].length+2+e[4].length)}var p7=/^#*0*\.([0#]+)/,g7=/\).*[0#]/,v7=/\(###\) ###\\?-####/;function ri(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function JM(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function ZM(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function xoe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function woe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function bs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(g7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?bs("n",n,r):"("+bs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return goe(e,t,r);if(t.indexOf("%")!==-1)return poe(e,t,r);if(t.indexOf("E")!==-1)return h7(t,r);if(t.charCodeAt(0)===36)return"$"+bs(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Th(l,t.length);if(t.match(/^[#?]+$/))return a=Th(r,0),a==="0"&&(a=""),a.length>t.length?a:ri(t.substr(0,t.length-a.length))+a;if(i=t.match(m7))return voe(i,l,c);if(t.match(/^#+0+$/))return c+Th(l,t.length-t.indexOf("0"));if(i=t.match(p7))return a=JM(r,i[1].length).replace(/^([^\.]+)$/,"$1."+ri(i[1])).replace(/\.$/,"."+ri(i[1])).replace(/\.(\d*)$/,function(p,g){return"."+g+rn("0",ri(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+JM(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+du(Th(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+bs(e,t,-r):du(""+(Math.floor(r)+xoe(r,i[1].length)))+"."+yo(ZM(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return bs(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=p0(bs(e,t.replace(/[\\-]/g,""),r)),s=0,p0(p0(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<a.length?a.charAt(s++):p==="0"?"0":""}));if(t.match(v7))return a=bs(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=$w(l,Math.pow(10,s)-1,!1),a=""+c,u=Zl("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Fw(o[2],s),u.length<i[4].length&&(u=ri(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=$w(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?UP(o[1],s)+i[2]+"/"+i[3]+Fw(o[2],s):rn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Th(r,0),t.length<=a.length?a:ri(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return ri(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=ZM(r,i[1].length),r<0?"-"+bs(e,t,-r):du(woe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?yo(0,3-p.length):"")+p})+"."+yo(s,i[1].length);switch(t){case"###,##0.00":return bs(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var m=du(Th(l,0));return m!=="0"?c+m:"";case"###,###.00":return bs(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return bs(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function boe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Zl(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function _oe(e,t,r){var n=t.replace(f7,""),a=t.length-n.length;return Zl(e,n,r*Math.pow(10,2*a))+rn("%",a)}function y7(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+y7(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Vo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(g7)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Vo("n",n,r):"("+Vo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return boe(e,t,r);if(t.indexOf("%")!==-1)return _oe(e,t,r);if(t.indexOf("E")!==-1)return y7(t,r);if(t.charCodeAt(0)===36)return"$"+Vo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+yo(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:ri(t.substr(0,t.length-a.length))+a;if(i=t.match(m7))return yoe(i,l,c);if(t.match(/^#+0+$/))return c+yo(l,t.length-t.indexOf("0"));if(i=t.match(p7))return a=(""+r).replace(/^([^\.]+)$/,"$1."+ri(i[1])).replace(/\.$/,"."+ri(i[1])),a=a.replace(/\.(\d*)$/,function(p,g){return"."+g+rn("0",ri(i[1]).length-g.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+du(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Vo(e,t,-r):du(""+r)+"."+rn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Vo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=p0(Vo(e,t.replace(/[\\-]/g,""),r)),s=0,p0(p0(t.replace(/\\/g,"")).replace(/[0#]/g,function(p){return s<a.length?a.charAt(s++):p==="0"?"0":""}));if(t.match(v7))return a=Vo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=$w(l,Math.pow(10,s)-1,!1),a=""+c,u=Zl("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=Fw(o[2],s),u.length<i[4].length&&(u=ri(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=$w(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?UP(o[1],s)+i[2]+"/"+i[3]+Fw(o[2],s):rn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:ri(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return ri(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Vo(e,t,-r):du(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(p){return"00,"+(p.length<3?yo(0,3-p.length):"")+p})+"."+yo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var m=du(""+l);return m!=="0"?c+m:"";default:if(t.match(/\.[0#?]*$/))return Vo(e,t.slice(0,t.lastIndexOf(".")),r)+ri(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Zl(e,t,r){return(r|0)===r?Vo(e,t,r):bs(e,t,r)}function Eoe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var x7=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function hm(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Lw(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(x7))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Soe(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Lw(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var m=e.charAt(++s),p=m==="("||m===")"?m:"t";a[a.length]={t:p,v:m},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Wd(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Wd(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var g={t:o,v:o};if(c==null&&(c=Wd(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(g.v=c.H>=12?"P":"A"),g.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(g.v=c.H>=12?"PM":"AM"),g.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(c!=null&&(g.v=c.H>=12?"":""),g.t="T",s+=5,h="h"):(g.t="t",++s),c==null&&g.t==="T")return"";a[a.length]=g,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(x7)){if(c==null&&(c=Wd(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",hm(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,x;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(x=a[s].v.match(/\.0+$/))&&(y=Math.max(y,x[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var b="",E;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=moe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(E=s+1;a[E]!=null&&((o=a[E].t)==="?"||o==="D"||(o===" "||o==="t")&&a[E+1]!=null&&(a[E+1].t==="?"||a[E+1].t==="t"&&a[E+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[E].v==="/"||a[E].v===" "&&a[E+1]!=null&&a[E+1].t=="?"));)a[s].v+=a[E].v,a[E]={v:"",t:";"},++E;b+=a[s].v,s=E-1;break;case"G":a[s].t="t",a[s].v=Ef(t,r);break}var k="",C,S;if(b.length>0){b.charCodeAt(0)==40?(C=t<0&&b.charCodeAt(0)===45?-t:t,S=Zl("n",b,C)):(C=t<0&&n>1?-t:t,S=Zl("n",b,C),C<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),E=S.length-1;var _=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){_=s;break}var T=a.length;if(_===a.length&&S.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(E>=a[s].v.length-1?(E-=a[s].v.length,a[s].v=S.substr(E+1,a[s].v.length)):E<0?a[s].v="":(a[s].v=S.substr(0,E+1),E=-1),a[s].t="t",T=s);E>=0&&T<a.length&&(a[T].v=S.substr(0,E+1)+a[T].v)}else if(_!==a.length&&S.indexOf("E")===-1){for(E=S.indexOf(".")-1,s=_;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")-1:a[s].v.length-1,k=a[s].v.substr(u+1);u>=0;--u)E>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(k=S.charAt(E--)+k);a[s].v=k,a[s].t="t",T=s}for(E>=0&&T<a.length&&(a[T].v=S.substr(0,E+1)+a[T].v),E=S.indexOf(".")+1,s=_;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==_)){for(u=a[s].v.indexOf(".")>-1&&s===_?a[s].v.indexOf(".")+1:0,k=a[s].v.substr(0,u);u<a[s].v.length;++u)E<S.length&&(k+=S.charAt(E++));a[s].v=k,a[s].t="t",T=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(C=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Zl(a[s].t,a[s].v,C),a[s].t="t");var P="";for(s=0;s!==a.length;++s)a[s]!=null&&(P+=a[s].v);return P}var e3=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function t3(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Toe(e,t){var r=Eoe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(e3),o=r[1].match(e3);return t3(t,s)?[n,r[0]]:t3(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function Vs(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:ut)[e],n==null&&(n=r.table&&r.table[QM[e]]||ut[QM[e]]),n==null&&(n=ooe[e]||"General");break}if(Lw(n,0))return Ef(t,r);t instanceof Date&&(t=d7(t,r.date1904));var a=Toe(n,t);if(Lw(a[1]))return Ef(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Soe(a[1],t,r,a[0])}function ec(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(ut[r]==null){t<0&&(t=r);continue}if(ut[r]==e){t=r;break}}t<0&&(t=391)}return ut[t]=e,t}function G_(e){for(var t=0;t!=392;++t)e[t]!==void 0&&ec(e[t],t)}function mm(){ut=soe()}var Aoe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},w7=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Coe(e){var t=typeof e=="number"?ut[e]:e;return t=t.replace(w7,"(\\d+)"),new RegExp("^"+t+"$")}function koe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(w7)||[]).forEach(function(f,h){var m=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=m;break;case"d":i=m;break;case"h":s=m;break;case"s":l=m;break;case"m":s>=0?o=m:a=m;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var Noe=function(){var e={};e.version="1.2.0";function t(){for(var S=0,_=new Array(256),T=0;T!=256;++T)S=T,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,_[T]=S;return typeof Int32Array<"u"?new Int32Array(_):_}var r=t();function n(S){var _=0,T=0,P=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(P=0;P!=256;++P)N[P]=S[P];for(P=0;P!=256;++P)for(T=S[P],_=256+P;_<4096;_+=256)T=N[_]=T>>>8^S[T&255];var O=[];for(P=1;P!=16;++P)O[P-1]=typeof Int32Array<"u"?N.subarray(P*256,P*256+256):N.slice(P*256,P*256+256);return O}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],m=a[8],p=a[9],g=a[10],v=a[11],y=a[12],x=a[13],b=a[14];function E(S,_){for(var T=_^-1,P=0,N=S.length;P<N;)T=T>>>8^r[(T^S.charCodeAt(P++))&255];return~T}function k(S,_){for(var T=_^-1,P=S.length-15,N=0;N<P;)T=b[S[N++]^T&255]^x[S[N++]^T>>8&255]^y[S[N++]^T>>16&255]^v[S[N++]^T>>>24]^g[S[N++]]^p[S[N++]]^m[S[N++]]^h[S[N++]]^f[S[N++]]^u[S[N++]]^c[S[N++]]^l[S[N++]]^o[S[N++]]^s[S[N++]]^i[S[N++]]^r[S[N++]];for(P+=15;N<P;)T=T>>>8^r[(T^S[N++])&255];return~T}function C(S,_){for(var T=_^-1,P=0,N=S.length,O=0,D=0;P<N;)O=S.charCodeAt(P++),O<128?T=T>>>8^r[(T^O)&255]:O<2048?(T=T>>>8^r[(T^(192|O>>6&31))&255],T=T>>>8^r[(T^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,D=S.charCodeAt(P++)&1023,T=T>>>8^r[(T^(240|O>>8&7))&255],T=T>>>8^r[(T^(128|O>>2&63))&255],T=T>>>8^r[(T^(128|D>>6&15|(O&3)<<4))&255],T=T>>>8^r[(T^(128|D&63))&255]):(T=T>>>8^r[(T^(224|O>>12&15))&255],T=T>>>8^r[(T^(128|O>>6&63))&255],T=T>>>8^r[(T^(128|O&63))&255]);return~T}return e.table=r,e.bstr=E,e.buf=k,e.str=C,e}(),st=function(){var t={};t.version="1.2.1";function r(L,q){for(var W=L.split("/"),K=q.split("/"),Y=0,J=0,he=Math.min(W.length,K.length);Y<he;++Y){if(J=W[Y].length-K[Y].length)return J;if(W[Y]!=K[Y])return W[Y]<K[Y]?-1:1}return W.length-K.length}function n(L){if(L.charAt(L.length-1)=="/")return L.slice(0,-1).indexOf("/")===-1?L:n(L.slice(0,-1));var q=L.lastIndexOf("/");return q===-1?L:L.slice(0,q+1)}function a(L){if(L.charAt(L.length-1)=="/")return a(L.slice(0,-1));var q=L.lastIndexOf("/");return q===-1?L:L.slice(q+1)}function i(L,q){typeof q=="string"&&(q=new Date(q));var W=q.getHours();W=W<<6|q.getMinutes(),W=W<<5|q.getSeconds()>>>1,L.write_shift(2,W);var K=q.getFullYear()-1980;K=K<<4|q.getMonth()+1,K=K<<5|q.getDate(),L.write_shift(2,K)}function s(L){var q=L.read_shift(2)&65535,W=L.read_shift(2)&65535,K=new Date,Y=W&31;W>>>=5;var J=W&15;W>>>=4,K.setMilliseconds(0),K.setFullYear(W+1980),K.setMonth(J-1),K.setDate(Y);var he=q&31;q>>>=5;var Ee=q&63;return q>>>=6,K.setHours(q),K.setMinutes(Ee),K.setSeconds(he<<1),K}function o(L){wa(L,0);for(var q={},W=0;L.l<=L.length-4;){var K=L.read_shift(2),Y=L.read_shift(2),J=L.l+Y,he={};switch(K){case 21589:W=L.read_shift(1),W&1&&(he.mtime=L.read_shift(4)),Y>5&&(W&2&&(he.atime=L.read_shift(4)),W&4&&(he.ctime=L.read_shift(4))),he.mtime&&(he.mt=new Date(he.mtime*1e3));break}L.l=J,q[K]=he}return q}var l;function c(){return l||(l={})}function u(L,q){if(L[0]==80&&L[1]==75)return bd(L,q);if((L[0]|32)==109&&(L[1]|32)==105)return Ed(L,q);if(L.length<512)throw new Error("CFB file size "+L.length+" < 512");var W=3,K=512,Y=0,J=0,he=0,Ee=0,me=0,pe=[],ve=L.slice(0,512);wa(ve,0);var Oe=f(ve);switch(W=Oe[0],W){case 3:K=512;break;case 4:K=4096;break;case 0:if(Oe[1]==0)return bd(L,q);default:throw new Error("Major Version: Expected 3 or 4 saw "+W)}K!==512&&(ve=L.slice(0,K),wa(ve,28));var B=L.slice(0,K);h(ve,W);var oe=ve.read_shift(4,"i");if(W===3&&oe!==0)throw new Error("# Directory Sectors: Expected 0 saw "+oe);ve.l+=4,he=ve.read_shift(4,"i"),ve.l+=4,ve.chk("00100000","Mini Stream Cutoff Size: "),Ee=ve.read_shift(4,"i"),Y=ve.read_shift(4,"i"),me=ve.read_shift(4,"i"),J=ve.read_shift(4,"i");for(var ue=-1,ye=0;ye<109&&(ue=ve.read_shift(4,"i"),!(ue<0));++ye)pe[ye]=ue;var le=m(L,K);v(me,J,le,K,pe);var be=x(le,he,pe,K);be[he].name="!Directory",Y>0&&Ee!==D&&(be[Ee].name="!MiniFAT"),be[pe[0]].name="!FAT",be.fat_addrs=pe,be.ssz=K;var Te={},He=[],We=[],lt=[];b(he,be,le,He,Y,Te,We,Ee),p(We,lt,He),He.shift();var et={FileIndex:We,FullPaths:lt};return q&&q.raw&&(et.raw={header:B,sectors:le}),et}function f(L){if(L[L.l]==80&&L[L.l+1]==75)return[0,0];L.chk(X,"Header Signature: "),L.l+=16;var q=L.read_shift(2,"u");return[L.read_shift(2,"u"),q]}function h(L,q){var W=9;switch(L.l+=2,W=L.read_shift(2)){case 9:if(q!=3)throw new Error("Sector Shift: Expected 9 saw "+W);break;case 12:if(q!=4)throw new Error("Sector Shift: Expected 12 saw "+W);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+W)}L.chk("0600","Mini Sector Shift: "),L.chk("000000000000","Reserved: ")}function m(L,q){for(var W=Math.ceil(L.length/q)-1,K=[],Y=1;Y<W;++Y)K[Y-1]=L.slice(Y*q,(Y+1)*q);return K[W-1]=L.slice(W*q),K}function p(L,q,W){for(var K=0,Y=0,J=0,he=0,Ee=0,me=W.length,pe=[],ve=[];K<me;++K)pe[K]=ve[K]=K,q[K]=W[K];for(;Ee<ve.length;++Ee)K=ve[Ee],Y=L[K].L,J=L[K].R,he=L[K].C,pe[K]===K&&(Y!==-1&&pe[Y]!==Y&&(pe[K]=pe[Y]),J!==-1&&pe[J]!==J&&(pe[K]=pe[J])),he!==-1&&(pe[he]=K),Y!==-1&&K!=pe[K]&&(pe[Y]=pe[K],ve.lastIndexOf(Y)<Ee&&ve.push(Y)),J!==-1&&K!=pe[K]&&(pe[J]=pe[K],ve.lastIndexOf(J)<Ee&&ve.push(J));for(K=1;K<me;++K)pe[K]===K&&(J!==-1&&pe[J]!==J?pe[K]=pe[J]:Y!==-1&&pe[Y]!==Y&&(pe[K]=pe[Y]));for(K=1;K<me;++K)if(L[K].type!==0){if(Ee=K,Ee!=pe[Ee])do Ee=pe[Ee],q[K]=q[Ee]+"/"+q[K];while(Ee!==0&&pe[Ee]!==-1&&Ee!=pe[Ee]);pe[K]=-1}for(q[0]+="/",K=1;K<me;++K)L[K].type!==2&&(q[K]+="/")}function g(L,q,W){for(var K=L.start,Y=L.size,J=[],he=K;W&&Y>0&&he>=0;)J.push(q.slice(he*O,he*O+O)),Y-=O,he=$d(W,he*4);return J.length===0?Se(0):ta(J).slice(0,L.size)}function v(L,q,W,K,Y){var J=D;if(L===D){if(q!==0)throw new Error("DIFAT chain shorter than expected")}else if(L!==-1){var he=W[L],Ee=(K>>>2)-1;if(!he)return;for(var me=0;me<Ee&&(J=$d(he,me*4))!==D;++me)Y.push(J);v($d(he,K-4),q-1,W,K,Y)}}function y(L,q,W,K,Y){var J=[],he=[];Y||(Y=[]);var Ee=K-1,me=0,pe=0;for(me=q;me>=0;){Y[me]=!0,J[J.length]=me,he.push(L[me]);var ve=W[Math.floor(me*4/K)];if(pe=me*4&Ee,K<4+pe)throw new Error("FAT boundary crossed: "+me+" 4 "+K);if(!L[ve])break;me=$d(L[ve],pe)}return{nodes:J,data:h3([he])}}function x(L,q,W,K){var Y=L.length,J=[],he=[],Ee=[],me=[],pe=K-1,ve=0,Oe=0,B=0,oe=0;for(ve=0;ve<Y;++ve)if(Ee=[],B=ve+q,B>=Y&&(B-=Y),!he[B]){me=[];var ue=[];for(Oe=B;Oe>=0;){ue[Oe]=!0,he[Oe]=!0,Ee[Ee.length]=Oe,me.push(L[Oe]);var ye=W[Math.floor(Oe*4/K)];if(oe=Oe*4&pe,K<4+oe)throw new Error("FAT boundary crossed: "+Oe+" 4 "+K);if(!L[ye]||(Oe=$d(L[ye],oe),ue[Oe]))break}J[B]={nodes:Ee,data:h3([me])}}return J}function b(L,q,W,K,Y,J,he,Ee){for(var me=0,pe=K.length?2:0,ve=q[L].data,Oe=0,B=0,oe;Oe<ve.length;Oe+=128){var ue=ve.slice(Oe,Oe+128);wa(ue,64),B=ue.read_shift(2),oe=YP(ue,0,B-pe),K.push(oe);var ye={name:oe,type:ue.read_shift(1),color:ue.read_shift(1),L:ue.read_shift(4,"i"),R:ue.read_shift(4,"i"),C:ue.read_shift(4,"i"),clsid:ue.read_shift(16),state:ue.read_shift(4,"i"),start:0,size:0},le=ue.read_shift(2)+ue.read_shift(2)+ue.read_shift(2)+ue.read_shift(2);le!==0&&(ye.ct=E(ue,ue.l-8));var be=ue.read_shift(2)+ue.read_shift(2)+ue.read_shift(2)+ue.read_shift(2);be!==0&&(ye.mt=E(ue,ue.l-8)),ye.start=ue.read_shift(4,"i"),ye.size=ue.read_shift(4,"i"),ye.size<0&&ye.start<0&&(ye.size=ye.type=0,ye.start=D,ye.name=""),ye.type===5?(me=ye.start,Y>0&&me!==D&&(q[me].name="!StreamData")):ye.size>=4096?(ye.storage="fat",q[ye.start]===void 0&&(q[ye.start]=y(W,ye.start,q.fat_addrs,q.ssz)),q[ye.start].name=ye.name,ye.content=q[ye.start].data.slice(0,ye.size)):(ye.storage="minifat",ye.size<0?ye.size=0:me!==D&&ye.start!==D&&q[me]&&(ye.content=g(ye,q[me].data,(q[Ee]||{}).data))),ye.content&&wa(ye.content,0),J[oe]=ye,he.push(ye)}}function E(L,q){return new Date((Gi(L,q+4)/1e7*Math.pow(2,32)+Gi(L,q)/1e7-11644473600)*1e3)}function k(L,q){return c(),u(l.readFileSync(L),q)}function C(L,q){var W=q&&q.type;switch(W||kt&&Buffer.isBuffer(L)&&(W="buffer"),W||"base64"){case"file":return k(L,q);case"base64":return u(qi(is(L)),q);case"binary":return u(qi(L),q)}return u(L,q)}function S(L,q){var W=q||{},K=W.root||"Root Entry";if(L.FullPaths||(L.FullPaths=[]),L.FileIndex||(L.FileIndex=[]),L.FullPaths.length!==L.FileIndex.length)throw new Error("inconsistent CFB structure");L.FullPaths.length===0&&(L.FullPaths[0]=K+"/",L.FileIndex[0]={name:K,type:5}),W.CLSID&&(L.FileIndex[0].clsid=W.CLSID),_(L)}function _(L){var q="Sh33tJ5";if(!st.find(L,"/"+q)){var W=Se(4);W[0]=55,W[1]=W[3]=50,W[2]=54,L.FileIndex.push({name:q,type:2,content:W,size:4,L:69,R:69,C:69}),L.FullPaths.push(L.FullPaths[0]+q),T(L)}}function T(L,q){S(L);for(var W=!1,K=!1,Y=L.FullPaths.length-1;Y>=0;--Y){var J=L.FileIndex[Y];switch(J.type){case 0:K?W=!0:(L.FileIndex.pop(),L.FullPaths.pop());break;case 1:case 2:case 5:K=!0,isNaN(J.R*J.L*J.C)&&(W=!0),J.R>-1&&J.L>-1&&J.R==J.L&&(W=!0);break;default:W=!0;break}}if(!(!W&&!q)){var he=new Date(1987,1,19),Ee=0,me=Object.create?Object.create(null):{},pe=[];for(Y=0;Y<L.FullPaths.length;++Y)me[L.FullPaths[Y]]=!0,L.FileIndex[Y].type!==0&&pe.push([L.FullPaths[Y],L.FileIndex[Y]]);for(Y=0;Y<pe.length;++Y){var ve=n(pe[Y][0]);K=me[ve],K||(pe.push([ve,{name:a(ve).replace("/",""),type:1,clsid:ne,ct:he,mt:he,content:null}]),me[ve]=!0)}for(pe.sort(function(oe,ue){return r(oe[0],ue[0])}),L.FullPaths=[],L.FileIndex=[],Y=0;Y<pe.length;++Y)L.FullPaths[Y]=pe[Y][0],L.FileIndex[Y]=pe[Y][1];for(Y=0;Y<pe.length;++Y){var Oe=L.FileIndex[Y],B=L.FullPaths[Y];if(Oe.name=a(B).replace("/",""),Oe.L=Oe.R=Oe.C=-(Oe.color=1),Oe.size=Oe.content?Oe.content.length:0,Oe.start=0,Oe.clsid=Oe.clsid||ne,Y===0)Oe.C=pe.length>1?1:-1,Oe.size=0,Oe.type=5;else if(B.slice(-1)=="/"){for(Ee=Y+1;Ee<pe.length&&n(L.FullPaths[Ee])!=B;++Ee);for(Oe.C=Ee>=pe.length?-1:Ee,Ee=Y+1;Ee<pe.length&&n(L.FullPaths[Ee])!=n(B);++Ee);Oe.R=Ee>=pe.length?-1:Ee,Oe.type=1}else n(L.FullPaths[Y+1]||"")==n(B)&&(Oe.R=Y+1),Oe.type=2}}}function P(L,q){var W=q||{};if(W.fileType=="mad")return Dn(L,W);switch(T(L),W.fileType){case"zip":return _d(L,W)}var K=function(oe){for(var ue=0,ye=0,le=0;le<oe.FileIndex.length;++le){var be=oe.FileIndex[le];if(be.content){var Te=be.content.length;Te>0&&(Te<4096?ue+=Te+63>>6:ye+=Te+511>>9)}}for(var He=oe.FullPaths.length+3>>2,We=ue+7>>3,lt=ue+127>>7,et=We+ye+He+lt,Xe=et+127>>7,nt=Xe<=109?0:Math.ceil((Xe-109)/127);et+Xe+nt+127>>7>Xe;)nt=++Xe<=109?0:Math.ceil((Xe-109)/127);var Ge=[1,nt,Xe,lt,He,ye,ue,0];return oe.FileIndex[0].size=ue<<6,Ge[7]=(oe.FileIndex[0].start=Ge[0]+Ge[1]+Ge[2]+Ge[3]+Ge[4]+Ge[5])+(Ge[6]+7>>3),Ge}(L),Y=Se(K[7]<<9),J=0,he=0;{for(J=0;J<8;++J)Y.write_shift(1,te[J]);for(J=0;J<8;++J)Y.write_shift(2,0);for(Y.write_shift(2,62),Y.write_shift(2,3),Y.write_shift(2,65534),Y.write_shift(2,9),Y.write_shift(2,6),J=0;J<3;++J)Y.write_shift(2,0);for(Y.write_shift(4,0),Y.write_shift(4,K[2]),Y.write_shift(4,K[0]+K[1]+K[2]+K[3]-1),Y.write_shift(4,0),Y.write_shift(4,4096),Y.write_shift(4,K[3]?K[0]+K[1]+K[2]-1:D),Y.write_shift(4,K[3]),Y.write_shift(-4,K[1]?K[0]-1:D),Y.write_shift(4,K[1]),J=0;J<109;++J)Y.write_shift(-4,J<K[2]?K[1]+J:-1)}if(K[1])for(he=0;he<K[1];++he){for(;J<236+he*127;++J)Y.write_shift(-4,J<K[2]?K[1]+J:-1);Y.write_shift(-4,he===K[1]-1?D:he+1)}var Ee=function(oe){for(he+=oe;J<he-1;++J)Y.write_shift(-4,J+1);oe&&(++J,Y.write_shift(-4,D))};for(he=J=0,he+=K[1];J<he;++J)Y.write_shift(-4,Q.DIFSECT);for(he+=K[2];J<he;++J)Y.write_shift(-4,Q.FATSECT);Ee(K[3]),Ee(K[4]);for(var me=0,pe=0,ve=L.FileIndex[0];me<L.FileIndex.length;++me)ve=L.FileIndex[me],ve.content&&(pe=ve.content.length,!(pe<4096)&&(ve.start=he,Ee(pe+511>>9)));for(Ee(K[6]+7>>3);Y.l&511;)Y.write_shift(-4,Q.ENDOFCHAIN);for(he=J=0,me=0;me<L.FileIndex.length;++me)ve=L.FileIndex[me],ve.content&&(pe=ve.content.length,!(!pe||pe>=4096)&&(ve.start=he,Ee(pe+63>>6)));for(;Y.l&511;)Y.write_shift(-4,Q.ENDOFCHAIN);for(J=0;J<K[4]<<2;++J){var Oe=L.FullPaths[J];if(!Oe||Oe.length===0){for(me=0;me<17;++me)Y.write_shift(4,0);for(me=0;me<3;++me)Y.write_shift(4,-1);for(me=0;me<12;++me)Y.write_shift(4,0);continue}ve=L.FileIndex[J],J===0&&(ve.start=ve.size?ve.start-1:D);var B=J===0&&W.root||ve.name;if(pe=2*(B.length+1),Y.write_shift(64,B,"utf16le"),Y.write_shift(2,pe),Y.write_shift(1,ve.type),Y.write_shift(1,ve.color),Y.write_shift(-4,ve.L),Y.write_shift(-4,ve.R),Y.write_shift(-4,ve.C),ve.clsid)Y.write_shift(16,ve.clsid,"hex");else for(me=0;me<4;++me)Y.write_shift(4,0);Y.write_shift(4,ve.state||0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,ve.start),Y.write_shift(4,ve.size),Y.write_shift(4,0)}for(J=1;J<L.FileIndex.length;++J)if(ve=L.FileIndex[J],ve.size>=4096)if(Y.l=ve.start+1<<9,kt&&Buffer.isBuffer(ve.content))ve.content.copy(Y,Y.l,0,ve.size),Y.l+=ve.size+511&-512;else{for(me=0;me<ve.size;++me)Y.write_shift(1,ve.content[me]);for(;me&511;++me)Y.write_shift(1,0)}for(J=1;J<L.FileIndex.length;++J)if(ve=L.FileIndex[J],ve.size>0&&ve.size<4096)if(kt&&Buffer.isBuffer(ve.content))ve.content.copy(Y,Y.l,0,ve.size),Y.l+=ve.size+63&-64;else{for(me=0;me<ve.size;++me)Y.write_shift(1,ve.content[me]);for(;me&63;++me)Y.write_shift(1,0)}if(kt)Y.l=Y.length;else for(;Y.l<Y.length;)Y.write_shift(1,0);return Y}function N(L,q){var W=L.FullPaths.map(function(me){return me.toUpperCase()}),K=W.map(function(me){var pe=me.split("/");return pe[pe.length-(me.slice(-1)=="/"?2:1)]}),Y=!1;q.charCodeAt(0)===47?(Y=!0,q=W[0].slice(0,-1)+q):Y=q.indexOf("/")!==-1;var J=q.toUpperCase(),he=Y===!0?W.indexOf(J):K.indexOf(J);if(he!==-1)return L.FileIndex[he];var Ee=!J.match(Lp);for(J=J.replace(fi,""),Ee&&(J=J.replace(Lp,"!")),he=0;he<W.length;++he)if((Ee?W[he].replace(Lp,"!"):W[he]).replace(fi,"")==J||(Ee?K[he].replace(Lp,"!"):K[he]).replace(fi,"")==J)return L.FileIndex[he];return null}var O=64,D=-2,X="d0cf11e0a1b11ae1",te=[208,207,17,224,161,177,26,225],ne="00000000000000000000000000000000",Q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:X,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:ne,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function z(L,q,W){c();var K=P(L,W);l.writeFileSync(q,K)}function j(L){for(var q=new Array(L.length),W=0;W<L.length;++W)q[W]=String.fromCharCode(L[W]);return q.join("")}function ce(L,q){var W=P(L,q);switch(q&&q.type||"buffer"){case"file":return c(),l.writeFileSync(q.filename,W),W;case"binary":return typeof W=="string"?W:j(W);case"base64":return Jg(typeof W=="string"?W:j(W));case"buffer":if(kt)return Buffer.isBuffer(W)?W:Ac(W);case"array":return typeof W=="string"?qi(W):W}return W}var ee;function M(L){try{var q=L.InflateRaw,W=new q;if(W._processChunk(new Uint8Array([3,0]),W._finishFlushFlag),W.bytesRead)ee=L;else throw new Error("zlib does not expose bytesRead")}catch(K){console.error("cannot use native zlib: "+(K.message||K))}}function H(L,q){if(!ee)return ps(L,q);var W=ee.InflateRaw,K=new W,Y=K._processChunk(L.slice(L.l),K._finishFlushFlag);return L.l+=K.bytesRead,Y}function U(L){return ee?ee.deflateRawSync(L):wt(L)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],de=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function xe(L){var q=(L<<1|L<<11)&139536|(L<<5|L<<15)&558144;return(q>>16|q>>8|q)&255}for(var Z=typeof Uint8Array<"u",ie=Z?new Uint8Array(256):[],we=0;we<256;++we)ie[we]=xe(we);function F(L,q){var W=ie[L&255];return q<=8?W>>>8-q:(W=W<<8|ie[L>>8&255],q<=16?W>>>16-q:(W=W<<8|ie[L>>16&255],W>>>24-q))}function Me(L,q){var W=q&7,K=q>>>3;return(L[K]|(W<=6?0:L[K+1]<<8))>>>W&3}function Ce(L,q){var W=q&7,K=q>>>3;return(L[K]|(W<=5?0:L[K+1]<<8))>>>W&7}function Be(L,q){var W=q&7,K=q>>>3;return(L[K]|(W<=4?0:L[K+1]<<8))>>>W&15}function Ie(L,q){var W=q&7,K=q>>>3;return(L[K]|(W<=3?0:L[K+1]<<8))>>>W&31}function re(L,q){var W=q&7,K=q>>>3;return(L[K]|(W<=1?0:L[K+1]<<8))>>>W&127}function Ve(L,q,W){var K=q&7,Y=q>>>3,J=(1<<W)-1,he=L[Y]>>>K;return W<8-K||(he|=L[Y+1]<<8-K,W<16-K)||(he|=L[Y+2]<<16-K,W<24-K)||(he|=L[Y+3]<<24-K),he&J}function bt(L,q,W){var K=q&7,Y=q>>>3;return K<=5?L[Y]|=(W&7)<<K:(L[Y]|=W<<K&255,L[Y+1]=(W&7)>>8-K),q+3}function ot(L,q,W){var K=q&7,Y=q>>>3;return W=(W&1)<<K,L[Y]|=W,q+1}function Lt(L,q,W){var K=q&7,Y=q>>>3;return W<<=K,L[Y]|=W&255,W>>>=8,L[Y+1]=W,q+8}function Yn(L,q,W){var K=q&7,Y=q>>>3;return W<<=K,L[Y]|=W&255,W>>>=8,L[Y+1]=W&255,L[Y+2]=W>>>8,q+16}function qt(L,q){var W=L.length,K=2*W>q?2*W:q+5,Y=0;if(W>=q)return L;if(kt){var J=qM(K);if(L.copy)L.copy(J);else for(;Y<L.length;++Y)J[Y]=L[Y];return J}else if(Z){var he=new Uint8Array(K);if(he.set)he.set(L);else for(;Y<W;++Y)he[Y]=L[Y];return he}return L.length=K,L}function Yt(L){for(var q=new Array(L),W=0;W<L;++W)q[W]=0;return q}function vt(L,q,W){var K=1,Y=0,J=0,he=0,Ee=0,me=L.length,pe=Z?new Uint16Array(32):Yt(32);for(J=0;J<32;++J)pe[J]=0;for(J=me;J<W;++J)L[J]=0;me=L.length;var ve=Z?new Uint16Array(me):Yt(me);for(J=0;J<me;++J)pe[Y=L[J]]++,K<Y&&(K=Y),ve[J]=0;for(pe[0]=0,J=1;J<=K;++J)pe[J+16]=Ee=Ee+pe[J-1]<<1;for(J=0;J<me;++J)Ee=L[J],Ee!=0&&(ve[J]=pe[Ee+16]++);var Oe=0;for(J=0;J<me;++J)if(Oe=L[J],Oe!=0)for(Ee=F(ve[J],K)>>K-Oe,he=(1<<K+4-Oe)-1;he>=0;--he)q[Ee|he<<Oe]=Oe&15|J<<4;return K}var Nt=Z?new Uint16Array(512):Yt(512),ur=Z?new Uint16Array(32):Yt(32);if(!Z){for(var tr=0;tr<512;++tr)Nt[tr]=0;for(tr=0;tr<32;++tr)ur[tr]=0}(function(){for(var L=[],q=0;q<32;q++)L.push(5);vt(L,ur,32);var W=[];for(q=0;q<=143;q++)W.push(8);for(;q<=255;q++)W.push(9);for(;q<=279;q++)W.push(7);for(;q<=287;q++)W.push(8);vt(W,Nt,288)})();var Xn=function(){for(var q=Z?new Uint8Array(32768):[],W=0,K=0;W<de.length-1;++W)for(;K<de[W+1];++K)q[K]=W;for(;K<32768;++K)q[K]=29;var Y=Z?new Uint8Array(259):[];for(W=0,K=0;W<ae.length-1;++W)for(;K<ae[W+1];++K)Y[K]=W;function J(Ee,me){for(var pe=0;pe<Ee.length;){var ve=Math.min(65535,Ee.length-pe),Oe=pe+ve==Ee.length;for(me.write_shift(1,+Oe),me.write_shift(2,ve),me.write_shift(2,~ve&65535);ve-- >0;)me[me.l++]=Ee[pe++]}return me.l}function he(Ee,me){for(var pe=0,ve=0,Oe=Z?new Uint16Array(32768):[];ve<Ee.length;){var B=Math.min(65535,Ee.length-ve);if(B<10){for(pe=bt(me,pe,+(ve+B==Ee.length)),pe&7&&(pe+=8-(pe&7)),me.l=pe/8|0,me.write_shift(2,B),me.write_shift(2,~B&65535);B-- >0;)me[me.l++]=Ee[ve++];pe=me.l*8;continue}pe=bt(me,pe,+(ve+B==Ee.length)+2);for(var oe=0;B-- >0;){var ue=Ee[ve];oe=(oe<<5^ue)&32767;var ye=-1,le=0;if((ye=Oe[oe])&&(ye|=ve&-32768,ye>ve&&(ye-=32768),ye<ve))for(;Ee[ye+le]==Ee[ve+le]&&le<250;)++le;if(le>2){ue=Y[le],ue<=22?pe=Lt(me,pe,ie[ue+1]>>1)-1:(Lt(me,pe,3),pe+=5,Lt(me,pe,ie[ue-23]>>5),pe+=3);var be=ue<8?0:ue-4>>2;be>0&&(Yn(me,pe,le-ae[ue]),pe+=be),ue=q[ve-ye],pe=Lt(me,pe,ie[ue]>>3),pe-=3;var Te=ue<4?0:ue-2>>1;Te>0&&(Yn(me,pe,ve-ye-de[ue]),pe+=Te);for(var He=0;He<le;++He)Oe[oe]=ve&32767,oe=(oe<<5^Ee[ve])&32767,++ve;B-=le-1}else ue<=143?ue=ue+48:pe=ot(me,pe,1),pe=Lt(me,pe,ie[ue]),Oe[oe]=ve&32767,++ve}pe=Lt(me,pe,0)-1}return me.l=(pe+7)/8|0,me.l}return function(me,pe){return me.length<8?J(me,pe):he(me,pe)}}();function wt(L){var q=Se(50+Math.floor(L.length*1.1)),W=Xn(L,q);return q.slice(0,W)}var dr=Z?new Uint16Array(32768):Yt(32768),un=Z?new Uint16Array(32768):Yt(32768),pr=Z?new Uint16Array(128):Yt(128),ei=1,to=1;function ms(L,q){var W=Ie(L,q)+257;q+=5;var K=Ie(L,q)+1;q+=5;var Y=Be(L,q)+4;q+=4;for(var J=0,he=Z?new Uint8Array(19):Yt(19),Ee=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],me=1,pe=Z?new Uint8Array(8):Yt(8),ve=Z?new Uint8Array(8):Yt(8),Oe=he.length,B=0;B<Y;++B)he[G[B]]=J=Ce(L,q),me<J&&(me=J),pe[J]++,q+=3;var oe=0;for(pe[0]=0,B=1;B<=me;++B)ve[B]=oe=oe+pe[B-1]<<1;for(B=0;B<Oe;++B)(oe=he[B])!=0&&(Ee[B]=ve[oe]++);var ue=0;for(B=0;B<Oe;++B)if(ue=he[B],ue!=0){oe=ie[Ee[B]]>>8-ue;for(var ye=(1<<7-ue)-1;ye>=0;--ye)pr[oe|ye<<ue]=ue&7|B<<3}var le=[];for(me=1;le.length<W+K;)switch(oe=pr[re(L,q)],q+=oe&7,oe>>>=3){case 16:for(J=3+Me(L,q),q+=2,oe=le[le.length-1];J-- >0;)le.push(oe);break;case 17:for(J=3+Ce(L,q),q+=3;J-- >0;)le.push(0);break;case 18:for(J=11+re(L,q),q+=7;J-- >0;)le.push(0);break;default:le.push(oe),me<oe&&(me=oe);break}var be=le.slice(0,W),Te=le.slice(W);for(B=W;B<286;++B)be[B]=0;for(B=K;B<30;++B)Te[B]=0;return ei=vt(be,dr,286),to=vt(Te,un,30),q}function $i(L,q){if(L[0]==3&&!(L[1]&3))return[Ru(q),2];for(var W=0,K=0,Y=qM(q||1<<18),J=0,he=Y.length>>>0,Ee=0,me=0;!(K&1);){if(K=Ce(L,W),W+=3,K>>>1)K>>1==1?(Ee=9,me=5):(W=ms(L,W),Ee=ei,me=to);else{W&7&&(W+=8-(W&7));var pe=L[W>>>3]|L[(W>>>3)+1]<<8;if(W+=32,pe>0)for(!q&&he<J+pe&&(Y=qt(Y,J+pe),he=Y.length);pe-- >0;)Y[J++]=L[W>>>3],W+=8;continue}for(;;){!q&&he<J+32767&&(Y=qt(Y,J+32767),he=Y.length);var ve=Ve(L,W,Ee),Oe=K>>>1==1?Nt[ve]:dr[ve];if(W+=Oe&15,Oe>>>=4,!(Oe>>>8&255))Y[J++]=Oe;else{if(Oe==256)break;Oe-=257;var B=Oe<8?0:Oe-4>>2;B>5&&(B=0);var oe=J+ae[Oe];B>0&&(oe+=Ve(L,W,B),W+=B),ve=Ve(L,W,me),Oe=K>>>1==1?ur[ve]:un[ve],W+=Oe&15,Oe>>>=4;var ue=Oe<4?0:Oe-2>>1,ye=de[Oe];for(ue>0&&(ye+=Ve(L,W,ue),W+=ue),!q&&he<oe&&(Y=qt(Y,oe+100),he=Y.length);J<oe;)Y[J]=Y[J-ye],++J}}}return q?[Y,W+7>>>3]:[Y.slice(0,J),W+7>>>3]}function ps(L,q){var W=L.slice(L.l||0),K=$i(W,q);return L.l+=K[1],K[0]}function ro(L,q){if(L)typeof console<"u"&&console.error(q);else throw new Error(q)}function bd(L,q){var W=L;wa(W,0);var K=[],Y=[],J={FileIndex:K,FullPaths:Y};S(J,{root:q.root});for(var he=W.length-4;(W[he]!=80||W[he+1]!=75||W[he+2]!=5||W[he+3]!=6)&&he>=0;)--he;W.l=he+4,W.l+=4;var Ee=W.read_shift(2);W.l+=6;var me=W.read_shift(4);for(W.l=me,he=0;he<Ee;++he){W.l+=20;var pe=W.read_shift(4),ve=W.read_shift(4),Oe=W.read_shift(2),B=W.read_shift(2),oe=W.read_shift(2);W.l+=8;var ue=W.read_shift(4),ye=o(W.slice(W.l+Oe,W.l+Oe+B));W.l+=Oe+B+oe;var le=W.l;W.l=ue+4,Cl(W,pe,ve,J,ye),W.l=le}return J}function Cl(L,q,W,K,Y){L.l+=2;var J=L.read_shift(2),he=L.read_shift(2),Ee=s(L);if(J&8257)throw new Error("Unsupported ZIP encryption");for(var me=L.read_shift(4),pe=L.read_shift(4),ve=L.read_shift(4),Oe=L.read_shift(2),B=L.read_shift(2),oe="",ue=0;ue<Oe;++ue)oe+=String.fromCharCode(L[L.l++]);if(B){var ye=o(L.slice(L.l,L.l+B));(ye[21589]||{}).mt&&(Ee=ye[21589].mt),((Y||{})[21589]||{}).mt&&(Ee=Y[21589].mt)}L.l+=B;var le=L.slice(L.l,L.l+pe);switch(he){case 8:le=H(L,ve);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+he)}var be=!1;J&8&&(me=L.read_shift(4),me==134695760&&(me=L.read_shift(4),be=!0),pe=L.read_shift(4),ve=L.read_shift(4)),pe!=q&&ro(be,"Bad compressed size: "+q+" != "+pe),ve!=W&&ro(be,"Bad uncompressed size: "+W+" != "+ve),ao(K,oe,le,{unsafe:!0,mt:Ee})}function _d(L,q){var W=q||{},K=[],Y=[],J=Se(1),he=W.compression?8:0,Ee=0,me=0,pe=0,ve=0,Oe=0,B=L.FullPaths[0],oe=B,ue=L.FileIndex[0],ye=[],le=0;for(me=1;me<L.FullPaths.length;++me)if(oe=L.FullPaths[me].slice(B.length),ue=L.FileIndex[me],!(!ue.size||!ue.content||oe=="Sh33tJ5")){var be=ve,Te=Se(oe.length);for(pe=0;pe<oe.length;++pe)Te.write_shift(1,oe.charCodeAt(pe)&127);Te=Te.slice(0,Te.l),ye[Oe]=Noe.buf(ue.content,0);var He=ue.content;he==8&&(He=U(He)),J=Se(30),J.write_shift(4,67324752),J.write_shift(2,20),J.write_shift(2,Ee),J.write_shift(2,he),ue.mt?i(J,ue.mt):J.write_shift(4,0),J.write_shift(-4,ye[Oe]),J.write_shift(4,He.length),J.write_shift(4,ue.content.length),J.write_shift(2,Te.length),J.write_shift(2,0),ve+=J.length,K.push(J),ve+=Te.length,K.push(Te),ve+=He.length,K.push(He),J=Se(46),J.write_shift(4,33639248),J.write_shift(2,0),J.write_shift(2,20),J.write_shift(2,Ee),J.write_shift(2,he),J.write_shift(4,0),J.write_shift(-4,ye[Oe]),J.write_shift(4,He.length),J.write_shift(4,ue.content.length),J.write_shift(2,Te.length),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(4,0),J.write_shift(4,be),le+=J.l,Y.push(J),le+=Te.length,Y.push(Te),++Oe}return J=Se(22),J.write_shift(4,101010256),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(2,Oe),J.write_shift(2,Oe),J.write_shift(4,le),J.write_shift(4,ve),J.write_shift(2,0),ta([ta(K),ta(Y),J])}var Lo={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function no(L,q){if(L.ctype)return L.ctype;var W=L.name||"",K=W.match(/\.([^\.]+)$/);return K&&Lo[K[1]]||q&&(K=(W=q).match(/[\.\\]([^\.\\])+$/),K&&Lo[K[1]])?Lo[K[1]]:"application/octet-stream"}function vh(L){for(var q=Jg(L),W=[],K=0;K<q.length;K+=76)W.push(q.slice(K,K+76));return W.join(`\r
`)+`\r
`}function Lc(L){var q=L.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(pe){var ve=pe.charCodeAt(0).toString(16).toUpperCase();return"="+(ve.length==1?"0"+ve:ve)});q=q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),q.charAt(0)==`
`&&(q="=0D"+q.slice(1)),q=q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var W=[],K=q.split(`\r
`),Y=0;Y<K.length;++Y){var J=K[Y];if(J.length==0){W.push("");continue}for(var he=0;he<J.length;){var Ee=76,me=J.slice(he,he+Ee);me.charAt(Ee-1)=="="?Ee--:me.charAt(Ee-2)=="="?Ee-=2:me.charAt(Ee-3)=="="&&(Ee-=3),me=J.slice(he,he+Ee),he+=Ee,he<J.length&&(me+="="),W.push(me)}}return W.join(`\r
`)}function yh(L){for(var q=[],W=0;W<L.length;++W){for(var K=L[W];W<=L.length&&K.charAt(K.length-1)=="=";)K=K.slice(0,K.length-1)+L[++W];q.push(K)}for(var Y=0;Y<q.length;++Y)q[Y]=q[Y].replace(/[=][0-9A-Fa-f]{2}/g,function(J){return String.fromCharCode(parseInt(J.slice(1),16))});return qi(q.join(`\r
`))}function kl(L,q,W){for(var K="",Y="",J="",he,Ee=0;Ee<10;++Ee){var me=q[Ee];if(!me||me.match(/^\s*$/))break;var pe=me.match(/^(.*?):\s*([^\s].*)$/);if(pe)switch(pe[1].toLowerCase()){case"content-location":K=pe[2].trim();break;case"content-type":J=pe[2].trim();break;case"content-transfer-encoding":Y=pe[2].trim();break}}switch(++Ee,Y.toLowerCase()){case"base64":he=qi(is(q.slice(Ee).join("")));break;case"quoted-printable":he=yh(q.slice(Ee));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Y)}var ve=ao(L,K.slice(W.length),he,{unsafe:!0});J&&(ve.ctype=J)}function Ed(L,q){if(j(L.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var W=q&&q.root||"",K=(kt&&Buffer.isBuffer(L)?L.toString("binary"):j(L)).split(`\r
`),Y=0,J="";for(Y=0;Y<K.length;++Y)if(J=K[Y],!!/^Content-Location:/i.test(J)&&(J=J.slice(J.indexOf("file")),W||(W=J.slice(0,J.lastIndexOf("/")+1)),J.slice(0,W.length)!=W))for(;W.length>0&&(W=W.slice(0,W.length-1),W=W.slice(0,W.lastIndexOf("/")+1),J.slice(0,W.length)!=W););var he=(K[1]||"").match(/boundary="(.*?)"/);if(!he)throw new Error("MAD cannot find boundary");var Ee="--"+(he[1]||""),me=[],pe=[],ve={FileIndex:me,FullPaths:pe};S(ve);var Oe,B=0;for(Y=0;Y<K.length;++Y){var oe=K[Y];oe!==Ee&&oe!==Ee+"--"||(B++&&kl(ve,K.slice(Oe,Y),W),Oe=Y)}return ve}function Dn(L,q){var W=q||{},K=W.boundary||"SheetJS";K="------="+K;for(var Y=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+K.slice(2)+'"',"","",""],J=L.FullPaths[0],he=J,Ee=L.FileIndex[0],me=1;me<L.FullPaths.length;++me)if(he=L.FullPaths[me].slice(J.length),Ee=L.FileIndex[me],!(!Ee.size||!Ee.content||he=="Sh33tJ5")){he=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(le){return"_x"+le.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(le){return"_u"+le.charCodeAt(0).toString(16)+"_"});for(var pe=Ee.content,ve=kt&&Buffer.isBuffer(pe)?pe.toString("binary"):j(pe),Oe=0,B=Math.min(1024,ve.length),oe=0,ue=0;ue<=B;++ue)(oe=ve.charCodeAt(ue))>=32&&oe<128&&++Oe;var ye=Oe>=B*4/5;Y.push(K),Y.push("Content-Location: "+(W.root||"file:///C:/SheetJS/")+he),Y.push("Content-Transfer-Encoding: "+(ye?"quoted-printable":"base64")),Y.push("Content-Type: "+no(Ee,he)),Y.push(""),Y.push(ye?Lc(ve):vh(ve))}return Y.push(K+`--\r
`),Y.join(`\r
`)}function $o(L){var q={};return S(q,L),q}function ao(L,q,W,K){var Y=K&&K.unsafe;Y||S(L);var J=!Y&&st.find(L,q);if(!J){var he=L.FullPaths[0];q.slice(0,he.length)==he?he=q:(he.slice(-1)!="/"&&(he+="/"),he=(he+q).replace("//","/")),J={name:a(q),type:2},L.FileIndex.push(J),L.FullPaths.push(he),Y||st.utils.cfb_gc(L)}return J.content=W,J.size=W?W.length:0,K&&(K.CLSID&&(J.clsid=K.CLSID),K.mt&&(J.mt=K.mt),K.ct&&(J.ct=K.ct)),J}function Nl(L,q){S(L);var W=st.find(L,q);if(W){for(var K=0;K<L.FileIndex.length;++K)if(L.FileIndex[K]==W)return L.FileIndex.splice(K,1),L.FullPaths.splice(K,1),!0}return!1}function tp(L,q,W){S(L);var K=st.find(L,q);if(K){for(var Y=0;Y<L.FileIndex.length;++Y)if(L.FileIndex[Y]==K)return L.FileIndex[Y].name=a(W),L.FullPaths[Y]=W,!0}return!1}function rp(L){T(L,!0)}return t.find=N,t.read=C,t.parse=u,t.write=ce,t.writeFile=z,t.utils={cfb_new:$o,cfb_add:ao,cfb_del:Nl,cfb_mov:tp,cfb_gc:rp,ReadShift:ig,CheckField:V7,prep_blob:wa,bconcat:ta,use_zlib:M,_deflateRaw:wt,_inflateRaw:ps,consts:Q},t}();function Poe(e){return typeof e=="string"?H_(e):Array.isArray(e)?roe(e):e}function cy(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=H_(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Xo(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([Poe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=nd(t)),o.write(t),o.close(),t}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+e)}function Ioe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function on(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function r3(e,t){for(var r=[],n=on(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function K_(e){for(var t=[],r=on(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function q_(e){for(var t=[],r=on(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function Ooe(e){for(var t=[],r=on(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Bw=new Date(1899,11,30,0,0,0);function Vn(e,t){var r=e.getTime(),n=Bw.getTime()+(e.getTimezoneOffset()-Bw.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var b7=new Date,Doe=Bw.getTime()+(b7.getTimezoneOffset()-Bw.getTimezoneOffset())*6e4,n3=b7.getTimezoneOffset();function Y_(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Doe),t.getTimezoneOffset()!==n3&&t.setTime(t.getTime()+(t.getTimezoneOffset()-n3)*6e4),t}function joe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var a3=new Date("2017-02-19T19:06:09.000Z"),_7=isNaN(a3.getFullYear())?new Date("2/19/17"):a3,Roe=_7.getFullYear()==2017;function Dr(e,t){var r=new Date(e);if(Roe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(_7.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Sf(e,t){if(kt&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Xo(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Xo(c7(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Xo(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Xo(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function jr(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=jr(e[r]));return t}function rn(e,t){for(var r="";r.length<t;)r+=e;return r}function Eo(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Moe=["january","february","march","april","may","june","july","august","september","october","november","december"];function F0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Moe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Foe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function E7(e){return e?e.content&&e.type?Sf(e.content,!0):e.data?Fp(e.data):e.asNodeBuffer&&kt?Fp(e.asNodeBuffer().toString("binary")):e.asBinary?Fp(e.asBinary()):e._data&&e._data.getContent?Fp(Sf(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function S7(e){if(!e)return null;if(e.data)return GM(e.data);if(e.asNodeBuffer&&kt)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?GM(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Loe(e){return e&&e.name.slice(-4)===".bin"?S7(e):E7(e)}function As(e,t){for(var r=e.FullPaths||on(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function zP(e,t){var r=As(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Sn(e,t,r){if(!r)return Loe(zP(e,t));if(!t)return null;try{return Sn(e,t)}catch{return null}}function Yi(e,t,r){if(!r)return E7(zP(e,t));if(!t)return null;try{return Yi(e,t)}catch{return null}}function $oe(e,t,r){return S7(zP(e,t))}function i3(e){for(var t=e.FullPaths||on(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Et(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return kt?n=Ac(r):n=noe(r),st.utils.cfb_add(e,t,n)}st.utils.cfb_add(e,t,r)}else e.file(t,r)}function WP(){return st.utils.cfb_new()}function T7(e,t){switch(t.type){case"base64":return st.read(e,{type:"base64"});case"binary":return st.read(e,{type:"binary"});case"buffer":case"array":return st.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function $p(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var wn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Boe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,s3=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Uoe=/<[^>]*>/g,Xa=wn.match(s3)?s3:Uoe,Voe=/<\w*:/,zoe=/<(\/?)\w+:/;function pt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(Boe),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var m=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[m]&&u.slice(o-3,o)=="ext")continue;n[m]=l,n[m.toLowerCase()]=l}}return n}function bl(e){return e.replace(zoe,"<$1")}var A7={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},HP=K_(A7),Gt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return A7[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),GP=/[&<>'"]/g,Woe=/[\u0000-\u0008\u000b-\u001f]/g;function or(e){var t=e+"";return t.replace(GP,function(r){return HP[r]}).replace(Woe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function o3(e){return or(e).replace(/ /g,"_x0020_")}var C7=/[\u0000-\u001f]/g;function KP(e){var t=e+"";return t.replace(GP,function(r){return HP[r]}).replace(/\n/g,"<br/>").replace(C7,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Hoe(e){var t=e+"";return t.replace(GP,function(r){return HP[r]}).replace(C7,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var l3=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Goe(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function Pr(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function F2(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function c3(e){var t=Ru(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function u3(e){return Ac(e,"binary").toString("utf8")}var Vx="foo bar baz",hr=kt&&(u3(Vx)==F2(Vx)&&u3||c3(Vx)==F2(Vx)&&c3)||F2,Xo=kt?function(e){return Ac(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},ev=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),k7=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Koe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),qoe=/<\/?(?:vt:)?variant>/g,Yoe=/<(?:vt:)([^>]*)>([\s\S]*)</;function d3(e,t){var r=pt(e),n=e.match(Koe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(qoe,"").match(Yoe);s&&a.push({v:hr(s[2]),t:s[1]})}),a}var N7=/(^\s|\s$|\n)/;function ba(e,t){return"<"+e+(t.match(N7)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function tv(e){return on(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Le(e,t,r){return"<"+e+(r!=null?tv(r):"")+(t!=null?(t.match(N7)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function yC(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function Xoe(e,t){switch(typeof e){case"string":var r=Le("vt:lpwstr",or(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return Le((e|0)==e?"vt:i4":"vt:r8",or(String(e)));case"boolean":return Le("vt:bool",e?"true":"false")}if(e instanceof Date)return Le("vt:filetime",yC(e));throw new Error("Unable to serialize "+e)}function qP(e){if(kt&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return hr(nd(BP(e)));throw new Error("Bad input format: expected Buffer or string")}var rv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,$n={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},rh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Hi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Qoe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Joe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var f3=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},h3=kt?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Ac(t)})):f3(e)}:f3,m3=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(zl(e,a)));return n.join("").replace(fi,"")},YP=kt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(fi,""):m3(e,t,r)}:m3,p3=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},P7=kt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):p3(e,t,r)}:p3,g3=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Rh(e,a)));return n.join("")},uy=kt?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):g3(t,r,n)}:g3,I7=function(e,t){var r=Gi(e,t);return r>0?uy(e,t+4,t+4+r-1):""},O7=I7,D7=function(e,t){var r=Gi(e,t);return r>0?uy(e,t+4,t+4+r-1):""},j7=D7,R7=function(e,t){var r=2*Gi(e,t);return r>0?uy(e,t+4,t+4+r-1):""},M7=R7,F7=function(t,r){var n=Gi(t,r);return n>0?YP(t,r+4,r+4+n):""},L7=F7,$7=function(e,t){var r=Gi(e,t);return r>0?uy(e,t+4,t+4+r):""},B7=$7,U7=function(e,t){return Qoe(e,t)},Uw=U7,XP=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};kt&&(O7=function(t,r){if(!Buffer.isBuffer(t))return I7(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},j7=function(t,r){if(!Buffer.isBuffer(t))return D7(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},M7=function(t,r){if(!Buffer.isBuffer(t))return R7(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},L7=function(t,r){if(!Buffer.isBuffer(t))return F7(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},B7=function(t,r){if(!Buffer.isBuffer(t))return $7(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Uw=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):U7(t,r)},XP=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Rh=function(e,t){return e[t]},zl=function(e,t){return e[t+1]*256+e[t]},Zoe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Gi=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},$d=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},ele=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function ig(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,kt&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(zl(this,c)),c+=2;e*=2;break;case"utf8":r=uy(this,this.l,this.l+e);break;case"utf16le":e*=2,r=YP(this,this.l,this.l+e);break;case"wstr":return ig.call(this,e,"dbcs");case"lpstr-ansi":r=O7(this,this.l),e=4+Gi(this,this.l);break;case"lpstr-cp":r=j7(this,this.l),e=4+Gi(this,this.l);break;case"lpwstr":r=M7(this,this.l),e=4+2*Gi(this,this.l);break;case"lpp4":e=4+Gi(this,this.l),r=L7(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Gi(this,this.l),r=B7(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Rh(this,this.l+e++))!==0;)i.push(Ux(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=zl(this,this.l+e))!==0;)i.push(Ux(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Rh(this,c),this.l=c+1,o=ig.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Ux(zl(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Rh(this,c),this.l=c+1,o=ig.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Ux(Rh(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=Rh(this,this.l),this.l++,n;case 2:return n=(t==="i"?Zoe:zl)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?$d:ele)(this,this.l),this.l+=4,n):(a=Gi(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Uw(this,this.l):a=Uw([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=P7(this,this.l,e);break}}return this.l+=e,r}var tle=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},rle=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},nle=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ale(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)nle(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,tle(this,t,this.l);break;case 8:if(n=8,r==="f"){Joe(this,t,this.l);break}case 16:break;case-4:n=4,rle(this,t,this.l);break}return this.l+=n,this}function V7(e,t){var r=P7(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function wa(e,t){e.l=t,e.read_shift=ig,e.chk=V7,e.write_shift=ale}function qa(e,t){e.l+=t}function Se(e){var t=Ru(e);return wa(t,0),t}function Cc(e,t,r){if(e){var n,a,i;wa(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=lv[o]||lv[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function Ii(){var e=[],t=kt?256:2048,r=function(c){var u=Se(c);return wa(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),ta(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Pe(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=lv[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&XP(r)&&e.push(r)}}function sg(e,t,r){var n=jr(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function v3(e,t,r){var n=jr(e);return n.s=sg(n.s,t.s,r),n.e=sg(n.e,t.s,r),n}function og(e,t){if(e.cRel&&e.c<0)for(e=jr(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=jr(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=dt(e);return!e.cRel&&e.cRel!=null&&(r=ole(r)),!e.rRel&&e.rRel!=null&&(r=ile(r)),r}function L2(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Gr(e.s.c)+":"+(e.e.cRel?"":"$")+Gr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+xn(e.s.r)+":"+(e.e.rRel?"":"$")+xn(e.e.r):og(e.s,t.biff)+":"+og(e.e,t.biff)}function QP(e){return parseInt(sle(e),10)-1}function xn(e){return""+(e+1)}function ile(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function sle(e){return e.replace(/\$(\d+)$/,"$1")}function JP(e){for(var t=lle(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Gr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function ole(e){return e.replace(/^([A-Z])/,"$$$1")}function lle(e){return e.replace(/^\$([A-Z])/,"$1")}function cle(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Kr(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function dt(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Fi(e){var t=e.indexOf(":");return t==-1?{s:Kr(e),e:Kr(e)}:{s:Kr(e.slice(0,t)),e:Kr(e.slice(t+1))}}function _t(e,t){return typeof t>"u"||typeof t=="number"?_t(e.s,e.e):(typeof e!="string"&&(e=dt(e)),typeof t!="string"&&(t=dt(t)),e==t?e:e+":"+t)}function Kt(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function y3(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Vs(e.z,r?Vn(t):t)}catch{}try{return e.w=Vs((e.XF||{}).numFmtId||(r?14:0),r?Vn(t):t)}catch{return""+t}}function fc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?kc[e.v]||e.v:t==null?y3(e,e.v):y3(e,t))}function ad(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function z7(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Kr(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Kt(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var m={v:t[f][h]},p=s+f,g=o+h;if(c.s.r>p&&(c.s.r=p),c.s.c>g&&(c.s.c=g),c.e.r<p&&(c.e.r=p),c.e.c<g&&(c.e.c=g),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))m=t[f][h];else if(Array.isArray(m.v)&&(m.f=t[f][h][1],m.v=m.v[0]),m.v===null)if(m.f)m.t="n";else if(n.nullError)m.t="e",m.v=0;else if(n.sheetStubs)m.t="z";else continue;else typeof m.v=="number"?m.t="n":typeof m.v=="boolean"?m.t="b":m.v instanceof Date?(m.z=n.dateNF||ut[14],n.cellDates?(m.t="d",m.w=Vs(m.z,Vn(m.v))):(m.t="n",m.v=Vn(m.v),m.w=Vs(m.z,m.v))):m.t="s";if(a)i[p]||(i[p]=[]),i[p][g]&&i[p][g].z&&(m.z=i[p][g].z),i[p][g]=m;else{var v=dt({c:g,r:p});i[v]&&i[v].z&&(m.z=i[v].z),i[v]=m}}}return c.s.c<1e7&&(i["!ref"]=_t(c)),i}function pm(e,t){return z7(null,e,t)}function ule(e){return e.read_shift(4,"i")}function So(e,t){return t||(t=Se(4)),t.write_shift(4,e),t}function za(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function aa(e,t){var r=!1;return t==null&&(r=!0,t=Se(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function dle(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function fle(e,t){return t||(t=Se(4)),t.write_shift(2,0),t.write_shift(2,0),t}function ZP(e,t){var r=e.l,n=e.read_shift(1),a=za(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(dle(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function hle(e,t){var r=!1;return t==null&&(r=!0,t=Se(15+4*e.t.length)),t.write_shift(1,0),aa(e.t,t),r?t.slice(0,t.l):t}var mle=ZP;function ple(e,t){var r=!1;return t==null&&(r=!0,t=Se(23+4*e.t.length)),t.write_shift(1,1),aa(e.t,t),t.write_shift(4,1),fle({},t),r?t.slice(0,t.l):t}function qs(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function nh(e,t){return t==null&&(t=Se(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function ah(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function ih(e,t){return t==null&&(t=Se(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var gle=za,W7=aa;function eI(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Vw(e,t){var r=!1;return t==null&&(r=!0,t=Se(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var vle=za,xC=eI,tI=Vw;function rI(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Uw([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):$d(t,0)>>2;return r?a/100:a}function H7(e,t){t==null&&(t=Se(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-536870912&&e<1<<29?n=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function G7(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function yle(e,t){return t||(t=Se(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var sh=G7,gm=yle;function Ua(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Tf(e,t){return(t||Se(8)).write_shift(8,e,"f")}function xle(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=tf[a];c&&(t.rgb=av(c));break;case 2:t.rgb=av([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function zw(e,t){if(t||(t=Se(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function wle(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function ble(e,t){t||(t=Se(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}function K7(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function _le(e){return K7(e,1)}function Ele(e){return K7(e,2)}var nI=2,gi=3,zx=11,x3=12,Ww=19,Wx=64,Sle=65,Tle=71,Ale=4108,Cle=4126,Qn=80,q7=81,kle=[Qn,q7],wC={1:{n:"CodePage",t:nI},2:{n:"Category",t:Qn},3:{n:"PresentationFormat",t:Qn},4:{n:"ByteCount",t:gi},5:{n:"LineCount",t:gi},6:{n:"ParagraphCount",t:gi},7:{n:"SlideCount",t:gi},8:{n:"NoteCount",t:gi},9:{n:"HiddenCount",t:gi},10:{n:"MultimediaClipCount",t:gi},11:{n:"ScaleCrop",t:zx},12:{n:"HeadingPairs",t:Ale},13:{n:"TitlesOfParts",t:Cle},14:{n:"Manager",t:Qn},15:{n:"Company",t:Qn},16:{n:"LinksUpToDate",t:zx},17:{n:"CharacterCount",t:gi},19:{n:"SharedDoc",t:zx},22:{n:"HyperlinksChanged",t:zx},23:{n:"AppVersion",t:gi,p:"version"},24:{n:"DigSig",t:Sle},26:{n:"ContentType",t:Qn},27:{n:"ContentStatus",t:Qn},28:{n:"Language",t:Qn},29:{n:"Version",t:Qn},255:{},2147483648:{n:"Locale",t:Ww},2147483651:{n:"Behavior",t:Ww},1919054434:{}},bC={1:{n:"CodePage",t:nI},2:{n:"Title",t:Qn},3:{n:"Subject",t:Qn},4:{n:"Author",t:Qn},5:{n:"Keywords",t:Qn},6:{n:"Comments",t:Qn},7:{n:"Template",t:Qn},8:{n:"LastAuthor",t:Qn},9:{n:"RevNumber",t:Qn},10:{n:"EditTime",t:Wx},11:{n:"LastPrinted",t:Wx},12:{n:"CreatedDate",t:Wx},13:{n:"ModifiedDate",t:Wx},14:{n:"PageCount",t:gi},15:{n:"WordCount",t:gi},16:{n:"CharCount",t:gi},17:{n:"Thumbnail",t:Tle},18:{n:"Application",t:Qn},19:{n:"DocSecurity",t:gi},255:{},2147483648:{n:"Locale",t:Ww},2147483651:{n:"Behavior",t:Ww},1919054434:{}},w3={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Nle=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Ple(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Ile=Ple([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),tf=jr(Ile),kc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Y7={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},_C={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Hx={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function aI(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Ole(e){var t=aI();if(!e||!e.match)return t;var r={};if((e.match(Xa)||[]).forEach(function(n){var a=pt(n);switch(a[0].replace(Voe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[_C[a.ContentType]]!==void 0&&t[_C[a.ContentType]].push(a.PartName);break}}),t.xmlns!==$n.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}function X7(e,t){var r=Ooe(_C),n=[],a;n[n.length]=wn,n[n.length]=Le("Types",null,{xmlns:$n.CT,"xmlns:xsd":$n.xsd,"xmlns:xsi":$n.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return Le("Default",null,{Extension:l[0],ContentType:l[1]})}));var i=function(l){e[l]&&e[l].length>0&&(a=e[l][0],n[n.length]=Le("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Hx[l][t.bookType]||Hx[l].xlsx}))},s=function(l){(e[l]||[]).forEach(function(c){n[n.length]=Le("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:Hx[l][t.bookType]||Hx[l].xlsx})})},o=function(l){(e[l]||[]).forEach(function(c){n[n.length]=Le("Override",null,{PartName:(c[0]=="/"?"":"/")+c,ContentType:r[l][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Pt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function nv(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function lg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Xa)||[]).forEach(function(a){var i=pt(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:$p(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}function g0(e){var t=[wn,Le("Relationships",null,{xmlns:$n.RELS})];return on(e["!id"]).forEach(function(r){t[t.length]=Le("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function ir(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[Pt.HLINK,Pt.XPATH,Pt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}var Dle="application/vnd.oasis.opendocument.spreadsheet";function jle(e,t){for(var r=qP(e),n,a;n=rv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=pt(n[0],!1),a.path=="/"&&a.type!==Dle)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}function Rle(e){var t=[wn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function b3(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function Mle(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function Fle(e){var t=[wn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(b3(e[r][0],e[r][1])),t.push(Mle("",e[r][0]));return t.push(b3("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function Q7(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Mw.version+"</meta:generator></office:meta></office:document-meta>"}var Fs=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Lle=function(){for(var e=new Array(Fs.length),t=0;t<Fs.length;++t){var r=Fs[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function J7(e){var t={};e=hr(e);for(var r=0;r<Fs.length;++r){var n=Fs[r],a=e.match(Lle[r]);a!=null&&a.length>0&&(t[n[1]]=Gt(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Dr(t[n[1]]))}return t}function $2(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=or(t),n[n.length]=r?Le(e,t,r):ba(e,t))}function Z7(e,t){var r=t||{},n=[wn,Le("cp:coreProperties",null,{"xmlns:cp":$n.CORE_PROPS,"xmlns:dc":$n.dc,"xmlns:dcterms":$n.dcterms,"xmlns:dcmitype":$n.dcmitype,"xmlns:xsi":$n.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&$2("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:yC(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&$2("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:yC(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Fs.length;++i){var s=Fs[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&$2(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var rf=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ez=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function tz(e,t,r,n){var a=[];if(typeof e=="string")a=d3(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?d3(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function $le(e,t,r){var n={};return t||(t={}),e=hr(e),rf.forEach(function(a){var i=(e.match(ev(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Gt(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&tz(n.HeadingPairs,n.TitlesOfParts,t,r),t}function rz(e){var t=[],r=Le;return e||(e={}),e.Application="SheetJS",t[t.length]=wn,t[t.length]=Le("Properties",null,{xmlns:$n.EXT_PROPS,"xmlns:vt":$n.vt}),rf.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=or(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+or(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Ble=/<[^>]+>[^<]*/g;function Ule(e,t){var r={},n="",a=e.match(Ble);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=pt(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Gt(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Gt(u);break;case"bool":r[n]=Pr(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Dr(u);break;case"cy":case"error":r[n]=Gt(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}function nz(e){var t=[wn,Le("Properties",null,{xmlns:$n.CUST_PROPS,"xmlns:vt":$n.vt})];if(!e)return t.join("");var r=1;return on(e).forEach(function(a){++r,t[t.length]=Le("property",Xoe(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:or(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var EC={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},B2;function Vle(e,t,r){B2||(B2=K_(EC)),t=B2[t]||t,e[t]=r}function zle(e,t){var r=[];return on(EC).map(function(n){for(var a=0;a<Fs.length;++a)if(Fs[a][1]==n)return Fs[a];for(a=0;a<rf.length;++a)if(rf[a][1]==n)return rf[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ba(EC[n[1]]||n[1],a))}}),Le("DocumentProperties",r.join(""),{xmlns:Hi.o})}function Wle(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&on(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<Fs.length;++s)if(i==Fs[s][1])return;for(s=0;s<rf.length;++s)if(i==rf[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),a.push(Le(o3(i),o,{"dt:dt":l}))}}),t&&on(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(Le(o3(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Hi.o+'">'+a.join("")+"</"+n+">"}function iI(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Hle(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=Se(8);return s.write_shift(4,n),s.write_shift(4,a),s}function az(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function iz(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function sz(e,t,r){return t===31?iz(e):az(e,t,r)}function SC(e,t,r){return sz(e,t,r===!1?0:4)}function Gle(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return sz(e,t,0)}function Kle(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(fi,""),e.l-a&2&&(e.l+=2)}return r}function qle(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(fi,"");return r}function Yle(e){var t=e.l,r=Hw(e,q7);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Hw(e,gi);return[r,n]}function Xle(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Yle(e));return r}function _3(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(fi,"").replace(Lp,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function oz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Qle(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Hw(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==x3&&n!==t&&kle.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===x3?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return az(e,n,4).replace(fi,"");case 31:return iz(e);case 64:return iI(e);case 65:return oz(e);case 71:return Qle(e);case 80:return SC(e,n,!i.raw).replace(fi,"");case 81:return Gle(e,n).replace(fi,"");case 4108:return Xle(e);case 4126:case 4127:return n==4127?Kle(e):qle(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function E3(e,t){var r=Se(4),n=Se(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=Se(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=Hle(t);break;case 31:case 80:for(n=Se(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return ta([r,n])}function S3(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(x,b){return x[1]-b[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var m=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,m=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],m=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],m=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(m=!1,e.l=i[s][1]),m)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var p=t[i[s][0]];if(h[p.n]=Hw(e,p.t,{raw:!0}),p.p==="version"&&(h[p.n]=String(h[p.n]>>16)+"."+("0000"+String(h[p.n]&65535)).slice(-4)),p.n=="CodePage")switch(h[p.n]){case 0:h[p.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:vo(o=h[p.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[p.n])}}else if(i[s][0]===1){if(o=h.CodePage=Hw(e,nI),vo(o),l!==-1){var g=e.l;e.l=i[l][1],c=_3(e,o),e.l=g}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=_3(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=oz(e);break;case 30:e.l+=4,y=SC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=SC(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=dn(e,4);break;case 64:e.l+=4,y=Dr(iI(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}var lz=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Jle(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function T3(e,t,r){var n=Se(8),a=[],i=[],s=8,o=0,l=Se(8),c=Se(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),i.push(l),a.push(c),s+=8+l.length,!t){c=Se(8),c.write_shift(4,0),a.unshift(c);var u=[Se(4)];for(u[0].write_shift(4,e.length),o=0;o<e.length;++o){var f=e[o][0];for(l=Se(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);u.push(l)}l=ta(u),i.unshift(l),s+=8+l.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(lz.indexOf(e[o][0])>-1||ez.indexOf(e[o][0])>-1)&&e[o][1]!=null){var h=e[o][1],m=0;if(t){m=+t[e[o][0]];var p=r[m];if(p.p=="version"&&typeof h=="string"){var g=h.split(".");h=(+g[0]<<16)+(+g[1]||0)}l=E3(p.t,h)}else{var v=Jle(h);v==-1&&(v=31,h=String(h)),l=E3(v,h)}i.push(l),c=Se(8),c.write_shift(4,t?m:2+o),a.push(c),s+=8+l.length}var y=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,y),y+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),ta([n].concat(a).concat(i))}function A3(e,t,r){var n=e.content;if(!n)return{};wa(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==st.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=S3(n,t),h={SystemIdentifier:c};for(var m in f)h[m]=f[m];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var p;try{p=S3(n,null)}catch{}for(m in p)h[m]=p[m];return h.FMTID=[i,s],h}function C3(e,t,r,n,a,i){var s=Se(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,st.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var l=T3(e,r,n);if(o.push(l),a){var c=T3(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+l.length),o.push(c)}return ta(o)}function zc(e,t){return e.read_shift(t),null}function Zle(e,t){t||(t=Se(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function ece(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function dn(e,t){return e.read_shift(t)===1}function ni(e,t){return t||(t=Se(2)),t.write_shift(2,+!!e),t}function Tn(e){return e.read_shift(2,"u")}function Cs(e,t){return t||(t=Se(2)),t.write_shift(2,e),t}function cz(e,t){return ece(e,t,Tn)}function tce(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function uz(e,t,r){return r||(r=Se(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function dy(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function rce(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function nce(e){var t=e.t||"",r=Se(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=Se(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return ta(a)}function Af(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function fy(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Af(e,n,r)}function oh(e,t,r){if(r.biff>5)return fy(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function dz(e,t,r){return r||(r=Se(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function ace(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function ice(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(fi,"");return n&&(e.l+=24),a}function sce(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(fi,"");return r+s}function oce(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return ice(e);case"0303000000000000c000000000000046":return sce(e);default:throw new Error("Unsupported Moniker "+r)}}function Gx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(fi,""):"";return r}function k3(e,t){t||(t=Se(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function lce(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=Gx(e,r-e.l)),a&128&&(s=Gx(e,r-e.l)),(a&257)===257&&(o=Gx(e,r-e.l)),(a&257)===1&&(l=oce(e,r-e.l)),a&8&&(c=Gx(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=iI(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var m={Target:h};return u&&(m.guid=u),f&&(m.time=f),i&&(m.Tooltip=i),m}function cce(e){var t=Se(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),k3(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&k3(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(t.write_shift(2,l),t.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)t.write_shift(1,n.charCodeAt(r+3*l)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function fz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function hz(e,t){var r=fz(e);return r[3]=0,r}function _l(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Cf(e,t,r,n){return n||(n=Se(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function uce(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function dce(e,t,r){return t===0?"":oh(e,t,r)}function fce(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function mz(e){var t=e.read_shift(2),r=rI(e);return[t,r]}function hce(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=dy(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function X_(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function pz(e,t){return t||(t=Se(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function gz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var mce=gz;function vz(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function pce(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function gce(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Pa(e){e.l+=2,e.l+=e.read_shift(2)}var vce={0:Pa,4:Pa,5:Pa,6:Pa,7:gce,8:Pa,9:Pa,10:Pa,11:Pa,12:Pa,13:pce,14:Pa,15:Pa,16:Pa,17:Pa,18:Pa,19:Pa,20:Pa,21:vz};function yce(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(vce[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Kx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function sI(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=Se(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function xce(e,t){return t===0||e.read_shift(2),1200}function wce(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=oh(e,0,r);return e.read_shift(t+n-e.l),a}function bce(e,t){var r=!t||t.biff==8,n=Se(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function _ce(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Ece(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=dy(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Sce(e,t){var r=!t||t.biff>=8?2:1,n=Se(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function Tce(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(rce(e));return i.Count=n,i.Unique=a,i}function Ace(e,t){var r=Se(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=nce(e[a]);var i=ta([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function Cce(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function kce(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Nce(e){var t=uce(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Pce(e){return e.read_shift(2),e.read_shift(4)}function N3(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Ice(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Oce(){var e=Se(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Dce(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function jce(e){var t=Se(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Rce(){}function Mce(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=dy(e,0,r),n}function Fce(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=Se(a);return i.write_shift(2,e.sz*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Lce(e){var t=_l(e);return t.isst=e.read_shift(4),t}function $ce(e,t,r,n){var a=Se(10);return Cf(e,t,n,a),a.write_shift(4,r),a}function Bce(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=_l(e);r.biff==2&&e.l++;var i=fy(e,n-e.l,r);return a.val=i,a}function Uce(e,t,r,n,a){var i=!a||a.biff==8,s=Se(8+ +i+(1+i)*r.length);return Cf(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function Vce(e,t,r){var n=e.read_shift(2),a=oh(e,0,r);return[n,a]}function zce(e,t,r,n){var a=r&&r.biff==5;n||(n=Se(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}var Wce=oh;function P3(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function Hce(e,t){var r=t.biff==8||!t.biff?4:2,n=Se(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function Gce(e){var t=e.read_shift(2),r=e.read_shift(2),n=mz(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Kce(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(mz(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function qce(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function Yce(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=Nle[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Xce(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Yce(e,t,n.fStyle,r),n}function I3(e,t,r,n){var a=r&&r.biff==5;n||(n=Se(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Qce(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function Jce(e){var t=Se(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function O3(e,t,r){var n=_l(e);(r.biff==2||t==9)&&++e.l;var a=tce(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Zce(e,t,r,n,a,i){var s=Se(8);return Cf(e,t,n,s),uz(r,i,s),s}function eue(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=_l(e),a=Ua(e);return n.val=a,n}function tue(e,t,r,n){var a=Se(14);return Cf(e,t,n,a),Tf(r,a),a}var D3=dce;function rue(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=Af(e,i),o=[];n>e.l;)o.push(fy(e));return[i,a,s,o]}function j3(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=hce(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var nue=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function R3(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=Af(e,s,r);a&32&&(c=nue[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:y0e(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function yz(e,t,r){if(r.biff<8)return aue(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(fce(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function aue(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=dy(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function iue(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Af(e,n,r),s=Af(e,a,r);return[i,s]}function sue(e,t,r){var n=gz(e);e.l++;var a=e.read_shift(1);return t-=8,[x0e(e,t,r),a,n]}function M3(e,t,r){var n=mce(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,g0e(e,t,r)]}function oue(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function lue(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=oh(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function cue(e,t,r){return lue(e,t,r)}function uue(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(X_(e));return r}function due(e){var t=Se(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)pz(e[r],t);return t}function fue(e,t,r){if(r&&r.biff<8)return mue(e,t,r);var n=vz(e),a=yce(e,t-22,n[1]);return{cmo:n,ft:a}}var hue={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function mue(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((hue[n]||qa)(e,t,r)),{cmo:[a,n,i],ft:s}}function pue(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=ace(e,6,r);var o=e.read_shift(2);e.read_shift(2),Tn(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=Af(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function gue(e,t){var r=X_(e);e.l+=16;var n=lce(e,t-24);return[r,n]}function vue(e){var t=Se(24),r=Kr(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return ta([t,cce(e[1])])}function yue(e,t){e.read_shift(2);var r=X_(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(fi,""),[r,n]}function xue(e){var t=e[1].Tooltip,r=Se(10+2*(t.length+1));r.write_shift(2,2048);var n=Kr(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function wue(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=w3[r]||r,r=e.read_shift(2),t[1]=w3[r]||r,t}function bue(e){return e||(e=Se(4)),e.write_shift(2,1),e.write_shift(2,1),e}function _ue(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(hz(e));return r}function Eue(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(hz(e));return r}function Sue(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function xz(e,t,r){if(!r.cellStyles)return qa(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function Tue(e,t){var r=Se(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Aue(e,t){var r={};return t<32||(e.l+=16,r.header=Ua(e),r.footer=Ua(e),e.l+=2),r}function Cue(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}function kue(e){for(var t=Se(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}var Nue=_l,Pue=cz,Iue=fy;function Oue(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function Due(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=_l(e);++e.l;var a=oh(e,t-7,r);return n.t="str",n.val=a,n}function jue(e){var t=_l(e);++e.l;var r=Ua(e);return t.t="n",t.val=r,t}function Rue(e,t,r){var n=Se(15);return gy(n,e,t),n.write_shift(8,r,"f"),n}function Mue(e){var t=_l(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Fue(e,t,r){var n=Se(9);return gy(n,e,t),n.write_shift(2,r),n}function Lue(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function $ue(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Bue(e,t,r){var n=e.l+t,a=_l(e),i=e.read_shift(2),s=Af(e,i,r);return e.l=n,a.t="str",a.val=s,a}var Uue=[2,3,48,49,131,139,140,245],TC=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=K_({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Ru(1);switch(l.type){case"base64":u=qi(is(o));break;case"binary":u=qi(o);break;case"buffer":case"array":u=o;break}wa(u,0);var f=u.read_shift(1),h=!!(f&136),m=!1,p=!1;switch(f){case 2:break;case 3:break;case 48:m=!0,h=!0;break;case 49:m=!0,h=!0;break;case 131:break;case 139:break;case 140:p=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var g=0,v=521;f==2&&(g=u.read_shift(2)),u.l+=3,f!=2&&(g=u.read_shift(4)),g>1048576&&(g=1e6),f!=2&&(v=u.read_shift(2));var y=u.read_shift(2),x=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(x=e[u[u.l]]),u.l+=1,u.l+=2),p&&(u.l+=36);for(var b=[],E={},k=Math.min(u.length,f==2?521:v-10-(m?264:0)),C=p?32:11;u.l<k&&u[u.l]!=13;)switch(E={},E.name=Qg.utils.decode(x,u.slice(u.l,u.l+C)).replace(/[\u0000\r\n].*$/g,""),u.l+=C,E.type=String.fromCharCode(u.read_shift(1)),f!=2&&!p&&(E.offset=u.read_shift(4)),E.len=u.read_shift(1),f==2&&(E.offset=u.read_shift(2)),E.dec=u.read_shift(1),E.name.length&&b.push(E),f!=2&&(u.l+=p?13:14),E.type){case"B":(!m||E.len!=8)&&l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+E.name+":"+E.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+E.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var S=0,_=0;for(c[0]=[],_=0;_!=b.length;++_)c[0][_]=b[_].name;for(;g-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++S]=[],_=0,_=0;_!=b.length;++_){var T=u.slice(u.l,u.l+b[_].len);u.l+=b[_].len,wa(T,0);var P=Qg.utils.decode(x,T);switch(b[_].type){case"C":P.trim().length&&(c[S][_]=P.replace(/\s+$/,""));break;case"D":P.length===8?c[S][_]=new Date(+P.slice(0,4),+P.slice(4,6)-1,+P.slice(6,8)):c[S][_]=P;break;case"F":c[S][_]=parseFloat(P.trim());break;case"+":case"I":c[S][_]=p?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(P.trim().toUpperCase()){case"Y":case"T":c[S][_]=!0;break;case"N":case"F":c[S][_]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+P+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[S][_]="##MEMO##"+(p?parseInt(P.trim(),10):T.read_shift(4));break;case"N":P=P.replace(/\u0000/g,"").trim(),P&&P!="."&&(c[S][_]=+P||0);break;case"@":c[S][_]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":c[S][_]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":c[S][_]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[S][_]=-T.read_shift(-8,"f");break;case"B":if(m&&b[_].len==8){c[S][_]=T.read_shift(8,"f");break}case"G":case"P":T.l+=b[_].len;break;case"0":if(b[_].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+b[_].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=b,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=pm(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return ad(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&vo(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Ii(),f=qw(o,{header:1,raw:!0,cellDates:!0}),h=f[0],m=f.slice(1),p=o["!cols"]||[],g=0,v=0,y=0,x=1;for(g=0;g<h.length;++g){if(((p[g]||{}).DBF||{}).name){h[g]=p[g].DBF.name,++y;continue}if(h[g]!=null){if(++y,typeof h[g]=="number"&&(h[g]=h[g].toString(10)),typeof h[g]!="string")throw new Error("DBF Invalid column name "+h[g]+" |"+typeof h[g]+"|");if(h.indexOf(h[g])!==g){for(v=0;v<1024;++v)if(h.indexOf(h[g]+"_"+v)==-1){h[g]+="_"+v;break}}}}var b=Kt(o["!ref"]),E=[],k=[],C=[];for(g=0;g<=b.e.c-b.s.c;++g){var S="",_="",T=0,P=[];for(v=0;v<m.length;++v)m[v][g]!=null&&P.push(m[v][g]);if(P.length==0||h[g]==null){E[g]="?";continue}for(v=0;v<P.length;++v){switch(typeof P[v]){case"number":_="B";break;case"string":_="C";break;case"boolean":_="L";break;case"object":_=P[v]instanceof Date?"D":"C";break;default:_="C"}T=Math.max(T,String(P[v]).length),S=S&&S!=_?"C":_}T>250&&(T=250),_=((p[g]||{}).DBF||{}).type,_=="C"&&p[g].DBF.len>T&&(T=p[g].DBF.len),S=="B"&&_=="N"&&(S="N",C[g]=p[g].DBF.dec,T=p[g].DBF.len),k[g]=S=="C"||_=="N"?T:i[S]||0,x+=k[g],E[g]=S}var N=u.next(32);for(N.write_shift(4,318902576),N.write_shift(4,m.length),N.write_shift(2,296+32*y),N.write_shift(2,x),g=0;g<4;++g)N.write_shift(4,0);for(N.write_shift(4,0|(+t[l7]||3)<<8),g=0,v=0;g<h.length;++g)if(h[g]!=null){var O=u.next(32),D=(h[g].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,D,"sbcs"),O.write_shift(1,E[g]=="?"?"C":E[g],"sbcs"),O.write_shift(4,v),O.write_shift(1,k[g]||i[E[g]]||0),O.write_shift(1,C[g]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),v+=k[g]||i[E[g]]||0}var X=u.next(264);for(X.write_shift(4,13),g=0;g<65;++g)X.write_shift(4,0);for(g=0;g<m.length;++g){var te=u.next(x);for(te.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(E[v]){case"L":te.write_shift(1,m[g][v]==null?63:m[g][v]?84:70);break;case"B":te.write_shift(8,m[g][v]||0,"f");break;case"N":var ne="0";for(typeof m[g][v]=="number"&&(ne=m[g][v].toFixed(C[v]||0)),y=0;y<k[v]-ne.length;++y)te.write_shift(1,32);te.write_shift(1,ne,"sbcs");break;case"D":m[g][v]?(te.write_shift(4,("0000"+m[g][v].getFullYear()).slice(-4),"sbcs"),te.write_shift(2,("00"+(m[g][v].getMonth()+1)).slice(-2),"sbcs"),te.write_shift(2,("00"+m[g][v].getDate()).slice(-2),"sbcs")):te.write_shift(8,"00000000","sbcs");break;case"C":var Q=String(m[g][v]!=null?m[g][v]:"").slice(0,k[v]);for(te.write_shift(1,Q,"sbcs"),y=0;y<k[v]-Q.length;++y)te.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),wz=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+on(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,m){var p=e[m];return typeof p=="number"?KM(p):p},n=function(h,m,p){var g=m.charCodeAt(0)-32<<4|p.charCodeAt(0)-48;return g==59?h:KM(g)};e["|"]=254;function a(h,m){switch(m.type){case"base64":return i(is(h),m);case"binary":return i(h,m);case"buffer":return i(kt&&Buffer.isBuffer(h)?h.toString("binary"):nd(h),m);case"array":return i(Sf(h),m)}throw new Error("Unrecognized type "+m.type)}function i(h,m){var p=h.split(/[\n\r]+/),g=-1,v=-1,y=0,x=0,b=[],E=[],k=null,C={},S=[],_=[],T=[],P=0,N;for(+m.codepage>=0&&vo(+m.codepage);y!==p.length;++y){P=0;var O=p[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),D=O.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),X=D[0],te;if(O.length>0)switch(X){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&E.push(O.slice(3).replace(/;;/g,";"));break;case"C":var ne=!1,Q=!1,z=!1,j=!1,ce=-1,ee=-1;for(x=1;x<D.length;++x)switch(D[x].charAt(0)){case"A":break;case"X":v=parseInt(D[x].slice(1))-1,Q=!0;break;case"Y":for(g=parseInt(D[x].slice(1))-1,Q||(v=0),N=b.length;N<=g;++N)b[N]=[];break;case"K":te=D[x].slice(1),te.charAt(0)==='"'?te=te.slice(1,te.length-1):te==="TRUE"?te=!0:te==="FALSE"?te=!1:isNaN(Eo(te))?isNaN(F0(te).getDate())||(te=Dr(te)):(te=Eo(te),k!==null&&hm(k)&&(te=Y_(te))),ne=!0;break;case"E":j=!0;var M=v0(D[x].slice(1),{r:g,c:v});b[g][v]=[b[g][v],M];break;case"S":z=!0,b[g][v]=[b[g][v],"S5S"];break;case"G":break;case"R":ce=parseInt(D[x].slice(1))-1;break;case"C":ee=parseInt(D[x].slice(1))-1;break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}if(ne&&(b[g][v]&&b[g][v].length==2?b[g][v][0]=te:b[g][v]=te,k=null),z){if(j)throw new Error("SYLK shared formula cannot have own formula");var H=ce>-1&&b[ce][ee];if(!H||!H[1])throw new Error("SYLK shared formula cannot find base");b[g][v][1]=Lz(H[1],{r:g-ce,c:v-ee})}break;case"F":var U=0;for(x=1;x<D.length;++x)switch(D[x].charAt(0)){case"X":v=parseInt(D[x].slice(1))-1,++U;break;case"Y":for(g=parseInt(D[x].slice(1))-1,N=b.length;N<=g;++N)b[N]=[];break;case"M":P=parseInt(D[x].slice(1))/20;break;case"F":break;case"G":break;case"P":k=E[parseInt(D[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=D[x].slice(1).split(" "),N=parseInt(T[0],10);N<=parseInt(T[1],10);++N)P=parseInt(T[2],10),_[N-1]=P===0?{hidden:!0}:{wch:P},Mu(_[N-1]);break;case"C":v=parseInt(D[x].slice(1))-1,_[v]||(_[v]={});break;case"R":g=parseInt(D[x].slice(1))-1,S[g]||(S[g]={}),P>0?(S[g].hpt=P,S[g].hpx=$0(P)):P===0&&(S[g].hidden=!0);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}U<1&&(k=null);break;default:if(m&&m.WTF)throw new Error("SYLK bad record "+O)}}return S.length>0&&(C["!rows"]=S),_.length>0&&(C["!cols"]=_),m&&m.sheetRows&&(b=b.slice(0,m.sheetRows)),[b,C]}function s(h,m){var p=a(h,m),g=p[0],v=p[1],y=pm(g,m);return on(v).forEach(function(x){y[x]=v[x]}),y}function o(h,m){return ad(s(h,m),m)}function l(h,m,p,g){var v="C;Y"+(p+1)+";X"+(g+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+fI(h.f,{r:p,c:g}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,m){m.forEach(function(p,g){var v="F;W"+(g+1)+" "+(g+1)+" ";p.hidden?v+="0":(typeof p.width=="number"&&!p.wpx&&(p.wpx=iv(p.width)),typeof p.wpx=="number"&&!p.wch&&(p.wch=sv(p.wpx)),typeof p.wch=="number"&&(v+=Math.round(p.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,m){m.forEach(function(p,g){var v="F;";p.hidden?v+="M0;":p.hpt?v+="M"+20*p.hpt+";":p.hpx&&(v+="M"+20*ov(p.hpx)+";"),v.length>2&&h.push(v+"R"+(g+1))})}function f(h,m){var p=["ID;PWXL;N;E"],g=[],v=Kt(h["!ref"]),y,x=Array.isArray(h),b=`\r
`;p.push("P;PGeneral"),p.push("F;P0;DG0G8;M255"),h["!cols"]&&c(p,h["!cols"]),h["!rows"]&&u(p,h["!rows"]),p.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var E=v.s.r;E<=v.e.r;++E)for(var k=v.s.c;k<=v.e.c;++k){var C=dt({r:E,c:k});y=x?(h[E]||[])[k]:h[C],!(!y||y.v==null&&(!y.f||y.F))&&g.push(l(y,h,E,k))}return p.join(b)+b+g.join(b)+b+"E"+b}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),bz=function(){function e(i,s){switch(s.type){case"base64":return t(is(i),s);case"binary":return t(i,s);case"buffer":return t(kt&&Buffer.isBuffer(i)?i.toString("binary"):nd(i),s);case"array":return t(Sf(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),m=h[0],p=h[1];++u;for(var g=o[u]||"";(g.match(/["]/g)||[]).length&1&&u<o.length-1;)g+=`
`+o[++u];switch(g=g.trim(),+m){case-1:if(g==="BOT"){f[++l]=[],c=0;continue}else if(g!=="EOD")throw new Error("Unrecognized DIF special command "+g);break;case 0:g==="TRUE"?f[l][c]=!0:g==="FALSE"?f[l][c]=!1:isNaN(Eo(p))?isNaN(F0(p).getDate())?f[l][c]=p:f[l][c]=Dr(p):f[l][c]=Eo(p),++c;break;case 1:g=g.slice(1,g.length-1),g=g.replace(/""/g,'"'),g&&g.match(/^=".*"$/)&&(g=g.slice(2,-1)),f[l][c++]=g!==""?g:null;break}if(g==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return pm(e(i,s),s)}function n(i,s){return ad(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Kt(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var m=u.s.r;m<=u.e.r;++m){s(c,-1,0,"BOT");for(var p=u.s.c;p<=u.e.c;++p){var g=dt({r:m,c:p});if(f=h?(l[m]||[])[p]:l[g],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Vs(f.z||ut[14],Vn(Dr(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,x=c.join(y);return x}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),_z=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var m=f.split(`
`),p=-1,g=-1,v=0,y=[];v!==m.length;++v){var x=m[v].trim().split(":");if(x[0]==="cell"){var b=Kr(x[1]);if(y.length<=b.r)for(p=y.length;p<=b.r;++p)y[p]||(y[p]=[]);switch(p=b.r,g=b.c,x[2]){case"t":y[p][g]=e(x[3]);break;case"v":y[p][g]=+x[3];break;case"vtf":var E=x[x.length-1];case"vtc":switch(x[3]){case"nl":y[p][g]=!!+x[4];break;default:y[p][g]=+x[4];break}x[2]=="vtf"&&(y[p][g]=[y[p][g],E])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return pm(r(f,h),h)}function a(f,h){return ad(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],m=[],p,g="",v=Fi(f["!ref"]),y=Array.isArray(f),x=v.s.r;x<=v.e.r;++x)for(var b=v.s.c;b<=v.e.c;++b)if(g=dt({r:x,c:b}),p=y?(f[x]||[])[b]:f[g],!(!p||p.v==null||p.t==="z")){switch(m=["cell",g,"t"],p.t){case"s":case"str":m.push(t(p.v));break;case"n":p.f?(m[2]="vtf",m[3]="n",m[4]=p.v,m[5]=t(p.f)):(m[2]="v",m[3]=p.v);break;case"b":m[2]="vt"+(p.f?"f":"c"),m[3]="nl",m[4]=p.v?"1":"0",m[5]=t(p.f||(p.v?"TRUE":"FALSE"));break;case"d":var E=Vn(Dr(p.v));m[2]="vtc",m[3]="nd",m[4]=""+E,m[5]=p.w||Vs(p.z||ut[14],E);break;case"e":continue}h.push(m.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),L0=function(){function e(u,f,h,m,p){p.raw?f[h][m]=u:u===""||(u==="TRUE"?f[h][m]=!0:u==="FALSE"?f[h][m]=!1:isNaN(Eo(u))?isNaN(F0(u).getDate())?f[h][m]=u:f[h][m]=Dr(u):f[h][m]=Eo(u))}function t(u,f){var h=f||{},m=[];if(!u||u.length===0)return m;for(var p=u.split(/[\r\n]/),g=p.length-1;g>=0&&p[g].length===0;)--g;for(var v=10,y=0,x=0;x<=g;++x)y=p[x].indexOf(" "),y==-1?y=p[x].length:y++,v=Math.max(v,y);for(x=0;x<=g;++x){m[x]=[];var b=0;for(e(p[x].slice(0,v).trim(),m,x,b,h),b=1;b<=(p[x].length-v)/10+1;++b)e(p[x].slice(v+(b-1)*10,v+b*10).trim(),m,x,b,h)}return h.sheetRows&&(m=m.slice(0,h.sheetRows)),m}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,m=0,p=0;m<u.length;++m)(p=u.charCodeAt(m))==34?h=!h:!h&&p in r&&(f[p]=(f[p]||0)+1);p=[];for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m]);if(!p.length){f=n;for(m in f)Object.prototype.hasOwnProperty.call(f,m)&&p.push([f[m],m])}return p.sort(function(g,v){return g[0]-v[0]||n[g[1]]-n[v[1]]}),r[p.pop()[1]]||44}function i(u,f){var h=f||{},m="",p=h.dense?[]:{},g={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(m=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(m=u.charAt(4),u=u.slice(6)):m=a(u.slice(0,1024)):h&&h.FS?m=h.FS:m=a(u.slice(0,1024));var v=0,y=0,x=0,b=0,E=0,k=m.charCodeAt(0),C=!1,S=0,_=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?Coe(h.dateNF):null;function P(){var N=u.slice(b,E),O={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)O.t="z";else if(h.raw)O.t="s",O.v=N;else if(N.trim().length===0)O.t="s",O.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(O.t="s",O.v=N.slice(2,-1).replace(/""/g,'"')):rhe(N)?(O.t="n",O.f=N.slice(1)):(O.t="s",O.v=N);else if(N=="TRUE")O.t="b",O.v=!0;else if(N=="FALSE")O.t="b",O.v=!1;else if(!isNaN(x=Eo(N)))O.t="n",h.cellText!==!1&&(O.w=N),O.v=x;else if(!isNaN(F0(N).getDate())||T&&N.match(T)){O.z=h.dateNF||ut[14];var D=0;T&&N.match(T)&&(N=koe(N,h.dateNF,N.match(T)||[]),D=1),h.cellDates?(O.t="d",O.v=Dr(N,D)):(O.t="n",O.v=Vn(Dr(N,D))),h.cellText!==!1&&(O.w=Vs(O.z,O.v instanceof Date?Vn(O.v):O.v)),h.cellNF||delete O.z}else O.t="s",O.v=N;if(O.t=="z"||(h.dense?(p[v]||(p[v]=[]),p[v][y]=O):p[dt({c:y,r:v})]=O),b=E+1,_=u.charCodeAt(b),g.e.c<y&&(g.e.c=y),g.e.r<v&&(g.e.r=v),S==k)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;E<u.length;++E)switch(S=u.charCodeAt(E)){case 34:_===34&&(C=!C);break;case k:case 10:case 13:if(!C&&P())break e;break}return E-b>0&&P(),p["!ref"]=_t(g),p}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):pm(t(u,f),f)}function o(u,f){var h="",m=f.type=="string"?[0,0,0,0]:wI(u,f);switch(f.type){case"base64":h=is(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Qg<"u"||(h=kt&&Buffer.isBuffer(u)?u.toString("binary"):nd(u));break;case"array":h=Sf(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return m[0]==239&&m[1]==187&&m[2]==191?h=hr(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=hr(h):f.type=="binary"&&typeof Qg<"u",h.slice(0,19)=="socialcalc:version:"?_z.to_sheet(f.type=="string"?h:hr(h),f):s(h,f)}function l(u,f){return ad(o(u,f),f)}function c(u){for(var f=[],h=Kt(u["!ref"]),m,p=Array.isArray(u),g=h.s.r;g<=h.e.r;++g){for(var v=[],y=h.s.c;y<=h.e.c;++y){var x=dt({r:g,c:y});if(m=p?(u[g]||[])[y]:u[x],!m||m.v==null){v.push("          ");continue}for(var b=(m.w||(fc(m),m.w)||"").slice(0,10);b.length<10;)b+=" ";v.push(b+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function Vue(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=wz.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return L0.to_workbook(e,t)}}var nf=function(){function e(M,H,U){if(M){wa(M,M.l||0);for(var G=U.Enum||ce;M.l<M.length;){var ae=M.read_shift(2),de=G[ae]||G[65535],xe=M.read_shift(2),Z=M.l+xe,ie=de.f&&de.f(M,xe,U);if(M.l=Z,H(ie,de,ae))return}}}function t(M,H){switch(H.type){case"base64":return r(qi(is(M)),H);case"binary":return r(qi(M),H);case"buffer":case"array":return r(M,H)}throw"Unsupported type "+H.type}function r(M,H){if(!M)return M;var U=H||{},G=U.dense?[]:{},ae="Sheet1",de="",xe=0,Z={},ie=[],we=[],F={s:{r:0,c:0},e:{r:0,c:0}},Me=U.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)U.Enum=ce,e(M,function(re,Ve,bt){switch(bt){case 0:U.vers=re,re>=4096&&(U.qpro=!0);break;case 6:F=re;break;case 204:re&&(de=re);break;case 222:de=re;break;case 15:case 51:U.qpro||(re[1].v=re[1].v.slice(1));case 13:case 14:case 16:bt==14&&(re[2]&112)==112&&(re[2]&15)>1&&(re[2]&15)<15&&(re[1].z=U.dateNF||ut[14],U.cellDates&&(re[1].t="d",re[1].v=Y_(re[1].v))),U.qpro&&re[3]>xe&&(G["!ref"]=_t(F),Z[ae]=G,ie.push(ae),G=U.dense?[]:{},F={s:{r:0,c:0},e:{r:0,c:0}},xe=re[3],ae=de||"Sheet"+(xe+1),de="");var ot=U.dense?(G[re[0].r]||[])[re[0].c]:G[dt(re[0])];if(ot){ot.t=re[1].t,ot.v=re[1].v,re[1].z!=null&&(ot.z=re[1].z),re[1].f!=null&&(ot.f=re[1].f);break}U.dense?(G[re[0].r]||(G[re[0].r]=[]),G[re[0].r][re[0].c]=re[1]):G[dt(re[0])]=re[1];break}},U);else if(M[2]==26||M[2]==14)U.Enum=ee,M[2]==14&&(U.qpro=!0,M.l=0),e(M,function(re,Ve,bt){switch(bt){case 204:ae=re;break;case 22:re[1].v=re[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(re[3]>xe&&(G["!ref"]=_t(F),Z[ae]=G,ie.push(ae),G=U.dense?[]:{},F={s:{r:0,c:0},e:{r:0,c:0}},xe=re[3],ae="Sheet"+(xe+1)),Me>0&&re[0].r>=Me)break;U.dense?(G[re[0].r]||(G[re[0].r]=[]),G[re[0].r][re[0].c]=re[1]):G[dt(re[0])]=re[1],F.e.c<re[0].c&&(F.e.c=re[0].c),F.e.r<re[0].r&&(F.e.r=re[0].r);break;case 27:re[14e3]&&(we[re[14e3][0]]=re[14e3][1]);break;case 1537:we[re[0]]=re[1],re[0]==xe&&(ae=re[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(G["!ref"]=_t(F),Z[de||ae]=G,ie.push(de||ae),!we.length)return{SheetNames:ie,Sheets:Z};for(var Ce={},Be=[],Ie=0;Ie<we.length;++Ie)Z[ie[Ie]]?(Be.push(we[Ie]||ie[Ie]),Ce[we[Ie]]=Z[we[Ie]]||Z[ie[Ie]]):(Be.push(we[Ie]),Ce[we[Ie]]={"!ref":"A1"});return{SheetNames:Be,Sheets:Ce}}function n(M,H){var U=H||{};if(+U.codepage>=0&&vo(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var G=Ii(),ae=Kt(M["!ref"]),de=Array.isArray(M),xe=[];$e(G,0,i(1030)),$e(G,6,l(ae));for(var Z=Math.min(ae.e.r,8191),ie=ae.s.r;ie<=Z;++ie)for(var we=xn(ie),F=ae.s.c;F<=ae.e.c;++F){ie===ae.s.r&&(xe[F]=Gr(F));var Me=xe[F]+we,Ce=de?(M[ie]||[])[F]:M[Me];if(!(!Ce||Ce.t=="z"))if(Ce.t=="n")(Ce.v|0)==Ce.v&&Ce.v>=-32768&&Ce.v<=32767?$e(G,13,m(ie,F,Ce.v)):$e(G,14,g(ie,F,Ce.v));else{var Be=fc(Ce);$e(G,15,f(ie,F,Be.slice(0,239)))}}return $e(G,1),G.end()}function a(M,H){var U=H||{};if(+U.codepage>=0&&vo(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var G=Ii();$e(G,0,s(M));for(var ae=0,de=0;ae<M.SheetNames.length;++ae)(M.Sheets[M.SheetNames[ae]]||{})["!ref"]&&$e(G,27,j(M.SheetNames[ae],de++));var xe=0;for(ae=0;ae<M.SheetNames.length;++ae){var Z=M.Sheets[M.SheetNames[ae]];if(!(!Z||!Z["!ref"])){for(var ie=Kt(Z["!ref"]),we=Array.isArray(Z),F=[],Me=Math.min(ie.e.r,8191),Ce=ie.s.r;Ce<=Me;++Ce)for(var Be=xn(Ce),Ie=ie.s.c;Ie<=ie.e.c;++Ie){Ce===ie.s.r&&(F[Ie]=Gr(Ie));var re=F[Ie]+Be,Ve=we?(Z[Ce]||[])[Ie]:Z[re];if(!(!Ve||Ve.t=="z"))if(Ve.t=="n")$e(G,23,P(Ce,Ie,xe,Ve.v));else{var bt=fc(Ve);$e(G,22,S(Ce,Ie,xe,bt.slice(0,239)))}}++xe}}return $e(G,1),G.end()}function i(M){var H=Se(2);return H.write_shift(2,M),H}function s(M){var H=Se(26);H.write_shift(2,4096),H.write_shift(2,4),H.write_shift(4,0);for(var U=0,G=0,ae=0,de=0;de<M.SheetNames.length;++de){var xe=M.SheetNames[de],Z=M.Sheets[xe];if(!(!Z||!Z["!ref"])){++ae;var ie=Fi(Z["!ref"]);U<ie.e.r&&(U=ie.e.r),G<ie.e.c&&(G=ie.e.c)}}return U>8191&&(U=8191),H.write_shift(2,U),H.write_shift(1,ae),H.write_shift(1,G),H.write_shift(2,0),H.write_shift(2,0),H.write_shift(1,1),H.write_shift(1,2),H.write_shift(4,0),H.write_shift(4,0),H}function o(M,H,U){var G={s:{c:0,r:0},e:{c:0,r:0}};return H==8&&U.qpro?(G.s.c=M.read_shift(1),M.l++,G.s.r=M.read_shift(2),G.e.c=M.read_shift(1),M.l++,G.e.r=M.read_shift(2),G):(G.s.c=M.read_shift(2),G.s.r=M.read_shift(2),H==12&&U.qpro&&(M.l+=2),G.e.c=M.read_shift(2),G.e.r=M.read_shift(2),H==12&&U.qpro&&(M.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function l(M){var H=Se(8);return H.write_shift(2,M.s.c),H.write_shift(2,M.s.r),H.write_shift(2,M.e.c),H.write_shift(2,M.e.r),H}function c(M,H,U){var G=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(G[0].c=M.read_shift(1),G[3]=M.read_shift(1),G[0].r=M.read_shift(2),M.l+=2):(G[2]=M.read_shift(1),G[0].c=M.read_shift(2),G[0].r=M.read_shift(2)),G}function u(M,H,U){var G=M.l+H,ae=c(M,H,U);if(ae[1].t="s",U.vers==20768){M.l++;var de=M.read_shift(1);return ae[1].v=M.read_shift(de,"utf8"),ae}return U.qpro&&M.l++,ae[1].v=M.read_shift(G-M.l,"cstr"),ae}function f(M,H,U){var G=Se(7+U.length);G.write_shift(1,255),G.write_shift(2,H),G.write_shift(2,M),G.write_shift(1,39);for(var ae=0;ae<G.length;++ae){var de=U.charCodeAt(ae);G.write_shift(1,de>=128?95:de)}return G.write_shift(1,0),G}function h(M,H,U){var G=c(M,H,U);return G[1].v=M.read_shift(2,"i"),G}function m(M,H,U){var G=Se(7);return G.write_shift(1,255),G.write_shift(2,H),G.write_shift(2,M),G.write_shift(2,U,"i"),G}function p(M,H,U){var G=c(M,H,U);return G[1].v=M.read_shift(8,"f"),G}function g(M,H,U){var G=Se(13);return G.write_shift(1,255),G.write_shift(2,H),G.write_shift(2,M),G.write_shift(8,U,"f"),G}function v(M,H,U){var G=M.l+H,ae=c(M,H,U);if(ae[1].v=M.read_shift(8,"f"),U.qpro)M.l=G;else{var de=M.read_shift(2);E(M.slice(M.l,M.l+de),ae),M.l+=de}return ae}function y(M,H,U){var G=H&32768;return H&=-32769,H=(G?M:0)+(H>=8192?H-16384:H),(G?"":"$")+(U?Gr(H):xn(H))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},b=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function E(M,H){wa(M,0);for(var U=[],G=0,ae="",de="",xe="",Z="";M.l<M.length;){var ie=M[M.l++];switch(ie){case 0:U.push(M.read_shift(8,"f"));break;case 1:de=y(H[0].c,M.read_shift(2),!0),ae=y(H[0].r,M.read_shift(2),!1),U.push(de+ae);break;case 2:{var we=y(H[0].c,M.read_shift(2),!0),F=y(H[0].r,M.read_shift(2),!1);de=y(H[0].c,M.read_shift(2),!0),ae=y(H[0].r,M.read_shift(2),!1),U.push(we+F+":"+de+ae)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(M.read_shift(2));break;case 6:{for(var Me="";ie=M[M.l++];)Me+=String.fromCharCode(ie);U.push('"'+Me.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:Z=U.pop(),xe=U.pop(),U.push(["AND","OR"][ie-20]+"("+xe+","+Z+")");break;default:if(ie<32&&b[ie])Z=U.pop(),xe=U.pop(),U.push(xe+b[ie]+Z);else if(x[ie]){if(G=x[ie][1],G==69&&(G=M[M.l++]),G>U.length){console.error("WK1 bad formula parse 0x"+ie.toString(16)+":|"+U.join("|")+"|");return}var Ce=U.slice(-G);U.length-=G,U.push(x[ie][0]+"("+Ce.join(",")+")")}else return ie<=7?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=24?console.error("WK1 unsupported op "+ie.toString(16)):ie<=30?console.error("WK1 invalid opcode "+ie.toString(16)):ie<=115?console.error("WK1 unsupported function opcode "+ie.toString(16)):console.error("WK1 unrecognized opcode "+ie.toString(16))}}U.length==1?H[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function k(M){var H=[{c:0,r:0},{t:"n",v:0},0];return H[0].r=M.read_shift(2),H[3]=M[M.l++],H[0].c=M[M.l++],H}function C(M,H){var U=k(M);return U[1].t="s",U[1].v=M.read_shift(H-4,"cstr"),U}function S(M,H,U,G){var ae=Se(6+G.length);ae.write_shift(2,M),ae.write_shift(1,U),ae.write_shift(1,H),ae.write_shift(1,39);for(var de=0;de<G.length;++de){var xe=G.charCodeAt(de);ae.write_shift(1,xe>=128?95:xe)}return ae.write_shift(1,0),ae}function _(M,H){var U=k(M);U[1].v=M.read_shift(2);var G=U[1].v>>1;if(U[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return U[1].v=G,U}function T(M,H){var U=k(M),G=M.read_shift(4),ae=M.read_shift(4),de=M.read_shift(2);if(de==65535)return G===0&&ae===3221225472?(U[1].t="e",U[1].v=15):G===0&&ae===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var xe=de&32768;return de=(de&32767)-16446,U[1].v=(1-xe*2)*(ae*Math.pow(2,de+32)+G*Math.pow(2,de)),U}function P(M,H,U,G){var ae=Se(14);if(ae.write_shift(2,M),ae.write_shift(1,U),ae.write_shift(1,H),G==0)return ae.write_shift(4,0),ae.write_shift(4,0),ae.write_shift(2,65535),ae;var de=0,xe=0,Z=0,ie=0;return G<0&&(de=1,G=-G),xe=Math.log2(G)|0,G/=Math.pow(2,xe-31),ie=G>>>0,ie&2147483648||(G/=2,++xe,ie=G>>>0),G-=ie,ie|=2147483648,ie>>>=0,G*=Math.pow(2,32),Z=G>>>0,ae.write_shift(4,Z),ae.write_shift(4,ie),xe+=16383+(de?32768:0),ae.write_shift(2,xe),ae}function N(M,H){var U=T(M);return M.l+=H-14,U}function O(M,H){var U=k(M),G=M.read_shift(4);return U[1].v=G>>6,U}function D(M,H){var U=k(M),G=M.read_shift(8,"f");return U[1].v=G,U}function X(M,H){var U=D(M);return M.l+=H-10,U}function te(M,H){return M[M.l+H-1]==0?M.read_shift(H,"cstr"):""}function ne(M,H){var U=M[M.l++];U>H-1&&(U=H-1);for(var G="";G.length<U;)G+=String.fromCharCode(M[M.l++]);return G}function Q(M,H,U){if(!(!U.qpro||H<21)){var G=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var ae=M.read_shift(H-21,"cstr");return[G,ae]}}function z(M,H){for(var U={},G=M.l+H;M.l<G;){var ae=M.read_shift(2);if(ae==14e3){for(U[ae]=[0,""],U[ae][0]=M.read_shift(2);M[M.l];)U[ae][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return U}function j(M,H){var U=Se(5+M.length);U.write_shift(2,14e3),U.write_shift(2,H);for(var G=0;G<M.length;++G){var ae=M.charCodeAt(G);U[U.l++]=ae>127?95:ae}return U[U.l++]=0,U}var ce={0:{n:"BOF",f:Tn},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:p},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:te},222:{n:"SHEETNAMELP",f:ne},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:C},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:_},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:X},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:te},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function zue(e){var t={},r=e.match(Xa),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=pt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=FP[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var Wue=function(){var e=ev("t"),t=ev("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Gt(s[1])},l=i.match(t);return l&&(o.s=zue(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),Hue=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),Gue=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Kue=/<(?:\w+:)?r>/,que=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function oI(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Gt(hr(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=hr(e),r&&(n.h=KP(n.t))):e.match(Kue)&&(n.r=hr(e),n.t=Gt(hr((e.replace(que,"").match(Gue)||[]).join("").replace(Xa,""))),r&&(n.h=Hue(Wue(n.r)))),n):{t:""}}var Yue=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Xue=/<(?:\w+:)?(?:si|sstItem)>/g,Que=/<\/(?:\w+:)?(?:si|sstItem)>/;function Jue(e,t){var r=[],n="";if(!e)return r;var a=e.match(Yue);if(a){n=a[2].replace(Xue,"").split(Que);for(var i=0;i!=n.length;++i){var s=oI(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=pt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}var Zue=/^\s|\s$|[\t\n\r]/;function Ez(e,t){if(!t.bookSST)return"";var r=[wn];r[r.length]=Le("sst",null,{xmlns:rh[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(Zue)&&(i+=' xml:space="preserve"'),i+=">"+or(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function ede(e){return[e.read_shift(4),e.read_shift(4)]}function tde(e,t){var r=[],n=!1;return Cc(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function rde(e,t){return t||(t=Se(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var nde=hle;function ade(e){var t=Ii();Pe(t,159,rde(e));for(var r=0;r<e.length;++r)Pe(t,19,nde(e[r]));return Pe(t,160),t.end()}function Sz(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function tc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function ide(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=tc(e,4),t.U=tc(e,4),t.W=tc(e,4),t}function sde(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function ode(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(sde(e));return t}function lde(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function cde(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=tc(e,4),t.U=tc(e,4),t.W=tc(e,4),t}function ude(e){var t=cde(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Tz(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Az(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function dde(e){var t=tc(e);switch(t.Minor){case 2:return[t.Minor,fde(e)];case 3:return[t.Minor,hde()];case 4:return[t.Minor,mde(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function fde(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Tz(e,r),a=Az(e,e.length-e.l);return{t:"Std",h:n,v:a}}function hde(){throw new Error("File is password-protected: ECMA-376 Extensible")}function mde(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Xa,function(i){var s=pt(i);switch(bl(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function pde(e,t){var r={},n=r.EncryptionVersionInfo=tc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Tz(e,a),t-=a,r.EncryptionVerifier=Az(e,t),r}function gde(e){var t={},r=t.EncryptionVersionInfo=tc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function lI(e){var t=0,r,n=Sz(e),a=n.length+1,i,s,o,l,c;for(r=Ru(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var Cz=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=Sz(s),l=i(o),c=o.length,u=Ru(16),f=0;f!=16;++f)u[f]=0;var h,m,p;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,m=o[o.length-1],u[c]=a(m,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,p=15-o.length;p>0;)h=l>>8,u[c]=a(e[p],h),--c,--p,h=l&255,u[c]=a(o[c],h),--c,--p;return u}}(),vde=function(e,t,r,n,a){a||(a=t),n||(n=Cz(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},yde=function(e){var t=0,r=Cz(e);return function(n){var a=vde("",n,t,r);return t=a[1],a[0]}};function xde(e,t,r,n){var a={key:Tn(e),verificationBytes:Tn(e)};return r.password&&(a.verifier=lI(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=yde(r.password)),a}function wde(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=gde(e):n.Data=pde(e,t),n}function bde(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?wde(e,t-2,n):xde(e,r.biff>=8?t:t-2,r,n),n}var kz=function(){function e(a,i){switch(i.type){case"base64":return t(is(a),i);case"binary":return t(a,i);case"buffer":return t(kt&&Buffer.isBuffer(a)?a.toString("binary"):nd(a),i);case"array":return t(Sf(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,m=0,p,g=-1;p=h.exec(u);){switch(p[0]){case"\\cell":var v=u.slice(m,h.lastIndex-p[0].length);if(v[0]==" "&&(v=v.slice(1)),++g,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][g]=y:o[dt({r:f,c:g})]=y}break}m=h.lastIndex}g>c.e.c&&(c.e.c=g)}),o["!ref"]=_t(c),o}function r(a,i){return ad(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Kt(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=dt({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(fc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function _de(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function av(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Ede(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function Sde(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function Gw(e,t){if(t===0)return e;var r=Ede(_de(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),av(Sde(r))}var Nz=6,Tde=15,Ade=1,La=Nz;function iv(e){return Math.floor((e+Math.round(128/La)/256)*La)}function sv(e){return Math.floor((e-5)/La*100+.5)/100}function Kw(e){return Math.round((e*La+5)/La*256)/256}function U2(e){return Kw(sv(iv(e)))}function cI(e){var t=Math.abs(e-U2(e)),r=La;if(t>.005)for(La=Ade;La<Tde;++La)Math.abs(e-U2(e))<=t&&(t=Math.abs(e-U2(e)),r=La);La=r}function Mu(e){e.width?(e.wpx=iv(e.width),e.wch=sv(e.wpx),e.MDW=La):e.wpx?(e.wch=sv(e.wpx),e.width=Kw(e.wch),e.MDW=La):typeof e.wch=="number"&&(e.width=Kw(e.wch),e.wpx=iv(e.width),e.MDW=La),e.customWidth&&delete e.customWidth}var Cde=96,Pz=Cde;function ov(e){return e*96/Pz}function $0(e){return e*Pz/96}var kde={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Nde(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Xa)||[]).forEach(function(s){var o=pt(s);switch(bl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Pr(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Pr(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function Pde(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Xa)||[]).forEach(function(s){var o=pt(s);switch(bl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function Ide(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Xa)||[]).forEach(function(s){var o=pt(s);switch(bl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=hr(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Pr(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Pr(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Pr(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Pr(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Pr(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Pr(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Pr(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=FP[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Pr(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=tf[a.color.index];a.color.index==81&&(l=tf[1]),l||(l=tf[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Gw(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Ode(e,t,r){t.NumberFmt=[];for(var n=on(ut),a=0;a<n.length;++a)t.NumberFmt[n[a]]=ut[n[a]];var i=e[0].match(Xa);if(i)for(a=0;a<i.length;++a){var s=pt(i[a]);switch(bl(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Gt(hr(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}ec(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}function Dde(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=Le("numFmt",null,{numFmtId:n,formatCode:or(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=Le("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var qx=["numFmtId","fillId","fontId","borderId","xfId"],Yx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function jde(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Xa)||[]).forEach(function(i){var s=pt(i),o=0;switch(bl(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<qx.length;++o)n[qx[o]]&&(n[qx[o]]=parseInt(n[qx[o]],10));for(o=0;o<Yx.length;++o)n[Yx[o]]&&(n[Yx[o]]=Pr(n[Yx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Pr(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}function Rde(e){var t=[];return t[t.length]=Le("cellXfs",null),e.forEach(function(r){t[t.length]=Le("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=Le("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}var Mde=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&Ode(f,u,c),(f=o.match(a))&&Ide(f,u,l,c),(f=o.match(n))&&Pde(f,u,l,c),(f=o.match(i))&&Nde(f,u,l,c),(f=o.match(r))&&jde(f,u,c),u}}();function Iz(e,t){var r=[wn,Le("styleSheet",null,{xmlns:rh[0],"xmlns:vt":$n.vt})],n;return e.SSF&&(n=Dde(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=Rde(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Fde(e,t){var r=e.read_shift(2),n=za(e);return[r,n]}function Lde(e,t,r){r||(r=Se(6+4*t.length)),r.write_shift(2,e),aa(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function $de(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=wle(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=xle(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=za(e),n}function Bde(e,t){t||(t=Se(25+4*32)),t.write_shift(2,e.sz*20),ble(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),zw(e.color,t);var n=0;return n=2,t.write_shift(1,n),aa(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Ude=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],V2,Vde=qa;function F3(e,t){t||(t=Se(4*3+8*7+16*1)),V2||(V2=K_(Ude));var r=V2[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(zw({auto:1},t),zw({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function zde(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function Oz(e,t,r){r||(r=Se(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function yp(e,t){return t||(t=Se(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Wde=qa;function Hde(e,t){return t||(t=Se(51)),t.write_shift(1,0),yp(null,t),yp(null,t),yp(null,t),yp(null,t),yp(null,t),t.length>t.l?t.slice(0,t.l):t}function Gde(e,t){return t||(t=Se(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,0),t.write_shift(1,0),Vw(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function Kde(e,t,r){var n=Se(2052);return n.write_shift(4,e),Vw(t,n),Vw(r,n),n.length>n.l?n.slice(0,n.l):n}function qde(e,t,r){var n={};n.NumberFmt=[];for(var a in ut)n.NumberFmt[a]=ut[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Cc(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],ec(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Gw(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}function Yde(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(Pe(e,615,So(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&Pe(e,44,Lde(a,t[a]))}),Pe(e,616))}}function Xde(e){var t=1;Pe(e,611,So(t)),Pe(e,43,Bde({sz:12,color:{theme:1},name:"Calibri",family:2})),Pe(e,612)}function Qde(e){var t=2;Pe(e,603,So(t)),Pe(e,45,F3({patternType:"none"})),Pe(e,45,F3({patternType:"gray125"})),Pe(e,604)}function Jde(e){var t=1;Pe(e,613,So(t)),Pe(e,46,Hde()),Pe(e,614)}function Zde(e){var t=1;Pe(e,626,So(t)),Pe(e,47,Oz({numFmtId:0},65535)),Pe(e,627)}function efe(e,t){Pe(e,617,So(t.length)),t.forEach(function(r){Pe(e,47,Oz(r,0))}),Pe(e,618)}function tfe(e){var t=1;Pe(e,619,So(t)),Pe(e,48,Gde({xfId:0,name:"Normal"})),Pe(e,620)}function rfe(e){var t=0;Pe(e,505,So(t)),Pe(e,506)}function nfe(e){var t=0;Pe(e,508,Kde(t,"TableStyleMedium9","PivotStyleMedium4")),Pe(e,509)}function afe(e,t){var r=Ii();return Pe(r,278),Yde(r,e.SSF),Xde(r),Qde(r),Jde(r),Zde(r),efe(r,t.cellXfs),tfe(r),rfe(r),nfe(r),Pe(r,279),r.end()}var ife=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function sfe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Xa)||[]).forEach(function(a){var i=pt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[ife.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function ofe(){}function lfe(){}var cfe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,ufe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,dfe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function ffe(e,t,r){t.themeElements={};var n;[["clrScheme",cfe,sfe],["fontScheme",ufe,ofe],["fmtScheme",dfe,lfe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var hfe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Dz(e,t){(!e||e.length===0)&&(e=uI());var r,n={};if(!(r=e.match(hfe)))throw new Error("themeElements not found in theme");return ffe(r[0],n,t),n.raw=e,n}function uI(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[wn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function mfe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=T7(i,{type:"array"})}catch{return}var o=Yi(s,"theme/theme/theme1.xml",!0);if(o)return Dz(o,r)}}function pfe(e){return e.read_shift(4)}function gfe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=vfe(e,4);break;case 2:t.xclrValue=fz(e);break;case 3:t.xclrValue=pfe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function vfe(e,t){return qa(e,t)}function yfe(e,t){return qa(e,t)}function xfe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=gfe(e);break;case 6:n[1]=yfe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function wfe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(xfe(e,r-e.l));return{ixfe:n,ext:i}}function bfe(e,t){t.forEach(function(r){switch(r[0]){}})}function _fe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:za(e)}}function Efe(e){var t=Se(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),aa(e.name,t),t.slice(0,t.l)}function Sfe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Tfe(e){var t=Se(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function Afe(e,t){var r=Se(8+2*t.length);return r.write_shift(4,e),aa(t,r),r.slice(0,r.l)}function Cfe(e){return e.l+=4,e.read_shift(4)!=0}function kfe(e,t){var r=Se(8);return r.write_shift(4,e),r.write_shift(4,1),r}function Nfe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Cc(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Pfe(){var e=Ii();return Pe(e,332),Pe(e,334,So(1)),Pe(e,335,Efe({name:"XLDAPR",version:12e4,flags:3496657072})),Pe(e,336),Pe(e,339,Afe(1,"XLDAPR")),Pe(e,52),Pe(e,35,So(514)),Pe(e,4096,So(0)),Pe(e,4097,Cs(1)),Pe(e,36),Pe(e,53),Pe(e,340),Pe(e,337,kfe(1)),Pe(e,51,Tfe([[1,0]])),Pe(e,338),Pe(e,333),e.end()}function Ife(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Xa,function(o){var l=pt(o);switch(bl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function jz(){var e=[wn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function Ofe(e){var t=[];if(!e)return t;var r=1;return(e.match(Xa)||[]).forEach(function(n){var a=pt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Dfe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=dt(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function jfe(e,t,r){var n=[];return Cc(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Rfe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Cc(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Mfe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}var Zh=1024;function Rz(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[Le("xml",null,{"xmlns:v":Hi.v,"xmlns:o":Hi.o,"xmlns:x":Hi.x,"xmlns:mv":Hi.mv}).replace(/\/>/,">"),Le("o:shapelayout",Le("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Le("v:shapetype",[Le("v:stroke",null,{joinstyle:"miter"}),Le("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Zh<e*1e3;)Zh+=1e3;return t.forEach(function(i){var s=Kr(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?Le("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,c=Le("v:fill",l,o),u={on:"t",obscured:"t"};++Zh,a=a.concat(["<v:shape"+tv({id:"_x0000_s"+Zh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",c,Le("v:shadow",null,u),Le("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ba("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),ba("x:AutoFill","False"),ba("x:Row",String(s.r)),ba("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function L3(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=Kr(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=Kt(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=_t(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function Ffe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=pt(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Kr(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&oI(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function Mz(e){var t=[wn,Le("comments",null,{xmlns:rh[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=or(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(a=r.indexOf(or(l.a))),i.push(l.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(ba("t",or(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(ba("t",or(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Lfe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Xa,function(o,l){var c=pt(o);switch(bl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function $fe(e,t,r){var n=[wn,Le("ThreadedComments",null,{xmlns:$n.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var l={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=l.id:l.parentId=i,s.ID=l.id,s.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(Le("threadedComment",ba("text",s.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function Bfe(e,t){var r=[],n=!1;return e.replace(Xa,function(i){var s=pt(i);switch(bl(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Ufe(e){var t=[wn,Le("personList",null,{xmlns:$n.TCMNT,"xmlns:x":rh[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(Le("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function Vfe(e){var t={};t.iauthor=e.read_shift(4);var r=sh(e);return t.rfx=r.s,t.ref=dt(r.s),e.l+=16,t}function zfe(e,t){return t==null&&(t=Se(36)),t.write_shift(4,e[1].iauthor),gm(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var Wfe=za;function Hfe(e){return aa(e.slice(0,54))}function Gfe(e,t){var r=[],n=[],a={},i=!1;return Cc(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}function Kfe(e){var t=Ii(),r=[];return Pe(t,628),Pe(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),Pe(t,632,Hfe(a.a)))})}),Pe(t,631),Pe(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Kr(n[0]),e:Kr(n[0])};Pe(t,635,zfe([i,a])),a.t&&a.t.length>0&&Pe(t,637,ple(a)),Pe(t,636),delete a.iauthor})}),Pe(t,634),Pe(t,629),t.end()}var qfe="application/vnd.ms-office.vbaProject";function Yfe(e){var t=st.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");st.utils.cfb_add(t,a,e.FileIndex[n].content)}}),st.write(t)}function Xfe(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&st.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var Fz=["xlsb","xlsm","xlam","biff8","xla"];function Qfe(){return{"!type":"dialog"}}function Jfe(){return{"!type":"dialog"}}function Zfe(){return{"!type":"macro"}}function ehe(){return{"!type":"macro"}}var v0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Gr(u)+(l?"":"$")+xn(c)}return function(a,i){return t=i,a.replace(e,r)}}(),dI=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,fI=function(){return function(t,r){return t.replace(dI,function(n,a,i,s,o,l){var c=JP(s)-(i?0:r.c),u=QP(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function Lz(e,t){return e.replace(dI,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Gr(JP(i)+t.c))+(s=="$"?s+o:xn(QP(o)+t.r))})}function the(e,t,r){var n=Fi(t),a=n.s,i=Kr(r),s={r:i.r-a.r,c:i.c-a.c};return Lz(e,s)}function rhe(e){return e.length!=1}function $3(e){return e.replace(/_xlfn\./g,"")}function _n(e){e.l+=1}function Fu(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function $z(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Bz(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Fu(e),o=Fu(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Bz(e){var t=Fu(e),r=Fu(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function nhe(e,t,r){if(r.biff<8)return Bz(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Fu(e),s=Fu(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function Uz(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return ahe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Fu(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function ahe(e){var t=Fu(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function ihe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function she(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ohe(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function ohe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function lhe(e,t,r){var n=(e[e.l++]&96)>>5,a=$z(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function che(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=$z(e,i,r);return[n,a,s]}function uhe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function dhe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function fhe(e,t,r){var n=(e[e.l++]&96)>>5,a=nhe(e,t-1,r);return[n,a]}function hhe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function B3(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function mhe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function phe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function ghe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function vhe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function yhe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Vz(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function xhe(e){return e.read_shift(2),Vz(e)}function whe(e){return e.read_shift(2),Vz(e)}function bhe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Uz(e,0,r);return[n,a]}function _he(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=she(e,0,r);return[n,a]}function Ehe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Uz(e,0,r);return[n,a,i]}function She(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[C0e[a],Hz[a],n]}function The(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Ahe(e);return[a,(i[0]===0?Hz:A0e)[i[1]]]}function Ahe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Che(e,t,r){e.l+=r&&r.biff==2?3:4}function khe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Nhe(e){return e.l++,kc[e.read_shift(1)]}function Phe(e){return e.l++,e.read_shift(2)}function Ihe(e){return e.l++,e.read_shift(1)!==0}function Ohe(e){return e.l++,Ua(e)}function Dhe(e,t,r){return e.l++,dy(e,t-1,r)}function jhe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=dn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=kc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ua(e);break;case 2:r[1]=oh(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Rhe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?sh:X_)(e));return a}function Mhe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=jhe(e,r.biff);return s}function Fhe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Lhe(e,t,r){if(r.biff==5)return $he(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function $he(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Bhe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Uhe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Vhe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function zhe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Whe=qa,Hhe=qa,Ghe=qa;function hy(e,t,r){return e.l+=2,[ihe(e)]}function hI(e){return e.l+=6,[]}var Khe=hy,qhe=hI,Yhe=hI,Xhe=hy;function zz(e){return e.l+=2,[Tn(e),e.read_shift(2)&1]}var Qhe=hy,Jhe=zz,Zhe=hI,e0e=hy,t0e=hy,r0e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function n0e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=r0e[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function a0e(e){return e.l+=2,[e.read_shift(4)]}function i0e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function s0e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function o0e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function l0e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function c0e(e){return e.l+=4,[0,0]}var U3={1:{n:"PtgExp",f:khe},2:{n:"PtgTbl",f:Ghe},3:{n:"PtgAdd",f:_n},4:{n:"PtgSub",f:_n},5:{n:"PtgMul",f:_n},6:{n:"PtgDiv",f:_n},7:{n:"PtgPower",f:_n},8:{n:"PtgConcat",f:_n},9:{n:"PtgLt",f:_n},10:{n:"PtgLe",f:_n},11:{n:"PtgEq",f:_n},12:{n:"PtgGe",f:_n},13:{n:"PtgGt",f:_n},14:{n:"PtgNe",f:_n},15:{n:"PtgIsect",f:_n},16:{n:"PtgUnion",f:_n},17:{n:"PtgRange",f:_n},18:{n:"PtgUplus",f:_n},19:{n:"PtgUminus",f:_n},20:{n:"PtgPercent",f:_n},21:{n:"PtgParen",f:_n},22:{n:"PtgMissArg",f:_n},23:{n:"PtgStr",f:Dhe},26:{n:"PtgSheet",f:i0e},27:{n:"PtgEndSheet",f:s0e},28:{n:"PtgErr",f:Nhe},29:{n:"PtgBool",f:Ihe},30:{n:"PtgInt",f:Phe},31:{n:"PtgNum",f:Ohe},32:{n:"PtgArray",f:hhe},33:{n:"PtgFunc",f:She},34:{n:"PtgFuncVar",f:The},35:{n:"PtgName",f:Fhe},36:{n:"PtgRef",f:bhe},37:{n:"PtgArea",f:lhe},38:{n:"PtgMemArea",f:Bhe},39:{n:"PtgMemErr",f:Whe},40:{n:"PtgMemNoMem",f:Hhe},41:{n:"PtgMemFunc",f:Uhe},42:{n:"PtgRefErr",f:Vhe},43:{n:"PtgAreaErr",f:uhe},44:{n:"PtgRefN",f:_he},45:{n:"PtgAreaN",f:fhe},46:{n:"PtgMemAreaN",f:o0e},47:{n:"PtgMemNoMemN",f:l0e},57:{n:"PtgNameX",f:Lhe},58:{n:"PtgRef3d",f:Ehe},59:{n:"PtgArea3d",f:che},60:{n:"PtgRefErr3d",f:zhe},61:{n:"PtgAreaErr3d",f:dhe},255:{}},u0e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},d0e={1:{n:"PtgElfLel",f:zz},2:{n:"PtgElfRw",f:e0e},3:{n:"PtgElfCol",f:Khe},6:{n:"PtgElfRwV",f:t0e},7:{n:"PtgElfColV",f:Xhe},10:{n:"PtgElfRadical",f:Qhe},11:{n:"PtgElfRadicalS",f:Zhe},13:{n:"PtgElfColS",f:qhe},15:{n:"PtgElfColSV",f:Yhe},16:{n:"PtgElfRadicalLel",f:Jhe},25:{n:"PtgList",f:n0e},29:{n:"PtgSxName",f:a0e},255:{}},f0e={0:{n:"PtgAttrNoop",f:c0e},1:{n:"PtgAttrSemi",f:yhe},2:{n:"PtgAttrIf",f:ghe},4:{n:"PtgAttrChoose",f:mhe},8:{n:"PtgAttrGoto",f:phe},16:{n:"PtgAttrSum",f:Che},32:{n:"PtgAttrBaxcel",f:B3},33:{n:"PtgAttrBaxcel",f:B3},64:{n:"PtgAttrSpace",f:xhe},65:{n:"PtgAttrSpaceSemi",f:whe},128:{n:"PtgAttrIfError",f:vhe},255:{}};function my(e,t,r,n){if(n.biff<8)return qa(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Mhe(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Rhe(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(qa(e,t)),i}function py(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=U3[i]||U3[u0e[i]],(i===24||i===25)&&(a=(i===24?d0e:f0e)[e[e.l+1]]),!a||!a.f?qa(e,t):s.push([a.n,a.f(e,t,r)]);return s}function h0e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var m0e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function p0e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Wz(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function V3(e,t,r){var n=Wz(e,t,r);return n=="#REF"?n:p0e(n,r)}function Ma(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,m,p="";if(!e[0]||!e[0][0])return"";for(var g=-1,v="",y=0,x=e[0].length;y<x;++y){var b=e[0][y];switch(b[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),g>=0){switch(e[0][g][1][0]){case 0:v=rn(" ",e[0][g][1][1]);break;case 1:v=rn("\r",e[0][g][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}c=c+v,g=-1}o.push(c+m0e[b[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=sg(b[1][1],s,a),o.push(og(u,i));break;case"PtgRefN":u=r?sg(b[1][1],r,a):b[1][1],o.push(og(u,i));break;case"PtgRef3d":f=b[1][1],u=sg(b[1][2],s,a),p=V3(n,f,a),o.push(p+"!"+og(u,i));break;case"PtgFunc":case"PtgFuncVar":var E=b[1][0],k=b[1][1];E||(E=0),E&=127;var C=E==0?[]:o.slice(-E);o.length-=E,k==="User"&&(k=C.shift()),o.push(k+"("+C.join(",")+")");break;case"PtgBool":o.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(b[1]);break;case"PtgNum":o.push(String(b[1]));break;case"PtgStr":o.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(b[1]);break;case"PtgAreaN":m=v3(b[1][1],r?{s:r}:s,a),o.push(L2(m,a));break;case"PtgArea":m=v3(b[1][1],s,a),o.push(L2(m,a));break;case"PtgArea3d":f=b[1][1],m=b[1][2],p=V3(n,f,a),o.push(p+"!"+L2(m,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=b[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],_=S?S.Name:"SH33TJSNAME"+String(h);_&&_.slice(0,6)=="_xlfn."&&!a.xlfn&&(_=_.slice(6)),o.push(_);break;case"PtgNameX":var T=b[1][1];h=b[1][2];var P;if(a.biff<=5)T<0&&(T=-T),n[T]&&(P=n[T][h]);else{var N="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(N=n.SheetNames[n[T][h].itab-1]+"!"):N=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])N+=n[T][h].Name;else if(n[0]&&n[0][h])N+=n[0][h].Name;else{var O=(Wz(n,T,a)||"").split(";;");O[h-1]?N=O[h-1]:N+="SH33TJSERRX"}o.push(N);break}P||(P={Name:"SH33TJSERRY"}),o.push(P.Name);break;case"PtgParen":var D="(",X=")";if(g>=0){switch(v="",e[0][g][1][0]){case 2:D=rn(" ",e[0][g][1][1])+D;break;case 3:D=rn("\r",e[0][g][1][1])+D;break;case 4:X=rn(" ",e[0][g][1][1])+X;break;case 5:X=rn("\r",e[0][g][1][1])+X;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][g][1][0])}g=-1}o.push(D+o.pop()+X);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:b[1][1],r:b[1][0]};var te={c:r.c,r:r.r};if(n.sharedf[dt(u)]){var ne=n.sharedf[dt(u)];o.push(Ma(ne,s,te,n,a))}else{var Q=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Ma(c[1],s,te,n,a)),Q=!0;break}Q||o.push(b[1])}break;case"PtgArray":o.push("{"+h0e(b[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":g=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(b));default:throw new Error("Unrecognized Formula Token: "+String(b))}var z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&g>=0&&z.indexOf(e[0][y][0])==-1){b=e[0][g];var j=!0;switch(b[1][0]){case 4:j=!1;case 0:v=rn(" ",b[1][1]);break;case 5:j=!1;case 1:v=rn("\r",b[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}o.push((j?v:"")+o.pop()+(j?"":v)),g=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function g0e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],qa(e,t-2)];var o=py(e,s,r);return t!==s+a&&(i=my(e,t-s-a,o,r)),e.l=n,[o,i]}function v0e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],qa(e,t-2)];var o=py(e,s,r);return t!==s+a&&(i=my(e,t-s-a,o,r)),e.l=n,[o,i]}function y0e(e,t,r,n){var a=e.l+t,i=py(e,n,r),s;return a!==e.l&&(s=my(e,a-e.l,i,r)),[i,s]}function x0e(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=py(e,i,r);return i==65535?[[],qa(e,t-2)]:(t!==i+2&&(a=my(e,n-i-2,s,r)),[s,a])}function w0e(e){var t;if(zl(e,e.l+6)!==65535)return[Ua(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function b0e(e){if(e==null){var t=Se(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Tf(e);return Tf(0)}function z2(e,t,r){var n=e.l+t,a=_l(e);r.biff==2&&++e.l;var i=w0e(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=v0e(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function _0e(e,t,r,n,a){var i=Cf(t,r,a),s=b0e(e.v),o=Se(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var c=Se(e.bf.length),u=0;u<e.bf.length;++u)c[u]=e.bf[u];var f=ta([i,s,o,c]);return f}function Q_(e,t,r){var n=e.read_shift(4),a=py(e,n,r),i=e.read_shift(4),s=i>0?my(e,i,a,r):null;return[a,s]}var E0e=Q_,J_=Q_,S0e=Q_,T0e=Q_,A0e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Hz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},C0e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function z3(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function k0e(e){var t="of:="+e.replace(dI,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function W2(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}function N0e(e){return e.replace(/\./,"!")}var cg={},y0={},ug=typeof Map<"u";function mI(e,t,r){var n=0,a=e.length;if(r){if(ug?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=ug?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(ug?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function Z_(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(La=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=sv(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=Kw(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function af(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function id(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){ec(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function Gz(e,t,r,n,a,i){try{n.cellNF&&(e.z=ut[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Dr(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(ut[t]==null&&ec(Aoe[t]||"General",t),e.t==="e")e.w=e.w||kc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zg(e.v);else if(e.t==="d"){var s=Vn(e.v);(s|0)===s?e.w=s.toString(10):e.w=Zg(s)}else{if(e.v===void 0)return"";e.w=Ef(e.v,y0)}else e.t==="d"?e.w=Vs(t,Vn(e.v),y0):e.w=Vs(t,e.v,y0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Gw(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Gw(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function P0e(e,t,r){if(e&&e["!ref"]){var n=Kt(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function I0e(e,t){var r=Kt(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=_t(r))}var O0e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,D0e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,j0e=/<(?:\w:)?hyperlink [^>]*>/mg,R0e=/"(\w*:\w*)"/,M0e=/<(?:\w:)?col\b[^>]*[\/]?>/g,F0e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,L0e=/<(?:\w:)?pageMargins[^>]*\/>/g,Kz=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,$0e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,B0e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function U0e(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(D0e);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(Kz);h?pI(h[0],o,a,r):(h=c.match($0e))&&z0e(h[0],h[1]||"",o,a,r);var m=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(m>0){var p=c.slice(m,m+50).match(R0e);p&&I0e(o,p[1])}var g=c.match(B0e);g&&g[1]&&rme(g[1],a);var v=[];if(t.cellStyles){var y=c.match(M0e);y&&Q0e(v,y)}f&&ime(f[1],o,t,l,i,s);var x=u.match(F0e);x&&(o["!autofilter"]=Z0e(x[0]));var b=[],E=u.match(O0e);if(E)for(m=0;m!=E.length;++m)b[m]=Kt(E[m].slice(E[m].indexOf('"')+1));var k=u.match(j0e);k&&q0e(o,k,n);var C=u.match(L0e);if(C&&(o["!margins"]=Y0e(pt(C[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=_t(l)),t.sheetRows>0&&o["!ref"]){var S=Kt(o["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=_t(S))}return v.length>0&&(o["!cols"]=v),b.length>0&&(o["!merges"]=b),o}function V0e(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+_t(e[r])+'"/>';return t+"</mergeCells>"}function pI(e,t,r,n){var a=pt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Gt(hr(a.codeName)))}function z0e(e,t,r,n,a){pI(e.slice(0,e.indexOf(">")),r,n,a)}function W0e(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var l=t.SheetNames[r];try{t.Workbook&&(l=t.Workbook.Sheets[r].CodeName||l)}catch{}i=!0,s.codeName=Xo(or(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+Le("outlinePr",null,c)}!i&&!o||(a[a.length]=Le("sheetPr",o,s))}var H0e=["objects","scenarios","selectLockedCells","selectUnlockedCells"],G0e=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function K0e(e){var t={sheet:1};return H0e.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),G0e.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=lI(e.password).toString(16).toUpperCase()),Le("sheetProtection",null,t)}function q0e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=pt(hr(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Gt(i.location))):(i.Target="#"+Gt(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Kt(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=dt({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function Y0e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function X0e(e){return af(e),Le("pageMargins",null,e)}function Q0e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=pt(t[n],!0);a.hidden&&(a.hidden=Pr(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,cI(a.width)),Mu(a);i<=s;)e[i++]=jr(a)}}function J0e(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=Le("col",null,Z_(a,n)));return r[r.length]="</cols>",r.join("")}function Z0e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}function eme(e,t,r,n){var a=typeof e.ref=="string"?e.ref:_t(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=Fi(a);s.s.r==s.e.r&&(s.e.r=Fi(t["!ref"]).e.r,a=_t(s));for(var o=0;o<i.length;++o){var l=i[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),Le("autoFilter",null,{ref:a})}var tme=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function rme(e,t){t.Views||(t.Views=[{}]),(e.match(tme)||[]).forEach(function(r,n){var a=pt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Pr(a.rightToLeft)&&(t.Views[n].RTL=!0)})}function nme(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),Le("sheetViews",Le("sheetView",null,a),{})}function ame(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=kc[e.v];break;case"d":n&&n.cellDates?a=Dr(e.v,-1).toISOString():(e=jr(e),e.t="n",a=""+(e.v=Vn(Dr(e.v)))),typeof e.z>"u"&&(e.z=ut[14]);break;default:a=e.v;break}var o=ba("v",or(a)),l={r:t},c=id(n.cellXfs,e,n);switch(c!==0&&(l.s=c),e.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=ba("v",""+mI(n.Strings,e.v,n.revStrings)),l.t="s";break}l.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var u=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Le("f",or(e.f),u)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(l.cm=1),Le("c",o,l)}var ime=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=ev("v"),s=ev("f");return function(l,c,u,f,h,m){for(var p=0,g="",v=[],y=[],x=0,b=0,E=0,k="",C,S,_=0,T=0,P,N,O=0,D=0,X=Array.isArray(m.CellXf),te,ne=[],Q=[],z=Array.isArray(c),j=[],ce={},ee=!1,M=!!u.sheetStubs,H=l.split(t),U=0,G=H.length;U!=G;++U){g=H[U].trim();var ae=g.length;if(ae!==0){var de=0;e:for(p=0;p<ae;++p)switch(g[p]){case">":if(g[p-1]!="/"){++p;break e}if(u&&u.cellStyles){if(S=pt(g.slice(de,p),!0),_=S.r!=null?parseInt(S.r,10):_+1,T=-1,u.sheetRows&&u.sheetRows<_)continue;ce={},ee=!1,S.ht&&(ee=!0,ce.hpt=parseFloat(S.ht),ce.hpx=$0(ce.hpt)),S.hidden=="1"&&(ee=!0,ce.hidden=!0),S.outlineLevel!=null&&(ee=!0,ce.level=+S.outlineLevel),ee&&(j[_-1]=ce)}break;case"<":de=p;break}if(de>=p)break;if(S=pt(g.slice(de,p),!0),_=S.r!=null?parseInt(S.r,10):_+1,T=-1,!(u.sheetRows&&u.sheetRows<_)){f.s.r>_-1&&(f.s.r=_-1),f.e.r<_-1&&(f.e.r=_-1),u&&u.cellStyles&&(ce={},ee=!1,S.ht&&(ee=!0,ce.hpt=parseFloat(S.ht),ce.hpx=$0(ce.hpt)),S.hidden=="1"&&(ee=!0,ce.hidden=!0),S.outlineLevel!=null&&(ee=!0,ce.level=+S.outlineLevel),ee&&(j[_-1]=ce)),v=g.slice(p).split(e);for(var xe=0;xe!=v.length&&v[xe].trim().charAt(0)=="<";++xe);for(v=v.slice(xe),p=0;p!=v.length;++p)if(g=v[p].trim(),g.length!==0){if(y=g.match(r),x=p,b=0,E=0,g="<c "+(g.slice(0,1)=="<"?">":"")+g,y!=null&&y.length===2){for(x=0,k=y[1],b=0;b!=k.length&&!((E=k.charCodeAt(b)-64)<1||E>26);++b)x=26*x+E;--x,T=x}else++T;for(b=0;b!=g.length&&g.charCodeAt(b)!==62;++b);if(++b,S=pt(g.slice(0,b),!0),S.r||(S.r=dt({r:_-1,c:T})),k=g.slice(b),C={t:""},(y=k.match(i))!=null&&y[1]!==""&&(C.v=Gt(y[1])),u.cellFormula){if((y=k.match(s))!=null&&y[1]!==""){if(C.f=Gt(hr(y[1])).replace(/\r\n/g,`
`),u.xlfn||(C.f=$3(C.f)),y[0].indexOf('t="array"')>-1)C.F=(k.match(a)||[])[1],C.F.indexOf(":")>-1&&ne.push([Kt(C.F),C.F]);else if(y[0].indexOf('t="shared"')>-1){N=pt(y[0]);var Z=Gt(hr(y[1]));u.xlfn||(Z=$3(Z)),Q[parseInt(N.si,10)]=[N,Z,S.r]}}else(y=k.match(/<f[^>]*\/>/))&&(N=pt(y[0]),Q[N.si]&&(C.f=the(Q[N.si][1],Q[N.si][2],S.r)));var ie=Kr(S.r);for(b=0;b<ne.length;++b)ie.r>=ne[b][0].s.r&&ie.r<=ne[b][0].e.r&&ie.c>=ne[b][0].s.c&&ie.c<=ne[b][0].e.c&&(C.F=ne[b][1])}if(S.t==null&&C.v===void 0)if(C.f||C.F)C.v=0,C.t="n";else if(M)C.t="z";else continue;else C.t=S.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),C.t){case"n":if(C.v==""||C.v==null){if(!M)continue;C.t="z"}else C.v=parseFloat(C.v);break;case"s":if(typeof C.v>"u"){if(!M)continue;C.t="z"}else P=cg[parseInt(C.v,10)],C.v=P.t,C.r=P.r,u.cellHTML&&(C.h=P.h);break;case"str":C.t="s",C.v=C.v!=null?hr(C.v):"",u.cellHTML&&(C.h=KP(C.v));break;case"inlineStr":y=k.match(n),C.t="s",y!=null&&(P=oI(y[1]))?(C.v=P.t,u.cellHTML&&(C.h=P.h)):C.v="";break;case"b":C.v=Pr(C.v);break;case"d":u.cellDates?C.v=Dr(C.v,1):(C.v=Vn(Dr(C.v,1)),C.t="n");break;case"e":(!u||u.cellText!==!1)&&(C.w=C.v),C.v=Y7[C.v];break}if(O=D=0,te=null,X&&S.s!==void 0&&(te=m.CellXf[S.s],te!=null&&(te.numFmtId!=null&&(O=te.numFmtId),u.cellStyles&&te.fillId!=null&&(D=te.fillId))),Gz(C,O,D,u,h,m),u.cellDates&&X&&C.t=="n"&&hm(ut[O])&&(C.t="d",C.v=Y_(C.v)),S.cm&&u.xlmeta){var we=(u.xlmeta.Cell||[])[+S.cm-1];we&&we.type=="XLDAPR"&&(C.D=!0)}if(z){var F=Kr(S.r);c[F.r]||(c[F.r]=[]),c[F.r][F.c]=C}else c[S.r]=C}}}}j.length>0&&(c["!rows"]=j)}}();function sme(e,t,r,n){var a=[],i=[],s=Kt(e["!ref"]),o="",l,c="",u=[],f=0,h=0,m=e["!rows"],p=Array.isArray(e),g={r:c},v,y=-1;for(h=s.s.c;h<=s.e.c;++h)u[h]=Gr(h);for(f=s.s.r;f<=s.e.r;++f){for(i=[],c=xn(f),h=s.s.c;h<=s.e.c;++h){l=u[h]+c;var x=p?(e[f]||[])[h]:e[l];x!==void 0&&(o=ame(x,l,e,t))!=null&&i.push(o)}(i.length>0||m&&m[f])&&(g={r:c},m&&m[f]&&(v=m[f],v.hidden&&(g.hidden=1),y=-1,v.hpx?y=ov(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(g.ht=y,g.customHeight=1),v.level&&(g.outlineLevel=v.level)),a[a.length]=Le("row",i.join(""),g))}if(m)for(;f<m.length;++f)m&&m[f]&&(g={r:f+1},v=m[f],v.hidden&&(g.hidden=1),y=-1,v.hpx?y=ov(v.hpx):v.hpt&&(y=v.hpt),y>-1&&(g.ht=y,g.customHeight=1),v.level&&(g.outlineLevel=v.level),a[a.length]=Le("row","",g));return a.join("")}function qz(e,t,r,n){var a=[wn,Le("worksheet",null,{xmlns:rh[0],"xmlns:r":$n.r})],i=r.SheetNames[e],s=0,o="",l=r.Sheets[i];l==null&&(l={});var c=l["!ref"]||"A1",u=Kt(c);if(u.e.c>16383||u.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");u.e.c=Math.min(u.e.c,16383),u.e.r=Math.min(u.e.c,1048575),c=_t(u)}n||(n={}),l["!comments"]=[];var f=[];W0e(l,r,e,t,a),a[a.length]=Le("dimension",null,{ref:c}),a[a.length]=nme(l,t,e,r),t.sheetFormat&&(a[a.length]=Le("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(a[a.length]=J0e(l,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=sme(l,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=K0e(l["!protect"])),l["!autofilter"]!=null&&(a[a.length]=eme(l["!autofilter"],l,r,e)),l["!merges"]!=null&&l["!merges"].length>0&&(a[a.length]=V0e(l["!merges"]));var h=-1,m,p=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(g){g[1].Target&&(m={ref:g[0]},g[1].Target.charAt(0)!="#"&&(p=ir(n,-1,or(g[1].Target).replace(/#.*$/,""),Pt.HLINK),m["r:id"]="rId"+p),(h=g[1].Target.indexOf("#"))>-1&&(m.location=or(g[1].Target.slice(h+1))),g[1].Tooltip&&(m.tooltip=or(g[1].Tooltip)),a[a.length]=Le("hyperlink",null,m))}),a[a.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(a[a.length]=X0e(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ba("ignoredErrors",Le("ignoredError",null,{numberStoredAsText:1,sqref:c}))),f.length>0&&(p=ir(n,-1,"../drawings/drawing"+(e+1)+".xml",Pt.DRAW),a[a.length]=Le("drawing",null,{"r:id":"rId"+p}),l["!drawing"]=f),l["!comments"].length>0&&(p=ir(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Pt.VML),a[a.length]=Le("legacyDrawing",null,{"r:id":"rId"+p}),l["!legacy"]=p),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function ome(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function lme(e,t,r){var n=Se(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=ov(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var c={r:e,c:0},u=0;u<16;++u)if(!(t.s.c>u+1<<10||t.e.c<u<<10)){for(var f=-1,h=-1,m=u<<10;m<u+1<<10;++m){c.c=m;var p=Array.isArray(r)?(r[c.r]||[])[c.c]:r[dt(c)];p&&(f<0&&(f=m),h=m)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,h))}var g=n.l;return n.l=l,n.write_shift(4,o),n.l=g,n.length>n.l?n.slice(0,n.l):n}function cme(e,t,r,n){var a=lme(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&Pe(e,0,a)}var ume=sh,dme=gm;function fme(){}function hme(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=gle(e),r}function mme(e,t,r){r==null&&(r=Se(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return zw({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),W7(e,r),r.slice(0,r.l)}function pme(e){var t=qs(e);return[t]}function gme(e,t,r){return r==null&&(r=Se(8)),nh(t,r)}function vme(e){var t=ah(e);return[t]}function yme(e,t,r){return r==null&&(r=Se(4)),ih(t,r)}function xme(e){var t=qs(e),r=e.read_shift(1);return[t,r,"b"]}function wme(e,t,r){return r==null&&(r=Se(9)),nh(t,r),r.write_shift(1,e.v?1:0),r}function bme(e){var t=ah(e),r=e.read_shift(1);return[t,r,"b"]}function _me(e,t,r){return r==null&&(r=Se(5)),ih(t,r),r.write_shift(1,e.v?1:0),r}function Eme(e){var t=qs(e),r=e.read_shift(1);return[t,r,"e"]}function Sme(e,t,r){return r==null&&(r=Se(9)),nh(t,r),r.write_shift(1,e.v),r}function Tme(e){var t=ah(e),r=e.read_shift(1);return[t,r,"e"]}function Ame(e,t,r){return r==null&&(r=Se(8)),ih(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Cme(e){var t=qs(e),r=e.read_shift(4);return[t,r,"s"]}function kme(e,t,r){return r==null&&(r=Se(12)),nh(t,r),r.write_shift(4,t.v),r}function Nme(e){var t=ah(e),r=e.read_shift(4);return[t,r,"s"]}function Pme(e,t,r){return r==null&&(r=Se(8)),ih(t,r),r.write_shift(4,t.v),r}function Ime(e){var t=qs(e),r=Ua(e);return[t,r,"n"]}function Ome(e,t,r){return r==null&&(r=Se(16)),nh(t,r),Tf(e.v,r),r}function Yz(e){var t=ah(e),r=Ua(e);return[t,r,"n"]}function Dme(e,t,r){return r==null&&(r=Se(12)),ih(t,r),Tf(e.v,r),r}function jme(e){var t=qs(e),r=rI(e);return[t,r,"n"]}function Rme(e,t,r){return r==null&&(r=Se(12)),nh(t,r),H7(e.v,r),r}function Mme(e){var t=ah(e),r=rI(e);return[t,r,"n"]}function Fme(e,t,r){return r==null&&(r=Se(8)),ih(t,r),H7(e.v,r),r}function Lme(e){var t=qs(e),r=ZP(e);return[t,r,"is"]}function $me(e){var t=qs(e),r=za(e);return[t,r,"str"]}function Bme(e,t,r){return r==null&&(r=Se(12+4*e.v.length)),nh(t,r),aa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Ume(e){var t=ah(e),r=za(e);return[t,r,"str"]}function Vme(e,t,r){return r==null&&(r=Se(8+4*e.v.length)),ih(t,r),aa(e.v,r),r.length>r.l?r.slice(0,r.l):r}function zme(e,t,r){var n=e.l+t,a=qs(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=J_(e,n-e.l,r);s[3]=Ma(o,null,a,r.supbooks,r)}else e.l=n;return s}function Wme(e,t,r){var n=e.l+t,a=qs(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=J_(e,n-e.l,r);s[3]=Ma(o,null,a,r.supbooks,r)}else e.l=n;return s}function Hme(e,t,r){var n=e.l+t,a=qs(e);a.r=r["!row"];var i=Ua(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=J_(e,n-e.l,r);s[3]=Ma(o,null,a,r.supbooks,r)}else e.l=n;return s}function Gme(e,t,r){var n=e.l+t,a=qs(e);a.r=r["!row"];var i=za(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=J_(e,n-e.l,r);s[3]=Ma(o,null,a,r.supbooks,r)}else e.l=n;return s}var Kme=sh,qme=gm;function Yme(e,t){return t==null&&(t=Se(4)),t.write_shift(4,e),t}function Xme(e,t){var r=e.l+t,n=sh(e),a=eI(e),i=za(e),s=za(e),o=za(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function Qme(e,t){var r=Se(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));gm({s:Kr(e[0]),e:Kr(e[0])},r),tI("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return aa(a||"",r),aa(e[1].Tooltip||"",r),aa("",r),r.slice(0,r.l)}function Jme(){}function Zme(e,t,r){var n=e.l+t,a=G7(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=E0e(e,n-e.l,r);s[1]=o}else e.l=n;return s}function epe(e,t,r){var n=e.l+t,a=sh(e),i=[a];if(r.cellFormula){var s=T0e(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function tpe(e,t,r){r==null&&(r=Se(18));var n=Z_(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Xz=["left","right","top","bottom","header","footer"];function rpe(e){var t={};return Xz.forEach(function(r){t[r]=Ua(e)}),t}function npe(e,t){return t==null&&(t=Se(6*8)),af(e),Xz.forEach(function(r){Tf(e[r],t)}),t}function ape(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function ipe(e,t,r){r==null&&(r=Se(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function spe(e){var t=Se(24);return t.write_shift(4,4),t.write_shift(4,1),gm(e,t),t}function ope(e,t){return t==null&&(t=Se(16*4+2)),t.write_shift(2,e.password?lI(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function lpe(){}function cpe(){}function upe(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,m,p,g,v,y,x,b,E,k,C=[];o.biff=12,o["!row"]=0;var S=0,_=!1,T=[],P={},N=o.supbooks||a.supbooks||[[]];if(N.sharedf=P,N.arrayf=T,N.SheetNames=a.SheetNames||a.Sheets.map(function(z){return z.name}),!o.supbooks&&(o.supbooks=N,a.Names))for(var O=0;O<a.Names.length;++O)N[0][O+1]=a.Names[O];var D=[],X=[],te=!1;lv[16]={n:"BrtShortReal",f:Yz};var ne;if(Cc(e,function(j,ce,ee){if(!h)switch(ee){case 148:c=j;break;case 0:m=j,o.sheetRows&&o.sheetRows<=m.r&&(h=!0),E=xn(v=m.r),o["!row"]=m.r,(j.hidden||j.hpt||j.level!=null)&&(j.hpt&&(j.hpx=$0(j.hpt)),X[j.r]=j);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(p={t:j[2]},j[2]){case"n":p.v=j[1];break;case"s":b=cg[j[1]],p.v=b.t,p.r=b.r;break;case"b":p.v=!!j[1];break;case"e":p.v=j[1],o.cellText!==!1&&(p.w=kc[p.v]);break;case"str":p.t="s",p.v=j[1];break;case"is":p.t="s",p.v=j[1].t;break}if((g=s.CellXf[j[0].iStyleRef])&&Gz(p,g.numFmtId,null,o,i,s),y=j[0].c==-1?y+1:j[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=p):l[Gr(y)+E]=p,o.cellFormula){for(_=!1,S=0;S<T.length;++S){var M=T[S];m.r>=M[0].s.r&&m.r<=M[0].e.r&&y>=M[0].s.c&&y<=M[0].e.c&&(p.F=_t(M[0]),_=!0)}!_&&j.length>3&&(p.f=j[3])}if(u.s.r>m.r&&(u.s.r=m.r),u.s.c>y&&(u.s.c=y),u.e.r<m.r&&(u.e.r=m.r),u.e.c<y&&(u.e.c=y),o.cellDates&&g&&p.t=="n"&&hm(ut[g.numFmtId])){var H=Wd(p.v);H&&(p.t="d",p.v=new Date(H.y,H.m-1,H.d,H.H,H.M,H.S,H.u))}ne&&(ne.type=="XLDAPR"&&(p.D=!0),ne=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;p={t:"z",v:void 0},y=j[0].c==-1?y+1:j[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=p):l[Gr(y)+E]=p,u.s.r>m.r&&(u.s.r=m.r),u.s.c>y&&(u.s.c=y),u.e.r<m.r&&(u.e.r=m.r),u.e.c<y&&(u.e.c=y),ne&&(ne.type=="XLDAPR"&&(p.D=!0),ne=void 0);break;case 176:C.push(j);break;case 49:ne=((o.xlmeta||{}).Cell||[])[j-1];break;case 494:var U=n["!id"][j.relId];for(U?(j.Target=U.Target,j.loc&&(j.Target+="#"+j.loc),j.Rel=U):j.relId==""&&(j.Target="#"+j.loc),v=j.rfx.s.r;v<=j.rfx.e.r;++v)for(y=j.rfx.s.c;y<=j.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=j):(x=dt({c:y,r:v}),l[x]||(l[x]={t:"z",v:void 0}),l[x].l=j);break;case 426:if(!o.cellFormula)break;T.push(j),k=o.dense?l[v][y]:l[Gr(y)+E],k.f=Ma(j[1],u,{r:m.r,c:y},N,o),k.F=_t(j[0]);break;case 427:if(!o.cellFormula)break;P[dt(j[0].s)]=j[1],k=o.dense?l[v][y]:l[Gr(y)+E],k.f=Ma(j[1],u,{r:m.r,c:y},N,o);break;case 60:if(!o.cellStyles)break;for(;j.e>=j.s;)D[j.e--]={width:j.w/256,hidden:!!(j.flags&1),level:j.level},te||(te=!0,cI(j.w/256)),Mu(D[j.e+1]);break;case 161:l["!autofilter"]={ref:_t(j)};break;case 476:l["!margins"]=j;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),j.name&&(a.Sheets[r].CodeName=j.name),(j.above||j.left)&&(l["!outline"]={above:j.above,left:j.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),j.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ce.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+ee.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=_t(c||u)),o.sheetRows&&l["!ref"]){var Q=Kt(l["!ref"]);o.sheetRows<=+Q.e.r&&(Q.e.r=o.sheetRows-1,Q.e.r>u.e.r&&(Q.e.r=u.e.r),Q.e.r<Q.s.r&&(Q.s.r=Q.e.r),Q.e.c>u.e.c&&(Q.e.c=u.e.c),Q.e.c<Q.s.c&&(Q.s.c=Q.e.c),l["!fullref"]=l["!ref"],l["!ref"]=_t(Q))}return C.length>0&&(l["!merges"]=C),D.length>0&&(l["!cols"]=D),X.length>0&&(l["!rows"]=X),l}function dpe(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=jr(t),t.z=t.z||ut[14],t.v=Vn(Dr(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var l={r,c:n};switch(l.s=id(a.cellXfs,t,a),t.l&&i["!links"].push([dt(l),t.l]),t.c&&i["!comments"].push([dt(l),t.c]),t.t){case"s":case"str":return a.bookSST?(o=mI(a.Strings,t.v,a.revStrings),l.t="s",l.v=o,s?Pe(e,18,Pme(t,l)):Pe(e,7,kme(t,l))):(l.t="str",s?Pe(e,17,Vme(t,l)):Pe(e,6,Bme(t,l))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?Pe(e,13,Fme(t,l)):Pe(e,2,Rme(t,l)):s?Pe(e,16,Dme(t,l)):Pe(e,5,Ome(t,l)),!0;case"b":return l.t="b",s?Pe(e,15,_me(t,l)):Pe(e,4,wme(t,l)),!0;case"e":return l.t="e",s?Pe(e,14,Ame(t,l)):Pe(e,3,Sme(t,l)),!0}return s?Pe(e,12,yme(t,l)):Pe(e,1,gme(t,l)),!0}function fpe(e,t,r,n){var a=Kt(t["!ref"]||"A1"),i,s="",o=[];Pe(e,145);var l=Array.isArray(t),c=a.e.r;t["!rows"]&&(c=Math.max(a.e.r,t["!rows"].length-1));for(var u=a.s.r;u<=c;++u){s=xn(u),cme(e,t,a,u);var f=!1;if(u<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){u===a.s.r&&(o[h]=Gr(h)),i=o[h]+s;var m=l?(t[u]||[])[h]:t[i];if(!m){f=!1;continue}f=dpe(e,m,u,h,n,t,f)}}Pe(e,146)}function hpe(e,t){!t||!t["!merges"]||(Pe(e,177,Yme(t["!merges"].length)),t["!merges"].forEach(function(r){Pe(e,176,qme(r))}),Pe(e,178))}function mpe(e,t){!t||!t["!cols"]||(Pe(e,390),t["!cols"].forEach(function(r,n){r&&Pe(e,60,tpe(n,r))}),Pe(e,391))}function ppe(e,t){!t||!t["!ref"]||(Pe(e,648),Pe(e,649,spe(Kt(t["!ref"]))),Pe(e,650))}function gpe(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=ir(r,-1,n[1].Target.replace(/#.*$/,""),Pt.HLINK);Pe(e,494,Qme(n,a))}}),delete t["!links"]}function vpe(e,t,r,n){if(t["!comments"].length>0){var a=ir(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Pt.VML);Pe(e,551,tI("rId"+a)),t["!legacy"]=a}}function ype(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:_t(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=Fi(i);o.s.r==o.e.r&&(o.e.r=Fi(t["!ref"]).e.r,i=_t(o));for(var l=0;l<s.length;++l){var c=s[l];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+i;break}}l==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),Pe(e,161,gm(Kt(i))),Pe(e,162)}}function xpe(e,t,r){Pe(e,133),Pe(e,137,ipe(t,r)),Pe(e,138),Pe(e,134)}function wpe(e,t){t["!protect"]&&Pe(e,535,ope(t["!protect"]))}function bpe(e,t,r,n){var a=Ii(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var l=Kt(s["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],Pe(a,129),(r.vbaraw||s["!outline"])&&Pe(a,147,mme(o,s["!outline"])),Pe(a,148,dme(l)),xpe(a,s,r.Workbook),mpe(a,s),fpe(a,s,e,t),wpe(a,s),ype(a,s,r,e),hpe(a,s),gpe(a,s,n),s["!margins"]&&Pe(a,476,npe(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&ppe(a,s),vpe(a,s,e,n),Pe(a,130),a.end()}function _pe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Gt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function Epe(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=_pe(f);u.s.r=u.s.c=0,u.e.c=o,c=Gr(o),h[0].forEach(function(m,p){s[c+xn(p)]={t:"n",v:m,z:h[1]},l=p}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=_t(u)),s}function Spe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(Kz);return o&&pI(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Tpe(e,t){e.l+=10;var r=za(e);return{name:r}}function Ape(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Cc(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var gI=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Cpe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],kpe=[],Npe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function W3(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Pr(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function H3(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Pr(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function Qz(e){H3(e.WBProps,gI),H3(e.CalcPr,Npe),W3(e.WBView,Cpe),W3(e.Sheets,kpe),y0.date1904=Pr(e.WBProps.date1904)}function Ppe(e){return!e.Workbook||!e.Workbook.WBProps?"false":Pr(e.Workbook.WBProps.date1904)?"true":"false"}var Ipe="][*?/\\".split("");function Jz(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Ipe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function Ope(e,t,r){e.forEach(function(n,a){Jz(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function Dpe(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];Ope(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)P0e(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}var jpe=/<\w+:workbook/;function Rpe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Xa,function(l,c){var u=pt(l);switch(bl(u[0])){case"<?xml":break;case"<workbook":l.match(jpe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":gI.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Pr(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=hr(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Gt(hr(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=hr(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Pr(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=Gt(hr(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),rh.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Qz(r),r}function Zz(e){var t=[wn];t[t.length]=Le("workbook",null,{xmlns:rh[0],"xmlns:r":$n.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(gI.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=Le("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:or(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=Le("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(t[t.length]=Le("definedName",or(o.Ref),l))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Mpe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=xC(e),r.name=za(e),r}function Fpe(e,t){return t||(t=Se(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),tI(e.strRelID,t),aa(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Lpe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?za(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function $pe(e,t){t||(t=Se(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),W7(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function Bpe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Upe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=vle(e),s=S0e(e,0,r),o=eI(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function Vpe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],lv[16]={n:"BrtFRTArchID$",f:Bpe},Cc(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Ma(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),Qz(r),r.Names=i,r.supbooks=s,r}function zpe(e,t){Pe(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};Pe(e,156,Fpe(a))}Pe(e,144)}function Wpe(e,t){t||(t=Se(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return aa("SheetJS",t),aa(Mw.version,t),aa(Mw.version,t),aa("7262",t),t.length>t.l?t.slice(0,t.l):t}function Hpe(e,t){t||(t=Se(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function Gpe(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(Pe(e,135),Pe(e,158,Hpe(a)),Pe(e,136))}}function Kpe(e,t){var r=Ii();return Pe(r,131),Pe(r,128,Wpe()),Pe(r,153,$pe(e.Workbook&&e.Workbook.WBProps||null)),Gpe(r,e),zpe(r,e),Pe(r,132),r.end()}function qpe(e,t,r){return t.slice(-4)===".bin"?Vpe(e,r):Rpe(e,r)}function Ype(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?upe(e,n,r,a,i,s,o):U0e(e,n,r,a,i,s,o)}function Xpe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Ape(e,n,r,a,i):Spe(e,n,r,a,i)}function Qpe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Zfe():ehe()}function Jpe(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Qfe():Jfe()}function Zpe(e,t,r,n){return t.slice(-4)===".bin"?qde(e,r,n):Mde(e,r,n)}function ege(e,t,r){return Dz(e,r)}function tge(e,t,r){return t.slice(-4)===".bin"?tde(e,r):Jue(e,r)}function rge(e,t,r){return t.slice(-4)===".bin"?Gfe(e,r):Ffe(e,r)}function nge(e,t,r){return t.slice(-4)===".bin"?jfe(e):Ofe(e)}function age(e,t,r,n){return r.slice(-4)===".bin"?Rfe(e,t,r,n):void 0}function ige(e,t,r){return t.slice(-4)===".bin"?Nfe(e,t,r):Ife(e,t,r)}function sge(e,t,r){return(t.slice(-4)===".bin"?Kpe:Zz)(e)}function oge(e,t,r,n,a){return(t.slice(-4)===".bin"?bpe:qz)(e,r,n,a)}function lge(e,t,r){return(t.slice(-4)===".bin"?afe:Iz)(e,r)}function cge(e,t,r){return(t.slice(-4)===".bin"?ade:Ez)(e,r)}function uge(e,t,r){return(t.slice(-4)===".bin"?Kfe:Mz)(e)}function dge(e){return(e.slice(-4)===".bin"?Pfe:jz)()}var eW=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,tW=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function oo(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(eW),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(tW),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function fge(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(eW),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(tW),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var dg;function hge(e,t){var r=dg[e]||Gt(e);return r==="General"?Ef(t):Vs(r,t)}function mge(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Pr(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Dr(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Gt(t)]=a}function pge(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||kc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zg(e.v):e.w=Ef(e.v):e.w=hge(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=dg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&hm(n)){var a=Wd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function gge(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=kde[n.Pattern]||n.Pattern)}e[t.ID]=t}function vge(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var m=[],p=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&m.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Pr(e);break;case"String":n.t="s",n.r=l3(Gt(e)),n.v=e.indexOf("<")>-1?Gt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Dr(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Gt(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Y7[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=l3(t||e));break}if(pge(n,u,c),c.cellFormula!==!1)if(n.Formula){var g=Gt(n.Formula);g.charCodeAt(0)==61&&(g=g.slice(1)),n.f=v0(g,a),delete n.Formula,n.ArrayRange=="RC"?n.F=v0("RC:RC",a):n.ArrayRange&&(n.F=v0(n.ArrayRange,a),l.push([Kt(n.F),n.F]))}else for(p=0;p<l.length;++p)a.r>=l[p][0].s.r&&a.r<=l[p][0].e.r&&a.c>=l[p][0].s.c&&a.c<=l[p][0].e.c&&(n.F=l[p][1]);c.cellStyles&&(m.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function yge(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function H2(e,t){var r=t||{};mm();var n=Fp(qP(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=hr(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=jr(r);return s.type="string",L0.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ve){a.indexOf("<"+Ve)>=0&&(i=!0)}),i)return nve(n,r);dg={"General Number":"General","General Date":ut[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ut[15],"Short Date":ut[14],"Long Time":ut[19],"Medium Time":ut[18],"Short Time":ut[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ut[2],Standard:ut[4],Percent:ut[10],Scientific:ut[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},m="",p={},g={},v=oo('<Data ss:Type="String">'),y=0,x=0,b=0,E={s:{r:2e6,c:2e6},e:{r:0,c:0}},k={},C={},S="",_=0,T=[],P={},N={},O=0,D=[],X=[],te={},ne=[],Q,z=!1,j=[],ce=[],ee={},M=0,H=0,U={Sheets:[],WBProps:{date1904:!1}},G={};rv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ae="";o=rv.exec(n);)switch(o[3]=(ae=o[3]).toLowerCase()){case"data":if(ae=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?vge(n.slice(y,o.index),S,v,l[l.length-1][0]=="comment"?te:p,{c:x,r:b},k,ne[x],g,j,r):(S="",v=oo(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(X.length>0&&(p.c=X),(!r.sheetRows||r.sheetRows>b)&&p.v!==void 0&&(r.dense?(h[b]||(h[b]=[]),h[b][x]=p):h[Gr(x)+xn(b)]=p),p.HRef&&(p.l={Target:Gt(p.HRef)},p.HRefScreenTip&&(p.l.Tooltip=p.HRefScreenTip),delete p.HRef,delete p.HRefScreenTip),(p.MergeAcross||p.MergeDown)&&(M=x+(parseInt(p.MergeAcross,10)|0),H=b+(parseInt(p.MergeDown,10)|0),T.push({s:{c:x,r:b},e:{c:M,r:H}})),!r.sheetStubs)p.MergeAcross?x=M+1:++x;else if(p.MergeAcross||p.MergeDown){for(var de=x;de<=M;++de)for(var xe=b;xe<=H;++xe)(de>x||xe>b)&&(r.dense?(h[xe]||(h[xe]=[]),h[xe][de]={t:"z"}):h[Gr(de)+xn(xe)]={t:"z"});x=M+1}else++x;else p=fge(o[0]),p.Index&&(x=+p.Index-1),x<E.s.c&&(E.s.c=x),x>E.e.c&&(E.e.c=x),o[0].slice(-2)==="/>"&&++x,X=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(b<E.s.r&&(E.s.r=b),b>E.e.r&&(E.e.r=b),o[0].slice(-2)==="/>"&&(g=oo(o[0]),g.Index&&(b=+g.Index-1)),x=0,++b):(g=oo(o[0]),g.Index&&(b=+g.Index-1),ee={},(g.AutoFitHeight=="0"||g.Height)&&(ee.hpx=parseInt(g.Height,10),ee.hpt=ov(ee.hpx),ce[b]=ee),g.Hidden=="1"&&(ee.hidden=!0,ce[b]=ee));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(m),E.s.r<=E.e.r&&E.s.c<=E.e.c&&(h["!ref"]=_t(E),r.sheetRows&&r.sheetRows<=E.e.r&&(h["!fullref"]=h["!ref"],E.e.r=r.sheetRows-1,h["!ref"]=_t(E))),T.length&&(h["!merges"]=T),ne.length>0&&(h["!cols"]=ne),ce.length>0&&(h["!rows"]=ce),u[m]=h}else E={s:{r:2e6,c:2e6},e:{r:0,c:0}},b=x=0,l.push([o[3],!1]),c=oo(o[0]),m=Gt(c.Name),h=r.dense?[]:{},T=[],j=[],ce=[],G={name:m,Hidden:0},U.Sheets.push(G);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),ne=[],z=!1}break;case"style":o[1]==="/"?gge(k,C,r):C=oo(o[0]);break;case"numberformat":C.nf=Gt(oo(o[0]).Format||"General"),dg[C.nf]&&(C.nf=dg[C.nf]);for(var Z=0;Z!=392&&ut[Z]!=C.nf;++Z);if(Z==392){for(Z=57;Z!=392;++Z)if(ut[Z]==null){ec(C.nf,Z);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Q=oo(o[0]),Q.Hidden&&(Q.hidden=!0,delete Q.Hidden),Q.Width&&(Q.wpx=parseInt(Q.Width,10)),!z&&Q.wpx>10){z=!0,La=Nz;for(var ie=0;ie<ne.length;++ie)ne[ie]&&Mu(ne[ie])}z&&Mu(Q),ne[Q.Index-1||ne.length]=Q;for(var we=0;we<+Q.Span;++we)ne[ne.length]=jr(Q);break;case"namedrange":if(o[1]==="/")break;U.Names||(U.Names=[]);var F=pt(o[0]),Me={Name:F.Name,Ref:v0(F.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(Me.Sheet=U.Sheets.length-1),U.Names.push(Me);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?S+=n.slice(_,o.index):_=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;C.Interior=oo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Vle(P,ae,n.slice(O,o.index)):O=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));yge(te),X.push(te)}else l.push([o[3],!1]),c=oo(o[0]),te={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ce=oo(o[0]);h["!autofilter"]={ref:v0(Ce.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return X3(n,r);var Be=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Be=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Be=!1}break;case"excelworkbook":switch(o[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Be=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Be=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(O,o.index)){case"SheetHidden":G.Hidden=1;break;case"SheetVeryHidden":G.Hidden=2;break}else O=o.index+o[0].length;break;case"header":h["!margins"]||af(h["!margins"]={},"xlml"),isNaN(+pt(o[0]).Margin)||(h["!margins"].header=+pt(o[0]).Margin);break;case"footer":h["!margins"]||af(h["!margins"]={},"xlml"),isNaN(+pt(o[0]).Margin)||(h["!margins"].footer=+pt(o[0]).Margin);break;case"pagemargins":var Ie=pt(o[0]);h["!margins"]||af(h["!margins"]={},"xlml"),isNaN(+Ie.Top)||(h["!margins"].top=+Ie.Top),isNaN(+Ie.Left)||(h["!margins"].left=+Ie.Left),isNaN(+Ie.Right)||(h["!margins"].right=+Ie.Right),isNaN(+Ie.Bottom)||(h["!margins"].bottom=+Ie.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Be=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Be=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Be=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Be=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Be=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Be=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Be=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Be=!1}break;case"smarttags":break;default:Be=!1;break}if(Be||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?mge(N,ae,D,n.slice(O,o.index)):(D=o,O=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var re={};return!r.bookSheets&&!r.bookProps&&(re.Sheets=u),re.SheetNames=f,re.Workbook=U,re.SSF=jr(ut),re.Props=P,re.Custprops=N,re}function AC(e,t){switch(yI(t=t||{}),t.type||"base64"){case"base64":return H2(is(e),t);case"binary":case"buffer":case"file":return H2(e,t);case"array":return H2(nd(e),t)}}function xge(e,t){var r=[];return e.Props&&r.push(zle(e.Props,t)),e.Custprops&&r.push(Wle(e.Props,e.Custprops)),r.join("")}function wge(){return""}function bge(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(Le("NumberFormat",null,{"ss:Format":or(ut[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(Le("Style",i.join(""),s))}),Le("Styles",r.join(""))}function rW(e){return Le("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+fI(e.Ref,{r:0,c:0})})}function _ge(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(rW(a)))}return Le("Names",r.join(""))}function Ege(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(rW(o)))}return i.join("")}function Sge(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(Le("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(Le("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(Le("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(Le("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ba("ProtectContents","True")),e["!protect"].objects&&a.push(ba("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ba("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ba("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ba("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":Le("WorksheetOptions",a.join(""),{xmlns:Hi.x})}function Tge(e){return e.map(function(t){var r=Goe(t.t||""),n=Le("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return Le("Comment",n,{"ss:Author":t.a})}).join("")}function Age(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+or(fI(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var l=Kr(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==s.r?"":"["+(l.r-s.r)+"]")+"C"+(l.c==s.c?"":"["+(l.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=or(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=or(e.l.Tooltip))),r["!merges"])for(var c=r["!merges"],u=0;u!=c.length;++u)c[u].s.c!=s.c||c[u].s.r!=s.r||(c[u].e.c>c[u].s.c&&(o["ss:MergeAcross"]=c[u].e.c-c[u].s.c),c[u].e.r>c[u].s.r&&(o["ss:MergeDown"]=c[u].e.r-c[u].s.r));var f="",h="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",h=String(e.v);break;case"b":f="Boolean",h=e.v?"1":"0";break;case"e":f="Error",h=kc[e.v];break;case"d":f="DateTime",h=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||ut[14]);break;case"s":f="String",h=Hoe(e.v||"");break}var m=id(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+m),o["ss:Index"]=s.c+1;var p=e.v!=null?h:"",g=e.t=="z"?"":'<Data ss:Type="'+f+'">'+p+"</Data>";return(e.c||[]).length>0&&(g+=Tge(e.c)),Le("Cell",g,o)}function Cge(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=$0(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function kge(e,t,r,n){if(!e["!ref"])return"";var a=Kt(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(v,y){Mu(v);var x=!!v.width,b=Z_(y,v),E={"ss:Index":y+1};x&&(E["ss:Width"]=iv(b.width)),v.hidden&&(E["ss:Hidden"]="1"),o.push(Le("Column",null,E))});for(var l=Array.isArray(e),c=a.s.r;c<=a.e.r;++c){for(var u=[Cge(c,(e["!rows"]||[])[c])],f=a.s.c;f<=a.e.c;++f){var h=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>f)&&!(i[s].s.r>c)&&!(i[s].e.c<f)&&!(i[s].e.r<c)){(i[s].s.c!=f||i[s].s.r!=c)&&(h=!0);break}if(!h){var m={r:c,c:f},p=dt(m),g=l?(e[c]||[])[f]:e[p];u.push(Age(g,p,e,t,r,n,m))}}u.push("</Row>"),u.length>2&&o.push(u.join(""))}return o.join("")}function Nge(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?Ege(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?kge(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(Sge(i,t,e,r)),n.join("")}function Pge(e,t){t||(t={}),e.SSF||(e.SSF=jr(ut)),e.SSF&&(mm(),G_(e.SSF),t.revssf=q_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],id(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(xge(e,t)),r.push(wge()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(Le("Worksheet",Nge(n,t,e),{"ss:Name":or(e.SheetNames[n])}));return r[2]=bge(e,t),r[3]=_ge(e),wn+Le("Workbook",r.join(""),{xmlns:Hi.ss,"xmlns:o":Hi.o,"xmlns:x":Hi.x,"xmlns:ss":Hi.ss,"xmlns:dt":Hi.dt,"xmlns:html":Hi.html})}function Ige(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=_le(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Ele(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Oge=[60,1084,2066,2165,2175];function Dge(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=zl(r,r.l),c=CC[l],u=0;c!=null&&Oge.indexOf(l)>-1;)i=zl(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=CC[l=zl(r,r.l)];var f=ta(s);wa(f,0);var h=0;f.lens=[];for(var m=0;m<s.length;++m)f.lens.push(h),h+=s[m].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Uo(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=ut[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||kc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Zg(e.v):e.w=Ef(e.v):e.w=Vs(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&hm(ut[n]||String(n))){var a=Wd(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Xx(e,t,r){return{v:e,ixfe:t,t:r}}function jge(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",m,p,g,v,y={},x=[],b,E,k=[],C=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},_={},T=function(wt){return wt<8?tf[wt]:wt<64&&C[wt-8]||tf[wt]},P=function(wt,dr,un){var pr=dr.XF.data;if(!(!pr||!pr.patternType||!un||!un.cellStyles)){dr.s={},dr.s.patternType=pr.patternType;var ei;(ei=av(T(pr.icvFore)))&&(dr.s.fgColor={rgb:ei}),(ei=av(T(pr.icvBack)))&&(dr.s.bgColor={rgb:ei})}},N=function(wt,dr,un){if(!(ee>1)&&!(un.sheetRows&&wt.r>=un.sheetRows)){if(un.cellStyles&&dr.XF&&dr.XF.data&&P(wt,dr,un),delete dr.ixfe,delete dr.XF,f=wt,h=dt(wt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),wt.r<s.s.r&&(s.s.r=wt.r),wt.c<s.s.c&&(s.s.c=wt.c),wt.r+1>s.e.r&&(s.e.r=wt.r+1),wt.c+1>s.e.c&&(s.e.c=wt.c+1),un.cellFormula&&dr.f){for(var pr=0;pr<x.length;++pr)if(!(x[pr][0].s.c>wt.c||x[pr][0].s.r>wt.r)&&!(x[pr][0].e.c<wt.c||x[pr][0].e.r<wt.r)){dr.F=_t(x[pr][0]),(x[pr][0].s.c!=wt.c||x[pr][0].s.r!=wt.r)&&delete dr.f,dr.f&&(dr.f=""+Ma(x[pr][1],s,wt,j,O));break}}un.dense?(a[wt.r]||(a[wt.r]=[]),a[wt.r][wt.c]=dr):a[h]=dr}},O={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:x,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(O.password=t.password);var D,X=[],te=[],ne=[],Q=[],z=!1,j=[];j.SheetNames=O.snames,j.sharedf=O.sharedf,j.arrayf=O.arrayf,j.names=[],j.XTI=[];var ce=0,ee=0,M=0,H=[],U=[],G;O.codepage=1200,vo(1200);for(var ae=!1;e.l<e.length-1;){var de=e.l,xe=e.read_shift(2);if(xe===0&&ce===10)break;var Z=e.l===e.length?0:e.read_shift(2),ie=CC[xe];if(ie&&ie.f){if(t.bookSheets&&ce===133&&xe!==133)break;if(ce=xe,ie.r===2||ie.r==12){var we=e.read_shift(2);if(Z-=2,!O.enc&&we!==xe&&((we&255)<<8|we>>8)!==xe)throw new Error("rt mismatch: "+we+"!="+xe);ie.r==12&&(e.l+=10,Z-=10)}var F={};if(xe===10?F=ie.f(e,Z,O):F=Dge(xe,ie,e,Z,O),ee==0&&[9,521,1033,2057].indexOf(ce)===-1)continue;switch(xe){case 34:r.opts.Date1904=S.WBProps.date1904=F;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(O.enc||(e.l=0),O.enc=F,!t.password)throw new Error("File is password-protected");if(F.valid==null)throw new Error("Encryption scheme unsupported");if(!F.valid)throw new Error("Password is incorrect");break;case 92:O.lastuser=F;break;case 66:var Me=Number(F);switch(Me){case 21010:Me=1200;break;case 32768:Me=1e4;break;case 32769:Me=1252;break}vo(O.codepage=Me),ae=!0;break;case 317:O.rrtabid=F;break;case 25:O.winlocked=F;break;case 439:r.opts.RefreshAll=F;break;case 12:r.opts.CalcCount=F;break;case 16:r.opts.CalcDelta=F;break;case 17:r.opts.CalcIter=F;break;case 13:r.opts.CalcMode=F;break;case 14:r.opts.CalcPrecision=F;break;case 95:r.opts.CalcSaveRecalc=F;break;case 15:O.CalcRefMode=F;break;case 2211:r.opts.FullCalc=F;break;case 129:F.fDialog&&(a["!type"]="dialog"),F.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),F.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:k.push(F);break;case 430:j.push([F]),j[j.length-1].XTI=[];break;case 35:case 547:j[j.length-1].push(F);break;case 24:case 536:G={Name:F.Name,Ref:Ma(F.rgce,s,null,j,O)},F.itab>0&&(G.Sheet=F.itab-1),j.names.push(G),j[0]||(j[0]=[],j[0].XTI=[]),j[j.length-1].push(F),F.Name=="_xlnm._FilterDatabase"&&F.itab>0&&F.rgce&&F.rgce[0]&&F.rgce[0][0]&&F.rgce[0][0][0]=="PtgArea3d"&&(U[F.itab-1]={ref:_t(F.rgce[0][0][1][2])});break;case 22:O.ExternCount=F;break;case 23:j.length==0&&(j[0]=[],j[0].XTI=[]),j[j.length-1].XTI=j[j.length-1].XTI.concat(F),j.XTI=j.XTI.concat(F);break;case 2196:if(O.biff<8)break;G!=null&&(G.Comment=F[1]);break;case 18:a["!protect"]=F;break;case 19:F!==0&&O.WTF&&console.error("Password verifier: "+F);break;case 133:i[F.pos]=F,O.snames.push(F.name);break;case 10:{if(--ee)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=_t(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ce=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=_t(s),s.e.r=Ce}s.e.r++,s.e.c++}X.length>0&&(a["!merges"]=X),te.length>0&&(a["!objects"]=te),ne.length>0&&(a["!cols"]=ne),Q.length>0&&(a["!rows"]=Q),S.Sheets.push(_)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(O.biff===8&&(O.biff={9:2,521:3,1033:4}[xe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[F.BIFFVer]||8),O.biffguess=F.BIFFVer==0,F.BIFFVer==0&&F.dt==4096&&(O.biff=5,ae=!0,vo(O.codepage=28591)),O.biff==8&&F.BIFFVer==0&&F.dt==16&&(O.biff=2),ee++)break;if(a=t.dense?[]:{},O.biff<8&&!ae&&(ae=!0,vo(O.codepage=t.codepage||1252)),O.biff<5||F.BIFFVer==0&&F.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Be={pos:e.l-Z,name:c};i[Be.pos]=Be,O.snames.push(c)}else c=(i[de]||{name:""}).name;F.dt==32&&(a["!type"]="chart"),F.dt==64&&(a["!type"]="macro"),X=[],te=[],O.arrayf=x=[],ne=[],Q=[],z=!1,_={Hidden:(i[de]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[F.r]||[])[F.c]:a[dt({c:F.c,r:F.r})])&&++F.c,b={ixfe:F.ixfe,XF:k[F.ixfe]||{},v:F.val,t:"n"},M>0&&(b.z=H[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),N({c:F.c,r:F.r},b,t);break;case 5:case 517:b={ixfe:F.ixfe,XF:k[F.ixfe],v:F.val,t:F.t},M>0&&(b.z=H[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),N({c:F.c,r:F.r},b,t);break;case 638:b={ixfe:F.ixfe,XF:k[F.ixfe],v:F.rknum,t:"n"},M>0&&(b.z=H[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),N({c:F.c,r:F.r},b,t);break;case 189:for(var Ie=F.c;Ie<=F.C;++Ie){var re=F.rkrec[Ie-F.c][0];b={ixfe:re,XF:k[re],v:F.rkrec[Ie-F.c][1],t:"n"},M>0&&(b.z=H[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),N({c:Ie,r:F.r},b,t)}break;case 6:case 518:case 1030:{if(F.val=="String"){o=F;break}if(b=Xx(F.val,F.cell.ixfe,F.tt),b.XF=k[b.ixfe],t.cellFormula){var Ve=F.formula;if(Ve&&Ve[0]&&Ve[0][0]&&Ve[0][0][0]=="PtgExp"){var bt=Ve[0][0][1][0],ot=Ve[0][0][1][1],Lt=dt({r:bt,c:ot});y[Lt]?b.f=""+Ma(F.formula,s,F.cell,j,O):b.F=((t.dense?(a[bt]||[])[ot]:a[Lt])||{}).F}else b.f=""+Ma(F.formula,s,F.cell,j,O)}M>0&&(b.z=H[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),N(F.cell,b,t),o=F}break;case 7:case 519:if(o)o.val=F,b=Xx(F,o.cell.ixfe,"s"),b.XF=k[b.ixfe],t.cellFormula&&(b.f=""+Ma(o.formula,s,o.cell,j,O)),M>0&&(b.z=H[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),N(o.cell,b,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{x.push(F);var Yn=dt(F[0].s);if(m=t.dense?(a[F[0].s.r]||[])[F[0].s.c]:a[Yn],t.cellFormula&&m){if(!o||!Yn||!m)break;m.f=""+Ma(F[1],s,F[0],j,O),m.F=_t(F[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[dt(o.cell)]=F[0],m=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[dt(o.cell)],(m||{}).f=""+Ma(F[0],s,f,j,O)}}break;case 253:b=Xx(l[F.isst].t,F.ixfe,"s"),l[F.isst].h&&(b.h=l[F.isst].h),b.XF=k[b.ixfe],M>0&&(b.z=H[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),N({c:F.c,r:F.r},b,t);break;case 513:t.sheetStubs&&(b={ixfe:F.ixfe,XF:k[F.ixfe],t:"z"},M>0&&(b.z=H[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),N({c:F.c,r:F.r},b,t));break;case 190:if(t.sheetStubs)for(var qt=F.c;qt<=F.C;++qt){var Yt=F.ixfe[qt-F.c];b={ixfe:Yt,XF:k[Yt],t:"z"},M>0&&(b.z=H[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),N({c:qt,r:F.r},b,t)}break;case 214:case 516:case 4:b=Xx(F.val,F.ixfe,"s"),b.XF=k[b.ixfe],M>0&&(b.z=H[b.ixfe>>8&63]),Uo(b,t,r.opts.Date1904),N({c:F.c,r:F.r},b,t);break;case 0:case 512:ee===1&&(s=F);break;case 252:l=F;break;case 1054:if(O.biff==4){H[M++]=F[1];for(var vt=0;vt<M+163&&ut[vt]!=F[1];++vt);vt>=163&&ec(F[1],M+163)}else ec(F[1],F[0]);break;case 30:{H[M++]=F;for(var Nt=0;Nt<M+163&&ut[Nt]!=F;++Nt);Nt>=163&&ec(F,M+163)}break;case 229:X=X.concat(F);break;case 93:te[F.cmo[0]]=O.lastobj=F;break;case 438:O.lastobj.TxO=F;break;case 127:O.lastobj.ImData=F;break;case 440:for(v=F[0].s.r;v<=F[0].e.r;++v)for(g=F[0].s.c;g<=F[0].e.c;++g)m=t.dense?(a[v]||[])[g]:a[dt({c:g,r:v})],m&&(m.l=F[1]);break;case 2048:for(v=F[0].s.r;v<=F[0].e.r;++v)for(g=F[0].s.c;g<=F[0].e.c;++g)m=t.dense?(a[v]||[])[g]:a[dt({c:g,r:v})],m&&m.l&&(m.l.Tooltip=F[1]);break;case 28:{if(O.biff<=5&&O.biff>=2)break;m=t.dense?(a[F[0].r]||[])[F[0].c]:a[dt(F[0])];var ur=te[F[2]];m||(t.dense?(a[F[0].r]||(a[F[0].r]=[]),m=a[F[0].r][F[0].c]={t:"z"}):m=a[dt(F[0])]={t:"z"},s.e.r=Math.max(s.e.r,F[0].r),s.s.r=Math.min(s.s.r,F[0].r),s.e.c=Math.max(s.e.c,F[0].c),s.s.c=Math.min(s.s.c,F[0].c)),m.c||(m.c=[]),p={a:F[1],t:ur.TxO.t},m.c.push(p)}break;case 2173:bfe(k[F.ixfe],F.ext);break;case 125:{if(!O.cellStyles)break;for(;F.e>=F.s;)ne[F.e--]={width:F.w/256,level:F.level||0,hidden:!!(F.flags&1)},z||(z=!0,cI(F.w/256)),Mu(ne[F.e+1])}break;case 520:{var tr={};F.level!=null&&(Q[F.r]=tr,tr.level=F.level),F.hidden&&(Q[F.r]=tr,tr.hidden=!0),F.hpt&&(Q[F.r]=tr,tr.hpt=F.hpt,tr.hpx=$0(F.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||af(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[xe]]=F;break;case 161:a["!margins"]||af(a["!margins"]={}),a["!margins"].header=F.header,a["!margins"].footer=F.footer;break;case 574:F.RTL&&(S.Views[0].RTL=!0);break;case 146:C=F;break;case 2198:D=F;break;case 140:E=F;break;case 442:c?_.CodeName=F||_.name:S.WBProps.CodeName=F||"ThisWorkbook";break}}else ie||console.error("Missing Info for XLS Record 0x"+xe.toString(16)),e.l+=Z}return r.SheetNames=on(i).sort(function(Xn,wt){return Number(Xn)-Number(wt)}).map(function(Xn){return i[Xn].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&U.forEach(function(Xn,wt){r.Sheets[r.SheetNames[wt]]["!autofilter"]=Xn}),r.Strings=l,r.SSF=jr(ut),O.enc&&(r.Encryption=O.enc),D&&(r.Themes=D),r.Metadata={},E!==void 0&&(r.Metadata.Country=E),j.names.length>0&&(S.Names=j.names),r.Workbook=S,r}var fg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Rge(e,t,r){var n=st.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=A3(n,wC,fg.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=st.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=A3(s,bC,fg.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(tz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function Mge(e,t){var r=[],n=[],a=[],i=0,s,o=r3(wC,"n"),l=r3(bC,"n");if(e.Props)for(s=on(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=on(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(l,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var c=[];for(i=0;i<a.length;++i)lz.indexOf(a[i][0])>-1||ez.indexOf(a[i][0])>-1||a[i][1]!=null&&c.push(a[i]);n.length&&st.utils.cfb_add(t,"/SummaryInformation",C3(n,fg.SI,l,bC)),(r.length||c.length)&&st.utils.cfb_add(t,"/DocumentSummaryInformation",C3(r,fg.DSI,o,wC,c.length?c:null,fg.UDI))}function nW(e,t){t||(t={}),yI(t),$P(),t.codepage&&LP(t.codepage);var r,n;if(e.FullPaths){if(st.find(e,"/encryption"))throw new Error("File is password-protected");r=st.find(e,"!CompObj"),n=st.find(e,"/Workbook")||st.find(e,"/Book")}else{switch(t.type){case"base64":e=qi(is(e));break;case"binary":e=qi(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}wa(e,0),n={content:e}}var a,i;if(r&&Ige(r),t.bookProps&&!t.bookSheets)a={};else{var s=kt?"buffer":"array";if(n&&n.content)a=jge(n.content,t);else if((i=st.find(e,"PerfectOffice_MAIN"))&&i.content)a=nf.to_workbook(i.content,(t.type=s,t));else if((i=st.find(e,"NativeContent_MAIN"))&&i.content)a=nf.to_workbook(i.content,(t.type=s,t));else throw(i=st.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&st.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Yfe(e))}var o={};return e.FullPaths&&Rge(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}function Fge(e,t){var r=t||{},n=st.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return st.utils.cfb_add(n,a,aW(e,r)),r.biff==8&&(e.Props||e.Custprops)&&Mge(e,n),r.biff==8&&e.vbaraw&&Xfe(n,st.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var lv={0:{f:ome},1:{f:pme},2:{f:jme},3:{f:Eme},4:{f:xme},5:{f:Ime},6:{f:$me},7:{f:Cme},8:{f:Gme},9:{f:Hme},10:{f:zme},11:{f:Wme},12:{f:vme},13:{f:Mme},14:{f:Tme},15:{f:bme},16:{f:Yz},17:{f:Ume},18:{f:Nme},19:{f:ZP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Upe},40:{},42:{},43:{f:$de},44:{f:Fde},45:{f:Vde},46:{f:Wde},47:{f:zde},48:{},49:{f:ule},50:{},51:{f:Sfe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:xz},62:{f:Lme},63:{f:Dfe},64:{f:lpe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:qa,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ape},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:hme},148:{f:ume,p:16},151:{f:Jme},152:{},153:{f:Lpe},154:{},155:{},156:{f:Mpe},157:{},158:{},159:{T:1,f:ede},160:{T:-1},161:{T:1,f:sh},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:Kme},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:_fe},336:{T:-1},337:{f:Cfe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:xC},357:{},358:{},359:{},360:{T:1},361:{},362:{f:yz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Zme},427:{f:epe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:rpe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:fme},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Xme},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:xC},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Wfe},633:{T:1},634:{T:-1},635:{T:1,f:Vfe},636:{T:-1},637:{f:mle},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Tpe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:cpe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},CC={6:{f:z2},10:{f:zc},12:{f:Tn},13:{f:Tn},14:{f:dn},15:{f:dn},16:{f:Ua},17:{f:dn},18:{f:dn},19:{f:Tn},20:{f:D3},21:{f:D3},23:{f:yz},24:{f:R3},25:{f:dn},26:{},27:{},28:{f:cue},29:{},34:{f:dn},35:{f:j3},38:{f:Ua},39:{f:Ua},40:{f:Ua},41:{f:Ua},42:{f:dn},43:{f:dn},47:{f:bde},49:{f:Mce},51:{f:Tn},60:{},61:{f:Ice},64:{f:dn},65:{f:Rce},66:{f:Tn},77:{},80:{},81:{},82:{},85:{f:Tn},89:{},90:{},91:{},92:{f:wce},93:{f:fue},94:{},95:{f:dn},96:{},97:{},99:{f:dn},125:{f:xz},128:{f:Qce},129:{f:_ce},130:{f:Tn},131:{f:dn},132:{f:dn},133:{f:Ece},134:{},140:{f:wue},141:{f:Tn},144:{},146:{f:Eue},151:{},152:{},153:{},154:{},155:{},156:{f:Tn},157:{},158:{},160:{f:Pue},161:{f:Aue},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Kce},190:{f:qce},193:{f:zc},197:{},198:{},199:{},200:{},201:{},202:{f:dn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Tn},220:{},221:{f:dn},222:{},224:{f:Xce},225:{f:xce},226:{f:zc},227:{},229:{f:uue},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Tce},253:{f:Lce},255:{f:Cce},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:cz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:dn},353:{f:zc},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:rue},431:{f:dn},432:{},433:{},434:{},437:{},438:{f:pue},439:{f:dn},440:{f:gue},441:{},442:{f:fy},443:{},444:{f:Tn},445:{},446:{},448:{f:zc},449:{f:Pce,r:2},450:{f:zc},512:{f:P3},513:{f:Nue},515:{f:eue},516:{f:Bce},517:{f:O3},519:{f:Iue},520:{f:kce},523:{},545:{f:M3},549:{f:N3},566:{},574:{f:Dce},638:{f:Gce},659:{},1048:{},1054:{f:Vce},1084:{},1212:{f:sue},2048:{f:yue},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Kx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:zc},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Sue,r:12},2173:{f:wfe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:dn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:iue,r:12},2197:{},2198:{f:mfe,r:12},2199:{},2200:{},2201:{},2202:{f:oue,r:12},2203:{f:zc},2204:{},2205:{},2206:{},2207:{},2211:{f:Nce},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Tn},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Cue},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:_ue},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:P3},1:{},2:{f:Mue},3:{f:jue},4:{f:Due},5:{f:O3},7:{f:Lue},8:{},9:{f:Kx},11:{},22:{f:Tn},30:{f:Wce},31:{},32:{},33:{f:M3},36:{},37:{f:N3},50:{f:$ue},62:{},52:{},67:{},68:{f:Tn},69:{},86:{},126:{},127:{f:Oue},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Bue},223:{},234:{},354:{},421:{},518:{f:z2},521:{f:Kx},536:{f:R3},547:{f:j3},561:{},579:{},1030:{f:z2},1033:{f:Kx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function $e(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&XP(r)&&e.push(r)}}function Lge(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return $e(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,l=0,c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;var u=e.next(4);for(u.write_shift(2,i),u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c;l<a;){for(u=e.next(4),u.write_shift(2,60),c=0;c+(s[o]||8224)<=8224;)c+=s[o]||8224,o++;u.write_shift(2,c),e.push(r.slice(l,l+c)),l+=c}}}function gy(e,t,r){return e||(e=Se(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function $ge(e,t,r,n){var a=Se(9);return gy(a,e,t),uz(r,n||"b",a),a}function Bge(e,t,r){var n=Se(8+2*r.length);return gy(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function Uge(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Vn(Dr(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?$e(e,2,Fue(r,n,a)):$e(e,3,Rue(r,n,a));return;case"b":case"e":$e(e,5,$ge(r,n,t.v,t.t));return;case"s":case"str":$e(e,4,Bge(r,n,(t.v||"").slice(0,255)));return}$e(e,1,gy(null,r,n))}function Vge(e,t,r,n){var a=Array.isArray(t),i=Kt(t["!ref"]||"A1"),s,o="",l=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=_t(i)}for(var c=i.s.r;c<=i.e.r;++c){o=xn(c);for(var u=i.s.c;u<=i.e.c;++u){c===i.s.r&&(l[u]=Gr(u)),s=l[u]+o;var f=a?(t[c]||[])[u]:t[s];f&&Uge(e,f,c,u)}}}function zge(e,t){for(var r=t||{},n=Ii(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return $e(n,r.biff==4?1033:r.biff==3?521:9,sI(e,16,r)),Vge(n,e.Sheets[e.SheetNames[a]],a,r),$e(n,10),n.end()}function Wge(e,t,r){$e(e,49,Fce({sz:12,name:"Arial"},r))}function Hge(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&$e(e,1054,zce(a,t[a],r))})}function Gge(e,t){var r=Se(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),$e(e,2151,r),r=Se(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),pz(Kt(t["!ref"]||"A1"),r),r.write_shift(4,4),$e(e,2152,r)}function Kge(e,t){for(var r=0;r<16;++r)$e(e,224,I3({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){$e(e,224,I3(n,0,t))})}function qge(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];$e(e,440,vue(n)),n[1].Tooltip&&$e(e,2048,xue(n))}delete t["!links"]}function Yge(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&$e(e,125,Tue(Z_(a,n),a))})}}function Xge(e,t,r,n,a){var i=16+id(a.cellXfs,t,a);if(t.v==null&&!t.bf){$e(e,513,Cf(r,n,i));return}if(t.bf)$e(e,6,_0e(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?Vn(Dr(t.v)):t.v;$e(e,515,tue(r,n,s,i));break;case"b":case"e":$e(e,517,Zce(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=mI(a.Strings,t.v,a.revStrings);$e(e,253,$ce(r,n,o,i))}else $e(e,516,Uce(r,n,(t.v||"").slice(0,255),i,a));break;default:$e(e,513,Cf(r,n,i))}}function Qge(e,t,r){var n=Ii(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},l=Array.isArray(i),c=t.biff==8,u,f="",h=[],m=Kt(i["!ref"]||"A1"),p=c?65536:16384;if(m.e.c>255||m.e.r>=p){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");m.e.c=Math.min(m.e.c,255),m.e.r=Math.min(m.e.c,p-1)}$e(n,2057,sI(r,16,t)),$e(n,13,Cs(1)),$e(n,12,Cs(100)),$e(n,15,ni(!0)),$e(n,17,ni(!1)),$e(n,16,Tf(.001)),$e(n,95,ni(!0)),$e(n,42,ni(!1)),$e(n,43,ni(!1)),$e(n,130,Cs(1)),$e(n,128,Jce()),$e(n,131,ni(!1)),$e(n,132,ni(!1)),c&&Yge(n,i["!cols"]),$e(n,512,Hce(m,t)),c&&(i["!links"]=[]);for(var g=m.s.r;g<=m.e.r;++g){f=xn(g);for(var v=m.s.c;v<=m.e.c;++v){g===m.s.r&&(h[v]=Gr(v)),u=h[v]+f;var y=l?(i[g]||[])[v]:i[u];y&&(Xge(n,y,g,v,t),c&&y.l&&i["!links"].push([u,y.l]))}}var x=o.CodeName||o.name||a;return c&&$e(n,574,jce((s.Views||[])[0])),c&&(i["!merges"]||[]).length&&$e(n,229,due(i["!merges"])),c&&qge(n,i),$e(n,442,dz(x)),c&&Gge(n,i),$e(n,10),n.end()}function Jge(e,t,r){var n=Ii(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,l=r.biff==5;if($e(n,2057,sI(e,5,r)),r.bookType=="xla"&&$e(n,135),$e(n,225,o?Cs(1200):null),$e(n,193,Zle(2)),l&&$e(n,191),l&&$e(n,192),$e(n,226),$e(n,92,bce("SheetJS",r)),$e(n,66,Cs(o?1200:1252)),o&&$e(n,353,Cs(0)),o&&$e(n,448),$e(n,317,kue(e.SheetNames.length)),o&&e.vbaraw&&$e(n,211),o&&e.vbaraw){var c=s.CodeName||"ThisWorkbook";$e(n,442,dz(c))}$e(n,156,Cs(17)),$e(n,25,ni(!1)),$e(n,18,ni(!1)),$e(n,19,Cs(0)),o&&$e(n,431,ni(!1)),o&&$e(n,444,Cs(0)),$e(n,61,Oce()),$e(n,64,ni(!1)),$e(n,141,Cs(0)),$e(n,34,ni(Ppe(e)=="true")),$e(n,14,ni(!0)),o&&$e(n,439,ni(!1)),$e(n,218,Cs(0)),Wge(n,e,r),Hge(n,e.SSF,r),Kge(n,r),o&&$e(n,352,ni(!1));var u=n.end(),f=Ii();o&&$e(f,140,bue()),o&&r.Strings&&Lge(f,252,Ace(r.Strings)),$e(f,10);var h=f.end(),m=Ii(),p=0,g=0;for(g=0;g<e.SheetNames.length;++g)p+=(o?12:11)+(o?2:1)*e.SheetNames[g].length;var v=u.length+p+h.length;for(g=0;g<e.SheetNames.length;++g){var y=i[g]||{};$e(m,133,Sce({pos:v,hs:y.Hidden||0,dt:0,name:e.SheetNames[g]},r)),v+=t[g].length}var x=m.end();if(p!=x.length)throw new Error("BS8 "+p+" != "+x.length);var b=[];return u.length&&b.push(u),x.length&&b.push(x),h.length&&b.push(h),ta(b)}function Zge(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=jr(ut)),e&&e.SSF&&(mm(),G_(e.SSF),r.revssf=q_(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,xI(r),r.cellXfs=[],id(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=Qge(a,r,e);return n.unshift(Jge(e,n,r)),ta(n)}function aW(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Fi(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return Zge(e,t);case 4:case 3:case 2:return zge(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function G3(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=Foe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,m={s:{r:1e7,c:1e7},e:{r:0,c:0}},p=[];for(s=0;s<l.length;++s){var g=l[s].trim(),v=g.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=g.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var x=y[o].trim();if(x.match(/<t[dh]/i)){for(var b=x,E=0;b.charAt(0)=="<"&&(E=b.indexOf(">"))>-1;)b=b.slice(E+1);for(var k=0;k<p.length;++k){var C=p[k];C.s.c==u&&C.s.r<c&&c<=C.e.r&&(u=C.e.c+1,k=-1)}var S=pt(x.slice(0,x.indexOf(">")));h=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||h>1)&&p.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var _=S.t||S["data-t"]||"";if(!b.length){u+=h;continue}if(b=k7(b),m.s.r>c&&(m.s.r=c),m.e.r<c&&(m.e.r=c),m.s.c>u&&(m.s.c=u),m.e.c<u&&(m.e.c=u),!b.length){u+=h;continue}var T={t:"s",v:b};r.raw||!b.trim().length||_=="s"||(b==="TRUE"?T={t:"b",v:!0}:b==="FALSE"?T={t:"b",v:!1}:isNaN(Eo(b))?isNaN(F0(b).getDate())||(T={t:"d",v:Dr(b)},r.cellDates||(T={t:"n",v:Vn(T.v)}),T.z=r.dateNF||ut[14]):T={t:"n",v:Eo(b)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=T):n[dt({r:c,c:u})]=T,u+=h}}}}return n["!ref"]=_t(m),p.length&&(n["!merges"]=p),n}function eve(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=dt({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||KP(f.w||(fc(f),f.w)||""))||"",m={};o>1&&(m.rowspan=o),l>1&&(m.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(m["data-t"]=f&&f.t||"z",f.v!=null&&(m["data-v"]=f.v),f.z!=null&&(m["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),m.id=(n.id||"sjs")+"-"+u,i.push(Le("td",h,m))}}var p="<tr>";return p+i.join("")+"</tr>"}var tve='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',rve="</body></html>";function nve(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return ad(G3(r[0],t),t);var n=_I();return r.forEach(function(a,i){EI(n,G3(a,t),"Sheet"+(i+1))}),n}function ave(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function iW(e,t){var r=t||{},n=r.header!=null?r.header:tve,a=r.footer!=null?r.footer:rve,i=[n],s=Fi(e["!ref"]);r.dense=Array.isArray(e),i.push(ave(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(eve(e,s,o,r));return i.push("</table>"+a),i.join("")}function sW(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Kr(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Fi(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,m=e["!rows"]||(e["!rows"]=[]),p=0,g=0,v=0,y=0,x=0,b=0;for(e["!cols"]||(e["!cols"]=[]);p<o.length&&g<l;++p){var E=o[p];if(K3(E)){if(n.display)continue;m[g]={hidden:!0}}var k=E.children;for(v=y=0;v<k.length;++v){var C=k[v];if(!(n.display&&K3(C))){var S=C.hasAttribute("data-v")?C.getAttribute("data-v"):C.hasAttribute("v")?C.getAttribute("v"):k7(C.innerHTML),_=C.getAttribute("data-z")||C.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==y+i&&T.s.r<g+a&&g+a<=T.e.r&&(y=T.e.c+1-i,h=-1)}b=+C.getAttribute("colspan")||1,((x=+C.getAttribute("rowspan")||1)>1||b>1)&&f.push({s:{r:g+a,c:y+i},e:{r:g+a+(x||1)-1,c:y+i+(b||1)-1}});var P={t:"s",v:S},N=C.getAttribute("data-t")||C.getAttribute("t")||"";S!=null&&(S.length==0?P.t=N||"z":n.raw||S.trim().length==0||N=="s"||(S==="TRUE"?P={t:"b",v:!0}:S==="FALSE"?P={t:"b",v:!1}:isNaN(Eo(S))?isNaN(F0(S).getDate())||(P={t:"d",v:Dr(S)},n.cellDates||(P={t:"n",v:Vn(P.v)}),P.z=n.dateNF||ut[14]):P={t:"n",v:Eo(S)})),P.z===void 0&&_!=null&&(P.z=_);var O="",D=C.getElementsByTagName("A");if(D&&D.length)for(var X=0;X<D.length&&!(D[X].hasAttribute("href")&&(O=D[X].getAttribute("href"),O.charAt(0)!="#"));++X);O&&O.charAt(0)!="#"&&(P.l={Target:O}),n.dense?(e[g+a]||(e[g+a]=[]),e[g+a][y+i]=P):e[dt({c:y+i,r:g+a})]=P,c.e.c<y+i&&(c.e.c=y+i),y+=b}}++g}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,g-1+a),e["!ref"]=_t(c),g>=l&&(e["!fullref"]=_t((c.e.r=o.length-p+g-1+a,c))),e}function oW(e,t){var r=t||{},n=r.dense?[]:{};return sW(n,e,t)}function ive(e,t){return ad(oW(e,t),t)}function K3(e){var t="",r=sve(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function sve(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function ove(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Gt(t.replace(/<[^>]*>/g,""));return[r]}var q3={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function lW(e,t){var r=t||{},n=qP(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},m=[],p=r.dense?[]:{},g,v,y={value:""},x="",b=0,E=[],k=-1,C=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},_=0,T={},P=[],N={},O=0,D=0,X=[],te=1,ne=1,Q=[],z={Names:[]},j={},ce=["",""],ee=[],M={},H="",U=0,G=!1,ae=!1,de=0;for(rv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");g=rv.exec(n);)switch(g[3]=g[3].replace(/_.*$/,"")){case"table":case"":g[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?p["!ref"]=_t(S):p["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(p["!fullref"]=p["!ref"],S.e.r=r.sheetRows-1,p["!ref"]=_t(S)),P.length&&(p["!merges"]=P),X.length&&(p["!rows"]=X),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),m.push(u.name),h[u.name]=p,ae=!1):g[0].charAt(g[0].length-2)!=="/"&&(u=pt(g[0],!1),k=C=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,p=r.dense?[]:{},P=[],X=[],ae=!0);break;case"table-row-group":g[1]==="/"?--_:++_;break;case"table-row":case"":if(g[1]==="/"){k+=te,te=1;break}if(f=pt(g[0],!1),f.?k=f.-1:k==-1&&(k=0),te=+f["number-rows-repeated"]||1,te<10)for(de=0;de<te;++de)_>0&&(X[k+de]={level:_});C=-1;break;case"covered-table-cell":g[1]!=="/"&&++C,r.sheetStubs&&(r.dense?(p[k]||(p[k]=[]),p[k][C]={t:"z"}):p[dt({r:k,c:C})]={t:"z"}),x="",E=[];break;case"table-cell":case"":if(g[0].charAt(g[0].length-2)==="/")++C,y=pt(g[0],!1),ne=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=z3(Gt(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=Gt(y["string-value"]||""),r.dense?(p[k]||(p[k]=[]),p[k][C]=v):p[dt({r:k,c:C})]=v),C+=ne-1;else if(g[1]!=="/"){++C,x="",b=0,E=[],ne=1;var xe=te?k+te-1:k;if(C>S.e.c&&(S.e.c=C),C<S.s.c&&(S.s.c=C),k<S.s.r&&(S.s.r=k),xe>S.e.r&&(S.e.r=xe),y=pt(g[0],!1),ee=[],M={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=Gt(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(O=parseInt(y["number-matrix-rows-spanned"],10)||0,D=parseInt(y["number-matrix-columns-spanned"],10)||0,N={s:{r:k,c:C},e:{r:k+O-1,c:C+D-1}},v.F=_t(N),Q.push([N,v.F])),y.formula)v.f=z3(y.formula);else for(de=0;de<Q.length;++de)k>=Q[de][0].s.r&&k<=Q[de][0].e.r&&C>=Q[de][0].s.c&&C<=Q[de][0].e.c&&(v.F=Q[de][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(O=parseInt(y["number-rows-spanned"],10)||0,D=parseInt(y["number-columns-spanned"],10)||0,N={s:{r:k,c:C},e:{r:k+O-1,c:C+D-1}},P.push(N)),y["number-columns-repeated"]&&(ne=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Pr(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Dr(y["date-value"]),r.cellDates||(v.t="n",v.v=Vn(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=joe(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=Y_(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(x=Gt(y["string-value"]),E=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(G=!1,v.t==="s"&&(v.v=x||"",E.length&&(v.R=E),G=b==0),j.Target&&(v.l=j),ee.length>0&&(v.c=ee,ee=[]),x&&r.cellText!==!1&&(v.w=x),G&&(v.t="z",delete v.v),(!G||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=k))for(var Z=0;Z<te;++Z){if(ne=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(p[k+Z]||(p[k+Z]=[]),p[k+Z][C]=Z==0?v:jr(v);--ne>0;)p[k+Z][C+ne]=jr(v);else for(p[dt({r:k+Z,c:C})]=v;--ne>0;)p[dt({r:k+Z,c:C+ne})]=jr(v);S.e.c<=C&&(S.e.c=C)}ne=parseInt(y["number-columns-repeated"]||"1",10),C+=ne-1,ne=0,v={},x="",E=[]}j={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!0]);break;case"annotation":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i;M.t=x,E.length&&(M.R=E),M.a=H,ee.push(M)}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);H="",U=0,x="",b=0,E=[];break;case"creator":g[1]==="/"?H=n.slice(U,g.index):U=g.index+g[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(g[1]==="/"){if((i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&a.push([g[3],!1]);x="",b=0,E=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(g[1]==="/"){if(T[o.name]=l,(i=a.pop())[0]!==g[3])throw"Bad state: "+i}else g[0].charAt(g[0].length-2)!=="/"&&(l="",o=pt(g[0],!1),a.push([g[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=pt(g[0],!1),l+=q3[g[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=pt(g[0],!1),l+=q3[g[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(g[0].slice(-2)==="/>")break;if(g[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,g.index);break}else c=g.index+g[0].length;break;case"named-range":s=pt(g[0],!1),ce=W2(s["cell-range-address"]);var ie={Name:s.name,Ref:ce[0]+"!"+ce[1]};ae&&(ie.Sheet=m.length),z.Names.push(ie);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(g[1]==="/"&&(!y||!y["string-value"])){var we=ove(n.slice(b,g.index));x=(x.length>0?x+`
`:"")+we[0]}else pt(g[0],!1),b=g.index+g[0].length;break;case"s":break;case"database-range":if(g[1]==="/")break;try{ce=W2(pt(g[0])["target-range-address"]),h[ce[0]]["!autofilter"]={ref:ce[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(g[1]!=="/"){if(j=pt(g[0],!1),!j.href)break;j.Target=Gt(j.href),delete j.href,j.Target.charAt(0)=="#"&&j.Target.indexOf(".")>-1?(ce=W2(j.Target.slice(1)),j.Target="#"+ce[0]+"!"+ce[1]):j.Target.match(/^\.\.[\\\/]/)&&(j.Target=j.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(g[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(g)}}var F={Sheets:h,SheetNames:m,Workbook:z};return r.bookSheets&&delete F.Sheets,F}function Y3(e,t){t=t||{},As(e,"META-INF/manifest.xml")&&jle(Sn(e,"META-INF/manifest.xml"),t);var r=Yi(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=lW(hr(r),t);return As(e,"meta.xml")&&(n.Props=J7(Sn(e,"meta.xml"))),n}function X3(e,t){return lW(e,t)}var lve=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+tv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return wn+t}}(),Q3=function(){var e=function(i){return or(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var l=[];l.push('      <table:table table:name="'+or(s.SheetNames[o])+`" table:style-name="ta1">
`);var c=0,u=0,f=Fi(i["!ref"]||"A1"),h=i["!merges"]||[],m=0,p=Array.isArray(i);if(i["!cols"])for(u=0;u<=f.e.c;++u)l.push("        <table:table-column"+(i["!cols"][u]?' table:style-name="co'+i["!cols"][u].ods+'"':"")+`></table:table-column>
`);var g="",v=i["!rows"]||[];for(c=0;c<f.s.r;++c)g=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+g+`></table:table-row>
`);for(;c<=f.e.r;++c){for(g=v[c]?' table:style-name="ro'+v[c].ods+'"':"",l.push("        <table:table-row"+g+`>
`),u=0;u<f.s.c;++u)l.push(t);for(;u<=f.e.c;++u){var y=!1,x={},b="";for(m=0;m!=h.length;++m)if(!(h[m].s.c>u)&&!(h[m].s.r>c)&&!(h[m].e.c<u)&&!(h[m].e.r<c)){(h[m].s.c!=u||h[m].s.r!=c)&&(y=!0),x["table:number-columns-spanned"]=h[m].e.c-h[m].s.c+1,x["table:number-rows-spanned"]=h[m].e.r-h[m].s.r+1;break}if(y){l.push(r);continue}var E=dt({r:c,c:u}),k=p?(i[c]||[])[u]:i[E];if(k&&k.f&&(x["table:formula"]=or(k0e(k.f)),k.F&&k.F.slice(0,E.length)==E)){var C=Fi(k.F);x["table:number-matrix-columns-spanned"]=C.e.c-C.s.c+1,x["table:number-matrix-rows-spanned"]=C.e.r-C.s.r+1}if(!k){l.push(t);continue}switch(k.t){case"b":b=k.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=k.v?"true":"false";break;case"n":b=k.w||String(k.v||0),x["office:value-type"]="float",x["office:value"]=k.v||0;break;case"s":case"str":b=k.v==null?"":k.v,x["office:value-type"]="string";break;case"d":b=k.w||Dr(k.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=Dr(k.v).toISOString(),x["table:style-name"]="ce1";break;default:l.push(t);continue}var S=e(b);if(k.l&&k.l.Target){var _=k.l.Target;_=_.charAt(0)=="#"?"#"+N0e(_.slice(1)):_,_.charAt(0)!="#"&&!_.match(/^\w+:/)&&(_="../"+_),S=Le("text:a",S,{"xlink:href":_.replace(/&/g,"&amp;")})}l.push("          "+Le("table:table-cell",Le("text:p",S,{}),x)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!cols"]){for(var u=0;u<c["!cols"].length;++u)if(c["!cols"][u]){var f=c["!cols"][u];if(f.width==null&&f.wpx==null&&f.wch==null)continue;Mu(f),f.ods=o;var h=c["!cols"][u].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+h+`"/>
`),i.push(`  </style:style>
`),++o}}});var l=0;s.SheetNames.map(function(c){return s.Sheets[c]}).forEach(function(c){if(c&&c["!rows"]){for(var u=0;u<c["!rows"].length;++u)if(c["!rows"][u]){c["!rows"][u].ods=l;var f=c["!rows"][u].hpx+"px";i.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++l}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var l=[wn],c=tv({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),u=tv({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+c+u+`>
`),l.push(Q7().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+c+`>
`),a(l,s),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=s.SheetNames.length;++f)l.push(n(s.Sheets[s.SheetNames[f]],s,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function cW(e,t){if(t.bookType=="fods")return Q3(e,t);var r=WP(),n="",a=[],i=[];return n="mimetype",Et(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Et(r,n,Q3(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Et(r,n,lve(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Et(r,n,wn+Q7()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Et(r,n,Fle(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Et(r,n,Rle(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function kf(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function kC(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):hr(nd(e))}function cve(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):qi(Xo(e))}function uve(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Lu(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function J3(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function dve(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function fve(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function cv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function rr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function an(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Qt(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=cv(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=cv(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function ma(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(rr(n*8+a.type)),a.type==2&&t.push(rr(a.data.length)),t.push(a.data))})}),Lu(t)}function vI(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function _s(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=cv(e,n),i=Qt(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:an(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=Qt(o.data),c=an(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=an(i[3][0].data)>>>0>0),r.push(s)}return r}function Ah(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:rr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:rr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:rr(s.data.length)}],n[2].push({data:ma(s.meta),type:2})});var i=ma(n);t.push(rr(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),Lu(t)}function hve(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=cv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Lu(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=Lu(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function Es(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(hve(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Lu(t)}function Ch(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=rr(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return Lu(t)}function mve(e,t,r,n){var a=kf(e),i=a.getUint32(4,!0),s=(n>1?12:8)+J3(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=J3(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function pve(e,t,r){var n=kf(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=dve(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function G2(e,t){var r=new Uint8Array(32),n=kf(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,fve(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function K2(e,t){var r=new Uint8Array(32),n=kf(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function gve(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return mve(e,t,r,e[0]);case 5:return pve(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ja(e){var t=Qt(e);return cv(t[1][0].data)}function Z3(e,t){var r=Qt(t.data),n=an(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Qt(s.data),l=an(o[1][0].data)>>>0;switch(n){case 1:i[l]=kC(o[3][0].data);break;case 8:{var c=e[ja(o[9][0].data)][0],u=Qt(c.data),f=e[ja(u[1][0].data)][0],h=an(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var m=Qt(f.data);i[l]=m[3].map(function(p){return kC(p.data)}).join("")}break}}),i}function vve(e,t){var r,n,a,i,s,o,l,c,u,f,h,m,p,g,v=Qt(e),y=an(v[1][0].data)>>>0,x=an(v[2][0].data)>>>0,b=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&an(v[8][0].data)>0||!1,E,k;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)E=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,k=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&t!=1)E=(m=(h=v[4])==null?void 0:h[0])==null?void 0:m.data,k=(g=(p=v[3])==null?void 0:p[0])==null?void 0:g.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var C=b?4:1,S=kf(E),_=[],T=0;T<E.length/2;++T){var P=S.getUint16(T*2,!0);P<65535&&_.push([T,P])}if(_.length!=x)throw"Expected ".concat(x," cells, found ").concat(_.length);var N=[];for(T=0;T<_.length-1;++T)N[_[T][0]]=k.subarray(_[T][1]*C,_[T+1][1]*C);return _.length>=1&&(N[_[_.length-1][0]]=k.subarray(_[_.length-1][1]*C)),{R:y,cells:N}}function yve(e,t){var r,n=Qt(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?an(n[7][0].data)>>>0>0?1:0:-1,i=vI(n[5],function(s){return vve(s,a)});return{nrows:an(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function xve(e,t,r){var n,a=Qt(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(an(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(an(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=_t(i);var s=Qt(a[4][0].data),o=Z3(e,e[ja(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?Z3(e,e[ja(s[17][0].data)][0]):[],c=Qt(s[3][0].data),u=0;c[1].forEach(function(f){var h=Qt(f.data),m=e[ja(h[2][0].data)][0],p=an(m.meta[1][0].data);if(p!=6002)throw new Error("6001 unexpected reference to ".concat(p));var g=yve(e,m);g.data.forEach(function(v,y){v.forEach(function(x,b){var E=dt({r:u+y,c:b}),k=gve(x,o,l);k&&(r[E]=k)})}),u+=g.nrows})}function wve(e,t){var r=Qt(t.data),n={"!ref":"A1"},a=e[ja(r[2][0].data)],i=an(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return xve(e,a[0],n),n}function bve(e,t){var r,n=Qt(t.data),a={name:(r=n[1])!=null&&r[0]?kC(n[1][0].data):"",sheets:[]},i=vI(n[2],ja);return i.forEach(function(s){e[s].forEach(function(o){var l=an(o.meta[1][0].data);l==6e3&&a.sheets.push(wve(e,o))})}),a}function _ve(e,t){var r=_I(),n=Qt(t.data),a=vI(n[1],ja);if(a.forEach(function(i){e[i].forEach(function(s){var o=an(s.meta[1][0].data);if(o==2){var l=bve(e,s);l.sheets.forEach(function(c,u){EI(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function q2(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Es(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=_s(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&an(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=an(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return _ve(i,o)}function Eve(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&an(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,c=kf(e[7][0].data),u=0,f=[],h=kf(e[4][0].data),m=0,p=[],g=0;g<t.length;++g){if(t[g]==null){c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535);continue}c.setUint16(g*2,u,!0),h.setUint16(g*2,m,!0);var v,y;switch(typeof t[g]){case"string":v=G2({t:"s",v:t[g]},r),y=K2({t:"s",v:t[g]},r);break;case"number":v=G2({t:"n",v:t[g]},r),y=K2({t:"n",v:t[g]},r);break;case"boolean":v=G2({t:"b",v:t[g]},r),y=K2({t:"b",v:t[g]},r);break;default:throw new Error("Unsupported value "+t[g])}f.push(v),u+=v.length,p.push(y),m+=y.length,++l}for(e[2][0].data=rr(l);g<e[7][0].data.length/2;++g)c.setUint16(g*2,65535,!0),h.setUint16(g*2,65535,!0);return e[6][0].data=Lu(f),e[3][0].data=Lu(p),l}function Sve(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Fi(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(_t(n)));var i=qw(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(H){return H.forEach(function(U){typeof U=="string"&&s.push(U)})});var o={},l=[],c=st.read(t.numbers,{type:"base64"});c.FileIndex.map(function(H,U){return[H,c.FullPaths[U]]}).forEach(function(H){var U=H[0],G=H[1];if(U.type==2&&U.name.match(/\.iwa/)){var ae=U.content,de=Es(ae),xe=_s(de);xe.forEach(function(Z){l.push(Z.id),o[Z.id]={deps:[],location:G,type:an(Z.messages[0].meta[1][0].data)}})}}),l.sort(function(H,U){return H-U});var u=l.filter(function(H){return H>1}).map(function(H){return[H,rr(H)]});c.FileIndex.map(function(H,U){return[H,c.FullPaths[U]]}).forEach(function(H){var U=H[0];if(H[1],!!U.name.match(/\.iwa/)){var G=_s(Es(U.content));G.forEach(function(ae){ae.messages.forEach(function(de){u.forEach(function(xe){ae.messages.some(function(Z){return an(Z.meta[1][0].data)!=11006&&uve(Z.data,xe[1])})&&o[xe[0]].deps.push(ae.id)})})})}});for(var f=st.find(c,o[1].location),h=_s(Es(f.content)),m,p=0;p<h.length;++p){var g=h[p];g.id==1&&(m=g)}var v=ja(Qt(m.messages[0].data)[1][0].data);for(f=st.find(c,o[v].location),h=_s(Es(f.content)),p=0;p<h.length;++p)g=h[p],g.id==v&&(m=g);for(v=ja(Qt(m.messages[0].data)[2][0].data),f=st.find(c,o[v].location),h=_s(Es(f.content)),p=0;p<h.length;++p)g=h[p],g.id==v&&(m=g);for(v=ja(Qt(m.messages[0].data)[2][0].data),f=st.find(c,o[v].location),h=_s(Es(f.content)),p=0;p<h.length;++p)g=h[p],g.id==v&&(m=g);var y=Qt(m.messages[0].data);{y[6][0].data=rr(n.e.r+1),y[7][0].data=rr(n.e.c+1);var x=ja(y[46][0].data),b=st.find(c,o[x].location),E=_s(Es(b.content));{for(var k=0;k<E.length&&E[k].id!=x;++k);if(E[k].id!=x)throw"Bad ColumnRowUIDMapArchive";var C=Qt(E[k].messages[0].data);C[1]=[],C[2]=[],C[3]=[];for(var S=0;S<=n.e.c;++S){var _=[];_[1]=_[2]=[{type:0,data:rr(S+420690)}],C[1].push({type:2,data:ma(_)}),C[2].push({type:0,data:rr(S)}),C[3].push({type:0,data:rr(S)})}C[4]=[],C[5]=[],C[6]=[];for(var T=0;T<=n.e.r;++T)_=[],_[1]=_[2]=[{type:0,data:rr(T+726270)}],C[4].push({type:2,data:ma(_)}),C[5].push({type:0,data:rr(T)}),C[6].push({type:0,data:rr(T)});E[k].messages[0].data=ma(C)}b.content=Ch(Ah(E)),b.size=b.content.length,delete y[46];var P=Qt(y[4][0].data);{P[7][0].data=rr(n.e.r+1);var N=Qt(P[1][0].data),O=ja(N[2][0].data);b=st.find(c,o[O].location),E=_s(Es(b.content));{if(E[0].id!=O)throw"Bad HeaderStorageBucket";var D=Qt(E[0].messages[0].data);for(T=0;T<i.length;++T){var X=Qt(D[2][0].data);X[1][0].data=rr(T),X[4][0].data=rr(i[T].length),D[2][T]={type:D[2][0].type,data:ma(X)}}E[0].messages[0].data=ma(D)}b.content=Ch(Ah(E)),b.size=b.content.length;var te=ja(P[2][0].data);b=st.find(c,o[te].location),E=_s(Es(b.content));{if(E[0].id!=te)throw"Bad HeaderStorageBucket";for(D=Qt(E[0].messages[0].data),S=0;S<=n.e.c;++S)X=Qt(D[2][0].data),X[1][0].data=rr(S),X[4][0].data=rr(n.e.r+1),D[2][S]={type:D[2][0].type,data:ma(X)};E[0].messages[0].data=ma(D)}b.content=Ch(Ah(E)),b.size=b.content.length;var ne=ja(P[4][0].data);(function(){for(var H=st.find(c,o[ne].location),U=_s(Es(H.content)),G,ae=0;ae<U.length;++ae){var de=U[ae];de.id==ne&&(G=de)}var xe=Qt(G.messages[0].data);{xe[3]=[];var Z=[];s.forEach(function(F,Me){Z[1]=[{type:0,data:rr(Me)}],Z[2]=[{type:0,data:rr(1)}],Z[3]=[{type:2,data:cve(F)}],xe[3].push({type:2,data:ma(Z)})})}G.messages[0].data=ma(xe);var ie=Ah(U),we=Ch(ie);H.content=we,H.size=H.content.length})();var Q=Qt(P[3][0].data);{var z=Q[1][0];delete Q[2];var j=Qt(z.data);{var ce=ja(j[2][0].data);(function(){for(var H=st.find(c,o[ce].location),U=_s(Es(H.content)),G,ae=0;ae<U.length;++ae){var de=U[ae];de.id==ce&&(G=de)}var xe=Qt(G.messages[0].data);{delete xe[6],delete Q[7];var Z=new Uint8Array(xe[5][0].data);xe[5]=[];for(var ie=0,we=0;we<=n.e.r;++we){var F=Qt(Z);ie+=Eve(F,i[we],s),F[1][0].data=rr(we),xe[5].push({data:ma(F),type:2})}xe[1]=[{type:0,data:rr(n.e.c+1)}],xe[2]=[{type:0,data:rr(n.e.r+1)}],xe[3]=[{type:0,data:rr(ie)}],xe[4]=[{type:0,data:rr(n.e.r+1)}]}G.messages[0].data=ma(xe);var Me=Ah(U),Ce=Ch(Me);H.content=Ce,H.size=H.content.length})()}z.data=ma(j)}P[3][0].data=ma(Q)}y[4][0].data=ma(P)}m.messages[0].data=ma(y);var ee=Ah(h),M=Ch(ee);return f.content=M,f.size=f.content.length,c}function uW(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function yI(e){uW([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function xI(e){uW([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function Tve(e){return Pt.WS.indexOf(e)>-1?"sheet":e==Pt.CS?"chart":e==Pt.DS?"dialog":e==Pt.MS?"macro":e&&e.length?e:"sheet"}function Ave(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Tve(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Cve(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=lg(Yi(e,r,!0),t);var h=Sn(e,t),m;switch(o){case"sheet":m=Ype(h,t,a,l,i[n],c,u,f);break;case"chart":if(m=Xpe(h,t,a,l,i[n],c,u,f),!m||!m["!drawel"])break;var p=$p(m["!drawel"].Target,t),g=nv(p),v=Mfe(Yi(e,p,!0),lg(Yi(e,g,!0),p)),y=$p(v,p),x=nv(y);m=Epe(Yi(e,y,!0),y,l,lg(Yi(e,x,!0),y),c,m);break;case"macro":m=Qpe(h,t,a,l,i[n],c,u,f);break;case"dialog":m=Jpe(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=m;var b=[];i&&i[n]&&on(i[n]).forEach(function(E){var k="";if(i[n][E].Type==Pt.CMNT){k=$p(i[n][E].Target,t);var C=rge(Sn(e,k,!0),k,l);if(!C||!C.length)return;L3(m,C,!1)}i[n][E].Type==Pt.TCMNT&&(k=$p(i[n][E].Target,t),b=b.concat(Lfe(Sn(e,k,!0),l)))}),b&&b.length&&L3(m,b,!0,l.people||[])}catch(E){if(l.WTF)throw E}}function gs(e){return e.charAt(0)=="/"?e.slice(1):e}function kve(e,t){if(mm(),t=t||{},yI(t),As(e,"META-INF/manifest.xml")||As(e,"objectdata.xml"))return Y3(e,t);if(As(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof q2<"u"){if(e.FileIndex)return q2(e);var r=st.utils.cfb_new();return i3(e).forEach(function(X){Et(r,X,$oe(e,X))}),q2(r)}throw new Error("Unsupported NUMBERS file")}if(!As(e,"[Content_Types].xml"))throw As(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):As(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=i3(e),a=Ole(Yi(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Sn(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Sn(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(cg=[],a.sst)try{cg=tge(Sn(e,gs(a.sst)),a.sst,t)}catch(X){if(t.WTF)throw X}t.cellStyles&&a.themes.length&&(l=ege(Yi(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=Zpe(Sn(e,gs(a.style)),a.style,l,t))}a.links.map(function(X){try{var te=lg(Yi(e,nv(gs(X))),X);return age(Sn(e,gs(X)),te,X,t)}catch{}});var u=qpe(Sn(e,gs(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=Sn(e,gs(a.coreprops[0]),!0),h&&(f=J7(h)),a.extprops.length!==0&&(h=Sn(e,gs(a.extprops[0]),!0),h&&$le(h,f,t)));var m={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Yi(e,gs(a.custprops[0]),!0),h&&(m=Ule(h,t)));var p={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(te){return te.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(p.Props=f,p.Custprops=m),t.bookSheets&&typeof s<"u"&&(p.SheetNames=s),t.bookSheets?p.SheetNames:t.bookProps))return p;s={};var g={};t.bookDeps&&a.calcchain&&(g=nge(Sn(e,gs(a.calcchain)),a.calcchain));var v=0,y={},x,b;{var E=u.Sheets;f.Worksheets=E.length,f.SheetNames=[];for(var k=0;k!=E.length;++k)f.SheetNames[k]=E[k].name}var C=i?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),_=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");As(e,_)||(_="xl/_rels/workbook."+C+".rels");var T=lg(Yi(e,_,!0),_.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=ige(Sn(e,gs(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Bfe(Sn(e,gs(a.people[0])),t)),T&&(T=Ave(T,u.Sheets));var P=Sn(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var N="sheet";if(T&&T[v]?(x="xl/"+T[v][1].replace(/[\/]?xl\//,""),As(e,x)||(x=T[v][1]),As(e,x)||(x=_.replace(/_rels\/.*$/,"")+T[v][1]),N=T[v][2]):(x="xl/worksheets/sheet"+(v+1-P)+"."+C,x=x.replace(/sheet0\./,"sheet.")),b=x.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var O=!1,D=0;D!=t.sheets.length;++D)typeof t.sheets[D]=="number"&&t.sheets[D]==v&&(O=1),typeof t.sheets[D]=="string"&&t.sheets[D].toLowerCase()==f.SheetNames[v].toLowerCase()&&(O=1);if(!O)continue e}}Cve(e,x,b,f.SheetNames[v],v,y,s,N,t,u,l,c)}return p={Directory:a,Workbook:u,Props:f,Custprops:m,Deps:g,Sheets:s,SheetNames:f.SheetNames,Strings:cg,Styles:c,Themes:l,SSF:jr(ut)},t&&t.bookFiles&&(e.files?(p.keys=n,p.files=e.files):(p.keys=[],p.files={},e.FullPaths.forEach(function(X,te){X=X.replace(/^Root Entry[\/]/,""),p.keys.push(X),p.files[X]=e.FileIndex[te]}))),t&&t.bookVBA&&(a.vba.length>0?p.vbaraw=Sn(e,gs(a.vba[0]),!0):a.defaults&&a.defaults.bin===qfe&&(p.vbaraw=Sn(e,"xl/vbaProject.bin",!0))),p}function Nve(e,t){var r=t||{},n="Workbook",a=st.find(e,n);try{if(n="/!DataSpaces/Version",a=st.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(ide(a.content),n="/!DataSpaces/DataSpaceMap",a=st.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=ode(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=st.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=lde(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=st.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);ude(a.content)}catch{}if(n="/EncryptionInfo",a=st.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=dde(a.content);if(n="/EncryptedPackage",a=st.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function Pve(e,t){return t.bookType=="ods"?cW(e,t):t.bookType=="numbers"?Sve(e,t):t.bookType=="xlsb"?Ive(e,t):Ove(e,t)}function Ive(e,t){Zh=1024,e&&!e.SSF&&(e.SSF=jr(ut)),e&&e.SSF&&(mm(),G_(e.SSF),t.revssf=q_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ug?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=Fz.indexOf(t.bookType)>-1,a=aI();xI(t=t||{});var i=WP(),s="",o=0;if(t.cellXfs=[],id(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Et(i,s,Z7(e.Props,t)),a.coreprops.push(s),ir(t.rels,2,s,Pt.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}for(e.Props.Worksheets=e.Props.SheetNames.length,Et(i,s,rz(e.Props)),a.extprops.push(s),ir(t.rels,3,s,Pt.EXT_PROPS),e.Custprops!==e.Props&&on(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Et(i,s,nz(e.Custprops)),a.custprops.push(s),ir(t.rels,4,s,Pt.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},f=e.Sheets[e.SheetNames[o-1]],h=(f||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Et(i,s,oge(o-1,s,t,e,u)),a.sheets.push(s),ir(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Pt.WS[0])}if(f){var m=f["!comments"],p=!1,g="";m&&m.length>0&&(g="xl/comments"+o+"."+r,Et(i,g,uge(m,g)),a.comments.push(g),ir(u,-1,"../comments"+o+"."+r,Pt.CMNT),p=!0),f["!legacy"]&&p&&Et(i,"xl/drawings/vmlDrawing"+o+".vml",Rz(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}u["!id"].rId1&&Et(i,nv(s),g0(u))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Et(i,s,cge(t.Strings,s,t)),a.strs.push(s),ir(t.wbrels,-1,"sharedStrings."+r,Pt.SST)),s="xl/workbook."+r,Et(i,s,sge(e,s)),a.workbooks.push(s),ir(t.rels,1,s,Pt.WB),s="xl/theme/theme1.xml",Et(i,s,uI(e.Themes,t)),a.themes.push(s),ir(t.wbrels,-1,"theme/theme1.xml",Pt.THEME),s="xl/styles."+r,Et(i,s,lge(e,s,t)),a.styles.push(s),ir(t.wbrels,-1,"styles."+r,Pt.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Et(i,s,e.vbaraw),a.vba.push(s),ir(t.wbrels,-1,"vbaProject.bin",Pt.VBA)),s="xl/metadata."+r,Et(i,s,dge(s)),a.metadata.push(s),ir(t.wbrels,-1,"metadata."+r,Pt.XLMETA),Et(i,"[Content_Types].xml",X7(a,t)),Et(i,"_rels/.rels",g0(t.rels)),Et(i,"xl/_rels/workbook."+r+".rels",g0(t.wbrels)),delete t.revssf,delete t.ssf,i}function Ove(e,t){Zh=1024,e&&!e.SSF&&(e.SSF=jr(ut)),e&&e.SSF&&(mm(),G_(e.SSF),t.revssf=q_(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,ug?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=Fz.indexOf(t.bookType)>-1,a=aI();xI(t=t||{});var i=WP(),s="",o=0;if(t.cellXfs=[],id(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Et(i,s,Z7(e.Props,t)),a.coreprops.push(s),ir(t.rels,2,s,Pt.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var l=[],c=0;c<e.SheetNames.length;++c)(e.Workbook.Sheets[c]||{}).Hidden!=2&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}e.Props.Worksheets=e.Props.SheetNames.length,Et(i,s,rz(e.Props)),a.extprops.push(s),ir(t.rels,3,s,Pt.EXT_PROPS),e.Custprops!==e.Props&&on(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Et(i,s,nz(e.Custprops)),a.custprops.push(s),ir(t.rels,4,s,Pt.CUST_PROPS));var u=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},h=e.Sheets[e.SheetNames[o-1]],m=(h||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Et(i,s,qz(o-1,t,e,f)),a.sheets.push(s),ir(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Pt.WS[0])}if(h){var p=h["!comments"],g=!1,v="";if(p&&p.length>0){var y=!1;p.forEach(function(x){x[1].forEach(function(b){b.T==!0&&(y=!0)})}),y&&(v="xl/threadedComments/threadedComment"+o+"."+r,Et(i,v,$fe(p,u,t)),a.threadedcomments.push(v),ir(f,-1,"../threadedComments/threadedComment"+o+"."+r,Pt.TCMNT)),v="xl/comments"+o+"."+r,Et(i,v,Mz(p)),a.comments.push(v),ir(f,-1,"../comments"+o+"."+r,Pt.CMNT),g=!0}h["!legacy"]&&g&&Et(i,"xl/drawings/vmlDrawing"+o+".vml",Rz(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&Et(i,nv(s),g0(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Et(i,s,Ez(t.Strings,t)),a.strs.push(s),ir(t.wbrels,-1,"sharedStrings."+r,Pt.SST)),s="xl/workbook."+r,Et(i,s,Zz(e)),a.workbooks.push(s),ir(t.rels,1,s,Pt.WB),s="xl/theme/theme1.xml",Et(i,s,uI(e.Themes,t)),a.themes.push(s),ir(t.wbrels,-1,"theme/theme1.xml",Pt.THEME),s="xl/styles."+r,Et(i,s,Iz(e,t)),a.styles.push(s),ir(t.wbrels,-1,"styles."+r,Pt.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Et(i,s,e.vbaraw),a.vba.push(s),ir(t.wbrels,-1,"vbaProject.bin",Pt.VBA)),s="xl/metadata."+r,Et(i,s,jz()),a.metadata.push(s),ir(t.wbrels,-1,"metadata."+r,Pt.XLMETA),u.length>1&&(s="xl/persons/person.xml",Et(i,s,Ufe(u)),a.people.push(s),ir(t.wbrels,-1,"persons/person.xml",Pt.PEOPLE)),Et(i,"[Content_Types].xml",X7(a,t)),Et(i,"_rels/.rels",g0(t.rels)),Et(i,"xl/_rels/workbook."+r+".rels",g0(t.wbrels)),delete t.revssf,delete t.ssf,i}function wI(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=is(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Dve(e,t){return st.find(e,"EncryptedPackage")?Nve(e,t):nW(e,t)}function jve(e,t){var r,n=e,a=t||{};return a.type||(a.type=kt&&Buffer.isBuffer(e)?"buffer":"base64"),r=T7(n,a),kve(r,a)}function dW(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return AC(e.slice(r),t);default:break e}return L0.to_workbook(e,t)}function Rve(e,t){var r="",n=wI(e,t);switch(t.type){case"base64":r=is(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Sf(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=hr(r)),t.type="binary",dW(r,t)}function Mve(e,t){var r=e;return t.type=="base64"&&(r=is(r)),r=Qg.utils.decode(1200,r.slice(2),"str"),t.type="binary",dW(r,t)}function Fve(e){return e.match(/[^\x00-\x7F]/)?Xo(e):e}function Y2(e,t,r,n){return n?(r.type="string",L0.to_workbook(e,r)):L0.to_workbook(t,r)}function uv(e,t){$P();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return uv(new Uint8Array(e),(r=jr(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),y0={},r.dateNF&&(y0.dateNF=r.dateNF),r.type||(r.type=kt&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=kt?"buffer":"binary",n=Ioe(e),typeof Uint8Array<"u"&&!kt&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=Fve(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=jr(r),r.type="array",uv(BP(n),r)}switch((a=wI(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Dve(st.read(n,r),r);break;case 9:if(a[1]<=8)return nW(n,r);break;case 60:return AC(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Vue(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return bz.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?jve(n,r):Y2(e,n,r,i);case 239:return a[3]===60?AC(n,r):Y2(e,n,r,i);case 255:if(a[1]===254)return Mve(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return nf.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return nf.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return TC.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return kz.to_workbook(n,r);break;case 10:case 13:case 32:return Rve(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Uue.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?TC.to_workbook(n,r):Y2(e,n,r,i)}function fW(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return cy(t.file,st.write(e,{type:kt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return st.write(e,t)}function Lve(e,t){var r=jr(t||{}),n=Pve(e,r);return $ve(n,r)}function $ve(e,t){var r={},n=kt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?st.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(H_(a))}return t.password&&typeof encrypt_agile<"u"?fW(encrypt_agile(a,t.password),t):t.type==="file"?cy(t.file,a):t.type=="string"?hr(a):a}function Bve(e,t){var r=t||{},n=Fge(e,r);return fW(n,r)}function zo(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return Jg(Xo(n));case"binary":return Xo(n);case"string":return e;case"file":return cy(t.file,n,"utf8");case"buffer":return kt?Ac(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):zo(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Uve(e,t){switch(t.type){case"base64":return Jg(e);case"binary":return e;case"string":return e;case"file":return cy(t.file,e,"binary");case"buffer":return kt?Ac(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function Qx(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?Jg(r):t.type=="string"?hr(r):r;case"file":return cy(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function hW(e,t){$P(),Dpe(e);var r=jr(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=hW(e,r);return r.type="array",H_(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return zo(Pge(e,r),r);case"slk":case"sylk":return zo(wz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return zo(iW(e.Sheets[e.SheetNames[a]],r),r);case"txt":return Uve(mW(e.Sheets[e.SheetNames[a]],r),r);case"csv":return zo(bI(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return zo(bz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return Qx(TC.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return zo(L0.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return zo(kz.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return zo(_z.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return zo(cW(e,r),r);case"wk1":return Qx(nf.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return Qx(nf.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Qx(aW(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),Bve(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Lve(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Vve(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function zve(e,t,r){var n={};return n.type="file",n.file=t,Vve(n),hW(e,n)}function Wve(e,t,r,n,a,i,s,o){var l=xn(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var m=t.s.c;m<=t.e.c;++m){var p=s?e[r][m]:e[n[m]+l];if(p===void 0||p.t===void 0){if(c===void 0)continue;i[m]!=null&&(h[i[m]]=c);continue}var g=p.v;switch(p.t){case"z":if(g==null)break;continue;case"e":g=g==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+p.t)}if(i[m]!=null){if(g==null)if(p.t=="e"&&g===null)h[i[m]]=null;else if(c!==void 0)h[i[m]]=c;else if(u&&g===null)h[i[m]]=null;else continue;else h[i[m]]=u&&(p.t!=="n"||p.t==="n"&&o.rawNumbers!==!1)?g:fc(p,g,o);g!=null&&(f=!1)}}return{row:h,isempty:f}}function qw(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Kt(u);break;case"number":l=Kt(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=xn(l.s.r),h=[],m=[],p=0,g=0,v=Array.isArray(e),y=l.s.r,x=0,b={};v&&!e[y]&&(e[y]=[]);var E=c.skipHidden&&e["!cols"]||[],k=c.skipHidden&&e["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(E[x]||{}).hidden)switch(h[x]=Gr(x),r=v?e[y][x]:e[h[x]+f],n){case 1:i[x]=x-l.s.c;break;case 2:i[x]=h[x];break;case 3:i[x]=c.header[x-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=fc(r,null,c),g=b[s]||0,!g)b[s]=1;else{do o=s+"_"+g++;while(b[o]);b[s]=g,b[o]=1}i[x]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(k[y]||{}).hidden){var C=Wve(e,l,y,h,n,i,v,c);(C.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(m[p++]=C.row)}return m.length=p,m}var eF=/"/g;function Hve(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=xn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var m=o.dense?(e[r]||[])[h]:e[n[h]+f];if(m==null)u="";else if(m.v!=null){l=!1,u=""+(o.rawNumbers&&m.t=="n"?m.v:fc(m,null,o));for(var p=0,g=0;p!==u.length;++p)if((g=u.charCodeAt(p))===a||g===i||g===34||o.forceQuotes){u='"'+u.replace(eF,'""')+'"';break}u=="ID"&&(u='"ID"')}else m.f!=null&&!m.F?(l=!1,u="="+m.f,u.indexOf(",")>=0&&(u='"'+u.replace(eF,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function bI(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Kt(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],m=n.skipHidden&&e["!rows"]||[],p=a.s.c;p<=a.e.c;++p)(h[p]||{}).hidden||(f[p]=Gr(p));for(var g=0,v=a.s.r;v<=a.e.r;++v)(m[v]||{}).hidden||(u=Hve(e,a,v,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((g++?o:"")+u)));return delete n.dense,r.join("")}function mW(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=bI(e,t);return r}function Gve(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Kt(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Gr(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=xn(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function pW(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Kr(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=Kt(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],m=0;t.forEach(function(g,v){on(g).forEach(function(y){(m=h.indexOf(y))==-1&&(h[m=h.length]=y);var x=g[y],b="z",E="",k=dt({c:o+m,r:s+v+a});c=dv(i,k),x&&typeof x=="object"&&!(x instanceof Date)?i[k]=x:(typeof x=="number"?b="n":typeof x=="boolean"?b="b":typeof x=="string"?b="s":x instanceof Date?(b="d",n.cellDates||(b="n",x=Vn(x)),E=n.dateNF||ut[14]):x===null&&n.nullError&&(b="e",x=0),c?(c.t=b,c.v=x,delete c.w,delete c.R,E&&(c.z=E)):i[k]=c={t:b,v:x},E&&(c.z=E))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var p=xn(s);if(a)for(m=0;m<h.length;++m)i[Gr(m+o)+p]={t:"s",v:h[m]};return i["!ref"]=_t(u),i}function Kve(e,t){return pW(null,e,t)}function dv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Kr(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?dv(e,dt(t)):dv(e,dt({r:t,c:r||0}))}function qve(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function _I(){return{SheetNames:[],Sheets:{}}}function EI(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(Jz(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Yve(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=qve(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Xve(e,t){return e.z=t,e}function gW(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Qve(e,t,r){return gW(e,"#"+t,r)}function Jve(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Zve(e,t,r,n){for(var a=typeof t!="string"?t:Kt(t),i=typeof t=="string"?t:_t(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=dv(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var x0={encode_col:Gr,encode_row:xn,encode_cell:dt,encode_range:_t,decode_col:JP,decode_row:QP,split_cell:cle,decode_cell:Kr,decode_range:Fi,format_cell:fc,sheet_add_aoa:z7,sheet_add_json:pW,sheet_add_dom:sW,aoa_to_sheet:pm,json_to_sheet:Kve,table_to_sheet:oW,table_to_book:ive,sheet_to_csv:bI,sheet_to_txt:mW,sheet_to_json:qw,sheet_to_html:iW,sheet_to_formulae:Gve,sheet_to_row_object_array:qw,sheet_get_cell:dv,book_new:_I,book_append_sheet:EI,book_set_sheet_visibility:Yve,cell_set_number_format:Xve,cell_set_hyperlink:gW,cell_set_internal_link:Qve,cell_add_comment:Jve,sheet_set_array_formula:Zve,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const eye=()=>{};var tF={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},tye=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},yW={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,m=c&63;l||(m=64,s||(h=64)),n.push(r[u],r[f],r[h],r[m])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vW(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):tye(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new rye;const h=i<<2|o>>4;if(n.push(h),c!==64){const m=o<<4&240|c>>2;if(n.push(m),f!==64){const p=c<<6&192|f;n.push(p)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class rye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nye=function(e){const t=vW(e);return yW.encodeByteArray(t,!0)},Yw=function(e){return nye(e).replace(/\./g,"")},xW=function(e){try{return yW.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iye=()=>aye().__FIREBASE_DEFAULTS__,sye=()=>{if(typeof process>"u"||typeof tF>"u")return;const e=tF.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},oye=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&xW(e[1]);return t&&JSON.parse(t)},eE=()=>{try{return eye()||iye()||sye()||oye()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},wW=e=>{var t,r;return(r=(t=eE())==null?void 0:t.emulatorHosts)==null?void 0:r[e]},bW=e=>{const t=wW(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},_W=()=>{var e;return(e=eE())==null?void 0:e.config},EW=e=>{var t;return(t=eE())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function SI(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Yw(JSON.stringify(r)),Yw(JSON.stringify(s)),""].join(".")}const hg={};function cye(){const e={prod:[],emulator:[]};for(const t of Object.keys(hg))hg[t]?e.emulator.push(t):e.prod.push(t);return e}function uye(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let rF=!1;function TI(e,t){if(typeof window>"u"||typeof document>"u"||!lh(window.location.host)||hg[e]===t||hg[e]||rF)return;hg[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=cye().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{rF=!0,s()},h}function u(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=uye(n),m=r("text"),p=document.getElementById(m)||document.createElement("span"),g=r("learnmore"),v=document.getElementById(g)||document.createElement("a"),y=r("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const b=h.element;o(b),u(v,g);const E=c();l(x,y),b.append(x,p,v,E),document.body.appendChild(b)}i?(p.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dye(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ya())}function fye(){var t;const e=(t=eE())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hye(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TW(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function mye(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pye(){const e=Ya();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function gye(){return!fye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AW(){try{return typeof indexedDB=="object"}catch{return!1}}function CW(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)==null?void 0:i.message)||"")}}catch(r){t(r)}})}function vye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yye="FirebaseError";class Ys extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=yye,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ch.prototype.create)}}class ch{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?xye(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Ys(a,o,n)}}function xye(e,t){return e.replace(wye,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const wye=/\{\$([^}]+)}/g;function bye(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function $u(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(nF(i)&&nF(s)){if(!$u(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function nF(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(e){const t=[];for(const[r,n]of Object.entries(e))Array.isArray(n)?n.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Bp(e){const t={};return e.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,i]=n.split("=");t[decodeURIComponent(a)]=decodeURIComponent(i)}}),t}function Up(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}function _ye(e,t){const r=new Eye(e,t);return r.subscribe.bind(r)}class Eye{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,n){let a;if(t===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Sye(t,["next","error","complete"])?a=t:a={next:t,error:r,complete:n},a.next===void 0&&(a.next=X2),a.error===void 0&&(a.error=X2),a.complete===void 0&&(a.complete=X2);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),i}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sye(e,t){if(typeof e!="object"||e===null)return!1;for(const r of t)if(r in e&&typeof e[r]=="function")return!0;return!1}function X2(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tye=1e3,Aye=2,Cye=4*60*60*1e3,kye=.5;function aF(e,t=Tye,r=Aye){const n=t*Math.pow(r,e),a=Math.round(kye*n*(Math.random()-.5)*2);return Math.min(Cye,n+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(e){return e&&e._delegate?e._delegate:e}class zs{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nye=class{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new lye;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),n=(t==null?void 0:t.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(n)return null;throw a}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Iye(t))try{this.getOrInitializeService({instanceIdentifier:Od})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=Od){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Od){return this.instances.has(t)}getOptions(t=Od){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){const n=this.normalizeInstanceIdentifier(r),a=this.onInitCallbacks.get(n)??new Set;a.add(t),this.onInitCallbacks.set(n,a);const i=this.instances.get(n);return i&&t(i,n),()=>{a.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Pye(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=Od){return this.component?this.component.multipleInstances?t:Od:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Pye(e){return e===Od?void 0:e}function Iye(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oye{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Nye(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(jt||(jt={}));const Dye={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},jye=jt.INFO,Rye={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},Mye=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=Rye[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};let tE=class{constructor(t){this.name=t,this._logLevel=jye,this._logHandler=Mye,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Dye[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}};const Fye=(e,t)=>t.some(r=>e instanceof r);let iF,sF;function Lye(){return iF||(iF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $ye(){return sF||(sF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kW=new WeakMap,NC=new WeakMap,NW=new WeakMap,Q2=new WeakMap,AI=new WeakMap;function Bye(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(Eu(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&kW.set(r,e)}).catch(()=>{}),AI.set(t,e),t}function Uye(e){if(NC.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});NC.set(e,t)}let PC={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return NC.get(e);if(t==="objectStoreNames")return e.objectStoreNames||NW.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Eu(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Vye(e){PC=e(PC)}function zye(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(J2(this),t,...r);return NW.set(n,t.sort?t.sort():[t]),Eu(n)}:$ye().includes(e)?function(...t){return e.apply(J2(this),t),Eu(kW.get(this))}:function(...t){return Eu(e.apply(J2(this),t))}}function Wye(e){return typeof e=="function"?zye(e):(e instanceof IDBTransaction&&Uye(e),Fye(e,Lye())?new Proxy(e,PC):e)}function Eu(e){if(e instanceof IDBRequest)return Bye(e);if(Q2.has(e))return Q2.get(e);const t=Wye(e);return t!==e&&(Q2.set(e,t),AI.set(t,e)),t}const J2=e=>AI.get(e);function PW(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=Eu(s);return n&&s.addEventListener("upgradeneeded",l=>{n(Eu(s.result),l.oldVersion,l.newVersion,Eu(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const Hye=["get","getKey","getAll","getAllKeys","count"],Gye=["put","add","delete","clear"],Z2=new Map;function oF(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Z2.get(t))return Z2.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=Gye.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||Hye.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return Z2.set(t,i),i}Vye(e=>({...e,get:(t,r,n)=>oF(t,r)||e.get(t,r,n),has:(t,r)=>!!oF(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kye{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(qye(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function qye(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const IC="@firebase/app",lF="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new tE("@firebase/app"),Yye="@firebase/app-compat",Xye="@firebase/analytics-compat",Qye="@firebase/analytics",Jye="@firebase/app-check-compat",Zye="@firebase/app-check",exe="@firebase/auth",txe="@firebase/auth-compat",rxe="@firebase/database",nxe="@firebase/data-connect",axe="@firebase/database-compat",ixe="@firebase/functions",sxe="@firebase/functions-compat",oxe="@firebase/installations",lxe="@firebase/installations-compat",cxe="@firebase/messaging",uxe="@firebase/messaging-compat",dxe="@firebase/performance",fxe="@firebase/performance-compat",hxe="@firebase/remote-config",mxe="@firebase/remote-config-compat",pxe="@firebase/storage",gxe="@firebase/storage-compat",vxe="@firebase/firestore",yxe="@firebase/ai",xxe="@firebase/firestore-compat",wxe="firebase",bxe="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC="[DEFAULT]",_xe={[IC]:"fire-core",[Yye]:"fire-core-compat",[Qye]:"fire-analytics",[Xye]:"fire-analytics-compat",[Zye]:"fire-app-check",[Jye]:"fire-app-check-compat",[exe]:"fire-auth",[txe]:"fire-auth-compat",[rxe]:"fire-rtdb",[nxe]:"fire-data-connect",[axe]:"fire-rtdb-compat",[ixe]:"fire-fn",[sxe]:"fire-fn-compat",[oxe]:"fire-iid",[lxe]:"fire-iid-compat",[cxe]:"fire-fcm",[uxe]:"fire-fcm-compat",[dxe]:"fire-perf",[fxe]:"fire-perf-compat",[hxe]:"fire-rc",[mxe]:"fire-rc-compat",[pxe]:"fire-gcs",[gxe]:"fire-gcs-compat",[vxe]:"fire-fst",[xxe]:"fire-fst-compat",[yxe]:"fire-vertex","fire-js":"fire-js",[wxe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=new Map,Exe=new Map,DC=new Map;function cF(e,t){try{e.container.addComponent(t)}catch(r){hc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function Po(e){const t=e.name;if(DC.has(t))return hc.debug(`There were multiple attempts to register component ${t}.`),!1;DC.set(t,e);for(const r of Xw.values())cF(r,e);for(const r of Exe.values())cF(r,e);return!0}function sd(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function _i(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sxe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Su=new ch("app","Firebase",Sxe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Txe{constructor(t,r,n){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Su.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=bxe;function IW(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n={name:OC,automaticDataCollectionEnabled:!0,...t},a=n.name;if(typeof a!="string"||!a)throw Su.create("bad-app-name",{appName:String(a)});if(r||(r=_W()),!r)throw Su.create("no-options");const i=Xw.get(a);if(i){if($u(r,i.options)&&$u(n,i.config))return i;throw Su.create("duplicate-app",{appName:a})}const s=new Oye(a);for(const l of DC.values())s.addComponent(l);const o=new Txe(r,n,s);return Xw.set(a,o),o}function rE(e=OC){const t=Xw.get(e);if(!t&&e===OC&&_W())return IW();if(!t)throw Su.create("no-app",{appName:e});return t}function Oi(e,t,r){let n=_xe[e]??e;r&&(n+=`-${r}`);const a=n.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const s=[`Unable to register library "${n}" with version "${t}":`];a&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),a&&i&&s.push("and"),i&&s.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hc.warn(s.join(" "));return}Po(new zs(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Axe="firebase-heartbeat-database",Cxe=1,fv="firebase-heartbeat-store";let eT=null;function OW(){return eT||(eT=PW(Axe,Cxe,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(fv)}catch(r){console.warn(r)}}}}).catch(e=>{throw Su.create("idb-open",{originalErrorMessage:e.message})})),eT}async function kxe(e){try{const r=(await OW()).transaction(fv),n=await r.objectStore(fv).get(DW(e));return await r.done,n}catch(t){if(t instanceof Ys)hc.warn(t.message);else{const r=Su.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});hc.warn(r.message)}}}async function uF(e,t){try{const n=(await OW()).transaction(fv,"readwrite");await n.objectStore(fv).put(t,DW(e)),await n.done}catch(r){if(r instanceof Ys)hc.warn(r.message);else{const n=Su.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});hc.warn(n.message)}}}function DW(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nxe=1024,Pxe=30;class Ixe{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Dxe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=dF();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>Pxe){const s=jxe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){hc.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=dF(),{heartbeatsToSend:n,unsentEntries:a}=Oxe(this._heartbeatsCache.heartbeats),i=Yw(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return hc.warn(r),""}}}function dF(){return new Date().toISOString().substring(0,10)}function Oxe(e,t=Nxe){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),fF(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),fF(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Dxe{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AW()?CW().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await kxe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return uF(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const n=await this.read();return uF(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}else return}}function fF(e){return Yw(JSON.stringify({version:2,heartbeats:e})).length}function jxe(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rxe(e){Po(new zs("platform-logger",t=>new Kye(t),"PRIVATE")),Po(new zs("heartbeat",t=>new Ixe(t),"PRIVATE")),Oi(IC,lF,e),Oi(IC,lF,"esm2020"),Oi("fire-js","")}Rxe("");function jW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mxe=jW,RW=new ch("auth","Firebase",jW());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=new tE("@firebase/auth");function Fxe(e,...t){Qw.logLevel<=jt.WARN&&Qw.warn(`Auth (${uh}): ${e}`,...t)}function H1(e,...t){Qw.logLevel<=jt.ERROR&&Qw.error(`Auth (${uh}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(e,...t){throw CI(e,...t)}function rl(e,...t){return CI(e,...t)}function MW(e,t,r){const n={...Mxe(),[t]:r};return new ch("auth","Firebase",n).create(t,{appName:e.name})}function nl(e){return MW(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function CI(e,...t){if(typeof e!="string"){const r=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=e.name),e._errorFactory.create(r,...n)}return RW.create(e,...t)}function ft(e,t,...r){if(!e)throw CI(t,...r)}function Wl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw H1(t),new Error(t)}function mc(e,t){e||Wl(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function Lxe(){return hF()==="http:"||hF()==="https:"}function hF(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $xe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Lxe()||TW()||"connection"in navigator)?navigator.onLine:!0}function Bxe(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(t,r){this.shortDelay=t,this.longDelay=r,mc(r>t,"Short delay should be less than long delay!"),this.isMobile=dye()||mye()}get(){return $xe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(e,t){mc(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{static initialize(t,r,n){this.fetchImpl=t,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uxe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vxe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zxe=new yy(3e4,6e4);function Nc(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Mo(e,t,r,n,a={}){return LW(e,a,async()=>{let i={},s={};n&&(t==="GET"?s=n:i={body:JSON.stringify(n)});const o=vy({key:e.config.apiKey,...s}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...i};return hye()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&lh(e.emulatorConfig.host)&&(c.credentials="include"),FW.fetch()(await $W(e,e.config.apiHost,r,o),c)})}async function LW(e,t,r){e._canInitEmulator=!1;const n={...Uxe,...t};try{const a=new Hxe(e),i=await Promise.race([r(),a.promise]);a.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Jx(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const o=i.ok?s.errorMessage:s.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jx(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Jx(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Jx(e,"user-disabled",s);const u=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw MW(e,u,c);Io(e,u)}}catch(a){if(a instanceof Ys)throw a;Io(e,"network-request-failed",{message:String(a)})}}async function xy(e,t,r,n,a={}){const i=await Mo(e,t,r,n,a);return"mfaPendingCredential"in i&&Io(e,"multi-factor-auth-required",{_serverResponse:i}),i}async function $W(e,t,r,n){const a=`${t}${r}?${n}`,i=e,s=i.config.emulator?kI(e.config,a):`${e.config.apiScheme}://${a}`;return Vxe.includes(r)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(s).toString():s}function Wxe(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hxe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(rl(this.auth,"network-request-failed")),zxe.get())})}}function Jx(e,t,r){const n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const a=rl(e,t,n);return a.customData._tokenResponse=r,a}function mF(e){return e!==void 0&&e.enterprise!==void 0}class Gxe{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===t)return Wxe(r.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Kxe(e,t){return Mo(e,"GET","/v2/recaptchaConfig",Nc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qxe(e,t){return Mo(e,"POST","/v1/accounts:delete",t)}async function Jw(e,t){return Mo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Yxe(e,t=!1){const r=Sr(e),n=await r.getIdToken(t),a=NI(n);ft(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const i=typeof a.firebase=="object"?a.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:a,token:n,authTime:mg(tT(a.auth_time)),issuedAtTime:mg(tT(a.iat)),expirationTime:mg(tT(a.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function tT(e){return Number(e)*1e3}function NI(e){const[t,r,n]=e.split(".");if(t===void 0||r===void 0||n===void 0)return H1("JWT malformed, contained fewer than 3 sections"),null;try{const a=xW(r);return a?JSON.parse(a):(H1("Failed to decode base64 JWT payload"),null)}catch(a){return H1("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function pF(e){const t=NI(e);return ft(t,"internal-error"),ft(typeof t.exp<"u","internal-error"),ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nf(e,t,r=!1){if(r)return t;try{return await t}catch(n){throw n instanceof Ys&&Xxe(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}function Xxe({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qxe{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=mg(this.lastLoginAt),this.creationTime=mg(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zw(e){var f;const t=e.auth,r=await e.getIdToken(),n=await Nf(e,Jw(t,{idToken:r}));ft(n==null?void 0:n.users.length,t,"internal-error");const a=n.users[0];e._notifyReloadListener(a);const i=(f=a.providerUserInfo)!=null&&f.length?BW(a.providerUserInfo):[],s=Zxe(e.providerData,i),o=e.isAnonymous,l=!(e.email&&a.passwordHash)&&!(s!=null&&s.length),c=o?l:!1,u={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new RC(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,u)}async function Jxe(e){const t=Sr(e);await Zw(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Zxe(e,t){return[...e.filter(n=>!t.some(a=>a.providerId===n.providerId)),...t]}function BW(e){return e.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1e(e,t){const r=await LW(e,{},async()=>{const n=vy({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:i}=e.config,s=await $W(e,a,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return e.emulatorConfig&&lh(e.emulatorConfig.host)&&(l.credentials="include"),FW.fetch()(s,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function t1e(e,t){return Mo(e,"POST","/v2/accounts:revokeToken",Nc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ft(t.idToken,"internal-error"),ft(typeof t.idToken<"u","internal-error"),ft(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):pF(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){ft(t.length!==0,"internal-error");const r=pF(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:n,refreshToken:a,expiresIn:i}=await e1e(t,r);this.updateTokensAndExpiration(n,a,Number(i))}updateTokensAndExpiration(t,r,n){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,r){const{refreshToken:n,accessToken:a,expirationTime:i}=r,s=new w0;return n&&(ft(typeof n=="string","internal-error",{appName:t}),s.refreshToken=n),a&&(ft(typeof a=="string","internal-error",{appName:t}),s.accessToken=a),i&&(ft(typeof i=="number","internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new w0,this.toJSON())}_performRefresh(){return Wl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(e,t){ft(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class xo{constructor({uid:t,auth:r,stsTokenManager:n,...a}){this.providerId="firebase",this.proactiveRefresh=new Qxe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new RC(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const r=await Nf(this,this.stsTokenManager.getToken(this.auth,t));return ft(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return Yxe(this,t)}reload(){return Jxe(this)}_assign(t){this!==t&&(ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new xo({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),r&&await Zw(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_i(this.auth.app))return Promise.reject(nl(this.auth));const t=await this.getIdToken();return await Nf(this,qxe(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const n=r.displayName??void 0,a=r.email??void 0,i=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,c=r.createdAt??void 0,u=r.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:m,providerData:p,stsTokenManager:g}=r;ft(f&&g,t,"internal-error");const v=w0.fromJSON(this.name,g);ft(typeof f=="string",t,"internal-error"),Wc(n,t.name),Wc(a,t.name),ft(typeof h=="boolean",t,"internal-error"),ft(typeof m=="boolean",t,"internal-error"),Wc(i,t.name),Wc(s,t.name),Wc(o,t.name),Wc(l,t.name),Wc(c,t.name),Wc(u,t.name);const y=new xo({uid:f,auth:t,email:a,emailVerified:h,displayName:n,isAnonymous:m,photoURL:s,phoneNumber:i,tenantId:o,stsTokenManager:v,createdAt:c,lastLoginAt:u});return p&&Array.isArray(p)&&(y.providerData=p.map(x=>({...x}))),l&&(y._redirectEventId=l),y}static async _fromIdTokenResponse(t,r,n=!1){const a=new w0;a.updateFromServerResponse(r);const i=new xo({uid:r.localId,auth:t,stsTokenManager:a,isAnonymous:n});return await Zw(i),i}static async _fromGetAccountInfoResponse(t,r,n){const a=r.users[0];ft(a.localId!==void 0,"internal-error");const i=a.providerUserInfo!==void 0?BW(a.providerUserInfo):[],s=!(a.email&&a.passwordHash)&&!(i!=null&&i.length),o=new w0;o.updateFromIdToken(n);const l=new xo({uid:a.localId,auth:t,stsTokenManager:o,isAnonymous:s}),c={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new RC(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF=new Map;function Hl(e){mc(e instanceof Function,"Expected a class definition");let t=gF.get(e);return t?(mc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,gF.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}UW.type="NONE";const vF=UW;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(e,t,r){return`firebase:${e}:${t}:${r}`}class b0{constructor(t,r,n){this.persistence=t,this.auth=r,this.userKey=n;const{config:a,name:i}=this.auth;this.fullUserKey=G1(this.userKey,a.apiKey,i),this.fullPersistenceKey=G1("persistence",a.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await Jw(this.auth,{idToken:t}).catch(()=>{});return r?xo._fromGetAccountInfoResponse(this.auth,r,t):null}return xo._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,n="authUser"){if(!r.length)return new b0(Hl(vF),t,n);const a=(await Promise.all(r.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=a[0]||Hl(vF);const s=G1(n,t.config.apiKey,t.name);let o=null;for(const c of r)try{const u=await c._get(s);if(u){let f;if(typeof u=="string"){const h=await Jw(t,{idToken:u}).catch(()=>{});if(!h)break;f=await xo._fromGetAccountInfoResponse(t,h,u)}else f=xo._fromJSON(t,u);c!==i&&(o=f),i=c;break}}catch{}const l=a.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new b0(i,t,n):(i=l[0],o&&await i._set(s,o.toJSON()),await Promise.all(r.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new b0(i,t,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(HW(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VW(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(KW(t))return"Blackberry";if(qW(t))return"Webos";if(zW(t))return"Safari";if((t.includes("chrome/")||WW(t))&&!t.includes("edge/"))return"Chrome";if(GW(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function VW(e=Ya()){return/firefox\//i.test(e)}function zW(e=Ya()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function WW(e=Ya()){return/crios\//i.test(e)}function HW(e=Ya()){return/iemobile/i.test(e)}function GW(e=Ya()){return/android/i.test(e)}function KW(e=Ya()){return/blackberry/i.test(e)}function qW(e=Ya()){return/webos/i.test(e)}function PI(e=Ya()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function r1e(e=Ya()){var t;return PI(e)&&!!((t=window.navigator)!=null&&t.standalone)}function n1e(){return pye()&&document.documentMode===10}function YW(e=Ya()){return PI(e)||GW(e)||qW(e)||KW(e)||/windows phone/i.test(e)||HW(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(e,t=[]){let r;switch(e){case"Browser":r=yF(Ya());break;case"Worker":r=`${yF(Ya())}-${e}`;break;default:r=e}const n=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${uh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1e{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const n=i=>new Promise((s,o)=>{try{const l=t(i);s(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const n of this.queue)await n(t),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1e(e,t={}){return Mo(e,"GET","/v2/passwordPolicy",Nc(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1e=6;class o1e{constructor(t){var n;const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??s1e,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=t.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=t.length>=n),a&&(r.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let a=0;a<t.length;a++)n=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,r,n,a,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1e{constructor(t,r,n,a){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xF(this),this.idTokenSubscription=new xF(this),this.beforeStateQueue=new a1e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RW,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Hl(r)),this._initializationPromise=this.queue(async()=>{var n,a,i;if(!this._deleted&&(this.persistenceManager=await b0.create(this,t),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await Jw(this,{idToken:t}),n=await xo._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(_i(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(i=this.redirectUser)==null?void 0:i._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(t);(!s||s===o)&&(l!=null&&l.user)&&(n=l.user,a=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Zw(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Bxe()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(_i(this.app))return Promise.reject(nl(this));const r=t?Sr(t):null;return r&&ft(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return _i(this.app)?Promise.reject(nl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return _i(this.app)?Promise.reject(nl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hl(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await i1e(this),r=new o1e(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ch("auth","Firebase",t())}onAuthStateChanged(t,r,n){return this.registerStateListener(this.authStateSubscription,t,r,n)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,n){return this.registerStateListener(this.idTokenSubscription,t,r,n)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await t1e(this,n)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,r){const n=await this.getOrInitRedirectPersistenceManager(r);return t===null?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Hl(t)||this._popupRedirectResolver;ft(r,this,"argument-error"),this.redirectPersistenceManager=await b0.create(this,[Hl(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===t?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,n,a){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(o,this,"internal-error"),o.then(()=>{s||i(this.currentUser)}),typeof r=="function"){const l=t.addObserver(r,n,a);return()=>{s=!0,l()}}else{const l=t.addObserver(r);return()=>{s=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=XW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(t["X-Firebase-AppCheck"]=n),t}async _getAppCheckToken(){var r;if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return t!=null&&t.error&&Fxe(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function od(e){return Sr(e)}class xF{constructor(t){this.auth=t,this.observer=null,this.addObserver=_ye(r=>this.observer=r)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nE={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c1e(e){nE=e}function QW(e){return nE.loadJS(e)}function u1e(){return nE.recaptchaEnterpriseScript}function d1e(){return nE.gapiScript}function f1e(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class h1e{constructor(){this.enterprise=new m1e}ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}class m1e{ready(t){t()}execute(t,r){return Promise.resolve("token")}render(t,r){return""}}const p1e="recaptcha-enterprise",JW="NO_RECAPTCHA";class g1e{constructor(t){this.type=p1e,this.auth=od(t)}async verify(t="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,o)=>{Kxe(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const c=new Gxe(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,s(c.siteKey)}}).catch(l=>{o(l)})})}function a(i,s,o){const l=window.grecaptcha;mF(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:t}).then(c=>{s(c)}).catch(()=>{s(JW)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new h1e().execute("siteKey",{action:"verify"}):new Promise((i,s)=>{n(this.auth).then(o=>{if(!r&&mF(window.grecaptcha))a(o,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=u1e();l.length!==0&&(l+=o),QW(l).then(()=>{a(o,i,s)}).catch(c=>{s(c)})}}).catch(o=>{s(o)})})}}async function wF(e,t,r,n=!1,a=!1){const i=new g1e(e);let s;if(a)s=JW;else try{s=await i.verify(r)}catch{s=await i.verify(r,!0)}const o={...t};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,c=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function eb(e,t,r,n,a){var i;if((i=e._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await wF(e,t,r,r==="getOobCode");return n(e,s)}else return n(e,t).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await wF(e,t,r,r==="getOobCode");return n(e,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1e(e,t){const r=sd(e,"auth");if(r.isInitialized()){const a=r.getImmediate(),i=r.getOptions();if($u(i,t??{}))return a;Io(a,"already-initialized")}return r.initialize({options:t})}function y1e(e,t){const r=(t==null?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Hl);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,t==null?void 0:t.popupRedirectResolver)}function x1e(e,t,r){const n=od(e);ft(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const a=!1,i=ZW(t),{host:s,port:o}=w1e(t),l=o===null?"":`:${o}`,c={url:`${i}//${s}${l}/`},u=Object.freeze({host:s,port:o,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!n._canInitEmulator){ft(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ft($u(c,n.config.emulator)&&$u(u,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=c,n.emulatorConfig=u,n.settings.appVerificationDisabledForTesting=!0,lh(s)?(SI(`${i}//${s}${l}`),TI("Auth",!0)):b1e()}function ZW(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function w1e(e){const t=ZW(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const i=a[1];return{host:i,port:bF(n.substr(i.length+1))}}else{const[i,s]=n.split(":");return{host:i,port:bF(s)}}}function bF(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function b1e(){function e(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return Wl("not implemented")}_getIdTokenResponse(t){return Wl("not implemented")}_linkToIdToken(t,r){return Wl("not implemented")}_getReauthenticationResolver(t){return Wl("not implemented")}}async function _1e(e,t){return Mo(e,"POST","/v1/accounts:update",t)}async function E1e(e,t){return Mo(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1e(e,t){return xy(e,"POST","/v1/accounts:signInWithPassword",Nc(e,t))}async function T1e(e,t){return Mo(e,"POST","/v1/accounts:sendOobCode",Nc(e,t))}async function A1e(e,t){return T1e(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1e(e,t){return xy(e,"POST","/v1/accounts:signInWithEmailLink",Nc(e,t))}async function k1e(e,t){return xy(e,"POST","/v1/accounts:signInWithEmailLink",Nc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends II{constructor(t,r,n,a=null){super("password",n),this._email=t,this._password=r,this._tenantId=a}static _fromEmailAndPassword(t,r){return new hv(t,r,"password")}static _fromEmailAndCode(t,r,n=null){return new hv(t,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eb(t,r,"signInWithPassword",S1e);case"emailLink":return C1e(t,{email:this._email,oobCode:this._password});default:Io(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return eb(t,n,"signUpPassword",E1e);case"emailLink":return k1e(t,{idToken:r,email:this._email,oobCode:this._password});default:Io(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _0(e,t){return xy(e,"POST","/v1/accounts:signInWithIdp",Nc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1e="http://localhost";class Pf extends II{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Pf(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Io("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:n,signInMethod:a,...i}=r;if(!n||!a)return null;const s=new Pf(n,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){const r=this.buildRequest();return _0(t,r)}_linkToIdToken(t,r){const n=this.buildRequest();return n.idToken=r,_0(t,n)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,_0(t,r)}buildRequest(){const t={requestUri:N1e,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=vy(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1e(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function I1e(e){const t=Bp(Up(e)).link,r=t?Bp(Up(t)).deep_link_id:null,n=Bp(Up(e)).deep_link_id;return(n?Bp(Up(n)).link:null)||n||r||t||e}class OI{constructor(t){const r=Bp(Up(t)),n=r.apiKey??null,a=r.oobCode??null,i=P1e(r.mode??null);ft(n&&a&&i,"argument-error"),this.apiKey=n,this.operation=i,this.code=a,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(t){const r=I1e(t);try{return new OI(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.providerId=vm.PROVIDER_ID}static credential(t,r){return hv._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const n=OI.parseLink(r);return ft(n,"argument-error"),hv._fromEmailAndCode(t,n.code,n.tenantId)}}vm.PROVIDER_ID="password";vm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy extends eH{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends wy{constructor(){super("facebook.com")}static credential(t){return Pf._fromParams({providerId:nu.PROVIDER_ID,signInMethod:nu.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nu.credentialFromTaggedObject(t)}static credentialFromError(t){return nu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nu.credential(t.oauthAccessToken)}catch{return null}}}nu.FACEBOOK_SIGN_IN_METHOD="facebook.com";nu.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends wy{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Pf._fromParams({providerId:au.PROVIDER_ID,signInMethod:au.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return au.credentialFromTaggedObject(t)}static credentialFromError(t){return au.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:n}=t;if(!r&&!n)return null;try{return au.credential(r,n)}catch{return null}}}au.GOOGLE_SIGN_IN_METHOD="google.com";au.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu extends wy{constructor(){super("github.com")}static credential(t){return Pf._fromParams({providerId:iu.PROVIDER_ID,signInMethod:iu.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return iu.credentialFromTaggedObject(t)}static credentialFromError(t){return iu.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return iu.credential(t.oauthAccessToken)}catch{return null}}}iu.GITHUB_SIGN_IN_METHOD="github.com";iu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends wy{constructor(){super("twitter.com")}static credential(t,r){return Pf._fromParams({providerId:su.PROVIDER_ID,signInMethod:su.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return su.credentialFromTaggedObject(t)}static credentialFromError(t){return su.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=t;if(!r||!n)return null;try{return su.credential(r,n)}catch{return null}}}su.TWITTER_SIGN_IN_METHOD="twitter.com";su.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1e(e,t){return xy(e,"POST","/v1/accounts:signUp",Nc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,n,a=!1){const i=await xo._fromIdTokenResponse(t,n,a),s=_F(n);return new If({user:i,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(t,r,n){await t._updateTokensIfNecessary(n,!0);const a=_F(n);return new If({user:t,providerId:a,_tokenResponse:n,operationType:r})}}function _F(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb extends Ys{constructor(t,r,n,a){super(r.code,r.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,tb.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,r,n,a){return new tb(t,r,n,a)}}function tH(e,t,r,n){return(t==="reauthenticate"?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?tb._fromErrorAndOperation(e,i,t,n):i})}async function D1e(e,t,r=!1){const n=await Nf(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return If._forOperation(e,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1e(e,t,r=!1){const{auth:n}=e;if(_i(n.app))return Promise.reject(nl(n));const a="reauthenticate";try{const i=await Nf(e,tH(n,a,t,e),r);ft(i.idToken,n,"internal-error");const s=NI(i.idToken);ft(s,n,"internal-error");const{sub:o}=s;return ft(e.uid===o,n,"user-mismatch"),If._forOperation(e,a,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Io(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rH(e,t,r=!1){if(_i(e.app))return Promise.reject(nl(e));const n="signIn",a=await tH(e,n,t),i=await If._fromIdTokenResponse(e,n,a);return r||await e._updateCurrentUser(i.user),i}async function R1e(e,t){return rH(od(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nH(e){const t=od(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function M1e(e,t,r){const n=od(e);await eb(n,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",A1e)}async function aH(e,t,r){if(_i(e.app))return Promise.reject(nl(e));const n=od(e),s=await eb(n,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O1e).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&nH(e),l}),o=await If._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function iH(e,t,r){return _i(e.app)?Promise.reject(nl(e)):R1e(Sr(e),vm.credential(t,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&nH(e),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1e(e,t){return Mo(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(e,{displayName:t,photoURL:r}){if(t===void 0&&r===void 0)return;const n=Sr(e),i={idToken:await n.getIdToken(),displayName:t,photoUrl:r,returnSecureToken:!0},s=await Nf(n,F1e(n.auth,i));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const o=n.providerData.find(({providerId:l})=>l==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function EF(e,t){const r=Sr(e);return _i(r.auth.app)?Promise.reject(nl(r.auth)):L1e(r,t)}async function L1e(e,t,r){const{auth:n}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t);const s=await Nf(e,_1e(n,i));await e._updateTokensIfNecessary(s,!0)}function $1e(e,t,r,n){return Sr(e).onIdTokenChanged(t,r,n)}function B1e(e,t,r){return Sr(e).beforeAuthStateChanged(t,r)}function sH(e,t,r,n){return Sr(e).onAuthStateChanged(t,r,n)}function oH(e){return Sr(e).signOut()}const rb="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(rb,"1"),this.storage.removeItem(rb),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1e=1e3,V1e=10;class cH extends lH{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YW(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),a=this.localCache[r];n!==a&&t(r,a,n)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((s,o,l)=>{this.notifyListeners(s,l)});return}const n=t.key;r?this.detachListener():this.stopPolling();const a=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},i=this.storage.getItem(n);n1e()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,V1e):a()}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:n}),!0)})},U1e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}cH.type="LOCAL";const z1e=cH;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH extends lH{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}uH.type="SESSION";const dH=uH;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1e(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(a=>a.isListeningto(t));if(r)return r;const n=new aE(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:n,eventType:a,data:i}=r.data,s=this.handlersMap[a];if(!(s!=null&&s.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const o=Array.from(s).map(async c=>c(r.origin,i)),l=await W1e(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:l})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}aE.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(e="",t=10){let r="";for(let n=0;n<t;n++)r+=Math.floor(Math.random()*10);return e+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1e{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let i,s;return new Promise((o,l)=>{const c=jI("",20);a.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},n);s={messageChannel:a,onMessage(f){const h=f;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),o(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),a.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:c,data:r},[a.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(){return window}function G1e(e){al().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fH(){return typeof al().WorkerGlobalScope<"u"&&typeof al().importScripts=="function"}async function K1e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q1e(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function Y1e(){return fH()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH="firebaseLocalStorageDb",X1e=1,nb="firebaseLocalStorage",mH="fbase_key";class by{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function iE(e,t){return e.transaction([nb],t?"readwrite":"readonly").objectStore(nb)}function Q1e(){const e=indexedDB.deleteDatabase(hH);return new by(e).toPromise()}function MC(){const e=indexedDB.open(hH,X1e);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const n=e.result;try{n.createObjectStore(nb,{keyPath:mH})}catch(a){r(a)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(nb)?t(n):(n.close(),await Q1e(),t(await MC()))})})}async function SF(e,t,r){const n=iE(e,!0).put({[mH]:t,value:r});return new by(n).toPromise()}async function J1e(e,t){const r=iE(e,!1).get(t),n=await new by(r).toPromise();return n===void 0?null:n.value}function TF(e,t){const r=iE(e,!0).delete(t);return new by(r).toPromise()}const Z1e=800,ewe=3;class pH{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await MC(),this.db)}async _withRetries(t){let r=0;for(;;)try{const n=await this._openDb();return await t(n)}catch(n){if(r++>ewe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fH()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=aE._getInstance(Y1e()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await K1e(),!this.activeServiceWorker)return;this.sender=new H1e(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(r=t[0])!=null&&r.fulfilled&&(n=t[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||q1e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await MC();return await SF(t,rb,"1"),await TF(t,rb),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>SF(n,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(n=>J1e(n,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>TF(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const i=iE(a,!1).getAll();return new by(i).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(t.length!==0)for(const{fbase_key:a,value:i}of t)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(i)&&(this.notifyListeners(a,i),r.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),r.push(a));return r}notifyListeners(t,r){this.localCache[t]=r;const n=this.listeners[t];if(n)for(const a of Array.from(n))a(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Z1e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pH.type="LOCAL";const twe=pH;new yy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rwe(e,t){return t?Hl(t):(ft(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI extends II{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return _0(t,this._buildIdpRequest())}_linkToIdToken(t,r){return _0(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return _0(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function nwe(e){return rH(e.auth,new RI(e),e.bypassAuthState)}function awe(e){const{auth:t,user:r}=e;return ft(r,t,"internal-error"),j1e(r,new RI(e),e.bypassAuthState)}async function iwe(e){const{auth:t,user:r}=e;return ft(r,t,"internal-error"),D1e(r,new RI(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(t,r,n,a,i=!1){this.auth=t,this.resolver=n,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:n,postBody:a,tenantId:i,error:s,type:o}=t;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return nwe;case"linkViaPopup":case"linkViaRedirect":return iwe;case"reauthViaPopup":case"reauthViaRedirect":return awe;default:Io(this.auth,"internal-error")}}resolve(t){mc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){mc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const swe=new yy(2e3,1e4);class e0 extends gH{constructor(t,r,n,a,i){super(t,r,a,i),this.provider=n,this.authWindow=null,this.pollId=null,e0.currentPopupAction&&e0.currentPopupAction.cancel(),e0.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ft(t,this.auth,"internal-error"),t}async onExecution(){mc(this.filter.length===1,"Popup operations only handle one event");const t=jI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(rl(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(rl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e0.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rl(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,swe.get())};t()}}e0.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const owe="pendingRedirect",K1=new Map;class lwe extends gH{constructor(t,r,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let t=K1.get(this.auth._key());if(!t){try{const n=await cwe(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(n)}catch(r){t=()=>Promise.reject(r)}K1.set(this.auth._key(),t)}return this.bypassAuthState||K1.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cwe(e,t){const r=fwe(t),n=dwe(e);if(!await n._isAvailable())return!1;const a=await n._get(r)==="true";return await n._remove(r),a}function uwe(e,t){K1.set(e._key(),t)}function dwe(e){return Hl(e._redirectPersistence)}function fwe(e){return G1(owe,e.config.apiKey,e.name)}async function hwe(e,t,r=!1){if(_i(e.app))return Promise.reject(nl(e));const n=od(e),a=rwe(n,t),s=await new lwe(n,a,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,t)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mwe=10*60*1e3;class pwe{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(r=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!gwe(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var n;if(t.error&&!vH(t)){const a=((n=t.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(rl(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const n=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mwe&&this.cachedEventUids.clear(),this.cachedEventUids.has(AF(t))}saveEventToCache(t){this.cachedEventUids.add(AF(t)),this.lastProcessedEventTime=Date.now()}}function AF(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function vH({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function gwe(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vH(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vwe(e,t={}){return Mo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ywe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,xwe=/^https?/;async function wwe(e){if(e.config.emulator)return;const{authorizedDomains:t}=await vwe(e);for(const r of t)try{if(bwe(r))return}catch{}Io(e,"unauthorized-domain")}function bwe(e){const t=jC(),{protocol:r,hostname:n}=new URL(t);if(e.startsWith("chrome-extension://")){const s=new URL(e);return s.hostname===""&&n===""?r==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!xwe.test(r))return!1;if(ywe.test(e))return n===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _we=new yy(3e4,6e4);function CF(){const e=al().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}}function Ewe(e){return new Promise((t,r)=>{var a,i,s;function n(){CF(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{CF(),r(rl(e,"network-request-failed"))},timeout:_we.get()})}if((i=(a=al().gapi)==null?void 0:a.iframes)!=null&&i.Iframe)t(gapi.iframes.getContext());else if((s=al().gapi)!=null&&s.load)n();else{const o=f1e("iframefcb");return al()[o]=()=>{gapi.load?n():r(rl(e,"network-request-failed"))},QW(`${d1e()}?onload=${o}`).catch(l=>r(l))}}).catch(t=>{throw q1=null,t})}let q1=null;function Swe(e){return q1=q1||Ewe(e),q1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Twe=new yy(5e3,15e3),Awe="__/auth/iframe",Cwe="emulator/auth/iframe",kwe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nwe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Pwe(e){const t=e.config;ft(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?kI(t,Cwe):`https://${e.config.authDomain}/${Awe}`,n={apiKey:t.apiKey,appName:e.name,v:uh},a=Nwe.get(e.config.apiHost);a&&(n.eid=a);const i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${vy(n).slice(1)}`}async function Iwe(e){const t=await Swe(e),r=al().gapi;return ft(r,e,"internal-error"),t.open({where:document.body,url:Pwe(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kwe,dontclear:!0},n=>new Promise(async(a,i)=>{await n.restyle({setHideOnLeave:!1});const s=rl(e,"network-request-failed"),o=al().setTimeout(()=>{i(s)},Twe.get());function l(){al().clearTimeout(o),a(n)}n.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Owe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Dwe=500,jwe=600,Rwe="_blank",Mwe="http://localhost";class kF{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Fwe(e,t,r,n=Dwe,a=jwe){const i=Math.max((window.screen.availHeight-a)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...Owe,width:n.toString(),height:a.toString(),top:i,left:s},c=Ya().toLowerCase();r&&(o=WW(c)?Rwe:r),VW(c)&&(t=t||Mwe,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[m,p])=>`${h}${m}=${p},`,"");if(r1e(c)&&o!=="_self")return Lwe(t||"",o),new kF(null);const f=window.open(t||"",o,u);ft(f,e,"popup-blocked");try{f.focus()}catch{}return new kF(f)}function Lwe(e,t){const r=document.createElement("a");r.href=e,r.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $we="__/auth/handler",Bwe="emulator/auth/handler",Uwe=encodeURIComponent("fac");async function NF(e,t,r,n,a,i){ft(e.config.authDomain,e,"auth-domain-config-required"),ft(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:n,v:uh,eventId:a};if(t instanceof eH){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",bye(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,f]of Object.entries({}))s[u]=f}if(t instanceof wy){const u=t.getScopes().filter(f=>f!=="");u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Uwe}=${encodeURIComponent(l)}`:"";return`${Vwe(e)}?${vy(o).slice(1)}${c}`}function Vwe({config:e}){return e.emulator?kI(e,Bwe):`https://${e.authDomain}/${$we}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="webStorageSupport";class zwe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dH,this._completeRedirectFn=hwe,this._overrideRedirectResult=uwe}async _openPopup(t,r,n,a){var s;mc((s=this.eventManagers[t._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await NF(t,r,n,jC(),a);return Fwe(t,i,jI())}async _openRedirect(t,r,n,a){await this._originValidation(t);const i=await NF(t,r,n,jC(),a);return G1e(i),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:a,promise:i}=this.eventManagers[r];return a?Promise.resolve(a):(mc(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(t);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(t){const r=await Iwe(t),n=new pwe(t);return r.register("authEvent",a=>(ft(a==null?void 0:a.authEvent,t,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=r,n}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(rT,{type:rT},a=>{var s;const i=(s=a==null?void 0:a[0])==null?void 0:s[rT];i!==void 0&&r(!!i),Io(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=wwe(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return YW()||zW()||PI()}}const Wwe=zwe;var PF="@firebase/auth",IF="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hwe{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(n=>{t((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gwe(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Kwe(e){Po(new zs("auth",(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),i=t.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;ft(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:s,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XW(e)},c=new l1e(n,a,i,l);return y1e(c,r),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,n)=>{t.getProvider("auth-internal").initialize()})),Po(new zs("auth-internal",t=>{const r=od(t.getProvider("auth").getImmediate());return(n=>new Hwe(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(PF,IF,Gwe(e)),Oi(PF,IF,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qwe=5*60,Ywe=EW("authIdTokenMaxAge")||qwe;let OF=null;const Xwe=e=>async t=>{const r=t&&await t.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Ywe)return;const a=r==null?void 0:r.token;OF!==a&&(OF=a,await fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Qwe(e=rE()){const t=sd(e,"auth");if(t.isInitialized())return t.getImmediate();const r=v1e(e,{popupRedirectResolver:Wwe,persistence:[twe,z1e,dH]}),n=EW("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const s=Xwe(i.toString());B1e(r,s,()=>s(r.currentUser)),$1e(r,o=>s(o))}}const a=wW("auth");return a&&x1e(r,`http://${a}`),r}function Jwe(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}c1e({loadJS(e){return new Promise((t,r)=>{const n=document.createElement("script");n.setAttribute("src",e),n.onload=t,n.onerror=a=>{const i=rl("internal-error");i.customData=a,r(i)},n.type="text/javascript",n.charset="UTF-8",Jwe().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Kwe("Browser");var Zwe="firebase",ebe="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(Zwe,ebe,"app");var DF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tu,yH;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(S,_){function T(){}T.prototype=_.prototype,S.D=_.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(P,N,O){for(var D=Array(arguments.length-2),X=2;X<arguments.length;X++)D[X-2]=arguments[X];return _.prototype[N].apply(P,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(S,_,T){T||(T=0);var P=Array(16);if(typeof _=="string")for(var N=0;16>N;++N)P[N]=_.charCodeAt(T++)|_.charCodeAt(T++)<<8|_.charCodeAt(T++)<<16|_.charCodeAt(T++)<<24;else for(N=0;16>N;++N)P[N]=_[T++]|_[T++]<<8|_[T++]<<16|_[T++]<<24;_=S.g[0],T=S.g[1],N=S.g[2];var O=S.g[3],D=_+(O^T&(N^O))+P[0]+3614090360&4294967295;_=T+(D<<7&4294967295|D>>>25),D=O+(N^_&(T^N))+P[1]+3905402710&4294967295,O=_+(D<<12&4294967295|D>>>20),D=N+(T^O&(_^T))+P[2]+606105819&4294967295,N=O+(D<<17&4294967295|D>>>15),D=T+(_^N&(O^_))+P[3]+3250441966&4294967295,T=N+(D<<22&4294967295|D>>>10),D=_+(O^T&(N^O))+P[4]+4118548399&4294967295,_=T+(D<<7&4294967295|D>>>25),D=O+(N^_&(T^N))+P[5]+1200080426&4294967295,O=_+(D<<12&4294967295|D>>>20),D=N+(T^O&(_^T))+P[6]+2821735955&4294967295,N=O+(D<<17&4294967295|D>>>15),D=T+(_^N&(O^_))+P[7]+4249261313&4294967295,T=N+(D<<22&4294967295|D>>>10),D=_+(O^T&(N^O))+P[8]+1770035416&4294967295,_=T+(D<<7&4294967295|D>>>25),D=O+(N^_&(T^N))+P[9]+2336552879&4294967295,O=_+(D<<12&4294967295|D>>>20),D=N+(T^O&(_^T))+P[10]+4294925233&4294967295,N=O+(D<<17&4294967295|D>>>15),D=T+(_^N&(O^_))+P[11]+2304563134&4294967295,T=N+(D<<22&4294967295|D>>>10),D=_+(O^T&(N^O))+P[12]+1804603682&4294967295,_=T+(D<<7&4294967295|D>>>25),D=O+(N^_&(T^N))+P[13]+4254626195&4294967295,O=_+(D<<12&4294967295|D>>>20),D=N+(T^O&(_^T))+P[14]+2792965006&4294967295,N=O+(D<<17&4294967295|D>>>15),D=T+(_^N&(O^_))+P[15]+1236535329&4294967295,T=N+(D<<22&4294967295|D>>>10),D=_+(N^O&(T^N))+P[1]+4129170786&4294967295,_=T+(D<<5&4294967295|D>>>27),D=O+(T^N&(_^T))+P[6]+3225465664&4294967295,O=_+(D<<9&4294967295|D>>>23),D=N+(_^T&(O^_))+P[11]+643717713&4294967295,N=O+(D<<14&4294967295|D>>>18),D=T+(O^_&(N^O))+P[0]+3921069994&4294967295,T=N+(D<<20&4294967295|D>>>12),D=_+(N^O&(T^N))+P[5]+3593408605&4294967295,_=T+(D<<5&4294967295|D>>>27),D=O+(T^N&(_^T))+P[10]+38016083&4294967295,O=_+(D<<9&4294967295|D>>>23),D=N+(_^T&(O^_))+P[15]+3634488961&4294967295,N=O+(D<<14&4294967295|D>>>18),D=T+(O^_&(N^O))+P[4]+3889429448&4294967295,T=N+(D<<20&4294967295|D>>>12),D=_+(N^O&(T^N))+P[9]+568446438&4294967295,_=T+(D<<5&4294967295|D>>>27),D=O+(T^N&(_^T))+P[14]+3275163606&4294967295,O=_+(D<<9&4294967295|D>>>23),D=N+(_^T&(O^_))+P[3]+4107603335&4294967295,N=O+(D<<14&4294967295|D>>>18),D=T+(O^_&(N^O))+P[8]+1163531501&4294967295,T=N+(D<<20&4294967295|D>>>12),D=_+(N^O&(T^N))+P[13]+2850285829&4294967295,_=T+(D<<5&4294967295|D>>>27),D=O+(T^N&(_^T))+P[2]+4243563512&4294967295,O=_+(D<<9&4294967295|D>>>23),D=N+(_^T&(O^_))+P[7]+1735328473&4294967295,N=O+(D<<14&4294967295|D>>>18),D=T+(O^_&(N^O))+P[12]+2368359562&4294967295,T=N+(D<<20&4294967295|D>>>12),D=_+(T^N^O)+P[5]+4294588738&4294967295,_=T+(D<<4&4294967295|D>>>28),D=O+(_^T^N)+P[8]+2272392833&4294967295,O=_+(D<<11&4294967295|D>>>21),D=N+(O^_^T)+P[11]+1839030562&4294967295,N=O+(D<<16&4294967295|D>>>16),D=T+(N^O^_)+P[14]+4259657740&4294967295,T=N+(D<<23&4294967295|D>>>9),D=_+(T^N^O)+P[1]+2763975236&4294967295,_=T+(D<<4&4294967295|D>>>28),D=O+(_^T^N)+P[4]+1272893353&4294967295,O=_+(D<<11&4294967295|D>>>21),D=N+(O^_^T)+P[7]+4139469664&4294967295,N=O+(D<<16&4294967295|D>>>16),D=T+(N^O^_)+P[10]+3200236656&4294967295,T=N+(D<<23&4294967295|D>>>9),D=_+(T^N^O)+P[13]+681279174&4294967295,_=T+(D<<4&4294967295|D>>>28),D=O+(_^T^N)+P[0]+3936430074&4294967295,O=_+(D<<11&4294967295|D>>>21),D=N+(O^_^T)+P[3]+3572445317&4294967295,N=O+(D<<16&4294967295|D>>>16),D=T+(N^O^_)+P[6]+76029189&4294967295,T=N+(D<<23&4294967295|D>>>9),D=_+(T^N^O)+P[9]+3654602809&4294967295,_=T+(D<<4&4294967295|D>>>28),D=O+(_^T^N)+P[12]+3873151461&4294967295,O=_+(D<<11&4294967295|D>>>21),D=N+(O^_^T)+P[15]+530742520&4294967295,N=O+(D<<16&4294967295|D>>>16),D=T+(N^O^_)+P[2]+3299628645&4294967295,T=N+(D<<23&4294967295|D>>>9),D=_+(N^(T|~O))+P[0]+4096336452&4294967295,_=T+(D<<6&4294967295|D>>>26),D=O+(T^(_|~N))+P[7]+1126891415&4294967295,O=_+(D<<10&4294967295|D>>>22),D=N+(_^(O|~T))+P[14]+2878612391&4294967295,N=O+(D<<15&4294967295|D>>>17),D=T+(O^(N|~_))+P[5]+4237533241&4294967295,T=N+(D<<21&4294967295|D>>>11),D=_+(N^(T|~O))+P[12]+1700485571&4294967295,_=T+(D<<6&4294967295|D>>>26),D=O+(T^(_|~N))+P[3]+2399980690&4294967295,O=_+(D<<10&4294967295|D>>>22),D=N+(_^(O|~T))+P[10]+4293915773&4294967295,N=O+(D<<15&4294967295|D>>>17),D=T+(O^(N|~_))+P[1]+2240044497&4294967295,T=N+(D<<21&4294967295|D>>>11),D=_+(N^(T|~O))+P[8]+1873313359&4294967295,_=T+(D<<6&4294967295|D>>>26),D=O+(T^(_|~N))+P[15]+4264355552&4294967295,O=_+(D<<10&4294967295|D>>>22),D=N+(_^(O|~T))+P[6]+2734768916&4294967295,N=O+(D<<15&4294967295|D>>>17),D=T+(O^(N|~_))+P[13]+1309151649&4294967295,T=N+(D<<21&4294967295|D>>>11),D=_+(N^(T|~O))+P[4]+4149444226&4294967295,_=T+(D<<6&4294967295|D>>>26),D=O+(T^(_|~N))+P[11]+3174756917&4294967295,O=_+(D<<10&4294967295|D>>>22),D=N+(_^(O|~T))+P[2]+718787259&4294967295,N=O+(D<<15&4294967295|D>>>17),D=T+(O^(N|~_))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+_&4294967295,S.g[1]=S.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+O&4294967295}n.prototype.u=function(S,_){_===void 0&&(_=S.length);for(var T=_-this.blockSize,P=this.B,N=this.h,O=0;O<_;){if(N==0)for(;O<=T;)a(this,S,O),O+=this.blockSize;if(typeof S=="string"){for(;O<_;)if(P[N++]=S.charCodeAt(O++),N==this.blockSize){a(this,P),N=0;break}}else for(;O<_;)if(P[N++]=S[O++],N==this.blockSize){a(this,P),N=0;break}}this.h=N,this.o+=_},n.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var _=1;_<S.length-8;++_)S[_]=0;var T=8*this.o;for(_=S.length-8;_<S.length;++_)S[_]=T&255,T/=256;for(this.u(S),S=Array(16),_=T=0;4>_;++_)for(var P=0;32>P;P+=8)S[T++]=this.g[_]>>>P&255;return S};function i(S,_){var T=o;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=_(S)}function s(S,_){this.h=_;for(var T=[],P=!0,N=S.length-1;0<=N;N--){var O=S[N]|0;P&&O==_||(T[N]=O,P=!1)}this.g=T}var o={};function l(S){return-128<=S&&128>S?i(S,function(_){return new s([_|0],0>_?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return v(c(-S));for(var _=[],T=1,P=0;S>=T;P++)_[P]=S/T|0,T*=4294967296;return new s(_,0)}function u(S,_){if(S.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(S.charAt(0)=="-")return v(u(S.substring(1),_));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(_,8)),P=f,N=0;N<S.length;N+=8){var O=Math.min(8,S.length-N),D=parseInt(S.substring(N,N+O),_);8>O?(O=c(Math.pow(_,O)),P=P.j(O).add(c(D))):(P=P.j(T),P=P.add(c(D)))}return P}var f=l(0),h=l(1),m=l(16777216);e=s.prototype,e.m=function(){if(g(this))return-v(this).m();for(var S=0,_=1,T=0;T<this.g.length;T++){var P=this.i(T);S+=(0<=P?P:4294967296+P)*_,_*=4294967296}return S},e.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(p(this))return"0";if(g(this))return"-"+v(this).toString(S);for(var _=c(Math.pow(S,6)),T=this,P="";;){var N=E(T,_).g;T=y(T,N.j(_));var O=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=N,p(T))return O+P;for(;6>O.length;)O="0"+O;P=O+P}},e.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function p(S){if(S.h!=0)return!1;for(var _=0;_<S.g.length;_++)if(S.g[_]!=0)return!1;return!0}function g(S){return S.h==-1}e.l=function(S){return S=y(this,S),g(S)?-1:p(S)?0:1};function v(S){for(var _=S.g.length,T=[],P=0;P<_;P++)T[P]=~S.g[P];return new s(T,~S.h).add(h)}e.abs=function(){return g(this)?v(this):this},e.add=function(S){for(var _=Math.max(this.g.length,S.g.length),T=[],P=0,N=0;N<=_;N++){var O=P+(this.i(N)&65535)+(S.i(N)&65535),D=(O>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);P=D>>>16,O&=65535,D&=65535,T[N]=D<<16|O}return new s(T,T[T.length-1]&-2147483648?-1:0)};function y(S,_){return S.add(v(_))}e.j=function(S){if(p(this)||p(S))return f;if(g(this))return g(S)?v(this).j(v(S)):v(v(this).j(S));if(g(S))return v(this.j(v(S)));if(0>this.l(m)&&0>S.l(m))return c(this.m()*S.m());for(var _=this.g.length+S.g.length,T=[],P=0;P<2*_;P++)T[P]=0;for(P=0;P<this.g.length;P++)for(var N=0;N<S.g.length;N++){var O=this.i(P)>>>16,D=this.i(P)&65535,X=S.i(N)>>>16,te=S.i(N)&65535;T[2*P+2*N]+=D*te,x(T,2*P+2*N),T[2*P+2*N+1]+=O*te,x(T,2*P+2*N+1),T[2*P+2*N+1]+=D*X,x(T,2*P+2*N+1),T[2*P+2*N+2]+=O*X,x(T,2*P+2*N+2)}for(P=0;P<_;P++)T[P]=T[2*P+1]<<16|T[2*P];for(P=_;P<2*_;P++)T[P]=0;return new s(T,0)};function x(S,_){for(;(S[_]&65535)!=S[_];)S[_+1]+=S[_]>>>16,S[_]&=65535,_++}function b(S,_){this.g=S,this.h=_}function E(S,_){if(p(_))throw Error("division by zero");if(p(S))return new b(f,f);if(g(S))return _=E(v(S),_),new b(v(_.g),v(_.h));if(g(_))return _=E(S,v(_)),new b(v(_.g),_.h);if(30<S.g.length){if(g(S)||g(_))throw Error("slowDivide_ only works with positive integers.");for(var T=h,P=_;0>=P.l(S);)T=k(T),P=k(P);var N=C(T,1),O=C(P,1);for(P=C(P,2),T=C(T,2);!p(P);){var D=O.add(P);0>=D.l(S)&&(N=N.add(T),O=D),P=C(P,1),T=C(T,1)}return _=y(S,N.j(_)),new b(N,_)}for(N=f;0<=S.l(_);){for(T=Math.max(1,Math.floor(S.m()/_.m())),P=Math.ceil(Math.log(T)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),O=c(T),D=O.j(_);g(D)||0<D.l(S);)T-=P,O=c(T),D=O.j(_);p(O)&&(O=h),N=N.add(O),S=y(S,D)}return new b(N,S)}e.A=function(S){return E(this,S).h},e.and=function(S){for(var _=Math.max(this.g.length,S.g.length),T=[],P=0;P<_;P++)T[P]=this.i(P)&S.i(P);return new s(T,this.h&S.h)},e.or=function(S){for(var _=Math.max(this.g.length,S.g.length),T=[],P=0;P<_;P++)T[P]=this.i(P)|S.i(P);return new s(T,this.h|S.h)},e.xor=function(S){for(var _=Math.max(this.g.length,S.g.length),T=[],P=0;P<_;P++)T[P]=this.i(P)^S.i(P);return new s(T,this.h^S.h)};function k(S){for(var _=S.g.length+1,T=[],P=0;P<_;P++)T[P]=S.i(P)<<1|S.i(P-1)>>>31;return new s(T,S.h)}function C(S,_){var T=_>>5;_%=32;for(var P=S.g.length-T,N=[],O=0;O<P;O++)N[O]=0<_?S.i(O+T)>>>_|S.i(O+T+1)<<32-_:S.i(O+T);return new s(N,S.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,yH=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Tu=s}).apply(typeof DF<"u"?DF:typeof self<"u"?self:typeof window<"u"?window:{});var Zx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xH,Vp,wH,Y1,FC,bH,_H,EH;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,I,R){return w==Array.prototype||w==Object.prototype||(w[I]=R.value),w};function r(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zx=="object"&&Zx];for(var I=0;I<w.length;++I){var R=w[I];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var n=r(this);function a(w,I){if(I)e:{var R=n;w=w.split(".");for(var V=0;V<w.length-1;V++){var fe=w[V];if(!(fe in R))break e;R=R[fe]}w=w[w.length-1],V=R[w],I=I(V),I!=V&&I!=null&&t(R,w,{configurable:!0,writable:!0,value:I})}}function i(w,I){w instanceof String&&(w+="");var R=0,V=!1,fe={next:function(){if(!V&&R<w.length){var _e=R++;return{value:I(_e,w[_e]),done:!1}}return V=!0,{done:!0,value:void 0}}};return fe[Symbol.iterator]=function(){return fe},fe}a("Array.prototype.values",function(w){return w||function(){return i(this,function(I,R){return R})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(w){var I=typeof w;return I=I!="object"?I:w?Array.isArray(w)?"array":I:"null",I=="array"||I=="object"&&typeof w.length=="number"}function c(w){var I=typeof w;return I=="object"&&w!=null||I=="function"}function u(w,I,R){return w.call.apply(w.bind,arguments)}function f(w,I,R){if(!w)throw Error();if(2<arguments.length){var V=Array.prototype.slice.call(arguments,2);return function(){var fe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(fe,V),w.apply(I,fe)}}return function(){return w.apply(I,arguments)}}function h(w,I,R){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function m(w,I){var R=Array.prototype.slice.call(arguments,1);return function(){var V=R.slice();return V.push.apply(V,arguments),w.apply(this,V)}}function p(w,I){function R(){}R.prototype=I.prototype,w.aa=I.prototype,w.prototype=new R,w.prototype.constructor=w,w.Qb=function(V,fe,_e){for(var Ue=Array(arguments.length-2),gr=2;gr<arguments.length;gr++)Ue[gr-2]=arguments[gr];return I.prototype[fe].apply(V,Ue)}}function g(w){const I=w.length;if(0<I){const R=Array(I);for(let V=0;V<I;V++)R[V]=w[V];return R}return[]}function v(w,I){for(let R=1;R<arguments.length;R++){const V=arguments[R];if(l(V)){const fe=w.length||0,_e=V.length||0;w.length=fe+_e;for(let Ue=0;Ue<_e;Ue++)w[fe+Ue]=V[Ue]}else w.push(V)}}class y{constructor(I,R){this.i=I,this.j=R,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function x(w){return/^[\s\xa0]*$/.test(w)}function b(){var w=o.navigator;return w&&(w=w.userAgent)?w:""}function E(w){return E[" "](w),w}E[" "]=function(){};var k=b().indexOf("Gecko")!=-1&&!(b().toLowerCase().indexOf("webkit")!=-1&&b().indexOf("Edge")==-1)&&!(b().indexOf("Trident")!=-1||b().indexOf("MSIE")!=-1)&&b().indexOf("Edge")==-1;function C(w,I,R){for(const V in w)I.call(R,w[V],V,w)}function S(w,I){for(const R in w)I.call(void 0,w[R],R,w)}function _(w){const I={};for(const R in w)I[R]=w[R];return I}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(w,I){let R,V;for(let fe=1;fe<arguments.length;fe++){V=arguments[fe];for(R in V)w[R]=V[R];for(let _e=0;_e<T.length;_e++)R=T[_e],Object.prototype.hasOwnProperty.call(V,R)&&(w[R]=V[R])}}function N(w){var I=1;w=w.split(":");const R=[];for(;0<I&&w.length;)R.push(w.shift()),I--;return w.length&&R.push(w.join(":")),R}function O(w){o.setTimeout(()=>{throw w},0)}function D(){var w=j;let I=null;return w.g&&(I=w.g,w.g=w.g.next,w.g||(w.h=null),I.next=null),I}class X{constructor(){this.h=this.g=null}add(I,R){const V=te.get();V.set(I,R),this.h?this.h.next=V:this.g=V,this.h=V}}var te=new y(()=>new ne,w=>w.reset());class ne{constructor(){this.next=this.g=this.h=null}set(I,R){this.h=I,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,z=!1,j=new X,ce=()=>{const w=o.Promise.resolve(void 0);Q=()=>{w.then(ee)}};var ee=()=>{for(var w;w=D();){try{w.h.call(w.g)}catch(R){O(R)}var I=te;I.j(w),100>I.h&&(I.h++,w.next=I.g,I.g=w)}z=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(w,I){this.type=w,this.g=this.target=I,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var w=!1,I=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const R=()=>{};o.addEventListener("test",R,I),o.removeEventListener("test",R,I)}catch{}return w}();function G(w,I){if(H.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var R=this.type=w.type,V=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=I,I=w.relatedTarget){if(k){e:{try{E(I.nodeName);var fe=!0;break e}catch{}fe=!1}fe||(I=null)}}else R=="mouseover"?I=w.fromElement:R=="mouseout"&&(I=w.toElement);this.relatedTarget=I,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:ae[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&G.aa.h.call(this)}}p(G,H);var ae={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var de="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Z(w,I,R,V,fe){this.listener=w,this.proxy=null,this.src=I,this.type=R,this.capture=!!V,this.ha=fe,this.key=++xe,this.da=this.fa=!1}function ie(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function we(w){this.src=w,this.g={},this.h=0}we.prototype.add=function(w,I,R,V,fe){var _e=w.toString();w=this.g[_e],w||(w=this.g[_e]=[],this.h++);var Ue=Me(w,I,V,fe);return-1<Ue?(I=w[Ue],R||(I.fa=!1)):(I=new Z(I,this.src,_e,!!V,fe),I.fa=R,w.push(I)),I};function F(w,I){var R=I.type;if(R in w.g){var V=w.g[R],fe=Array.prototype.indexOf.call(V,I,void 0),_e;(_e=0<=fe)&&Array.prototype.splice.call(V,fe,1),_e&&(ie(I),w.g[R].length==0&&(delete w.g[R],w.h--))}}function Me(w,I,R,V){for(var fe=0;fe<w.length;++fe){var _e=w[fe];if(!_e.da&&_e.listener==I&&_e.capture==!!R&&_e.ha==V)return fe}return-1}var Ce="closure_lm_"+(1e6*Math.random()|0),Be={};function Ie(w,I,R,V,fe){if(Array.isArray(I)){for(var _e=0;_e<I.length;_e++)Ie(w,I[_e],R,V,fe);return null}return R=vt(R),w&&w[de]?w.K(I,R,c(V)?!!V.capture:!1,fe):re(w,I,R,!1,V,fe)}function re(w,I,R,V,fe,_e){if(!I)throw Error("Invalid event type");var Ue=c(fe)?!!fe.capture:!!fe,gr=qt(w);if(gr||(w[Ce]=gr=new we(w)),R=gr.add(I,R,V,Ue,_e),R.proxy)return R;if(V=Ve(),R.proxy=V,V.src=w,V.listener=R,w.addEventListener)U||(fe=Ue),fe===void 0&&(fe=!1),w.addEventListener(I.toString(),V,fe);else if(w.attachEvent)w.attachEvent(Lt(I.toString()),V);else if(w.addListener&&w.removeListener)w.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Ve(){function w(R){return I.call(w.src,w.listener,R)}const I=Yn;return w}function bt(w,I,R,V,fe){if(Array.isArray(I))for(var _e=0;_e<I.length;_e++)bt(w,I[_e],R,V,fe);else V=c(V)?!!V.capture:!!V,R=vt(R),w&&w[de]?(w=w.i,I=String(I).toString(),I in w.g&&(_e=w.g[I],R=Me(_e,R,V,fe),-1<R&&(ie(_e[R]),Array.prototype.splice.call(_e,R,1),_e.length==0&&(delete w.g[I],w.h--)))):w&&(w=qt(w))&&(I=w.g[I.toString()],w=-1,I&&(w=Me(I,R,V,fe)),(R=-1<w?I[w]:null)&&ot(R))}function ot(w){if(typeof w!="number"&&w&&!w.da){var I=w.src;if(I&&I[de])F(I.i,w);else{var R=w.type,V=w.proxy;I.removeEventListener?I.removeEventListener(R,V,w.capture):I.detachEvent?I.detachEvent(Lt(R),V):I.addListener&&I.removeListener&&I.removeListener(V),(R=qt(I))?(F(R,w),R.h==0&&(R.src=null,I[Ce]=null)):ie(w)}}}function Lt(w){return w in Be?Be[w]:Be[w]="on"+w}function Yn(w,I){if(w.da)w=!0;else{I=new G(I,this);var R=w.listener,V=w.ha||w.src;w.fa&&ot(w),w=R.call(V,I)}return w}function qt(w){return w=w[Ce],w instanceof we?w:null}var Yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function vt(w){return typeof w=="function"?w:(w[Yt]||(w[Yt]=function(I){return w.handleEvent(I)}),w[Yt])}function Nt(){M.call(this),this.i=new we(this),this.M=this,this.F=null}p(Nt,M),Nt.prototype[de]=!0,Nt.prototype.removeEventListener=function(w,I,R,V){bt(this,w,I,R,V)};function ur(w,I){var R,V=w.F;if(V)for(R=[];V;V=V.F)R.push(V);if(w=w.M,V=I.type||I,typeof I=="string")I=new H(I,w);else if(I instanceof H)I.target=I.target||w;else{var fe=I;I=new H(V,w),P(I,fe)}if(fe=!0,R)for(var _e=R.length-1;0<=_e;_e--){var Ue=I.g=R[_e];fe=tr(Ue,V,!0,I)&&fe}if(Ue=I.g=w,fe=tr(Ue,V,!0,I)&&fe,fe=tr(Ue,V,!1,I)&&fe,R)for(_e=0;_e<R.length;_e++)Ue=I.g=R[_e],fe=tr(Ue,V,!1,I)&&fe}Nt.prototype.N=function(){if(Nt.aa.N.call(this),this.i){var w=this.i,I;for(I in w.g){for(var R=w.g[I],V=0;V<R.length;V++)ie(R[V]);delete w.g[I],w.h--}}this.F=null},Nt.prototype.K=function(w,I,R,V){return this.i.add(String(w),I,!1,R,V)},Nt.prototype.L=function(w,I,R,V){return this.i.add(String(w),I,!0,R,V)};function tr(w,I,R,V){if(I=w.i.g[String(I)],!I)return!0;I=I.concat();for(var fe=!0,_e=0;_e<I.length;++_e){var Ue=I[_e];if(Ue&&!Ue.da&&Ue.capture==R){var gr=Ue.listener,ha=Ue.ha||Ue.src;Ue.fa&&F(w.i,Ue),fe=gr.call(ha,V)!==!1&&fe}}return fe&&!V.defaultPrevented}function Xn(w,I,R){if(typeof w=="function")R&&(w=h(w,R));else if(w&&typeof w.handleEvent=="function")w=h(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:o.setTimeout(w,I||0)}function wt(w){w.g=Xn(()=>{w.g=null,w.i&&(w.i=!1,wt(w))},w.l);const I=w.h;w.h=null,w.m.apply(null,I)}class dr extends M{constructor(I,R){super(),this.m=I,this.l=R,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:wt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function un(w){M.call(this),this.h=w,this.g={}}p(un,M);var pr=[];function ei(w){C(w.g,function(I,R){this.g.hasOwnProperty(R)&&ot(I)},w),w.g={}}un.prototype.N=function(){un.aa.N.call(this),ei(this)},un.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var to=o.JSON.stringify,ms=o.JSON.parse,$i=class{stringify(w){return o.JSON.stringify(w,void 0)}parse(w){return o.JSON.parse(w,void 0)}};function ps(){}ps.prototype.h=null;function ro(w){return w.h||(w.h=w.i())}function bd(){}var Cl={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _d(){H.call(this,"d")}p(_d,H);function Lo(){H.call(this,"c")}p(Lo,H);var no={},vh=null;function Lc(){return vh=vh||new Nt}no.La="serverreachability";function yh(w){H.call(this,no.La,w)}p(yh,H);function kl(w){const I=Lc();ur(I,new yh(I))}no.STAT_EVENT="statevent";function Ed(w,I){H.call(this,no.STAT_EVENT,w),this.stat=I}p(Ed,H);function Dn(w){const I=Lc();ur(I,new Ed(I,w))}no.Ma="timingevent";function $o(w,I){H.call(this,no.Ma,w),this.size=I}p($o,H);function ao(w,I){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){w()},I)}function Nl(){this.g=!0}Nl.prototype.xa=function(){this.g=!1};function tp(w,I,R,V,fe,_e){w.info(function(){if(w.g)if(_e)for(var Ue="",gr=_e.split("&"),ha=0;ha<gr.length;ha++){var Xt=gr[ha].split("=");if(1<Xt.length){var Aa=Xt[0];Xt=Xt[1];var Ca=Aa.split("_");Ue=2<=Ca.length&&Ca[1]=="type"?Ue+(Aa+"="+Xt+"&"):Ue+(Aa+"=redacted&")}}else Ue=null;else Ue=_e;return"XMLHTTP REQ ("+V+") [attempt "+fe+"]: "+I+`
`+R+`
`+Ue})}function rp(w,I,R,V,fe,_e,Ue){w.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+fe+"]: "+I+`
`+R+`
`+_e+" "+Ue})}function L(w,I,R,V){w.info(function(){return"XMLHTTP TEXT ("+I+"): "+W(w,R)+(V?" "+V:"")})}function q(w,I){w.info(function(){return"TIMEOUT: "+I})}Nl.prototype.info=function(){};function W(w,I){if(!w.g)return I;if(!I)return null;try{var R=JSON.parse(I);if(R){for(w=0;w<R.length;w++)if(Array.isArray(R[w])){var V=R[w];if(!(2>V.length)){var fe=V[1];if(Array.isArray(fe)&&!(1>fe.length)){var _e=fe[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var Ue=1;Ue<fe.length;Ue++)fe[Ue]=""}}}}return to(R)}catch{return I}}var K={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Y={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},J;function he(){}p(he,ps),he.prototype.g=function(){return new XMLHttpRequest},he.prototype.i=function(){return{}},J=new he;function Ee(w,I,R,V){this.j=w,this.i=I,this.l=R,this.R=V||1,this.U=new un(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new me}function me(){this.i=null,this.g="",this.h=!1}var pe={},ve={};function Oe(w,I,R){w.L=1,w.v=px(Pl(I)),w.m=R,w.P=!0,B(w,null)}function B(w,I){w.F=Date.now(),ye(w),w.A=Pl(w.v);var R=w.A,V=w.R;Array.isArray(V)||(V=[String(V)]),d4(R.i,"t",V),w.C=0,R=w.j.J,w.h=new me,w.g=N4(w.j,R?I:null,!w.m),0<w.O&&(w.M=new dr(h(w.Y,w,w.g),w.O)),I=w.U,R=w.g,V=w.ca;var fe="readystatechange";Array.isArray(fe)||(fe&&(pr[0]=fe.toString()),fe=pr);for(var _e=0;_e<fe.length;_e++){var Ue=Ie(R,fe[_e],V||I.handleEvent,!1,I.h||I);if(!Ue)break;I.g[Ue.key]=Ue}I=w.H?_(w.H):{},w.m?(w.u||(w.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,I)):(w.u="GET",w.g.ea(w.A,w.u,null,I)),kl(),tp(w.i,w.u,w.A,w.l,w.R,w.m)}Ee.prototype.ca=function(w){w=w.target;const I=this.M;I&&Il(w)==3?I.j():this.Y(w)},Ee.prototype.Y=function(w){try{if(w==this.g)e:{const Ca=Il(this.g);var I=this.g.Ba();const Eh=this.g.Z();if(!(3>Ca)&&(Ca!=3||this.g&&(this.h.h||this.g.oa()||y4(this.g)))){this.J||Ca!=4||I==7||(I==8||0>=Eh?kl(3):kl(2)),be(this);var R=this.g.Z();this.X=R;t:if(oe(this)){var V=y4(this.g);w="";var fe=V.length,_e=Il(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){He(this),Te(this);var Ue="";break t}this.h.i=new o.TextDecoder}for(I=0;I<fe;I++)this.h.h=!0,w+=this.h.i.decode(V[I],{stream:!(_e&&I==fe-1)});V.length=0,this.h.g+=w,this.C=0,Ue=this.h.g}else Ue=this.g.oa();if(this.o=R==200,rp(this.i,this.u,this.A,this.l,this.R,Ca,R),this.o){if(this.T&&!this.K){t:{if(this.g){var gr,ha=this.g;if((gr=ha.g?ha.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(gr)){var Xt=gr;break t}}Xt=null}if(R=Xt)L(this.i,this.l,R,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,We(this,R);else{this.o=!1,this.s=3,Dn(12),He(this),Te(this);break e}}if(this.P){R=!0;let io;for(;!this.J&&this.C<Ue.length;)if(io=ue(this,Ue),io==ve){Ca==4&&(this.s=4,Dn(14),R=!1),L(this.i,this.l,null,"[Incomplete Response]");break}else if(io==pe){this.s=4,Dn(15),L(this.i,this.l,Ue,"[Invalid Chunk]"),R=!1;break}else L(this.i,this.l,io,null),We(this,io);if(oe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ca!=4||Ue.length!=0||this.h.h||(this.s=1,Dn(16),R=!1),this.o=this.o&&R,!R)L(this.i,this.l,Ue,"[Invalid Chunked Response]"),He(this),Te(this);else if(0<Ue.length&&!this.W){this.W=!0;var Aa=this.j;Aa.g==this&&Aa.ba&&!Aa.M&&(Aa.j.info("Great, no buffering proxy detected. Bytes received: "+Ue.length),o2(Aa),Aa.M=!0,Dn(11))}}else L(this.i,this.l,Ue,null),We(this,Ue);Ca==4&&He(this),this.o&&!this.J&&(Ca==4?T4(this.j,this):(this.o=!1,ye(this)))}else Ure(this.g),R==400&&0<Ue.indexOf("Unknown SID")?(this.s=3,Dn(12)):(this.s=0,Dn(13)),He(this),Te(this)}}}catch{}finally{}};function oe(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function ue(w,I){var R=w.C,V=I.indexOf(`
`,R);return V==-1?ve:(R=Number(I.substring(R,V)),isNaN(R)?pe:(V+=1,V+R>I.length?ve:(I=I.slice(V,V+R),w.C=V+R,I)))}Ee.prototype.cancel=function(){this.J=!0,He(this)};function ye(w){w.S=Date.now()+w.I,le(w,w.I)}function le(w,I){if(w.B!=null)throw Error("WatchDog timer not null");w.B=ao(h(w.ba,w),I)}function be(w){w.B&&(o.clearTimeout(w.B),w.B=null)}Ee.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(q(this.i,this.A),this.L!=2&&(kl(),Dn(17)),He(this),this.s=2,Te(this)):le(this,this.S-w)};function Te(w){w.j.G==0||w.J||T4(w.j,w)}function He(w){be(w);var I=w.M;I&&typeof I.ma=="function"&&I.ma(),w.M=null,ei(w.U),w.g&&(I=w.g,w.g=null,I.abort(),I.ma())}function We(w,I){try{var R=w.j;if(R.G!=0&&(R.g==w||Ge(R.h,w))){if(!w.K&&Ge(R.h,w)&&R.G==3){try{var V=R.Da.g.parse(I)}catch{V=null}if(Array.isArray(V)&&V.length==3){var fe=V;if(fe[0]==0){e:if(!R.u){if(R.g)if(R.g.F+3e3<w.F)bx(R),xx(R);else break e;s2(R),Dn(18)}}else R.za=fe[1],0<R.za-R.T&&37500>fe[2]&&R.F&&R.v==0&&!R.C&&(R.C=ao(h(R.Za,R),6e3));if(1>=nt(R.h)&&R.ca){try{R.ca()}catch{}R.ca=void 0}}else Td(R,11)}else if((w.K||R.g==w)&&bx(R),!x(I))for(fe=R.Da.g.parse(I),I=0;I<fe.length;I++){let Xt=fe[I];if(R.T=Xt[0],Xt=Xt[1],R.G==2)if(Xt[0]=="c"){R.K=Xt[1],R.ia=Xt[2];const Aa=Xt[3];Aa!=null&&(R.la=Aa,R.j.info("VER="+R.la));const Ca=Xt[4];Ca!=null&&(R.Aa=Ca,R.j.info("SVER="+R.Aa));const Eh=Xt[5];Eh!=null&&typeof Eh=="number"&&0<Eh&&(V=1.5*Eh,R.L=V,R.j.info("backChannelRequestTimeoutMs_="+V)),V=R;const io=w.g;if(io){const Ex=io.g?io.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ex){var _e=V.h;_e.g||Ex.indexOf("spdy")==-1&&Ex.indexOf("quic")==-1&&Ex.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(At(_e,_e.h),_e.h=null))}if(V.D){const l2=io.g?io.g.getResponseHeader("X-HTTP-Session-Id"):null;l2&&(V.ya=l2,Ar(V.I,V.D,l2))}}R.G=3,R.l&&R.l.ua(),R.ba&&(R.R=Date.now()-w.F,R.j.info("Handshake RTT: "+R.R+"ms")),V=R;var Ue=w;if(V.qa=k4(V,V.J?V.ia:null,V.W),Ue.K){Tr(V.h,Ue);var gr=Ue,ha=V.L;ha&&(gr.I=ha),gr.B&&(be(gr),ye(gr)),V.g=Ue}else E4(V);0<R.i.length&&wx(R)}else Xt[0]!="stop"&&Xt[0]!="close"||Td(R,7);else R.G==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Td(R,7):i2(R):Xt[0]!="noop"&&R.l&&R.l.ta(Xt),R.v=0)}}kl(4)}catch{}}var lt=class{constructor(w,I){this.g=w,this.map=I}};function et(w){this.l=w||10,o.PerformanceNavigationTiming?(w=o.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function nt(w){return w.h?1:w.g?w.g.size:0}function Ge(w,I){return w.h?w.h==I:w.g?w.g.has(I):!1}function At(w,I){w.g?w.g.add(I):w.h=I}function Tr(w,I){w.h&&w.h==I?w.h=null:w.g&&w.g.has(I)&&w.g.delete(I)}et.prototype.cancel=function(){if(this.i=fa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function fa(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let I=w.i;for(const R of w.g.values())I=I.concat(R.D);return I}return g(w.i)}function $c(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(l(w)){for(var I=[],R=w.length,V=0;V<R;V++)I.push(w[V]);return I}I=[],R=0;for(V in w)I[R++]=w[V];return I}function xh(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(l(w)||typeof w=="string"){var I=[];w=w.length;for(var R=0;R<w;R++)I.push(R);return I}I=[],R=0;for(const V in w)I[R++]=V;return I}}}function wh(w,I){if(w.forEach&&typeof w.forEach=="function")w.forEach(I,void 0);else if(l(w)||typeof w=="string")Array.prototype.forEach.call(w,I,void 0);else for(var R=xh(w),V=$c(w),fe=V.length,_e=0;_e<fe;_e++)I.call(void 0,V[_e],R&&R[_e],w)}var s4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kre(w,I){if(w){w=w.split("&");for(var R=0;R<w.length;R++){var V=w[R].indexOf("="),fe=null;if(0<=V){var _e=w[R].substring(0,V);fe=w[R].substring(V+1)}else _e=w[R];I(_e,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function Sd(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof Sd){this.h=w.h,hx(this,w.j),this.o=w.o,this.g=w.g,mx(this,w.s),this.l=w.l;var I=w.i,R=new ip;R.i=I.i,I.g&&(R.g=new Map(I.g),R.h=I.h),o4(this,R),this.m=w.m}else w&&(I=String(w).match(s4))?(this.h=!1,hx(this,I[1]||"",!0),this.o=np(I[2]||""),this.g=np(I[3]||"",!0),mx(this,I[4]),this.l=np(I[5]||"",!0),o4(this,I[6]||"",!0),this.m=np(I[7]||"")):(this.h=!1,this.i=new ip(null,this.h))}Sd.prototype.toString=function(){var w=[],I=this.j;I&&w.push(ap(I,l4,!0),":");var R=this.g;return(R||I=="file")&&(w.push("//"),(I=this.o)&&w.push(ap(I,l4,!0),"@"),w.push(encodeURIComponent(String(R)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.s,R!=null&&w.push(":",String(R))),(R=this.l)&&(this.g&&R.charAt(0)!="/"&&w.push("/"),w.push(ap(R,R.charAt(0)=="/"?Ire:Pre,!0))),(R=this.i.toString())&&w.push("?",R),(R=this.m)&&w.push("#",ap(R,Dre)),w.join("")};function Pl(w){return new Sd(w)}function hx(w,I,R){w.j=R?np(I,!0):I,w.j&&(w.j=w.j.replace(/:$/,""))}function mx(w,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);w.s=I}else w.s=null}function o4(w,I,R){I instanceof ip?(w.i=I,jre(w.i,w.h)):(R||(I=ap(I,Ore)),w.i=new ip(I,w.h))}function Ar(w,I,R){w.i.set(I,R)}function px(w){return Ar(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function np(w,I){return w?I?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function ap(w,I,R){return typeof w=="string"?(w=encodeURI(w).replace(I,Nre),R&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Nre(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var l4=/[#\/\?@]/g,Pre=/[#\?:]/g,Ire=/[#\?]/g,Ore=/[#\?@]/g,Dre=/#/g;function ip(w,I){this.h=this.g=null,this.i=w||null,this.j=!!I}function Bc(w){w.g||(w.g=new Map,w.h=0,w.i&&kre(w.i,function(I,R){w.add(decodeURIComponent(I.replace(/\+/g," ")),R)}))}e=ip.prototype,e.add=function(w,I){Bc(this),this.i=null,w=bh(this,w);var R=this.g.get(w);return R||this.g.set(w,R=[]),R.push(I),this.h+=1,this};function c4(w,I){Bc(w),I=bh(w,I),w.g.has(I)&&(w.i=null,w.h-=w.g.get(I).length,w.g.delete(I))}function u4(w,I){return Bc(w),I=bh(w,I),w.g.has(I)}e.forEach=function(w,I){Bc(this),this.g.forEach(function(R,V){R.forEach(function(fe){w.call(I,fe,V,this)},this)},this)},e.na=function(){Bc(this);const w=Array.from(this.g.values()),I=Array.from(this.g.keys()),R=[];for(let V=0;V<I.length;V++){const fe=w[V];for(let _e=0;_e<fe.length;_e++)R.push(I[V])}return R},e.V=function(w){Bc(this);let I=[];if(typeof w=="string")u4(this,w)&&(I=I.concat(this.g.get(bh(this,w))));else{w=Array.from(this.g.values());for(let R=0;R<w.length;R++)I=I.concat(w[R])}return I},e.set=function(w,I){return Bc(this),this.i=null,w=bh(this,w),u4(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[I]),this.h+=1,this},e.get=function(w,I){return w?(w=this.V(w),0<w.length?String(w[0]):I):I};function d4(w,I,R){c4(w,I),0<R.length&&(w.i=null,w.g.set(bh(w,I),g(R)),w.h+=R.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],I=Array.from(this.g.keys());for(var R=0;R<I.length;R++){var V=I[R];const _e=encodeURIComponent(String(V)),Ue=this.V(V);for(V=0;V<Ue.length;V++){var fe=_e;Ue[V]!==""&&(fe+="="+encodeURIComponent(String(Ue[V]))),w.push(fe)}}return this.i=w.join("&")};function bh(w,I){return I=String(I),w.j&&(I=I.toLowerCase()),I}function jre(w,I){I&&!w.j&&(Bc(w),w.i=null,w.g.forEach(function(R,V){var fe=V.toLowerCase();V!=fe&&(c4(this,V),d4(this,fe,R))},w)),w.j=I}function Rre(w,I){const R=new Nl;if(o.Image){const V=new Image;V.onload=m(Uc,R,"TestLoadImage: loaded",!0,I,V),V.onerror=m(Uc,R,"TestLoadImage: error",!1,I,V),V.onabort=m(Uc,R,"TestLoadImage: abort",!1,I,V),V.ontimeout=m(Uc,R,"TestLoadImage: timeout",!1,I,V),o.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=w}else I(!1)}function Mre(w,I){const R=new Nl,V=new AbortController,fe=setTimeout(()=>{V.abort(),Uc(R,"TestPingServer: timeout",!1,I)},1e4);fetch(w,{signal:V.signal}).then(_e=>{clearTimeout(fe),_e.ok?Uc(R,"TestPingServer: ok",!0,I):Uc(R,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(fe),Uc(R,"TestPingServer: error",!1,I)})}function Uc(w,I,R,V,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),V(R)}catch{}}function Fre(){this.g=new $i}function Lre(w,I,R){const V=R||"";try{wh(w,function(fe,_e){let Ue=fe;c(fe)&&(Ue=to(fe)),I.push(V+_e+"="+encodeURIComponent(Ue))})}catch(fe){throw I.push(V+"type="+encodeURIComponent("_badmap")),fe}}function gx(w){this.l=w.Ub||null,this.j=w.eb||!1}p(gx,ps),gx.prototype.g=function(){return new vx(this.l,this.j)},gx.prototype.i=function(w){return function(){return w}}({});function vx(w,I){Nt.call(this),this.D=w,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(vx,Nt),e=vx.prototype,e.open=function(w,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=I,this.readyState=1,op(this)},e.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(I.body=w),(this.D||o).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sp(this)),this.readyState=0},e.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,op(this)),this.g&&(this.readyState=3,op(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;f4(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function f4(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}e.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var I=w.value?w.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!w.done}))&&(this.response=this.responseText+=I)}w.done?sp(this):op(this),this.readyState==3&&f4(this)}},e.Ra=function(w){this.g&&(this.response=this.responseText=w,sp(this))},e.Qa=function(w){this.g&&(this.response=w,sp(this))},e.ga=function(){this.g&&sp(this)};function sp(w){w.readyState=4,w.l=null,w.j=null,w.v=null,op(w)}e.setRequestHeader=function(w,I){this.u.append(w,I)},e.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],I=this.h.entries();for(var R=I.next();!R.done;)R=R.value,w.push(R[0]+": "+R[1]),R=I.next();return w.join(`\r
`)};function op(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(vx.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function h4(w){let I="";return C(w,function(R,V){I+=V,I+=":",I+=R,I+=`\r
`}),I}function a2(w,I,R){e:{for(V in R){var V=!1;break e}V=!0}V||(R=h4(R),typeof w=="string"?R!=null&&encodeURIComponent(String(R)):Ar(w,I,R))}function Zr(w){Nt.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(Zr,Nt);var $re=/^https?$/i,Bre=["POST","PUT"];e=Zr.prototype,e.Ha=function(w){this.J=w},e.ea=function(w,I,R,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);I=I?I.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():J.g(),this.v=this.o?ro(this.o):ro(J),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(I,String(w),!0),this.B=!1}catch(_e){m4(this,_e);return}if(w=R||"",R=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var fe in V)R.set(fe,V[fe]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const _e of V.keys())R.set(_e,V.get(_e));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(R.keys()).find(_e=>_e.toLowerCase()=="content-type"),fe=o.FormData&&w instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Bre,I,void 0))||V||fe||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Ue]of R)this.g.setRequestHeader(_e,Ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{v4(this),this.u=!0,this.g.send(w),this.u=!1}catch(_e){m4(this,_e)}};function m4(w,I){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=I,w.m=5,p4(w),yx(w)}function p4(w){w.A||(w.A=!0,ur(w,"complete"),ur(w,"error"))}e.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,ur(this,"complete"),ur(this,"abort"),yx(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yx(this,!0)),Zr.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?g4(this):this.bb())},e.bb=function(){g4(this)};function g4(w){if(w.h&&typeof s<"u"&&(!w.v[1]||Il(w)!=4||w.Z()!=2)){if(w.u&&Il(w)==4)Xn(w.Ea,0,w);else if(ur(w,"readystatechange"),Il(w)==4){w.h=!1;try{const Ue=w.Z();e:switch(Ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var R;if(!(R=I)){var V;if(V=Ue===0){var fe=String(w.D).match(s4)[1]||null;!fe&&o.self&&o.self.location&&(fe=o.self.location.protocol.slice(0,-1)),V=!$re.test(fe?fe.toLowerCase():"")}R=V}if(R)ur(w,"complete"),ur(w,"success");else{w.m=6;try{var _e=2<Il(w)?w.g.statusText:""}catch{_e=""}w.l=_e+" ["+w.Z()+"]",p4(w)}}finally{yx(w)}}}}function yx(w,I){if(w.g){v4(w);const R=w.g,V=w.v[0]?()=>{}:null;w.g=null,w.v=null,I||ur(w,"ready");try{R.onreadystatechange=V}catch{}}}function v4(w){w.I&&(o.clearTimeout(w.I),w.I=null)}e.isActive=function(){return!!this.g};function Il(w){return w.g?w.g.readyState:0}e.Z=function(){try{return 2<Il(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(w){if(this.g){var I=this.g.responseText;return w&&I.indexOf(w)==0&&(I=I.substring(w.length)),ms(I)}};function y4(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Ure(w){const I={};w=(w.g&&2<=Il(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<w.length;V++){if(x(w[V]))continue;var R=N(w[V]);const fe=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const _e=I[fe]||[];I[fe]=_e,_e.push(R)}S(I,function(V){return V.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function lp(w,I,R){return R&&R.internalChannelParams&&R.internalChannelParams[w]||I}function x4(w){this.Aa=0,this.i=[],this.j=new Nl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=lp("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=lp("baseRetryDelayMs",5e3,w),this.cb=lp("retryDelaySeedMs",1e4,w),this.Wa=lp("forwardChannelMaxRetries",2,w),this.wa=lp("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new et(w&&w.concurrentRequestLimit),this.Da=new Fre,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=x4.prototype,e.la=8,e.G=1,e.connect=function(w,I,R,V){Dn(0),this.W=w,this.H=I||{},R&&V!==void 0&&(this.H.OSID=R,this.H.OAID=V),this.F=this.X,this.I=k4(this,null,this.W),wx(this)};function i2(w){if(w4(w),w.G==3){var I=w.U++,R=Pl(w.I);if(Ar(R,"SID",w.K),Ar(R,"RID",I),Ar(R,"TYPE","terminate"),cp(w,R),I=new Ee(w,w.j,I),I.L=2,I.v=px(Pl(R)),R=!1,o.navigator&&o.navigator.sendBeacon)try{R=o.navigator.sendBeacon(I.v.toString(),"")}catch{}!R&&o.Image&&(new Image().src=I.v,R=!0),R||(I.g=N4(I.j,null),I.g.ea(I.v)),I.F=Date.now(),ye(I)}C4(w)}function xx(w){w.g&&(o2(w),w.g.cancel(),w.g=null)}function w4(w){xx(w),w.u&&(o.clearTimeout(w.u),w.u=null),bx(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&o.clearTimeout(w.s),w.s=null)}function wx(w){if(!Xe(w.h)&&!w.s){w.s=!0;var I=w.Ga;Q||ce(),z||(Q(),z=!0),j.add(I,w),w.B=0}}function Vre(w,I){return nt(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=I.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=ao(h(w.Ga,w,I),A4(w,w.B)),w.B++,!0)}e.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const fe=new Ee(this,this.j,w);let _e=this.o;if(this.S&&(_e?(_e=_(_e),P(_e,this.S)):_e=this.S),this.m!==null||this.O||(fe.H=_e,_e=null),this.P)e:{for(var I=0,R=0;R<this.i.length;R++){t:{var V=this.i[R];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(I+=V,4096<I){I=R;break e}if(I===4096||R===this.i.length-1){I=R+1;break e}}I=1e3}else I=1e3;I=_4(this,fe,I),R=Pl(this.I),Ar(R,"RID",w),Ar(R,"CVER",22),this.D&&Ar(R,"X-HTTP-Session-Id",this.D),cp(this,R),_e&&(this.O?I="headers="+encodeURIComponent(String(h4(_e)))+"&"+I:this.m&&a2(R,this.m,_e)),At(this.h,fe),this.Ua&&Ar(R,"TYPE","init"),this.P?(Ar(R,"$req",I),Ar(R,"SID","null"),fe.T=!0,Oe(fe,R,null)):Oe(fe,R,I),this.G=2}}else this.G==3&&(w?b4(this,w):this.i.length==0||Xe(this.h)||b4(this))};function b4(w,I){var R;I?R=I.l:R=w.U++;const V=Pl(w.I);Ar(V,"SID",w.K),Ar(V,"RID",R),Ar(V,"AID",w.T),cp(w,V),w.m&&w.o&&a2(V,w.m,w.o),R=new Ee(w,w.j,R,w.B+1),w.m===null&&(R.H=w.o),I&&(w.i=I.D.concat(w.i)),I=_4(w,R,1e3),R.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),At(w.h,R),Oe(R,V,I)}function cp(w,I){w.H&&C(w.H,function(R,V){Ar(I,V,R)}),w.l&&wh({},function(R,V){Ar(I,V,R)})}function _4(w,I,R){R=Math.min(w.i.length,R);var V=w.l?h(w.l.Na,w.l,w):null;e:{var fe=w.i;let _e=-1;for(;;){const Ue=["count="+R];_e==-1?0<R?(_e=fe[0].g,Ue.push("ofs="+_e)):_e=0:Ue.push("ofs="+_e);let gr=!0;for(let ha=0;ha<R;ha++){let Xt=fe[ha].g;const Aa=fe[ha].map;if(Xt-=_e,0>Xt)_e=Math.max(0,fe[ha].g-100),gr=!1;else try{Lre(Aa,Ue,"req"+Xt+"_")}catch{V&&V(Aa)}}if(gr){V=Ue.join("&");break e}}}return w=w.i.splice(0,R),I.D=w,V}function E4(w){if(!w.g&&!w.u){w.Y=1;var I=w.Fa;Q||ce(),z||(Q(),z=!0),j.add(I,w),w.v=0}}function s2(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=ao(h(w.Fa,w),A4(w,w.v)),w.v++,!0)}e.Fa=function(){if(this.u=null,S4(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=ao(h(this.ab,this),w)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dn(10),xx(this),S4(this))};function o2(w){w.A!=null&&(o.clearTimeout(w.A),w.A=null)}function S4(w){w.g=new Ee(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var I=Pl(w.qa);Ar(I,"RID","rpc"),Ar(I,"SID",w.K),Ar(I,"AID",w.T),Ar(I,"CI",w.F?"0":"1"),!w.F&&w.ja&&Ar(I,"TO",w.ja),Ar(I,"TYPE","xmlhttp"),cp(w,I),w.m&&w.o&&a2(I,w.m,w.o),w.L&&(w.g.I=w.L);var R=w.g;w=w.ia,R.L=1,R.v=px(Pl(I)),R.m=null,R.P=!0,B(R,w)}e.Za=function(){this.C!=null&&(this.C=null,xx(this),s2(this),Dn(19))};function bx(w){w.C!=null&&(o.clearTimeout(w.C),w.C=null)}function T4(w,I){var R=null;if(w.g==I){bx(w),o2(w),w.g=null;var V=2}else if(Ge(w.h,I))R=I.D,Tr(w.h,I),V=1;else return;if(w.G!=0){if(I.o)if(V==1){R=I.m?I.m.length:0,I=Date.now()-I.F;var fe=w.B;V=Lc(),ur(V,new $o(V,R)),wx(w)}else E4(w);else if(fe=I.s,fe==3||fe==0&&0<I.X||!(V==1&&Vre(w,I)||V==2&&s2(w)))switch(R&&0<R.length&&(I=w.h,I.i=I.i.concat(R)),fe){case 1:Td(w,5);break;case 4:Td(w,10);break;case 3:Td(w,6);break;default:Td(w,2)}}}function A4(w,I){let R=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(R*=2),R*I}function Td(w,I){if(w.j.info("Error code "+I),I==2){var R=h(w.fb,w),V=w.Xa;const fe=!V;V=new Sd(V||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||hx(V,"https"),px(V),fe?Rre(V.toString(),R):Mre(V.toString(),R)}else Dn(2);w.G=0,w.l&&w.l.sa(I),C4(w),w4(w)}e.fb=function(w){w?(this.j.info("Successfully pinged google.com"),Dn(2)):(this.j.info("Failed to ping google.com"),Dn(1))};function C4(w){if(w.G=0,w.ka=[],w.l){const I=fa(w.h);(I.length!=0||w.i.length!=0)&&(v(w.ka,I),v(w.ka,w.i),w.h.i.length=0,g(w.i),w.i.length=0),w.l.ra()}}function k4(w,I,R){var V=R instanceof Sd?Pl(R):new Sd(R);if(V.g!="")I&&(V.g=I+"."+V.g),mx(V,V.s);else{var fe=o.location;V=fe.protocol,I=I?I+"."+fe.hostname:fe.hostname,fe=+fe.port;var _e=new Sd(null);V&&hx(_e,V),I&&(_e.g=I),fe&&mx(_e,fe),R&&(_e.l=R),V=_e}return R=w.D,I=w.ya,R&&I&&Ar(V,R,I),Ar(V,"VER",w.la),cp(w,V),V}function N4(w,I,R){if(I&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=w.Ca&&!w.pa?new Zr(new gx({eb:R})):new Zr(w.pa),I.Ha(w.J),I}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function P4(){}e=P4.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function _x(){}_x.prototype.g=function(w,I){return new Bi(w,I)};function Bi(w,I){Nt.call(this),this.g=new x4(I),this.l=w,this.h=I&&I.messageUrlParams||null,w=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(w?w["X-WebChannel-Content-Type"]=I.messageContentType:w={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(w?w["X-WebChannel-Client-Profile"]=I.va:w={"X-WebChannel-Client-Profile":I.va}),this.g.S=w,(w=I&&I.Sb)&&!x(w)&&(this.g.m=w),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!x(I)&&(this.g.D=I,w=this.h,w!==null&&I in w&&(w=this.h,I in w&&delete w[I])),this.j=new _h(this)}p(Bi,Nt),Bi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bi.prototype.close=function(){i2(this.g)},Bi.prototype.o=function(w){var I=this.g;if(typeof w=="string"){var R={};R.__data__=w,w=R}else this.u&&(R={},R.__data__=to(w),w=R);I.i.push(new lt(I.Ya++,w)),I.G==3&&wx(I)},Bi.prototype.N=function(){this.g.l=null,delete this.j,i2(this.g),delete this.g,Bi.aa.N.call(this)};function I4(w){_d.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var I=w.__sm__;if(I){e:{for(const R in I){w=R;break e}w=void 0}(this.i=w)&&(w=this.i,I=I!==null&&w in I?I[w]:void 0),this.data=I}else this.data=w}p(I4,_d);function O4(){Lo.call(this),this.status=1}p(O4,Lo);function _h(w){this.g=w}p(_h,P4),_h.prototype.ua=function(){ur(this.g,"a")},_h.prototype.ta=function(w){ur(this.g,new I4(w))},_h.prototype.sa=function(w){ur(this.g,new O4)},_h.prototype.ra=function(){ur(this.g,"b")},_x.prototype.createWebChannel=_x.prototype.g,Bi.prototype.send=Bi.prototype.o,Bi.prototype.open=Bi.prototype.m,Bi.prototype.close=Bi.prototype.close,EH=function(){return new _x},_H=function(){return Lc()},bH=no,FC={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},K.NO_ERROR=0,K.TIMEOUT=8,K.HTTP_ERROR=6,Y1=K,Y.COMPLETE="complete",wH=Y,bd.EventType=Cl,Cl.OPEN="a",Cl.CLOSE="b",Cl.ERROR="c",Cl.MESSAGE="d",Nt.prototype.listen=Nt.prototype.K,Vp=bd,Zr.prototype.listenOnce=Zr.prototype.L,Zr.prototype.getLastError=Zr.prototype.Ka,Zr.prototype.getLastErrorCode=Zr.prototype.Ba,Zr.prototype.getStatus=Zr.prototype.Z,Zr.prototype.getResponseJson=Zr.prototype.Oa,Zr.prototype.getResponseText=Zr.prototype.oa,Zr.prototype.send=Zr.prototype.ea,Zr.prototype.setWithCredentials=Zr.prototype.Ha,xH=Zr}).apply(typeof Zx<"u"?Zx:typeof self<"u"?self:typeof window<"u"?window:{});const jF="@firebase/firestore",RF="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ra.UNAUTHENTICATED=new Ra(null),Ra.GOOGLE_CREDENTIALS=new Ra("google-credentials-uid"),Ra.FIRST_PARTY=new Ra("first-party-uid"),Ra.MOCK_USER=new Ra("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ym="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new tE("@firebase/firestore");function Mh(){return Of.logLevel}function Ke(e,...t){if(Of.logLevel<=jt.DEBUG){const r=t.map(MI);Of.debug(`Firestore (${ym}): ${e}`,...r)}}function pc(e,...t){if(Of.logLevel<=jt.ERROR){const r=t.map(MI);Of.error(`Firestore (${ym}): ${e}`,...r)}}function Df(e,...t){if(Of.logLevel<=jt.WARN){const r=t.map(MI);Of.warn(`Firestore (${ym}): ${e}`,...r)}}function MI(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,SH(e,n,r)}function SH(e,t,r){let n=`FIRESTORE (${ym}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw pc(n),new Error(n)}function er(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||SH(t,a,n)}function xt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Ys{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class AH{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(Ra.UNAUTHENTICATED))}shutdown(){}}class tbe{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class rbe{constructor(t){this.t=t,this.currentUser=Ra.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){er(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new rc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rc,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rc)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(er(typeof n.accessToken=="string",31837,{l:n}),new TH(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return er(t===null||typeof t=="string",2055,{h:t}),new Ra(t)}}class nbe{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=Ra.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class abe{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new nbe(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(Ra.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class MF{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ibe{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,_i(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){er(this.o===void 0,3512);const n=i=>{i.error!=null&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Ke("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new MF(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(er(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new MF(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sbe(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=sbe(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function Rt(e,t){return e<t?-1:e>t?1:0}function LC(e,t){const r=Math.min(e.length,t.length);for(let n=0;n<r;n++){const a=e.charAt(n),i=t.charAt(n);if(a!==i)return nT(a)===nT(i)?Rt(a,i):nT(a)?1:-1}return Rt(e.length,t.length)}const obe=55296,lbe=57343;function nT(e){const t=e.charCodeAt(0);return t>=obe&&t<=lbe}function B0(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="__name__";class Go{constructor(t,r,n){r===void 0?r=0:r>t.length&&ht(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&ht(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Go.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Go?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=Go.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return Rt(t.length,r.length)}static compareSegments(t,r){const n=Go.isNumericId(t),a=Go.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Go.extractNumericId(t).compare(Go.extractNumericId(r)):LC(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Tu.fromString(t.substring(4,t.length-2))}}class _r extends Go{construct(t,r,n){return new _r(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new ze(Ae.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new _r(r)}static emptyPath(){return new _r([])}}const cbe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ra extends Go{construct(t,r,n){return new ra(t,r,n)}static isValidIdentifier(t){return cbe.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ra.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===FF}static keyField(){return new ra([FF])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new ze(Ae.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new ze(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ze(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new ze(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ra(r)}static emptyPath(){return new ra([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(t){this.path=t}static fromPath(t){return new it(_r.fromString(t))}static fromName(t){return new it(_r.fromString(t).popFirst(5))}static empty(){return new it(_r.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_r.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return _r.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new it(new _r(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CH(e,t,r){if(!r)throw new ze(Ae.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function kH(e,t,r,n){if(t===!0&&n===!0)throw new ze(Ae.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function LF(e){if(!it.isDocumentKey(e))throw new ze(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $F(e){if(it.isDocumentKey(e))throw new ze(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function NH(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function oE(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ht(12329,{type:typeof e})}function Wa(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ze(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=oE(e);throw new ze(Ae.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function ube(e,t){if(t<=0)throw new ze(Ae.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(e,t){const r={typeString:e};return t&&(r.value=t),r}function _y(e,t){if(!NH(e))throw new ze(Ae.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in t)if(t[n]){const a=t[n].typeString,i="value"in t[n]?{value:t[n].value}:void 0;if(!(n in e)){r=`JSON missing required field: '${n}'`;break}const s=e[n];if(a&&typeof s!==a){r=`JSON field '${n}' must be a ${a}.`;break}if(i!==void 0&&s!==i.value){r=`Expected '${n}' field to equal '${i.value}'`;break}}if(r)throw new ze(Ae.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=-62135596800,UF=1e6;class yr{static now(){return yr.fromMillis(Date.now())}static fromDate(t){return yr.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*UF);return new yr(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new ze(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ze(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<BF)throw new ze(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ze(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UF}_compareTo(t){return this.seconds===t.seconds?Rt(this.nanoseconds,t.nanoseconds):Rt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:yr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_y(t,yr._jsonSchema))return new yr(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-BF;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}yr._jsonSchemaVersion="firestore/timestamp/1.0",yr._jsonSchema={type:Pn("string",yr._jsonSchemaVersion),seconds:Pn("number"),nanoseconds:Pn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new yr(0,0))}static max(){return new yt(new yr(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv=-1;function dbe(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=yt.fromTimestamp(n===1e9?new yr(r+1,0):new yr(r,n));return new Bu(a,it.empty(),t)}function fbe(e){return new Bu(e.readTime,e.key,mv)}class Bu{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new Bu(yt.min(),it.empty(),mv)}static max(){return new Bu(yt.max(),it.empty(),mv)}}function hbe(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=it.comparator(e.documentKey,t.documentKey),r!==0?r:Rt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mbe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pbe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xm(e){if(e.code!==Ae.FAILED_PRECONDITION||e.message!==mbe)throw e;Ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new ke((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof ke?r:ke.resolve(r)}catch(r){return ke.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):ke.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):ke.reject(r)}static resolve(t){return new ke((r,n)=>{r(t)})}static reject(t){return new ke((r,n)=>{n(t)})}static waitFor(t){return new ke((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=ke.resolve(!1);for(const n of t)r=r.next(a=>a?ke.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new ke((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new ke((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function gbe(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function wm(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}lE.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=-1;function cE(e){return e==null}function ab(e){return e===0&&1/e==-1/0}function vbe(e){return typeof e=="number"&&Number.isInteger(e)&&!ab(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="";function ybe(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=VF(t)),t=xbe(e.get(r),t);return VF(t)}function xbe(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case PH:r+="";break;default:r+=i}}return r}function VF(e){return e+PH+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function ld(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function IH(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(t,r){this.comparator=t,this.root=r||ya.EMPTY}insert(t,r){return new Qr(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,ya.BLACK,null,null))}remove(t){return new Qr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ya.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new e1(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new e1(this.root,t,this.comparator,!1)}getReverseIterator(){return new e1(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new e1(this.root,t,this.comparator,!0)}}class e1{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ya{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??ya.RED,this.left=a??ya.EMPTY,this.right=i??ya.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new ya(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ya.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return ya.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ya.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ya.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ht(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ht(27949);return t+(this.isRed()?0:1)}}ya.EMPTY=null,ya.RED=!0,ya.BLACK=!1;ya.EMPTY=new class{constructor(){this.size=0}get key(){throw ht(57766)}get value(){throw ht(16141)}get color(){throw ht(16727)}get left(){throw ht(29726)}get right(){throw ht(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new ya(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.comparator=t,this.data=new Qr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new WF(this.data.getIterator())}getIteratorFrom(t){return new WF(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Un)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Un(this.comparator);return r.data=t,r}}class WF{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(t){this.fields=t,t.sort(ra.comparator)}static empty(){return new Zi([])}unionWith(t){let r=new Un(ra.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Zi(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return B0(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new OH("Invalid base64 string: "+i):i}}(t);return new la(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new la(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}la.EMPTY_BYTE_STRING=new la("");const wbe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uu(e){if(er(!!e,39018),typeof e=="string"){let t=0;const r=wbe.exec(e);if(er(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:pn(e.seconds),nanos:pn(e.nanos)}}function pn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Vu(e){return typeof e=="string"?la.fromBase64String(e):la.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH="server_timestamp",jH="__type__",RH="__previous_value__",MH="__local_write_time__";function LI(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[jH])==null?void 0:n.stringValue)===DH}function uE(e){const t=e.mapValue.fields[RH];return LI(t)?uE(t):t}function pv(e){const t=Uu(e.mapValue.fields[MH].timestampValue);return new yr(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bbe{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const ib="(default)";class U0{constructor(t,r){this.projectId=t,this.database=r||ib}static empty(){return new U0("","")}get isDefaultDatabase(){return this.database===ib}isEqual(t){return t instanceof U0&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH="__type__",_be="__max__",t1={mapValue:{}},LH="__vector__",sb="value";function zu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?LI(e)?4:Sbe(e)?9007199254740991:Ebe(e)?10:11:ht(28295,{value:e})}function hl(e,t){if(e===t)return!0;const r=zu(e);if(r!==zu(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pv(e).isEqual(pv(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=Uu(a.timestampValue),o=Uu(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return Vu(a.bytesValue).isEqual(Vu(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return pn(a.geoPointValue.latitude)===pn(i.geoPointValue.latitude)&&pn(a.geoPointValue.longitude)===pn(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return pn(a.integerValue)===pn(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=pn(a.doubleValue),o=pn(i.doubleValue);return s===o?ab(s)===ab(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return B0(e.arrayValue.values||[],t.arrayValue.values||[],hl);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(zF(s)!==zF(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!hl(s[l],o[l])))return!1;return!0}(e,t);default:return ht(52216,{left:e})}}function gv(e,t){return(e.values||[]).find(r=>hl(r,t))!==void 0}function V0(e,t){if(e===t)return 0;const r=zu(e),n=zu(t);if(r!==n)return Rt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Rt(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=pn(i.integerValue||i.doubleValue),l=pn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return HF(e.timestampValue,t.timestampValue);case 4:return HF(pv(e),pv(t));case 5:return LC(e.stringValue,t.stringValue);case 6:return function(i,s){const o=Vu(i),l=Vu(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Rt(o[c],l[c]);if(u!==0)return u}return Rt(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Rt(pn(i.latitude),pn(s.latitude));return o!==0?o:Rt(pn(i.longitude),pn(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return GF(e.arrayValue,t.arrayValue);case 10:return function(i,s){var h,m,p,g;const o=i.fields||{},l=s.fields||{},c=(h=o[sb])==null?void 0:h.arrayValue,u=(m=l[sb])==null?void 0:m.arrayValue,f=Rt(((p=c==null?void 0:c.values)==null?void 0:p.length)||0,((g=u==null?void 0:u.values)==null?void 0:g.length)||0);return f!==0?f:GF(c,u)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===t1.mapValue&&s===t1.mapValue)return 0;if(i===t1.mapValue)return 1;if(s===t1.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=LC(l[f],u[f]);if(h!==0)return h;const m=V0(o[l[f]],c[u[f]]);if(m!==0)return m}return Rt(l.length,u.length)}(e.mapValue,t.mapValue);default:throw ht(23264,{he:r})}}function HF(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Rt(e,t);const r=Uu(e),n=Uu(t),a=Rt(r.seconds,n.seconds);return a!==0?a:Rt(r.nanos,n.nanos)}function GF(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=V0(r[a],n[a]);if(i)return i}return Rt(r.length,n.length)}function z0(e){return $C(e)}function $C(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=Uu(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return Vu(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return it.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=$C(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${$C(r.fields[s])}`;return a+"}"}(e.mapValue):ht(61005,{value:e})}function X1(e){switch(zu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uE(e);return t?16+X1(t):16;case 5:return 2*e.stringValue.length;case 6:return Vu(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+X1(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return ld(n.fields,(i,s)=>{a+=i.length+X1(s)}),a}(e.mapValue);default:throw ht(13486,{value:e})}}function KF(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function BC(e){return!!e&&"integerValue"in e}function $I(e){return!!e&&"arrayValue"in e}function qF(e){return!!e&&"nullValue"in e}function YF(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Q1(e){return!!e&&"mapValue"in e}function Ebe(e){var r,n;return((n=(((r=e==null?void 0:e.mapValue)==null?void 0:r.fields)||{})[FH])==null?void 0:n.stringValue)===LH}function pg(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ld(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=pg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=pg(e.arrayValue.values[r]);return t}return{...e}}function Sbe(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===_be}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(t){this.value=t}static empty(){return new Ei({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Q1(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=pg(r)}setAll(t){let r=ra.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=pg(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());Q1(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return hl(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];Q1(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){ld(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new Ei(pg(this.value))}}function $H(e){const t=[];return ld(e.fields,(r,n)=>{const a=new ra([r]);if(Q1(n)){const i=$H(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new Zi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new $a(t,0,yt.min(),yt.min(),yt.min(),Ei.empty(),0)}static newFoundDocument(t,r,n,a){return new $a(t,1,r,yt.min(),n,a,0)}static newNoDocument(t,r){return new $a(t,2,r,yt.min(),yt.min(),Ei.empty(),0)}static newUnknownDocument(t,r){return new $a(t,3,r,yt.min(),yt.min(),Ei.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $a&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $a(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,r){this.position=t,this.inclusive=r}}function XF(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=it.comparator(it.fromName(s.referenceValue),r.key):n=V0(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function QF(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!hl(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(t,r="asc"){this.field=t,this.dir=r}}function Tbe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{}class Nn extends BH{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Cbe(t,r,n):r==="array-contains"?new Pbe(t,n):r==="in"?new Ibe(t,n):r==="not-in"?new Obe(t,n):r==="array-contains-any"?new Dbe(t,n):new Nn(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new kbe(t,n):new Nbe(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(V0(r,this.value)):r!==null&&zu(this.value)===zu(r)&&this.matchesComparison(V0(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oo extends BH{constructor(t,r){super(),this.filters=t,this.op=r,this.Pe=null}static create(t,r){return new Oo(t,r)}matches(t){return UH(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UH(e){return e.op==="and"}function VH(e){return Abe(e)&&UH(e)}function Abe(e){for(const t of e.filters)if(t instanceof Oo)return!1;return!0}function UC(e){if(e instanceof Nn)return e.field.canonicalString()+e.op.toString()+z0(e.value);if(VH(e))return e.filters.map(t=>UC(t)).join(",");{const t=e.filters.map(r=>UC(r)).join(",");return`${e.op}(${t})`}}function zH(e,t){return e instanceof Nn?function(n,a){return a instanceof Nn&&n.op===a.op&&n.field.isEqual(a.field)&&hl(n.value,a.value)}(e,t):e instanceof Oo?function(n,a){return a instanceof Oo&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&zH(s,a.filters[o]),!0):!1}(e,t):void ht(19439)}function WH(e){return e instanceof Nn?function(r){return`${r.field.canonicalString()} ${r.op} ${z0(r.value)}`}(e):e instanceof Oo?function(r){return r.op.toString()+" {"+r.getFilters().map(WH).join(" ,")+"}"}(e):"Filter"}class Cbe extends Nn{constructor(t,r,n){super(t,r,n),this.key=it.fromName(n.referenceValue)}matches(t){const r=it.comparator(t.key,this.key);return this.matchesComparison(r)}}class kbe extends Nn{constructor(t,r){super(t,"in",r),this.keys=HH("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Nbe extends Nn{constructor(t,r){super(t,"not-in",r),this.keys=HH("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function HH(e,t){var r;return(((r=t.arrayValue)==null?void 0:r.values)||[]).map(n=>it.fromName(n.referenceValue))}class Pbe extends Nn{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return $I(r)&&gv(r.arrayValue,this.value)}}class Ibe extends Nn{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&gv(this.value.arrayValue,r)}}class Obe extends Nn{constructor(t,r){super(t,"not-in",r)}matches(t){if(gv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!gv(this.value.arrayValue,r)}}class Dbe extends Nn{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!$I(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>gv(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jbe{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Te=null}}function JF(e,t=null,r=[],n=[],a=null,i=null,s=null){return new jbe(e,t,r,n,a,i,s)}function BI(e){const t=xt(e);if(t.Te===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>UC(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),cE(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>z0(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>z0(n)).join(",")),t.Te=r}return t.Te}function UI(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Tbe(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!zH(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!QF(e.startAt,t.startAt)&&QF(e.endAt,t.endAt)}function VC(e){return it.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Rbe(e,t,r,n,a,i,s,o){return new bm(e,t,r,n,a,i,s,o)}function dE(e){return new bm(e)}function ZF(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function GH(e){return e.collectionGroup!==null}function gg(e){const t=xt(e);if(t.Ie===null){t.Ie=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Un(ra.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new vv(i,n))}),r.has(ra.keyField().canonicalString())||t.Ie.push(new vv(ra.keyField(),n))}return t.Ie}function il(e){const t=xt(e);return t.Ee||(t.Ee=Mbe(t,gg(e))),t.Ee}function Mbe(e,t){if(e.limitType==="F")return JF(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new vv(a.field,i)});const r=e.endAt?new ob(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new ob(e.startAt.position,e.startAt.inclusive):null;return JF(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function zC(e,t){const r=e.filters.concat([t]);return new bm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function lb(e,t,r){return new bm(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function fE(e,t){return UI(il(e),il(t))&&e.limitType===t.limitType}function KH(e){return`${BI(il(e))}|lt:${e.limitType}`}function Fh(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>WH(a)).join(", ")}]`),cE(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>z0(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>z0(a)).join(",")),`Target(${n})`}(il(e))}; limitType=${e.limitType})`}function hE(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):it.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of gg(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=XF(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,gg(n),a)||n.endAt&&!function(s,o,l){const c=XF(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,gg(n),a))}(e,t)}function Fbe(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qH(e){return(t,r)=>{let n=!1;for(const a of gg(e)){const i=Lbe(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function Lbe(e,t,r){const n=e.field.isKeyField()?it.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?V0(l,c):ht(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return ht(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ld(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return IH(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $be=new Qr(it.comparator);function gc(){return $be}const YH=new Qr(it.comparator);function zp(...e){let t=YH;for(const r of e)t=t.insert(r.key,r);return t}function XH(e){let t=YH;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Hd(){return vg()}function QH(){return vg()}function vg(){return new dh(e=>e.toString(),(e,t)=>e.isEqual(t))}const Bbe=new Qr(it.comparator),Ube=new Un(it.comparator);function Mt(...e){let t=Ube;for(const r of e)t=t.add(r);return t}const Vbe=new Un(Rt);function zbe(){return Vbe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ab(t)?"-0":t}}function JH(e){return{integerValue:""+e}}function Wbe(e,t){return vbe(t)?JH(t):VI(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this._=void 0}}function Hbe(e,t,r){return e instanceof yv?function(a,i){const s={fields:{[jH]:{stringValue:DH},[MH]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&LI(i)&&(i=uE(i)),i&&(s.fields[RH]=i),{mapValue:s}}(r,t):e instanceof xv?eG(e,t):e instanceof wv?tG(e,t):function(a,i){const s=ZH(a,i),o=eL(s)+eL(a.Ae);return BC(s)&&BC(a.Ae)?JH(o):VI(a.serializer,o)}(e,t)}function Gbe(e,t,r){return e instanceof xv?eG(e,t):e instanceof wv?tG(e,t):r}function ZH(e,t){return e instanceof cb?function(n){return BC(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class yv extends mE{}class xv extends mE{constructor(t){super(),this.elements=t}}function eG(e,t){const r=rG(t);for(const n of e.elements)r.some(a=>hl(a,n))||r.push(n);return{arrayValue:{values:r}}}class wv extends mE{constructor(t){super(),this.elements=t}}function tG(e,t){let r=rG(t);for(const n of e.elements)r=r.filter(a=>!hl(a,n));return{arrayValue:{values:r}}}class cb extends mE{constructor(t,r){super(),this.serializer=t,this.Ae=r}}function eL(e){return pn(e.integerValue||e.doubleValue)}function rG(e){return $I(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kbe{constructor(t,r){this.field=t,this.transform=r}}function qbe(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof xv&&a instanceof xv||n instanceof wv&&a instanceof wv?B0(n.elements,a.elements,hl):n instanceof cb&&a instanceof cb?hl(n.Ae,a.Ae):n instanceof yv&&a instanceof yv}(e.transform,t.transform)}class Ybe{constructor(t,r){this.version=t,this.transformResults=r}}class hi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new hi}static exists(t){return new hi(void 0,t)}static updateTime(t){return new hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function J1(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class pE{}function nG(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new gE(e.key,hi.none()):new Ey(e.key,e.data,hi.none());{const r=e.data,n=Ei.empty();let a=new Un(ra.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new cd(e.key,n,new Zi(a.toArray()),hi.none())}}function Xbe(e,t,r){e instanceof Ey?function(a,i,s){const o=a.value.clone(),l=rL(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof cd?function(a,i,s){if(!J1(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=rL(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(aG(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function yg(e,t,r,n){return e instanceof Ey?function(i,s,o,l){if(!J1(i.precondition,s))return o;const c=i.value.clone(),u=nL(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof cd?function(i,s,o,l){if(!J1(i.precondition,s))return o;const c=nL(i.fieldTransforms,l,s),u=s.data;return u.setAll(aG(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return J1(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function Qbe(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=ZH(n.transform,a||null);i!=null&&(r===null&&(r=Ei.empty()),r.set(n.field,i))}return r||null}function tL(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&B0(n,a,(i,s)=>qbe(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ey extends pE{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class cd extends pE{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function aG(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function rL(e,t,r){const n=new Map;er(e.length===r.length,32656,{Re:r.length,Ve:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,Gbe(s,o,r[a]))}return n}function nL(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,Hbe(i,s,t))}return n}class gE extends pE{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Jbe extends pE{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zbe{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&Xbe(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=yg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=yg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=QH();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=nG(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(yt.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Mt())}isEqual(t){return this.batchId===t.batchId&&B0(this.mutations,t.mutations,(r,n)=>tL(r,n))&&B0(this.baseMutations,t.baseMutations,(r,n)=>tL(r,n))}}class zI{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){er(t.mutations.length===n.length,58842,{me:t.mutations.length,fe:n.length});let a=function(){return Bbe}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new zI(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e_e=class{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_e{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,$t;function r_e(e){switch(e){case Ae.OK:return ht(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return ht(15467,{code:e})}}function iG(e){if(e===void 0)return pc("GRPC error has no .code"),Ae.UNKNOWN;switch(e){case En.OK:return Ae.OK;case En.CANCELLED:return Ae.CANCELLED;case En.UNKNOWN:return Ae.UNKNOWN;case En.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case En.INTERNAL:return Ae.INTERNAL;case En.UNAVAILABLE:return Ae.UNAVAILABLE;case En.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case En.NOT_FOUND:return Ae.NOT_FOUND;case En.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case En.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case En.ABORTED:return Ae.ABORTED;case En.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case En.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case En.DATA_LOSS:return Ae.DATA_LOSS;default:return ht(39323,{code:e})}}($t=En||(En={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_e(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_e=new Tu([4294967295,4294967295],0);function aL(e){const t=n_e().encode(e),r=new yH;return r.update(t),new Uint8Array(r.digest())}function iL(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new Tu([r,n],0),new Tu([a,i],0)]}class WI{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Wp(`Invalid padding: ${r}`);if(n<0)throw new Wp(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Wp(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Wp(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*t.length-r,this.pe=Tu.fromNumber(this.ge)}ye(t,r,n){let a=t.add(r.multiply(Tu.fromNumber(n)));return a.compare(a_e)===1&&(a=new Tu([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const r=aL(t),[n,a]=iL(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);if(!this.we(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new WI(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.ge===0)return;const r=aL(t),[n,a]=iL(r);for(let i=0;i<this.hashCount;i++){const s=this.ye(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Wp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,Sy.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new vE(yt.min(),a,new Qr(Rt),gc(),Mt())}}class Sy{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Sy(n,r,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(t,r,n,a){this.be=t,this.removedTargetIds=r,this.key=n,this.De=a}}class sG{constructor(t,r){this.targetId=t,this.Ce=r}}class oG{constructor(t,r,n=la.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class sL{constructor(){this.ve=0,this.Fe=oL(),this.Me=la.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),r=Mt(),n=Mt();return this.Fe.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:ht(38017,{changeType:i})}}),new Sy(this.Me,this.xe,t,r,n)}qe(){this.Oe=!1,this.Fe=oL()}Qe(t,r){this.Oe=!0,this.Fe=this.Fe.insert(t,r)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,er(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class i_e{constructor(t){this.Ge=t,this.ze=new Map,this.je=gc(),this.Je=r1(),this.He=r1(),this.Ye=new Qr(Rt)}Ze(t){for(const r of t.be)t.De&&t.De.isFoundDocument()?this.Xe(r,t.De):this.et(r,t.key,t.De);for(const r of t.removedTargetIds)this.et(r,t.key,t.De)}tt(t){this.forEachTarget(t,r=>{const n=this.nt(r);switch(t.state){case 0:this.rt(r)&&n.Le(t.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(t.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(t.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(t.resumeToken));break;default:ht(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.ze.forEach((n,a)=>{this.rt(a)&&r(a)})}st(t){const r=t.targetId,n=t.Ce.count,a=this.ot(r);if(a){const i=a.target;if(VC(i))if(n===0){const s=new it(i.path);this.et(r,s,$a.newNoDocument(s,yt.min()))}else er(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(t),l=o?this.ct(o,t,s):1;if(l!==0){this.it(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,c)}}}}}ut(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=Vu(n).toUint8Array()}catch(l){if(l instanceof OH)return Df("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new WI(s,a,i)}catch(l){return Df(l instanceof Wp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(t,r,n){return r.Ce.count===n-this.Pt(t,r.targetId)?0:2}Pt(t,r){const n=this.Ge.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.et(r,i,null),a++)}),a}Tt(t){const r=new Map;this.ze.forEach((i,s)=>{const o=this.ot(s);if(o){if(i.current&&VC(o.target)){const l=new it(o.target.path);this.It(l).has(s)||this.Et(s,l)||this.et(s,l,$a.newNoDocument(l,t))}i.Be&&(r.set(s,i.ke()),i.qe())}});let n=Mt();this.He.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.je.forEach((i,s)=>s.setReadTime(t));const a=new vE(t,r,this.Ye,this.je,n);return this.je=gc(),this.Je=r1(),this.He=r1(),this.Ye=new Qr(Rt),a}Xe(t,r){if(!this.rt(t))return;const n=this.Et(t,r.key)?2:0;this.nt(t).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(t)),this.He=this.He.insert(r.key,this.dt(r.key).add(t))}et(t,r,n){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,r)?a.Qe(r,1):a.$e(r),this.He=this.He.insert(r,this.dt(r).delete(t)),this.He=this.He.insert(r,this.dt(r).add(t)),n&&(this.je=this.je.insert(r,n))}removeTarget(t){this.ze.delete(t)}_t(t){const r=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let r=this.ze.get(t);return r||(r=new sL,this.ze.set(t,r)),r}dt(t){let r=this.He.get(t);return r||(r=new Un(Rt),this.He=this.He.insert(t,r)),r}It(t){let r=this.Je.get(t);return r||(r=new Un(Rt),this.Je=this.Je.insert(t,r)),r}rt(t){const r=this.ot(t)!==null;return r||Ke("WatchChangeAggregator","Detected inactive target",t),r}ot(t){const r=this.ze.get(t);return r&&r.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new sL),this.Ge.getRemoteKeysForTarget(t).forEach(r=>{this.et(t,r,null)})}Et(t,r){return this.Ge.getRemoteKeysForTarget(t).has(r)}}function r1(){return new Qr(it.comparator)}function oL(){return new Qr(it.comparator)}const s_e={asc:"ASCENDING",desc:"DESCENDING"},o_e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l_e={and:"AND",or:"OR"};class c_e{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function WC(e,t){return e.useProto3Json||cE(t)?t:{value:t}}function ub(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function lG(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function u_e(e,t){return ub(e,t.toTimestamp())}function sl(e){return er(!!e,49232),yt.fromTimestamp(function(r){const n=Uu(r);return new yr(n.seconds,n.nanos)}(e))}function HI(e,t){return HC(e,t).canonicalString()}function HC(e,t){const r=function(a){return new _r(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function cG(e){const t=_r.fromString(e);return er(mG(t),10190,{key:t.toString()}),t}function GC(e,t){return HI(e.databaseId,t.path)}function aT(e,t){const r=cG(t);if(r.get(1)!==e.databaseId.projectId)throw new ze(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new ze(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new it(dG(r))}function uG(e,t){return HI(e.databaseId,t)}function d_e(e){const t=cG(e);return t.length===4?_r.emptyPath():dG(t)}function KC(e){return new _r(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dG(e){return er(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function lL(e,t,r){return{name:GC(e,t),fields:r.value.mapValue.fields}}function f_e(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ht(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(er(u===void 0||typeof u=="string",58123),la.fromBase64String(u||"")):(er(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),la.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?Ae.UNKNOWN:iG(c.code);return new ze(u,c.message||"")}(s);r=new oG(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=aT(e,n.document.name),i=sl(n.document.updateTime),s=n.document.createTime?sl(n.document.createTime):yt.min(),o=new Ei({mapValue:{fields:n.document.fields}}),l=$a.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new Z1(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=aT(e,n.document),i=n.readTime?sl(n.readTime):yt.min(),s=$a.newNoDocument(a,i),o=n.removedTargetIds||[];r=new Z1([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=aT(e,n.document),i=n.removedTargetIds||[];r=new Z1([],i,a,null)}else{if(!("filter"in t))return ht(11601,{Rt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new t_e(a,i),o=n.targetId;r=new sG(o,s)}}return r}function h_e(e,t){let r;if(t instanceof Ey)r={update:lL(e,t.key,t.value)};else if(t instanceof gE)r={delete:GC(e,t.key)};else if(t instanceof cd)r={update:lL(e,t.key,t.data),updateMask:__e(t.fieldMask)};else{if(!(t instanceof Jbe))return ht(16599,{Vt:t.type});r={verify:GC(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof yv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof xv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof wv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof cb)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw ht(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:u_e(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ht(27497)}(e,t.precondition)),r}function m_e(e,t){return e&&e.length>0?(er(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?sl(a.updateTime):sl(i);return s.isEqual(yt.min())&&(s=sl(i)),new Ybe(s,a.transformResults||[])}(r,t))):[]}function p_e(e,t){return{documents:[uG(e,t.path)]}}function g_e(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=uG(e,a);const i=function(c){if(c.length!==0)return hG(Oo.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Lh(h.field),direction:x_e(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=WC(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:r,parent:a}}function v_e(e){let t=d_e(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){er(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=fG(f);return h instanceof Oo&&VH(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(p){return new vv($h(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,cE(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,m=f.values||[];return new ob(m,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,m=f.values||[];return new ob(m,h)}(r.endAt)),Rbe(t,a,s,i,o,"F",l,c)}function y_e(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function fG(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=$h(r.unaryFilter.field);return Nn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=$h(r.unaryFilter.field);return Nn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$h(r.unaryFilter.field);return Nn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=$h(r.unaryFilter.field);return Nn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ht(61313);default:return ht(60726)}}(e):e.fieldFilter!==void 0?function(r){return Nn.create($h(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ht(58110);default:return ht(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return Oo.create(r.compositeFilter.filters.map(n=>fG(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ht(1026)}}(r.compositeFilter.op))}(e):ht(30097,{filter:e})}function x_e(e){return s_e[e]}function w_e(e){return o_e[e]}function b_e(e){return l_e[e]}function Lh(e){return{fieldPath:e.canonicalString()}}function $h(e){return ra.fromServerFormat(e.fieldPath)}function hG(e){return e instanceof Nn?function(r){if(r.op==="=="){if(YF(r.value))return{unaryFilter:{field:Lh(r.field),op:"IS_NAN"}};if(qF(r.value))return{unaryFilter:{field:Lh(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(YF(r.value))return{unaryFilter:{field:Lh(r.field),op:"IS_NOT_NAN"}};if(qF(r.value))return{unaryFilter:{field:Lh(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lh(r.field),op:w_e(r.op),value:r.value}}}(e):e instanceof Oo?function(r){const n=r.getFilters().map(a=>hG(a));return n.length===1?n[0]:{compositeFilter:{op:b_e(r.op),filters:n}}}(e):ht(54877,{filter:e})}function __e(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function mG(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,r,n,a,i=yt.min(),s=yt.min(),o=la.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new fu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_e{constructor(t){this.yt=t}}function S_e(e){const t=v_e({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?lb(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_e{constructor(){this.Cn=new A_e}addToCollectionParentIndex(t,r){return this.Cn.add(r),ke.resolve()}getCollectionParents(t,r){return ke.resolve(this.Cn.getEntries(r))}addFieldIndex(t,r){return ke.resolve()}deleteFieldIndex(t,r){return ke.resolve()}deleteAllFieldIndexes(t){return ke.resolve()}createTargetIndexes(t,r){return ke.resolve()}getDocumentsMatchingTarget(t,r){return ke.resolve(null)}getIndexType(t,r){return ke.resolve(0)}getFieldIndexes(t,r){return ke.resolve([])}getNextCollectionGroupToUpdate(t){return ke.resolve(null)}getMinOffset(t,r){return ke.resolve(Bu.min())}getMinOffsetFromCollectionGroup(t,r){return ke.resolve(Bu.min())}updateCollectionGroup(t,r,n){return ke.resolve()}updateIndexEntries(t,r){return ke.resolve()}}class A_e{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Un(_r.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Un(_r.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pG=41943040;class yi{static withCacheSize(t){return new yi(t,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yi.DEFAULT_COLLECTION_PERCENTILE=10,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yi.DEFAULT=new yi(pG,yi.DEFAULT_COLLECTION_PERCENTILE,yi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yi.DISABLED=new yi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new W0(0)}static cr(){return new W0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL="LruGarbageCollector",C_e=1048576;function dL([e,t],[r,n]){const a=Rt(e,r);return a===0?Rt(t,n):a}class k_e{constructor(t){this.Ir=t,this.buffer=new Un(dL),this.Er=0}dr(){return++this.Er}Ar(t){const r=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();dL(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class N_e{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ke(uL,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){wm(r)?Ke(uL,"Ignoring IndexedDB error during garbage collection: ",r):await xm(r)}await this.Vr(3e5)})}}class P_e{constructor(t,r){this.mr=t,this.params=r}calculateTargetCount(t,r){return this.mr.gr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return ke.resolve(lE.ce);const n=new k_e(r);return this.mr.forEachTarget(t,a=>n.Ar(a.sequenceNumber)).next(()=>this.mr.pr(t,a=>n.Ar(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.mr.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.mr.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),ke.resolve(cL)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cL):this.yr(t,r))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),Mh()<=jt.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ke.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function I_e(e,t){return new P_e(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_e{constructor(){this.changes=new dh(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,$a.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ke.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_e{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_e{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&yg(n.mutation,a,Zi.empty(),yr.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Mt()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Mt()){const a=Hd();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=zp();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Hd();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Mt()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=gc();const s=vg(),o=function(){return vg()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof cd)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),yg(u.mutation,c,u.mutation.getFieldMask(),yr.now())):s.set(c.key,Zi.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>o.set(c,new D_e(u,s.get(c)??null))),o))}recalculateAndSaveOverlays(t,r){const n=vg();let a=new Qr((s,o)=>s-o),i=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Zi.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||Mt()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=QH();u.forEach(h=>{if(!i.has(h)){const m=nG(r.get(h),n.get(h));m!==null&&f.set(h,m),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return ke.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return it.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):GH(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):ke.resolve(Hd());let o=mv,l=i;return s.next(c=>ke.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?ke.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,Mt())).next(u=>({batchId:o,changes:XH(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new it(r)).next(n=>{let a=zp();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=zp();return this.indexManager.getCollectionParents(t,i).next(o=>ke.forEach(o,l=>{const c=function(f,h){return new bm(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,$a.newInvalidDocument(u)))});let o=zp();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&yg(u.mutation,c,Zi.empty(),yr.now()),hE(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_e{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,r){return ke.resolve(this.Lr.get(r))}saveBundleMetadata(t,r){return this.Lr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:sl(a.createTime)}}(r)),ke.resolve()}getNamedQuery(t,r){return ke.resolve(this.kr.get(r))}saveNamedQuery(t,r){return this.kr.set(r.name,function(a){return{name:a.name,query:S_e(a.bundledQuery),readTime:sl(a.readTime)}}(r)),ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_e{constructor(){this.overlays=new Qr(it.comparator),this.qr=new Map}getOverlay(t,r){return ke.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Hd();return ke.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),ke.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.qr.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(n)),ke.resolve()}getOverlaysForCollection(t,r,n){const a=Hd(),i=r.length+1,s=new it(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return ke.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new Qr((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Hd(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Hd(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return ke.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.qr.get(a.largestBatchId).delete(n.key);this.qr.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new e_e(r,n));let i=this.qr.get(r);i===void 0&&(i=Mt(),this.qr.set(r,i)),this.qr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_e{constructor(){this.sessionToken=la.EMPTY_BYTE_STRING}getSessionToken(t){return ke.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.Qr=new Un(Jn.$r),this.Ur=new Un(Jn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,r){const n=new Jn(t,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Gr(new Jn(t,r))}zr(t,r){t.forEach(n=>this.removeReference(n,r))}jr(t){const r=new it(new _r([])),n=new Jn(r,t),a=new Jn(r,t+1),i=[];return this.Ur.forEachInRange([n,a],s=>{this.Gr(s),i.push(s.key)}),i}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const r=new it(new _r([])),n=new Jn(r,t),a=new Jn(r,t+1);let i=Mt();return this.Ur.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new Jn(t,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Jn{constructor(t,r){this.key=t,this.Yr=r}static $r(t,r){return it.comparator(t.key,r.key)||Rt(t.Yr,r.Yr)}static Kr(t,r){return Rt(t.Yr,r.Yr)||it.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_e{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new Un(Jn.$r)}checkEmpty(t){return ke.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Zbe(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.Zr=this.Zr.add(new Jn(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return ke.resolve(s)}lookupMutationBatch(t,r){return ke.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.ei(n),i=a<0?0:a;return ke.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ke.resolve(this.mutationQueue.length===0?FI:this.tr-1)}getAllMutationBatches(t){return ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Jn(r,0),a=new Jn(r,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([n,a],s=>{const o=this.Xr(s.Yr);i.push(o)}),ke.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Un(Rt);return r.forEach(a=>{const i=new Jn(a,0),s=new Jn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,s],o=>{n=n.add(o.Yr)})}),ke.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;it.isDocumentKey(i)||(i=i.child(""));const s=new Jn(new it(i),0);let o=new Un(Rt);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Yr)),!0)},s),ke.resolve(this.ti(o))}ti(t){const r=[];return t.forEach(n=>{const a=this.Xr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){er(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return ke.forEach(r.mutations,a=>{const i=new Jn(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.Zr=n})}ir(t){}containsKey(t,r){const n=new Jn(r,0),a=this.Zr.firstAfterOrEqual(n);return ke.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,ke.resolve()}ni(t,r){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const r=this.ei(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $_e{constructor(t){this.ri=t,this.docs=function(){return new Qr(it.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return ke.resolve(n?n.document.mutableCopy():$a.newInvalidDocument(r))}getEntries(t,r){let n=gc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():$a.newInvalidDocument(a))}),ke.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=gc();const s=r.path,o=new it(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||hbe(fbe(u),n)<=0||(a.has(u.key)||hE(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return ke.resolve(i)}getAllFromCollectionGroup(t,r,n,a){ht(9500)}ii(t,r){return ke.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new B_e(this)}getSize(t){return ke.resolve(this.size)}}class B_e extends O_e{constructor(t){super(),this.Nr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(n)}),ke.waitFor(r)}getFromCache(t,r){return this.Nr.getEntry(t,r)}getAllFromCache(t,r){return this.Nr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_e{constructor(t){this.persistence=t,this.si=new dh(r=>BI(r),UI),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new GI,this.targetCount=0,this.ai=W0.ur()}forEachTarget(t,r){return this.si.forEach((n,a)=>r(a)),ke.resolve()}getLastRemoteSnapshotVersion(t){return ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ke.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ke.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),ke.resolve()}Pr(t){this.si.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ai=new W0(r),this.highestTargetId=r),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,r){return this.Pr(r),this.targetCount+=1,ke.resolve()}updateTargetData(t,r){return this.Pr(r),ke.resolve()}removeTargetData(t,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,ke.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.si.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),ke.waitFor(i).next(()=>a)}getTargetCount(t){return ke.resolve(this.targetCount)}getTargetData(t,r){const n=this.si.get(r)||null;return ke.resolve(n)}addMatchingKeys(t,r,n){return this._i.Wr(r,n),ke.resolve()}removeMatchingKeys(t,r,n){this._i.zr(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),ke.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this._i.jr(r),ke.resolve()}getMatchingKeysForTargetId(t,r){const n=this._i.Hr(r);return ke.resolve(n)}containsKey(t,r){return ke.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(t,r){this.ui={},this.overlays={},this.ci=new lE(0),this.li=!1,this.li=!0,this.hi=new F_e,this.referenceDelegate=t(this),this.Pi=new U_e(this),this.indexManager=new T_e,this.remoteDocumentCache=function(a){return new $_e(a)}(n=>this.referenceDelegate.Ti(n)),this.serializer=new E_e(r),this.Ii=new R_e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new M_e,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ui[t.toKey()];return n||(n=new L_e(r,this.referenceDelegate),this.ui[t.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,r,n){Ke("MemoryPersistence","Starting transaction:",t);const a=new V_e(this.ci.next());return this.referenceDelegate.Ei(),n(a).next(i=>this.referenceDelegate.di(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Ai(t,r){return ke.or(Object.values(this.ui).map(n=>()=>n.containsKey(t,r)))}}class V_e extends pbe{constructor(t){super(),this.currentSequenceNumber=t}}class KI{constructor(t){this.persistence=t,this.Ri=new GI,this.Vi=null}static mi(t){return new KI(t)}get fi(){if(this.Vi)return this.Vi;throw ht(60996)}addReference(t,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),ke.resolve()}removeReference(t,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),ke.resolve()}markPotentiallyOrphaned(t,r){return this.fi.add(r.toString()),ke.resolve()}removeTarget(t,r){this.Ri.jr(r.targetId).forEach(a=>this.fi.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.fi.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}Ei(){this.Vi=new Set}di(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ke.forEach(this.fi,n=>{const a=it.fromPath(n);return this.gi(t,a).next(i=>{i||r.removeEntry(a,yt.min())})}).next(()=>(this.Vi=null,r.apply(t)))}updateLimboDocument(t,r){return this.gi(t,r).next(n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())})}Ti(t){return 0}gi(t,r){return ke.or([()=>ke.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ai(t,r)])}}class db{constructor(t,r){this.persistence=t,this.pi=new dh(n=>ybe(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=I_e(this,r)}static mi(t,r){return new db(t,r)}Ei(){}di(t){return ke.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}gr(t){const r=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}wr(t){let r=0;return this.pr(t,n=>{r++}).next(()=>r)}pr(t,r){return ke.forEach(this.pi,(n,a)=>this.br(t,n,a).next(i=>i?ke.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.ii(t,s=>this.br(t,s,r).next(o=>{o||(n++,i.removeEntry(s,yt.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.pi.set(r,t.currentSequenceNumber),ke.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),ke.resolve()}removeReference(t,r,n){return this.pi.set(n,t.currentSequenceNumber),ke.resolve()}updateLimboDocument(t,r){return this.pi.set(r,t.currentSequenceNumber),ke.resolve()}Ti(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=X1(t.data.value)),r}br(t,r,n){return ke.or([()=>this.persistence.Ai(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.pi.get(r);return ke.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.Es=n,this.ds=a}static As(t,r){let n=Mt(),a=Mt();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new qI(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_e{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return gye()?8:gbe(Ya())>0?6:4}()}initialize(t,r){this.ps=t,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.ys(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.ws(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new z_e;return this.Ss(t,r,s).next(o=>{if(i.result=o,this.Vs)return this.bs(t,r,s,o.size)})}).next(()=>i.result)}bs(t,r,n,a){return n.documentReadCount<this.fs?(Mh()<=jt.DEBUG&&Ke("QueryEngine","SDK will not create cache indexes for query:",Fh(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ke.resolve()):(Mh()<=jt.DEBUG&&Ke("QueryEngine","Query:",Fh(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.gs*a?(Mh()<=jt.DEBUG&&Ke("QueryEngine","The SDK decides to create cache indexes for query:",Fh(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,il(r))):ke.resolve())}ys(t,r){if(ZF(r))return ke.resolve(null);let n=il(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=lb(r,null,"F"),n=il(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=Mt(...i);return this.ps.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.Ds(r,o);return this.Cs(r,c,s,l.readTime)?this.ys(t,lb(r,null,"F")):this.vs(t,c,r,l)}))})))}ws(t,r,n,a){return ZF(r)||a.isEqual(yt.min())?ke.resolve(null):this.ps.getDocuments(t,n).next(i=>{const s=this.Ds(r,i);return this.Cs(r,s,n,a)?ke.resolve(null):(Mh()<=jt.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Fh(r)),this.vs(t,s,r,dbe(a,mv)).next(o=>o))})}Ds(t,r){let n=new Un(qH(t));return r.forEach((a,i)=>{hE(t,i)&&(n=n.add(i))}),n}Cs(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}Ss(t,r,n){return Mh()<=jt.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",Fh(r)),this.ps.getDocumentsMatchingQuery(t,r,Bu.min(),n)}vs(t,r,n,a){return this.ps.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="LocalStore",H_e=3e8;class G_e{constructor(t,r,n,a){this.persistence=t,this.Fs=r,this.serializer=a,this.Ms=new Qr(Rt),this.xs=new dh(i=>BI(i),UI),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(n)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new j_e(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ms))}}function K_e(e,t,r,n){return new G_e(e,t,r,n)}async function vG(e,t){const r=xt(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Bs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=Mt();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ls:c,removedBatchIds:s,addedBatchIds:o}))})})}function q_e(e,t){const r=xt(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let m=ke.resolve();return h.forEach(p=>{m=m.next(()=>u.getEntry(l,p)).next(g=>{const v=c.docVersions.get(p);er(v!==null,48541),g.version.compareTo(v)<0&&(f.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),m.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Mt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function yG(e){const t=xt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.Pi.getLastRemoteSnapshotVersion(r))}function Y_e(e,t){const r=xt(e),n=t.snapshotVersion;let a=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Ns.newChangeBuffer({trackRemovals:!0});a=r.Ms;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.Pi.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.Pi.addMatchingKeys(i,u.addedDocuments,f)));let m=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?m=m.withResumeToken(la.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):u.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(u.resumeToken,n)),a=a.insert(f,m),function(g,v,y){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=H_e?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,m,u)&&o.push(r.Pi.updateTargetData(i,m))});let l=gc(),c=Mt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(X_e(i,s,t.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!n.isEqual(yt.min())){const u=r.Pi.getLastRemoteSnapshotVersion(i).next(f=>r.Pi.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return ke.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ms=a,i))}function X_e(e,t,r){let n=Mt(),a=Mt();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=gc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(yt.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Ke(YI,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:s,qs:a}})}function Q_e(e,t){const r=xt(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=FI),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function J_e(e,t){const r=xt(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.Pi.getTargetData(n,t).next(i=>i?(a=i,ke.resolve(a)):r.Pi.allocateTargetId(n).next(s=>(a=new fu(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ms.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(t,n.targetId)),n})}async function qC(e,t,r){const n=xt(e),a=n.Ms.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!wm(s))throw s;Ke(YI,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ms=n.Ms.remove(t),n.xs.delete(a.target)}function fL(e,t,r){const n=xt(e);let a=yt.min(),i=Mt();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=xt(l),h=f.xs.get(u);return h!==void 0?ke.resolve(f.Ms.get(h)):f.Pi.getTargetData(c,u)}(n,s,il(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.Fs.getDocumentsMatchingQuery(s,t,r?a:yt.min(),r?i:Mt())).next(o=>(Z_e(n,Fbe(t),o),{documents:o,Qs:i})))}function Z_e(e,t,r){let n=e.Os.get(t)||yt.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.Os.set(t,n)}class hL{constructor(){this.activeTargetIds=zbe()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eEe{constructor(){this.Mo=new hL,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,r,n){this.xo[t]=r}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new hL,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tEe{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="ConnectivityMonitor";class pL{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ke(mL,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ke(mL,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n1=null;function YC(){return n1===null?n1=function(){return 268435456+Math.round(2147483648*Math.random())}():n1++,"0x"+n1.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="RestConnection",rEe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nEe{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+t.host,this.Ko=`projects/${n}/databases/${a}`,this.Wo=this.databaseId.database===ib?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Go(t,r,n,a,i){const s=YC(),o=this.zo(t,r.toUriEncodedString());Ke(iT,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,a,i);const{host:c}=new URL(o),u=lh(c);return this.Jo(t,o,l,n,u).then(f=>(Ke(iT,`Received RPC '${t}' ${s}: `,f),f),f=>{throw Df(iT,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Ho(t,r,n,a,i,s){return this.Go(t,r,n,a,i)}jo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ym}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}zo(t,r){const n=rEe[t];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aEe{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia="WebChannelConnection";class iEe extends nEe{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,r,n,a,i){const s=YC();return new Promise((o,l)=>{const c=new xH;c.setWithCredentials(!0),c.listenOnce(wH.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Y1.NO_ERROR:const f=c.getResponseJson();Ke(Ia,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Y1.TIMEOUT:Ke(Ia,`RPC '${t}' ${s} timed out`),l(new ze(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Y1.HTTP_ERROR:const h=c.getStatus();if(Ke(Ia,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const p=m==null?void 0:m.error;if(p&&p.status&&p.message){const g=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(x)>=0?x:Ae.UNKNOWN}(p.status);l(new ze(g,p.message))}else l(new ze(Ae.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new ze(Ae.UNAVAILABLE,"Connection failed."));break;default:ht(9055,{l_:t,streamId:s,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Ke(Ia,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);Ke(Ia,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}T_(t,r,n){const a=YC(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=EH(),o=_H(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");Ke(Ia,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);this.I_(f);let h=!1,m=!1;const p=new aEe({Yo:v=>{m?Ke(Ia,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(Ke(Ia,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),Ke(Ia,`RPC '${t}' stream ${a} sending:`,v),f.send(v))},Zo:()=>f.close()}),g=(v,y,x)=>{v.listen(y,b=>{try{x(b)}catch(E){setTimeout(()=>{throw E},0)}})};return g(f,Vp.EventType.OPEN,()=>{m||(Ke(Ia,`RPC '${t}' stream ${a} transport opened.`),p.o_())}),g(f,Vp.EventType.CLOSE,()=>{m||(m=!0,Ke(Ia,`RPC '${t}' stream ${a} transport closed`),p.a_(),this.E_(f))}),g(f,Vp.EventType.ERROR,v=>{m||(m=!0,Df(Ia,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),p.a_(new ze(Ae.UNAVAILABLE,"The operation could not be completed")))}),g(f,Vp.EventType.MESSAGE,v=>{var y;if(!m){const x=v.data[0];er(!!x,16349);const b=x,E=(b==null?void 0:b.error)||((y=b[0])==null?void 0:y.error);if(E){Ke(Ia,`RPC '${t}' stream ${a} received error:`,E);const k=E.status;let C=function(T){const P=En[T];if(P!==void 0)return iG(P)}(k),S=E.message;C===void 0&&(C=Ae.INTERNAL,S="Unknown error status: "+k+" with message "+E.message),m=!0,p.a_(new ze(C,S)),f.close()}else Ke(Ia,`RPC '${t}' stream ${a} received:`,x),p.u_(x)}}),g(o,bH.STAT_EVENT,v=>{v.stat===FC.PROXY?Ke(Ia,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===FC.NOPROXY&&Ke(Ia,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(r=>r===t)}}function sT(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(e){return new c_e(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xG{constructor(t,r,n=1e3,a=1.5,i=6e4){this.Mi=t,this.timerId=r,this.d_=n,this.A_=a,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),a=Math.max(0,r-n);a>0&&Ke("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="PersistentStream";class wG{constructor(t,r,n,a,i,s,o,l){this.Mi=t,this.S_=n,this.b_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xG(t,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():r&&r.code===Ae.RESOURCE_EXHAUSTED?(pc(r.toString()),pc("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(r)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.D_===r&&this.G_(n,a)},n=>{t(()=>{const a=new ze(Ae.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(a)})})}G_(t,r){const n=this.W_(this.D_);this.stream=this.j_(t,r),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(a=>{n(()=>this.z_(a))}),this.stream.onMessage(a=>{n(()=>++this.F_==1?this.J_(a):this.onNext(a))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Ke(gL,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return r=>{this.Mi.enqueueAndForget(()=>this.D_===t?r():(Ke(gL,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sEe extends wG{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}j_(t,r){return this.connection.T_("Listen",t,r)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const r=f_e(this.serializer,t),n=function(i){if(!("targetChange"in i))return yt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?yt.min():s.readTime?sl(s.readTime):yt.min()}(t);return this.listener.H_(r,n)}Y_(t){const r={};r.database=KC(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=VC(l)?{documents:p_e(i,l)}:{query:g_e(i,l).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=lG(i,s.resumeToken);const c=WC(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(yt.min())>0){o.readTime=ub(i,s.snapshotVersion.toTimestamp());const c=WC(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=y_e(this.serializer,t);n&&(r.labels=n),this.q_(r)}Z_(t){const r={};r.database=KC(this.serializer),r.removeTarget=t,this.q_(r)}}class oEe extends wG{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,r){return this.connection.T_("Write",t,r)}J_(t){return er(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,er(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){er(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const r=m_e(t.writeResults,t.commitTime),n=sl(t.commitTime);return this.listener.na(n,r)}ra(){const t={};t.database=KC(this.serializer),this.q_(t)}ea(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>h_e(this.serializer,n))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lEe{}class cEe extends lEe{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ze(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,r,n,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Go(t,HC(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ze(Ae.UNKNOWN,i.toString())})}Ho(t,r,n,a,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Ho(t,HC(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ze(Ae.UNKNOWN,s.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class uEe{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pc(r),this.aa=!1):Ke("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RemoteStore";class dEe{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(s=>{n.enqueueAndForget(async()=>{fh(this)&&(Ke(jf,"Restarting streams for network reachability change."),await async function(l){const c=xt(l);c.Ea.add(4),await Ty(c),c.Ra.set("Unknown"),c.Ea.delete(4),await xE(c)}(this))})}),this.Ra=new uEe(n,a)}}async function xE(e){if(fh(e))for(const t of e.da)await t(!0)}async function Ty(e){for(const t of e.da)await t(!1)}function bG(e,t){const r=xt(e);r.Ia.has(t.targetId)||(r.Ia.set(t.targetId,t),ZI(r)?JI(r):_m(r).O_()&&QI(r,t))}function XI(e,t){const r=xt(e),n=_m(r);r.Ia.delete(t),n.O_()&&_G(r,t),r.Ia.size===0&&(n.O_()?n.L_():fh(r)&&r.Ra.set("Unknown"))}function QI(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}_m(e).Y_(t)}function _G(e,t){e.Va.Ue(t),_m(e).Z_(t)}function JI(e){e.Va=new i_e({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),_m(e).start(),e.Ra.ua()}function ZI(e){return fh(e)&&!_m(e).x_()&&e.Ia.size>0}function fh(e){return xt(e).Ea.size===0}function EG(e){e.Va=void 0}async function fEe(e){e.Ra.set("Online")}async function hEe(e){e.Ia.forEach((t,r)=>{QI(e,t)})}async function mEe(e,t){EG(e),ZI(e)?(e.Ra.ha(t),JI(e)):e.Ra.set("Unknown")}async function pEe(e,t,r){if(e.Ra.set("Online"),t instanceof oG&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a.Ia.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a.Ia.delete(o),a.Va.removeTarget(o))}(e,t)}catch(n){Ke(jf,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await fb(e,n)}else if(t instanceof Z1?e.Va.Ze(t):t instanceof sG?e.Va.st(t):e.Va.tt(t),!r.isEqual(yt.min()))try{const n=await yG(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.Va.Tt(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.Ia.get(c);u&&i.Ia.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i.Ia.get(l);if(!u)return;i.Ia.set(l,u.withResumeToken(la.EMPTY_BYTE_STRING,u.snapshotVersion)),_G(i,l);const f=new fu(u.target,l,c,u.sequenceNumber);QI(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){Ke(jf,"Failed to raise snapshot:",n),await fb(e,n)}}async function fb(e,t,r){if(!wm(t))throw t;e.Ea.add(1),await Ty(e),e.Ra.set("Offline"),r||(r=()=>yG(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ke(jf,"Retrying IndexedDB access"),await r(),e.Ea.delete(1),await xE(e)})}function SG(e,t){return t().catch(r=>fb(e,r,t))}async function wE(e){const t=xt(e),r=Wu(t);let n=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:FI;for(;gEe(t);)try{const a=await Q_e(t.localStore,n);if(a===null){t.Ta.length===0&&r.L_();break}n=a.batchId,vEe(t,a)}catch(a){await fb(t,a)}TG(t)&&AG(t)}function gEe(e){return fh(e)&&e.Ta.length<10}function vEe(e,t){e.Ta.push(t);const r=Wu(e);r.O_()&&r.X_&&r.ea(t.mutations)}function TG(e){return fh(e)&&!Wu(e).x_()&&e.Ta.length>0}function AG(e){Wu(e).start()}async function yEe(e){Wu(e).ra()}async function xEe(e){const t=Wu(e);for(const r of e.Ta)t.ea(r.mutations)}async function wEe(e,t,r){const n=e.Ta.shift(),a=zI.from(n,t,r);await SG(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await wE(e)}async function bEe(e,t){t&&Wu(e).X_&&await async function(n,a){if(function(s){return r_e(s)&&s!==Ae.ABORTED}(a.code)){const i=n.Ta.shift();Wu(n).B_(),await SG(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await wE(n)}}(e,t),TG(e)&&AG(e)}async function vL(e,t){const r=xt(e);r.asyncQueue.verifyOperationInProgress(),Ke(jf,"RemoteStore received new credentials");const n=fh(r);r.Ea.add(3),await Ty(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.Ea.delete(3),await xE(r)}async function _Ee(e,t){const r=xt(e);t?(r.Ea.delete(2),await xE(r)):t||(r.Ea.add(2),await Ty(r),r.Ra.set("Unknown"))}function _m(e){return e.ma||(e.ma=function(r,n,a){const i=xt(r);return i.sa(),new sEe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{Xo:fEe.bind(null,e),t_:hEe.bind(null,e),r_:mEe.bind(null,e),H_:pEe.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),ZI(e)?JI(e):e.Ra.set("Unknown")):(await e.ma.stop(),EG(e))})),e.ma}function Wu(e){return e.fa||(e.fa=function(r,n,a){const i=xt(r);return i.sa(),new oEe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:yEe.bind(null,e),r_:bEe.bind(null,e),ta:xEe.bind(null,e),na:wEe.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await wE(e)):(await e.fa.stop(),e.Ta.length>0&&(Ke(jf,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new rc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new eO(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(Ae.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tO(e,t){if(pc("AsyncQueue",`${t}: ${e}`),wm(e))return new ze(Ae.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{static emptySet(t){return new E0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||it.comparator(r.key,n.key):(r,n)=>it.comparator(r.key,n.key),this.keyedMap=zp(),this.sortedSet=new Qr(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof E0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new E0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.ga=new Qr(it.comparator)}track(t){const r=t.doc.key,n=this.ga.get(r);n?t.type!==0&&n.type===3?this.ga=this.ga.insert(r,t):t.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.ga=this.ga.remove(r):t.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:t.doc}):ht(63341,{Rt:t,pa:n}):this.ga=this.ga.insert(r,t)}ya(){const t=[];return this.ga.inorderTraversal((r,n)=>{t.push(n)}),t}}class H0{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new H0(t,r,E0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fE(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EEe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class SEe{constructor(){this.queries=xL(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const a=xt(r),i=a.queries;a.queries=xL(),i.forEach((s,o)=>{for(const l of o.Sa)l.onError(n)})})(this,new ze(Ae.ABORTED,"Firestore shutting down"))}}function xL(){return new dh(e=>KH(e),fE)}async function rO(e,t){const r=xt(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.ba()&&t.Da()&&(n=2):(i=new EEe,n=t.Da()?0:1);try{switch(n){case 0:i.wa=await r.onListen(a,!0);break;case 1:i.wa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=tO(s,`Initialization of query '${Fh(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Sa.push(t),t.va(r.onlineState),i.wa&&t.Fa(i.wa)&&aO(r)}async function nO(e,t){const r=xt(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Sa.indexOf(t);s>=0&&(i.Sa.splice(s,1),i.Sa.length===0?a=t.Da()?0:1:!i.ba()&&t.Da()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function TEe(e,t){const r=xt(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Sa)o.Fa(a)&&(n=!0);s.wa=a}}n&&aO(r)}function AEe(e,t,r){const n=xt(e),a=n.queries.get(t);if(a)for(const i of a.Sa)i.onError(r);n.queries.delete(t)}function aO(e){e.Ca.forEach(t=>{t.next()})}var XC,wL;(wL=XC||(XC={})).Ma="default",wL.Cache="cache";class iO{constructor(t,r,n){this.query=t,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new H0(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),r=!0):this.La(t,this.onlineState)&&(this.ka(t),r=!0),this.Na=t,r}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),r=!0),r}La(t,r){if(!t.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(t){t=H0.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==XC.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(t){this.key=t}}class kG{constructor(t){this.key=t}}class CEe{constructor(t,r){this.query=t,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=qH(t),this.tu=new E0(this.eu)}get nu(){return this.Ya}ru(t,r){const n=r?r.iu:new yL,a=r?r.tu:this.tu;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),m=hE(this.query,f)?f:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let v=!1;h&&m?h.data.isEqual(m.data)?p!==g&&(n.track({type:3,doc:m}),v=!0):this.su(h,m)||(n.track({type:2,doc:m}),v=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(o=!0)):!h&&m?(n.track({type:0,doc:m}),v=!0):h&&!m&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(m?(s=s.add(m),i=g?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{tu:s,iu:n,Cs:o,mutatedKeys:i}}su(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const s=t.iu.ya();s.sort((u,f)=>function(m,p){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht(20277,{Rt:v})}};return g(m)-g(p)}(u.type,f.type)||this.eu(u.doc,f.doc)),this.ou(n),a=a??!1;const o=r&&!a?this._u():[],l=this.Xa.size===0&&this.current&&!a?1:0,c=l!==this.Za;return this.Za=l,s.length!==0||c?{snapshot:new H0(this.query,t.tu,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yL,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(r=>this.Ya=this.Ya.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.Ya=this.Ya.delete(r)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach(n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))});const r=[];return t.forEach(n=>{this.Xa.has(n)||r.push(new kG(n))}),this.Xa.forEach(n=>{t.has(n)||r.push(new CG(n))}),r}cu(t){this.Ya=t.Qs,this.Xa=Mt();const r=this.ru(t.documents);return this.applyChanges(r,!0)}lu(){return H0.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sO="SyncEngine";class kEe{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class NEe{constructor(t){this.key=t,this.hu=!1}}class PEe{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new dh(o=>KH(o),fE),this.Iu=new Map,this.Eu=new Set,this.du=new Qr(it.comparator),this.Au=new Map,this.Ru=new GI,this.Vu={},this.mu=new Map,this.fu=W0.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IEe(e,t,r=!0){const n=jG(e);let a;const i=n.Tu.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.lu()):a=await NG(n,t,r,!0),a}async function OEe(e,t){const r=jG(e);await NG(r,t,!0,!1)}async function NG(e,t,r,n){const a=await J_e(e.localStore,il(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await DEe(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&bG(e.remoteStore,a),o}async function DEe(e,t,r,n,a){e.pu=(f,h,m)=>async function(g,v,y,x){let b=v.view.ru(y);b.Cs&&(b=await fL(g.localStore,v.query,!1).then(({documents:S})=>v.view.ru(S,b)));const E=x&&x.targetChanges.get(v.targetId),k=x&&x.targetMismatches.get(v.targetId)!=null,C=v.view.applyChanges(b,g.isPrimaryClient,E,k);return _L(g,v.targetId,C.au),C.snapshot}(e,f,h,m);const i=await fL(e.localStore,t,!0),s=new CEe(t,i.Qs),o=s.ru(i.documents),l=Sy.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);_L(e,r,c.au);const u=new kEe(t,r,s);return e.Tu.set(t,u),e.Iu.has(r)?e.Iu.get(r).push(t):e.Iu.set(r,[t]),c.snapshot}async function jEe(e,t,r){const n=xt(e),a=n.Tu.get(t),i=n.Iu.get(a.targetId);if(i.length>1)return n.Iu.set(a.targetId,i.filter(s=>!fE(s,t))),void n.Tu.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await qC(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&XI(n.remoteStore,a.targetId),QC(n,a.targetId)}).catch(xm)):(QC(n,a.targetId),await qC(n.localStore,a.targetId,!0))}async function REe(e,t){const r=xt(e),n=r.Tu.get(t),a=r.Iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),XI(r.remoteStore,n.targetId))}async function MEe(e,t,r){const n=zEe(e);try{const a=await function(s,o){const l=xt(s),c=yr.now(),u=o.reduce((m,p)=>m.add(p.key),Mt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let p=gc(),g=Mt();return l.Ns.getEntries(m,u).next(v=>{p=v,p.forEach((y,x)=>{x.isValidDocument()||(g=g.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,p)).next(v=>{f=v;const y=[];for(const x of o){const b=Qbe(x,f.get(x.key).overlayedDocument);b!=null&&y.push(new cd(x.key,b,$H(b.value.mapValue),hi.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,g);return l.documentOverlayCache.saveOverlays(m,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:XH(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.Vu[s.currentUser.toKey()];c||(c=new Qr(Rt)),c=c.insert(o,l),s.Vu[s.currentUser.toKey()]=c}(n,a.batchId,r),await Ay(n,a.changes),await wE(n.remoteStore)}catch(a){const i=tO(a,"Failed to persist write");r.reject(i)}}async function PG(e,t){const r=xt(e);try{const n=await Y_e(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r.Au.get(i);s&&(er(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.hu=!0:a.modifiedDocuments.size>0?er(s.hu,14607):a.removedDocuments.size>0&&(er(s.hu,42227),s.hu=!1))}),await Ay(r,n,t)}catch(n){await xm(n)}}function bL(e,t,r){const n=xt(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.Tu.forEach((i,s)=>{const o=s.view.va(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=xt(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Sa)h.va(o)&&(c=!0)}),c&&aO(l)}(n.eventManager,t),a.length&&n.Pu.H_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function FEe(e,t,r){const n=xt(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n.Au.get(t),i=a&&a.key;if(i){let s=new Qr(it.comparator);s=s.insert(i,$a.newNoDocument(i,yt.min()));const o=Mt().add(i),l=new vE(yt.min(),new Map,new Qr(Rt),s,o);await PG(n,l),n.du=n.du.remove(i),n.Au.delete(t),oO(n)}else await qC(n.localStore,t,!1).then(()=>QC(n,t,r)).catch(xm)}async function LEe(e,t){const r=xt(e),n=t.batch.batchId;try{const a=await q_e(r.localStore,t);OG(r,n,null),IG(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Ay(r,a)}catch(a){await xm(a)}}async function $Ee(e,t,r){const n=xt(e);try{const a=await function(s,o){const l=xt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(er(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);OG(n,t,r),IG(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Ay(n,a)}catch(a){await xm(a)}}function IG(e,t){(e.mu.get(t)||[]).forEach(r=>{r.resolve()}),e.mu.delete(t)}function OG(e,t,r){const n=xt(e);let a=n.Vu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.Vu[n.currentUser.toKey()]=a}}function QC(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.Iu.get(t))e.Tu.delete(n),r&&e.Pu.yu(n,r);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(n=>{e.Ru.containsKey(n)||DG(e,n)})}function DG(e,t){e.Eu.delete(t.path.canonicalString());const r=e.du.get(t);r!==null&&(XI(e.remoteStore,r),e.du=e.du.remove(t),e.Au.delete(r),oO(e))}function _L(e,t,r){for(const n of r)n instanceof CG?(e.Ru.addReference(n.key,t),BEe(e,n)):n instanceof kG?(Ke(sO,"Document no longer in limbo: "+n.key),e.Ru.removeReference(n.key,t),e.Ru.containsKey(n.key)||DG(e,n.key)):ht(19791,{wu:n})}function BEe(e,t){const r=t.key,n=r.path.canonicalString();e.du.get(r)||e.Eu.has(n)||(Ke(sO,"New document in limbo: "+r),e.Eu.add(n),oO(e))}function oO(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const r=new it(_r.fromString(t)),n=e.fu.next();e.Au.set(n,new NEe(r)),e.du=e.du.insert(r,n),bG(e.remoteStore,new fu(il(dE(r.path)),n,"TargetPurposeLimboResolution",lE.ce))}}async function Ay(e,t,r){const n=xt(e),a=[],i=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach((o,l)=>{s.push(n.pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=qI.As(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.Pu.H_(a),await async function(l,c){const u=xt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ke.forEach(c,h=>ke.forEach(h.Es,m=>u.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>ke.forEach(h.ds,m=>u.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!wm(f))throw f;Ke(YI,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const m=u.Ms.get(h),p=m.snapshotVersion,g=m.withLastLimboFreeSnapshotVersion(p);u.Ms=u.Ms.insert(h,g)}}}(n.localStore,i))}async function UEe(e,t){const r=xt(e);if(!r.currentUser.isEqual(t)){Ke(sO,"User change. New user:",t.toKey());const n=await vG(r.localStore,t);r.currentUser=t,function(i,s){i.mu.forEach(o=>{o.forEach(l=>{l.reject(new ze(Ae.CANCELLED,s))})}),i.mu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Ay(r,n.Ls)}}function VEe(e,t){const r=xt(e),n=r.Au.get(t);if(n&&n.hu)return Mt().add(n.key);{let a=Mt();const i=r.Iu.get(t);if(!i)return a;for(const s of i){const o=r.Tu.get(s);a=a.unionWith(o.view.nu)}return a}}function jG(e){const t=xt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=PG.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=VEe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FEe.bind(null,t),t.Pu.H_=TEe.bind(null,t.eventManager),t.Pu.yu=AEe.bind(null,t.eventManager),t}function zEe(e){const t=xt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LEe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$Ee.bind(null,t),t}class hb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yE(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,r){return null}Mu(t,r){return null}vu(t){return K_e(this.persistence,new W_e,t.initialUser,this.serializer)}Cu(t){return new gG(KI.mi,this.serializer)}Du(t){return new eEe}async terminate(){var t,r;(t=this.gcScheduler)==null||t.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hb.provider={build:()=>new hb};class WEe extends hb{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,r){er(this.persistence.referenceDelegate instanceof db,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new N_e(n,t.asyncQueue,r)}Cu(t){const r=this.cacheSizeBytes!==void 0?yi.withCacheSize(this.cacheSizeBytes):yi.DEFAULT;return new gG(n=>db.mi(n,r),this.serializer)}}class JC{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>bL(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=UEe.bind(null,this.syncEngine),await _Ee(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new SEe}()}createDatastore(t){const r=yE(t.databaseInfo.databaseId),n=function(i){return new iEe(i)}(t.databaseInfo);return function(i,s,o,l){return new cEe(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new dEe(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>bL(this.syncEngine,r,0),function(){return pL.v()?new pL:new tEe}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new PEe(a,i,s,o,l,c);return u&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=xt(a);Ke(jf,"RemoteStore shutting down."),i.Ea.add(5),await Ty(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(r=this.eventManager)==null||r.terminate()}}JC.provider={build:()=>new JC};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):pc("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu="FirestoreClient";class HEe{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=Ra.UNAUTHENTICATED,this.clientId=sE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{Ke(Hu,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Ke(Hu,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=tO(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function oT(e,t){e.asyncQueue.verifyOperationInProgress(),Ke(Hu,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await vG(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function EL(e,t){e.asyncQueue.verifyOperationInProgress();const r=await GEe(e);Ke(Hu,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>vL(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>vL(t.remoteStore,a)),e._onlineComponents=t}async function GEe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ke(Hu,"Using user provided OfflineComponentProvider");try{await oT(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===Ae.FAILED_PRECONDITION||a.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Df("Error using user provided cache. Falling back to memory cache: "+r),await oT(e,new hb)}}else Ke(Hu,"Using default OfflineComponentProvider"),await oT(e,new WEe(void 0));return e._offlineComponents}async function RG(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ke(Hu,"Using user provided OnlineComponentProvider"),await EL(e,e._uninitializedComponentsProvider._online)):(Ke(Hu,"Using default OnlineComponentProvider"),await EL(e,new JC))),e._onlineComponents}function KEe(e){return RG(e).then(t=>t.syncEngine)}async function mb(e){const t=await RG(e),r=t.eventManager;return r.onListen=IEe.bind(null,t.syncEngine),r.onUnlisten=jEe.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=OEe.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=REe.bind(null,t.syncEngine),r}function qEe(e,t,r={}){const n=new rc;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new lO({next:h=>{u.Nu(),s.enqueueAndForget(()=>nO(i,f));const m=h.docs.has(o);!m&&h.fromCache?c.reject(new ze(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&h.fromCache&&l&&l.source==="server"?c.reject(new ze(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new iO(dE(o.path),u,{includeMetadataChanges:!0,qa:!0});return rO(i,f)}(await mb(e),e.asyncQueue,t,r,n)),n.promise}function YEe(e,t,r={}){const n=new rc;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new lO({next:h=>{u.Nu(),s.enqueueAndForget(()=>nO(i,f)),h.fromCache&&l.source==="server"?c.reject(new ze(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new iO(o,u,{includeMetadataChanges:!0,qa:!0});return rO(i,f)}(await mb(e),e.asyncQueue,t,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MG(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FG="firestore.googleapis.com",TL=!0;class AL{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ze(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FG,this.ssl=TL}else this.host=t.host,this.ssl=t.ssl??TL;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=pG;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<C_e)throw new ze(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kH("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MG(t.experimentalLongPollingOptions??{}),function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ze(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ze(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ze(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bE{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AL({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ze(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AL(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new AH;switch(n.type){case"firstParty":return new abe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ze(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=SL.get(r);n&&(Ke("ComponentProvider","Removing Datastore"),SL.delete(r),n.terminate())}(this),Promise.resolve()}}function LG(e,t,r,n={}){var c;e=Wa(e,bE);const a=lh(t),i=e._getSettings(),s={...i,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${r}`;a&&(SI(`https://${o}`),TI("Firestore",!0)),i.host!==FG&&i.host!==o&&Df("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:o,ssl:a,emulatorOptions:n};if(!$u(l,s)&&(e._setSettings(l),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=Ra.MOCK_USER;else{u=SW(n.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new ze(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ra(h)}e._authCredentials=new tbe(new TH(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new El(this.firestore,t,this._query)}}class qr{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qr(this.firestore,t,this._key)}toJSON(){return{type:qr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,n){if(_y(r,qr._jsonSchema))return new qr(t,n||null,new it(_r.fromString(r.referencePath)))}}qr._jsonSchemaVersion="firestore/documentReference/1.0",qr._jsonSchema={type:Pn("string",qr._jsonSchemaVersion),referencePath:Pn("string")};class nc extends El{constructor(t,r,n){super(t,r,dE(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qr(this.firestore,null,new it(t))}withConverter(t){return new nc(this.firestore,t,this._path)}}function gt(e,t,...r){if(e=Sr(e),CH("collection","path",t),e instanceof bE){const n=_r.fromString(t,...r);return $F(n),new nc(e,null,n)}{if(!(e instanceof qr||e instanceof nc))throw new ze(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_r.fromString(t,...r));return $F(n),new nc(e.firestore,null,n)}}function ct(e,t,...r){if(e=Sr(e),arguments.length===1&&(t=sE.newId()),CH("doc","path",t),e instanceof bE){const n=_r.fromString(t,...r);return LF(n),new qr(e,null,new it(n))}{if(!(e instanceof qr||e instanceof nc))throw new ze(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_r.fromString(t,...r));return LF(n),new qr(e.firestore,e instanceof nc?e.converter:null,new it(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL="AsyncQueue";class kL{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xG(this,"async_queue_retry"),this._c=()=>{const n=sT();n&&Ke(CL,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=t;const r=sT();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=sT();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const r=new rc;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!wm(t))throw t;Ke(CL,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const r=this.ac.then(()=>(this.rc=!0,t().catch(n=>{throw this.nc=n,this.rc=!1,pc("INTERNAL UNHANDLED ERROR: ",NL(n)),n}).then(n=>(this.rc=!1,n))));return this.ac=r,r}enqueueAfterDelay(t,r,n){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const a=eO.createAndSchedule(this,t,r,n,i=>this.hc(i));return this.tc.push(a),a}uc(){this.nc&&ht(47125,{Pc:NL(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function NL(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PL(e){return function(r,n){if(typeof r!="object"||r===null)return!1;const a=r;for(const i of n)if(i in a&&typeof a[i]=="function")return!0;return!1}(e,["next","error","complete"])}class Do extends bE{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new kL,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new kL(t),this._firestoreClient=void 0,await t}}}function $G(e,t){const r=typeof e=="object"?e:rE(),n=typeof e=="string"?e:ib,a=sd(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=bW("firestore");i&&LG(a,...i)}return a}function Em(e){if(e._terminated)throw new ze(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||XEe(e),e._firestoreClient}function XEe(e){var n,a,i;const t=e._freezeSettings(),r=function(o,l,c,u){return new bbe(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,MG(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((n=e._app)==null?void 0:n.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((i=t.localCache)!=null&&i._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new HEe(e._authCredentials,e._appCheckCredentials,e._queue,r,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Xi(la.fromBase64String(t))}catch(r){throw new ze(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Xi(la.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Xi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_y(t,Xi._jsonSchema))return Xi.fromBase64String(t.bytes)}}Xi._jsonSchemaVersion="firestore/bytes/1.0",Xi._jsonSchema={type:Pn("string",Xi._jsonSchemaVersion),bytes:Pn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new ze(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ra(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new ze(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new ze(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Rt(this._lat,t._lat)||Rt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:To._jsonSchemaVersion}}static fromJSON(t){if(_y(t,To._jsonSchema))return new To(t.latitude,t.longitude)}}To._jsonSchemaVersion="firestore/geoPoint/1.0",To._jsonSchema={type:Pn("string",To._jsonSchemaVersion),latitude:Pn("number"),longitude:Pn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Ao._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_y(t,Ao._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(r=>typeof r=="number"))return new Ao(t.vectorValues);throw new ze(Ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ao._jsonSchemaVersion="firestore/vectorValue/1.0",Ao._jsonSchema={type:Pn("string",Ao._jsonSchemaVersion),vectorValues:Pn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QEe=/^__.*__$/;class JEe{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new cd(t,this.data,this.fieldMask,r,this.fieldTransforms):new Ey(t,this.data,r,this.fieldTransforms)}}class BG{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new cd(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function UG(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht(40011,{Ac:e})}}class cO{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new cO({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var a;const r=(a=this.path)==null?void 0:a.child(t),n=this.Vc({path:r,fc:!1});return n.gc(t),n}yc(t){var a;const r=(a=this.path)==null?void 0:a.child(t),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return pb(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(UG(this.Ac)&&QEe.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class ZEe{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||yE(t)}Cc(t,r,n,a=!1){return new cO({Ac:t,methodName:r,Dc:n,path:ra.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ky(e){const t=e._freezeSettings(),r=yE(e._databaseId);return new ZEe(e._databaseId,!!t.ignoreUndefinedProperties,r)}function uO(e,t,r,n,a,i={}){const s=e.Cc(i.merge||i.mergeFields?2:0,t,r,a);fO("Data must be an object, but it was:",s,n);const o=WG(n,s);let l,c;if(i.merge)l=new Zi(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=ZC(t,f,r);if(!s.contains(h))throw new ze(Ae.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);GG(u,h)||u.push(h)}l=new Zi(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new JEe(new Ei(o),l,c)}class _E extends Cy{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _E}}class dO extends Cy{_toFieldTransform(t){return new Kbe(t.path,new yv)}isEqual(t){return t instanceof dO}}function VG(e,t,r,n){const a=e.Cc(1,t,r);fO("Data must be an object, but it was:",a,n);const i=[],s=Ei.empty();ld(n,(l,c)=>{const u=hO(t,l,r);c=Sr(c);const f=a.yc(u);if(c instanceof _E)i.push(u);else{const h=Ny(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new Zi(i);return new BG(s,o,a.fieldTransforms)}function zG(e,t,r,n,a,i){const s=e.Cc(1,t,r),o=[ZC(t,n,r)],l=[a];if(i.length%2!=0)throw new ze(Ae.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(ZC(t,i[h])),l.push(i[h+1]);const c=[],u=Ei.empty();for(let h=o.length-1;h>=0;--h)if(!GG(c,o[h])){const m=o[h];let p=l[h];p=Sr(p);const g=s.yc(m);if(p instanceof _E)c.push(m);else{const v=Ny(p,g);v!=null&&(c.push(m),u.set(m,v))}}const f=new Zi(c);return new BG(u,f,s.fieldTransforms)}function eSe(e,t,r,n=!1){return Ny(r,e.Cc(n?4:3,t))}function Ny(e,t){if(HG(e=Sr(e)))return fO("Unsupported field value:",t,e),WG(e,t);if(e instanceof Cy)return function(n,a){if(!UG(a.Ac))throw a.Sc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=Ny(o,a.wc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=Sr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Wbe(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=yr.fromDate(n);return{timestampValue:ub(a.serializer,i)}}if(n instanceof yr){const i=new yr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ub(a.serializer,i)}}if(n instanceof To)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Xi)return{bytesValue:lG(a.serializer,n._byteString)};if(n instanceof qr){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:HI(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Ao)return function(s,o){return{mapValue:{fields:{[FH]:{stringValue:LH},[sb]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return VI(o.serializer,c)})}}}}}}(n,a);throw a.Sc(`Unsupported field value: ${oE(n)}`)}(e,t)}function WG(e,t){const r={};return IH(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ld(e,(n,a)=>{const i=Ny(a,t.mc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function HG(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof yr||e instanceof To||e instanceof Xi||e instanceof qr||e instanceof Cy||e instanceof Ao)}function fO(e,t,r){if(!HG(r)||!NH(r)){const n=oE(r);throw n==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+n)}}function ZC(e,t,r){if((t=Sr(t))instanceof Sm)return t._internalPath;if(typeof t=="string")return hO(e,t);throw pb("Field path arguments must be of type string or ",e,!1,void 0,r)}const tSe=new RegExp("[~\\*/\\[\\]]");function hO(e,t,r){if(t.search(tSe)>=0)throw pb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Sm(...t.split("."))._internalPath}catch{throw pb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function pb(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new ze(Ae.INVALID_ARGUMENT,o+e+l)}function GG(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new rSe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(EE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class rSe extends KG{data(){return super.data()}}function EE(e,t){return typeof t=="string"?hO(e,t):t instanceof Sm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new ze(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mO{}class SE extends mO{}function Tt(e,t,...r){let n=[];t instanceof mO&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof TE).length,o=i.filter(l=>l instanceof Py).length;if(s>1||s>0&&o>0)throw new ze(Ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Py extends SE{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new Py(t,r,n)}_apply(t){const r=this._parse(t);return YG(t._query,r),new El(t.firestore,t.converter,zC(t._query,r))}_parse(t){const r=ky(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ze(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){OL(f,u);const p=[];for(const g of f)p.push(IL(l,i,g));h={arrayValue:{values:p}}}else h=IL(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||OL(f,u),h=eSe(o,s,f,u==="in"||u==="not-in");return Nn.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function St(e,t,r){const n=t,a=EE("where",e);return Py._create(a,n,r)}class TE extends mO{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new TE(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Oo.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)YG(s,l),s=zC(s,l)}(t._query,r),new El(t.firestore,t.converter,zC(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class AE extends SE{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new AE(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new ze(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new ze(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new vv(i,s)}(t._query,this._field,this._direction);return new El(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new bm(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function Co(e,t="asc"){const r=t,n=EE("orderBy",e);return AE._create(n,r)}class CE extends SE{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new CE(t,r,n)}_apply(t){return new El(t.firestore,t.converter,lb(t._query,this._limit,this._limitType))}}function pO(e){return ube("limit",e),CE._create("limit",e,"F")}function IL(e,t,r){if(typeof(r=Sr(r))=="string"){if(r==="")throw new ze(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!GH(t)&&r.indexOf("/")!==-1)throw new ze(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(_r.fromString(r));if(!it.isDocumentKey(n))throw new ze(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return KF(e,new it(n))}if(r instanceof qr)return KF(e,r._key);throw new ze(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oE(r)}.`)}function OL(e,t){if(!Array.isArray(e)||e.length===0)throw new ze(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function YG(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new ze(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ze(Ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class XG{convertValue(t,r="none"){switch(zu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Vu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw ht(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return ld(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var n,a,i;const r=(i=(a=(n=t.fields)==null?void 0:n[sb].arrayValue)==null?void 0:a.values)==null?void 0:i.map(s=>pn(s.doubleValue));return new Ao(r)}convertGeoPoint(t){return new To(pn(t.latitude),pn(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=uE(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(pv(t));default:return null}}convertTimestamp(t){const r=Uu(t);return new yr(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=_r.fromString(t);er(mG(n),9688,{name:t});const a=new U0(n.get(1),n.get(3)),i=new it(n.popFirst(5));return a.isEqual(r)||pc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}class t0{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Au extends KG{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new xg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(EE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(Ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=Au._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Au._jsonSchemaVersion="firestore/documentSnapshot/1.0",Au._jsonSchema={type:Pn("string",Au._jsonSchemaVersion),bundleSource:Pn("string","DocumentSnapshot"),bundleName:Pn("string"),bundle:Pn("string")};class xg extends Au{data(t={}){return super.data(t)}}class Cu{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new t0(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new xg(this._firestore,this._userDataWriter,n.key,n,new t0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ze(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new xg(a._firestore,a._userDataWriter,o.doc.key,o.doc,new t0(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new xg(a._firestore,a._userDataWriter,o.doc.key,o.doc,new t0(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:nSe(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(Ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Cu._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=sE.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],a=[];return this.docs.forEach(i=>{i._document!==null&&(r.push(i._document),n.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),a.push(i.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function nSe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(e){e=Wa(e,qr);const t=Wa(e.firestore,Do);return qEe(Em(t),e._key).then(r=>QG(t,e,r))}Cu._jsonSchemaVersion="firestore/querySnapshot/1.0",Cu._jsonSchema={type:Pn("string",Cu._jsonSchemaVersion),bundleSource:Pn("string","QuerySnapshot"),bundleName:Pn("string"),bundle:Pn("string")};class vO extends XG{constructor(t){super(),this.firestore=t}convertBytes(t){return new Xi(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new qr(this.firestore,null,r)}}function Bt(e){e=Wa(e,El);const t=Wa(e.firestore,Do),r=Em(t),n=new vO(t);return qG(e._query),YEe(r,e._query).then(a=>new Cu(t,n,e,a))}function Ls(e,t,r){e=Wa(e,qr);const n=Wa(e.firestore,Do),a=gO(e.converter,t,r);return Tm(n,[uO(ky(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,hi.none())])}function gn(e,t,r,...n){e=Wa(e,qr);const a=Wa(e.firestore,Do),i=ky(a);let s;return s=typeof(t=Sr(t))=="string"||t instanceof Sm?zG(i,"updateDoc",e._key,t,r,n):VG(i,"updateDoc",e._key,t),Tm(a,[s.toMutation(e._key,hi.exists(!0))])}function jo(e){return Tm(Wa(e.firestore,Do),[new gE(e._key,hi.none())])}function Rf(e,t){const r=Wa(e.firestore,Do),n=ct(e),a=gO(e.converter,t);return Tm(r,[uO(ky(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,hi.exists(!1))]).then(()=>n)}function kE(e,...t){var l,c,u;e=Sr(e);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof t[n]!="object"||PL(t[n])||(r=t[n++]);const a={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(PL(t[n])){const f=t[n];t[n]=(l=f.next)==null?void 0:l.bind(f),t[n+1]=(c=f.error)==null?void 0:c.bind(f),t[n+2]=(u=f.complete)==null?void 0:u.bind(f)}let i,s,o;if(e instanceof qr)s=Wa(e.firestore,Do),o=dE(e._key.path),i={next:f=>{t[n]&&t[n](QG(s,e,f))},error:t[n+1],complete:t[n+2]};else{const f=Wa(e,El);s=Wa(f.firestore,Do),o=f._query;const h=new vO(s);i={next:m=>{t[n]&&t[n](new Cu(s,h,f,m))},error:t[n+1],complete:t[n+2]},qG(e._query)}return function(h,m,p,g){const v=new lO(g),y=new iO(m,v,p);return h.asyncQueue.enqueueAndForget(async()=>rO(await mb(h),y)),()=>{v.Nu(),h.asyncQueue.enqueueAndForget(async()=>nO(await mb(h),y))}}(Em(s),o,a,i)}function Tm(e,t){return function(n,a){const i=new rc;return n.asyncQueue.enqueueAndForget(async()=>MEe(await KEe(n),a,i)),i.promise}(Em(e),t)}function QG(e,t,r){const n=r.docs.get(t._key),a=new vO(e);return new Au(e,a,t._key,n,new t0(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ky(t)}set(t,r,n){this._verifyNotCommitted();const a=lT(t,this._firestore),i=gO(a.converter,r,n),s=uO(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,hi.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=lT(t,this._firestore);let s;return s=typeof(r=Sr(r))=="string"||r instanceof Sm?zG(this._dataReader,"WriteBatch.update",i._key,r,n,a):VG(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,hi.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=lT(t,this._firestore);return this._mutations=this._mutations.concat(new gE(r._key,hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(Ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lT(e,t){if((e=Sr(e)).firestore!==t)throw new ze(Ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function at(){return new dO("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(e){return Em(e=Wa(e,Do)),new JG(e,t=>Tm(e,t))}(function(t,r=!0){(function(a){ym=a})(uh),Po(new zs("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Do(new rbe(n.getProvider("auth-internal")),new ibe(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ze(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new U0(c.options.projectId,u)}(s,a),s);return i={useFetchStreams:r,...i},o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Oi(jF,RF,t),Oi(jF,RF,"esm2020")})();const aSe=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:XG,Bytes:Xi,CollectionReference:nc,DocumentReference:qr,DocumentSnapshot:Au,FieldPath:Sm,FieldValue:Cy,Firestore:Do,FirestoreError:ze,GeoPoint:To,Query:El,QueryCompositeFilterConstraint:TE,QueryConstraint:SE,QueryDocumentSnapshot:xg,QueryFieldFilterConstraint:Py,QueryLimitConstraint:CE,QueryOrderByConstraint:AE,QuerySnapshot:Cu,SnapshotMetadata:t0,Timestamp:yr,VectorValue:Ao,WriteBatch:JG,_AutoId:sE,_ByteString:la,_DatabaseId:U0,_DocumentKey:it,_EmptyAuthCredentialsProvider:AH,_FieldPath:ra,_cast:Wa,_logWarn:Df,_validateIsNotUsedTogether:kH,addDoc:Rf,collection:gt,connectFirestoreEmulator:LG,deleteDoc:jo,doc:ct,ensureFirestoreConfigured:Em,executeWrite:Tm,getDoc:ml,getDocs:Bt,getFirestore:$G,limit:pO,onSnapshot:kE,orderBy:Co,query:Tt,serverTimestamp:at,setDoc:Ls,updateDoc:gn,where:St,writeBatch:bv},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZG="firebasestorage.googleapis.com",iSe="storageBucket",sSe=2*60*1e3,oSe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends Ys{constructor(t,r,n=0){super(cT(t),`Firebase Storage: ${r} (${cT(t)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Sl.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return cT(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var pl;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pl||(pl={}));function cT(e){return"storage/"+e}function lSe(){const e="An unknown error occurred, please check the error payload for server response.";return new Sl(pl.UNKNOWN,e)}function cSe(){return new Sl(pl.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uSe(){return new Sl(pl.CANCELED,"User canceled the upload/download.")}function dSe(e){return new Sl(pl.INVALID_URL,"Invalid URL '"+e+"'.")}function fSe(e){return new Sl(pl.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function DL(e){return new Sl(pl.INVALID_ARGUMENT,e)}function eK(){return new Sl(pl.APP_DELETED,"The Firebase app was deleted.")}function hSe(e){return new Sl(pl.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(t,r){this.bucket=t,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,r){let n;try{n=wo.makeFromUrl(t,r)}catch{return new wo(t,"")}if(n.path==="")return n;throw fSe(t)}static makeFromUrl(t,r){let n=null;const a="([A-Za-z0-9.\\-_]+)";function i(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+a+s,"i"),l={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const u="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${u}/b/${a}/o${h}`,"i"),p={bucket:1,path:3},g=r===ZG?"(?:storage.googleapis.com|storage.cloud.google.com)":r,v="([^?#]*)",y=new RegExp(`^https?://${g}/${a}/${v}`,"i"),b=[{regex:o,indices:l,postModify:i},{regex:m,indices:p,postModify:c},{regex:y,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<b.length;E++){const k=b[E],C=k.regex.exec(t);if(C){const S=C[k.indices.bucket];let _=C[k.indices.path];_||(_=""),n=new wo(S,_),k.postModify(n);break}}if(n==null)throw dSe(t);return n}}class mSe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pSe(e,t,r){let n=1,a=null,i=null,s=!1,o=0;function l(){return o===2}let c=!1;function u(...v){c||(c=!0,t.apply(null,v))}function f(v){a=setTimeout(()=>{a=null,e(m,l())},v)}function h(){i&&clearTimeout(i)}function m(v,...y){if(c){h();return}if(v){h(),u.call(null,v,...y);return}if(l()||s){h(),u.call(null,v,...y);return}n<64&&(n*=2);let b;o===1?(o=2,b=0):b=(n+Math.random())*1e3,f(b)}let p=!1;function g(v){p||(p=!0,h(),!c&&(a!==null?(v||(o=2),clearTimeout(a),f(0)):v||(o=1)))}return f(0),i=setTimeout(()=>{s=!0,g(!0)},r),g}function gSe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vSe(e){return e!==void 0}function jL(e,t,r,n){if(n<t)throw DL(`Invalid value for '${e}'. Expected ${t} or greater.`);if(n>r)throw DL(`Invalid value for '${e}'. Expected ${r} or less.`)}function ySe(e){const t=encodeURIComponent;let r="?";for(const n in e)if(e.hasOwnProperty(n)){const a=t(n)+"="+t(e[n]);r=r+a+"&"}return r=r.slice(0,-1),r}var gb;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(gb||(gb={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xSe(e,t){const r=e>=500&&e<600,a=[408,429].indexOf(e)!==-1,i=t.indexOf(e)!==-1;return r||a||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wSe{constructor(t,r,n,a,i,s,o,l,c,u,f,h=!0,m=!1){this.url_=t,this.method_=r,this.headers_=n,this.body_=a,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const t=(n,a)=>{if(a){n(!1,new a1(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const s=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(s),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(s),this.pendingConnection_=null;const o=i.getErrorCode()===gb.NO_ERROR,l=i.getStatus();if(!o||xSe(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===gb.ABORT;n(!1,new a1(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;n(!0,new a1(c,i))})},r=(n,a)=>{const i=this.resolve_,s=this.reject_,o=a.connection;if(a.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());vSe(l)?i(l):i()}catch(l){s(l)}else if(o!==null){const l=lSe();l.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,l)):s(l)}else if(a.canceled){const l=this.appDelete_?eK():uSe();s(l)}else{const l=cSe();s(l)}};this.canceled_?r(!1,new a1(!1,null,!0)):this.backoffId_=pSe(t,r,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&gSe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class a1{constructor(t,r,n){this.wasSuccessCode=t,this.connection=r,this.canceled=!!n}}function bSe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function _Se(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function ESe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function SSe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function TSe(e,t,r,n,a,i,s=!0,o=!1){const l=ySe(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return ESe(u,t),bSe(u,r),_Se(u,i),SSe(u,n),new wSe(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,a,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ASe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function CSe(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t,r){this._service=t,r instanceof wo?this._location=r:this._location=wo.makeFromUrl(r,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,r){return new vb(t,r)}get root(){const t=new wo(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CSe(this._location.path)}get storage(){return this._service}get parent(){const t=ASe(this._location.path);if(t===null)return null;const r=new wo(this._location.bucket,t);return new vb(this._service,r)}_throwIfRoot(t){if(this._location.path==="")throw hSe(t)}}function RL(e,t){const r=t==null?void 0:t[iSe];return r==null?null:wo.makeFromBucketSpec(r,e)}function kSe(e,t,r,n={}){e.host=`${t}:${r}`;const a=lh(t);a&&(SI(`https://${e.host}/b`),TI("Storage",!0)),e._isUsingEmulator=!0,e._protocol=a?"https":"http";const{mockUserToken:i}=n;i&&(e._overrideAuthToken=typeof i=="string"?i:SW(i,e.app.options.projectId))}class NSe{constructor(t,r,n,a,i,s=!1){this.app=t,this._authProvider=r,this._appCheckProvider=n,this._url=a,this._firebaseVersion=i,this._isUsingEmulator=s,this._bucket=null,this._host=ZG,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=sSe,this._maxUploadRetryTime=oSe,this._requests=new Set,a!=null?this._bucket=wo.makeFromBucketSpec(a,this._host):this._bucket=RL(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=wo.makeFromBucketSpec(this._url,t):this._bucket=RL(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){jL("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){jL("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const r=await t.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(_i(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new vb(this,t)}_makeRequest(t,r,n,a,i=!0){if(this._deleted)return new mSe(eK());{const s=TSe(t,this._appId,n,a,r,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(t,r){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,r,n,a).getPromise()}}const ML="@firebase/storage",FL="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tK="storage";function PSe(e=rE(),t){e=Sr(e);const n=sd(e,tK).getImmediate({identifier:t}),a=bW("storage");return a&&ISe(n,...a),n}function ISe(e,t,r,n={}){kSe(e,t,r,n)}function OSe(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),n=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new NSe(r,n,a,t,uh)}function DSe(){Po(new zs(tK,OSe,"PUBLIC").setMultipleInstances(!0)),Oi(ML,FL,""),Oi(ML,FL,"esm2020")}DSe();const rK="@firebase/installations",yO="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nK=1e4,aK=`w:${yO}`,iK="FIS_v2",jSe="https://firebaseinstallations.googleapis.com/v1",RSe=60*60*1e3,MSe="installations",FSe="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LSe={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Mf=new ch(MSe,FSe,LSe);function sK(e){return e instanceof Ys&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oK({projectId:e}){return`${jSe}/projects/${e}/installations`}function lK(e){return{token:e.token,requestStatus:2,expiresIn:BSe(e.expiresIn),creationTime:Date.now()}}async function cK(e,t){const n=(await t.json()).error;return Mf.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function uK({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function $Se(e,{refreshToken:t}){const r=uK(e);return r.append("Authorization",USe(t)),r}async function dK(e){const t=await e();return t.status>=500&&t.status<600?e():t}function BSe(e){return Number(e.replace("s","000"))}function USe(e){return`${iK} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VSe({appConfig:e,heartbeatServiceProvider:t},{fid:r}){const n=oK(e),a=uK(e),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&a.append("x-firebase-client",c)}const s={fid:r,authVersion:iK,appId:e.appId,sdkVersion:aK},o={method:"POST",headers:a,body:JSON.stringify(s)},l=await dK(()=>fetch(n,o));if(l.ok){const c=await l.json();return{fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:lK(c.authToken)}}else throw await cK("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fK(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zSe(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WSe=/^[cdef][\w-]{21}$/,ek="";function HSe(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const r=GSe(e);return WSe.test(r)?r:ek}catch{return ek}}function GSe(e){return zSe(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK=new Map;function mK(e,t){const r=NE(e);pK(r,t),KSe(r,t)}function pK(e,t){const r=hK.get(e);if(r)for(const n of r)n(t)}function KSe(e,t){const r=qSe();r&&r.postMessage({key:e,fid:t}),YSe()}let Gd=null;function qSe(){return!Gd&&"BroadcastChannel"in self&&(Gd=new BroadcastChannel("[Firebase] FID Change"),Gd.onmessage=e=>{pK(e.data.key,e.data.fid)}),Gd}function YSe(){hK.size===0&&Gd&&(Gd.close(),Gd=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XSe="firebase-installations-database",QSe=1,Ff="firebase-installations-store";let uT=null;function xO(){return uT||(uT=PW(XSe,QSe,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ff)}}})),uT}async function yb(e,t){const r=NE(e),a=(await xO()).transaction(Ff,"readwrite"),i=a.objectStore(Ff),s=await i.get(r);return await i.put(t,r),await a.done,(!s||s.fid!==t.fid)&&mK(e,t.fid),t}async function gK(e){const t=NE(e),n=(await xO()).transaction(Ff,"readwrite");await n.objectStore(Ff).delete(t),await n.done}async function PE(e,t){const r=NE(e),a=(await xO()).transaction(Ff,"readwrite"),i=a.objectStore(Ff),s=await i.get(r),o=t(s);return o===void 0?await i.delete(r):await i.put(o,r),await a.done,o&&(!s||s.fid!==o.fid)&&mK(e,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(e){let t;const r=await PE(e.appConfig,n=>{const a=JSe(n),i=ZSe(e,a);return t=i.registrationPromise,i.installationEntry});return r.fid===ek?{installationEntry:await t}:{installationEntry:r,registrationPromise:t}}function JSe(e){const t=e||{fid:HSe(),registrationStatus:0};return vK(t)}function ZSe(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Mf.create("app-offline"));return{installationEntry:t,registrationPromise:a}}const r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=e2e(e,r);return{installationEntry:r,registrationPromise:n}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:t2e(e)}:{installationEntry:t}}async function e2e(e,t){try{const r=await VSe(e,t);return yb(e.appConfig,r)}catch(r){throw sK(r)&&r.customData.serverCode===409?await gK(e.appConfig):await yb(e.appConfig,{fid:t.fid,registrationStatus:0}),r}}async function t2e(e){let t=await LL(e.appConfig);for(;t.registrationStatus===1;)await fK(100),t=await LL(e.appConfig);if(t.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await wO(e);return n||r}return t}function LL(e){return PE(e,t=>{if(!t)throw Mf.create("installation-not-found");return vK(t)})}function vK(e){return r2e(e)?{fid:e.fid,registrationStatus:0}:e}function r2e(e){return e.registrationStatus===1&&e.registrationTime+nK<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2e({appConfig:e,heartbeatServiceProvider:t},r){const n=a2e(e,r),a=$Se(e,r),i=t.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&a.append("x-firebase-client",c)}const s={installation:{sdkVersion:aK,appId:e.appId}},o={method:"POST",headers:a,body:JSON.stringify(s)},l=await dK(()=>fetch(n,o));if(l.ok){const c=await l.json();return lK(c)}else throw await cK("Generate Auth Token",l)}function a2e(e,{fid:t}){return`${oK(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(e,t=!1){let r;const n=await PE(e.appConfig,i=>{if(!yK(i))throw Mf.create("not-registered");const s=i.authToken;if(!t&&o2e(s))return i;if(s.requestStatus===1)return r=i2e(e,t),i;{if(!navigator.onLine)throw Mf.create("app-offline");const o=c2e(i);return r=s2e(e,o),o}});return r?await r:n.authToken}async function i2e(e,t){let r=await $L(e.appConfig);for(;r.authToken.requestStatus===1;)await fK(100),r=await $L(e.appConfig);const n=r.authToken;return n.requestStatus===0?bO(e,t):n}function $L(e){return PE(e,t=>{if(!yK(t))throw Mf.create("not-registered");const r=t.authToken;return u2e(r)?{...t,authToken:{requestStatus:0}}:t})}async function s2e(e,t){try{const r=await n2e(e,t),n={...t,authToken:r};return await yb(e.appConfig,n),r}catch(r){if(sK(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await gK(e.appConfig);else{const n={...t,authToken:{requestStatus:0}};await yb(e.appConfig,n)}throw r}}function yK(e){return e!==void 0&&e.registrationStatus===2}function o2e(e){return e.requestStatus===2&&!l2e(e)}function l2e(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+RSe}function c2e(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}function u2e(e){return e.requestStatus===1&&e.requestTime+nK<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2e(e){const t=e,{installationEntry:r,registrationPromise:n}=await wO(t);return n?n.catch(console.error):bO(t).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2e(e,t=!1){const r=e;return await h2e(r),(await bO(r,t)).token}async function h2e(e){const{registrationPromise:t}=await wO(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2e(e){if(!e||!e.options)throw dT("App Configuration");if(!e.name)throw dT("App Name");const t=["projectId","apiKey","appId"];for(const r of t)if(!e.options[r])throw dT(r);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function dT(e){return Mf.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK="installations",p2e="installations-internal",g2e=e=>{const t=e.getProvider("app").getImmediate(),r=m2e(t),n=sd(t,"heartbeat");return{app:t,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},v2e=e=>{const t=e.getProvider("app").getImmediate(),r=sd(t,xK).getImmediate();return{getId:()=>d2e(r),getToken:a=>f2e(r,a)}};function y2e(){Po(new zs(xK,g2e,"PUBLIC")),Po(new zs(p2e,v2e,"PRIVATE"))}y2e();Oi(rK,yO);Oi(rK,yO,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="analytics",x2e="firebase_id",w2e="origin",b2e=60*1e3,_2e="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_O="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new tE("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2e={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},rs=new ch("analytics","Analytics",E2e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2e(e){if(!e.startsWith(_O)){const t=rs.create("invalid-gtag-resource",{gtagURL:e});return Di.warn(t.message),""}return e}function wK(e){return Promise.all(e.map(t=>t.catch(r=>r)))}function T2e(e,t){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(e,t)),r}function A2e(e,t){const r=T2e("firebase-js-sdk-policy",{createScriptURL:S2e}),n=document.createElement("script"),a=`${_O}?l=${e}&id=${t}`;n.src=r?r==null?void 0:r.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function C2e(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function k2e(e,t,r,n,a,i){const s=n[a];try{if(s)await t[s];else{const l=(await wK(r)).find(c=>c.measurementId===a);l&&await t[l.appId]}}catch(o){Di.error(o)}e("config",a,i)}async function N2e(e,t,r,n,a){try{let i=[];if(a&&a.send_to){let s=a.send_to;Array.isArray(s)||(s=[s]);const o=await wK(r);for(const l of s){const c=o.find(f=>f.measurementId===l),u=c&&t[c.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",n,a||{})}catch(i){Di.error(i)}}function P2e(e,t,r,n){async function a(i,...s){try{if(i==="event"){const[o,l]=s;await N2e(e,t,r,o,l)}else if(i==="config"){const[o,l]=s;await k2e(e,t,r,n,o,l)}else if(i==="consent"){const[o,l]=s;e("consent",o,l)}else if(i==="get"){const[o,l,c]=s;e("get",o,l,c)}else if(i==="set"){const[o]=s;e("set",o)}else e(i,...s)}catch(o){Di.error(o)}}return a}function I2e(e,t,r,n,a){let i=function(...s){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(i=window[a]),window[a]=P2e(i,e,t,r),{gtagCore:i,wrappedGtag:window[a]}}function O2e(e){const t=window.document.getElementsByTagName("script");for(const r of Object.values(t))if(r.src&&r.src.includes(_O)&&r.src.includes(e))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2e=30,j2e=1e3;class R2e{constructor(t={},r=j2e){this.throttleMetadata=t,this.intervalMillis=r}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,r){this.throttleMetadata[t]=r}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const bK=new R2e;function M2e(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function F2e(e){var s;const{appId:t,apiKey:r}=e,n={method:"GET",headers:M2e(r)},a=_2e.replace("{app-id}",t),i=await fetch(a,n);if(i.status!==200&&i.status!==304){let o="";try{const l=await i.json();(s=l.error)!=null&&s.message&&(o=l.error.message)}catch{}throw rs.create("config-fetch-failed",{httpStatus:i.status,responseMessage:o})}return i.json()}async function L2e(e,t=bK,r){const{appId:n,apiKey:a,measurementId:i}=e.options;if(!n)throw rs.create("no-app-id");if(!a){if(i)return{measurementId:i,appId:n};throw rs.create("no-api-key")}const s=t.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new U2e;return setTimeout(async()=>{o.abort()},b2e),_K({appId:n,apiKey:a,measurementId:i},s,o,t)}async function _K(e,{throttleEndTimeMillis:t,backoffCount:r},n,a=bK){var o;const{appId:i,measurementId:s}=e;try{await $2e(n,t)}catch(l){if(s)return Di.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:s};throw l}try{const l=await F2e(e);return a.deleteThrottleMetadata(i),l}catch(l){const c=l;if(!B2e(c)){if(a.deleteThrottleMetadata(i),s)return Di.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:s};throw l}const u=Number((o=c==null?void 0:c.customData)==null?void 0:o.httpStatus)===503?aF(r,a.intervalMillis,D2e):aF(r,a.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:r+1};return a.setThrottleMetadata(i,f),Di.debug(`Calling attemptFetch again in ${u} millis`),_K(e,f,n,a)}}function $2e(e,t){return new Promise((r,n)=>{const a=Math.max(t-Date.now(),0),i=setTimeout(r,a);e.addEventListener(()=>{clearTimeout(i),n(rs.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function B2e(e){if(!(e instanceof Ys)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class U2e{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function V2e(e,t,r,n,a){if(a&&a.global){e("event",r,n);return}else{const i=await t,s={...n,send_to:i};e("event",r,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2e(){if(AW())try{await CW()}catch(e){return Di.warn(rs.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Di.warn(rs.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function W2e(e,t,r,n,a,i,s){const o=L2e(e);o.then(h=>{r[h.measurementId]=h.appId,e.options.measurementId&&h.measurementId!==e.options.measurementId&&Di.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>Di.error(h)),t.push(o);const l=z2e().then(h=>{if(h)return n.getId()}),[c,u]=await Promise.all([o,l]);O2e(i)||A2e(i,c.measurementId),a("js",new Date);const f=(s==null?void 0:s.config)??{};return f[w2e]="firebase",f.update=!0,u!=null&&(f[x2e]=u),a("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2e{constructor(t){this.app=t}_delete(){return delete wg[this.app.options.appId],Promise.resolve()}}let wg={},BL=[];const UL={};let fT="dataLayer",G2e="gtag",VL,EK,zL=!1;function K2e(){const e=[];if(TW()&&e.push("This is a browser extension environment."),vye()||e.push("Cookies are not available."),e.length>0){const t=e.map((n,a)=>`(${a+1}) ${n}`).join(" "),r=rs.create("invalid-analytics-context",{errorInfo:t});Di.warn(r.message)}}function q2e(e,t,r){K2e();const n=e.options.appId;if(!n)throw rs.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Di.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw rs.create("no-api-key");if(wg[n]!=null)throw rs.create("already-exists",{id:n});if(!zL){C2e(fT);const{wrappedGtag:i,gtagCore:s}=I2e(wg,BL,UL,fT,G2e);EK=i,VL=s,zL=!0}return wg[n]=W2e(e,BL,UL,t,VL,fT,r),new H2e(e)}function Y2e(e=rE()){e=Sr(e);const t=sd(e,xb);return t.isInitialized()?t.getImmediate():X2e(e)}function X2e(e,t={}){const r=sd(e,xb);if(r.isInitialized()){const a=r.getImmediate();if($u(t,r.getOptions()))return a;throw rs.create("already-initialized")}return r.initialize({options:t})}function Q2e(e,t,r,n){e=Sr(e),V2e(EK,wg[e.app.options.appId],t,r,n).catch(a=>Di.error(a))}const WL="@firebase/analytics",HL="0.10.18";function J2e(){Po(new zs(xb,(t,{options:r})=>{const n=t.getProvider("app").getImmediate(),a=t.getProvider("installations-internal").getImmediate();return q2e(n,a,r)},"PUBLIC")),Po(new zs("analytics-internal",e,"PRIVATE")),Oi(WL,HL),Oi(WL,HL,"esm2020");function e(t){try{const r=t.getProvider(xb).getImmediate();return{logEvent:(n,a,i)=>Q2e(r,n,a,i)}}catch(r){throw rs.create("interop-component-reg-failed",{reason:r})}}}J2e();const Z2e={apiKey:"AIzaSyDA4Ia0fnlZ3NgQbCtWHQIeosBS0PUVLeo",authDomain:"centralteleoperadores.firebaseapp.com",projectId:"centralteleoperadores",storageBucket:"centralteleoperadores.firebasestorage.app",messagingSenderId:"260173879227",appId:"1:260173879227:web:80577712429c58d201969e",measurementId:"G-TLLE9RJBPM"},IE=IW(Z2e),Zt=Qwe(IE),De=$G(IE);PSe(IE);typeof window<"u"&&Y2e(IE);const SK=Object.freeze(Object.defineProperty({__proto__:null,auth:Zt,db:De},Symbol.toStringTag,{value:"Module"}));class eTe{constructor(){this.syncInProgress=new Map,console.log(" AutoSyncService inicializado")}isSyntheticUID(t){return t?t.startsWith("smart_")||t.startsWith("profile-")||!t.match(/^[a-zA-Z0-9]{28}$/):!1}async autoSyncUser(t,r){try{if(this.syncInProgress.has(t))return console.log(" Sincronizacin ya en progreso para:",t),!1;this.syncInProgress.set(t,!0),console.log(" AUTO-SYNC: Iniciando sincronizacin automtica"),console.log(" Email:",t),console.log(" UID Real:",r),console.log(" Buscando perfil con email:",t);const n=gt(De,"userProfiles"),a=Tt(n,St("email","==",t)),i=await Bt(a);if(i.empty)return console.log(" No se encontr perfil con ese email"),!1;const s=i.docs[0],o=s.id,l=s.data();if(console.log(" Perfil encontrado con UID:",o),!this.isSyntheticUID(o))return console.log(" El usuario ya tiene UID real:",o),o!==r&&(console.warn(" ADVERTENCIA: UID real diferente al esperado"),console.warn("   En perfil:",o),console.warn("   En Auth:",r)),!1;console.log(" UID sinttico detectado, iniciando migracin automtica...");const c=ct(De,"userProfiles",r);if((await ml(c)).exists())return console.log(" Ya existe un perfil con el UID real, usando ese"),!0;console.log(" Creando backup...");const f=ct(De,"_backups_auto_sync",o);await Ls(f,{...l,_backup_timestamp:new Date().toISOString(),_backup_old_uid:o,_backup_real_uid:r}),console.log(" Creando perfil con UID real...");const h={...l,uid:r,updatedAt:at(),updatedBy:"auto_sync_service",autoSyncDate:new Date().toISOString(),previousUID:o};await Ls(c,h),console.log(" Perfil creado con UID real"),console.log(" Actualizando operators...");const m=gt(De,"operators"),p=Tt(m,St("email","==",t)),g=await Bt(p);let v=0;for(const T of g.docs)await gn(T.ref,{uid:r,updatedAt:at()}),v++;console.log(` ${v} operadores actualizados`),console.log(" Actualizando assignments...");const y=gt(De,"assignments"),x=Tt(y,St("operatorId","==",o)),b=await Bt(x);let E=0;for(const T of b.docs)await gn(T.ref,{operatorId:r,updatedAt:at()}),E++;console.log(` ${E} asignaciones actualizadas`),console.log(" Actualizando seguimientos...");const k=gt(De,"seguimientos"),C=Tt(k,St("teleoperadoraEmail","==",t)),S=await Bt(C);let _=0;for(const T of S.docs)await gn(T.ref,{teleoperadoraId:r,updatedAt:at()}),_++;return console.log(` ${_} seguimientos actualizados`),console.log(" Eliminando perfil con UID sinttico..."),await jo(s.ref),console.log(`
`+"=".repeat(60)),console.log(" AUTO-SYNC COMPLETADA EXITOSAMENTE"),console.log("=".repeat(60)),console.log(" RESUMEN:"),console.log("   Email:",t),console.log("   UID Sinttico (OLD):",o),console.log("   UID Real (NEW):",r),console.log("   Operators actualizados:",v),console.log("   Assignments actualizados:",E),console.log("   Seguimientos actualizados:",_),console.log("   Backup en: _backups_auto_sync/"+o),console.log("=".repeat(60)+`
`),!0}catch(n){return console.error(" Error durante auto-sync:",n),!1}finally{this.syncInProgress.delete(t)}}async checkAndSync(t){if(!t||!t.email)return!1;try{const r=await this.autoSyncUser(t.email,t.uid);return r&&(console.log(" Usuario sincronizado automticamente"),window.dispatchEvent(new CustomEvent("userAutoSynced",{detail:{email:t.email,uid:t.uid,timestamp:new Date().toISOString()}}))),r}catch(r){return console.error(" Error en checkAndSync:",r),!1}}}const tTe=new eTe,TK=A.createContext(),ds=()=>{const e=A.useContext(TK);if(!e)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return e},rTe=({children:e})=>{const[t,r]=A.useState(null),[n,a]=A.useState(!0),[i,s]=A.useState(null),o=async(f,h,m)=>{try{s(null);const p=await aH(Zt,f,h);return m&&await DI(p.user,{displayName:m}),p.user}catch(p){throw s(p.message),p}},l=async(f,h)=>{try{return s(null),(await iH(Zt,f,h)).user}catch(m){throw s(m.message),m}},c=async()=>{try{s(null),await oH(Zt)}catch(f){throw s(f.message),f}};A.useEffect(()=>sH(Zt,async h=>{if(h){console.log(" Usuario autenticado:",h.email);try{await tTe.checkAndSync(h)&&(console.log(" Usuario sincronizado automticamente"),window.dispatchEvent(new CustomEvent("showNotification",{detail:{type:"success",message:"Tu perfil ha sido actualizado automticamente"}})))}catch(m){console.error(" Error en auto-sync:",m)}}r(h),a(!1)}),[]);const u={user:t,loading:n,error:i,register:o,login:l,logout:c,clearError:()=>s(null)};return d.jsx(TK.Provider,{value:u,children:e})},wi={OPERATORS:"operators",ASSIGNMENTS:"assignments",CALL_DATA:"callData",USER_DATA:"userData",BENEFICIARIES:"beneficiaries",BENEFICIARY_UPLOADS:"beneficiaryUploads"},ko=new Map,AK=(e=null)=>{e?ko.delete(e):ko.clear()},ku=()=>{try{const e=Zt.currentUser;return e&&e.uid?(console.log(" Usuario autenticado detectado:",e.uid),e.uid):(console.warn(" No hay usuario autenticado en Firebase Auth"),"anonymous")}catch(e){return console.error(" Error obteniendo usuario actual:",e),"anonymous"}},bi=(e,t)=>{const r=ku();if(e.code==="permission-denied")return ko.has(r)||(console.warn(` Firebase Firestore: Permisos insuficientes para usuario ${r}. La aplicacin funciona en modo demo.`),console.info(" Para habilitar persistencia, configura Firestore siguiendo las instrucciones en FIREBASE_SETUP.md"),ko.set(r,!0)),!1;if(e.code==="failed-precondition"&&e.message.includes("index"))return console.info(" Firebase est creando ndices necesarios. Usando datos locales temporalmente."),console.info(" Estado del ndice: https://console.firebase.google.com/project/centralteleoperadores/firestore/indexes"),!1;throw console.error(` Error en ${t}:`,e),e},Qc={async create(e,t){try{return{id:(await Rf(gt(De,wi.OPERATORS),{...t,userId:e,createdAt:new Date,updatedAt:new Date})).id,...t}}catch(r){return bi(r,"crear operador")}},async getByUser(e){const t=ku();if(ko.has(t))return[];try{const r=Tt(gt(De,wi.OPERATORS),St("userId","==",e));return(await Bt(r)).docs.map(i=>({id:i.id,...i.data()})).sort((i,s)=>{var c,u,f,h;const o=((u=(c=i.createdAt)==null?void 0:c.toDate)==null?void 0:u.call(c))||new Date(0);return(((h=(f=s.createdAt)==null?void 0:f.toDate)==null?void 0:h.call(f))||new Date(0))-o})}catch(r){return bi(r,"obtener operadores")||[]}},async getByEmail(e){const t=ku();if(ko.has(t))return[];try{const r=e==null?void 0:e.toLowerCase().trim();if(!r)return console.warn(" operatorService.getByEmail llamado sin email vlido"),[];console.log(" Buscando operador por email:",r);const n=Tt(gt(De,wi.OPERATORS),St("email","==",r)),i=(await Bt(n)).docs.map(s=>({id:s.id,...s.data()}));return i.length===0?console.warn(" No se encontraron operadores con el email:",r):console.log(" Operadores encontrados por email:",i.length),i}catch(r){return bi(r,"obtener operadores por email")||[]}},async update(e,t){try{const r=ct(De,wi.OPERATORS,e);return await gn(r,{...t,updatedAt:new Date}),!0}catch(r){return bi(r,"actualizar operador")}},async delete(e){try{return console.log(" Eliminando operador de Firestore:",e),await jo(ct(De,wi.OPERATORS,e)),console.log(" Operador eliminado exitosamente de Firestore"),!0}catch(t){return console.error(" Error eliminando operador de Firestore:",t),bi(t,"eliminar operador")}},async getAll(){const e=ku();if(ko.has(e))return console.log(` Omitiendo getAll() para usuario ${e} debido a errores previos`),[];try{console.log(" Obteniendo todos los operadores desde Firebase...");const r=(await Bt(gt(De,wi.OPERATORS))).docs.map(n=>({id:n.id,...n.data()}));return console.log(" Operadores obtenidos:",r.length),r.sort((n,a)=>{var o,l,c,u;const i=((l=(o=n.createdAt)==null?void 0:o.toDate)==null?void 0:l.call(o))||new Date(0);return(((u=(c=a.createdAt)==null?void 0:c.toDate)==null?void 0:u.call(c))||new Date(0))-i})}catch(t){return console.error(" Error obteniendo todos los operadores:",t),bi(t,"obtener todos los operadores")||[]}}},Rl={async saveOperatorAssignments(e,t,r){try{const n=ct(De,wi.ASSIGNMENTS,`${e}_${t}`);return await Ls(n,{userId:e,operatorId:t,assignments:r,updatedAt:new Date}),!0}catch(n){return bi(n,"guardar asignaciones")}},async getOperatorAssignments(e,t){try{const r=ct(De,wi.ASSIGNMENTS,`${e}_${t}`),n=await ml(r);return n.exists()?n.data().assignments||[]:[]}catch(r){return bi(r,"obtener asignaciones")||[]}},async getAllUserAssignments(e){const t=ku();if(ko.has(t))return{};try{const r=Tt(gt(De,wi.ASSIGNMENTS),St("userId","==",e)),n=await Bt(r),a={};return n.docs.forEach(i=>{const s=i.data();a[s.operatorId]=s.assignments||[]}),a}catch(r){return bi(r,"obtener todas las asignaciones")||{}}},async deleteOperatorAssignments(e,t){try{console.log(" Eliminando asignaciones del operador:",{userId:e,operatorId:t});const r=`${e}_${t}`;return await jo(ct(De,wi.ASSIGNMENTS,r)),console.log(" Asignaciones del operador eliminadas exitosamente"),!0}catch(r){return r.code==="not-found"?(console.log(" No haba asignaciones para este operador (documento no existe)"),!0):(console.error(" Error eliminando asignaciones del operador:",r),bi(r,"eliminar asignaciones"))}},async getAll(){const e=ku();if(ko.has(e))return console.log(` Omitiendo getAll() para usuario ${e} debido a errores previos`),[];try{console.log(" Obteniendo todas las asignaciones desde Firebase...");const t=await Bt(gt(De,wi.ASSIGNMENTS)),r=[];return t.docs.forEach(n=>{const a=n.data();a.assignments&&Array.isArray(a.assignments)&&a.assignments.forEach(i=>{r.push({...i,operatorId:a.operatorId,userId:a.userId})})}),console.log(" Asignaciones obtenidas:",r.length),r}catch(t){return console.error(" Error obteniendo todas las asignaciones:",t),bi(t,"obtener todas las asignaciones")||[]}},async getAssignmentsByOperatorIds(e=[]){const t=ku();if(ko.has(t))return{};if(!Array.isArray(e)||e.length===0)return{};const r={},n=10,a=[];for(let i=0;i<e.length;i+=n)a.push(e.slice(i,i+n));try{for(const i of a){const s=Tt(gt(De,wi.ASSIGNMENTS),St("operatorId","in",i));(await Bt(s)).docs.forEach(l=>{const c=l.data(),u=c.operatorId;u&&(r[u]||(r[u]=[]),Array.isArray(c.assignments)&&r[u].push(...c.assignments))})}return r}catch(i){return bi(i,"obtener asignaciones por operatorId")||{}}}},ew={async saveCallData(e,t){try{const r=ct(De,wi.CALL_DATA,e);return await Ls(r,{userId:e,callData:t,updatedAt:new Date}),!0}catch(r){return bi(r,"guardar datos de llamadas")}},async getCallData(e){const t=ku();if(ko.has(t))return[];try{const r=ct(De,wi.CALL_DATA,e),n=await ml(r);return n.exists()?n.data().callData||[]:[]}catch(r){return bi(r,"obtener datos de llamadas")||[]}}},hT=Object.freeze(Object.defineProperty({__proto__:null,assignmentService:Rl,callDataService:ew,operatorService:Qc,resetErrorState:AK},Symbol.toStringTag,{value:"Module"})),GL=e=>{let t;const r=new Set,n=(c,u)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(m=>m(t,h))}},a=()=>t,o={setState:n,getState:a,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=t=e(n,a,o);return o},nTe=e=>e?GL(e):GL,aTe=e=>e;function iTe(e,t=aTe){const r=se.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return se.useDebugValue(r),r}const KL=e=>{const t=nTe(e),r=n=>iTe(t,n);return Object.assign(r,t),r},Xs=e=>e?KL(e):KL,mT={toasts:[],toastIdCounter:0,isLoading:!1,loadingMessage:"",modal:{isOpen:!1,type:null,title:"",content:"",onConfirm:null,onCancel:null,data:null},isSidebarOpen:!1},mo=Xs((e,t)=>({...mT,pushToast:r=>{const n=t().toastIdCounter+1,a={id:n,type:r.type||"info",message:r.message||"",duration:r.duration!==void 0?r.duration:5e3};e(i=>({toasts:[...i.toasts,a],toastIdCounter:n}))},dismissToast:r=>{e(n=>({toasts:n.toasts.filter(a=>a.id!==r)}))},clearToasts:()=>{e({toasts:[]})},showSuccess:(r,n)=>{t().pushToast({type:"success",message:r,duration:n})},showError:(r,n)=>{t().pushToast({type:"error",message:r,duration:n})},showInfo:(r,n)=>{t().pushToast({type:"info",message:r,duration:n})},showWarning:(r,n)=>{t().pushToast({type:"warning",message:r,duration:n})},startLoading:(r="Cargando...")=>{e({isLoading:!0,loadingMessage:r})},stopLoading:()=>{e({isLoading:!1,loadingMessage:""})},openModal:r=>{e({modal:{isOpen:!0,type:r.type||"info",title:r.title||"",content:r.content||"",onConfirm:r.onConfirm||null,onCancel:r.onCancel||null,data:r.data||null}})},closeModal:()=>{e({modal:{...mT.modal}})},confirmModal:()=>{const{modal:r}=t();r.onConfirm&&r.onConfirm(r.data),t().closeModal()},cancelModal:()=>{const{modal:r}=t();r.onCancel&&r.onCancel(),t().closeModal()},toggleSidebar:()=>{e(r=>({isSidebarOpen:!r.isSidebarOpen}))},closeSidebar:()=>{e({isSidebarOpen:!1})},reset:()=>{e(mT)}})),sTe=e=>(t,r,n)=>{const a=n.subscribe;return n.subscribe=(s,o,l)=>{let c=s;if(o){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=s(n.getState());c=h=>{const m=s(h);if(!u(f,m)){const p=f;o(f=m,p)}},l!=null&&l.fireImmediately&&o(f,f)}return a(c)},e(t,r,n)},EO=sTe;function CK(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var i;const s=l=>l===null?null:JSON.parse(l,void 0),o=(i=r.getItem(a))!=null?i:null;return o instanceof Promise?o.then(s):s(o)},setItem:(a,i)=>r.setItem(a,JSON.stringify(i,void 0)),removeItem:a=>r.removeItem(a)}}const tk=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return tk(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return tk(n)(r)}}}},oTe=(e,t)=>(r,n,a)=>{let i={storage:CK(()=>localStorage),partialize:g=>g,version:0,merge:(g,v)=>({...v,...g}),...t},s=!1;const o=new Set,l=new Set;let c=i.storage;if(!c)return e((...g)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...g)},n,a);const u=()=>{const g=i.partialize({...n()});return c.setItem(i.name,{state:g,version:i.version})},f=a.setState;a.setState=(g,v)=>{f(g,v),u()};const h=e((...g)=>{r(...g),u()},n,a);a.getInitialState=()=>h;let m;const p=()=>{var g,v;if(!c)return;s=!1,o.forEach(x=>{var b;return x((b=n())!=null?b:h)});const y=((v=i.onRehydrateStorage)==null?void 0:v.call(i,(g=n())!=null?g:h))||void 0;return tk(c.getItem.bind(c))(i.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==i.version){if(i.migrate){const b=i.migrate(x.state,x.version);return b instanceof Promise?b.then(E=>[!0,E]):[!0,b]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var b;const[E,k]=x;if(m=i.merge(k,(b=n())!=null?b:h),r(m,!0),E)return u()}).then(()=>{y==null||y(m,void 0),m=n(),s=!0,l.forEach(x=>x(m))}).catch(x=>{y==null||y(void 0,x)})};return a.persist={setOptions:g=>{i={...i,...g},g.storage&&(c=g.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>p(),hasHydrated:()=>s,onHydrate:g=>(o.add(g),()=>{o.delete(g)}),onFinishHydration:g=>(l.add(g),()=>{l.delete(g)})},i.skipHydration||p(),m||h},ud=oTe,lTe=!1,kh={ERROR:"error",WARN:"warn",INFO:"info",DEBUG:"debug"};class cTe{constructor(){this.enabled=lTe,this.level=kh.ERROR}setEnabled(t){this.enabled=t}setLevel(t){Object.values(kh).includes(t)&&(this.level=t)}error(...t){console.error(" [ERROR]",...t)}warn(...t){!this.enabled&&this.level!==kh.ERROR||console.warn(" [WARN]",...t)}info(...t){this.enabled&&([kh.ERROR,kh.WARN].includes(this.level)||console.info(" [INFO]",...t))}debug(...t){this.enabled&&this.level===kh.DEBUG&&console.log(" [DEBUG]",...t)}firebase(...t){this.enabled&&console.log(" [FIREBASE]",...t)}store(...t){this.enabled&&console.log(" [STORE]",...t)}metrics(...t){this.enabled&&console.log(" [METRICS]",...t)}api(...t){this.enabled&&console.log(" [API]",...t)}navigation(...t){this.enabled&&console.log(" [NAV]",...t)}auth(...t){this.enabled&&console.log(" [AUTH]",...t)}time(t){this.enabled&&console.time(` ${t}`)}timeEnd(t){this.enabled&&console.timeEnd(` ${t}`)}table(t){this.enabled&&console.table(t)}group(t,r=!1){this.enabled&&(r?console.groupCollapsed(t):console.group(t))}groupEnd(){this.enabled&&console.groupEnd()}}const je=new cTe,uTe={OPERATORS:"operators",BENEFICIARIES:"beneficiarios",BENEFICIARY_UPLOADS:"beneficiaryUploads",ASSIGNMENTS:"assignments",SEGUIMIENTOS:"seguimientos",CALL_DATA:"callData",USERS:"users",METRICS:"metrics",USER_DATA:"userData"},wb=new Map,dTe=(e=null)=>{e?wb.delete(e):wb.clear(),je.info("Estado de errores reseteado",e||"todos los usuarios")},dd=(e,t,r={})=>{const n=r.userId||"anonymous";return e.code==="permission-denied"?(wb.has(n)||(je.warn(`Permisos insuficientes para usuario ${n}. Operacin: ${t}`),je.info("Para habilitar persistencia, configura Firestore segn FIREBASE_SETUP.md"),wb.set(n,!0)),{error:"permission-denied",data:null}):e.code==="failed-precondition"&&e.message.includes("index")?(je.info("Firebase est creando ndices necesarios. Usando datos locales temporalmente."),je.info("Estado del ndice: https://console.firebase.google.com/firestore/indexes"),{error:"index-building",data:null}):e.code==="unavailable"?(je.warn("Firestore no disponible. Verifica tu conexin."),{error:"unavailable",data:null}):(je.error(`Error en ${t}:`,e,r),{error:e.message,data:null})},fTe=()=>at(),hTe=e=>e?e instanceof yr||e.toDate?e.toDate():new Date(e):null,mTe=async(e,t,r={})=>{try{je.firebase(`Fetching doc: ${e}/${t}`);const n=ct(De,e,t),a=await ml(n);return a.exists()?{id:a.id,...a.data()}:(je.warn(`Documento no encontrado: ${e}/${t}`),null)}catch(n){return dd(n,"fetchDoc",{collectionName:e,docId:t,...r}).data}},pTe=async(e,t={})=>{try{je.firebase(`Fetching collection: ${e}`,t);let r=gt(De,e);const n=[];if(t.where)if(Array.isArray(t.where[0]))t.where.forEach(([s,o,l])=>{n.push(St(s,o,l))});else{const[s,o,l]=t.where;n.push(St(s,o,l))}if(t.orderBy){const[s,o="asc"]=Array.isArray(t.orderBy)?t.orderBy:[t.orderBy];n.push(Co(s,o))}t.limit&&n.push(pO(t.limit)),n.length>0&&(r=Tt(r,...n));const a=await Bt(r),i=[];return a.forEach(s=>{i.push({id:s.id,...s.data()})}),je.firebase(`Fetched ${i.length} docs from ${e}`),i}catch(r){return dd(r,"fetchCollection",{collectionName:e,...t}).data||[]}},gTe=async(e,t,r={})=>{try{je.firebase(`Creating doc in ${e}`,t);const n={...t,createdAt:at(),updatedAt:at()},a=await Rf(gt(De,e),n);return je.firebase(`Created doc ${a.id} in ${e}`),{id:a.id,...t}}catch(n){return dd(n,"create",{collectionName:e,...r}).data}},vTe=async(e,t,r,n={})=>{try{je.firebase(`Setting doc ${e}/${t}`,r);const a=ct(De,e,t),i={...r,updatedAt:at()};return await Ls(a,i,{merge:n.merge||!1}),je.firebase(`Set doc ${t} in ${e}`),{id:t,...r}}catch(a){return dd(a,"set",{collectionName:e,docId:t,...n}).data}},yTe=async(e,t,r,n={})=>{try{je.firebase(`Updating doc ${e}/${t}`,r);const a=ct(De,e,t),i={...r,updatedAt:at()};return await gn(a,i),je.firebase(`Updated doc ${t} in ${e}`),!0}catch(a){return dd(a,"update",{collectionName:e,docId:t,...n}),!1}},xTe=async(e,t,r={})=>{try{je.firebase(`Deleting doc ${e}/${t}`);const n=ct(De,e,t);return await jo(n),je.firebase(`Deleted doc ${t} from ${e}`),!0}catch(n){return dd(n,"remove",{collectionName:e,docId:t,...r}),!1}},wTe=(e,t,r,n)=>{try{je.firebase(`Setting up snapshot listener for ${e}/${t}`);const a=ct(De,e,t);return kE(a,i=>{i.exists()?r({id:i.id,...i.data()}):r(null)},i=>{dd(i,"onSnapshotDoc",{collectionName:e,docId:t}),n&&n(i)})}catch(a){return je.error("Error setting up snapshot listener:",a),()=>{}}},bTe=(e,t,r,n)=>{try{je.firebase(`Setting up snapshot listener for collection ${e}`,t);let a=gt(De,e);const i=[];if(t.where)if(Array.isArray(t.where[0]))t.where.forEach(([s,o,l])=>{i.push(St(s,o,l))});else{const[s,o,l]=t.where;i.push(St(s,o,l))}if(t.orderBy){const[s,o="asc"]=Array.isArray(t.orderBy)?t.orderBy:[t.orderBy];i.push(Co(s,o))}return t.limit&&i.push(pO(t.limit)),i.length>0&&(a=Tt(a,...i)),kE(a,s=>{const o=[];s.forEach(l=>{o.push({id:l.id,...l.data()})}),r(o)},s=>{dd(s,"onSnapshotCollection",{collectionName:e,...t}),n&&n(s)})}catch(a){return je.error("Error setting up collection snapshot listener:",a),()=>{}}},ai={COLLECTIONS:uTe,fetchDoc:mTe,fetchCollection:pTe,create:gTe,set:vTe,update:yTe,remove:xTe,onSnapshotDoc:wTe,onSnapshotCollection:bTe,getServerTimestamp:fTe,timestampToDate:hTe,resetErrorState:dTe},{COLLECTIONS:SO}=ai,_Te=async(e,t)=>{try{je.auth("Iniciando sesin:",e);const n=(await iH(Zt,e,t)).user,a=await ai.fetchDoc(SO.USERS,n.uid);return je.auth("Sesin iniciada exitosamente:",n.uid),{uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL,...a}}catch(r){je.error("Error al iniciar sesin:",r);let n="Error al iniciar sesin. Intntelo nuevamente.";switch(r.code){case"auth/invalid-email":n="El correo electrnico no es vlido.";break;case"auth/user-disabled":n="Esta cuenta ha sido deshabilitada.";break;case"auth/user-not-found":n="No se encontr una cuenta con este correo.";break;case"auth/wrong-password":n="La contrasea es incorrecta.";break;case"auth/too-many-requests":n="Demasiados intentos fallidos. Intntelo ms tarde.";break}throw new Error(n)}},ETe=async()=>{try{je.auth("Cerrando sesin"),await oH(Zt),je.auth("Sesin cerrada exitosamente")}catch(e){throw je.error("Error al cerrar sesin:",e),new Error("Error al cerrar sesin. Intntelo nuevamente.")}},STe=async(e,t,r={})=>{try{je.auth("Registrando nuevo usuario:",e);const a=(await aH(Zt,e,t)).user;r.displayName&&await DI(a,{displayName:r.displayName});const i={email:a.email,displayName:r.displayName||"",role:r.role||"teleoperadora",createdAt:new Date().toISOString(),isActive:!0,...r};return await ai.set(SO.USERS,a.uid,i),je.auth("Usuario registrado exitosamente:",a.uid),{uid:a.uid,email:a.email,...i}}catch(n){je.error("Error al registrar usuario:",n);let a="Error al registrar usuario. Intntelo nuevamente.";switch(n.code){case"auth/email-already-in-use":a="Ya existe una cuenta con este correo electrnico.";break;case"auth/invalid-email":a="El correo electrnico no es vlido.";break;case"auth/weak-password":a="La contrasea debe tener al menos 6 caracteres.";break}throw new Error(a)}},TTe=async e=>{try{je.auth("Enviando email de restablecimiento:",e),await M1e(Zt,e),je.auth("Email de restablecimiento enviado")}catch(t){je.error("Error al enviar email de restablecimiento:",t);let r="Error al enviar email. Intntelo nuevamente.";switch(t.code){case"auth/invalid-email":r="El correo electrnico no es vlido.";break;case"auth/user-not-found":r="No se encontr una cuenta con este correo.";break}throw new Error(r)}},ATe=e=>sH(Zt,async t=>{if(t){je.auth("Usuario autenticado:",t.uid);const r=await ai.fetchDoc(SO.USERS,t.uid);e({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,...r})}else je.auth("Usuario no autenticado"),e(null)}),CTe=()=>Zt.currentUser,kTe=()=>!!Zt.currentUser,xp={login:_Te,logout:ETe,register:STe,resetPassword:TTe,onAuthChange:ATe,getCurrentUser:CTe,isAuthenticated:kTe},pT={user:null,role:null,isAuthenticated:!1,loading:!0,error:null,unsubscribe:null};Xs(ud((e,t)=>({...pT,initialize:()=>{const{unsubscribe:r}=t();r&&r(),e({loading:!0});const n=xp.onAuthChange(a=>{a?(e({user:a,role:a.role||"teleoperadora",isAuthenticated:!0,loading:!1,error:null}),je.auth("Usuario autenticado en store:",a.uid)):(e({user:null,role:null,isAuthenticated:!1,loading:!1,error:null}),je.auth("Usuario no autenticado"))});e({unsubscribe:n})},login:async r=>{try{e({loading:!0,error:null}),je.auth("Intentando login:",r.email);const n=await xp.login(r.email,r.password);return e({user:n,role:n.role||"teleoperadora",isAuthenticated:!0,loading:!1,error:null}),je.auth("Login exitoso:",n.uid),{success:!0,user:n}}catch(n){return je.error("Error en login:",n),e({loading:!1,error:n.message}),{success:!1,error:n.message}}},logout:async()=>{try{e({loading:!0}),je.auth("Cerrando sesin"),await xp.logout();const{unsubscribe:r}=t();return r&&r(),e({...pT,loading:!1}),je.auth("Logout exitoso"),{success:!0}}catch(r){return je.error("Error en logout:",r),e({loading:!1,error:r.message}),{success:!1,error:r.message}}},register:async r=>{try{e({loading:!0,error:null}),je.auth("Registrando usuario:",r.email);const n=await xp.register(r.email,r.password,{displayName:r.displayName,role:r.role||"teleoperadora"});return e({user:n,role:n.role,isAuthenticated:!0,loading:!1,error:null}),je.auth("Registro exitoso:",n.uid),{success:!0,user:n}}catch(n){return je.error("Error en registro:",n),e({loading:!1,error:n.message}),{success:!1,error:n.message}}},resetPassword:async r=>{try{return e({loading:!0,error:null}),await xp.resetPassword(r),e({loading:!1}),{success:!0}}catch(n){return je.error("Error en resetPassword:",n),e({loading:!1,error:n.message}),{success:!1,error:n.message}}},updateUser:r=>{e(n=>({user:n.user?{...n.user,...r}:null}))},setUser:r=>{e({user:r,role:(r==null?void 0:r.role)||null,isAuthenticated:!!r})},hasRole:r=>{const{role:n}=t();return n?n==="super_admin"?!0:n===r:!1},isSuperAdmin:()=>{const{role:r}=t();return r==="super_admin"},isAdmin:()=>{const{role:r}=t();return r==="admin"||r==="super_admin"},isTeleoperadora:()=>{const{role:r}=t();return r==="teleoperadora"},reset:()=>{const{unsubscribe:r}=t();r&&r(),e({...pT,loading:!1})}}),{name:"auth-storage",partialize:e=>({user:e.user,role:e.role,isAuthenticated:e.isAuthenticated})}));const{COLLECTIONS:Nh}=ai,qL={asignations:{},beneficiaryToOperator:{},unassigned:[],isLoading:!1,error:null,lastSync:null,unsubscribe:null};Xs(ud((e,t)=>({...qL,loadAll:async()=>{try{e({isLoading:!0,error:null}),je.store("Cargando todas las asignaciones");const r=await ai.fetchCollection(Nh.ASSIGNMENTS),n={},a={};return r.forEach(i=>{const s=i.operatorId,o=i.beneficiaryId;!s||!o||(n[s]||(n[s]=[]),n[s].push(o),a[o]=s)}),e({asignations:n,beneficiaryToOperator:a,isLoading:!1,lastSync:new Date().toISOString()}),je.store("Asignaciones cargadas:",Object.keys(n).length,"operadores"),n}catch(r){return je.error("Error cargando asignaciones:",r),e({isLoading:!1,error:r.message}),null}},loadByOperator:async r=>{try{e({isLoading:!0,error:null}),je.store("Cargando asignaciones para operador:",r);const a=(await ai.fetchCollection(Nh.ASSIGNMENTS,{where:["operatorId","==",r]})).map(i=>i.beneficiaryId);return e(i=>({asignations:{...i.asignations,[r]:a},isLoading:!1,lastSync:new Date().toISOString()})),a.forEach(i=>{e(s=>({beneficiaryToOperator:{...s.beneficiaryToOperator,[i]:r}}))}),je.store("Asignaciones cargadas:",a.length),a}catch(n){return je.error("Error cargando asignaciones del operador:",n),e({isLoading:!1,error:n.message}),[]}},assign:async(r,n,a={})=>{try{je.store("Asignando beneficiario:",n,"a operador:",r);const{beneficiaryToOperator:i}=t(),s=i[n];s&&s!==r&&await t().unassign(n);const o={operatorId:r,beneficiaryId:n,assignedAt:new Date().toISOString(),...a};return await ai.create(Nh.ASSIGNMENTS,o),e(l=>{const c=l.asignations[r]||[];return{asignations:{...l.asignations,[r]:[...c,n]},beneficiaryToOperator:{...l.beneficiaryToOperator,[n]:r},unassigned:l.unassigned.filter(u=>u!==n)}}),je.store("Asignacin completada"),!0}catch(i){return je.error("Error asignando beneficiario:",i),e({error:i.message}),!1}},unassign:async r=>{try{je.store("Desasignando beneficiario:",r);const{beneficiaryToOperator:n}=t(),a=n[r];if(!a)return je.warn("Beneficiario no est asignado:",r),!0;const i=await ai.fetchCollection(Nh.ASSIGNMENTS,{where:[["operatorId","==",a],["beneficiaryId","==",r]]});return i.length>0&&await ai.remove(Nh.ASSIGNMENTS,i[0].id),e(s=>{const o=s.asignations[a]||[];return{asignations:{...s.asignations,[a]:o.filter(l=>l!==r)},beneficiaryToOperator:Object.fromEntries(Object.entries(s.beneficiaryToOperator).filter(([l])=>l!==r)),unassigned:[...s.unassigned,r]}}),je.store("Desasignacin completada"),!0}catch(n){return je.error("Error desasignando beneficiario:",n),e({error:n.message}),!1}},reassign:async(r,n)=>(await t().unassign(r),await t().assign(n,r)),getOperatorAssignments:r=>{const{asignations:n}=t();return n[r]||[]},getBeneficiaryOperator:r=>{const{beneficiaryToOperator:n}=t();return n[r]||null},recomputeUnassigned:(r=[])=>{const{beneficiaryToOperator:n}=t(),a=r.filter(i=>!n[i.id]).map(i=>i.id);e({unassigned:a}),je.store("Beneficiarios sin asignar:",a.length)},getStats:()=>{const{asignations:r,unassigned:n}=t(),a=Object.keys(r).length,i=Object.values(r).reduce((s,o)=>s+o.length,0);return{totalOperators:a,totalAssigned:i,totalUnassigned:n.length,avgPerOperator:a>0?(i/a).toFixed(1):0}},subscribeToFirestore:()=>{const{unsubscribe:r}=t();r&&r(),je.store("Suscribindose a cambios de asignaciones");const n=ai.onSnapshotCollection(Nh.ASSIGNMENTS,{},a=>{const i={},s={};a.forEach(o=>{const l=o.operatorId,c=o.beneficiaryId;!l||!c||(i[l]||(i[l]=[]),i[l].push(c),s[c]=l)}),e({asignations:i,beneficiaryToOperator:s,lastSync:new Date().toISOString()}),je.store("Asignaciones actualizadas en tiempo real")},a=>{je.error("Error en suscripcin de asignaciones:",a),e({error:a.message})});e({unsubscribe:n})},reset:()=>{const{unsubscribe:r}=t();r&&r(),e(qL),je.store("Store de asignaciones reseteado")}}),{name:"asignations-storage",partialize:e=>({asignations:e.asignations,beneficiaryToOperator:e.beneficiaryToOperator,unassigned:e.unassigned,lastSync:e.lastSync})}));Xs(ud((e,t)=>({user:null,isAuthenticated:!1,loading:!1,error:null,setUser:r=>{e({user:r,isAuthenticated:!!r,error:null})},setLoading:r=>{e({loading:r})},setError:r=>{e({error:r})},logout:()=>{e({user:null,isAuthenticated:!1,loading:!1,error:null})},updateUser:r=>{const n=t().user;n&&e({user:{...n,...r}})},getUserDisplayName:()=>{const{user:r}=t();return(r==null?void 0:r.displayName)||(r==null?void 0:r.email)||"Usuario"},getUserEmail:()=>{const{user:r}=t();return(r==null?void 0:r.email)||""},isAdmin:()=>{const{user:r}=t();return(r==null?void 0:r.role)==="admin"||!1}}),{name:"user-storage",storage:CK(()=>localStorage),partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})}));const hu=Xs(ud((e,t)=>({callData:[],processedData:[],callMetrics:{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},isLoading:!1,loadingStage:null,loadingMessage:"",lastUpdated:null,dataSource:null,filters:{dateRange:null,operator:null,status:"all",commune:null},_phoneToOperatorCache:new Map,_beneficiaryCache:new Map,_dateCache:new Map,forceReanalysis:()=>{const{callData:r}=t();r&&r.length>0&&(console.log(" Forzando re-anlisis con lgica corregida..."),t().analyzeCallData())},setCallData:(r,n="excel")=>{const a=new Date().toISOString();e({callData:r,dataSource:n,lastUpdated:a,isLoading:!1,loadingStage:"complete",loadingMessage:`${r.length} llamadas cargadas exitosamente`,_phoneToOperatorCache:new Map,_beneficiaryCache:new Map,_dateCache:new Map}),t().analyzeCallData()},setLoading:(r,n=null,a="")=>{e({isLoading:r,loadingStage:n,loadingMessage:a})},setLoadingStage:(r,n="")=>{e({loadingStage:r,loadingMessage:n||{uploading:"Subiendo archivo Excel...",processing:"Procesando datos del archivo...",analyzing:"Analizando llamadas y generando mtricas...",complete:"Anlisis completado exitosamente",error:"Error durante el procesamiento"}[r]||"",isLoading:r!=="complete"&&r!=="error"})},analyzeCallData:()=>{const{callData:r}=t();if(t().setLoadingStage("analyzing","Analizando datos de llamadas..."),!r||r.length===0){e({processedData:[],callMetrics:{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},loadingStage:"complete",loadingMessage:"No hay datos para analizar",isLoading:!1});return}setTimeout(()=>{const n=r.map(f=>{const h=f.beneficiario||f.beneficiary||f.nombre||"Sin identificar",m=f.operador||f.operator||f.teleoperadora||"No identificado",p=f.telefono||f.phone||f.numero||"N/A",g=f.fecha||f.date||new Date().toISOString().split("T")[0],v=parseInt(f.duracion||f.duration||0),y=f.operadorEmail||f.operator_email||f.email_operador||f.teleoperadora_email||"",x=f.resultado||f.result||f.estado||"",b=(x==="Llamado exitoso"||x==="exitoso"||x==="Exitoso")&&v>0;return{...f,beneficiary:h,operator:m,operatorEmail:y,phone:p,date:g,duration:v,isSuccessful:b,categoria:b?"exitosa":"fallida"}}),a=n.length,i=n.filter(f=>f.isSuccessful).length,s=a-i,o=n.reduce((f,h)=>f+h.duration,0),l=a>0?Math.round(o/a):0,c=new Set(n.map(f=>f.beneficiary)).size,u={totalCalls:a,successfulCalls:i,failedCalls:s,averageDuration:l,uniqueBeneficiaries:c,protocolCompliance:a>0?Math.round(i/a*100):0};e({processedData:n,callMetrics:u,loadingStage:"complete",loadingMessage:`Anlisis completado: ${a} llamadas procesadas`,isLoading:!1})},100)},getFilteredData:()=>{const{processedData:r,filters:n}=t();if(!r||r.length===0)return[];let a=[...r];if(n.operator&&n.operator!=="all"&&(a=a.filter(i=>i.operator===n.operator)),n.status&&n.status!=="all"&&(n.status==="successful"?a=a.filter(i=>i.isSuccessful):n.status==="failed"&&(a=a.filter(i=>!i.isSuccessful))),n.commune&&n.commune!=="all"&&(a=a.filter(i=>i.commune===n.commune)),n.dateRange){const{start:i,end:s}=n.dateRange,o=new Date(i).getTime(),l=new Date(s).getTime();a=a.filter(c=>{const u=new Date(c.date).getTime();return u>=o&&u<=l})}return a},clearData:()=>{e({callData:[],processedData:[],callMetrics:{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},lastUpdated:null,dataSource:null,isLoading:!1,loadingStage:null,loadingMessage:"",_phoneToOperatorCache:new Map,_beneficiaryCache:new Map,_dateCache:new Map})},getOperatorMetrics:(r=null)=>{try{const{callData:n,_phoneToOperatorCache:a}=t();if(!n||n.length===0)return[];if(!r||!Array.isArray(r)||r.length===0)return[];let i=a;i.size===0&&(r.forEach(h=>{const m=h.operator||h.operatorName||"Sin Asignar",p=[];[h.phone,h.primaryPhone,h.telefono,h.numero_cliente].filter(Boolean).forEach(g=>{g.includes(";")?p.push(...g.split(";").map(v=>v.trim())):p.push(g)}),h.phones&&Array.isArray(h.phones)&&p.push(...h.phones),p.forEach(g=>{if(g&&g!=="N/A"&&g.trim()){const v=g.toString().replace(/[^\d]/g,"");if(v.length>=8){const y=v.slice(-8);i.set(y,m)}}})}),e({_phoneToOperatorCache:i}));const s=[...new Set(Array.from(i.values()))],o={},l={};r.forEach(h=>{const m=h.operator||h.operatorName||"Sin Asignar",p=h.operatorEmail||h.email||"";m&&m!=="Sin Asignar"&&(l[m]={email:p,name:m})});const c={};r.forEach(h=>{const m=h.operator||h.operatorName||"Sin Asignar";c[m]||(c[m]=new Set);const p=h.id||h.beneficiarioId||h.nombre||h.name;p&&c[m].add(p)}),s.forEach(h=>{var m;o[h]={operatorName:h,operatorInfo:l[h]||{email:"",name:h},totalCalls:0,successfulCalls:0,failedCalls:0,totalDuration:0,contactedBeneficiaries:new Set,assignedBeneficiaries:((m=c[h])==null?void 0:m.size)||0}});let u=0;return n.forEach(h=>{const m=h.phone||h.telefono||h.numero||h.numero_cliente||h.numero_telefono||"",p=String(m||"");if(p&&p.trim()){const g=p.replace(/[^\d]/g,"");if(g.length>=8){const v=g.slice(-8),y=i.get(v);if(y&&o[y]){u++;const x=o[y];x.totalCalls++;const b=parseInt(h.duration||h.duracion||0);x.totalDuration+=b;const E=h.result||h.resultado||h.estado||"";if((E==="Llamado exitoso"||E==="exitoso"||E==="Exitoso")&&b>0){x.successfulCalls++;const C=h.beneficiarioId||h.beneficiario||h.nombre||h.name||v;x.contactedBeneficiaries.add(C)}else x.failedCalls++}}}}),Object.values(o).filter(h=>h.totalCalls>0).map(h=>({operatorName:h.operatorName,operatorInfo:h.operatorInfo,totalCalls:h.totalCalls,successfulCalls:h.successfulCalls,failedCalls:h.failedCalls,totalDuration:h.totalDuration,totalEffectiveMinutes:Math.round(h.totalDuration/60),averageDuration:h.totalCalls>0?Math.round(h.totalDuration/h.totalCalls):0,successRate:h.totalCalls>0?Math.round(h.successfulCalls/h.totalCalls*100):0,assignedBeneficiaries:h.assignedBeneficiaries,contactedBeneficiaries:h.contactedBeneficiaries.size,coverageRate:h.assignedBeneficiaries>0?Math.round(h.contactedBeneficiaries.size/h.assignedBeneficiaries*100):0,pendingBeneficiaries:h.assignedBeneficiaries-h.contactedBeneficiaries.size})).sort((h,m)=>m.coverageRate-h.coverageRate)}catch(n){return console.error("Error en getOperatorMetrics:",n),[]}},getHourlyDistribution:()=>{const{processedData:r}=t(),n=Array.from({length:24},(a,i)=>({hour:i,calls:0}));return Array.isArray(r)&&r.forEach(a=>{try{let i=null;if(a.hora){const o=a.hora.toString().match(/^(\d{1,2})/);o&&(i=parseInt(o[1]))}else a.hour!==void 0&&(i=parseInt(a.hour));i!==null&&i>=0&&i<24&&n[i].calls++}catch{}}),n},getFollowUpData:r=>{const{processedData:n,_beneficiaryCache:a}=t();if(!n||n.length===0)return[];const{_dateCache:i}=t(),s=u=>{if(!u)return"N/A";if(i.has(u))return i.get(u);try{let f;if(typeof u=="string"&&/^\d{1,2}[-\/]\d{1,2}[-\/]\d{4}$/.test(u)){const h=u.split(/[-\/]/),m=parseInt(h[0]),p=parseInt(h[1]),g=parseInt(h[2]);m<=31&&p<=12&&g>=1900?f=`${m.toString().padStart(2,"0")}-${p.toString().padStart(2,"0")}-${g}`:f="Fecha invlida"}else if(typeof u=="number"){const h=new Date((u-25569)*86400*1e3);if(isNaN(h.getTime()))f="Fecha invlida";else{const m=h.getDate().toString().padStart(2,"0"),p=(h.getMonth()+1).toString().padStart(2,"0"),g=h.getFullYear();f=`${m}-${p}-${g}`}}else{const h=new Date(u);if(isNaN(h.getTime()))f=typeof u=="string"?u:"Error en fecha";else{const m=h.getDate().toString().padStart(2,"0"),p=(h.getMonth()+1).toString().padStart(2,"0"),g=h.getFullYear();f=`${m}-${p}-${g}`}}return i.set(u,f),f}catch{return typeof u=="string"?u:"Error en fecha"}};let o=a;o.size===0&&(o=new Map,n.forEach(u=>{const f=u.beneficiario||u.beneficiary,h=u.resultado||u.result||u.estado||"Sin resultado",m=u.fecha||u.date,p=u.operator||u.operador||"No identificado",g=u.operatorEmail||u.operator_email||"";if(!f)return;o.has(f)||o.set(f,{beneficiary:f,operator:p,operatorEmail:g,calls:[],lastResult:h,lastDate:m});const v=o.get(f);v.calls.push(u);try{const y=new Date(m).getTime(),x=new Date(v.lastDate).getTime();!isNaN(y)&&(isNaN(x)||y>x)&&(v.lastResult=h,v.lastDate=m)}catch{}}),Promise.resolve().then(()=>{e({_beneficiaryCache:o})}));const l=new Map;return r&&Array.isArray(r)&&r.forEach(u=>{const f=(u.beneficiary||u.beneficiario||"").trim();f&&l.set(f.toLowerCase(),u)}),Array.from(o.values()).map(u=>{const f=l.get(u.beneficiary.toLowerCase());let h="pendiente",m="bg-yellow-100 text-yellow-800";u.lastResult==="Llamado exitoso"||u.lastResult==="exitosa"?(h="al-dia",m="bg-green-100 text-green-800"):u.calls.length>3&&(h="urgente",m="bg-red-100 text-red-800");let p=u.operator||"No Asignado",g=u.operatorEmail||"N/A",v="N/A",y="N/A";if(f){v=f.phone||f.telefono||f.primaryPhone||f.numero_cliente||"N/A",y=f.commune||f.comuna||"N/A";const x=f.operatorEmail||f.email||f.operator_email;x&&x!=="N/A"&&(g=x);const b=f.operator||f.operador||f.operatorName||f.teleoperadora||f.name;b&&p==="No Asignado"&&b!=="Solo HANGUP"&&b!=="HANGUP"&&b!=="No identificado"&&b!=="Llamado exitoso"&&b!=="Llamado fallido"&&b!=="exitosa"&&b!=="fallida"&&b.trim().length>2&&!/^\d{1,2}[-\/]\d{1,2}[-\/]\d{4}$/.test(b)&&(p=b)}return{id:u.beneficiary,operator:p,operatorEmail:g,beneficiary:u.beneficiary,phone:v,commune:y,status:h,lastCall:s(u.lastDate),callCount:u.calls.length,colorClass:m}})},hasData:()=>{const{callData:r}=t();return r&&r.length>0},getSuccessRate:()=>{const{callMetrics:r}=t();return!r||!r.totalCalls||r.totalCalls===0?0:Math.round(r.successfulCalls/r.totalCalls*100)},getDataSummary:()=>{const{callMetrics:r,lastUpdated:n,dataSource:a}=t();return{...r,lastUpdated:n,dataSource:a,successRate:t().getSuccessRate()}}}),{name:"call-audit-storage-optimized",storage:{getItem:e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error(" Error leyendo de localStorage:",t),null}},setItem:(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){if(r.name==="QuotaExceededError"){console.error(" LocalStorage lleno. Limpiando datos antiguos..."),localStorage.removeItem(e);try{const n={state:{callMetrics:t.state.callMetrics,lastUpdated:t.state.lastUpdated,dataSource:t.state.dataSource}};localStorage.setItem(e,JSON.stringify(n)),console.warn(" Guardadas solo mtricas (callData omitido por falta de espacio)")}catch(n){console.error(" No se pudo guardar ni siquiera las mtricas:",n)}}else console.error(" Error guardando en localStorage:",r)}},removeItem:e=>{try{localStorage.removeItem(e)}catch(t){console.error(" Error eliminando de localStorage:",t)}}},partialize:e=>({callData:e.callData,callMetrics:e.callMetrics,lastUpdated:e.lastUpdated,dataSource:e.dataSource}),version:1,migrate:(e,t)=>e,onRehydrateStorage:()=>e=>{e&&e.callData&&e.callData.length>0&&(console.log(" Regenerando processedData desde callData persistido..."),e.analyzeCallData())}})),Rn=Xs(ud((e,t)=>({operators:[],operatorAssignments:{},activeTab:"dashboard",isLoading:!1,settings:{autoRefresh:!1,refreshInterval:3e4,defaultView:"dashboard"},setOperators:r=>{e({operators:r||[]})},addOperator:r=>{e(n=>({operators:[...n.operators,r]}))},updateOperator:(r,n)=>{e(a=>({operators:a.operators.map(i=>i.id===r?{...i,...n}:i)}))},removeOperator:r=>{e(n=>({operators:n.operators.filter(a=>a.id!==r),operatorAssignments:Object.fromEntries(Object.entries(n.operatorAssignments).filter(([a])=>a!==r))}))},setOperatorAssignments:r=>{e({operatorAssignments:r||{}})},updateOperatorAssignments:(r,n)=>{e(a=>({operatorAssignments:{...a.operatorAssignments,[r]:n}}))},clearOperatorAssignments:r=>{e(n=>{const a={...n.operatorAssignments};return delete a[r],{operatorAssignments:a}})},setActiveTab:r=>{e({activeTab:r})},setLoading:r=>{e({isLoading:r})},updateSettings:r=>{e(n=>({settings:{...n.settings,...r}}))},getOperatorById:r=>{const{operators:n}=t();return n.find(a=>a.id===r)||null},getOperatorAssignments:r=>{const{operatorAssignments:n}=t();return n[r]||[]},getAllAssignments:()=>{const{operatorAssignments:r,operators:n}=t(),a=[];return console.log(" getAllAssignments - operatorAssignments:",r),console.log(" getAllAssignments - operators:",n),Object.entries(r).forEach(([i,s])=>{const o=n.find(l=>l.id===i);o&&s&&(console.log(` Procesando asignaciones para ${o.name}:`,s.length),s.forEach(l=>{const c={id:l.id,operator:o.name,operatorName:o.name,operatorEmail:o.email,beneficiary:l.beneficiary,phone:l.primaryPhone,commune:l.commune};a.push(c),console.log(" Asignacin agregada:",c)}))}),console.log(" Total asignaciones devueltas:",a.length),a},getAssignmentsByEmail:r=>{const{operatorAssignments:n,operators:a}=t(),i=r==null?void 0:r.toLowerCase().trim();console.log(" Buscando asignaciones para email:",i),console.log(" Operadores disponibles:",a.map(o=>({id:o.id,name:o.name,email:o.email})));const s=a.find(o=>{var m,p;const l=(m=o.email)==null?void 0:m.toLowerCase().trim(),c=(p=o.name)==null?void 0:p.toLowerCase().trim(),u=l===i,f=i.includes(c==null?void 0:c.split(" ")[0])||i.includes(c==null?void 0:c.split(" ")[1]),h=c==null?void 0:c.includes(i.split("@")[0]);return console.log(` Verificando operador ${o.name}:`,{opEmail:l,exactEmailMatch:u,nameInEmail:f,emailInName:h}),u||f||h});if(s){console.log(" Operador encontrado:",s);const o=n[s.id]||[];return console.log(" Asignaciones encontradas:",o.length),o.map(l=>({id:l.id,operator:s.name,operatorName:s.name,operatorEmail:s.email,beneficiary:l.beneficiary,phone:l.primaryPhone,commune:l.commune}))}else return console.warn(" No se encontr operador para email:",i),[]},getTotalAssignments:()=>{const{operatorAssignments:r}=t();return Object.values(r).reduce((n,a)=>n+((a==null?void 0:a.length)||0),0)},loadOperators:async()=>{try{e({isLoading:!0}),console.log(" Cargando operadores desde Firebase...");const r=await Qc.getAll();return console.log(" Operadores cargados:",r.length),e({operators:r||[],isLoading:!1}),r}catch(r){return console.error(" Error cargando operadores:",r),e({isLoading:!1}),[]}},reloadOperators:async()=>(console.log(" Forzando recarga de operadores..."),t().loadOperators()),loadAssignments:async()=>{try{e({isLoading:!0}),console.log(" Cargando asignaciones desde Firebase...");const r=await Rl.getAll();console.log(" Asignaciones cargadas:",r.length);const n={};return r.forEach(a=>{a.operatorId&&(n[a.operatorId]||(n[a.operatorId]=[]),n[a.operatorId].push(a))}),e({operatorAssignments:n,isLoading:!1}),console.log(" Asignaciones agrupadas por operador:",Object.keys(n).length),r}catch(r){return console.error(" Error cargando asignaciones:",r),e({isLoading:!1}),[]}},clearAllData:()=>{e({operators:[],operatorAssignments:{},activeTab:"dashboard"})}}),{name:"app-storage",storage:{getItem:e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error(" Error leyendo app-storage:",t),null}},setItem:(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){r.name==="QuotaExceededError"?(console.warn(" LocalStorage lleno en app-storage. NO guardando datos."),console.log(" Los datos de operadores/asignaciones se cargarn desde Firebase al iniciar")):console.error(" Error guardando app-storage:",r)}},removeItem:e=>{try{localStorage.removeItem(e)}catch(t){console.error(" Error eliminando app-storage:",t)}}},partialize:e=>({settings:e.settings,operators:e.operators,operatorAssignments:e.operatorAssignments}),version:2,migrate:(e,t)=>t<2?(console.log(" Migrando useAppStore a versin 2 - agregando operators/assignments"),{...e,operators:e.operators||[],operatorAssignments:e.operatorAssignments||{}}):e})),Qo=e=>!e||typeof e!="string"?"":e.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").replace(/[^\w\s]/g,""),Cn=e=>{if(!e)return"";const t=e.toString();if(/^0+$/.test(t.replace(/\D/g,"")))return"";const r=t.replace(/\D/g,"");return r.length<8?"":r},kK=(e,t,r=.8)=>{if(!e||!t)return!1;const n=Qo(e),a=Qo(t);if(n===a||n.includes(a)||a.includes(n))return!0;const i=n.split(" "),s=a.split(" "),o=i.filter(u=>s.includes(u)),l=[...new Set([...i,...s])];return o.length/l.length>=r},rk=(e,t)=>{if(!e||!t||!Array.isArray(t))return null;const r=Qo(e.nombre),n=[Cn(e.fono),Cn(e.sim),Cn(e.appSim)].filter(Boolean);return t.find(a=>{const i=Qo(a.nombre||a.name);if(kK(r,i))return!0;const s=[Cn(a.fono||a.telefono||a.phone),Cn(a.sim),Cn(a.appSim)].filter(Boolean);return n.some(o=>s.some(l=>l===o))})},NTe=e=>{const t=[Cn(e.fono),Cn(e.sim),Cn(e.appSim)].filter(Boolean);return[...new Set(t)]},lo={BENEFICIARIES:"beneficiaries",BENEFICIARY_UPLOADS:"beneficiaryUploads"},Ml={async deleteAllBeneficiaries(e=null){try{console.log(" Eliminando todos los beneficiarios...");let t;e?(console.log(` Eliminando beneficiarios del usuario: ${e}`),t=Tt(gt(De,lo.BENEFICIARIES),St("creadoPor","==",e))):(console.log(" Eliminando TODOS los beneficiarios de la base"),t=gt(De,lo.BENEFICIARIES));const r=await Bt(t),n=bv(De);return console.log(` Documentos a eliminar: ${r.size}`),r.docs.forEach(a=>{n.delete(a.ref)}),await n.commit(),console.log(" Eliminacin completada"),{success:!0,deletedCount:r.size,message:`${r.size} beneficiarios eliminados exitosamente`}}catch(t){return console.error(" Error al eliminar beneficiarios:",t),{success:!1,error:t.message,deletedCount:0}}},async uploadBeneficiaries(e,t,r=()=>{},n=!0){try{if(console.log(" Iniciando upload de beneficiarios..."),console.log(` Datos a procesar: ${e.length}`),console.log(` Reemplazar datos existentes: ${n}`),n){console.log(" PASO 1: Eliminando beneficiarios existentes...");const u=await this.deleteAllBeneficiaries(t);if(!u.success)throw new Error(`Error al eliminar datos existentes: ${u.error}`);console.log(` ${u.deletedCount} beneficiarios previos eliminados`),r({phase:"cleanup",completed:u.deletedCount,total:u.deletedCount})}console.log(" PASO 2: Procesando nuevos beneficiarios...");const a=bv(De),i=`upload_${Date.now()}`,s=[],o=[];for(let u=0;u<e.length;u++){const f=e[u];try{const h=this.processBeneficiaryData(f,u+1);if(h.isValid){const m=ct(gt(De,lo.BENEFICIARIES)),p={...h.data,uploadId:i,creadoEn:at(),actualizadoEn:at(),creadoPor:t,rowNumber:u+1};a.set(m,p),s.push({id:m.id,...p})}else o.push({row:u+1,data:f,errors:h.errors})}catch(h){o.push({row:u+1,data:f,errors:[`Error de procesamiento: ${h.message}`]})}r({processed:u+1,total:e.length,successful:s.length,errors:o.length})}const l=ct(gt(De,lo.BENEFICIARY_UPLOADS),i);return a.set(l,{id:i,userId:t,totalRecords:e.length,successfulRecords:s.length,errorRecords:o.length,uploadedAt:at(),status:"completed"}),await a.commit(),console.log(" UPLOAD COMPLETADO:"),console.log(`   - Registros procesados: ${e.length}`),console.log(`   - Exitosos: ${s.length}`),console.log(`   - Errores: ${o.length}`),{success:!0,uploadId:i,totalProcessed:e.length,successful:s.length,errors:o.length,errorDetails:o,data:s,replacedPrevious:n,message:n?` Base de datos reemplazada: ${s.length} beneficiarios cargados`:` ${s.length} beneficiarios aadidos`}}catch(a){throw console.error(" Error en uploadBeneficiaries:",a),new Error(`Error al cargar beneficiarios: ${a.message}`)}},processBeneficiaryData(e,t){const r=[],n=e.Nombre||e.nombre||e.A||"",a=e.Fono||e.fono||e.B||"",i=e.Sim||e.sim||e.C||"",s=e.Direccion||e.direccion||e.D||"",o=e["App Sim"]||e.appSim||e.E||"";(!n||typeof n!="string"||n.trim().length===0)&&r.push("Nombre es obligatorio"),(!s||typeof s!="string"||s.trim().length===0)&&r.push("Direccin es obligatoria");const l=Cn(a),c=Cn(i),u=Cn(o),f=[l,c,u].filter(Boolean);f.length===0&&r.push("Al menos un telfono vlido es requerido");const h={nombre:n.toString().trim(),fono:l||null,sim:c||null,direccion:s.toString().trim(),appSim:u||null,nombreNormalizado:Qo(n),telefonosValidos:f,datosOriginales:{nombre:n,fono:a.toString(),sim:i.toString(),direccion:s,appSim:o.toString()}};return{isValid:r.length===0,errors:r,data:h}},async getAllBeneficiaries(e=null){try{console.log(" getAllBeneficiaries - Iniciando consulta a Firebase..."),console.log(" userId:",e);let t;e?(console.log(" Consultando beneficiarios para usuario especfico..."),t=Tt(gt(De,lo.BENEFICIARIES),St("creadoPor","==",e),Co("creadoEn","desc"))):(console.log(" Consultando todos los beneficiarios..."),t=Tt(gt(De,lo.BENEFICIARIES),Co("creadoEn","desc"))),console.log(" Ejecutando consulta...");const r=await Bt(t);console.log(" Documentos encontrados:",r.size);const n=r.docs.map(a=>({id:a.id,...a.data()}));return console.log(" Beneficiarios procesados:",n.length),n}catch(t){return console.error(" Error al obtener beneficiarios:",t),[]}},async searchBeneficiaries(e){try{const t=await this.getAllBeneficiaries();if(!e||e.trim().length===0)return t;const r=Qo(e),n=Cn(e);return t.filter(a=>a.nombreNormalizado&&a.nombreNormalizado.includes(r)?!0:n&&a.telefonosValidos?a.telefonosValidos.some(i=>i.includes(n)):!1)}catch(t){return console.error("Error en bsqueda de beneficiarios:",t),[]}},async getBeneficiaryById(e){try{const t=ct(De,lo.BENEFICIARIES,e),r=await ml(t);return r.exists()?{id:r.id,...r.data()}:null}catch(t){return console.error("Error al obtener beneficiario:",t),null}},async updateBeneficiary(e,t){try{const r=ct(De,lo.BENEFICIARIES,e),n={...t,actualizadoEn:at()};if(t.nombre&&(n.nombreNormalizado=Qo(t.nombre)),t.fono!==void 0||t.sim!==void 0||t.appSim!==void 0){const a=await this.getBeneficiaryById(e);if(a){const i={...a,...t};n.telefonosValidos=NTe(i)}}return await gn(r,n),!0}catch(r){return console.error("Error al actualizar beneficiario:",r),!1}},async deleteBeneficiary(e){try{const t=ct(De,lo.BENEFICIARIES,e);return await jo(t),!0}catch(t){return console.error("Error al eliminar beneficiario:",t),!1}},async getUploadHistory(e){try{const t=Tt(gt(De,lo.BENEFICIARY_UPLOADS),St("userId","==",e),Co("uploadedAt","desc"));return(await Bt(t)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){return console.error("Error al obtener historial:",t),[]}},async validateBeneficiaryExists(e,t){try{const r=await this.getAllBeneficiaries(),n=Qo(e),a=Cn(t);return r.find(i=>n&&i.nombreNormalizado===n?!0:a&&i.telefonosValidos?i.telefonosValidos.includes(a):!1)||null}catch(r){return console.error("Error al validar beneficiario:",r),null}},async testFirebaseConnection(){try{console.log(" Iniciando test de conexin Firebase...");const e=performance.now();console.log(" Test 1: Verificando coleccin de beneficiarios...");const t=gt(De,lo.BENEFICIARIES);console.log(" Referencia a coleccin creada"),console.log(" Test 2: Ejecutando consulta...");const r=await Bt(t),n=r.size;if(console.log(` Consulta ejecutada. Documentos encontrados: ${n}`),n>0){console.log(" Test 3: Mostrando primeros documentos...");let o=0;r.forEach(l=>{o<3&&(console.log(`   Documento ${l.id}:`,l.data()),o++)})}const a=performance.now(),i=Math.round(a-e),s={success:!0,beneficiariesCount:n,duration:`${i}ms`,timestamp:new Date().toISOString()};return console.log(" Test Firebase completado:",s),s}catch(e){return console.error(" Error en test Firebase:",e),{success:!1,error:e.message,timestamp:new Date().toISOString()}}}};window.testFirebaseConnection=Ml.testFirebaseConnection;const PTe=Object.freeze(Object.defineProperty({__proto__:null,beneficiaryService:Ml},Symbol.toStringTag,{value:"Module"})),bb=Xs(ud((e,t)=>({beneficiaries:[],uploadHistory:[],shouldReload:!1,isLoading:!1,isUploading:!1,uploadProgress:0,searchTerm:"",selectedBeneficiary:null,stats:{total:0,withPhones:0,withoutPhones:0,incomplete:0,unassigned:0},settings:{autoValidateAssignments:!0,showUnassignedAlerts:!0,maxUploadSize:10*1024*1024},setBeneficiaries:r=>{const n=t().calculateStats(r);e({beneficiaries:r||[],stats:n})},addBeneficiary:r=>{e(n=>{const a=[...n.beneficiaries,r],i=n.calculateStats(a);return{beneficiaries:a,stats:i}})},updateBeneficiary:(r,n)=>{e(a=>{const i=a.beneficiaries.map(o=>o.id===r?{...o,...n}:o),s=a.calculateStats(i);return{beneficiaries:i,stats:s}})},removeBeneficiary:r=>{e(n=>{const a=n.beneficiaries.filter(s=>s.id!==r),i=n.calculateStats(a);return{beneficiaries:a,stats:i}})},clearAllData:()=>{console.log(" Limpiando todos los datos del store..."),e({beneficiaries:[],uploadHistory:[],searchTerm:"",selectedBeneficiary:null,stats:{total:0,withPhones:0,withoutPhones:0,incomplete:0,unassigned:0},shouldReload:!1});try{localStorage.removeItem("beneficiary-store"),console.log(" localStorage limpiado")}catch(r){console.error("Error al limpiar localStorage:",r)}},setSearchTerm:r=>{e({searchTerm:r})},getFilteredBeneficiaries:()=>{const{beneficiaries:r,searchTerm:n}=t();if(!n||n.trim()==="")return r;const a=n.toLowerCase().trim();return r.filter(i=>i.nombre&&i.nombre.toLowerCase().includes(a)||i.direccion&&i.direccion.toLowerCase().includes(a)||i.fono&&i.fono.includes(a)||i.sim&&i.sim.includes(a)||i.appSim&&i.appSim.includes(a))},setUploadProgress:r=>{e({uploadProgress:r})},setIsUploading:r=>{e({isUploading:r})},addUploadRecord:r=>{e(n=>({uploadHistory:[r,...n.uploadHistory]}))},setIsLoading:r=>{e({isLoading:r})},setSelectedBeneficiary:r=>{e({selectedBeneficiary:r})},updateSettings:r=>{e(n=>({settings:{...n.settings,...r}}))},calculateStats:r=>{const n=r.length,a=r.filter(o=>o.telefonosValidos&&o.telefonosValidos.length>0).length,i=n-a,s=r.filter(o=>!o.nombre||!o.direccion||!o.telefonosValidos||o.telefonosValidos.length===0).length;return{total:n,withPhones:a,withoutPhones:i,incomplete:s,unassigned:0}},loadBeneficiaries:async(r=null)=>{const{beneficiaries:n,shouldReload:a}=t();if(n.length>0&&!a)return console.log(" Usando beneficiarios del cache local:",n.length),n;console.log(" Cargando beneficiarios desde Firebase..."),e({isLoading:!0});try{const i=await Ml.getAllBeneficiaries(r);return console.log(" Beneficiarios cargados:",i.length),t().setBeneficiaries(i),e({shouldReload:!1}),i}catch(i){if(console.error(" Error cargando beneficiarios:",i),n.length>0)return console.log(" Usando datos en cache debido a error de red"),n;throw i}finally{e({isLoading:!1})}},forceReload:async(r=null)=>(e({shouldReload:!0}),await t().loadBeneficiaries(r)),uploadBeneficiaries:async(r,n)=>{e({isUploading:!0,uploadProgress:0});try{const a=await Ml.uploadBeneficiaries(r,n,i=>{const s=Math.round(i.processed/i.total*100);e({uploadProgress:s})});if(a.success&&a.data){const s=[...t().beneficiaries,...a.data];t().setBeneficiaries(s),e({shouldReload:!1})}return t().addUploadRecord({id:a.uploadId,timestamp:new Date,totalRecords:a.totalProcessed,successfulRecords:a.successful,errorRecords:a.errors,fileName:a.fileName||"archivo.xlsx"}),a}catch(a){throw console.error("Error subiendo beneficiarios:",a),a}finally{e({isUploading:!1,uploadProgress:0})}},searchBeneficiaries:async r=>{e({isLoading:!0});try{return await Ml.searchBeneficiaries(r)}catch(n){throw console.error("Error buscando beneficiarios:",n),n}finally{e({isLoading:!1})}},validateBeneficiaryExists:async(r,n)=>{try{return await Ml.validateBeneficiaryExists(r,n)}catch(a){return console.error("Error validando beneficiario:",a),null}},updateBeneficiaryData:async(r,n)=>{e({isLoading:!0});try{const a=await Ml.updateBeneficiary(r,n);return a&&t().updateBeneficiary(r,n),a}catch(a){throw console.error("Error actualizando beneficiario:",a),a}finally{e({isLoading:!1})}},deleteBeneficiaryData:async r=>{e({isLoading:!0});try{const n=await Ml.deleteBeneficiary(r);return n&&t().removeBeneficiary(r),n}catch(n){throw console.error("Error eliminando beneficiario:",n),n}finally{e({isLoading:!1})}},loadUploadHistory:async r=>{try{const n=await Ml.getUploadHistory(r);return e({uploadHistory:n}),n}catch(n){throw console.error("Error cargando historial:",n),n}},findUnassignedBeneficiaries:(r=[])=>{const{beneficiaries:n}=t();if(console.log(" findUnassignedBeneficiaries - beneficiaries:",n.length),console.log(" findUnassignedBeneficiaries - assignments:",r.length),r.length===0)return console.log(" No hay asignaciones para comparar"),n;const a=r.map(s=>({nombre:s.beneficiary||s.nombre||s.beneficiario,telefono:s.phone||s.primaryPhone||s.telefono||s.fono,teleoperadora:s.operator||s.operatorName||s.teleoperadora||s.operador})).filter(s=>s.nombre);console.log(" Asignaciones procesadas:",a.length),console.log(" Primera asignacin:",a[0]);const i=n.filter(s=>!rk(s,a));return console.log(" Beneficiarios sin asignar:",i.length),e(s=>({stats:{...s.stats,unassigned:i.length}})),i},validateAssignmentConsistency:(r=[])=>{const{beneficiaries:n}=t(),a={inAssignmentsNotInBase:[],inBaseNotInAssignments:[],dataConflicts:[]};return r.forEach(i=>{rk(i,n)||a.inAssignmentsNotInBase.push(i)}),a.inBaseNotInAssignments=t().findUnassignedBeneficiaries(r),a},reset:()=>{e({beneficiaries:[],uploadHistory:[],isLoading:!1,isUploading:!1,uploadProgress:0,searchTerm:"",selectedBeneficiary:null,stats:{total:0,withPhones:0,withoutPhones:0,incomplete:0,unassigned:0}})}}),{name:"beneficiary-store",partialize:e=>({beneficiaries:e.beneficiaries,uploadHistory:e.uploadHistory,settings:e.settings,stats:e.stats,shouldReload:e.shouldReload})}));window.zustandStore=bb;class ITe{constructor(){this.collection="userProfiles",this.rolesCollection="roles"}isSuperAdmin(t){return(t==null?void 0:t.email)==="roberto@mistatas.com"}async diagnoseUserCollection(){var t;try{console.log(" DIAGNSTICO: Iniciando diagnstico de coleccin de usuarios");const r=Zt.currentUser;console.log(" Usuario autenticado:",r==null?void 0:r.email),console.log(" Es super admin:",this.isSuperAdmin(r)),console.log(" Intentando acceso directo a la coleccin...");const n=gt(De,this.collection),a=await Bt(n);console.log(" Documentos encontrados:",a.size);const i=[];return a.forEach(s=>{var l,c;const o=s.data();i.push({id:s.id,email:o.email,role:o.role,createdAt:((c=(l=o.createdAt)==null?void 0:l.toDate)==null?void 0:c.call(l))||o.createdAt}),console.log(" Doc:",s.id,o)}),{success:!0,authenticated:!!r,userEmail:r==null?void 0:r.email,isSuperAdmin:this.isSuperAdmin(r),collectionExists:!0,documentsCount:a.size,documents:i}}catch(r){return console.error(" Error en diagnstico:",r),{success:!1,error:r.message,errorCode:r.code,authenticated:!!Zt.currentUser,userEmail:(t=Zt.currentUser)==null?void 0:t.email}}}async createTestUsers(){var t;try{console.log(" Creando usuarios de prueba...");const r=[{email:"javiera.reyes@mistatas.com",displayName:"Javiera Reyes Alvarado",role:"teleoperadora",isActive:!0},{email:"admin@mistatas.com",displayName:"Administrador Sistema",role:"admin",isActive:!0}],n=[];for(const a of r)try{const i={uid:`test-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,email:a.email,displayName:a.displayName,role:a.role,isActive:a.isActive,createdAt:at(),updatedAt:at(),createdBy:(t=Zt.currentUser)==null?void 0:t.uid,lastLogin:null,isTestUser:!0};await Ls(ct(De,this.collection,i.uid),i),console.log(" Usuario de prueba creado:",a.email),n.push({id:i.uid,...i})}catch(i){console.error(" Error creando usuario de prueba:",a.email,i)}return console.log(` Usuarios de prueba creados: ${n.length}`),n}catch(r){throw console.error(" Error en createTestUsers:",r),r}}async cleanTestUsers(){try{console.log(" Limpiando usuarios de prueba...");const t=Tt(gt(De,this.collection),St("isTestUser","==",!0)),r=await Bt(t),n=[];return r.forEach(a=>{n.push(jo(a.ref))}),await Promise.all(n),console.log(` ${r.size} usuarios de prueba eliminados`),r.size}catch(t){throw console.error(" Error limpiando usuarios de prueba:",t),t}}async getAllUsers(){var t;try{console.log(" Iniciando carga de usuarios..."),console.log(" Usuario actual:",(t=Zt.currentUser)==null?void 0:t.email),console.log(" Coleccin:",this.collection);const r=Tt(gt(De,this.collection),Co("createdAt","desc"));console.log(" Ejecutando query...");const n=await Bt(r),a=[];return console.log(" Docs encontrados:",n.size),n.forEach(i=>{const s={id:i.id,...i.data()};console.log(" Usuario encontrado:",s),a.push(s)}),console.log(` Total usuarios obtenidos: ${a.length}`),a}catch(r){return console.error(" Error obteniendo usuarios:",r),console.error(" Error code:",r.code),console.error(" Error message:",r.message),[]}}async createUser(t){var r;try{const{email:n,password:a,displayName:i,role:s,isActive:o,...l}=t;if(!this.isSuperAdmin(Zt.currentUser))throw new Error("Sin permisos para esta operacin");if(!n||!i)throw new Error("Email y nombre son requeridos");const c=`profile-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,u={uid:c,email:n.toLowerCase().trim(),displayName:i.trim(),role:s||"teleoperadora",isActive:o!==!1,createdAt:at(),updatedAt:at(),createdBy:(r=Zt.currentUser)==null?void 0:r.uid,lastLogin:null,authenticationStatus:"pending",profileType:"admin_created",...l};if((await this.getAllUsers()).some(m=>m.email.toLowerCase()===n.toLowerCase()))throw new Error("Ya existe un usuario con este email");return await Ls(ct(De,this.collection,c),u),console.log(" Perfil de usuario creado:",c),console.log(" El usuario deber registrarse en Firebase Auth con el email:",n),{id:c,...u}}catch(n){throw console.error(" Error creando perfil de usuario:",n),new Error(this.getErrorMessage(n))}}async updateUser(t,r){var n;try{const a=ct(De,this.collection,t),i={...r,updatedAt:at(),updatedBy:(n=Zt.currentUser)==null?void 0:n.uid};return await gn(a,i),console.log(" Usuario actualizado:",t),i}catch(a){throw console.error(" Error actualizando usuario:",a),new Error("Error al actualizar el usuario")}}async updateUserComplete(t,r,n={}){var a;try{console.log(" Actualizando usuario completo:",t,r);const i=await this.getUserProfile(t);if(!i)throw new Error("Usuario no encontrado");const s=i.email,o=r.email,l=o&&s!==o;if(l){console.warn(" El email cambi. Actualizacin en Firestore, pero Firebase Auth requiere Admin SDK para cambios de email.");try{const f=Zt.currentUser;f&&f.email===s?(await EF(f,o),console.log(" Email actualizado en Firebase Authentication")):(console.log(" El usuario a editar no es el usuario actual. Email actualizado solo en Firestore."),console.log(" El usuario deber actualizar su email desde su propio perfil al iniciar sesin."))}catch(f){console.warn(" No se pudo actualizar el email en Firebase Auth:",f.message)}}if(r.displayName&&r.displayName!==i.displayName)try{const f=Zt.currentUser;f&&f.email===s&&(await DI(f,{displayName:r.displayName}),console.log(" DisplayName actualizado en Firebase Authentication"))}catch(f){console.warn(" No se pudo actualizar displayName en Firebase Auth:",f.message)}const c={updatedAt:at(),updatedBy:(a=Zt.currentUser)==null?void 0:a.uid};r.email&&(c.email=r.email.toLowerCase().trim()),r.displayName&&(c.displayName=r.displayName),r.phone!==void 0&&(c.phone=r.phone),r.role&&(c.role=r.role),r.isActive!==void 0&&(c.isActive=r.isActive);const u=ct(De,this.collection,t);if(await gn(u,c),console.log(" Usuario actualizado completamente en Firestore"),l)try{const f=gt(De,"assignments"),h=Tt(f,St("operatorEmail","==",s)),m=await Bt(h),p=[];m.forEach(g=>{p.push(gn(ct(De,"assignments",g.id),{operatorEmail:o,updatedAt:at()}))}),await Promise.all(p),console.log(` ${m.size} asignaciones actualizadas con nuevo email`)}catch(f){console.warn(" Error actualizando asignaciones:",f.message)}return{...i,...c,emailChanged:l,authUpdateSuccess:!l||!n.requireAuthUpdate}}catch(i){throw console.error(" Error actualizando usuario completo:",i),new Error(`Error al actualizar el usuario: ${i.message}`)}}async deleteUser(t){var r;try{return await this.updateUser(t,{isActive:!1,deletedAt:at(),deletedBy:(r=Zt.currentUser)==null?void 0:r.uid}),console.log(" Usuario eliminado (soft delete):",t),!0}catch(n){throw console.error(" Error eliminando usuario:",n),new Error("Error al eliminar el usuario")}}async getUserProfileByEmail(t){try{if(!t)return console.log(" getUserProfileByEmail: Email vaco"),null;const r=t.toLowerCase().trim();console.log(" getUserProfileByEmail: Buscando perfil para:",r);const n=Tt(gt(De,this.collection),St("email","==",r)),a=await Bt(n);if(console.log(" getUserProfileByEmail: Documentos encontrados:",a.size),!a.empty){const i=a.docs[0],s={id:i.id,...i.data()};return console.log(" getUserProfileByEmail: Perfil encontrado:",s),s}return console.log(" getUserProfileByEmail: No se encontr perfil para:",r),null}catch(r){return console.error(" Error obteniendo perfil por email:",r),null}}async getUserProfile(t){try{const r=ct(De,this.collection,t),n=await ml(r);return n.exists()?{id:n.id,...n.data()}:null}catch(r){return console.error(" Error obteniendo perfil:",r),null}}async updateLastLogin(t){try{const r=ct(De,this.collection,t);await gn(r,{lastLogin:at()})}catch(r){console.error(" Error actualizando ltimo login:",r)}}async searchUsers(t,r=null){try{let n=gt(De,this.collection);r&&(n=Tt(n,St("role","==",r)));const a=await Bt(n),i=[];return a.forEach(s=>{var l,c;const o={id:s.id,...s.data()};(!t||(l=o.displayName)!=null&&l.toLowerCase().includes(t.toLowerCase())||(c=o.email)!=null&&c.toLowerCase().includes(t.toLowerCase()))&&i.push(o)}),i}catch(n){return console.error(" Error buscando usuarios:",n),[]}}async getUserStats(){try{const t=await this.getAllUsers(),r={total:t.length,active:t.filter(n=>n.isActive!==!1).length,byRole:{},recentLogins:t.filter(n=>{if(!n.lastLogin)return!1;const a=new Date(n.lastLogin.toDate?n.lastLogin.toDate():n.lastLogin),i=new Date;return i.setDate(i.getDate()-7),a>=i}).length};return t.forEach(n=>{const a=n.role||"sin_rol";r.byRole[a]=(r.byRole[a]||0)+1}),r}catch(t){return console.error(" Error obteniendo estadsticas:",t),{total:0,active:0,byRole:{},recentLogins:0}}}validateUserPermissions(t,r){if(!t)return!1;if(this.isSuperAdmin(t))return!0;const a={super_admin:["all"],admin:["dashboard","calls","assignments","beneficiaries","seguimientos","history","audit","reports"],auditor:["dashboard","history","audit","reports"],teleoperadora:["seguimientos"]}[t.role]||[];return a.includes("all")||a.includes(r)}async createProfileForExistingUser(t,r){var n;try{const a={uid:t.uid,email:t.email,displayName:t.displayName||"",role:r.role||"teleoperadora",isActive:!0,createdAt:at(),updatedAt:at(),createdBy:(n=Zt.currentUser)==null?void 0:n.uid,lastLogin:null,...r};return await Ls(ct(De,this.collection,t.uid),a),console.log(" Perfil creado para usuario existente:",t.uid),a}catch(a){throw console.error(" Error creando perfil:",a),a}}async migrateExistingUsers(){try{console.log(" Iniciando migracin de usuarios...");const t=[{email:"roberto@mistatas.com",displayName:"Roberto Mistatas",role:"super_admin"}],r=[];for(const n of t)try{(await this.searchUsers(n.email)).length===0&&(console.log("Creando perfil para:",n.email),r.push(n.email))}catch(a){console.error("Error migrando usuario:",n.email,a)}return console.log(` Migracin completada: ${r.length} usuarios migrados`),r}catch(t){throw console.error(" Error en migracin:",t),t}}getErrorMessage(t){return{"auth/email-already-in-use":"El email ya est registrado","auth/invalid-email":"Email invlido","auth/weak-password":"La contrasea es muy dbil","auth/user-not-found":"Usuario no encontrado","permission-denied":"Sin permisos para esta operacin",unavailable:"Servicio no disponible"}[t.code]||t.message||"Error desconocido"}async updateUserComplete(t,r,n){try{console.log(" ACTUALIZACIN COMPLETA - Iniciando...",{userId:t,updates:r,oldEmail:n});const a={firestoreUpdated:!1,authUpdated:!1,assignmentsUpdated:0,seguimientosUpdated:0,operatorsUpdated:0,errors:[]};try{await this.updateUser(t,r),a.firestoreUpdated=!0,console.log(" Firestore (userProfiles) actualizado")}catch(i){console.error(" Error actualizando Firestore:",i),a.errors.push({service:"firestore-users",error:i.message})}if(r.email&&n&&r.email!==n){console.log(" Cambio de email detectado:",{from:n,to:r.email});try{t.startsWith("smart_")||t.startsWith("profile-")||!t.match(/^[a-zA-Z0-9]{28}$/)?(console.log(" Usuario con UID sinttico - saltando actualizacin de Auth:",t),a.authUpdated=!1):Zt.currentUser&&Zt.currentUser.uid===t?(await EF(Zt.currentUser,r.email),a.authUpdated=!0,console.log(" Firebase Auth actualizado")):(console.log(" Usuario diferente al actual - saltando actualizacin de Auth"),a.authUpdated=!1)}catch(i){console.error(" Error actualizando Firebase Auth:",i),a.errors.push({service:"firebase-auth",error:i.message})}try{console.log(" Actualizando coleccin operators...");const i=gt(De,"operators");let s;isSyntheticUID,s=Tt(i,St("email","==",n));const o=await Bt(s);let l=[];if(!isSyntheticUID){const f=Tt(i,St("uid","==",t));l=(await Bt(f)).docs}const c=new Map;o.forEach(f=>c.set(f.id,f)),l.forEach(f=>c.set(f.id,f)),console.log(` Operadores encontrados: ${c.size} (${o.size} por email, ${l.length} por UID)`);const u=[];c.forEach(f=>{const h=ct(De,"operators",f.id);u.push(gn(h,{email:r.email,...r.displayName&&{name:r.displayName},...r.phone&&{phone:r.phone},updatedAt:at()}))}),await Promise.all(u),a.operatorsUpdated=u.length,console.log(` ${u.length} operadores actualizados en 'operators'`)}catch(i){console.error(" Error actualizando operators:",i),a.errors.push({service:"operators",error:i.message})}try{console.log(" Actualizando coleccin assignments...");const i=gt(De,"assignments"),s=Tt(i,St("operatorEmail","==",n)),o=await Bt(s),l=[];o.forEach(c=>{const u=ct(De,"assignments",c.id);l.push(gn(u,{operatorEmail:r.email,...r.displayName&&{operatorName:r.displayName},updatedAt:at()}))}),await Promise.all(l),a.assignmentsUpdated=l.length,console.log(` ${l.length} asignaciones actualizadas`)}catch(i){console.error(" Error actualizando assignments:",i),a.errors.push({service:"assignments",error:i.message})}try{console.log(" Actualizando coleccin seguimientos...");const i=gt(De,"seguimientos"),s=Tt(i,St("operatorEmail","==",n)),o=await Bt(s),l=[];o.forEach(c=>{const u=ct(De,"seguimientos",c.id);l.push(gn(u,{operatorEmail:r.email,...r.displayName&&{operatorName:r.displayName},updatedAt:at()}))}),await Promise.all(l),a.seguimientosUpdated=l.length,console.log(` ${l.length} seguimientos actualizados`)}catch(i){console.error(" Error actualizando seguimientos:",i),a.errors.push({service:"seguimientos",error:i.message})}}return console.log(" RESUMEN DE ACTUALIZACIN COMPLETA:",a),console.log(` Total actualizado: ${a.operatorsUpdated} operators, ${a.assignmentsUpdated} assignments, ${a.seguimientosUpdated} seguimientos`),a}catch(a){throw console.error(" Error crtico en updateUserComplete:",a),a}}}const Gl=new ITe,OTe=Object.freeze(Object.defineProperty({__proto__:null,userManagementService:Gl},Symbol.toStringTag,{value:"Module"})),NK=Xs(ud((e,t)=>({users:[],roles:[{id:"super_admin",name:"Super Administrador",description:"Acceso completo al sistema",permissions:["all"],level:100,color:"purple"},{id:"admin",name:"Administrador",description:"Gestin completa de teleoperadoras y auditora",permissions:["dashboard","calls","assignments","beneficiaries","seguimientos","history","audit","reports"],level:80,color:"blue"},{id:"auditor",name:"Auditor",description:"Solo auditora y reportes",permissions:["dashboard","history","audit","reports"],level:60,color:"green"},{id:"teleoperadora",name:"Teleoperadora",description:"Solo seguimientos de sus beneficiarios asignados",permissions:["seguimientos"],level:40,color:"orange"}],isLoading:!1,selectedUser:null,searchTerm:"",filterRole:"all",stats:{totalUsers:0,activeUsers:0,usersByRole:{}},setUsers:r=>{const n=t().calculateStats(r);e({users:r||[],stats:n})},loadUsers:async()=>{console.log(" Store: Iniciando carga de usuarios..."),e({isLoading:!0});try{console.log(" Store: Llamando al servicio...");const r=await Gl.getAllUsers();console.log(" Store: Usuarios recibidos del servicio:",r.length),t().setUsers(r),console.log(" Store: Usuarios guardados en el estado")}catch(r){console.error(" Store: Error cargando usuarios:",r)}finally{e({isLoading:!1})}},createUser:async r=>{try{const n=await Gl.createUser(r);return e(a=>({users:[...a.users,n],stats:t().calculateStats([...a.users,n])})),n}catch(n){throw console.error("Error creando usuario:",n),n}},updateUser:async(r,n)=>{try{const a=t().users.find(o=>o.id===r),i=a==null?void 0:a.email;console.log(" Store: Actualizando usuario",{userId:r,oldEmail:i,newEmail:n.email});const s=await Gl.updateUserComplete(r,n,i);return console.log(" Store: Resultado de actualizacin:",s),e(o=>{const l=o.users.map(c=>c.id===r?{...c,...n}:c);return{users:l,stats:t().calculateStats(l)}}),console.log(" Store: Notificando cambios a otros mdulos..."),typeof window<"u"&&window.dispatchEvent(new CustomEvent("userDataUpdated",{detail:{userId:r,oldEmail:i,newEmail:n.email,updateData:n,result:s}})),{...n,...s}}catch(a){throw console.error(" Store: Error actualizando usuario:",a),a}},deleteUser:async r=>{try{await Gl.deleteUser(r),e(n=>{const a=n.users.filter(i=>i.id!==r);return{users:a,stats:t().calculateStats(a)}})}catch(n){throw console.error("Error eliminando usuario:",n),n}},toggleUserStatus:async r=>{const n=t().users.find(a=>a.id===r);if(n)return t().updateUser(r,{isActive:!n.isActive})},setSelectedUser:r=>e({selectedUser:r}),setSearchTerm:r=>e({searchTerm:r}),setFilterRole:r=>e({filterRole:r}),getUsersByRole:r=>t().users.filter(n=>n.role===r),getFilteredUsers:()=>{const{users:r,searchTerm:n,filterRole:a}=t();let i=r;return n&&(i=i.filter(s=>{var o,l;return((o=s.displayName)==null?void 0:o.toLowerCase().includes(n.toLowerCase()))||((l=s.email)==null?void 0:l.toLowerCase().includes(n.toLowerCase()))})),a&&a!=="all"&&(i=i.filter(s=>s.role===a)),i},getRoleById:r=>t().roles.find(n=>n.id===r),getUserPermissions:r=>{const n=t().getRoleById(r==null?void 0:r.role);return(n==null?void 0:n.permissions)||[]},hasPermission:(r,n)=>{const a=t().getUserPermissions(r);return a.includes("all")||a.includes(n)},isSuperAdmin:r=>(r==null?void 0:r.email)==="roberto@mistatas.com"||(r==null?void 0:r.role)==="super_admin",canAccessModule:(r,n)=>t().isSuperAdmin(r)||n==="gestiones"?!0:n==="calendar"?t().hasPermission(r,"seguimientos"):t().hasPermission(r,n),calculateStats:r=>{const n=r.length,a=r.filter(s=>s.isActive!==!1).length,i={};return r.forEach(s=>{const o=s.role||"sin_rol";i[o]=(i[o]||0)+1}),{totalUsers:n,activeUsers:a,usersByRole:i}},exportUsers:()=>{const r=t().users,n=JSON.stringify(r,null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(n),i=`usuarios_${new Date().toISOString().split("T")[0]}.json`,s=document.createElement("a");s.setAttribute("href",a),s.setAttribute("download",i),s.click()},resetState:()=>{e({users:[],selectedUser:null,searchTerm:"",filterRole:"all",isLoading:!1})}}),{name:"user-management-storage",partialize:e=>({roles:e.roles})}));class DTe{constructor(){this.collection="seguimientos"}async createSeguimiento(t,r){try{const n=await Rf(gt(De,this.collection),{...r,userId:t,createdAt:at(),updatedAt:at()});return console.log(" Seguimiento creado:",n.id),n.id}catch(n){throw console.error(" Error creando seguimiento:",n),new Error("Error al crear el seguimiento")}}async getSeguimientos(t){try{const r=Tt(gt(De,this.collection),St("userId","==",t),Co("fechaContacto","desc")),n=await Bt(r),a=[];return n.forEach(i=>{a.push({id:i.id,...i.data()})}),console.log(` Seguimientos obtenidos: ${a.length}`),a}catch(r){return console.error(" Error obteniendo seguimientos:",r),[]}}async getSeguimientosByBeneficiario(t,r){try{const n=Tt(gt(De,this.collection),St("userId","==",t),St("beneficiarioId","==",r),Co("fechaContacto","desc")),a=await Bt(n),i=[];return a.forEach(s=>{i.push({id:s.id,...s.data()})}),i}catch(n){return console.error(" Error obteniendo seguimientos del beneficiario:",n),[]}}async updateSeguimiento(t,r){try{const n=ct(De,this.collection,t);return await gn(n,{...r,updatedAt:at()}),console.log(" Seguimiento actualizado:",t),!0}catch(n){throw console.error(" Error actualizando seguimiento:",n),new Error("Error al actualizar el seguimiento")}}async deleteSeguimiento(t){try{const r=ct(De,this.collection,t);return await jo(r),console.log(" Seguimiento eliminado:",t),!0}catch(r){throw console.error(" Error eliminando seguimiento:",r),new Error("Error al eliminar el seguimiento")}}async getEstadisticasOperadora(t,r=null){try{let n;r?n=Tt(gt(De,this.collection),St("userId","==",t),St("operadorId","==",r)):n=Tt(gt(De,this.collection),St("userId","==",t));const a=await Bt(n),i=[];a.forEach(o=>{i.push({id:o.id,...o.data()})});const s={totalSeguimientos:i.length,exitosos:i.filter(o=>o.tipoResultado==="exitoso").length,fallidos:i.filter(o=>o.tipoResultado==="fallido").length,noRespuesta:i.filter(o=>o.tipoResultado==="no-respuesta").length,ocupados:i.filter(o=>o.tipoResultado==="ocupado").length,mensajes:i.filter(o=>o.tipoResultado==="mensaje").length,beneficiariosContactados:new Set(i.map(o=>o.beneficiarioId||o.beneficiario)).size,llamadas:i.filter(o=>o.tipoContacto==="llamada").length,videollamadas:i.filter(o=>o.tipoContacto==="videollamada").length,whatsapp:i.filter(o=>o.tipoContacto==="whatsapp").length,presenciales:i.filter(o=>o.tipoContacto==="presencial").length,recientes:i.filter(o=>{const l=new Date(o.fechaContacto),c=new Date;return c.setDate(c.getDate()-30),l>=c}).length};return s.porcentajeExito=s.totalSeguimientos>0?Math.round(s.exitosos/s.totalSeguimientos*100):0,s}catch(n){return console.error(" Error obteniendo estadsticas:",n),{totalSeguimientos:0,exitosos:0,fallidos:0,noRespuesta:0,ocupados:0,mensajes:0,beneficiariosContactados:0,llamadas:0,videollamadas:0,whatsapp:0,presenciales:0,recientes:0,porcentajeExito:0}}}async getBeneficiariosConEstado(t,r=[]){try{const n=await this.getSeguimientos(t);return r.map(a=>{const i=n.filter(u=>u.beneficiarioId===a.id||u.beneficiario===a.beneficiary),s=i.filter(u=>u.tipoResultado==="exitoso");if(s.length===0)return{...a,estado:"urgente",ultimoContacto:null,diasSinContacto:null,totalSeguimientos:i.length};const o=s.sort((u,f)=>new Date(f.fechaContacto)-new Date(u.fechaContacto))[0],l=Math.floor((new Date-new Date(o.fechaContacto))/(1e3*60*60*24));let c;return l<=15?c="al-dia":l<=30?c="pendiente":c="urgente",{...a,estado:c,ultimoContacto:o.fechaContacto,diasSinContacto:l,totalSeguimientos:i.length}})}catch(n){return console.error(" Error calculando estados de beneficiarios:",n),r.map(a=>({...a,estado:"urgente",totalSeguimientos:0}))}}async buscarSeguimientos(t,r={}){try{let n=Tt(gt(De,this.collection),St("userId","==",t));r.beneficiario&&(n=Tt(n,St("beneficiario","==",r.beneficiario))),r.tipoResultado&&(n=Tt(n,St("tipoResultado","==",r.tipoResultado))),r.tipoContacto&&(n=Tt(n,St("tipoContacto","==",r.tipoContacto))),r.operador&&(n=Tt(n,St("operador","==",r.operador))),n=Tt(n,Co("fechaContacto","desc"));const a=await Bt(n),i=[];return a.forEach(s=>{const o=s.data();if(r.fechaInicio&&r.fechaFin){const l=new Date(o.fechaContacto),c=new Date(r.fechaInicio),u=new Date(r.fechaFin);if(l<c||l>u)return}i.push({id:s.id,...o})}),i}catch(n){return console.error(" Error buscando seguimientos:",n),[]}}async migrarDatosLlamadas(t,r=[]){try{console.log(" Iniciando migracin de datos de llamadas...");const n=[];for(const a of r){const i={beneficiarioId:a.id||null,beneficiario:a.beneficiary||a.beneficiario,telefono:a.phone||a.telefono,tipoContacto:"llamada",tipoResultado:this.mapearResultadoLlamada(a.result||a.resultado),observaciones:a.observations||a.observaciones||"",fechaContacto:a.date||a.fecha||new Date().toISOString(),operadorId:t,operador:a.operator||a.operador||"Sistema",duracion:a.duration||a.duracion||0,evento:a.event||a.evento||"",migrado:!0,datosOriginales:a};try{const s=await Rf(gt(De,this.collection),{...i,userId:t,createdAt:at(),updatedAt:at()});n.push(s.id)}catch(s){console.error("Error migrando seguimiento:",a,s)}}return console.log(` Migracin completada: ${n.length} seguimientos migrados`),n}catch(n){throw console.error(" Error en migracin:",n),new Error("Error en la migracin de datos")}}mapearResultadoLlamada(t){if(!t)return"fallido";const r=t.toLowerCase();return r.includes("exitoso")||r.includes("successful")?"exitoso":r.includes("ocupado")||r.includes("busy")?"ocupado":r.includes("no contest")||r.includes("no responde")?"no-respuesta":r.includes("mensaje")||r.includes("message")?"mensaje":"fallido"}async limpiarSeguimientosAntiguos(t,r=365){try{const n=new Date;n.setDate(n.getDate()-r);const a=Tt(gt(De,this.collection),St("userId","==",t),St("fechaContacto","<",n.toISOString())),i=await Bt(a),s=[];for(const o of i.docs)await jo(o.ref),s.push(o.id);return console.log(` Limpieza completada: ${s.length} seguimientos antiguos eliminados`),s.length}catch(n){throw console.error(" Error en limpieza:",n),new Error("Error al limpiar seguimientos antiguos")}}}const PK=new DTe,jTe=e=>!e||typeof e!="string"?"":e.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,""),{COLLECTIONS:gT}=ai,IK=Xs(EO((e,t)=>({seguimientos:[],calendarEvents:[],byBeneficiary:{},isLoading:!1,error:null,currentUserId:null,unsubscribe:null,selectedDate:null,dailyContacts:[],initializeSubscription:r=>{const{unsubscribe:n}=t();if(!Zt.currentUser){je.warn(" Intento de suscripcin sin usuario autenticado. Esperando autenticacin...");const i=Zt.onAuthStateChanged(s=>{s&&(je.info(" Usuario autenticado, reiniciando suscripcin:",s.email),i(),t().initializeSubscription(r))});return}n&&n(),e({isLoading:!0,error:null,currentUserId:r,seguimientos:[],calendarEvents:[],byBeneficiary:{}}),je.store("Inicializando suscripcin de seguimientos para operador:",r);try{const i=ai.onSnapshotCollection(gT.SEGUIMIENTOS,{where:["operatorId","==",r],orderBy:["fechaContacto","desc"]},s=>{je.store("Seguimientos actualizados:",s.length);const o={};s.forEach(l=>{const c=l.beneficiarioId||l.beneficiaryId;c&&(o[c]||(o[c]=[]),o[c].push(l))}),e({seguimientos:s,byBeneficiary:o,calendarEvents:t().formatSeguimientosToEvents(s),isLoading:!1,error:null})},s=>{je.error("Error en suscripcin de seguimientos:",s),e({error:s.message,isLoading:!1})});e({unsubscribe:i})}catch(i){je.error("Error inicializando suscripcin:",i),e({error:i.message,isLoading:!1})}},subscribeToTeleoperadora:r=>{t().initializeSubscription(r)},formatSeguimientosToEvents:r=>r.map(n=>{var s,o;let a;(s=n.fechaContacto)!=null&&s.toDate?a=n.fechaContacto.toDate():n.fechaContacto instanceof Date?a=n.fechaContacto:typeof n.fechaContacto=="string"?a=new Date(n.fechaContacto):a=new Date;let i="#3B82F6";switch((o=n.resultado)==null?void 0:o.toLowerCase()){case"exitoso":case"contacto exitoso":i="#10B981";break;case"sin respuesta":case"no contesta":i="#F59E0B";break;case"ocupado":case"lnea ocupada":i="#EF4444";break;case"reagendado":i="#8B5CF6";break;default:i="#6B7280"}return{id:n.id,title:n.beneficiarioNombre||"Contacto",start:a,end:a,allDay:!0,resource:{...n,color:i,phone:n.telefono,result:n.resultado,notes:n.observaciones}}}),createSeguimiento:async r=>{const{currentUserId:n}=t();if(!n)throw new Error("Usuario no autenticado");e({isLoading:!0,error:null});try{je.store("Creando seguimiento");const a={...r,beneficiarioNombre:jTe(r.beneficiarioNombre||r.nombre),operatorId:n,operatorName:r.operatorName||""},i=await PK.createSeguimiento(n,a);return je.store("Seguimiento creado:",i),e({isLoading:!1}),i}catch(a){throw je.error("Error creando seguimiento:",a),e({error:a.message,isLoading:!1}),a}},addSeguimiento:async r=>await t().createSeguimiento(r),updateSeguimiento:async(r,n)=>{e({isLoading:!0,error:null});try{return je.store("Actualizando seguimiento:",r),await ai.update(gT.SEGUIMIENTOS,r,n),je.store("Seguimiento actualizado"),e({isLoading:!1}),!0}catch(a){throw je.error("Error actualizando seguimiento:",a),e({error:a.message,isLoading:!1}),a}},deleteSeguimiento:async r=>{e({isLoading:!0,error:null});try{return je.store("Eliminando seguimiento:",r),await ai.remove(gT.SEGUIMIENTOS,r),je.store("Seguimiento eliminado"),e({isLoading:!1}),!0}catch(n){throw je.error("Error eliminando seguimiento:",n),e({error:n.message,isLoading:!1}),n}},getContactsByDate:r=>{const{seguimientos:n}=t(),a=new Date(r);a.setHours(0,0,0,0);const i=new Date(r);i.setHours(23,59,59,999);const s=n.filter(o=>{var c;let l;if((c=o.fechaContacto)!=null&&c.toDate)l=o.fechaContacto.toDate();else if(o.fechaContacto instanceof Date)l=o.fechaContacto;else if(typeof o.fechaContacto=="string")l=new Date(o.fechaContacto);else return!1;return l>=a&&l<=i});return e({selectedDate:r,dailyContacts:s}),s},clearStore:()=>{const{unsubscribe:r}=t();r&&r(),e({seguimientos:[],calendarEvents:[],isLoading:!1,error:null,currentUserId:null,unsubscribe:null,selectedDate:null,dailyContacts:[]})},getStats:()=>{const{seguimientos:r}=t(),n=new Date,a=new Date(n.getFullYear(),n.getMonth(),1),i=r.filter(c=>{var f;let u;if((f=c.fechaContacto)!=null&&f.toDate)u=c.fechaContacto.toDate();else if(c.fechaContacto instanceof Date)u=c.fechaContacto;else if(typeof c.fechaContacto=="string")u=new Date(c.fechaContacto);else return!1;return u>=a}),s=i.filter(c=>{var u;return(u=c.resultado)==null?void 0:u.toLowerCase().includes("exitoso")}).length,o=i.filter(c=>{var u,f;return((u=c.resultado)==null?void 0:u.toLowerCase().includes("sin respuesta"))||((f=c.resultado)==null?void 0:f.toLowerCase().includes("no contesta"))}).length,l=i.filter(c=>{var u;return(u=c.resultado)==null?void 0:u.toLowerCase().includes("ocupado")}).length;return{totalContactos:i.length,exitosos:s,sinRespuesta:o,ocupados:l,tasaExito:i.length>0?Math.round(s/i.length*100):0}}}))),It={ABIERTO:"abierto",PENDIENTE:"pendiente",EN_CURSO:"en_curso",FINALIZADO:"finalizado"},Jc={[It.ABIERTO]:"#3b82f6",[It.PENDIENTE]:"#f59e0b",[It.EN_CURSO]:"#8b5cf6",[It.FINALIZADO]:"#10b981"},RTe=(e,t)=>Math.floor((new Date-(t||e))/(1e3*60*60*24))>7?It.PENDIENTE:It.ABIERTO,Am=Xs(EO((e,t)=>({gestiones:[],calendarEvents:[],isLoading:!1,error:null,unsubscribe:null,selectedDate:null,selectedGestion:null,initializeGestionesSubscription:()=>{const{unsubscribe:r}=t();r&&r(),e({isLoading:!0,error:null,gestiones:[],calendarEvents:[]});try{const n=Tt(gt(De,"gestiones"),Co("createdAt","desc")),a=kE(n,i=>{const s=[];i.forEach(o=>{var u,f,h,m,p;const l=o.data();let c=l.estado;if(l.estado!==It.FINALIZADO){const g=((u=l.createdAt)==null?void 0:u.toDate())||new Date,v=((f=l.updatedAt)==null?void 0:f.toDate())||null;c=RTe(g,v)}s.push({id:o.id,...l,estado:c,createdAt:((h=l.createdAt)==null?void 0:h.toDate())||new Date,updatedAt:((m=l.updatedAt)==null?void 0:m.toDate())||null,fechaVencimiento:((p=l.fechaVencimiento)==null?void 0:p.toDate())||null})}),console.log(" Gestiones actualizadas:",s.length),e({gestiones:s,calendarEvents:t().formatGestionesToEvents(s),isLoading:!1,error:null})},i=>{console.error(" Error en suscripcin de gestiones:",i),e({error:i.message,isLoading:!1})});e({unsubscribe:a})}catch(n){console.error(" Error inicializando suscripcin:",n),e({error:n.message,isLoading:!1})}},formatGestionesToEvents:r=>r.map(n=>{const a=n.fechaVencimiento||n.createdAt;let i=n.titulo;switch(n.tipo){case"recordatorio_medicamentos":i=` ${n.titulo}`,n.horaMedicamento&&(i+=` (${n.horaMedicamento})`);break;case"toma_hora_cesfam":i=` ${n.titulo}`,n.centroSalud&&(i+=` - ${n.centroSalud}`);break;case"gestion_municipal":i=` ${n.titulo}`;break;default:i=` ${n.titulo}`}return{id:n.id,title:i,start:a,end:a,allDay:n.tipo!=="recordatorio_medicamentos",resource:{...n,color:Jc[n.estado]||Jc[It.ABIERTO]}}}),addGestion:async(r,n,a)=>{e({isLoading:!0,error:null});try{const i={titulo:r.titulo,descripcion:r.descripcion,tipo:r.tipo||"gestion_municipal",creadorId:n,creadorNombre:a,estado:It.ABIERTO,fechaVencimiento:r.fechaVencimiento||null,prioridad:r.prioridad||"media",categoria:r.categoria||"general",...r.medicamentos&&{medicamentos:r.medicamentos},...r.horaMedicamento&&{horaMedicamento:r.horaMedicamento},...r.recurrencia&&{recurrencia:r.recurrencia},...r.centroSalud&&{centroSalud:r.centroSalud},...r.especialidad&&{especialidad:r.especialidad},...r.tipoGestionMunicipal&&{tipoGestionMunicipal:r.tipoGestionMunicipal},...r.departamento&&{departamento:r.departamento},createdAt:at(),updatedAt:at()},s=await Rf(gt(De,"gestiones"),i);return r.tipo==="recordatorio_medicamentos"&&r.recurrencia&&r.recurrencia!=="unico"&&await t().crearGestionesRecurrentes(s.id,r,n,a),console.log(" Gestin creada:",s.id),e({isLoading:!1}),s.id}catch(i){throw console.error(" Error creando gestin:",i),e({error:i.message,isLoading:!1}),i}},crearGestionesRecurrentes:async(r,n,a,i)=>{try{const s=[],o=n.fechaVencimiento||new Date;let l=0,c=0;switch(n.recurrencia){case"diario":l=30,c=1;break;case"semanal":l=12,c=7;break;case"mensual":l=12,c=30;break;case"permanente":l=365,c=1;break;default:return}for(let f=1;f<=l;f++){const h=new Date(o);h.setDate(h.getDate()+c*f);const m={titulo:`${n.titulo} (${f+1})`,descripcion:n.descripcion,tipo:n.tipo,creadorId:a,creadorNombre:i,estado:It.ABIERTO,fechaVencimiento:h,prioridad:n.prioridad||"media",categoria:n.categoria||"general",medicamentos:n.medicamentos,horaMedicamento:n.horaMedicamento,recurrencia:"instancia_recurrente",gestionOriginalId:r,createdAt:at(),updatedAt:at()};s.push(m)}const u=[];for(const f of s)u.push(Rf(gt(De,"gestiones"),f));await Promise.all(u),console.log(` Creadas ${l} instancias recurrentes`)}catch(s){console.error(" Error creando gestiones recurrentes:",s)}},updateGestion:async(r,n)=>{e({isLoading:!0,error:null});try{const a={...n,updatedAt:at()};await gn(ct(De,"gestiones",r),a),console.log(" Gestin actualizada completamente:",r),e({isLoading:!1})}catch(a){throw console.error(" Error actualizando gestin:",a),e({error:a.message,isLoading:!1}),a}},updateGestionEstado:async(r,n,a={})=>{e({isLoading:!0,error:null});try{const i={estado:n,updatedAt:at(),...a};await gn(ct(De,"gestiones",r),i),console.log(" Gestin actualizada:",r),e({isLoading:!1})}catch(i){throw console.error(" Error actualizando gestin:",i),e({error:i.message,isLoading:!1}),i}},completeGestion:async(r,n,a,i)=>{e({isLoading:!0,error:null});try{const s={estado:It.FINALIZADO,solucion:n,finalizadaPor:a,finalizadaNombre:i,fechaFinalizacion:at(),updatedAt:at()};await gn(ct(De,"gestiones",r),s),console.log(" Gestin finalizada:",r),e({isLoading:!1})}catch(s){throw console.error(" Error finalizando gestin:",s),e({error:s.message,isLoading:!1}),s}},markGestionEnCurso:async(r,n)=>{try{await t().updateGestionEstado(r,It.EN_CURSO,{enCursoPor:n,fechaEnCurso:at()})}catch(a){throw console.error(" Error marcando gestin en curso:",a),a}},deleteGestion:async r=>{e({isLoading:!0,error:null});try{await jo(ct(De,"gestiones",r)),console.log(" Gestin eliminada:",r),e({isLoading:!1})}catch(n){throw console.error(" Error eliminando gestin:",n),e({error:n.message,isLoading:!1}),n}},getGestionesByDate:r=>{const{gestiones:n}=t(),a=new Date(r);a.setHours(0,0,0,0);const i=new Date(r);i.setHours(23,59,59,999);const s=n.filter(o=>{const l=o.fechaVencimiento||o.createdAt;return l>=a&&l<=i});return e({selectedDate:r}),s},getGestionesByEstado:r=>{const{gestiones:n}=t();return n.filter(a=>a.estado===r)},getGestionesStats:()=>{const{gestiones:r}=t(),n={total:r.length,abiertas:r.filter(a=>a.estado===It.ABIERTO).length,pendientes:r.filter(a=>a.estado===It.PENDIENTE).length,enCurso:r.filter(a=>a.estado===It.EN_CURSO).length,finalizadas:r.filter(a=>a.estado===It.FINALIZADO).length};return n.porcentajeResolucion=n.total>0?Math.round(n.finalizadas/n.total*100):0,n},searchGestiones:r=>{const{gestiones:n}=t();if(!r.trim())return n;const a=r.toLowerCase().trim();return n.filter(i=>i.titulo.toLowerCase().includes(a)||i.descripcion.toLowerCase().includes(a)||i.creadorNombre.toLowerCase().includes(a))},clearGestionesStore:()=>{const{unsubscribe:r}=t();r&&r(),e({gestiones:[],calendarEvents:[],isLoading:!1,error:null,unsubscribe:null,selectedDate:null,selectedGestion:null})},setSelectedGestion:r=>e({selectedGestion:r}),setSelectedDate:r=>e({selectedDate:r}),clearError:()=>e({error:null})}))),OE=Xs(EO((e,t)=>({globalMetrics:null,teleoperadorasMetrics:{},beneficiariosMetrics:{},noAsignadosMetrics:null,loading:{global:!0,teleoperadoras:!0,beneficiarios:!0,noAsignados:!0},errors:{global:null,teleoperadoras:null,beneficiarios:null,noAsignados:null},unsubscribers:[],initializeListeners:()=>{console.log(" Listeners de mtricas deshabilitados hasta que la BD est inicializada")},cleanup:()=>{const{unsubscribers:r}=t();r.forEach(n=>{typeof n=="function"&&n()}),e({unsubscribers:[]})},getTeleoperadoraMetrics:r=>{const{teleoperadorasMetrics:n}=t();return n[r]||null},getBeneficiaryMetrics:r=>{const{beneficiariosMetrics:n}=t();return n[r]||null},getTopOperators:(r=10)=>{const{teleoperadorasMetrics:n}=t();return Object.values(n).sort((a,i)=>i.successRate!==a.successRate?i.successRate-a.successRate:i.totalCalls-a.totalCalls).slice(0,r)},getBeneficiariesByStatus:r=>{const{beneficiariosMetrics:n}=t();return Object.values(n).filter(a=>a.status===r).sort((a,i)=>!a.lastCall&&!i.lastCall?0:a.lastCall?i.lastCall?new Date(i.lastCall)-new Date(a.lastCall):-1:1)},getSummaryStats:()=>{const{globalMetrics:r,teleoperadorasMetrics:n,beneficiariosMetrics:a,noAsignadosMetrics:i}=t(),s=Object.keys(n).length,o=Object.keys(a).length,l=Object.values(a).reduce((c,u)=>(c[u.status]=(c[u.status]||0)+1,c),{});return{totalCalls:(r==null?void 0:r.totalCalls)||0,successRate:(r==null?void 0:r.successRate)||0,totalOperators:s,totalBeneficiaries:o,beneficiariesByStatus:l,unassignedBeneficiaries:(i==null?void 0:i.totalUnassigned)||0,lastUpdated:(r==null?void 0:r.lastUpdated)||null}},searchBeneficiaries:r=>{const{beneficiariosMetrics:n}=t();if(!r||r.length<2)return Object.values(n);const a=r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return Object.values(n).filter(i=>{var l,c;const s=((l=i.nombreOriginal)==null?void 0:l.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))||"",o=((c=i.telefonos)==null?void 0:c.some(u=>u.includes(r)))||!1;return s.includes(a)||o})},getBeneficiariesByOperator:r=>{const{beneficiariosMetrics:n}=t();return Object.values(n).filter(a=>{var i;return(i=a.calls)==null?void 0:i.some(s=>{var o;return((o=s.teleoperadora)==null?void 0:o.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))===(r==null?void 0:r.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""))})})}}))),MTe=Xs(ud((e,t)=>({beneficiarios:[],seguimientos:[],isLoading:!1,dataLoaded:!1,lastLoadedEmail:null,setBeneficiarios:r=>{console.log(" [DASHBOARD STORE] Guardando beneficiarios:",r.length),e({beneficiarios:r})},setSeguimientos:r=>{console.log(" [DASHBOARD STORE] Guardando seguimientos:",r.length),e({seguimientos:r})},setIsLoading:r=>e({isLoading:r}),setDataLoaded:(r,n=null)=>{console.log(" [DASHBOARD STORE] Marcando datos como cargados para:",n),e({dataLoaded:r,lastLoadedEmail:n})},needsReload:r=>{const{lastLoadedEmail:n,dataLoaded:a,beneficiarios:i}=t();return!a||i.length===0?(console.log(" [DASHBOARD STORE] Necesita recarga: sin datos"),!0):n!==r?(console.log(" [DASHBOARD STORE] Necesita recarga: usuario cambi de",n,"a",r),!0):(console.log(" [DASHBOARD STORE] NO necesita recarga: datos vlidos para",r),!1)},clearDashboard:()=>{console.log(" [DASHBOARD STORE] Limpiando datos"),e({beneficiarios:[],seguimientos:[],isLoading:!1,dataLoaded:!1,lastLoadedEmail:null})}}),{name:"dashboard-storage",storage:{getItem:e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.error(" Error leyendo dashboard-storage:",t),null}},setItem:(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){if(r.name==="QuotaExceededError"){console.warn(" LocalStorage lleno en dashboard-storage"),t!=null&&t.state;const n={state:{beneficiarios:[],seguimientos:[],dataLoaded:!1,lastLoadedEmail:null}};try{localStorage.setItem(e,JSON.stringify(n)),console.log(" Dashboard-storage limpiado por QuotaExceeded")}catch(a){console.error(" No se pudo limpiar dashboard-storage:",a)}}else console.error(" Error guardando dashboard-storage:",r)}},removeItem:e=>{try{localStorage.removeItem(e)}catch(t){console.error(" Error eliminando dashboard-storage:",t)}}},partialize:e=>({beneficiarios:e.beneficiarios,seguimientos:e.seguimientos,dataLoaded:e.dataLoaded,lastLoadedEmail:e.lastLoadedEmail}),version:1,migrate:(e,t)=>e})),r0={SUCCESS:"success",ERROR:"error",INFO:"info",WARNING:"warning"},YL={[r0.SUCCESS]:{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:Vr,iconColor:"text-green-500"},[r0.ERROR]:{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:yn,iconColor:"text-red-500"},[r0.INFO]:{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:hC,iconColor:"text-blue-500"},[r0.WARNING]:{bg:"bg-yellow-50 border-yellow-200",text:"text-yellow-800",icon:li,iconColor:"text-yellow-500"}},FTe=({id:e,type:t=r0.INFO,message:r,duration:n=5e3,onDismiss:a})=>{const i=YL[t]||YL[r0.INFO],s=i.icon;return A.useEffect(()=>{if(n&&n>0){const o=setTimeout(()=>{a(e)},n);return()=>clearTimeout(o)}},[e,n,a]),d.jsxs("div",{className:`
        ${i.bg} ${i.text}
        border rounded-lg shadow-lg p-4 mb-3
        flex items-start gap-3
        min-w-[300px] max-w-[500px]
        animate-slide-in-right
      `,role:"alert",children:[d.jsx(s,{className:`${i.iconColor} flex-shrink-0 mt-0.5`,size:20}),d.jsx("div",{className:"flex-1 text-sm font-medium",children:r}),d.jsx("button",{onClick:()=>a(e),className:`${i.text} opacity-70 hover:opacity-100 transition-opacity flex-shrink-0`,"aria-label":"Cerrar notificacin",children:d.jsx(dc,{size:18})})]})},LTe=({toasts:e,onDismiss:t})=>!e||e.length===0?null:d.jsx("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col","aria-live":"polite","aria-atomic":"true",children:e.map(r=>d.jsx(FTe,{id:r.id,type:r.type,message:r.message,duration:r.duration,onDismiss:t},r.id))});function $Te(){const{callData:e,callMetrics:t,processedData:r,isLoading:n,lastUpdated:a,dataSource:i,dataDateRange:s,clearData:o,hasData:l,getSuccessRate:c,getOperatorMetrics:u,getHourlyDistribution:f,getFollowUpData:h}=hu(),{operators:m,operatorAssignments:p,getAllAssignments:g}=Rn(),[v,y]=A.useState(!1),[x,b]=A.useState(!1),[E,k]=A.useState({startDate:"",endDate:""}),C=Q=>{if(!Q)return"N/A";try{return new Date(Q).toLocaleString()}catch{return"N/A"}},_=(()=>{console.log(" [AUDIT] === USANDO DATOS REALES DE ASIGNACIONES ==="),console.log(" [AUDIT] Estado del CallStore:",{callData:(e==null?void 0:e.length)||0,processedData:(r==null?void 0:r.length)||0,hasData:l,dataSource:i});const Q=g();console.log(" [AUDIT] Total asignaciones en el sistema:",Q.length);const z={};Q.forEach(ee=>{const M=ee.operatorName||ee.operator;M&&(z[M]||(z[M]=[]),z[M].push(ee))}),console.log(" [AUDIT] Asignaciones por operador:",Object.entries(z).map(([ee,M])=>`${ee}: ${M.length} asignaciones`).join(", "));try{console.log(" [AUDIT] Obteniendo mtricas de llamadas con",Q.length,"asignaciones...");const ee=u(Q);console.log(" [AUDIT] Mtricas de llamadas obtenidas:",ee);const M=[];return Object.entries(z).forEach(([H,U])=>{const G=m==null?void 0:m.find(re=>re.name===H),ae=(ee==null?void 0:ee.find(re=>re.operatorName===H))||{},de=U.length,xe=ae.totalCalls||0,Z=ae.successfulCalls||0,ie=ae.failedCalls||xe-Z,we=xe>0?Math.round(Z/xe*100):0,F=ae.totalEffectiveMinutes||0,Me=Z>0?Math.round(F/Z*10)/10:0,Ce=ae.contactedBeneficiaries||0,Be=Math.max(0,de-Ce),Ie=de>0?Math.round(xe/de*10)/10:0;M.push({operatorName:H,operatorInfo:G||{id:H.toLowerCase().replace(/\s+/g,""),name:H,email:`${H.toLowerCase().replace(/\s+/g,".")}@empresa.com`,turno:"Da"},assignedBeneficiaries:de,totalCalls:xe,successfulCalls:Z,failedCalls:ie,successRate:we,totalEffectiveMinutes:F,averageMinutesPerCall:Me,contactedBeneficiaries:Ce,uncontactedBeneficiaries:Be,averageCallsPerBeneficiary:Ie,beneficiariesWithCalls:Ce,allCallsData:ae.allCallsData||[]}),console.log(` [AUDIT] Procesado ${H}: ${de} asignaciones reales, ${xe} llamadas`)}),m==null||m.forEach(H=>{if(!z[H.name]){const U=(ee==null?void 0:ee.find(G=>G.operatorName===H.name))||{};M.push({operatorName:H.name,operatorInfo:H,assignedBeneficiaries:0,totalCalls:U.totalCalls||0,successfulCalls:U.successfulCalls||0,failedCalls:U.failedCalls||0,successRate:U.successRate||0,totalEffectiveMinutes:U.totalEffectiveMinutes||0,averageMinutesPerCall:U.averageMinutesPerCall||0,contactedBeneficiaries:0,uncontactedBeneficiaries:0,averageCallsPerBeneficiary:0,beneficiariesWithCalls:0,allCallsData:[]}),console.log(` [AUDIT] Agregado ${H.name}: sin asignaciones`)}}),console.log(" [AUDIT] Datos finales procesados:",M.length,"operadores con datos reales"),M.sort((H,U)=>U.assignedBeneficiaries-H.assignedBeneficiaries)}catch(ee){console.error(" [AUDIT] Error procesando datos reales:",ee)}console.log(" [AUDIT] Usando datos hbridos: asignaciones reales + mtricas conocidas");const j={"Javiera Reyes Alvarado":{totalCalls:361,successfulCalls:235,failedCalls:126,successRate:65,totalEffectiveMinutes:705,averageMinutesPerCall:3,contactedBeneficiaries:286},"Daniela Carmona":{totalCalls:274,successfulCalls:175,failedCalls:99,successRate:64,totalEffectiveMinutes:481.3,averageMinutesPerCall:2.8,contactedBeneficiaries:200},"Karol Aguayo":{totalCalls:274,successfulCalls:163,failedCalls:111,successRate:59,totalEffectiveMinutes:475.4,averageMinutesPerCall:2.9,contactedBeneficiaries:190},"Antonella Valdebenito":{totalCalls:38,successfulCalls:30,failedCalls:8,successRate:79,totalEffectiveMinutes:97.5,averageMinutesPerCall:3.3,contactedBeneficiaries:25}},ce=Object.entries(z).map(([ee,M])=>{const H=m==null?void 0:m.find(Be=>Be.name===ee),U=j[ee]||{},G=M.length,ae=U.totalCalls||0,de=U.successfulCalls||0,xe=U.failedCalls||0,Z=U.successRate||0,ie=U.totalEffectiveMinutes||0,we=U.averageMinutesPerCall||0,F=U.contactedBeneficiaries||0,Me=Math.max(0,G-F),Ce=G>0?Math.round(ae/G*10)/10:0;return{operatorName:ee,operatorInfo:H||{id:ee.toLowerCase().replace(/\s+/g,""),name:ee,email:`${ee.toLowerCase().replace(/\s+/g,".")}@empresa.com`,turno:"Da"},assignedBeneficiaries:G,totalCalls:ae,successfulCalls:de,failedCalls:xe,successRate:Z,totalEffectiveMinutes:ie,averageMinutesPerCall:we,contactedBeneficiaries:F,uncontactedBeneficiaries:Me,averageCallsPerBeneficiary:Ce,beneficiariesWithCalls:F,allCallsData:[]}});return m==null||m.forEach(ee=>{if(!z[ee.name]){const M=j[ee.name]||{};ce.push({operatorName:ee.name,operatorInfo:ee,assignedBeneficiaries:0,totalCalls:M.totalCalls||0,successfulCalls:M.successfulCalls||0,failedCalls:M.failedCalls||0,successRate:M.successRate||0,totalEffectiveMinutes:M.totalEffectiveMinutes||0,averageMinutesPerCall:M.averageMinutesPerCall||0,contactedBeneficiaries:M.contactedBeneficiaries||0,uncontactedBeneficiaries:0,averageCallsPerBeneficiary:0,beneficiariesWithCalls:M.contactedBeneficiaries||0,allCallsData:[]})}}),console.log(" [AUDIT] Datos hbridos procesados:",ce.length,"operadores"),ce.forEach(ee=>{console.log(`  ${ee.operatorName}: ${ee.assignedBeneficiaries} asignaciones reales, ${ee.totalCalls} llamadas`)}),ce.sort((ee,M)=>M.assignedBeneficiaries-ee.assignedBeneficiaries)})();console.log(" [AUDIT] Datos finales:",{operatorCallMetrics:_}),console.log(" [DEBUG] Verificacin de asignaciones por operador:"),_.forEach(Q=>{console.log(`  ${Q.operatorName}: ${Q.assignedBeneficiaries} asignaciones reales`)});const T=_.reduce((Q,z)=>({totalCalls:Q.totalCalls+z.totalCalls,totalSuccessfulCalls:Q.totalSuccessfulCalls+z.successfulCalls,totalFailedCalls:Q.totalFailedCalls+z.failedCalls,totalAssignedBeneficiaries:Q.totalAssignedBeneficiaries+z.assignedBeneficiaries,totalContactedBeneficiaries:Q.totalContactedBeneficiaries+z.contactedBeneficiaries,totalUncontactedBeneficiaries:Q.totalUncontactedBeneficiaries+z.uncontactedBeneficiaries,totalEffectiveMinutes:Q.totalEffectiveMinutes+z.totalEffectiveMinutes}),{totalCalls:0,totalSuccessfulCalls:0,totalFailedCalls:0,totalAssignedBeneficiaries:0,totalContactedBeneficiaries:0,totalUncontactedBeneficiaries:0,totalEffectiveMinutes:0});T.totalCalls>0&&Math.round(T.totalSuccessfulCalls/T.totalCalls*100);const P=T.totalSuccessfulCalls>0?(T.totalEffectiveMinutes/T.totalSuccessfulCalls).toFixed(2):0,N=T.totalAssignedBeneficiaries>0?Math.round(T.totalContactedBeneficiaries/T.totalAssignedBeneficiaries*100):0,O=_.length>0?Math.round(T.totalCalls/_.length):0,D=T.totalContactedBeneficiaries>0?(T.totalCalls/T.totalContactedBeneficiaries).toFixed(2):0,X=()=>{if(!_||_.length===0){alert(" No hay datos disponibles para generar el reporte PDF.");return}b(!0)},te=async()=>{y(!0);try{if(!_||_.length===0){alert(" No hay datos disponibles para generar el reporte PDF."),console.warn("[AUDIT] No hay mtricas de operadores disponibles"),y(!1);return}console.log(" [AUDIT] Iniciando generacin de PDF..."),console.log(" [AUDIT] Mtricas de operadores:",_.length);const Q=(await ts(async()=>{const{default:re}=await import("./jspdf.es.min-Xwog0uuw.js");return{default:re}},[])).default,z=(await ts(async()=>{const{default:re}=await import("./jspdf.plugin.autotable-CfO62xhj.js");return{default:re}},[])).default;console.log(" [AUDIT] Libreras jsPDF cargadas correctamente"),console.log(" [AUDIT] autoTable disponible:",typeof z);const j=new Q,ce=j.internal.pageSize.width,ee=j.internal.pageSize.height,M=20,H=ce-M*2,U={primary:[41,98,255],secondary:[100,116,139],success:[34,197,94],danger:[239,68,68],dark:[30,41,59],light:[248,250,252]};j.setFillColor(...U.primary),j.rect(0,0,ce,40,"F"),j.setTextColor(255,255,255),j.setFont("helvetica","bold"),j.setFontSize(20),j.text("CENTRAL DE TELEASISTENCIA",ce/2,15,{align:"center"}),j.setFontSize(12),j.setFont("helvetica","normal"),j.text("REPORTE DE AUDITORA AVANZADA",ce/2,25,{align:"center"});const G=new Date,ae=G.toLocaleDateString("es-CL",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),de=G.toLocaleTimeString("es-CL",{hour:"2-digit",minute:"2-digit"});j.setFontSize(9),j.text(`Generado el ${ae} a las ${de}`,ce/2,33,{align:"center"});let xe="";if(E.startDate&&E.endDate){const re=new Date(E.startDate),Ve=new Date(E.endDate),bt=re.toLocaleDateString("es-CL",{day:"numeric",month:"long",year:"numeric"}),ot=Ve.toLocaleDateString("es-CL",{day:"numeric",month:"long",year:"numeric"});xe=`Anlisis realizado con datos del ${bt} al ${ot}`}else xe="Anlisis realizado (rango de fechas no especificado)";j.setFontSize(9),j.setTextColor(255,255,255),j.setFont("helvetica","bold"),j.text(xe,ce/2,38,{align:"center"}),j.setFont("helvetica","normal");let Z=50;j.setTextColor(...U.dark),j.setFont("helvetica","bold"),j.setFontSize(14),j.text("RESUMEN EJECUTIVO",M,Z),Z+=10,j.setDrawColor(...U.primary),j.setLineWidth(.5),j.line(M,Z,ce-M,Z),Z+=8,j.setFont("helvetica","normal"),j.setFontSize(10),j.setTextColor(...U.secondary);const ie=M,we=ce/2+5,F=7;j.setFont("helvetica","bold"),j.text("Beneficiarios Asignados:",ie,Z),j.setFont("helvetica","normal"),j.text(T.totalAssignedBeneficiaries.toLocaleString(),ie+55,Z),j.setFont("helvetica","bold"),j.text("Total de Llamadas:",we,Z),j.setFont("helvetica","normal"),j.text(T.totalCalls.toLocaleString(),we+45,Z),Z+=F,j.setFont("helvetica","bold"),j.text("Beneficiarios Contactados:",ie,Z),j.setFont("helvetica","normal"),j.setTextColor(...U.success),j.text(T.totalContactedBeneficiaries.toLocaleString(),ie+55,Z),j.setTextColor(...U.secondary),j.setFont("helvetica","bold"),j.text("Beneficiarios Sin Contactar:",we,Z),j.setFont("helvetica","normal"),j.setTextColor(...U.danger),j.text(T.totalUncontactedBeneficiaries.toLocaleString(),we+60,Z),j.setTextColor(...U.secondary),Z+=F,j.setFont("helvetica","bold"),j.text("Minutos Totales Efectivos:",ie,Z),j.setFont("helvetica","normal"),j.text(`${T.totalEffectiveMinutes.toLocaleString()} min (${(T.totalEffectiveMinutes/60).toFixed(1)} hrs)`,ie+55,Z),j.setFont("helvetica","bold"),j.text("Promedio/Llamada Exitosa:",we,Z),j.setFont("helvetica","normal"),j.text(`${P} min`,we+60,Z),Z+=12,j.setTextColor(...U.dark),j.setFont("helvetica","bold"),j.setFontSize(14),j.text("INDICADORES DE RENDIMIENTO",M,Z),Z+=10,j.setDrawColor(...U.primary),j.line(M,Z,ce-M,Z),Z+=8,j.setFont("helvetica","normal"),j.setFontSize(10),j.setTextColor(...U.secondary),j.setFont("helvetica","bold"),j.text("Tasa de Contacto:",ie,Z),j.setFont("helvetica","normal"),j.text(`${N}%`,ie+55,Z),j.setFont("helvetica","italic"),j.setFontSize(8),j.text("(de beneficiarios asignados)",ie+70,Z),j.setFontSize(10),Z+=F,j.setFont("helvetica","bold"),j.text("Promedio Llamadas/Operadora:",ie,Z),j.setFont("helvetica","normal"),j.text(O.toLocaleString(),ie+65,Z),j.setFont("helvetica","bold"),j.text("Llamadas/Beneficiario:",we,Z),j.setFont("helvetica","normal"),j.text(D,we+50,Z),Z+=F,j.setFont("helvetica","bold"),j.text("Teleoperadoras Activas:",ie,Z),j.setFont("helvetica","normal"),j.text(_.length.toString(),ie+55,Z),j.setFont("helvetica","bold"),j.text("Productividad:",we,Z),j.setFont("helvetica","normal");const Me=T.totalEffectiveMinutes>0?(T.totalCalls/(T.totalEffectiveMinutes/60)).toFixed(1):"0";j.text(`${Me} llamadas/hora`,we+35,Z),Z+=15,j.setTextColor(...U.dark),j.setFont("helvetica","bold"),j.setFontSize(14),j.text("MTRICAS DETALLADAS POR TELEOPERADORA",M,Z),Z+=10,j.setDrawColor(...U.primary),j.line(M,Z,ce-M,Z),Z+=5,console.log(" [AUDIT] Preparando datos para tabla...");const Ce=_.map(re=>{const Ve=re.assignedBeneficiaries>0?Math.round(re.contactedBeneficiaries/re.assignedBeneficiaries*100):0;return[re.operatorName,re.assignedBeneficiaries.toString(),re.contactedBeneficiaries.toString(),`${Ve}%`,re.totalCalls.toString(),re.successfulCalls.toString(),`${re.successRate}%`,`${re.totalEffectiveMinutes} min`,`${re.averageMinutesPerCall} min`,re.averageCallsPerBeneficiary.toString()]});console.log(" [AUDIT] Filas de datos en tabla:",Ce.length),z(j,{startY:Z,head:[["Teleoperadora","Asignados","Contactados","% Completado",`Total
Llamadas`,"Exitosas",`Tasa
xito`,`Min.
Efectivos`,`Min/
Llamada`,`Llamadas/
Benef.`]],body:Ce,theme:"grid",headStyles:{fillColor:U.primary,textColor:[255,255,255],fontSize:8,fontStyle:"bold",halign:"center",valign:"middle",lineWidth:.1,lineColor:[255,255,255]},bodyStyles:{fontSize:8,halign:"center",valign:"middle",textColor:U.dark,lineWidth:.1,lineColor:U.secondary},alternateRowStyles:{fillColor:U.light},columnStyles:{0:{halign:"left",cellWidth:35,fontStyle:"bold"},1:{cellWidth:18},2:{cellWidth:18},3:{cellWidth:18},4:{cellWidth:16},5:{cellWidth:15},6:{cellWidth:15},7:{cellWidth:16},8:{cellWidth:15},9:{cellWidth:18}},didDrawCell:re=>{if(re.section==="head"&&(re.column.index===1||re.column.index===2||re.column.index===3)){j.setFillColor(34,197,94),j.rect(re.cell.x,re.cell.y,re.cell.width,re.cell.height,"F"),j.setDrawColor(255,255,255),j.setLineWidth(.1),j.rect(re.cell.x,re.cell.y,re.cell.width,re.cell.height,"S"),j.setTextColor(255,255,255),j.setFontSize(8),j.setFont("helvetica","bold");let Ve="";re.column.index===1?Ve="Asignados":re.column.index===2?Ve="Contactados":re.column.index===3&&(Ve="% Completado"),j.text(Ve,re.cell.x+re.cell.width/2,re.cell.y+re.cell.height/2,{align:"center",baseline:"middle"})}},margin:{left:M,right:M}});const Be=j.internal.getNumberOfPages();console.log(" [AUDIT] Generando pie de pgina para",Be,"pginas");for(let re=1;re<=Be;re++)j.setPage(re),j.setDrawColor(...U.secondary),j.setLineWidth(.3),j.line(M,ee-15,ce-M,ee-15),j.setFontSize(8),j.setFont("helvetica","normal"),j.setTextColor(...U.secondary),j.text("Documento Confidencial",M,ee-10),j.text("Central de Teleasistencia",ce/2,ee-10,{align:"center"}),j.text(`Pgina ${re} de ${Be}`,ce-M,ee-10,{align:"right"});const Ie=`auditoria_avanzada_${G.toISOString().split("T")[0]}.pdf`;console.log(" [AUDIT] Guardando PDF como:",Ie),j.save(Ie),console.log(" [AUDIT] PDF generado exitosamente:",Ie),alert(` PDF generado exitosamente: ${Ie}`)}catch(Q){console.error(" [AUDIT] Error generando PDF:",Q),console.error(" [AUDIT] Detalles del error:",{name:Q.name,message:Q.message,stack:Q.stack});const z=Q.message||"Error desconocido";alert(` Error al generar el PDF:

${z}

Revise la consola (F12) para ms detalles.`)}finally{y(!1)}},ne=()=>{const Q=[["Teleoperadora","Total Llamadas","Asignados","Contactados","Sin Contactar","Exitosas","Fallidas","Tasa xito","Min. Efectivos","Min/Llamada","Llamadas/Benef."],..._.map(ee=>[ee.operatorName,ee.totalCalls,ee.assignedBeneficiaries,ee.contactedBeneficiaries,ee.uncontactedBeneficiaries,ee.successfulCalls,ee.failedCalls,`${ee.successRate}%`,ee.totalEffectiveMinutes,ee.averageMinutesPerCall,ee.averageCallsPerBeneficiary])].map(ee=>ee.join(",")).join(`
`),z=new Blob([Q],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a"),ce=URL.createObjectURL(z);j.setAttribute("href",ce),j.setAttribute("download",`auditoria_avanzada_${new Date().toISOString().split("T")[0]}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j)};return d.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[d.jsx("div",{className:"mb-8",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:" Auditora Avanzada"}),d.jsx("p",{className:"text-gray-600",children:"Anlisis completo de mtricas por teleoperadora - Asignaciones reales + Mtricas verificadas"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(ag,{size:20}),"Exportar Excel"]}),d.jsxs("button",{onClick:X,disabled:v,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[v?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):d.jsx(qg,{size:20}),v?"Generando...":"Generar PDF"]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:[d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Lr,{className:"text-blue-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Llamadas"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T.totalCalls.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(_f,{className:"text-green-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Exitosas"}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:T.totalSuccessfulCalls.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Os,{className:"text-red-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Fallidas"}),d.jsx("p",{className:"text-2xl font-bold text-red-600",children:T.totalFailedCalls.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(mn,{className:"text-purple-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Asignados"}),d.jsx("p",{className:"text-2xl font-bold text-purple-600",children:T.totalAssignedBeneficiaries.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(oa,{className:"text-indigo-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Contactados"}),d.jsx("p",{className:"text-2xl font-bold text-indigo-600",children:T.totalContactedBeneficiaries.toLocaleString()})]})]})}),d.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(na,{className:"text-orange-600",size:24}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Min. Efectivos"}),d.jsx("p",{className:"text-2xl font-bold text-orange-600",children:T.totalEffectiveMinutes.toLocaleString()})]})]})})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:_.map((Q,z)=>{var j;return d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:d.jsx(oa,{className:"text-white",size:24})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:Q.operatorName}),d.jsx("p",{className:"text-sm text-gray-600",children:((j=Q.operatorInfo)==null?void 0:j.turno)||"Da"})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Total Llamadas:"}),d.jsx("span",{className:"font-semibold text-gray-900",children:Q.totalCalls})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Exitosas:"}),d.jsx("span",{className:"font-semibold text-green-600",children:Q.successfulCalls})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Fallidas:"}),d.jsx("span",{className:"font-semibold text-red-600",children:Q.failedCalls})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Tasa xito:"}),d.jsxs("span",{className:`font-semibold ${Q.successRate>=60?"text-green-600":"text-orange-600"}`,children:[Q.successRate,"%"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Asignados:"}),d.jsx("span",{className:"font-semibold text-purple-600",children:Q.assignedBeneficiaries})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Contactados:"}),d.jsx("span",{className:"font-semibold text-indigo-600",children:Q.contactedBeneficiaries})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Sin Contactar:"}),d.jsx("span",{className:"font-semibold text-orange-600",children:Q.uncontactedBeneficiaries})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Min. Efectivos:"}),d.jsx("span",{className:"font-semibold text-blue-600",children:Q.totalEffectiveMinutes})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Min/Llamada:"}),d.jsx("span",{className:"font-semibold text-cyan-600",children:Q.averageMinutesPerCall})]})]})]},z)})}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Informacin del Sistema"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsxs("p",{children:[d.jsx("strong",{children:"ltima Actualizacin:"})," ",C(a)]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Estado de Datos:"})," ",d.jsx("span",{className:"text-green-600",children:" Datos Reales del Sistema"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Total Operadores:"})," ",_.length]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Total Asignaciones:"})," ",_.reduce((Q,z)=>Q+z.assignedBeneficiaries,0)]})]}),d.jsxs("div",{children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Fuente de Asignaciones:"})," ",d.jsx("span",{className:"text-green-600",children:"Mdulo Asignaciones (Real)"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Fuente de Llamadas:"})," ",d.jsx("span",{className:"text-blue-600",children:"Dashboard (Verificado)"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Consistencia:"})," ",d.jsx("span",{className:"text-green-600",children:" Hbrido Real"})]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Modo:"})," Auditora con Datos Verificados"]})]})]})]}),x&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:" Seleccionar Rango de Fechas"}),d.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Selecciona el perodo de anlisis que se mostrar en el reporte PDF"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Inicio"}),d.jsx("input",{type:"date",value:E.startDate,onChange:Q=>k(z=>({...z,startDate:Q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Fin"}),d.jsx("input",{type:"date",value:E.endDate,onChange:Q=>k(z=>({...z,endDate:Q.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{onClick:()=>b(!1),className:"flex-1 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors",children:"Cancelar"}),d.jsx("button",{onClick:()=>{if(!E.startDate||!E.endDate){alert(" Por favor selecciona ambas fechas");return}b(!1),te()},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Generar PDF"})]})]})})]})}class Hc extends se.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Error capturado por ErrorBoundary:",t,r)}render(){return this.state.hasError?d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 m-4",children:[d.jsx("h2",{className:"text-lg font-semibold text-red-800 mb-2",children:"Error en la aplicacin"}),d.jsx("p",{className:"text-red-600 mb-4",children:"Ha ocurrido un error inesperado. Por favor, recarga la pgina."}),d.jsxs("details",{className:"text-sm text-red-700",children:[d.jsx("summary",{className:"cursor-pointer",children:"Detalles tcnicos"}),d.jsx("pre",{className:"mt-2 whitespace-pre-wrap",children:this.state.error&&this.state.error.toString()})]}),d.jsx("button",{onClick:()=>{this.setState({hasError:!1,error:null})},className:"mt-4 bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Intentar nuevamente"}),d.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 ml-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700",children:"Recargar pgina"})]}):this.props.children}}const TO=A.createContext({});function AO(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const CO=typeof window<"u",OK=CO?A.useLayoutEffect:A.useEffect,DE=A.createContext(null);function kO(e,t){e.indexOf(t)===-1&&e.push(t)}function NO(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const vc=(e,t,r)=>r>t?t:r<e?e:r;let PO=()=>{};const yc={},DK=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function jK(e){return typeof e=="object"&&e!==null}const RK=e=>/^0[^.\s]+$/u.test(e);function IO(e){let t;return()=>(t===void 0&&(t=e()),t)}const $s=e=>e,BTe=(e,t)=>r=>t(e(r)),Iy=(...e)=>e.reduce(BTe),_v=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class OO{constructor(){this.subscriptions=[]}add(t){return kO(this.subscriptions,t),()=>NO(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ol=e=>e*1e3,ll=e=>e/1e3;function MK(e,t){return t?e*(1e3/t):0}const FK=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,UTe=1e-7,VTe=12;function zTe(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=FK(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>UTe&&++o<VTe);return s}function Oy(e,t,r,n){if(e===t&&r===n)return $s;const a=i=>zTe(i,0,1,e,r);return i=>i===0||i===1?i:FK(a(i),t,n)}const LK=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$K=e=>t=>1-e(1-t),BK=Oy(.33,1.53,.69,.99),DO=$K(BK),UK=LK(DO),VK=e=>(e*=2)<1?.5*DO(e):.5*(2-Math.pow(2,-10*(e-1))),jO=e=>1-Math.sin(Math.acos(e)),zK=$K(jO),WK=LK(jO),WTe=Oy(.42,0,1,1),HTe=Oy(0,0,.58,1),HK=Oy(.42,0,.58,1),GTe=e=>Array.isArray(e)&&typeof e[0]!="number",GK=e=>Array.isArray(e)&&typeof e[0]=="number",KTe={linear:$s,easeIn:WTe,easeInOut:HK,easeOut:HTe,circIn:jO,circInOut:WK,circOut:zK,backIn:DO,backInOut:UK,backOut:BK,anticipate:VK},qTe=e=>typeof e=="string",XL=e=>{if(GK(e)){PO(e.length===4);const[t,r,n,a]=e;return Oy(t,r,n,a)}else if(qTe(e))return KTe[e];return e},i1=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YTe(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,f=!1,h=!1)=>{const p=h&&a?r:n;return f&&s.add(u),p.has(u)||p.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(l),r.clear(),a=!1,i&&(i=!1,c.process(u))}};return c}const XTe=40;function KK(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=i1.reduce((b,E)=>(b[E]=YTe(i),b),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:m,postRender:p}=s,g=()=>{const b=yc.useManualTiming?a.timestamp:performance.now();r=!1,yc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(b-a.timestamp,XTe),1)),a.timestamp=b,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),m.process(a),p.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(g))},v=()=>{r=!0,n=!0,a.isProcessing||e(g)};return{schedule:i1.reduce((b,E)=>{const k=s[E];return b[E]=(C,S=!1,_=!1)=>(r||v(),k.schedule(C,S,_)),b},{}),cancel:b=>{for(let E=0;E<i1.length;E++)s[i1[E]].cancel(b)},state:a,steps:s}}const{schedule:Br,cancel:Gu,state:va,steps:vT}=KK(typeof requestAnimationFrame<"u"?requestAnimationFrame:$s,!0);let tw;function QTe(){tw=void 0}const Ti={now:()=>(tw===void 0&&Ti.set(va.isProcessing||yc.useManualTiming?va.timestamp:performance.now()),tw),set:e=>{tw=e,queueMicrotask(QTe)}},qK=e=>t=>typeof t=="string"&&t.startsWith(e),RO=qK("--"),JTe=qK("var(--"),MO=e=>JTe(e)?ZTe.test(e.split("/*")[0].trim()):!1,ZTe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cm={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ev={...Cm,transform:e=>vc(0,1,e)},s1={...Cm,default:1},bg=e=>Math.round(e*1e5)/1e5,FO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function eAe(e){return e==null}const tAe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,LO=(e,t)=>r=>!!(typeof r=="string"&&tAe.test(r)&&r.startsWith(e)||t&&!eAe(r)&&Object.prototype.hasOwnProperty.call(r,t)),YK=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(FO);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},rAe=e=>vc(0,255,e),yT={...Cm,transform:e=>Math.round(rAe(e))},Kd={test:LO("rgb","red"),parse:YK("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+yT.transform(e)+", "+yT.transform(t)+", "+yT.transform(r)+", "+bg(Ev.transform(n))+")"};function nAe(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const nk={test:LO("#"),parse:nAe,transform:Kd.transform},Dy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),qc=Dy("deg"),cl=Dy("%"),mt=Dy("px"),aAe=Dy("vh"),iAe=Dy("vw"),QL={...cl,parse:e=>cl.parse(e)/100,transform:e=>cl.transform(e*100)},n0={test:LO("hsl","hue"),parse:YK("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+cl.transform(bg(t))+", "+cl.transform(bg(r))+", "+bg(Ev.transform(n))+")"},An={test:e=>Kd.test(e)||nk.test(e)||n0.test(e),parse:e=>Kd.test(e)?Kd.parse(e):n0.test(e)?n0.parse(e):nk.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Kd.transform(e):n0.transform(e),getAnimatableNone:e=>{const t=An.parse(e);return t.alpha=0,An.transform(t)}},sAe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function oAe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(FO))==null?void 0:t.length)||0)+(((r=e.match(sAe))==null?void 0:r.length)||0)>0}const XK="number",QK="color",lAe="var",cAe="var(",JL="${}",uAe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(uAe,l=>(An.test(l)?(n.color.push(i),a.push(QK),r.push(An.parse(l))):l.startsWith(cAe)?(n.var.push(i),a.push(lAe),r.push(l)):(n.number.push(i),a.push(XK),r.push(parseFloat(l))),++i,JL)).split(JL);return{values:r,split:o,indexes:n,types:a}}function JK(e){return Sv(e).values}function ZK(e){const{split:t,types:r}=Sv(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===XK?i+=bg(a[s]):o===QK?i+=An.transform(a[s]):i+=a[s]}return i}}const dAe=e=>typeof e=="number"?0:An.test(e)?An.getAnimatableNone(e):e;function fAe(e){const t=JK(e);return ZK(e)(t.map(dAe))}const Ku={test:oAe,parse:JK,createTransformer:ZK,getAnimatableNone:fAe};function xT(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hAe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=xT(l,o,e+1/3),i=xT(l,o,e),s=xT(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function _b(e,t){return r=>r>0?t:e}const Hr=(e,t,r)=>e+(t-e)*r,wT=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},mAe=[nk,Kd,n0],pAe=e=>mAe.find(t=>t.test(e));function ZL(e){const t=pAe(e);if(!t)return!1;let r=t.parse(e);return t===n0&&(r=hAe(r)),r}const e6=(e,t)=>{const r=ZL(e),n=ZL(t);if(!r||!n)return _b(e,t);const a={...r};return i=>(a.red=wT(r.red,n.red,i),a.green=wT(r.green,n.green,i),a.blue=wT(r.blue,n.blue,i),a.alpha=Hr(r.alpha,n.alpha,i),Kd.transform(a))},ak=new Set(["none","hidden"]);function gAe(e,t){return ak.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function vAe(e,t){return r=>Hr(e,t,r)}function $O(e){return typeof e=="number"?vAe:typeof e=="string"?MO(e)?_b:An.test(e)?e6:wAe:Array.isArray(e)?eq:typeof e=="object"?An.test(e)?e6:yAe:_b}function eq(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>$O(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function yAe(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=$O(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function xAe(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const wAe=(e,t)=>{const r=Ku.createTransformer(t),n=Sv(e),a=Sv(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?ak.has(e)&&!a.values.length||ak.has(t)&&!n.values.length?gAe(e,t):Iy(eq(xAe(n,a),a.values),r):_b(e,t)};function tq(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Hr(e,t,r):$O(e)(e,t)}const bAe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Br.update(t,r),stop:()=>Gu(t),now:()=>va.isProcessing?va.timestamp:Ti.now()}},rq=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=Math.round(e(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Eb=2e4;function BO(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Eb;)t+=r,n=e.next(t);return t>=Eb?1/0:t}function _Ae(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(BO(n),Eb);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:ll(a)}}const EAe=5;function nq(e,t,r){const n=Math.max(t-EAe,0);return MK(r-e(n),t-n)}const en={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},bT=.001;function SAe({duration:e=en.duration,bounce:t=en.bounce,velocity:r=en.velocity,mass:n=en.mass}){let a,i,s=1-t;s=vc(en.minDamping,en.maxDamping,s),e=vc(en.minDuration,en.maxDuration,ll(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,m=ik(c,s),p=Math.exp(-f);return bT-h/m*p},i=c=>{const f=c*s*e,h=f*r+r,m=Math.pow(s,2)*Math.pow(c,2)*e,p=Math.exp(-f),g=ik(Math.pow(c,2),s);return(-a(c)+bT>0?-1:1)*((h-m)*p)/g}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-bT+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=AAe(a,i,o);if(e=ol(e),isNaN(l))return{stiffness:en.stiffness,damping:en.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const TAe=12;function AAe(e,t,r){let n=r;for(let a=1;a<TAe;a++)n=n-e(n)/t(n);return n}function ik(e,t){return e*Math.sqrt(1-t*t)}const CAe=["duration","bounce"],kAe=["stiffness","damping","mass"];function t6(e,t){return t.some(r=>e[r]!==void 0)}function NAe(e){let t={velocity:en.velocity,stiffness:en.stiffness,damping:en.damping,mass:en.mass,isResolvedFromDuration:!1,...e};if(!t6(e,kAe)&&t6(e,CAe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*vc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:en.mass,stiffness:a,damping:i}}else{const r=SAe(e);t={...t,...r,mass:en.mass},t.isResolvedFromDuration=!0}return t}function Sb(e=en.visualDuration,t=en.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:m}=NAe({...r,velocity:-ll(r.velocity||0)}),p=h||0,g=c/(2*Math.sqrt(l*u)),v=s-i,y=ll(Math.sqrt(l/u)),x=Math.abs(v)<5;n||(n=x?en.restSpeed.granular:en.restSpeed.default),a||(a=x?en.restDelta.granular:en.restDelta.default);let b;if(g<1){const k=ik(y,g);b=C=>{const S=Math.exp(-g*y*C);return s-S*((p+g*y*v)/k*Math.sin(k*C)+v*Math.cos(k*C))}}else if(g===1)b=k=>s-Math.exp(-y*k)*(v+(p+y*v)*k);else{const k=y*Math.sqrt(g*g-1);b=C=>{const S=Math.exp(-g*y*C),_=Math.min(k*C,300);return s-S*((p+g*y*v)*Math.sinh(_)+k*v*Math.cosh(_))/k}}const E={calculatedDuration:m&&f||null,next:k=>{const C=b(k);if(m)o.done=k>=f;else{let S=k===0?p:0;g<1&&(S=k===0?ol(p):nq(b,k,C));const _=Math.abs(S)<=n,T=Math.abs(s-C)<=a;o.done=_&&T}return o.value=o.done?s:C,o},toString:()=>{const k=Math.min(BO(E),Eb),C=rq(S=>E.next(k*S).value,k,30);return k+"ms "+C},toTransition:()=>{}};return E}Sb.applyToOptions=e=>{const t=_Ae(e,100,Sb);return e.ease=t.ease,e.duration=ol(t.duration),e.type="keyframes",e};function sk({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},m=_=>o!==void 0&&_<o||l!==void 0&&_>l,p=_=>o===void 0?l:l===void 0||Math.abs(o-_)<Math.abs(l-_)?o:l;let g=r*t;const v=f+g,y=s===void 0?v:s(v);y!==v&&(g=y-f);const x=_=>-g*Math.exp(-_/n),b=_=>y+x(_),E=_=>{const T=x(_),P=b(_);h.done=Math.abs(T)<=c,h.value=h.done?y:P};let k,C;const S=_=>{m(h.value)&&(k=_,C=Sb({keyframes:[h.value,p(h.value)],velocity:nq(b,_,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:_=>{let T=!1;return!C&&k===void 0&&(T=!0,E(_),S(_)),k!==void 0&&_>=k?C.next(_-k):(!T&&E(_),h)}}}function PAe(e,t,r){const n=[],a=r||yc.mix||tq,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||$s:t;o=Iy(l,o)}n.push(o)}return n}function IAe(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(PO(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=PAe(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=_v(e[f],e[f+1],u);return o[f](h)};return r?u=>c(vc(e[0],e[i-1],u)):c}function OAe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=_v(0,t,n);e.push(Hr(r,1,a))}}function DAe(e){const t=[0];return OAe(t,e.length-1),t}function jAe(e,t){return e.map(r=>r*t)}function RAe(e,t){return e.map(()=>t||HK).splice(0,e.length-1)}function _g({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=GTe(n)?n.map(XL):XL(n),i={done:!1,value:t[0]},s=jAe(r&&r.length===t.length?r:DAe(t),e),o=IAe(s,t,{ease:Array.isArray(a)?a:RAe(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const MAe=e=>e!==null;function UO(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(MAe),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const FAe={decay:sk,inertia:sk,tween:_g,keyframes:_g,spring:Sb};function aq(e){typeof e.type=="string"&&(e.type=FAe[e.type])}class VO{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const LAe=e=>e/100;class zO extends VO{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Ti.now()&&this.tick(Ti.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;aq(t);const{type:r=_g,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||_g;l!==_g&&typeof o[0]!="number"&&(this.mixKeyframes=Iy(LAe,tq(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=BO(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,E=n;if(f){const _=Math.min(this.currentTime,a)/o;let T=Math.floor(_),P=_%1;!P&&_>=1&&(P=1),P===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(h==="reverse"?(P=1-P,m&&(P-=m/o)):h==="mirror"&&(E=s)),b=vc(0,1,P)*o}const k=x?{done:!1,value:u[0]}:E.next(b);i&&(k.value=i(k.value));let{done:C}=k;!x&&l!==null&&(C=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&C);return S&&p!==sk&&(k.value=UO(u,this.options,v,this.speed)),g&&g(k.value),S&&this.finish(),k}then(t,r){return this.finished.then(t,r)}get duration(){return ll(this.calculatedDuration)}get time(){return ll(this.currentTime)}set time(t){var r;t=ol(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Ti.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ll(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=bAe,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ti.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function $Ae(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const qd=e=>e*180/Math.PI,ok=e=>{const t=qd(Math.atan2(e[1],e[0]));return lk(t)},BAe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ok,rotateZ:ok,skewX:e=>qd(Math.atan(e[1])),skewY:e=>qd(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},lk=e=>(e=e%360,e<0&&(e+=360),e),r6=ok,n6=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),a6=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),UAe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:n6,scaleY:a6,scale:e=>(n6(e)+a6(e))/2,rotateX:e=>lk(qd(Math.atan2(e[6],e[5]))),rotateY:e=>lk(qd(Math.atan2(-e[2],e[0]))),rotateZ:r6,rotate:r6,skewX:e=>qd(Math.atan(e[4])),skewY:e=>qd(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ck(e){return e.includes("scale")?1:0}function uk(e,t){if(!e||e==="none")return ck(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=UAe,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=BAe,a=o}if(!a)return ck(t);const i=n[t],s=a[1].split(",").map(zAe);return typeof i=="function"?i(s):s[i]}const VAe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return uk(r,t)};function zAe(e){return parseFloat(e.trim())}const km=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nm=new Set(km),i6=e=>e===Cm||e===mt,WAe=new Set(["x","y","z"]),HAe=km.filter(e=>!WAe.has(e));function GAe(e){const t=[];return HAe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const sf={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>uk(t,"x"),y:(e,{transform:t})=>uk(t,"y")};sf.translateX=sf.x;sf.translateY=sf.y;const of=new Set;let dk=!1,fk=!1,hk=!1;function iq(){if(fk){const e=Array.from(of).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=GAe(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}fk=!1,dk=!1,of.forEach(e=>e.complete(hk)),of.clear()}function sq(){of.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(fk=!0)})}function KAe(){hk=!0,sq(),iq(),hk=!1}class WO{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(of.add(this),dk||(dk=!0,Br.read(sq),Br.resolveKeyframes(iq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}$Ae(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),of.delete(this)}cancel(){this.state==="scheduled"&&(of.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const qAe=e=>e.startsWith("--");function YAe(e,t,r){qAe(t)?e.style.setProperty(t,r):e.style[t]=r}const XAe=IO(()=>window.ScrollTimeline!==void 0),QAe={};function JAe(e,t){const r=IO(e);return()=>QAe[t]??r()}const oq=JAe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hp=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,s6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hp([0,.65,.55,1]),circOut:Hp([.55,0,1,.45]),backIn:Hp([.31,.01,.66,-.59]),backOut:Hp([.33,1.53,.69,.99])};function lq(e,t){if(e)return typeof e=="function"?oq()?rq(e,t):"ease-out":GK(e)?Hp(e):Array.isArray(e)?e.map(r=>lq(r,t)||s6.easeOut):s6[e]}function ZAe(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=lq(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function cq(e){return typeof e=="function"&&"applyToOptions"in e}function eCe({type:e,...t}){return cq(e)&&oq()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class tCe extends VO{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,PO(typeof t.type!="string");const c=eCe(t);this.animation=ZAe(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=UO(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):YAe(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return ll(Number(t))}get time(){return ll(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ol(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&XAe()?(this.animation.timeline=t,$s):r(this)}}const uq={anticipate:VK,backInOut:UK,circInOut:WK};function rCe(e){return e in uq}function nCe(e){typeof e.ease=="string"&&rCe(e.ease)&&(e.ease=uq[e.ease])}const o6=10;class aCe extends tCe{constructor(t){nCe(t),aq(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new zO({...s,autoplay:!1}),l=ol(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-o6).value,o.sample(l).value,o6),o.stop()}}const l6=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ku.test(e)||e==="0")&&!e.startsWith("url("));function iCe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function sCe(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=l6(a,t),o=l6(i,t);return!s||!o?!1:iCe(e)||(r==="spring"||cq(r))&&n}function mk(e){e.duration=0,e.type}const oCe=new Set(["opacity","clipPath","filter","transform"]),lCe=IO(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cCe(e){var u;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return lCe()&&r&&oCe.has(r)&&(r!=="transform"||!c)&&!l&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const uCe=40;class dCe extends VO{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var p;super(),this.stop=()=>{var g,v;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Ti.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},m=(u==null?void 0:u.KeyframeResolver)||WO;this.keyframeResolver=new m(o,(g,v,y)=>this.onKeyframesResolved(g,v,h,!y),l,c,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Ti.now(),sCe(t,i,s,o)||((yc.instantAnimations||!l)&&(u==null||u(UO(t,n,r))),t[0]=t[t.length-1],mk(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>uCe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!c&&cCe(h)?new aCe({...h,element:h.motionValue.owner.current}):new zO(h);m.finished.then(()=>this.notifyFinished()).catch($s),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),KAe()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const fCe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hCe(e){const t=fCe.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function dq(e,t,r=1){const[n,a]=hCe(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return DK(s)?parseFloat(s):s}return MO(a)?dq(a,t,r+1):a}function HO(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const fq=new Set(["width","height","top","left","right","bottom",...km]),mCe={test:e=>e==="auto",parse:e=>e},hq=e=>t=>t.test(e),mq=[Cm,mt,cl,qc,iAe,aAe,mCe],c6=e=>mq.find(hq(e));function pCe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||RK(e):!0}const gCe=new Set(["brightness","contrast","saturate","opacity"]);function vCe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(FO)||[];if(!n)return e;const a=r.replace(n,"");let i=gCe.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const yCe=/\b([a-z-]*)\(.*?\)/gu,pk={...Ku,getAnimatableNone:e=>{const t=e.match(yCe);return t?t.map(vCe).join(" "):e}},u6={...Cm,transform:Math.round},xCe={rotate:qc,rotateX:qc,rotateY:qc,rotateZ:qc,scale:s1,scaleX:s1,scaleY:s1,scaleZ:s1,skew:qc,skewX:qc,skewY:qc,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:Ev,originX:QL,originY:QL,originZ:mt},GO={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,backgroundPositionX:mt,backgroundPositionY:mt,...xCe,zIndex:u6,fillOpacity:Ev,strokeOpacity:Ev,numOctaves:u6},wCe={...GO,color:An,backgroundColor:An,outlineColor:An,fill:An,stroke:An,borderColor:An,borderTopColor:An,borderRightColor:An,borderBottomColor:An,borderLeftColor:An,filter:pk,WebkitFilter:pk},pq=e=>wCe[e];function gq(e,t){let r=pq(e);return r!==pk&&(r=Ku),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const bCe=new Set(["auto","none","0"]);function _Ce(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!bCe.has(i)&&Sv(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=gq(r,a)}class ECe extends WO{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),MO(c))){const u=dq(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!fq.has(n)||t.length!==2)return;const[a,i]=t,s=c6(a),o=c6(i);if(s!==o)if(i6(s)&&i6(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else sf[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||pCe(t[a]))&&n.push(a);n.length&&_Ce(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sf[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=sf[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function SCe(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const vq=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function yq(e){return jK(e)&&"offsetHeight"in e}const d6=30,TCe=e=>!isNaN(parseFloat(e));class ACe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const a=Ti.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Ti.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=TCe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new OO);const n=this.events[t].add(r);return t==="change"?()=>{n(),Br.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>d6)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,d6);return MK(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function G0(e,t){return new ACe(e,t)}const{schedule:KO}=KK(queueMicrotask,!1),co={x:!1,y:!1};function xq(){return co.x||co.y}function CCe(e){return e==="x"||e==="y"?co[e]?null:(co[e]=!0,()=>{co[e]=!1}):co.x||co.y?null:(co.x=co.y=!0,()=>{co.x=co.y=!1})}function wq(e,t){const r=SCe(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function f6(e){return!(e.pointerType==="touch"||xq())}function kCe(e,t,r={}){const[n,a,i]=wq(e,r),s=o=>{if(!f6(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{f6(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const bq=(e,t)=>t?e===t?!0:bq(e,t.parentElement):!1,qO=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,NCe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PCe(e){return NCe.has(e.tagName)||e.tabIndex!==-1}const rw=new WeakSet;function h6(e){return t=>{t.key==="Enter"&&e(t)}}function _T(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const ICe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=h6(()=>{if(rw.has(r))return;_T(r,"down");const a=h6(()=>{_T(r,"up")}),i=()=>_T(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function m6(e){return qO(e)&&!xq()}function OCe(e,t,r={}){const[n,a,i]=wq(e,r),s=o=>{const l=o.currentTarget;if(!m6(o))return;rw.add(l);const c=t(l,o),u=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),rw.has(l)&&rw.delete(l),m6(m)&&typeof c=="function"&&c(m,{success:p})},f=m=>{u(m,l===window||l===document||r.useGlobalTarget||bq(l,m.target))},h=m=>{u(m,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),yq(o)&&(o.addEventListener("focus",c=>ICe(c,a)),!PCe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function _q(e){return jK(e)&&"ownerSVGElement"in e}function DCe(e){return _q(e)&&e.tagName==="svg"}const Va=e=>!!(e&&e.getVelocity),jCe=[...mq,An,Ku],RCe=e=>jCe.find(hq(e)),YO=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class MCe extends A.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=yq(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function FCe({children:e,isPresent:t,anchorX:r,root:n}){const a=A.useId(),i=A.useRef(null),s=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=A.useContext(YO);return A.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:f,right:h}=s.current;if(t||!i.current||!l||!c)return;const m=r==="left"?`left: ${f}`:`right: ${h}`;i.current.dataset.motionPopId=a;const p=document.createElement("style");o&&(p.nonce=o);const g=n??document.head;return g.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${m}px !important;
            top: ${u}px !important;
          }
        `),()=>{g.contains(p)&&g.removeChild(p)}},[t]),d.jsx(MCe,{isPresent:t,childRef:i,sizeRef:s,children:A.cloneElement(e,{ref:i})})}const LCe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o,root:l})=>{const c=AO($Ce),u=A.useId();let f=!0,h=A.useMemo(()=>(f=!1,{id:u,initial:t,isPresent:r,custom:a,onExitComplete:m=>{c.set(m,!0);for(const p of c.values())if(!p)return;n&&n()},register:m=>(c.set(m,!1),()=>c.delete(m))}),[r,c,n]);return i&&f&&(h={...h}),A.useMemo(()=>{c.forEach((m,p)=>c.set(p,!1))},[r]),A.useEffect(()=>{!r&&!c.size&&n&&n()},[r]),s==="popLayout"&&(e=d.jsx(FCe,{isPresent:r,anchorX:o,root:l,children:e})),d.jsx(DE.Provider,{value:h,children:e})};function $Ce(){return new Map}function Eq(e=!0){const t=A.useContext(DE);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=A.useId();A.useEffect(()=>{if(e)return a(i)},[e]);const s=A.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const o1=e=>e.key||"";function p6(e){const t=[];return A.Children.forEach(e,r=>{A.isValidElement(r)&&t.push(r)}),t}const ss=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left",root:l})=>{const[c,u]=Eq(s),f=A.useMemo(()=>p6(e),[e]),h=s&&!c?[]:f.map(o1),m=A.useRef(!0),p=A.useRef(f),g=AO(()=>new Map),[v,y]=A.useState(f),[x,b]=A.useState(f);OK(()=>{m.current=!1,p.current=f;for(let C=0;C<x.length;C++){const S=o1(x[C]);h.includes(S)?g.delete(S):g.get(S)!==!0&&g.set(S,!1)}},[x,h.length,h.join("-")]);const E=[];if(f!==v){let C=[...f];for(let S=0;S<x.length;S++){const _=x[S],T=o1(_);h.includes(T)||(C.splice(S,0,_),E.push(_))}return i==="wait"&&E.length&&(C=E),b(p6(C)),y(f),null}const{forceRender:k}=A.useContext(TO);return d.jsx(d.Fragment,{children:x.map(C=>{const S=o1(C),_=s&&!c?!1:f===x||h.includes(S),T=()=>{if(g.has(S))g.set(S,!0);else return;let P=!0;g.forEach(N=>{N||(P=!1)}),P&&(k==null||k(),b(p.current),s&&(u==null||u()),n&&n())};return d.jsx(LCe,{isPresent:_,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,root:l,onExitComplete:_?void 0:T,anchorX:o,children:C},S)})})},Sq=A.createContext({strict:!1}),g6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},K0={};for(const e in g6)K0[e]={isEnabled:t=>g6[e].some(r=>!!t[r])};function BCe(e){for(const t in e)K0[t]={...K0[t],...e[t]}}const UCe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||UCe.has(e)}let Tq=e=>!Tb(e);function VCe(e){typeof e=="function"&&(Tq=t=>t.startsWith("on")?!Tb(t):e(t))}try{VCe(require("@emotion/is-prop-valid").default)}catch{}function zCe(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Tq(a)||r===!0&&Tb(a)||!t&&!Tb(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const jE=A.createContext({});function RE(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Tv(e){return typeof e=="string"||Array.isArray(e)}const XO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],QO=["initial",...XO];function ME(e){return RE(e.animate)||QO.some(t=>Tv(e[t]))}function Aq(e){return!!(ME(e)||e.variants)}function WCe(e,t){if(ME(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Tv(r)?r:void 0,animate:Tv(n)?n:void 0}}return e.inherit!==!1?t:{}}function HCe(e){const{initial:t,animate:r}=WCe(e,A.useContext(jE));return A.useMemo(()=>({initial:t,animate:r}),[v6(t),v6(r)])}function v6(e){return Array.isArray(e)?e.join(" "):e}const Av={};function GCe(e){for(const t in e)Av[t]=e[t],RO(t)&&(Av[t].isCSSVariable=!0)}function Cq(e,{layout:t,layoutId:r}){return Nm.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Av[e]||e==="opacity")}const KCe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qCe=km.length;function YCe(e,t,r){let n="",a=!0;for(let i=0;i<qCe;i++){const s=km[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=vq(o,GO[s]);if(!l){a=!1;const u=KCe[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function JO(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(Nm.has(l)){s=!0;continue}else if(RO(l)){a[l]=c;continue}else{const u=vq(c,GO[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=YCe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const ZO=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kq(e,t,r){for(const n in t)!Va(t[n])&&!Cq(n,r)&&(e[n]=t[n])}function XCe({transformTemplate:e},t){return A.useMemo(()=>{const r=ZO();return JO(r,t,e),Object.assign({},r.vars,r.style)},[t])}function QCe(e,t){const r=e.style||{},n={};return kq(n,r,e),Object.assign(n,XCe(e,t)),n}function JCe(e,t){const r={},n=QCe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const ZCe={offset:"stroke-dashoffset",array:"stroke-dasharray"},eke={offset:"strokeDashoffset",array:"strokeDasharray"};function tke(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?ZCe:eke;e[i.offset]=mt.transform(-n);const s=mt.transform(t),o=mt.transform(r);e[i.array]=`${s} ${o}`}function Nq(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(JO(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&tke(f,a,i,s,!1)}const Pq=()=>({...ZO(),attrs:{}}),Iq=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rke(e,t,r,n){const a=A.useMemo(()=>{const i=Pq();return Nq(i,t,Iq(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};kq(i,e.style,e),a.style={...i,...a.style}}return a}const nke=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eD(e){return typeof e!="string"||e.includes("-")?!1:!!(nke.indexOf(e)>-1||/[A-Z]/u.test(e))}function ake(e,t,r,{latestValues:n},a,i=!1){const o=(eD(e)?rke:JCe)(t,n,a,e),l=zCe(t,typeof e=="string",i),c=e!==A.Fragment?{...l,...o,ref:r}:{},{children:u}=t,f=A.useMemo(()=>Va(u)?u.get():u,[u]);return A.createElement(e,{...c,children:f})}function y6(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function tD(e,t,r,n){if(typeof t=="function"){const[a,i]=y6(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=y6(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function nw(e){return Va(e)?e.get():e}function ike({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:ske(r,n,a,e),renderState:t()}}function ske(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=nw(i[h]);let{initial:s,animate:o}=e;const l=ME(e),c=Aq(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!RE(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=tD(e,h[m]);if(p){const{transitionEnd:g,transition:v,...y}=p;for(const x in y){let b=y[x];if(Array.isArray(b)){const E=u?b.length-1:0;b=b[E]}b!==null&&(a[x]=b)}for(const x in g)a[x]=g[x]}}}return a}const Oq=e=>(t,r)=>{const n=A.useContext(jE),a=A.useContext(DE),i=()=>ike(e,t,n,a);return r?i():AO(i)};function rD(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(Va(n[s])||t.style&&Va(t.style[s])||Cq(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const oke=Oq({scrapeMotionValuesFromProps:rD,createRenderState:ZO});function Dq(e,t,r){const n=rD(e,t,r);for(const a in e)if(Va(e[a])||Va(t[a])){const i=km.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const lke=Oq({scrapeMotionValuesFromProps:Dq,createRenderState:Pq}),cke=Symbol.for("motionComponentSymbol");function a0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function uke(e,t,r){return A.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):a0(r)&&(r.current=n))},[t])}const nD=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),dke="framerAppearId",jq="data-"+nD(dke),Rq=A.createContext({});function fke(e,t,r,n,a){var g,v;const{visualElement:i}=A.useContext(jE),s=A.useContext(Sq),o=A.useContext(DE),l=A.useContext(YO).reducedMotion,c=A.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=A.useContext(Rq);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&hke(c.current,r,a,f);const h=A.useRef(!1);A.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const m=r[jq],p=A.useRef(!!m&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,m))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,m)));return OK(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),p.current&&u.animationState&&u.animationState.animateChanges())}),A.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),p.current=!1),u.enteringChildren=void 0)}),u}function hke(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Mq(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&a0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function Mq(e){if(e)return e.options.allowProjection!==!1?e.projection:Mq(e.parent)}function ET(e,{forwardMotionProps:t=!1}={},r,n){r&&BCe(r);const a=eD(e)?lke:oke;function i(o,l){let c;const u={...A.useContext(YO),...o,layoutId:mke(o)},{isStatic:f}=u,h=HCe(o),m=a(o,f);if(!f&&CO){pke();const p=gke(u);c=p.MeasureLayout,h.visualElement=fke(e,m,u,n,p.ProjectionNode)}return d.jsxs(jE.Provider,{value:h,children:[c&&h.visualElement?d.jsx(c,{visualElement:h.visualElement,...u}):null,ake(e,o,uke(m,h.visualElement,l),m,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=A.forwardRef(i);return s[cke]=e,s}function mke({layoutId:e}){const t=A.useContext(TO).id;return t&&e!==void 0?t+"-"+e:e}function pke(e,t){A.useContext(Sq).strict}function gke(e){const{drag:t,layout:r}=K0;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function vke(e,t){if(typeof Proxy>"u")return ET;const r=new Map,n=(i,s)=>ET(i,s,e,t),a=(i,s)=>n(i,s);return new Proxy(a,{get:(i,s)=>s==="create"?n:(r.has(s)||r.set(s,ET(s,void 0,e,t)),r.get(s))})}function Fq({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function yke({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function xke(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function ST(e){return e===void 0||e===1}function gk({scale:e,scaleX:t,scaleY:r}){return!ST(e)||!ST(t)||!ST(r)}function Dd(e){return gk(e)||Lq(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Lq(e){return x6(e.x)||x6(e.y)}function x6(e){return e&&e!=="0%"}function Ab(e,t,r){const n=e-r,a=t*n;return r+a}function w6(e,t,r,n,a){return a!==void 0&&(e=Ab(e,a,n)),Ab(e,r,n)+t}function vk(e,t=0,r=1,n,a){e.min=w6(e.min,t,r,n,a),e.max=w6(e.max,t,r,n,a)}function $q(e,{x:t,y:r}){vk(e.x,t.translate,t.scale,t.originPoint),vk(e.y,r.translate,r.scale,r.originPoint)}const b6=.999999999999,_6=1.0000000000001;function wke(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&s0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,$q(e,s)),n&&Dd(i.latestValues)&&s0(e,i.latestValues))}t.x<_6&&t.x>b6&&(t.x=1),t.y<_6&&t.y>b6&&(t.y=1)}function i0(e,t){e.min=e.min+t,e.max=e.max+t}function E6(e,t,r,n,a=.5){const i=Hr(e.min,e.max,a);vk(e,t,r,i,n)}function s0(e,t){E6(e.x,t.x,t.scaleX,t.scale,t.originX),E6(e.y,t.y,t.scaleY,t.scale,t.originY)}function Bq(e,t){return Fq(xke(e.getBoundingClientRect(),t))}function bke(e,t,r){const n=Bq(e,r),{scroll:a}=t;return a&&(i0(n.x,a.offset.x),i0(n.y,a.offset.y)),n}const S6=()=>({translate:0,scale:1,origin:0,originPoint:0}),o0=()=>({x:S6(),y:S6()}),T6=()=>({min:0,max:0}),hn=()=>({x:T6(),y:T6()}),yk={current:null},Uq={current:!1};function _ke(){if(Uq.current=!0,!!CO)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yk.current=e.matches;e.addEventListener("change",t),t()}else yk.current=!1}const Eke=new WeakMap;function Ske(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Va(a))e.addValue(n,a);else if(Va(i))e.addValue(n,G0(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,G0(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const A6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Tke{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=WO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Ti.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Br.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=ME(r),this.isVariantNode=Aq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];l[h]!==void 0&&Va(m)&&m.set(l[h])}}mount(t){var r;this.current=t,Eke.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),Uq.current||_ke(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yk.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Gu(this.notifyUpdate),Gu(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Nm.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Br.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in K0){const r=K0[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<A6.length;n++){const a=A6[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=Ske(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=G0(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(DK(n)||RK(n))?n=parseFloat(n):!RCe(n)&&Ku.test(r)&&(n=gq(t,r)),this.setBaseTarget(t,Va(n)?n.get():n)),Va(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=tD(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Va(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new OO),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){KO.render(this.render)}}class Vq extends Tke{constructor(){super(...arguments),this.KeyframeResolver=ECe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Va(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function zq(e,{style:t,vars:r},n,a){const i=e.style;let s;for(s in t)i[s]=t[s];a==null||a.applyProjectionStyles(i,n);for(s in r)i.setProperty(s,r[s])}function Ake(e){return window.getComputedStyle(e)}class Cke extends Vq{constructor(){super(...arguments),this.type="html",this.renderInstance=zq}readValueFromInstance(t,r){var n;if(Nm.has(r))return(n=this.projection)!=null&&n.isProjecting?ck(r):VAe(t,r);{const a=Ake(t),i=(RO(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Bq(t,r)}build(t,r,n){JO(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return rD(t,r,n)}}const Wq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kke(e,t,r,n){zq(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Wq.has(a)?a:nD(a),t.attrs[a])}class Nke extends Vq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Nm.has(r)){const n=pq(r);return n&&n.default||0}return r=Wq.has(r)?r:nD(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Dq(t,r,n)}build(t,r,n){Nq(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){kke(t,r,n,a)}mount(t){this.isSVGTag=Iq(t.tagName),super.mount(t)}}const Pke=(e,t)=>eD(e)?new Nke(t):new Cke(t,{allowProjection:e!==A.Fragment});function S0(e,t,r){const n=e.getProps();return tD(n,t,r!==void 0?r:n.custom,e)}const xk=e=>Array.isArray(e);function Ike(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,G0(r))}function Oke(e){return xk(e)?e[e.length-1]||0:e}function Dke(e,t){const r=S0(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=Oke(i[s]);Ike(e,s,o)}}function jke(e){return!!(Va(e)&&e.add)}function wk(e,t){const r=e.getValue("willChange");if(jke(r))return r.add(t);if(!r&&yc.WillChange){const n=new yc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Hq(e){return e.props[jq]}const Rke=e=>e!==null;function Mke(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Rke),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[i]}const Fke={type:"spring",stiffness:500,damping:25,restSpeed:10},Lke=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$ke={type:"keyframes",duration:.8},Bke={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Uke=(e,{keyframes:t})=>t.length>2?$ke:Nm.has(e)?e.startsWith("scale")?Lke(t[1]):Fke:Bke;function Vke({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const aD=(e,t,r,n={},a,i)=>s=>{const o=HO(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-ol(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};Vke(o)||Object.assign(u,Uke(e,u)),u.duration&&(u.duration=ol(u.duration)),u.repeatDelay&&(u.repeatDelay=ol(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(mk(u),u.delay===0&&(f=!0)),(yc.instantAnimations||yc.skipAnimations)&&(f=!0,mk(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=Mke(u.keyframes,o);if(h!==void 0){Br.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new zO(u):new dCe(u)};function zke({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Gq(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&zke(c,u))continue;const m={delay:r,...HO(i||{},u)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=Hq(e);if(y){const x=window.MotionHandoffAnimation(y,u,Br);x!==null&&(m.startTime=x,g=!0)}}wk(e,u),f.start(aD(u,f,h,e.shouldReduceMotion&&fq.has(u)?{type:!1}:m,e,g));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{Br.update(()=>{s&&Dke(e,s)})}),l}function Kq(e,t,r,n=0,a=1){const i=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),s=e.size,o=(s-1)*n;return typeof r=="function"?r(i,s):a===1?i*n:o-i*n}function bk(e,t,r={}){var l;const n=S0(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(Gq(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return Wke(e,t,c,u,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function Wke(e,t,r=0,n=0,a=0,i=1,s){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(bk(l,t,{...s,delay:r+(typeof n=="function"?0:n)+Kq(e.variantChildren,l,n,a,i)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function Hke(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>bk(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=bk(e,t,r);else{const a=typeof t=="function"?S0(e,t,r.custom):t;n=Promise.all(Gq(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function qq(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const Gke=QO.length;function Yq(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Yq(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Gke;r++){const n=QO[r],a=e.props[n];(Tv(a)||a===!1)&&(t[n]=a)}return t}const Kke=[...XO].reverse(),qke=XO.length;function Yke(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Hke(e,r,n)))}function Xke(e){let t=Yke(e),r=C6(),n=!0;const a=l=>(c,u)=>{var h;const f=S0(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...g}=f;c={...c,...g,...p}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=Yq(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let v=0;v<qke;v++){const y=Kke[v],x=r[y],b=c[y]!==void 0?c[y]:u[y],E=Tv(b),k=y===l?x.isActive:null;k===!1&&(p=v);let C=b===u[y]&&b!==c[y]&&E;if(C&&n&&e.manuallyAnimateOnMount&&(C=!1),x.protectedKeys={...m},!x.isActive&&k===null||!b&&!x.prevProp||RE(b)||typeof b=="boolean")continue;const S=Qke(x.prevProp,b);let _=S||y===l&&x.isActive&&!C&&E||v>p&&E,T=!1;const P=Array.isArray(b)?b:[b];let N=P.reduce(a(y),{});k===!1&&(N={});const{prevResolvedValues:O={}}=x,D={...O,...N},X=Q=>{_=!0,h.has(Q)&&(T=!0,h.delete(Q)),x.needsAnimating[Q]=!0;const z=e.getValue(Q);z&&(z.liveStyle=!1)};for(const Q in D){const z=N[Q],j=O[Q];if(m.hasOwnProperty(Q))continue;let ce=!1;xk(z)&&xk(j)?ce=!qq(z,j):ce=z!==j,ce?z!=null?X(Q):h.add(Q):z!==void 0&&h.has(Q)?X(Q):x.protectedKeys[Q]=!0}x.prevProp=b,x.prevResolvedValues=N,x.isActive&&(m={...m,...N}),n&&e.blockInitialAnimation&&(_=!1);const te=C&&S;_&&(!te||T)&&f.push(...P.map(Q=>{const z={type:y};if(typeof Q=="string"&&n&&!te&&e.manuallyAnimateOnMount&&e.parent){const{parent:j}=e,ce=S0(j,Q);if(j.enteringChildren&&ce){const{delayChildren:ee}=ce.transition||{};z.delay=Kq(j.enteringChildren,e,ee)}}return{animation:Q,options:z}}))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=S0(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const x=e.getBaseTarget(y),b=e.getValue(y);b&&(b.liveStyle=!0),v[y]=x??null}),f.push({animation:v})}let g=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=C6(),n=!0}}}function Qke(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!qq(t,e):!1}function Ad(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function C6(){return{animate:Ad(!0),whileInView:Ad(),whileHover:Ad(),whileTap:Ad(),whileDrag:Ad(),whileFocus:Ad(),exit:Ad()}}class fd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Jke extends fd{constructor(t){super(t),t.animationState||(t.animationState=Xke(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();RE(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Zke=0;class eNe extends fd{constructor(){super(...arguments),this.id=Zke++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const tNe={animation:{Feature:Jke},exit:{Feature:eNe}};function Cv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function jy(e){return{point:{x:e.pageX,y:e.pageY}}}const rNe=e=>t=>qO(t)&&e(t,jy(t));function Eg(e,t,r,n){return Cv(e,t,rNe(r),n)}const Xq=1e-4,nNe=1-Xq,aNe=1+Xq,Qq=.01,iNe=0-Qq,sNe=0+Qq;function ci(e){return e.max-e.min}function oNe(e,t,r){return Math.abs(e-t)<=r}function k6(e,t,r,n=.5){e.origin=n,e.originPoint=Hr(t.min,t.max,e.origin),e.scale=ci(r)/ci(t),e.translate=Hr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=nNe&&e.scale<=aNe||isNaN(e.scale))&&(e.scale=1),(e.translate>=iNe&&e.translate<=sNe||isNaN(e.translate))&&(e.translate=0)}function Sg(e,t,r,n){k6(e.x,t.x,r.x,n?n.originX:void 0),k6(e.y,t.y,r.y,n?n.originY:void 0)}function N6(e,t,r){e.min=r.min+t.min,e.max=e.min+ci(t)}function lNe(e,t,r){N6(e.x,t.x,r.x),N6(e.y,t.y,r.y)}function P6(e,t,r){e.min=t.min-r.min,e.max=e.min+ci(t)}function Tg(e,t,r){P6(e.x,t.x,r.x),P6(e.y,t.y,r.y)}function Ts(e){return[e("x"),e("y")]}const Jq=({current:e})=>e?e.ownerDocument.defaultView:null,I6=(e,t)=>Math.abs(e-t);function cNe(e,t){const r=I6(e.x,t.x),n=I6(e.y,t.y);return Math.sqrt(r**2+n**2)}class Zq{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=AT(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=cNe(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:g}=h,{timestamp:v}=va;this.history.push({...g,timestamp:v});const{onStart:y,onMove:x}=this.handlers;m||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=TT(m,this.transformPagePoint),Br.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=AT(h.type==="pointercancel"?this.lastMoveEventInfo:TT(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,y),g&&g(h,y)},!qO(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=a||window;const o=jy(t),l=TT(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=va;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,AT(l,this.history)),this.removeListeners=Iy(Eg(this.contextWindow,"pointermove",this.handlePointerMove),Eg(this.contextWindow,"pointerup",this.handlePointerUp),Eg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gu(this.updatePoint)}}function TT(e,t){return t?{point:t(e.point)}:e}function O6(e,t){return{x:e.x-t.x,y:e.y-t.y}}function AT({point:e},t){return{point:e,delta:O6(e,eY(t)),offset:O6(e,uNe(t)),velocity:dNe(t,.1)}}function uNe(e){return e[0]}function eY(e){return e[e.length-1]}function dNe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=eY(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>ol(t)));)r--;if(!n)return{x:0,y:0};const i=ll(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function fNe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Hr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Hr(r,e,n.max):Math.min(e,r)),e}function D6(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function hNe(e,{top:t,left:r,bottom:n,right:a}){return{x:D6(e.x,r,a),y:D6(e.y,t,n)}}function j6(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function mNe(e,t){return{x:j6(e.x,t.x),y:j6(e.y,t.y)}}function pNe(e,t){let r=.5;const n=ci(e),a=ci(t);return a>n?r=_v(t.min,t.max-n,e.min):n>a&&(r=_v(e.min,e.max-a,t.min)),vc(0,1,r)}function gNe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const _k=.35;function vNe(e=_k){return e===!1?e=0:e===!0&&(e=_k),{x:R6(e,"left","right"),y:R6(e,"top","bottom")}}function R6(e,t,r){return{min:M6(e,t),max:M6(e,r)}}function M6(e,t){return typeof e=="number"?e:e[t]||0}const yNe=new WeakMap;class xNe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(jy(f).point)},s=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:g}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=CCe(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ts(y=>{let x=this.getAxisMotionValue(y).get()||0;if(cl.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const E=b.layout.layoutBox[y];E&&(x=ci(E)*(parseFloat(x)/100))}}this.originPoint[y]=x}),g&&Br.postRender(()=>g(f,h)),wk(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:g,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=h;if(p&&this.currentDirection===null){this.currentDirection=wNe(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),v&&v(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Ts(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Zq(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:Jq(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:s}=a;this.startAnimation(s);const{onDragEnd:o}=this.getProps();o&&Br.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!l1(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=fNe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&a0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=hNe(n.layoutBox,t):this.constraints=!1,this.elastic=vNe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ts(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=gNe(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!a0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=bke(n,a.root,this.visualElement.getTransformPagePoint());let s=mNe(a.layout.layoutBox,i);if(r){const o=r(yke(s));this.hasMutatedConstraints=!!o,o&&(s=Fq(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ts(u=>{if(!l1(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,m=a?40:1e7,p={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return wk(this.visualElement,t),n.start(aD(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ts(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ts(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ts(r=>{const{drag:n}=this.getProps();if(!l1(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-Hr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!a0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ts(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=pNe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ts(s=>{if(!l1(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Hr(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;yNe.set(this.visualElement,this);const t=this.visualElement.current,r=Eg(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();a0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Br.read(n);const s=Cv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ts(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=_k,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function l1(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function wNe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class bNe extends fd{constructor(t){super(t),this.removeGroupControls=$s,this.removeListeners=$s,this.controls=new xNe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$s}unmount(){this.removeGroupControls(),this.removeListeners()}}const F6=e=>(t,r)=>{e&&Br.postRender(()=>e(t,r))};class _Ne extends fd{constructor(){super(...arguments),this.removePointerDownListener=$s}onPointerDown(t){this.session=new Zq(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Jq(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:F6(t),onStart:F6(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&Br.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Eg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const aw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function L6(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const wp={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(mt.test(e))e=parseFloat(e);else return e;const r=L6(e,t.target.x),n=L6(e,t.target.y);return`${r}% ${n}%`}},ENe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Ku.parse(e);if(a.length>5)return n;const i=Ku.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=Hr(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};let CT=!1;class SNe extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;GCe(TNe),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),CT&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),aw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,CT=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Br.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),KO.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;CT=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tY(e){const[t,r]=Eq(),n=A.useContext(TO);return d.jsx(SNe,{...e,layoutGroup:n,switchLayoutGroup:A.useContext(Rq),isPresent:t,safeToRemove:r})}const TNe={borderRadius:{...wp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wp,borderTopRightRadius:wp,borderBottomLeftRadius:wp,borderBottomRightRadius:wp,boxShadow:ENe};function ANe(e,t,r){const n=Va(e)?e:G0(e);return n.start(aD("",n,t,r)),n.animation}const CNe=(e,t)=>e.depth-t.depth;class kNe{constructor(){this.children=[],this.isDirty=!1}add(t){kO(this.children,t),this.isDirty=!0}remove(t){NO(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(CNe),this.isDirty=!1,this.children.forEach(t)}}function NNe(e,t){const r=Ti.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Gu(n),e(i-t))};return Br.setup(n,!0),()=>Gu(n)}const rY=["TopLeft","TopRight","BottomLeft","BottomRight"],PNe=rY.length,$6=e=>typeof e=="string"?parseFloat(e):e,B6=e=>typeof e=="number"||mt.test(e);function INe(e,t,r,n,a,i){a?(e.opacity=Hr(0,r.opacity??1,ONe(n)),e.opacityExit=Hr(t.opacity??1,0,DNe(n))):i&&(e.opacity=Hr(t.opacity??1,r.opacity??1,n));for(let s=0;s<PNe;s++){const o=`border${rY[s]}Radius`;let l=U6(t,o),c=U6(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||B6(l)===B6(c)?(e[o]=Math.max(Hr($6(l),$6(c),n),0),(cl.test(c)||cl.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Hr(t.rotate||0,r.rotate||0,n))}function U6(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const ONe=nY(0,.5,zK),DNe=nY(.5,.95,$s);function nY(e,t,r){return n=>n<e?0:n>t?1:r(_v(e,t,n))}function V6(e,t){e.min=t.min,e.max=t.max}function vs(e,t){V6(e.x,t.x),V6(e.y,t.y)}function z6(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function W6(e,t,r,n,a){return e-=t,e=Ab(e,1/r,n),a!==void 0&&(e=Ab(e,1/a,n)),e}function jNe(e,t=0,r=1,n=.5,a,i=e,s=e){if(cl.test(t)&&(t=parseFloat(t),t=Hr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Hr(i.min,i.max,n);e===i&&(o-=t),e.min=W6(e.min,t,r,o,a),e.max=W6(e.max,t,r,o,a)}function H6(e,t,[r,n,a],i,s){jNe(e,t[r],t[n],t[a],t.scale,i,s)}const RNe=["x","scaleX","originX"],MNe=["y","scaleY","originY"];function G6(e,t,r,n){H6(e.x,t,RNe,r?r.x:void 0,n?n.x:void 0),H6(e.y,t,MNe,r?r.y:void 0,n?n.y:void 0)}function K6(e){return e.translate===0&&e.scale===1}function aY(e){return K6(e.x)&&K6(e.y)}function q6(e,t){return e.min===t.min&&e.max===t.max}function FNe(e,t){return q6(e.x,t.x)&&q6(e.y,t.y)}function Y6(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function iY(e,t){return Y6(e.x,t.x)&&Y6(e.y,t.y)}function X6(e){return ci(e.x)/ci(e.y)}function Q6(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class LNe{constructor(){this.members=[]}add(t){kO(this.members,t),t.scheduleRender()}remove(t){if(NO(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $Ne(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:m,skewY:p}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const kT=["","X","Y","Z"],BNe=1e3;let UNe=0;function NT(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function sY(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Hq(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Br,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&sY(n)}function oY({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=UNe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(WNe),this.nodes.forEach(qNe),this.nodes.forEach(YNe),this.nodes.forEach(HNe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new kNe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new OO),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=_q(s)&&!DCe(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u,f=0;const h=()=>this.root.updateBlockedByResize=!1;Br.read(()=>{f=window.innerWidth}),e(s,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,u&&u(),u=NNe(h,250),aw.hasAnimatedSinceResize&&(aw.hasAnimatedSinceResize=!1,this.nodes.forEach(e5)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||c.getDefaultTransition()||ePe,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!iY(this.targetLayout,m),x=!f&&h;if(this.options.layoutRoot||this.resumeFrom||x||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...HO(p,"layout"),onPlay:g,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,x)}else f||e5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XNe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sY(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(J6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Z6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(KNe),this.nodes.forEach(VNe),this.nodes.forEach(zNe)):this.nodes.forEach(Z6),this.clearAllSnapshots();const o=Ti.now();va.delta=vc(0,1e3/60,o-va.timestamp),va.timestamp=o,va.isProcessing=!0,vT.update.process(va),vT.preRender.process(va),vT.render.process(va),va.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,KO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(GNe),this.sharedNodes.forEach(QNe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Br.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Br.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ci(this.snapshot.measuredBox.x)&&!ci(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!aY(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||Dd(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),tPe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return hn();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(rPe))){const{scroll:u}=this.root;u&&(i0(o.x,u.offset.x),i0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=hn();if(vs(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&vs(o,s),i0(o.x,f.offset.x),i0(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=hn();vs(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&s0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Dd(u.latestValues)&&s0(l,u.latestValues)}return Dd(this.latestValues)&&s0(l,this.latestValues),l}removeTransform(s){const o=hn();vs(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Dd(c.latestValues))continue;gk(c.latestValues)&&c.updateSnapshot();const u=hn(),f=c.measurePageBox();vs(u,f),G6(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Dd(this.latestValues)&&G6(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==va.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=va.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Tg(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lNe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vs(this.target,this.layout.layoutBox),$q(this.target,this.targetDelta)):vs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Tg(this.relativeTargetOrigin,this.target,m.target),vs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||gk(this.parent.latestValues)||Lq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===va.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;vs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;wke(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=hn());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(z6(this.prevProjectionDelta.x,this.projectionDelta.x),z6(this.prevProjectionDelta.y,this.projectionDelta.y)),Sg(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Q6(this.projectionDelta.x,this.prevProjectionDelta.x)||!Q6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=o0(),this.projectionDelta=o0(),this.projectionDeltaWithTransform=o0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=o0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=hn(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,g=m!==p,v=this.getStack(),y=!v||v.members.length<=1,x=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(ZNe));this.animationProgress=0;let b;this.mixTargetDelta=E=>{const k=E/1e3;t5(f.x,s.x,k),t5(f.y,s.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JNe(this.relativeTarget,this.relativeTargetOrigin,h,k),b&&FNe(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=hn()),vs(b,this.relativeTarget)),g&&(this.animationValues=u,INe(u,c,this.latestValues,k,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Gu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Br.update(()=>{aw.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=G0(0)),this.currentAnimation=ANe(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(BNe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&lY(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||hn();const f=ci(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=ci(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}vs(o,l),s0(o,u),Sg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new LNe),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&NT("z",s,c,this.animationValues);for(let u=0;u<kT.length;u++)NT(`rotate${kT[u]}`,s,c,this.animationValues),NT(`skew${kT[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}applyProjectionStyles(s,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=nw(o==null?void 0:o.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=nw(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Dd(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=$Ne(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),s.transform=f;const{x:h,y:m}=this.projectionDelta;s.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,c.animationValues?s.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:s.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const p in Av){if(u[p]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:y}=Av[p],x=f==="none"?u[p]:g(u[p],c);if(v){const b=v.length;for(let E=0;E<b;E++)s[v[E]]=x}else y?this.options.visualElement.renderState.vars[p]=x:s[p]=x}this.options.layoutId&&(s.pointerEvents=c===this?nw(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(J6),this.root.sharedNodes.clear()}}}function VNe(e){e.updateLayout()}function zNe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?Ts(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],m=ci(h);h.min=n[f].min,h.max=h.min+m}):lY(i,t.layoutBox,n)&&Ts(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],m=ci(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=o0();Sg(o,n,t.layoutBox);const l=o0();s?Sg(l,e.applyTransform(a,!0),t.measuredBox):Sg(l,n,t.layoutBox);const c=!aY(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=hn();Tg(p,t.layoutBox,h.layoutBox);const g=hn();Tg(g,n,m.layoutBox),iY(p,g)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function WNe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function HNe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function GNe(e){e.clearSnapshot()}function J6(e){e.clearMeasurements()}function Z6(e){e.isLayoutDirty=!1}function KNe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function e5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function qNe(e){e.resolveTargetDelta()}function YNe(e){e.calcProjection()}function XNe(e){e.resetSkewAndRotation()}function QNe(e){e.removeLeadSnapshot()}function t5(e,t,r){e.translate=Hr(t.translate,0,r),e.scale=Hr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function r5(e,t,r,n){e.min=Hr(t.min,r.min,n),e.max=Hr(t.max,r.max,n)}function JNe(e,t,r,n){r5(e.x,t.x,r.x,n),r5(e.y,t.y,r.y,n)}function ZNe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ePe={duration:.45,ease:[.4,0,.1,1]},n5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),a5=n5("applewebkit/")&&!n5("chrome/")?Math.round:$s;function i5(e){e.min=a5(e.min),e.max=a5(e.max)}function tPe(e){i5(e.x),i5(e.y)}function lY(e,t,r){return e==="position"||e==="preserve-aspect"&&!oNe(X6(t),X6(r),.2)}function rPe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const nPe=oY({attachResizeListener:(e,t)=>Cv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),PT={current:void 0},cY=oY({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!PT.current){const e=new nPe({});e.mount(window),e.setOptions({layoutScroll:!0}),PT.current=e}return PT.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),aPe={pan:{Feature:_Ne},drag:{Feature:bNe,ProjectionNode:cY,MeasureLayout:tY}};function s5(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Br.postRender(()=>i(t,jy(t)))}class iPe extends fd{mount(){const{current:t}=this.node;t&&(this.unmount=kCe(t,(r,n)=>(s5(this.node,n,"Start"),a=>s5(this.node,a,"End"))))}unmount(){}}class sPe extends fd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Iy(Cv(this.node.current,"focus",()=>this.onFocus()),Cv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function o5(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Br.postRender(()=>i(t,jy(t)))}class oPe extends fd{mount(){const{current:t}=this.node;t&&(this.unmount=OCe(t,(r,n)=>(o5(this.node,n,"Start"),(a,{success:i})=>o5(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ek=new WeakMap,IT=new WeakMap,lPe=e=>{const t=Ek.get(e.target);t&&t(e)},cPe=e=>{e.forEach(lPe)};function uPe({root:e,...t}){const r=e||document;IT.has(r)||IT.set(r,{});const n=IT.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(cPe,{root:e,...t})),n[a]}function dPe(e,t,r){const n=uPe(t);return Ek.set(e,r),n.observe(e),()=>{Ek.delete(e),n.unobserve(e)}}const fPe={some:0,all:1};class hPe extends fd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:fPe[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return dPe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(mPe(t,r))&&this.startObserver()}unmount(){}}function mPe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const pPe={inView:{Feature:hPe},tap:{Feature:oPe},focus:{Feature:sPe},hover:{Feature:iPe}},gPe={layout:{ProjectionNode:cY,MeasureLayout:tY}},vPe={...tNe,...pPe,...aPe,...gPe},Ne=vke(vPe,Pke),yPe=["roberto@mistatas.com"],xPe=e=>e!=null&&e.email?e.email.includes("admin")||e.role==="admin"||yPe.includes(e.email):!1;let OT=!1;const wPe=async e=>{var r;if(console.log(" INICIANDO INICIALIZACIN DEL STORE:",{userId:e,initialized:OT}),OT){console.log(" Store ya inicializado, saltando...");return}const t=bb.getState();console.log(" Estado inicial del store:",{beneficiariesCount:((r=t.beneficiaries)==null?void 0:r.length)||0,shouldReload:t.shouldReload,stats:t.stats});try{const n=t.beneficiaries&&t.beneficiaries.length>0;if(console.log(" Hay datos persistidos?",n),!n)console.log(" Cargando beneficiarios desde Firebase..."),await t.loadBeneficiaries(e);else{console.log(" Usando datos persistidos del store...");const a=t.calculateStats(t.beneficiaries);bb.setState({stats:a}),console.log(" Estadsticas actualizadas:",a)}OT=!0,console.log(" Store inicializado correctamente")}catch(n){console.error(" Error inicializando store de beneficiarios:",n);try{console.log(" Intentando recarga forzada..."),await t.forceReload(e)}catch(a){console.error(" Error en reintento de carga:",a)}}},bPe=(e,t,r)=>{console.log(" === DEBUGGING BENEFICIARY MATCH ==="),console.log(" Buscando beneficiario:",e);const n=t.find(l=>l.nombre&&l.nombre.toLowerCase().includes(e.toLowerCase()));if(!n){console.log(" Beneficiario no encontrado en la lista de beneficiarios");return}console.log(" Beneficiario encontrado:",{nombre:n.nombre,fono:n.fono,sim:n.sim,appSim:n.appSim});const a=Qo(n.nombre),i=[Cn(n.fono),Cn(n.sim),Cn(n.appSim)].filter(Boolean);console.log(" Datos normalizados del beneficiario:",{nombre:a,telefonos:i}),console.log(" Buscando en",r.length,"asignaciones...");let s=!1,o=!1;return r.forEach((l,c)=>{const u=Qo(l.beneficiary||l.nombre||l.beneficiario||""),f=[Cn(l.phone||l.primaryPhone||l.telefono||l.fono||""),Cn(l.sim||""),Cn(l.appSim||"")].filter(Boolean),h=kK(a,u);h&&(console.log(` COINCIDENCIA POR NOMBRE encontrada en asignacin ${c+1}:`),console.log("   - Beneficiario:",n.nombre,"",a),console.log("   - Asignacin:",l.beneficiary||l.nombre,"",u),s=!0);const m=i.some(p=>f.some(g=>g===p));m&&(console.log(` COINCIDENCIA POR TELFONO encontrada en asignacin ${c+1}:`),console.log("   - Beneficiario telfonos:",i),console.log("   - Asignacin telfonos:",f),o=!0),c<3&&console.log(` Asignacin ${c+1}:`,{original:{beneficiary:l.beneficiary,phone:l.phone},normalizado:{nombre:u,telefonos:f},coincidencia:{nombre:h,telefono:m}})}),console.log(" RESULTADO FINAL:"),console.log("   - Encontrado por nombre:",s),console.log("   - Encontrado por telfono:",o),console.log("   - Debera estar asignado:",s||o),console.log(" === FIN DEBUGGING ==="),{found:s||o,foundByName:s,foundByPhone:o,beneficiary:n,targetName:a,targetPhones:i}},_Pe=({onUploadComplete:e,onUploadError:t,isUploading:r=!1,className:n=""})=>{const[a,i]=A.useState(!1),[s,o]=A.useState(""),[l,c]=A.useState(0),[u,f]=A.useState(null),[h,m]=A.useState(!1),p=A.useRef(null),g=C=>{C.preventDefault(),C.stopPropagation(),C.type==="dragenter"||C.type==="dragover"?i(!0):C.type==="dragleave"&&i(!1)},v=C=>{C.preventDefault(),C.stopPropagation(),i(!1),C.dataTransfer.files&&C.dataTransfer.files[0]&&x(C.dataTransfer.files[0])},y=C=>{C.preventDefault(),C.target.files&&C.target.files[0]&&x(C.target.files[0])},x=async C=>{if(!["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel",".xlsx",".xls"].some(T=>C.type===T||C.name.toLowerCase().endsWith(T))){t("Por favor selecciona un archivo Excel vlido (.xlsx o .xls)");return}if(C.size>10*1024*1024){t("El archivo es demasiado grande. Mximo 10MB permitido.");return}o(C.name);try{const T=await b(C);f(T),m(!0)}catch(T){t(`Error al procesar el archivo: ${T.message}`)}},b=C=>new Promise((S,_)=>{const T=new FileReader;T.onload=P=>{try{const N=new Uint8Array(P.target.result),O=uv(N,{type:"array"}),D=O.SheetNames[0],X=O.Sheets[D],te=x0.sheet_to_json(X,{header:1,defval:""});if(te.length<2){_(new Error("El archivo debe contener al menos una fila de datos adems del encabezado"));return}const ne=te[0],z=te.slice(1).filter(j=>j.some(ce=>ce&&ce.toString().trim()!=="")).map((j,ce)=>({Nombre:j[0]||"",Fono:j[1]||"",Sim:j[2]||"",Direccion:j[3]||"","App Sim":j[4]||"",_rowIndex:ce+2}));if(z.length===0){_(new Error("No se encontraron datos vlidos en el archivo"));return}S({headers:ne,data:z,totalRows:z.length})}catch(N){_(new Error(`Error al leer el archivo Excel: ${N.message}`))}},T.onerror=()=>{_(new Error("Error al leer el archivo"))},T.readAsArrayBuffer(C)}),E=()=>{u&&e&&(e(u.data,{fileName:s,totalRows:u.totalRows,onProgress:c}),m(!1),f(null),o(""),p.current&&(p.current.value=""))},k=()=>{m(!1),f(null),o(""),c(0),p.current&&(p.current.value="")};return d.jsxs("div",{className:`space-y-4 ${n}`,children:[d.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`relative border-2 border-dashed rounded-lg p-6 transition-colors ${a?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"} ${r?"pointer-events-none opacity-50":""}`,onDragEnter:g,onDragLeave:g,onDragOver:g,onDrop:v,children:[d.jsx("input",{ref:p,type:"file",accept:".xlsx,.xls",onChange:y,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:r}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",children:r?d.jsx(ose,{className:"h-12 w-12 animate-spin"}):d.jsx(Yg,{className:"h-12 w-12"})}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:r?"Procesando archivo...":a?"Suelta el archivo aqu":"Arrastra tu archivo Excel aqu"}),d.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r?`Progreso: ${l}%`:"o haz clic para seleccionar un archivo (.xlsx, .xls)"}),s&&!r&&d.jsxs("div",{className:"flex items-center justify-center space-x-2 text-sm text-blue-600 dark:text-blue-400",children:[d.jsx(qie,{className:"h-4 w-4"}),d.jsx("span",{children:s})]})]})]}),r&&l>0&&d.jsx(Ne.div,{className:"mt-4",initial:{opacity:0},animate:{opacity:1},children:d.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:d.jsx(Ne.div,{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${l}%`},initial:{width:0},animate:{width:`${l}%`}})})})]}),d.jsxs(Ne.div,{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[d.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"Formato esperado del Excel:"}),d.jsxs("div",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Columna A:"})," Nombre del beneficiario"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna B:"})," Fono (telfono principal)"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna C:"})," Sim (telfono secundario)"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna D:"})," Direccin"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna E:"})," App Sim (otro nmero de contacto)"]})]}),d.jsx("div",{className:"mt-2 text-xs text-blue-600 dark:text-blue-300",children:'Nota: Los nmeros "000000000" sern ignorados automticamente'})]}),h&&u&&d.jsx(Ne.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",initial:{opacity:0},animate:{opacity:1},children:d.jsxs(Ne.div,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Vista previa del archivo"}),d.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[u.totalRows," beneficiarios encontrados"]})]}),d.jsx("button",{onClick:k,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:d.jsx(dc,{className:"h-5 w-5"})})]}),d.jsx("div",{className:"p-6 overflow-y-auto max-h-96",children:d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[d.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nombre"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Fono"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sim"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Direccin"}),d.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"App Sim"})]})}),d.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:u.data.slice(0,10).map((C,S)=>d.jsxs("tr",{className:S%2===0?"bg-white dark:bg-gray-800":"bg-gray-50 dark:bg-gray-700",children:[d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:C.Nombre||"N/A"}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:C.Fono||"N/A"}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:C.Sim||"N/A"}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100 max-w-xs truncate",children:C.Direccion||"N/A"}),d.jsx("td",{className:"px-4 py-2 text-sm text-gray-900 dark:text-gray-100",children:C["App Sim"]||"N/A"})]},S))})]}),u.data.length>10&&d.jsxs("div",{className:"text-center py-4 text-sm text-gray-500 dark:text-gray-400",children:["... y ",u.data.length-10," filas ms"]})]})}),d.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[d.jsx("button",{onClick:k,className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Cancelar"}),d.jsxs("button",{onClick:E,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 flex items-center space-x-2",children:[d.jsx(Vr,{className:"h-4 w-4"}),d.jsxs("span",{children:["Confirmar y cargar ",u.totalRows," beneficiarios"]})]})]})]})})]})},EPe=({beneficiaries:e=[],searchTerm:t="",onSearchChange:r,onEdit:n,onDelete:a,isLoading:i=!1,className:s=""})=>{const[o,l]=A.useState("all"),[c,u]=A.useState("name"),[f,h]=A.useState("asc"),m=A.useMemo(()=>{let x=[...e];switch(o){case"with-phone":x=x.filter(b=>b.telefonosValidos&&b.telefonosValidos.length>0);break;case"without-phone":x=x.filter(b=>!b.telefonosValidos||b.telefonosValidos.length===0);break;case"incomplete":x=x.filter(b=>!b.nombre||!b.direccion||!b.telefonosValidos||b.telefonosValidos.length===0);break}if(t&&t.trim()!==""){const b=t.toLowerCase().trim();x=x.filter(E=>E.nombre&&E.nombre.toLowerCase().includes(b)||E.direccion&&E.direccion.toLowerCase().includes(b)||E.fono&&E.fono.includes(b)||E.sim&&E.sim.includes(b)||E.appSim&&E.appSim.includes(b))}return x.sort((b,E)=>{var C,S,_,T,P,N;let k=0;switch(c){case"name":k=(b.nombre||"").localeCompare(E.nombre||"");break;case"date":const O=((S=(C=b.creadoEn)==null?void 0:C.toDate)==null?void 0:S.call(C))||new Date(0),D=((T=(_=E.creadoEn)==null?void 0:_.toDate)==null?void 0:T.call(_))||new Date(0);k=O-D;break;case"phone-count":const X=((P=b.telefonosValidos)==null?void 0:P.length)||0,te=((N=E.telefonosValidos)==null?void 0:N.length)||0;k=X-te;break}return f==="desc"?-k:k}),x},[e,t,o,c,f]),p=x=>{var b;return((b=x.telefonosValidos)==null?void 0:b.length)||0},g=x=>{if(!x)return"N/A";try{return(x.toDate?x.toDate():new Date(x)).toLocaleDateString("es-CL",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"N/A"}},v=x=>{const b=p(x);return!x.nombre||!x.direccion?"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20":b===0?"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20":"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20"},y=x=>{const b=p(x);return!x.nombre||!x.direccion?d.jsx(li,{className:"h-4 w-4 text-red-500"}):b===0?d.jsx(li,{className:"h-4 w-4 text-yellow-500"}):d.jsx(oa,{className:"h-4 w-4 text-green-500"})};return d.jsxs("div",{className:`space-y-6 ${s}`,children:[d.jsxs(Ne.div,{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsxs("div",{className:"relative",children:[d.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar por nombre, direccin o telfono...",value:t,onChange:x=>r==null?void 0:r(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsxs("select",{value:o,onChange:x=>l(x.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"all",children:"Todos"}),d.jsx("option",{value:"with-phone",children:"Con telfono"}),d.jsx("option",{value:"without-phone",children:"Sin telfono"}),d.jsx("option",{value:"incomplete",children:"Datos incompletos"})]}),d.jsxs("select",{value:`${c}-${f}`,onChange:x=>{const[b,E]=x.target.value.split("-");u(b),h(E)},className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[d.jsx("option",{value:"name-asc",children:"Nombre A-Z"}),d.jsx("option",{value:"name-desc",children:"Nombre Z-A"}),d.jsx("option",{value:"date-desc",children:"Ms reciente"}),d.jsx("option",{value:"date-asc",children:"Ms antiguo"}),d.jsx("option",{value:"phone-count-desc",children:"Ms telfonos"}),d.jsx("option",{value:"phone-count-asc",children:"Menos telfonos"})]})]})]}),d.jsxs("div",{className:"mt-4 flex flex-wrap gap-4 text-sm text-gray-600 dark:text-gray-400",children:[d.jsxs("span",{children:["Total: ",e.length]}),d.jsxs("span",{children:["Mostrados: ",m.length]}),d.jsxs("span",{children:["Con telfono: ",e.filter(x=>p(x)>0).length]}),d.jsxs("span",{children:["Sin telfono: ",e.filter(x=>p(x)===0).length]})]})]}),d.jsx("div",{className:"space-y-3",children:d.jsx(ss,{children:i?d.jsxs(Ne.div,{className:"text-center py-12",initial:{opacity:0},animate:{opacity:1},children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Cargando beneficiarios..."})]}):m.length===0?d.jsxs(Ne.div,{className:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",initial:{opacity:0},animate:{opacity:1},children:[d.jsx(oa,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No se encontraron beneficiarios"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:t?"Intenta con otros trminos de bsqueda o ajusta los filtros":"An no hay beneficiarios cargados"})]}):m.map((x,b)=>d.jsx(Ne.div,{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border-l-4 p-4 hover:shadow-md transition-shadow ${v(x)}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:b*.05},layout:!0,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[y(x),d.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:x.nombre||"Nombre no disponible"})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[d.jsx(i7,{className:"h-4 w-4"}),d.jsx("span",{className:"text-sm",children:x.direccion||"Direccin no disponible"})]}),d.jsxs("div",{className:"space-y-1",children:[x.fono&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[d.jsx(Lr,{className:"h-4 w-4"}),d.jsxs("span",{className:"text-sm",children:["Fono: ",x.fono]})]}),x.sim&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[d.jsx(Lr,{className:"h-4 w-4"}),d.jsxs("span",{className:"text-sm",children:["Sim: ",x.sim]})]}),x.appSim&&d.jsxs("div",{className:"flex items-center space-x-2 text-gray-600 dark:text-gray-400",children:[d.jsx(Lr,{className:"h-4 w-4"}),d.jsxs("span",{className:"text-sm",children:["App Sim: ",x.appSim]})]}),p(x)===0&&d.jsx("div",{className:"text-sm text-yellow-600 dark:text-yellow-400",children:"Sin telfonos vlidos"})]}),d.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Creado: ",g(x.creadoEn),"  Telfonos vlidos: ",p(x)]})]}),d.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[d.jsx("button",{onClick:()=>n==null?void 0:n(x),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",title:"Editar beneficiario",children:d.jsx(MP,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>a==null?void 0:a(x),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",title:"Eliminar beneficiario",children:d.jsx(tl,{className:"h-4 w-4"})})]})]})},x.id))})}),m.length>50&&d.jsx(Ne.div,{className:"text-center py-4",initial:{opacity:0},animate:{opacity:1},children:d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mostrando los primeros 50 resultados. Usa los filtros para refinar la bsqueda."})})]})},SPe=({beneficiaries:e=[],assignments:t=[],onAssignOperator:r,className:n=""})=>{const[a,i]=A.useState([]),[s,o]=A.useState(!1),[l,c]=A.useState(""),[u,f]=A.useState(!0);A.useEffect(()=>{const g=()=>{if(f(!0),console.log(" UnassignedBeneficiaries - Calculando sin asignar:",{beneficiaries:e.length,assignments:t.length}),t.length===0){console.log(" No hay asignaciones, todos los beneficiarios aparecen como sin asignar"),i(e),f(!1);return}const v=t.map(x=>({nombre:x.beneficiary||x.nombre||x.beneficiario,telefono:x.phone||x.primaryPhone||x.telefono||x.fono,teleoperadora:x.operator||x.operatorName||x.teleoperadora||x.operador})).filter(x=>x.nombre&&x.teleoperadora);console.log(" Asignaciones procesadas:",{total:v.length,muestra:v.slice(0,3).map(x=>({nombre:x.nombre,teleoperadora:x.teleoperadora}))});const y=e.filter(x=>!rk(x,v));console.log(" Resultado del clculo:",{totalBeneficiarios:e.length,asignados:v.length,sinAsignar:y.length}),i(y),f(!1)};e.length>0?g():f(!1)},[e,t]);const h=a.filter(g=>{if(!l.trim())return!0;const v=l.toLowerCase();return g.nombre&&g.nombre.toLowerCase().includes(v)||g.direccion&&g.direccion.toLowerCase().includes(v)||g.fono&&g.fono.includes(v)||g.sim&&g.sim.includes(v)||g.appSim&&g.appSim.includes(v)}),m=g=>[g.fono,g.sim,g.appSim].filter(v=>v&&v!=="000000000").join(", ")||"Sin telfonos vlidos",p=()=>{const g=[["BENEFICIARIOS SIN ASIGNAR"],[],[`Generado el: ${new Date().toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})}`],[`Total de beneficiarios sin asignar: ${h.length}`],[],["#","Nombre","Direccin","Telfono Principal","SIM","App SIM","Fecha Registro"],...h.map((C,S)=>[S+1,C.nombre||"Sin nombre",C.direccion||"Sin direccin",C.fono||"",C.sim||"",C.appSim||"",C.creadoEn?new Date(C.creadoEn).toLocaleDateString("es-ES"):"Sin fecha"])],v=x0.aoa_to_sheet(g),y=x0.book_new(),x=[{wch:5},{wch:30},{wch:40},{wch:15},{wch:15},{wch:15},{wch:15}];v["!cols"]=x,v["!merges"]||(v["!merges"]=[]),v["!merges"].push({s:{r:0,c:0},e:{r:0,c:6}});const b="A1";v[b]&&(v[b].s={font:{bold:!0,sz:16},alignment:{horizontal:"center"}}),["A7","B7","C7","D7","E7","F7","G7"].forEach(C=>{v[C]&&(v[C].s={font:{bold:!0,color:{rgb:"FFFFFF"}},fill:{fgColor:{rgb:"3B82F6"}}})}),x0.book_append_sheet(y,v,"Beneficiarios Sin Asignar");const k=`beneficiarios-sin-asignar-${new Date().toISOString().split("T")[0]}.xlsx`;zve(y,k)};return u?d.jsx("div",{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 ${n}`,children:d.jsxs("div",{className:"p-6 text-center",children:[d.jsx("div",{className:"inline-block animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Analizando asignaciones..."})]})}):d.jsxs(Ne.div,{className:`bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden ${n}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[d.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",onClick:()=>o(!s),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${a.length>0?"bg-yellow-100 dark:bg-yellow-900/20":"bg-green-100 dark:bg-green-900/20"}`,children:a.length>0?d.jsx(Kse,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"}):d.jsx(mn,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Beneficiarios sin asignar"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.length===0?"Todos los beneficiarios tienen teleoperadora asignada":`${a.length} beneficiarios sin teleoperadora`})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[a.length>0&&d.jsxs("button",{onClick:g=>{g.stopPropagation(),p()},className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors",title:"Exportar listado a Excel",children:[d.jsx(ag,{className:"h-4 w-4 mr-1"}),"Exportar Excel"]}),a.length>0&&d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400",children:a.length}),s?d.jsx(r7,{className:"h-5 w-5 text-gray-400"}):d.jsx(t7,{className:"h-5 w-5 text-gray-400"})]})]})}),d.jsx(ss,{children:s&&d.jsx(Ne.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:a.length===0?d.jsxs("div",{className:"p-6 text-center",children:[d.jsx(mn,{className:"mx-auto h-12 w-12 text-green-400 mb-4"}),d.jsx("h4",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Excelente!"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Todos los beneficiarios de la base tienen una teleoperadora asignada."})]}):d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar beneficiarios sin asignar...",value:l,onChange:g=>c(g.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),d.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-3",children:d.jsxs("div",{className:"flex items-start space-x-2",children:[d.jsx(li,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),d.jsxs("div",{className:"text-sm",children:[d.jsx("p",{className:"text-yellow-800 dark:text-yellow-200 font-medium",children:"Beneficiarios sin teleoperadora asignada"}),d.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 mt-1",children:"Estos beneficiarios estn en la base pero no aparecen en el mdulo de Asignaciones. Es recomendable asignarles una teleoperadora para garantizar el seguimiento."})]})]})}),d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:h.length===0?d.jsxs("div",{className:"text-center py-6",children:[d.jsx(oi,{className:"mx-auto h-8 w-8 text-gray-400 mb-2"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No se encontraron beneficiarios con ese criterio de bsqueda"})]}):h.map((g,v)=>{var y;return d.jsx(Ne.div,{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-3 border border-gray-200 dark:border-gray-600",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:v*.05},children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1 space-y-2",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:g.nombre}),d.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",g.direccion]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[d.jsx(Lr,{className:"h-4 w-4"}),d.jsx("span",{children:m(g)})]}),d.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[((y=g.telefonosValidos)==null?void 0:y.length)||0," telfonos vlidos"]})]}),d.jsx("button",{onClick:()=>r==null?void 0:r(g),className:"ml-3 px-3 py-1.5 text-xs font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md hover:bg-blue-200 dark:hover:bg-blue-900/40 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Asignar"})]})},g.id)})}),d.jsx("div",{className:"text-center pt-3 border-t border-gray-200 dark:border-gray-700",children:d.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h.length," de ",a.length," beneficiarios mostrados"]})})]})})})]})},TPe=()=>{const{user:e}=ds(),[t,r]=A.useState("dashboard"),[n,a]=A.useState(!1),[i,s]=A.useState(null),{beneficiaries:o,stats:l,isLoading:c,isUploading:u,uploadProgress:f,searchTerm:h,setSearchTerm:m,setBeneficiaries:p,loadBeneficiaries:g,forceReload:v,uploadBeneficiaries:y,updateBeneficiaryData:x,deleteBeneficiaryData:b,findUnassignedBeneficiaries:E,validateAssignmentConsistency:k,getFilteredBeneficiaries:C}=bb(),{operatorAssignments:S,getAllAssignments:_}=Rn();A.useEffect(()=>{(async()=>{if(e!=null&&e.uid)try{await wPe(e.uid)}catch(j){console.error("Error inicializando store:",j),T(" Error cargando beneficiarios","error")}})()},[e]),A.useEffect(()=>{o.length>0&&!c&&console.log(" Beneficiarios Base cargados:",{total:o.length,stats:l})},[o,l,c]),A.useEffect(()=>{if(o.length>0){const z=_();console.log(" Actualizando estadsticas con asignaciones:",z.length);const j=E(z);console.log(" Beneficiarios sin asignar encontrados:",j.length)}},[S,o,E,_]);const T=(z,j="info")=>{s({message:z,type:j}),setTimeout(()=>s(null),5e3)},P=async()=>{try{console.log(" Sincronizando con mdulo de asignaciones...");const z=_();if(console.log(" Asignaciones obtenidas:",z),z.length===0){T(" No se encontraron asignaciones para sincronizar","warning");return}const j=E(z);T(` Sincronizacin completada. ${z.length} asignaciones procesadas, ${j.length} beneficiarios sin asignar`,"success")}catch(z){console.error("Error en sincronizacin:",z),T(" Error al sincronizar con asignaciones","error")}},N=()=>{const z=prompt('Ingresa el nombre del beneficiario a debuggear (ej: "Mariana Apolonia Gonzalez Gonzalez"):');if(!z)return;const j=_();console.log(" DEBUG ESPECFICO:",z),console.log(" Total asignaciones disponibles:",j.length),console.log(" Muestra de asignaciones:",j.slice(0,5));const ce=o.find(H=>{var U;return(U=H.nombre)==null?void 0:U.toLowerCase().includes(z.toLowerCase())});console.log(" Beneficiario encontrado en base:",ce);const ee=j.find(H=>{var U;return(U=H.beneficiary)==null?void 0:U.toLowerCase().includes(z.toLowerCase())});console.log(" Asignacin encontrada:",ee);const M=bPe(z,o,j);T(M.found?` ${z} est asignado a ${M.operator}`:` ${z} NO est asignado`,M.found?"success":"error")},O=()=>{console.group(" DIAGNSTICO COMPLETO - MDULO BENEFICIARIOS BASE");const z=_(),j=E(z);console.log(" RESUMEN GENERAL:"),console.log("- Total beneficiarios:",o.length),console.log("- Total asignaciones:",z.length),console.log("- Beneficiarios sin asignar:",j.length),console.log("- Diferencia esperada:",o.length-z.length),console.log(" FORMATO DE ASIGNACIONES (primeras 3):"),z.slice(0,3).forEach((M,H)=>{console.log(`${H+1}.`,{beneficiary:M.beneficiary,operator:M.operator,operatorName:M.operatorName,phone:M.phone})}),console.log(" FORMATO DE BENEFICIARIOS (primeros 3):"),o.slice(0,3).forEach((M,H)=>{console.log(`${H+1}.`,{nombre:M.nombre,fono:M.fono,sim:M.sim})});const ce=o.find(M=>{var H;return(H=M.nombre)==null?void 0:H.toLowerCase().includes("mariana apolonia")}),ee=z.find(M=>{var H;return(H=M.beneficiary)==null?void 0:H.toLowerCase().includes("mariana apolonia")});console.log(" CASO ESPECFICO - Mariana Apolonia:"),console.log("- En beneficiarios:",ce?"S":"NO"),console.log("- En asignaciones:",ee?"S":"NO"),ce&&console.log(" Datos de Mariana en beneficiarios:",ce),ee&&console.log(" Datos de Mariana en asignaciones:",ee),console.groupEnd(),T(` Diagnstico completado. Ver consola para detalles. ${z.length} asignaciones, ${j.length} sin asignar`,"info")},D=async(z,j)=>{try{console.log(" UPLOAD EXCEL - Iniciando..."),console.log(` Registros en Excel: ${z.length}`);const{beneficiaryService:ce}=await ts(async()=>{const{beneficiaryService:M}=await Promise.resolve().then(()=>PTe);return{beneficiaryService:M}},void 0),ee=await ce.uploadBeneficiaries(z,e.uid,M=>{console.log(" Progreso:",M),j!=null&&j.onProgress&&j.onProgress(M.processed||0)},!0);if(ee.success){p(ee.data);const M=ee.replacedPrevious?` Base de datos REEMPLAZADA: ${ee.successful} beneficiarios cargados`:` Se cargaron ${ee.successful} beneficiarios correctamente`,H=ee.errors>0?` (${ee.errors} errores encontrados)`:"";T(M+H,"success"),console.log(" UPLOAD COMPLETADO:",ee),a(!1)}else throw new Error(ee.message||"Error durante la carga")}catch(ce){console.error(" Error en upload:",ce),T(` Error: ${ce.message}`,"error")}},X=z=>{console.log("Editar beneficiario:",z)},te=async z=>{if(window.confirm(`Ests seguro de eliminar a ${z.nombre}?`))try{await b(z.id)?T(` ${z.nombre} eliminado correctamente`,"success"):T(" Error al eliminar beneficiario","error")}catch(j){T(` Error: ${j.message}`,"error")}},ne=z=>{console.log("Asignar teleoperadora a:",z),T(`TODO: Implementar asignacin para ${z.nombre}`,"info")},Q=C();return d.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[i&&d.jsx(Ne.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg max-w-md ${i.type==="success"?"bg-green-500 text-white":i.type==="error"?"bg-red-500 text-white":i.type==="warning"?"bg-yellow-500 text-white":"bg-blue-500 text-white"}`,children:i.message}),d.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[d.jsxs("div",{className:"flex justify-between items-center py-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Kg,{className:"h-8 w-8 text-blue-600 dark:text-blue-400"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:"Beneficiarios Base"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Gestin centralizada de beneficiarios y validacin con asignaciones"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("button",{onClick:P,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(s7,{className:"h-4 w-4"}),d.jsx("span",{children:"Sincronizar con Asignaciones"})]}),d.jsxs("button",{onClick:O,className:"flex items-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:[d.jsx(Cie,{className:"h-4 w-4"}),d.jsx("span",{children:"Diagnstico"})]}),d.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:[d.jsx(oi,{className:"h-4 w-4"}),d.jsx("span",{children:"Debug Especfico"})]}),xPe(e==null?void 0:e.email)&&d.jsxs("button",{onClick:()=>a(!0),className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[d.jsx(Yg,{className:"h-4 w-4"}),d.jsx("span",{children:"Cargar Excel"})]})]})]}),d.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:d.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"dashboard",name:"Dashboard",icon:Kg},{id:"list",name:"Lista completa",icon:mn},{id:"validation",name:"Validacin",icon:Vr}].map(z=>d.jsxs("button",{onClick:()=>r(z.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${t===z.id?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"}`,children:[d.jsx(z.icon,{className:"h-4 w-4"}),d.jsx("span",{children:z.name})]},z.id))})})]})}),d.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t==="dashboard"&&d.jsxs(Ne.div,{initial:{opacity:0},animate:{opacity:1},children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Dashboard de Beneficiarios"}),d.jsx(SPe,{beneficiaries:o,assignments:_(),onAssignOperator:ne}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:d.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[d.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Distribucin por Estado"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Con Asignacin"}),d.jsx("span",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:l.total-l.unassigned})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sin Asignar"}),d.jsx("span",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400",children:l.unassigned})]})]})]})})]},"dashboard"),t==="list"&&d.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},children:d.jsx(EPe,{beneficiaries:Q,searchTerm:h,onSearchChange:m,onEdit:X,onDelete:te,onAssignOperator:ne,isLoading:c})},"list"),t==="validation"&&d.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},children:d.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Validacin y Consistencia"}),d.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Herramientas de validacin y auditora en desarrollo..."})]})},"validation")]}),n&&d.jsx(_Pe,{onUploadComplete:D,onClose:()=>a(!1),isUploading:u,uploadProgress:f})]})};function uY(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=uY(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ft(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=uY(e))&&(n&&(n+=" "),n+=t);return n}const iD="-",APe=e=>{const t=kPe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:s=>{const o=s.split(iD);return o[0]===""&&o.length!==1&&o.shift(),dY(o,t)||CPe(s)},getConflictingClassGroupIds:(s,o)=>{const l=r[s]||[];return o&&n[s]?[...l,...n[s]]:l}}},dY=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),a=n?dY(e.slice(1),n):void 0;if(a)return a;if(t.validators.length===0)return;const i=e.join(iD);return(s=t.validators.find(({validator:o})=>o(i)))==null?void 0:s.classGroupId},l5=/^\[(.+)\]$/,CPe=e=>{if(l5.test(e)){const t=l5.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},kPe=e=>{const{theme:t,classGroups:r}=e,n={nextPart:new Map,validators:[]};for(const a in r)Sk(r[a],n,a,t);return n},Sk=(e,t,r,n)=>{e.forEach(a=>{if(typeof a=="string"){const i=a===""?t:c5(t,a);i.classGroupId=r;return}if(typeof a=="function"){if(NPe(a)){Sk(a(n),t,r,n);return}t.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([i,s])=>{Sk(s,c5(t,i),r,n)})})},c5=(e,t)=>{let r=e;return t.split(iD).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},NPe=e=>e.isThemeGetter,PPe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const a=(i,s)=>{r.set(i,s),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let s=r.get(i);if(s!==void 0)return s;if((s=n.get(i))!==void 0)return a(i,s),s},set(i,s){r.has(i)?r.set(i,s):a(i,s)}}},Tk="!",Ak=":",IPe=Ak.length,OPe=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=a=>{const i=[];let s=0,o=0,l=0,c;for(let p=0;p<a.length;p++){let g=a[p];if(s===0&&o===0){if(g===Ak){i.push(a.slice(l,p)),l=p+IPe;continue}if(g==="/"){c=p;continue}}g==="["?s++:g==="]"?s--:g==="("?o++:g===")"&&o--}const u=i.length===0?a:a.substring(l),f=DPe(u),h=f!==u,m=c&&c>l?c-l:void 0;return{modifiers:i,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:m}};if(t){const a=t+Ak,i=n;n=s=>s.startsWith(a)?i(s.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},DPe=e=>e.endsWith(Tk)?e.substring(0,e.length-1):e.startsWith(Tk)?e.substring(1):e,jPe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(n=>[n,!0]));return n=>{if(n.length<=1)return n;const a=[];let i=[];return n.forEach(s=>{s[0]==="["||t[s]?(a.push(...i.sort(),s),i=[]):i.push(s)}),a.push(...i.sort()),a}},RPe=e=>({cache:PPe(e.cacheSize),parseClassName:OPe(e),sortModifiers:jPe(e),...APe(e)}),MPe=/\s+/,FPe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=t,s=[],o=e.trim().split(MPe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{isExternal:f,modifiers:h,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:g}=r(u);if(f){l=u+(l.length>0?" "+l:l);continue}let v=!!g,y=n(v?p.substring(0,g):p);if(!y){if(!v){l=u+(l.length>0?" "+l:l);continue}if(y=n(p),!y){l=u+(l.length>0?" "+l:l);continue}v=!1}const x=i(h).join(":"),b=m?x+Tk:x,E=b+y;if(s.includes(E))continue;s.push(E);const k=a(y,v);for(let C=0;C<k.length;++C){const S=k[C];s.push(b+S)}l=u+(l.length>0?" "+l:l)}return l};function LPe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=fY(t))&&(n&&(n+=" "),n+=r);return n}const fY=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=fY(e[n]))&&(r&&(r+=" "),r+=t);return r};function $Pe(e,...t){let r,n,a,i=s;function s(l){const c=t.reduce((u,f)=>f(u),e());return r=RPe(c),n=r.cache.get,a=r.cache.set,i=o,o(l)}function o(l){const c=n(l);if(c)return c;const u=FPe(l,r);return a(l,u),u}return function(){return i(LPe.apply(null,arguments))}}const jn=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},hY=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,mY=/^\((?:(\w[\w-]*):)?(.+)\)$/i,BPe=/^\d+\/\d+$/,UPe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,VPe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zPe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,WPe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HPe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ph=e=>BPe.test(e),Ct=e=>!!e&&!Number.isNaN(Number(e)),Gc=e=>!!e&&Number.isInteger(Number(e)),DT=e=>e.endsWith("%")&&Ct(e.slice(0,-1)),Ol=e=>UPe.test(e),GPe=()=>!0,KPe=e=>VPe.test(e)&&!zPe.test(e),pY=()=>!1,qPe=e=>WPe.test(e),YPe=e=>HPe.test(e),XPe=e=>!Qe(e)&&!Je(e),QPe=e=>Pm(e,yY,pY),Qe=e=>hY.test(e),Cd=e=>Pm(e,xY,KPe),jT=e=>Pm(e,rIe,Ct),u5=e=>Pm(e,gY,pY),JPe=e=>Pm(e,vY,YPe),c1=e=>Pm(e,wY,qPe),Je=e=>mY.test(e),bp=e=>Im(e,xY),ZPe=e=>Im(e,nIe),d5=e=>Im(e,gY),eIe=e=>Im(e,yY),tIe=e=>Im(e,vY),u1=e=>Im(e,wY,!0),Pm=(e,t,r)=>{const n=hY.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Im=(e,t,r=!1)=>{const n=mY.exec(e);return n?n[1]?t(n[1]):r:!1},gY=e=>e==="position"||e==="percentage",vY=e=>e==="image"||e==="url",yY=e=>e==="length"||e==="size"||e==="bg-size",xY=e=>e==="length",rIe=e=>e==="number",nIe=e=>e==="family-name",wY=e=>e==="shadow",aIe=()=>{const e=jn("color"),t=jn("font"),r=jn("text"),n=jn("font-weight"),a=jn("tracking"),i=jn("leading"),s=jn("breakpoint"),o=jn("container"),l=jn("spacing"),c=jn("radius"),u=jn("shadow"),f=jn("inset-shadow"),h=jn("text-shadow"),m=jn("drop-shadow"),p=jn("blur"),g=jn("perspective"),v=jn("aspect"),y=jn("ease"),x=jn("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],k=()=>[...E(),Je,Qe],C=()=>["auto","hidden","clip","visible","scroll"],S=()=>["auto","contain","none"],_=()=>[Je,Qe,l],T=()=>[Ph,"full","auto",..._()],P=()=>[Gc,"none","subgrid",Je,Qe],N=()=>["auto",{span:["full",Gc,Je,Qe]},Gc,Je,Qe],O=()=>[Gc,"auto",Je,Qe],D=()=>["auto","min","max","fr",Je,Qe],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],ne=()=>["auto",..._()],Q=()=>[Ph,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",..._()],z=()=>[e,Je,Qe],j=()=>[...E(),d5,u5,{position:[Je,Qe]}],ce=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ee=()=>["auto","cover","contain",eIe,QPe,{size:[Je,Qe]}],M=()=>[DT,bp,Cd],H=()=>["","none","full",c,Je,Qe],U=()=>["",Ct,bp,Cd],G=()=>["solid","dashed","dotted","double"],ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],de=()=>[Ct,DT,d5,u5],xe=()=>["","none",p,Je,Qe],Z=()=>["none",Ct,Je,Qe],ie=()=>["none",Ct,Je,Qe],we=()=>[Ct,Je,Qe],F=()=>[Ph,"full",..._()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ol],breakpoint:[Ol],color:[GPe],container:[Ol],"drop-shadow":[Ol],ease:["in","out","in-out"],font:[XPe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ol],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ol],shadow:[Ol],spacing:["px",Ct],text:[Ol],"text-shadow":[Ol],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ph,Qe,Je,v]}],container:["container"],columns:[{columns:[Ct,Qe,Je,o]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:k()}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[Gc,"auto",Je,Qe]}],basis:[{basis:[Ph,"full","auto",o,..._()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ct,Ph,"auto","initial","none",Qe]}],grow:[{grow:["",Ct,Je,Qe]}],shrink:[{shrink:["",Ct,Je,Qe]}],order:[{order:[Gc,"first","last","none",Je,Qe]}],"grid-cols":[{"grid-cols":P()}],"col-start-end":[{col:N()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":P()}],"row-start-end":[{row:N()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":D()}],"auto-rows":[{"auto-rows":D()}],gap:[{gap:_()}],"gap-x":[{"gap-x":_()}],"gap-y":[{"gap-y":_()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:_()}],px:[{px:_()}],py:[{py:_()}],ps:[{ps:_()}],pe:[{pe:_()}],pt:[{pt:_()}],pr:[{pr:_()}],pb:[{pb:_()}],pl:[{pl:_()}],m:[{m:ne()}],mx:[{mx:ne()}],my:[{my:ne()}],ms:[{ms:ne()}],me:[{me:ne()}],mt:[{mt:ne()}],mr:[{mr:ne()}],mb:[{mb:ne()}],ml:[{ml:ne()}],"space-x":[{"space-x":_()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":_()}],"space-y-reverse":["space-y-reverse"],size:[{size:Q()}],w:[{w:[o,"screen",...Q()]}],"min-w":[{"min-w":[o,"screen","none",...Q()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[s]},...Q()]}],h:[{h:["screen","lh",...Q()]}],"min-h":[{"min-h":["screen","lh","none",...Q()]}],"max-h":[{"max-h":["screen","lh",...Q()]}],"font-size":[{text:["base",r,bp,Cd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Je,jT]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",DT,Qe]}],"font-family":[{font:[ZPe,Qe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,Je,Qe]}],"line-clamp":[{"line-clamp":[Ct,"none",Je,jT]}],leading:[{leading:[i,..._()]}],"list-image":[{"list-image":["none",Je,Qe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Je,Qe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ct,"from-font","auto",Je,Cd]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Ct,"auto",Je,Qe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:_()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Je,Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Je,Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:j()}],"bg-repeat":[{bg:ce()}],"bg-size":[{bg:ee()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Gc,Je,Qe],radial:["",Je,Qe],conic:[Gc,Je,Qe]},tIe,JPe]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:M()}],"gradient-via-pos":[{via:M()}],"gradient-to-pos":[{to:M()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:H()}],"rounded-s":[{"rounded-s":H()}],"rounded-e":[{"rounded-e":H()}],"rounded-t":[{"rounded-t":H()}],"rounded-r":[{"rounded-r":H()}],"rounded-b":[{"rounded-b":H()}],"rounded-l":[{"rounded-l":H()}],"rounded-ss":[{"rounded-ss":H()}],"rounded-se":[{"rounded-se":H()}],"rounded-ee":[{"rounded-ee":H()}],"rounded-es":[{"rounded-es":H()}],"rounded-tl":[{"rounded-tl":H()}],"rounded-tr":[{"rounded-tr":H()}],"rounded-br":[{"rounded-br":H()}],"rounded-bl":[{"rounded-bl":H()}],"border-w":[{border:U()}],"border-w-x":[{"border-x":U()}],"border-w-y":[{"border-y":U()}],"border-w-s":[{"border-s":U()}],"border-w-e":[{"border-e":U()}],"border-w-t":[{"border-t":U()}],"border-w-r":[{"border-r":U()}],"border-w-b":[{"border-b":U()}],"border-w-l":[{"border-l":U()}],"divide-x":[{"divide-x":U()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":U()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...G(),"hidden","none"]}],"divide-style":[{divide:[...G(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...G(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ct,Je,Qe]}],"outline-w":[{outline:["",Ct,bp,Cd]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",u,u1,c1]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",f,u1,c1]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Ct,Cd]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":U()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",h,u1,c1]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Ct,Je,Qe]}],"mix-blend":[{"mix-blend":[...ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ct]}],"mask-image-linear-from-pos":[{"mask-linear-from":de()}],"mask-image-linear-to-pos":[{"mask-linear-to":de()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":de()}],"mask-image-t-to-pos":[{"mask-t-to":de()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":de()}],"mask-image-r-to-pos":[{"mask-r-to":de()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":de()}],"mask-image-b-to-pos":[{"mask-b-to":de()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":de()}],"mask-image-l-to-pos":[{"mask-l-to":de()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":de()}],"mask-image-x-to-pos":[{"mask-x-to":de()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":de()}],"mask-image-y-to-pos":[{"mask-y-to":de()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Je,Qe]}],"mask-image-radial-from-pos":[{"mask-radial-from":de()}],"mask-image-radial-to-pos":[{"mask-radial-to":de()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Ct]}],"mask-image-conic-from-pos":[{"mask-conic-from":de()}],"mask-image-conic-to-pos":[{"mask-conic-to":de()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:j()}],"mask-repeat":[{mask:ce()}],"mask-size":[{mask:ee()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Je,Qe]}],filter:[{filter:["","none",Je,Qe]}],blur:[{blur:xe()}],brightness:[{brightness:[Ct,Je,Qe]}],contrast:[{contrast:[Ct,Je,Qe]}],"drop-shadow":[{"drop-shadow":["","none",m,u1,c1]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Ct,Je,Qe]}],"hue-rotate":[{"hue-rotate":[Ct,Je,Qe]}],invert:[{invert:["",Ct,Je,Qe]}],saturate:[{saturate:[Ct,Je,Qe]}],sepia:[{sepia:["",Ct,Je,Qe]}],"backdrop-filter":[{"backdrop-filter":["","none",Je,Qe]}],"backdrop-blur":[{"backdrop-blur":xe()}],"backdrop-brightness":[{"backdrop-brightness":[Ct,Je,Qe]}],"backdrop-contrast":[{"backdrop-contrast":[Ct,Je,Qe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ct,Je,Qe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ct,Je,Qe]}],"backdrop-invert":[{"backdrop-invert":["",Ct,Je,Qe]}],"backdrop-opacity":[{"backdrop-opacity":[Ct,Je,Qe]}],"backdrop-saturate":[{"backdrop-saturate":[Ct,Je,Qe]}],"backdrop-sepia":[{"backdrop-sepia":["",Ct,Je,Qe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":_()}],"border-spacing-x":[{"border-spacing-x":_()}],"border-spacing-y":[{"border-spacing-y":_()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Je,Qe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ct,"initial",Je,Qe]}],ease:[{ease:["linear","initial",y,Je,Qe]}],delay:[{delay:[Ct,Je,Qe]}],animate:[{animate:["none",x,Je,Qe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,Je,Qe]}],"perspective-origin":[{"perspective-origin":k()}],rotate:[{rotate:Z()}],"rotate-x":[{"rotate-x":Z()}],"rotate-y":[{"rotate-y":Z()}],"rotate-z":[{"rotate-z":Z()}],scale:[{scale:ie()}],"scale-x":[{"scale-x":ie()}],"scale-y":[{"scale-y":ie()}],"scale-z":[{"scale-z":ie()}],"scale-3d":["scale-3d"],skew:[{skew:we()}],"skew-x":[{"skew-x":we()}],"skew-y":[{"skew-y":we()}],transform:[{transform:[Je,Qe,"","none","gpu","cpu"]}],"transform-origin":[{origin:k()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:F()}],"translate-x":[{"translate-x":F()}],"translate-y":[{"translate-y":F()}],"translate-z":[{"translate-z":F()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Je,Qe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":_()}],"scroll-mx":[{"scroll-mx":_()}],"scroll-my":[{"scroll-my":_()}],"scroll-ms":[{"scroll-ms":_()}],"scroll-me":[{"scroll-me":_()}],"scroll-mt":[{"scroll-mt":_()}],"scroll-mr":[{"scroll-mr":_()}],"scroll-mb":[{"scroll-mb":_()}],"scroll-ml":[{"scroll-ml":_()}],"scroll-p":[{"scroll-p":_()}],"scroll-px":[{"scroll-px":_()}],"scroll-py":[{"scroll-py":_()}],"scroll-ps":[{"scroll-ps":_()}],"scroll-pe":[{"scroll-pe":_()}],"scroll-pt":[{"scroll-pt":_()}],"scroll-pr":[{"scroll-pr":_()}],"scroll-pb":[{"scroll-pb":_()}],"scroll-pl":[{"scroll-pl":_()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Je,Qe]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Ct,bp,Cd,jT]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},iIe=$Pe(aIe);function hd(...e){return iIe(Ft(e))}const Ut=se.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:hd("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ut.displayName="Card";const Vt=se.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:hd("flex flex-col space-y-1.5 p-6",e),...t}));Vt.displayName="CardHeader";const zt=se.forwardRef(({className:e,...t},r)=>d.jsx("h3",{ref:r,className:hd("text-2xl font-semibold leading-none tracking-tight",e),...t}));zt.displayName="CardTitle";const Ln=se.forwardRef(({className:e,...t},r)=>d.jsx("p",{ref:r,className:hd("text-sm text-muted-foreground",e),...t}));Ln.displayName="CardDescription";const Wt=se.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:hd("p-6 pt-0",e),...t}));Wt.displayName="CardContent";const sIe=se.forwardRef(({className:e,...t},r)=>d.jsx("div",{ref:r,className:hd("flex items-center p-6 pt-0",e),...t}));sIe.displayName="CardFooter";const f5=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,h5=Ft,oIe=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return h5(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=t,s=Object.keys(a).map(c=>{const u=r==null?void 0:r[c],f=i==null?void 0:i[c];if(u===null)return null;const h=f5(u)||f5(f);return a[c][h]}),o=r&&Object.entries(r).reduce((c,u)=>{let[f,h]=u;return h===void 0||(c[f]=h),c},{}),l=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((c,u)=>{let{class:f,className:h,...m}=u;return Object.entries(m).every(p=>{let[g,v]=p;return Array.isArray(v)?v.includes({...i,...o}[g]):{...i,...o}[g]===v})?[...c,f,h]:c},[]);return h5(e,s,l,r==null?void 0:r.class,r==null?void 0:r.className)},lIe=oIe("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-500 text-white hover:bg-green-600",warning:"border-transparent bg-yellow-500 text-white hover:bg-yellow-600",danger:"border-transparent bg-red-500 text-white hover:bg-red-600"}},defaultVariants:{variant:"default"}});function Ai({className:e,variant:t,...r}){return d.jsx("div",{className:hd(lIe({variant:t}),e),...r})}const cIe=async()=>{console.log(" Inicializando estructura de mtricas en Firestore...");try{const e=bv(De),t=ct(De,"metrics","global");e.set(t,{totalCalls:0,successfulCalls:0,failedCalls:0,uniqueBeneficiaries:0,averageDuration:0,protocolCompliance:0,lastUpdated:at(),created:at()});const r=ct(De,"systemConfig","metricsConfig");e.set(r,{alDiaThreshold:15,pendienteThreshold:30,urgenteThreshold:30,autoProcessing:!0,notificationsEnabled:!0,lastUpdated:at(),created:at()});const n=ct(gt(De,"processLogs"));return e.set(n,{type:"INITIALIZATION",status:"SUCCESS",message:"Estructura de mtricas inicializada desde aplicacin web",timestamp:at(),details:{collections:["metrics","systemConfig","processLogs"],method:"web_initialization"}}),await e.commit(),console.log(" Estructura de mtricas inicializada correctamente"),{success:!0,message:"Estructura inicializada correctamente"}}catch(e){return console.error(" Error inicializando estructura:",e),{success:!1,error:e.message}}},uIe=async e=>{console.log(" Procesando datos de Excel manualmente...");try{const t=bv(De);let r=0;const n={},a={};e.forEach(c=>{const u=c.operador||"Sin asignar",f=c.beneficiario||"Sin nombre";if(n[u]||(n[u]={totalCalls:0,successfulCalls:0,failedCalls:0,totalDuration:0,beneficiaries:new Set}),n[u].totalCalls++,n[u].totalDuration+=c.duracion||0,n[u].beneficiaries.add(f),c.categoria==="exitosa"||c.resultado==="Llamado exitoso"?n[u].successfulCalls++:n[u].failedCalls++,a[f]||(a[f]={totalCalls:0,lastSuccessfulCall:null,operator:u,commune:c.comuna||c.commune||"N/A",phone:c.numero_cliente||c.phone||"N/A"}),a[f].totalCalls++,c.categoria==="exitosa"||c.resultado==="Llamado exitoso"){const h=new Date(c.fecha);(!a[f].lastSuccessfulCall||h>new Date(a[f].lastSuccessfulCall))&&(a[f].lastSuccessfulCall=c.fecha)}});for(const[c,u]of Object.entries(n)){const f=ct(De,"operatorMetrics",c);t.set(f,{operatorName:c,totalCalls:u.totalCalls,successfulCalls:u.successfulCalls,failedCalls:u.failedCalls,successRate:u.totalCalls>0?u.successfulCalls/u.totalCalls*100:0,averageDuration:u.totalCalls>0?Math.round(u.totalDuration/u.totalCalls):0,uniqueBeneficiaries:u.beneficiaries.size,lastUpdated:at()}),r++}for(const[c,u]of Object.entries(a)){let f="urgente";if(u.lastSuccessfulCall){const m=Math.floor((new Date-new Date(u.lastSuccessfulCall))/864e5);m<=15?f="al-dia":m<=30&&(f="pendiente")}const h=ct(De,"beneficiaryMetrics",c);t.set(h,{beneficiaryName:c,operator:u.operator,commune:u.commune,phone:u.phone,totalCalls:u.totalCalls,lastSuccessfulCall:u.lastSuccessfulCall,status:f,daysSinceLastSuccess:u.lastSuccessfulCall?Math.floor((new Date-new Date(u.lastSuccessfulCall))/(1e3*60*60*24)):null,lastUpdated:at()}),r++}const i=e.length,s=e.filter(c=>c.categoria==="exitosa"||c.resultado==="Llamado exitoso").length,o=ct(De,"metrics","global");t.set(o,{totalCalls:i,successfulCalls:s,failedCalls:i-s,uniqueBeneficiaries:Object.keys(a).length,uniqueOperators:Object.keys(n).length,averageDuration:i>0?Math.round(e.reduce((c,u)=>c+(u.duracion||0),0)/i):0,successRate:i>0?s/i*100:0,lastUpdated:at(),lastProcessed:at()});const l=ct(gt(De,"processLogs"));return t.set(l,{type:"MANUAL_PROCESSING",status:"SUCCESS",message:`Procesados ${r} registros manualmente`,timestamp:at(),details:{totalRecords:e.length,processedRecords:r,operators:Object.keys(n).length,beneficiaries:Object.keys(a).length}}),await t.commit(),console.log(` Procesados ${r} registros correctamente`),{success:!0,message:`Procesados ${r} registros correctamente`,stats:{totalCalls:i,successfulCalls:s,operators:Object.keys(n).length,beneficiaries:Object.keys(a).length}}}catch(t){return console.error(" Error procesando datos:",t),{success:!1,error:t.message}}},dIe=async()=>{try{console.log(" Configurando perfil de super admin...");const e={email:"roberto@mistatas.com",role:"super_admin",name:"Roberto Mistatas",isActive:!0,permissions:["read_all","write_all","manage_users","manage_metrics","system_admin"],createdAt:at(),updatedAt:at(),createdBy:"system"},{auth:t}=await ts(async()=>{const{auth:a}=await Promise.resolve().then(()=>SK);return{auth:a}},void 0),r=t.currentUser;if(!r)throw new Error("Usuario no autenticado. Inicia sesin primero.");if(r.email!=="roberto@mistatas.com")throw new Error("Solo el super admin puede ejecutar esta funcin.");const n=ct(De,"userProfiles",r.uid);return await Ls(n,e,{merge:!0}),console.log(" Perfil de super admin configurado correctamente"),console.log(" Email:",r.email),console.log(" UID:",r.uid),{success:!0,message:"Perfil de super admin configurado",uid:r.uid,email:r.email}}catch(e){return console.error(" Error configurando perfil:",e),{success:!1,error:e.message}}},fIe=async()=>{try{const{auth:e}=await ts(async()=>{const{auth:s}=await Promise.resolve().then(()=>SK);return{auth:s}},void 0),t=e.currentUser;if(!t)return{authenticated:!1};const{getDoc:r,doc:n}=await ts(async()=>{const{getDoc:s,doc:o}=await Promise.resolve().then(()=>aSe);return{getDoc:s,doc:o}},void 0),a=n(De,"userProfiles",t.uid),i=await r(a);return{authenticated:!0,uid:t.uid,email:t.email,hasProfile:i.exists(),profile:i.exists()?i.data():null}}catch(e){return{authenticated:!1,error:e.message}}};function bY(){const[e,t]=A.useState(localStorage.getItem("showMetricsApp")==="true"),[r,n]=A.useState(!1),[a,i]=A.useState(null),{callData:s}=hu(),o=mo(y=>y.showInfo),l=()=>{localStorage.setItem("showMetricsApp","true"),t(!0),o("Vista de mtricas habilitada. Por favor, recargue la pgina para ver los cambios.")},c=()=>{localStorage.setItem("showMetricsApp","false"),t(!1),o("Vista de mtricas deshabilitada. Por favor, recargue la pgina para ver los cambios.")},u=async()=>{n(!0),i(null);try{const y=await cIe();i(y)}catch(y){i({success:!1,error:y.message})}finally{n(!1)}},f=async()=>{if(!s||s.length===0){i({success:!1,error:"No hay datos de Excel cargados. Primero sube un archivo desde Registro de Llamadas."});return}n(!0),i(null);try{const y=await uIe(s);i(y)}catch(y){i({success:!1,error:y.message})}finally{n(!1)}},h=async()=>{n(!0),i(null);try{const y=await dIe();i(y)}catch(y){i({success:!1,error:y.message})}finally{n(!1)}},m=async()=>{n(!0),i(null);try{const y=await fIe();i({success:y.authenticated,message:y.authenticated?`Usuario autenticado: ${y.email}${y.hasProfile?" (Perfil configurado)":" (Sin perfil)"}`:"Usuario no autenticado",details:y})}catch(y){i({success:!1,error:y.message})}finally{n(!1)}},p=[{name:"Procesamiento Automtico de Excel",status:"ready",description:"Cloud Functions procesan archivos automticamente"},{name:"Mtricas en Tiempo Real",status:"ready",description:"Dashboards se actualizan automticamente"},{name:"Dashboard Global",status:"ready",description:"KPIs generales y anlisis de distribucin"},{name:"Dashboard de Teleoperadoras",status:"ready",description:"Mtricas individuales con filtros"},{name:"Dashboard de Beneficiarios",status:"ready",description:"Estados y gestin de beneficiarios"},{name:"Firebase Cloud Functions",status:"pending",description:"Requiere deployment: firebase deploy --only functions"}],g=y=>{switch(y){case"ready":return d.jsx(Vr,{className:"h-4 w-4 text-green-500"});case"pending":return d.jsx(yn,{className:"h-4 w-4 text-yellow-500"});default:return d.jsx(hC,{className:"h-4 w-4 text-blue-500"})}},v=y=>{switch(y){case"ready":return d.jsx(Ai,{variant:"success",children:"Listo"});case"pending":return d.jsx(Ai,{variant:"warning",children:"Pendiente"});default:return d.jsx(Ai,{variant:"secondary",children:"Info"})}};return d.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Sistema de Mtricas Automatizadas"}),d.jsx("p",{className:"text-gray-600",children:"Dashboard avanzado con Cloud Functions para anlisis de llamadas"})]}),d.jsxs(Ut,{children:[d.jsx(Vt,{children:d.jsxs(zt,{className:"flex items-center space-x-2",children:[d.jsx(wf,{className:"h-5 w-5"}),d.jsx("span",{children:"Estado Actual"})]})}),d.jsx(Wt,{children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Sistema de mtricas:"}),d.jsx("p",{className:"font-medium",children:e?" Habilitado":" Deshabilitado"})]}),d.jsx("div",{className:"space-x-2",children:e?d.jsx("button",{onClick:c,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:"Volver al Sistema Original"}):d.jsxs("button",{onClick:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[d.jsx(Os,{className:"h-4 w-4"}),d.jsx("span",{children:"Habilitar Sistema de Mtricas"})]})})]})})]}),d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Funcionalidades Implementadas"}),d.jsx(Ln,{children:"Estado de las caractersticas del nuevo sistema"})]}),d.jsx(Wt,{children:d.jsx("div",{className:"space-y-4",children:p.map((y,x)=>d.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[d.jsxs("div",{className:"flex items-start space-x-3",children:[g(y.status),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium",children:y.name}),d.jsx("p",{className:"text-sm text-gray-600",children:y.description})]})]}),v(y.status)]},x))})})]}),d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:" Herramientas de Configuracin"}),d.jsx(Ln,{children:"Inicializa la base de datos y procesa datos sin Cloud Functions"})]}),d.jsx(Wt,{children:d.jsxs("div",{className:"space-y-4",children:[a&&d.jsxs("div",{className:`p-4 rounded-lg border ${a.success?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 font-medium",children:[a.success?d.jsx(Vr,{className:"h-4 w-4"}):d.jsx(yn,{className:"h-4 w-4"}),a.success?"xito":"Error"]}),d.jsx("p",{className:"text-sm mt-1",children:a.message||a.error}),a.stats&&d.jsxs("div",{className:"text-xs mt-2 opacity-80",children:["Llamadas: ",a.stats.totalCalls," | Exitosas: ",a.stats.successfulCalls," | Operadoras: ",a.stats.operators," | Beneficiarios: ",a.stats.beneficiaries]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Kg,{className:"h-5 w-5 text-blue-600"}),d.jsx("h4",{className:"font-medium text-blue-800",children:"Paso 1: Inicializar BD"})]}),d.jsx("p",{className:"text-sm text-blue-700 mb-3",children:"Crea la estructura necesaria en Firestore"}),d.jsx("button",{onClick:u,disabled:r,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:bg-blue-300 transition-colors",children:r?"Inicializando...":"Inicializar Firestore"})]}),d.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(Yg,{className:"h-5 w-5 text-green-600"}),d.jsx("h4",{className:"font-medium text-green-800",children:"Paso 2: Procesar Excel"})]}),d.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Procesa datos cargados y calcula mtricas"}),d.jsx("button",{onClick:f,disabled:r||!s||s.length===0,className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:bg-green-300 transition-colors",children:r?"Procesando...":"Procesar Datos Excel"}),(!s||s.length===0)&&d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'* Primero carga un Excel desde "Registro de Llamadas"'})]})]}),d.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx(wf,{className:"h-5 w-5 text-purple-600"}),d.jsx("h4",{className:"font-medium text-purple-800",children:"Configuracin de Permisos"})]}),d.jsx("p",{className:"text-sm text-purple-700 mb-3",children:"Configura perfil de administrador para resolver errores de permisos"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[d.jsx("button",{onClick:h,disabled:r,className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-purple-300 transition-colors text-sm",children:r?"Configurando...":"Configurar Admin"}),d.jsx("button",{onClick:m,disabled:r,className:"bg-purple-500 text-white px-4 py-2 rounded-md hover:bg-purple-600 disabled:bg-purple-300 transition-colors text-sm",children:"Verificar Permisos"})]})]}),d.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 border border-yellow-200",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(hC,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"text-sm text-yellow-800",children:[d.jsx("strong",{children:"Nota:"})," Estas herramientas simulan el comportamiento de Cloud Functions para que puedas probar el sistema completo sin necesidad del plan Blaze de Firebase."]})]})})]})})]}),d.jsxs(Ut,{children:[d.jsx(Vt,{children:d.jsxs(zt,{className:"flex items-center space-x-2",children:[d.jsx(Ise,{className:"h-5 w-5"}),d.jsx("span",{children:"Cmo Usar el Sistema"})]})}),d.jsx(Wt,{children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-green-700",children:"1. Para Frontend (Ya listo)"}),d.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:[" Habilita el sistema con el botn de arriba",d.jsx("br",{}),' Navega entre "Sistema Principal" y "Sistema de Mtricas"',d.jsx("br",{})," Los dashboards funcionan con datos de ejemplo"]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-yellow-700",children:"2. Para Backend (Requiere deployment)"}),d.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:[" Ejecuta: ",d.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"firebase deploy --only functions"}),d.jsx("br",{})," Sube un archivo Excel a Firebase Storage",d.jsx("br",{})," Las mtricas se calculan automticamente"]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-blue-700",children:"3. Inicializar Firestore"}),d.jsxs("p",{className:"text-sm text-gray-600 ml-4",children:[" Ejecuta: ",d.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded",children:"node src/scripts/initializeFirestore.js"}),d.jsx("br",{})," Esto configura la estructura de colecciones necesaria"]})]})]})})]}),d.jsxs(Ut,{children:[d.jsx(Vt,{children:d.jsx(zt,{children:"Arquitectura del Sistema"})}),d.jsx(Wt,{children:d.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Backend (Cloud Functions)"}),d.jsxs("ul",{className:"space-y-1 text-gray-600",children:[d.jsx("li",{children:" Procesamiento automtico de Excel"}),d.jsx("li",{children:" Normalizacin de datos"}),d.jsx("li",{children:" Clculo de mtricas"}),d.jsx("li",{children:" Almacenamiento en Firestore"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Frontend (React + Zustand)"}),d.jsxs("ul",{className:"space-y-1 text-gray-600",children:[d.jsx("li",{children:" Dashboards interactivos"}),d.jsx("li",{children:" Tiempo real con onSnapshot"}),d.jsx("li",{children:" Componentes shadcn/ui"}),d.jsx("li",{children:" Grficos con Recharts"})]})]})]})})]})]})}const _Y=()=>{const{user:e}=ds(),{roles:t,getRoleById:r,getUserPermissions:n,hasPermission:a,isSuperAdmin:i,canAccessModule:s}=NK(),[o,l]=A.useState(null),[c,u]=A.useState(!1);A.useEffect(()=>{(async()=>{var te,ne;if(!(e!=null&&e.email)){l(null);return}u(!0);try{if(console.log(" Cargando perfil para usuario:",e.email),e.email==="roberto@mistatas.com")console.log(" Usuario identificado como Super Admin"),l({...e,role:"super_admin",isActive:!0});else if(((te=e.email)==null?void 0:te.toLowerCase())==="carolina@mistatas.com"||(ne=e.displayName)!=null&&ne.toLowerCase().includes("carolina reyes"))console.log(" Usuario identificado como Carolina Reyes (Admin)"),l({...e,role:"admin",isActive:!0});else{console.log(" Consultando Firestore para email:",e.email);let Q=await Gl.getUserProfileByEmail(e.email);if(!Q&&e.uid&&(console.log(" Buscando por UID:",e.uid),Q=await Gl.getUserProfile(e.uid)),!Q){console.log(" Buscando en usuarios pendientes...");try{const{smartUserCreationService:z}=await ts(async()=>{const{smartUserCreationService:ee}=await import("./smartUserCreationService-DpXStAkH.js");return{smartUserCreationService:ee}},[]),ce=(await z.getPendingUsers()).find(ee=>{var M;return ee.email===((M=e.email)==null?void 0:M.toLowerCase())});ce&&(console.log(" Usuario encontrado en pendientes:",ce),Q={role:ce.role,email:ce.email,displayName:ce.displayName,isActive:!0,isPending:!0})}catch(z){console.log(" Error buscando usuarios pendientes:",z)}}if(console.log(" Perfil obtenido de Firestore:",Q),Q){const z={...e,...Q,role:Q.role||"teleoperadora"};console.log(" Perfil final aplicado:",z),l(z)}else console.log(" No se encontr perfil en Firestore, usando rol por defecto"),l({...e,role:"teleoperadora",isActive:!0})}}catch(Q){console.error("Error loading user profile:",Q),l({...e,role:"teleoperadora",isActive:!0})}finally{u(!1)}})()},[e==null?void 0:e.email]);const f=A.useMemo(()=>o,[o]),h=A.useMemo(()=>f!=null&&f.role?r(f.role):null,[f==null?void 0:f.role,r]),m=A.useMemo(()=>f?n(f):[],[f,n]),p=A.useMemo(()=>i(f),[f,i]),g=X=>a(f,X),v=X=>s(f,X),y=v("dashboard"),x=v("calls"),b=v("assignments"),E=v("beneficiaries"),k=v("seguimientos"),C=v("seguimientos"),S=v("history"),_=v("audit"),T=v("reports"),P=p,N=p,O=A.useMemo(()=>{const X=[];return y&&X.push({id:"dashboard",label:"Panel Principal",icon:"BarChart3"}),x&&X.push({id:"calls",label:"Registro de Llamadas",icon:"Phone"}),b&&X.push({id:"assignments",label:"Asignaciones",icon:"Users"}),E&&X.push({id:"beneficiaries",label:"Beneficiarios Base",icon:"Database"}),k&&X.push({id:"seguimientos",label:"Seguimientos Peridicos",icon:"Activity"}),C&&X.push({id:"calendar",label:"Ver Calendario",icon:"Calendar"}),X.push({id:"gestiones",label:"Gestiones",icon:"Users"}),S&&X.push({id:"history",label:"Historial de Seguimientos",icon:"Clock"}),_&&X.push({id:"audit",label:"Auditora Avanzada",icon:"BarChart3"}),P&&X.push({id:"metrics",label:"Mtricas Avanzadas",icon:"PieChart"}),N&&X.push({id:"config",label:"Configuracin",icon:"Settings"}),X},[y,x,b,E,k,S,_,P,N]),D=A.useMemo(()=>{var X,te,ne;return!f||!f.role?(console.log(" Esperando perfil de usuario para calcular defaultTab..."),null):(console.log(" Determinando defaultTab:",{canViewSeguimientos:k,canViewDashboard:y,userRole:f==null?void 0:f.role,isSuper:p,visibleModulesCount:O.length,firstModule:(X=O[0])==null?void 0:X.id}),p||(f==null?void 0:f.role)==="admin"?(console.log(" defaultTab = dashboard (Admin/Super Admin)"),"dashboard"):k&&(f==null?void 0:f.role)==="teleoperadora"?(console.log(" defaultTab = seguimientos (Teleoperadora)"),"seguimientos"):y?(console.log(" defaultTab = dashboard (fallback con permiso)"),"dashboard"):k?(console.log(" defaultTab = seguimientos (ltimo recurso con permiso)"),"seguimientos"):(console.log(" defaultTab = primer mdulo visible:",(te=O[0])==null?void 0:te.id),((ne=O[0])==null?void 0:ne.id)||"dashboard"))},[k,y,f==null?void 0:f.role,p]);return{user:f,currentRole:h,permissions:m,profileLoading:c,isSuperAdmin:p,isAdmin:(f==null?void 0:f.role)==="admin"||p,isAuditor:(f==null?void 0:f.role)==="auditor",isTeleoperadora:(f==null?void 0:f.role)==="teleoperadora",checkPermission:g,checkModuleAccess:v,canViewDashboard:y,canViewCalls:x,canViewAssignments:b,canViewBeneficiaries:E,canViewSeguimientos:k,canViewCalendar:C,canViewHistory:S,canViewAudit:_,canViewReports:T,canViewMetrics:P,canViewConfig:N,visibleModules:O,defaultTab:D,hasAnyPermission:m.length>0,roleLevel:(h==null?void 0:h.level)||0,roleName:(h==null?void 0:h.name)||"Sin rol"}},Ih=({title:e,value:t,icon:r,color:n="blue",subtitle:a,percentage:i=null,trend:s=null})=>{const o={blue:{bg:"bg-white",border:"border-gray-200",icon:"text-gray-600",text:"text-gray-900",accent:"text-gray-600",shadow:"shadow-sm hover:shadow-md"},green:{bg:"bg-white",border:"border-gray-200",icon:"text-teal-600",text:"text-gray-900",accent:"text-teal-600",shadow:"shadow-sm hover:shadow-md"},yellow:{bg:"bg-white",border:"border-gray-200",icon:"text-orange-500",text:"text-gray-900",accent:"text-orange-500",shadow:"shadow-sm hover:shadow-md"},red:{bg:"bg-white",border:"border-gray-200",icon:"text-red-500",text:"text-gray-900",accent:"text-red-500",shadow:"shadow-sm hover:shadow-md"}},l=o[n]||o.blue;return d.jsxs(Ne.div,{className:`
        ${l.bg} ${l.border} ${l.shadow}
        border rounded-xl p-6 transition-all duration-200
        cursor-default
      `,whileHover:{scale:1.02},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{type:"spring",stiffness:100,damping:15},children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("div",{className:"p-2 rounded-lg bg-gray-50",children:d.jsx(r,{className:`w-5 h-5 ${l.icon}`})}),s&&d.jsxs("div",{className:`text-xs font-medium ${s>0?"text-teal-600":s<0?"text-red-500":"text-gray-500"}`,children:[s>0?"":s<0?"":""," ",Math.abs(s),"%"]})]}),d.jsxs("div",{className:"mb-2",children:[d.jsx(Ne.div,{className:`text-3xl font-bold ${l.text}`,initial:{scale:.5},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.1},children:typeof t=="number"?t.toLocaleString():t}),i!==null&&d.jsxs(Ne.div,{className:`text-sm font-medium ${l.accent} mt-1`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:[i,"% del total"]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-1",children:e}),a&&d.jsx("p",{className:"text-xs text-gray-500 leading-relaxed",children:a})]}),i!==null&&i<=100&&d.jsx("div",{className:"mt-4",children:d.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2",children:d.jsx(Ne.div,{className:`h-2 rounded-full ${n==="green"?"bg-teal-500":n==="yellow"?"bg-orange-500":n==="red"?"bg-red-500":"bg-gray-400"}`,initial:{width:0},animate:{width:`${i}%`},transition:{duration:1,ease:"easeOut",delay:.3}})})})]})},hIe=({beneficiario:e,seguimientos:t=[],onSelect:r,onNewContact:n})=>{const[a,i]=A.useState(!1),s=()=>{const v=t.filter(k=>k.tipoResultado==="exitoso");if(v.length===0)return{estado:"urgente",ultimoContacto:null,diasSinContacto:null,mensaje:"Sin contactos exitosos"};const y=v.sort((k,C)=>new Date(C.fechaContacto)-new Date(k.fechaContacto))[0],x=Math.floor((new Date-new Date(y.fechaContacto))/(1e3*60*60*24));let b,E;return x<=15?(b="al-dia",E=`ltimo contacto hace ${x} da${x!==1?"s":""}`):x<=30?(b="pendiente",E=`${x} das sin contacto`):(b="urgente",E=`${x} das sin contacto!`),{estado:b,ultimoContacto:y.fechaContacto,diasSinContacto:x,mensaje:E}},{estado:o,ultimoContacto:l,diasSinContacto:c,mensaje:u}=s(),h={"al-dia":{bg:"bg-white",border:"border-gray-200",text:"text-gray-900",icon:Vr,iconColor:"text-teal-600",badge:"bg-teal-50 text-teal-700 border border-teal-200",shadow:"shadow-sm hover:shadow-md"},pendiente:{bg:"bg-white",border:"border-gray-200",text:"text-gray-900",icon:na,iconColor:"text-orange-500",badge:"bg-orange-50 text-orange-700 border border-orange-200",shadow:"shadow-sm hover:shadow-md"},urgente:{bg:"bg-white",border:"border-gray-200",text:"text-gray-900",icon:li,iconColor:"text-red-500",badge:"bg-red-50 text-red-700 border border-red-200",shadow:"shadow-sm hover:shadow-md"}}[o],m=h.icon,p=v=>{if(!v)return"N/A";try{return new Date(v).toLocaleDateString("es-CL",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",timeZone:"America/Santiago"})}catch(y){return console.error("Error formateando fecha:",y),"Fecha invlida"}},g=v=>{if(!v)return"Sin telfono";const y=v.replace(/\D/g,"");return y.length===9?`+56 ${y.substring(0,1)} ${y.substring(1,5)} ${y.substring(5)}`:v};return d.jsxs(Ne.div,{className:`
        ${h.bg} 
        ${h.border} ${h.shadow}
        border rounded-xl overflow-hidden transition-all duration-200
        cursor-pointer
      `,onClick:r,whileHover:{scale:1.02},layout:!0,children:[d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-sm leading-tight truncate",children:e.beneficiary||"Sin nombre"}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsx(m,{className:`w-4 h-4 ${h.iconColor}`}),d.jsx("span",{className:"text-xs font-medium text-gray-600",children:o==="al-dia"?"Al da":o==="pendiente"?"Pendiente":"Urgente"})]})]}),d.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${h.badge}`,children:[t.length," contacto",t.length!==1?"s":""]})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[d.jsx(Lr,{className:"w-4 h-4"}),d.jsx("span",{className:"truncate",children:g(e.primaryPhone)})]}),e.commune&&d.jsxs("div",{className:"flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[d.jsx(i7,{className:"w-4 h-4"}),d.jsx("span",{className:"truncate",children:e.commune})]}),d.jsxs("div",{className:"flex items-center gap-2 text-gray-600 dark:text-gray-400",children:[d.jsx(Dse,{className:"w-4 h-4"}),d.jsx("span",{className:"text-xs",children:u})]})]}),d.jsxs("div",{className:"flex items-center justify-between mt-4",children:[d.jsxs("button",{onClick:v=>{v.stopPropagation(),i(!a)},className:"flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:[a?d.jsx(r7,{className:"w-4 h-4"}):d.jsx(t7,{className:"w-4 h-4"}),"Historial"]}),d.jsxs(Ne.button,{onClick:v=>{v.stopPropagation(),n()},className:"flex items-center gap-1 bg-slate-700 hover:bg-slate-800 text-white text-xs px-3 py-1.5 rounded-lg transition-colors shadow-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.jsx(W_,{className:"w-3 h-3"}),"Contacto"]})]})]}),d.jsx(ss,{children:a&&d.jsx(Ne.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"border-t border-gray-200 dark:border-gray-700",children:d.jsx("div",{className:"p-4 bg-white/50 dark:bg-gray-800/50",children:t.length===0?d.jsxs("div",{className:"text-center py-4 text-gray-500 dark:text-gray-400 text-sm",children:[d.jsx(oy,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),"Sin seguimientos registrados"]}):d.jsxs("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:[t.sort((v,y)=>new Date(y.fechaContacto)-new Date(v.fechaContacto)).slice(0,5).map((v,y)=>d.jsxs(Ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:y*.1},className:`p-3 rounded-lg border ${v.tipoResultado==="exitoso"?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":v.tipoResultado==="fallido"?"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[v.tipoResultado==="exitoso"&&d.jsx(Vr,{className:"w-4 h-4 text-green-600"}),v.tipoResultado==="fallido"&&d.jsx(li,{className:"w-4 h-4 text-red-600"}),d.jsx("span",{className:"text-xs font-medium text-gray-900 dark:text-white",children:v.tipoContacto||"Contacto"})]}),d.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:p(v.fechaContacto)})]}),v.observaciones&&d.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 mt-1",children:v.observaciones})]},v.id||y)),t.length>5&&d.jsx("div",{className:"text-center",children:d.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["+",t.length-5," seguimiento",t.length-5!==1?"s":""," ms"]})})]})})})})]})},mIe=({beneficiario:e=null,beneficiarios:t=[],onSave:r,onClose:n})=>{const a=()=>{const _=new Date,T=new Date(_.toLocaleString("en-US",{timeZone:"America/Santiago"})),P=T.getFullYear(),N=String(T.getMonth()+1).padStart(2,"0"),O=String(T.getDate()).padStart(2,"0"),D=String(T.getHours()).padStart(2,"0"),X=String(T.getMinutes()).padStart(2,"0");return`${P}-${N}-${O}T${D}:${X}`},[i,s]=A.useState({beneficiarioId:(e==null?void 0:e.id)||"",beneficiario:(e==null?void 0:e.beneficiary)||"",telefono:(e==null?void 0:e.primaryPhone)||"",tipoContacto:"llamada",tipoResultado:"",observaciones:"",fechaContacto:a()}),[o,l]=A.useState({}),[c,u]=A.useState(!1),[f,h]=A.useState(!e),[m,p]=A.useState(""),g=A.useRef(null),v=A.useRef(null);A.useEffect(()=>{v.current&&v.current.focus()},[]),A.useEffect(()=>{const _=T=>{T.key==="Escape"&&n()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]);const y=[{value:"llamada",label:"Llamada Telefnica",icon:Lr},{value:"presencial",label:"Visita Presencial",icon:oa}],x=[{value:"exitoso",label:"Contacto Exitoso",icon:Vr,color:"text-emerald-700"},{value:"no-respuesta",label:"No Responde",icon:xf,color:"text-amber-700"},{value:"ocupado",label:"Lnea Ocupada",icon:na,color:"text-slate-600"},{value:"mensaje",label:"Mensaje Dejado",icon:oy,color:"text-slate-700"},{value:"fallido",label:"Llamada Fallida",icon:xf,color:"text-rose-700"}],b=t.filter(_=>{var T,P,N;return((T=_.beneficiary)==null?void 0:T.toLowerCase().includes(m.toLowerCase()))||((P=_.primaryPhone)==null?void 0:P.includes(m))||((N=_.commune)==null?void 0:N.toLowerCase().includes(m.toLowerCase()))});A.useEffect(()=>{console.log(" NewContactForm - Debug beneficiarios:",{totalBeneficiarios:t.length,searchTerm:m,beneficiariosFiltrados:b.length,primerosEjemplos:t.slice(0,3).map(_=>({beneficiary:_.beneficiary,primaryPhone:_.primaryPhone,commune:_.commune}))})},[t,m,b.length]);const E=(_,T)=>{s(P=>({...P,[_]:T})),o[_]&&l(P=>({...P,[_]:null}))},k=_=>{s(T=>({...T,beneficiarioId:_.id||"",beneficiario:_.beneficiary||"",telefono:_.primaryPhone||""})),h(!1),p("")},C=()=>{const _={};return i.beneficiario.trim()||(_.beneficiario="Debe seleccionar un beneficiario"),i.tipoContacto||(_.tipoContacto="Debe seleccionar el tipo de contacto"),i.tipoResultado||(_.tipoResultado="Debe seleccionar el resultado del contacto"),i.fechaContacto||(_.fechaContacto="Debe especificar la fecha y hora"),l(_),Object.keys(_).length===0},S=async _=>{if(_.preventDefault(),!!C()){u(!0);try{await r({...i,id:Date.now().toString(),createdAt:new Date().toISOString()})}catch(T){console.error("Error guardando contacto:",T),l({submit:"Error al guardar el contacto. Intenta nuevamente."})}finally{u(!1)}}};return d.jsx(Ne.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:_=>{_.target===_.currentTarget&&n()},children:d.jsxs(Ne.div,{ref:g,className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:_=>_.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Registrar Nuevo Contacto"}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Ingresa los detalles del seguimiento realizado"})]}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:d.jsx(dc,{className:"w-5 h-5 text-gray-500"})})]}),d.jsxs("form",{onSubmit:S,className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Beneficiario *"}),f?d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{ref:v,type:"text",placeholder:"Buscar beneficiario por nombre, telfono o comuna...",value:m,onChange:_=>p(_.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white text-gray-900 shadow-sm transition-all duration-200"})]}),d.jsx("div",{className:"max-h-48 overflow-y-auto border border-gray-200 rounded-lg",children:b.length===0?d.jsx("div",{className:"p-4 text-center text-gray-500",children:m?"No se encontraron beneficiarios":"Escribe para buscar beneficiarios"}):b.map((_,T)=>d.jsxs("button",{type:"button",onClick:()=>k(_),className:"w-full p-3 text-left hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[d.jsx("div",{className:"font-medium text-gray-900",children:_.beneficiary}),d.jsxs("div",{className:"text-sm text-gray-600",children:[_.primaryPhone,"  ",_.commune]})]},_.id||T))})]}):d.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg bg-gray-50",children:[d.jsxs("div",{children:[d.jsx("div",{className:"font-medium text-gray-900",children:i.beneficiario}),d.jsx("div",{className:"text-sm text-gray-600",children:i.telefono})]}),d.jsx("button",{type:"button",onClick:()=>h(!0),className:"text-teal-600 hover:text-teal-700 text-sm font-medium",children:"Cambiar"})]}),o.beneficiario&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.beneficiario})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha y Hora del Contacto *"}),d.jsxs("div",{className:"relative",children:[d.jsx(Ka,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"datetime-local",value:i.fechaContacto,onChange:_=>E("fechaContacto",_.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white text-gray-900 shadow-sm transition-all duration-200"})]}),o.fechaContacto&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.fechaContacto})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Contacto *"}),d.jsx("div",{className:"flex gap-3",children:y.map(_=>{const T=_.icon;return d.jsx("button",{type:"button",onClick:()=>E("tipoContacto",_.value),className:`flex-1 p-3 rounded-lg border-2 transition-colors ${i.tipoContacto===_.value?"border-teal-500 bg-teal-50 text-teal-700":"border-gray-200 hover:border-gray-300"}`,children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(T,{className:"w-4 h-4"}),d.jsx("span",{className:"text-sm font-medium",children:_.label})]})},_.value)})}),o.tipoContacto&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.tipoContacto})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resultado del Contacto *"}),d.jsx("div",{className:"grid grid-cols-1 gap-2",children:x.map(_=>{const T=_.icon;return d.jsx("button",{type:"button",onClick:()=>E("tipoResultado",_.value),className:`p-3 rounded-lg border-2 transition-colors text-left ${i.tipoResultado===_.value?"border-teal-500 bg-teal-50":"border-gray-200 hover:border-gray-300"}`,children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(T,{className:`w-5 h-5 ${_.color}`}),d.jsx("span",{className:"font-medium text-gray-900",children:_.label})]})},_.value)})}),o.tipoResultado&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.tipoResultado})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones"}),d.jsx("textarea",{value:i.observaciones,onChange:_=>E("observaciones",_.target.value),placeholder:"Notas adicionales sobre el contacto...",rows:4,className:"w-full px-3 py-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500 bg-white text-gray-900 resize-none shadow-sm transition-all duration-200"})]}),o.submit&&d.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsx("p",{className:"text-red-700 text-sm",children:o.submit})}),d.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[d.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:c,children:"Cancelar"}),d.jsx(Ne.button,{type:"submit",disabled:c,className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-700 disabled:bg-teal-400 text-white px-6 py-2 rounded-lg transition-colors shadow-sm",whileHover:{scale:1.05},whileTap:{scale:.95},children:c?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(ly,{className:"w-4 h-4"}),"Guardar Contacto"]})})]})]})]})})},pIe=()=>{const{user:e}=ds(),{user:t,isAdmin:r}=_Y(),{operators:n,getAllAssignments:a,getAssignmentsByEmail:i}=Rn(),{callData:s,getOperatorMetrics:o}=hu(),{addSeguimiento:l,initializeSubscription:c,clearStore:u}=IK(),{beneficiarios:f,seguimientos:h,isLoading:m,dataLoaded:p,setBeneficiarios:g,setSeguimientos:v,setIsLoading:y,setDataLoaded:x,needsReload:b,clearDashboard:E}=MTe(),[k,C]=A.useState(null),[S,_]=A.useState(!1),[T,P]=A.useState(""),[N,O]=A.useState("todos"),D=r?"Administrador":(t==null?void 0:t.displayName)||(t==null?void 0:t.name)||(t==null?void 0:t.email),X=(t==null?void 0:t.email)||(e==null?void 0:e.email);console.log(" Perfil actual sincronizado:",{email:X,nombre:D,hasUser:!!t,isAdmin:r}),A.useEffect(()=>{if(!t)return;const ee=(t==null?void 0:t.email)||(e==null?void 0:e.email);if(console.log(" Usuario autenticado, verificando datos..."),console.log(" Rol detectado:",t.role,"Es admin:",r),console.log(" Email actual:",ee),c(t.uid||e.uid),!b(ee)){console.log(" [DASHBOARD] Datos vlidos en cach:",{beneficiarios:f.length,seguimientos:h.length,email:ee}),y(!1);return}return console.log(" [DASHBOARD] Cargando datos frescos para:",ee),te(),()=>{console.log(" [DASHBOARD] Componente desmontado - datos PERSISTEN en store")}},[t==null?void 0:t.uid,e==null?void 0:e.uid,c,r]);const te=async()=>{var ee,M,H,U;if(!t){console.log(" No hay usuario autenticado");return}y(!0);try{console.log(" Cargando datos para:",e==null?void 0:e.email,"(rol:",t==null?void 0:t.role,")");const G=await PK.getSeguimientos(t.uid);console.log(" Seguimientos Firebase:",G.length);const{getFollowUpData:ae}=hu.getState();let de=a();(!de||de.length===0)&&(console.warn(" No hay asignaciones en el store, recargando desde Firebase..."),typeof window<"u"&&window.location&&(await new Promise(F=>setTimeout(F,500)),de=a())),console.log(" Asignaciones disponibles para getFollowUpData:",de.length);const xe=ae(de);console.log(" Seguimientos del Excel:",xe.length);let Z=[];if(r)Z=a(),console.log(" Admin - Total:",Z.length);else{console.log(" Consultando Firebase directamente para teleoperadora:",t==null?void 0:t.email);try{const{operatorService:F,assignmentService:Me}=await ts(async()=>{const{operatorService:re,assignmentService:Ve}=await Promise.resolve().then(()=>hT);return{operatorService:re,assignmentService:Ve}},void 0);console.log(" Obteniendo operadores desde Firebase...");const Ce=await F.getAll();console.log(" Operadores obtenidos desde Firebase:",Ce.length);const Be=(ee=t==null?void 0:t.email)==null?void 0:ee.toLowerCase().trim(),Ie=Ce.find(re=>{var ot;const Ve=(ot=re.email)==null?void 0:ot.toLowerCase().trim(),bt=Ve===Be;return console.log(` Verificando operador ${re.name}:`,{opEmail:Ve,userEmail:Be,exactMatch:bt}),bt});if(Ie){console.log(" Operador encontrado en Firebase:",Ie),console.log(" Obteniendo asignaciones desde Firebase...");const re=await Me.getAll();console.log(" Asignaciones obtenidas desde Firebase:",re.length);const Ve=re.filter(Lt=>Lt.operatorId===Ie.id);console.log(` DEBUGGING FILTRO - Buscando asignaciones para operatorId: ${Ie.id}`),console.log(" Primeras 3 asignaciones de Firebase:",re.slice(0,3)),console.log(" Estructura de primera asignacin:",re[0]);const bt=[...new Set(re.map(Lt=>Lt.operatorId))];console.log(" Todos los operatorId en Firebase:",bt),console.log(" Buscando operatorId:",Ie.id),console.log(" Existe el operatorId?",bt.includes(Ie.id));let ot=Ve;Ve.length===0&&(console.log(" No se encontraron asignaciones por operatorId, intentando bsqueda por nombre..."),ot=re.filter(Lt=>{const Yn=Lt.operator||Lt.operatorName||"",qt=Ie.name||"",Yt=Yn.toLowerCase().includes(qt.toLowerCase())||qt.toLowerCase().includes(Yn.toLowerCase());return Yt&&console.log(" Coincidencia por nombre:",{assignmentOperator:Yn,matchingOperator:qt}),Yt}),console.log(` Asignaciones encontradas por nombre: ${ot.length}`)),console.log(` Asignaciones finales para ${Ie.name}:`,ot.length),Z=ot.map(Lt=>({id:Lt.id,operator:Ie.name,operatorName:Ie.name,operatorEmail:Ie.email,beneficiary:Lt.beneficiary,primaryPhone:Lt.primaryPhone||Lt.phone,commune:Lt.commune})),console.log(` RESULTADO FINAL: ${Z.length} beneficiarios para dashboard de ${Ie.name}`)}else console.warn(" No se encontr operador en Firebase para:",e==null?void 0:e.email),console.log(" Operadores disponibles en Firebase:",Ce.map(re=>({name:re.name,email:re.email,id:re.id})))}catch(F){console.error(" Error consultando Firebase directamente:",F),console.log(" Fallback: intentando usar store...");const{operators:Me,operatorAssignments:Ce}=Rn.getState();if(Me.length>0){console.log(" Store tiene operadores, usando fallback...");const Be=(M=e==null?void 0:e.email)==null?void 0:M.toLowerCase().trim(),Ie=Me.find(re=>{var Ve;return((Ve=re.email)==null?void 0:Ve.toLowerCase().trim())===Be});Ie&&(Z=(Ce[Ie.id]||[]).map(Ve=>({id:Ve.id,operator:Ie.name,operatorName:Ie.name,operatorEmail:Ie.email,beneficiary:Ve.beneficiary,primaryPhone:Ve.primaryPhone||Ve.phone,commune:Ve.commune})),console.log(` Fallback exitoso: ${Z.length} asignaciones`))}}}let ie=[...G];if(!r){const F=(H=t==null?void 0:t.email)==null?void 0:H.toLowerCase().trim();console.log(` Filtrando seguimientos para: ${F}`),console.log(` Total seguimientos del Excel ANTES de filtrar: ${xe.length}`);let Me=0;const Ce=xe.filter(re=>{var ot;const Ve=(ot=re.operatorEmail)==null?void 0:ot.toLowerCase().trim(),bt=Ve&&Ve===F;return bt&&Me<5&&(console.log(" Seguimiento VLIDO para esta teleoperadora:",{beneficiario:re.beneficiary,operadorEmail:Ve,operadorNombre:re.operator,ultimaLlamada:re.lastCall,llamadas:re.callCount}),Me++),bt});console.log(` Seguimientos Excel filtrados para ${F}: ${Ce.length}`),Ce.length===0?(console.error(" NO se encontraron seguimientos para este email"),console.log(" Verificar que el operatorEmail en los datos del Excel sea:",F),console.log(" Muestra de emails en los datos:",xe.slice(0,5).map(re=>re.operatorEmail))):console.log(" Muestra de seguimientos filtrados:",Ce.slice(0,3));const Be=Ce.map((re,Ve)=>{var Yn,qt,Yt,vt,Nt,ur;const bt=((Yn=re.lastCall)==null?void 0:Yn.toLowerCase().includes("exitoso"))||((qt=re.lastCall)==null?void 0:qt.toLowerCase().includes("contactado"))||((Yt=re.lastCall)==null?void 0:Yt.toLowerCase().includes("atendido"))||((vt=re.lastCall)==null?void 0:vt.toLowerCase().includes("respondi"))||re.status==="al-dia"||re.callCount>0;let ot;if(re.lastCallDate)ot=new Date(re.lastCallDate).toISOString();else if(re.fecha)ot=new Date(re.fecha).toISOString();else{const tr=new Date;tr.setDate(tr.getDate()-(bt?1:31)),ot=tr.toISOString()}const Lt={id:`excel_${re.id||Ve}_${Math.random()}`,beneficiarioId:re.beneficiary,beneficiario:re.beneficiary,telefono:re.phone||"Sin telfono",tipoContacto:"llamada",tipoResultado:bt?"exitoso":"no-respuesta",observaciones:`Registro del Excel: ${re.lastCall||re.status||"Contacto registrado"}`,fechaContacto:ot,operadorEmail:t==null?void 0:t.email,operadorNombre:(t==null?void 0:t.displayName)||(t==null?void 0:t.email),source:"excel"};return(Nt=re.beneficiary)!=null&&Nt.toLowerCase().includes("sergio")&&((ur=re.beneficiary)!=null&&ur.toLowerCase().includes("romn"))&&console.log(" CONVERSIN SERGIO:",{original:re,convertido:Lt}),Lt});ie=[...G,...Be],console.log(` Total seguimientos combinados: ${ie.length} (Firebase: ${G.length}, Excel: ${Be.length})`);const Ie=ie.filter(re=>{var Ve,bt;return((Ve=re.beneficiario)==null?void 0:Ve.toLowerCase().includes("sergio"))&&((bt=re.beneficiario)==null?void 0:bt.toLowerCase().includes("romn"))});Ie.length>0&&console.log(" SERGIO ROMN ROJAS encontrado en seguimientos:",Ie)}g(Z),v(ie),console.log(" VERIFICACIN FINAL:"),console.log(`   Beneficiarios cargados: ${Z.length}`),console.log(`   Seguimientos totales: ${ie.length}`);try{const{getOperatorMetrics:F}=hu.getState(),Me=a(),Ce=F(Me),Be=(U=t==null?void 0:t.email)==null?void 0:U.toLowerCase().trim(),Ie=Ce.find(re=>{var bt,ot;return((ot=(bt=re.operatorInfo)==null?void 0:bt.email)==null?void 0:ot.toLowerCase().trim())===Be});Ie?(console.log(" MTRICAS REALES DEL CALLSTORE:"),console.log(`    Total Llamadas: ${Ie.totalCalls}`),console.log(`    Llamadas Exitosas: ${Ie.successfulCalls}`),console.log(`    Llamadas Fallidas: ${Ie.failedCalls}`),console.log(`    Tasa de xito: ${Ie.successRate}%`),console.log(`    Asignados: ${Ie.assignedBeneficiaries}`),console.log(`    Contactados: ${Ie.contactedBeneficiaries}`),console.log(`    Min. Efectivos: ${Ie.totalEffectiveMinutes}`)):console.log(" No se encontraron mtricas en CallStore para este usuario")}catch(F){console.error(" Error verificando mtricas del CallStore:",F)}const we=Z.find(F=>{var Me,Ce;return((Me=F.beneficiary)==null?void 0:Me.toLowerCase().includes("sergio"))&&((Ce=F.beneficiary)==null?void 0:Ce.toLowerCase().includes("romn"))});if(we){console.log(" Sergio encontrado en beneficiarios:",we);const F=ie.filter(Me=>{var Ce,Be;return((Ce=Me.beneficiario)==null?void 0:Ce.toLowerCase().includes("sergio"))&&((Be=Me.beneficiario)==null?void 0:Be.toLowerCase().includes("romn"))});console.log(` Seguimientos de Sergio: ${F.length}`,F)}else console.log(" Sergio NO encontrado en beneficiarios")}catch(G){console.error("Error cargando datos del dashboard:",G)}finally{const G=(t==null?void 0:t.email)||(e==null?void 0:e.email);y(!1),x(!0,G)}},ne=async ee=>{try{console.log(" Guardando nuevo seguimiento:",ee);const M=U=>{const[G,ae]=U.split("T"),[de,xe,Z]=G.split("-"),[ie,we]=ae.split(":"),F=new Date;return F.setFullYear(parseInt(de)),F.setMonth(parseInt(xe)-1),F.setDate(parseInt(Z)),F.setHours(parseInt(ie)),F.setMinutes(parseInt(we)),F.setSeconds(0),F.setMilliseconds(0),F};console.log(" Fecha original:",ee.fechaContacto),console.log(" Fecha convertida:",M(ee.fechaContacto));const H={beneficiarioId:ee.beneficiarioId,beneficiarioNombre:ee.beneficiario,telefono:ee.telefono,tipoContacto:ee.tipoContacto,resultado:ee.tipoResultado,observaciones:ee.observaciones,fechaContacto:M(ee.fechaContacto),operadorEmail:t==null?void 0:t.email,operadorNombre:(t==null?void 0:t.displayName)||(t==null?void 0:t.email)};await l(H),console.log(" Seguimiento guardado exitosamente y sincronizado con calendario"),await te(),_(!1),C(null)}catch(M){throw console.error(" Error guardando seguimiento:",M),new Error("Error al guardar el contacto. Intenta nuevamente.")}},Q=ee=>{var xe,Z;const M=h.filter(ie=>ie.beneficiarioId===ee.id||ie.beneficiario===ee.beneficiary),H=((xe=ee.beneficiary)==null?void 0:xe.toLowerCase().includes("sergio"))&&((Z=ee.beneficiary)==null?void 0:Z.toLowerCase().includes("romn"));if(H&&(console.log(" DEBUG SERGIO ROMN ROJAS:"),console.log("   Beneficiario:",ee.beneficiary),console.log("   ID:",ee.id),console.log("   Seguimientos encontrados:",M.length),console.log("   Seguimientos:",M),console.log("   Total seguimientos disponibles:",h.length)),M.length===0)return H&&console.log("    Sin seguimientos - estado URGENTE"),{estado:"urgente",ultimoContacto:null,diasSinContacto:null};const U=M.filter(ie=>ie.tipoResultado==="exitoso");if(H&&(console.log("   Contactos exitosos:",U.length),U.forEach(ie=>console.log("     -",ie.fechaContacto,ie.tipoResultado))),U.length===0)return H&&console.log("    Sin contactos exitosos - estado URGENTE"),{estado:"urgente",ultimoContacto:null,diasSinContacto:null};const G=U.sort((ie,we)=>new Date(we.fechaContacto)-new Date(ie.fechaContacto))[0],ae=Math.floor((new Date-new Date(G.fechaContacto))/(1e3*60*60*24));let de;return ae<=15?de="al-dia":ae<=30?de="pendiente":de="urgente",H&&(console.log("    ltimo contacto:",G.fechaContacto),console.log("    Das sin contacto:",ae),console.log("    Estado final:",de)),{estado:de,ultimoContacto:G.fechaContacto,diasSinContacto:ae,totalSeguimientos:M.length}},z=A.useMemo(()=>{var ee;try{if(m)return console.log(" [DASHBOARD] Datos en carga, esperando..."),{assignedBeneficiaries:0,contactedBeneficiaries:0,uncontactedBeneficiaries:0,totalCalls:0,successfulCalls:0,failedCalls:0,successRate:0,totalEffectiveMinutes:0,averageMinutesPerCall:0,averageCallsPerBeneficiary:0,hasRealData:!1,isLoading:!0};const M=f&&f.length>0,H=h&&h.length>0;if(console.log(" [DASHBOARD] Validacin de datos necesarios:",{isLoading:m,hasValidBeneficiarios:M,beneficiariosCount:(f==null?void 0:f.length)||0,hasValidSeguimientos:H,seguimientosCount:(h==null?void 0:h.length)||0}),!M&&!H)return console.log(" [DASHBOARD] Sin datos disponibles an..."),{assignedBeneficiaries:0,contactedBeneficiaries:0,uncontactedBeneficiaries:0,totalCalls:0,successfulCalls:0,failedCalls:0,successRate:0,totalEffectiveMinutes:0,averageMinutesPerCall:0,averageCallsPerBeneficiary:0,hasRealData:!1};const U=(f==null?void 0:f.length)||0,G=(h==null?void 0:h.length)||0;console.log(" [DASHBOARD] Calculando mtricas con:",{totalBeneficiarios:U,totalSeguimientos:G});const ae=(ee=t==null?void 0:t.email)==null?void 0:ee.toLowerCase().trim(),{getOperatorMetrics:de}=hu.getState(),xe=a(),Z=de(xe);console.log(` Buscando mtricas para: ${ae}`),console.log(` Total operadores en CallStore: ${Z.length}`);const ie=Z.find(we=>{var re,Ve,bt,ot;const F=(Ve=(re=we.operatorInfo)==null?void 0:re.email)==null?void 0:Ve.toLowerCase().trim(),Me=(bt=we.operatorName)==null?void 0:bt.toLowerCase().trim(),Ce=(ot=t==null?void 0:t.displayName)==null?void 0:ot.toLowerCase().trim(),Be=F&&F===ae,Ie=Me&&Ce&&(Me===Ce||Me.includes(Ce)||Ce.includes(Me));return(Be||Ie)&&console.log(" Match encontrado:",{email:F,nombre:Me,matchType:Be?"email":"nombre"}),Be||Ie});if(ie)return console.log(" [DASHBOARD] Mtricas REALES del CallStore:",{operador:ie.operatorName,asignados:ie.assignedBeneficiaries,contactados:ie.contactedBeneficiaries,cobertura:ie.coverageRate+"%",totalLlamadas:ie.totalCalls,exitosas:ie.successfulCalls,fallidas:ie.failedCalls,tasaExito:ie.successRate+"%"}),{assignedBeneficiaries:ie.assignedBeneficiaries,contactedBeneficiaries:ie.contactedBeneficiaries,uncontactedBeneficiaries:ie.pendingBeneficiaries,totalCalls:ie.totalCalls,successfulCalls:ie.successfulCalls,failedCalls:ie.failedCalls,successRate:ie.successRate,coverageRate:ie.coverageRate,totalEffectiveMinutes:ie.totalEffectiveMinutes,averageMinutesPerCall:Math.round(ie.averageDuration/60),averageCallsPerBeneficiary:ie.assignedBeneficiaries>0?Math.round(ie.totalCalls/ie.assignedBeneficiaries*10)/10:0,hasRealData:!0};{console.warn(" [DASHBOARD] NO se encontraron mtricas en CallStore para:",{userEmail:ae,userName:t==null?void 0:t.displayName,operatorsEnCallStore:Z.map(re=>re.operatorName)}),console.log(" [DASHBOARD] Usando mtodo de clculo manual como fallback");let we=0,F=0,Me=new Set;h.forEach(re=>{we++;const Ve=re.beneficiarioId||re.beneficiario||re.id;Ve&&Me.add(String(Ve).toUpperCase()),(re.tipoResultado==="exitoso"||re.estado==="exitoso"||re.resultado==="exitoso")&&F++});const Ce=Me.size,Be=U-Ce,Ie=we>0?Math.round(F/we*100):0;return console.log(" [DASHBOARD] Mtricas calculadas manualmente (fallback):",{totalBeneficiarios:U,contactados:Ce,sinContactar:Be,totalLlamadas:we,llamadasExitosas:F,tasaExito:Ie}),{assignedBeneficiaries:U,contactedBeneficiaries:Ce,uncontactedBeneficiaries:Be,totalCalls:we,successfulCalls:F,failedCalls:we-F,successRate:Ie,totalEffectiveMinutes:0,averageMinutesPerCall:0,averageCallsPerBeneficiary:U>0?Math.round(we/U*10)/10:0,hasRealData:!0}}}catch(M){return console.error(" [DASHBOARD] Error obteniendo mtricas reales:",M),{assignedBeneficiaries:f.length,contactedBeneficiaries:0,uncontactedBeneficiaries:f.length,totalCalls:0,successfulCalls:0,failedCalls:0,successRate:0,totalEffectiveMinutes:0,averageMinutesPerCall:0,averageCallsPerBeneficiary:0,hasRealData:!1}}},[m,f,h,X,D]),j=A.useMemo(()=>{const ee=f.map(G=>({...G,...Q(G)})),M=ee.filter(G=>G.estado==="al-dia").length,H=ee.filter(G=>G.estado==="pendiente").length,U=ee.filter(G=>G.estado==="urgente").length;return{total:z.assignedBeneficiaries,contactados:z.contactedBeneficiaries,sinContactar:z.uncontactedBeneficiaries,alDia:M,pendientes:H,urgentes:U,totalLlamadas:z.totalCalls,llamadasExitosas:z.successfulCalls,llamadasFallidas:z.failedCalls,tasaExito:z.successRate,minutosEfectivos:z.totalEffectiveMinutes,beneficiariosConEstado:ee,tieneDataExcel:z.hasRealData}},[f,h,z]),ce=A.useMemo(()=>{let ee=j.beneficiariosConEstado;return T&&(ee=ee.filter(M=>{var H,U,G;return((H=M.beneficiary)==null?void 0:H.toLowerCase().includes(T.toLowerCase()))||((U=M.primaryPhone)==null?void 0:U.includes(T))||((G=M.commune)==null?void 0:G.toLowerCase().includes(T.toLowerCase()))})),N!=="todos"&&(ee=ee.filter(M=>N==="al-dia"?M.estado==="al-dia":N==="pendientes"?M.estado==="pendiente":N==="urgentes"?M.estado==="urgente":!0)),ee},[j.beneficiariosConEstado,T,N]);return m?d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:d.jsxs(Ne.div,{className:"text-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Cargando dashboard..."})]})}):d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center py-6",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(DP,{className:"w-8 h-8 text-teal-600"}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Seguimientos Peridicos"})]}),d.jsxs("p",{className:"text-gray-600 mt-1",children:["Cartera de beneficiarios - ",X]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs(Ne.button,{onClick:async()=>{console.log(" DEBUG COMPLETO - Estado actual:"),console.log(" Usuario autenticado:",{email:t==null?void 0:t.email,displayName:t==null?void 0:t.displayName,uid:t==null?void 0:t.uid});try{const{operatorService:H,assignmentService:U}=await ts(async()=>{const{operatorService:xe,assignmentService:Z}=await Promise.resolve().then(()=>hT);return{operatorService:xe,assignmentService:Z}},void 0),G=await H.getAll();console.log(" Operadores en Firebase:",G.length,G);const ae=await U.getAll();console.log(" Asignaciones en Firebase:",ae.length);const de=G.find(xe=>{var Z,ie;return((Z=xe.email)==null?void 0:Z.toLowerCase().includes("javiera"))||((ie=xe.email)==null?void 0:ie.toLowerCase())==="reyesalvaradojaviera@gmail.com"});if(de){console.log(" Javiera encontrada en Firebase:",de),console.log(" ESTRUCTURA DE ASIGNACIONES - Analizando..."),console.log(" Total asignaciones en Firebase:",ae.length);const xe=[...new Set(ae.map(F=>F.operatorId))];console.log(" OperatorIDs nicos en Firebase:",xe),console.log(" OperatorID de Javiera buscado:",de.id);const Z=ae.filter(F=>F.operatorId===de.id);console.log(` Asignaciones con operatorId ${de.id}:`,Z.length);const ie=ae.filter(F=>{const Me=F.operator||F.operatorName||"";return Me.toLowerCase().includes("javiera")||Me.toLowerCase().includes("reyes")});if(console.log(' Asignaciones con nombre "Javiera" o "Reyes":',ie.length),console.log(" ESTRUCTURA - Primeras 3 asignaciones:",ae.slice(0,3)),ae.length>0){const F=ae[0];console.log(" CAMPOS DE ASIGNACIN DISPONIBLES:",Object.keys(F)),console.log(" ASIGNACIN COMPLETA EJEMPLO:",F)}const we=ae.filter(F=>{const Me=F.operatorId,Ce=F.operator||"",Be=F.operatorName||"",Ie=F.userId;return Me===de.id||Ce.toLowerCase().includes("javiera")||Ce.toLowerCase().includes("reyes")||Be.toLowerCase().includes("javiera")||Be.toLowerCase().includes("reyes")||Ie===de.id});console.log(" ASIGNACIONES POSIBLES DE JAVIERA (todos los mtodos):",we.length),we.length>0&&console.log(" Primeras 3 asignaciones encontradas:",we.slice(0,3))}else console.log(" Javiera NO encontrada en Firebase")}catch(H){console.error(" Error consultando Firebase:",H)}const{operators:ee,operatorAssignments:M}=Rn.getState();console.log(" Store - Operadores:",ee.length),console.log(" Store - Asignaciones:",Object.keys(M).length),console.log(" Beneficiarios cargados en dashboard:",f.length),console.log(" Recargando dashboard..."),await te()},className:"flex items-center gap-2 bg-orange-600 hover:bg-orange-700 text-white px-3 py-2 rounded-lg transition-colors shadow-sm text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(li,{className:"w-4 h-4"}),"Debug"]}),d.jsxs(Ne.button,{onClick:async()=>{console.log(" RECARGA COMPLETA - Firebase + Dashboard..."),y(!0);try{const{loadOperators:ee,loadAssignments:M}=Rn.getState();await ee(),await M(),await te()}catch(ee){console.error(" Error en recarga completa:",ee)}y(!1)},className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 text-white px-3 py-2 rounded-lg transition-colors shadow-sm text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(WM,{className:"w-4 h-4"}),"Cargar Firebase"]}),d.jsxs(Ne.button,{onClick:async()=>{console.log(" DIAGNSTICO COMPLETO DE MATCHING - Analizando por qu no encuentra asignaciones para Javiera"),console.log(" USUARIO ACTUAL:",{email:t==null?void 0:t.email,displayName:t==null?void 0:t.displayName,uid:t==null?void 0:t.uid,fullUser:t}),console.log(" VERIFICANDO OPERADORES DIRECTAMENTE DESDE FIREBASE...");try{const{operatorService:ae,assignmentService:de}=await ts(async()=>{const{operatorService:we,assignmentService:F}=await Promise.resolve().then(()=>hT);return{operatorService:we,assignmentService:F}},void 0),xe=await ae.getAll();console.log(" OPERADORES DESDE FIREBASE DIRECTO:",xe.length,xe);const Z=await de.getAll();console.log(" ASIGNACIONES DESDE FIREBASE DIRECTO:",Z.length);const ie=xe.find(we=>{var F,Me,Ce;return((F=we.email)==null?void 0:F.toLowerCase().includes("javiera"))||((Me=we.name)==null?void 0:Me.toLowerCase().includes("javiera"))||((Ce=we.email)==null?void 0:Ce.toLowerCase())==="reyesalvaradojaviera@gmail.com"});if(ie){console.log(" JAVIERA ENCONTRADA EN FIREBASE:",ie);const we=Z.filter(F=>F.operatorId===ie.id);console.log(` ASIGNACIONES DE JAVIERA: ${we.length}`,we.slice(0,3))}else console.warn(" JAVIERA NO ENCONTRADA EN FIREBASE"),console.log(" OPERADORES DISPONIBLES EN FIREBASE:",xe.map(we=>({id:we.id,name:we.name,email:we.email})))}catch(ae){console.error(" Error accediendo Firebase directo:",ae)}const{operators:ee,operatorAssignments:M}=Rn.getState();console.log(" OPERADORES EN STORE:",ee.length,ee),console.log(" ASIGNACIONES EN STORE:",Object.keys(M).length,M),console.log(" FORZANDO RECARGA DEL STORE...");const{loadOperators:H,loadAssignments:U}=Rn.getState();await H(),await U();const{operators:G}=Rn.getState();console.log(" OPERADORES DESPUS DE RECARGA:",G.length,G),G.length>0&&(console.log(" OPERADORES CARGADOS, RECARGANDO DASHBOARD..."),setTimeout(()=>{te()},500))},className:"flex items-center gap-2 bg-yellow-600 hover:bg-yellow-700 text-white px-3 py-2 rounded-lg transition-colors shadow-sm text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(oi,{className:"w-4 h-4"}),"Diagnstico"]}),d.jsxs(Ne.button,{onClick:()=>_(!0),className:"flex items-center gap-2 bg-teal-600 hover:bg-teal-700 text-white px-4 py-2 rounded-lg transition-colors shadow-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(W_,{className:"w-4 h-4"}),"Nuevo Contacto"]})]})]})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[d.jsx(Ih,{title:"Total Beneficiarios",value:j.total,subtitle:"Mis beneficiarios asignados",icon:mn,color:"blue"}),d.jsx(Ih,{title:"Contactados",value:j.contactados,subtitle:"Beneficiarios con contacto",percentage:j.total>0?Math.round(j.contactados/j.total*100):0,icon:Vr,color:"green"}),d.jsx(Ih,{title:"Sin Contactar",value:j.sinContactar,subtitle:"Sin contacto registrado",percentage:j.total>0?Math.round(j.sinContactar/j.total*100):0,icon:na,color:"orange"}),d.jsx(Ih,{title:"Urgentes",value:j.urgentes,subtitle:"+30 das sin contacto",percentage:j.total>0?Math.round(j.urgentes/j.total*100):0,icon:li,color:"red"})]}),j.tieneDataExcel&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[d.jsx(Ih,{title:"Total Llamadas",value:j.totalLlamadas,subtitle:"Llamadas registradas",icon:Lr,color:"purple"}),d.jsx(Ih,{title:"Min. Efectivos",value:j.minutosEfectivos,subtitle:`${z.averageMinutesPerCall} min/llamada`,icon:na,color:"teal"})]}),!j.tieneDataExcel&&d.jsx("div",{className:"mb-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(li,{className:"w-6 h-6 text-yellow-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-yellow-900",children:"Sin datos de llamadas del Excel"}),d.jsx("p",{className:"text-sm text-yellow-700",children:"Las mtricas de llamadas no estn disponibles. Por favor, contacta al administrador para cargar el archivo Excel con tu historial de llamadas."})]})]})}),d.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[d.jsx("div",{className:"flex-1 max-w-md",children:d.jsxs("div",{className:"relative",children:[d.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),d.jsx("input",{type:"text",placeholder:"Buscar beneficiario, telfono o comuna...",value:T,onChange:ee=>P(ee.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent"})]})}),d.jsx("div",{className:"flex gap-2",children:[{key:"todos",label:"Todos",color:"teal"},{key:"al-dia",label:"Al Da",color:"green"},{key:"pendientes",label:"Pendientes",color:"yellow"},{key:"urgentes",label:"Urgentes",color:"red"}].map(ee=>d.jsx(Ne.button,{onClick:()=>O(ee.key),className:`px-4 py-2 rounded-lg font-medium text-sm transition-colors ${N===ee.key?`bg-${ee.color}-100 text-${ee.color}-800 border border-${ee.color}-300`:"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:ee.label},ee.key))})]})}),f.length===0?d.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[d.jsx(li,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:" No se encontraron asignaciones para tu usuario"}),d.jsxs("div",{className:"text-yellow-700 space-y-1",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Usuario:"})," ",t==null?void 0:t.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Nombre mostrado:"})," ",(t==null?void 0:t.displayName)||"No definido"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Nombre de operadora buscado:"})," ",t==null?void 0:t.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Total de asignaciones en sistema:"})," ",a().length]})]}),d.jsxs("details",{className:"mt-4 text-left",children:[d.jsx("summary",{className:"cursor-pointer text-yellow-800 font-medium",children:" Ver operadoras disponibles"}),d.jsx("div",{className:"mt-2 text-sm space-y-1",children:n.map(ee=>{var M;return d.jsxs("div",{className:"bg-yellow-100 p-2 rounded border",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Nombre:"})," ",ee.name]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Email:"})," ",ee.email]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Asignaciones:"})," ",((M=Rn.getState().operatorAssignments[ee.id])==null?void 0:M.length)||0]})]},ee.id)})})]}),d.jsxs(Ne.button,{onClick:async()=>{console.log(" Recarga simple de datos..."),await te()},className:"mt-4 flex items-center gap-2 bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg mx-auto transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:[d.jsx(WM,{className:"w-4 h-4"}),"Recargar asignaciones"]})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.jsx(ss,{children:ce.map(ee=>{const M=h.filter(H=>H.beneficiarioId===ee.id||H.beneficiario===ee.beneficiary);return d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:d.jsx(hIe,{beneficiario:ee,seguimientos:M,onNewContact:()=>{C(ee),_(!0)}})},ee.id)})})}),f.length>0&&d.jsxs("div",{className:"mt-8 text-center text-gray-500 text-sm",children:["Mostrando ",ce.length," de ",f.length," beneficiarios"]})]}),d.jsx(ss,{children:S&&d.jsx(mIe,{beneficiario:k,beneficiarios:f,onClose:()=>{_(!1),C(null)},onSave:ne})})]})};function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function gIe(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EY(e){var t=gIe(e,"string");return xc(t)=="symbol"?t:t+""}function Bd(e,t,r){return(t=EY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m5(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m5(Object(r),!0).forEach(function(n){Bd(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m5(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FE(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gl(e,t){if(e==null)return{};var r,n,a=FE(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p5(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EY(n.key),n)}}function Wn(e,t,r){return t&&p5(e.prototype,t),r&&p5(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cb(e){return Cb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cb(e)}function SY(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SY=function(){return!!e})()}function vIe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yIe(e,t){if(t&&(xc(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vIe(e)}function Qa(e,t,r){return t=Cb(t),yIe(e,SY()?Reflect.construct(t,r||[],Cb(e).constructor):t.apply(e,r))}function kb(e,t){return kb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},kb(e,t)}function Ja(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kb(e,t)}function TY(e){if(Array.isArray(e))return e}function xIe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Ck(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function sD(e,t){if(e){if(typeof e=="string")return Ck(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ck(e,t):void 0}}function AY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lf(e,t){return TY(e)||xIe(e,t)||sD(e,t)||AY()}function CY(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=CY(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function sn(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=CY(e))&&(n&&(n+=" "),n+=t);return n}function nn(){return nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nn.apply(null,arguments)}var wIe=function(e,t,r,n,a,i,s,o){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,n,a,i,s,o],u=0;l=new Error(t.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},bIe=wIe;const kv=cn(bIe);var _Ie=function(){};function EIe(e,t){var r={};return Object.keys(e).forEach(function(n){r[iw(n)]=_Ie}),r}function g5(e,t){return e[t]!==void 0}function iw(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function SIe(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function TIe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,kb(e,t)}function kY(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function NY(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function PY(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}kY.__suppressDeprecationWarning=!0;NY.__suppressDeprecationWarning=!0;PY.__suppressDeprecationWarning=!0;function AIe(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var i=e.displayName||e.name,s=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+i+" uses "+s+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=kY,t.componentWillReceiveProps=NY),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=PY;var o=t.componentDidUpdate;t.componentDidUpdate=function(c,u,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;o.call(this,c,u,h)}}return e}var CIe="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function IY(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=SIe(e),i=Object.keys(t),s=i.map(iw);a||!r.length||kv(!1);var o=function(c){TIe(u,c);function u(){for(var h,m=arguments.length,p=new Array(m),g=0;g<m;g++)p[g]=arguments[g];h=c.call.apply(c,[this].concat(p))||this,h.handlers=Object.create(null),i.forEach(function(y){var x=t[y],b=function(k){if(h.props[x]){var C;h._notifying=!0;for(var S=arguments.length,_=new Array(S>1?S-1:0),T=1;T<S;T++)_[T-1]=arguments[T];(C=h.props)[x].apply(C,[k].concat(_)),h._notifying=!1}h.unmounted||h.setState(function(P){var N,O=P.values;return{values:nn(Object.create(null),O,(N={},N[y]=k,N))}})};h.handlers[x]=b}),r.length&&(h.attachRef=function(y){h.inner=y});var v=Object.create(null);return i.forEach(function(y){v[y]=h.props[iw(y)]}),h.state={values:v,prevProps:{}},h}var f=u.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},u.getDerivedStateFromProps=function(m,p){var g=p.values,v=p.prevProps,y={values:nn(Object.create(null),g),prevProps:{}};return i.forEach(function(x){y.prevProps[x]=m[x],!g5(m,x)&&g5(v,x)&&(y.values[x]=m[iw(x)])}),y},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var m=this,p=this.props,g=p.innerRef,v=FE(p,["innerRef"]);s.forEach(function(x){delete v[x]});var y={};return i.forEach(function(x){var b=m.props[x];y[x]=b!==void 0?b:m.state.values[x]}),se.createElement(e,nn({},v,y,this.handlers,{ref:g||this.attachRef}))},u}(se.Component);AIe(o),o.displayName="Uncontrolled("+n+")",o.propTypes=nn({innerRef:function(){}},EIe(t)),r.forEach(function(c){o.prototype[c]=function(){var f;return(f=this.inner)[c].apply(f,arguments)}});var l=o;return se.forwardRef&&(l=se.forwardRef(function(c,u){return se.createElement(o,nn({},c,{innerRef:u,__source:{fileName:CIe,lineNumber:128},__self:this}))}),l.propTypes=o.propTypes),l.ControlledComponent=e,l.deferControlTo=function(c,u,f){return u===void 0&&(u={}),IY(c,nn({},t,u),f)},l}var OY={exports:{}},kIe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",NIe=kIe,PIe=NIe;function DY(){}function jY(){}jY.resetWarningCache=DY;var IIe=function(){function e(n,a,i,s,o,l){if(l!==PIe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:jY,resetWarningCache:DY};return r.PropTypes=r,r};OY.exports=IIe();var OIe=OY.exports;const Fe=cn(OIe);var Nb="milliseconds",Nv="seconds",Pv="minutes",Iv="hours",$f="day",q0="week",Ov="month",Bf="year",Uf="decade",Vf="century",RY={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},DIe={month:1,year:12,decade:10*12,century:100*12};function jIe(e){return[31,RIe(e),31,30,31,30,31,31,30,31,30,31]}function RIe(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Ro(e,t,r){switch(e=new Date(e),r){case Nb:case Nv:case Pv:case Iv:case $f:case q0:return MIe(e,t*RY[r]);case Ov:case Bf:case Uf:case Vf:return FIe(e,t*DIe[r])}throw new TypeError('Invalid units: "'+r+'"')}function MIe(e,t){var r=new Date(+e+t);return LIe(e,r)}function FIe(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),i=r*12+n+t,s=Math.trunc(i/12),o=i%12,l=Math.min(a,jIe(s)[o]),c=new Date(e);return c.setFullYear(s),c.setDate(1),c.setMonth(o),c.setDate(l),c}function LIe(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*RY.minutes)}function Dv(e,t,r){return Ro(e,-t,r)}function Sa(e,t,r){switch(e=new Date(e),t){case Vf:case Uf:case Bf:e=Ib(e,0);case Ov:e=BY(e,1);case q0:case $f:e=Mv(e,0);case Iv:e=Y0(e,0);case Pv:e=Rv(e,0);case Nv:e=jv(e,0)}return t===Uf&&(e=Dv(e,zf(e)%10,"year")),t===Vf&&(e=Dv(e,zf(e)%100,"year")),t===q0&&(e=UY(e,0,r)),e}function Pb(e,t,r){switch(e=new Date(e),e=Sa(e,t,r),t){case Vf:case Uf:case Bf:case Ov:case q0:e=Ro(e,1,t),e=Dv(e,1,$f),e.setHours(23,59,59,999);break;case $f:e.setHours(23,59,59,999);break;case Iv:case Pv:case Nv:e=Ro(e,1,t),e=Dv(e,1,Nb)}return e}var Om=jm(function(e,t){return e===t}),oD=jm(function(e,t){return e!==t}),LE=jm(function(e,t){return e>t}),Ry=jm(function(e,t){return e>=t}),lD=jm(function(e,t){return e<t}),Dm=jm(function(e,t){return e<=t});function MY(){return new Date(Math.min.apply(Math,arguments))}function FY(){return new Date(Math.max.apply(Math,arguments))}function LY(e,t,r,n){return n=n||"day",(!t||Ry(e,t,n))&&(!r||Dm(e,r,n))}var jv=md("Milliseconds"),Rv=md("Seconds"),Y0=md("Minutes"),Mv=md("Hours"),$Y=md("Day"),BY=md("Date"),Ib=md("Month"),zf=md("FullYear");function $Ie(e,t){return t===void 0?zf(Sa(e,Uf)):Ro(e,t+10,Bf)}function BIe(e,t){return t===void 0?zf(Sa(e,Vf)):Ro(e,t+100,Bf)}function UY(e,t,r){var n=($Y(e)+7-(r||0))%7;return t===void 0?n:Ro(e,t-n,$f)}function UIe(e,t,r,n){var a,i,s;switch(r){case Nb:case Nv:case Pv:case Iv:case $f:case q0:a=t.getTime()-e.getTime();break;case Ov:case Bf:case Uf:case Vf:a=(zf(t)-zf(e))*12+Ib(t)-Ib(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case Nb:i=1;break;case Nv:i=1e3;break;case Pv:i=1e3*60;break;case Iv:i=1e3*60*60;break;case $f:i=1e3*60*60*24;break;case q0:i=1e3*60*60*24*7;break;case Ov:i=1;break;case Bf:i=12;break;case Uf:i=120;break;case Vf:i=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return s=a/i,n?s:Math.round(s)}function md(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function jm(e){return function(t,r,n){return e(+Sa(t,n),+Sa(r,n))}}const v5=Object.freeze(Object.defineProperty({__proto__:null,add:Ro,century:BIe,date:BY,day:$Y,decade:$Ie,diff:UIe,endOf:Pb,eq:Om,gt:LE,gte:Ry,hours:Mv,inRange:LY,lt:lD,lte:Dm,max:FY,milliseconds:jv,min:MY,minutes:Y0,month:Ib,neq:oD,seconds:Rv,startOf:Sa,subtract:Dv,weekday:UY,year:zf},Symbol.toStringTag,{value:"Module"}));function VIe(e){if(Array.isArray(e))return Ck(e)}function VY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sw(e){return VIe(e)||VY(e)||sD(e)||zIe()}function WIe(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var zY=WIe;function HIe(e,t){return e===t||e!==e&&t!==t}var My=HIe,GIe=typeof Ds=="object"&&Ds&&Ds.Object===Object&&Ds,WY=GIe,KIe=WY,qIe=typeof self=="object"&&self&&self.Object===Object&&self,YIe=KIe||qIe||Function("return this")(),Tl=YIe,XIe=Tl,QIe=XIe.Symbol,Rm=QIe,y5=Rm,HY=Object.prototype,JIe=HY.hasOwnProperty,ZIe=HY.toString,_p=y5?y5.toStringTag:void 0;function eOe(e){var t=JIe.call(e,_p),r=e[_p];try{e[_p]=void 0;var n=!0}catch{}var a=ZIe.call(e);return n&&(t?e[_p]=r:delete e[_p]),a}var tOe=eOe,rOe=Object.prototype,nOe=rOe.toString;function aOe(e){return nOe.call(e)}var iOe=aOe,x5=Rm,sOe=tOe,oOe=iOe,lOe="[object Null]",cOe="[object Undefined]",w5=x5?x5.toStringTag:void 0;function uOe(e){return e==null?e===void 0?cOe:lOe:w5&&w5 in Object(e)?sOe(e):oOe(e)}var Mm=uOe;function dOe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Pc=dOe,fOe=Mm,hOe=Pc,mOe="[object AsyncFunction]",pOe="[object Function]",gOe="[object GeneratorFunction]",vOe="[object Proxy]";function yOe(e){if(!hOe(e))return!1;var t=fOe(e);return t==pOe||t==gOe||t==mOe||t==vOe}var cD=yOe,xOe=9007199254740991;function wOe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=xOe}var uD=wOe,bOe=cD,_Oe=uD;function EOe(e){return e!=null&&_Oe(e.length)&&!bOe(e)}var Fy=EOe,SOe=9007199254740991,TOe=/^(?:0|[1-9]\d*)$/;function AOe(e,t){var r=typeof e;return t=t??SOe,!!t&&(r=="number"||r!="symbol"&&TOe.test(e))&&e>-1&&e%1==0&&e<t}var dD=AOe,COe=My,kOe=Fy,NOe=dD,POe=Pc;function IOe(e,t,r){if(!POe(r))return!1;var n=typeof t;return(n=="number"?kOe(r)&&NOe(t,r.length):n=="string"&&t in r)?COe(r[t],e):!1}var $E=IOe,OOe=/\s/;function DOe(e){for(var t=e.length;t--&&OOe.test(e.charAt(t)););return t}var jOe=DOe,ROe=jOe,MOe=/^\s+/;function FOe(e){return e&&e.slice(0,ROe(e)+1).replace(MOe,"")}var LOe=FOe;function $Oe(e){return e!=null&&typeof e=="object"}var pd=$Oe,BOe=Mm,UOe=pd,VOe="[object Symbol]";function zOe(e){return typeof e=="symbol"||UOe(e)&&BOe(e)==VOe}var Ly=zOe,WOe=LOe,b5=Pc,HOe=Ly,_5=NaN,GOe=/^[-+]0x[0-9a-f]+$/i,KOe=/^0b[01]+$/i,qOe=/^0o[0-7]+$/i,YOe=parseInt;function XOe(e){if(typeof e=="number")return e;if(HOe(e))return _5;if(b5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=b5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=WOe(e);var r=KOe.test(e);return r||qOe.test(e)?YOe(e.slice(2),r?2:8):GOe.test(e)?_5:+e}var QOe=XOe,JOe=QOe,E5=1/0,ZOe=17976931348623157e292;function eDe(e){if(!e)return e===0?e:0;if(e=JOe(e),e===E5||e===-E5){var t=e<0?-1:1;return t*ZOe}return e===e?e:0}var GY=eDe,tDe=GY;function rDe(e){var t=tDe(e),r=t%1;return t===t?r?t-r:t:0}var KY=rDe,nDe=zY,aDe=$E,iDe=KY,sDe=Math.ceil,oDe=Math.max;function lDe(e,t,r){(r?aDe(e,t,r):t===void 0)?t=1:t=oDe(iDe(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,i=0,s=Array(sDe(n/t));a<n;)s[i++]=nDe(e,a,a+=t);return s}var cDe=lDe;const uDe=cn(cDe);function $y(e){return e&&e.ownerDocument||document}function dDe(e){var t=$y(e);return t&&t.defaultView||window}function fDe(e,t){return dDe(e).getComputedStyle(e,t)}var hDe=/([A-Z])/g;function mDe(e){return e.replace(hDe,"-$1").toLowerCase()}var pDe=/^ms-/;function d1(e){return mDe(e).replace(pDe,"-ms-")}var gDe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function vDe(e){return!!(e&&gDe.test(e))}function Bh(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(d1(t))||fDe(e).getPropertyValue(d1(t));Object.keys(t).forEach(function(a){var i=t[a];!i&&i!==0?e.style.removeProperty(d1(a)):vDe(a)?n+=a+"("+i+") ":r+=d1(a)+": "+i+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function Fv(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function yDe(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function fD(e){return"window"in e&&e.window===e?e:yDe(e)&&e.defaultView||!1}function qY(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var i=fD(n);if(a===void 0)return i?i[e]:n[t];i?i.scrollTo(i[e],a):n[t]=a}return r}const YY=qY("pageXOffset"),XY=qY("pageYOffset");function lf(e){var t=$y(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!Fv(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+XY(n)-(n.clientTop||0),left:r.left+YY(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var xDe=function(t){return!!t&&"offsetParent"in t};function wDe(e){for(var t=$y(e),r=e&&e.offsetParent;xDe(r)&&r.nodeName!=="HTML"&&Bh(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var bDe=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function QY(e,t){var r={top:0,left:0},n;if(Bh(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||wDe(e);n=lf(e),bDe(a)!=="html"&&(r=lf(a));var i=String(Bh(a,"borderTopWidth")||0);r.top+=parseInt(i,10)-XY(a)||0;var s=String(Bh(a,"borderLeftWidth")||0);r.left+=parseInt(s,10)-YY(a)||0}var o=String(Bh(e,"marginTop")||0),l=String(Bh(e,"marginLeft")||0);return nn({},n,{top:n.top-r.top-(parseInt(o,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const hD=!!(typeof window<"u"&&window.document&&window.document.createElement);var S5=new Date().getTime();function _De(e){var t=new Date().getTime(),r=Math.max(0,16-(t-S5)),n=setTimeout(e,r);return S5=t,n}var EDe=["","webkit","moz","o","ms"],kk="clearTimeout",Nk=_De,T5=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};hD&&EDe.some(function(e){var t=T5(e,"request");return t in window&&(kk=T5(e,"cancel"),Nk=function(n){return window[t](n)}),!!Nk});var A5=function(t){typeof window[kk]=="function"&&window[kk](t)},JY=Nk,RT;function SDe(e,t){if(!RT){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;RT=function(i,s){return n.call(i,s)}}return RT(e,t)}var TDe=Function.prototype.bind.call(Function.prototype.call,[].slice);function ADe(e,t){return TDe(e.querySelectorAll(t))}var Pk=!1,Ik=!1;try{var MT={get passive(){return Pk=!0},get once(){return Ik=Pk=!0}};hD&&(window.addEventListener("test",MT,MT),window.removeEventListener("test",MT,!0))}catch{}function CDe(e,t,r,n){if(n&&typeof n!="boolean"&&!Ik){var a=n.once,i=n.capture,s=r;!Ik&&a&&(s=r.__once||function o(l){this.removeEventListener(t,o,i),r.call(this,l)},r.__once=s),e.addEventListener(t,s,Pk?n:i)}e.addEventListener(t,r,n)}function kDe(e){const t=A.useRef(e);return A.useEffect(()=>{t.current=e},[e]),t}function C5(e){const t=kDe(e);return A.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function k5(){return A.useState(null)}function NDe(){const e=A.useRef(!0),t=A.useRef(()=>e.current);return A.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function PDe(e){const t=NDe();return[e[0],A.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var ji="top",Ws="bottom",Hs="right",Ri="left",mD="auto",By=[ji,Ws,Hs,Ri],X0="start",Lv="end",IDe="clippingParents",ZY="viewport",Ep="popper",ODe="reference",N5=By.reduce(function(e,t){return e.concat([t+"-"+X0,t+"-"+Lv])},[]),pD=[].concat(By,[mD]).reduce(function(e,t){return e.concat([t,t+"-"+X0,t+"-"+Lv])},[]),DDe="beforeRead",jDe="read",RDe="afterRead",MDe="beforeMain",FDe="main",LDe="afterMain",$De="beforeWrite",BDe="write",UDe="afterWrite",VDe=[DDe,jDe,RDe,MDe,FDe,LDe,$De,BDe,UDe];function ul(e){return e.split("-")[0]}function os(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Wf(e){var t=os(e).Element;return e instanceof t||e instanceof Element}function dl(e){var t=os(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function gD(e){if(typeof ShadowRoot>"u")return!1;var t=os(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var cf=Math.max,Ob=Math.min,Q0=Math.round;function Ok(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function eX(){return!/^((?!chrome|android).)*safari/i.test(Ok())}function J0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,i=1;t&&dl(e)&&(a=e.offsetWidth>0&&Q0(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Q0(n.height)/e.offsetHeight||1);var s=Wf(e)?os(e):window,o=s.visualViewport,l=!eX()&&r,c=(n.left+(l&&o?o.offsetLeft:0))/a,u=(n.top+(l&&o?o.offsetTop:0))/i,f=n.width/a,h=n.height/i;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c,x:c,y:u}}function vD(e){var t=J0(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function tX(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&gD(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function qu(e){return e?(e.nodeName||"").toLowerCase():null}function wc(e){return os(e).getComputedStyle(e)}function zDe(e){return["table","td","th"].indexOf(qu(e))>=0}function gd(e){return((Wf(e)?e.ownerDocument:e.document)||window.document).documentElement}function BE(e){return qu(e)==="html"?e:e.assignedSlot||e.parentNode||(gD(e)?e.host:null)||gd(e)}function P5(e){return!dl(e)||wc(e).position==="fixed"?null:e.offsetParent}function WDe(e){var t=/firefox/i.test(Ok()),r=/Trident/i.test(Ok());if(r&&dl(e)){var n=wc(e);if(n.position==="fixed")return null}var a=BE(e);for(gD(a)&&(a=a.host);dl(a)&&["html","body"].indexOf(qu(a))<0;){var i=wc(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function Uy(e){for(var t=os(e),r=P5(e);r&&zDe(r)&&wc(r).position==="static";)r=P5(r);return r&&(qu(r)==="html"||qu(r)==="body"&&wc(r).position==="static")?t:r||WDe(e)||t}function yD(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ag(e,t,r){return cf(e,Ob(t,r))}function HDe(e,t,r){var n=Ag(e,t,r);return n>r?r:n}function rX(){return{top:0,right:0,bottom:0,left:0}}function nX(e){return Object.assign({},rX(),e)}function aX(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var GDe=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,nX(typeof t!="number"?t:aX(t,By))};function KDe(e){var t,r=e.state,n=e.name,a=e.options,i=r.elements.arrow,s=r.modifiersData.popperOffsets,o=ul(r.placement),l=yD(o),c=[Ri,Hs].indexOf(o)>=0,u=c?"height":"width";if(!(!i||!s)){var f=GDe(a.padding,r),h=vD(i),m=l==="y"?ji:Ri,p=l==="y"?Ws:Hs,g=r.rects.reference[u]+r.rects.reference[l]-s[l]-r.rects.popper[u],v=s[l]-r.rects.reference[l],y=Uy(i),x=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,b=g/2-v/2,E=f[m],k=x-h[u]-f[p],C=x/2-h[u]/2+b,S=Ag(E,C,k),_=l;r.modifiersData[n]=(t={},t[_]=S,t.centerOffset=S-C,t)}}function qDe(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||tX(t.elements.popper,a)&&(t.elements.arrow=a))}const YDe={name:"arrow",enabled:!0,phase:"main",fn:KDe,effect:qDe,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Z0(e){return e.split("-")[1]}var XDe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function QDe(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:Q0(r*a)/a||0,y:Q0(n*a)/a||0}}function I5(e){var t,r=e.popper,n=e.popperRect,a=e.placement,i=e.variation,s=e.offsets,o=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,f=e.isFixed,h=s.x,m=h===void 0?0:h,p=s.y,g=p===void 0?0:p,v=typeof u=="function"?u({x:m,y:g}):{x:m,y:g};m=v.x,g=v.y;var y=s.hasOwnProperty("x"),x=s.hasOwnProperty("y"),b=Ri,E=ji,k=window;if(c){var C=Uy(r),S="clientHeight",_="clientWidth";if(C===os(r)&&(C=gd(r),wc(C).position!=="static"&&o==="absolute"&&(S="scrollHeight",_="scrollWidth")),C=C,a===ji||(a===Ri||a===Hs)&&i===Lv){E=Ws;var T=f&&C===k&&k.visualViewport?k.visualViewport.height:C[S];g-=T-n.height,g*=l?1:-1}if(a===Ri||(a===ji||a===Ws)&&i===Lv){b=Hs;var P=f&&C===k&&k.visualViewport?k.visualViewport.width:C[_];m-=P-n.width,m*=l?1:-1}}var N=Object.assign({position:o},c&&XDe),O=u===!0?QDe({x:m,y:g},os(r)):{x:m,y:g};if(m=O.x,g=O.y,l){var D;return Object.assign({},N,(D={},D[E]=x?"0":"",D[b]=y?"0":"",D.transform=(k.devicePixelRatio||1)<=1?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",D))}return Object.assign({},N,(t={},t[E]=x?g+"px":"",t[b]=y?m+"px":"",t.transform="",t))}function JDe(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,i=r.adaptive,s=i===void 0?!0:i,o=r.roundOffsets,l=o===void 0?!0:o,c={placement:ul(t.placement),variation:Z0(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,I5(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,I5(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const ZDe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:JDe,data:{}};var f1={passive:!0};function eje(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,i=a===void 0?!0:a,s=n.resize,o=s===void 0?!0:s,l=os(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",r.update,f1)}),o&&l.addEventListener("resize",r.update,f1),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",r.update,f1)}),o&&l.removeEventListener("resize",r.update,f1)}}const tje={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:eje,data:{}};var rje={left:"right",right:"left",bottom:"top",top:"bottom"};function ow(e){return e.replace(/left|right|bottom|top/g,function(t){return rje[t]})}var nje={start:"end",end:"start"};function O5(e){return e.replace(/start|end/g,function(t){return nje[t]})}function xD(e){var t=os(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function wD(e){return J0(gd(e)).left+xD(e).scrollLeft}function aje(e,t){var r=os(e),n=gd(e),a=r.visualViewport,i=n.clientWidth,s=n.clientHeight,o=0,l=0;if(a){i=a.width,s=a.height;var c=eX();(c||!c&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:i,height:s,x:o+wD(e),y:l}}function ije(e){var t,r=gd(e),n=xD(e),a=(t=e.ownerDocument)==null?void 0:t.body,i=cf(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=cf(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-n.scrollLeft+wD(e),l=-n.scrollTop;return wc(a||r).direction==="rtl"&&(o+=cf(r.clientWidth,a?a.clientWidth:0)-i),{width:i,height:s,x:o,y:l}}function bD(e){var t=wc(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function iX(e){return["html","body","#document"].indexOf(qu(e))>=0?e.ownerDocument.body:dl(e)&&bD(e)?e:iX(BE(e))}function Cg(e,t){var r;t===void 0&&(t=[]);var n=iX(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),i=os(n),s=a?[i].concat(i.visualViewport||[],bD(n)?n:[]):n,o=t.concat(s);return a?o:o.concat(Cg(BE(s)))}function Dk(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function sje(e,t){var r=J0(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function D5(e,t,r){return t===ZY?Dk(aje(e,r)):Wf(t)?sje(t,r):Dk(ije(gd(e)))}function oje(e){var t=Cg(BE(e)),r=["absolute","fixed"].indexOf(wc(e).position)>=0,n=r&&dl(e)?Uy(e):e;return Wf(n)?t.filter(function(a){return Wf(a)&&tX(a,n)&&qu(a)!=="body"}):[]}function lje(e,t,r,n){var a=t==="clippingParents"?oje(e):[].concat(t),i=[].concat(a,[r]),s=i[0],o=i.reduce(function(l,c){var u=D5(e,c,n);return l.top=cf(u.top,l.top),l.right=Ob(u.right,l.right),l.bottom=Ob(u.bottom,l.bottom),l.left=cf(u.left,l.left),l},D5(e,s,n));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function sX(e){var t=e.reference,r=e.element,n=e.placement,a=n?ul(n):null,i=n?Z0(n):null,s=t.x+t.width/2-r.width/2,o=t.y+t.height/2-r.height/2,l;switch(a){case ji:l={x:s,y:t.y-r.height};break;case Ws:l={x:s,y:t.y+t.height};break;case Hs:l={x:t.x+t.width,y:o};break;case Ri:l={x:t.x-r.width,y:o};break;default:l={x:t.x,y:t.y}}var c=a?yD(a):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case X0:l[c]=l[c]-(t[u]/2-r[u]/2);break;case Lv:l[c]=l[c]+(t[u]/2-r[u]/2);break}}return l}function $v(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,i=r.strategy,s=i===void 0?e.strategy:i,o=r.boundary,l=o===void 0?IDe:o,c=r.rootBoundary,u=c===void 0?ZY:c,f=r.elementContext,h=f===void 0?Ep:f,m=r.altBoundary,p=m===void 0?!1:m,g=r.padding,v=g===void 0?0:g,y=nX(typeof v!="number"?v:aX(v,By)),x=h===Ep?ODe:Ep,b=e.rects.popper,E=e.elements[p?x:h],k=lje(Wf(E)?E:E.contextElement||gd(e.elements.popper),l,u,s),C=J0(e.elements.reference),S=sX({reference:C,element:b,placement:a}),_=Dk(Object.assign({},b,S)),T=h===Ep?_:C,P={top:k.top-T.top+y.top,bottom:T.bottom-k.bottom+y.bottom,left:k.left-T.left+y.left,right:T.right-k.right+y.right},N=e.modifiersData.offset;if(h===Ep&&N){var O=N[a];Object.keys(P).forEach(function(D){var X=[Hs,Ws].indexOf(D)>=0?1:-1,te=[ji,Ws].indexOf(D)>=0?"y":"x";P[D]+=O[te]*X})}return P}function cje(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,i=r.rootBoundary,s=r.padding,o=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?pD:l,u=Z0(n),f=u?o?N5:N5.filter(function(p){return Z0(p)===u}):By,h=f.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=f);var m=h.reduce(function(p,g){return p[g]=$v(e,{placement:g,boundary:a,rootBoundary:i,padding:s})[ul(g)],p},{});return Object.keys(m).sort(function(p,g){return m[p]-m[g]})}function uje(e){if(ul(e)===mD)return[];var t=ow(e);return[O5(e),t,O5(t)]}function dje(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,i=a===void 0?!0:a,s=r.altAxis,o=s===void 0?!0:s,l=r.fallbackPlacements,c=r.padding,u=r.boundary,f=r.rootBoundary,h=r.altBoundary,m=r.flipVariations,p=m===void 0?!0:m,g=r.allowedAutoPlacements,v=t.options.placement,y=ul(v),x=y===v,b=l||(x||!p?[ow(v)]:uje(v)),E=[v].concat(b).reduce(function(U,G){return U.concat(ul(G)===mD?cje(t,{placement:G,boundary:u,rootBoundary:f,padding:c,flipVariations:p,allowedAutoPlacements:g}):G)},[]),k=t.rects.reference,C=t.rects.popper,S=new Map,_=!0,T=E[0],P=0;P<E.length;P++){var N=E[P],O=ul(N),D=Z0(N)===X0,X=[ji,Ws].indexOf(O)>=0,te=X?"width":"height",ne=$v(t,{placement:N,boundary:u,rootBoundary:f,altBoundary:h,padding:c}),Q=X?D?Hs:Ri:D?Ws:ji;k[te]>C[te]&&(Q=ow(Q));var z=ow(Q),j=[];if(i&&j.push(ne[O]<=0),o&&j.push(ne[Q]<=0,ne[z]<=0),j.every(function(U){return U})){T=N,_=!1;break}S.set(N,j)}if(_)for(var ce=p?3:1,ee=function(G){var ae=E.find(function(de){var xe=S.get(de);if(xe)return xe.slice(0,G).every(function(Z){return Z})});if(ae)return T=ae,"break"},M=ce;M>0;M--){var H=ee(M);if(H==="break")break}t.placement!==T&&(t.modifiersData[n]._skip=!0,t.placement=T,t.reset=!0)}}const fje={name:"flip",enabled:!0,phase:"main",fn:dje,requiresIfExists:["offset"],data:{_skip:!1}};function j5(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function R5(e){return[ji,Hs,Ws,Ri].some(function(t){return e[t]>=0})}function hje(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,i=t.modifiersData.preventOverflow,s=$v(t,{elementContext:"reference"}),o=$v(t,{altBoundary:!0}),l=j5(s,n),c=j5(o,a,i),u=R5(l),f=R5(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":f})}const mje={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hje};function pje(e,t,r){var n=ul(e),a=[Ri,ji].indexOf(n)>=0?-1:1,i=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,s=i[0],o=i[1];return s=s||0,o=(o||0)*a,[Ri,Hs].indexOf(n)>=0?{x:o,y:s}:{x:s,y:o}}function gje(e){var t=e.state,r=e.options,n=e.name,a=r.offset,i=a===void 0?[0,0]:a,s=pD.reduce(function(u,f){return u[f]=pje(f,t.rects,i),u},{}),o=s[t.placement],l=o.x,c=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=s}const vje={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:gje};function yje(e){var t=e.state,r=e.name;t.modifiersData[r]=sX({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const xje={name:"popperOffsets",enabled:!0,phase:"read",fn:yje,data:{}};function wje(e){return e==="x"?"y":"x"}function bje(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,i=a===void 0?!0:a,s=r.altAxis,o=s===void 0?!1:s,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,f=r.padding,h=r.tether,m=h===void 0?!0:h,p=r.tetherOffset,g=p===void 0?0:p,v=$v(t,{boundary:l,rootBoundary:c,padding:f,altBoundary:u}),y=ul(t.placement),x=Z0(t.placement),b=!x,E=yD(y),k=wje(E),C=t.modifiersData.popperOffsets,S=t.rects.reference,_=t.rects.popper,T=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,P=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),N=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(C){if(i){var D,X=E==="y"?ji:Ri,te=E==="y"?Ws:Hs,ne=E==="y"?"height":"width",Q=C[E],z=Q+v[X],j=Q-v[te],ce=m?-_[ne]/2:0,ee=x===X0?S[ne]:_[ne],M=x===X0?-_[ne]:-S[ne],H=t.elements.arrow,U=m&&H?vD(H):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:rX(),ae=G[X],de=G[te],xe=Ag(0,S[ne],U[ne]),Z=b?S[ne]/2-ce-xe-ae-P.mainAxis:ee-xe-ae-P.mainAxis,ie=b?-S[ne]/2+ce+xe+de+P.mainAxis:M+xe+de+P.mainAxis,we=t.elements.arrow&&Uy(t.elements.arrow),F=we?E==="y"?we.clientTop||0:we.clientLeft||0:0,Me=(D=N==null?void 0:N[E])!=null?D:0,Ce=Q+Z-Me-F,Be=Q+ie-Me,Ie=Ag(m?Ob(z,Ce):z,Q,m?cf(j,Be):j);C[E]=Ie,O[E]=Ie-Q}if(o){var re,Ve=E==="x"?ji:Ri,bt=E==="x"?Ws:Hs,ot=C[k],Lt=k==="y"?"height":"width",Yn=ot+v[Ve],qt=ot-v[bt],Yt=[ji,Ri].indexOf(y)!==-1,vt=(re=N==null?void 0:N[k])!=null?re:0,Nt=Yt?Yn:ot-S[Lt]-_[Lt]-vt+P.altAxis,ur=Yt?ot+S[Lt]+_[Lt]-vt-P.altAxis:qt,tr=m&&Yt?HDe(Nt,ot,ur):Ag(m?Nt:Yn,ot,m?ur:qt);C[k]=tr,O[k]=tr-ot}t.modifiersData[n]=O}}const _je={name:"preventOverflow",enabled:!0,phase:"main",fn:bje,requiresIfExists:["offset"]};function Eje(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Sje(e){return e===os(e)||!dl(e)?xD(e):Eje(e)}function Tje(e){var t=e.getBoundingClientRect(),r=Q0(t.width)/e.offsetWidth||1,n=Q0(t.height)/e.offsetHeight||1;return r!==1||n!==1}function Aje(e,t,r){r===void 0&&(r=!1);var n=dl(t),a=dl(t)&&Tje(t),i=gd(t),s=J0(e,a,r),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((qu(t)!=="body"||bD(i))&&(o=Sje(t)),dl(t)?(l=J0(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=wD(i))),{x:s.left+o.scrollLeft-l.x,y:s.top+o.scrollTop-l.y,width:s.width,height:s.height}}function Cje(e){var t=new Map,r=new Set,n=[];e.forEach(function(i){t.set(i.name,i)});function a(i){r.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(o){if(!r.has(o)){var l=t.get(o);l&&a(l)}}),n.push(i)}return e.forEach(function(i){r.has(i.name)||a(i)}),n}function kje(e){var t=Cje(e);return VDe.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function Nje(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function Pje(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var M5={placement:"bottom",modifiers:[],strategy:"absolute"};function F5(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Ije(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,i=a===void 0?M5:a;return function(o,l,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},M5,i),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],h=!1,m={state:u,setOptions:function(y){var x=typeof y=="function"?y(u.options):y;g(),u.options=Object.assign({},i,u.options,x),u.scrollParents={reference:Wf(o)?Cg(o):o.contextElement?Cg(o.contextElement):[],popper:Cg(l)};var b=kje(Pje([].concat(n,u.options.modifiers)));return u.orderedModifiers=b.filter(function(E){return E.enabled}),p(),m.update()},forceUpdate:function(){if(!h){var y=u.elements,x=y.reference,b=y.popper;if(F5(x,b)){u.rects={reference:Aje(x,Uy(b),u.options.strategy==="fixed"),popper:vD(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(P){return u.modifiersData[P.name]=Object.assign({},P.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var k=u.orderedModifiers[E],C=k.fn,S=k.options,_=S===void 0?{}:S,T=k.name;typeof C=="function"&&(u=C({state:u,options:_,name:T,instance:m})||u)}}}},update:Nje(function(){return new Promise(function(v){m.forceUpdate(),v(u)})}),destroy:function(){g(),h=!0}};if(!F5(o,l))return m;m.setOptions(c).then(function(v){!h&&c.onFirstUpdate&&c.onFirstUpdate(v)});function p(){u.orderedModifiers.forEach(function(v){var y=v.name,x=v.options,b=x===void 0?{}:x,E=v.effect;if(typeof E=="function"){var k=E({state:u,name:y,instance:m,options:b}),C=function(){};f.push(k||C)}})}function g(){f.forEach(function(v){return v()}),f=[]}return m}}var Oje=Ije({defaultModifiers:[mje,xje,ZDe,tje,vje,fje,_je,YDe]}),L5=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},Dje={name:"applyStyles",enabled:!1},jje={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,i=n.popper;if("removeAttribute"in a){var s=(a.getAttribute("aria-describedby")||"").split(",").filter(function(o){return o.trim()!==i.id});s.length?a.setAttribute("aria-describedby",s.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,i=a.popper,s=a.reference,o=(r=i.getAttribute("role"))==null?void 0:r.toLowerCase();if(i.id&&o==="tooltip"&&"setAttribute"in s){var l=s.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(i.id)!==-1)return;s.setAttribute("aria-describedby",l?l+","+i.id:i.id)}}},Rje=[];function Mje(e,t,r){var n=r===void 0?{}:r,a=n.enabled,i=a===void 0?!0:a,s=n.placement,o=s===void 0?"bottom":s,l=n.strategy,c=l===void 0?"absolute":l,u=n.modifiers,f=u===void 0?Rje:u,h=FE(n,["enabled","placement","strategy","modifiers"]),m=A.useRef(),p=A.useCallback(function(){var E;(E=m.current)==null||E.update()},[]),g=A.useCallback(function(){var E;(E=m.current)==null||E.forceUpdate()},[]),v=PDe(A.useState({placement:o,update:p,forceUpdate:g,attributes:{},styles:{popper:L5(c),arrow:{}}})),y=v[0],x=v[1],b=A.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(k){var C=k.state,S={},_={};Object.keys(C.elements).forEach(function(T){S[T]=C.styles[T],_[T]=C.attributes[T]}),x({state:C,styles:S,attributes:_,update:p,forceUpdate:g,placement:C.placement})}}},[p,g,x]);return A.useEffect(function(){!m.current||!i||m.current.setOptions({placement:o,strategy:c,modifiers:[].concat(f,[b,Dje])})},[c,o,b,i]),A.useEffect(function(){if(!(!i||e==null||t==null))return m.current=Oje(e,t,nn({},h,{placement:o,strategy:c,modifiers:[].concat(f,[jje,b])})),function(){m.current!=null&&(m.current.destroy(),m.current=void 0,x(function(E){return nn({},E,{attributes:{},styles:{popper:L5(c)}})}))}},[i,e,t]),y}function Fje(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function Gp(e,t,r,n){return CDe(e,t,r,n),function(){Fje(e,t,r,n)}}var Lje=function(){},$je=Lje;const Bje=cn($je);function Uje(e){return e&&"setState"in e?ZV.findDOMNode(e):e??null}const Vje=function(e){return $y(Uje(e))};var zje=27,$5=function(){};function Wje(e){return e.button===0}function Hje(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var B5=function(t){return t&&("current"in t?t.current:t)};function Gje(e,t,r){var n=r===void 0?{}:r,a=n.disabled,i=n.clickTrigger,s=i===void 0?"click":i,o=A.useRef(!1),l=t||$5,c=A.useCallback(function(h){var m,p=B5(e);Bje(!!p,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),o.current=!p||Hje(h)||!Wje(h)||!!Fv(p,(m=h.composedPath==null?void 0:h.composedPath()[0])!=null?m:h.target)},[e]),u=C5(function(h){o.current||l(h)}),f=C5(function(h){h.keyCode===zje&&l(h)});A.useEffect(function(){if(!(a||e==null)){var h=window.event,m=Vje(B5(e)),p=Gp(m,s,c,!0),g=Gp(m,s,function(x){if(x===h){h=void 0;return}u(x)}),v=Gp(m,"keyup",function(x){if(x===h){h=void 0;return}f(x)}),y=[];return"ontouchstart"in m.documentElement&&(y=[].slice.call(m.body.children).map(function(x){return Gp(x,"mousemove",$5)})),function(){p(),g(),v(),y.forEach(function(x){return x()})}}},[e,a,s,c,u,f])}function Kje(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function qje(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function Yje(e){var t,r,n,a,i=e.enabled,s=e.enableEvents,o=e.placement,l=e.flip,c=e.offset,u=e.fixed,f=e.containerPadding,h=e.arrowElement,m=e.popperConfig,p=m===void 0?{}:m,g=Kje(p.modifiers);return nn({},p,{placement:o,enabled:i,strategy:u?"fixed":p.strategy,modifiers:qje(nn({},g,{eventListeners:{enabled:s},preventOverflow:nn({},g.preventOverflow,{options:f?nn({padding:f},(t=g.preventOverflow)==null?void 0:t.options):(r=g.preventOverflow)==null?void 0:r.options}),offset:{options:nn({offset:c},(n=g.offset)==null?void 0:n.options)},arrow:nn({},g.arrow,{enabled:!!h,options:nn({},(a=g.arrow)==null?void 0:a.options,{element:h})}),flip:nn({enabled:!!l},g.flip)}))})}function Xje(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function Qje(e,t){e.classList?e.classList.add(t):Xje(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function U5(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Jje(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=U5(e.className,t):e.setAttribute("class",U5(e.className&&e.className.baseVal||"",t))}var h1;function _D(e){if((!h1&&h1!==0||e)&&hD){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),h1=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return h1}var FT=function(t){var r;return typeof document>"u"?null:t==null?$y().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function V5(e,t){var r=A.useState(function(){return FT(e)}),n=r[0],a=r[1];if(!n){var i=FT(e);i&&a(i)}return A.useEffect(function(){},[t,n]),A.useEffect(function(){var s=FT(e);s!==n&&a(s)},[e,n]),n}const z5=e=>!e||typeof e=="function"?e:t=>{e.current=t};function Zje(e,t){const r=z5(e),n=z5(t);return a=>{r&&r(a),n&&n(a)}}function eRe(e,t){return A.useMemo(()=>Zje(e,t),[e,t])}var ED=se.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,i=e.containerPadding,s=i===void 0?5:i,o=e.popperConfig,l=o===void 0?{}:o,c=e.transition,u=k5(),f=u[0],h=u[1],m=k5(),p=m[0],g=m[1],v=eRe(h,t),y=V5(e.container),x=V5(e.target),b=A.useState(!e.show),E=b[0],k=b[1],C=Mje(x,f,Yje({placement:a,enableEvents:!!e.show,containerPadding:s||5,flip:r,offset:n,arrowElement:p,popperConfig:l})),S=C.styles,_=C.attributes,T=FE(C,["styles","attributes"]);e.show?E&&k(!1):!e.transition&&!E&&k(!0);var P=function(){k(!0),e.onExited&&e.onExited.apply(e,arguments)},N=e.show||c&&!E;if(Gje(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!N)return null;var O=e.children(nn({},T,{show:!!e.show,props:nn({},_.popper,{style:S.popper,ref:v}),arrowProps:nn({},_.arrow,{style:S.arrow,ref:g})}));if(c){var D=e.onExit,X=e.onExiting,te=e.onEnter,ne=e.onEntering,Q=e.onEntered;O=se.createElement(c,{in:e.show,appear:!0,onExit:D,onExiting:X,onExited:P,onEnter:te,onEntering:ne,onEntered:Q},O)}return y?ZV.createPortal(O,y):null});ED.displayName="Overlay";ED.propTypes={show:Fe.bool,placement:Fe.oneOf(pD),target:Fe.any,container:Fe.any,flip:Fe.bool,children:Fe.func.isRequired,containerPadding:Fe.number,popperConfig:Fe.object,rootClose:Fe.bool,rootCloseEvent:Fe.oneOf(["click","mousedown"]),rootCloseDisabled:Fe.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var i;return(i=Fe.func).isRequired.apply(i,[t].concat(n))}return Fe.func.apply(Fe,[t].concat(n))},transition:Fe.elementType,onEnter:Fe.func,onEntering:Fe.func,onEntered:Fe.func,onExit:Fe.func,onExiting:Fe.func,onExited:Fe.func};function tRe(){this.__data__=[],this.size=0}var rRe=tRe,nRe=My;function aRe(e,t){for(var r=e.length;r--;)if(nRe(e[r][0],t))return r;return-1}var UE=aRe,iRe=UE,sRe=Array.prototype,oRe=sRe.splice;function lRe(e){var t=this.__data__,r=iRe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():oRe.call(t,r,1),--this.size,!0}var cRe=lRe,uRe=UE;function dRe(e){var t=this.__data__,r=uRe(t,e);return r<0?void 0:t[r][1]}var fRe=dRe,hRe=UE;function mRe(e){return hRe(this.__data__,e)>-1}var pRe=mRe,gRe=UE;function vRe(e,t){var r=this.__data__,n=gRe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var yRe=vRe,xRe=rRe,wRe=cRe,bRe=fRe,_Re=pRe,ERe=yRe;function Fm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fm.prototype.clear=xRe;Fm.prototype.delete=wRe;Fm.prototype.get=bRe;Fm.prototype.has=_Re;Fm.prototype.set=ERe;var VE=Fm,SRe=VE;function TRe(){this.__data__=new SRe,this.size=0}var ARe=TRe;function CRe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var kRe=CRe;function NRe(e){return this.__data__.get(e)}var PRe=NRe;function IRe(e){return this.__data__.has(e)}var ORe=IRe,DRe=Tl,jRe=DRe["__core-js_shared__"],RRe=jRe,LT=RRe,W5=function(){var e=/[^.]+$/.exec(LT&&LT.keys&&LT.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function MRe(e){return!!W5&&W5 in e}var FRe=MRe,LRe=Function.prototype,$Re=LRe.toString;function BRe(e){if(e!=null){try{return $Re.call(e)}catch{}try{return e+""}catch{}}return""}var oX=BRe,URe=cD,VRe=FRe,zRe=Pc,WRe=oX,HRe=/[\\^$.*+?()[\]{}|]/g,GRe=/^\[object .+?Constructor\]$/,KRe=Function.prototype,qRe=Object.prototype,YRe=KRe.toString,XRe=qRe.hasOwnProperty,QRe=RegExp("^"+YRe.call(XRe).replace(HRe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function JRe(e){if(!zRe(e)||VRe(e))return!1;var t=URe(e)?QRe:GRe;return t.test(WRe(e))}var ZRe=JRe;function e4e(e,t){return e==null?void 0:e[t]}var t4e=e4e,r4e=ZRe,n4e=t4e;function a4e(e,t){var r=n4e(e,t);return r4e(r)?r:void 0}var hh=a4e,i4e=hh,s4e=Tl,o4e=i4e(s4e,"Map"),SD=o4e,l4e=hh,c4e=l4e(Object,"create"),zE=c4e,H5=zE;function u4e(){this.__data__=H5?H5(null):{},this.size=0}var d4e=u4e;function f4e(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var h4e=f4e,m4e=zE,p4e="__lodash_hash_undefined__",g4e=Object.prototype,v4e=g4e.hasOwnProperty;function y4e(e){var t=this.__data__;if(m4e){var r=t[e];return r===p4e?void 0:r}return v4e.call(t,e)?t[e]:void 0}var x4e=y4e,w4e=zE,b4e=Object.prototype,_4e=b4e.hasOwnProperty;function E4e(e){var t=this.__data__;return w4e?t[e]!==void 0:_4e.call(t,e)}var S4e=E4e,T4e=zE,A4e="__lodash_hash_undefined__";function C4e(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=T4e&&t===void 0?A4e:t,this}var k4e=C4e,N4e=d4e,P4e=h4e,I4e=x4e,O4e=S4e,D4e=k4e;function Lm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Lm.prototype.clear=N4e;Lm.prototype.delete=P4e;Lm.prototype.get=I4e;Lm.prototype.has=O4e;Lm.prototype.set=D4e;var j4e=Lm,G5=j4e,R4e=VE,M4e=SD;function F4e(){this.size=0,this.__data__={hash:new G5,map:new(M4e||R4e),string:new G5}}var L4e=F4e;function $4e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var B4e=$4e,U4e=B4e;function V4e(e,t){var r=e.__data__;return U4e(t)?r[typeof t=="string"?"string":"hash"]:r.map}var WE=V4e,z4e=WE;function W4e(e){var t=z4e(this,e).delete(e);return this.size-=t?1:0,t}var H4e=W4e,G4e=WE;function K4e(e){return G4e(this,e).get(e)}var q4e=K4e,Y4e=WE;function X4e(e){return Y4e(this,e).has(e)}var Q4e=X4e,J4e=WE;function Z4e(e,t){var r=J4e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var eMe=Z4e,tMe=L4e,rMe=H4e,nMe=q4e,aMe=Q4e,iMe=eMe;function $m(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$m.prototype.clear=tMe;$m.prototype.delete=rMe;$m.prototype.get=nMe;$m.prototype.has=aMe;$m.prototype.set=iMe;var TD=$m,sMe=VE,oMe=SD,lMe=TD,cMe=200;function uMe(e,t){var r=this.__data__;if(r instanceof sMe){var n=r.__data__;if(!oMe||n.length<cMe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new lMe(n)}return r.set(e,t),this.size=r.size,this}var dMe=uMe,fMe=VE,hMe=ARe,mMe=kRe,pMe=PRe,gMe=ORe,vMe=dMe;function Bm(e){var t=this.__data__=new fMe(e);this.size=t.size}Bm.prototype.clear=hMe;Bm.prototype.delete=mMe;Bm.prototype.get=pMe;Bm.prototype.has=gMe;Bm.prototype.set=vMe;var AD=Bm,yMe="__lodash_hash_undefined__";function xMe(e){return this.__data__.set(e,yMe),this}var wMe=xMe;function bMe(e){return this.__data__.has(e)}var _Me=bMe,EMe=TD,SMe=wMe,TMe=_Me;function Db(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new EMe;++t<r;)this.add(e[t])}Db.prototype.add=Db.prototype.push=SMe;Db.prototype.has=TMe;var AMe=Db;function CMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var kMe=CMe;function NMe(e,t){return e.has(t)}var PMe=NMe,IMe=AMe,OMe=kMe,DMe=PMe,jMe=1,RMe=2;function MMe(e,t,r,n,a,i){var s=r&jMe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,m=r&RMe?new IMe:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var p=e[f],g=t[f];if(n)var v=s?n(g,p,f,t,e,i):n(p,g,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(m){if(!OMe(t,function(y,x){if(!DMe(m,x)&&(p===y||a(p,y,r,n,i)))return m.push(x)})){h=!1;break}}else if(!(p===g||a(p,g,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var lX=MMe,FMe=Tl,LMe=FMe.Uint8Array,cX=LMe;function $Me(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var BMe=$Me;function UMe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var VMe=UMe,K5=Rm,q5=cX,zMe=My,WMe=lX,HMe=BMe,GMe=VMe,KMe=1,qMe=2,YMe="[object Boolean]",XMe="[object Date]",QMe="[object Error]",JMe="[object Map]",ZMe="[object Number]",e3e="[object RegExp]",t3e="[object Set]",r3e="[object String]",n3e="[object Symbol]",a3e="[object ArrayBuffer]",i3e="[object DataView]",Y5=K5?K5.prototype:void 0,$T=Y5?Y5.valueOf:void 0;function s3e(e,t,r,n,a,i,s){switch(r){case i3e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case a3e:return!(e.byteLength!=t.byteLength||!i(new q5(e),new q5(t)));case YMe:case XMe:case ZMe:return zMe(+e,+t);case QMe:return e.name==t.name&&e.message==t.message;case e3e:case r3e:return e==t+"";case JMe:var o=HMe;case t3e:var l=n&KMe;if(o||(o=GMe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=qMe,s.set(e,t);var u=WMe(o(e),o(t),n,a,i,s);return s.delete(e),u;case n3e:if($T)return $T.call(e)==$T.call(t)}return!1}var o3e=s3e;function l3e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var CD=l3e,c3e=Array.isArray,Qs=c3e,u3e=CD,d3e=Qs;function f3e(e,t,r){var n=t(e);return d3e(e)?n:u3e(n,r(e))}var uX=f3e;function h3e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var m3e=h3e;function p3e(){return[]}var dX=p3e,g3e=m3e,v3e=dX,y3e=Object.prototype,x3e=y3e.propertyIsEnumerable,X5=Object.getOwnPropertySymbols,w3e=X5?function(e){return e==null?[]:(e=Object(e),g3e(X5(e),function(t){return x3e.call(e,t)}))}:v3e,kD=w3e;function b3e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var _3e=b3e,E3e=Mm,S3e=pd,T3e="[object Arguments]";function A3e(e){return S3e(e)&&E3e(e)==T3e}var C3e=A3e,Q5=C3e,k3e=pd,fX=Object.prototype,N3e=fX.hasOwnProperty,P3e=fX.propertyIsEnumerable,I3e=Q5(function(){return arguments}())?Q5:function(e){return k3e(e)&&N3e.call(e,"callee")&&!P3e.call(e,"callee")},ND=I3e,jb={exports:{}};function O3e(){return!1}var D3e=O3e;jb.exports;(function(e,t){var r=Tl,n=D3e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(jb,jb.exports);var HE=jb.exports,j3e=Mm,R3e=uD,M3e=pd,F3e="[object Arguments]",L3e="[object Array]",$3e="[object Boolean]",B3e="[object Date]",U3e="[object Error]",V3e="[object Function]",z3e="[object Map]",W3e="[object Number]",H3e="[object Object]",G3e="[object RegExp]",K3e="[object Set]",q3e="[object String]",Y3e="[object WeakMap]",X3e="[object ArrayBuffer]",Q3e="[object DataView]",J3e="[object Float32Array]",Z3e="[object Float64Array]",eFe="[object Int8Array]",tFe="[object Int16Array]",rFe="[object Int32Array]",nFe="[object Uint8Array]",aFe="[object Uint8ClampedArray]",iFe="[object Uint16Array]",sFe="[object Uint32Array]",kr={};kr[J3e]=kr[Z3e]=kr[eFe]=kr[tFe]=kr[rFe]=kr[nFe]=kr[aFe]=kr[iFe]=kr[sFe]=!0;kr[F3e]=kr[L3e]=kr[X3e]=kr[$3e]=kr[Q3e]=kr[B3e]=kr[U3e]=kr[V3e]=kr[z3e]=kr[W3e]=kr[H3e]=kr[G3e]=kr[K3e]=kr[q3e]=kr[Y3e]=!1;function oFe(e){return M3e(e)&&R3e(e.length)&&!!kr[j3e(e)]}var lFe=oFe;function cFe(e){return function(t){return e(t)}}var GE=cFe,Rb={exports:{}};Rb.exports;(function(e,t){var r=WY,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Rb,Rb.exports);var PD=Rb.exports,uFe=lFe,dFe=GE,J5=PD,Z5=J5&&J5.isTypedArray,fFe=Z5?dFe(Z5):uFe,ID=fFe,hFe=_3e,mFe=ND,pFe=Qs,gFe=HE,vFe=dD,yFe=ID,xFe=Object.prototype,wFe=xFe.hasOwnProperty;function bFe(e,t){var r=pFe(e),n=!r&&mFe(e),a=!r&&!n&&gFe(e),i=!r&&!n&&!a&&yFe(e),s=r||n||a||i,o=s?hFe(e.length,String):[],l=o.length;for(var c in e)(t||wFe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||vFe(c,l)))&&o.push(c);return o}var hX=bFe,_Fe=Object.prototype;function EFe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||_Fe;return e===r}var OD=EFe;function SFe(e,t){return function(r){return e(t(r))}}var mX=SFe,TFe=mX,AFe=TFe(Object.keys,Object),CFe=AFe,kFe=OD,NFe=CFe,PFe=Object.prototype,IFe=PFe.hasOwnProperty;function OFe(e){if(!kFe(e))return NFe(e);var t=[];for(var r in Object(e))IFe.call(e,r)&&r!="constructor"&&t.push(r);return t}var DFe=OFe,jFe=hX,RFe=DFe,MFe=Fy;function FFe(e){return MFe(e)?jFe(e):RFe(e)}var Vy=FFe,LFe=uX,$Fe=kD,BFe=Vy;function UFe(e){return LFe(e,BFe,$Fe)}var pX=UFe,e$=pX,VFe=1,zFe=Object.prototype,WFe=zFe.hasOwnProperty;function HFe(e,t,r,n,a,i){var s=r&VFe,o=e$(e),l=o.length,c=e$(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:WFe.call(t,h)))return!1}var m=i.get(e),p=i.get(t);if(m&&p)return m==t&&p==e;var g=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<l;){h=o[f];var y=e[h],x=t[h];if(n)var b=s?n(x,y,h,t,e,i):n(y,x,h,e,t,i);if(!(b===void 0?y===x||a(y,x,r,n,i):b)){g=!1;break}v||(v=h=="constructor")}if(g&&!v){var E=e.constructor,k=t.constructor;E!=k&&"constructor"in e&&"constructor"in t&&!(typeof E=="function"&&E instanceof E&&typeof k=="function"&&k instanceof k)&&(g=!1)}return i.delete(e),i.delete(t),g}var GFe=HFe,KFe=hh,qFe=Tl,YFe=KFe(qFe,"DataView"),XFe=YFe,QFe=hh,JFe=Tl,ZFe=QFe(JFe,"Promise"),eLe=ZFe,tLe=hh,rLe=Tl,nLe=tLe(rLe,"Set"),aLe=nLe,iLe=hh,sLe=Tl,oLe=iLe(sLe,"WeakMap"),lLe=oLe,jk=XFe,Rk=SD,Mk=eLe,Fk=aLe,Lk=lLe,gX=Mm,Um=oX,t$="[object Map]",cLe="[object Object]",r$="[object Promise]",n$="[object Set]",a$="[object WeakMap]",i$="[object DataView]",uLe=Um(jk),dLe=Um(Rk),fLe=Um(Mk),hLe=Um(Fk),mLe=Um(Lk),jd=gX;(jk&&jd(new jk(new ArrayBuffer(1)))!=i$||Rk&&jd(new Rk)!=t$||Mk&&jd(Mk.resolve())!=r$||Fk&&jd(new Fk)!=n$||Lk&&jd(new Lk)!=a$)&&(jd=function(e){var t=gX(e),r=t==cLe?e.constructor:void 0,n=r?Um(r):"";if(n)switch(n){case uLe:return i$;case dLe:return t$;case fLe:return r$;case hLe:return n$;case mLe:return a$}return t});var KE=jd,BT=AD,pLe=lX,gLe=o3e,vLe=GFe,s$=KE,o$=Qs,l$=HE,yLe=ID,xLe=1,c$="[object Arguments]",u$="[object Array]",m1="[object Object]",wLe=Object.prototype,d$=wLe.hasOwnProperty;function bLe(e,t,r,n,a,i){var s=o$(e),o=o$(t),l=s?u$:s$(e),c=o?u$:s$(t);l=l==c$?m1:l,c=c==c$?m1:c;var u=l==m1,f=c==m1,h=l==c;if(h&&l$(e)){if(!l$(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new BT),s||yLe(e)?pLe(e,t,r,n,a,i):gLe(e,t,l,r,n,a,i);if(!(r&xLe)){var m=u&&d$.call(e,"__wrapped__"),p=f&&d$.call(t,"__wrapped__");if(m||p){var g=m?e.value():e,v=p?t.value():t;return i||(i=new BT),a(g,v,r,n,i)}}return h?(i||(i=new BT),vLe(e,t,r,n,a,i)):!1}var _Le=bLe,ELe=_Le,f$=pd;function vX(e,t,r,n,a){return e===t?!0:e==null||t==null||!f$(e)&&!f$(t)?e!==e&&t!==t:ELe(e,t,r,n,vX,a)}var DD=vX,SLe=DD;function TLe(e,t){return SLe(e,t)}var ALe=TLe;const CLe=cn(ALe);function UT(e,t){var r=fD(e);return r?r.innerHeight:lf(e).height}function yX(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(SDe(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function kLe(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var NLe=kLe,PLe=AD,ILe=DD,OLe=1,DLe=2;function jLe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new PLe;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?ILe(u,c,OLe|DLe,n,f):h))return!1}}return!0}var RLe=jLe,MLe=Pc;function FLe(e){return e===e&&!MLe(e)}var xX=FLe,LLe=xX,$Le=Vy;function BLe(e){for(var t=$Le(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,LLe(a)]}return t}var ULe=BLe;function VLe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var wX=VLe,zLe=RLe,WLe=ULe,HLe=wX;function GLe(e){var t=WLe(e);return t.length==1&&t[0][2]?HLe(t[0][0],t[0][1]):function(r){return r===e||zLe(r,e,t)}}var KLe=GLe,qLe=Qs,YLe=Ly,XLe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QLe=/^\w*$/;function JLe(e,t){if(qLe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||YLe(e)?!0:QLe.test(e)||!XLe.test(e)||t!=null&&e in Object(t)}var jD=JLe,bX=TD,ZLe="Expected a function";function RD(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(ZLe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(RD.Cache||bX),r}RD.Cache=bX;var e6e=RD,t6e=e6e,r6e=500;function n6e(e){var t=t6e(e,function(n){return r.size===r6e&&r.clear(),n}),r=t.cache;return t}var a6e=n6e,i6e=a6e,s6e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o6e=/\\(\\)?/g,l6e=i6e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(s6e,function(r,n,a,i){t.push(a?i.replace(o6e,"$1"):n||r)}),t}),c6e=l6e;function u6e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var MD=u6e,h$=Rm,d6e=MD,f6e=Qs,h6e=Ly,m$=h$?h$.prototype:void 0,p$=m$?m$.toString:void 0;function _X(e){if(typeof e=="string")return e;if(f6e(e))return d6e(e,_X)+"";if(h6e(e))return p$?p$.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var m6e=_X,p6e=m6e;function g6e(e){return e==null?"":p6e(e)}var v6e=g6e,y6e=Qs,x6e=jD,w6e=c6e,b6e=v6e;function _6e(e,t){return y6e(e)?e:x6e(e,t)?[e]:w6e(b6e(e))}var qE=_6e,E6e=Ly;function S6e(e){if(typeof e=="string"||E6e(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var zy=S6e,T6e=qE,A6e=zy;function C6e(e,t){t=T6e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[A6e(t[r++])];return r&&r==n?e:void 0}var YE=C6e,k6e=YE;function N6e(e,t,r){var n=e==null?void 0:k6e(e,t);return n===void 0?r:n}var P6e=N6e;function I6e(e,t){return e!=null&&t in Object(e)}var O6e=I6e,D6e=qE,j6e=ND,R6e=Qs,M6e=dD,F6e=uD,L6e=zy;function $6e(e,t,r){t=D6e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=L6e(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&F6e(a)&&M6e(s,a)&&(R6e(e)||j6e(e)))}var B6e=$6e,U6e=O6e,V6e=B6e;function z6e(e,t){return e!=null&&V6e(e,t,U6e)}var W6e=z6e,H6e=DD,G6e=P6e,K6e=W6e,q6e=jD,Y6e=xX,X6e=wX,Q6e=zy,J6e=1,Z6e=2;function e5e(e,t){return q6e(e)&&Y6e(t)?X6e(Q6e(e),t):function(r){var n=G6e(r,e);return n===void 0&&n===t?K6e(r,e):H6e(t,n,J6e|Z6e)}}var t5e=e5e;function r5e(e){return e}var XE=r5e;function n5e(e){return function(t){return t==null?void 0:t[e]}}var a5e=n5e,i5e=YE;function s5e(e){return function(t){return i5e(t,e)}}var o5e=s5e,l5e=a5e,c5e=o5e,u5e=jD,d5e=zy;function f5e(e){return u5e(e)?l5e(d5e(e)):c5e(e)}var h5e=f5e,m5e=KLe,p5e=t5e,g5e=XE,v5e=Qs,y5e=h5e;function x5e(e){return typeof e=="function"?e:e==null?g5e:typeof e=="object"?v5e(e)?p5e(e[0],e[1]):m5e(e):y5e(e)}var QE=x5e,w5e=NLe,b5e=QE,_5e=KY,E5e=Math.max;function S5e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:_5e(r);return a<0&&(a=E5e(n+a,0)),w5e(e,b5e(t),a)}var T5e=S5e;const A5e=cn(T5e);var C5e=Math.ceil,k5e=Math.max;function N5e(e,t,r,n){for(var a=-1,i=k5e(C5e((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var P5e=N5e,I5e=P5e,O5e=$E,VT=GY;function D5e(e){return function(t,r,n){return n&&typeof n!="number"&&O5e(t,r,n)&&(r=n=void 0),t=VT(t),r===void 0?(r=t,t=0):r=VT(r),n=n===void 0?t<r?1:-1:VT(n),I5e(t,r,n,e)}}var j5e=D5e,R5e=j5e,M5e=R5e(),F5e=M5e;const L5e=cn(F5e);var g$=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function $5e(e,t){return!!(e===t||g$(e)&&g$(t))}function B5e(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!$5e(e[r],t[r]))return!1;return!0}function EX(e,t){t===void 0&&(t=B5e);var r=null;function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var s=e.apply(this,a);return r={lastResult:s,lastArgs:a,lastThis:this},s}return n.clear=function(){r=null},n}function $k(e,t){var r=fD(e);return r?r.innerWidth:lf(e).width}var v$=Rm,U5e=ND,V5e=Qs,y$=v$?v$.isConcatSpreadable:void 0;function z5e(e){return V5e(e)||U5e(e)||!!(y$&&e&&e[y$])}var W5e=z5e,H5e=CD,G5e=W5e;function SX(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=G5e),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?SX(o,t-1,r,n,a):H5e(a,o):n||(a[a.length]=o)}return a}var TX=SX;function K5e(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var q5e=K5e,Y5e=q5e,X5e=Y5e(),Q5e=X5e,J5e=Q5e,Z5e=Vy;function e$e(e,t){return e&&J5e(e,t,Z5e)}var FD=e$e,t$e=Fy;function r$e(e,t){return function(r,n){if(r==null)return r;if(!t$e(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var n$e=r$e,a$e=FD,i$e=n$e,s$e=i$e(a$e),o$e=s$e,l$e=o$e,c$e=Fy;function u$e(e,t){var r=-1,n=c$e(e)?Array(e.length):[];return l$e(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var d$e=u$e;function f$e(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var h$e=f$e,x$=Ly;function m$e(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=x$(e),s=t!==void 0,o=t===null,l=t===t,c=x$(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var p$e=m$e,g$e=p$e;function v$e(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=g$e(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var y$e=v$e,zT=MD,x$e=YE,w$e=QE,b$e=d$e,_$e=h$e,E$e=GE,S$e=y$e,T$e=XE,A$e=Qs;function C$e(e,t,r){t.length?t=zT(t,function(i){return A$e(i)?function(s){return x$e(s,i.length===1?i[0]:i)}:i}):t=[T$e];var n=-1;t=zT(t,E$e(w$e));var a=b$e(e,function(i,s,o){var l=zT(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return _$e(a,function(i,s){return S$e(i,s,r)})}var k$e=C$e;function N$e(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var P$e=N$e,I$e=P$e,w$=Math.max;function O$e(e,t,r){return t=w$(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=w$(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),I$e(e,this,o)}}var AX=O$e;function D$e(e){return function(){return e}}var j$e=D$e,R$e=hh,M$e=function(){try{var e=R$e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),CX=M$e,F$e=j$e,b$=CX,L$e=XE,$$e=b$?function(e,t){return b$(e,"toString",{configurable:!0,enumerable:!1,value:F$e(t),writable:!0})}:L$e,B$e=$$e,U$e=800,V$e=16,z$e=Date.now;function W$e(e){var t=0,r=0;return function(){var n=z$e(),a=V$e-(n-r);if(r=n,a>0){if(++t>=U$e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var H$e=W$e,G$e=B$e,K$e=H$e,q$e=K$e(G$e),kX=q$e,Y$e=XE,X$e=AX,Q$e=kX;function J$e(e,t){return Q$e(X$e(e,t,Y$e),e+"")}var NX=J$e,Z$e=TX,e8e=k$e,t8e=NX,_$=$E,r8e=t8e(function(e,t){if(e==null)return[];var r=t.length;return r>1&&_$(e,t[0],t[1])?t=[]:r>2&&_$(t[0],t[1],t[2])&&(t=[t[0]]),e8e(e,Z$e(t,1),[])}),n8e=r8e;const a8e=cn(n8e);function PX(e){return TY(e)||VY(e)||sD(e)||AY()}function i8e(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var s8e=i8e,o8e=Pc,l8e=OD,c8e=s8e,u8e=Object.prototype,d8e=u8e.hasOwnProperty;function f8e(e){if(!o8e(e))return c8e(e);var t=l8e(e),r=[];for(var n in e)n=="constructor"&&(t||!d8e.call(e,n))||r.push(n);return r}var h8e=f8e,m8e=hX,p8e=h8e,g8e=Fy;function v8e(e){return g8e(e)?m8e(e,!0):p8e(e)}var JE=v8e,y8e=NX,x8e=My,w8e=$E,b8e=JE,IX=Object.prototype,_8e=IX.hasOwnProperty,E8e=y8e(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&w8e(t[0],t[1],a)&&(n=1);++r<n;)for(var i=t[r],s=b8e(i),o=-1,l=s.length;++o<l;){var c=s[o],u=e[c];(u===void 0||x8e(u,IX[c])&&!_8e.call(e,c))&&(e[c]=i[c])}return e}),S8e=E8e;const T8e=cn(S8e);var E$=CX;function A8e(e,t,r){t=="__proto__"&&E$?E$(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var LD=A8e,C8e=LD,k8e=FD,N8e=QE;function P8e(e,t){var r={};return t=N8e(t),k8e(e,function(n,a,i){C8e(r,a,t(n,a,i))}),r}var I8e=P8e;const O8e=cn(I8e);function D8e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var OX=D8e,j8e=LD,R8e=My,M8e=Object.prototype,F8e=M8e.hasOwnProperty;function L8e(e,t,r){var n=e[t];(!(F8e.call(e,t)&&R8e(n,r))||r===void 0&&!(t in e))&&j8e(e,t,r)}var DX=L8e,$8e=DX,B8e=LD;function U8e(e,t,r,n){var a=!r;r||(r={});for(var i=-1,s=t.length;++i<s;){var o=t[i],l=n?n(r[o],e[o],o,r,e):void 0;l===void 0&&(l=e[o]),a?B8e(r,o,l):$8e(r,o,l)}return r}var Wy=U8e,V8e=Wy,z8e=Vy;function W8e(e,t){return e&&V8e(t,z8e(t),e)}var H8e=W8e,G8e=Wy,K8e=JE;function q8e(e,t){return e&&G8e(t,K8e(t),e)}var Y8e=q8e,Mb={exports:{}};Mb.exports;(function(e,t){var r=Tl,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=o?o(f):new c.constructor(f);return c.copy(h),h}e.exports=l})(Mb,Mb.exports);var X8e=Mb.exports;function Q8e(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var J8e=Q8e,Z8e=Wy,eBe=kD;function tBe(e,t){return Z8e(e,eBe(e),t)}var rBe=tBe,nBe=mX,aBe=nBe(Object.getPrototypeOf,Object),ZE=aBe,iBe=CD,sBe=ZE,oBe=kD,lBe=dX,cBe=Object.getOwnPropertySymbols,uBe=cBe?function(e){for(var t=[];e;)iBe(t,oBe(e)),e=sBe(e);return t}:lBe,jX=uBe,dBe=Wy,fBe=jX;function hBe(e,t){return dBe(e,fBe(e),t)}var mBe=hBe,pBe=uX,gBe=jX,vBe=JE;function yBe(e){return pBe(e,vBe,gBe)}var RX=yBe,xBe=Object.prototype,wBe=xBe.hasOwnProperty;function bBe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&wBe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var _Be=bBe,S$=cX;function EBe(e){var t=new e.constructor(e.byteLength);return new S$(t).set(new S$(e)),t}var $D=EBe,SBe=$D;function TBe(e,t){var r=t?SBe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var ABe=TBe,CBe=/\w*$/;function kBe(e){var t=new e.constructor(e.source,CBe.exec(e));return t.lastIndex=e.lastIndex,t}var NBe=kBe,T$=Rm,A$=T$?T$.prototype:void 0,C$=A$?A$.valueOf:void 0;function PBe(e){return C$?Object(C$.call(e)):{}}var IBe=PBe,OBe=$D;function DBe(e,t){var r=t?OBe(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var jBe=DBe,RBe=$D,MBe=ABe,FBe=NBe,LBe=IBe,$Be=jBe,BBe="[object Boolean]",UBe="[object Date]",VBe="[object Map]",zBe="[object Number]",WBe="[object RegExp]",HBe="[object Set]",GBe="[object String]",KBe="[object Symbol]",qBe="[object ArrayBuffer]",YBe="[object DataView]",XBe="[object Float32Array]",QBe="[object Float64Array]",JBe="[object Int8Array]",ZBe="[object Int16Array]",eUe="[object Int32Array]",tUe="[object Uint8Array]",rUe="[object Uint8ClampedArray]",nUe="[object Uint16Array]",aUe="[object Uint32Array]";function iUe(e,t,r){var n=e.constructor;switch(t){case qBe:return RBe(e);case BBe:case UBe:return new n(+e);case YBe:return MBe(e,r);case XBe:case QBe:case JBe:case ZBe:case eUe:case tUe:case rUe:case nUe:case aUe:return $Be(e,r);case VBe:return new n;case zBe:case GBe:return new n(e);case WBe:return FBe(e);case HBe:return new n;case KBe:return LBe(e)}}var sUe=iUe,oUe=Pc,k$=Object.create,lUe=function(){function e(){}return function(t){if(!oUe(t))return{};if(k$)return k$(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),MX=lUe,cUe=MX,uUe=ZE,dUe=OD;function fUe(e){return typeof e.constructor=="function"&&!dUe(e)?cUe(uUe(e)):{}}var hUe=fUe,mUe=KE,pUe=pd,gUe="[object Map]";function vUe(e){return pUe(e)&&mUe(e)==gUe}var yUe=vUe,xUe=yUe,wUe=GE,N$=PD,P$=N$&&N$.isMap,bUe=P$?wUe(P$):xUe,_Ue=bUe,EUe=KE,SUe=pd,TUe="[object Set]";function AUe(e){return SUe(e)&&EUe(e)==TUe}var CUe=AUe,kUe=CUe,NUe=GE,I$=PD,O$=I$&&I$.isSet,PUe=O$?NUe(O$):kUe,IUe=PUe,OUe=AD,DUe=OX,jUe=DX,RUe=H8e,MUe=Y8e,FUe=X8e,LUe=J8e,$Ue=rBe,BUe=mBe,UUe=pX,VUe=RX,zUe=KE,WUe=_Be,HUe=sUe,GUe=hUe,KUe=Qs,qUe=HE,YUe=_Ue,XUe=Pc,QUe=IUe,JUe=Vy,ZUe=JE,e9e=1,t9e=2,r9e=4,FX="[object Arguments]",n9e="[object Array]",a9e="[object Boolean]",i9e="[object Date]",s9e="[object Error]",LX="[object Function]",o9e="[object GeneratorFunction]",l9e="[object Map]",c9e="[object Number]",$X="[object Object]",u9e="[object RegExp]",d9e="[object Set]",f9e="[object String]",h9e="[object Symbol]",m9e="[object WeakMap]",p9e="[object ArrayBuffer]",g9e="[object DataView]",v9e="[object Float32Array]",y9e="[object Float64Array]",x9e="[object Int8Array]",w9e="[object Int16Array]",b9e="[object Int32Array]",_9e="[object Uint8Array]",E9e="[object Uint8ClampedArray]",S9e="[object Uint16Array]",T9e="[object Uint32Array]",wr={};wr[FX]=wr[n9e]=wr[p9e]=wr[g9e]=wr[a9e]=wr[i9e]=wr[v9e]=wr[y9e]=wr[x9e]=wr[w9e]=wr[b9e]=wr[l9e]=wr[c9e]=wr[$X]=wr[u9e]=wr[d9e]=wr[f9e]=wr[h9e]=wr[_9e]=wr[E9e]=wr[S9e]=wr[T9e]=!0;wr[s9e]=wr[LX]=wr[m9e]=!1;function lw(e,t,r,n,a,i){var s,o=t&e9e,l=t&t9e,c=t&r9e;if(r&&(s=a?r(e,n,a,i):r(e)),s!==void 0)return s;if(!XUe(e))return e;var u=KUe(e);if(u){if(s=WUe(e),!o)return LUe(e,s)}else{var f=zUe(e),h=f==LX||f==o9e;if(qUe(e))return FUe(e,o);if(f==$X||f==FX||h&&!a){if(s=l||h?{}:GUe(e),!o)return l?BUe(e,MUe(s,e)):$Ue(e,RUe(s,e))}else{if(!wr[f])return a?e:{};s=HUe(e,f,o)}}i||(i=new OUe);var m=i.get(e);if(m)return m;i.set(e,s),QUe(e)?e.forEach(function(v){s.add(lw(v,t,r,v,e,i))}):YUe(e)&&e.forEach(function(v,y){s.set(y,lw(v,t,r,y,e,i))});var p=c?l?VUe:UUe:l?ZUe:JUe,g=u?void 0:p(e);return DUe(g||e,function(v,y){g&&(y=v,v=e[y]),jUe(s,y,lw(v,t,r,y,e,i))}),s}var A9e=lw;function C9e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var k9e=C9e,N9e=YE,P9e=zY;function I9e(e,t){return t.length<2?e:N9e(e,P9e(t,0,-1))}var O9e=I9e,D9e=qE,j9e=k9e,R9e=O9e,M9e=zy;function F9e(e,t){return t=D9e(t,e),e=R9e(e,t),e==null||delete e[M9e(j9e(t))]}var L9e=F9e,$9e=Mm,B9e=ZE,U9e=pd,V9e="[object Object]",z9e=Function.prototype,W9e=Object.prototype,BX=z9e.toString,H9e=W9e.hasOwnProperty,G9e=BX.call(Object);function K9e(e){if(!U9e(e)||$9e(e)!=V9e)return!1;var t=B9e(e);if(t===null)return!0;var r=H9e.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&BX.call(r)==G9e}var q9e=K9e,Y9e=q9e;function X9e(e){return Y9e(e)?void 0:e}var Q9e=X9e,J9e=TX;function Z9e(e){var t=e==null?0:e.length;return t?J9e(e,1):[]}var eVe=Z9e,tVe=eVe,rVe=AX,nVe=kX;function aVe(e){return nVe(rVe(e,void 0,tVe),e+"")}var iVe=aVe,sVe=MD,oVe=A9e,lVe=L9e,cVe=qE,uVe=Wy,dVe=Q9e,fVe=iVe,hVe=RX,mVe=1,pVe=2,gVe=4,vVe=fVe(function(e,t){var r={};if(e==null)return r;var n=!1;t=sVe(t,function(i){return i=cVe(i,e),n||(n=i.length>1),i}),uVe(e,hVe(e),r),n&&(r=oVe(r,mVe|pVe|gVe,dVe));for(var a=t.length;a--;)lVe(r,t[a]);return r}),yVe=vVe;const xVe=cn(yVe);var wVe=OX,bVe=MX,_Ve=FD,EVe=QE,SVe=ZE,TVe=Qs,AVe=HE,CVe=cD,kVe=Pc,NVe=ID;function PVe(e,t,r){var n=TVe(e),a=n||AVe(e)||NVe(e);if(t=EVe(t),r==null){var i=e&&e.constructor;a?r=n?new i:[]:kVe(e)?r=CVe(i)?bVe(SVe(e)):{}:r={}}return(a?wVe:_Ve)(e,function(s,o,l){return t(r,s,o,l)}),r}var IVe=PVe;const OVe=cn(IVe);var DVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){return function(r,n,a){n.prototype.isBetween=function(i,s,o,l){var c=a(i),u=a(s),f=(l=l||"()")[0]==="(",h=l[1]===")";return(f?this.isAfter(c,o):!this.isBefore(c,o))&&(h?this.isBefore(u,o):!this.isAfter(u,o))||(f?this.isBefore(c,o):!this.isAfter(c,o))&&(h?this.isAfter(u,o):!this.isBefore(u,o))}}})})(DVe);var jVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,i){return this.isSame(a,i)||this.isAfter(a,i)}}})})(jVe);var RVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,i){return this.isSame(a,i)||this.isBefore(a,i)}}})})(RVe);var MVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){return function(r,n,a){var i=n.prototype,s=function(f){return f&&(f.indexOf?f:f.s)},o=function(f,h,m,p,g){var v=f.name?f:f.$locale(),y=s(v[h]),x=s(v[m]),b=y||x.map(function(k){return k.slice(0,p)});if(!g)return b;var E=v.weekStart;return b.map(function(k,C){return b[(C+(E||0))%7]})},l=function(){return a.Ls[a.locale()]},c=function(f,h){return f.formats[h]||function(m){return m.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,g,v){return g||v.slice(1)})}(f.formats[h.toUpperCase()])},u=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):o(f,"months")},monthsShort:function(h){return h?h.format("MMM"):o(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):o(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):o(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):o(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return c(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};i.localeData=function(){return u.bind(this)()},a.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(h){return c(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return o(l(),"months")},a.monthsShort=function(){return o(l(),"monthsShort","months",3)},a.weekdays=function(f){return o(l(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return o(l(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return o(l(),"weekdaysMin","weekdays",2,f)}}})})(MVe);var FVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,i){var s=a.prototype,o=s.format;i.en.formats=r,s.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var c=this.$locale().formats,u=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(m,p,g){var v=g&&g.toUpperCase();return p||h[g]||r[g]||h[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,x,b){return x||b.slice(1)})})}(l,c===void 0?{}:c);return o.call(this,u)}}})})(FVe);var LVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){return function(r,n,a){var i=function(s,o){if(!o||!o.length||o.length===1&&!o[0]||o.length===1&&Array.isArray(o[0])&&!o[0].length)return null;var l;o.length===1&&o[0].length>0&&(o=o[0]),l=(o=o.filter(function(u){return u}))[0];for(var c=1;c<o.length;c+=1)o[c].isValid()&&!o[c][s](l)||(l=o[c]);return l};a.max=function(){var s=[].slice.call(arguments,0);return i("isAfter",s)},a.min=function(){var s=[].slice.call(arguments,0);return i("isBefore",s)}}})})(LVe);var $Ve={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(i,s,o){var l=s.prototype;o.utc=function(g){var v={date:g,utc:!0,args:arguments};return new s(v)},l.utc=function(g){var v=o(this.toDate(),{locale:this.$L,utc:!0});return g?v.add(this.utcOffset(),r):v},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var c=l.parse;l.parse=function(g){g.utc&&(this.$u=!0),this.$utils().u(g.$offset)||(this.$offset=g.$offset),c.call(this,g)};var u=l.init;l.init=function(){if(this.$u){var g=this.$d;this.$y=g.getUTCFullYear(),this.$M=g.getUTCMonth(),this.$D=g.getUTCDate(),this.$W=g.getUTCDay(),this.$H=g.getUTCHours(),this.$m=g.getUTCMinutes(),this.$s=g.getUTCSeconds(),this.$ms=g.getUTCMilliseconds()}else u.call(this)};var f=l.utcOffset;l.utcOffset=function(g,v){var y=this.$utils().u;if(y(g))return this.$u?0:y(this.$offset)?f.call(this):this.$offset;if(typeof g=="string"&&(g=function(k){k===void 0&&(k="");var C=k.match(n);if(!C)return null;var S=(""+C[0]).match(a)||["-",0,0],_=S[0],T=60*+S[1]+ +S[2];return T===0?0:_==="+"?T:-T}(g),g===null))return this;var x=Math.abs(g)<=16?60*g:g;if(x===0)return this.utc(v);var b=this.clone();if(v)return b.$offset=x,b.$u=!1,b;var E=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(b=this.local().add(x+E,r)).$offset=x,b.$x.$localOffset=E,b};var h=l.format;l.format=function(g){var v=g||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,v)},l.valueOf=function(){var g=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*g},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var m=l.toDate;l.toDate=function(g){return g==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var p=l.diff;l.diff=function(g,v,y){if(g&&this.$u===g.$u)return p.call(this,g,v,y);var x=this.local(),b=o(g).local();return p.call(x,b,v,y)}}})})($Ve);var BVe={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(Ds,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(BVe);function Ho(e){return e.children}var Mi={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},ii={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},D$=Object.keys(ii).map(function(e){return ii[e]});Fe.oneOfType([Fe.string,Fe.func]);Fe.any;Fe.func;Fe.oneOfType([Fe.arrayOf(Fe.oneOf(D$)),Fe.objectOf(function(e,t){var r=D$.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];return Fe.elementType.apply(Fe,[e,t].concat(a))})]);Fe.oneOfType([Fe.oneOf(["overlap","no-overlap"]),Fe.func]);var j$={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function UX(e,t){var r=Sa(e,"month");return Sa(r,"week",t.startOfWeek())}function VX(e,t){var r=Pb(e,"month");return Pb(r,"week",t.startOfWeek())}function UVe(e,t){for(var r=UX(e,t),n=VX(e,t),a=[];Dm(r,n,"day");)a.push(r),r=Ro(r,1,"day");return a}function VVe(e,t){var r=Sa(e,t);return Om(r,e)?r:Ro(r,1,t)}function zVe(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];Dm(n,t,r);)a.push(n),n=Ro(n,1,r);return a}function WVe(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Sa(e,"day"),e=Mv(e,Mv(t)),e=Y0(e,Y0(t)),e=Rv(e,Rv(t)),jv(e,jv(t)))}function R$(e){return Mv(e)===0&&Y0(e)===0&&Rv(e)===0&&jv(e)===0}function HVe(e,t,r,n){return r==="day"&&(r="date"),Math.abs(v5[r](e,void 0,n)-v5[r](t,void 0,n))}function BD(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Sa(e,r)/j$[r]-+Sa(t,r)/j$[r]))}var GVe=Fe.oneOfType([Fe.string,Fe.func]);function KVe(e,t,r,n,a){var i=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return kv(i==null||typeof i=="string","`localizer format(..)` must return a string, null, or undefined"),i}function qVe(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function UD(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function YVe(e,t){return BD(e,t,"minutes")+UD(e,t)}function XVe(e){var t=Sa(e,"day");return BD(t,e,"minutes")+UD(t,e)}function QVe(e,t){return lD(e,t,"day")}function JVe(e,t,r){var n=Om(e,t,"minutes");return n?Ry(t,r,"minutes"):LE(t,r,"minutes")}function Bk(e,t){return HVe(e,t,"day")}function ZVe(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,i=e.evtB,s=i.start,o=i.end,l=i.allDay,c=+Sa(r,"day")-+Sa(s,"day"),u=Bk(r,n),f=Bk(s,o);return c||f-u||!!l-!!a||+r-+s||+n-+o}function e7e(e){var t=e.event,r=t.start,n=t.end,a=e.range,i=a.start,s=a.end,o=Sa(r,"day"),l=Dm(o,s,"day"),c=oD(o,n,"minutes"),u=c?LE(n,i,"minutes"):Ry(n,i,"minutes");return l&&u}function t7e(e,t){return Om(e,t,"day")}function r7e(e,t){return R$(e)&&R$(t)}var n7e=Wn(function e(t){var r=this;zn(this,e),kv(typeof t.format=="function","date localizer `format(..)` must be a function"),kv(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||GVe,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return KVe.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||WVe,this.inRange=t.inRange||LY,this.lt=t.lt||lD,this.lte=t.lte||Dm,this.gt=t.gt||LE,this.gte=t.gte||Ry,this.eq=t.eq||Om,this.neq=t.neq||oD,this.startOf=t.startOf||Sa,this.endOf=t.endOf||Pb,this.add=t.add||Ro,this.range=t.range||zVe,this.diff=t.diff||BD,this.ceil=t.ceil||VVe,this.min=t.min||MY,this.max=t.max||FY,this.minutes=t.minutes||Y0,this.daySpan=t.daySpan||Bk,this.firstVisibleDay=t.firstVisibleDay||UX,this.lastVisibleDay=t.lastVisibleDay||VX,this.visibleDays=t.visibleDays||UVe,this.getSlotDate=t.getSlotDate||qVe,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||UD,this.getTotalMin=t.getTotalMin||YVe,this.getMinutesFromMidnight=t.getMinutesFromMidnight||XVe,this.continuesPrior=t.continuesPrior||QVe,this.continuesAfter=t.continuesAfter||JVe,this.sortEvents=t.sortEvents||ZVe,this.inEventRange=t.inEventRange||e7e,this.isSameDate=t.isSameDate||t7e,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||r7e,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function a7e(e,t,r,n){var a=vr(vr({},e.formats),r);return vr(vr({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(s,o){return e.format(s,a[o]||o,t)}})}var i7e=function(e){function t(){var r;zn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qa(this,t,[].concat(a)),r.navigate=function(s){r.props.onNavigate(s)},r.view=function(s){r.props.onView(s)},r}return Ja(t,e),Wn(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,i=n.label;return se.createElement("div",{className:"rbc-toolbar"},se.createElement("span",{className:"rbc-btn-group"},se.createElement("button",{type:"button",onClick:this.navigate.bind(null,Mi.TODAY)},a.today),se.createElement("button",{type:"button",onClick:this.navigate.bind(null,Mi.PREVIOUS)},a.previous),se.createElement("button",{type:"button",onClick:this.navigate.bind(null,Mi.NEXT)},a.next)),se.createElement("span",{className:"rbc-toolbar-label"},i),se.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,i=this.props.views,s=this.props.view;if(i.length>1)return i.map(function(o){return se.createElement("button",{type:"button",key:o,className:sn({"rbc-active":s===o}),onClick:a.view.bind(null,o)},n[o])})}}])}(se.Component);function Ir(e,t){e&&e.apply(null,[].concat(t))}var s7e={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function o7e(e){return vr(vr({},s7e),e)}function l7e(e){var t=e.ref,r=e.callback;A.useEffect(function(){var n=function(i){t.current&&!t.current.contains(i.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var c7e=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],zX=function(e){function t(){return zn(this,t),Qa(this,t,arguments)}return Ja(t,e),Wn(t,[{key:"render",value:function(){var n=this.props,a=n.style,i=n.className,s=n.event,o=n.selected,l=n.isAllDay,c=n.onSelect,u=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,m=n.continuesPrior,p=n.continuesAfter,g=n.accessors,v=n.getters,y=n.children,x=n.components,b=x.event,E=x.eventWrapper,k=n.slotStart,C=n.slotEnd,S=gl(n,c7e);delete S.resizable;var _=g.title(s),T=g.tooltip(s),P=g.end(s),N=g.start(s),O=g.allDay(s),D=l||O||h.diff(N,h.ceil(P,"day"),"day")>1,X=v.eventProp(s,N,P,o),te=se.createElement("div",{className:"rbc-event-content",title:T||void 0},b?se.createElement(b,{event:s,continuesPrior:m,continuesAfter:p,title:_,isAllDay:O,localizer:h,slotStart:k,slotEnd:C}):_);return se.createElement(E,Object.assign({},this.props,{type:"date"}),se.createElement("div",Object.assign({},S,{style:vr(vr({},X.style),a),className:sn("rbc-event",i,X.className,{"rbc-selected":o,"rbc-event-allday":D,"rbc-event-continues-prior":m,"rbc-event-continues-after":p}),onClick:function(Q){return c&&c(s,Q)},onDoubleClick:function(Q){return u&&u(s,Q)},onKeyDown:function(Q){return f&&f(s,Q)}}),typeof y=="function"?y(te):te))}}])}(se.Component);function eS(e,t){return!e||t==null?!1:CLe(e,t)}function WX(e,t){var r=e.right-e.left,n=r/t;return n}function HX(e,t,r,n){var a=WX(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function u7e(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function d7e(e,t,r,n,a){var i=-1,s=-1,o=n-1,l=WX(t,n),c=HX(t,r.x,a,n),u=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,m=t.top>e.y,p=r.top<t.top&&r.bottom>t.bottom;return p&&(i=0,s=o),u&&(m?(i=0,s=c):h&&(i=c,s=o)),f&&(i=s=a?o-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),u?c<i?i=c:s=c:e.y<r.y?s=o:i=0),{startIdx:i,endIdx:s}}function f7e(e){var t=e.target,r=e.offset,n=e.container,a=e.box,i=lf(t),s=i.top,o=i.left,l=i.width,c=i.height,u=lf(n),f=u.top,h=u.left,m=u.width,p=u.height,g=lf(a),v=g.width,y=g.height,x=f+p,b=h+m,E=s+y,k=o+v,C=r.x,S=r.y,_=E>x?s-y-S:s+S+c,T=k>b?o+C-v+l:o+C;return{topOffset:_,leftOffset:T}}function h7e(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,i=e.components,s=e.localizer,o=e.position,l=e.show,c=e.events,u=e.slotStart,f=e.slotEnd,h=e.onSelect,m=e.onDoubleClick,p=e.onKeyPress,g=e.handleDragStart,v=e.popperRef,y=e.target,x=e.offset;l7e({ref:v,callback:l}),A.useLayoutEffect(function(){var k=f7e({target:y,offset:x,container:t.current,box:v.current}),C=k.topOffset,S=k.leftOffset;v.current.style.top="".concat(C,"px"),v.current.style.left="".concat(S,"px")},[x.x,x.y,y]);var b=o.width,E={minWidth:b+b/2};return se.createElement("div",{style:E,className:"rbc-overlay",ref:v},se.createElement("div",{className:"rbc-overlay-header"},s.format(u,"dayHeaderFormat")),c.map(function(k,C){return se.createElement(zX,{key:C,type:"popup",localizer:s,event:k,getters:n,onSelect:h,accessors:r,components:i,onDoubleClick:m,onKeyPress:p,continuesPrior:s.lt(r.end(k),u,"day"),continuesAfter:s.gte(r.start(k),f,"day"),slotStart:u,slotEnd:f,selected:eS(k,a),draggable:!0,onDragStart:function(){return g(k)},onDragEnd:function(){return l()}})}))}var GX=se.forwardRef(function(e,t){return se.createElement(h7e,Object.assign({},e,{popperRef:t}))});GX.propTypes={accessors:Fe.object.isRequired,getters:Fe.object.isRequired,selected:Fe.object,components:Fe.object.isRequired,localizer:Fe.object.isRequired,position:Fe.object.isRequired,show:Fe.func.isRequired,events:Fe.array.isRequired,slotStart:Fe.instanceOf(Date).isRequired,slotEnd:Fe.instanceOf(Date),onSelect:Fe.func,onDoubleClick:Fe.func,onKeyPress:Fe.func,handleDragStart:Fe.func,style:Fe.object,offset:Fe.shape({x:Fe.number,y:Fe.number})};function m7e(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,i=e.accessors,s=e.localizer,o=e.components,l=e.getters,c=e.selected,u=e.handleSelectEvent,f=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,m=e.handleDragStart,p=e.onHide,g=e.overlayDisplay,v=A.useRef(null);if(!a.position)return null;var y=n;isNaN(n)||(y={x:n,y:n});var x=a.position,b=a.events,E=a.date,k=a.end;return se.createElement(ED,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:p,target:a.target},function(C){var S=C.props;return se.createElement(GX,Object.assign({},S,{containerRef:t,ref:v,target:a.target,offset:y,accessors:i,getters:l,selected:c,components:o,localizer:s,position:x,show:g,events:b,slotStart:E,slotEnd:k,onSelect:u,onDoubleClick:f,onKeyPress:h,handleDragStart:m}))})}var VD=se.forwardRef(function(e,t){return se.createElement(m7e,Object.assign({},e,{containerRef:t}))});VD.propTypes={popupOffset:Fe.oneOfType([Fe.number,Fe.shape({x:Fe.number,y:Fe.number})]),overlay:Fe.shape({position:Fe.object,events:Fe.array,date:Fe.instanceOf(Date),end:Fe.instanceOf(Date)}),accessors:Fe.object.isRequired,localizer:Fe.object.isRequired,components:Fe.object.isRequired,getters:Fe.object.isRequired,selected:Fe.object,handleSelectEvent:Fe.func,handleDoubleClickEvent:Fe.func,handleKeyPressEvent:Fe.func,handleDragStart:Fe.func,onHide:Fe.func,overlayDisplay:Fe.func};function Oa(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Gp(r,e,t,{passive:!1})}function p7e(e,t,r){return!e||Fv(e,document.elementFromPoint(t,r))}function g7e(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return yX(a,".rbc-event",e)}function v7e(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return yX(a,".rbc-show-more",e)}function Fb(e,t){return!!g7e(e,t)}function y7e(e,t){return!!v7e(e,t)}function Sp(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var M$=5,x7e=250,KX=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,i=r.longPressThreshold,s=i===void 0?250:i,o=r.validContainers,l=o===void 0?[]:o;zn(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=s,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Oa("touchmove",function(){},window),this._removeKeyDownListener=Oa("keydown",this._keyListener),this._removeKeyUpListener=Oa("keyup",this._keyListener),this._removeDropFromOutsideListener=Oa("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Oa("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Wn(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var s=a.indexOf(n);s!==-1&&a.splice(s,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var s,o=this._listeners[r]||[];return o.forEach(function(l){s===void 0&&(s=l.apply(void 0,a))}),s}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:F$(n,Hf(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,i=null,s=null,o=null,l=function(h){i=setTimeout(function(){u(),r(h)},a.longPressThreshold),s=Oa("touchmove",function(){return u()}),o=Oa("touchend",function(){return u()})},c=Oa("touchstart",l),u=function(){i&&clearTimeout(i),s&&s(),o&&o(),i=null,s=null,o=null};return n&&l(n),function(){u(),c()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Oa("mousedown",function(i){r._removeInitialEventListener(),r._handleInitialEvent(i),r._removeInitialEventListener=Oa("mousedown",r._handleInitialEvent)}),a=Oa("touchstart",function(i){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,i)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Sp(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY;this.emit("dropFromOutside",{x:a,y:i,clientX:s,clientY:o}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Sp(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY;this.emit("dragOverFromOutside",{x:a,y:i,clientX:s,clientY:o}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Sp(r),a=n.clientX,i=n.clientY,s=n.pageX,o=n.pageY,l=this.container(),c,u;if(!(r.which===3||r.button===2||!p7e(l,a,i))){if(!this.globalMouse&&l&&!Fv(l,r.target)){var f=w7e(0),h=f.top,m=f.left,p=f.bottom,g=f.right;if(u=Hf(l),c=F$({top:u.top-h,left:u.left-m,bottom:u.bottom+p,right:u.right+g},{top:o,left:s}),!c)return}var v=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:s,y:o,clientX:a,clientY:i});if(v!==!1)switch(r.type){case"mousedown":this._removeEndListener=Oa("mouseup",this._handleTerminatingEvent),this._onEscListener=Oa("keydown",this._handleTerminatingEvent),this._removeMoveListener=Oa("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Oa("touchend",this._handleTerminatingEvent),this._removeMoveListener=Oa("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(i){return!!n.closest(i)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var i=!this.container||Fv(this.container(),r.target),s=this._isWithinValidContainer(r);return r.key==="Escape"||!s?this.emit("reset"):!n&&i?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Sp(r),a=n.pageX,i=n.pageY,s=n.clientX,o=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<x7e?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:i,clientX:s,clientY:o})):(this._lastClickData={timestamp:l},this.emit("click",{x:a,y:i,clientX:s,clientY:o}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,i=n.y,s=Sp(r),o=s.pageX,l=s.pageY,c=Math.abs(a-o),u=Math.abs(i-l),f=Math.min(o,a),h=Math.min(l,i),m=this.selecting,p=this.isClick(o,l);p&&!m&&!(c||u)||(!m&&!p&&this.emit("selectStart",this._initialEventData),p||(this.selecting=!0,this._selectRect={top:h,left:f,x:o,y:l,right:f+c,bottom:h+u},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,i=a.x,s=a.y,o=a.isTouch;return!o&&Math.abs(r-i)<=M$&&Math.abs(n-s)<=M$}}])}();function w7e(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return xc(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function F$(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Hf(e),a=n.top,i=n.left,s=n.right,o=s===void 0?i:s,l=n.bottom,c=l===void 0?a:l,u=Hf(t),f=u.top,h=u.left,m=u.right,p=m===void 0?h:m,g=u.bottom,v=g===void 0?f:g;return!(c-r<f||a+r>v||o-r<h||i+r>p)}function Hf(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+L$("left"),n=t.top+L$("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function L$(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var b7e=function(e){function t(r,n){var a;return zn(this,t),a=Qa(this,t,[r,n]),a.state={selecting:!1},a.containerRef=A.createRef(),a}return Ja(t,e),Wn(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,i=n.getNow,s=n.getters,o=n.date,l=n.components.dateCellWrapper,c=n.localizer,u=this.state,f=u.selecting,h=u.startIdx,m=u.endIdx,p=i();return se.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(g,v){var y=f&&v>=h&&v<=m,x=s.dayProp(g),b=x.className,E=x.style;return se.createElement(l,{key:v,value:g,range:a},se.createElement("div",{style:E,className:sn("rbc-day-bg",b,y&&"rbc-selected-cell",c.isSameDate(g,p)&&"rbc-today",o&&c.neq(o,g,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,i=this._selector=new KX(this.props.container,{longPressThreshold:this.props.longPressThreshold}),s=function(l,c){if(!Fb(a,l)&&!y7e(a,l)){var u=Hf(a),f=n.props,h=f.range,m=f.rtl;if(u7e(u,l)){var p=HX(u,l.x,m,h.length);n._selectSlot({startIdx:p,endIdx:p,action:c,box:l})}}n._initial={},n.setState({selecting:!1})};i.on("selecting",function(o){var l=n.props,c=l.range,u=l.rtl,f=-1,h=-1;if(n.state.selecting||(Ir(n.props.onSelectStart,[o]),n._initial={x:o.x,y:o.y}),i.isSelected(a)){var m=Hf(a),p=d7e(n._initial,m,o,c.length,u);f=p.startIdx,h=p.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),i.on("beforeSelect",function(o){if(n.props.selectable==="ignoreEvents")return!Fb(n.containerRef.current,o)}),i.on("click",function(o){return s(o,"click")}),i.on("doubleClick",function(o){return s(o,"doubleClick")}),i.on("select",function(o){n._selectSlot(vr(vr({},n.state),{},{action:"select",bounds:o})),n._initial={},n.setState({selecting:!1}),Ir(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,i=n.startIdx,s=n.action,o=n.bounds,l=n.box;a!==-1&&i!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:i,end:a,action:s,bounds:o,box:l,resourceId:this.props.resourceId})}}])}(se.Component),ks={propTypes:{slotMetrics:Fe.object.isRequired,selected:Fe.object,isAllDay:Fe.bool,accessors:Fe.object.isRequired,localizer:Fe.object.isRequired,components:Fe.object.isRequired,getters:Fe.object.isRequired,onSelect:Fe.func,onDoubleClick:Fe.func,onKeyPress:Fe.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,i=t.getters,s=t.onSelect,o=t.onDoubleClick,l=t.onKeyPress,c=t.localizer,u=t.slotMetrics,f=t.components,h=t.resizable,m=u.continuesPrior(r),p=u.continuesAfter(r);return se.createElement(zX,{event:r,getters:i,localizer:c,accessors:a,components:f,onSelect:s,onDoubleClick:o,onKeyPress:l,continuesPrior:m,continuesAfter:p,slotStart:u.first,slotEnd:u.last,selected:eS(r,n),resizable:h})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",i=Math.abs(r)/t*100+"%";return se.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},a)}},qX=function(e){function t(){return zn(this,t),Qa(this,t,arguments)}return Ja(t,e),Wn(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.segments,s=a.slotMetrics.slots,o=a.className,l=1;return se.createElement("div",{className:sn(o,"rbc-row")},i.reduce(function(c,u,f){var h=u.event,m=u.left,p=u.right,g=u.span,v="_lvl_"+f,y=m-l,x=ks.renderEvent(n.props,h);return y&&c.push(ks.renderSpan(s,y,"".concat(v,"_gap"))),c.push(ks.renderSpan(s,g,v,x)),l=p+1,c},[]))}}])}(se.Component);qX.defaultProps=vr({},ks.defaultProps);function YX(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function _7e(e,t,r,n){var a=YX({dateRange:t,localizer:n}),i=a.first,s=a.last,o=n.diff(i,s,"day"),l=n.max(n.startOf(r.start(e),"day"),i),c=n.min(n.ceil(r.end(e),"day"),s),u=A5e(t,function(h){return n.isSameDate(h,l)}),f=n.diff(l,c,"day");return f=Math.min(f,o),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:u+1,right:Math.max(u+f,1)}}function Uk(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,i=[],s=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<i.length&&E7e(a,i[n]);n++);n>=t?s.push(a):(i[n]||(i[n]=[])).push(a)}for(r=0;r<i.length;r++)i[r].sort(function(o,l){return o.left-l.left});return{levels:i,extra:s}}function Bv(e,t,r,n,a){var i={start:n.start(e),end:n.end(e)},s={start:t,end:r};return a.inEventRange({event:i,range:s})}function E7e(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function S7e(e,t,r){var n=sw(e),a=[],i=[];n.forEach(function(l){var c=t.start(l),u=t.end(l);r.daySpan(c,u)>1?a.push(l):i.push(l)});var s=a.sort(function(l,c){return Vk(l,c,t,r)}),o=i.sort(function(l,c){return Vk(l,c,t,r)});return[].concat(sw(s),sw(o))}function Vk(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},i={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:i})}var zk=function(t,r){return t.left<=r&&t.right>=r},WT=function(t,r){return t.filter(function(n){return zk(n,r)}).map(function(n){return n.event})},XX=function(e){function t(){return zn(this,t),Qa(this,t,arguments)}return Ja(t,e),Wn(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,i=n.slotMetrics.slots,s=Uk(a).levels[0],o=1,l=1,c=[];o<=i;){var u="_lvl_"+o,f=s.filter(function(E){return zk(E,o)})[0]||{},h=f.event,m=f.left,p=f.right,g=f.span;if(!h){var v=this.getHiddenEventsForSlot(a,o);if(v.length>0){var y=o-l;y&&c.push(ks.renderSpan(i,y,u+"_gap")),c.push(ks.renderSpan(i,1,u,this.renderShowMore(a,o))),l=o=o+1;continue}o++;continue}var x=Math.max(0,m-l);if(this.canRenderSlotEvent(m,g)){var b=ks.renderEvent(this.props,h);x&&c.push(ks.renderSpan(i,x,u+"_gap")),c.push(ks.renderSpan(i,g,u,b)),l=o=p+1}else x&&c.push(ks.renderSpan(i,x,u+"_gap")),c.push(ks.renderSpan(i,1,u,this.renderShowMore(a,o))),l=o=o+1}return se.createElement("div",{className:"rbc-row"},c)}},{key:"getHiddenEventsForSlot",value:function(n,a){var i=WT(n,a),s=Uk(n).levels[0],o=s.filter(function(l){return zk(l,a)}).map(function(l){return l.event});return i.filter(function(l){return!o.some(function(c){return c===l})})}},{key:"canRenderSlotEvent",value:function(n,a){var i=this.props.segments;return L5e(n,n+a).every(function(s){var o=WT(i,s).length;return o===1})}},{key:"renderShowMore",value:function(n,a){var i=this,s=this.props,o=s.localizer,l=s.slotMetrics,c=s.components,u=l.getEventsForSlot(a),f=WT(n,a),h=f.length;if(c!=null&&c.showMore){var m=c.showMore,p=l.getDateForSlot(a-1);return h?se.createElement(m,{localizer:o,slotDate:p,slot:a,count:h,events:u,remainingEvents:f}):!1}return h?se.createElement("button",{type:"button",key:"sm_"+a,className:sn("rbc-button-link","rbc-show-more"),onClick:function(v){return i.showMore(a,v)}},o.messages.showMore(h,f,u)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(se.Component);XX.defaultProps=vr({},ks.defaultProps);var T7e=function(t){var r=t.children;return se.createElement("div",{className:"rbc-row-content-scroll-container"},r)},A7e=function(t,r){return t.left<=r&&t.right>=r},C7e=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function QX(){return EX(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,i=e.accessors,s=e.localizer,o=YX({dateRange:t,localizer:s}),l=o.first,c=o.last,u=r.map(function(g){return _7e(g,t,i,s)}),f=Uk(u,Math.max(n-1,1)),h=f.levels,m=f.extra,p=m.length>0?a-1:a;h.length<p;)h.push([]);return{first:l,last:c,levels:h,extra:m,range:t,slots:t.length,clone:function(v){var y=QX();return y(vr(vr({},e),v))},getDateForSlot:function(v){return t[v]},getSlotForDate:function(v){return t.find(function(y){return s.isSameDate(y,v)})},getEventsForSlot:function(v){return u.filter(function(y){return A7e(y,v)}).map(function(y){return y.event})},continuesPrior:function(v){return s.continuesPrior(i.start(v),l)},continuesAfter:function(v){var y=i.start(v),x=i.end(v);return s.continuesAfter(y,x,c)}}},C7e)}var Uv=function(e){function t(){var r;zn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qa(this,t,[].concat(a)),r.handleSelectSlot=function(s){var o=r.props,l=o.range,c=o.onSelectSlot;c(l.slice(s.start,s.end+1),s)},r.handleShowMore=function(s,o){var l=r.props,c=l.range,u=l.onShowMore,f=r.slotMetrics(r.props),h=ADe(r.containerRef.current,".rbc-row-bg")[0],m;h&&(m=h.children[s-1]);var p=f.getEventsForSlot(s);u(p,c[s-1],m,s,o)},r.getContainer=function(){var s=r.props.container;return s?s():r.containerRef.current},r.renderHeadingCell=function(s,o){var l=r.props,c=l.renderHeader,u=l.getNow,f=l.localizer;return c({date:s,key:"header_".concat(o),className:sn("rbc-date-cell",f.isSameDate(s,u())&&"rbc-now")})},r.renderDummy=function(){var s=r.props,o=s.className,l=s.range,c=s.renderHeader,u=s.showAllEvents;return se.createElement("div",{className:o,ref:r.containerRef},se.createElement("div",{className:sn("rbc-row-content",u&&"rbc-row-content-scrollable")},c&&se.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),se.createElement("div",{className:"rbc-row",ref:r.eventRowRef},se.createElement("div",{className:"rbc-row-segment"},se.createElement("div",{className:"rbc-event"},se.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=A.createRef(),r.headingRowRef=A.createRef(),r.eventRowRef=A.createRef(),r.slotMetrics=QX(),r}return Ja(t,e),Wn(t,[{key:"getRowLimit",value:function(){var n,a=UT(this.eventRowRef.current),i=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?UT(this.headingRowRef.current):0,s=UT(this.containerRef.current)-i;return Math.max(Math.floor(s/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.rtl,s=n.range,o=n.className,l=n.selected,c=n.selectable,u=n.renderForMeasure,f=n.accessors,h=n.getters,m=n.components,p=n.getNow,g=n.renderHeader,v=n.onSelect,y=n.localizer,x=n.onSelectStart,b=n.onSelectEnd,E=n.onDoubleClick,k=n.onKeyPress,C=n.resourceId,S=n.longPressThreshold,_=n.isAllDay,T=n.resizable,P=n.showAllEvents;if(u)return this.renderDummy();var N=this.slotMetrics(this.props),O=N.levels,D=N.extra,X=P?T7e:Ho,te=m.weekWrapper,ne={selected:l,accessors:f,getters:h,localizer:y,components:m,onSelect:v,onDoubleClick:E,onKeyPress:k,resourceId:C,slotMetrics:N,resizable:T};return se.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},se.createElement(b7e,{localizer:y,date:a,getNow:p,rtl:i,range:s,selectable:c,container:this.getContainer,getters:h,onSelectStart:x,onSelectEnd:b,onSelectSlot:this.handleSelectSlot,components:m,longPressThreshold:S,resourceId:C}),se.createElement("div",{className:sn("rbc-row-content",P&&"rbc-row-content-scrollable"),role:"row"},g&&se.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},s.map(this.renderHeadingCell)),se.createElement(X,null,se.createElement(te,Object.assign({isAllDay:_},ne,{rtl:this.props.rtl}),O.map(function(Q,z){return se.createElement(qX,Object.assign({key:z,segments:Q},ne))}),!!D.length&&se.createElement(XX,Object.assign({segments:D,onShowMore:this.handleShowMore},ne))))))}}])}(se.Component);Uv.defaultProps={minRows:0,maxRows:1/0};var zD=function(t){var r=t.label;return se.createElement("span",{role:"columnheader","aria-sort":"none"},r)},k7e=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?se.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):se.createElement("span",null,r)},N7e=["date","className"],P7e=function(t,r,n,a,i){return t.filter(function(s){return Bv(s,r,n,a,i)})},tS=function(e){function t(){var r;zn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qa(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(s,o){var l=r.props,c=l.events,u=l.components,f=l.selectable,h=l.getNow,m=l.selected,p=l.date,g=l.localizer,v=l.longPressThreshold,y=l.accessors,x=l.getters,b=l.showAllEvents,E=r.state,k=E.needLimitMeasure,C=E.rowLimit,S=P7e(sw(c),s[0],s[s.length-1],y,g),_=S7e(S,y,g);return se.createElement(Uv,{key:o,ref:o===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:p,range:s,events:_,maxRows:b?1/0:C,selected:m,selectable:f,components:u,accessors:y,getters:x,localizer:g,renderHeader:r.readerDateHeading,renderForMeasure:k,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:v,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:b})},r.readerDateHeading=function(s){var o=s.date,l=s.className,c=gl(s,N7e),u=r.props,f=u.date,h=u.getDrilldownView,m=u.localizer,p=m.neq(f,o,"month"),g=m.isSameDate(o,f),v=h(o),y=m.format(o,"dateFormat"),x=r.props.components.dateHeader||k7e;return se.createElement("div",Object.assign({},c,{className:sn(l,p&&"rbc-off-range",g&&"rbc-current"),role:"cell"}),se.createElement(x,{label:y,date:o,drilldownView:v,isOffRange:p,onDrillDown:function(E){return r.handleHeadingClick(o,v,E)}}))},r.handleSelectSlot=function(s,o){r._pendingSelection=r._pendingSelection.concat(s),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(o)})},r.handleHeadingClick=function(s,o,l){l.preventDefault(),r.clearSelection(),Ir(r.props.onDrillDown,[s,o])},r.handleSelectEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Ir(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Ir(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){r.clearSelection();for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Ir(r.props.onKeyPressEvent,o)},r.handleShowMore=function(s,o,l,c,u){var f=r.props,h=f.popup,m=f.onDrillDown,p=f.onShowMore,g=f.getDrilldownView,v=f.doShowMoreDrillDown;if(r.clearSelection(),h){var y=QY(l,r.containerRef.current);r.setState({overlay:{date:o,events:s,position:y,target:u}})}else v&&Ir(m,[o,g(o)||ii.DAY]);Ir(p,[s,o,c])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=A.createRef(),r.slotRowRef=A.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Ja(t,e),Wn(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||JY(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.className,o=i.visibleDays(a,i),l=uDe(o,7);return this._weekCount=l.length,se.createElement("div",{className:sn("rbc-month-view",s),role:"table","aria-label":"Month View",ref:this.containerRef},se.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,i=a.localizer,s=a.components,o=n[0],l=n[n.length-1],c=s.header||zD;return i.range(o,l,"day").map(function(u,f){return se.createElement("div",{key:"header_"+f,className:"rbc-header"},se.createElement(c,{date:u,localizer:i,label:i.format(u,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,i=this,s=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,l=o.accessors,c=o.localizer,u=o.components,f=o.getters,h=o.selected,m=o.popupOffset,p=o.handleDragStart,g=function(){return i.setState({overlay:null})};return se.createElement(VD,{overlay:s,accessors:l,localizer:c,components:u,getters:f,selected:h,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(o,l){return+o-+l});var i=new Date(a[0]),s=new Date(a[a.length-1]);s.setDate(a[a.length-1].getDate()+1),Ir(this.props.onSelectSlot,{slots:a,start:i,end:s,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var i=n.date,s=n.localizer;return{date:i,needLimitMeasure:s.neq(i,a.date,"month")}}}])}(se.Component);tS.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};tS.navigate=function(e,t,r){var n=r.localizer;switch(t){case Mi.PREVIOUS:return n.add(e,-1,"month");case Mi.NEXT:return n.add(e,1,"month");default:return e}};tS.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var $$=function(t){var r=t.min,n=t.max,a=t.step,i=t.slots,s=t.localizer;return"".concat(+s.startOf(r,"minutes"))+"".concat(+s.startOf(n,"minutes"))+"".concat(a,"-").concat(i)};function WD(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,i=e.localizer,s=$$({step:n,localizer:i}),o=1+i.getTotalMin(t,r),l=i.getMinutesFromMidnight(t),c=Math.ceil((o-1)/(n*a)),u=c*a,f=new Array(c),h=new Array(u),m=0;m<c;m++){f[m]=new Array(a);for(var p=0;p<a;p++){var g=m*a+p,v=g*n;h[g]=f[m][p]=i.getSlotDate(t,l,v)}}var y=h.length*n;h.push(i.getSlotDate(t,l,y));function x(b){var E=i.diff(t,b,"minutes")+i.getDstOffset(t,b);return Math.min(E,o)}return{groups:f,update:function(E){return $$(E)!==s?WD(E):this},dateIsInGroup:function(E,k){var C=f[k+1];return i.inRange(E,f[k][0],C?C[0]:r,"minutes")},nextSlot:function(E){var k=h[Math.min(h.findIndex(function(C){return C===E||i.eq(C,E)})+1,h.length-1)];return i.eq(k,E)&&(k=i.add(E,n,"minutes")),k},closestSlotToPosition:function(E){var k=Math.min(h.length-1,Math.max(0,Math.floor(E*u)));return h[k]},closestSlotFromPoint:function(E,k){var C=Math.abs(k.top-k.bottom);return this.closestSlotToPosition((E.y-k.top)/C)},closestSlotFromDate:function(E){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(i.lt(E,t,"minutes"))return h[0];if(i.gt(E,r,"minutes"))return h[h.length-1];var C=i.diff(t,E,"minutes");return h[(C-C%n)/n+k]},startsBeforeDay:function(E){return i.lt(E,t,"day")},startsAfterDay:function(E){return i.gt(E,r,"day")},startsBefore:function(E){return i.lt(i.merge(t,E),t,"minutes")},startsAfter:function(E){return i.gt(i.merge(r,E),r,"minutes")},getRange:function(E,k,C,S){C||(E=i.min(r,i.max(t,E))),S||(k=i.min(r,i.max(t,k)));var _=x(E),T=x(k),P=T>n*u&&!i.eq(r,k)?(_-n)/(n*u)*100:_/(n*u)*100;return{top:P,height:T/(n*u)*100-P,start:x(E),startDate:E,end:x(k),endDate:k}},getCurrentTimePosition:function(E){var k=x(E),C=k/(n*u)*100;return C}}}var I7e=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;zn(this,e);var i=a.getRange(n.start(t),n.end(t)),s=i.start,o=i.startDate,l=i.end,c=i.endDate,u=i.top,f=i.height;this.start=s,this.end=l,this.startMs=+o,this.endMs=+c,this.top=u,this.height=f,this.data=t}return Wn(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,i){return Math.max(a,i.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,i=a.indexOf(this);return i===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,i=r._width,s=n.indexOf(this)+1;return a+s*i}}])}();function O7e(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function D7e(e){for(var t=a8e(e,["startMs",function(o){return-o.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var i=t[a];if(!(n.endMs>i.startMs)){if(a>0){var s=t.splice(a,1)[0];r.push(s)}break}}}return r}function JX(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=t.map(function(u){return new I7e(u,{slotMetrics:n,accessors:a})}),s=D7e(i),o=[],l=function(){var f=s[c],h=o.find(function(g){return g.end>f.start||Math.abs(f.start-g.start)<r});if(!h)return f.rows=[],o.push(f),1;f.container=h;for(var m=null,p=h.rows.length-1;!m&&p>=0;p--)O7e(h.rows[p],f,r)&&(m=h.rows[p]);m?(m.leaves.push(f),f.row=m):(f.leaves=[],h.rows.push(f))},c=0;c<s.length;c++)l();return s.map(function(u){return{event:u.data,style:{top:u.top,height:u.height,width:u.width,xOffset:Math.max(0,u.xOffset)}}})}function ZX(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=ZX(e.friends[n],t,r);t=t>a?t:a}return t}function j7e(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,i=JX({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});i.sort(function(te,ne){return te=te.style,ne=ne.style,te.top!==ne.top?te.top>ne.top?1:-1:te.height!==ne.height?te.top+te.height<ne.top+ne.height?1:-1:0});for(var s=0;s<i.length;++s)i[s].friends=[],delete i[s].style.left,delete i[s].style.left,delete i[s].idx,delete i[s].size;for(var o=0;o<i.length-1;++o)for(var l=i[o],c=l.style.top,u=l.style.top+l.style.height,f=o+1;f<i.length;++f){var h=i[f],m=h.style.top,p=h.style.top+h.style.height;(m>=c&&p<=u||p>c&&p<=u||m>=c&&m<u)&&(l.friends.push(h),h.friends.push(l))}for(var g=0;g<i.length;++g){for(var v=i[g],y=[],x=0;x<100;++x)y.push(1);for(var b=0;b<v.friends.length;++b)v.friends[b].idx!==void 0&&(y[v.friends[b].idx]=0);v.idx=y.indexOf(1)}for(var E=0;E<i.length;++E){var k=0;if(!i[E].size){var C=[],S=ZX(i[E],0,C);k=100/(S+1),i[E].size=k;for(var _=0;_<C.length;++_)C[_].size=k}}for(var T=0;T<i.length;++T){var P=i[T];P.style.left=P.idx*P.size;for(var N=0,O=0;O<P.friends.length;++O){var D=P.friends[O].idx;N=N>D?N:D}N<=P.idx&&(P.size=100-P.idx*P.size);var X=P.idx===0?0:3;P.style.width="calc(".concat(P.size,"% - ").concat(X,"px)"),P.style.height="calc(".concat(P.style.height,"% - 2px)"),P.style.xOffset="calc(".concat(P.style.left,"% + ").concat(X,"px)")}return i}var B$={overlap:JX,"no-overlap":j7e};function R7e(e){return!!(e&&e.constructor&&e.call&&e.apply)}function M7e(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in B$&&(r=B$[t]),R7e(r)?r.apply(this,arguments):[]}var eQ=function(e){function t(){return zn(this,t),Qa(this,t,arguments)}return Ja(t,e),Wn(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,i=n.resource,s=n.group,o=n.getters,l=n.components,c=l===void 0?{}:l,u=c.timeSlotWrapper,f=u===void 0?Ho:u,h=o?o.slotGroupProp(s):{};return se.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),s.map(function(m,p){var g=o?o.slotProp(m,i):{};return se.createElement(f,{key:p,value:m,resource:i},se.createElement("div",Object.assign({},g,{className:sn("rbc-time-slot",g.className)}),a&&a(m,p)))}))}}])}(A.Component);function p1(e){return typeof e=="string"?e:e+"%"}function F7e(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,i=e.rtl,s=e.selected,o=e.label,l=e.continuesPrior,c=e.continuesAfter,u=e.getters,f=e.onClick,h=e.onDoubleClick,m=e.isBackgroundEvent,p=e.onKeyPress,g=e.components,v=g.event,y=g.eventWrapper,x=a.title(n),b=a.tooltip(n),E=a.end(n),k=a.start(n),C=u.eventProp(n,k,E,s),S=[se.createElement("div",{key:"1",className:"rbc-event-label"},o),se.createElement("div",{key:"2",className:"rbc-event-content"},v?se.createElement(v,{event:n,title:x}):x)],_=t.height,T=t.top,P=t.width,N=t.xOffset,O=vr(vr({},C.style),{},Bd({top:p1(T),height:p1(_),width:p1(P)},i?"right":"left",p1(N)));return se.createElement(y,Object.assign({type:"time"},e),se.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:O,onKeyDown:p,title:b?(typeof o=="string"?o+": ":"")+b:void 0,className:sn(m?"rbc-background-event":"rbc-event",r,C.className,{"rbc-selected":s,"rbc-event-continues-earlier":l,"rbc-event-continues-later":c})},S))}var L7e=function(t){var r=t.children,n=t.className,a=t.style,i=t.innerRef;return se.createElement("div",{className:n,style:a,ref:i},r)},$7e=se.forwardRef(function(e,t){return se.createElement(L7e,Object.assign({},e,{innerRef:t}))}),B7e=["dayProp"],U7e=["eventContainerWrapper","timeIndicatorWrapper"],tQ=function(e){function t(){var r;zn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qa(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(s){var o=s.events,l=s.isBackgroundEvent,c=r.props,u=c.rtl,f=c.selected,h=c.accessors,m=c.localizer,p=c.getters,g=c.components,v=c.step,y=c.timeslots,x=c.dayLayoutAlgorithm,b=c.resizable,E=r,k=E.slotMetrics,C=m.messages,S=M7e({events:o,accessors:h,slotMetrics:k,minimumStartDifference:Math.ceil(v*y/2),dayLayoutAlgorithm:x});return S.map(function(_,T){var P,N=_.event,O=_.style,D=h.end(N),X=h.start(N),te=(P=h.eventId(N))!==null&&P!==void 0?P:"evt_"+T,ne="eventTimeRangeFormat",Q,z=k.startsBeforeDay(X),j=k.startsAfterDay(D);z?ne="eventTimeRangeEndFormat":j&&(ne="eventTimeRangeStartFormat"),z&&j?Q=C.allDay:Q=m.format({start:X,end:D},ne);var ce=z||k.startsBefore(X),ee=j||k.startsAfter(D);return se.createElement(F7e,{style:O,event:N,label:Q,key:te,getters:p,rtl:u,components:g,continuesPrior:ce,continuesAfter:ee,accessors:h,resource:r.props.resource,selected:eS(N,f),onClick:function(H){return r._select(vr(vr(vr({},N),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),H)},onDoubleClick:function(H){return r._doubleClick(N,H)},isBackgroundEvent:l,onKeyPress:function(H){return r._keyPress(N,H)},resizable:b})})},r._selectable=function(){var s=r.containerRef.current,o=r.props,l=o.longPressThreshold,c=o.localizer,u=r._selector=new KX(function(){return s},{longPressThreshold:l}),f=function(g){var v=r.props.onSelecting,y=r.state||{},x=h(g),b=x.startDate,E=x.endDate;v&&(c.eq(y.startDate,b,"minutes")&&c.eq(y.endDate,E,"minutes")||v({start:b,end:E,resourceId:r.props.resource})===!1)||(r.state.start!==x.start||r.state.end!==x.end||r.state.selecting!==x.selecting)&&r.setState(x)},h=function(g){var v=r.slotMetrics.closestSlotFromPoint(g,Hf(s));r.state.selecting||(r._initialSlot=v);var y=r._initialSlot;c.lte(y,v)?v=r.slotMetrics.nextSlot(v):c.gt(y,v)&&(y=r.slotMetrics.nextSlot(y));var x=r.slotMetrics.getRange(c.min(y,v),c.max(y,v));return vr(vr({},x),{},{selecting:!0,top:"".concat(x.top,"%"),height:"".concat(x.height,"%")})},m=function(g,v){if(!Fb(r.containerRef.current,g)){var y=h(g),x=y.startDate,b=y.endDate;r._selectSlot({startDate:x,endDate:b,action:v,box:g})}r.setState({selecting:!1})};u.on("selecting",f),u.on("selectStart",f),u.on("beforeSelect",function(p){if(r.props.selectable==="ignoreEvents")return!Fb(r.containerRef.current,p)}),u.on("click",function(p){return m(p,"click")}),u.on("doubleClick",function(p){return m(p,"doubleClick")}),u.on("select",function(p){r.state.selecting&&(r._selectSlot(vr(vr({},r.state),{},{action:"select",bounds:p})),r.setState({selecting:!1}))}),u.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(s){for(var o=s.startDate,l=s.endDate,c=s.action,u=s.bounds,f=s.box,h=o,m=[];r.props.localizer.lte(h,l);)m.push(h),h=new Date(+h+r.props.step*60*1e3);Ir(r.props.onSelectSlot,{slots:m,start:o,end:l,resourceId:r.props.resource,action:c,bounds:u,box:f})},r._select=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Ir(r.props.onSelectEvent,o)},r._doubleClick=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Ir(r.props.onDoubleClickEvent,o)},r._keyPress=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Ir(r.props.onKeyPressEvent,o)},r.slotMetrics=WD(r.props),r.containerRef=A.createRef(),r}return Ja(t,e),Wn(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var i=this.props,s=i.getNow,o=i.isNow,l=i.localizer,c=i.date,u=i.min,f=i.max,h=l.neq(n.getNow(),s(),"minutes");if(n.isNow!==o||h){if(this.clearTimeIndicatorInterval(),o){var m=!h&&l.eq(n.date,c,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(m)}}else o&&(l.neq(n.min,u,"minutes")||l.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,i=n.max,s=n.getNow,o=s();if(o>=a&&o<=i){var l=this.slotMetrics.getCurrentTimePosition(o);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,i=n.max,s=n.rtl,o=n.isNow,l=n.resource,c=n.accessors,u=n.localizer,f=n.getters,h=f.dayProp,m=gl(f,B7e),p=n.components,g=p.eventContainerWrapper,v=p.timeIndicatorWrapper,y=gl(p,U7e);this.slotMetrics=this.slotMetrics.update(this.props);var x=this.slotMetrics,b=this.state,E=b.selecting,k=b.top,C=b.height,S=b.startDate,_=b.endDate,T={start:S,end:_},P=h(i,l),N=P.className,O=P.style,D={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},X=y.dayColumnWrapper||$7e;return se.createElement(X,{ref:this.containerRef,date:a,style:O,className:sn(N,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",E&&"rbc-slot-selecting"),slotMetrics:x,resource:l},x.groups.map(function(te,ne){return se.createElement(eQ,{key:ne,group:te,resource:l,getters:m,components:y})}),se.createElement(g,{localizer:u,resource:l,accessors:c,getters:m,components:y,slotMetrics:x},se.createElement("div",{className:sn("rbc-events-container",s&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),E&&se.createElement("div",{className:"rbc-slot-selection",style:{top:k,height:C}},se.createElement("span",null,u.format(T,"selectRangeFormat"))),o&&this.intervalTriggered&&se.createElement(v,D,se.createElement("div",D)))}}])}(se.Component);tQ.defaultProps={dragThroughEvents:!0,timeslots:2};var rQ=function(t){var r=t.label;return se.createElement(se.Fragment,null,r)},V7e=function(e){function t(){var r;zn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qa(this,t,[].concat(a)),r.handleHeaderClick=function(s,o,l){l.preventDefault(),Ir(r.props.onDrillDown,[s,o])},r.renderRow=function(s){var o=r.props,l=o.events,c=o.rtl,u=o.selectable,f=o.getNow,h=o.range,m=o.getters,p=o.localizer,g=o.accessors,v=o.components,y=o.resizable,x=g.resourceId(s),b=s?l.filter(function(E){return g.resource(E)===x}):l;return se.createElement(Uv,{isAllDay:!0,rtl:c,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:b,resourceId:x,className:"rbc-allday-cell",selectable:u,selected:r.props.selected,components:v,accessors:g,getters:m,localizer:p,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:y})},r}return Ja(t,e),Wn(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,s=i.localizer,o=i.getDrilldownView,l=i.getNow,c=i.getters.dayProp,u=i.components.header,f=u===void 0?zD:u,h=l();return n.map(function(m,p){var g=o(m),v=s.format(m,"dayFormat"),y=c(m),x=y.className,b=y.style,E=se.createElement(f,{date:m,label:v,localizer:s});return se.createElement("div",{key:p,style:b,className:sn("rbc-header",x,s.isSameDate(m,h)&&"rbc-today")},g?se.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(C){return a.handleHeaderClick(m,g,C)}},E):se.createElement("span",null,E))})}},{key:"render",value:function(){var n=this,a=this.props,i=a.width,s=a.rtl,o=a.resources,l=a.range,c=a.events,u=a.getNow,f=a.accessors,h=a.selectable,m=a.components,p=a.getters,g=a.scrollRef,v=a.localizer,y=a.isOverflowing,x=a.components,b=x.timeGutterHeader,E=x.resourceHeader,k=E===void 0?rQ:E,C=a.resizable,S={};y&&(S[s?"marginLeft":"marginRight"]="".concat(_D()-1,"px"));var _=o.groupEvents(c);return se.createElement("div",{style:S,ref:g,className:sn("rbc-time-header",y&&"rbc-overflowing")},se.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},b&&se.createElement(b,null)),o.map(function(T,P){var N=Lf(T,2),O=N[0],D=N[1];return se.createElement("div",{className:"rbc-time-header-content",key:O||P},D&&se.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(P)},se.createElement("div",{className:"rbc-header"},se.createElement(k,{index:P,label:f.resourceTitle(D),resource:D}))),se.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),se.createElement(Uv,{isAllDay:!0,rtl:s,getNow:u,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:_.get(O)||[],resourceId:D&&O,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:m,accessors:f,getters:p,localizer:v,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:C}))}))}}])}(se.Component),z7e=function(e){function t(){var r;zn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qa(this,t,[].concat(a)),r.handleHeaderClick=function(s,o,l){l.preventDefault(),Ir(r.props.onDrillDown,[s,o])},r}return Ja(t,e),Wn(t,[{key:"renderHeaderCells",value:function(n){var a=this,i=this.props,s=i.localizer,o=i.getDrilldownView,l=i.getNow,c=i.getters.dayProp,u=i.components,f=u.header,h=f===void 0?zD:f,m=u.resourceHeader,p=m===void 0?rQ:m,g=i.resources,v=i.accessors,y=i.events,x=i.rtl,b=i.selectable,E=i.components,k=i.getters,C=i.resizable,S=l(),_=g.groupEvents(y);return n.map(function(T,P){var N=o(T),O=s.format(T,"dayFormat"),D=c(T),X=D.className,te=D.style,ne=se.createElement(h,{date:T,label:O,localizer:s});return se.createElement("div",{key:P,className:"rbc-time-header-content rbc-resource-grouping"},se.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},se.createElement("div",{style:te,className:sn("rbc-header",X,s.isSameDate(T,S)&&"rbc-today")},N?se.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(z){return a.handleHeaderClick(T,N,z)}},ne):se.createElement("span",null,ne))),se.createElement("div",{className:"rbc-row"},g.map(function(Q,z){var j=Lf(Q,2),ce=j[0],ee=j[1];return se.createElement("div",{key:"resource_".concat(ce,"_").concat(z),className:sn("rbc-header",X,s.isSameDate(T,S)&&"rbc-today")},se.createElement(p,{index:z,label:v.resourceTitle(ee),resource:ee}))})),se.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},g.map(function(Q,z){var j=Lf(Q,2),ce=j[0],ee=j[1],M=(_.get(ce)||[]).filter(function(H){return s.isSameDate(H.start,T)||s.isSameDate(H.end,T)});return se.createElement(Uv,{key:"resource_".concat(ce,"_").concat(z),isAllDay:!0,rtl:x,getNow:l,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[T],events:M,resourceId:ee&&ce,className:"rbc-allday-cell",selectable:b,selected:a.props.selected,components:E,accessors:v,getters:k,localizer:s,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:C})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,i=n.rtl,s=n.range,o=n.scrollRef,l=n.isOverflowing,c=n.components.timeGutterHeader,u={};return l&&(u[i?"marginLeft":"marginRight"]="".concat(_D()-1,"px")),se.createElement("div",{style:u,ref:o,className:sn("rbc-time-header",l&&"rbc-overflowing")},se.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},c&&se.createElement(c,null)),this.renderHeaderCells(s))}}])}(se.Component);function W7e(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var H7e=function(t){var r=t.min,n=t.max,a=t.timeslots,i=t.step,s=t.localizer,o=t.getNow,l=t.resource,c=t.components,u=t.getters,f=t.gutterRef,h=c.timeGutterWrapper,m=A.useMemo(function(){return W7e({min:r,max:n,localizer:s})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),s]),p=m.start,g=m.end,v=A.useState(WD({min:p,max:g,timeslots:a,step:i,localizer:s})),y=Lf(v,2),x=y[0],b=y[1];A.useEffect(function(){x&&b(x.update({min:p,max:g,timeslots:a,step:i,localizer:s}))},[p==null?void 0:p.toISOString(),g==null?void 0:g.toISOString(),a,i]);var E=A.useCallback(function(k,C){if(C)return null;var S=x.dateIsInGroup(o(),C);return se.createElement("span",{className:sn("rbc-label",S&&"rbc-now")},s.format(k,"timeGutterFormat"))},[x,s,o]);return se.createElement(h,{slotMetrics:x},se.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},x.groups.map(function(k,C){return se.createElement(eQ,{key:C,group:k,resource:l,components:c,renderSlot:E,getters:u})})))},G7e=se.forwardRef(function(e,t){return se.createElement(H7e,Object.assign({gutterRef:t},e))}),HT={};function K7e(e,t){return{map:function(n){return e?e.map(function(a,i){return n([t.resourceId(a),a],i)}):[n([HT,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(i){var s=t.resource(i)||HT;if(Array.isArray(s))s.forEach(function(l){var c=a.get(l)||[];c.push(i),a.set(l,c)});else{var o=a.get(s)||[];o.push(i),a.set(s,o)}}),a):(a.set(HT,n),a)}}}var Vm=function(e){function t(r){var n;return zn(this,t),n=Qa(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){A5(n.rafHandle),n.rafHandle=JY(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];Ir(n.props.onKeyPressEvent,i)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];Ir(n.props.onSelectEvent,i)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];Ir(n.props.onDoubleClickEvent,i)},n.handleShowMore=function(a,i,s,o,l){var c=n.props,u=c.popup,f=c.onDrillDown,h=c.onShowMore,m=c.getDrilldownView,p=c.doShowMoreDrillDown;if(n.clearSelection(),u){var g=QY(s,n.containerRef.current);n.setState({overlay:{date:i,events:a,position:vr(vr({},g),{},{width:"200px"}),target:l}})}else p&&Ir(f,[i,m(i)||ii.DAY]);Ir(h,[a,i,o])},n.handleSelectAllDaySlot=function(a,i){var s=n.props.onSelectSlot,o=new Date(a[0]),l=new Date(a[a.length-1]);l.setDate(a[a.length-1].getDate()+1),Ir(s,{slots:a,start:o,end:l,action:i.action,resourceId:i.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var i=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==i&&(n._updatingOverflow=!0,n.setState({isOverflowing:i},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=EX(function(a,i){return K7e(a,i)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=se.createRef(),n.contentRef=se.createRef(),n.containerRef=se.createRef(),n._scrollRatio=null,n.gutterRef=A.createRef(),n}return Ja(t,e),Wn(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),A5(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,i,s,o,l,c,u,f,h){var m=this.props,p=m.min,g=m.max,v=(s.get(a)||[]).filter(function(x){return l.inRange(n,c.start(x),c.end(x),"day")}),y=(o.get(a)||[]).filter(function(x){return l.inRange(n,c.start(x),c.end(x),"day")});return se.createElement(tQ,Object.assign({},this.props,{localizer:l,min:l.merge(n,p),max:l.merge(n,g),resource:i&&a,components:u,isNow:l.isSameDate(n,h),key:"".concat(a,"-").concat(n),date:n,events:v,backgroundEvents:y,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,i,s,o,l,c,u,f){var h=this;return a.map(function(m){var p=Lf(m,2),g=p[0],v=p[1];return n.map(function(y){return h.renderDayColumn(y,g,v,i,s,o,l,u,f,c)})})}},{key:"renderRangeFirst",value:function(n,a,i,s,o,l,c,u,f){var h=this;return n.map(function(m){return se.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:m},a.map(function(p){var g=Lf(p,2),v=g[0],y=g[1];return se.createElement("div",{style:{flex:1},key:l.resourceId(y)},h.renderDayColumn(m,v,y,i,s,o,l,u,f,c))}))})}},{key:"renderEvents",value:function(n,a,i,s){var o=this.props,l=o.accessors,c=o.localizer,u=o.resourceGroupingLayout,f=o.components,h=o.dayLayoutAlgorithm,m=this.memoizedResources(this.props.resources,l),p=m.groupEvents(a),g=m.groupEvents(i);return u?this.renderRangeFirst(n,m,p,g,c,l,s,f,h):this.renderResourcesFirst(n,m,p,g,c,l,s,f,h)}},{key:"render",value:function(){var n,a=this.props,i=a.events,s=a.backgroundEvents,o=a.range,l=a.width,c=a.rtl,u=a.selected,f=a.getNow,h=a.resources,m=a.components,p=a.accessors,g=a.getters,v=a.localizer,y=a.min,x=a.max,b=a.showMultiDayTimes,E=a.longPressThreshold,k=a.resizable,C=a.resourceGroupingLayout;l=l||this.state.gutterWidth;var S=o[0],_=o[o.length-1];this.slots=o.length;var T=[],P=[],N=[];i.forEach(function(D){if(Bv(D,S,_,p,v)){var X=p.start(D),te=p.end(D);p.allDay(D)||v.startAndEndAreDateOnly(X,te)||!b&&!v.isSameDate(X,te)?T.push(D):P.push(D)}}),s.forEach(function(D){Bv(D,S,_,p,v)&&N.push(D)}),T.sort(function(D,X){return Vk(D,X,p,v)});var O={range:o,events:T,width:l,rtl:c,getNow:f,localizer:v,selected:u,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,p),selectable:this.props.selectable,accessors:p,getters:g,components:m,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:E,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:k};return se.createElement("div",{className:sn("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&C?se.createElement(z7e,O):se.createElement(V7e,O),this.props.popup&&this.renderOverlay(),se.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},se.createElement(G7e,{date:S,ref:this.gutterRef,localizer:v,min:v.merge(S,y),max:v.merge(S,x),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:m,className:"rbc-time-gutter",getters:g}),this.renderEvents(o,P,N,f())))}},{key:"renderOverlay",value:function(){var n,a,i=this,s=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},o=this.props,l=o.accessors,c=o.localizer,u=o.components,f=o.getters,h=o.selected,m=o.popupOffset,p=o.handleDragStart,g=function(){return i.setState({overlay:null})};return se.createElement(VD,{overlay:s,accessors:l,localizer:c,components:u,getters:f,selected:h,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:g})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,i=(a=n.gutterRef)!==null&&a!==void 0&&a.current?$k(n.gutterRef.current):void 0;i&&n.state.gutterWidth!==i&&n.setState({gutterWidth:i})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,i=n.max,s=n.scrollToTime,o=n.localizer,l=o.diff(o.merge(s,a),s,"milliseconds"),c=o.diff(a,i,"milliseconds");this._scrollRatio=l/c}}])}(A.Component);Vm.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var q7e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],rS=function(e){function t(){return zn(this,t),Qa(this,t,arguments)}return Ja(t,e),Wn(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,l=n.max,c=l===void 0?i.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?i.startOf(new Date,"day"):u,h=n.enableAutoScroll,m=h===void 0?!0:h,p=gl(n,q7e),g=t.range(a,{localizer:i});return se.createElement(Vm,Object.assign({},p,{range:g,eventOffset:10,localizer:i,min:o,max:c,scrollToTime:f,enableAutoScroll:m}))}}])}(se.Component);rS.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};rS.navigate=function(e,t,r){var n=r.localizer;switch(t){case Mi.PREVIOUS:return n.add(e,-1,"day");case Mi.NEXT:return n.add(e,1,"day");default:return e}};rS.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var Y7e=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Yu=function(e){function t(){return zn(this,t),Qa(this,t,arguments)}return Ja(t,e),Wn(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,l=n.max,c=l===void 0?i.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?i.startOf(new Date,"day"):u,h=n.enableAutoScroll,m=h===void 0?!0:h,p=gl(n,Y7e),g=t.range(a,this.props);return se.createElement(Vm,Object.assign({},p,{range:g,eventOffset:15,localizer:i,min:o,max:c,scrollToTime:f,enableAutoScroll:m}))}}])}(se.Component);Yu.defaultProps=Vm.defaultProps;Yu.navigate=function(e,t,r){var n=r.localizer;switch(t){case Mi.PREVIOUS:return n.add(e,-1,"week");case Mi.NEXT:return n.add(e,1,"week");default:return e}};Yu.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),i=r.endOf(e,"week",n);return r.range(a,i)};Yu.title=function(e,t){var r=t.localizer,n=Yu.range(e,{localizer:r}),a=PX(n),i=a[0],s=a.slice(1);return r.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};var X7e=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function HD(e,t){return Yu.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Hy=function(e){function t(){return zn(this,t),Qa(this,t,arguments)}return Ja(t,e),Wn(t,[{key:"render",value:function(){var n=this.props,a=n.date,i=n.localizer,s=n.min,o=s===void 0?i.startOf(new Date,"day"):s,l=n.max,c=l===void 0?i.endOf(new Date,"day"):l,u=n.scrollToTime,f=u===void 0?i.startOf(new Date,"day"):u,h=n.enableAutoScroll,m=h===void 0?!0:h,p=gl(n,X7e),g=HD(a,this.props);return se.createElement(Vm,Object.assign({},p,{range:g,eventOffset:15,localizer:i,min:o,max:c,scrollToTime:f,enableAutoScroll:m}))}}])}(se.Component);Hy.defaultProps=Vm.defaultProps;Hy.range=HD;Hy.navigate=Yu.navigate;Hy.title=function(e,t){var r=t.localizer,n=HD(e,{localizer:r}),a=PX(n),i=a[0],s=a.slice(1);return r.format({start:i,end:s.pop()},"dayRangeHeaderFormat")};var nS=30;function aS(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,i=e.getters,s=e.length,o=s===void 0?nS:s,l=e.localizer,c=e.onDoubleClickEvent,u=e.onSelectEvent,f=e.selected,h=A.useRef(null),m=A.useRef(null),p=A.useRef(null),g=A.useRef(null),v=A.useRef(null);A.useEffect(function(){b()});var y=function(_,T,P){var N=r.event,O=r.date;return T=T.filter(function(D){return Bv(D,l.startOf(_,"day"),l.endOf(_,"day"),t,l)}),T.map(function(D,X){var te=t.title(D),ne=t.end(D),Q=t.start(D),z=i.eventProp(D,Q,ne,eS(D,f)),j=X===0&&l.format(_,"agendaDateFormat"),ce=X===0?se.createElement("td",{rowSpan:T.length,className:"rbc-agenda-date-cell"},O?se.createElement(O,{day:_,label:j}):j):!1;return se.createElement("tr",{key:P+"_"+X,className:z.className,style:z.style},ce,se.createElement("td",{className:"rbc-agenda-time-cell"},x(_,D)),se.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(M){return u&&u(D,M)},onDoubleClick:function(M){return c&&c(D,M)}},N?se.createElement(N,{event:D,title:te}):te))},[])},x=function(_,T){var P="",N=r.time,O=l.messages.allDay,D=t.end(T),X=t.start(T);return t.allDay(T)||(l.eq(X,D)?O=l.format(X,"agendaTimeFormat"):l.isSameDate(X,D)?O=l.format({start:X,end:D},"agendaTimeRangeFormat"):l.isSameDate(_,X)?O=l.format(X,"agendaTimeFormat"):l.isSameDate(_,D)&&(O=l.format(D,"agendaTimeFormat"))),l.gt(_,X,"day")&&(P="rbc-continues-prior"),l.lt(_,D,"day")&&(P+=" rbc-continues-after"),se.createElement("span",{className:P.trim()},N?se.createElement(N,{event:T,day:_,label:O}):O)},b=function(){if(v.current){var _=h.current,T=v.current.firstChild;if(T){var P=g.current.scrollHeight>g.current.clientHeight,N=[],O=N;N=[$k(T.children[0]),$k(T.children[1])],(O[0]!==N[0]||O[1]!==N[1])&&(m.current.style.width=N[0]+"px",p.current.style.width=N[1]+"px"),P?(Qje(_,"rbc-header-overflowing"),_.style.marginRight=_D()+"px"):Jje(_,"rbc-header-overflowing")}}},E=l.messages,k=l.add(n,o,"day"),C=l.range(n,k,"day");return a=a.filter(function(S){return Bv(S,l.startOf(n,"day"),l.endOf(k,"day"),t,l)}),a.sort(function(S,_){return+t.start(S)-+t.start(_)}),se.createElement("div",{className:"rbc-agenda-view"},a.length!==0?se.createElement(se.Fragment,null,se.createElement("table",{ref:h,className:"rbc-agenda-table"},se.createElement("thead",null,se.createElement("tr",null,se.createElement("th",{className:"rbc-header",ref:m},E.date),se.createElement("th",{className:"rbc-header",ref:p},E.time),se.createElement("th",{className:"rbc-header"},E.event)))),se.createElement("div",{className:"rbc-agenda-content",ref:g},se.createElement("table",{className:"rbc-agenda-table"},se.createElement("tbody",{ref:v},C.map(function(S,_){return y(S,a,_)}))))):se.createElement("span",{className:"rbc-agenda-empty"},E.noEventsInRange))}aS.range=function(e,t){var r=t.length,n=r===void 0?nS:r,a=t.localizer,i=a.add(e,n,"day");return{start:e,end:i}};aS.navigate=function(e,t,r){var n=r.length,a=n===void 0?nS:n,i=r.localizer;switch(t){case Mi.PREVIOUS:return i.add(e,-a,"day");case Mi.NEXT:return i.add(e,a,"day");default:return e}};aS.title=function(e,t){var r=t.length,n=r===void 0?nS:r,a=t.localizer,i=a.add(e,n,"day");return a.format({start:e,end:i},"agendaHeaderFormat")};var cw=Bd(Bd(Bd(Bd(Bd({},ii.MONTH,tS),ii.WEEK,Yu),ii.WORK_WEEK,Hy),ii.DAY,rS),ii.AGENDA,aS),Q7e=["action","date","today"];function J7e(e,t){var r=t.action,n=t.date,a=t.today,i=gl(t,Q7e);switch(e=typeof e=="string"?cw[e]:e,r){case Mi.TODAY:n=a||new Date;break;case Mi.DATE:break;default:kv(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,i)}return n}function Z7e(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&xc(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var Dl=function(t){return function(r){return Z7e(r,t)}},eze=["view","date","getNow","onNavigate"],tze=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function nQ(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=Lf(n[r],2),i=a[0],s=a[1];s&&t.push(i)}return t}function rze(e,t){var r=t.views,n=nQ(r);return n.indexOf(e)!==-1}var aQ=function(e){function t(){var r;zn(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Qa(this,t,[].concat(a)),r.getViews=function(){var s=r.props.views;return Array.isArray(s)?OVe(s,function(o,l){return o[l]=cw[l]},{}):xc(s)==="object"?O8e(s,function(o,l){return o===!0?cw[l]:o}):cw},r.getView=function(){var s=r.getViews();return s[r.props.view]},r.getDrilldownView=function(s){var o=r.props,l=o.view,c=o.drilldownView,u=o.getDrilldownView;return u?u(s,l,Object.keys(r.getViews())):c},r.handleRangeChange=function(s,o,l){var c=r.props,u=c.onRangeChange,f=c.localizer;u&&o.range&&u(o.range(s,{localizer:f}),l)},r.handleNavigate=function(s,o){var l=r.props,c=l.view,u=l.date,f=l.getNow,h=l.onNavigate,m=gl(l,eze),p=r.getView(),g=f();u=J7e(p,vr(vr({},m),{},{action:s,date:o||u||g,today:g})),h(u,c,s),r.handleRangeChange(u,p)},r.handleViewChange=function(s){s!==r.props.view&&rze(s,r.props)&&r.props.onView(s);var o=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),o[s],s)},r.handleSelectEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Ir(r.props.onSelectEvent,o)},r.handleDoubleClickEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Ir(r.props.onDoubleClickEvent,o)},r.handleKeyPressEvent=function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];Ir(r.props.onKeyPressEvent,o)},r.handleSelectSlot=function(s){Ir(r.props.onSelectSlot,s)},r.handleDrillDown=function(s,o){var l=r.props.onDrillDown;if(l){l(s,o,r.drilldownView);return}o&&r.handleViewChange(o),r.handleNavigate(Mi.DATE,s)},r.state={context:t.getContext(r.props)},r}return Ja(t,e),Wn(t,[{key:"render",value:function(){var n=this.props,a=n.view,i=n.toolbar,s=n.events,o=n.backgroundEvents,l=n.resourceGroupingLayout,c=n.style,u=n.className,f=n.elementProps,h=n.date,m=n.getNow,p=n.length,g=n.showMultiDayTimes,v=n.onShowMore,y=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var x=gl(n,tze);h=h||m();var b=this.getView(),E=this.state.context,k=E.accessors,C=E.components,S=E.getters,_=E.localizer,T=E.viewNames,P=C.toolbar||i7e,N=b.title(h,{localizer:_,length:p});return se.createElement("div",Object.assign({},f,{className:sn(u,"rbc-calendar",x.rtl&&"rbc-rtl"),style:c}),i&&se.createElement(P,{date:h,view:a,views:T,label:N,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:_}),se.createElement(b,Object.assign({},x,{events:s,backgroundEvents:o,date:h,getNow:m,length:p,localizer:_,getters:S,components:C,accessors:k,showMultiDayTimes:g,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:v,doShowMoreDrillDown:y,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,i=n.endAccessor,s=n.allDayAccessor,o=n.tooltipAccessor,l=n.titleAccessor,c=n.resourceAccessor,u=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,m=n.eventPropGetter,p=n.backgroundEventPropGetter,g=n.slotPropGetter,v=n.slotGroupPropGetter,y=n.dayPropGetter,x=n.view,b=n.views,E=n.localizer,k=n.culture,C=n.messages,S=C===void 0?{}:C,_=n.components,T=_===void 0?{}:_,P=n.formats,N=P===void 0?{}:P,O=nQ(b),D=o7e(S);return{viewNames:O,localizer:a7e(E,k,N,D),getters:{eventProp:function(){return m&&m.apply(void 0,arguments)||{}},backgroundEventProp:function(){return p&&p.apply(void 0,arguments)||{}},slotProp:function(){return g&&g.apply(void 0,arguments)||{}},slotGroupProp:function(){return v&&v.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:T8e(T[x]||{},xVe(T,O),{eventWrapper:Ho,backgroundEventWrapper:Ho,eventContainerWrapper:Ho,dateCellWrapper:Ho,weekWrapper:Ho,timeSlotWrapper:Ho,timeGutterWrapper:Ho,timeIndicatorWrapper:Ho}),accessors:{start:Dl(a),end:Dl(i),allDay:Dl(s),tooltip:Dl(o),title:Dl(l),resource:Dl(c),resourceId:Dl(u),resourceTitle:Dl(f),eventId:Dl(h)}}}}])}(se.Component);aQ.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:ii.MONTH,views:[ii.MONTH,ii.WEEK,ii.DAY,ii.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:ii.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var iQ=IY(aQ,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),nze=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"P",r),"  ").concat(n.format(i,"P",r))},GT=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"p",r),"  ").concat(n.format(i,"p",r))},aze=function(t,r,n){var a=t.start;return"".concat(n.format(a,"h:mma",r),"  ")},ize=function(t,r,n){var a=t.end;return"  ".concat(n.format(a,"h:mma",r))},sze=function(t,r,n){var a=t.start,i=t.end;return"".concat(n.format(a,"MMMM dd",r),"  ").concat(n.format(i,Om(a,i,"month")?"dd":"MMMM dd",r))},oze={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:GT,eventTimeRangeFormat:GT,eventTimeRangeStartFormat:aze,eventTimeRangeEndFormat:ize,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:sze,agendaHeaderFormat:nze,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:GT},sQ=function(t){var r=t.startOfWeek,n=t.getDay,a=t.format,i=t.locales;return new n7e({formats:oze,firstOfWeek:function(o){return n(r(new Date,{locale:i[o]}))},format:function(o,l,c){return a(new Date(o),l,{locale:i[c]})}})};const oQ=6048e5,lze=864e5,U$=Symbol.for("constructDateFrom");function Xu(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&U$ in e?e[U$](t):e instanceof Date?new e.constructor(t):new Date(t)}function Js(e,t){return Xu(t||e,e)}let cze={};function iS(){return cze}function Gf(e,t){var o,l,c,u;const r=iS(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??0,a=Js(e,t==null?void 0:t.in),i=a.getDay(),s=(i<n?7:0)+i-n;return a.setDate(a.getDate()-s),a.setHours(0,0,0,0),a}function Lb(e,t){return Gf(e,{...t,weekStartsOn:1})}function lQ(e,t){const r=Js(e,t==null?void 0:t.in),n=r.getFullYear(),a=Xu(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const i=Lb(a),s=Xu(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Lb(s);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function V$(e){const t=Js(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function uze(e,...t){const r=Xu.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function z$(e,t){const r=Js(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function dze(e,t,r){const[n,a]=uze(r==null?void 0:r.in,e,t),i=z$(n),s=z$(a),o=+i-V$(i),l=+s-V$(s);return Math.round((o-l)/lze)}function fze(e,t){const r=lQ(e,t),n=Xu(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Lb(n)}function hze(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function mze(e){return!(!hze(e)&&typeof e!="number"||isNaN(+Js(e)))}function pze(e,t){const r=Js(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const gze={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vze=(e,t,r)=>{let n;const a=gze[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function T0(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const yze={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xze={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wze={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bze={date:T0({formats:yze,defaultWidth:"full"}),time:T0({formats:xze,defaultWidth:"full"}),dateTime:T0({formats:wze,defaultWidth:"full"})},_ze={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Eze=(e,t,r,n)=>_ze[e];function qo(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{const s=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[o]||e.values[s]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const Sze={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Tze={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Aze={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Cze={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kze={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nze={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pze=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ize={ordinalNumber:Pze,era:qo({values:Sze,defaultWidth:"wide"}),quarter:qo({values:Tze,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qo({values:Aze,defaultWidth:"wide"}),day:qo({values:Cze,defaultWidth:"wide"}),dayPeriod:qo({values:kze,defaultWidth:"wide",formattingValues:Nze,defaultFormattingWidth:"wide"})};function Yo(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Dze(o,f=>f.test(s)):Oze(o,f=>f.test(s));let c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const u=t.slice(s.length);return{value:c,rest:u}}}function Oze(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Dze(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function cQ(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],i=t.match(e.parsePattern);if(!i)return null;let s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;const o=t.slice(a.length);return{value:s,rest:o}}}const jze=/^(\d+)(th|st|nd|rd)?/i,Rze=/\d+/i,Mze={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fze={any:[/^b/i,/^(a|c)/i]},Lze={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},$ze={any:[/1/i,/2/i,/3/i,/4/i]},Bze={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Uze={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vze={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zze={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Wze={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hze={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gze={ordinalNumber:cQ({matchPattern:jze,parsePattern:Rze,valueCallback:e=>parseInt(e,10)}),era:Yo({matchPatterns:Mze,defaultMatchWidth:"wide",parsePatterns:Fze,defaultParseWidth:"any"}),quarter:Yo({matchPatterns:Lze,defaultMatchWidth:"wide",parsePatterns:$ze,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yo({matchPatterns:Bze,defaultMatchWidth:"wide",parsePatterns:Uze,defaultParseWidth:"any"}),day:Yo({matchPatterns:Vze,defaultMatchWidth:"wide",parsePatterns:zze,defaultParseWidth:"any"}),dayPeriod:Yo({matchPatterns:Wze,defaultMatchWidth:"any",parsePatterns:Hze,defaultParseWidth:"any"})},Kze={code:"en-US",formatDistance:vze,formatLong:bze,formatRelative:Eze,localize:Ize,match:Gze,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qze(e,t){const r=Js(e,t==null?void 0:t.in);return dze(r,pze(r))+1}function Yze(e,t){const r=Js(e,t==null?void 0:t.in),n=+Lb(r)-+fze(r);return Math.round(n/oQ)+1}function uQ(e,t){var u,f,h,m;const r=Js(e,t==null?void 0:t.in),n=r.getFullYear(),a=iS(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=Xu((t==null?void 0:t.in)||e,0);s.setFullYear(n+1,0,i),s.setHours(0,0,0,0);const o=Gf(s,t),l=Xu((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=Gf(l,t);return+r>=+o?n+1:+r>=+c?n:n-1}function Xze(e,t){var o,l,c,u;const r=iS(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((u=(c=r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??1,a=uQ(e,t),i=Xu((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),Gf(i,t)}function Qze(e,t){const r=Js(e,t==null?void 0:t.in),n=+Gf(r,t)-+Xze(r,t);return Math.round(n/oQ)+1}function nr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Kc={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return nr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):nr(r+1,2)},d(e,t){return nr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return nr(e.getHours()%12||12,t.length)},H(e,t){return nr(e.getHours(),t.length)},m(e,t){return nr(e.getMinutes(),t.length)},s(e,t){return nr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return nr(a,t.length)}},Oh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},W$={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Kc.y(e,t)},Y:function(e,t,r,n){const a=uQ(e,n),i=a>0?a:1-a;if(t==="YY"){const s=i%100;return nr(s,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):nr(i,t.length)},R:function(e,t){const r=lQ(e);return nr(r,t.length)},u:function(e,t){const r=e.getFullYear();return nr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return nr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return nr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Kc.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return nr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=Qze(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):nr(a,t.length)},I:function(e,t,r){const n=Yze(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):nr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Kc.d(e,t)},D:function(e,t,r){const n=qze(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):nr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return nr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return nr(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return nr(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Oh.noon:n===0?a=Oh.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Oh.evening:n>=12?a=Oh.afternoon:n>=4?a=Oh.morning:a=Oh.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Kc.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Kc.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):nr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):nr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Kc.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Kc.s(e,t)},S:function(e,t){return Kc.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return G$(n);case"XXXX":case"XX":return Rd(n);case"XXXXX":case"XXX":default:return Rd(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return G$(n);case"xxxx":case"xx":return Rd(n);case"xxxxx":case"xxx":default:return Rd(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+H$(n,":");case"OOOO":default:return"GMT"+Rd(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+H$(n,":");case"zzzz":default:return"GMT"+Rd(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return nr(n,t.length)},T:function(e,t,r){return nr(+e,t.length)}};function H$(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+t+nr(i,2)}function G$(e,t){return e%60===0?(e>0?"-":"+")+nr(Math.abs(e)/60,2):Rd(e,t)}function Rd(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=nr(Math.trunc(n/60),2),i=nr(n%60,2);return r+a+t+i}const K$=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},dQ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Jze=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return K$(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",K$(n,t)).replace("{{time}}",dQ(a,t))},Zze={p:dQ,P:Jze},eWe=/^D+$/,tWe=/^Y+$/,rWe=["D","DD","YY","YYYY"];function nWe(e){return eWe.test(e)}function aWe(e){return tWe.test(e)}function iWe(e,t,r){const n=sWe(e,t,r);if(console.warn(n),rWe.includes(e))throw new RangeError(n)}function sWe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oWe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lWe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cWe=/^'([^]*?)'?$/,uWe=/''/g,dWe=/[a-zA-Z]/;function mu(e,t,r){var u,f,h,m,p,g,v,y;const n=iS(),a=(r==null?void 0:r.locale)??n.locale??Kze,i=(r==null?void 0:r.firstWeekContainsDate)??((f=(u=r==null?void 0:r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=(r==null?void 0:r.weekStartsOn)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,o=Js(e,r==null?void 0:r.in);if(!mze(o))throw new RangeError("Invalid time value");let l=t.match(lWe).map(x=>{const b=x[0];if(b==="p"||b==="P"){const E=Zze[b];return E(x,a.formatLong)}return x}).join("").match(oWe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const b=x[0];if(b==="'")return{isToken:!1,value:fWe(x)};if(W$[b])return{isToken:!0,value:x};if(b.match(dWe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(l=a.localize.preprocessor(o,l));const c={firstWeekContainsDate:i,weekStartsOn:s,locale:a};return l.map(x=>{if(!x.isToken)return x.value;const b=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&aWe(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&nWe(b))&&iWe(b,t,String(e));const E=W$[b[0]];return E(o,b,a.localize,c)}).join("")}function fWe(e){const t=e.match(cWe);return t?t[1].replace(uWe,"'"):e}function fQ(e,t){return Js(e,t==null?void 0:t.in).getDay()}const hWe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},mWe=(e,t,r)=>{let n;const a=hWe[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},pWe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},gWe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},vWe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yWe={date:T0({formats:pWe,defaultWidth:"full"}),time:T0({formats:gWe,defaultWidth:"full"}),dateTime:T0({formats:vWe,defaultWidth:"full"})},xWe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},wWe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},bWe=(e,t,r,n)=>t.getHours()!==1?wWe[e]:xWe[e],_We={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},EWe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},SWe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},TWe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},AWe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},CWe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},kWe=(e,t)=>Number(e)+"",NWe={ordinalNumber:kWe,era:qo({values:_We,defaultWidth:"wide"}),quarter:qo({values:EWe,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:qo({values:SWe,defaultWidth:"wide"}),day:qo({values:TWe,defaultWidth:"wide"}),dayPeriod:qo({values:AWe,defaultWidth:"wide",formattingValues:CWe,defaultFormattingWidth:"wide"})},PWe=/^(\d+)()?/i,IWe=/\d+/i,OWe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},DWe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},jWe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},RWe={any:[/1/i,/2/i,/3/i,/4/i]},MWe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},FWe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},LWe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},$We={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},BWe={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},UWe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},VWe={ordinalNumber:cQ({matchPattern:PWe,parsePattern:IWe,valueCallback:function(e){return parseInt(e,10)}}),era:Yo({matchPatterns:OWe,defaultMatchWidth:"wide",parsePatterns:DWe,defaultParseWidth:"any"}),quarter:Yo({matchPatterns:jWe,defaultMatchWidth:"wide",parsePatterns:RWe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Yo({matchPatterns:MWe,defaultMatchWidth:"wide",parsePatterns:FWe,defaultParseWidth:"any"}),day:Yo({matchPatterns:LWe,defaultMatchWidth:"wide",parsePatterns:$We,defaultParseWidth:"any"}),dayPeriod:Yo({matchPatterns:BWe,defaultMatchWidth:"any",parsePatterns:UWe,defaultParseWidth:"any"})},A0={code:"es",formatDistance:mWe,formatLong:yWe,formatRelative:bWe,localize:NWe,match:VWe,options:{weekStartsOn:1,firstWeekContainsDate:1}},zWe={es:A0},WWe=sQ({format:mu,startOfWeek:Gf,getDay:fQ,locales:zWe}),HWe={allDay:"Todo el da",previous:"Anterior",next:"Siguiente",today:"Hoy",month:"Mes",week:"Semana",day:"Da",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango",showMore:e=>`+ Ver ms (${e})`},GWe=()=>{const{user:e}=ds(),{calendarEvents:t,isLoading:r,error:n,initializeSubscription:a,clearStore:i,getContactsByDate:s,dailyContacts:o,selectedDate:l,getStats:c}=IK(),[u,f]=A.useState(new Date),[h,m]=A.useState("month"),[p,g]=A.useState(!1);A.useEffect(()=>(e!=null&&e.uid&&(console.log(" Inicializando calendario para usuario:",e.email),a(e.uid)),()=>{i()}),[e==null?void 0:e.uid,a,i]);const v=A.useMemo(()=>c(),[t,c]),y=C=>{var S;return{style:{backgroundColor:((S=C.resource)==null?void 0:S.color)||"#3B82F6",border:"none",borderRadius:"6px",color:"white",fontSize:"12px",fontWeight:"500",padding:"2px 6px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"}}},x=({start:C})=>{s(C).length>0&&g(!0)},b=C=>{s(C.start),g(!0)},E=()=>d.jsx(ss,{children:p&&d.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>g(!1),children:d.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-96 overflow-y-auto",onClick:C=>C.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[d.jsx(Ka,{className:"h-5 w-5 mr-2 text-blue-600"}),l&&mu(l,"dd 'de' MMMM 'de' yyyy",{locale:A0})]}),d.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(xf,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("p",{className:"text-sm text-gray-600",children:[o.length," contacto",o.length!==1?"s":""," realizado",o.length!==1?"s":""," este da"]}),o.map((C,S)=>{var _,T,P,N;return d.jsxs(Ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:S*.05},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(oa,{className:"h-4 w-4 text-gray-500 mr-2"}),d.jsx("span",{className:"font-medium text-gray-900",children:C.beneficiarioNombre||"Sin nombre"})]}),d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${(_=C.resultado)!=null&&_.toLowerCase().includes("exitoso")?"bg-green-100 text-green-800":(T=C.resultado)!=null&&T.toLowerCase().includes("sin respuesta")?"bg-yellow-100 text-yellow-800":(P=C.resultado)!=null&&P.toLowerCase().includes("ocupado")?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:C.resultado||"Sin resultado"})]}),d.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[C.telefono&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(Lr,{className:"h-3 w-3 mr-2"}),C.telefono]}),C.fechaContacto&&d.jsxs("div",{className:"flex items-center",children:[d.jsx(na,{className:"h-3 w-3 mr-2"}),(N=C.fechaContacto)!=null&&N.toDate?mu(C.fechaContacto.toDate(),"HH:mm"):"Hora no disponible"]}),C.observaciones&&d.jsxs("div",{className:"flex items-start",children:[d.jsx(oy,{className:"h-3 w-3 mr-2 mt-0.5"}),d.jsx("span",{className:"text-xs",children:C.observaciones})]})]})]},C.id)})]})]})})}),k=()=>d.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[d.jsx(Os,{className:"h-5 w-5 mr-2 text-blue-600"}),"Estadsticas del Mes"]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v.totalContactos}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Contactos"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:v.exitosos}),d.jsx("div",{className:"text-sm text-gray-600",children:"Exitosos"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:v.sinRespuesta}),d.jsx("div",{className:"text-sm text-gray-600",children:"Sin Respuesta"})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[v.tasaExito,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Tasa de xito"})]})]})]});return r?d.jsxs("div",{className:"flex items-center justify-center h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando calendario..."})]}):n?d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(yn,{className:"h-5 w-5 text-red-500 mr-2"}),d.jsxs("span",{className:"text-red-700",children:["Error cargando el calendario: ",n]})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[d.jsx(Ka,{className:"h-6 w-6 mr-2 text-blue-600"}),"Ver Calendario"]}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Historial completo de contactos realizados"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(_f,{className:"h-5 w-5 text-green-500"}),d.jsxs("span",{className:"text-sm text-gray-600",children:[t.length," evento",t.length!==1?"s":""," registrado",t.length!==1?"s":""]})]})]}),d.jsx(k,{}),d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-md",children:d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"h-96 md:h-[600px]",children:d.jsx(iQ,{localizer:WWe,events:t,startAccessor:"start",endAccessor:"end",style:{height:"100%"},culture:"es",messages:HWe,eventPropGetter:y,onSelectSlot:x,onSelectEvent:b,selectable:!0,view:h,onView:m,date:u,onNavigate:f,views:["month","week","day"],step:60,showMultiDayTimes:!1,popup:!0,popupOffset:30,className:"rbc-calendar"})})})}),d.jsx(E,{}),d.jsx("style",{children:`
        .rbc-calendar {
          font-family: inherit;
        }

        .rbc-header {
          padding: 12px 8px;
          font-weight: 600;
          color: #374151;
          background-color: #f9fafb;
          border-bottom: 1px solid #e5e7eb;
        }

        .rbc-month-view {
          border: 1px solid #e5e7eb;
          border-radius: 8px;
          overflow: hidden;
        }

        .rbc-date-cell {
          padding: 8px;
        }

        .rbc-date-cell > a {
          color: #374151;
          font-weight: 500;
        }

        .rbc-off-range {
          color: #9ca3af;
        }

        .rbc-today {
          background-color: #eff6ff;
        }

        .rbc-event {
          border-radius: 6px;
          padding: 2px 6px;
          margin: 1px;
          font-size: 12px;
          cursor: pointer;
        }

        .rbc-event:hover {
          opacity: 0.8;
        }

        .rbc-slot-selection {
          background-color: rgba(59, 130, 246, 0.1);
        }

        .rbc-toolbar {
          margin-bottom: 20px;
          padding: 16px 0;
          border-bottom: 1px solid #e5e7eb;
        }

        .rbc-toolbar button {
          padding: 8px 16px;
          border: 1px solid #d1d5db;
          background-color: white;
          color: #374151;
          border-radius: 6px;
          font-weight: 500;
          transition: all 0.2s;
        }

        .rbc-toolbar button:hover {
          background-color: #f3f4f6;
          border-color: #9ca3af;
        }

        .rbc-toolbar button.rbc-active {
          background-color: #3b82f6;
          color: white;
          border-color: #3b82f6;
        }

        .rbc-toolbar-label {
          font-size: 18px;
          font-weight: 600;
          color: #111827;
        }
      `})]})},ar={RECORDATORIO_MEDICAMENTOS:"recordatorio_medicamentos",TOMA_HORA_CESFAM:"toma_hora_cesfam",GESTION_MUNICIPAL:"gestion_municipal",SEGUIMIENTO_TRAS_EMERGENCIAS:"seguimiento_tras_emergencias"},hQ={[ar.RECORDATORIO_MEDICAMENTOS]:"Recordatorio de Medicamentos",[ar.TOMA_HORA_CESFAM]:"Toma de hora en Cesfam/Hospital",[ar.GESTION_MUNICIPAL]:"Gestin Municipal",[ar.SEGUIMIENTO_TRAS_EMERGENCIAS]:"Seguimiento Tras Emergencias"},Ll={UNICO:"unico",DIARIO:"diario",SEMANAL:"semanal",MENSUAL:"mensual",PERMANENTE:"permanente"},Wk={[Ll.UNICO]:"Evento nico",[Ll.DIARIO]:"Todos los das",[Ll.SEMANAL]:"Todas las semanas",[Ll.MENSUAL]:"Todos los meses",[Ll.PERMANENTE]:"Permanente"},mQ=({gestion:e,isOpen:t,onClose:r})=>{const{updateGestion:n,deleteGestion:a}=Am(),{user:i}=ds(),[s,o]=A.useState(!1),[l,c]=A.useState({}),[u,f]=A.useState(!1),[h,m]=A.useState(""),[p,g]=A.useState(!1);A.useEffect(()=>{e&&t&&(c({titulo:e.titulo||"",descripcion:e.descripcion||"",tipo:e.tipo||ar.GESTION_MUNICIPAL,fechaVencimiento:e.fechaVencimiento?mu(e.fechaVencimiento,"yyyy-MM-dd'T'HH:mm"):"",prioridad:e.prioridad||"media",categoria:e.categoria||"general",medicamentos:e.medicamentos||"",horaMedicamento:e.horaMedicamento||"",recurrencia:e.recurrencia||Ll.UNICO,centroSalud:e.centroSalud||"",especialidad:e.especialidad||"",tipoGestionMunicipal:e.tipoGestionMunicipal||"",departamento:e.departamento||"",contactoCarabineros:e.contactoCarabineros||!1,contactoBomberos:e.contactoBomberos||!1,contactoAmbulancia:e.contactoAmbulancia||!1,contactoOtros:e.contactoOtros||!1,detalleOtros:e.detalleOtros||"",tipoEmergencia:e.tipoEmergencia||"",tipificacionSeguimiento:e.tipificacionSeguimiento||"",observacionesEmergencia:e.observacionesEmergencia||""}),o(!1),m(""))},[e,t]);const v=(S,_)=>{c(T=>({...T,[S]:_}))},y=async()=>{try{f(!0),m("");const S={...l,fechaVencimiento:l.fechaVencimiento?new Date(l.fechaVencimiento):null,ultimaModificacion:new Date,modificadoPor:i.uid,modificadoPorNombre:i.displayName||i.email,historialModificaciones:[...e.historialModificaciones||[],{fecha:new Date,usuario:i.uid,usuarioNombre:i.displayName||i.email,cambios:E(e,l)}]};await n(e.id,S),o(!1)}catch(S){console.error("Error actualizando gestin:",S),m("Error al guardar los cambios")}finally{f(!1)}},x=()=>(e==null?void 0:e.creadorId)===(i==null?void 0:i.uid)||(i==null?void 0:i.role)==="admin"||(i==null?void 0:i.role)==="super_admin",b=async()=>{try{f(!0),m(""),await a(e.id),console.log(" Gestin eliminada exitosamente"),g(!1),r()}catch(S){console.error(" Error eliminando gestin:",S),m("Error al eliminar la gestin"),g(!1)}finally{f(!1)}},E=(S,_)=>{const T=[];return Object.keys(_).forEach(P=>{S[P]!==_[P]&&T.push({campo:P,valorAnterior:S[P],valorNuevo:_[P]})}),T},k=()=>{switch(l.tipo){case ar.RECORDATORIO_MEDICAMENTOS:return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(gC,{className:"h-4 w-4 inline mr-1"}),"Medicamentos a recordar *"]}),s?d.jsx("textarea",{value:l.medicamentos,onChange:S=>v("medicamentos",S.target.value),placeholder:"Ej: Losartn 50mg - 1 comprimido, Metformina 850mg - 2 comprimidos",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.medicamentos})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(na,{className:"h-4 w-4 inline mr-1"}),"Hora del recordatorio *"]}),s?d.jsx("input",{type:"time",value:l.horaMedicamento,onChange:S=>v("horaMedicamento",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.horaMedicamento})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(o7,{className:"h-4 w-4 inline mr-1"}),"Frecuencia del recordatorio *"]}),s?d.jsx("select",{value:l.recurrencia,onChange:S=>v("recurrencia",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:Object.entries(Wk).map(([S,_])=>d.jsx("option",{value:S,children:_},S))}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:Wk[l.recurrencia]})]})]});case ar.TOMA_HORA_CESFAM:return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(W1,{className:"h-4 w-4 inline mr-1"}),"Centro de Salud (CESFAM/Hospital) *"]}),s?d.jsx("input",{type:"text",value:l.centroSalud,onChange:S=>v("centroSalud",S.target.value),placeholder:"Ej: CESFAM Dr. Juan Sebastin Bach",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.centroSalud})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(oa,{className:"h-4 w-4 inline mr-1"}),"Especialidad o tipo de atencin"]}),s?d.jsx("input",{type:"text",value:l.especialidad,onChange:S=>v("especialidad",S.target.value),placeholder:"Ej: Medicina general, Cardiologa, Exmenes",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.especialidad||"No especificado"})]})]});case ar.GESTION_MUNICIPAL:return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(dC,{className:"h-4 w-4 inline mr-1"}),"Tipo de gestin municipal *"]}),s?d.jsx("input",{type:"text",value:l.tipoGestionMunicipal,onChange:S=>v("tipoGestionMunicipal",S.target.value),placeholder:"Ej: Solicitud de certificado, Permiso de circulacin, Subsidios",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.tipoGestionMunicipal})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(W1,{className:"h-4 w-4 inline mr-1"}),"Departamento o rea municipal"]}),s?d.jsx("input",{type:"text",value:l.departamento,onChange:S=>v("departamento",S.target.value),placeholder:"Ej: Oficina de partes, DIDECO, Direccin de trnsito",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.departamento||"No especificado"})]})]});case ar.SEGUIMIENTO_TRAS_EMERGENCIAS:return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(yn,{className:"h-4 w-4 inline mr-1"}),"Tipo de emergencia *"]}),s?d.jsxs("select",{value:l.tipoEmergencia,onChange:S=>v("tipoEmergencia",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:"Seleccione el tipo de emergencia"}),d.jsx("option",{value:"medica",children:"Emergencia Mdica"}),d.jsx("option",{value:"caida",children:"Cada"}),d.jsx("option",{value:"incendio",children:"Incendio"}),d.jsx("option",{value:"robo",children:"Robo/Asalto"}),d.jsx("option",{value:"accidente",children:"Accidente"}),d.jsx("option",{value:"otra",children:"Otra"})]}):d.jsxs("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:[l.tipoEmergencia==="medica"&&"Emergencia Mdica",l.tipoEmergencia==="caida"&&"Cada",l.tipoEmergencia==="incendio"&&"Incendio",l.tipoEmergencia==="robo"&&"Robo/Asalto",l.tipoEmergencia==="accidente"&&"Accidente",l.tipoEmergencia==="otra"&&"Otra",!l.tipoEmergencia&&"No especificado"]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Se contact con:"}),s?d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoCarabineros",checked:l.contactoCarabineros,onChange:S=>v("contactoCarabineros",S.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoCarabineros",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(bf,{className:"h-4 w-4 mr-1 text-blue-600"}),"Carabineros"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoBomberos",checked:l.contactoBomberos,onChange:S=>v("contactoBomberos",S.target.checked),className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoBomberos",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(vC,{className:"h-4 w-4 mr-1 text-red-600"}),"Bomberos"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoAmbulancia",checked:l.contactoAmbulancia,onChange:S=>v("contactoAmbulancia",S.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoAmbulancia",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(fC,{className:"h-4 w-4 mr-1 text-green-600"}),"Ambulancia/SAMU"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoOtros",checked:l.contactoOtros,onChange:S=>v("contactoOtros",S.target.checked),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoOtros",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(Lr,{className:"h-4 w-4 mr-1 text-purple-600"}),"Otros"]})]})]}):d.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:d.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.contactoCarabineros&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[d.jsx(bf,{className:"h-3 w-3 mr-1"}),"Carabineros"]}),l.contactoBomberos&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[d.jsx(vC,{className:"h-3 w-3 mr-1"}),"Bomberos"]}),l.contactoAmbulancia&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[d.jsx(fC,{className:"h-3 w-3 mr-1"}),"Ambulancia/SAMU"]}),l.contactoOtros&&d.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[d.jsx(Lr,{className:"h-3 w-3 mr-1"}),"Otros"]}),!l.contactoCarabineros&&!l.contactoBomberos&&!l.contactoAmbulancia&&!l.contactoOtros&&d.jsx("span",{className:"text-gray-500",children:"No se especificaron contactos"})]})})]}),l.contactoOtros&&(s||l.detalleOtros)&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Otros servicios contactados"}),s?d.jsx("input",{type:"text",value:l.detalleOtros,onChange:S=>v("detalleOtros",S.target.value),placeholder:"Ej: Familiares, Vecinos, Empresa de seguridad",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.detalleOtros})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(na,{className:"h-4 w-4 inline mr-1"}),"Tipificacin del seguimiento *"]}),s?d.jsxs("select",{value:l.tipificacionSeguimiento,onChange:S=>v("tipificacionSeguimiento",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:"Seleccione la tipificacin"}),d.jsx("option",{value:"seguimiento_inmediato",children:"Seguimiento Inmediato (24hrs)"}),d.jsx("option",{value:"seguimiento_corto",children:"Seguimiento Corto Plazo (72hrs)"}),d.jsx("option",{value:"seguimiento_semanal",children:"Seguimiento Semanal"}),d.jsx("option",{value:"seguimiento_quincenal",children:"Seguimiento Quincenal"}),d.jsx("option",{value:"seguimiento_mensual",children:"Seguimiento Mensual"}),d.jsx("option",{value:"no_requiere",children:"No Requiere Seguimiento"})]}):d.jsxs("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:[l.tipificacionSeguimiento==="seguimiento_inmediato"&&"Seguimiento Inmediato (24hrs)",l.tipificacionSeguimiento==="seguimiento_corto"&&"Seguimiento Corto Plazo (72hrs)",l.tipificacionSeguimiento==="seguimiento_semanal"&&"Seguimiento Semanal",l.tipificacionSeguimiento==="seguimiento_quincenal"&&"Seguimiento Quincenal",l.tipificacionSeguimiento==="seguimiento_mensual"&&"Seguimiento Mensual",l.tipificacionSeguimiento==="no_requiere"&&"No Requiere Seguimiento",!l.tipificacionSeguimiento&&"No especificado"]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(qg,{className:"h-4 w-4 inline mr-1"}),"Observaciones adicionales de la emergencia"]}),s?d.jsx("textarea",{value:l.observacionesEmergencia,onChange:S=>v("observacionesEmergencia",S.target.value),placeholder:"Detalles adicionales sobre la emergencia y el seguimiento realizado...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:l.observacionesEmergencia||"No hay observaciones adicionales"})]})]});default:return null}};if(!e||!t)return null;const C=()=>d.jsx(ss,{children:p&&d.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-[60]",onClick:()=>g(!1),children:d.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",onClick:S=>S.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"p-3 bg-red-100 rounded-full mr-4",children:d.jsx(tl,{className:"h-6 w-6 text-red-600"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Eliminar Gestin"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Esta accin no se puede deshacer"})]})]}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("p",{className:"text-gray-700",children:["Ests seguro de que deseas eliminar la gestin ",d.jsxs("strong",{children:['"',e.titulo,'"']}),"?"]}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Toda la informacin asociada se perder permanentemente."})]}),d.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[d.jsx("button",{onClick:()=>g(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:u,children:"Cancelar"}),d.jsxs("button",{onClick:b,disabled:u,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors disabled:opacity-50",children:[u?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(tl,{className:"h-4 w-4 mr-2"}),"Eliminar"]})]})]})})});return d.jsx(ss,{children:d.jsxs(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:r,children:[d.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:S=>S.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`p-2 rounded-lg ${e.tipo===ar.RECORDATORIO_MEDICAMENTOS?"bg-green-100 text-green-600":e.tipo===ar.TOMA_HORA_CESFAM?"bg-blue-100 text-blue-600":"bg-purple-100 text-purple-600"}`,children:e.tipo===ar.RECORDATORIO_MEDICAMENTOS?d.jsx(gC,{className:"h-5 w-5"}):e.tipo===ar.TOMA_HORA_CESFAM?d.jsx(W1,{className:"h-5 w-5"}):d.jsx(dC,{className:"h-5 w-5"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s?"Editando Gestin":"Detalles de Gestin"}),d.jsx("p",{className:"text-sm text-gray-500",children:hQ[e.tipo||ar.GESTION_MUNICIPAL]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[!s&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>o(!0),className:"flex items-center px-3 py-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:[d.jsx(pse,{className:"h-4 w-4 mr-1"}),"Editar"]}),x()&&d.jsxs("button",{onClick:()=>g(!0),className:"flex items-center px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[d.jsx(tl,{className:"h-4 w-4 mr-1"}),"Eliminar"]})]}),d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(xf,{className:"h-6 w-6"})})]})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[h&&d.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[d.jsx(yn,{className:"h-5 w-5 text-red-500 mr-2"}),d.jsx("span",{className:"text-red-700",children:h})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ttulo *"}),s?d.jsx("input",{type:"text",value:l.titulo,onChange:S=>v("titulo",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}):d.jsx("p",{className:"text-gray-900 font-medium",children:e.titulo})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Ka,{className:"h-4 w-4 inline mr-1"}),"Fecha y hora"]}),s?d.jsx("input",{type:"datetime-local",value:l.fechaVencimiento,onChange:S=>v("fechaVencimiento",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}):d.jsx("p",{className:"text-gray-900",children:e.fechaVencimiento?mu(e.fechaVencimiento,"dd 'de' MMMM 'de' yyyy 'a las' HH:mm",{locale:A0}):"No especificada"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(qg,{className:"h-4 w-4 inline mr-1"}),"Descripcin"]}),s?d.jsx("textarea",{value:l.descripcion,onChange:S=>v("descripcion",S.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3}):d.jsx("p",{className:"text-gray-900 bg-gray-50 p-3 rounded-lg",children:e.descripcion})]}),d.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[d.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Informacin especfica"}),k()]}),d.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[d.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Informacin de seguimiento"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Creado por:"})," ",e.creadorNombre]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Fecha de creacin:"})," "," ",mu(e.createdAt,"dd/MM/yyyy HH:mm",{locale:A0})]}),e.modificadoPorNombre&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"ltima modificacin:"})," ",e.modificadoPorNombre]}),d.jsxs("div",{children:[d.jsx("span",{className:"font-medium",children:"Fecha de modificacin:"})," "," ",e.ultimaModificacion&&mu(e.ultimaModificacion,"dd/MM/yyyy HH:mm",{locale:A0})]})]})]})]})]}),s&&d.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200 bg-gray-50",children:[d.jsx("button",{onClick:()=>o(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",disabled:u,children:"Cancelar"}),d.jsxs("button",{onClick:y,disabled:u,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[u?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(ly,{className:"h-4 w-4 mr-2"}),"Guardar cambios"]})]})]}),d.jsx(C,{})]})})},KWe={es:A0},qWe=sQ({format:mu,startOfWeek:Gf,getDay:fQ,locales:KWe}),YWe={allDay:"Todo el da",previous:"Anterior",next:"Siguiente",today:"Hoy",month:"Mes",week:"Semana",day:"Da",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay gestiones en este rango",showMore:e=>`+ Ver ms (${e})`},XWe=({onSelectGestion:e,onSelectDate:t})=>{const{gestiones:r,calendarEvents:n,isLoading:a,error:i,getGestionesByDate:s,getGestionesStats:o}=Am(),[l,c]=A.useState(new Date),[u,f]=A.useState("month"),[h,m]=A.useState(!1),[p,g]=A.useState("todos"),[v,y]=A.useState(null),[x,b]=A.useState(!1),E=A.useMemo(()=>o(),[n,o]),k=A.useMemo(()=>p==="todos"?n:n.filter(N=>N.resource.estado===p),[n,p]),C=N=>{var D,X;return{style:{backgroundColor:((D=N.resource)==null?void 0:D.color)||Jc[It.ABIERTO],border:"none",borderRadius:"6px",color:"white",fontSize:"11px",fontWeight:"500",padding:"2px 6px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",opacity:((X=N.resource)==null?void 0:X.estado)===It.FINALIZADO?.7:1}}},S=({start:N})=>{const O=s(N);t&&t(N,O)},_=N=>{console.log(" Click en evento del calendario:",N),console.log(" Gestiones disponibles:",(r==null?void 0:r.length)||0),console.log(" Buscando gestin con ID:",N.id);const O=r==null?void 0:r.find(D=>D.id===N.id);O?(console.log(" Gestin encontrada:",O.titulo),y(O),b(!0)):(console.error(" No se encontr la gestin con ID:",N.id),console.log(" IDs disponibles:",(r==null?void 0:r.map(D=>D.id))||[]))},T=()=>d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sy,{className:"h-4 w-4 text-gray-500"}),d.jsxs("select",{value:p,onChange:N=>g(N.target.value),className:"border border-gray-300 rounded-lg px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"todos",children:"Todos los estados"}),d.jsx("option",{value:It.ABIERTO,children:"Abiertas"}),d.jsx("option",{value:It.PENDIENTE,children:"Pendientes"}),d.jsx("option",{value:It.EN_CURSO,children:"En Curso"}),d.jsx("option",{value:It.FINALIZADO,children:"Finalizadas"})]})]}),d.jsxs("button",{onClick:()=>m(!0),className:"flex items-center gap-2 px-3 py-1 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors",children:[d.jsx(_f,{className:"h-4 w-4"}),"Ver Estadsticas"]})]}),P=()=>d.jsx(ss,{children:h&&d.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>m(!1),children:d.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",onClick:N=>N.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Estadsticas de Gestiones"}),d.jsx("button",{onClick:()=>m(!1),className:"text-gray-400 hover:text-gray-600",children:d.jsx(xf,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[d.jsx("div",{className:"text-2xl font-bold text-gray-900",children:E.total}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total"})]}),d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[d.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[E.porcentajeResolucion,"%"]}),d.jsx("div",{className:"text-sm text-gray-600",children:"Resueltas"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Jc[It.ABIERTO]}}),d.jsx("span",{className:"text-sm",children:"Abiertas"})]}),d.jsx("span",{className:"font-semibold",children:E.abiertas})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Jc[It.PENDIENTE]}}),d.jsx("span",{className:"text-sm",children:"Pendientes"})]}),d.jsx("span",{className:"font-semibold",children:E.pendientes})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Jc[It.EN_CURSO]}}),d.jsx("span",{className:"text-sm",children:"En Curso"})]}),d.jsx("span",{className:"font-semibold",children:E.enCurso})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Jc[It.FINALIZADO]}}),d.jsx("span",{className:"text-sm",children:"Finalizadas"})]}),d.jsx("span",{className:"font-semibold",children:E.finalizadas})]})]})]})]})})});return a?d.jsxs("div",{className:"flex items-center justify-center h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando calendario..."})]}):i?d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx(yn,{className:"h-5 w-5 text-red-500 mr-2"}),d.jsxs("span",{className:"text-red-700",children:["Error cargando las gestiones: ",i]})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[d.jsx(Ka,{className:"h-5 w-5 mr-2 text-blue-600"}),"Calendario de Gestiones Compartidas"]}),d.jsxs("p",{className:"text-gray-600 mt-1",children:[k.length," gestin",k.length!==1?"es":"",p!=="todos"&&` (${p})`]})]}),d.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[d.jsx("span",{className:"text-gray-500",children:"Resolucin:"}),d.jsxs("span",{className:"font-semibold text-green-600",children:[E.porcentajeResolucion,"%"]})]})]}),d.jsx(T,{}),d.jsxs(Ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-wrap gap-4 p-4 bg-gray-50 rounded-lg",children:[d.jsx("div",{className:"text-sm text-gray-600 font-medium",children:"Estados:"}),Object.entries(Jc).map(([N,O])=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:O}}),d.jsx("span",{className:"text-sm text-gray-700 capitalize",children:N.replace("_"," ")})]},N))]}),d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow-md",children:d.jsx("div",{className:"p-6",children:d.jsx("div",{className:"h-96 md:h-[600px]",children:d.jsx(iQ,{localizer:qWe,events:k,startAccessor:"start",endAccessor:"end",style:{height:"100%"},culture:"es",messages:YWe,eventPropGetter:C,onSelectSlot:S,onSelectEvent:_,selectable:!0,view:u,onView:f,date:l,onNavigate:c,views:["month","week","day"],step:60,showMultiDayTimes:!1,popup:!0,popupOffset:30,className:"rbc-calendar-gestiones"})})})}),d.jsx(P,{}),d.jsx(mQ,{gestion:v,isOpen:x,onClose:()=>{b(!1),y(null)}}),d.jsx("style",{children:`
        .rbc-calendar-gestiones .rbc-event {
          font-size: 11px;
          line-height: 1.2;
        }
        
        .rbc-calendar-gestiones .rbc-event:hover {
          transform: translateY(-1px);
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
        }
        
        .rbc-calendar-gestiones .rbc-today {
          background-color: #f0f9ff;
        }
      `})]})},QWe=({onEditGestion:e,onCompleteGestion:t,onViewGestion:r,selectedDate:n=null})=>{const{user:a}=ds(),{gestiones:i,isLoading:s,searchGestiones:o,getGestionesByEstado:l,markGestionEnCurso:c,deleteGestion:u}=Am(),[f,h]=A.useState(""),[m,p]=A.useState("todos"),[g,v]=A.useState("fecha"),[y,x]=A.useState("desc"),b=A.useMemo(()=>{let P=i;if(n){const N=new Date(n);N.setHours(0,0,0,0);const O=new Date(n);O.setHours(23,59,59,999),P=P.filter(D=>{const X=D.fechaVencimiento||D.createdAt;return X>=N&&X<=O})}return f.trim()&&(P=o(f)),m!=="todos"&&(P=P.filter(N=>N.estado===m)),P.sort((N,O)=>{let D,X;switch(g){case"fecha":D=N.createdAt,X=O.createdAt;break;case"estado":D=N.estado,X=O.estado;break;case"creador":D=N.creadorNombre.toLowerCase(),X=O.creadorNombre.toLowerCase();break;default:D=N.createdAt,X=O.createdAt}return y==="asc"?D>X?1:-1:D<X?1:-1}),P},[i,f,m,g,y,n,o]),E=P=>{const O=new Date-P,D=Math.floor(O/(1e3*60*60*24));return D===0?"Hoy":D===1?"Ayer":D<7?`Hace ${D} das`:D<30?`Hace ${Math.floor(D/7)} semanas`:P.toLocaleDateString("es-CL")},k=P=>{const N={[It.ABIERTO]:"bg-blue-100 text-blue-800",[It.PENDIENTE]:"bg-yellow-100 text-yellow-800",[It.EN_CURSO]:"bg-purple-100 text-purple-800",[It.FINALIZADO]:"bg-green-100 text-green-800"};return N[P]||N[It.ABIERTO]},C=P=>{var N;return(a==null?void 0:a.uid)===P.creadorId||(a==null?void 0:a.role)==="admin"||((N=a==null?void 0:a.email)==null?void 0:N.includes("admin"))},S=async P=>{try{await c(P,a.uid)}catch(N){console.error("Error marcando gestin en curso:",N)}},_=async P=>{if(window.confirm("Ests seguro de que quieres eliminar esta gestin?"))try{await u(P)}catch(N){console.error("Error eliminando gestin:",N)}},T=({gestion:P,index:N})=>d.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-semibold text-gray-900 text-sm mb-1",children:P.titulo}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k(P.estado)}`,children:P.estado.replace("_"," ").toUpperCase()}),P.prioridad&&d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${P.prioridad==="alta"?"bg-red-100 text-red-800":P.prioridad==="media"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:P.prioridad.toUpperCase()})]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("button",{onClick:()=>r&&r(P),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Ver detalles",children:d.jsx(jP,{className:"h-4 w-4"})}),P.estado!==It.FINALIZADO&&d.jsxs(d.Fragment,{children:[P.estado===It.ABIERTO&&d.jsx("button",{onClick:()=>S(P.id),className:"p-1 text-gray-400 hover:text-purple-600 transition-colors",title:"Marcar en curso",children:d.jsx(wse,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>t&&t(P),className:"p-1 text-gray-400 hover:text-green-600 transition-colors",title:"Completar gestin",children:d.jsx(Vr,{className:"h-4 w-4"})})]}),C(P)&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>e&&e(P),className:"p-1 text-gray-400 hover:text-blue-600 transition-colors",title:"Editar",children:d.jsx(MP,{className:"h-4 w-4"})}),d.jsx("button",{onClick:()=>_(P.id),className:"p-1 text-gray-400 hover:text-red-600 transition-colors",title:"Eliminar",children:d.jsx(tl,{className:"h-4 w-4"})})]})]})]}),P.descripcion&&d.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:P.descripcion}),d.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(oa,{className:"h-3 w-3"}),d.jsx("span",{children:P.creadorNombre})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(na,{className:"h-3 w-3"}),d.jsx("span",{children:E(P.createdAt)})]})]}),P.fechaVencimiento&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Ka,{className:"h-3 w-3"}),d.jsxs("span",{children:["Vence: ",P.fechaVencimiento.toLocaleDateString("es-CL")]})]})]}),P.estado===It.FINALIZADO&&P.finalizadaNombre&&d.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[d.jsxs("div",{className:"flex items-center gap-1 text-xs text-green-600",children:[d.jsx(Vr,{className:"h-3 w-3"}),d.jsxs("span",{children:["Finalizada por ",P.finalizadaNombre]})]}),P.solucion&&d.jsxs("p",{className:"text-xs text-gray-600 mt-1 italic",children:['"',P.solucion,'"']})]})]});return d.jsxs("div",{className:"space-y-6",children:[d.jsx("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Listado de Gestiones",n&&d.jsxs("span",{className:"text-sm font-normal text-gray-600 ml-2",children:["- ",n.toLocaleDateString("es-CL")]})]}),d.jsxs("p",{className:"text-sm text-gray-600",children:[b.length," gestin",b.length!==1?"es":""," encontrada",b.length!==1?"s":""]})]})}),d.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[d.jsxs("div",{className:"relative flex-1",children:[d.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar por ttulo, descripcin o creador...",value:f,onChange:P=>h(P.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("select",{value:m,onChange:P=>p(P.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"todos",children:"Todos los estados"}),d.jsx("option",{value:It.ABIERTO,children:"Abiertas"}),d.jsx("option",{value:It.PENDIENTE,children:"Pendientes"}),d.jsx("option",{value:It.EN_CURSO,children:"En Curso"}),d.jsx("option",{value:It.FINALIZADO,children:"Finalizadas"})]}),d.jsxs("select",{value:`${g}-${y}`,onChange:P=>{const[N,O]=P.target.value.split("-");v(N),x(O)},className:"border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:"fecha-desc",children:"Ms recientes"}),d.jsx("option",{value:"fecha-asc",children:"Ms antiguas"}),d.jsx("option",{value:"estado-asc",children:"Por estado"}),d.jsx("option",{value:"creador-asc",children:"Por creador"})]})]})]}),d.jsx("div",{className:"space-y-3",children:s?d.jsxs("div",{className:"flex items-center justify-center py-8",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando gestiones..."})]}):b.length===0?d.jsxs("div",{className:"text-center py-8",children:[d.jsx(oy,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:f||m!=="todos"?"No se encontraron gestiones con los filtros aplicados":"No hay gestiones registradas"})]}):b.map((P,N)=>d.jsx(T,{gestion:P,index:N},P.id))})]})},JWe=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=ds(),{addGestion:a,isLoading:i}=Am(),[s,o]=A.useState({titulo:"",descripcion:"",tipo:ar.GESTION_MUNICIPAL,fechaVencimiento:"",prioridad:"media",categoria:"general",medicamentos:"",horaMedicamento:"",recurrencia:Ll.UNICO,centroSalud:"",especialidad:"",tipoGestionMunicipal:"",departamento:"",contactoCarabineros:!1,contactoBomberos:!1,contactoAmbulancia:!1,contactoOtros:!1,detalleOtros:"",tipoEmergencia:"",tipificacionSeguimiento:"",observacionesEmergencia:""}),[l,c]=A.useState({}),[u,f]=A.useState(!1),h=()=>new Date().toISOString().split("T")[0],m=()=>{const E={};switch(s.titulo.trim()?s.titulo.length<3?E.titulo="El ttulo debe tener al menos 3 caracteres":s.titulo.length>100&&(E.titulo="El ttulo no puede exceder 100 caracteres"):E.titulo="El ttulo es obligatorio",s.descripcion.trim()?s.descripcion.length<10?E.descripcion="La descripcin debe tener al menos 10 caracteres":s.descripcion.length>500&&(E.descripcion="La descripcin no puede exceder 500 caracteres"):E.descripcion="La descripcin es obligatoria",s.tipo){case ar.RECORDATORIO_MEDICAMENTOS:s.medicamentos.trim()||(E.medicamentos="Debe especificar los medicamentos"),s.horaMedicamento||(E.horaMedicamento="Debe especificar la hora del recordatorio");break;case ar.TOMA_HORA_CESFAM:s.centroSalud.trim()||(E.centroSalud="Debe especificar el centro de salud");break;case ar.GESTION_MUNICIPAL:s.tipoGestionMunicipal.trim()||(E.tipoGestionMunicipal="Debe especificar el tipo de gestin municipal");break;case ar.SEGUIMIENTO_TRAS_EMERGENCIAS:s.tipoEmergencia.trim()||(E.tipoEmergencia="Debe especificar el tipo de emergencia"),s.tipificacionSeguimiento.trim()||(E.tipificacionSeguimiento="Debe especificar la tipificacin del seguimiento"),!s.contactoCarabineros&&!s.contactoBomberos&&!s.contactoAmbulancia&&!s.contactoOtros&&(E.contactos="Debe seleccionar al menos un tipo de contacto con servicios de emergencia"),s.contactoOtros&&!s.detalleOtros.trim()&&(E.detalleOtros="Debe especificar qu otros servicios se contactaron");break}if(s.fechaVencimiento){const k=new Date(s.fechaVencimiento),C=new Date;C.setHours(0,0,0,0),k<C&&(E.fechaVencimiento="La fecha de vencimiento no puede ser anterior a hoy")}return c(E),Object.keys(E).length===0},p=E=>{const{name:k,value:C,type:S,checked:_}=E.target;o(T=>({...T,[k]:S==="checkbox"?_:C})),l[k]&&c(T=>({...T,[k]:""}))},g=async E=>{if(E.preventDefault(),!!m()){f(!0);try{const k={titulo:s.titulo.trim(),descripcion:s.descripcion.trim(),tipo:s.tipo,prioridad:s.prioridad,categoria:s.categoria,fechaVencimiento:s.fechaVencimiento?new Date(s.fechaVencimiento):null,...s.tipo===ar.RECORDATORIO_MEDICAMENTOS&&{medicamentos:s.medicamentos.trim(),horaMedicamento:s.horaMedicamento,recurrencia:s.recurrencia},...s.tipo===ar.TOMA_HORA_CESFAM&&{centroSalud:s.centroSalud.trim(),especialidad:s.especialidad.trim()},...s.tipo===ar.GESTION_MUNICIPAL&&{tipoGestionMunicipal:s.tipoGestionMunicipal.trim(),departamento:s.departamento.trim()},...s.tipo===ar.SEGUIMIENTO_TRAS_EMERGENCIAS&&{contactoCarabineros:s.contactoCarabineros,contactoBomberos:s.contactoBomberos,contactoAmbulancia:s.contactoAmbulancia,contactoOtros:s.contactoOtros,detalleOtros:s.detalleOtros.trim(),tipoEmergencia:s.tipoEmergencia.trim(),tipificacionSeguimiento:s.tipificacionSeguimiento.trim(),observacionesEmergencia:s.observacionesEmergencia.trim()}},C=await a(k,n.uid,n.displayName||n.email);console.log(" Nueva gestin creada:",C),o({titulo:"",descripcion:"",tipo:ar.GESTION_MUNICIPAL,fechaVencimiento:"",prioridad:"media",categoria:"general",medicamentos:"",horaMedicamento:"",recurrencia:Ll.UNICO,centroSalud:"",especialidad:"",tipoGestionMunicipal:"",departamento:"",contactoCarabineros:!1,contactoBomberos:!1,contactoAmbulancia:!1,contactoOtros:!1,detalleOtros:"",tipoEmergencia:"",tipificacionSeguimiento:"",observacionesEmergencia:""}),r&&r(C),t()}catch(k){console.error(" Error creando gestin:",k),c({submit:"Error al crear la gestin. Intenta nuevamente."})}finally{f(!1)}}},v=()=>{o({titulo:"",descripcion:"",tipo:ar.GESTION_MUNICIPAL,fechaVencimiento:"",prioridad:"media",categoria:"general",medicamentos:"",horaMedicamento:"",recurrencia:Ll.UNICO,centroSalud:"",especialidad:"",tipoGestionMunicipal:"",departamento:"",contactoCarabineros:!1,contactoBomberos:!1,contactoAmbulancia:!1,contactoOtros:!1,detalleOtros:"",tipoEmergencia:"",tipificacionSeguimiento:"",observacionesEmergencia:""}),c({}),t()},y=[{value:"general",label:"General"},{value:"tecnica",label:"Tcnica"},{value:"administrativa",label:"Administrativa"},{value:"comercial",label:"Comercial"},{value:"soporte",label:"Soporte"},{value:"mejora",label:"Mejora"}],x=[{value:"baja",label:"Baja",color:"text-green-600"},{value:"media",label:"Media",color:"text-yellow-600"},{value:"alta",label:"Alta",color:"text-red-600"}],b=()=>{switch(s.tipo){case ar.RECORDATORIO_MEDICAMENTOS:return d.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[d.jsxs("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[d.jsx(gC,{className:"h-4 w-4 mr-2 text-green-600"}),"Informacin del Medicamento"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Medicamentos a recordar *"}),d.jsx("textarea",{name:"medicamentos",value:s.medicamentos,onChange:p,placeholder:"Ej: Losartn 50mg - 1 comprimido, Metformina 850mg - 2 comprimidos",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,required:!0}),l.medicamentos&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.medicamentos})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(na,{className:"h-4 w-4 inline mr-1"}),"Hora del recordatorio *"]}),d.jsx("input",{type:"time",name:"horaMedicamento",value:s.horaMedicamento,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.horaMedicamento&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.horaMedicamento})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(o7,{className:"h-4 w-4 inline mr-1"}),"Frecuencia *"]}),d.jsx("select",{name:"recurrencia",value:s.recurrencia,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:Object.entries(Wk).map(([E,k])=>d.jsx("option",{value:E,children:k},E))})]})]})]});case ar.TOMA_HORA_CESFAM:return d.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[d.jsxs("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[d.jsx(W1,{className:"h-4 w-4 mr-2 text-blue-600"}),"Informacin del Centro de Salud"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Centro de Salud (CESFAM/Hospital) *"}),d.jsx("input",{type:"text",name:"centroSalud",value:s.centroSalud,onChange:p,placeholder:"Ej: CESFAM Dr. Juan Sebastin Bach",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.centroSalud&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.centroSalud})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Especialidad o tipo de atencin"}),d.jsx("input",{type:"text",name:"especialidad",value:s.especialidad,onChange:p,placeholder:"Ej: Medicina general, Cardiologa, Exmenes",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]});case ar.GESTION_MUNICIPAL:return d.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[d.jsxs("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[d.jsx(dC,{className:"h-4 w-4 mr-2 text-purple-600"}),"Informacin de la Gestin Municipal"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de gestin municipal *"}),d.jsx("input",{type:"text",name:"tipoGestionMunicipal",value:s.tipoGestionMunicipal,onChange:p,placeholder:"Ej: Solicitud de certificado, Permiso de circulacin, Subsidios",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.tipoGestionMunicipal&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.tipoGestionMunicipal})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departamento o rea municipal"}),d.jsx("input",{type:"text",name:"departamento",value:s.departamento,onChange:p,placeholder:"Ej: Oficina de partes, DIDECO, Direccin de trnsito",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]});case ar.SEGUIMIENTO_TRAS_EMERGENCIAS:return d.jsxs("div",{className:"space-y-4 border-t border-gray-200 pt-4",children:[d.jsxs("h4",{className:"text-md font-medium text-gray-900 flex items-center",children:[d.jsx(yn,{className:"h-4 w-4 mr-2 text-red-600"}),"Informacin del Seguimiento Tras Emergencias"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de emergencia *"}),d.jsxs("select",{name:"tipoEmergencia",value:s.tipoEmergencia,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:"Seleccione el tipo de emergencia"}),d.jsx("option",{value:"medica",children:"Emergencia Mdica"}),d.jsx("option",{value:"caida",children:"Cada"}),d.jsx("option",{value:"incendio",children:"Incendio"}),d.jsx("option",{value:"robo",children:"Robo/Asalto"}),d.jsx("option",{value:"accidente",children:"Accidente"}),d.jsx("option",{value:"otra",children:"Otra"})]}),l.tipoEmergencia&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.tipoEmergencia})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Se contact con: *"}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoCarabineros",name:"contactoCarabineros",checked:s.contactoCarabineros,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoCarabineros",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(bf,{className:"h-4 w-4 mr-1 text-blue-600"}),"Carabineros"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoBomberos",name:"contactoBomberos",checked:s.contactoBomberos,onChange:p,className:"h-4 w-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoBomberos",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(vC,{className:"h-4 w-4 mr-1 text-red-600"}),"Bomberos"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoAmbulancia",name:"contactoAmbulancia",checked:s.contactoAmbulancia,onChange:p,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoAmbulancia",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(fC,{className:"h-4 w-4 mr-1 text-green-600"}),"Ambulancia/SAMU"]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"contactoOtros",name:"contactoOtros",checked:s.contactoOtros,onChange:p,className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),d.jsxs("label",{htmlFor:"contactoOtros",className:"ml-2 flex items-center text-sm text-gray-700",children:[d.jsx(Lr,{className:"h-4 w-4 mr-1 text-purple-600"}),"Otros"]})]})]}),l.contactos&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.contactos})]}),s.contactoOtros&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Especifique otros servicios contactados *"}),d.jsx("input",{type:"text",name:"detalleOtros",value:s.detalleOtros,onChange:p,placeholder:"Ej: Familiares, Vecinos, Empresa de seguridad",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),l.detalleOtros&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.detalleOtros})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipificacin del seguimiento *"}),d.jsxs("select",{name:"tipificacionSeguimiento",value:s.tipificacionSeguimiento,onChange:p,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[d.jsx("option",{value:"",children:"Seleccione la tipificacin"}),d.jsx("option",{value:"seguimiento_inmediato",children:"Seguimiento Inmediato (24hrs)"}),d.jsx("option",{value:"seguimiento_corto",children:"Seguimiento Corto Plazo (72hrs)"}),d.jsx("option",{value:"seguimiento_semanal",children:"Seguimiento Semanal"}),d.jsx("option",{value:"seguimiento_quincenal",children:"Seguimiento Quincenal"}),d.jsx("option",{value:"seguimiento_mensual",children:"Seguimiento Mensual"}),d.jsx("option",{value:"no_requiere",children:"No Requiere Seguimiento"})]}),l.tipificacionSeguimiento&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.tipificacionSeguimiento})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaciones adicionales de la emergencia"}),d.jsx("textarea",{name:"observacionesEmergencia",value:s.observacionesEmergencia,onChange:p,placeholder:"Detalles adicionales sobre la emergencia y el seguimiento realizado...",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3})]})]});default:return null}};return d.jsx(ss,{children:e&&d.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:v,children:d.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[d.jsx(Ka,{className:"h-5 w-5 mr-2 text-blue-600"}),"Nueva Gestin"]}),d.jsx("button",{onClick:v,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(dc,{className:"h-5 w-5"})})]}),d.jsxs("form",{onSubmit:g,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"titulo",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Use,{className:"inline h-4 w-4 mr-1"}),"Ttulo *"]}),d.jsx("input",{type:"text",id:"titulo",name:"titulo",value:s.titulo,onChange:p,placeholder:"Ej: Revisar sistema de reportes",className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${l.titulo?"border-red-500":"border-gray-300"}`,maxLength:100}),l.titulo&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx(yn,{className:"h-4 w-4 mr-1"}),l.titulo]}),d.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-right",children:[s.titulo.length,"/100 caracteres"]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"tipo",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(HM,{className:"inline h-4 w-4 mr-1"}),"Tipo de Gestin *"]}),d.jsx("select",{id:"tipo",name:"tipo",value:s.tipo,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:Object.entries(hQ).map(([E,k])=>d.jsx("option",{value:E,children:k},E))})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"descripcion",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(qg,{className:"inline h-4 w-4 mr-1"}),"Descripcin *"]}),d.jsx("textarea",{id:"descripcion",name:"descripcion",value:s.descripcion,onChange:p,placeholder:"Describe detalladamente la gestin a realizar...",rows:4,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none ${l.descripcion?"border-red-500":"border-gray-300"}`,maxLength:500}),l.descripcion&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx(yn,{className:"h-4 w-4 mr-1"}),l.descripcion]}),d.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-right",children:[s.descripcion.length,"/500 caracteres"]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"fechaVencimiento",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Ka,{className:"inline h-4 w-4 mr-1"}),"Fecha de Vencimiento (Opcional)"]}),d.jsx("input",{type:"date",id:"fechaVencimiento",name:"fechaVencimiento",value:s.fechaVencimiento,onChange:p,min:h(),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ${l.fechaVencimiento?"border-red-500":"border-gray-300"}`}),l.fechaVencimiento&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx(yn,{className:"h-4 w-4 mr-1"}),l.fechaVencimiento]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"prioridad",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Xie,{className:"inline h-4 w-4 mr-1"}),"Prioridad"]}),d.jsx("select",{id:"prioridad",name:"prioridad",value:s.prioridad,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:x.map(E=>d.jsx("option",{value:E.value,children:E.label},E.value))})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"categoria",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(HM,{className:"inline h-4 w-4 mr-1"}),"Categora"]}),d.jsx("select",{id:"categoria",name:"categoria",value:s.categoria,onChange:p,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:y.map(E=>d.jsx("option",{value:E.value,children:E.label},E.value))})]})]}),b(),l.submit&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:d.jsxs("p",{className:"text-sm text-red-600 flex items-center",children:[d.jsx(yn,{className:"h-4 w-4 mr-2"}),l.submit]})}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:v,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:u||i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:u?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(ly,{className:"h-4 w-4"}),"Crear Gestin"]})})]})]})]})})})},ZWe=({isOpen:e,gestion:t,onClose:r,onSuccess:n})=>{var y,x;const{user:a}=ds(),{completeGestion:i,isLoading:s}=Am(),[o,l]=A.useState(""),[c,u]=A.useState(""),[f,h]=A.useState(!1),m=()=>o.trim()?o.length<10?(u("La solucin debe tener al menos 10 caracteres"),!1):o.length>500?(u("La solucin no puede exceder 500 caracteres"),!1):(u(""),!0):(u("La descripcin de la solucin es obligatoria"),!1),p=async b=>{if(b.preventDefault(),!!m()){h(!0);try{await i(t.id,o.trim(),a.uid,a.displayName||a.email),console.log(" Gestin completada:",t.id),l(""),n&&n(t.id),r()}catch(E){console.error(" Error completando gestin:",E),u("Error al completar la gestin. Intenta nuevamente.")}finally{h(!1)}}},g=()=>{l(""),u(""),r()},v=b=>b?b.toLocaleDateString("es-CL",{year:"numeric",month:"long",day:"numeric"}):"No especificada";return t?d.jsx(ss,{children:e&&d.jsx(Ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:g,children:d.jsxs(Ne.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},className:"bg-white rounded-lg p-6 max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:b=>b.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-xl font-semibold text-gray-900 flex items-center",children:[d.jsx(Vr,{className:"h-5 w-5 mr-2 text-green-600"}),"Completar Gestin"]}),d.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(dc,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:t.titulo}),d.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(oa,{className:"h-4 w-4"}),d.jsxs("span",{children:["Creada por: ",d.jsx("strong",{children:t.creadorNombre})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ka,{className:"h-4 w-4"}),d.jsxs("span",{children:["Fecha: ",v(t.createdAt)]})]}),t.fechaVencimiento&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Ka,{className:"h-4 w-4"}),d.jsxs("span",{children:["Vencimiento: ",v(t.fechaVencimiento)]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.prioridad==="alta"?"bg-red-100 text-red-800":t.prioridad==="media"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:["Prioridad: ",(y=t.prioridad)==null?void 0:y.toUpperCase()]}),d.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:(x=t.categoria)==null?void 0:x.toUpperCase()})]})]}),t.descripcion&&d.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(oy,{className:"h-4 w-4 text-gray-500 mt-0.5"}),d.jsx("p",{className:"text-sm text-gray-700",children:t.descripcion})]})})]}),d.jsxs("form",{onSubmit:p,className:"space-y-5",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"solucion",className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(qg,{className:"inline h-4 w-4 mr-1"}),"Descripcin de la Solucin *"]}),d.jsx("textarea",{id:"solucion",value:o,onChange:b=>l(b.target.value),placeholder:"Describe cmo se resolvi la gestin, qu acciones se tomaron, resultados obtenidos...",rows:5,className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 resize-none ${c?"border-red-500":"border-gray-300"}`,maxLength:500}),c&&d.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[d.jsx(yn,{className:"h-4 w-4 mr-1"}),c]}),d.jsxs("div",{className:"mt-1 text-xs text-gray-500 text-right",children:[o.length,"/500 caracteres"]})]}),d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(Vr,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"text-sm",children:[d.jsx("p",{className:"text-green-800 font-medium",children:"Al completar esta gestin:"}),d.jsxs("ul",{className:"text-green-700 mt-1 space-y-1",children:[d.jsx("li",{children:' Se marcar como "Finalizada"'}),d.jsx("li",{children:" Se registrar tu nombre como quien la complet"}),d.jsx("li",{children:" La solucin ser visible para todos los usuarios"}),d.jsx("li",{children:" Ya no podr ser editada"})]})]})]})}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[d.jsx("button",{type:"button",onClick:g,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancelar"}),d.jsx("button",{type:"submit",disabled:f||s,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 transition-colors",children:f?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Completando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Vr,{className:"h-4 w-4"}),"Completar Gestin"]})})]})]})]})})}):null},eHe=()=>{const{user:e}=ds(),{initializeGestionesSubscription:t,clearGestionesStore:r,isLoading:n,error:a,clearError:i}=Am(),[s,o]=A.useState(!1),[l,c]=A.useState(!1),[u,f]=A.useState(!1),[h,m]=A.useState(null),[p,g]=A.useState(null),[v,y]=A.useState("calendar"),[x,b]=A.useState("");A.useEffect(()=>(console.log(" Inicializando mdulo de gestiones colaborativas"),t(),()=>{r()}),[t,r]);const E=ne=>{m(ne),console.log(" Gestin seleccionada:",ne.titulo)},k=(ne,Q)=>{g(ne),console.log(" Fecha seleccionada:",ne,"Gestiones:",Q.length)},C=ne=>{m(ne),c(!0)},S=ne=>{console.log(" Editar gestin:",ne.titulo),b("Funcin de edicin prximamente disponible"),setTimeout(()=>b(""),3e3)},_=ne=>{console.log(" Ver gestin:",ne.titulo),m(ne),f(!0)},T=ne=>{b(" Gestin creada exitosamente"),setTimeout(()=>b(""),3e3),console.log(" Nueva gestin creada:",ne)},P=ne=>{b(" Gestin completada exitosamente"),setTimeout(()=>b(""),3e3),m(null),console.log(" Gestin completada:",ne)},N=()=>{g(null)},O=()=>d.jsxs(Ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[d.jsx(mn,{className:"h-6 w-6 mr-2 text-blue-600"}),"Gestiones Colaborativas"]}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Calendario compartido y seguimiento de tareas del equipo"})]}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex border border-gray-300 rounded-lg overflow-hidden",children:[d.jsxs("button",{onClick:()=>y("calendar"),className:`px-3 py-2 text-sm font-medium transition-colors ${v==="calendar"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(Ka,{className:"h-4 w-4 inline mr-1"}),"Calendario"]}),d.jsxs("button",{onClick:()=>y("list"),className:`px-3 py-2 text-sm font-medium transition-colors ${v==="list"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(ise,{className:"h-4 w-4 inline mr-1"}),"Listado"]}),d.jsxs("button",{onClick:()=>y("both"),className:`px-3 py-2 text-sm font-medium transition-colors ${v==="both"?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(wf,{className:"h-4 w-4 inline mr-1"}),"Ambos"]})]}),d.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(W_,{className:"h-4 w-4"}),"Nueva Gestin"]})]})]}),D=()=>x&&d.jsx(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700",children:x}),X=()=>a&&d.jsx(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(yn,{className:"h-5 w-5 text-red-500 mr-2"}),d.jsxs("span",{className:"text-red-700",children:["Error: ",a]})]}),d.jsx("button",{onClick:i,className:"text-red-500 hover:text-red-700",children:""})]})}),te=()=>p&&d.jsx(Ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx(Ka,{className:"h-5 w-5 text-blue-500 mr-2"}),d.jsxs("span",{className:"text-blue-700",children:["Mostrando gestiones del ",p.toLocaleDateString("es-CL")]})]}),d.jsx("button",{onClick:N,className:"text-blue-500 hover:text-blue-700 text-sm",children:"Mostrar todas"})]})});return n&&!e?d.jsxs("div",{className:"flex items-center justify-center h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-3 text-gray-600",children:"Cargando mdulo de gestiones..."})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsx(O,{}),d.jsx(D,{}),d.jsx(X,{}),d.jsx(te,{}),d.jsxs("div",{className:"space-y-8",children:[(v==="calendar"||v==="both")&&d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:d.jsx(XWe,{onSelectGestion:E,onSelectDate:k})}),(v==="list"||v==="both")&&d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v==="both"?.2:.1},children:d.jsx(QWe,{onEditGestion:S,onCompleteGestion:C,onViewGestion:_,selectedDate:p})})]}),d.jsx(JWe,{isOpen:s,onClose:()=>o(!1),onSuccess:T}),d.jsx(ZWe,{isOpen:l,gestion:h,onClose:()=>{c(!1),m(null)},onSuccess:P}),d.jsx(mQ,{gestion:h,isOpen:u,onClose:()=>{f(!1),m(null)}})]})};class tHe{constructor(){this.listeners=new Set,this.cache=new Map,console.log(" UserSyncService inicializado")}async getUserProfile(t){if(!t)return console.warn(" getUserProfile llamado sin UID"),null;try{if(this.cache.has(t)){const a=this.cache.get(t);if(Date.now()-a.timestamp<3e5)return console.log(" Usando perfil desde cache:",a.data.email),a.data}console.log(" Obteniendo perfil desde Firebase:",t);const r=ct(De,"userProfiles",t),n=await ml(r);if(n.exists()){const a={uid:t,...n.data()};return this.cache.set(t,{data:a,timestamp:Date.now()}),console.log(" Perfil obtenido:",a.email),a}return console.warn(" No se encontr perfil para UID:",t),null}catch(r){return console.error(" Error obteniendo perfil:",r),null}}async getUserProfileByEmail(t){var r;if(!t)return console.warn(" getUserProfileByEmail llamado sin email"),null;try{console.log(" Buscando perfil por email:",t);for(const[i,s]of this.cache.entries())if(((r=s.data.email)==null?void 0:r.toLowerCase())===t.toLowerCase()&&Date.now()-s.timestamp<3e5)return console.log(" Perfil encontrado en cache"),s.data;const n=Tt(gt(De,"userProfiles"),St("email","==",t)),a=await Bt(n);if(!a.empty){const i=a.docs[0],s={uid:i.id,...i.data()};return this.cache.set(i.id,{data:s,timestamp:Date.now()}),console.log(" Perfil encontrado por email:",s.displayName),s}return console.warn(" No se encontr perfil para email:",t),null}catch(n){return console.error(" Error obteniendo perfil por email:",n),null}}async updateUserProfile(t,r){if(!t)throw new Error("UID requerido para actualizar perfil");try{console.log(" Actualizando perfil:",t,r);const n=await this.getUserProfile(t),a=ct(De,"userProfiles",t);await gn(a,{...r,updatedAt:new Date}),this.cache.delete(t),n!=null&&n.email&&r.email&&n.email!==r.email&&(console.log(" Email cambi de",n.email,"a",r.email),this.clearCacheByEmail(n.email));const i=await this.getUserProfile(t);return i&&this.notifyProfileUpdate(i,n),console.log(" Perfil actualizado y sincronizado"),i}catch(n){throw console.error(" Error actualizando perfil:",n),n}}notifyProfileUpdate(t,r=null){console.log(" Notificando actualizacin de perfil a toda la app:",t.email);const n=new CustomEvent("userProfileUpdated",{detail:{...t,oldEmail:(r==null?void 0:r.email)||null,oldDisplayName:(r==null?void 0:r.displayName)||null}});window.dispatchEvent(n),this.listeners.forEach(a=>{try{a(t)}catch(i){console.error(" Error en listener:",i)}})}addListener(t){return this.listeners.add(t),console.log(" Listener registrado. Total:",this.listeners.size),()=>{this.listeners.delete(t),console.log(" Listener eliminado. Total:",this.listeners.size)}}clearCache(){this.cache.clear(),console.log(" Cache limpiado")}clearUserCache(t){this.cache.delete(t),console.log(" Cache limpiado para usuario:",t)}clearCacheByEmail(t){var a;if(!t)return;const r=t.toLowerCase(),n=[];for(const[i,s]of this.cache.entries())((a=s.data.email)==null?void 0:a.toLowerCase())===r&&n.push(i);n.forEach(i=>this.cache.delete(i)),n.length>0&&console.log(" Cache limpiado para email:",t,"(",n.length,"entradas)")}getCacheStats(){return{size:this.cache.size,listeners:this.listeners.size}}}const $b=new tHe,rHe=Object.freeze(Object.defineProperty({__proto__:null,default:$b,userSyncService:$b},Symbol.toStringTag,{value:"Module"})),nHe=({isOpen:e,roles:t,onSave:r,onClose:n,isLoading:a})=>{const[i,s]=A.useState({email:"",displayName:"",role:"teleoperadora",isActive:!0}),[o,l]=A.useState({}),c=A.useRef(null),u=A.useRef(null);A.useEffect(()=>{u.current&&u.current.focus()},[]),A.useEffect(()=>{const p=g=>{g.key==="Escape"&&n()};return document.addEventListener("keydown",p),()=>document.removeEventListener("keydown",p)},[n]);const f=(p,g)=>{s(v=>({...v,[p]:g})),o[p]&&l(v=>({...v,[p]:null}))},h=()=>{const p={};return i.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.email)||(p.email="Email invlido"):p.email="El email es requerido",i.displayName.trim()||(p.displayName="El nombre es requerido"),i.role||(p.role="Selecciona un rol"),l(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!!h())try{await r(i)}catch(g){l({submit:g.message})}};return e?d.jsx(Ne.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:p=>{p.target===p.currentTarget&&n()},children:d.jsxs(Ne.div,{ref:c,className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:p=>p.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:d.jsx(Xg,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Crear Nuevo Usuario"}),d.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Ingresa los datos del nuevo usuario"})]})]}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:d.jsx(dc,{className:"w-5 h-5 text-gray-500"})})]}),d.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nombre Completo *"}),d.jsxs("div",{className:"relative",children:[d.jsx(oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{ref:u,type:"text",value:i.displayName,onChange:p=>f("displayName",p.target.value),placeholder:"Ej: Mara Gonzlez",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${o.displayName?"border-red-300":"border-gray-300 dark:border-gray-600"}`})]}),o.displayName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.displayName})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),d.jsxs("div",{className:"relative",children:[d.jsx(RP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"email",value:i.email,onChange:p=>f("email",p.target.value),placeholder:"usuario@empresa.com",className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${o.email?"border-red-300":"border-gray-300 dark:border-gray-600"}`})]}),o.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.email})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Rol *"}),d.jsxs("div",{className:"relative",children:[d.jsx(bf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("select",{value:i.role,onChange:p=>f("role",p.target.value),className:`w-full pl-10 pr-4 py-3 border rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white ${o.role?"border-red-300":"border-gray-300 dark:border-gray-600"}`,children:t.filter(p=>p.id!=="super_admin").map(p=>d.jsxs("option",{value:p.id,children:[p.name," - ",p.description]},p.id))})]}),o.role&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.role})]}),d.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(yn,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"text-sm",children:[d.jsx("p",{className:"font-medium text-blue-800 dark:text-blue-200 mb-1",children:"Informacin importante sobre la creacin de usuarios"}),d.jsx("p",{className:"text-blue-700 dark:text-blue-300",children:"Se crear un perfil de usuario en el sistema. El usuario deber registrarse por separado en Firebase Auth usando el mismo email para poder acceder al sistema."})]})]})}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",id:"isActive",checked:i.isActive,onChange:p=>f("isActive",p.target.checked),className:"w-4 h-4 text-purple-600 bg-gray-100 border-gray-300 rounded focus:ring-purple-500"}),d.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Usuario activo al crear"})]}),o.submit&&d.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-start gap-3",children:[d.jsx(yn,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),d.jsx("p",{className:"text-red-700 dark:text-red-300 text-sm",children:o.submit})]}),d.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[d.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",disabled:a,children:"Cancelar"}),d.jsx(Ne.button,{type:"submit",disabled:a,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-6 py-2 rounded-lg transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:a?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Xg,{className:"w-4 h-4"}),"Crear Usuario"]})})]})]})]})}):null},aHe=({isOpen:e,user:t,roles:r,onSave:n,onClose:a,isLoading:i})=>{const[s,o]=A.useState({displayName:(t==null?void 0:t.displayName)||"",email:(t==null?void 0:t.email)||"",phone:(t==null?void 0:t.phone)||"",role:(t==null?void 0:t.role)||"teleoperadora",isActive:(t==null?void 0:t.isActive)!==!1}),[l,c]=A.useState({}),u=A.useRef(null);if(A.useEffect(()=>{t&&o({displayName:t.displayName||"",email:t.email||"",phone:t.phone||"",role:t.role||"teleoperadora",isActive:t.isActive!==!1})},[t]),!e||!t)return null;const f=(p,g)=>{o(v=>({...v,[p]:g})),l[p]&&c(v=>({...v,[p]:null}))},h=()=>{const p={};return s.displayName.trim()||(p.displayName="El nombre es requerido"),s.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(p.email="Email invlido"):p.email="El email es requerido",s.phone&&!/^\+?[\d\s()-]{8,}$/.test(s.phone)&&(p.phone="Telfono invlido (min. 8 dgitos)"),s.role||(p.role="Selecciona un rol"),c(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!!h())try{await n(s)}catch(g){c({submit:g.message})}};return d.jsx(Ne.div,{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:p=>p.target===p.currentTarget&&a(),children:d.jsxs(Ne.div,{ref:u,className:"bg-white dark:bg-gray-800 rounded-xl shadow-2xl max-w-md w-full",initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onClick:p=>p.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Editar Usuario"}),d.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:d.jsx(dc,{className:"w-5 h-5 text-gray-500"})})]}),d.jsxs("form",{onSubmit:m,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[d.jsx(RP,{className:"w-4 h-4"}),"Email *"]}),d.jsx("input",{type:"email",value:s.email,onChange:p=>f("email",p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${l.email?"border-red-300":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,placeholder:"correo@ejemplo.com"}),l.email&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.email}),d.jsxs("p",{className:"text-xs text-amber-600 mt-1 flex items-center gap-1",children:[d.jsx(yn,{className:"w-3 h-3"}),"Cambiar el email actualizar Firebase Authentication"]})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[d.jsx(oa,{className:"w-4 h-4"}),"Nombre Completo *"]}),d.jsx("input",{type:"text",value:s.displayName,onChange:p=>f("displayName",p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${l.displayName?"border-red-300":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,placeholder:"Juan Prez"}),l.displayName&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.displayName})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[d.jsx(Lr,{className:"w-4 h-4"}),"Telfono"]}),d.jsx("input",{type:"tel",value:s.phone,onChange:p=>f("phone",p.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${l.phone?"border-red-300":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white`,placeholder:"+56912345678"}),l.phone&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.phone}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formato: +56912345678 (opcional)"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[d.jsx(bf,{className:"w-4 h-4"}),"Rol *"]}),d.jsx("select",{value:s.role,onChange:p=>f("role",p.target.value),disabled:(t==null?void 0:t.role)==="super_admin",className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-purple-500 ${l.role?"border-red-300":"border-gray-300 dark:border-gray-600"} bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:bg-gray-100 disabled:text-gray-500`,children:r.filter(p=>p.id!=="super_admin"||(t==null?void 0:t.role)==="super_admin").map(p=>d.jsx("option",{value:p.id,children:p.name},p.id))}),l.role&&d.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.role}),(t==null?void 0:t.role)==="super_admin"&&d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"El rol de Super Admin no se puede cambiar"})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:s.isActive,onChange:p=>f("isActive",p.target.checked),disabled:(t==null?void 0:t.role)==="super_admin",className:"rounded border-gray-300 text-purple-600 focus:ring-purple-500 disabled:opacity-50"}),d.jsx("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Usuario activo"})]}),(t==null?void 0:t.role)==="super_admin"&&d.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Los Super Admins siempre estn activos"})]}),l.submit&&d.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[d.jsx(yn,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),d.jsx("p",{className:"text-red-700 text-sm",children:l.submit})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-gray-700",children:[d.jsx("button",{type:"button",onClick:a,disabled:i,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),d.jsx(Ne.button,{type:"submit",disabled:i,className:"flex items-center gap-2 bg-purple-600 hover:bg-purple-700 disabled:bg-purple-400 text-white px-6 py-2 rounded-lg",whileHover:{scale:1.05},whileTap:{scale:.95},children:i?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Guardando..."]}):d.jsxs(d.Fragment,{children:[d.jsx(ly,{className:"w-4 h-4"}),"Guardar"]})})]})]})]})})},iHe=()=>{const{user:e}=ds(),{users:t,roles:r,isLoading:n,stats:a,searchTerm:i,filterRole:s,selectedUser:o,setSearchTerm:l,setFilterRole:c,setSelectedUser:u,loadUsers:f,createUser:h,updateUser:m,deleteUser:p,toggleUserStatus:g,getFilteredUsers:v,isSuperAdmin:y,exportUsers:x}=NK(),b=mo(ae=>ae.showSuccess),E=mo(ae=>ae.showError);mo(ae=>ae.showInfo),mo(ae=>ae.showWarning);const[k,C]=A.useState("overview"),[S,_]=A.useState(!1),[T,P]=A.useState(!1),[N,O]=A.useState(!1),[D,X]=A.useState(!1),[te,ne]=A.useState(!1),Q=y(e);A.useEffect(()=>{Q&&f()},[Q,f]);const z=v();if(!Q)return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:d.jsx(Ne.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 max-w-md mx-4",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(mC,{className:"h-8 w-8 text-red-600"})}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Acceso Restringido"}),d.jsx("p",{className:"text-gray-600",children:"No tienes permisos para acceder a la configuracin del sistema."})]})})});const j=[{id:"overview",label:"Resumen",icon:Os},{id:"users",label:"Usuarios",icon:mn},{id:"system",label:"Sistema",icon:wf},{id:"security",label:"Seguridad",icon:bf}],ce=async ae=>{O(!0);try{je.auth("Iniciando creacin inteligente de usuario:",ae.email);const{smartUserCreationService:de}=await ts(async()=>{const{smartUserCreationService:Z}=await import("./smartUserCreationService-DpXStAkH.js");return{smartUserCreationService:Z}},[]),xe=await de.createUserIntelligent(ae);je.auth("Usuario creado con sistema inteligente:",xe),await h(ae),_(!1),b(`Usuario creado exitosamente

 Email: ${ae.email}
 Rol: ${ae.role}

Instrucciones:
1. El usuario debe registrarse en Firebase Auth con el email: ${ae.email}
2. Una vez registrado, ser reconocido automticamente con el rol asignado
3. No necesita pasos adicionales - la sincronizacin es automtica`)}catch(de){je.error("Error creando usuario:",de),E("Error al crear usuario: "+de.message)}finally{O(!1)}},ee=async ae=>{O(!0);try{if(console.log(" Actualizando usuario:",{uid:o.uid,email:o.email,userData:ae}),!o.uid){console.warn(" Usuario sin UID, buscando por email:",o.email);const de=await $b.getUserProfileByEmail(o.email);if(de&&de.uid)console.log(" UID encontrado por email:",de.uid),o.uid=de.uid;else throw new Error("No se pudo encontrar el UID del usuario. Debe estar registrado en Firebase Auth primero.")}await $b.updateUserProfile(o.uid,ae),await m(o.uid,ae),P(!1),u(null),b(" Usuario editado y sincronizado en toda la aplicacin"),console.log(" Usuario actualizado y notificacin global enviada")}catch(de){je.error("Error editando usuario:",de),E("Error al editar usuario: "+de.message)}finally{O(!1)}},M=async ae=>{if(confirm("Est seguro de que desea eliminar este usuario?")){O(!0);try{await p(ae),b("Usuario eliminado correctamente")}catch(de){je.error("Error eliminando usuario:",de),E("Error al eliminar usuario: "+de.message)}finally{O(!1)}}},H=async ae=>{O(!0);try{await g(ae),b("Estado del usuario actualizado correctamente")}catch(de){je.error("Error cambiando estado de usuario:",de),E("Error al cambiar estado de usuario: "+de.message)}finally{O(!1)}},U=async()=>{X(!0);try{await Gl.createTestUsers(),await f(),b("Usuarios de prueba creados correctamente")}catch(ae){je.error("Error creando usuarios de prueba:",ae),E("Error al crear usuarios de prueba: "+ae.message)}finally{X(!1)}},G=async()=>{if(confirm("Est seguro de que desea eliminar todos los usuarios de prueba?")){ne(!0);try{await Gl.cleanTestUsers(),await f(),b("Usuarios de prueba eliminados correctamente")}catch(ae){je.error("Error limpiando usuarios de prueba:",ae),E("Error al limpiar usuarios de prueba: "+ae.message)}finally{ne(!1)}}};return n?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:d.jsxs(Ne.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 border-4 border-blue-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600 font-medium",children:"Cargando configuracin del sistema..."})]})}):d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50",children:[d.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200 sticky top-0 z-40",children:d.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center",children:d.jsx(n7,{className:"h-6 w-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Configuracin del Sistema"}),d.jsx("p",{className:"text-gray-600",children:"Panel de administracin avanzada"})]})]}),d.jsx("div",{className:"flex items-center space-x-3",children:d.jsxs(Ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>f(),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-colors shadow-lg shadow-blue-600/25",children:[d.jsx(s7,{className:"h-4 w-4 mr-2"}),"Actualizar"]})})]})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[d.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-2 mb-8",children:d.jsx("div",{className:"flex space-x-1",children:j.map(ae=>{const de=ae.icon,xe=k===ae.id;return d.jsxs(Ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>C(ae.id),className:`flex items-center px-6 py-3 rounded-xl transition-all duration-200 ${xe?"bg-gradient-to-r from-blue-600 to-indigo-600 text-white shadow-lg shadow-blue-600/25":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[d.jsx(de,{className:"h-5 w-5 mr-2"}),ae.label]},ae.id)})})}),d.jsxs(ss,{mode:"wait",children:[k==="overview"&&d.jsx(sHe,{stats:a,users:t,onCreateTestUsers:U,onCleanTestUsers:G,isCreatingTestUsers:D,isCleaningTestUsers:te}),k==="users"&&d.jsx(oHe,{users:z,searchTerm:i,filterRole:s,onSearchChange:l,onFilterChange:c,onCreateUser:()=>_(!0),onEditUser:ae=>{u(ae),P(!0)},onDeleteUser:M,onToggleStatus:H,actionLoading:N,roles:r}),k==="system"&&d.jsx(lHe,{}),k==="security"&&d.jsx(cHe,{})]})]}),d.jsx(nHe,{isOpen:S,onClose:()=>_(!1),onSave:ce,isLoading:N,roles:r}),d.jsx(aHe,{isOpen:T,user:o,onClose:()=>{P(!1),u(null)},onSave:ee,isLoading:N,roles:r})]})},sHe=({stats:e,users:t,onCreateTestUsers:r,onCleanTestUsers:n,isCreatingTestUsers:a,isCleaningTestUsers:i})=>{const s=[{title:"Total Usuarios",value:e.totalUsers||0,icon:mn,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",textColor:"text-blue-700"},{title:"Usuarios Activos",value:e.activeUsers||0,icon:Vr,color:"from-green-500 to-green-600",bgColor:"bg-green-50",textColor:"text-green-700"},{title:"Administradores",value:e.adminUsers||0,icon:n7,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",textColor:"text-purple-700"},{title:"Teleoperadoras",value:e.teleoperadoraUsers||0,icon:bf,color:"from-orange-500 to-orange-600",bgColor:"bg-orange-50",textColor:"text-orange-700"}];return d.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8",children:[d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map((o,l)=>{const c=o.icon;return d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:"bg-white rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600 text-sm font-medium",children:o.title}),d.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-1",children:o.value})]}),d.jsx("div",{className:`w-12 h-12 ${o.bgColor} rounded-xl flex items-center justify-center`,children:d.jsx(c,{className:`h-6 w-6 ${o.textColor}`})})]})},o.title)})}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[d.jsx(Jse,{className:"h-6 w-6 mr-2 text-yellow-500"}),"Acciones Rpidas"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(Ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,disabled:a,className:"flex items-center justify-center p-6 bg-gradient-to-r from-green-500 to-emerald-500 text-white rounded-xl hover:from-green-600 hover:to-emerald-600 transition-all duration-200 shadow-lg shadow-green-500/25",children:[a?d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-3"}):d.jsx(Xg,{className:"h-5 w-5 mr-3"}),a?"Creando...":"Crear Usuarios de Prueba"]}),d.jsxs(Ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:n,disabled:i,className:"flex items-center justify-center p-6 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-xl hover:from-red-600 hover:to-pink-600 transition-all duration-200 shadow-lg shadow-red-500/25",children:[i?d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent mr-3"}):d.jsx(tl,{className:"h-5 w-5 mr-3"}),i?"Limpiando...":"Limpiar Usuarios de Prueba"]})]})]}),d.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsxs("h3",{className:"text-xl font-semibold text-gray-900 mb-6 flex items-center",children:[d.jsx(DP,{className:"h-6 w-6 mr-2 text-blue-500"}),"Estado del Sistema"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-xl",children:[d.jsx(Vr,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-medium text-green-700",children:"Sistema Operativo"}),d.jsx("p",{className:"text-xs text-green-600",children:"Todos los servicios funcionando"})]}),d.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-xl",children:[d.jsx(Kg,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Base de Datos"}),d.jsx("p",{className:"text-xs text-blue-600",children:"Conexin estable"})]}),d.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-xl",children:[d.jsx(Zie,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),d.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Conectividad"}),d.jsx("p",{className:"text-xs text-purple-600",children:"ptima"})]})]})]})]},"overview")},oHe=({users:e,searchTerm:t,filterRole:r,onSearchChange:n,onFilterChange:a,onCreateUser:i,onEditUser:s,onDeleteUser:o,onToggleStatus:l,actionLoading:c,roles:u})=>d.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-6",children:[d.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:d.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("div",{className:"relative flex-1 lg:w-80",children:[d.jsx(oi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar por nombre o email...",value:t,onChange:f=>n(f.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(sy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),d.jsxs("select",{value:r,onChange:f=>a(f.target.value),className:"pl-10 pr-8 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[d.jsx("option",{value:"all",children:"Todos los roles"}),u.map(f=>d.jsx("option",{value:f.id,children:f.name},f.id))]})]})]}),d.jsxs(Ne.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,className:"flex items-center px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg shadow-blue-600/25",children:[d.jsx(W_,{className:"h-5 w-5 mr-2"}),"Nuevo Usuario"]})]})}),d.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:d.jsxs("div",{className:"divide-y divide-gray-100",children:[e.map((f,h)=>{var m,p;return d.jsx(Ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.05},className:"p-6 hover:bg-gray-50 transition-colors",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-500 rounded-xl flex items-center justify-center",children:d.jsx("span",{className:"text-white font-semibold text-lg",children:((m=f.displayName)==null?void 0:m.charAt(0))||((p=f.email)==null?void 0:p.charAt(0))})}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-900",children:f.displayName||"Sin nombre"}),d.jsx("p",{className:"text-gray-600 text-sm",children:f.email}),d.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[d.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${f.role==="super_admin"?"bg-purple-100 text-purple-700":f.role==="admin"?"bg-blue-100 text-blue-700":"bg-orange-100 text-orange-700"}`,children:f.role==="super_admin"?"Super Admin":f.role==="admin"?"Administrador":"Teleoperadora"}),d.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${f.active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:f.active?"Activo":"Inactivo"})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(f.uid),disabled:c,className:`p-2 rounded-lg transition-colors ${f.active?"text-green-600 hover:bg-green-50":"text-red-600 hover:bg-red-50"}`,children:f.active?d.jsx(jP,{className:"h-5 w-5"}):d.jsx(a7,{className:"h-5 w-5"})}),d.jsx(Ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(f),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:d.jsx(MP,{className:"h-5 w-5"})}),d.jsx(Ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(f.uid),disabled:c,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:d.jsx(tl,{className:"h-5 w-5"})})]})]})},f.uid)}),e.length===0&&d.jsxs("div",{className:"p-12 text-center",children:[d.jsx(mn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay usuarios"}),d.jsx("p",{className:"text-gray-600",children:"Crea el primer usuario para comenzar."})]})]})})]},"users"),lHe=()=>d.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuracin del Sistema"}),d.jsx("p",{className:"text-gray-600",children:"Panel de configuracin del sistema prximamente disponible."})]},"system"),cHe=()=>d.jsxs(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"bg-white rounded-2xl shadow-lg p-8",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Configuracin de Seguridad"}),d.jsx("p",{className:"text-gray-600",children:"Panel de seguridad prximamente disponible."})]},"security"),q$="karolmaguayo@gmail.com",Dh="smart_a2Fyb2xt_1759763837684",kd="NL2d3nSHdlUQE1G45ooS2kgSwk83";async function uHe(){try{console.log(" Sincronizando Karol Aguayo automticamente...");const e=ct(De,"userProfiles",kd);if((await ml(e)).exists())return console.log(" Karol ya tiene UID real:",kd),{success:!0,alreadySynced:!0};const r=ct(De,"userProfiles",Dh),n=await ml(r);if(!n.exists())return console.log(" No se encontr perfil con UID sinttico"),{success:!1,reason:"not_found"};const a=n.data();console.log(" Perfil encontrado:",a.displayName||a.name);const i=ct(De,"_backups_auto_sync",Dh);await Ls(i,{...a,_backup_timestamp:new Date().toISOString(),_backup_old_uid:Dh,_backup_real_uid:kd});const s={...a,uid:kd,updatedAt:at(),updatedBy:"auto_sync_karol",autoSyncDate:new Date().toISOString(),previousUID:Dh};await Ls(e,s),console.log(" Perfil creado con UID real");const o=gt(De,"operators"),l=Tt(o,St("email","==",q$)),c=await Bt(l);let u=0;for(const g of c.docs)await gn(g.ref,{uid:kd,updatedAt:at()}),u++;const f=gt(De,"assignments"),h=Tt(f,St("operatorId","==",Dh)),m=await Bt(h);let p=0;for(const g of m.docs)await gn(g.ref,{operatorId:kd,updatedAt:at()}),p++;return await jo(r),console.log(" Karol sincronizada exitosamente"),console.log("   Operators:",u),console.log("   Assignments:",p),window.dispatchEvent(new CustomEvent("userAutoSynced",{detail:{email:q$,oldUID:Dh,newUID:kd,operatorsUpdated:u,assignmentsUpdated:p}})),{success:!0,operatorsUpdated:u,assignmentsUpdated:p}}catch(e){return console.error(" Error sincronizando Karol:",e),{success:!1,error:e.message}}}const pQ=()=>{const{user:e,logout:t}=ds(),{user:r,isSuperAdmin:n,visibleModules:a,defaultTab:i,canViewConfig:s,checkModuleAccess:o}=_Y(),l=mo(B=>B.toasts),c=mo(B=>B.dismissToast),u=mo(B=>B.showSuccess),f=mo(B=>B.showError);mo(B=>B.showWarning);const h=mo(B=>B.showInfo),m=B=>{if(!B)return"N/A";try{let oe;if(typeof B=="string"&&/^\d{1,2}[-\/]\d{1,2}[-\/]\d{4}$/.test(B)){const ue=B.split(/[-\/]/),ye=parseInt(ue[0]),le=parseInt(ue[1]),be=parseInt(ue[2]);if(ye<=31&&le<=12&&be>=1900)return`${ye.toString().padStart(2,"0")}-${le.toString().padStart(2,"0")}-${be}`}if(typeof B=="number"?oe=new Date((B-25569)*86400*1e3):oe=new Date(B),oe&&!isNaN(oe.getTime())){const ue=oe.getDate().toString().padStart(2,"0"),ye=(oe.getMonth()+1).toString().padStart(2,"0"),le=oe.getFullYear();return`${ue}-${ye}-${le}`}return"Fecha invlida"}catch{return typeof B=="string"?B:"Error en fecha"}},{callData:p,processedData:g,callMetrics:v,setCallData:y,analyzeCallData:x,forceReanalysis:b,getOperatorMetrics:E,getHourlyDistribution:k,getFollowUpData:C,hasData:S,isLoading:_,loadingStage:T,loadingMessage:P,setLoadingStage:N}=hu(),{operators:O,operatorAssignments:D,activeTab:X,setOperators:te,setOperatorAssignments:ne,setActiveTab:Q,getAllAssignments:z}=Rn(),[j,ce]=A.useState(()=>i||null),[ee,M]=A.useState([]),[H,U]=A.useState([]),[G,ae]=A.useState("connecting"),[de,xe]=A.useState({totalCalls:0,successfulCalls:0,failedCalls:0,beneficiaries:0,activeAssignments:0,operators:0,protocolCompliance:0,pendingFollowUps:0}),[Z,ie]=A.useState([]),[we,F]=A.useState([]),[Me,Ce]=A.useState("all"),[Be,Ie]=A.useState(""),[re,Ve]=A.useState([]),[bt,ot]=A.useState(!1),[Lt,Yn]=A.useState(null),[qt,Yt]=A.useState({name:"",email:"",phone:""}),[vt,Nt]=A.useState({}),[ur,tr]=A.useState(null);A.useEffect(()=>{re.length>0&&O.length!==re.length&&te(re)},[re.length,O.length,te]),A.useEffect(()=>{const B=Object.keys(vt).length,oe=Object.keys(D).length;B>0&&B!==oe&&ne(vt)},[Object.keys(vt).length,Object.keys(D).length,ne]);const[Xn,wt]=A.useState(!1),[dr,un]=A.useState(""),[pr,ei]=A.useState([]),to=[{id:1,operator:"Mara Gonzlez",beneficiary:"Juan Prez",phone:"987654321",commune:"Santiago"},{id:2,operator:"Ana Rodrguez",beneficiary:"Carmen Silva",phone:"987654322",commune:"Valparaso"},{id:3,operator:"Luis Martnez",beneficiary:"Pedro Lpez",phone:"987654323",commune:"Concepcin"},{id:4,operator:"Mara Gonzlez",beneficiary:"Rosa Morales",phone:"987654324",commune:"Santiago"},{id:5,operator:"Ana Rodrguez",beneficiary:"Carlos Daz",phone:"987654325",commune:"Valparaso"}],ms=A.useRef(!1),[$i,ps]=A.useState(!1);A.useEffect(()=>{if(e&&r&&$i){const B=async()=>{try{const ue=await uHe();ue.success&&!ue.alreadySynced?(console.log(" Karol sincronizada automticamente"),u("Perfil de Karol Aguayo actualizado automticamente"),setTimeout(()=>{ps(!1),ro()},1e3)):ue.alreadySynced&&console.log(" Karol ya est sincronizada")}catch(ue){console.error(" Error en auto-sync:",ue)}};sessionStorage.getItem("karol_auto_sync_executed")||(B(),sessionStorage.setItem("karol_auto_sync_executed","true"))}},[e,r,$i]),A.useEffect(()=>{e&&r&&!$i&&!ms.current&&(console.log(" Triggering loadUserData:",{user:!!e,userProfile:!!r,email:r==null?void 0:r.email,role:r==null?void 0:r.role,dataLoaded:$i}),AK(e.uid),ro())},[e,r,$i]),A.useEffect(()=>{e&&r&&$i&&((r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin"||(r==null?void 0:r.email)==="roberto@mistatas.com"||(r==null?void 0:r.email)==="carolina@mistatas.com")&&!(re.length>0&&Object.keys(vt).length>0)&&!ms.current&&(console.log(" ADMIN SIN DATOS DETECTADO - Forzando recarga:",{email:r.email,role:r.role,operadores:re.length,asignaciones:Object.keys(vt).length}),ps(!1),setTimeout(()=>{ms.current||ro()},100))},[r==null?void 0:r.role,r==null?void 0:r.email,re.length,Object.keys(vt).length]),A.useEffect(()=>{$i&&re.length>0&&!ms.current&&(O.length===0||Object.keys(D).length===0)&&(te(re),ne(vt),setTimeout(()=>{const{operators:oe,operatorAssignments:ue}=Rn.getState()},500))},[$i,re.length,Object.keys(vt).length]),A.useEffect(()=>{const B=async ue=>{const{userId:ye,oldEmail:le,newEmail:be,updateData:Te,result:He}=ue.detail;console.log(" Evento userDataUpdated recibido:",{userId:ye,oldEmail:le,newEmail:be,operatorsUpdated:He.operatorsUpdated,assignmentsUpdated:He.assignmentsUpdated});const{reloadOperators:We,loadAssignments:lt}=Rn.getState();try{console.log(" Recargando operadores y asignaciones...");const[et,Xe]=await Promise.all([We(),lt()]);if(et&&(Ve(et),te(et)),Xe){const{operatorAssignments:nt}=Rn.getState();Nt(nt),ne(nt)}console.log(" Operadores y asignaciones recargados correctamente"),u(`Usuario actualizado: ${Te.displayName||be}`)}catch(et){console.error(" Error recargando datos despus de actualizacin:",et),f("Error al actualizar datos del mdulo de Asignaciones")}},oe=async ue=>{const ye=ue.detail;console.log(" Evento userProfileUpdated recibido en App.jsx:",ye);try{const{reloadOperators:le}=Rn.getState(),be=await le();be&&(Ve(be),te(be),console.log(" Operadores actualizados despus de cambio de perfil"))}catch(le){console.error(" Error recargando operadores despus de actualizacin de perfil:",le)}};return window.addEventListener("userDataUpdated",B),window.addEventListener("userProfileUpdated",oe),()=>{window.removeEventListener("userDataUpdated",B),window.removeEventListener("userProfileUpdated",oe)}},[u,f]),A.useEffect(()=>{if(!i)return;if(j===null){console.log(" Primera carga - Estableciendo tab inicial:",i),ce(i);return}const B=o(j);if(!B&&i!==j){console.log(" Cambiando tab por falta de permisos:",{from:j,to:i,accessible:B}),setTimeout(()=>ce(i),0);return}j==="dashboard"&&!o("dashboard")&&i!=="dashboard"&&(console.log(" Cambiando desde dashboard (sin acceso) a:",i),setTimeout(()=>ce(i),0))},[i,j]),A.useEffect(()=>{if(p.length>0&&Object.keys(D).length>0){const B=setTimeout(()=>{},500);return()=>clearTimeout(B)}},[D]);const ro=async()=>{if(!ms.current){ms.current=!0,ae("connecting");try{if(!r){console.log(" userProfile no disponible an, intentando nuevamente en 1 segundo..."),ms.current=!1,setTimeout(()=>{e&&!$i&&ro()},1e3);return}console.log(" Perfil de usuario disponible:",{email:r.email,role:r.role}),console.log(" Cargando datos generales del sistema...");const{loadOperators:B,loadAssignments:oe}=Rn.getState();await Promise.all([B(),oe()]);const{operators:ue,operatorAssignments:ye}=Rn.getState();console.log(" DATOS GENERALES CARGADOS:",{operadores:(ue==null?void 0:ue.length)||0,asignacionesGrupos:Object.keys(ye||{}).length,totalAsignaciones:Object.values(ye||{}).flat().length});let le,be,Te;const He=(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="super_admin"||(r==null?void 0:r.email)==="roberto@mistatas.com"||(r==null?void 0:r.email)==="carolina@mistatas.com";console.log(" Determinando datos a cargar:",{userEmail:r==null?void 0:r.email,userRole:r==null?void 0:r.role,isAdminUser:He});const We=async()=>{let lt=[];const et=async Xe=>{if(!Xe)return!1;try{console.log(` Intentando cargar callData usando el perfil de ${Xe}...`);const{userManagementService:nt}=await ts(async()=>{const{userManagementService:At}=await Promise.resolve().then(()=>OTe);return{userManagementService:At}},void 0),Ge=await nt.getUserProfileByEmail(Xe);if(Ge&&Ge.id){console.log(" Perfil encontrado para callData:",{id:Ge.id,email:Ge.email,role:Ge.role});const At=await ew.getCallData(Ge.id),Tr=Array.isArray(At)&&At.length>0;if(console.log(" Resultado callData:",{length:(At==null?void 0:At.length)||0,hasData:Tr}),Tr)return lt=At,console.log(` CallData cargado desde ${Xe}:`,lt.length,"registros"),!0}else console.warn(" No se encontr perfil en userProfiles para:",Xe)}catch(nt){console.error(` Error cargando callData desde ${Xe}:`,nt)}return!1};if(await et("roberto@mistatas.com"),lt.length===0&&await et("carolina@mistatas.com"),lt.length===0){console.log(' Intentando cargar callData desde documento "system"...');try{const Xe=await ew.getCallData("system");Xe&&Xe.length>0&&(lt=Xe,console.log(" CallData del sistema cargado:",lt.length,"registros"))}catch(Xe){console.warn(" No se pudo cargar callData del sistema:",Xe.message)}}return lt.length===0&&(console.warn(" No se encontr callData del sistema. Las mtricas pueden verse limitadas."),console.warn(" Solucin: El super admin debe cargar el Excel de seguimientos desde el Dashboard.")),lt};if(He){console.log(" Admin detectado - Cargando TODOS los datos del sistema");const[lt,et]=await Promise.all([Qc.getAll(),Rl.getAll()]);le=lt;const Xe={};et.forEach(nt=>{const Ge=nt.operatorId;Xe[Ge]||(Xe[Ge]=[]),Xe[Ge].push(nt)}),be=Xe,Te=await We(),console.log(" CallData disponible para admin:",(Te==null?void 0:Te.length)||0),console.log(" Admin - Datos del sistema cargados:",{operadores:(le==null?void 0:le.length)||0,operadoresConAsignaciones:Object.keys(be).length,totalAsignaciones:(et==null?void 0:et.length)||0})}else{console.log(" Teleoperadora detectada - Cargando datos del usuario + callData del sistema");const lt=await We(),[et,Xe]=await Promise.all([Qc.getByUser(e.uid),Rl.getAllUserAssignments(e.uid)]);let nt=et;(!nt||nt.length===0)&&(console.warn(" No se encontraron operadores asociados al userId. Intentando buscar por email..."),nt=await Qc.getByEmail(r.email));let Ge=Xe;if((!Ge||Object.keys(Ge).length===0)&&(nt!=null&&nt.length)){const At=nt.map(Tr=>Tr.id).filter(Boolean);if(At.length>0){console.warn(" No se encontraron asignaciones por userId. Buscando por operatorId...",At);const Tr=await Rl.getAssignmentsByOperatorIds(At);Tr&&Object.keys(Tr).length>0&&(Ge=Tr)}}le=nt,be=Ge,Te=lt,console.log(" Teleoperadora - Datos cargados:",{operadores:(le==null?void 0:le.length)||0,asignaciones:Object.keys(be||{}).length,callDataRegistros:(Te==null?void 0:Te.length)||0})}if(le!==null)Ve(le||[]),Nt(be||{}),M(Te||[]),te(le||[]),ne(be||{}),bd(be||{},le||[]),Te&&Te.length>0?(console.log(" Cargando datos en Zustand store optimizado..."),y(Te,"firebase")):(console.warn(" No hay datos de llamadas en Firebase"),console.log(" SOLUCIN: El super admin debe cargar el Excel de seguimientos:"),console.log("   1. Ve al Dashboard"),console.log('   2. Seccin "Carga de Datos Excel"'),console.log("   3. Selecciona el archivo Excel de seguimientos"),console.log("   4. Las mtricas se actualizarn automticamente"),console.log(" Mientras tanto, usando datos de ejemplo..."),Ed()),ae("connected"),ps(!0),console.log(" Conectado a Firebase - datos cargados con optimizacin");else throw new Error("Insufficient permissions")}catch{ae("demo"),ps(!0),Cl()}finally{ms.current=!1}}},bd=(B,oe)=>{const ue=[];Object.entries(B).forEach(([ye,le])=>{const be=oe.find(Te=>Te.id===ye);be&&le&&le.forEach(Te=>{ue.push({id:Te.id,operator:be.name,operatorEmail:be.email||"",beneficiary:Te.beneficiary,phone:Te.primaryPhone,commune:Te.commune})})}),U(ue)},Cl=()=>{console.log(" Inicializando con datos de ejemplo..."),U(to);const B={};to.forEach(ue=>{let le=`operator-${ue.operator.toLowerCase().replace(/\s+/g,"-")}`;B[le]||(B[le]=[]),B[le].push({id:ue.id,beneficiary:ue.beneficiary,beneficiario:ue.beneficiary,primaryPhone:ue.phone,phone:ue.phone,commune:ue.commune,comuna:ue.commune})});const oe=[...new Set(to.map(ue=>ue.operator))].map((ue,ye)=>({id:`operator-${ue.toLowerCase().replace(/\s+/g,"-")}`,name:ue,email:`${ue.toLowerCase().replace(/\s+/g,".")}@example.com`,phone:`+56${ye+1}12345678`}));te(oe),ne(B),console.log(" Datos sincronizados con Zustand:",{operators:oe,assignments:B}),_d(),Ed(),console.log(" Datos de ejemplo inicializados")},_d=()=>{const oe=[{id:"sample-1",name:"Mara Gonzlez",email:"maria.gonzalez@central.cl",phone:"987654321",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-2",name:"Ana Rodrguez",email:"ana.rodriguez@central.cl",phone:"987654322",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-3",name:"Luis Martnez",email:"luis.martinez@central.cl",phone:"987654323",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-4",name:"Carmen Torres",email:"carmen.torres@central.cl",phone:"987654324",userId:(e==null?void 0:e.uid)||"demo-user"},{id:"sample-5",name:"Pedro Snchez",email:"pedro.sanchez@central.cl",phone:"987654325",userId:(e==null?void 0:e.uid)||"demo-user"}].filter(ue=>ue&&ue.id&&ue.name);Ve(oe)},Lo=async()=>{if(qt.name.trim()!=="")try{const B=await Qc.create(e.uid,qt);Ve([...re,B]),Yt({name:"",email:"",phone:""}),ot(!1)}catch(B){je.error("Error creating operator:",B),f("Error al crear el operador. Por favor, intntelo nuevamente.")}},no=async B=>{if(window.confirm("Ests seguro de que deseas eliminar esta teleoperadora? Esta accin no se puede deshacer."))try{console.log(" Iniciando eliminacin de operadora:",B),console.log(" Eliminando de Firebase...");const oe=await Qc.delete(B);if(!oe||oe===!1)throw new Error("La eliminacin en Firebase fall");console.log(" Operadora eliminada de Firebase correctamente");try{await Rl.deleteOperatorAssignments(e.uid,B),console.log(" Asignaciones eliminadas de Firebase")}catch(Te){console.warn(" Error eliminando asignaciones (puede no existir documento):",Te.message)}console.log(" Actualizando Zustand store...");const{removeOperator:ue}=Rn.getState();ue&&(ue(B),console.log(" Operadora eliminada del Zustand store")),console.log(" Actualizando estados locales...");const ye=re.filter(Te=>Te.id!==B);Ve(ye);const le={...vt};delete le[B],Nt(le);const be=H.filter(Te=>!Te.id.toString().startsWith(`${B}-`));U(be),console.log(" Estados locales actualizados"),je.info("Operadora eliminada exitosamente de Firebase y estados locales"),u(" Teleoperadora eliminada exitosamente")}catch(oe){je.error(" Error crtico eliminando operadora:",oe),f(` Error al eliminar la teleoperadora: ${oe.message}. Por favor, verifique su conexin e intntelo nuevamente.`),console.error(" La eliminacin no se complet. Los datos permanecen en Firebase.")}},vh=async()=>{const B=["javiera reyes alvarado","javiera valdivia","mara gonzlez","teleoperadora ejemplo","demo operator","operadora prueba","test operator"],oe=re.filter(be=>B.some(Te=>{var He,We;return((He=be.name)==null?void 0:He.toLowerCase().includes(Te.toLowerCase()))||((We=be.email)==null?void 0:We.toLowerCase().includes(Te.toLowerCase()))}));if(oe.length===0){h(" No se encontraron teleoperadoras ficticias para eliminar.");return}const ue=`Ests seguro de que deseas eliminar ${oe.length} teleoperadoras ficticias?

`+oe.map(be=>` ${be.name} (${be.email})`).join(`
`)+`

Esta accin no se puede deshacer.`;if(!window.confirm(ue))return;console.log(" Iniciando limpieza masiva de teleoperadoras ficticias..."),h(` Eliminando ${oe.length} teleoperadoras ficticias...`);let ye=0,le=0;for(const be of oe){try{if(console.log(` Eliminando: ${be.name}`),await Qc.delete(be.id)){try{await Rl.deleteOperatorAssignments(e.uid,be.id)}catch{console.warn(` No se pudieron eliminar asignaciones de ${be.name}`)}const{removeOperator:He}=Rn.getState();He&&He(be.id),Ve(We=>We.filter(lt=>lt.id!==be.id)),Nt(We=>{const lt={...We};return delete lt[be.id],lt}),ye++,je.info(` Eliminada: ${be.name}`)}else throw new Error("Eliminacin en Firebase fall")}catch(Te){le++,je.error(` Error eliminando ${be.name}:`,Te)}await new Promise(Te=>setTimeout(Te,300))}le===0?u(` ${ye} teleoperadoras ficticias eliminadas exitosamente`):h(` Proceso completado: ${ye} exitosas, ${le} con errores`),console.log(" Limpieza masiva completada:",{successCount:ye,errorCount:le})},Lc=(B,oe)=>{const ue=B.target.files[0];if(ue){const ye=new FileReader;ye.onload=le=>{const be=new Uint8Array(le.target.result),Te=uv(be,{type:"array"}),He=Te.SheetNames[0],We=Te.Sheets[He],lt=x0.sheet_to_json(We,{header:1});yh(lt,oe)},ye.readAsArrayBuffer(ue)}B.target.value=""},yh=async(B,oe)=>{if(B.length<2)return;const ue=re.find(le=>le.id===oe);if(!ue)return;const ye=B.slice(1).map((le,be)=>{const Te=le[1]?String(le[1]).split(/[\|\-\s]+/).filter(He=>He.trim().length===9):[];return{id:`${oe}-${be}`,operatorId:oe,operatorName:ue.name,operatorEmail:ue.email||"",beneficiary:le[0]||"",phones:Te,primaryPhone:Te[0]||"",commune:le[2]||""}}).filter(le=>le.beneficiary&&le.primaryPhone);try{await Rl.saveOperatorAssignments(e.uid,oe,ye),Nt(be=>({...be,[oe]:ye}));const le=ye.map(be=>({id:be.id,operator:be.operatorName,operatorEmail:be.operatorEmail,beneficiary:be.beneficiary,phone:be.primaryPhone,commune:be.commune}));U(be=>[...be.filter(He=>!He.id.toString().startsWith(`${oe}-`)),...le]),tr(null),u("Asignaciones guardadas correctamente")}catch(le){je.error("Error saving assignments:",le),f("Error al guardar las asignaciones. Por favor, intntelo nuevamente.")}},kl=async B=>{try{await Rl.deleteOperatorAssignments(e.uid,B);const oe={...vt};delete oe[B],Nt(oe),U(ue=>ue.filter(ye=>!ye.id.toString().startsWith(`${B}-`))),u("Asignaciones limpiadas correctamente")}catch(oe){je.error("Error clearing assignments:",oe),f("Error al limpiar las asignaciones. Por favor, intntelo nuevamente.")}},Ed=()=>{if(ee.length>0){console.log(" Datos reales disponibles, omitiendo generacin de datos de ejemplo");return}console.log(" Generando datos de ejemplo...");const oe=(re.length>0?re.map(ye=>ye.name):["Mara Gonzlez","Ana Rodrguez","Luis Martnez","Carmen Torres","Pedro Snchez"]).map(ye=>({operator:ye,totalCalls:Math.floor(Math.random()*50)+20,totalMinutes:Math.floor(Math.random()*500)+100,avgDuration:Math.floor(Math.random()*10)+3})),ue=Array.from({length:24},(ye,le)=>({hour:le,calls:Math.floor(Math.random()*20)+1}));ie(oe),F(ue),xe({totalCalls:150,successfulCalls:120,failedCalls:30,beneficiaries:85,activeAssignments:H.length||5,operators:re.length||5,protocolCompliance:85,pendingFollowUps:12}),H.length>0},Dn=B=>{if(!B.trim()){ei([]);return}console.log(" Iniciando bsqueda para:",B);const oe=[];Object.entries(vt).forEach(([be,Te])=>{const He=re.find(We=>We.id===be);Te&&Array.isArray(Te)&&Te.forEach(We=>{oe.push({beneficiary:We.beneficiary||We.beneficiario,beneficiario:We.beneficiary||We.beneficiario,operatorName:(He==null?void 0:He.name)||We.operator||We.operatorName||"Operador no encontrado",operator:(He==null?void 0:He.name)||We.operator||We.operatorName,phone:We.primaryPhone||We.phone||We.telefono||We.numero_cliente||We.phones&&We.phones[0]||"N/A",primaryPhone:We.primaryPhone,phones:We.phones||[],telefono:We.telefono,numero_cliente:We.numero_cliente,commune:We.commune||We.comuna||"N/A",comuna:We.comuna,operatorId:be,source:"operatorAssignments",id:We.id})})});const ue=z();console.log(" Asignaciones de Zustand:",ue),ue.forEach(be=>{oe.push({beneficiary:be.beneficiary||be.beneficiario,beneficiario:be.beneficiary||be.beneficiario,operatorName:be.operator||be.operatorName||be.name||"Sin asignar",operator:be.operator||be.operatorName||be.name,phone:be.phone||be.telefono||be.numero_cliente||"N/A",commune:be.commune||be.comuna||"N/A",operatorId:be.operatorId||"zustand",source:"zustand"})}),console.log(" Total asignaciones encontradas:",oe.length),console.log(" Muestra de asignaciones:",oe.slice(0,3));const ye=B.toLowerCase().trim(),le=oe.filter(be=>{const Te=(be.beneficiary||be.beneficiario||"").toLowerCase(),He=(be.operatorName||be.operator||"").toLowerCase(),We=(be.commune||be.comuna||"").toLowerCase(),lt=[be.phone,be.primaryPhone,be.telefono,be.numero_cliente,...be.phones||[]].filter(Tr=>Tr&&Tr!=="N/A").join(" ").toLowerCase(),et=Te.includes(ye),Xe=He.includes(ye),nt=lt.includes(ye),Ge=We.includes(ye),At=et||Xe||nt||Ge;return At&&console.log(" Coincidencia encontrada:",{beneficiary:Te,operator:He,phones:lt,commune:We,searchTerm:ye,matches:{beneficiaryName:et,operatorName:Xe,phones:nt,commune:Ge},source:be.source}),At});console.log(" Resultados filtrados:",le.length),ei(le)},$o=A.useRef(null);A.useEffect(()=>()=>{$o.current&&clearTimeout($o.current)},[]);const ao=B=>{if(un(B),$o.current&&clearTimeout($o.current),!B.trim()){ei([]);return}$o.current=setTimeout(()=>{Dn(B)},300)},Nl=B=>{const oe=B.target.files[0];if(oe){N("uploading",`Subiendo archivo: ${oe.name}`);const ue=new FileReader;ue.onload=ye=>{try{N("processing","Leyendo datos del archivo Excel...");const le=new Uint8Array(ye.target.result),be=uv(le,{type:"array"}),Te=be.SheetNames[0],He=be.Sheets[Te],We=x0.sheet_to_json(He,{header:1});tp(We)}catch(le){console.error("Error al procesar archivo Excel:",le),N("error","Error al procesar el archivo Excel")}},ue.onerror=()=>{N("error","Error al leer el archivo")},ue.readAsArrayBuffer(oe)}B.target.value=""},tp=async B=>{if(B.length<2){N("error","El archivo Excel no contiene datos vlidos");return}try{N("processing",`Procesando ${B.length-1} filas de datos...`);const ue=(le=>{const be=le.slice(1,Math.min(6,le.length)),Te=et=>!et||typeof et!="string"||/^\d{1,2}:\d{2}(:\d{2})?$/.test(et)||/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(et)||!isNaN(Date.parse(et))||/^\d+$/.test(et)||et.trim().length<3?!1:!!(et.trim().split(/\s+/).filter(nt=>nt.length>1).length>=2||/^[a-zA-Z\s\-\.]+$/.test(et)),He={};for(let et=0;et<15;et++){let Xe=0;const nt=be.map(Ge=>Ge[et]).filter(Ge=>Ge!=null);if(nt.length!==0){for(const Ge of nt)Te(String(Ge))&&Xe++;Xe>0&&(He[et]={score:Xe,percentage:Xe/nt.length*100,sampleValues:nt.slice(0,3)})}}console.log(" Anlisis de columnas para detectar operadores:",He);let We=7,lt=0;for(const[et,Xe]of Object.entries(He))(Xe.score>lt||Xe.score===lt&&Xe.percentage>50)&&(lt=Xe.score,We=parseInt(et));return console.log(` Columna de operadores detectada: ${We} (puntuacin: ${lt})`),We})(B),ye=B.slice(1).map((le,be)=>{be<3&&console.log(`Fila ${be}:`,{col0:le[0],col1:le[1],col2:le[2],col3:le[3],col4:le[4],col5:le[5],col6:le[6],col7:le[7],col8:le[8],col9:le[9],col10:le[10],col11:le[11],operadorDetectado:le[ue]});let Te=le[ue];if(Te&&/^\d{1,2}:\d{2}/.test(String(Te))){console.warn(` Valor de operador parece ser hora: "${Te}". Buscando en otras columnas...`);for(let We=0;We<le.length;We++){const lt=le[We];if(lt&&typeof lt=="string"&&!/^\d{1,2}:\d{2}/.test(lt)&&!/^\d+$/.test(lt)&&lt.trim().split(/\s+/).length>=2){Te=lt,console.log(` Operador encontrado en columna ${We}: "${Te}"`);break}}}const He=m;return{id:le[0]||`call-${be}-${Date.now()}`,fecha:He(le[1]),beneficiario:le[2],comuna:le[3],tipo_llamada:le[4]==="Entrante"?"entrante":"saliente",numero_cliente:le[5],hora:le[6]||"09:00:00",operador:Te||"No identificado",duracion:parseInt(le[8])||0,categoria:le[9]==="Llamado exitoso"?"exitosa":"fallida",resultado:le[9],observacion:le[10],apiId:le[11]}});try{G==="connected"&&await ew.saveCallData(e.uid,ye)&&console.log(" Datos de llamadas guardados en Firebase")}catch(le){console.error("Error guardando datos en Firebase:",le)}y(ye,"excel"),allAssignments.length===0&&ye.length>0&&(console.log(" No hay asignaciones previas, creando asignaciones basadas en operadoras detectadas..."),rp(ye)),console.log(` Procesados ${ye.length} registros en Zustand`)}catch(oe){console.error("Error durante el procesamiento de datos:",oe),N("error","Error al procesar los datos del Excel")}},rp=B=>{try{const oe={},ue=Te=>!Te||typeof Te!="string"?!1:Te.trim().length>2&&!/^\d{1,2}:\d{2}/.test(Te)&&!/^\d+$/.test(Te)&&!/^(si|no|exitoso|fallido|pendiente|hangup|solo)$/i.test(Te)&&/^[a-zA-Z\s\-\.]{3,}$/.test(Te);B.forEach(Te=>{const He=Te.beneficiario||Te.beneficiary,We=Te.operador||Te.operator||Te.teleoperadora;He&&We&&ue(We)&&(oe[We]||(oe[We]=new Set),oe[We].add(He))});const ye=Object.keys(oe).map((Te,He)=>({id:`auto-operator-${He+1}`,name:Te,email:`${Te.toLowerCase().replace(/\s+/g,".")}@auto.com`,phone:`+56${He+1}87654321`})),le={},be=[];Object.entries(oe).forEach(([Te,He],We)=>{const lt=`auto-operator-${We+1}`;le[lt]=[],Array.from(He).forEach((et,Xe)=>{const nt={id:`auto-${lt}-${Xe+1}`,beneficiary:et,beneficiario:et,primaryPhone:"N/A",phone:"N/A",commune:"N/A",comuna:"N/A"};le[lt].push(nt),be.push({...nt,operator:Te})})}),ye.length>0&&(te(ye),ne(le),U(be),console.log(" Asignaciones automticas creadas:",{operators:ye.length,assignments:be.length,operatorMap:oe}))}catch(oe){console.error("Error creando asignaciones automticas:",oe)}},q=(()=>{const B=[];return Object.entries(vt).forEach(([oe,ue])=>{const ye=re.find(le=>le.id===oe);ye&&ue&&Array.isArray(ue)?ue.forEach(le=>{const be={id:le.id,operator:ye.name,operatorName:ye.name,beneficiary:le.beneficiary,phone:le.primaryPhone,commune:le.commune};B.push(be)}):re.length>0&&console.warn(` Problemas con operador ${oe}:`,{operatorFound:!!ye,assignmentsType:typeof ue,isArray:Array.isArray(ue)})}),B})(),W=C(q),K=W.filter(B=>{const oe=Me==="all"||B.status===Me,ue=B.beneficiary.toLowerCase().includes(Be.toLowerCase())||B.operator.toLowerCase().includes(Be.toLowerCase());return oe&&ue}),Y=()=>{const B={dashboard:Os,calls:Lr,assignments:mn,beneficiaries:Kg,seguimientos:DP,calendar:Ka,gestiones:mn,history:na,audit:Os,reports:Oie,config:wf};return d.jsxs("div",{className:"w-64 bg-white shadow-lg h-full flex flex-col",children:[d.jsxs("div",{className:"p-6 flex-1",children:[d.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Mistatas - Seguimiento de llamadas"}),d.jsx("p",{className:"text-xs text-gray-500 mb-6",children:" 2025"}),d.jsx("nav",{className:"space-y-2",children:a.map(oe=>{const ue=B[oe.id]||Os;return d.jsx(J,{icon:ue,label:oe.label,active:j===oe.id,onClick:()=>ce(oe.id)},oe.id)})}),r&&d.jsxs("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg",children:[d.jsxs("p",{className:"text-xs text-gray-600",children:["Rol: ",d.jsx("span",{className:"font-medium",children:r.role})]}),n&&d.jsx("p",{className:"text-xs text-blue-600 font-medium",children:" Super Administrador"})]})]}),d.jsxs("div",{className:"p-6 border-t border-gray-200",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:d.jsx(oa,{className:"w-5 h-5 text-blue-600"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:(e==null?void 0:e.displayName)||(r==null?void 0:r.name)||"Usuario"}),d.jsx("p",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.email})]})]}),d.jsxs("div",{className:"mb-4 p-2 rounded-lg bg-gray-50",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${G==="connected"?"bg-green-500":G==="connecting"?"bg-yellow-500":"bg-orange-500"}`}),d.jsx("span",{className:"text-xs text-gray-600",children:G==="connected"?"Firebase conectado":G==="connecting"?"Conectando...":"Modo demo"})]}),ee.length>0&&d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[ee.length," llamadas cargadas"]})]}),d.jsxs("button",{onClick:t,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[d.jsx(use,{className:"w-4 h-4"}),"Cerrar Sesin"]})]})]})},J=({icon:B,label:oe,active:ue,onClick:ye})=>d.jsxs("button",{onClick:ye,className:`w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors ${ue?"bg-blue-50 text-blue-600 border-l-4 border-blue-500":"text-gray-600 hover:bg-gray-50"}`,children:[d.jsx(B,{className:"w-5 h-5 mr-3"}),d.jsx("span",{className:"text-sm",children:oe})]}),he=()=>{const B=(p==null?void 0:p.length)>0?p:ee,ue=G==="connecting"?{color:"bg-yellow-50 border-yellow-200",icon:"",title:"Conectando...",message:"Conectando con Firebase para cargar datos"}:G==="connected"?B.length>0?{color:"bg-green-50 border-green-200",icon:"",title:"Datos reales activos",message:`Mostrando datos reales de ${B.length} llamadas registradas`}:{color:"bg-blue-50 border-blue-200",icon:"",title:"Firebase conectado - Sin datos de llamadas",message:"Conectado a Firebase. Sube un archivo Excel para ver datos reales"}:{color:"bg-orange-50 border-orange-200",icon:"",title:"Modo demostracin",message:"Mostrando datos de ejemplo. Configura Firebase para persistencia completa"},ye=async()=>{G==="connected"&&(ps(!1),await ro())};return d.jsx("div",{className:`${ue.color} border rounded-lg p-4 mb-6`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("span",{className:"text-lg mr-3",children:ue.icon}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-semibold text-gray-800",children:ue.title}),d.jsx("p",{className:"text-sm text-gray-600",children:ue.message}),d.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Mtricas: ",v?`${v.successfulCalls}/${v.totalCalls} exitosas`:"Sin mtricas"]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[G==="connected"&&d.jsx("button",{onClick:ye,className:"px-3 py-1 text-xs bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors",title:"Recargar datos desde Firebase",children:" Sincronizar"}),B.length>0&&d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>{console.log(" DEBUG: Forzando re-anlisis..."),console.log(" Datos antes del re-anlisis:",v),b()},className:"px-3 py-1 text-xs bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",title:"Forzar re-anlisis de datos",children:" Re-analizar"}),d.jsx("button",{onClick:()=>{console.log(" DIAGNSTICO: Analizando datos reales...");const le=hu.getState().callData;le&&le.length>0?window.analyzeRealData?window.analyzeRealData(le):(console.log(" Funcin de diagnstico no disponible"),console.log("Datos disponibles:",le.length,"llamadas"),console.log("Muestra de datos:",le.slice(0,3))):console.log(" No hay datos disponibles para analizar")},className:"px-3 py-1 text-xs bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors",title:"Diagnosticar datos reales del Excel (ver consola)",children:" Diagnosticar"})]})]})]})})},Ee=()=>{const[B,oe]=se.useState([]),[ue,ye]=se.useState([]);se.useEffect(()=>{const At=setTimeout(()=>{ee.length>0&&(!p||p.length===0)&&!_&&(console.log(" Sincronizando datos locales con Zustand:",ee.length),y(ee,"sync"))},0);return()=>clearTimeout(At)},[ee.length,p==null?void 0:p.length,y,_]);const le=v||{totalCalls:0,successfulCalls:0,failedCalls:0,averageDuration:0,uniqueBeneficiaries:0,protocolCompliance:0},be=O.length;D&&Object.keys(D).length,se.useEffect(()=>{const Ge=E(q),At=k();oe(Ge||[]),ye(At||[])},[q==null?void 0:q.length,E,k]);let Te=B;(!B||B.length===0)&&(Te=Object.entries(vt).map(([At,Tr])=>{const fa=re.find($c=>$c.id===At);if(fa&&Tr&&Array.isArray(Tr)){const $c=Tr.length,xh=Math.max(1,Math.floor(le.totalCalls*($c/Math.max(1,q.length)))),wh=Math.floor(xh*.6);return{operatorName:fa.name,totalCalls:xh,successfulCalls:wh,failedCalls:xh-wh,averageDuration:60,successRate:Math.round(wh/xh*100),isEmergencyData:!0}}return null}).filter(Boolean)),(!Te||!Array.isArray(Te))&&(Te=[]);const He=le.totalCalls>0?(le.successfulCalls/le.totalCalls*100).toFixed(1):0,We=le.totalCalls>0?(le.failedCalls/le.totalCalls*100).toFixed(1):0,lt=be>0?(le.totalCalls/be).toFixed(1):0,et=le.uniqueBeneficiaries>0?(le.successfulCalls/le.uniqueBeneficiaries*100).toFixed(1):0,Xe=Te.sort((Ge,At)=>At.coverageRate-Ge.coverageRate).slice(0,3),nt=Te.length>0?Te.reduce((Ge,At)=>Ge.totalCalls>At.totalCalls?Ge:At):null;return d.jsxs("div",{className:"space-y-8",children:[d.jsx(he,{}),d.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Resumen Ejecutivo de Teleasistencia"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[d.jsxs("div",{className:"text-3xl font-bold",children:[He,"%"]}),d.jsx("div",{className:"text-sm opacity-90",children:"Tasa de xito"})]}),d.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[d.jsx("div",{className:"text-3xl font-bold",children:le.uniqueBeneficiaries}),d.jsx("div",{className:"text-sm opacity-90",children:"Beneficiarios Atendidos"})]}),d.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[d.jsx("div",{className:"text-3xl font-bold",children:lt}),d.jsx("div",{className:"text-sm opacity-90",children:"Llamadas por Operadora"})]}),d.jsxs("div",{className:"bg-white/10 rounded-lg p-4",children:[d.jsxs("div",{className:"text-3xl font-bold",children:[et,"%"]}),d.jsx("div",{className:"text-sm opacity-90",children:"Tasa de Contactabilidad"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Llamadas Exitosas"}),d.jsx("p",{className:"text-3xl font-bold text-green-600",children:le.successfulCalls}),d.jsxs("p",{className:"text-sm text-gray-500",children:["de ",le.totalCalls," total"]})]}),d.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:d.jsx(Lr,{className:"h-8 w-8 text-green-600"})})]}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(_f,{className:"h-4 w-4 text-green-500 mr-1"}),d.jsxs("span",{className:"text-green-600 font-medium",children:[He,"% de xito"]})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-red-500",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Llamadas Fallidas"}),d.jsx("p",{className:"text-3xl font-bold text-red-600",children:le.failedCalls}),d.jsx("p",{className:"text-sm text-gray-500",children:"sin contacto efectivo"})]}),d.jsx("div",{className:"p-3 bg-red-100 rounded-full",children:d.jsx(Lr,{className:"h-8 w-8 text-red-600"})})]}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(Mse,{className:"h-4 w-4 text-red-500 mr-1"}),d.jsxs("span",{className:"text-red-600 font-medium",children:[We,"% de fallas"]})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Beneficiarios nicos"}),d.jsx("p",{className:"text-3xl font-bold text-blue-600",children:le.uniqueBeneficiaries}),d.jsx("p",{className:"text-sm text-gray-500",children:"personas atendidas"})]}),d.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:d.jsx(mn,{className:"h-8 w-8 text-blue-600"})})]}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(mn,{className:"h-4 w-4 text-blue-500 mr-1"}),d.jsx("span",{className:"text-blue-600 font-medium",children:"Cobertura poblacional"})]})})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-sm font-medium text-gray-600",children:"Tiempo Promedio"}),d.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[Math.round(le.averageDuration/60),"min"]}),d.jsx("p",{className:"text-sm text-gray-500",children:"por llamada"})]}),d.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:d.jsx(na,{className:"h-8 w-8 text-purple-600"})})]}),d.jsx("div",{className:"mt-4 pt-4 border-t",children:d.jsxs("div",{className:"flex items-center text-sm",children:[d.jsx(na,{className:"h-4 w-4 text-purple-500 mr-1"}),d.jsx("span",{className:"text-purple-600 font-medium",children:"Eficiencia temporal"})]})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[d.jsx(_f,{className:"h-5 w-5 text-green-500 mr-2"})," Top Performers"]}),Xe.length>0?d.jsx("div",{className:"space-y-3",children:Xe.map((Ge,At)=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold mr-3 ${At===0?"bg-yellow-500":At===1?"bg-gray-400":"bg-orange-500"}`,children:At+1}),d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:Ge.operatorName}),d.jsxs("p",{className:"text-sm text-gray-500",children:[Ge.contactedBeneficiaries," de ",Ge.assignedBeneficiaries," beneficiarios",Ge.isEmergencyData&&d.jsx("span",{className:"ml-1 text-xs text-yellow-600",children:"(estimado)"})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"font-bold text-green-600 text-xl",children:[Ge.coverageRate,"%"]}),d.jsx("p",{className:"text-sm text-gray-500",children:"cobertura"}),d.jsxs("p",{className:"text-xs text-orange-500 mt-1",children:[Ge.pendingBeneficiaries," pendientes"]})]})]},At))}):d.jsxs("div",{className:"text-center py-6",children:[d.jsx("p",{className:"text-gray-500 mb-2",children:"No hay datos de operadoras disponibles"}),d.jsx("p",{className:"text-sm text-gray-400",children:vt&&Object.keys(vt).length>0?" Verifica que haya datos de llamadas cargados":" Necesitas crear operadoras y asignar beneficiarios en el mdulo Asignaciones"})]})]}),d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[d.jsx(Os,{className:"h-5 w-5 text-blue-500 mr-2"})," Anlisis de Productividad"]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Operadora ms activa"}),d.jsx("p",{className:"font-bold text-lg",children:(nt==null?void 0:nt.operatorName)||"N/A"}),d.jsxs("p",{className:"text-sm text-blue-600",children:[(nt==null?void 0:nt.totalCalls)||0," llamadas realizadas"]})]}),d.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Tasa de xito promedio"}),d.jsxs("p",{className:"font-bold text-lg",children:[He,"%"]}),d.jsx("p",{className:"text-sm text-green-600",children:"Indicador de calidad del servicio"})]}),d.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Cumplimiento de protocolo"}),d.jsxs("p",{className:"font-bold text-lg",children:[le.protocolCompliance,"%"]}),d.jsx("p",{className:"text-sm text-purple-600",children:"Adherencia a procedimientos"})]})]})]})]}),Te.length>0&&d.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[d.jsx(mn,{className:"h-5 w-5 text-indigo-500 mr-2"})," Detalle Completo por Teleoperadora",Te.some(Ge=>Ge.isEmergencyData)&&d.jsx("span",{className:"ml-2 text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Datos Estimados"})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operadora"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beneficiarios"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cobertura"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Llamadas"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tasa xito"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rendimiento"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Te.map((Ge,At)=>{var $c;const Tr=Ge.totalCalls>0?(Ge.successfulCalls/Ge.totalCalls*100).toFixed(1):0,fa=Ge.coverageRate||0;return d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center mr-3",children:d.jsx("span",{className:"text-indigo-600 font-semibold text-sm",children:($c=Ge.operatorName)==null?void 0:$c.substring(0,2).toUpperCase()})}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:Ge.operatorName})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"text-sm",children:[d.jsxs("div",{className:"text-gray-900 font-medium",children:[Ge.contactedBeneficiaries||0," / ",Ge.assignedBeneficiaries||0]}),d.jsxs("div",{className:"text-xs text-gray-500",children:[Ge.pendingBeneficiaries||0," pendientes"]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${fa>=70?"bg-green-100 text-green-800":fa>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[fa,"%"]})}),d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[d.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:Ge.totalCalls}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[Ge.successfulCalls," exitosas"]})]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${parseFloat(Tr)>=70?"bg-green-100 text-green-800":parseFloat(Tr)>=50?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[Tr,"%"]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:d.jsx("div",{className:`h-2 rounded-full ${fa>=70?"bg-green-500":fa>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(fa,100)}%`}})}),d.jsx("span",{className:"text-xs text-gray-500",children:fa>=70?" Excelente":fa>=50?" Regular":" Revisar"})]})})]},At)})})]})})]})]})},me=()=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Registro de Llamadas"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Sube el archivo Excel con el registro de llamadas para realizar el anlisis automtico."}),d.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[d.jsx(Yg,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),d.jsxs("label",{className:"cursor-pointer",children:[d.jsx("span",{className:"text-blue-600 font-medium",children:"Seleccionar archivo Excel"}),d.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:Nl,className:"hidden"})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Formatos soportados: .xlsx, .xls"})]}),_&&d.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),d.jsxs("div",{children:[d.jsxs("h4",{className:"text-sm font-medium text-blue-900",children:[T==="uploading"&&" Subiendo archivo...",T==="processing"&&" Procesando datos...",T==="analyzing"&&" Analizando llamadas..."]}),d.jsx("p",{className:"text-sm text-blue-700",children:P})]})]}),d.jsx("div",{className:"mt-3 w-full bg-blue-200 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-500",style:{width:T==="uploading"?"25%":T==="processing"?"50%":T==="analyzing"?"75%":"100%"}})})]}),T==="complete"&&!_&&p.length>0&&d.jsx("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-green-900",children:" Anlisis completado exitosamente"}),d.jsx("p",{className:"text-sm text-green-700",children:P})]})]})}),T==="error"&&!_&&d.jsx("div",{className:"mt-6 bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-6 h-6 bg-red-600 rounded-full flex items-center justify-center",children:d.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-medium text-red-900",children:" Error en el procesamiento"}),d.jsx("p",{className:"text-sm text-red-700",children:P}),d.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Por favor, verifica el formato del archivo e intenta nuevamente."})]})]})})]}),p.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Resumen del Anlisis"}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-blue-600",children:p.length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Total Llamadas"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.filter(B=>B.categoria==="exitosa"||B.resultado==="Llamado exitoso").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Exitosas"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.filter(B=>B.categoria!=="exitosa"&&B.resultado!=="Llamado exitoso").length}),d.jsx("div",{className:"text-sm text-gray-600",children:"Fallidas"})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-2xl font-bold text-purple-600",children:new Set(p.map(B=>B.beneficiario).filter(Boolean)).size}),d.jsx("div",{className:"text-sm text-gray-600",children:"Beneficiarios"})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Datos Procesados"}),d.jsxs("div",{className:"overflow-x-auto",children:[d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50",children:[d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"ID"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Fecha"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Beneficiario"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Comuna"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Operador"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Tipo"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Resultado"}),d.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Duracin"})]})}),d.jsx("tbody",{children:p.slice(0,10).map((B,oe)=>d.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:B.id||`call-${oe}`}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:B.fecha||"N/A"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:B.beneficiario||"N/A"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:B.comuna||"N/A"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:B.operador||"No identificado"}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${B.tipo_llamada==="entrante"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:B.tipo_llamada==="entrante"?"Entrante":"Saliente"})}),d.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:d.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${B.resultado==="Llamado exitoso"||B.categoria==="exitosa"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:B.resultado||(B.categoria==="exitosa"?"Exitoso":"Fallido")})}),d.jsxs("td",{className:"px-4 py-3 text-sm text-gray-900",children:[B.duracion||0,"s"]})]},B.id||oe))})]}),d.jsxs("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-600",children:[d.jsxs("span",{children:["Mostrando ",Math.min(10,p.length)," de ",p.length," llamadas procesadas"]}),p.length>10&&d.jsx("span",{className:"text-blue-600",children:"Mostrando solo las primeras 10 filas"})]})]})]})]})]}),pe=({operator:B})=>{const[oe,ue]=se.useState(null),[ye,le]=se.useState(!1),[be,Te]=se.useState(null),He=se.useCallback(async(et=!1)=>{if(B){if(oe&&be&&!et&&Date.now()-be<3e3){console.log(" Perfil reciente, saltando recarga");return}le(!0);try{let Xe=null;const nt=(await ts(async()=>{const{default:Ge}=await Promise.resolve().then(()=>rHe);return{default:Ge}},void 0)).default;B.uid&&(Xe=await nt.getUserProfile(B.uid),console.log(" Bsqueda por UID:",B.uid,Xe?"":"")),!Xe&&B.email&&(Xe=await nt.getUserProfileByEmail(B.email),console.log(" Bsqueda por email:",B.email,Xe?"":"")),Xe&&(console.log(" Perfil sincronizado:",Xe.email),ue(Xe),Te(Date.now()))}catch(Xe){console.error(" Error cargando perfil:",Xe)}finally{le(!1)}}},[B,oe,be]);se.useEffect(()=>{He()},[B==null?void 0:B.id]),se.useEffect(()=>{const et=async Xe=>{var fa;const nt=Xe.detail;console.log(" Evento userProfileUpdated recibido:",{newEmail:nt.email,oldEmail:nt.oldEmail,uid:nt.uid}),console.log(" Comparando con operator:",{operatorEmail:B.email,operatorUID:B.uid,operatorName:B.name});const Ge=B.uid&&nt.uid===B.uid,At=B.email&&((fa=nt.email)==null?void 0:fa.toLowerCase())===B.email.toLowerCase(),Tr=B.email&&nt.oldEmail&&nt.oldEmail.toLowerCase()===B.email.toLowerCase();Ge||At||Tr?(console.log(" Perfil actualizado para:",B.name||B.email),Tr&&console.log(" Email cambi de",nt.oldEmail,"a",nt.email),ue(nt),Te(Date.now())):console.log(" Perfil no coincide con este operador, ignorando")};return window.addEventListener("userProfileUpdated",et),()=>{window.removeEventListener("userProfileUpdated",et)}},[B==null?void 0:B.id,B==null?void 0:B.uid,B==null?void 0:B.email]);const We=(oe==null?void 0:oe.email)||B.email,lt=(oe==null?void 0:oe.displayName)||B.name||"Operador sin nombre";return oe!=null&&oe.email&&B.email&&(oe.email.toLowerCase(),B.email.toLowerCase()),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:lt}),vt[B.id]&&d.jsxs("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2 py-1 rounded-full",children:[vt[B.id].length," beneficiarios"]}),ye&&d.jsx("span",{className:"text-xs text-gray-500 animate-pulse",children:"Actualizando..."}),oe&&!ye&&d.jsx("span",{className:"text-xs text-green-600",children:" Sincronizado"})]}),d.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[We&&d.jsxs("p",{children:[" ",We]}),B.phone&&d.jsxs("p",{children:[" ",B.phone]}),oe&&B.email!==oe.email&&d.jsxs("p",{className:"text-xs text-orange-600",children:[" Email actualizado de: ",B.email]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("label",{className:"cursor-pointer bg-blue-500 text-white px-3 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 text-sm",children:[d.jsx(Yg,{className:"w-4 h-4"}),"Subir Excel",d.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:et=>Lc(et,B.id),className:"hidden"})]}),vt[B.id]&&d.jsxs("button",{onClick:()=>kl(B.id),className:"bg-yellow-500 text-white px-3 py-2 rounded-lg hover:bg-yellow-600 transition-colors flex items-center gap-2 text-sm",children:[d.jsx(tl,{className:"w-4 h-4"}),"Limpiar"]}),d.jsxs("button",{onClick:()=>no(B.id),className:"bg-red-500 text-white px-3 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2 text-sm",children:[d.jsx(tl,{className:"w-4 h-4"}),"Eliminar"]})]})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[d.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-2",children:"Formato Excel esperado:"}),d.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Columna A:"})," Nombre del beneficiario"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna B:"})," Telfono(s) - separados por |, - o espacios (9 dgitos cada uno)"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Columna C:"})," Comuna"]})]})]}),vt[B.id]&&vt[B.id].length>0&&d.jsxs("div",{className:"border-t pt-4",children:[d.jsxs("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:["Beneficiarios Asignados (",vt[B.id].length,")"]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-gray-50",children:[d.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Beneficiario"}),d.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Telfono Principal"}),d.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Otros Telfonos"}),d.jsx("th",{className:"px-3 py-2 text-left font-medium text-gray-700",children:"Comuna"})]})}),d.jsxs("tbody",{children:[vt[B.id].slice(0,5).map(et=>d.jsxs("tr",{className:"border-b",children:[d.jsx("td",{className:"px-3 py-2 text-gray-900",children:et.beneficiary}),d.jsx("td",{className:"px-3 py-2 text-gray-900",children:et.primaryPhone}),d.jsx("td",{className:"px-3 py-2 text-gray-600",children:et.phones.length>1?et.phones.slice(1).join(", "):"-"}),d.jsx("td",{className:"px-3 py-2 text-gray-900",children:et.commune})]},et.id)),vt[B.id].length>5&&d.jsx("tr",{children:d.jsxs("td",{colSpan:"4",className:"px-3 py-2 text-center text-gray-500 text-sm",children:["... y ",vt[B.id].length-5," beneficiarios ms"]})})]})]})})]})]},B.id)},ve=()=>d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold",children:"Gestin de Asignaciones"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona teleoperadores y sus asignaciones de beneficiarios"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsxs("button",{onClick:vh,className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors flex items-center gap-2",title:"Eliminar teleoperadoras ficticias de prueba",children:[d.jsx(tl,{className:"w-4 h-4"}),"Limpiar Ficticias"]}),d.jsxs("button",{onClick:()=>ot(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",children:[d.jsx(Xg,{className:"w-4 h-4"}),"Crear Teleoperador"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Total Teleoperadores"}),d.jsx("p",{className:"text-2xl font-bold text-blue-600",children:re.length})]}),d.jsx(mn,{className:"w-8 h-8 text-blue-500"})]})}),d.jsx("div",{className:"bg-green-50 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Beneficiarios Asignados"}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:Object.values(vt).reduce((B,oe)=>B+oe.length,0)})]}),d.jsx(Lr,{className:"w-8 h-8 text-green-500"})]})}),d.jsx("div",{className:"bg-purple-50 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-gray-600",children:"Operadores con Asignaciones"}),d.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Object.keys(vt).length})]}),d.jsx(ag,{className:"w-8 h-8 text-purple-500"})]})})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Bsqueda de Beneficiarios"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Encuentra rpidamente qu teleoperadora est asignada a un beneficiario"})]}),d.jsxs("button",{onClick:()=>wt(!Xn),className:`px-4 py-2 rounded-lg transition-colors flex items-center gap-2 ${Xn?"bg-red-500 text-white hover:bg-red-600":"bg-blue-500 text-white hover:bg-blue-600"}`,children:[d.jsx(oi,{className:"w-4 h-4"}),Xn?"Cerrar Bsqueda":"Buscar Beneficiario"]})]}),Xn&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex gap-4 items-center",children:[d.jsx("div",{className:"flex-1",children:d.jsx("input",{type:"text",placeholder:"Buscar por nombre del beneficiario, teleoperadora, telfono o comuna...",value:dr,onChange:B=>{const oe=B.target.value;ao(oe)},className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})}),d.jsx("button",{onClick:()=>{un(""),ei([])},className:"px-3 py-2 text-gray-500 hover:text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:d.jsx(dc,{className:"w-4 h-4"})})]}),pr.length>0&&d.jsxs("div",{className:"border border-gray-200 rounded-lg divide-y divide-gray-200 max-h-96 overflow-y-auto",children:[d.jsxs("div",{className:"bg-gray-50 px-4 py-2 text-sm font-medium text-gray-700",children:[pr.length," resultado(s) encontrado(s)"]}),pr.map((B,oe)=>d.jsx("div",{className:"p-4 hover:bg-gray-50",children:d.jsx("div",{className:"flex justify-between items-start",children:d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[d.jsx("h5",{className:"font-semibold text-gray-900",children:B.beneficiary||B.beneficiario}),d.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full font-medium",children:"Beneficiario"}),d.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:B.source})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-sm text-gray-600",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(mn,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Teleoperadora:"})," ",B.operatorName||B.operator||"Sin asignar"]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Lr,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Telfono Principal:"})," ",B.primaryPhone||B.phone||B.telefono||B.numero_cliente||"N/A"]})]}),B.phones&&B.phones.length>1&&d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Lr,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Otros Telfonos:"})," ",B.phones.slice(1).join(", ")]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ag,{className:"w-4 h-4 text-gray-400"}),d.jsxs("span",{children:[d.jsx("strong",{children:"Comuna:"})," ",B.commune||B.comuna||"N/A"]})]})]})]})})},`${B.id||oe}-${B.source}`))]}),dr&&pr.length===0&&d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(oi,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),d.jsxs("p",{children:['No se encontraron beneficiarios que coincidan con "',dr,'"']}),d.jsx("p",{className:"text-sm mt-1",children:"Intenta con otro trmino de bsqueda"})]}),!dr&&d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(oi,{className:"w-12 h-12 mx-auto text-gray-300 mb-2"}),d.jsx("p",{children:"Escribe el nombre de un beneficiario, teleoperadora, telfono o comuna para buscar"}),d.jsx("p",{className:"text-sm mt-1",children:"La bsqueda incluye todas las asignaciones registradas"})]})]})]}),bt&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h4",{className:"text-lg font-semibold",children:"Crear Nuevo Teleoperador"}),d.jsx("button",{onClick:()=>ot(!1),className:"text-gray-500 hover:text-gray-700",children:d.jsx(dc,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo *"}),d.jsx("input",{type:"text",value:qt.name,onChange:B=>Yt({...qt,name:B.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Mara Gonzlez"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),d.jsx("input",{type:"email",value:qt.email,onChange:B=>Yt({...qt,email:B.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"maria.gonzalez@central.cl"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono"}),d.jsx("input",{type:"tel",value:qt.phone,onChange:B=>Yt({...qt,phone:B.target.value}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"987654321"})]})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsxs("button",{onClick:Lo,disabled:!qt.name.trim(),className:"flex-1 bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-600 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[d.jsx(ly,{className:"w-4 h-4"}),"Crear Teleoperador"]}),d.jsx("button",{onClick:()=>ot(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"})]})]})}),d.jsxs("div",{className:"space-y-4",children:[re.filter(B=>B&&B.id).map(B=>d.jsx(pe,{operator:B},B.id)),re.length===0&&d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[d.jsx(mn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),d.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay teleoperadores"}),d.jsx("p",{className:"text-gray-600 mb-4",children:"Crea tu primer teleoperador para comenzar a gestionar asignaciones"}),d.jsxs("button",{onClick:()=>ot(!0),className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 mx-auto",children:[d.jsx(Xg,{className:"w-4 h-4"}),"Crear Primer Teleoperador"]})]})]})]}),Oe=()=>d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Historial de Seguimientos"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"Clasifica beneficiarios por frecuencia y estado de contacto."}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-green-800 font-semibold",children:"Al da"}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:W.filter(B=>B.status==="al-dia").length})]}),d.jsx("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white text-sm",children:""})})]})}),d.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-yellow-800 font-semibold",children:"Pendientes"}),d.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:W.filter(B=>B.status==="pendiente").length})]}),d.jsx("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white text-sm",children:""})})]})}),d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-red-800 font-semibold",children:"Urgentes"}),d.jsx("p",{className:"text-2xl font-bold text-red-600",children:W.filter(B=>B.status==="urgente").length})]}),d.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-white text-sm",children:""})})]})})]}),d.jsxs("div",{className:"flex flex-wrap gap-4 mb-6",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sy,{className:"w-4 h-4 text-gray-400"}),d.jsxs("select",{value:Me,onChange:B=>Ce(B.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[d.jsx("option",{value:"all",children:"Todos los estados"}),d.jsx("option",{value:"al-dia",children:"Al da"}),d.jsx("option",{value:"pendiente",children:"Pendiente"}),d.jsx("option",{value:"urgente",children:"Urgente"})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(oi,{className:"w-4 h-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Buscar beneficiario o teleoperadora...",value:Be,onChange:B=>Ie(B.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm"})]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:K.length===0?d.jsx("div",{className:"col-span-full bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsx(ag,{className:"w-12 h-12 text-gray-400 mb-4"}),d.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay datos de seguimiento"}),d.jsx("p",{className:"text-gray-600 mb-4 max-w-md",children:S?"No se encontraron seguimientos que coincidan con los filtros aplicados.":"Para ver el historial de seguimientos, sube un archivo Excel con datos de llamadas desde el Panel Principal."}),!S&&d.jsxs("div",{className:"text-sm text-gray-500",children:[" Ve al ",d.jsx("strong",{children:"Panel Principal"}),"  ",d.jsx("strong",{children:"Cargar Excel"})," para comenzar"]})]})}):K.map(B=>d.jsxs("div",{className:`border-2 rounded-lg p-4 hover:shadow-md transition-shadow ${B.status==="al-dia"?"border-green-200 bg-green-50":B.status==="pendiente"?"border-yellow-200 bg-yellow-50":"border-red-200 bg-red-50"}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsx("h4",{className:"font-semibold text-gray-900",children:B.beneficiary}),d.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${B.status==="al-dia"?"bg-green-100 text-green-800 border border-green-300":B.status==="pendiente"?"bg-yellow-100 text-yellow-800 border border-yellow-300":"bg-red-100 text-red-800 border border-red-300"}`,children:B.status==="al-dia"?" Al da":B.status==="pendiente"?" Pendiente":" Urgente"})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(oa,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Teleoperadora:"}),d.jsx("span",{className:"ml-1",children:B.operator})]}),d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(Lr,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Telfono:"}),d.jsx("span",{className:"ml-1",children:B.phone})]}),d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(na,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"ltima llamada:"}),d.jsx("span",{className:"ml-1",children:B.lastCall})]}),d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(Os,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Llamadas:"}),d.jsxs("span",{className:"ml-1",children:[B.callCount," total (",B.successfulCallCount||0," exitosas)"]})]}),B.daysSinceLastCall!==null&&d.jsxs("div",{className:"flex items-center text-gray-700",children:[d.jsx(Ka,{className:"w-4 h-4 mr-2 text-gray-500"}),d.jsx("span",{className:"font-medium",children:"Hace:"}),d.jsxs("span",{className:"ml-1",children:[B.daysSinceLastCall," das"]})]}),B.lastCallResult&&B.lastCallResult!=="Sin resultado"&&d.jsxs("div",{className:"mt-2 p-2 bg-gray-100 rounded text-xs",children:[d.jsx("span",{className:"font-medium",children:"ltimo resultado:"}),d.jsx("span",{className:"ml-1",children:B.lastCallResult})]})]}),B.statusReason&&d.jsx("div",{className:`mt-3 p-2 rounded text-xs ${B.status==="al-dia"?"bg-green-100 text-green-700":B.status==="pendiente"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:d.jsxs("div",{className:"flex items-start",children:[B.status==="urgente"&&d.jsx(yn,{className:"w-3 h-3 mr-1 mt-0.5 flex-shrink-0"}),d.jsx("span",{children:B.statusReason})]})})]},B.id))})]})});return d.jsxs(d.Fragment,{children:[d.jsx(LTe,{toasts:l,onDismiss:c}),j===null?d.jsx("div",{className:"flex h-screen bg-gray-100 items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-12 h-12 border-4 border-teal-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Cargando aplicacin..."})]})}):d.jsxs("div",{className:"flex h-screen bg-gray-100",children:[d.jsx(Y,{}),d.jsx("div",{className:"flex-1 overflow-auto",children:d.jsxs("div",{className:"p-6",children:[d.jsx("div",{className:"mb-6",children:d.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:[j==="dashboard"&&"Panel principal",j==="calls"&&"Registro de Llamadas",j==="assignments"&&"Asignaciones",j==="beneficiaries"&&"Beneficiarios Base",j==="seguimientos"&&"Seguimientos Peridicos",j==="calendar"&&"Ver Calendario",j==="gestiones"&&"Gestiones Colaborativas",j==="history"&&"Historial de Seguimientos",j==="audit"&&"Auditora Avanzada",j==="metrics"&&"Mtricas Avanzadas",j==="config"&&"Configuracin del Sistema"]})}),G==="demo"&&d.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(yn,{className:"w-5 h-5 text-blue-500 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-blue-800 font-medium",children:"Modo Local"}),d.jsx("p",{className:"text-blue-700 text-sm mt-1",children:"La aplicacin funciona con datos locales. Para persistencia en la nube, completa la configuracin de Firebase."}),d.jsx("p",{className:"text-blue-600 text-xs mt-2",children:" Consulta FIREBASE_SETUP.md para instrucciones de configuracin"})]})]})}),G==="connecting"&&d.jsx("div",{className:"mb-6 p-4 bg-slate-50 border border-slate-200 rounded-lg",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-slate-400 border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"text-slate-700 text-sm",children:"Verificando configuracin de Firebase..."})]})}),j==="dashboard"&&d.jsx(Hc,{children:d.jsx(Ee,{})}),j==="calls"&&d.jsx(me,{}),j==="assignments"&&d.jsx(ve,{}),j==="beneficiaries"&&d.jsx(Hc,{children:d.jsx(TPe,{})}),j==="seguimientos"&&d.jsx(Hc,{children:d.jsx(pIe,{})}),j==="calendar"&&d.jsx(Hc,{children:d.jsx(GWe,{})}),j==="gestiones"&&d.jsx(Hc,{children:d.jsx(eHe,{})}),j==="history"&&d.jsx(Oe,{}),j==="audit"&&d.jsx(Hc,{children:d.jsx($Te,{})}),j==="metrics"&&d.jsx(Hc,{children:d.jsx(bY,{})}),j==="config"&&s&&d.jsx(Hc,{children:d.jsx(iHe,{})})]})})]})]})},dHe=()=>(window._fallbackMetricsLogged||(console.log(" Usando mtricas de fallback (sin conexin a Firestore)"),window._fallbackMetricsLogged=!0),{globalMetrics:{totalCalls:150,successfulCalls:120,failedCalls:30,uniqueBeneficiaries:85,uniqueOperators:4,averageDuration:180,successRate:80,lastUpdated:new Date,dayDistribution:{monday:28,tuesday:32,wednesday:25,thursday:30,friday:20,saturday:10,sunday:5},hourDistribution:{8:5,9:12,10:18,11:22,12:15,13:8,14:20,15:25,16:18,17:7}},teleoperadoraMetrics:[{operatorName:"Daniela Carmona",totalCalls:45,successfulCalls:38,failedCalls:7,successRate:84.4,averageDuration:165,uniqueBeneficiaries:28},{operatorName:"Antonella Valdebenito",totalCalls:38,successfulCalls:30,failedCalls:8,successRate:78.9,averageDuration:195,uniqueBeneficiaries:25},{operatorName:"Karol Aguayo",totalCalls:42,successfulCalls:35,failedCalls:7,successRate:83.3,averageDuration:175,uniqueBeneficiaries:30},{operatorName:"Javiera Reyes Alvarado",totalCalls:25,successfulCalls:17,failedCalls:8,successRate:68,averageDuration:190,uniqueBeneficiaries:18}],beneficiaryMetrics:{alDia:45,pendiente:25,urgente:15,total:85}}),GD=()=>{const e=dHe();return{...e,isUsingFallback:!0,status:"ready",loading:{global:!1,teleoperadoras:!1,beneficiarios:!1,noAsignados:!1},errors:{global:null,teleoperadoras:null,beneficiarios:null,noAsignados:null},getSummaryStats:()=>({totalCalls:e.globalMetrics.totalCalls,successfulCalls:e.globalMetrics.successfulCalls,failedCalls:e.globalMetrics.failedCalls,uniqueBeneficiaries:e.globalMetrics.uniqueBeneficiaries,uniqueOperators:e.globalMetrics.uniqueOperators,averageDuration:e.globalMetrics.averageDuration,successRate:e.globalMetrics.successRate,beneficiariesByStatus:{"Al da":e.beneficiaryMetrics.alDia,Pendiente:e.beneficiaryMetrics.pendiente,Urgente:e.beneficiaryMetrics.urgente}}),getTopOperators:(t=5)=>e.teleoperadoraMetrics.sort((r,n)=>n.totalCalls-r.totalCalls).slice(0,t).map((r,n)=>({rank:n+1,operatorName:r.operatorName,totalCalls:r.totalCalls,successRate:r.successRate,uniqueBeneficiaries:r.uniqueBeneficiaries})),getBeneficiariesByStatus:t=>{const r=[],n=e.beneficiaryMetrics[t==null?void 0:t.toLowerCase().replace(" ","")]||0;for(let a=0;a<Math.min(n,10);a++)r.push({id:`beneficiary-${t}-${a}`,nombreOriginal:`Beneficiario ${t} ${a+1}`,status:t,lastCall:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString(),successRate:Math.floor(Math.random()*30)+70});return r},getTeleoperadoraMetrics:t=>{const r=e.teleoperadoraMetrics.find(n=>n.operatorName.toLowerCase().includes((t==null?void 0:t.toLowerCase())||""))||e.teleoperadoraMetrics[0];return{...r,nombreOriginal:r.operatorName,totalDuration:r.averageDuration*r.totalCalls,lastUpdated:new Date().toISOString(),calls:Array.from({length:Math.min(r.totalCalls,20)},(n,a)=>({id:`call-${r.operatorName}-${a}`,fecha:new Date(Date.now()-Math.random()*7*24*60*60*1e3).toISOString(),beneficiario:`Beneficiario ${a+1}`,duracion:Math.floor(Math.random()*300)+60,exitosa:Math.random()>.2,observaciones:`Llamada simulada ${a+1}`}))}},getBeneficiariesByOperator:t=>{const r=e.teleoperadoraMetrics.find(n=>n.operatorName.toLowerCase().includes((t==null?void 0:t.toLowerCase())||""))||e.teleoperadoraMetrics[0];return Array.from({length:Math.min(r.uniqueBeneficiaries,15)},(n,a)=>({id:`beneficiary-op-${t}-${a}`,nombreOriginal:`Beneficiario ${r.operatorName} ${a+1}`,status:["Al da","Pendiente","Urgente"][Math.floor(Math.random()*3)],successRate:Math.floor(Math.random()*30)+70,lastCall:new Date(Date.now()-Math.random()*30*24*60*60*1e3).toISOString()}))}}};var sS={},gQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(gQ);var KD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(KD);var qD={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(qD);var oS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],a=r.length;if(a===0)return n;let i=0,s="",o="",l=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<a;){const c=r[i];o?c==="\\"&&i+1<a?(i++,s+=r[i]):c===o?o="":s+=c:l?c==='"'||c==="'"?o=c:c==="]"?(l=!1,n.push(s),s=""):s+=c:c==="["?(l=!0,s&&(n.push(s),s="")):c==="."?s&&(n.push(s),s=""):s+=c,i++}return s&&n.push(s),n}e.toPath=t})(oS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gQ,r=KD,n=qD,a=oS;function i(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?r.isDeepKey(l)?i(o,a.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return s(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function s(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||t.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}e.get=i})(sS);var fHe=sS.get;const Kf=cn(fHe);var vQ={exports:{}},cr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=typeof Symbol=="function"&&Symbol.for,YD=ca?Symbol.for("react.element"):60103,XD=ca?Symbol.for("react.portal"):60106,lS=ca?Symbol.for("react.fragment"):60107,cS=ca?Symbol.for("react.strict_mode"):60108,uS=ca?Symbol.for("react.profiler"):60114,dS=ca?Symbol.for("react.provider"):60109,fS=ca?Symbol.for("react.context"):60110,QD=ca?Symbol.for("react.async_mode"):60111,hS=ca?Symbol.for("react.concurrent_mode"):60111,mS=ca?Symbol.for("react.forward_ref"):60112,pS=ca?Symbol.for("react.suspense"):60113,hHe=ca?Symbol.for("react.suspense_list"):60120,gS=ca?Symbol.for("react.memo"):60115,vS=ca?Symbol.for("react.lazy"):60116,mHe=ca?Symbol.for("react.block"):60121,pHe=ca?Symbol.for("react.fundamental"):60117,gHe=ca?Symbol.for("react.responder"):60118,vHe=ca?Symbol.for("react.scope"):60119;function fs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case YD:switch(e=e.type,e){case QD:case hS:case lS:case uS:case cS:case pS:return e;default:switch(e=e&&e.$$typeof,e){case fS:case mS:case vS:case gS:case dS:return e;default:return t}}case XD:return t}}}function yQ(e){return fs(e)===hS}cr.AsyncMode=QD;cr.ConcurrentMode=hS;cr.ContextConsumer=fS;cr.ContextProvider=dS;cr.Element=YD;cr.ForwardRef=mS;cr.Fragment=lS;cr.Lazy=vS;cr.Memo=gS;cr.Portal=XD;cr.Profiler=uS;cr.StrictMode=cS;cr.Suspense=pS;cr.isAsyncMode=function(e){return yQ(e)||fs(e)===QD};cr.isConcurrentMode=yQ;cr.isContextConsumer=function(e){return fs(e)===fS};cr.isContextProvider=function(e){return fs(e)===dS};cr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===YD};cr.isForwardRef=function(e){return fs(e)===mS};cr.isFragment=function(e){return fs(e)===lS};cr.isLazy=function(e){return fs(e)===vS};cr.isMemo=function(e){return fs(e)===gS};cr.isPortal=function(e){return fs(e)===XD};cr.isProfiler=function(e){return fs(e)===uS};cr.isStrictMode=function(e){return fs(e)===cS};cr.isSuspense=function(e){return fs(e)===pS};cr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lS||e===hS||e===uS||e===cS||e===pS||e===hHe||typeof e=="object"&&e!==null&&(e.$$typeof===vS||e.$$typeof===gS||e.$$typeof===dS||e.$$typeof===fS||e.$$typeof===mS||e.$$typeof===pHe||e.$$typeof===gHe||e.$$typeof===vHe||e.$$typeof===mHe)};cr.typeOf=fs;vQ.exports=cr;var yHe=vQ.exports,ia=e=>e===0?0:e>0?1:-1,Li=e=>typeof e=="number"&&e!=+e,Yd=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,rt=e=>(typeof e=="number"||e instanceof Number)&&!Li(e),vl=e=>rt(e)||typeof e=="string",xHe=0,Vv=e=>{var t=++xHe;return"".concat(e||"").concat(t)},Ha=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!rt(t)&&typeof t!="string")return n;var i;if(Yd(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Li(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},xQ=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function fr(e,t,r){return rt(e)&&rt(t)?e+r*(t-e):t}function wQ(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Kf(n,t))===r)}var Rr=e=>e===null||typeof e>"u",Gy=e=>Rr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),wHe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function JD(e){if(typeof e!="string")return!1;var t=wHe;return t.includes(e)}var bHe=["viewBox","children"],Y$=["points","pathLength"],KT={svg:bHe,polygon:Y$,polyline:Y$},ZD=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(A.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{JD(a)&&(n[a]=i=>r[a](r,i))}),n},_He=(e,t,r)=>n=>(e(t,r,n),null),Ky=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];JD(a)&&typeof i=="function"&&(n||(n={}),n[a]=_He(i,t,r))}),n},EHe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function bQ(e){if(typeof e!="string")return!1;var t=EHe;return t.includes(e)}function Zs(e){var t=Object.entries(e).filter(r=>{var[n]=r;return bQ(n)});return Object.fromEntries(t)}var X$=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Q$=null,qT=null,_Q=e=>{if(e===Q$&&Array.isArray(qT))return qT;var t=[];return A.Children.forEach(e,r=>{Rr(r)||(yHe.isFragment(r)?t=t.concat(_Q(r.props.children)):t.push(r))}),qT=t,Q$=e,t};function ej(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>X$(a)):n=[X$(t)],_Q(e).forEach(a=>{var i=Kf(a,"type.displayName")||Kf(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var yS=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,SHe=(e,t,r,n)=>{var a;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(a=n&&(KT==null?void 0:KT[n]))!==null&&a!==void 0?a:[],s=t.startsWith("data-"),o=typeof e!="function"&&(!!n&&i.includes(t)||bQ(t)),l=!!r&&JD(t);return s||o||l},Mr=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(A.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var a={};return Object.keys(n).forEach(i=>{var s;SHe((s=n)===null||s===void 0?void 0:s[i],i,t,r)&&(a[i]=n[i])}),a},THe=["children","width","height","viewBox","className","style","title","desc"];function Hk(){return Hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hk.apply(null,arguments)}function AHe(e,t){if(e==null)return{};var r,n,a=CHe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CHe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tj=A.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:l,desc:c}=e,u=AHe(e,THe),f=i||{width:n,height:a,x:0,y:0},h=Ft("recharts-surface",s);return A.createElement("svg",Hk({},Mr(u,!0,"svg"),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),A.createElement("title",null,l),A.createElement("desc",null,c),r)}),kHe=["children","className"];function Gk(){return Gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gk.apply(null,arguments)}function NHe(e,t){if(e==null)return{};var r,n,a=PHe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PHe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ln=A.forwardRef((e,t)=>{var{children:r,className:n}=e,a=NHe(e,kHe),i=Ft("recharts-layer",n);return A.createElement("g",Gk({className:i},Mr(a,!0),{ref:t}),r)}),EQ=A.createContext(null),IHe=()=>A.useContext(EQ);function br(e){return function(){return e}}const SQ=Math.cos,Bb=Math.sin,Fo=Math.sqrt,Ub=Math.PI,xS=2*Ub,Kk=Math.PI,qk=2*Kk,Md=1e-6,OHe=qk-Md;function TQ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function DHe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return TQ;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class jHe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?TQ:DHe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Md)if(!(Math.abs(f*l-c*u)>Md)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-s,p=a-o,g=l*l+c*c,v=m*m+p*p,y=Math.sqrt(g),x=Math.sqrt(h),b=i*Math.tan((Kk-Math.acos((g+h-v)/(2*y*x)))/2),E=b/x,k=b/y;Math.abs(E-1)>Md&&this._append`L${t+E*u},${r+E*f}`,this._append`A${i},${i},0,0,${+(f*m>u*p)},${this._x1=t+k*l},${this._y1=r+k*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Md||Math.abs(this._y1-u)>Md)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%qk+qk),h>OHe?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>Md&&this._append`A${n},${n},0,${+(h>=Kk)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function rj(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new jHe(t)}function nj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AQ(e){this._context=e}AQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function wS(e){return new AQ(e)}function CQ(e){return e[0]}function kQ(e){return e[1]}function NQ(e,t){var r=br(!0),n=null,a=wS,i=null,s=rj(o);e=typeof e=="function"?e:e===void 0?CQ:br(e),t=typeof t=="function"?t:t===void 0?kQ:br(t);function o(l){var c,u=(l=nj(l)).length,f,h=!1,m;for(n==null&&(i=a(m=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(m)return i=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:br(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:br(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:br(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function g1(e,t,r){var n=null,a=br(!0),i=null,s=wS,o=null,l=rj(c);e=typeof e=="function"?e:e===void 0?CQ:br(+e),t=typeof t=="function"?t:br(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?kQ:br(+r);function c(f){var h,m,p,g=(f=nj(f)).length,v,y=!1,x,b=new Array(g),E=new Array(g);for(i==null&&(o=s(x=l())),h=0;h<=g;++h){if(!(h<g&&a(v=f[h],h,f))===y)if(y=!y)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(b[p],E[p]);o.lineEnd(),o.areaEnd()}y&&(b[h]=+e(v,h,f),E[h]=+t(v,h,f),o.point(n?+n(v,h,f):b[h],r?+r(v,h,f):E[h]))}if(x)return o=null,x+""||null}function u(){return NQ().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:br(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:br(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:br(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:br(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:br(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:br(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:br(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class PQ{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function RHe(e){return new PQ(e,!0)}function MHe(e){return new PQ(e,!1)}const aj={draw(e,t){const r=Fo(t/Ub);e.moveTo(r,0),e.arc(0,0,r,0,xS)}},FHe={draw(e,t){const r=Fo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},IQ=Fo(1/3),LHe=IQ*2,$He={draw(e,t){const r=Fo(t/LHe),n=r*IQ;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},BHe={draw(e,t){const r=Fo(t),n=-r/2;e.rect(n,n,r,r)}},UHe=.8908130915292852,OQ=Bb(Ub/10)/Bb(7*Ub/10),VHe=Bb(xS/10)*OQ,zHe=-SQ(xS/10)*OQ,WHe={draw(e,t){const r=Fo(t*UHe),n=VHe*r,a=zHe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=xS*i/5,o=SQ(s),l=Bb(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},YT=Fo(3),HHe={draw(e,t){const r=-Fo(t/(YT*3));e.moveTo(0,r*2),e.lineTo(-YT*r,-r),e.lineTo(YT*r,-r),e.closePath()}},ys=-.5,xs=Fo(3)/2,Yk=1/Fo(12),GHe=(Yk/2+1)*3,KHe={draw(e,t){const r=Fo(t/GHe),n=r/2,a=r*Yk,i=n,s=r*Yk+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(ys*n-xs*a,xs*n+ys*a),e.lineTo(ys*i-xs*s,xs*i+ys*s),e.lineTo(ys*o-xs*l,xs*o+ys*l),e.lineTo(ys*n+xs*a,ys*a-xs*n),e.lineTo(ys*i+xs*s,ys*s-xs*i),e.lineTo(ys*o+xs*l,ys*l-xs*o),e.closePath()}};function qHe(e,t){let r=null,n=rj(a);e=typeof e=="function"?e:br(e||aj),t=typeof t=="function"?t:br(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:br(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:br(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Vb(){}function zb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function DQ(e){this._context=e}DQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YHe(e){return new DQ(e)}function jQ(e){this._context=e}jQ.prototype={areaStart:Vb,areaEnd:Vb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XHe(e){return new jQ(e)}function RQ(e){this._context=e}RQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QHe(e){return new RQ(e)}function MQ(e){this._context=e}MQ.prototype={areaStart:Vb,areaEnd:Vb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JHe(e){return new MQ(e)}function J$(e){return e<0?-1:1}function Z$(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(J$(i)+J$(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function e8(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function XT(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Wb(e){this._context=e}Wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:XT(this,this._t0,e8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,XT(this,e8(this,r=Z$(this,e,t)),r);break;default:XT(this,this._t0,r=Z$(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function FQ(e){this._context=new LQ(e)}(FQ.prototype=Object.create(Wb.prototype)).point=function(e,t){Wb.prototype.point.call(this,t,e)};function LQ(e){this._context=e}LQ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function ZHe(e){return new Wb(e)}function eGe(e){return new FQ(e)}function $Q(e){this._context=e}$Q.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=t8(e),a=t8(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function t8(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function tGe(e){return new $Q(e)}function bS(e,t){this._context=e,this._t=t}bS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function rGe(e){return new bS(e,.5)}function nGe(e){return new bS(e,0)}function aGe(e){return new bS(e,1)}function em(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Xk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function iGe(e,t){return e[t]}function sGe(e){const t=[];return t.key=e,t}function oGe(){var e=br([]),t=Xk,r=em,n=iGe;function a(i){var s=Array.from(e.apply(this,arguments),sGe),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=nj(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:br(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:br(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Xk:typeof i=="function"?i:br(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??em,a):r},a}function lGe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}em(e,t)}}function cGe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}em(e,t)}}function uGe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var g=e[t[p]],v=g[n][1]||0,y=g[n-1][1]||0;m+=v-y}l+=f,c+=m*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,em(e,t)}}var dGe=["type","size","sizeType"];function Qk(){return Qk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qk.apply(null,arguments)}function r8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function n8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r8(Object(r),!0).forEach(function(n){fGe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fGe(e,t,r){return(t=hGe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hGe(e){var t=mGe(e,"string");return typeof t=="symbol"?t:t+""}function mGe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pGe(e,t){if(e==null)return{};var r,n,a=gGe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gGe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BQ={symbolCircle:aj,symbolCross:FHe,symbolDiamond:$He,symbolSquare:BHe,symbolStar:WHe,symbolTriangle:HHe,symbolWye:KHe},vGe=Math.PI/180,yGe=e=>{var t="symbol".concat(Gy(e));return BQ[t]||aj},xGe=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*vGe;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},wGe=(e,t)=>{BQ["symbol".concat(Gy(e))]=t},ij=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=pGe(e,dGe),i=n8(n8({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=yGe(s),m=qHe().type(h).size(xGe(r,n,s));return m()},{className:l,cx:c,cy:u}=i,f=Mr(i,!0);return c===+c&&u===+u&&r===+r?A.createElement("path",Qk({},f,{className:Ft("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};ij.registerSymbol=wGe;function Jk(){return Jk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jk.apply(null,arguments)}function a8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bGe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a8(Object(r),!0).forEach(function(n){sj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sj(e,t,r){return(t=_Ge(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Ge(e){var t=EGe(e,"string");return typeof t=="symbol"?t:t+""}function EGe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ws=32;class oj extends A.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=ws/2,i=ws/6,s=ws/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:ws,y2:a,className:"recharts-legend-icon"});if(l==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(ws,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return A.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(ws/8,"h").concat(ws,"v").concat(ws*3/4,"h").concat(-ws,"z"),className:"recharts-legend-icon"});if(A.isValidElement(t.legendIcon)){var c=bGe({},t);return delete c.legendIcon,A.cloneElement(t.legendIcon,c)}return A.createElement(ij,{fill:o,cx:a,cy:a,size:ws,sizeType:"diameter",type:l})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=this.props,o={x:0,y:0,width:ws,height:ws},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var h=u.formatter||a,m=Ft({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?i:u.color,g=h?h(u.value,u,f):u.value;return A.createElement("li",Jk({className:m,style:l,key:"legend-item-".concat(f)},Ky(this.props,u,f)),A.createElement(tj,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(g," legend icon")},this.renderIcon(u,s)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},g))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}sj(oj,"displayName","Legend");sj(oj,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var UQ={},VQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}e.uniqBy=t})(VQ);var lj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(lj);var zQ={},_S={},WQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(WQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WQ;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(_S);var HQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(HQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_S,r=HQ;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(zQ);var GQ={},KQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sS;function r(n){return function(a){return t.get(a,n)}}e.property=r})(KQ);var qQ={},QT={},JT={},cj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(cj);var uj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(uj);var dj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(dj);var i8;function SGe(){return i8||(i8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fj(),r=cj,n=uj,a=dj;function i(f,h,m){return typeof m!="function"?t.isMatch(f,h):s(f,h,function p(g,v,y,x,b,E){const k=m(g,v,y,x,b,E);return k!==void 0?!!k:s(g,v,p,E)},new Map)}function s(f,h,m,p){if(h===f)return!0;switch(typeof h){case"object":return o(f,h,m,p);case"function":return Object.keys(h).length>0?s(f,{...h},m,p):a.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:a.eq(f,h)}}function o(f,h,m,p){if(h==null)return!0;if(Array.isArray(h))return c(f,h,m,p);if(h instanceof Map)return l(f,h,m,p);if(h instanceof Set)return u(f,h,m,p);const g=Object.keys(h);if(f==null)return g.length===0;if(g.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let v=0;v<g.length;v++){const y=g[v];if(!n.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!m(f[y],h[y],y,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function l(f,h,m,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,v]of h.entries()){const y=f.get(g);if(m(y,v,g,f,h,p)===!1)return!1}return!0}function c(f,h,m,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let v=0;v<h.length;v++){const y=h[v];let x=!1;for(let b=0;b<f.length;b++){if(g.has(b))continue;const E=f[b];let k=!1;if(m(E,y,v,f,h,p)&&(k=!0),k){g.add(b),x=!0;break}}if(!x)return!1}return!0}function u(f,h,m,p){return h.size===0?!0:f instanceof Set?c([...f],[...h],m,p):!1}e.isMatchWith=i,e.isSetMatch=u}(JT)),JT}var s8;function fj(){return s8||(s8=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SGe();function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r}(QT)),QT}var YQ={},hj={},XQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(XQ);var mj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(mj);var pj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",g="[object DataView]",v="[object Uint8Array]",y="[object Uint8ClampedArray]",x="[object Uint16Array]",b="[object Uint32Array]",E="[object BigUint64Array]",k="[object Int8Array]",C="[object Int16Array]",S="[object Int32Array]",_="[object BigInt64Array]",T="[object Float32Array]",P="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=_,e.bigUint64ArrayTag=E,e.booleanTag=a,e.dataViewTag=g,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=T,e.float64ArrayTag=P,e.functionTag=f,e.int16ArrayTag=C,e.int32ArrayTag=S,e.int8ArrayTag=k,e.mapTag=l,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=x,e.uint32ArrayTag=b,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=y})(pj);var QQ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(QQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XQ,r=mj,n=pj,a=uj,i=QQ;function s(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,h,m=new Map,p=void 0){const g=p==null?void 0:p(u,f,h,m);if(g!==void 0)return g;if(a.isPrimitive(u))return u;if(m.has(u))return m.get(u);if(Array.isArray(u)){const v=new Array(u.length);m.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,h,m,p);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;m.set(u,v);for(const[y,x]of u)v.set(y,o(x,y,h,m,p));return v}if(u instanceof Set){const v=new Set;m.set(u,v);for(const y of u)v.add(o(y,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(i.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);m.set(u,v);for(let y=0;y<u.length;y++)v[y]=o(u[y],y,h,m,p);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return m.set(u,v),l(v,u,h,m,p),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return m.set(u,v),l(v,u,h,m,p),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return m.set(u,v),l(v,u,h,m,p),v}if(u instanceof Error){const v=new u.constructor;return m.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,l(v,u,h,m,p),v}if(typeof u=="object"&&c(u)){const v=Object.create(Object.getPrototypeOf(u));return m.set(u,v),l(v,u,h,m,p),v}return u}function l(u,f,h=u,m,p){const g=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<g.length;v++){const y=g[v],x=Object.getOwnPropertyDescriptor(u,y);(x==null||x.writable)&&(u[y]=o(f[y],y,h,m,p))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(hj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hj;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(YQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fj(),r=YQ;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(qQ);var JQ={},ZQ={},eJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hj,r=pj;function n(a,i){return t.cloneDeepWith(a,(s,o,l,c)=>{const u=i==null?void 0:i(s,o,l,c);if(u!==void 0)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(eJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eJ;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(ZQ);var tJ={},gj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(gj);var rJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mj;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(rJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KD,r=gj,n=rJ,a=oS;function i(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=a.toPath(o):l=[o],l.length===0)return!1;let c=s;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=i})(tJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fj(),r=qD,n=ZQ,a=sS,i=tJ;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const u=a.get(c,o);return u===void 0?i.has(c,o):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=s})(JQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lj,r=KQ,n=qQ,a=JQ;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(GQ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VQ,r=lj,n=zQ,a=GQ;function i(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(o)):[]}e.uniqBy=i})(UQ);var TGe=UQ.uniqBy;const o8=cn(TGe);function nJ(e,t,r){return t===!0?o8(e,r):typeof t=="function"?o8(e,t):e}var aJ={exports:{}},iJ={},sJ={exports:{}},oJ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tm=A;function AGe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CGe=typeof Object.is=="function"?Object.is:AGe,kGe=tm.useState,NGe=tm.useEffect,PGe=tm.useLayoutEffect,IGe=tm.useDebugValue;function OGe(e,t){var r=t(),n=kGe({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return PGe(function(){a.value=r,a.getSnapshot=t,ZT(a)&&i({inst:a})},[e,r,t]),NGe(function(){return ZT(a)&&i({inst:a}),e(function(){ZT(a)&&i({inst:a})})},[e]),IGe(r),r}function ZT(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!CGe(e,r)}catch{return!0}}function DGe(e,t){return t()}var jGe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DGe:OGe;oJ.useSyncExternalStore=tm.useSyncExternalStore!==void 0?tm.useSyncExternalStore:jGe;sJ.exports=oJ;var RGe=sJ.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ES=A,MGe=RGe;function FGe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LGe=typeof Object.is=="function"?Object.is:FGe,$Ge=MGe.useSyncExternalStore,BGe=ES.useRef,UGe=ES.useEffect,VGe=ES.useMemo,zGe=ES.useDebugValue;iJ.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=BGe(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=VGe(function(){function l(m){if(!c){if(c=!0,u=m,m=n(m),a!==void 0&&s.hasValue){var p=s.value;if(a(p,m))return f=p}return f=m}if(p=f,LGe(u,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(u=m,p):(u=m,f=g)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=$Ge(e,i[0],i[1]);return UGe(function(){s.hasValue=!0,s.value=o},[o]),zGe(o),o};aJ.exports=iJ;var WGe=aJ.exports,vj=A.createContext(null),HGe=e=>e,Jr=()=>{var e=A.useContext(vj);return e?e.store.dispatch:HGe},uw=()=>{},GGe=()=>uw,KGe=(e,t)=>e===t;function tt(e){var t=A.useContext(vj);return WGe.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:GGe,t?t.store.getState:uw,t?t.store.getState:uw,t?e:uw,KGe)}function qGe(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function YGe(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function XGe(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var l8=e=>Array.isArray(e)?e:[e];function QGe(e){const t=Array.isArray(e[0])?e[0]:e;return XGe(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function JGe(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var ZGe=class{constructor(e){this.value=e}deref(){return this.value}},eKe=typeof WeakRef<"u"?WeakRef:ZGe,tKe=0,c8=1;function v1(){return{s:tKe,v:void 0,o:null,p:null}}function lJ(e,t={}){let r=v1();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var f;let o=r;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=o.o;g===null&&(o.o=g=new WeakMap);const v=g.get(p);v===void 0?(o=v1(),g.set(p,o)):o=v}else{let g=o.p;g===null&&(o.p=g=new Map);const v=g.get(p);v===void 0?(o=v1(),g.set(p,o)):o=v}}const c=o;let u;if(o.s===c8)u=o.v;else if(u=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,u)&&(u=h,i!==0&&i--),a=typeof u=="object"&&u!==null||typeof u=="function"?new eKe(u):u}return c.s=c8,c.v=u,u}return s.clearCache=()=>{r=v1(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function rKe(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,o,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),qGe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=lJ,argsMemoizeOptions:p=[]}=u,g=l8(h),v=l8(p),y=QGe(a),x=f(function(){return i++,c.apply(null,arguments)},...g),b=m(function(){s++;const k=JGe(y,arguments);return o=x.apply(null,k),o},...v);return Object.assign(b,{resultFunc:c,memoizedResultFunc:x,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var ge=rKe(lJ),nKe=Object.assign((e,t=ge)=>{YGe(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,o,l)=>(s[r[l]]=o,s),{}))},{withTypes:()=>nKe}),cJ={},uJ={},dJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),o=t(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(dJ);var fJ={},yj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(yj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yj,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(fJ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dJ,r=fJ,n=oS;function a(i,s,o,l){if(i==null)return[];o=l?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const c=(m,p)=>{let g=m;for(let v=0;v<p.length&&g!=null;++v)g=g[p[v]];return g},u=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:c(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?c(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>u(p,m))})).slice().sort((m,p)=>{for(let g=0;g<f.length;g++){const v=t.compareValues(m.criteria[g],p.criteria[g],o[g]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=a})(uJ);var hJ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<i?s(u,l+1):a.push(u)}};return s(r,0),a}e.flatten=t})(hJ);var xj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gj,r=_S,n=cj,a=dj;function i(s,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?a.eq(l[o],s):!1}e.isIterateeCall=i})(xj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uJ,r=hJ,n=xj;function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(cJ);var aKe=cJ.sortBy;const SS=cn(aKe);var mJ=e=>e.legend.settings,iKe=e=>e.legend.size,sKe=e=>e.legend.payload,oKe=ge([sKe,mJ],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?SS(n,r):n});function lKe(){return tt(oKe)}var y1=1;function pJ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=A.useState({height:0,left:0,top:0,width:0}),n=A.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>y1||Math.abs(s.left-t.left)>y1||Math.abs(s.top-t.top)>y1||Math.abs(s.width-t.width)>y1)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function pa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var cKe=typeof Symbol=="function"&&Symbol.observable||"@@observable",u8=cKe,eA=()=>Math.random().toString(36).substring(7).split("").join("."),uKe={INIT:`@@redux/INIT${eA()}`,REPLACE:`@@redux/REPLACE${eA()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${eA()}`},Hb=uKe;function wj(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function gJ(e,t,r){if(typeof e!="function")throw new Error(pa(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(pa(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(pa(1));return r(gJ)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,l=!1;function c(){s===i&&(s=new Map,i.forEach((v,y)=>{s.set(y,v)}))}function u(){if(l)throw new Error(pa(3));return a}function f(v){if(typeof v!="function")throw new Error(pa(4));if(l)throw new Error(pa(5));let y=!0;c();const x=o++;return s.set(x,v),function(){if(y){if(l)throw new Error(pa(6));y=!1,c(),s.delete(x),i=null}}}function h(v){if(!wj(v))throw new Error(pa(7));if(typeof v.type>"u")throw new Error(pa(8));if(typeof v.type!="string")throw new Error(pa(17));if(l)throw new Error(pa(9));try{l=!0,a=n(a,v)}finally{l=!1}return(i=s).forEach(x=>{x()}),v}function m(v){if(typeof v!="function")throw new Error(pa(10));n=v,h({type:Hb.REPLACE})}function p(){const v=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(pa(11));function x(){const E=y;E.next&&E.next(u())}return x(),{unsubscribe:v(x)}},[u8](){return this}}}return h({type:Hb.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:m,[u8]:p}}function dKe(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Hb.INIT})>"u")throw new Error(pa(12));if(typeof r(void 0,{type:Hb.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pa(13))})}function vJ(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{dKe(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let l=!1;const c={};for(let u=0;u<n.length;u++){const f=n[u],h=r[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(pa(14));c[f]=p,l=l||p!==m}return l=l||n.length!==Object.keys(s).length,l?c:s}}function Gb(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function fKe(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(pa(15))};const s={getState:a.getState,dispatch:(l,...c)=>i(l,...c)},o=e.map(l=>l(s));return i=Gb(...o)(a.dispatch),{...a,dispatch:i}}}function yJ(e){return wj(e)&&"type"in e&&typeof e.type=="string"}var xJ=Symbol.for("immer-nothing"),d8=Symbol.for("immer-draftable"),ls=Symbol.for("immer-state");function po(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var rm=Object.getPrototypeOf;function qf(e){return!!e&&!!e[ls]}function bc(e){var t;return e?wJ(e)||Array.isArray(e)||!!e[d8]||!!((t=e.constructor)!=null&&t[d8])||qy(e)||AS(e):!1}var hKe=Object.prototype.constructor.toString();function wJ(e){if(!e||typeof e!="object")return!1;const t=rm(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===hKe}function Kb(e,t){TS(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function TS(e){const t=e[ls];return t?t.type_:Array.isArray(e)?1:qy(e)?2:AS(e)?3:0}function Zk(e,t){return TS(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bJ(e,t,r){const n=TS(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function mKe(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function qy(e){return e instanceof Map}function AS(e){return e instanceof Set}function Fd(e){return e.copy_||e.base_}function eN(e,t){if(qy(e))return new Map(e);if(AS(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=wJ(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ls];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(rm(e),n)}else{const n=rm(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function bj(e,t=!1){return CS(e)||qf(e)||!bc(e)||(TS(e)>1&&Object.defineProperties(e,{set:{value:x1},add:{value:x1},clear:{value:x1},delete:{value:x1}}),Object.freeze(e),t&&Object.values(e).forEach(r=>bj(r,!0))),e}function x1(){po(2)}function CS(e){return Object.isFrozen(e)}var pKe={};function Yf(e){const t=pKe[e];return t||po(0,e),t}var zv;function _J(){return zv}function gKe(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function f8(e,t){t&&(Yf("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function tN(e){rN(e),e.drafts_.forEach(vKe),e.drafts_=null}function rN(e){e===zv&&(zv=e.parent_)}function h8(e){return zv=gKe(zv,e)}function vKe(e){const t=e[ls];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function m8(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ls].modified_&&(tN(t),po(4)),bc(e)&&(e=qb(t,e),t.parent_||Yb(t,e)),t.patches_&&Yf("Patches").generateReplacementPatches_(r[ls].base_,e,t.patches_,t.inversePatches_)):e=qb(t,r,[]),tN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xJ?e:void 0}function qb(e,t,r){if(CS(t))return t;const n=t[ls];if(!n)return Kb(t,(a,i)=>p8(e,n,t,a,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Yb(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const a=n.copy_;let i=a,s=!1;n.type_===3&&(i=new Set(a),a.clear(),s=!0),Kb(i,(o,l)=>p8(e,n,a,o,l,r,s)),Yb(e,a,!1),r&&e.patches_&&Yf("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function p8(e,t,r,n,a,i,s){if(qf(a)){const o=i&&t&&t.type_!==3&&!Zk(t.assigned_,n)?i.concat(n):void 0,l=qb(e,a,o);if(bJ(r,n,l),qf(l))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(bc(a)&&!CS(a)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;qb(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(qy(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Yb(e,a)}}function Yb(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&bj(t,r)}function yKe(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:_J(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=_j;r&&(a=[n],i=Wv);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var _j={get(e,t){if(t===ls)return e;const r=Fd(e);if(!Zk(r,t))return xKe(e,r,t);const n=r[t];return e.finalized_||!bc(n)?n:n===tA(e.base_,t)?(rA(e),e.copy_[t]=aN(n,e)):n},has(e,t){return t in Fd(e)},ownKeys(e){return Reflect.ownKeys(Fd(e))},set(e,t,r){const n=EJ(Fd(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=tA(Fd(e),t),i=a==null?void 0:a[ls];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(mKe(r,a)&&(r!==void 0||Zk(e.base_,t)))return!0;rA(e),nN(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return tA(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,rA(e),nN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Fd(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){po(11)},getPrototypeOf(e){return rm(e.base_)},setPrototypeOf(){po(12)}},Wv={};Kb(_j,(e,t)=>{Wv[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Wv.deleteProperty=function(e,t){return Wv.set.call(this,e,t,void 0)};Wv.set=function(e,t,r){return _j.set.call(this,e[0],t,r,e[0])};function tA(e,t){const r=e[ls];return(r?Fd(r):e)[t]}function xKe(e,t,r){var a;const n=EJ(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function EJ(e,t){if(!(t in e))return;let r=rm(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=rm(r)}}function nN(e){e.modified_||(e.modified_=!0,e.parent_&&nN(e.parent_))}function rA(e){e.copy_||(e.copy_=eN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var wKe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(l=i,...c){return s.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&po(6),n!==void 0&&typeof n!="function"&&po(7);let a;if(bc(t)){const i=h8(this),s=aN(t,void 0);let o=!0;try{a=r(s),o=!1}finally{o?tN(i):rN(i)}return f8(i,n),m8(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===xJ&&(a=void 0),this.autoFreeze_&&bj(a,!0),n){const i=[],s=[];Yf("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else po(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let n,a;return[this.produce(t,r,(s,o)=>{n=s,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){bc(e)||po(8),qf(e)&&(e=ac(e));const t=h8(this),r=aN(e,void 0);return r[ls].isManual_=!0,rN(t),r}finishDraft(e,t){const r=e&&e[ls];(!r||!r.isManual_)&&po(9);const{scope_:n}=r;return f8(n,t),m8(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Yf("Patches").applyPatches_;return qf(e)?n(e,t):this.produce(e,a=>n(a,t))}};function aN(e,t){const r=qy(e)?Yf("MapSet").proxyMap_(e,t):AS(e)?Yf("MapSet").proxySet_(e,t):yKe(e,t);return(t?t.scope_:_J()).drafts_.push(r),r}function ac(e){return qf(e)||po(10,e),SJ(e)}function SJ(e){if(!bc(e)||CS(e))return e;const t=e[ls];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=eN(e,t.scope_.immer_.useStrictShallowCopy_)}else r=eN(e,!0);return Kb(r,(n,a)=>{bJ(r,n,SJ(a))}),t&&(t.finalized_=!1),r}var bKe=new wKe,TJ=bKe.produce;function AJ(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var _Ke=AJ(),EKe=AJ,SKe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gb:Gb.apply(null,arguments)};function Gs(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(ns(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>yJ(n)&&n.type===e,r}var CJ=class Kp extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Kp.prototype)}static get[Symbol.species](){return Kp}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Kp(...t[0].concat(this)):new Kp(...t.concat(this))}};function g8(e){return bc(e)?TJ(e,()=>{}):e}function w1(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function TKe(e){return typeof e=="boolean"}var AKe=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new CJ;return r&&(TKe(r)?s.push(_Ke):s.push(EKe(r.extraArgument))),s},CKe="RTK_autoBatch",v8=e=>t=>{setTimeout(t,e)},kKe=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:v8(10):e.type==="callback"?e.queueNotification:v8(e.timeout),c=()=>{s=!1,i&&(i=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>a&&u(),h=n.subscribe(f);return o.add(u),()=>{h(),o.delete(u)}},dispatch(u){var f;try{return a=!((f=u==null?void 0:u.meta)!=null&&f[CKe]),i=!a,i&&(s||(s=!0,l(c))),n.dispatch(u)}finally{a=!0}}})},NKe=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new CJ(e);return n&&a.push(kKe(typeof n=="object"?n:void 0)),a};function PKe(e){const t=AKe(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:s=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(wj(r))o=vJ(r);else throw new Error(ns(1));let l;typeof n=="function"?l=n(t):l=t();let c=Gb;a&&(c=SKe({trace:!1,...typeof a=="object"&&a}));const u=fKe(...l),f=NKe(u);let h=typeof s=="function"?s(f):f();const m=c(...h);return gJ(o,i,m)}function kJ(e){const t={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(ns(28));if(o in t)throw new Error(ns(29));return t[o]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function IKe(e){return typeof e=="function"}function OKe(e,t){let[r,n,a]=kJ(t),i;if(IKe(e))i=()=>g8(e());else{const o=g8(e);i=()=>o}function s(o=i(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[a]),c.reduce((u,f)=>{if(f)if(qf(u)){const m=f(u,l);return m===void 0?u:m}else{if(bc(u))return TJ(u,h=>f(h,l));{const h=f(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},o)}return s.getInitialState=i,s}var DKe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",jKe=(e=21)=>{let t="",r=e;for(;r--;)t+=DKe[Math.random()*64|0];return t},RKe=Symbol.for("rtk-slice-createasyncthunk");function MKe(e,t){return`${e}/${t}`}function FKe({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[RKe];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(ns(11));const o=(typeof a.reducers=="function"?a.reducers($Ke()):a.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(E,k){const C=typeof E=="string"?E:E.type;if(!C)throw new Error(ns(12));if(C in c.sliceCaseReducersByType)throw new Error(ns(13));return c.sliceCaseReducersByType[C]=k,u},addMatcher(E,k){return c.sliceMatchers.push({matcher:E,reducer:k}),u},exposeAction(E,k){return c.actionCreators[E]=k,u},exposeCaseReducer(E,k){return c.sliceCaseReducersByName[E]=k,u}};l.forEach(E=>{const k=o[E],C={reducerName:E,type:MKe(i,E),createNotation:typeof a.reducers=="function"};UKe(k)?zKe(C,k,u,t):BKe(C,k,u)});function f(){const[E={},k=[],C=void 0]=typeof a.extraReducers=="function"?kJ(a.extraReducers):[a.extraReducers],S={...E,...c.sliceCaseReducersByType};return OKe(a.initialState,_=>{for(let T in S)_.addCase(T,S[T]);for(let T of c.sliceMatchers)_.addMatcher(T.matcher,T.reducer);for(let T of k)_.addMatcher(T.matcher,T.reducer);C&&_.addDefaultCase(C)})}const h=E=>E,m=new Map,p=new WeakMap;let g;function v(E,k){return g||(g=f()),g(E,k)}function y(){return g||(g=f()),g.getInitialState()}function x(E,k=!1){function C(_){let T=_[E];return typeof T>"u"&&k&&(T=w1(p,C,y)),T}function S(_=h){const T=w1(m,k,()=>new WeakMap);return w1(T,_,()=>{const P={};for(const[N,O]of Object.entries(a.selectors??{}))P[N]=LKe(O,_,()=>w1(p,_,y),k);return P})}return{reducerPath:E,getSelectors:S,get selectors(){return S(C)},selectSlice:C}}const b={name:i,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:y,...x(s),injectInto(E,{reducerPath:k,...C}={}){const S=k??s;return E.inject({reducerPath:S,reducer:v},C),{...b,...x(S,!0)}}};return b}}function LKe(e,t,r,n){function a(i,...s){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return a.unwrapped=e,a}var hs=FKe();function $Ke(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function BKe({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!VKe(n))throw new Error(ns(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Gs(e,s):Gs(e))}function UKe(e){return e._reducerDefinitionType==="asyncThunk"}function VKe(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zKe({type:e,reducerName:t},r,n,a){if(!a)throw new Error(ns(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:l,settled:c,options:u}=r,f=a(e,i,u);n.exposeAction(t,f),s&&n.addCase(f.fulfilled,s),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:s||b1,pending:o||b1,rejected:l||b1,settled:c||b1})}function b1(){}var WKe="task",NJ="listener",PJ="completed",Ej="cancelled",HKe=`task-${Ej}`,GKe=`task-${PJ}`,iN=`${NJ}-${Ej}`,KKe=`${NJ}-${PJ}`,kS=class{constructor(e){c2(this,"name","TaskAbortError");c2(this,"message");this.code=e,this.message=`${WKe} ${Ej} (reason: ${e})`}},Sj=(e,t)=>{if(typeof e!="function")throw new TypeError(ns(32))},Xb=()=>{},IJ=(e,t=Xb)=>(e.catch(t),e),OJ=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),uf=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},df=e=>{if(e.aborted){const{reason:t}=e;throw new kS(t)}};function DJ(e,t){let r=Xb;return new Promise((n,a)=>{const i=()=>a(new kS(e.reason));if(e.aborted){i();return}r=OJ(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Xb})}var qKe=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof kS?"cancelled":"rejected",error:r}}finally{t==null||t()}},Qb=e=>t=>IJ(DJ(e,t).then(r=>(df(e),r))),jJ=e=>{const t=Qb(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:C0}=Object,y8={},NS="listenerMiddleware",YKe=(e,t)=>{const r=n=>OJ(e,()=>uf(n,e.reason));return(n,a)=>{Sj(n);const i=new AbortController;r(i);const s=qKe(async()=>{df(e),df(i.signal);const o=await n({pause:Qb(i.signal),delay:jJ(i.signal),signal:i.signal});return df(i.signal),o},()=>uf(i,GKe));return a!=null&&a.autoJoin&&t.push(s.catch(Xb)),{result:Qb(e)(s),cancel(){uf(i,HKe)}}}},XKe=(e,t)=>{const r=async(n,a)=>{df(t);let i=()=>{};const o=[new Promise((l,c)=>{let u=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});i=()=>{u(),c()}})];a!=null&&o.push(new Promise(l=>setTimeout(l,a,null)));try{const l=await DJ(t,Promise.race(o));return df(t),l}finally{i()}};return(n,a)=>IJ(r(n,a))},RJ=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Gs(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(ns(21));return Sj(i),{predicate:a,type:t,effect:i}},MJ=C0(e=>{const{type:t,predicate:r,effect:n}=RJ(e);return{id:jKe(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ns(22))}}},{withTypes:()=>MJ}),x8=(e,t)=>{const{type:r,effect:n,predicate:a}=RJ(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},sN=e=>{e.pending.forEach(t=>{uf(t,iN)})},QKe=e=>()=>{e.forEach(sN),e.clear()},w8=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},FJ=C0(Gs(`${NS}/add`),{withTypes:()=>FJ}),JKe=Gs(`${NS}/removeAll`),LJ=C0(Gs(`${NS}/remove`),{withTypes:()=>LJ}),ZKe=(...e)=>{console.error(`${NS}/error`,...e)},Yy=(e={})=>{const t=new Map,{extra:r,onError:n=ZKe}=e;Sj(n);const a=u=>(u.unsubscribe=()=>t.delete(u.id),t.set(u.id,u),f=>{u.unsubscribe(),f!=null&&f.cancelActive&&sN(u)}),i=u=>{const f=x8(t,u)??MJ(u);return a(f)};C0(i,{withTypes:()=>i});const s=u=>{const f=x8(t,u);return f&&(f.unsubscribe(),u.cancelActive&&sN(f)),!!f};C0(s,{withTypes:()=>s});const o=async(u,f,h,m)=>{const p=new AbortController,g=XKe(i,p.signal),v=[];try{u.pending.add(p),await Promise.resolve(u.effect(f,C0({},h,{getOriginalState:m,condition:(y,x)=>g(y,x).then(Boolean),take:g,delay:jJ(p.signal),pause:Qb(p.signal),extra:r,signal:p.signal,fork:YKe(p.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{t.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((y,x,b)=>{y!==p&&(uf(y,iN),b.delete(y))})},cancel:()=>{uf(p,iN),u.pending.delete(p)},throwIfCancelled:()=>{df(p.signal)}})))}catch(y){y instanceof kS||w8(n,y,{raisedBy:"effect"})}finally{await Promise.all(v),uf(p,KKe),u.pending.delete(p)}},l=QKe(t);return{middleware:u=>f=>h=>{if(!yJ(h))return f(h);if(FJ.match(h))return i(h.payload);if(JKe.match(h)){l();return}if(LJ.match(h))return s(h.payload);let m=u.getState();const p=()=>{if(m===y8)throw new Error(ns(23));return m};let g;try{if(g=f(h),t.size>0){const v=u.getState(),y=Array.from(t.values());for(const x of y){let b=!1;try{b=x.predicate(h,v,m)}catch(E){b=!1,w8(n,E,{raisedBy:"predicate"})}b&&o(x,h,u,p)}}}finally{m=y8}return g},startListening:i,stopListening:s,clearListeners:l}};function ns(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eqe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$J=hs({name:"chartLayout",initialState:eqe,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:tqe,setLayout:rqe,setChartSize:nqe,setScale:aqe}=$J.actions,iqe=$J.reducer;function b8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b8(Object(r),!0).forEach(function(n){sqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sqe(e,t,r){return(t=oqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oqe(e){var t=lqe(e,"string");return typeof t=="symbol"?t:t+""}function lqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jb=Math.PI/180,cqe=e=>e*180/Math.PI,In=(e,t,r,n)=>({x:e+Math.cos(-Jb*n)*r,y:t+Math.sin(-Jb*n)*r}),BJ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},uqe=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},dqe=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=uqe({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,l=Math.acos(o);return n>i&&(l=2*Math.PI-l),{radius:s,angle:cqe(l),angleInRadian:l}},fqe=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},hqe=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},mqe=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=dqe({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o||a===0)return null;var{startAngle:l,endAngle:c}=fqe(t),u=i,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?_8(_8({},t),{},{radius:a,angle:hqe(u,t)}):null};function UJ(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function E8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Is(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E8(Object(r),!0).forEach(function(n){pqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pqe(e,t,r){return(t=gqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gqe(e){var t=vqe(e,"string");return typeof t=="symbol"?t:t+""}function vqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mr(e,t,r){return Rr(e)||Rr(t)?r:vl(t)?Kf(e,t,r):typeof t=="function"?t(e):r}var yqe=(e,t,r,n,a)=>{var i,s=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(ia(u-c)!==ia(f-u)){var m=[];if(ia(f-u)===ia(a[1]-a[0])){h=f;var p=u+a[1]-a[0];m[0]=Math.min(p,(p+c)/2),m[1]=Math.max(p,(p+c)/2)}else{h=c;var g=f+a[1]-a[0];m[0]=Math.min(u,(g+u)/2),m[1]=Math.max(u,(g+u)/2)}var v=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>v[0]&&e<=v[1]||e>=m[0]&&e<=m[1]){({index:s}=r[l]);break}}else{var y=Math.min(c,f),x=Math.max(c,f);if(e>(y+u)/2&&e<=(x+u)/2){({index:s}=r[l]);break}}}else if(t){for(var b=0;b<o;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===o-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:s}=t[b]);break}}return s},xqe=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&rt(e[i]))return Is(Is({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&rt(e[s]))return Is(Is({},e),{},{[s]:e[s]+(a||0)})}return e},Al=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",VJ=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,s=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||s.push(t),i||s.push(r),s},zJ=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,g=a==="category"&&s.bandwidth?s.bandwidth()/p:0;if(g=m==="angleAxis"&&i&&i.length>=2?ia(i[0]-i[1])*2*g:g,f||h){var v=(f||h||[]).map((y,x)=>{var b=n?n.indexOf(y):y;return{coordinate:s(b)+g,value:y,offset:g,index:x}});return v.filter(y=>!Li(y.coordinate))}return l&&c?c.map((y,x)=>({coordinate:s(y)+g,value:y,index:x,offset:g})):s.ticks&&u!=null?s.ticks(u).map((y,x)=>({coordinate:s(y)+g,value:y,offset:g,index:x})):s.domain().map((y,x)=>({coordinate:s(y)+g,value:n?n[y]:y,index:x,offset:g}))},S8=1e-4,wqe=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-S8,i=Math.max(n[0],n[1])+S8,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},bqe=(e,t)=>{if(!t||t.length!==2||!rt(t[0])||!rt(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!rt(e[0])||e[0]<r)&&(a[0]=r),(!rt(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},_qe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=Li(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},Eqe=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=Li(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},Sqe={sign:_qe,expand:lGe,none:em,silhouette:cGe,wiggle:uGe,positive:Eqe},Tqe=(e,t,r)=>{var n=Sqe[r],a=oGe().keys(t).value((i,s)=>+mr(i,s,0)).order(Xk).offset(n);return a(e)};function WJ(e){return e==null?void 0:String(e)}function Zb(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Rr(a[t.dataKey])){var o=wQ(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=mr(a,Rr(s)?t.dataKey:s);return Rr(l)?null:t.scale(l)}var T8=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=mr(i,t.dataKey,t.scale.domain()[s]);return Rr(o)?null:t.scale(o)-a/2+n},Aqe=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},Cqe=e=>{var t=e.flat(2).filter(rt);return[Math.min(...t),Math.max(...t)]},kqe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],Nqe=(e,t,r)=>{if(e!=null)return kqe(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((l,c)=>{var u=UJ(c,t,r),f=Cqe(u);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},A8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,C8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=SS(t,u=>u.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var l=a[s],c=a[s-1];i=Math.min((l.coordinate||0)-(c.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function k8(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Is(Is({},t),{},{dataKey:r,payload:n,value:a,name:i})}function vd(e,t){if(e)return String(e);if(typeof t=="string")return t}function Pqe(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?mqe({x:e,y:t},n):null}var Iqe=(e,t,r,n)=>{var a=t.find(c=>c&&c.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:s}=n;return Is(Is(Is({},n),In(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:l}=n;return Is(Is(Is({},n),In(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},Oqe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ic=e=>e.layout.width,Oc=e=>e.layout.height,Dqe=e=>e.layout.scale,HJ=e=>e.layout.margin,PS=ge(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),IS=ge(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),GJ="data-recharts-item-index",KJ="data-recharts-item-data-key",Xy=60;function N8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(r),!0).forEach(function(n){jqe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jqe(e,t,r){return(t=Rqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rqe(e){var t=Mqe(e,"string");return typeof t=="symbol"?t:t+""}function Mqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fqe=e=>e.brush.height;function Lqe(e){var t=IS(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Xy;return r+a}return r},0)}function $qe(e){var t=IS(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Xy;return r+a}return r},0)}function Bqe(e){var t=PS(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function Uqe(e){var t=PS(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Hn=ge([Ic,Oc,HJ,Fqe,Lqe,$qe,Bqe,Uqe,mJ,iKe],(e,t,r,n,a,i,s,o,l,c)=>{var u={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+s,bottom:(r.bottom||0)+o},h=_1(_1({},f),u),m=h.bottom;h.bottom+=n,h=xqe(h,l,c);var p=e-h.left-h.right,g=t-h.top-h.bottom;return _1(_1({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(g,0)})}),Vqe=ge(Hn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Tj=ge(Ic,Oc,(e,t)=>({x:0,y:0,width:e,height:t})),zqe=A.createContext(null),Za=()=>A.useContext(zqe)!=null,OS=e=>e.brush,DS=ge([OS,Hn,HJ],(e,t,r)=>({height:e.height,x:rt(e.x)?e.x:t.left,y:rt(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:rt(e.width)?e.width:t.width})),Aj=()=>{var e,t=Za(),r=tt(Vqe),n=tt(DS),a=(e=tt(OS))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Wqe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},qJ=()=>{var e;return(e=tt(Hn))!==null&&e!==void 0?e:Wqe},Cj=()=>tt(Ic),kj=()=>tt(Oc),Hqe=()=>tt(e=>e.layout.margin),Dt=e=>e.layout.layoutType,Qy=()=>tt(Dt),Gqe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YJ=hs({name:"legend",initialState:Gqe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=ac(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:P8,setLegendSettings:Kqe,addLegendPayload:XJ,removeLegendPayload:QJ}=YJ.actions,qqe=YJ.reducer,Yqe=["contextPayload"];function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oN.apply(null,arguments)}function I8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I8(Object(r),!0).forEach(function(n){Nj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nj(e,t,r){return(t=Xqe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xqe(e){var t=Qqe(e,"string");return typeof t=="symbol"?t:t+""}function Qqe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jqe(e,t){if(e==null)return{};var r,n,a=Zqe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zqe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eYe(e){return e.value}function tYe(e){var{contextPayload:t}=e,r=Jqe(e,Yqe),n=nJ(t,e.payloadUniqBy,eYe),a=nm(nm({},r),{},{payload:n});return A.isValidElement(e.content)?A.cloneElement(e.content,a):typeof e.content=="function"?A.createElement(e.content,a):A.createElement(oj,a)}function rYe(e,t,r,n,a,i){var{layout:s,align:o,verticalAlign:l}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?c={left:((n||0)-i.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((a||0)-i.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),nm(nm({},c),u)}function nYe(e){var t=Jr();return A.useEffect(()=>{t(Kqe(e))},[t,e]),null}function aYe(e){var t=Jr();return A.useEffect(()=>(t(P8(e)),()=>{t(P8({width:0,height:0}))}),[t,e]),null}function iYe(e){var t=lKe(),r=IHe(),n=Hqe(),{width:a,height:i,wrapperStyle:s,portal:o}=e,[l,c]=pJ([t]),u=Cj(),f=kj();if(u==null||f==null)return null;var h=u-(n.left||0)-(n.right||0),m=jS.getWidthOrHeight(e.layout,i,a,h),p=o?s:nm(nm({position:"absolute",width:(m==null?void 0:m.width)||a||"auto",height:(m==null?void 0:m.height)||i||"auto"},rYe(s,e,n,u,f,l)),s),g=o??r;if(g==null)return null;var v=A.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:c},A.createElement(nYe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),A.createElement(aYe,{width:l.width,height:l.height}),A.createElement(tYe,oN({},e,m,{margin:n,chartWidth:u,chartHeight:f,contextPayload:t})));return z_.createPortal(v,g)}class jS extends A.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&rt(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return A.createElement(iYe,this.props)}}Nj(jS,"displayName","Legend");Nj(jS,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lN.apply(null,arguments)}function O8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O8(Object(r),!0).forEach(function(n){sYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sYe(e,t,r){return(t=oYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oYe(e){var t=lYe(e,"string");return typeof t=="symbol"?t:t+""}function lYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cYe(e){return Array.isArray(e)&&vl(e[0])&&vl(e[1])?e.join(" ~ "):e}var uYe=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var k={padding:0,margin:0},C=(o?SS(i,o):i).map((S,_)=>{if(S.type==="none")return null;var T=S.formatter||s||cYe,{value:P,name:N}=S,O=P,D=N;if(T){var X=T(P,N,S,_,i);if(Array.isArray(X))[O,D]=X;else if(X!=null)O=X;else return null}var te=nA({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:te},vl(D)?A.createElement("span",{className:"recharts-tooltip-item-name"},D):null,vl(D)?A.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,A.createElement("span",{className:"recharts-tooltip-item-value"},O),A.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:k},C)}return null},p=nA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),g=nA({margin:0},a),v=!Rr(u),y=v?u:"",x=Ft("recharts-default-tooltip",l),b=Ft("recharts-tooltip-label",c);v&&f&&i!==void 0&&i!==null&&(y=f(u,i));var E=h?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",lN({className:x,style:p},E),A.createElement("p",{className:b,style:g},A.isValidElement(y)?y:"".concat(y)),m())},Tp="recharts-tooltip-wrapper",dYe={visibility:"hidden"};function fYe(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ft(Tp,{["".concat(Tp,"-right")]:rt(r)&&t&&rt(t.x)&&r>=t.x,["".concat(Tp,"-left")]:rt(r)&&t&&rt(t.x)&&r<t.x,["".concat(Tp,"-bottom")]:rt(n)&&t&&rt(t.y)&&n>=t.y,["".concat(Tp,"-top")]:rt(n)&&t&&rt(t.y)&&n<t.y})}function D8(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(i&&rt(i[n]))return i[n];var u=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return s[n]?u:f;var h=l[n];if(h==null)return 0;if(s[n]){var m=u,p=h;return m<p?Math.max(f,h):Math.max(u,h)}if(c==null)return 0;var g=f+o,v=h+c;return g>v?Math.max(u,h):Math.max(f,h)}function hYe(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function mYe(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,c,u,f;return s.height>0&&s.width>0&&r?(u=D8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=D8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=hYe({translateX:u,translateY:f,useTranslate3d:o})):c=dYe,{cssProperties:c,cssClasses:fYe({translateX:u,translateY:f,coordinate:r})}}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){cN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cN(e,t,r){return(t=pYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pYe(e){var t=gYe(e,"string");return typeof t=="symbol"?t:t+""}function gYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class vYe extends A.PureComponent{constructor(){super(...arguments),cN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cN(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:g,innerRef:v,hasPortalFromProps:y}=this.props,{cssClasses:x,cssProperties:b}=mYe({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:g.height,width:g.width},useTranslate3d:h,viewBox:m}),E=y?{}:E1(E1({transition:l&&t?"transform ".concat(n,"ms ").concat(a):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=E1(E1({},E),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return A.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:k,ref:v},i)}}var yYe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Dc={devToolsEnabled:!1,isSsr:yYe()},JJ=()=>tt(e=>e.rootProps.accessibilityLayer);function Ta(e){return Number.isFinite(e)}function am(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function uN(){return uN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uN.apply(null,arguments)}function R8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function M8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R8(Object(r),!0).forEach(function(n){xYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xYe(e,t,r){return(t=wYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wYe(e){var t=bYe(e,"string");return typeof t=="symbol"?t:t+""}function bYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F8={curveBasisClosed:XHe,curveBasisOpen:QHe,curveBasis:YHe,curveBumpX:RHe,curveBumpY:MHe,curveLinearClosed:JHe,curveLinear:wS,curveMonotoneX:ZHe,curveMonotoneY:eGe,curveNatural:tGe,curveStep:rGe,curveStepAfter:aGe,curveStepBefore:nGe},S1=e=>Ta(e.x)&&Ta(e.y),Ap=e=>e.x,Cp=e=>e.y,_Ye=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Gy(e));return(r==="curveMonotone"||r==="curveBump")&&t?F8["".concat(r).concat(t==="vertical"?"Y":"X")]:F8[r]||wS},EYe=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=_Ye(t,a),o=i?r.filter(S1):r,l;if(Array.isArray(n)){var c=i?n.filter(f=>S1(f)):n,u=o.map((f,h)=>M8(M8({},f),{},{base:c[h]}));return a==="vertical"?l=g1().y(Cp).x1(Ap).x0(f=>f.base.x):l=g1().x(Ap).y1(Cp).y0(f=>f.base.y),l.defined(S1).curve(s),l(u)}return a==="vertical"&&rt(n)?l=g1().y(Cp).x1(Ap).x0(n):rt(n)?l=g1().x(Ap).y1(Cp).y0(n):l=NQ().x(Ap).y(Cp),l.defined(S1).curve(s),l(o)},k0=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?EYe(e):n;return A.createElement("path",uN({},Zs(e),ZD(e),{className:Ft("recharts-curve",t),d:i===null?void 0:i,ref:a}))},SYe=["x","y","top","left","width","height","className"];function dN(){return dN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dN.apply(null,arguments)}function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TYe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(n){AYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AYe(e,t,r){return(t=CYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CYe(e){var t=kYe(e,"string");return typeof t=="symbol"?t:t+""}function kYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NYe(e,t){if(e==null)return{};var r,n,a=PYe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function PYe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IYe=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),OYe=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=e,l=NYe(e,SYe),c=TYe({x:t,y:r,top:n,left:a,width:i,height:s},l);return!rt(t)||!rt(r)||!rt(i)||!rt(s)||!rt(n)||!rt(a)?null:A.createElement("path",dN({},Mr(c,!0),{className:Ft("recharts-cross",o),d:IYe(t,r,i,s,n,a)}))};function DYe(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function $8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jYe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(r),!0).forEach(function(n){RYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RYe(e,t,r){return(t=MYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MYe(e){var t=FYe(e,"string");return typeof t=="symbol"?t:t+""}function FYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gn(e,t){var r=jYe({},e),n=t,a=Object.keys(t),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}function LYe(){}function B8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B8(Object(r),!0).forEach(function(n){$Ye(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ye(e,t,r){return(t=BYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BYe(e){var t=UYe(e,"string");return typeof t=="symbol"?t:t+""}function UYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VYe=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),ZJ=(e,t,r)=>e.map(n=>"".concat(VYe(n)," ").concat(t,"ms ").concat(r)).join(","),zYe=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Hv=(e,t)=>Object.keys(t).reduce((r,n)=>U8(U8({},r),{},{[n]:e(n,t[n])}),{});function V8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V8(Object(r),!0).forEach(function(n){WYe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WYe(e,t,r){return(t=HYe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HYe(e){var t=GYe(e,"string");return typeof t=="symbol"?t:t+""}function GYe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e_=(e,t,r)=>e+(t-e)*r,fN=e=>{var{from:t,to:r}=e;return t!==r},eZ=(e,t,r)=>{var n=Hv((a,i)=>{if(fN(i)){var[s,o]=e(i.from,i.to,i.velocity);return xa(xa({},i),{},{from:s,velocity:o})}return i},t);return r<1?Hv((a,i)=>fN(i)?xa(xa({},i),{},{velocity:e_(i.velocity,n[a].velocity,r),from:e_(i.from,n[a].from,r)}):i,t):eZ(e,n,r-1)};function KYe(e,t,r,n,a,i){var s,o=n.reduce((h,m)=>xa(xa({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Hv((h,m)=>m.from,o),c=()=>!Object.values(o).filter(fN).length,u=null,f=h=>{s||(s=h);var m=h-s,p=m/r.dt;o=eZ(r,o,p),a(xa(xa(xa({},e),t),l())),s=h,c()||(u=i.setTimeout(f))};return()=>(u=i.setTimeout(f),()=>{u()})}function qYe(e,t,r,n,a,i,s){var o=null,l=a.reduce((f,h)=>xa(xa({},f),{},{[h]:[e[h],t[h]]}),{}),c,u=f=>{c||(c=f);var h=(f-c)/n,m=Hv((g,v)=>e_(...v,r(h)),l);if(i(xa(xa(xa({},e),t),m)),h<1)o=s.setTimeout(u);else{var p=Hv((g,v)=>e_(...v,r(1)),l);i(xa(xa(xa({},e),t),p))}};return()=>(o=s.setTimeout(u),()=>{o()})}const YYe=(e,t,r,n,a,i)=>{var s=zYe(e,t);return r.isStepper===!0?KYe(e,t,r,s,a,i):qYe(e,t,r,n,s,a,i)};var t_=1e-4,tZ=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],rZ=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),z8=(e,t)=>r=>{var n=tZ(e,t);return rZ(n,r)},XYe=(e,t)=>r=>{var n=tZ(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return rZ(a,r)},W8=function(){for(var t,r,n,a,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var l=s[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([t,n,r,a]=l[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else s.length===4&&([t,n,r,a]=s);var c=z8(t,r),u=z8(n,a),f=XYe(t,r),h=p=>p>1?1:p<0?0:p,m=p=>{for(var g=p>1?1:p,v=g,y=0;y<8;++y){var x=c(v)-g,b=f(v);if(Math.abs(x-g)<t_||b<t_)return u(v);v=h(v-x/b)}return u(v)};return m.isStepper=!1,m},QYe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,o,l)=>{var c=-(s-o)*r,u=l*n,f=l+(c-u)*a/1e3,h=l*a/1e3+s;return Math.abs(h-o)<t_&&Math.abs(f)<t_?[o,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},JYe=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return W8(e);case"spring":return QYe();default:if(e.split("(")[0]==="cubic-bezier")return W8(e)}return typeof e=="function"?e:null};function ZYe(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...c]=o;if(typeof l=="number"){a=e.setTimeout(i.bind(null,c),l);return}i(l),a=e.setTimeout(i.bind(null,c));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class eXe{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function tXe(){return ZYe(new eXe)}var rXe=A.createContext(tXe);function nXe(e,t){var r=A.useContext(rXe);return A.useMemo(()=>t??r(e),[e,t,r])}var aXe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},H8={t:0},aA={t:1};function zm(e){var t=Gn(e,aXe),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:l,children:c}=t,u=nXe(t.animationId,t.animationManager),[f,h]=A.useState(r?H8:aA),m=A.useRef(null);return A.useEffect(()=>{r||h(aA)},[r]),A.useEffect(()=>{if(!r||!n)return LYe;var p=YYe(H8,aA,JYe(i),a,h,u.getTimeoutController()),g=()=>{m.current=p()};return u.start([l,s,g,a,o]),()=>{u.stop(),m.current&&m.current(),o()}},[r,n,a,i,s,l,o,u]),c(f.t)}function Wm(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=A.useRef(Vv(t)),n=A.useRef(e);return n.current!==e&&(r.current=Vv(t),n.current=e),r.current}function G8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function K8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G8(Object(r),!0).forEach(function(n){iXe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iXe(e,t,r){return(t=sXe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sXe(e){var t=oXe(e,"string");return typeof t=="symbol"?t:t+""}function oXe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r_(){return r_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r_.apply(null,arguments)}var q8=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(i>0&&a instanceof Array){for(var u=[0,0,0,0],f=0,h=4;f<h;f++)u[f]=a[f]>i?i:a[f];c="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+o*u[0],",").concat(t)),c+="L ".concat(e+r-o*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+s*u[1])),c+="L ".concat(e+r,",").concat(t+n-s*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+r-o*u[2],",").concat(t+n)),c+="L ".concat(e+o*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-s*u[3])),c+="Z"}else if(i>0&&a===+a&&a>0){var m=Math.min(i,a);c="M ".concat(e,",").concat(t+s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+o*m,",").concat(t,`
            L `).concat(e+r-o*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r,",").concat(t+s*m,`
            L `).concat(e+r,",").concat(t+n-s*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e+r-o*m,",").concat(t+n,`
            L `).concat(e+o*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(l,",").concat(e,",").concat(t+n-s*m," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},lXe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},nZ=e=>{var t=Gn(e,lXe),r=A.useRef(null),[n,a]=A.useState(-1);A.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var X=r.current.getTotalLength();X&&a(X)}catch{}},[]);var{x:i,y:s,width:o,height:l,radius:c,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:g}=t,v=A.useRef(o),y=A.useRef(l),x=A.useRef(i),b=A.useRef(s),E=A.useMemo(()=>({x:i,y:s,width:o,height:l,radius:c}),[i,s,o,l,c]),k=Wm(E,"rectangle-");if(i!==+i||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var C=Ft("recharts-rectangle",u);if(!g)return A.createElement("path",r_({},Mr(t,!0),{className:C,d:q8(i,s,o,l,c)}));var S=v.current,_=y.current,T=x.current,P=b.current,N="0px ".concat(n===-1?1:n,"px"),O="".concat(n,"px 0px"),D=ZJ(["strokeDasharray"],h,typeof f=="string"?f:void 0);return A.createElement(zm,{animationId:k,key:k,canBegin:n>0,duration:h,easing:f,isActive:g,begin:m},X=>{var te=fr(S,o,X),ne=fr(_,l,X),Q=fr(T,i,X),z=fr(P,s,X);r.current&&(v.current=te,y.current=ne,x.current=Q,b.current=z);var j;return p?X>0?j={transition:D,strokeDasharray:O}:j={strokeDasharray:N}:j={strokeDasharray:O},A.createElement("path",r_({},Mr(t,!0),{className:C,d:q8(Q,z,te,ne,c),ref:r,style:K8(K8({},j),t.style)}))})};function aZ(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=In(t,r,n,a),o=In(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hN.apply(null,arguments)}var cXe=(e,t)=>{var r=ia(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},T1=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+n,u=Math.asin(o/c)/Jb,f=l?a:a+i*u,h=In(t,r,c,f),m=In(t,r,n,f),p=l?a-i*u:a,g=In(t,r,c*Math.cos(u*Jb),p);return{center:h,circleTangency:m,lineTangency:g,theta:u}},iZ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=cXe(i,s),l=i+o,c=In(t,r,a,i),u=In(t,r,a,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=In(t,r,n,i),m=In(t,r,n,l);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},uXe=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=ia(c-l),{circleTangency:f,lineTangency:h,theta:m}=T1({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:i,cornerIsExternal:o}),{circleTangency:p,lineTangency:g,theta:v}=T1({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:i,cornerIsExternal:o}),y=o?Math.abs(l-c):Math.abs(l-c)-m-v;if(y<0)return s?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):iZ({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:E,theta:k}=T1({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:C,lineTangency:S,theta:_}=T1({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),T=o?Math.abs(l-c):Math.abs(l-c)-k-_;if(T<0&&i===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(S.x,",").concat(S.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(u<0),",").concat(E.x,",").concat(E.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},dXe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sZ=e=>{var t=Gn(e,dXe),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=t;if(i<a||c===u)return null;var h=Ft("recharts-sector",f),m=i-a,p=Ha(s,m,0,!0),g;return p>0&&Math.abs(c-u)<360?g=uXe({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):g=iZ({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u}),A.createElement("path",hN({},Mr(t,!0),{className:h,d:g}))};function fXe(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:f}=t,h=In(o,l,c,f),m=In(o,l,u,f);n=h.x,a=h.y,i=m.x,s=m.y}else return aZ(t);return[{x:n,y:a},{x:i,y:s}]}var oZ={},lZ={},cZ={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yj;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(cZ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cZ;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(lZ);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xj,r=lZ;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=a,a+=s;return l}e.range=n})(oZ);var hXe=oZ.range;const uZ=cn(hXe);function Nu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mXe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pj(e){let t,r,n;e.length!==2?(t=Nu,r=(o,l)=>Nu(e(o),l),n=(o,l)=>e(o)-l):(t=e===Nu||e===mXe?e:pXe,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function pXe(){return 0}function dZ(e){return e===null?NaN:+e}function*gXe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const vXe=Pj(Nu),Jy=vXe.right;Pj(dZ).center;class Y8 extends Map{constructor(t,r=wXe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(X8(this,t))}has(t){return super.has(X8(this,t))}set(t,r){return super.set(yXe(this,t),r)}delete(t){return super.delete(xXe(this,t))}}function X8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function yXe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function xXe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function wXe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function bXe(e=Nu){if(e===Nu)return fZ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function fZ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _Xe=Math.sqrt(50),EXe=Math.sqrt(10),SXe=Math.sqrt(2);function n_(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=_Xe?10:i>=EXe?5:i>=SXe?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?n_(e,t,r*2):[o,l,c]}function mN(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?n_(t,e,r):n_(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function pN(e,t,r){return t=+t,e=+e,r=+r,n_(e,t,r)[2]}function gN(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?pN(t,e,r):pN(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Q8(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function J8(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hZ(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?fZ:bXe(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),m=Math.max(r,Math.floor(t-c*f/l+h)),p=Math.min(n,Math.floor(t+(l-c)*f/l+h));hZ(e,t,m,p,a)}const i=e[t];let s=r,o=n;for(kp(e,r,t),a(e[n],i)>0&&kp(e,r,n);s<o;){for(kp(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?kp(e,r,o):(++o,kp(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function kp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function TXe(e,t,r){if(e=Float64Array.from(gXe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return J8(e);if(t>=1)return Q8(e);var n,a=(n-1)*t,i=Math.floor(a),s=Q8(hZ(e,i).subarray(0,i+1)),o=J8(e.subarray(i+1));return s+(o-s)*(a-i)}}function AXe(e,t,r=dZ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function CXe(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function eo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function jc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const vN=Symbol("implicit");function Ij(){var e=new Y8,t=[],r=[],n=vN;function a(i){let s=e.get(i);if(s===void 0){if(n!==vN)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Y8;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Ij(t,r).unknown(n)},eo.apply(a,arguments),a}function Oj(){var e=Ij().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,m=a<n,p=m?a:n,g=m?n:a;i=(g-p)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),p+=(g-p-i*(h-l))*u,s=i*(1-l),o&&(p=Math.round(p),s=Math.round(s));var v=CXe(h).map(function(y){return p+i*y});return r(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return Oj(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},eo.apply(f(),arguments)}function mZ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return mZ(t())},e}function kXe(){return mZ(Oj.apply(null,arguments).paddingInner(1))}function Dj(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function pZ(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Zy(){}var Gv=.7,a_=1/Gv,N0="\\s*([+-]?\\d+)\\s*",Kv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NXe=/^#([0-9a-f]{3,8})$/,PXe=new RegExp(`^rgb\\(${N0},${N0},${N0}\\)$`),IXe=new RegExp(`^rgb\\(${fl},${fl},${fl}\\)$`),OXe=new RegExp(`^rgba\\(${N0},${N0},${N0},${Kv}\\)$`),DXe=new RegExp(`^rgba\\(${fl},${fl},${fl},${Kv}\\)$`),jXe=new RegExp(`^hsl\\(${Kv},${fl},${fl}\\)$`),RXe=new RegExp(`^hsla\\(${Kv},${fl},${fl},${Kv}\\)$`),Z8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dj(Zy,qv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:eB,formatHex:eB,formatHex8:MXe,formatHsl:FXe,formatRgb:tB,toString:tB});function eB(){return this.rgb().formatHex()}function MXe(){return this.rgb().formatHex8()}function FXe(){return gZ(this).formatHsl()}function tB(){return this.rgb().formatRgb()}function qv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=NXe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?rB(t):r===3?new Ci(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?A1(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?A1(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=PXe.exec(e))?new Ci(t[1],t[2],t[3],1):(t=IXe.exec(e))?new Ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=OXe.exec(e))?A1(t[1],t[2],t[3],t[4]):(t=DXe.exec(e))?A1(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=jXe.exec(e))?iB(t[1],t[2]/100,t[3]/100,1):(t=RXe.exec(e))?iB(t[1],t[2]/100,t[3]/100,t[4]):Z8.hasOwnProperty(e)?rB(Z8[e]):e==="transparent"?new Ci(NaN,NaN,NaN,0):null}function rB(e){return new Ci(e>>16&255,e>>8&255,e&255,1)}function A1(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ci(e,t,r,n)}function LXe(e){return e instanceof Zy||(e=qv(e)),e?(e=e.rgb(),new Ci(e.r,e.g,e.b,e.opacity)):new Ci}function yN(e,t,r,n){return arguments.length===1?LXe(e):new Ci(e,t,r,n??1)}function Ci(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Dj(Ci,yN,pZ(Zy,{brighter(e){return e=e==null?a_:Math.pow(a_,e),new Ci(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gv:Math.pow(Gv,e),new Ci(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ci(ff(this.r),ff(this.g),ff(this.b),i_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nB,formatHex:nB,formatHex8:$Xe,formatRgb:aB,toString:aB}));function nB(){return`#${Xd(this.r)}${Xd(this.g)}${Xd(this.b)}`}function $Xe(){return`#${Xd(this.r)}${Xd(this.g)}${Xd(this.b)}${Xd((isNaN(this.opacity)?1:this.opacity)*255)}`}function aB(){const e=i_(this.opacity);return`${e===1?"rgb(":"rgba("}${ff(this.r)}, ${ff(this.g)}, ${ff(this.b)}${e===1?")":`, ${e})`}`}function i_(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ff(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Xd(e){return e=ff(e),(e<16?"0":"")+e.toString(16)}function iB(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new go(e,t,r,n)}function gZ(e){if(e instanceof go)return new go(e.h,e.s,e.l,e.opacity);if(e instanceof Zy||(e=qv(e)),!e)return new go;if(e instanceof go)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new go(s,o,l,e.opacity)}function BXe(e,t,r,n){return arguments.length===1?gZ(e):new go(e,t,r,n??1)}function go(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Dj(go,BXe,pZ(Zy,{brighter(e){return e=e==null?a_:Math.pow(a_,e),new go(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gv:Math.pow(Gv,e),new go(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ci(iA(e>=240?e-240:e+120,a,n),iA(e,a,n),iA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new go(sB(this.h),C1(this.s),C1(this.l),i_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=i_(this.opacity);return`${e===1?"hsl(":"hsla("}${sB(this.h)}, ${C1(this.s)*100}%, ${C1(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sB(e){return e=(e||0)%360,e<0?e+360:e}function C1(e){return Math.max(0,Math.min(1,e||0))}function iA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const jj=e=>()=>e;function UXe(e,t){return function(r){return e+r*t}}function VXe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function zXe(e){return(e=+e)==1?vZ:function(t,r){return r-t?VXe(t,r,e):jj(isNaN(t)?r:t)}}function vZ(e,t){var r=t-e;return r?UXe(e,r):jj(isNaN(e)?t:e)}const oB=function e(t){var r=zXe(t);function n(a,i){var s=r((a=yN(a)).r,(i=yN(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=vZ(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function WXe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function HXe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function GXe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Hm(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function KXe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function s_(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function qXe(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Hm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var xN=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sA=new RegExp(xN.source,"g");function YXe(e){return function(){return e}}function XXe(e){return function(t){return e(t)+""}}function QXe(e,t){var r=xN.lastIndex=sA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=xN.exec(e))&&(a=sA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:s_(n,a)})),r=sA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?XXe(l[0].x):YXe(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Hm(e,t){var r=typeof t,n;return t==null||r==="boolean"?jj(t):(r==="number"?s_:r==="string"?(n=qv(t))?(t=n,oB):QXe:t instanceof qv?oB:t instanceof Date?KXe:HXe(t)?WXe:Array.isArray(t)?GXe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?qXe:s_)(e,t)}function Rj(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function JXe(e,t){t===void 0&&(t=e,e=Hm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function ZXe(e){return function(){return e}}function o_(e){return+e}var lB=[0,1];function ui(e){return e}function wN(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:ZXe(isNaN(t)?NaN:.5)}function eQe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function tQe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=wN(a,n),i=r(s,i)):(n=wN(n,a),i=r(i,s)),function(o){return i(n(o))}}function rQe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=wN(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=Jy(e,o,1,n)-1;return i[l](a[l](o))}}function ex(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function RS(){var e=lB,t=lB,r=Hm,n,a,i,s=ui,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==ui&&(s=eQe(e[0],e[h-1])),o=h>2?rQe:tQe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),s_)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,o_),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Rj,u()},f.clamp=function(h){return arguments.length?(s=h?!0:ui,u()):s!==ui},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,u()}}function Mj(){return RS()(ui,ui)}function nQe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function l_(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function im(e){return e=l_(Math.abs(e)),e?e[1]:NaN}function aQe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function iQe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var sQe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yv(e){if(!(t=sQe.exec(e)))throw new Error("invalid format: "+e);var t;return new Fj({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Yv.prototype=Fj.prototype;function Fj(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Fj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oQe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var yZ;function lQe(e,t){var r=l_(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(yZ=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+l_(e,Math.max(0,t+i-1))[0]}function cB(e,t){var r=l_(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const uB={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nQe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cB(e*100,t),r:cB,s:lQe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dB(e){return e}var fB=Array.prototype.map,hB=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cQe(e){var t=e.grouping===void 0||e.thousands===void 0?dB:aQe(fB.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?dB:iQe(fB.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Yv(f);var h=f.fill,m=f.align,p=f.sign,g=f.symbol,v=f.zero,y=f.width,x=f.comma,b=f.precision,E=f.trim,k=f.type;k==="n"?(x=!0,k="g"):uB[k]||(b===void 0&&(b=12),E=!0,k="g"),(v||h==="0"&&m==="=")&&(v=!0,h="0",m="=");var C=g==="$"?r:g==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",S=g==="$"?n:/[%p]/.test(k)?s:"",_=uB[k],T=/[defgprs%]/.test(k);b=b===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function P(N){var O=C,D=S,X,te,ne;if(k==="c")D=_(N)+D,N="";else{N=+N;var Q=N<0||1/N<0;if(N=isNaN(N)?l:_(Math.abs(N),b),E&&(N=oQe(N)),Q&&+N==0&&p!=="+"&&(Q=!1),O=(Q?p==="("?p:o:p==="-"||p==="("?"":p)+O,D=(k==="s"?hB[8+yZ/3]:"")+D+(Q&&p==="("?")":""),T){for(X=-1,te=N.length;++X<te;)if(ne=N.charCodeAt(X),48>ne||ne>57){D=(ne===46?a+N.slice(X+1):N.slice(X))+D,N=N.slice(0,X);break}}}x&&!v&&(N=t(N,1/0));var z=O.length+N.length+D.length,j=z<y?new Array(y-z+1).join(h):"";switch(x&&v&&(N=t(j+N,j.length?y-D.length:1/0),j=""),m){case"<":N=O+N+D+j;break;case"=":N=O+j+N+D;break;case"^":N=j.slice(0,z=j.length>>1)+O+N+D+j.slice(z);break;default:N=j+O+N+D;break}return i(N)}return P.toString=function(){return f+""},P}function u(f,h){var m=c((f=Yv(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(im(h)/3)))*3,g=Math.pow(10,-p),v=hB[8+p/3];return function(y){return m(g*y)+v}}return{format:c,formatPrefix:u}}var k1,Lj,xZ;uQe({thousands:",",grouping:[3],currency:["$",""]});function uQe(e){return k1=cQe(e),Lj=k1.format,xZ=k1.formatPrefix,k1}function dQe(e){return Math.max(0,-im(Math.abs(e)))}function fQe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(im(t)/3)))*3-im(Math.abs(e)))}function hQe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,im(t)-im(e))+1}function wZ(e,t,r,n){var a=gN(e,t,r),i;switch(n=Yv(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=fQe(a,s))&&(n.precision=i),xZ(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=hQe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=dQe(a))&&(n.precision=i-(n.type==="%")*2);break}}return Lj(n)}function yd(e){var t=e.domain;return e.ticks=function(r){var n=t();return mN(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return wZ(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=pN(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function bZ(){var e=Mj();return e.copy=function(){return ex(e,bZ())},eo.apply(e,arguments),yd(e)}function _Z(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,o_),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return _Z(e).unknown(t)},e=arguments.length?Array.from(e,o_):[0,1],yd(r)}function EZ(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function mB(e){return Math.log(e)}function pB(e){return Math.exp(e)}function mQe(e){return-Math.log(-e)}function pQe(e){return-Math.exp(-e)}function gQe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vQe(e){return e===10?gQe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yQe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function gB(e){return(t,r)=>-e(-t,r)}function $j(e){const t=e(mB,pB),r=t.domain;let n=10,a,i;function s(){return a=yQe(n),i=vQe(n),r()[0]<0?(a=gB(a),i=gB(i),e(mQe,pQe)):e(mB,pB),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),m=a(u),p,g;const v=o==null?10:+o;let y=[];if(!(n%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),c>0){for(;h<=m;++h)for(p=1;p<n;++p)if(g=h<0?p/i(-h):p*i(h),!(g<c)){if(g>u)break;y.push(g)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(g=h>0?p/i(-h):p*i(h),!(g<c)){if(g>u)break;y.push(g)}y.length*2<v&&(y=mN(c,u,v))}else y=mN(h,m,Math.min(m-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Yv(l)).precision==null&&(l.trim=!0),l=Lj(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(EZ(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function SZ(){const e=$j(RS()).domain([1,10]);return e.copy=()=>ex(e,SZ()).base(e.base()),eo.apply(e,arguments),e}function vB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function yB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Bj(e){var t=1,r=e(vB(t),yB(t));return r.constant=function(n){return arguments.length?e(vB(t=+n),yB(t)):t},yd(r)}function TZ(){var e=Bj(RS());return e.copy=function(){return ex(e,TZ()).constant(e.constant())},eo.apply(e,arguments)}function xB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xQe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wQe(e){return e<0?-e*e:e*e}function Uj(e){var t=e(ui,ui),r=1;function n(){return r===1?e(ui,ui):r===.5?e(xQe,wQe):e(xB(r),xB(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},yd(t)}function Vj(){var e=Uj(RS());return e.copy=function(){return ex(e,Vj()).exponent(e.exponent())},eo.apply(e,arguments),e}function bQe(){return Vj.apply(null,arguments).exponent(.5)}function wB(e){return Math.sign(e)*e*e}function _Qe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function AZ(){var e=Mj(),t=[0,1],r=!1,n;function a(i){var s=_Qe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(wB(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,o_)).map(wB)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return AZ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},eo.apply(a,arguments),yd(a)}function CZ(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=AXe(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Jy(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Nu),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return CZ().domain(e).range(t).unknown(n)},eo.apply(i,arguments)}function kZ(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[Jy(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return kZ().domain([e,t]).range(a).unknown(i)},eo.apply(yd(s),arguments)}function NZ(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Jy(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return NZ().domain(e).range(t).unknown(r)},eo.apply(a,arguments)}const oA=new Date,lA=new Date;function Kn(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Kn(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(oA.setTime(+i),lA.setTime(+s),e(oA),e(lA),Math.floor(r(oA,lA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const c_=Kn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);c_.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Kn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):c_);c_.range;const Kl=1e3,Rs=Kl*60,ql=Rs*60,_c=ql*24,zj=_c*7,bB=_c*30,cA=_c*365,Qd=Kn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Kl)},(e,t)=>(t-e)/Kl,e=>e.getUTCSeconds());Qd.range;const Wj=Kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kl)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getMinutes());Wj.range;const Hj=Kn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rs)},(e,t)=>(t-e)/Rs,e=>e.getUTCMinutes());Hj.range;const Gj=Kn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Kl-e.getMinutes()*Rs)},(e,t)=>{e.setTime(+e+t*ql)},(e,t)=>(t-e)/ql,e=>e.getHours());Gj.range;const Kj=Kn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ql)},(e,t)=>(t-e)/ql,e=>e.getUTCHours());Kj.range;const tx=Kn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rs)/_c,e=>e.getDate()-1);tx.range;const MS=Kn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_c,e=>e.getUTCDate()-1);MS.range;const PZ=Kn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/_c,e=>Math.floor(e/_c));PZ.range;function mh(e){return Kn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Rs)/zj)}const FS=mh(0),u_=mh(1),EQe=mh(2),SQe=mh(3),sm=mh(4),TQe=mh(5),AQe=mh(6);FS.range;u_.range;EQe.range;SQe.range;sm.range;TQe.range;AQe.range;function ph(e){return Kn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/zj)}const LS=ph(0),d_=ph(1),CQe=ph(2),kQe=ph(3),om=ph(4),NQe=ph(5),PQe=ph(6);LS.range;d_.range;CQe.range;kQe.range;om.range;NQe.range;PQe.range;const qj=Kn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());qj.range;const Yj=Kn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Yj.range;const Ec=Kn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ec.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ec.range;const Sc=Kn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Sc.range;function IZ(e,t,r,n,a,i){const s=[[Qd,1,Kl],[Qd,5,5*Kl],[Qd,15,15*Kl],[Qd,30,30*Kl],[i,1,Rs],[i,5,5*Rs],[i,15,15*Rs],[i,30,30*Rs],[a,1,ql],[a,3,3*ql],[a,6,6*ql],[a,12,12*ql],[n,1,_c],[n,2,2*_c],[r,1,zj],[t,1,bB],[t,3,3*bB],[e,1,cA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const m=f&&typeof f.range=="function"?f:l(c,u,f),p=m?m.range(c,+u+1):[];return h?p.reverse():p}function l(c,u,f){const h=Math.abs(u-c)/f,m=Pj(([,,v])=>v).right(s,h);if(m===s.length)return e.every(gN(c/cA,u/cA,f));if(m===0)return c_.every(Math.max(gN(c,u,f),1));const[p,g]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(g)}return[o,l]}const[IQe,OQe]=IZ(Sc,Yj,LS,PZ,Kj,Hj),[DQe,jQe]=IZ(Ec,qj,FS,tx,Gj,Wj);function uA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function dA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Np(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function RQe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Pp(a),u=Ip(a),f=Pp(i),h=Ip(i),m=Pp(s),p=Ip(s),g=Pp(o),v=Ip(o),y=Pp(l),x=Ip(l),b={a:Q,A:z,b:j,B:ce,c:null,d:CB,e:CB,f:aJe,g:mJe,G:gJe,H:tJe,I:rJe,j:nJe,L:OZ,m:iJe,M:sJe,p:ee,q:M,Q:PB,s:IB,S:oJe,u:lJe,U:cJe,V:uJe,w:dJe,W:fJe,x:null,X:null,y:hJe,Y:pJe,Z:vJe,"%":NB},E={a:H,A:U,b:G,B:ae,c:null,d:kB,e:kB,f:bJe,g:IJe,G:DJe,H:yJe,I:xJe,j:wJe,L:jZ,m:_Je,M:EJe,p:de,q:xe,Q:PB,s:IB,S:SJe,u:TJe,U:AJe,V:CJe,w:kJe,W:NJe,x:null,X:null,y:PJe,Y:OJe,Z:jJe,"%":NB},k={a:P,A:N,b:O,B:D,c:X,d:TB,e:TB,f:QQe,g:SB,G:EB,H:AB,I:AB,j:KQe,L:XQe,m:GQe,M:qQe,p:T,q:HQe,Q:ZQe,s:eJe,S:YQe,u:BQe,U:UQe,V:VQe,w:$Qe,W:zQe,x:te,X:ne,y:SB,Y:EB,Z:WQe,"%":JQe};b.x=C(r,b),b.X=C(n,b),b.c=C(t,b),E.x=C(r,E),E.X=C(n,E),E.c=C(t,E);function C(Z,ie){return function(we){var F=[],Me=-1,Ce=0,Be=Z.length,Ie,re,Ve;for(we instanceof Date||(we=new Date(+we));++Me<Be;)Z.charCodeAt(Me)===37&&(F.push(Z.slice(Ce,Me)),(re=_B[Ie=Z.charAt(++Me)])!=null?Ie=Z.charAt(++Me):re=Ie==="e"?" ":"0",(Ve=ie[Ie])&&(Ie=Ve(we,re)),F.push(Ie),Ce=Me+1);return F.push(Z.slice(Ce,Me)),F.join("")}}function S(Z,ie){return function(we){var F=Np(1900,void 0,1),Me=_(F,Z,we+="",0),Ce,Be;if(Me!=we.length)return null;if("Q"in F)return new Date(F.Q);if("s"in F)return new Date(F.s*1e3+("L"in F?F.L:0));if(ie&&!("Z"in F)&&(F.Z=0),"p"in F&&(F.H=F.H%12+F.p*12),F.m===void 0&&(F.m="q"in F?F.q:0),"V"in F){if(F.V<1||F.V>53)return null;"w"in F||(F.w=1),"Z"in F?(Ce=dA(Np(F.y,0,1)),Be=Ce.getUTCDay(),Ce=Be>4||Be===0?d_.ceil(Ce):d_(Ce),Ce=MS.offset(Ce,(F.V-1)*7),F.y=Ce.getUTCFullYear(),F.m=Ce.getUTCMonth(),F.d=Ce.getUTCDate()+(F.w+6)%7):(Ce=uA(Np(F.y,0,1)),Be=Ce.getDay(),Ce=Be>4||Be===0?u_.ceil(Ce):u_(Ce),Ce=tx.offset(Ce,(F.V-1)*7),F.y=Ce.getFullYear(),F.m=Ce.getMonth(),F.d=Ce.getDate()+(F.w+6)%7)}else("W"in F||"U"in F)&&("w"in F||(F.w="u"in F?F.u%7:"W"in F?1:0),Be="Z"in F?dA(Np(F.y,0,1)).getUTCDay():uA(Np(F.y,0,1)).getDay(),F.m=0,F.d="W"in F?(F.w+6)%7+F.W*7-(Be+5)%7:F.w+F.U*7-(Be+6)%7);return"Z"in F?(F.H+=F.Z/100|0,F.M+=F.Z%100,dA(F)):uA(F)}}function _(Z,ie,we,F){for(var Me=0,Ce=ie.length,Be=we.length,Ie,re;Me<Ce;){if(F>=Be)return-1;if(Ie=ie.charCodeAt(Me++),Ie===37){if(Ie=ie.charAt(Me++),re=k[Ie in _B?ie.charAt(Me++):Ie],!re||(F=re(Z,we,F))<0)return-1}else if(Ie!=we.charCodeAt(F++))return-1}return F}function T(Z,ie,we){var F=c.exec(ie.slice(we));return F?(Z.p=u.get(F[0].toLowerCase()),we+F[0].length):-1}function P(Z,ie,we){var F=m.exec(ie.slice(we));return F?(Z.w=p.get(F[0].toLowerCase()),we+F[0].length):-1}function N(Z,ie,we){var F=f.exec(ie.slice(we));return F?(Z.w=h.get(F[0].toLowerCase()),we+F[0].length):-1}function O(Z,ie,we){var F=y.exec(ie.slice(we));return F?(Z.m=x.get(F[0].toLowerCase()),we+F[0].length):-1}function D(Z,ie,we){var F=g.exec(ie.slice(we));return F?(Z.m=v.get(F[0].toLowerCase()),we+F[0].length):-1}function X(Z,ie,we){return _(Z,t,ie,we)}function te(Z,ie,we){return _(Z,r,ie,we)}function ne(Z,ie,we){return _(Z,n,ie,we)}function Q(Z){return s[Z.getDay()]}function z(Z){return i[Z.getDay()]}function j(Z){return l[Z.getMonth()]}function ce(Z){return o[Z.getMonth()]}function ee(Z){return a[+(Z.getHours()>=12)]}function M(Z){return 1+~~(Z.getMonth()/3)}function H(Z){return s[Z.getUTCDay()]}function U(Z){return i[Z.getUTCDay()]}function G(Z){return l[Z.getUTCMonth()]}function ae(Z){return o[Z.getUTCMonth()]}function de(Z){return a[+(Z.getUTCHours()>=12)]}function xe(Z){return 1+~~(Z.getUTCMonth()/3)}return{format:function(Z){var ie=C(Z+="",b);return ie.toString=function(){return Z},ie},parse:function(Z){var ie=S(Z+="",!1);return ie.toString=function(){return Z},ie},utcFormat:function(Z){var ie=C(Z+="",E);return ie.toString=function(){return Z},ie},utcParse:function(Z){var ie=S(Z+="",!0);return ie.toString=function(){return Z},ie}}}var _B={"-":"",_:" ",0:"0"},ua=/^\s*\d+/,MQe=/^%/,FQe=/[\\^$*+?|[\]().{}]/g;function Jt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function LQe(e){return e.replace(FQe,"\\$&")}function Pp(e){return new RegExp("^(?:"+e.map(LQe).join("|")+")","i")}function Ip(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function $Qe(e,t,r){var n=ua.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function BQe(e,t,r){var n=ua.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function UQe(e,t,r){var n=ua.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function VQe(e,t,r){var n=ua.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function zQe(e,t,r){var n=ua.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function EB(e,t,r){var n=ua.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function SB(e,t,r){var n=ua.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function WQe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function HQe(e,t,r){var n=ua.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function GQe(e,t,r){var n=ua.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function TB(e,t,r){var n=ua.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function KQe(e,t,r){var n=ua.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function AB(e,t,r){var n=ua.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function qQe(e,t,r){var n=ua.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function YQe(e,t,r){var n=ua.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function XQe(e,t,r){var n=ua.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function QQe(e,t,r){var n=ua.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function JQe(e,t,r){var n=MQe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ZQe(e,t,r){var n=ua.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function eJe(e,t,r){var n=ua.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function CB(e,t){return Jt(e.getDate(),t,2)}function tJe(e,t){return Jt(e.getHours(),t,2)}function rJe(e,t){return Jt(e.getHours()%12||12,t,2)}function nJe(e,t){return Jt(1+tx.count(Ec(e),e),t,3)}function OZ(e,t){return Jt(e.getMilliseconds(),t,3)}function aJe(e,t){return OZ(e,t)+"000"}function iJe(e,t){return Jt(e.getMonth()+1,t,2)}function sJe(e,t){return Jt(e.getMinutes(),t,2)}function oJe(e,t){return Jt(e.getSeconds(),t,2)}function lJe(e){var t=e.getDay();return t===0?7:t}function cJe(e,t){return Jt(FS.count(Ec(e)-1,e),t,2)}function DZ(e){var t=e.getDay();return t>=4||t===0?sm(e):sm.ceil(e)}function uJe(e,t){return e=DZ(e),Jt(sm.count(Ec(e),e)+(Ec(e).getDay()===4),t,2)}function dJe(e){return e.getDay()}function fJe(e,t){return Jt(u_.count(Ec(e)-1,e),t,2)}function hJe(e,t){return Jt(e.getFullYear()%100,t,2)}function mJe(e,t){return e=DZ(e),Jt(e.getFullYear()%100,t,2)}function pJe(e,t){return Jt(e.getFullYear()%1e4,t,4)}function gJe(e,t){var r=e.getDay();return e=r>=4||r===0?sm(e):sm.ceil(e),Jt(e.getFullYear()%1e4,t,4)}function vJe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Jt(t/60|0,"0",2)+Jt(t%60,"0",2)}function kB(e,t){return Jt(e.getUTCDate(),t,2)}function yJe(e,t){return Jt(e.getUTCHours(),t,2)}function xJe(e,t){return Jt(e.getUTCHours()%12||12,t,2)}function wJe(e,t){return Jt(1+MS.count(Sc(e),e),t,3)}function jZ(e,t){return Jt(e.getUTCMilliseconds(),t,3)}function bJe(e,t){return jZ(e,t)+"000"}function _Je(e,t){return Jt(e.getUTCMonth()+1,t,2)}function EJe(e,t){return Jt(e.getUTCMinutes(),t,2)}function SJe(e,t){return Jt(e.getUTCSeconds(),t,2)}function TJe(e){var t=e.getUTCDay();return t===0?7:t}function AJe(e,t){return Jt(LS.count(Sc(e)-1,e),t,2)}function RZ(e){var t=e.getUTCDay();return t>=4||t===0?om(e):om.ceil(e)}function CJe(e,t){return e=RZ(e),Jt(om.count(Sc(e),e)+(Sc(e).getUTCDay()===4),t,2)}function kJe(e){return e.getUTCDay()}function NJe(e,t){return Jt(d_.count(Sc(e)-1,e),t,2)}function PJe(e,t){return Jt(e.getUTCFullYear()%100,t,2)}function IJe(e,t){return e=RZ(e),Jt(e.getUTCFullYear()%100,t,2)}function OJe(e,t){return Jt(e.getUTCFullYear()%1e4,t,4)}function DJe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?om(e):om.ceil(e),Jt(e.getUTCFullYear()%1e4,t,4)}function jJe(){return"+0000"}function NB(){return"%"}function PB(e){return+e}function IB(e){return Math.floor(+e/1e3)}var jh,MZ,FZ;RJe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function RJe(e){return jh=RQe(e),MZ=jh.format,jh.parse,FZ=jh.utcFormat,jh.utcParse,jh}function MJe(e){return new Date(e)}function FJe(e){return e instanceof Date?+e:+new Date(+e)}function Xj(e,t,r,n,a,i,s,o,l,c){var u=Mj(),f=u.invert,h=u.domain,m=c(".%L"),p=c(":%S"),g=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),x=c("%b %d"),b=c("%B"),E=c("%Y");function k(C){return(l(C)<C?m:o(C)<C?p:s(C)<C?g:i(C)<C?v:n(C)<C?a(C)<C?y:x:r(C)<C?b:E)(C)}return u.invert=function(C){return new Date(f(C))},u.domain=function(C){return arguments.length?h(Array.from(C,FJe)):h().map(MJe)},u.ticks=function(C){var S=h();return e(S[0],S[S.length-1],C??10)},u.tickFormat=function(C,S){return S==null?k:c(S)},u.nice=function(C){var S=h();return(!C||typeof C.range!="function")&&(C=t(S[0],S[S.length-1],C??10)),C?h(EZ(S,C)):u},u.copy=function(){return ex(u,Xj(e,t,r,n,a,i,s,o,l,c))},u}function LJe(){return eo.apply(Xj(DQe,jQe,Ec,qj,FS,tx,Gj,Wj,Qd,MZ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $Je(){return eo.apply(Xj(IQe,OQe,Sc,Yj,LS,MS,Kj,Hj,Qd,FZ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $S(){var e=0,t=1,r,n,a,i,s=ui,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),c):[s(0),s(1)]}}return c.range=u(Hm),c.rangeRound=u(Rj),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function xd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function LZ(){var e=yd($S()(ui));return e.copy=function(){return xd(e,LZ())},jc.apply(e,arguments)}function $Z(){var e=$j($S()).domain([1,10]);return e.copy=function(){return xd(e,$Z()).base(e.base())},jc.apply(e,arguments)}function BZ(){var e=Bj($S());return e.copy=function(){return xd(e,BZ()).constant(e.constant())},jc.apply(e,arguments)}function Qj(){var e=Uj($S());return e.copy=function(){return xd(e,Qj()).exponent(e.exponent())},jc.apply(e,arguments)}function BJe(){return Qj.apply(null,arguments).exponent(.5)}function UZ(){var e=[],t=ui;function r(n){if(n!=null&&!isNaN(n=+n))return t((Jy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Nu),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>TXe(e,i/n))},r.copy=function(){return UZ(t).domain(e)},jc.apply(r,arguments)}function BS(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=ui,u,f=!1,h;function m(g){return isNaN(g=+g)?h:(g=.5+((g=+u(g))-i)*(n*g<n*i?o:l),c(f?Math.max(0,Math.min(1,g)):g))}m.domain=function(g){return arguments.length?([e,t,r]=g,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(g){return arguments.length?(f=!!g,m):f},m.interpolator=function(g){return arguments.length?(c=g,m):c};function p(g){return function(v){var y,x,b;return arguments.length?([y,x,b]=v,c=JXe(g,[y,x,b]),m):[c(0),c(.5),c(1)]}}return m.range=p(Hm),m.rangeRound=p(Rj),m.unknown=function(g){return arguments.length?(h=g,m):h},function(g){return u=g,a=g(e),i=g(t),s=g(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,m}}function VZ(){var e=yd(BS()(ui));return e.copy=function(){return xd(e,VZ())},jc.apply(e,arguments)}function zZ(){var e=$j(BS()).domain([.1,1,10]);return e.copy=function(){return xd(e,zZ()).base(e.base())},jc.apply(e,arguments)}function WZ(){var e=Bj(BS());return e.copy=function(){return xd(e,WZ()).constant(e.constant())},jc.apply(e,arguments)}function Jj(){var e=Uj(BS());return e.copy=function(){return xd(e,Jj()).exponent(e.exponent())},jc.apply(e,arguments)}function UJe(){return Jj.apply(null,arguments).exponent(.5)}const qp=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Oj,scaleDiverging:VZ,scaleDivergingLog:zZ,scaleDivergingPow:Jj,scaleDivergingSqrt:UJe,scaleDivergingSymlog:WZ,scaleIdentity:_Z,scaleImplicit:vN,scaleLinear:bZ,scaleLog:SZ,scaleOrdinal:Ij,scalePoint:kXe,scalePow:Vj,scaleQuantile:CZ,scaleQuantize:kZ,scaleRadial:AZ,scaleSequential:LZ,scaleSequentialLog:$Z,scaleSequentialPow:Qj,scaleSequentialQuantile:UZ,scaleSequentialSqrt:BJe,scaleSequentialSymlog:BZ,scaleSqrt:bQe,scaleSymlog:TZ,scaleThreshold:NZ,scaleTime:LJe,scaleUtc:$Je,tickFormat:wZ},Symbol.toStringTag,{value:"Module"}));var wd=e=>e.chartData,Zj=ge([wd],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),rx=(e,t,r,n)=>n?Zj(e):wd(e);function lm(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Ta(t)&&Ta(r))return!0}return!1}function OB(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function VJe(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Ta(r))a=r;else if(typeof r=="function")return;if(Ta(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(lm(s))return s}}function zJe(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(lm(n))return OB(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,o;if(a==="auto")t!=null&&(s=Math.min(...t));else if(rt(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&A8.test(a)){var l=A8.exec(a);if(l==null||t==null)s=void 0;else{var c=+l[1];s=t[0]-c}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(rt(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&C8.test(i)){var u=C8.exec(i);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(lm(h))return t==null?h:OB(h,t,r)}}}var Gm=1e9,WJe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tR,Ur=!0,Ks="[DecimalError] ",hf=Ks+"Invalid argument: ",eR=Ks+"Exponent out of range: ",Km=Math.floor,Ld=Math.pow,HJe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qi,Zn=1e7,Nr=7,HZ=9007199254740991,f_=Km(HZ/Nr),Ye={};Ye.absoluteValue=Ye.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ye.comparedTo=Ye.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ye.decimalPlaces=Ye.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Nr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ye.dividedBy=Ye.div=function(e){return ic(this,new this.constructor(e))};Ye.dividedToIntegerBy=Ye.idiv=function(e){var t=this,r=t.constructor;return xr(ic(t,new r(e),0,1),r.precision)};Ye.equals=Ye.eq=function(e){return!this.cmp(e)};Ye.exponent=function(){return On(this)};Ye.greaterThan=Ye.gt=function(e){return this.cmp(e)>0};Ye.greaterThanOrEqualTo=Ye.gte=function(e){return this.cmp(e)>=0};Ye.isInteger=Ye.isint=function(){return this.e>this.d.length-2};Ye.isNegative=Ye.isneg=function(){return this.s<0};Ye.isPositive=Ye.ispos=function(){return this.s>0};Ye.isZero=function(){return this.s===0};Ye.lessThan=Ye.lt=function(e){return this.cmp(e)<0};Ye.lessThanOrEqualTo=Ye.lte=function(e){return this.cmp(e)<1};Ye.logarithm=Ye.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Qi))throw Error(Ks+"NaN");if(r.s<1)throw Error(Ks+(r.s?"NaN":"-Infinity"));return r.eq(Qi)?new n(0):(Ur=!1,t=ic(Xv(r,i),Xv(e,i),i),Ur=!0,xr(t,a))};Ye.minus=Ye.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?qZ(t,e):GZ(t,(e.s=-e.s,e))};Ye.modulo=Ye.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ks+"NaN");return r.s?(Ur=!1,t=ic(r,e,0,1).times(e),Ur=!0,r.minus(t)):xr(new n(r),a)};Ye.naturalExponential=Ye.exp=function(){return KZ(this)};Ye.naturalLogarithm=Ye.ln=function(){return Xv(this)};Ye.negated=Ye.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ye.plus=Ye.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GZ(t,e):qZ(t,(e.s=-e.s,e))};Ye.precision=Ye.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(hf+e);if(t=On(a)+1,n=a.d.length-1,r=n*Nr+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ye.squareRoot=Ye.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ks+"NaN")}for(e=On(o),Ur=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Jo(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Km((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(ic(o,i,s+2)).times(.5),Jo(i.d).slice(0,s)===(t=Jo(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(xr(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Ur=!0,xr(n,r)};Ye.times=Ye.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,m=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=m.length,l<c&&(i=h,h=m,m=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+m[n]*h[a-n-1]+t,i[a--]=o%Zn|0,t=o/Zn|0;i[a]=(i[a]+t)%Zn|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ur?xr(e,f.precision):e};Ye.toDecimalPlaces=Ye.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(yl(e,0,Gm),t===void 0?t=n.rounding:yl(t,0,8),xr(r,e+On(r)+1,t))};Ye.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Qf(n,!0):(yl(e,0,Gm),t===void 0?t=a.rounding:yl(t,0,8),n=xr(new a(n),e+1,t),r=Qf(n,!0,e+1)),r};Ye.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Qf(a):(yl(e,0,Gm),t===void 0?t=i.rounding:yl(t,0,8),n=xr(new i(a),e+On(a)+1,t),r=Qf(n.abs(),!1,e+On(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ye.toInteger=Ye.toint=function(){var e=this,t=e.constructor;return xr(new t(e),On(e)+1,t.rounding)};Ye.toNumber=function(){return+this};Ye.toPower=Ye.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Qi);if(o=new l(o),!o.s){if(e.s<1)throw Error(Ks+"Infinity");return o}if(o.eq(Qi))return o;if(n=l.precision,e.eq(Qi))return xr(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=HZ){for(a=new l(Qi),t=Math.ceil(n/Nr+4),Ur=!1;r%2&&(a=a.times(o),jB(a.d,t)),r=Km(r/2),r!==0;)o=o.times(o),jB(o.d,t);return Ur=!0,e.s<0?new l(Qi).div(a):xr(a,n)}}else if(i<0)throw Error(Ks+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Ur=!1,a=e.times(Xv(o,n+c)),Ur=!0,a=KZ(a),a.s=i,a};Ye.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=On(a),n=Qf(a,r<=i.toExpNeg||r>=i.toExpPos)):(yl(e,1,Gm),t===void 0?t=i.rounding:yl(t,0,8),a=xr(new i(a),e,t),r=On(a),n=Qf(a,e<=r||r<=i.toExpNeg,e)),n};Ye.toSignificantDigits=Ye.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(yl(e,1,Gm),t===void 0?t=n.rounding:yl(t,0,8)),xr(new n(r),e,t)};Ye.toString=Ye.valueOf=Ye.val=Ye.toJSON=Ye[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=On(e),r=e.constructor;return Qf(e,t<=r.toExpNeg||t>=r.toExpPos)};function GZ(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ur?xr(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/Nr),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Zn|0,l[i]%=Zn;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Ur?xr(t,f):t}function yl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(hf+e)}function Jo(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Nr-n.length,r&&(i+=Zc(r)),i+=n;s=e[t],n=s+"",r=Nr-n.length,r&&(i+=Zc(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ic=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Zn|0,s=i/Zn|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Zn+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,m,p,g,v,y,x,b,E,k,C,S,_,T=n.constructor,P=n.s==a.s?1:-1,N=n.d,O=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Ks+"Division by zero");for(l=n.e-a.e,S=O.length,k=N.length,m=new T(P),p=m.d=[],c=0;O[c]==(N[c]||0);)++c;if(O[c]>(N[c]||0)&&--l,i==null?x=i=T.precision:s?x=i+(On(n)-On(a))+1:x=i,x<0)return new T(0);if(x=x/Nr+2|0,c=0,S==1)for(u=0,O=O[0],x++;(c<k||u)&&x--;c++)b=u*Zn+(N[c]||0),p[c]=b/O|0,u=b%O|0;else{for(u=Zn/(O[0]+1)|0,u>1&&(O=e(O,u),N=e(N,u),S=O.length,k=N.length),E=S,g=N.slice(0,S),v=g.length;v<S;)g[v++]=0;_=O.slice(),_.unshift(0),C=O[0],O[1]>=Zn/2&&++C;do u=0,o=t(O,g,S,v),o<0?(y=g[0],S!=v&&(y=y*Zn+(g[1]||0)),u=y/C|0,u>1?(u>=Zn&&(u=Zn-1),f=e(O,u),h=f.length,v=g.length,o=t(f,g,h,v),o==1&&(u--,r(f,S<h?_:O,h))):(u==0&&(o=u=1),f=O.slice()),h=f.length,h<v&&f.unshift(0),r(g,f,v),o==-1&&(v=g.length,o=t(O,g,S,v),o<1&&(u++,r(g,S<v?_:O,v))),v=g.length):o===0&&(u++,g=[0]),p[c++]=u,o&&g[0]?g[v++]=N[E]||0:(g=[N[E]],v=1);while((E++<k||g[0]!==void 0)&&x--)}return p[0]||p.shift(),m.e=l,xr(m,s?i+On(m)+1:i)}}();function KZ(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(On(e)>16)throw Error(eR+On(e));if(!e.s)return new u(Qi);for(Ur=!1,o=f,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(Ld(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Qi),u.precision=o;;){if(a=xr(a.times(e),o),r=r.times(++l),s=i.plus(ic(a,r,o)),Jo(s.d).slice(0,o)===Jo(i.d).slice(0,o)){for(;c--;)i=xr(i.times(i),o);return u.precision=f,t==null?(Ur=!0,xr(i,f)):i}i=s}}function On(e){for(var t=e.e*Nr,r=e.d[0];r>=10;r/=10)t++;return t}function fA(e,t,r){if(t>e.LN10.sd())throw Ur=!0,r&&(e.precision=r),Error(Ks+"LN10 precision limit exceeded");return xr(new e(e.LN10),t)}function Zc(e){for(var t="";e--;)t+="0";return t}function Xv(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,m=e,p=m.d,g=m.constructor,v=g.precision;if(m.s<1)throw Error(Ks+(m.s?"NaN":"-Infinity"));if(m.eq(Qi))return new g(0);if(t==null?(Ur=!1,c=v):c=t,m.eq(10))return t==null&&(Ur=!0),fA(g,c);if(c+=h,g.precision=c,r=Jo(p),n=r.charAt(0),i=On(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Jo(m.d),n=r.charAt(0),f++;i=On(m),n>1?(m=new g("0."+r),i++):m=new g(n+"."+r.slice(1))}else return l=fA(g,c+2,v).times(i+""),m=Xv(new g(n+"."+r.slice(1)),c-h).plus(l),g.precision=v,t==null?(Ur=!0,xr(m,v)):m;for(o=s=m=ic(m.minus(Qi),m.plus(Qi),c),u=xr(m.times(m),c),a=3;;){if(s=xr(s.times(u),c),l=o.plus(ic(s,new g(a),c)),Jo(l.d).slice(0,c)===Jo(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(fA(g,c+2,v).times(i+""))),o=ic(o,new g(f),c),g.precision=v,t==null?(Ur=!0,xr(o,v)):o;o=l,a+=2}}function DB(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Km(r/Nr),e.d=[],n=(r+1)%Nr,r<0&&(n+=Nr),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Nr;n<a;)e.d.push(+t.slice(n,n+=Nr));t=t.slice(n),n=Nr-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ur&&(e.e>f_||e.e<-f_))throw Error(eR+r)}else e.s=0,e.e=0,e.d=[0];return e}function xr(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Nr,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Nr),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=Nr,a=n-Nr+s}if(r!==void 0&&(i=Ld(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/Ld(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=On(e),f.length=1,t=t-i-1,f[0]=Ld(10,(Nr-t%Nr)%Nr),e.e=Km(-t/Nr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=Ld(10,Nr-n),f[u]=a>0?(c/Ld(10,s-a)%Ld(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Zn&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Zn)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ur&&(e.e>f_||e.e<-f_))throw Error(eR+On(e));return e}function qZ(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ur?xr(t,m):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(m/Nr),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Zn-1;--l[i],l[a]+=Zn}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ur?xr(t,m):t):new h(0)}function Qf(e,t,r){var n,a=On(e),i=Jo(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Zc(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Zc(-a-1)+i,r&&(n=r-s)>0&&(i+=Zc(n))):a>=s?(i+=Zc(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Zc(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Zc(n))),e.s<0?"-"+i:i}function jB(e,t){if(e.length>t)return e.length=t,!0}function YZ(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(hf+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return DB(s,i.toString())}else if(typeof i!="string")throw Error(hf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,HJe.test(i))DB(s,i);else throw Error(hf+i)}if(a.prototype=Ye,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=YZ,a.config=a.set=GJe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function GJe(e){if(!e||typeof e!="object")throw Error(Ks+"Object expected");var t,r,n,a=["precision",1,Gm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Km(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(hf+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(hf+r+": "+n);return this}var tR=YZ(WJe);Qi=new tR(1);const sr=tR;var KJe=e=>e,XZ={},QZ=e=>e===XZ,RB=e=>function t(){return arguments.length===0||arguments.length===1&&QZ(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},JZ=(e,t)=>e===1?t:RB(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==XZ).length;return i>=e?t(...n):JZ(e-i,RB(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var c=n.map(u=>QZ(u)?o.shift():u);return t(...c,...o)}))}),US=e=>JZ(e.length,e),bN=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},qJe=US((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),YJe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return KJe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,l)=>l(o),i(...arguments))}},_N=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),ZZ=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((s,o)=>{var l;return s===((l=t)===null||l===void 0?void 0:l[o])})||(t=a,r=e(...a)),r}};function eee(e){var t;return e===0?t=1:t=Math.floor(new sr(e).abs().log(10).toNumber())+1,t}function tee(e,t,r){for(var n=new sr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}US((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});US((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});US((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var ree=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},nee=(e,t,r)=>{if(e.lte(0))return new sr(0);var n=eee(e.toNumber()),a=new sr(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new sr(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?new sr(l.toNumber()):new sr(Math.ceil(l.toNumber()))},XJe=(e,t,r)=>{var n=new sr(1),a=new sr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new sr(10).pow(eee(e)-1),a=new sr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new sr(Math.floor(e)))}else e===0?a=new sr(Math.floor((t-1)/2)):r||(a=new sr(Math.floor(e)));var s=Math.floor((t-1)/2),o=YJe(qJe(l=>a.add(new sr(l-s).mul(n)).toNumber()),bN);return o(0,t)},aee=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new sr(0),tickMin:new sr(0),tickMax:new sr(0)};var s=nee(new sr(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new sr(0):(o=new sr(t).add(r).div(2),o=o.sub(new sr(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new sr(r).sub(o).div(s).toNumber()),u=l+c+1;return u>n?aee(t,r,n,a,i+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:s,tickMin:o.sub(new sr(l).mul(s)),tickMax:o.add(new sr(c).mul(s))})};function QJe(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[s,o]=ree([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...bN(0,n-1).map(()=>1/0)]:[...bN(0,n-1).map(()=>-1/0),o];return t>r?_N(l):l}if(s===o)return XJe(s,n,a);var{step:c,tickMin:u,tickMax:f}=aee(s,o,i,a,0),h=tee(u,f.add(new sr(.1).mul(c)),c);return t>r?_N(h):h}function JJe(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=ree([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var o=Math.max(t,2),l=nee(new sr(s).sub(i).div(o-1),a,0),c=[...tee(new sr(i),new sr(s),l),s];return a===!1&&(c=c.map(u=>Math.round(u))),r>n?_N(c):c}var ZJe=ZZ(QJe),eZe=ZZ(JJe),iee=e=>e.rootProps.maxBarSize,tZe=e=>e.rootProps.barGap,see=e=>e.rootProps.barCategoryGap,rZe=e=>e.rootProps.barSize,nx=e=>e.rootProps.stackOffset,rR=e=>e.options.chartName,nR=e=>e.rootProps.syncId,oee=e=>e.rootProps.syncMethod,aR=e=>e.options.eventEmitter,$l={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Wi={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},VS=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},nZe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:$l.angleAxisId,includeHidden:!1,name:void 0,reversed:$l.reversed,scale:$l.scale,tick:$l.tick,tickCount:void 0,ticks:void 0,type:$l.type,unit:void 0},aZe={allowDataOverflow:Wi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wi.scale,tick:Wi.tick,tickCount:Wi.tickCount,ticks:void 0,type:Wi.type,unit:void 0},iZe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:$l.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$l.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$l.scale,tick:$l.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},sZe={allowDataOverflow:Wi.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wi.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wi.scale,tick:Wi.tick,tickCount:Wi.tickCount,ticks:void 0,type:"category",unit:void 0},iR=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?iZe:nZe,sR=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?sZe:aZe,zS=e=>e.polarOptions,oR=ge([Ic,Oc,Hn],BJ),lee=ge([zS,oR],(e,t)=>{if(e!=null)return Ha(e.innerRadius,t,0)}),cee=ge([zS,oR],(e,t)=>{if(e!=null)return Ha(e.outerRadius,t,t*.8)}),oZe=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},uee=ge([zS],oZe);ge([iR,uee],VS);var dee=ge([oR,lee,cee],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ge([sR,dee],VS);var fee=ge([Dt,zS,lee,cee,Ic,Oc],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:Ha(s,a,a/2),cy:Ha(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),zr=(e,t)=>t,ax=(e,t,r)=>r;function WS(e){return e==null?void 0:e.id}var qn=e=>{var t=Dt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},qm=e=>e.tooltip.settings.axisId,da=e=>{var t=qn(e),r=qm(e);return ix(e,t,r)},hee=ge([da],e=>e==null?void 0:e.dataKey);function mee(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=WS(o);c.forEach((f,h)=>{var m=i==null||a?h:String(mr(f,i,null)),p=mr(f,o.dataKey,0),g;s.has(m)?g=s.get(m):g={},Object.assign(g,{[u]:p}),s.set(m,g)})}}),Array.from(s.values())}function HS(e){return e.stackId!=null&&e.dataKey!=null}function MB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function h_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MB(Object(r),!0).forEach(function(n){lZe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lZe(e,t,r){return(t=cZe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cZe(e){var t=uZe(e,"string");return typeof t=="symbol"?t:t+""}function uZe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EN=[0,"auto"],Ui={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},pee=(e,t)=>e.cartesianAxis.xAxis[t],Rc=(e,t)=>{var r=pee(e,t);return r??Ui},Vi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:EN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Xy},gee=(e,t)=>e.cartesianAxis.yAxis[t],Mc=(e,t)=>{var r=gee(e,t);return r??Vi},dZe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},lR=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??dZe},bn=(e,t,r)=>{switch(t){case"xAxis":return Rc(e,r);case"yAxis":return Mc(e,r);case"zAxis":return lR(e,r);case"angleAxis":return iR(e,r);case"radiusAxis":return sR(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},fZe=(e,t,r)=>{switch(t){case"xAxis":return Rc(e,r);case"yAxis":return Mc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ix=(e,t,r)=>{switch(t){case"xAxis":return Rc(e,r);case"yAxis":return Mc(e,r);case"angleAxis":return iR(e,r);case"radiusAxis":return sR(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vee=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function cR(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var sx=e=>e.graphicalItems.cartesianItems,hZe=ge([zr,ax],cR),uR=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),ox=ge([sx,bn,hZe],uR),yee=ge([ox],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(HS)),xee=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),wee=ge([ox],xee),dR=e=>e.map(t=>t.data).filter(Boolean).flat(1),mZe=ge([ox],dR),fR=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},hR=ge([mZe,rx],fR),mR=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:mr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:mr(a,n)}))):e.map(n=>({value:n})),GS=ge([hR,bn,ox],mR);function bee(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function gh(e){return e.filter(t=>vl(t)||t instanceof Date).map(Number).filter(t=>Li(t)===!1)}function pZe(e,t,r){return!r||typeof t!="number"||Li(t)?[]:r.length?gh(r.flatMap(n=>{var a=mr(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!Ta(i)||!Ta(s)))return[t-i,t+s]})):[]}var gZe=ge([yee,rx,da],mee),_ee=(e,t,r)=>{var n={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[s,o]=i,l=o.map(WS);return[s,{stackedData:Tqe(e,l,r),graphicalItems:o}]}))},Qv=ge([gZe,yee,nx],_ee),Eee=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:a}=t;if(r!=="zAxis"){var i=Nqe(e,n,a);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},vZe=ge([Qv,wd,zr],Eee),See=(e,t,r,n,a)=>r.length>0?e.flatMap(i=>r.flatMap(s=>{var o,l,c=(o=n[s.id])===null||o===void 0?void 0:o.filter(f=>bee(a,f)),u=mr(i,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:u,errorDomain:pZe(i,u,c)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:mr(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),KS=e=>e.errorBars,Tee=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>bee(r,n));ge([wee,KS,zr],Tee);var yZe=ge([hR,bn,wee,KS,zr],See);function xZe(e){var{value:t}=e;if(vl(t)||t instanceof Date)return t}var FB=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=gh(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},wZe=(e,t,r)=>{var n=e.map(xZe).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&xQ(n))?uZ(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},pR=e=>{var t;if(e==null||!("domain"in e))return EN;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=gh(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:EN},m_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},Aee=e=>e.referenceElements.dots,Ym=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),bZe=ge([Aee,zr,ax],Ym),Cee=e=>e.referenceElements.areas,_Ze=ge([Cee,zr,ax],Ym),kee=e=>e.referenceElements.lines,EZe=ge([kee,zr,ax],Ym),Nee=(e,t)=>{var r=gh(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},SZe=ge(bZe,zr,Nee),Pee=(e,t)=>{var r=gh(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},TZe=ge([_Ze,zr],Pee),Iee=(e,t)=>{var r=gh(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},AZe=ge(EZe,zr,Iee),CZe=ge(SZe,AZe,TZe,(e,t,r)=>m_(e,r,t)),Oee=ge([bn],pR),gR=(e,t,r,n,a,i,s)=>{var o=VJe(t,e.allowDataOverflow);if(o!=null)return o;var l=i==="vertical"&&s==="xAxis"||i==="horizontal"&&s==="yAxis",c=l?m_(r,a,FB(n)):m_(a,FB(n));return zJe(t,c,e.allowDataOverflow)},kZe=ge([bn,Oee,vZe,yZe,CZe,Dt,zr],gR),NZe=[0,1],vR=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,c=Al(t,i);return c&&o==null?uZ(0,r.length):l==="category"?wZe(n,e,c):a==="expand"?NZe:s}},yR=ge([bn,Dt,hR,GS,nx,zr,kZe],vR),Dee=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Gy(i));return o in qp?o:"point"}}},Xm=ge([bn,Dt,vee,rR,zr],Dee);function PZe(e){if(e!=null){if(e in qp)return qp[e]();var t="scale".concat(Gy(e));if(t in qp)return qp[t]()}}function xR(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=PZe(t);if(a!=null){var i=a.domain(r).range(n);return wqe(i),i}}}var wR=(e,t,r)=>{var n=pR(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&lm(e))return ZJe(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&lm(e))return eZe(e,t.tickCount,t.allowDecimals)}},bR=ge([yR,ix,Xm],wR),_R=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&lm(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},IZe=ge([bn,yR,bR,zr],_R),OZe=ge(GS,bn,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(gh(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),jee=ge(OZe,Dt,see,Hn,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!Ta(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=Ha(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),DZe=(e,t)=>{var r=Rc(e,t);return r==null||typeof r.padding!="string"?0:jee(e,"xAxis",t,r.padding)},jZe=(e,t)=>{var r=Mc(e,t);return r==null||typeof r.padding!="string"?0:jee(e,"yAxis",t,r.padding)},RZe=ge(Rc,DZe,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),MZe=ge(Mc,jZe,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),FZe=ge([Hn,RZe,DS,OS,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),LZe=ge([Hn,Dt,MZe,DS,OS,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),lx=(e,t,r,n)=>{var a;switch(t){case"xAxis":return FZe(e,r,n);case"yAxis":return LZe(e,r,n);case"zAxis":return(a=lR(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return uee(e);case"radiusAxis":return dee(e,r);default:return}},Ree=ge([bn,lx],VS),Qm=ge([bn,Xm,IZe,Ree],xR);ge([ox,KS,zr],Tee);function Mee(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var qS=(e,t)=>t,YS=(e,t,r)=>r,$Ze=ge(PS,qS,YS,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Mee)),BZe=ge(IS,qS,YS,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Mee)),Fee=(e,t)=>({width:e.width,height:t.height}),UZe=(e,t)=>{var r=typeof t.width=="number"?t.width:Xy;return{width:r,height:e.height}},Lee=ge(Hn,Rc,Fee),VZe=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},zZe=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},WZe=ge(Oc,Hn,$Ze,qS,YS,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var l=Fee(t,o);s==null&&(s=VZe(t,n,e));var c=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(c)*l.height,s+=(c?-1:1)*l.height}),i}),HZe=ge(Ic,Hn,BZe,qS,YS,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var l=UZe(t,o);s==null&&(s=zZe(t,n,e));var c=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(c)*l.width,s+=(c?-1:1)*l.width}),i}),GZe=(e,t)=>{var r=Rc(e,t);if(r!=null)return WZe(e,r.orientation,r.mirror)},KZe=ge([Hn,Rc,GZe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),qZe=(e,t)=>{var r=Mc(e,t);if(r!=null)return HZe(e,r.orientation,r.mirror)},YZe=ge([Hn,Mc,qZe,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),$ee=ge(Hn,Mc,(e,t)=>{var r=typeof t.width=="number"?t.width:Xy;return{width:r,height:e.height}}),LB=(e,t,r)=>{switch(t){case"xAxis":return Lee(e,r).width;case"yAxis":return $ee(e,r).height;default:return}},Bee=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=Al(e,n),l=t.map(c=>c.value);if(s&&o&&i==="category"&&a&&xQ(l))return l}},ER=ge([Dt,GS,bn,zr],Bee),Uee=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=Al(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},SR=ge([Dt,GS,ix,zr],Uee),$B=ge([Dt,fZe,Xm,Qm,ER,SR,lx,bR,zr],(e,t,r,n,a,i,s,o,l)=>{if(t==null)return null;var c=Al(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}),XZe=(e,t,r,n,a,i,s,o,l)=>{if(!(t==null||n==null)){var c=Al(e,l),{type:u,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=u==="category"&&n.bandwidth?n.bandwidth()/m:0;p=l==="angleAxis"&&i!=null&&i.length>=2?ia(i[0]-i[1])*2*p:p;var g=f||a;if(g){var v=g.map((y,x)=>{var b=s?s.indexOf(y):y;return{index:x,coordinate:n(b)+p,value:y,offset:p}});return v.filter(y=>!Li(y.coordinate))}return c&&o?o.map((y,x)=>({coordinate:n(y)+p,value:y,index:x,offset:p})):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+p,value:y,offset:p})):n.domain().map((y,x)=>({coordinate:n(y)+p,value:s?s[y]:y,index:x,offset:p}))}},Vee=ge([Dt,ix,Xm,Qm,bR,lx,ER,SR,zr],XZe),QZe=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Al(e,s),{tickCount:l}=t,c=0;return c=s==="angleAxis"&&(n==null?void 0:n.length)>=2?ia(n[0]-n[1])*2*c:c,o&&i?i.map((u,f)=>({coordinate:r(u)+c,value:u,index:f,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,f)=>({coordinate:r(u)+c,value:a?a[u]:u,index:f,offset:c}))}},xl=ge([Dt,ix,Qm,lx,ER,SR,zr],QZe),wl=ge(bn,Qm,(e,t)=>{if(!(e==null||t==null))return h_(h_({},e),{},{scale:t})}),JZe=ge([bn,Xm,yR,Ree],xR);ge((e,t,r)=>lR(e,r),JZe,(e,t)=>{if(!(e==null||t==null))return h_(h_({},e),{},{scale:t})});var ZZe=ge([Dt,PS,IS],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),zee=e=>e.options.defaultTooltipEventType,Wee=e=>e.options.validateTooltipEventTypes;function Hee(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function TR(e,t){var r=zee(e),n=Wee(e);return Hee(t,r,n)}function eet(e){return tt(t=>TR(t,e))}var Gee=(e,t)=>{var r,n=Number(t);if(!(Li(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},tet=e=>e.tooltip.settings,ou={active:!1,index:null,dataKey:void 0,coordinate:void 0},ret={itemInteraction:{click:ou,hover:ou},axisInteraction:{click:ou,hover:ou},keyboardInteraction:ou,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Kee=hs({name:"tooltip",initialState:ret,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=ac(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:net,removeTooltipEntrySettings:aet,setTooltipSettingsState:iet,setActiveMouseOverItemIndex:qee,mouseLeaveItem:set,mouseLeaveChart:Yee,setActiveClickItemIndex:oet,setMouseOverAxisIndex:Xee,setMouseClickAxisIndex:cet,setSyncInteraction:SN,setKeyboardInteraction:TN}=Kee.actions,uet=Kee.reducer;function BB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function N1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BB(Object(r),!0).forEach(function(n){det(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function det(e,t,r){return(t=fet(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fet(e){var t=het(e,"string");return typeof t=="symbol"?t:t+""}function het(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function met(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function pet(e){return e.index!=null}var Qee=(e,t,r,n)=>{if(t==null)return ou;var a=met(e,t,r);if(a==null)return ou;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(pet(a)){if(i)return N1(N1({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return N1(N1({},ou),{},{coordinate:a.coordinate})},AR=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Ta(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},Jee=(e,t,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var l=s[0],c=l==null?void 0:o(l.positions,i);if(c!=null)return c;var u=a==null?void 0:a[Number(i)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},Zee=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},cx=e=>e.options.tooltipPayloadSearcher,Jm=e=>e.tooltip;function UB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UB(Object(r),!0).forEach(function(n){get(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function get(e,t,r){return(t=vet(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vet(e){var t=yet(e,"string");return typeof t=="symbol"?t:t+""}function yet(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xet(e,t){return e??t}var ete=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:g,settings:v}=m,y=xet(g,o),x=Array.isArray(y)?UJ(y,c,u):y,b=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:n,E=v==null?void 0:v.nameKey,k;if(n&&Array.isArray(x)&&!Array.isArray(x[0])&&s==="axis"?k=wQ(x,n,a):k=i(x,t,l,E),Array.isArray(k))k.forEach(S=>{var _=VB(VB({},v),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});h.push(k8({tooltipEntrySettings:_,dataKey:S.dataKey,payload:S.payload,value:mr(S.payload,S.dataKey),name:S.name}))});else{var C;h.push(k8({tooltipEntrySettings:v,dataKey:b,payload:k,value:mr(k,b),name:(C=mr(k,E))!==null&&C!==void 0?C:v==null?void 0:v.name}))}return h},f)}},CR=ge([da,Dt,vee,rR,qn],Dee),wet=ge([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),bet=ge([qn,qm],cR),ux=ge([wet,da,bet],uR),_et=ge([ux],e=>e.filter(HS)),Eet=ge([ux],dR),Zm=ge([Eet,wd],fR),Tet=ge([_et,wd,da],mee),kR=ge([Zm,da,ux],mR),Aet=ge([da],pR),Cet=ge([ux],e=>e.filter(HS)),ket=ge([Tet,Cet,nx],_ee),Net=ge([ket,wd,qn],Eee),Pet=ge([ux],xee),Iet=ge([Zm,da,Pet,KS,qn],See),Oet=ge([Aee,qn,qm],Ym),Det=ge([Oet,qn],Nee),jet=ge([Cee,qn,qm],Ym),Ret=ge([jet,qn],Pee),Met=ge([kee,qn,qm],Ym),Fet=ge([Met,qn],Iee),Let=ge([Det,Fet,Ret],m_),$et=ge([da,Aet,Net,Iet,Let,Dt,qn],gR),tte=ge([da,Dt,Zm,kR,nx,qn,$et],vR),Bet=ge([tte,da,CR],wR),Uet=ge([da,tte,Bet,qn],_R),rte=e=>{var t=qn(e),r=qm(e),n=!1;return lx(e,t,r,n)},nte=ge([da,rte],VS),ate=ge([da,CR,Uet,nte],xR),Vet=ge([Dt,kR,da,qn],Bee),zet=ge([Dt,kR,da,qn],Uee),Wet=(e,t,r,n,a,i,s,o)=>{if(t){var{type:l}=t,c=Al(e,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?ia(a[0]-a[1])*2*f:f,c&&s?s.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},Fc=ge([Dt,da,CR,ate,rte,Vet,zet,qn],Wet),NR=ge([zee,Wee,tet],(e,t,r)=>Hee(r.shared,e,t)),ite=e=>e.tooltip.settings.trigger,PR=e=>e.tooltip.settings.defaultIndex,XS=ge([Jm,NR,ite,PR],Qee),Qu=ge([XS,Zm],AR),ste=ge([Fc,Qu],Gee),ote=ge([XS],e=>{if(e)return e.dataKey}),lte=ge([Jm,NR,ite,PR],Zee),Het=ge([Ic,Oc,Dt,Hn,Fc,PR,lte,cx],Jee),Get=ge([XS,Het],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Ket=ge([XS],e=>e.active),qet=ge([lte,Qu,wd,hee,ste,cx,NR],ete),Yet=ge([qet],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function zB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zB(Object(r),!0).forEach(function(n){Xet(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xet(e,t,r){return(t=Qet(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qet(e){var t=Jet(e,"string");return typeof t=="symbol"?t:t+""}function Jet(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zet=()=>tt(da),ett=()=>{var e=Zet(),t=tt(Fc),r=tt(ate);return Xf(WB(WB({},e),{},{scale:r}),t)},cte=()=>tt(rR),IR=(e,t)=>t,ute=(e,t,r)=>r,OR=(e,t,r,n)=>n,ttt=ge(Fc,e=>SS(e,t=>t.coordinate)),DR=ge([Jm,IR,ute,OR],Qee),dte=ge([DR,Zm],AR),rtt=(e,t,r)=>{if(t!=null){var n=Jm(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},fte=ge([Jm,IR,ute,OR],Zee),p_=ge([Ic,Oc,Dt,Hn,Fc,OR,fte,cx],Jee),ntt=ge([DR,p_],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),hte=ge(Fc,dte,Gee),att=ge([fte,dte,wd,hee,hte,cx,IR],ete),itt=ge([DR],e=>({isActive:e.active,activeIndex:e.index})),stt=(e,t,r,n,a,i,s,o)=>{if(!(!e||!t||!n||!a||!i)){var l=Pqe(e.chartX,e.chartY,t,r,o);if(l){var c=Oqe(l,t),u=yqe(c,s,i,n,a),f=Iqe(t,i,u,l);return{activeIndex:String(u),activeCoordinate:f}}}};function AN(){return AN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},AN.apply(null,arguments)}function HB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function P1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HB(Object(r),!0).forEach(function(n){ott(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ott(e,t,r){return(t=ltt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ltt(e){var t=ctt(e,"string");return typeof t=="symbol"?t:t+""}function ctt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function utt(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:s,cursor:o,tooltipEventType:l,chartName:c}=e,u=t,f=r,h=n;if(!o||!u||c!=="ScatterChart"&&l!=="axis")return null;var m,p;if(c==="ScatterChart")m=u,p=OYe;else if(c==="BarChart")m=DYe(s,u,a,i),p=nZ;else if(s==="radial"){var{cx:g,cy:v,radius:y,startAngle:x,endAngle:b}=aZ(u);m={cx:g,cy:v,startAngle:x,endAngle:b,innerRadius:y,outerRadius:y},p=sZ}else m={points:fXe(s,u,a)},p=k0;var E=typeof o=="object"&&"className"in o?o.className:void 0,k=P1(P1(P1(P1({stroke:"#ccc",pointerEvents:"none"},a),m),Mr(o,!1)),{},{payload:f,payloadIndex:h,className:Ft("recharts-tooltip-cursor",E)});return A.isValidElement(o)?A.cloneElement(o,k):A.createElement(p,k)}function dtt(e){var t=ett(),r=qJ(),n=Qy(),a=cte();return A.createElement(utt,AN({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var mte=A.createContext(null),ftt=()=>A.useContext(mte),pte={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var m=new a(u,f||l,h),p=r?r+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,m,p){var g=r?r+c:c;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,x,b;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,m),!0;case 6:return v.fn.call(v.context,u,f,h,m,p),!0}for(b=1,x=new Array(y-1);b<y;b++)x[b-1]=arguments[b];v.fn.apply(v.context,x)}else{var E=v.length,k;for(b=0;b<E;b++)switch(v[b].once&&this.removeListener(c,v[b].fn,void 0,!0),y){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,f);break;case 4:v[b].fn.call(v[b].context,u,f,h);break;default:if(!x)for(k=1,x=new Array(y-1);k<y;k++)x[k-1]=arguments[k];v[b].fn.apply(v[b].context,x)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var m=r?r+c:c;if(!this._events[m])return this;if(!u)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===u&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var g=0,v=[],y=p.length;g<y;g++)(p[g].fn!==u||h&&!p[g].once||f&&p[g].context!==f)&&v.push(p[g]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(pte);var htt=pte.exports;const mtt=cn(htt);var Jv=new mtt,CN="recharts.syncEvent.tooltip",GB="recharts.syncEvent.brush";function QS(e,t){if(t){var r=Number.parseInt(t,10);if(!Li(r))return e==null?void 0:e[r]}}var ptt={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},gte=hs({name:"options",initialState:ptt,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gtt=gte.reducer,{createEventEmitter:vtt}=gte.actions;function ytt(e){return e.tooltip.syncInteraction}var xtt={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vte=hs({name:"chartData",initialState:xtt,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:KB,setDataStartEndIndexes:wtt,setComputedData:vct}=vte.actions,btt=vte.reducer,_tt=["x","y"];function qB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qB(Object(r),!0).forEach(function(n){Ett(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ett(e,t,r){return(t=Stt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Stt(e){var t=Ttt(e,"string");return typeof t=="symbol"?t:t+""}function Ttt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Att(e,t){if(e==null)return{};var r,n,a=Ctt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ctt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yte=()=>{};function ktt(){var e=tt(nR),t=tt(aR),r=Jr(),n=tt(oee),a=tt(Fc),i=Qy(),s=Aj(),o=tt(l=>l.rootProps.className);A.useEffect(()=>{if(e==null)return yte;var l=(c,u,f)=>{if(t!==f&&e===c){if(n==="index"){var h;if(s&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate){var m=u.payload.coordinate,{x:p,y:g}=m,v=Att(m,_tt),y=Nd(Nd(Nd({},v),typeof p=="number"&&{x:Math.max(s.x,Math.min(p,s.x+s.width))}),typeof g=="number"&&{y:Math.max(s.y,Math.min(g,s.y+s.height))}),x=Nd(Nd({},u),{},{payload:Nd(Nd({},u.payload),{},{coordinate:y})});r(x)}else r(u);return}if(a!=null){var b;if(typeof n=="function"){var E={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},k=n(a,E);b=a[k]}else n==="value"&&(b=a.find(D=>String(D.value)===u.payload.label));var{coordinate:C}=u.payload;if(b==null||u.payload.active===!1||C==null||s==null){r(SN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:_}=C,T=Math.min(S,s.x+s.width),P=Math.min(_,s.y+s.height),N={x:i==="horizontal"?b.coordinate:T,y:i==="horizontal"?P:b.coordinate},O=SN({active:u.payload.active,coordinate:N,dataKey:u.payload.dataKey,index:String(b.index),label:u.payload.label});r(O)}}};return Jv.on(CN,l),()=>{Jv.off(CN,l)}},[o,r,t,e,n,a,i,s])}function Ntt(){var e=tt(nR),t=tt(aR),r=Jr();A.useEffect(()=>{if(e==null)return yte;var n=(a,i,s)=>{t!==s&&e===a&&r(wtt(i))};return Jv.on(GB,n),()=>{Jv.off(GB,n)}},[r,t,e])}function Ptt(){var e=Jr();A.useEffect(()=>{e(vtt())},[e]),ktt(),Ntt()}function Itt(e,t,r,n,a,i){var s=tt(h=>rtt(h,e,t)),o=tt(aR),l=tt(nR),c=tt(oee),u=tt(ytt),f=u==null?void 0:u.active;A.useEffect(()=>{if(!f&&l!=null&&o!=null){var h=SN({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n});Jv.emit(CN,l,h,o)}},[f,r,s,a,n,o,l,c,i])}function YB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YB(Object(r),!0).forEach(function(n){Ott(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ott(e,t,r){return(t=Dtt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dtt(e){var t=jtt(e,"string");return typeof t=="symbol"?t:t+""}function jtt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rtt(e){return e.dataKey}function Mtt(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(uYe,t)}var QB=[],Ftt={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Dc.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Yl(e){var t=Gn(e,Ftt),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:s,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:u,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:g,shared:v,trigger:y,defaultIndex:x,portal:b,axisId:E}=t,k=Jr(),C=typeof x=="number"?String(x):x;A.useEffect(()=>{k(iet({shared:v,trigger:y,axisId:E,active:r,defaultIndex:C}))},[k,v,y,E,r,C]);var S=Aj(),_=JJ(),T=eet(v),{activeIndex:P,isActive:N}=tt(G=>itt(G,T,y,C)),O=tt(G=>att(G,T,y,C)),D=tt(G=>hte(G,T,y,C)),X=tt(G=>ntt(G,T,y,C)),te=O,ne=ftt(),Q=r??N,[z,j]=pJ([te,Q]),ce=T==="axis"?D:void 0;Itt(T,y,X,ce,P,Q);var ee=b??ne;if(ee==null)return null;var M=te??QB;Q||(M=QB),o&&M.length&&(M=nJ(te.filter(G=>G.value!=null&&(G.hide!==!0||t.includeHidden)),u,Rtt));var H=M.length>0,U=A.createElement(vYe,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:l,active:Q,coordinate:X,hasPayload:H,offset:c,position:f,reverseDirection:h,useTranslate3d:m,viewBox:S,wrapperStyle:p,lastBoundingBox:z,innerRef:j,hasPortalFromProps:!!b},Mtt(s,XB(XB({},t),{},{payload:M,label:ce,active:Q,coordinate:X,accessibilityLayer:_})));return A.createElement(A.Fragment,null,z_.createPortal(U,ee),Q&&A.createElement(dtt,{cursor:g,tooltipEventType:T,coordinate:X,payload:te,index:P}))}var xte={},wte={},bte={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,o=null;const l=i!=null&&i.includes("leading"),c=i==null||i.includes("trailing"),u=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},f=()=>{c&&u(),g()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},g=()=>{p(),s=void 0,o=null},v=()=>{u()},y=function(...x){if(a!=null&&a.aborted)return;s=this,o=x;const b=h==null;m(),l&&b&&u()};return y.schedule=m,y.cancel=g,y.flush=v,a==null||a.addEventListener("abort",g,{once:!0}),y}e.debounce=t})(bte);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bte;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:l}=i,c=Array(2);s&&(c[0]="leading"),o&&(c[1]="trailing");let u,f=null;const h=t.debounce(function(...g){u=n.apply(this,g),f=null},a,{edges:c}),m=function(...g){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=n.apply(this,g),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,g),u)},p=()=>(h.flush(),u);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(wte);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wte;function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:o})}e.throttle=r})(xte);var Ltt=xte.throttle;const $tt=cn(Ltt);var kg=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function JB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JB(Object(r),!0).forEach(function(n){Btt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Btt(e,t,r){return(t=Utt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Utt(e){var t=Vtt(e,"string");return typeof t=="symbol"?t:t+""}function Vtt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xl=A.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a="100%",height:i="100%",minWidth:s=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:h,onResize:m,style:p={}}=e,g=A.useRef(null),v=A.useRef();v.current=m,A.useImperativeHandle(t,()=>g.current);var[y,x]=A.useState({containerWidth:n.width,containerHeight:n.height}),b=A.useCallback((k,C)=>{x(S=>{var _=Math.round(k),T=Math.round(C);return S.containerWidth===_&&S.containerHeight===T?S:{containerWidth:_,containerHeight:T}})},[]);A.useEffect(()=>{var k=T=>{var P,{width:N,height:O}=T[0].contentRect;b(N,O),(P=v.current)===null||P===void 0||P.call(v,N,O)};u>0&&(k=$tt(k,u,{trailing:!0,leading:!1}));var C=new ResizeObserver(k),{width:S,height:_}=g.current.getBoundingClientRect();return b(S,_),C.observe(g.current),()=>{C.disconnect()}},[b,u]);var E=A.useMemo(()=>{var{containerWidth:k,containerHeight:C}=y;if(k<0||C<0)return null;kg(Yd(a)||Yd(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,i),kg(!r||r>0,"The aspect(%s) must be greater than zero.",r);var S=Yd(a)?k:a,_=Yd(i)?C:i;return r&&r>0&&(S?_=S/r:_&&(S=_*r),l&&_>l&&(_=l)),kg(S>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,_,a,i,s,o,r),A.Children.map(c,T=>A.cloneElement(T,{width:S,height:_,style:hA({width:S,height:_},T.props.style)}))},[r,c,i,l,o,s,y,a]);return A.createElement("div",{id:f?"".concat(f):void 0,className:Ft("recharts-responsive-container",h),style:hA(hA({},p),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:l}),ref:g},A.createElement("div",{style:{width:0,height:0,overflow:"visible"}},E))}),ep=e=>null;ep.displayName="Cell";function ztt(e,t,r){return(t=Wtt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wtt(e){var t=Htt(e,"string");return typeof t=="symbol"?t:t+""}function Htt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Gtt{constructor(t){ztt(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function ZB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ktt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZB(Object(r),!0).forEach(function(n){qtt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qtt(e,t,r){return(t=Ytt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ytt(e){var t=Xtt(e,"string");return typeof t=="symbol"?t:t+""}function Xtt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qtt={cacheSize:2e3,enableCache:!0},_te=Ktt({},Qtt),eU=new Gtt(_te.cacheSize),Jtt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tU="recharts_measurement_span";function Ztt(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}var rU=(e,t)=>{try{var r=document.getElementById(tU);r||(r=document.createElement("span"),r.setAttribute("id",tU),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Jtt,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ng=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Dc.isSsr)return{width:0,height:0};if(!_te.enableCache)return rU(t,r);var n=Ztt(t,r),a=eU.get(n);if(a)return a;var i=rU(t,r);return eU.set(n,i),i},nU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,aU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ert=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,trt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ete={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rrt=Object.keys(Ete),l0="NaN";function nrt(e,t){return e*Ete[t]}class vi{static parse(t){var r,[,n,a]=(r=trt.exec(t))!==null&&r!==void 0?r:[];return new vi(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Li(t)&&(this.unit=""),r!==""&&!ert.test(r)&&(this.num=NaN,this.unit=""),rrt.includes(r)&&(this.num=nrt(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new vi(NaN,""):new vi(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new vi(NaN,""):new vi(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vi(NaN,""):new vi(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new vi(NaN,""):new vi(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Li(this.num)}}function Ste(e){if(e.includes(l0))return l0;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=nU.exec(t))!==null&&r!==void 0?r:[],s=vi.parse(n??""),o=vi.parse(i??""),l=a==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return l0;t=t.replace(nU,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,f,h]=(c=aU.exec(t))!==null&&c!==void 0?c:[],m=vi.parse(u??""),p=vi.parse(h??""),g=f==="+"?m.add(p):m.subtract(p);if(g.isNaN())return l0;t=t.replace(aU,g.toString())}return t}var iU=/\(([^()]*)\)/;function art(e){for(var t=e,r;(r=iU.exec(t))!=null;){var[,n]=r;t=t.replace(iU,Ste(n))}return t}function irt(e){var t=e.replace(/\s+/g,"");return t=art(t),t=Ste(t),t}function srt(e){try{return irt(e)}catch{return l0}}function mA(e){var t=srt(e.slice(5,-1));return t===l0?"":t}var ort=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lrt=["dx","dy","angle","className","breakAll"];function kN(){return kN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kN.apply(null,arguments)}function sU(e,t){if(e==null)return{};var r,n,a=crt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function crt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tte=/[ \f\n\r\t\v\u2028\u2029]+/,Ate=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Rr(t)||(r?a=t.toString().split(""):a=t.toString().split(Tte));var i=a.map(o=>({word:o,width:Ng(o,n).width})),s=r?0:Ng("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},urt=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:l}=e,c=rt(i),u=s,f=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return N.reduce((O,D)=>{var{word:X,width:te}=D,ne=O[O.length-1];if(ne&&(n==null||a||ne.width+te+r<Number(n)))ne.words.push(X),ne.width+=te+r;else{var Q={words:[X],width:te};O.push(Q)}return O},[])},h=f(t),m=P=>P.reduce((N,O)=>N.width>O.width?N:O);if(!c||a)return h;var p=h.length>i||m(h).width>Number(n);if(!p)return h;for(var g="",v=P=>{var N=u.slice(0,P),O=Ate({breakAll:l,style:o,children:N+g}).wordsWithComputedWidth,D=f(O),X=D.length>i||m(D).width>Number(n);return[X,D]},y=0,x=u.length-1,b=0,E;y<=x&&b<=u.length-1;){var k=Math.floor((y+x)/2),C=k-1,[S,_]=v(C),[T]=v(k);if(!S&&!T&&(y=k+1),S&&T&&(x=k-1),!S&&T){E=_;break}b++}return E||h},oU=e=>{var t=Rr(e)?[]:e.toString().split(Tte);return[{words:t}]},drt=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!Dc.isSsr){var o,l,c=Ate({breakAll:i,children:n,style:a});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return oU(n);return urt({breakAll:i,children:n,maxLines:s,style:a},o,l,t,r)}return oU(n)},lU="#808080",JS=A.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=lU}=e,u=sU(e,ort),f=A.useMemo(()=>drt({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:s,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,s,u.style,u.width]),{dx:h,dy:m,angle:p,className:g,breakAll:v}=u,y=sU(u,lrt);if(!vl(r)||!vl(n)||f.length===0)return null;var x=r+(rt(h)?h:0),b=n+(rt(m)?m:0),E;switch(l){case"start":E=mA("calc(".concat(i,")"));break;case"middle":E=mA("calc(".concat((f.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:E=mA("calc(".concat(f.length-1," * -").concat(a,")"));break}var k=[];if(s){var C=f[0].width,{width:S}=u;k.push("scale(".concat(rt(S)?S/C:1,")"))}return p&&k.push("rotate(".concat(p,", ").concat(x,", ").concat(b,")")),k.length&&(y.transform=k.join(" ")),A.createElement("text",kN({},Mr(y,!0),{ref:t,x,y:b,className:Ft("recharts-text",g),textAnchor:o,fill:c.includes("url")?lU:c}),f.map((_,T)=>{var P=_.words.join(v?"":" ");return A.createElement("tspan",{x,dy:T===0?E:a,key:"".concat(P,"-").concat(T)},P)}))});JS.displayName="Text";var frt=["labelRef"];function hrt(e,t){if(e==null)return{};var r,n,a=mrt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mrt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cU(Object(r),!0).forEach(function(n){prt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function prt(e,t,r){return(t=grt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function grt(e){var t=vrt(e,"string");return typeof t=="symbol"?t:t+""}function vrt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bl(){return Bl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bl.apply(null,arguments)}var Cte=A.createContext(null),yrt=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,s=A.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return A.createElement(Cte.Provider,{value:s},i)},kte=()=>{var e=A.useContext(Cte),t=Aj();return e||t},xrt=A.createContext(null),wrt=()=>{var e=A.useContext(xrt),t=tt(fee);return e||t},brt=e=>{var{value:t,formatter:r}=e,n=Rr(e.children)?t:e.children;return typeof r=="function"?r(n):n},jR=e=>e!=null&&typeof e=="function",_rt=(e,t)=>{var r=ia(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Ert=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:h,clockWise:m}=a,p=(c+u)/2,g=_rt(f,h),v=g>=0?1:-1,y,x;switch(t){case"insideStart":y=f+v*i,x=m;break;case"insideEnd":y=h-v*i,x=!m;break;case"end":y=h+v*i,x=m;break;default:throw new Error("Unsupported position ".concat(t))}x=g<=0?x:!x;var b=In(o,l,p,y),E=In(o,l,p,y+(x?1:-1)*359),k="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(x?0:1,`,
    `).concat(E.x,",").concat(E.y),C=Rr(e.id)?Vv("recharts-radial-line-"):e.id;return A.createElement("text",Bl({},n,{dominantBaseline:"central",className:Ft("recharts-radial-bar-label",s)}),A.createElement("defs",null,A.createElement("path",{id:C,d:k})),A.createElement("textPath",{xlinkHref:"#".concat(C)},r))},Srt=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(r==="outside"){var{x:u,y:f}=In(n,a,s+t,c);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+s)/2,{x:m,y:p}=In(n,a,h,c);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Nte=e=>"cx"in e&&rt(e.cx),Trt=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!Nte(r)&&(i=r);var{x:s,y:o,width:l,height:c}=t,u=c>=0?1:-1,f=u*n,h=u>0?"end":"start",m=u>0?"start":"end",p=l>=0?1:-1,g=p*n,v=p>0?"end":"start",y=p>0?"start":"end";if(a==="top"){var x={x:s+l/2,y:o-u*n,textAnchor:"middle",verticalAnchor:h};return fn(fn({},x),i?{height:Math.max(o-i.y,0),width:l}:{})}if(a==="bottom"){var b={x:s+l/2,y:o+c+f,textAnchor:"middle",verticalAnchor:m};return fn(fn({},b),i?{height:Math.max(i.y+i.height-(o+c),0),width:l}:{})}if(a==="left"){var E={x:s-g,y:o+c/2,textAnchor:v,verticalAnchor:"middle"};return fn(fn({},E),i?{width:Math.max(E.x-i.x,0),height:c}:{})}if(a==="right"){var k={x:s+l+g,y:o+c/2,textAnchor:y,verticalAnchor:"middle"};return fn(fn({},k),i?{width:Math.max(i.x+i.width-k.x,0),height:c}:{})}var C=i?{width:l,height:c}:{};return a==="insideLeft"?fn({x:s+g,y:o+c/2,textAnchor:y,verticalAnchor:"middle"},C):a==="insideRight"?fn({x:s+l-g,y:o+c/2,textAnchor:v,verticalAnchor:"middle"},C):a==="insideTop"?fn({x:s+l/2,y:o+f,textAnchor:"middle",verticalAnchor:m},C):a==="insideBottom"?fn({x:s+l/2,y:o+c-f,textAnchor:"middle",verticalAnchor:h},C):a==="insideTopLeft"?fn({x:s+g,y:o+f,textAnchor:y,verticalAnchor:m},C):a==="insideTopRight"?fn({x:s+l-g,y:o+f,textAnchor:v,verticalAnchor:m},C):a==="insideBottomLeft"?fn({x:s+g,y:o+c-f,textAnchor:y,verticalAnchor:h},C):a==="insideBottomRight"?fn({x:s+l-g,y:o+c-f,textAnchor:v,verticalAnchor:h},C):a&&typeof a=="object"&&(rt(a.x)||Yd(a.x))&&(rt(a.y)||Yd(a.y))?fn({x:s+Ha(a.x,l),y:o+Ha(a.y,c),textAnchor:"end",verticalAnchor:"end"},C):fn({x:s+l/2,y:o+c/2,textAnchor:"middle",verticalAnchor:"middle"},C)},Art={offset:5};function eu(e){var t=Gn(e,Art),{viewBox:r,position:n,value:a,children:i,content:s,className:o="",textBreakAll:l,labelRef:c}=t,u=wrt(),f=kte(),h=n==="center"?f:u??f,m=r||h;if(!m||Rr(a)&&Rr(i)&&!A.isValidElement(s)&&typeof s!="function")return null;var p=fn(fn({},t),{},{viewBox:m});if(A.isValidElement(s)){var{labelRef:g}=p,v=hrt(p,frt);return A.cloneElement(s,v)}var y;if(typeof s=="function"){if(y=A.createElement(s,p),A.isValidElement(y))return y}else y=brt(t);var x=Nte(m),b=Mr(t,!0);if(x&&(n==="insideStart"||n==="insideEnd"||n==="end"))return Ert(t,n,y,b,m);var E=x?Srt(m,t.offset,t.position):Trt(t,m);return A.createElement(JS,Bl({ref:c,className:Ft("recharts-label",o)},b,E,{breakAll:l}),y)}eu.displayName="Label";var Crt=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?A.createElement(eu,Bl({key:"label-implicit"},n)):vl(e)?A.createElement(eu,Bl({key:"label-implicit",value:e},n)):A.isValidElement(e)?e.type===eu?A.cloneElement(e,fn({key:"label-implicit"},n)):A.createElement(eu,Bl({key:"label-implicit",content:e},n)):jR(e)?A.createElement(eu,Bl({key:"label-implicit",content:e},n)):e&&typeof e=="object"?A.createElement(eu,Bl({},e,{key:"label-implicit"},n)):null};function krt(e){var{label:t}=e,r=kte();return Crt(t,r)||null}var Pte={},Ite={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(Ite);var Ote={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Ote);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ite,r=Ote,n=_S;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(Pte);var Nrt=Pte.last;const Prt=cn(Nrt);var Irt=["valueAccessor"],Ort=["dataKey","clockWise","id","textBreakAll"];function g_(){return g_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g_.apply(null,arguments)}function uU(e,t){if(e==null)return{};var r,n,a=Drt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Drt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jrt=e=>Array.isArray(e.value)?Prt(e.value):e.value,Dte=A.createContext(void 0),RR=Dte.Provider,jte=A.createContext(void 0),Rrt=jte.Provider;function Mrt(){return A.useContext(Dte)}function Frt(){return A.useContext(jte)}function dw(e){var{valueAccessor:t=jrt}=e,r=uU(e,Irt),{dataKey:n,clockWise:a,id:i,textBreakAll:s}=r,o=uU(r,Ort),l=Mrt(),c=Frt(),u=l||c;return!u||!u.length?null:A.createElement(ln,{className:"recharts-label-list"},u.map((f,h)=>{var m,p=Rr(n)?t(f,h):mr(f&&f.payload,n),g=Rr(i)?{}:{id:"".concat(i,"-").concat(h)};return A.createElement(eu,g_({},Mr(f,!0),o,g,{fill:(m=r.fill)!==null&&m!==void 0?m:f.fill,parentViewBox:f.parentViewBox,value:p,textBreakAll:s,viewBox:f.viewBox,key:"label-".concat(h),index:h}))}))}dw.displayName="LabelList";function ZS(e){var{label:t}=e;return t?t===!0?A.createElement(dw,{key:"labelList-implicit"}):A.isValidElement(t)||jR(t)?A.createElement(dw,{key:"labelList-implicit",content:t}):typeof t=="object"?A.createElement(dw,g_({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},NN.apply(null,arguments)}var MR=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Ft("recharts-dot",a);return t===+t&&r===+r&&n===+n?A.createElement("circle",NN({},Zs(e),ZD(e),{className:i,cx:t,cy:r,r:n})):null},Rte=e=>e.graphicalItems.polarItems,Lrt=ge([zr,ax],cR),FR=ge([Rte,bn,Lrt],uR),$rt=ge([FR],dR),LR=ge([$rt,Zj],fR),Brt=ge([LR,bn,FR],mR),Urt=ge([LR,bn,FR],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,s=mr(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:mr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),dU=()=>{},Vrt=ge([bn,Oee,dU,Urt,dU,Dt,zr],gR),Mte=ge([bn,Dt,LR,Brt,nx,zr,Vrt],vR),zrt=ge([Mte,bn,Xm],wR);ge([bn,Mte,zrt,zr],_R);var Wrt={radiusAxis:{},angleAxis:{}},Fte=hs({name:"polarAxis",initialState:Wrt,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:yct,removeRadiusAxis:xct,addAngleAxis:wct,removeAngleAxis:bct}=Fte.actions,Hrt=Fte.reducer;function fU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fU(Object(r),!0).forEach(function(n){Grt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Grt(e,t,r){return(t=Krt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Krt(e){var t=qrt(e,"string");return typeof t=="symbol"?t:t+""}function qrt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yrt=(e,t)=>t,$R=ge([Rte,Yrt],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Xrt=[],BR=(e,t,r)=>(r==null?void 0:r.length)===0?Xrt:r,Lte=ge([Zj,$R,BR],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>hU(hU({},t.presentationProps),i.props))),a!=null)return a}}),Qrt=ge([Lte,$R,BR],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,s=mr(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:vd(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),Jrt=ge([Lte,$R,BR,Hn],(e,t,r,n)=>{if(!(t==null||e==null))return Knt({offset:n,pieSettings:t,displayedData:e,cells:r})}),$te={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})($te);var Zrt=$te.isPlainObject;const ent=cn(Zrt);function mU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mU(Object(r),!0).forEach(function(n){tnt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tnt(e,t,r){return(t=rnt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rnt(e){var t=nnt(e,"string");return typeof t=="symbol"?t:t+""}function nnt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(null,arguments)}var gU=(e,t,r,n,a)=>{var i=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},ant={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},int=e=>{var t=Gn(e,ant),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=t,h=A.useRef(),[m,p]=A.useState(-1),g=A.useRef(a),v=A.useRef(i),y=A.useRef(s),x=A.useRef(r),b=A.useRef(n),E=Wm(e,"trapezoid-");if(A.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var X=h.current.getTotalLength();X&&p(X)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var k=Ft("recharts-trapezoid",o);if(!f)return A.createElement("g",null,A.createElement("path",v_({},Mr(t,!0),{className:k,d:gU(r,n,a,i,s)})));var C=g.current,S=v.current,_=y.current,T=x.current,P=b.current,N="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),D=ZJ(["strokeDasharray"],c,l);return A.createElement(zm,{animationId:E,key:E,canBegin:m>0,duration:c,easing:l,isActive:f,begin:u},X=>{var te=fr(C,a,X),ne=fr(S,i,X),Q=fr(_,s,X),z=fr(T,r,X),j=fr(P,n,X);h.current&&(g.current=te,v.current=ne,y.current=Q,x.current=z,b.current=j);var ce=X>0?{transition:D,strokeDasharray:O}:{strokeDasharray:N};return A.createElement("path",v_({},Mr(t,!0),{className:k,d:gU(z,j,te,ne,Q),ref:h,style:pU(pU({},ce),t.style)}))})},snt=["option","shapeType","propTransformer","activeClassName","isActive"];function ont(e,t){if(e==null)return{};var r,n,a=lnt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lnt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vU(Object(r),!0).forEach(function(n){cnt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cnt(e,t,r){return(t=unt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function unt(e){var t=dnt(e,"string");return typeof t=="symbol"?t:t+""}function dnt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fnt(e,t){return y_(y_({},t),e)}function hnt(e,t){return e==="symbols"}function yU(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return A.createElement(nZ,r);case"trapezoid":return A.createElement(int,r);case"sector":return A.createElement(sZ,r);case"symbols":if(hnt(t))return A.createElement(ij,r);break;default:return null}}function mnt(e){return A.isValidElement(e)?e.props:e}function Bte(e){var{option:t,shapeType:r,propTransformer:n=fnt,activeClassName:a="recharts-active-shape",isActive:i}=e,s=ont(e,snt),o;if(A.isValidElement(t))o=A.cloneElement(t,y_(y_({},s),mnt(t)));else if(typeof t=="function")o=t(s);else if(ent(t)&&typeof t!="boolean"){var l=n(t,s);o=A.createElement(yU,{shapeType:r,elementProps:l})}else{var c=s;o=A.createElement(yU,{shapeType:r,elementProps:c})}return i?A.createElement(ln,{className:a},o):o}var UR=(e,t)=>{var r=Jr();return(n,a)=>i=>{e==null||e(n,a,i),r(qee({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},VR=e=>{var t=Jr();return(r,n)=>a=>{e==null||e(r,n,a),t(set())}},zR=(e,t)=>{var r=Jr();return(n,a)=>i=>{e==null||e(n,a,i),r(oet({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function e2(e){var{fn:t,args:r}=e,n=Jr(),a=Za();return A.useEffect(()=>{if(!a){var i=t(r);return n(net(i)),()=>{n(aet(i))}}},[t,r,n,a]),null}var Ute=()=>{};function WR(e){var{legendPayload:t}=e,r=Jr(),n=Za();return A.useEffect(()=>n?Ute:(r(XJ(t)),()=>{r(QJ(t))}),[r,n,t]),null}function pnt(e){var{legendPayload:t}=e,r=Jr(),n=tt(Dt);return A.useEffect(()=>n!=="centric"&&n!=="radial"?Ute:(r(XJ(t)),()=>{r(QJ(t))}),[r,n,t]),null}var pA,gnt=()=>{var[e]=A.useState(()=>Vv("uid-"));return e},vnt=(pA=one.useId)!==null&&pA!==void 0?pA:gnt;function ynt(e,t){var r=vnt();return t||(e?"".concat(e,"-").concat(r):r)}var xnt=A.createContext(void 0),t2=e=>{var{id:t,type:r,children:n}=e,a=ynt("recharts-".concat(r),t);return A.createElement(xnt.Provider,{value:a},n(a))},wnt={cartesianItems:[],polarItems:[]},Vte=hs({name:"graphicalItems",initialState:wnt,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,a=ac(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},removeCartesianGraphicalItem(e,t){var r=ac(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=ac(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:bnt,replaceCartesianGraphicalItem:_nt,removeCartesianGraphicalItem:Ent,addPolarGraphicalItem:Snt,removePolarGraphicalItem:Tnt}=Vte.actions,Ant=Vte.reducer;function HR(e){var t=Jr(),r=A.useRef(null);return A.useEffect(()=>{r.current===null?t(bnt(e)):r.current!==e&&t(_nt({prev:r.current,next:e})),r.current=e},[t,e]),A.useEffect(()=>()=>{r.current&&(t(Ent(r.current)),r.current=null)},[t]),null}function Cnt(e){var t=Jr();return A.useEffect(()=>(t(Snt(e)),()=>{t(Tnt(e))}),[t,e]),null}var knt=["onMouseEnter","onClick","onMouseLeave"],Nnt=["id"],Pnt=["id"];function GR(e,t){if(e==null)return{};var r,n,a=Int(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Int(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xU(Object(r),!0).forEach(function(n){Ont(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ont(e,t,r){return(t=Dnt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dnt(e){var t=jnt(e,"string");return typeof t=="symbol"?t:t+""}function jnt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ju.apply(null,arguments)}function Rnt(e){var t=A.useMemo(()=>ej(e.children,ep),[e.children]),r=tt(n=>Qrt(n,e.id,t));return r==null?null:A.createElement(pnt,{legendPayload:r})}function Mnt(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:s,name:o,hide:l,tooltipType:c}=e;return{dataDefinedOnItem:n.map(u=>u.tooltipPayload),positions:n.map(u=>u.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:vd(o,t),hide:l,type:c,color:s,unit:""}}}var Fnt=(e,t)=>e>t?"start":e<t?"end":"middle",Lnt=(e,t,r)=>Ha(typeof t=="function"?t(e):t,r,r*.8),$nt=(e,t,r)=>{var{top:n,left:a,width:i,height:s}=t,o=BJ(i,s),l=a+Ha(e.cx,i,i/2),c=n+Ha(e.cy,s,s/2),u=Ha(e.innerRadius,o,0),f=Lnt(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}},Bnt=(e,t)=>{var r=ia(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Unt(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Vnt=(e,t)=>{if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ft("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return A.createElement(k0,Ju({},t,{type:"linear",className:r}))},znt=(e,t,r)=>{if(A.isValidElement(e))return A.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),A.isValidElement(n)))return n;var a=Ft("recharts-pie-label-text",Unt(e));return A.createElement(JS,Ju({},t,{alignmentBaseline:"middle",className:a}),n)};function Wnt(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:s}=r;if(!n||!a||!t)return null;var o=Zs(r),l=Mr(a,!1),c=Mr(i,!1),u=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,g=In(h.cx,h.cy,h.outerRadius+u,p),v=Fr(Fr(Fr(Fr({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:Fnt(g.x,h.cx)},g),y=Fr(Fr(Fr(Fr({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:m,points:[In(h.cx,h.cy,h.outerRadius,p),g],key:"line"});return A.createElement(ln,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},i&&Vnt(i,y),znt(a,v,mr(h,s)))});return A.createElement(ln,{className:"recharts-pie-labels"},f)}function Hnt(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?A.createElement(ZS,{label:a}):A.createElement(Wnt,{sectors:t,props:r,showLabels:n})}function Gnt(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=tt(Qu),{onMouseEnter:s,onClick:o,onMouseLeave:l}=a,c=GR(a,knt),u=UR(s,a.dataKey),f=VR(l),h=zR(o,a.dataKey);return t==null||t.length===0?null:A.createElement(A.Fragment,null,t.map((m,p)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&t.length!==1)return null;var g=r&&String(p)===i,v=i?n:null,y=g?r:v,x=Fr(Fr({},m),{},{stroke:m.stroke,tabIndex:-1,[GJ]:p,[KJ]:a.dataKey});return A.createElement(ln,Ju({tabIndex:-1,className:"recharts-pie-sector"},Ky(c,m,p),{onMouseEnter:u(m,p),onMouseLeave:f(m,p),onClick:h(m,p),key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(p)}),A.createElement(Bte,Ju({option:y,isActive:g,shapeType:"sector"},x)))}))}function Knt(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=r,h=Math.abs(r.minAngle),m=Bnt(o,l),p=Math.abs(m),g=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,v=n.filter(C=>mr(C,c,0)!==0).length,y=(p>=360?v:v-1)*g,x=p-v*h-y,b=n.reduce((C,S)=>{var _=mr(S,c,0);return C+(rt(_)?_:0)},0),E;if(b>0){var k;E=n.map((C,S)=>{var _=mr(C,c,0),T=mr(C,u,S),P=$nt(r,i,C),N=(rt(_)?_:0)/b,O,D=Fr(Fr({},C),a&&a[S]&&a[S].props);S?O=k.endAngle+ia(m)*g*(_!==0?1:0):O=o;var X=O+ia(m)*((_!==0?h:0)+N*x),te=(O+X)/2,ne=(P.innerRadius+P.outerRadius)/2,Q=[{name:T,value:_,payload:D,dataKey:c,type:f}],z=In(P.cx,P.cy,ne,te);return k=Fr(Fr(Fr(Fr({},r.presentationProps),{},{percent:N,cornerRadius:s,name:T,tooltipPayload:Q,midAngle:te,middleRadius:ne,tooltipPosition:z},D),P),{},{value:_,startAngle:O,endAngle:X,payload:D,paddingAngle:ia(m)*g}),k})}return E}function qnt(e){var{showLabels:t,sectors:r,children:n}=e,a=A.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return A.createElement(Rrt,{value:t?a:void 0},n)}function Ynt(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:f}=t,h=Wm(t,"recharts-pie-"),m=r.current,[p,g]=A.useState(!1),v=A.useCallback(()=>{typeof f=="function"&&f(),g(!1)},[f]),y=A.useCallback(()=>{typeof u=="function"&&u(),g(!0)},[u]);return A.createElement(qnt,{showLabels:!p,sectors:n},A.createElement(zm,{animationId:h,begin:i,duration:s,isActive:a,easing:o,onAnimationStart:y,onAnimationEnd:v,key:h},x=>{var b=[],E=n&&n[0],k=E==null?void 0:E.startAngle;return n==null||n.forEach((C,S)=>{var _=m&&m[S],T=S>0?Kf(C,"paddingAngle",0):0;if(_){var P=fr(_.endAngle-_.startAngle,C.endAngle-C.startAngle,x),N=Fr(Fr({},C),{},{startAngle:k+T,endAngle:k+P+T});b.push(N),k=N.endAngle}else{var{endAngle:O,startAngle:D}=C,X=fr(0,O-D,x),te=Fr(Fr({},C),{},{startAngle:k+T,endAngle:k+X+T});b.push(te),k=te.endAngle}}),r.current=b,A.createElement(ln,null,A.createElement(Gnt,{sectors:b,activeShape:l,inactiveShape:c,allOtherPieProps:t}))}),A.createElement(Hnt,{showLabels:!p,sectors:n,props:t}),t.children)}var Xnt={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Dc.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Qnt(e){var{id:t}=e,r=GR(e,Nnt),{hide:n,className:a,rootTabIndex:i}=e,s=A.useMemo(()=>ej(e.children,ep),[e.children]),o=tt(u=>Jrt(u,t,s)),l=A.useRef(null),c=Ft("recharts-pie",a);return n||o==null?(l.current=null,A.createElement(ln,{tabIndex:i,className:c})):A.createElement(A.Fragment,null,A.createElement(e2,{fn:Mnt,args:Fr(Fr({},e),{},{sectors:o})}),A.createElement(ln,{tabIndex:i,className:c},A.createElement(Ynt,{props:Fr(Fr({},r),{},{sectors:o}),previousSectorsRef:l})))}function KR(e){var t=Gn(e,Xnt),{id:r}=t,n=GR(t,Pnt),a=Zs(n);return A.createElement(t2,{id:r,type:"pie"},i=>A.createElement(A.Fragment,null,A.createElement(Cnt,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),A.createElement(Rnt,Ju({},n,{id:i})),A.createElement(Qnt,Ju({},n,{id:i}))))}KR.displayName="Pie";function wU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wU(Object(r),!0).forEach(function(n){Jnt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jnt(e,t,r){return(t=Znt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Znt(e){var t=eat(e,"string");return typeof t=="symbol"?t:t+""}function eat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tat={xAxis:{},yAxis:{},zAxis:{}},zte=hs({name:"cartesianAxis",initialState:tat,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=bU(bU({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:rat,removeXAxis:nat,addYAxis:aat,removeYAxis:iat,addZAxis:_ct,removeZAxis:Ect,updateYAxisWidth:sat}=zte.actions,oat=zte.reducer,lat=ge([Hn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),cat=ge([lat,Ic,Oc],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),r2=()=>tt(cat),uat=()=>tt(Yet);function _U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function EU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_U(Object(r),!0).forEach(function(n){dat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_U(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dat(e,t,r){return(t=fat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fat(e){var t=hat(e,"string");return typeof t=="symbol"?t:t+""}function hat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mat=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var s=EU(EU({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Mr(a,!1)),ZD(a)),o;return A.isValidElement(a)?o=A.cloneElement(a,s):typeof a=="function"?o=a(s):o=A.createElement(MR,s),A.createElement(ln,{className:"recharts-active-dot"},o)};function PN(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=tt(Qu),s=uat();if(t==null||s==null)return null;var o=t.find(l=>s.includes(l.payload));return Rr(o)?null:mat({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var pat="Invariant failed";function gat(e,t){throw new Error(pat)}var vat=["x","y"];function IN(){return IN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IN.apply(null,arguments)}function SU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SU(Object(r),!0).forEach(function(n){yat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yat(e,t,r){return(t=xat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xat(e){var t=wat(e,"string");return typeof t=="symbol"?t:t+""}function wat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bat(e,t){if(e==null)return{};var r,n,a=_at(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _at(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Eat(e,t){var{x:r,y:n}=e,a=bat(e,vat),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Op(Op(Op(Op(Op({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function qR(e){return A.createElement(Bte,IN({shapeType:"rectangle",propTransformer:Eat,activeClassName:"recharts-active-bar"},e))}var Sat=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(rt(t))return t;var i=rt(n)||Rr(n);return i?t(n,a):(i||gat(),r)}},Tat={},Wte=hs({name:"errorBars",initialState:Tat,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Sct,replaceErrorBar:Tct,removeErrorBar:Act}=Wte.actions,Aat=Wte.reducer,Cat=["children"];function kat(e,t){if(e==null)return{};var r,n,a=Nat(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nat(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pat={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Iat=A.createContext(Pat);function Hte(e){var{children:t}=e,r=kat(e,Cat);return A.createElement(Iat.Provider,{value:r},t)}function n2(e,t){var r,n,a=tt(c=>Rc(c,e)),i=tt(c=>Mc(c,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Ui.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Vi.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function YR(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=r2(),{needClipX:i,needClipY:s,needClip:o}=n2(t,r);if(!o)return null;var{x:l,y:c,width:u,height:f}=a;return A.createElement("clipPath",{id:"clipPath-".concat(n)},A.createElement("rect",{x:i?l:l-u/2,y:s?c:c-f/2,width:i?u:u*2,height:s?f:f*2}))}var Oat=["onMouseEnter","onMouseLeave","onClick"],Dat=["value","background","tooltipPosition"],jat=["id"],Rat=["onMouseEnter","onClick","onMouseLeave"];function Zu(){return Zu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zu.apply(null,arguments)}function TU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TU(Object(r),!0).forEach(function(n){Mat(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mat(e,t,r){return(t=Fat(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fat(e){var t=Lat(e,"string");return typeof t=="symbol"?t:t+""}function Lat(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x_(e,t){if(e==null)return{};var r,n,a=$at(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $at(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bat=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:vd(r,t),payload:e}]};function Uat(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:vd(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function Vat(e){var t=tt(Qu),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:l}=i,c=x_(i,Oat),u=UR(s,n),f=VR(o),h=zR(l,n);if(!a||r==null)return null;var m=Mr(a,!1);return A.createElement(A.Fragment,null,r.map((p,g)=>{var{value:v,background:y,tooltipPosition:x}=p,b=x_(p,Dat);if(!y)return null;var E=u(p,g),k=f(p,g),C=h(p,g),S=si(si(si(si(si({option:a,isActive:String(g)===t},b),{},{fill:"#eee"},y),m),Ky(c,p,g)),{},{onMouseEnter:E,onMouseLeave:k,onClick:C,dataKey:n,index:g,className:"recharts-bar-background-rectangle"});return A.createElement(qR,Zu({key:"background-bar-".concat(S.index)},S))}))}function zat(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:i.width,height:i.height};return si(si({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return A.createElement(RR,{value:t?a:void 0},r)}function Wat(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,o=tt(Qu),l=tt(ote),c=r&&String(i)===o&&(l==null||s===l),u=c?r:t;return A.createElement(qR,Zu({},n,a,{isActive:c,option:u,index:i,dataKey:s}))}function Hat(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return A.createElement(qR,Zu({},r,n,{isActive:!1,option:t,index:a,dataKey:i}))}function Gat(e){var{data:t,props:r}=e,n=Zs(r),{id:a}=n,i=x_(n,jat),{shape:s,dataKey:o,activeBar:l}=r,{onMouseEnter:c,onClick:u,onMouseLeave:f}=r,h=x_(r,Rat),m=UR(c,o),p=VR(f),g=zR(u,o);return t?A.createElement(A.Fragment,null,t.map((v,y)=>A.createElement(ln,Zu({className:"recharts-bar-rectangle"},Ky(h,v,y),{onMouseEnter:m(v,y),onMouseLeave:p(v,y),onClick:g(v,y),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(y)}),l?A.createElement(Wat,{shape:s,activeBar:l,baseProps:i,entry:v,index:y,dataKey:o}):A.createElement(Hat,{shape:s,baseProps:i,entry:v,index:y,dataKey:o})))):null}function Kat(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,f=r.current,h=Wm(t,"recharts-bar-"),[m,p]=A.useState(!1),g=!m,v=A.useCallback(()=>{typeof c=="function"&&c(),p(!1)},[c]),y=A.useCallback(()=>{typeof u=="function"&&u(),p(!0)},[u]);return A.createElement(zat,{showLabels:g,rects:n},A.createElement(zm,{animationId:h,begin:s,duration:o,isActive:i,easing:l,onAnimationEnd:v,onAnimationStart:y,key:h},x=>{var b=x===1?n:n==null?void 0:n.map((E,k)=>{var C=f&&f[k];if(C)return si(si({},E),{},{x:fr(C.x,E.x,x),y:fr(C.y,E.y,x),width:fr(C.width,E.width,x),height:fr(C.height,E.height,x)});if(a==="horizontal"){var S=fr(0,E.height,x);return si(si({},E),{},{y:E.y+E.height-S,height:S})}var _=fr(0,E.width,x);return si(si({},E),{},{width:_})});return x>0&&(r.current=b??null),b==null?null:A.createElement(ln,null,A.createElement(Gat,{props:t,data:b}))}),A.createElement(ZS,{label:t.label}),t.children)}function qat(e){var t=A.useRef(null);return A.createElement(Kat,{previousRectanglesRef:t,props:e})}var Gte=0,Yat=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:mr(e,t)}};class Xat extends A.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(t||r==null)return null;var u=Ft("recharts-bar",a),f=c;return A.createElement(ln,{className:u,id:c},o&&A.createElement("defs",null,A.createElement(YR,{clipPathId:f,xAxisId:i,yAxisId:s})),A.createElement(ln,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},A.createElement(Vat,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),A.createElement(qat,this.props)))}}var Qat={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Dc.isSsr,legendType:"rect",minPointSize:Gte,xAxisId:0,yAxisId:0};function Jat(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:f}=n2(t,r),h=Qy(),m=Za(),p=ej(e.children,ep),g=tt(x=>Ait(x,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var v,y=g==null?void 0:g[0];return y==null||y.height==null||y.width==null?v=0:v=h==="vertical"?y.height/2:y.width/2,A.createElement(Hte,{xAxisId:t,yAxisId:r,data:g,dataPointFormatter:Yat,errorBarOffset:v},A.createElement(Xat,Zu({},e,{layout:h,needClip:f,data:g,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function Zat(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:h,cells:m,parentViewBox:p}=e,g=t==="horizontal"?o:s,v=u?g.scale.domain():null,y=Aqe({numericAxis:g});return f.map((x,b)=>{var E,k,C,S,_,T;u?E=bqe(u[b],v):(E=mr(x,r),Array.isArray(E)||(E=[y,E]));var P=Sat(n,Gte)(E[1],b);if(t==="horizontal"){var N,[O,D]=[o.scale(E[0]),o.scale(E[1])];k=T8({axis:s,ticks:l,bandSize:i,offset:a.offset,entry:x,index:b}),C=(N=D??O)!==null&&N!==void 0?N:void 0,S=a.size;var X=O-D;if(_=Li(X)?0:X,T={x:k,y:h.top,width:S,height:h.height},Math.abs(P)>0&&Math.abs(_)<Math.abs(P)){var te=ia(_||P)*(Math.abs(P)-Math.abs(_));C-=te,_+=te}}else{var[ne,Q]=[s.scale(E[0]),s.scale(E[1])];if(k=ne,C=T8({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:x,index:b}),S=Q-ne,_=a.size,T={x:h.left,y:C,width:h.width,height:_},Math.abs(P)>0&&Math.abs(S)<Math.abs(P)){var z=ia(S||P)*(Math.abs(P)-Math.abs(S));S+=z}}if(k==null||C==null||S==null||_==null)return null;var j=si(si({},x),{},{x:k,y:C,width:S,height:_,value:u?E:E[1],payload:x,background:T,tooltipPosition:{x:k+S/2,y:C+_/2},parentViewBox:p},m&&m[b]&&m[b].props);return j}).filter(Boolean)}function eit(e){var t=Gn(e,Qat),r=Za();return A.createElement(t2,{id:t.id,type:"bar"},n=>A.createElement(A.Fragment,null,A.createElement(WR,{legendPayload:Bat(t)}),A.createElement(e2,{fn:Uat,args:t}),A.createElement(HR,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:WJ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),A.createElement(Jat,Zu({},t,{id:n}))))}var Zv=A.memo(eit);Zv.displayName="Bar";function AU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AU(Object(r),!0).forEach(function(n){tit(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tit(e,t,r){return(t=rit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rit(e){var t=nit(e,"string");return typeof t=="symbol"?t:t+""}function nit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ait=(e,t)=>t,iit=(e,t,r)=>r,sit=(e,t,r,n)=>n,oit=(e,t,r,n,a)=>a,dx=ge([sx,oit],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),lit=ge([dx],e=>e==null?void 0:e.maxBarSize),cit=(e,t,r,n,a,i)=>i,CU=(e,t,r)=>{var n=r??e;if(!Rr(n))return Ha(n,t,0)},uit=ge([Dt,sx,ait,iit,sit],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),dit=(e,t,r,n)=>{var a=Dt(e);return a==="horizontal"?Qv(e,"yAxis",r,n):Qv(e,"xAxis",t,n)},fit=(e,t,r)=>{var n=Dt(e);return n==="horizontal"?LB(e,"xAxis",t):LB(e,"yAxis",r)},hit=(e,t,r)=>{var n={},a=e.filter(HS),i=e.filter(c=>c.stackId==null),s=a.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),o=Object.entries(s).map(c=>{var[u,f]=c,h=f.map(p=>p.dataKey),m=CU(t,r,f[0].barSize);return{stackId:u,dataKeys:h,barSize:m}}),l=i.map(c=>{var u=[c.dataKey].filter(h=>h!=null),f=CU(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...l]},mit=ge([uit,rZe,fit],hit),pit=(e,t,r,n,a)=>{var i,s,o=dx(e,t,r,n,a);if(o!=null){var l=Dt(e),c=iee(e),{maxBarSize:u}=o,f=Rr(u)?c:u,h,m;return l==="horizontal"?(h=wl(e,"xAxis",t,n),m=xl(e,"xAxis",t,n)):(h=wl(e,"yAxis",r,n),m=xl(e,"yAxis",r,n)),(i=(s=Xf(h,m,!0))!==null&&s!==void 0?s:f)!==null&&i!==void 0?i:0}},Kte=(e,t,r,n)=>{var a=Dt(e),i,s;return a==="horizontal"?(i=wl(e,"xAxis",t,n),s=xl(e,"xAxis",t,n)):(i=wl(e,"yAxis",r,n),s=xl(e,"yAxis",r,n)),Xf(i,s)};function git(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=Ha(e,r,0,!0),o,l=[];if(Ta(n[0].barSize)){var c=!1,u=r/i,f=n.reduce((y,x)=>y+(x.barSize||0),0);f+=(i-1)*s,f>=r&&(f-=(i-1)*s,s=0),f>=r&&u>0&&(c=!0,u*=.9,f=i*u);var h=(r-f)/2>>0,m={offset:h-s,size:0};o=n.reduce((y,x)=>{var b,E={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m.offset+m.size+s,size:c?u:(b=x.barSize)!==null&&b!==void 0?b:0}},k=[...y,E];return m=k[k.length-1].position,k},l)}else{var p=Ha(t,r,0,!0);r-2*p-(i-1)*s<=0&&(s=0);var g=(r-2*p-(i-1)*s)/i;g>1&&(g>>=0);var v=Ta(a)?Math.min(g,a):g;o=n.reduce((y,x,b)=>[...y,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p+(g+s)*b+(g-v)/2,size:v}}],l)}return o}}var vit=(e,t,r,n,a,i,s)=>{var o=Rr(s)?t:s,l=git(r,n,a!==i?a:i,e,o);return a!==i&&l!=null&&(l=l.map(c=>I1(I1({},c),{},{position:I1(I1({},c.position),{},{offset:c.position.offset-a/2})}))),l},yit=ge([mit,iee,tZe,see,pit,Kte,lit],vit),xit=(e,t,r,n)=>wl(e,"xAxis",t,n),wit=(e,t,r,n)=>wl(e,"yAxis",r,n),bit=(e,t,r,n)=>xl(e,"xAxis",t,n),_it=(e,t,r,n)=>xl(e,"yAxis",r,n),Eit=ge([yit,dx],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Sit=(e,t)=>{var r=WS(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}},Tit=ge([dit,dx],Sit),Ait=ge([Hn,Tj,xit,wit,bit,_it,Eit,Dt,rx,Kte,Tit,dx,cit],(e,t,r,n,a,i,s,o,l,c,u,f,h)=>{var{chartData:m,dataStartIndex:p,dataEndIndex:g}=l;if(!(f==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||c==null)){var{data:v}=f,y;if(v!=null&&v.length>0?y=v:y=m==null?void 0:m.slice(p,g+1),y!=null)return Zat({layout:o,barSettings:f,pos:s,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:u,displayedData:y,offset:e,cells:h})}}),qte=e=>{var{chartData:t}=e,r=Jr(),n=Za();return A.useEffect(()=>n?()=>{}:(r(KB(t)),()=>{r(KB(void 0))}),[t,r,n]),null},kU={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Yte=hs({name:"brush",initialState:kU,reducers:{setBrushSettings(e,t){return t.payload==null?kU:t.payload}}}),{setBrushSettings:Cct}=Yte.actions,Cit=Yte.reducer;function kit(e,t,r){return(t=Nit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nit(e){var t=Pit(e,"string");return typeof t=="symbol"?t:t+""}function Pit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class XR{static create(t){return new XR(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}kit(XR,"EPS",1e-4);function Iit(e){return(e%180+180)%180}var Oit=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Iit(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},Dit={dots:[],areas:[],lines:[]},Xte=hs({name:"referenceElements",initialState:Dit,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ac(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ac(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ac(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:kct,removeDot:Nct,addArea:Pct,removeArea:Ict,addLine:Oct,removeLine:Dct}=Xte.actions,jit=Xte.reducer,Rit=A.createContext(void 0),Mit=e=>{var{children:t}=e,[r]=A.useState("".concat(Vv("recharts"),"-clip")),n=r2();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return A.createElement(Rit.Provider,{value:r},A.createElement("defs",null,A.createElement("clipPath",{id:r},A.createElement("rect",{x:a,y:i,height:o,width:s}))),t)};function cm(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Qte(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Fit(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Oit(n,r)}function Lit(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:o}=e;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function w_(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function $it(e,t){return Qte(e,t+1)}function Bit(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:o}=t,l=0,c=1,u=s,f=function(){var p=n==null?void 0:n[l];if(p===void 0)return{v:Qte(n,c)};var g=l,v,y=()=>(v===void 0&&(v=r(p,g)),v),x=p.coordinate,b=l===0||w_(e,x,y,u,o);b||(l=0,u=s,c+=1),b&&(u=x+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function NU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Da(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NU(Object(r),!0).forEach(function(n){Uit(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uit(e,t,r){return(t=Vit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vit(e){var t=zit(e,"string");return typeof t=="symbol"?t:t+""}function zit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wit(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:l}=t,c=function(h){var m=i[h],p,g=()=>(p===void 0&&(p=r(m,h)),p);if(h===s-1){var v=e*(m.coordinate+e*g()/2-l);i[h]=m=Da(Da({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else i[h]=m=Da(Da({},m),{},{tickCoord:m.coordinate});var y=w_(e,m.tickCoord,g,o,l);y&&(l=m.tickCoord-e*(g()/2+a),i[h]=Da(Da({},m),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function Hit(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:l,end:c}=t;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=Da(Da({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var m=w_(e,u.tickCoord,()=>f,l,c);m&&(c=u.tickCoord-e*(f/2+a),s[o-1]=Da(Da({},u),{},{isShow:!0}))}for(var p=i?o-1:o,g=function(x){var b=s[x],E,k=()=>(E===void 0&&(E=r(b,x)),E);if(x===0){var C=e*(b.coordinate-e*k()/2-l);s[x]=b=Da(Da({},b),{},{tickCoord:C<0?b.coordinate-C*e:b.coordinate})}else s[x]=b=Da(Da({},b),{},{tickCoord:b.coordinate});var S=w_(e,b.tickCoord,k,l,c);S&&(l=b.tickCoord+e*(k()/2+a),s[x]=Da(Da({},b),{},{isShow:!0}))},v=0;v<p;v++)g(v);return s}function QR(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=e;if(!a||!a.length||!n)return[];if(rt(l)||Dc.isSsr){var h;return(h=$it(a,rt(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",g=u&&p==="width"?Ng(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},v=(b,E)=>{var k=typeof c=="function"?c(b.value,E):b.value;return p==="width"?Fit(Ng(k,{fontSize:t,letterSpacing:r}),g,f):Ng(k,{fontSize:t,letterSpacing:r})[p]},y=a.length>=2?ia(a[1].coordinate-a[0].coordinate):1,x=Lit(i,y,p);return l==="equidistantPreserveStart"?Bit(y,x,v,a,s):(l==="preserveStart"||l==="preserveStartEnd"?m=Hit(y,x,v,a,s,l==="preserveStartEnd"):m=Wit(y,x,v,a,s),m.filter(b=>b.isShow))}var Git=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){t.forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=a+i,c=s+l+o+(r?n:0);return Math.round(c)}return 0},Kit=["axisLine","width","height","className","hide","ticks"],qit=["viewBox"],Yit=["viewBox"];function ON(e,t){if(e==null)return{};var r,n,a=Xit(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xit(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jf(){return Jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jf.apply(null,arguments)}function PU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PU(Object(r),!0).forEach(function(n){Qit(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qit(e,t,r){return(t=Jit(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jit(e){var t=Zit(e,"string");return typeof t=="symbol"?t:t+""}function Zit(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JR={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function est(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Fn(Fn(Fn({},l),Mr(o,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!s||i==="bottom"&&s);c=Fn(Fn({},c),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var f=+(i==="left"&&!s||i==="right"&&s);c=Fn(Fn({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return A.createElement("line",Jf({},c,{className:Ft("recharts-cartesian-axis-line",Kf(o,"className"))}))}function tst(e,t,r,n,a,i,s,o,l){var c,u,f,h,m,p,g=o?-1:1,v=e.tickSize||s,y=rt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":c=u=e.coordinate,h=r+ +!o*a,f=h-g*v,p=f-g*l,m=y;break;case"left":f=h=e.coordinate,u=t+ +!o*n,c=u-g*v,m=c-g*l,p=y;break;case"right":f=h=e.coordinate,u=t+ +o*n,c=u+g*v,m=c+g*l,p=y;break;default:c=u=e.coordinate,h=r+ +o*a,f=h+g*v,p=f+g*l,m=y;break}return{line:{x1:c,y1:f,x2:u,y2:h},tick:{x:m,y:p}}}function rst(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function nst(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function ast(e){var{option:t,tickProps:r,value:n}=e,a,i=Ft(r.className,"recharts-cartesian-axis-tick-value");if(A.isValidElement(t))a=A.cloneElement(t,Fn(Fn({},r),{},{className:i}));else if(typeof t=="function")a=t(Fn(Fn({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Ft(s,t==null?void 0:t.className)),a=A.createElement(JS,Jf({},r,{className:s}),n)}return a}function ist(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:s,padding:o,tickTextProps:l,orientation:c,mirror:u,x:f,y:h,width:m,height:p,tickSize:g,tickMargin:v,fontSize:y,letterSpacing:x,getTicksConfig:b,events:E}=e,k=QR(Fn(Fn({},b),{},{ticks:t}),y,x),C=rst(c,u),S=nst(c,u),_=Zs(b),T=Mr(r,!1),P=Fn(Fn({},_),{},{fill:"none"},Mr(n,!1)),N=k.map((O,D)=>{var{line:X,tick:te}=tst(O,f,h,m,p,c,g,u,v),ne=Fn(Fn(Fn(Fn({textAnchor:C,verticalAnchor:S},_),{},{stroke:"none",fill:a},T),te),{},{index:D,payload:O,visibleTicksCount:k.length,tickFormatter:i,padding:o},l);return A.createElement(ln,Jf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Ky(E,O,D)),n&&A.createElement("line",Jf({},P,X,{className:Ft("recharts-cartesian-axis-tick-line",Kf(n,"className"))})),r&&A.createElement(ast,{option:r,tickProps:ne,value:"".concat(typeof i=="function"?i(O.value,D):O.value).concat(s||"")}))});return N.length>0?A.createElement("g",{className:"recharts-cartesian-axis-ticks"},N):null}var sst=A.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:o}=e,l=ON(e,Kit),[c,u]=A.useState(""),[f,h]=A.useState(""),m=A.useRef([]);A.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return Git({ticks:m.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var p=A.useCallback(g=>{if(g){var v=g.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=Array.from(v);var y=v[0];if(y){var x=window.getComputedStyle(y),b=x.fontSize,E=x.letterSpacing;(b!==c||E!==f)&&(u(b),h(E))}}},[c,f]);return s||n!=null&&n<=0||a!=null&&a<=0?null:A.createElement(ln,{className:Ft("recharts-cartesian-axis",i),ref:p},A.createElement(est,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Zs(e)}),A.createElement(ist,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:c,letterSpacing:f,getTicksConfig:e,events:l}),A.createElement(yrt,{x:e.x,y:e.y,width:e.width,height:e.height},A.createElement(krt,{label:e.label}),e.children))}),ost=A.memo(sst,(e,t)=>{var{viewBox:r}=e,n=ON(e,qit),{viewBox:a}=t,i=ON(t,Yit);return cm(r,a)&&cm(n,i)}),ZR=A.forwardRef((e,t)=>{var r=Gn(e,JR);return A.createElement(ost,Jf({},r,{ref:t}))});ZR.displayName="CartesianAxis";var lst=["x1","y1","x2","y2","key"],cst=["offset"],ust=["xAxisId","yAxisId"],dst=["xAxisId","yAxisId"];function IU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IU(Object(r),!0).forEach(function(n){fst(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fst(e,t,r){return(t=hst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hst(e){var t=mst(e,"string");return typeof t=="symbol"?t:t+""}function mst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jd.apply(null,arguments)}function b_(e,t){if(e==null)return{};var r,n,a=pst(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pst(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gst=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:o}=e;return A.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Jte(e,t){var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:s,key:o}=t,l=b_(t,lst),c=Zs(l),{offset:u}=c,f=b_(c,cst);r=A.createElement("line",Jd({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function vst(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=b_(e,ust),l=a.map((c,u)=>{var f=Ba(Ba({},o),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return Jte(n,f)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function yst(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:s}=e,o=b_(e,dst),l=a.map((c,u)=>{var f=Ba(Ba({},o),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return Jte(n,f)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function xst(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length)return null;var c=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var m=!c[h+1],p=m?a+s-f:c[h+1]-f;if(p<=0)return null;var g=h%t.length;return A.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:i,stroke:"none",fill:t[g],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function wst(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var m=!c[h+1],p=m?a+s-f:c[h+1]-f;if(p<=0)return null;var g=h%r.length;return A.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:o,stroke:"none",fill:r[g],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var bst=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return VJ(QR(Ba(Ba(Ba({},JR),r),{},{ticks:zJ(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},_st=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return VJ(QR(Ba(Ba(Ba({},JR),r),{},{ticks:zJ(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Est={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Pu(e){var t=Cj(),r=kj(),n=qJ(),a=Ba(Ba({},Gn(e,Est)),{},{x:rt(e.x)?e.x:n.left,y:rt(e.y)?e.y:n.top,width:rt(e.width)?e.width:n.width,height:rt(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:o,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,p=Za(),g=tt(T=>$B(T,"xAxis",i,p)),v=tt(T=>$B(T,"yAxis",s,p));if(!rt(c)||c<=0||!rt(u)||u<=0||!rt(o)||o!==+o||!rt(l)||l!==+l)return null;var y=a.verticalCoordinatesGenerator||bst,x=a.horizontalCoordinatesGenerator||_st,{horizontalPoints:b,verticalPoints:E}=a;if((!b||!b.length)&&typeof x=="function"){var k=h&&h.length,C=x({yAxis:v?Ba(Ba({},v),{},{ticks:k?h:v.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);kg(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(b=C)}if((!E||!E.length)&&typeof y=="function"){var S=m&&m.length,_=y({xAxis:g?Ba(Ba({},g),{},{ticks:S?m:g.ticks}):void 0,width:t,height:r,offset:n},S?!0:f);kg(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(E=_)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(gst,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),A.createElement(xst,Jd({},a,{horizontalPoints:b})),A.createElement(wst,Jd({},a,{verticalPoints:E})),A.createElement(vst,Jd({},a,{offset:n,horizontalPoints:b,xAxis:g,yAxis:v})),A.createElement(yst,Jd({},a,{offset:n,verticalPoints:E,xAxis:g,yAxis:v})))}Pu.displayName="CartesianGrid";var Zte=(e,t,r,n)=>wl(e,"xAxis",t,n),ere=(e,t,r,n)=>xl(e,"xAxis",t,n),tre=(e,t,r,n)=>wl(e,"yAxis",r,n),rre=(e,t,r,n)=>xl(e,"yAxis",r,n),Sst=ge([Dt,Zte,tre,ere,rre],(e,t,r,n,a)=>Al(e,"xAxis")?Xf(t,n,!1):Xf(r,a,!1)),Tst=(e,t,r,n,a)=>a;function Ast(e){return e.type==="line"}var Cst=ge([sx,Tst],(e,t)=>e.filter(Ast).find(r=>r.id===t)),kst=ge([Dt,Zte,tre,ere,rre,Cst,Sst,rx],(e,t,r,n,a,i,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{dataKey:f,data:h}=i,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(c,u+1),m!=null)return Xst({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:s,displayedData:m})}}),Nst=["id"],Pst=["type","layout","connectNulls","needClip"],Ist=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function OU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OU(Object(r),!0).forEach(function(n){Ost(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ost(e,t,r){return(t=Dst(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dst(e){var t=jst(e,"string");return typeof t=="symbol"?t:t+""}function jst(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e4(e,t){if(e==null)return{};var r,n,a=Rst(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rst(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zf(){return Zf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zf.apply(null,arguments)}var Mst=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:vd(r,t),payload:e}]};function Fst(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:vd(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:l}}}var nre=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Lst(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var $st=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return nre(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>i){o=[...r.slice(0,l),i-c];break}var u=o.length%2===0?[0,s]:[s];return[...Lst(r,a),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function Bst(e,t){var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Ft("recharts-line-dot",typeof e!="boolean"?e.className:"");r=A.createElement(MR,Zf({},t,{className:n}))}return r}function Ust(e,t){return e==null?!1:t?!0:e.length===1}function Vst(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n;if(!Ust(r,a))return null;var{id:o}=n,l=e4(n,Nst),c=yS(a),u=Zs(l),f=Mr(a,!0),h=r.map((p,g)=>{var v=Ki(Ki(Ki({key:"dot-".concat(g),r:3},u),f),{},{index:g,cx:p.x,cy:p.y,dataKey:i,value:p.value,payload:p.payload,points:r});return Bst(a,v)}),m={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return A.createElement(ln,Zf({className:"recharts-line-dots",key:"dots"},m),h)}function zst(e){var{showLabels:t,children:r,points:n}=e,a=A.useMemo(()=>n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return Ki(Ki({},s),{},{value:i.value,payload:i.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return A.createElement(RR,{value:t?a:null},r)}function DU(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:o,connectNulls:l,needClip:c}=i,u=e4(i,Pst),f=Ki(Ki({},Mr(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return A.createElement(A.Fragment,null,(n==null?void 0:n.length)>1&&A.createElement(k0,Zf({},f,{pathRef:r})),A.createElement(Vst,{points:n,clipPathId:t,props:i}))}function Wst(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Hst(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:g,onAnimationStart:v}=r,y=a.current,x=Wm(r,"recharts-line-"),[b,E]=A.useState(!1),k=!b,C=A.useCallback(()=>{typeof g=="function"&&g(),E(!1)},[g]),S=A.useCallback(()=>{typeof v=="function"&&v(),E(!0)},[v]),_=Wst(n.current),T=i.current;return A.createElement(zst,{points:s,showLabels:k},r.children,A.createElement(zm,{animationId:x,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:C,onAnimationStart:S,key:x},P=>{var N=fr(T,_+T,P),O=Math.min(N,_),D;if(l)if(o){var X="".concat(o).split(/[,\s]+/gim).map(Q=>parseFloat(Q));D=$st(O,_,X)}else D=nre(_,O);else D=o==null?void 0:String(o);if(y){var te=y.length/s.length,ne=P===1?s:s.map((Q,z)=>{var j=Math.floor(z*te);if(y[j]){var ce=y[j];return Ki(Ki({},Q),{},{x:fr(ce.x,Q.x,P),y:fr(ce.y,Q.y,P)})}return h?Ki(Ki({},Q),{},{x:fr(m*2,Q.x,P),y:fr(p/2,Q.y,P)}):Ki(Ki({},Q),{},{x:Q.x,y:Q.y})});return a.current=ne,A.createElement(DU,{props:r,points:ne,clipPathId:t,pathRef:n,strokeDasharray:D})}return P>0&&_>0&&(a.current=s,i.current=O),A.createElement(DU,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:D})}),A.createElement(ZS,{label:r.label}))}function Gst(e){var{clipPathId:t,props:r}=e,n=A.useRef(null),a=A.useRef(0),i=A.useRef(null);return A.createElement(Hst,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var Kst=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:mr(e.payload,t)});class qst extends A.Component{render(){var t,{hide:r,dot:n,points:a,className:i,xAxisId:s,yAxisId:o,top:l,left:c,width:u,height:f,id:h,needClip:m}=this.props;if(r)return null;var p=Ft("recharts-line",i),g=h,{r:v=3,strokeWidth:y=2}=(t=Mr(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},x=yS(n),b=v*2+y;return A.createElement(A.Fragment,null,A.createElement(ln,{className:p},m&&A.createElement("defs",null,A.createElement(YR,{clipPathId:g,xAxisId:s,yAxisId:o}),!x&&A.createElement("clipPath",{id:"clipPath-dots-".concat(g)},A.createElement("rect",{x:c-b/2,y:l-b/2,width:u+b,height:f+b}))),A.createElement(Hte,{xAxisId:s,yAxisId:o,data:a,dataPointFormatter:Kst,errorBarOffset:0},A.createElement(Gst,{props:this.props,clipPathId:g}))),A.createElement(PN,{activeDot:this.props.activeDot,points:a,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var are={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Dc.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Yst(e){var t=Gn(e,are),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:f,legendType:h,xAxisId:m,yAxisId:p,id:g}=t,v=e4(t,Ist),{needClip:y}=n2(m,p),x=r2(),b=Qy(),E=Za(),k=tt(P=>kst(P,m,p,E,g));if(b!=="horizontal"&&b!=="vertical"||k==null||x==null)return null;var{height:C,width:S,x:_,y:T}=x;return A.createElement(qst,Zf({},v,{id:g,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:u,hide:c,label:f,legendType:h,xAxisId:m,yAxisId:p,points:k,layout:b,height:C,width:S,left:_,top:T,needClip:y}))}function Xst(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((c,u)=>{var f=mr(c,s);if(t==="horizontal"){var h=Zb({axis:r,ticks:a,bandSize:o,entry:c,index:u}),m=Rr(f)?null:n.scale(f);return{x:h,y:m,value:f,payload:c}}var p=Rr(f)?null:r.scale(f),g=Zb({axis:n,ticks:i,bandSize:o,entry:c,index:u});return p==null||g==null?null:{x:p,y:g,value:f,payload:c}}).filter(Boolean)}function Qst(e){var t=Gn(e,are),r=Za();return A.createElement(t2,{id:t.id,type:"line"},n=>A.createElement(A.Fragment,null,A.createElement(WR,{legendPayload:Mst(t)}),A.createElement(e2,{fn:Fst,args:t}),A.createElement(HR,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),A.createElement(Yst,Zf({},t,{id:n}))))}var t4=A.memo(Qst);t4.displayName="Line";var ire=(e,t,r,n)=>wl(e,"xAxis",t,n),sre=(e,t,r,n)=>xl(e,"xAxis",t,n),ore=(e,t,r,n)=>wl(e,"yAxis",r,n),lre=(e,t,r,n)=>xl(e,"yAxis",r,n),Jst=ge([Dt,ire,ore,sre,lre],(e,t,r,n,a)=>Al(e,"xAxis")?Xf(t,n,!1):Xf(r,a,!1)),Zst=(e,t,r,n,a)=>a,cre=ge([sx,Zst],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),eot=(e,t,r,n,a)=>{var i,s=cre(e,t,r,n,a);if(s!=null){var o=Dt(e),l=Al(o,"xAxis"),c;if(l?c=Qv(e,"yAxis",r,n):c=Qv(e,"xAxis",t,n),c!=null){var{stackId:u}=s,f=WS(s);if(!(u==null||f==null)){var h=(i=c[u])===null||i===void 0?void 0:i.stackedData;return h==null?void 0:h.find(m=>m.key===f)}}}},tot=ge([Dt,ire,ore,sre,lre,eot,rx,Jst,cre],(e,t,r,n,a,i,s,o,l)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:f}=s;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{data:h}=l,m;if(h&&h.length>0?m=h:m=c==null?void 0:c.slice(u,f+1),m!=null){var p=void 0;return _ot({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:u,areaSettings:l,stackedData:i,displayedData:m,chartBaseValue:p,bandSize:o})}}}),rot=["id"],not=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ure(e,t){if(e==null)return{};var r,n,a=aot(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aot(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ql(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jU(Object(r),!0).forEach(function(n){iot(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iot(e,t,r){return(t=sot(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sot(e){var t=oot(e,"string");return typeof t=="symbol"?t:t+""}function oot(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sc(){return sc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sc.apply(null,arguments)}function __(e,t){return e&&e!=="none"?e:t}var lot=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:__(n,a),value:vd(r,t),payload:e}]};function cot(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:l}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:vd(s,t),hide:o,type:e.tooltipType,color:__(n,i),unit:l}}}var uot=(e,t)=>{var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Ft("recharts-area-dot",typeof e!="boolean"?e.className:"");r=A.createElement(MR,sc({},t,{className:n}))}return r};function dot(e,t){return e==null?!1:t?!0:e.length===1}function fot(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:i,dataKey:s}=n;if(!dot(r,i))return null;var o=yS(i),l=Zs(n),c=Mr(i,!0),u=r.map((h,m)=>{var p=Ql(Ql(Ql({key:"dot-".concat(m),r:3},l),c),{},{index:m,cx:h.x,cy:h.y,dataKey:s,value:h.value,payload:h.payload,points:r});return uot(i,p)}),f={clipPath:a?"url(#clipPath-".concat(o?"":"dots-").concat(t,")"):void 0};return A.createElement(ln,sc({className:"recharts-area-dots"},f),u)}function hot(e){var{showLabels:t,children:r,points:n}=e,a=n.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return Ql(Ql({},s),{},{value:i.value,payload:i.payload,parentViewBox:void 0,viewBox:s,fill:void 0})});return A.createElement(RR,{value:t?a:null},r)}function RU(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:i}=e,{layout:s,type:o,stroke:l,connectNulls:c,isRange:u}=i,{id:f}=i,h=ure(i,rot),m=Zs(h);return A.createElement(A.Fragment,null,(t==null?void 0:t.length)>1&&A.createElement(ln,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},A.createElement(k0,sc({},m,{id:f,points:t,connectNulls:c,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),l!=="none"&&A.createElement(k0,sc({},m,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:t})),l!=="none"&&u&&A.createElement(k0,sc({},m,{className:"recharts-area-curve",layout:s,type:o,connectNulls:c,fill:"none",points:r}))),A.createElement(fot,{points:t,props:h,clipPathId:a}))}function mot(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].y,s=n[n.length-1].y;if(!Ta(i)||!Ta(s))return null;var o=t*Math.abs(i-s),l=Math.max(...n.map(c=>c.x||0));return rt(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.x||0),l)),rt(l)?A.createElement("rect",{x:0,y:i<s?i:i-o,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(o)}):null}function pot(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,i=n[0].x,s=n[n.length-1].x;if(!Ta(i)||!Ta(s))return null;var o=t*Math.abs(i-s),l=Math.max(...n.map(c=>c.y||0));return rt(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.y||0),l)),rt(l)?A.createElement("rect",{x:i<s?i:i-o,y:0,width:o,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}function got(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:i}=e;return r==="vertical"?A.createElement(mot,{alpha:t,points:n,baseLine:a,strokeWidth:i}):A.createElement(pot,{alpha:t,points:n,baseLine:a,strokeWidth:i})}function vot(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i}=e,{points:s,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationStart:h,onAnimationEnd:m}=n,p=Wm(n,"recharts-area-"),[g,v]=A.useState(!1),y=!g,x=A.useCallback(()=>{typeof m=="function"&&m(),v(!1)},[m]),b=A.useCallback(()=>{typeof h=="function"&&h(),v(!0)},[h]),E=a.current,k=i.current;return A.createElement(hot,{showLabels:y,points:s},n.children,A.createElement(zm,{animationId:p,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:x,onAnimationStart:b,key:p},C=>{if(E){var S=E.length/s.length,_=C===1?s:s.map((P,N)=>{var O=Math.floor(N*S);if(E[O]){var D=E[O];return Ql(Ql({},P),{},{x:fr(D.x,P.x,C),y:fr(D.y,P.y,C)})}return P}),T;return rt(o)?T=fr(k,o,C):Rr(o)||Li(o)?T=fr(k,0,C):T=o.map((P,N)=>{var O=Math.floor(N*S);if(Array.isArray(k)&&k[O]){var D=k[O];return Ql(Ql({},P),{},{x:fr(D.x,P.x,C),y:fr(D.y,P.y,C)})}return P}),C>0&&(a.current=_,i.current=T),A.createElement(RU,{points:_,baseLine:T,needClip:t,clipPathId:r,props:n})}return C>0&&(a.current=s,i.current=o),A.createElement(ln,null,l&&A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(r)},A.createElement(got,{alpha:C,points:s,baseLine:o,layout:n.layout,strokeWidth:n.strokeWidth}))),A.createElement(ln,{clipPath:"url(#animationClipPath-".concat(r,")")},A.createElement(RU,{points:s,baseLine:o,needClip:t,clipPathId:r,props:n})))}),A.createElement(ZS,{label:n.label}))}function yot(e){var{needClip:t,clipPathId:r,props:n}=e,a=A.useRef(null),i=A.useRef();return A.createElement(vot,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:i})}class xot extends A.PureComponent{render(){var t,{hide:r,dot:n,points:a,className:i,top:s,left:o,needClip:l,xAxisId:c,yAxisId:u,width:f,height:h,id:m,baseLine:p}=this.props;if(r)return null;var g=Ft("recharts-area",i),v=m,{r:y=3,strokeWidth:x=2}=(t=Mr(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},b=yS(n),E=y*2+x;return A.createElement(A.Fragment,null,A.createElement(ln,{className:g},l&&A.createElement("defs",null,A.createElement(YR,{clipPathId:v,xAxisId:c,yAxisId:u}),!b&&A.createElement("clipPath",{id:"clipPath-dots-".concat(v)},A.createElement("rect",{x:o-E/2,y:s-E/2,width:f+E,height:h+E}))),A.createElement(yot,{needClip:l,clipPathId:v,props:this.props})),A.createElement(PN,{points:a,mainColor:__(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(p)&&A.createElement(PN,{points:p,mainColor:__(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var dre={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!Dc.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function wot(e){var t,r=Gn(e,dre),{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:f,isAnimationActive:h,legendType:m,stroke:p,xAxisId:g,yAxisId:v}=r,y=ure(r,not),x=Qy(),b=cte(),{needClip:E}=n2(g,v),k=Za(),{points:C,isRange:S,baseLine:_}=(t=tt(X=>tot(X,g,v,k,e.id)))!==null&&t!==void 0?t:{},T=r2();if(x!=="horizontal"&&x!=="vertical"||T==null||b!=="AreaChart"&&b!=="ComposedChart")return null;var{height:P,width:N,x:O,y:D}=T;return!C||!C.length?null:A.createElement(xot,sc({},y,{activeDot:n,animationBegin:a,animationDuration:i,animationEasing:s,baseLine:_,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:P,hide:f,layout:x,isAnimationActive:h,isRange:S,legendType:m,needClip:E,points:C,stroke:p,width:N,left:O,top:D,xAxisId:g,yAxisId:v}))}var bot=(e,t,r,n,a)=>{var i=r??t;if(rt(i))return i;var s=e==="horizontal"?a:n,o=s.scale.domain();if(s.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return i==="dataMin"?c:i==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return i==="dataMin"?o[0]:i==="dataMax"?o[1]:o[0]};function _ot(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:i,chartBaseValue:s,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:f,yAxisTicks:h,bandSize:m}=e,p=a&&a.length,g=bot(i,s,r,o,l),v=i==="horizontal",y=!1,x=c.map((E,k)=>{var C;p?C=a[u+k]:(C=mr(E,n),Array.isArray(C)?y=!0:C=[g,C]);var S=C[1]==null||p&&!t&&mr(E,n)==null;return v?{x:Zb({axis:o,ticks:f,bandSize:m,entry:E,index:k}),y:S?null:l.scale(C[1]),value:C,payload:E}:{x:S?null:o.scale(C[1]),y:Zb({axis:l,ticks:h,bandSize:m,entry:E,index:k}),value:C,payload:E}}),b;return p||y?b=x.map(E=>{var k=Array.isArray(E.value)?E.value[0]:null;return v?{x:E.x,y:k!=null&&E.y!=null?l.scale(k):null,payload:E.payload}:{x:k!=null?o.scale(k):null,y:E.y,payload:E.payload}}):b=v?l.scale(g):o.scale(g),{points:x,baseLine:b,isRange:y}}function Eot(e){var t=Gn(e,dre),r=Za();return A.createElement(t2,{id:t.id,type:"area"},n=>A.createElement(A.Fragment,null,A.createElement(WR,{legendPayload:lot(t)}),A.createElement(e2,{fn:cot,args:t}),A.createElement(HR,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:WJ(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),A.createElement(wot,sc({},t,{id:n}))))}var DN=A.memo(Eot);DN.displayName="Area";var Sot=["dangerouslySetInnerHTML","ticks"],Tot=["id"],Aot=["domain"],Cot=["domain"];function jN(){return jN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jN.apply(null,arguments)}function E_(e,t){if(e==null)return{};var r,n,a=kot(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kot(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Not(e){var t=Jr();return A.useEffect(()=>(t(rat(e)),()=>{t(nat(e))}),[e,t]),null}var Pot=e=>{var{xAxisId:t,className:r}=e,n=tt(Tj),a=Za(),i="xAxis",s=tt(v=>Qm(v,i,t,a)),o=tt(v=>Vee(v,i,t,a)),l=tt(v=>Lee(v,t)),c=tt(v=>KZe(v,t)),u=tt(v=>pee(v,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,m=E_(e,Sot),{id:p}=u,g=E_(u,Tot);return A.createElement(ZR,jN({},m,g,{scale:s,x:c.x,y:c.y,width:l.width,height:l.height,className:Ft("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},Iot={allowDataOverflow:Ui.allowDataOverflow,allowDecimals:Ui.allowDecimals,allowDuplicatedCategory:Ui.allowDuplicatedCategory,height:Ui.height,hide:!1,mirror:Ui.mirror,orientation:Ui.orientation,padding:Ui.padding,reversed:Ui.reversed,scale:Ui.scale,tickCount:Ui.tickCount,type:Ui.type,xAxisId:0},Oot=e=>{var t,r,n,a,i,s=Gn(e,Iot);return A.createElement(A.Fragment,null,A.createElement(Not,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),A.createElement(Pot,s))},Dot=(e,t)=>{var{domain:r}=e,n=E_(e,Aot),{domain:a}=t,i=E_(t,Cot);return cm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:cm({domain:r},{domain:a}):!1},Iu=A.memo(Oot,Dot);Iu.displayName="XAxis";var jot=["dangerouslySetInnerHTML","ticks"],Rot=["id"],Mot=["domain"],Fot=["domain"];function RN(){return RN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RN.apply(null,arguments)}function S_(e,t){if(e==null)return{};var r,n,a=Lot(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Lot(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $ot(e){var t=Jr();return A.useEffect(()=>(t(aat(e)),()=>{t(iat(e))}),[e,t]),null}var Bot=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=A.useRef(null),s=A.useRef(null),o=tt(Tj),l=Za(),c=Jr(),u="yAxis",f=tt(k=>Qm(k,u,t,l)),h=tt(k=>$ee(k,t)),m=tt(k=>YZe(k,t)),p=tt(k=>Vee(k,u,t,l)),g=tt(k=>gee(k,t));if(A.useLayoutEffect(()=>{if(!(n!=="auto"||!h||jR(a)||A.isValidElement(a)||g==null)){var k=i.current;if(k){var C=k.getCalculatedWidth();Math.round(h.width)!==Math.round(C)&&c(sat({id:t,width:C}))}}},[p,h,c,a,t,n,g]),h==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:v,ticks:y}=e,x=S_(e,jot),{id:b}=g,E=S_(g,Rot);return A.createElement(ZR,RN({},x,E,{ref:i,labelRef:s,scale:f,x:m.x,y:m.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Ft("recharts-".concat(u," ").concat(u),r),viewBox:o,ticks:p}))},Uot={allowDataOverflow:Vi.allowDataOverflow,allowDecimals:Vi.allowDecimals,allowDuplicatedCategory:Vi.allowDuplicatedCategory,hide:!1,mirror:Vi.mirror,orientation:Vi.orientation,padding:Vi.padding,reversed:Vi.reversed,scale:Vi.scale,tickCount:Vi.tickCount,type:Vi.type,width:Vi.width,yAxisId:0},Vot=e=>{var t,r,n,a,i,s=Gn(e,Uot);return A.createElement(A.Fragment,null,A.createElement($ot,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),A.createElement(Bot,s))},zot=(e,t)=>{var{domain:r}=e,n=S_(e,Mot),{domain:a}=t,i=S_(t,Fot);return cm(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:cm({domain:r},{domain:a}):!1},Ou=A.memo(Vot,zot);Ou.displayName="YAxis";var Wot={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fx=A;function Hot(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Got=typeof Object.is=="function"?Object.is:Hot,Kot=fx.useSyncExternalStore,qot=fx.useRef,Yot=fx.useEffect,Xot=fx.useMemo,Qot=fx.useDebugValue;Wot.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=qot(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Xot(function(){function l(m){if(!c){if(c=!0,u=m,m=n(m),a!==void 0&&s.hasValue){var p=s.value;if(a(p,m))return f=p}return f=m}if(p=f,Got(u,m))return p;var g=n(m);return a!==void 0&&a(p,g)?(u=m,p):(u=m,f=g)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=Kot(e,i[0],i[1]);return Yot(function(){s.hasValue=!0,s.value=o},[o]),Qot(o),o};function Jot(e){e()}function Zot(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Jot(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var MU={notify(){},get:()=>[]};function elt(e,t){let r,n=MU,a=0,i=!1;function s(g){u();const v=n.subscribe(g);let y=!1;return()=>{y||(y=!0,v(),f())}}function o(){n.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return i}function u(){a++,r||(r=e.subscribe(l),n=Zot())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=MU)}function h(){i||(i=!0,u())}function m(){i&&(i=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var tlt=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rlt=tlt(),nlt=()=>typeof navigator<"u"&&navigator.product==="ReactNative",alt=nlt(),ilt=()=>rlt||alt?A.useLayoutEffect:A.useEffect,slt=ilt(),gA=Symbol.for("react-redux-context"),vA=typeof globalThis<"u"?globalThis:{};function olt(){if(!A.createContext)return{};const e=vA[gA]??(vA[gA]=new Map);let t=e.get(A.createContext);return t||(t=A.createContext(null),e.set(A.createContext,t)),t}var llt=olt();function clt(e){const{children:t,context:r,serverState:n,store:a}=e,i=A.useMemo(()=>{const l=elt(a);return{store:a,subscription:l,getServerState:n?()=>n:void 0}},[a,n]),s=A.useMemo(()=>a.getState(),[a]);slt(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,s]);const o=r||llt;return A.createElement(o.Provider,{value:i},t)}var ult=clt,dlt=(e,t)=>t,r4=ge([dlt,Dt,fee,qn,nte,Fc,ttt,Hn],stt),n4=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},fre=Gs("mouseClick"),hre=Yy();hre.startListening({actionCreator:fre,effect:(e,t)=>{var r=e.payload,n=r4(t.getState(),n4(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(cet({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var MN=Gs("mouseMove"),mre=Yy();mre.startListening({actionCreator:MN,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=TR(n,n.tooltip.settings.shared),i=r4(n,n4(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(Xee({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(Yee()))}});var FU={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},pre=hs({name:"rootProps",initialState:FU,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:FU.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),flt=pre.reducer,{updateOptions:hlt}=pre.actions,gre=hs({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:mlt}=gre.actions,plt=gre.reducer,vre=Gs("keyDown"),yre=Gs("focus"),a4=Yy();a4.startListening({actionCreator:vre,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(AR(a,Zm(r))),o=Fc(r);if(i==="Enter"){var l=p_(r,"axis","hover",String(a.index));t.dispatch(TN({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:l}));return}var c=ZZe(r),u=c==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=s+f*u;if(!(o==null||h>=o.length||h<0)){var m=p_(r,"axis","hover",String(h));t.dispatch(TN({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});a4.startListening({actionCreator:yre,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=p_(r,"axis","hover",String(i));t.dispatch(TN({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var Ss=Gs("externalEvent"),xre=Yy();xre.startListening({actionCreator:Ss,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Get(r),activeDataKey:ote(r),activeIndex:Qu(r),activeLabel:ste(r),activeTooltipIndex:Qu(r),isTooltipActive:Ket(r)};e.payload.handler(n,e.payload.reactEvent)}}});var glt=ge([Jm],e=>e.tooltipItemPayloads),vlt=ge([glt,cx,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),wre=Gs("touchMove"),bre=Yy();bre.startListening({actionCreator:wre,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=TR(n,n.tooltip.settings.shared);if(a==="axis"){var i=r4(n,n4({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(Xee({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,o=r.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(GJ),u=(s=l.getAttribute(KJ))!==null&&s!==void 0?s:void 0,f=vlt(t.getState(),c,u);t.dispatch(qee({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}});var ylt=vJ({brush:Cit,cartesianAxis:oat,chartData:btt,errorBars:Aat,graphicalItems:Ant,layout:iqe,legend:qqe,options:gtt,polarAxis:Hrt,polarOptions:plt,referenceElements:jit,rootProps:flt,tooltip:uet}),xlt=function(t){return PKe({reducer:ylt,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([hre.middleware,mre.middleware,a4.middleware,xre.middleware,bre.middleware]),devTools:Dc.devToolsEnabled})};function _re(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Za(),i=A.useRef(null);if(a)return r;i.current==null&&(i.current=xlt(t));var s=vj;return A.createElement(ult,{context:s,store:i.current},r)}function Ere(e){var{layout:t,width:r,height:n,margin:a}=e,i=Jr(),s=Za();return A.useEffect(()=>{s||(i(rqe(t)),i(nqe({width:r,height:n})),i(tqe(a)))},[i,s,t,r,n,a]),null}function Sre(e){var t=Jr();return A.useEffect(()=>{t(hlt(e))},[t,e]),null}var wlt=["children"];function blt(e,t){if(e==null)return{};var r,n,a=_lt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _lt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function T_(){return T_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T_.apply(null,arguments)}var Elt={width:"100%",height:"100%"},Slt=A.forwardRef((e,t)=>{var r=Cj(),n=kj(),a=JJ();if(!am(r)||!am(n))return null;var{children:i,otherAttributes:s,title:o,desc:l}=e,c,u;return typeof s.tabIndex=="number"?c=s.tabIndex:c=a?0:void 0,typeof s.role=="string"?u=s.role:u=a?"application":void 0,A.createElement(tj,T_({},s,{title:o,desc:l,role:u,tabIndex:c,width:r,height:n,style:Elt,ref:t}),i)}),Tlt=e=>{var{children:t}=e,r=tt(DS);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return A.createElement(tj,{width:n,height:a,x:s,y:i},t)},LU=A.forwardRef((e,t)=>{var{children:r}=e,n=blt(e,wlt),a=Za();return a?A.createElement(Tlt,null,r):A.createElement(Slt,T_({ref:t},n),r)});function Alt(){var e=Jr(),[t,r]=A.useState(null),n=tt(Dqe);return A.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Ta(i)&&i!==n&&e(aqe(i))}},[t,e,n]),r}function $U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Clt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$U(Object(r),!0).forEach(function(n){klt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$U(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function klt(e,t,r){return(t=Nlt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nlt(e){var t=Plt(e,"string");return typeof t=="symbol"?t:t+""}function Plt(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ilt=A.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:g,style:v,width:y}=e,x=Jr(),[b,E]=A.useState(null),[k,C]=A.useState(null);Ptt();var S=Alt(),_=A.useCallback(M=>{S(M),typeof t=="function"&&t(M),E(M),C(M)},[S,t,E,C]),T=A.useCallback(M=>{x(fre(M)),x(Ss({handler:i,reactEvent:M}))},[x,i]),P=A.useCallback(M=>{x(MN(M)),x(Ss({handler:c,reactEvent:M}))},[x,c]),N=A.useCallback(M=>{x(Yee()),x(Ss({handler:u,reactEvent:M}))},[x,u]),O=A.useCallback(M=>{x(MN(M)),x(Ss({handler:f,reactEvent:M}))},[x,f]),D=A.useCallback(()=>{x(yre())},[x]),X=A.useCallback(M=>{x(vre(M.key))},[x]),te=A.useCallback(M=>{x(Ss({handler:s,reactEvent:M}))},[x,s]),ne=A.useCallback(M=>{x(Ss({handler:o,reactEvent:M}))},[x,o]),Q=A.useCallback(M=>{x(Ss({handler:l,reactEvent:M}))},[x,l]),z=A.useCallback(M=>{x(Ss({handler:h,reactEvent:M}))},[x,h]),j=A.useCallback(M=>{x(Ss({handler:g,reactEvent:M}))},[x,g]),ce=A.useCallback(M=>{x(wre(M)),x(Ss({handler:p,reactEvent:M}))},[x,p]),ee=A.useCallback(M=>{x(Ss({handler:m,reactEvent:M}))},[x,m]);return A.createElement(mte.Provider,{value:b},A.createElement(EQ.Provider,{value:k},A.createElement("div",{className:Ft("recharts-wrapper",n),style:Clt({position:"relative",cursor:"default",width:y,height:a},v),onClick:T,onContextMenu:te,onDoubleClick:ne,onFocus:D,onKeyDown:X,onMouseDown:Q,onMouseEnter:P,onMouseLeave:N,onMouseMove:O,onMouseUp:z,onTouchEnd:ee,onTouchMove:ce,onTouchStart:j,ref:_},r)))}),Olt=["children","className","width","height","style","compact","title","desc"];function Dlt(e,t){if(e==null)return{};var r,n,a=jlt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jlt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Tre=A.forwardRef((e,t)=>{var{children:r,className:n,width:a,height:i,style:s,compact:o,title:l,desc:c}=e,u=Dlt(e,Olt),f=Zs(u);return o?A.createElement(LU,{otherAttributes:f,title:l,desc:c},r):A.createElement(Ilt,{className:n,style:s,width:a,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},A.createElement(LU,{otherAttributes:f,title:l,desc:c,ref:t},A.createElement(Mit,null,r)))}),Rlt=["width","height"];function FN(){return FN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FN.apply(null,arguments)}function Mlt(e,t){if(e==null)return{};var r,n,a=Flt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Flt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Llt={top:5,right:5,bottom:5,left:5},$lt={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Llt,reverseStackOrder:!1,syncMethod:"index"},i4=A.forwardRef(function(t,r){var n,a=Gn(t.categoricalChartProps,$lt),{width:i,height:s}=a,o=Mlt(a,Rlt);if(!am(i)||!am(s))return null;var{chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:l,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return A.createElement(_re,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:l},A.createElement(qte,{chartData:h.data}),A.createElement(Ere,{width:i,height:s,layout:a.layout,margin:a.margin}),A.createElement(Sre,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),A.createElement(Tre,FN({},o,{width:i,height:s,ref:r})))}),Blt=["axis"],Are=A.forwardRef((e,t)=>A.createElement(i4,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Blt,tooltipPayloadSearcher:QS,categoricalChartProps:e,ref:t})),Ult=["axis","item"],A_=A.forwardRef((e,t)=>A.createElement(i4,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ult,tooltipPayloadSearcher:QS,categoricalChartProps:e,ref:t}));function Vlt(e){var t=Jr();return A.useEffect(()=>{t(mlt(e))},[t,e]),null}var zlt=["width","height","layout"];function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LN.apply(null,arguments)}function Wlt(e,t){if(e==null)return{};var r,n,a=Hlt(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Hlt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Glt={top:5,right:5,bottom:5,left:5},Klt={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Glt,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},qlt=A.forwardRef(function(t,r){var n,a=Gn(t.categoricalChartProps,Klt),{width:i,height:s,layout:o}=a,l=Wlt(a,zlt);if(!am(i)||!am(s))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return A.createElement(_re,{preloadedState:{options:m},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:c},A.createElement(qte,{chartData:a.data}),A.createElement(Ere,{width:i,height:s,layout:o,margin:a.margin}),A.createElement(Sre,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),A.createElement(Vlt,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),A.createElement(Tre,LN({width:i,height:s},l,{ref:r})))}),Ylt=["item"],Xlt={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Cre=A.forwardRef((e,t)=>{var r=Gn(e,Xlt);return A.createElement(qlt,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ylt,tooltipPayloadSearcher:QS,categoricalChartProps:r,ref:t})}),Qlt=["axis"],Jlt=A.forwardRef((e,t)=>A.createElement(i4,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Qlt,tooltipPayloadSearcher:QS,categoricalChartProps:e,ref:t}));const ey=se.forwardRef(({className:e,value:t,...r},n)=>d.jsx("div",{ref:n,className:hd("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:d.jsx("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ey.displayName="Progress";const Zlt={"Al da":"#10b981",Pendiente:"#f59e0b",Urgente:"#ef4444"},ect={monday:"Lunes",tuesday:"Martes",wednesday:"Mircoles",thursday:"Jueves",friday:"Viernes",saturday:"Sbado",sunday:"Domingo"};function BU(){const{globalMetrics:e,teleoperadorasMetrics:t,beneficiariosMetrics:r,noAsignadosMetrics:n,loading:a,errors:i,initializeListeners:s,cleanup:o,getSummaryStats:l,getTopOperators:c,getBeneficiariesByStatus:u}=OE(),f=GD(),h=i.global||!e||e.totalCalls===0;A.useEffect(()=>(s(),o),[s,o]);const m=h?f.getSummaryStats():l(),p=h?f.getTopOperators(5):c(5),g=h?f.getBeneficiariesByStatus("Urgente"):u("Urgente"),v=h?f.globalMetrics:e,y=()=>{if(!v)return{dayData:[],hourData:[],statusData:[]};const _=Object.entries(v.dayDistribution||{}).map(([N,O])=>({day:ect[N.toLowerCase()]||N,llamadas:O})),T=Object.entries(v.hourDistribution||{}).map(([N,O])=>({hora:`${N}:00`,llamadas:O})).sort((N,O)=>parseInt(N.hora)-parseInt(O.hora)),P=Object.entries(m.beneficiariesByStatus).map(([N,O])=>({name:N,value:O,color:Zlt[N]||"#8884d8"}));return{dayData:_,hourData:T,statusData:P}},{dayData:x,hourData:b,statusData:E}=y(),k=_=>{const T=Math.floor(_/60),P=Math.round(_%60);return T>0?`${T}h ${P}m`:`${P}m`},C=_=>`${Math.round(_*100)/100}%`,S=({title:_,value:T,subtitle:P,icon:N,trend:O,color:D="blue"})=>d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs(Ut,{children:[d.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(zt,{className:"text-sm font-medium",children:_}),d.jsx(N,{className:`h-4 w-4 text-${D}-600`})]}),d.jsxs(Wt,{children:[d.jsx("div",{className:"text-2xl font-bold",children:T}),P&&d.jsx("p",{className:"text-xs text-muted-foreground",children:P}),O&&d.jsxs("div",{className:`flex items-center pt-1 text-xs ${O>0?"text-green-600":"text-red-600"}`,children:[d.jsx(_f,{className:"h-3 w-3 mr-1"}),O>0?"+":"",C(O)," vs perodo anterior"]})]})]})});return a.global?d.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-2",children:"Cargando mtricas..."})]}):i.global?d.jsx("div",{className:"flex items-center justify-center min-h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx(li,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Error cargando mtricas"}),d.jsx("p",{className:"text-gray-500",children:i.global})]})}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard Global"}),h&&d.jsx(Ai,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Modo Demo"})]}),d.jsx("p",{className:"text-muted-foreground",children:h?"Mostrando datos simulados - Inicialice la base de datos para datos reales":"Resumen general de mtricas y anlisis de llamadas"}),(v==null?void 0:v.lastUpdated)&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["ltima actualizacin: ",new Date(v.lastUpdated).toLocaleString("es-ES")]})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[d.jsx(S,{title:"Total de Llamadas",value:m.totalCalls.toLocaleString(),subtitle:"Llamadas registradas",icon:pC,color:"blue"}),d.jsx(S,{title:"Tasa de xito",value:C(m.successRate),subtitle:`${(e==null?void 0:e.successfulCalls)||0} llamadas exitosas`,icon:Vr,color:"green"}),d.jsx(S,{title:"Duracin Total",value:k((e==null?void 0:e.totalDuration)||0),subtitle:`Promedio: ${k((e==null?void 0:e.averageDuration)||0)}`,icon:na,color:"purple"}),d.jsx(S,{title:"Teleoperadoras",value:m.totalOperators,subtitle:"Activas en el sistema",icon:mn,color:"orange"})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsx(S,{title:"Beneficiarios Al Da",value:m.beneficiariesByStatus["Al da"]||0,subtitle:"Contactados recientemente",icon:Vr,color:"green"}),d.jsx(S,{title:"Beneficiarios Pendientes",value:m.beneficiariesByStatus.Pendiente||0,subtitle:"Requieren seguimiento",icon:na,color:"yellow"}),d.jsx(S,{title:"Beneficiarios Urgentes",value:m.beneficiariesByStatus.Urgente||0,subtitle:"Atencin prioritaria",icon:li,color:"red"})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsx(Ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Llamadas por Da de la Semana"}),d.jsx(Ln,{children:"Distribucin de llamadas durante la semana"})]}),d.jsx(Wt,{children:d.jsx(Xl,{width:"100%",height:300,children:d.jsxs(A_,{data:x,children:[d.jsx(Pu,{strokeDasharray:"3 3"}),d.jsx(Iu,{dataKey:"day"}),d.jsx(Ou,{}),d.jsx(Yl,{}),d.jsx(Zv,{dataKey:"llamadas",fill:"#3b82f6"})]})})})]})}),d.jsx(Ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Llamadas por Hora del Da"}),d.jsx(Ln,{children:"Distribucin horaria de la actividad"})]}),d.jsx(Wt,{children:d.jsx(Xl,{width:"100%",height:300,children:d.jsxs(Are,{data:b,children:[d.jsx(Pu,{strokeDasharray:"3 3"}),d.jsx(Iu,{dataKey:"hora"}),d.jsx(Ou,{}),d.jsx(Yl,{}),d.jsx(t4,{type:"monotone",dataKey:"llamadas",stroke:"#10b981",strokeWidth:2,dot:{fill:"#10b981"}})]})})})]})})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Estado de Beneficiarios"}),d.jsx(Ln,{children:"Distribucin por estado de seguimiento"})]}),d.jsx(Wt,{children:d.jsx(Xl,{width:"100%",height:300,children:d.jsxs(Cre,{children:[d.jsx(KR,{data:E,cx:"50%",cy:"50%",labelLine:!1,label:({name:_,percent:T})=>`${_} ${(T*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:E.map((_,T)=>d.jsx(ep,{fill:_.color},`cell-${T}`))}),d.jsx(Yl,{})]})})})]})}),d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Top Teleoperadoras"}),d.jsx(Ln,{children:"Mejores performance por tasa de xito"})]}),d.jsx(Wt,{className:"space-y-4",children:p.slice(0,5).map((_,T)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-blue-600",children:T+1})})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium",children:_.nombreOriginal}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.totalCalls," llamadas"]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx(Ai,{variant:_.successRate>=80?"success":_.successRate>=60?"warning":"danger",children:C(_.successRate)}),d.jsx(ey,{value:_.successRate,className:"w-20 h-2 mt-1"})]})]},_.id))})]})})]}),g.length>0&&d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:d.jsxs(Ut,{className:"border-red-200 bg-red-50",children:[d.jsxs(Vt,{children:[d.jsxs(zt,{className:"text-red-800 flex items-center",children:[d.jsx(li,{className:"h-5 w-5 mr-2"}),"Beneficiarios Urgentes"]}),d.jsx(Ln,{className:"text-red-600",children:"Requieren atencin inmediata - Sin contacto exitoso en ms de 30 das"})]}),d.jsx(Wt,{children:d.jsx("div",{className:"grid gap-2 max-h-64 overflow-y-auto",children:g.slice(0,10).map(_=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg shadow-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:_.nombreOriginal}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:["ltima llamada: ",_.lastCall?new Date(_.lastCall).toLocaleDateString("es-ES"):"Nunca"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx(Ai,{variant:"danger",children:"Urgente"}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[_.totalCalls," llamadas"]})]})]},_.id))})})]})}),n&&n.totalUnassigned>0&&d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},children:d.jsxs(Ut,{className:"border-yellow-200 bg-yellow-50",children:[d.jsxs(Vt,{children:[d.jsxs(zt,{className:"text-yellow-800 flex items-center",children:[d.jsx(mn,{className:"h-5 w-5 mr-2"}),"Beneficiarios No Asignados"]}),d.jsxs(Ln,{className:"text-yellow-600",children:[n.totalUnassigned," beneficiarios sin teleoperadora asignada"]})]}),d.jsx(Wt,{children:d.jsxs("p",{className:"text-sm",children:["Total de llamadas no asignadas: ",n.totalUnassignedCalls]})})]})})]})}function tct({operatorId:e}){const{getTeleoperadoraMetrics:t,getBeneficiariesByOperator:r,loading:n,errors:a}=OE(),[i,s]=A.useState("7"),[o,l]=A.useState(""),[c,u]=A.useState("all"),f=GD(),h=t(e),m=r(e),p=a.teleoperadoras||!h,g=p?f.getTeleoperadoraMetrics(e):h,v=p?f.getBeneficiariesByOperator(e):m,y=()=>{if(!(g!=null&&g.calls))return[];const _=new Date,T=new Date(_.getTime()-parseInt(i)*24*60*60*1e3),P=g.calls.filter(O=>new Date(O.fecha)>=T),N={};return P.forEach(O=>{const D=new Date(O.fecha).toLocaleDateString("es-ES");N[D]||(N[D]={date:D,total:0,successful:0,failed:0,duration:0}),N[D].total++,O.exitosa?N[D].successful++:N[D].failed++,N[D].duration+=O.duracion||0}),Object.values(N).sort((O,D)=>new Date(O.date)-new Date(D.date))},x=()=>{if(!(g!=null&&g.calls))return[];let _=[...g.calls];if(o){const T=o.toLowerCase();_=_.filter(P=>{var N,O;return((N=P.beneficiario)==null?void 0:N.toLowerCase().includes(T))||((O=P.observaciones)==null?void 0:O.toLowerCase().includes(T))})}return c==="successful"?_=_.filter(T=>T.exitosa):c==="failed"&&(_=_.filter(T=>!T.exitosa)),_.sort((T,P)=>new Date(P.fecha)-new Date(T.fecha))},b=y(),E=x(),k=_=>{const T=Math.floor(_/60),P=Math.round(_%60);return T>0?`${T}h ${P}m`:`${P}m`},C=_=>`${Math.round(_*100)/100}%`,S=({title:_,value:T,subtitle:P,icon:N,color:O="blue",progress:D})=>d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs(Ut,{children:[d.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(zt,{className:"text-sm font-medium",children:_}),d.jsx(N,{className:`h-4 w-4 text-${O}-600`})]}),d.jsxs(Wt,{children:[d.jsx("div",{className:"text-2xl font-bold",children:T}),P&&d.jsx("p",{className:"text-xs text-muted-foreground",children:P}),D!==void 0&&d.jsx(ey,{value:D,className:"mt-2"})]})]})});return n.teleoperadoras?d.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-2",children:"Cargando datos de teleoperadora..."})]}):h?d.jsxs("div",{className:"space-y-6",children:[d.jsx(Ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:g.nombreOriginal}),p&&d.jsx(Ai,{variant:"outline",className:"text-orange-600 border-orange-200",children:"Modo Demo"})]}),d.jsx("p",{className:"text-muted-foreground",children:p?"Mostrando datos simulados - Inicialice la base de datos para datos reales":"Dashboard individual de teleoperadora"}),g.lastUpdated&&d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["ltima actualizacin: ",new Date(g.lastUpdated).toLocaleString("es-ES")]})]}),d.jsxs(Ai,{variant:g.successRate>=80?"success":g.successRate>=60?"warning":"danger",children:[C(g.successRate)," de xito"]})]})}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[d.jsx(S,{title:"Total de Llamadas",value:g.totalCalls.toLocaleString(),subtitle:"Llamadas realizadas",icon:pC,color:"blue"}),d.jsx(S,{title:"Llamadas Exitosas",value:g.successfulCalls.toLocaleString(),subtitle:`${C(g.successRate)} de xito`,icon:Vr,color:"green",progress:g.successRate}),d.jsx(S,{title:"Tiempo Total",value:k(g.totalDuration),subtitle:`Promedio: ${k(g.averageDuration)}`,icon:na,color:"purple"}),d.jsx(S,{title:"Beneficiarios Atendidos",value:v.length,subtitle:"Clientes nicos",icon:oa,color:"orange"})]}),d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:d.jsxs(Ut,{children:[d.jsx(Vt,{children:d.jsx(zt,{children:"Filtros y Perodo"})}),d.jsx(Wt,{children:d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Ka,{className:"h-4 w-4"}),d.jsxs("select",{value:i,onChange:_=>s(_.target.value),className:"border rounded px-3 py-1 text-sm",children:[d.jsx("option",{value:"7",children:"ltimos 7 das"}),d.jsx("option",{value:"15",children:"ltimos 15 das"}),d.jsx("option",{value:"30",children:"ltimos 30 das"}),d.jsx("option",{value:"90",children:"ltimos 3 meses"})]})]}),d.jsxs("div",{className:"flex items-center space-x-2 flex-1 max-w-md",children:[d.jsx(oi,{className:"h-4 w-4"}),d.jsx("input",{type:"text",placeholder:"Buscar beneficiario o observaciones...",value:o,onChange:_=>l(_.target.value),className:"border rounded px-3 py-1 text-sm w-full"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(sy,{className:"h-4 w-4"}),d.jsxs("select",{value:c,onChange:_=>u(_.target.value),className:"border rounded px-3 py-1 text-sm",children:[d.jsx("option",{value:"all",children:"Todas las llamadas"}),d.jsx("option",{value:"successful",children:"Solo exitosas"}),d.jsx("option",{value:"failed",children:"Solo fallidas"})]})]})]})})]})}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsx(Ne.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Evolucin de Llamadas"}),d.jsxs(Ln,{children:["Progreso diario en los ltimos ",i," das"]})]}),d.jsx(Wt,{children:d.jsx(Xl,{width:"100%",height:300,children:d.jsxs(Jlt,{data:b,children:[d.jsx(Pu,{strokeDasharray:"3 3"}),d.jsx(Iu,{dataKey:"date"}),d.jsx(Ou,{}),d.jsx(Yl,{}),d.jsx(jS,{}),d.jsx(DN,{type:"monotone",dataKey:"successful",stackId:"1",stroke:"#10b981",fill:"#10b981",fillOpacity:.8,name:"Exitosas"}),d.jsx(DN,{type:"monotone",dataKey:"failed",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.8,name:"Fallidas"})]})})})]})}),d.jsx(Ne.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Duracin de Llamadas"}),d.jsx(Ln,{children:"Tiempo total por da (minutos)"})]}),d.jsx(Wt,{children:d.jsx(Xl,{width:"100%",height:300,children:d.jsxs(A_,{data:b,children:[d.jsx(Pu,{strokeDasharray:"3 3"}),d.jsx(Iu,{dataKey:"date"}),d.jsx(Ou,{}),d.jsx(Yl,{}),d.jsx(Zv,{dataKey:"duration",fill:"#8b5cf6"})]})})})]})})]}),d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Historial de Llamadas"}),d.jsxs(Ln,{children:[E.length," llamadas ",c==="all"?"":c==="successful"?"exitosas":"fallidas",o&&` con "${o}"`]})]}),d.jsx(Wt,{children:d.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[E.slice(0,50).map((_,T)=>d.jsx(Ne.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:T*.05},className:`border rounded-lg p-4 ${_.exitosa?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx("h4",{className:"font-medium",children:_.beneficiario}),d.jsx(Ai,{variant:_.exitosa?"success":"danger",children:_.exitosa?"Exitosa":"Fallida"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Fecha y hora:"}),d.jsx("p",{children:new Date(_.fecha).toLocaleString("es-ES")})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Duracin:"}),d.jsx("p",{children:k(_.duracion||0)})]})]}),_.observaciones&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-muted-foreground text-sm",children:"Observaciones:"}),d.jsx("p",{className:"text-sm",children:_.observaciones})]})]}),d.jsx("div",{className:"flex items-center space-x-2",children:_.exitosa?d.jsx(Vr,{className:"h-5 w-5 text-green-600"}):d.jsx(xf,{className:"h-5 w-5 text-red-600"})})]})},_.id||T)),E.length===0&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx(pC,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"No hay llamadas que coincidan con los filtros"})]}),E.length>50&&d.jsx("div",{className:"text-center py-4",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando primeras 50 de ",E.length," llamadas"]})})]})})]})}),d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},children:d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Beneficiarios Atendidos"}),d.jsx(Ln,{children:"Lista de beneficiarios con sus respectivos estados"})]}),d.jsx(Wt,{children:d.jsxs("div",{className:"grid gap-3 max-h-64 overflow-y-auto",children:[v.slice(0,20).map((_,T)=>d.jsxs(Ne.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:T*.05},className:"flex items-center justify-between p-3 border rounded-lg",children:[d.jsxs("div",{children:[d.jsx("p",{className:"font-medium",children:_.nombreOriginal}),d.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.totalCalls," llamadas  ltima: ",_.lastCall?new Date(_.lastCall).toLocaleDateString("es-ES"):"Nunca"]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx(Ai,{variant:_.status==="Al da"?"success":_.status==="Pendiente"?"warning":"danger",children:_.status}),d.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[C(_.successRate)," xito"]})]})]},_.id)),v.length>20&&d.jsx("div",{className:"text-center py-2",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando primeros 20 de ",v.length," beneficiarios"]})})]})})]})})]}):d.jsx("div",{className:"flex items-center justify-center min-h-64",children:d.jsxs("div",{className:"text-center",children:[d.jsx(oa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Teleoperadora no encontrada"}),d.jsx("p",{className:"text-gray-500",children:"No se encontraron datos para esta teleoperadora"})]})})}const rct={"Al da":"#10b981",Pendiente:"#f59e0b",Urgente:"#ef4444"};function nct({beneficiaryId:e}){var C,S,_,T,P;const{getBeneficiaryMetrics:t,beneficiariosMetrics:r,searchBeneficiaries:n,getBeneficiariesByStatus:a,loading:i,errors:s}=OE(),[o,l]=A.useState(""),[c,u]=A.useState("all"),[f,h]=A.useState(null);A.useEffect(()=>{if(e){const N=t(e);h(N)}},[e,t]);const m=()=>{let N=Object.values(r);return o&&(N=n(o)),c!=="all"&&(N=N.filter(O=>O.status===c)),N.sort((O,D)=>{if(O.status!==D.status){const ne={Urgente:3,Pendiente:2,"Al da":1};return ne[D.status]-ne[O.status]}const X=O.lastCall?new Date(O.lastCall):new Date(0);return(D.lastCall?new Date(D.lastCall):new Date(0))-X})},p=N=>{if(!(N!=null&&N.calls))return{timelineData:[],operatorData:[]};const O=N.calls.slice(-10).map((te,ne)=>({index:ne+1,fecha:new Date(te.fecha).toLocaleDateString("es-ES"),exitosa:te.exitosa?1:0,duracion:te.duracion||0,teleoperadora:te.teleoperadora})),D={};N.calls.forEach(te=>{const ne=te.teleoperadora||"Sin asignar";D[ne]||(D[ne]={name:ne,total:0,exitosas:0}),D[ne].total++,te.exitosa&&D[ne].exitosas++});const X=Object.values(D).map(te=>({...te,successRate:te.total>0?te.exitosas/te.total*100:0}));return{timelineData:O,operatorData:X}},g=()=>{const N=Object.values(r),O=N.reduce((ne,Q)=>(ne[Q.status]=(ne[Q.status]||0)+1,ne),{}),D=Object.entries(O).map(([ne,Q])=>({name:ne,value:Q,color:rct[ne]||"#8884d8"})),X={};N.forEach(ne=>{var Q;(Q=ne.calls)==null||Q.forEach(z=>{const j=new Date(z.fecha).toLocaleDateString("es-ES",{weekday:"long"});X[j]=(X[j]||0)+1})});const te=Object.entries(X).map(([ne,Q])=>({day:ne,llamadas:Q}));return{statusData:D,dayData:te}},v=m(),{statusData:y,dayData:x}=g(),b=N=>{const O=Math.floor(N/60),D=Math.round(N%60);return O>0?`${O}h ${D}m`:`${D}m`},E=N=>`${Math.round(N*100)/100}%`,k=N=>{switch(N){case"Al da":return d.jsx(Vr,{className:"h-4 w-4"});case"Pendiente":return d.jsx(na,{className:"h-4 w-4"});case"Urgente":return d.jsx(li,{className:"h-4 w-4"});default:return d.jsx(oa,{className:"h-4 w-4"})}};if(i.beneficiarios)return d.jsxs("div",{className:"flex items-center justify-center min-h-64",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),d.jsx("span",{className:"ml-2",children:"Cargando datos de beneficiarios..."})]});if(f){const{timelineData:N,operatorData:O}=p(f);return d.jsxs("div",{className:"space-y-6",children:[d.jsx(Ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("button",{onClick:()=>h(null),className:"text-blue-600 hover:text-blue-800 mb-2 flex items-center",children:" Volver a la lista"}),d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:f.nombreOriginal}),d.jsx("p",{className:"text-muted-foreground",children:"Historial detallado del beneficiario"})]}),d.jsxs(Ai,{variant:f.status==="Al da"?"success":f.status==="Pendiente"?"warning":"danger",className:"text-lg px-4 py-2",children:[k(f.status),d.jsx("span",{className:"ml-2",children:f.status})]})]})}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[d.jsxs(Ut,{children:[d.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(zt,{className:"text-sm font-medium",children:"Total de Llamadas"}),d.jsx(Lr,{className:"h-4 w-4 text-blue-600"})]}),d.jsxs(Wt,{children:[d.jsx("div",{className:"text-2xl font-bold",children:f.totalCalls}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.successfulCalls," exitosas"]})]})]}),d.jsxs(Ut,{children:[d.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(zt,{className:"text-sm font-medium",children:"Tasa de xito"}),d.jsx(_f,{className:"h-4 w-4 text-green-600"})]}),d.jsxs(Wt,{children:[d.jsx("div",{className:"text-2xl font-bold",children:E(f.successRate)}),d.jsx(ey,{value:f.successRate,className:"mt-2"})]})]}),d.jsxs(Ut,{children:[d.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(zt,{className:"text-sm font-medium",children:"ltima Llamada"}),d.jsx(Ka,{className:"h-4 w-4 text-purple-600"})]}),d.jsxs(Wt,{children:[d.jsx("div",{className:"text-lg font-bold",children:f.lastCall?new Date(f.lastCall).toLocaleDateString("es-ES"):"Nunca"}),d.jsxs("p",{className:"text-xs text-muted-foreground",children:["Exitosa: ",f.lastSuccessfulCall?new Date(f.lastSuccessfulCall).toLocaleDateString("es-ES"):"Nunca"]})]})]}),d.jsxs(Ut,{children:[d.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(zt,{className:"text-sm font-medium",children:"Telfonos"}),d.jsx(Lr,{className:"h-4 w-4 text-orange-600"})]}),d.jsxs(Wt,{children:[d.jsx("div",{className:"text-lg font-bold",children:((C=f.telefonos)==null?void 0:C.length)||0}),d.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[(S=f.telefonos)==null?void 0:S.slice(0,2).map((D,X)=>d.jsx("div",{children:D},X)),((_=f.telefonos)==null?void 0:_.length)>2&&d.jsxs("div",{children:["+",f.telefonos.length-2," ms"]})]})]})]})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"ltimas Llamadas"}),d.jsx(Ln,{children:"Historial reciente de contactos"})]}),d.jsx(Wt,{children:d.jsx(Xl,{width:"100%",height:300,children:d.jsxs(Are,{data:N,children:[d.jsx(Pu,{strokeDasharray:"3 3"}),d.jsx(Iu,{dataKey:"fecha"}),d.jsx(Ou,{}),d.jsx(Yl,{}),d.jsx(t4,{type:"monotone",dataKey:"exitosa",stroke:"#10b981",strokeWidth:2,name:"xito"})]})})})]}),d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Teleoperadoras"}),d.jsx(Ln,{children:"Rendimiento por operadora"})]}),d.jsx(Wt,{children:d.jsx(Xl,{width:"100%",height:300,children:d.jsxs(A_,{data:O,children:[d.jsx(Pu,{strokeDasharray:"3 3"}),d.jsx(Iu,{dataKey:"name"}),d.jsx(Ou,{}),d.jsx(Yl,{}),d.jsx(Zv,{dataKey:"successRate",fill:"#3b82f6",name:"% xito"})]})})})]})]}),d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Historial Completo de Llamadas"}),d.jsxs(Ln,{children:[((T=f.calls)==null?void 0:T.length)||0," llamadas registradas"]})]}),d.jsx(Wt,{children:d.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:(P=f.calls)==null?void 0:P.map((D,X)=>d.jsx(Ne.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:X*.05},className:`border rounded-lg p-4 ${D.exitosa?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[d.jsx(Ai,{variant:D.exitosa?"success":"danger",children:D.exitosa?"Exitosa":"Fallida"}),d.jsx("span",{className:"text-sm text-muted-foreground",children:D.teleoperadora||"Sin asignar"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Fecha:"}),d.jsx("p",{children:new Date(D.fecha).toLocaleString("es-ES")})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Duracin:"}),d.jsx("p",{children:b(D.duracion||0)})]})]}),D.observaciones&&d.jsxs("div",{className:"mt-2",children:[d.jsx("p",{className:"text-muted-foreground text-sm",children:"Observaciones:"}),d.jsx("p",{className:"text-sm",children:D.observaciones})]})]}),D.exitosa?d.jsx(Vr,{className:"h-5 w-5 text-green-600"}):d.jsx(xf,{className:"h-5 w-5 text-red-600"})]})},X))})})]})]})}return d.jsxs("div",{className:"space-y-6",children:[d.jsxs(Ne.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard de Beneficiarios"}),d.jsx("p",{className:"text-muted-foreground",children:"Gestin y seguimiento de beneficiarios del sistema"})]}),d.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[d.jsxs(Ut,{children:[d.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(zt,{className:"text-sm font-medium",children:"Total Beneficiarios"}),d.jsx(mn,{className:"h-4 w-4 text-blue-600"})]}),d.jsxs(Wt,{children:[d.jsx("div",{className:"text-2xl font-bold",children:Object.keys(r).length}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Registrados en el sistema"})]})]}),d.jsxs(Ut,{children:[d.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(zt,{className:"text-sm font-medium",children:"Urgentes"}),d.jsx(li,{className:"h-4 w-4 text-red-600"})]}),d.jsxs(Wt,{children:[d.jsx("div",{className:"text-2xl font-bold text-red-600",children:a("Urgente").length}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Requieren atencin inmediata"})]})]}),d.jsxs(Ut,{children:[d.jsxs(Vt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[d.jsx(zt,{className:"text-sm font-medium",children:"Al Da"}),d.jsx(Vr,{className:"h-4 w-4 text-green-600"})]}),d.jsxs(Wt,{children:[d.jsx("div",{className:"text-2xl font-bold text-green-600",children:a("Al da").length}),d.jsx("p",{className:"text-xs text-muted-foreground",children:"Contactados recientemente"})]})]})]}),d.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Distribucin por Estado"}),d.jsx(Ln,{children:"Estado actual de los beneficiarios"})]}),d.jsx(Wt,{children:d.jsx(Xl,{width:"100%",height:300,children:d.jsxs(Cre,{children:[d.jsx(KR,{data:y,cx:"50%",cy:"50%",labelLine:!1,label:({name:N,percent:O})=>`${N} ${(O*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:y.map((N,O)=>d.jsx(ep,{fill:N.color},`cell-${O}`))}),d.jsx(Yl,{})]})})})]}),d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Actividad por Da"}),d.jsx(Ln,{children:"Llamadas realizadas por da de la semana"})]}),d.jsx(Wt,{children:d.jsx(Xl,{width:"100%",height:300,children:d.jsxs(A_,{data:x,children:[d.jsx(Pu,{strokeDasharray:"3 3"}),d.jsx(Iu,{dataKey:"day"}),d.jsx(Ou,{}),d.jsx(Yl,{}),d.jsx(Zv,{dataKey:"llamadas",fill:"#3b82f6"})]})})})]})]}),d.jsxs(Ut,{children:[d.jsx(Vt,{children:d.jsx(zt,{children:"Buscar Beneficiarios"})}),d.jsx(Wt,{children:d.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[d.jsxs("div",{className:"flex items-center space-x-2 flex-1 max-w-md",children:[d.jsx(oi,{className:"h-4 w-4"}),d.jsx("input",{type:"text",placeholder:"Buscar por nombre o telfono...",value:o,onChange:N=>l(N.target.value),className:"border rounded px-3 py-2 text-sm w-full"})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(sy,{className:"h-4 w-4"}),d.jsxs("select",{value:c,onChange:N=>u(N.target.value),className:"border rounded px-3 py-2 text-sm",children:[d.jsx("option",{value:"all",children:"Todos los estados"}),d.jsx("option",{value:"Al da",children:"Al da"}),d.jsx("option",{value:"Pendiente",children:"Pendiente"}),d.jsx("option",{value:"Urgente",children:"Urgente"})]})]})]})})]}),d.jsxs(Ut,{children:[d.jsxs(Vt,{children:[d.jsx(zt,{children:"Lista de Beneficiarios"}),d.jsxs(Ln,{children:[v.length," beneficiarios encontrados"]})]}),d.jsx(Wt,{children:d.jsxs("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[v.slice(0,50).map((N,O)=>{var D;return d.jsx(Ne.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:O*.02},className:"border rounded-lg p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>h(N),children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[d.jsx("h4",{className:"font-medium",children:N.nombreOriginal}),d.jsxs(Ai,{variant:N.status==="Al da"?"success":N.status==="Pendiente"?"warning":"danger",children:[k(N.status),d.jsx("span",{className:"ml-1",children:N.status})]})]}),d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Llamadas:"}),d.jsxs("p",{children:[N.totalCalls," (",N.successfulCalls," exitosas)"]})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Tasa de xito:"}),d.jsx("p",{children:E(N.successRate)})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"ltima llamada:"}),d.jsx("p",{children:N.lastCall?new Date(N.lastCall).toLocaleDateString("es-ES"):"Nunca"})]}),d.jsxs("div",{children:[d.jsx("p",{className:"text-muted-foreground",children:"Telfonos:"}),d.jsxs("p",{children:[((D=N.telefonos)==null?void 0:D.length)||0," registrados"]})]})]})]}),d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(ey,{value:N.successRate,className:"w-20 h-2"}),d.jsx("span",{className:"text-xs text-muted-foreground",children:E(N.successRate)})]})]})},N.id)}),v.length===0&&d.jsxs("div",{className:"text-center py-8",children:[d.jsx(oa,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500",children:"No hay beneficiarios que coincidan con los filtros"})]}),v.length>50&&d.jsx("div",{className:"text-center py-4",children:d.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mostrando primeros 50 de ",v.length," beneficiarios"]})})]})})]})]})}const act=()=>{const[e,t]=A.useState(!0),[r,n]=A.useState(!0),{globalMetrics:a,teleoperadorasMetrics:i,beneficiariosMetrics:s,noAsignadosMetrics:o,loading:l,errors:c}=OE(),u=GD();A.useEffect(()=>{const h=setTimeout(()=>{t(!1);const m=a&&a.totalCalls>0&&!c.global;n(!m),console.log(m?" Datos reales cargados correctamente":" Sistema iniciado en modo demo - datos de fallback activos")},800);return()=>clearTimeout(h)},[a,c.global]);const f=r||!a?{globalMetrics:u.globalMetrics,teleoperadorasMetrics:u.teleoperadoraMetrics,beneficiariesMetrics:u.beneficiaryMetrics,noAsignadosMetrics:u.noAsignadosMetrics||null}:{globalMetrics:a,teleoperadorasMetrics:i,beneficiariesMetrics:s,noAsignadosMetrics:o};return{loading:e,isUsingFallback:r,hasRealData:!r,...f,loadingStates:{global:e,teleoperadoras:e,beneficiarios:e,noAsignados:e},errors:r?{global:null,teleoperadoras:null,beneficiarios:null,noAsignados:null}:c,getSummaryStats:()=>u.getSummaryStats(),getTopOperators:(h=5)=>u.getTopOperators(h),getBeneficiariesByStatus:h=>u.getBeneficiariesByStatus(h),getTeleoperadoraMetrics:h=>u.getTeleoperadoraMetrics(h),getBeneficiariesByOperator:h=>u.getBeneficiariesByOperator(h)}};function ict(){var u;const[e,t]=A.useState("global"),{loading:r,isUsingFallback:n,getSummaryStats:a,getTopOperators:i}=act();if(r)return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:d.jsxs(Ne.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-xl p-8 text-center max-w-md",children:[d.jsx(Ne.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full mx-auto mb-4"}),d.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Inicializando Sistema de Mtricas"}),d.jsx("p",{className:"text-gray-600",children:"Cargando dashboards y verificando conexin..."}),d.jsx("div",{className:"mt-4 text-sm text-gray-500",children:"Esto solo tomar unos segundos"})]})});const s=a(),o=i(10),l=[{id:"global",label:"Dashboard Global",description:"Mtricas generales del sistema",icon:Os,component:BU},{id:"teleoperadoras",label:"Teleoperadoras",description:"Anlisis por teleoperadora",icon:mn,component:tct,badge:n?"4":(o==null?void 0:o.length)||"0"},{id:"beneficiarios",label:"Beneficiarios",description:"Gestin de beneficiarios",icon:Wse,component:nct,badge:n?"85":(s==null?void 0:s.uniqueBeneficiaries)||"0"}],c=((u=l.find(f=>f.id===e))==null?void 0:u.component)||BU;return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[d.jsx("div",{className:"bg-white shadow-sm border-b",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsxs("div",{className:"flex justify-between items-center py-4",children:[d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx(Os,{className:"h-8 w-8 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Sistema de Mtricas"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Dashboard avanzado para anlisis de llamadas"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3",children:[n?d.jsxs("div",{className:"flex items-center space-x-2 bg-amber-100 text-amber-800 px-3 py-1.5 rounded-full text-sm font-medium",children:[d.jsx("div",{className:"w-2 h-2 bg-amber-500 rounded-full animate-pulse"}),d.jsx("span",{children:"Modo Demo"})]}):d.jsxs("div",{className:"flex items-center space-x-2 bg-green-100 text-green-800 px-3 py-1.5 rounded-full text-sm font-medium",children:[d.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),d.jsx("span",{children:"Datos en Tiempo Real"})]}),d.jsx("button",{onClick:()=>t("config"),className:`p-2 rounded-lg transition-colors ${e==="config"?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"}`,children:d.jsx(wf,{className:"h-5 w-5"})})]})]})})}),d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:d.jsxs("div",{className:"flex gap-6",children:[d.jsxs("div",{className:"w-64 space-y-2",children:[l.map(f=>{const h=f.icon,m=e===f.id;return d.jsx(Ne.button,{onClick:()=>t(f.id),whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full text-left p-4 rounded-xl transition-all duration-200 ${m?"bg-blue-600 text-white shadow-lg shadow-blue-600/25":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(h,{className:`h-5 w-5 ${m?"text-white":"text-gray-500"}`}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:f.label}),d.jsx("div",{className:`text-sm ${m?"text-blue-100":"text-gray-500"}`,children:f.description})]})]}),f.badge&&d.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${m?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"}`,children:f.badge})]})},f.id)}),d.jsx(Ne.button,{onClick:()=>t("config"),whileHover:{scale:1.02},whileTap:{scale:.98},className:`w-full text-left p-4 rounded-xl transition-all duration-200 ${e==="config"?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/25":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(wf,{className:`h-5 w-5 ${e==="config"?"text-white":"text-gray-500"}`}),d.jsxs("div",{children:[d.jsx("div",{className:"font-medium",children:"Configuracin"}),d.jsx("div",{className:`text-sm ${e==="config"?"text-indigo-100":"text-gray-500"}`,children:"Herramientas del sistema"})]})]})})]}),d.jsx("div",{className:"flex-1",children:d.jsx(ss,{mode:"wait",children:d.jsx(Ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e==="config"?d.jsx(bY,{}):d.jsx(c,{})},e)})})]})})]})}function sct(){const[e,t]=A.useState("teleasistencia"),r=[{id:"teleasistencia",name:"Central Teleoperadores",description:"Sistema principal de gestin",icon:rse,component:pQ},{id:"metrics",name:"Sistema de Mtricas",description:"Dashboard de anlisis automatizado",icon:Os,component:ict,badge:"Beta"}],n=r.find(i=>i.id===e),a=n==null?void 0:n.component;return d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx("div",{className:"bg-white border-b border-gray-200 px-4 py-3",children:d.jsxs("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[d.jsxs("div",{className:"flex items-center space-x-6",children:[d.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Central Teleoperadores"}),d.jsx("div",{className:"flex space-x-1",children:r.map(i=>{const s=i.icon,o=e===i.id;return d.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o?"bg-blue-100 text-blue-700 border border-blue-200":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[d.jsx(s,{className:"h-4 w-4"}),d.jsx("span",{children:i.name}),i.badge&&d.jsx(Ai,{variant:"secondary",className:"text-xs",children:i.badge})]},i.id)})})]}),d.jsx("div",{className:"text-sm text-gray-500",children:n==null?void 0:n.description})]})}),d.jsx("div",{className:"w-full",children:a&&d.jsx(a,{})})]})}const oct=()=>{const[e,t]=A.useState(!0),[r,n]=A.useState(!1),[a,i]=A.useState({email:"",password:"",confirmPassword:"",displayName:""}),[s,o]=A.useState(!1),{login:l,register:c,error:u,clearError:f}=ds(),h=v=>{const{name:y,value:x}=v.target;i(b=>({...b,[y]:x})),f()},m=async v=>{v.preventDefault(),o(!0);try{if(e)await l(a.email,a.password);else{if(a.password!==a.confirmPassword)throw new Error("Las contraseas no coinciden");if(a.password.length<6)throw new Error("La contrasea debe tener al menos 6 caracteres");if(!a.displayName.trim())throw new Error("El nombre es requerido");await c(a.email,a.password,a.displayName)}}catch(y){console.error("Error en autenticacin:",y)}finally{o(!1)}},p=()=>{t(!e),i({email:"",password:"",confirmPassword:"",displayName:""}),f()},g=v=>v?v.includes("user-not-found")?"Usuario no encontrado":v.includes("wrong-password")?"Contrasea incorrecta":v.includes("email-already-in-use")?"Este email ya est registrado":v.includes("weak-password")?"La contrasea es muy dbil":v.includes("invalid-email")?"Email invlido":v.includes("too-many-requests")?"Demasiados intentos. Intenta ms tarde":v:"";return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Lr,{className:"w-8 h-8 text-blue-600"})}),d.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Mistatas - Seguimiento de llamadas"}),d.jsx("p",{className:"text-gray-600",children:e?"Inicia sesin en tu cuenta":"Crea tu cuenta nueva"})]}),u&&d.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[d.jsx(yn,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-800 text-sm font-medium",children:"Error de autenticacin"}),d.jsx("p",{className:"text-red-600 text-sm mt-1",children:g(u)})]})]}),d.jsxs("form",{onSubmit:m,className:"space-y-6",children:[!e&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre completo"}),d.jsxs("div",{className:"relative",children:[d.jsx(oa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"text",name:"displayName",value:a.displayName,onChange:h,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tu nombre completo",required:!e})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electrnico"}),d.jsxs("div",{className:"relative",children:[d.jsx(RP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:"email",name:"email",value:a.email,onChange:h,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tu@email.com",required:!0})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea"}),d.jsxs("div",{className:"relative",children:[d.jsx(mC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:r?"text":"password",name:"password",value:a.password,onChange:h,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0}),d.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:r?d.jsx(a7,{className:"w-5 h-5"}):d.jsx(jP,{className:"w-5 h-5"})})]})]}),!e&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar contrasea"}),d.jsxs("div",{className:"relative",children:[d.jsx(mC,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),d.jsx("input",{type:r?"text":"password",name:"confirmPassword",value:a.confirmPassword,onChange:h,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!e})]})]}),d.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200 flex items-center justify-center gap-2",children:s?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),e?"Iniciando sesin...":"Creando cuenta..."]}):d.jsx(d.Fragment,{children:e?"Iniciar Sesin":"Crear Cuenta"})})]}),d.jsxs("div",{className:"mt-8 text-center",children:[d.jsx("p",{className:"text-gray-600",children:e?"No tienes cuenta?":"Ya tienes cuenta?"}),d.jsx("button",{onClick:p,className:"mt-2 text-blue-600 hover:text-blue-700 font-medium transition-colors",children:e?"Crear cuenta nueva":"Iniciar sesin"})]}),d.jsx("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Vr,{className:"w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-800 text-sm font-medium",children:"Seguridad garantizada"}),d.jsx("p",{className:"text-gray-600 text-xs mt-1",children:"Tus datos estn protegidos con encriptacin de nivel empresarial mediante Firebase Authentication."})]})]})})]})})},lct=()=>d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"bg-white rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6 shadow-lg",children:d.jsx(Lr,{className:"w-10 h-10 text-blue-600 animate-pulse"})}),d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Mistatas - Seguimiento de llamadas"}),d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce"}),d.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),d.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),d.jsx("p",{className:"text-gray-600 mt-4",children:"Verificando autenticacin..."})]})}),cct=localStorage.getItem("showMetricsApp")==="true"||window.location.search.includes("metrics=true"),uct=()=>{const{user:e,loading:t}=ds();return t?d.jsx(lct,{}):e?cct?d.jsx(sct,{}):d.jsx(pQ,{}):d.jsx(oct,{})};yA.createRoot(document.getElementById("root")).render(d.jsx(se.StrictMode,{children:d.jsx(rTe,{children:d.jsx(uct,{})})}));export{xc as _,Zt as a,Ls as b,De as c,ct as d,gt as e,Bt as f,ml as g,Lf as h,ts as i,Ds as j,cn as k,Bd as l,Tt as q,at as s,St as w};
